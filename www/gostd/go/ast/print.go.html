<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/ast</h2>
<ul>
<li><a href="/gostd/go/ast/ast.go.html">ast.go</a></li>
<li><a href="/gostd/go/ast/ast_test.go.html">ast_test.go</a></li>
<li><a href="/gostd/go/ast/commentmap.go.html">commentmap.go</a></li>
<li><a href="/gostd/go/ast/commentmap_test.go.html">commentmap_test.go</a></li>
<li><a href="/gostd/go/ast/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/ast/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/ast/filter_test.go.html">filter_test.go</a></li>
<li><a href="/gostd/go/ast/import.go.html">import.go</a></li>
<li><a href="/gostd/go/ast/print.go.html" class="current">print.go</a></li>
<li><a href="/gostd/go/ast/print_test.go.html">print_test.go</a></li>
<li><a href="/gostd/go/ast/resolve.go.html">resolve.go</a></li>
<li><a href="/gostd/go/ast/scope.go.html">scope.go</a></li>
<li><a href="/gostd/go/ast/walk.go.html">walk.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3851721">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3851776">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3851830">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3851881">//&nbsp;This&nbsp;file&nbsp;contains&nbsp;printing&nbsp;support&nbsp;for&nbsp;ASTs.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3851931">package</span>&nbsp;<span class="ident" id="3851939">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3851944">import</span>&nbsp;<span class="op" id="3851951">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3851954">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3851961">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3851973">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3851979">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3851985">&#34;reflect&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3851995">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3851998">//&nbsp;A&nbsp;FieldFilter&nbsp;may&nbsp;be&nbsp;provided&nbsp;to&nbsp;Fprint&nbsp;to&nbsp;control&nbsp;the&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="3852064">type</span>&nbsp;<span class="ident" id="3852069">FieldFilter</span>&nbsp;<span class="keyword" id="3852081">func</span><span class="op" id="3852085">(</span><span class="ident" id="3852086">name</span>&nbsp;<span class="builtintype" id="3852091">string</span><span class="op" id="3852097">,</span>&nbsp;<span class="ident" id="3852099">value</span>&nbsp;<span class="ident" id="3852105"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852112">.</span><span class="ident" id="3852113"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3852118">)</span>&nbsp;<span class="builtintype" id="3852120">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="3852126">//&nbsp;NotNilFilter&nbsp;returns&nbsp;true&nbsp;for&nbsp;field&nbsp;values&nbsp;that&nbsp;are&nbsp;not&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="3852190">//&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3852221">func</span>&nbsp;<span class="ident" id="3852226">NotNilFilter</span><span class="op" id="3852238">(</span><span class="ident" id="3852239">_</span>&nbsp;<span class="builtintype" id="3852241">string</span><span class="op" id="3852247">,</span>&nbsp;<span class="ident" id="3852249">v</span>&nbsp;<span class="ident" id="3852251"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852258">.</span><span class="ident" id="3852259"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3852264">)</span>&nbsp;<span class="builtintype" id="3852266">bool</span>&nbsp;<span class="op" id="3852271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3852274">switch</span>&nbsp;<span class="ident" id="3852281"><a href="/gostd/go/ast/print.go.html#3852249">v</a></span><span class="op" id="3852282">.</span><span class="ident" id="3852283"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3852287">(</span><span class="op" id="3852288">)</span>&nbsp;<span class="op" id="3852290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3852293">case</span>&nbsp;<span class="ident" id="3852298"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852305">.</span><span class="ident" id="3852306"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="3852310">,</span>&nbsp;<span class="ident" id="3852312"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852319">.</span><span class="ident" id="3852320"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span><span class="op" id="3852324">,</span>&nbsp;<span class="ident" id="3852326"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852333">.</span><span class="ident" id="3852334"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span><span class="op" id="3852343">,</span>&nbsp;<span class="ident" id="3852345"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852352">.</span><span class="ident" id="3852353"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="3852356">,</span>&nbsp;<span class="ident" id="3852358"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852365">.</span><span class="ident" id="3852366"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="3852369">,</span>&nbsp;<span class="ident" id="3852371"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3852378">.</span><span class="ident" id="3852379"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="3852384">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3852388">return</span>&nbsp;<span class="op" id="3852395">!</span><span class="ident" id="3852396"><a href="/gostd/go/ast/print.go.html#3852249">v</a></span><span class="op" id="3852397">.</span><span class="ident" id="3852398"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="3852403">(</span><span class="op" id="3852404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3852407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3852410">return</span>&nbsp;<span class="builtintype" id="3852417">true</span><br>
<span class="lineno"></span><span class="op" id="3852422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3852425">//&nbsp;Fprint&nbsp;prints&nbsp;the&nbsp;(sub-)tree&nbsp;starting&nbsp;at&nbsp;AST&nbsp;node&nbsp;x&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="3852486">//&nbsp;If&nbsp;fset&nbsp;!=&nbsp;nil,&nbsp;position&nbsp;information&nbsp;is&nbsp;interpreted&nbsp;relative</span><br>
<span class="lineno"></span><span class="comment" id="3852550">//&nbsp;to&nbsp;that&nbsp;file&nbsp;set.&nbsp;Otherwise&nbsp;positions&nbsp;are&nbsp;printed&nbsp;as&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="3852614">//&nbsp;values&nbsp;(file&nbsp;set&nbsp;specific&nbsp;offsets).</span><br>
<span class="lineno"></span><span class="comment" id="3852653">//</span><br>
<span class="lineno">35</span><span class="comment" id="3852656">//&nbsp;A&nbsp;non-nil&nbsp;FieldFilter&nbsp;f&nbsp;may&nbsp;be&nbsp;provided&nbsp;to&nbsp;control&nbsp;the&nbsp;output:</span><br>
<span class="lineno"></span><span class="comment" id="3852722">//&nbsp;struct&nbsp;fields&nbsp;for&nbsp;which&nbsp;f(fieldname,&nbsp;fieldvalue)&nbsp;is&nbsp;true&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="3852786">//&nbsp;printed;&nbsp;all&nbsp;others&nbsp;are&nbsp;filtered&nbsp;from&nbsp;the&nbsp;output.&nbsp;Unexported</span><br>
<span class="lineno"></span><span class="comment" id="3852850">//&nbsp;struct&nbsp;fields&nbsp;are&nbsp;never&nbsp;printed.</span><br>
<span class="lineno"></span><span class="comment" id="3852886">//</span><br>
<span class="lineno">40</span><span class="keyword" id="3852889">func</span>&nbsp;<span class="ident" id="3852894">Fprint</span><span class="op" id="3852900">(</span><span class="ident" id="3852901">w</span>&nbsp;<span class="ident" id="3852903"><a href="/gostd/go/ast/print.go.html#3851973">io</a></span><span class="op" id="3852905">.</span><span class="ident" id="3852906"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="3852912">,</span>&nbsp;<span class="ident" id="3852914">fset</span>&nbsp;<span class="op" id="3852919">*</span><span class="ident" id="3852920"><a href="/gostd/go/ast/print.go.html#3851961">token</a></span><span class="op" id="3852925">.</span><span class="ident" id="3852926"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><span class="op" id="3852933">,</span>&nbsp;<span class="ident" id="3852935">x</span>&nbsp;<span class="keyword" id="3852937">interface</span><span class="op" id="3852946">{</span><span class="op" id="3852947">}</span><span class="op" id="3852948">,</span>&nbsp;<span class="ident" id="3852950">f</span>&nbsp;<span class="ident" id="3852952"><a href="/gostd/go/ast/print.go.html#3852069">FieldFilter</a></span><span class="op" id="3852963">)</span>&nbsp;<span class="op" id="3852965">(</span><span class="ident" id="3852966">err</span>&nbsp;<span class="builtintype" id="3852970">error</span><span class="op" id="3852975">)</span>&nbsp;<span class="op" id="3852977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3852980">//&nbsp;setup&nbsp;printer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3852998">p</span>&nbsp;<span class="op" id="3853000">:=</span>&nbsp;<span class="ident" id="3853003"><a href="/gostd/go/ast/print.go.html#3853670">printer</a></span><span class="op" id="3853010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853014"><a href="/gostd/go/ast/print.go.html#3853688">output</a></span><span class="op" id="3853020">:</span>&nbsp;<span class="ident" id="3853022"><a href="/gostd/go/ast/print.go.html#3852901">w</a></span><span class="op" id="3853023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853027"><a href="/gostd/go/ast/print.go.html#3853706">fset</a></span><span class="op" id="3853031">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3853035"><a href="/gostd/go/ast/print.go.html#3852914">fset</a></span><span class="op" id="3853039">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853043"><a href="/gostd/go/ast/print.go.html#3853729">filter</a></span><span class="op" id="3853049">:</span>&nbsp;<span class="ident" id="3853051"><a href="/gostd/go/ast/print.go.html#3852950">f</a></span><span class="op" id="3853052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853056"><a href="/gostd/go/ast/print.go.html#3853749">ptrmap</a></span><span class="op" id="3853062">:</span>&nbsp;<span class="builtinfunc" id="3853064">make</span><span class="op" id="3853068">(</span><span class="keyword" id="3853069">map</span><span class="op" id="3853072">[</span><span class="keyword" id="3853073">interface</span><span class="op" id="3853082">{</span><span class="op" id="3853083">}</span><span class="op" id="3853084">]</span><span class="builtintype" id="3853085">int</span><span class="op" id="3853088">)</span><span class="op" id="3853089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853093"><a href="/gostd/go/ast/print.go.html#3853855">last</a></span><span class="op" id="3853097">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3853101">&#39;\n&#39;</span><span class="op" id="3853105">,</span>&nbsp;<span class="comment" id="3853107">//&nbsp;force&nbsp;printing&nbsp;of&nbsp;line&nbsp;number&nbsp;on&nbsp;first&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3853155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3853159">//&nbsp;install&nbsp;error&nbsp;handler</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3853185">defer</span>&nbsp;<span class="keyword" id="3853191">func</span><span class="op" id="3853195">(</span><span class="op" id="3853196">)</span>&nbsp;<span class="op" id="3853198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3853202">if</span>&nbsp;<span class="ident" id="3853205">e</span>&nbsp;<span class="op" id="3853207">:=</span>&nbsp;<span class="builtinfunc" id="3853210">recover</span><span class="op" id="3853217">(</span><span class="op" id="3853218">)</span><span class="op" id="3853219">;</span>&nbsp;<span class="ident" id="3853221"><a href="/gostd/go/ast/print.go.html#3853205">e</a></span>&nbsp;<span class="op" id="3853223">!=</span>&nbsp;<span class="builtintype" id="3853226">nil</span>&nbsp;<span class="op" id="3853230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853235"><a href="/gostd/go/ast/print.go.html#3852966">err</a></span>&nbsp;<span class="op" id="3853239">=</span>&nbsp;<span class="ident" id="3853241"><a href="/gostd/go/ast/print.go.html#3853205">e</a></span><span class="op" id="3853242">.</span><span class="op" id="3853243">(</span><span class="ident" id="3853244"><a href="/gostd/go/ast/print.go.html#3854720">localError</a></span><span class="op" id="3853254">)</span><span class="op" id="3853255">.</span><span class="ident" id="3853256"><a href="/gostd/go/ast/print.go.html#3854741">err</a></span>&nbsp;<span class="comment" id="3853260">//&nbsp;re-panics&nbsp;if&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;localError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3853300">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3853303">}</span><span class="op" id="3853304">(</span><span class="op" id="3853305">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3853309">//&nbsp;print&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3853321">if</span>&nbsp;<span class="ident" id="3853324"><a href="/gostd/go/ast/print.go.html#3852935">x</a></span>&nbsp;<span class="op" id="3853326">==</span>&nbsp;<span class="builtintype" id="3853329">nil</span>&nbsp;<span class="op" id="3853333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853337"><a href="/gostd/go/ast/print.go.html#3852998">p</a></span><span class="op" id="3853338">.</span><span class="ident" id="3853339"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3853345">(</span><span class="string" id="3853346">&#34;nil\n&#34;</span><span class="op" id="3853353">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3853357">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3853365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853368"><a href="/gostd/go/ast/print.go.html#3852998">p</a></span><span class="op" id="3853369">.</span><span class="builtinfunc" id="3853370"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3853375">(</span><span class="ident" id="3853376"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3853383">.</span><span class="ident" id="3853384"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3853391">(</span><span class="ident" id="3853392"><a href="/gostd/go/ast/print.go.html#3852935">x</a></span><span class="op" id="3853393">)</span><span class="op" id="3853394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853397"><a href="/gostd/go/ast/print.go.html#3852998">p</a></span><span class="op" id="3853398">.</span><span class="ident" id="3853399"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3853405">(</span><span class="string" id="3853406">&#34;\n&#34;</span><span class="op" id="3853410">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3853414">return</span><br>
<span class="lineno"></span><span class="op" id="3853421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3853424">//&nbsp;Print&nbsp;prints&nbsp;x&nbsp;to&nbsp;standard&nbsp;output,&nbsp;skipping&nbsp;nil&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="3853483">//&nbsp;Print(fset,&nbsp;x)&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;Fprint(os.Stdout,&nbsp;fset,&nbsp;x,&nbsp;NotNilFilter).</span><br>
<span class="lineno">70</span><span class="keyword" id="3853558">func</span>&nbsp;<span class="ident" id="3853563">Print</span><span class="op" id="3853568">(</span><span class="ident" id="3853569">fset</span>&nbsp;<span class="op" id="3853574">*</span><span class="ident" id="3853575"><a href="/gostd/go/ast/print.go.html#3851961">token</a></span><span class="op" id="3853580">.</span><span class="ident" id="3853581"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><span class="op" id="3853588">,</span>&nbsp;<span class="ident" id="3853590">x</span>&nbsp;<span class="keyword" id="3853592">interface</span><span class="op" id="3853601">{</span><span class="op" id="3853602">}</span><span class="op" id="3853603">)</span>&nbsp;<span class="builtintype" id="3853605">error</span>&nbsp;<span class="op" id="3853611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3853614">return</span>&nbsp;<span class="ident" id="3853621"><a href="/gostd/go/ast/print.go.html#3852894">Fprint</a></span><span class="op" id="3853627">(</span><span class="ident" id="3853628"><a href="/gostd/go/ast/print.go.html#3851979">os</a></span><span class="op" id="3853630">.</span><span class="ident" id="3853631"><a href="/gostd/os/file.go.html#2441814">Stdout</a></span><span class="op" id="3853637">,</span>&nbsp;<span class="ident" id="3853639"><a href="/gostd/go/ast/print.go.html#3853569">fset</a></span><span class="op" id="3853643">,</span>&nbsp;<span class="ident" id="3853645"><a href="/gostd/go/ast/print.go.html#3853590">x</a></span><span class="op" id="3853646">,</span>&nbsp;<span class="ident" id="3853648"><a href="/gostd/go/ast/print.go.html#3852226">NotNilFilter</a></span><span class="op" id="3853660">)</span><br>
<span class="lineno"></span><span class="op" id="3853662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3853665">type</span>&nbsp;<span class="ident" id="3853670">printer</span>&nbsp;<span class="keyword" id="3853678">struct</span>&nbsp;<span class="op" id="3853685">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853688">output</span>&nbsp;<span class="ident" id="3853695"><a href="/gostd/go/ast/print.go.html#3851973">io</a></span><span class="op" id="3853697">.</span><span class="ident" id="3853698"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853706">fset</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3853713">*</span><span class="ident" id="3853714"><a href="/gostd/go/ast/print.go.html#3851961">token</a></span><span class="op" id="3853719">.</span><span class="ident" id="3853720"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853729">filter</span>&nbsp;<span class="ident" id="3853736"><a href="/gostd/go/ast/print.go.html#3852069">FieldFilter</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853749">ptrmap</span>&nbsp;<span class="keyword" id="3853756">map</span><span class="op" id="3853759">[</span><span class="keyword" id="3853760">interface</span><span class="op" id="3853769">{</span><span class="op" id="3853770">}</span><span class="op" id="3853771">]</span><span class="builtintype" id="3853772">int</span>&nbsp;<span class="comment" id="3853776">//&nbsp;*T&nbsp;-&gt;&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853798">indent</span>&nbsp;<span class="builtintype" id="3853805">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3853825">//&nbsp;current&nbsp;indentation&nbsp;level</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853855">last</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3853862">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3853882">//&nbsp;the&nbsp;last&nbsp;byte&nbsp;processed&nbsp;by&nbsp;Write</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3853919">line</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3853926">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3853946">//&nbsp;current&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span><span class="op" id="3853969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3853972">var</span>&nbsp;<span class="ident" id="3853976">indent</span>&nbsp;<span class="op" id="3853983">=</span>&nbsp;<span class="op" id="3853985">[</span><span class="op" id="3853986">]</span><span class="builtintype" id="3853987">byte</span><span class="op" id="3853991">(</span><span class="string" id="3853992">&#34;.&nbsp;&nbsp;&#34;</span><span class="op" id="3853997">)</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="3854000">func</span>&nbsp;<span class="op" id="3854005">(</span><span class="ident" id="3854006">p</span>&nbsp;<span class="op" id="3854008">*</span><span class="ident" id="3854009"><a href="/gostd/go/ast/print.go.html#3853670">printer</a></span><span class="op" id="3854016">)</span>&nbsp;<span class="ident" id="3854018">Write</span><span class="op" id="3854023">(</span><span class="ident" id="3854024">data</span>&nbsp;<span class="op" id="3854029">[</span><span class="op" id="3854030">]</span><span class="builtintype" id="3854031">byte</span><span class="op" id="3854035">)</span>&nbsp;<span class="op" id="3854037">(</span><span class="ident" id="3854038">n</span>&nbsp;<span class="builtintype" id="3854040">int</span><span class="op" id="3854043">,</span>&nbsp;<span class="ident" id="3854045">err</span>&nbsp;<span class="builtintype" id="3854049">error</span><span class="op" id="3854054">)</span>&nbsp;<span class="op" id="3854056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854059">var</span>&nbsp;<span class="ident" id="3854063">m</span>&nbsp;<span class="builtintype" id="3854065">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854070">for</span>&nbsp;<span class="ident" id="3854074">i</span><span class="op" id="3854075">,</span>&nbsp;<span class="ident" id="3854077">b</span>&nbsp;<span class="op" id="3854079">:=</span>&nbsp;<span class="keyword" id="3854082">range</span>&nbsp;<span class="ident" id="3854088"><a href="/gostd/go/ast/print.go.html#3854024">data</a></span>&nbsp;<span class="op" id="3854093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3854097">//&nbsp;invariant:&nbsp;data[0:n]&nbsp;has&nbsp;been&nbsp;written</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854140">if</span>&nbsp;<span class="ident" id="3854143"><a href="/gostd/go/ast/print.go.html#3854077">b</a></span>&nbsp;<span class="op" id="3854145">==</span>&nbsp;<span class="string" id="3854148">&#39;\n&#39;</span>&nbsp;<span class="op" id="3854153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854158"><a href="/gostd/go/ast/print.go.html#3854063">m</a></span><span class="op" id="3854159">,</span>&nbsp;<span class="ident" id="3854161"><a href="/gostd/go/ast/print.go.html#3854045">err</a></span>&nbsp;<span class="op" id="3854165">=</span>&nbsp;<span class="ident" id="3854167"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854168">.</span><span class="ident" id="3854169"><a href="/gostd/go/ast/print.go.html#3853688">output</a></span><span class="op" id="3854175">.</span><span class="ident" id="3854176"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3854181">(</span><span class="ident" id="3854182"><a href="/gostd/go/ast/print.go.html#3854024">data</a></span><span class="op" id="3854186">[</span><span class="ident" id="3854187"><a href="/gostd/go/ast/print.go.html#3854038">n</a></span>&nbsp;<span class="op" id="3854189">:</span>&nbsp;<span class="ident" id="3854191"><a href="/gostd/go/ast/print.go.html#3854074">i</a></span><span class="op" id="3854192">+</span><span class="num" id="3854193">1</span><span class="op" id="3854194">]</span><span class="op" id="3854195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854200"><a href="/gostd/go/ast/print.go.html#3854038">n</a></span>&nbsp;<span class="op" id="3854202">+=</span>&nbsp;<span class="ident" id="3854205"><a href="/gostd/go/ast/print.go.html#3854063">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854210">if</span>&nbsp;<span class="ident" id="3854213"><a href="/gostd/go/ast/print.go.html#3854045">err</a></span>&nbsp;<span class="op" id="3854217">!=</span>&nbsp;<span class="builtintype" id="3854220">nil</span>&nbsp;<span class="op" id="3854224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854230">return</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854245"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854246">.</span><span class="ident" id="3854247"><a href="/gostd/go/ast/print.go.html#3853919">line</a></span><span class="op" id="3854251">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854256">}</span>&nbsp;<span class="keyword" id="3854258">else</span>&nbsp;<span class="keyword" id="3854263">if</span>&nbsp;<span class="ident" id="3854266"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854267">.</span><span class="ident" id="3854268"><a href="/gostd/go/ast/print.go.html#3853855">last</a></span>&nbsp;<span class="op" id="3854273">==</span>&nbsp;<span class="string" id="3854276">&#39;\n&#39;</span>&nbsp;<span class="op" id="3854281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854286">_</span><span class="op" id="3854287">,</span>&nbsp;<span class="ident" id="3854289"><a href="/gostd/go/ast/print.go.html#3854045">err</a></span>&nbsp;<span class="op" id="3854293">=</span>&nbsp;<span class="ident" id="3854295"><a href="/gostd/go/ast/print.go.html#3851954">fmt</a></span><span class="op" id="3854298">.</span><span class="ident" id="3854299"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="3854306">(</span><span class="ident" id="3854307"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854308">.</span><span class="ident" id="3854309"><a href="/gostd/go/ast/print.go.html#3853688">output</a></span><span class="op" id="3854315">,</span>&nbsp;<span class="string" id="3854317">&#34;%6d&nbsp;&nbsp;&#34;</span><span class="op" id="3854324">,</span>&nbsp;<span class="ident" id="3854326"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854327">.</span><span class="ident" id="3854328"><a href="/gostd/go/ast/print.go.html#3853919">line</a></span><span class="op" id="3854332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854337">if</span>&nbsp;<span class="ident" id="3854340"><a href="/gostd/go/ast/print.go.html#3854045">err</a></span>&nbsp;<span class="op" id="3854344">!=</span>&nbsp;<span class="builtintype" id="3854347">nil</span>&nbsp;<span class="op" id="3854351">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854357">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854372">for</span>&nbsp;<span class="ident" id="3854376">j</span>&nbsp;<span class="op" id="3854378">:=</span>&nbsp;<span class="ident" id="3854381"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854382">.</span><span class="ident" id="3854383"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3854389">;</span>&nbsp;<span class="ident" id="3854391"><a href="/gostd/go/ast/print.go.html#3854376">j</a></span>&nbsp;<span class="op" id="3854393">&gt;</span>&nbsp;<span class="num" id="3854395">0</span><span class="op" id="3854396">;</span>&nbsp;<span class="ident" id="3854398"><a href="/gostd/go/ast/print.go.html#3854376">j</a></span><span class="op" id="3854399">--</span>&nbsp;<span class="op" id="3854402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854408">_</span><span class="op" id="3854409">,</span>&nbsp;<span class="ident" id="3854411"><a href="/gostd/go/ast/print.go.html#3854045">err</a></span>&nbsp;<span class="op" id="3854415">=</span>&nbsp;<span class="ident" id="3854417"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854418">.</span><span class="ident" id="3854419"><a href="/gostd/go/ast/print.go.html#3853688">output</a></span><span class="op" id="3854425">.</span><span class="ident" id="3854426"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3854431">(</span><span class="ident" id="3854432"><a href="/gostd/go/ast/print.go.html#3853976">indent</a></span><span class="op" id="3854438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854444">if</span>&nbsp;<span class="ident" id="3854447"><a href="/gostd/go/ast/print.go.html#3854045">err</a></span>&nbsp;<span class="op" id="3854451">!=</span>&nbsp;<span class="builtintype" id="3854454">nil</span>&nbsp;<span class="op" id="3854458">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854465">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854489"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854490">.</span><span class="ident" id="3854491"><a href="/gostd/go/ast/print.go.html#3853855">last</a></span>&nbsp;<span class="op" id="3854496">=</span>&nbsp;<span class="ident" id="3854498"><a href="/gostd/go/ast/print.go.html#3854077">b</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854504">if</span>&nbsp;<span class="builtinfunc" id="3854507">len</span><span class="op" id="3854510">(</span><span class="ident" id="3854511"><a href="/gostd/go/ast/print.go.html#3854024">data</a></span><span class="op" id="3854515">)</span>&nbsp;<span class="op" id="3854517">&gt;</span>&nbsp;<span class="ident" id="3854519"><a href="/gostd/go/ast/print.go.html#3854038">n</a></span>&nbsp;<span class="op" id="3854521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854525"><a href="/gostd/go/ast/print.go.html#3854063">m</a></span><span class="op" id="3854526">,</span>&nbsp;<span class="ident" id="3854528"><a href="/gostd/go/ast/print.go.html#3854045">err</a></span>&nbsp;<span class="op" id="3854532">=</span>&nbsp;<span class="ident" id="3854534"><a href="/gostd/go/ast/print.go.html#3854006">p</a></span><span class="op" id="3854535">.</span><span class="ident" id="3854536"><a href="/gostd/go/ast/print.go.html#3853688">output</a></span><span class="op" id="3854542">.</span><span class="ident" id="3854543"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3854548">(</span><span class="ident" id="3854549"><a href="/gostd/go/ast/print.go.html#3854024">data</a></span><span class="op" id="3854553">[</span><span class="ident" id="3854554"><a href="/gostd/go/ast/print.go.html#3854038">n</a></span><span class="op" id="3854555">:</span><span class="op" id="3854556">]</span><span class="op" id="3854557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854561"><a href="/gostd/go/ast/print.go.html#3854038">n</a></span>&nbsp;<span class="op" id="3854563">+=</span>&nbsp;<span class="ident" id="3854566"><a href="/gostd/go/ast/print.go.html#3854063">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854569">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854572">return</span><br>
<span class="lineno"></span><span class="op" id="3854579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3854582">//&nbsp;localError&nbsp;wraps&nbsp;locally&nbsp;caught&nbsp;errors&nbsp;so&nbsp;we&nbsp;can&nbsp;distinguish</span><br>
<span class="lineno"></span><span class="comment" id="3854646">//&nbsp;them&nbsp;from&nbsp;genuine&nbsp;panics&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;return&nbsp;as&nbsp;errors.</span><br>
<span class="lineno">120</span><span class="keyword" id="3854715">type</span>&nbsp;<span class="ident" id="3854720">localError</span>&nbsp;<span class="keyword" id="3854731">struct</span>&nbsp;<span class="op" id="3854738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3854741">err</span>&nbsp;<span class="builtintype" id="3854745">error</span><br>
<span class="lineno"></span><span class="op" id="3854751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3854754">//&nbsp;printf&nbsp;is&nbsp;a&nbsp;convenience&nbsp;wrapper&nbsp;that&nbsp;takes&nbsp;care&nbsp;of&nbsp;print&nbsp;errors.</span><br>
<span class="lineno">125</span><span class="keyword" id="3854822">func</span>&nbsp;<span class="op" id="3854827">(</span><span class="ident" id="3854828">p</span>&nbsp;<span class="op" id="3854830">*</span><span class="ident" id="3854831"><a href="/gostd/go/ast/print.go.html#3853670">printer</a></span><span class="op" id="3854838">)</span>&nbsp;<span class="ident" id="3854840">printf</span><span class="op" id="3854846">(</span><span class="ident" id="3854847">format</span>&nbsp;<span class="builtintype" id="3854854">string</span><span class="op" id="3854860">,</span>&nbsp;<span class="ident" id="3854862">args</span>&nbsp;<span class="op" id="3854867">...</span><span class="keyword" id="3854870">interface</span><span class="op" id="3854879">{</span><span class="op" id="3854880">}</span><span class="op" id="3854881">)</span>&nbsp;<span class="op" id="3854883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3854886">if</span>&nbsp;<span class="ident" id="3854889">_</span><span class="op" id="3854890">,</span>&nbsp;<span class="ident" id="3854892">err</span>&nbsp;<span class="op" id="3854896">:=</span>&nbsp;<span class="ident" id="3854899"><a href="/gostd/go/ast/print.go.html#3851954">fmt</a></span><span class="op" id="3854902">.</span><span class="ident" id="3854903"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="3854910">(</span><span class="ident" id="3854911"><a href="/gostd/go/ast/print.go.html#3854828">p</a></span><span class="op" id="3854912">,</span>&nbsp;<span class="ident" id="3854914"><a href="/gostd/go/ast/print.go.html#3854847">format</a></span><span class="op" id="3854920">,</span>&nbsp;<span class="ident" id="3854922"><a href="/gostd/go/ast/print.go.html#3854862">args</a></span><span class="op" id="3854926">...</span><span class="op" id="3854929">)</span><span class="op" id="3854930">;</span>&nbsp;<span class="ident" id="3854932"><a href="/gostd/go/ast/print.go.html#3854892">err</a></span>&nbsp;<span class="op" id="3854936">!=</span>&nbsp;<span class="builtintype" id="3854939">nil</span>&nbsp;<span class="op" id="3854943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3854947">panic</span><span class="op" id="3854952">(</span><span class="ident" id="3854953"><a href="/gostd/go/ast/print.go.html#3854720">localError</a></span><span class="op" id="3854963">{</span><span class="ident" id="3854964"><a href="/gostd/go/ast/print.go.html#3854892">err</a></span><span class="op" id="3854967">}</span><span class="op" id="3854968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3854971">}</span><br>
<span class="lineno"></span><span class="op" id="3854973">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="3854976">//&nbsp;Implementation&nbsp;note:&nbsp;Print&nbsp;is&nbsp;written&nbsp;for&nbsp;AST&nbsp;nodes&nbsp;but&nbsp;could&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="3855044">//&nbsp;used&nbsp;to&nbsp;print&nbsp;arbitrary&nbsp;data&nbsp;structures;&nbsp;such&nbsp;a&nbsp;version&nbsp;should</span><br>
<span class="lineno"></span><span class="comment" id="3855110">//&nbsp;probably&nbsp;be&nbsp;in&nbsp;a&nbsp;different&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="3855149">//</span><br>
<span class="lineno">135</span><span class="comment" id="3855152">//&nbsp;Note:&nbsp;This&nbsp;code&nbsp;detects&nbsp;(some)&nbsp;cycles&nbsp;created&nbsp;via&nbsp;pointers&nbsp;but</span><br>
<span class="lineno"></span><span class="comment" id="3855218">//&nbsp;not&nbsp;cycles&nbsp;that&nbsp;are&nbsp;created&nbsp;via&nbsp;slices&nbsp;or&nbsp;maps&nbsp;containing&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3855283">//&nbsp;same&nbsp;slice&nbsp;or&nbsp;map.&nbsp;Code&nbsp;for&nbsp;general&nbsp;data&nbsp;structures&nbsp;probably</span><br>
<span class="lineno"></span><span class="comment" id="3855347">//&nbsp;should&nbsp;catch&nbsp;those&nbsp;as&nbsp;well.</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="3855379">func</span>&nbsp;<span class="op" id="3855384">(</span><span class="ident" id="3855385">p</span>&nbsp;<span class="op" id="3855387">*</span><span class="ident" id="3855388"><a href="/gostd/go/ast/print.go.html#3853670">printer</a></span><span class="op" id="3855395">)</span>&nbsp;<span class="builtinfunc" id="3855397">print</span><span class="op" id="3855402">(</span><span class="ident" id="3855403">x</span>&nbsp;<span class="ident" id="3855405"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3855412">.</span><span class="ident" id="3855413"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3855418">)</span>&nbsp;<span class="op" id="3855420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855423">if</span>&nbsp;<span class="op" id="3855426">!</span><span class="ident" id="3855427"><a href="/gostd/go/ast/print.go.html#3852226">NotNilFilter</a></span><span class="op" id="3855439">(</span><span class="string" id="3855440">&#34;&#34;</span><span class="op" id="3855442">,</span>&nbsp;<span class="ident" id="3855444"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855445">)</span>&nbsp;<span class="op" id="3855447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855451"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855452">.</span><span class="ident" id="3855453"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3855459">(</span><span class="string" id="3855460">&#34;nil&#34;</span><span class="op" id="3855465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855469">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3855477">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855481">switch</span>&nbsp;<span class="ident" id="3855488"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855489">.</span><span class="ident" id="3855490"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3855494">(</span><span class="op" id="3855495">)</span>&nbsp;<span class="op" id="3855497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855500">case</span>&nbsp;<span class="ident" id="3855505"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3855512">.</span><span class="ident" id="3855513"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span><span class="op" id="3855522">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855526"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855527">.</span><span class="builtinfunc" id="3855528"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3855533">(</span><span class="ident" id="3855534"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855535">.</span><span class="ident" id="3855536"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="3855540">(</span><span class="op" id="3855541">)</span><span class="op" id="3855542">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855546">case</span>&nbsp;<span class="ident" id="3855551"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3855558">.</span><span class="ident" id="3855559"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="3855562">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855566"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855567">.</span><span class="ident" id="3855568"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3855574">(</span><span class="string" id="3855575">&#34;%s&nbsp;(len&nbsp;=&nbsp;%d)&nbsp;{&#34;</span><span class="op" id="3855592">,</span>&nbsp;<span class="ident" id="3855594"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855595">.</span><span class="ident" id="3855596"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3855600">(</span><span class="op" id="3855601">)</span><span class="op" id="3855602">,</span>&nbsp;<span class="ident" id="3855604"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855605">.</span><span class="ident" id="3855606"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3855609">(</span><span class="op" id="3855610">)</span><span class="op" id="3855611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855615">if</span>&nbsp;<span class="ident" id="3855618"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855619">.</span><span class="ident" id="3855620"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3855623">(</span><span class="op" id="3855624">)</span>&nbsp;<span class="op" id="3855626">&gt;</span>&nbsp;<span class="num" id="3855628">0</span>&nbsp;<span class="op" id="3855630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855635"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855636">.</span><span class="ident" id="3855637"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3855643">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855649"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855650">.</span><span class="ident" id="3855651"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3855657">(</span><span class="string" id="3855658">&#34;\n&#34;</span><span class="op" id="3855662">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855667">for</span>&nbsp;<span class="ident" id="3855671">_</span><span class="op" id="3855672">,</span>&nbsp;<span class="ident" id="3855674">key</span>&nbsp;<span class="op" id="3855678">:=</span>&nbsp;<span class="keyword" id="3855681">range</span>&nbsp;<span class="ident" id="3855687"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855688">.</span><span class="ident" id="3855689"><a href="/gostd/reflect/value.go.html#2863601">MapKeys</a></span><span class="op" id="3855696">(</span><span class="op" id="3855697">)</span>&nbsp;<span class="op" id="3855699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855705"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855706">.</span><span class="builtinfunc" id="3855707"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3855712">(</span><span class="ident" id="3855713"><a href="/gostd/go/ast/print.go.html#3855674">key</a></span><span class="op" id="3855716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855722"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855723">.</span><span class="ident" id="3855724"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3855730">(</span><span class="string" id="3855731">&#34;:&nbsp;&#34;</span><span class="op" id="3855735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855741"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855742">.</span><span class="builtinfunc" id="3855743"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3855748">(</span><span class="ident" id="3855749"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3855750">.</span><span class="ident" id="3855751"><a href="/gostd/reflect/value.go.html#2862367">MapIndex</a></span><span class="op" id="3855759">(</span><span class="ident" id="3855760"><a href="/gostd/go/ast/print.go.html#3855674">key</a></span><span class="op" id="3855763">)</span><span class="op" id="3855764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855770"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855771">.</span><span class="ident" id="3855772"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3855778">(</span><span class="string" id="3855779">&#34;\n&#34;</span><span class="op" id="3855783">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3855788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855793"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855794">.</span><span class="ident" id="3855795"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3855801">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3855806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855810"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855811">.</span><span class="ident" id="3855812"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3855818">(</span><span class="string" id="3855819">&#34;}&#34;</span><span class="op" id="3855822">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3855826">case</span>&nbsp;<span class="ident" id="3855831"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3855838">.</span><span class="ident" id="3855839"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="3855842">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3855846"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3855847">.</span><span class="ident" id="3855848"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3855854">(</span><span class="string" id="3855855">&#34;*&#34;</span><span class="op" id="3855858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3855862">//&nbsp;type-checked&nbsp;ASTs&nbsp;may&nbsp;contain&nbsp;cycles&nbsp;-&nbsp;use&nbsp;ptrmap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3855917">//&nbsp;to&nbsp;keep&nbsp;track&nbsp;of&nbsp;objects&nbsp;that&nbsp;have&nbsp;been&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3855970">//&nbsp;already&nbsp;and&nbsp;print&nbsp;the&nbsp;respective&nbsp;line&nbsp;number&nbsp;instead</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856028">ptr</span>&nbsp;<span class="op" id="3856032">:=</span>&nbsp;<span class="ident" id="3856035"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856036">.</span><span class="ident" id="3856037"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3856046">(</span><span class="op" id="3856047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856051">if</span>&nbsp;<span class="ident" id="3856054">line</span><span class="op" id="3856058">,</span>&nbsp;<span class="ident" id="3856060">exists</span>&nbsp;<span class="op" id="3856067">:=</span>&nbsp;<span class="ident" id="3856070"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856071">.</span><span class="ident" id="3856072"><a href="/gostd/go/ast/print.go.html#3853749">ptrmap</a></span><span class="op" id="3856078">[</span><span class="ident" id="3856079"><a href="/gostd/go/ast/print.go.html#3856028">ptr</a></span><span class="op" id="3856082">]</span><span class="op" id="3856083">;</span>&nbsp;<span class="ident" id="3856085"><a href="/gostd/go/ast/print.go.html#3856060">exists</a></span>&nbsp;<span class="op" id="3856092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856097"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856098">.</span><span class="ident" id="3856099"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856105">(</span><span class="string" id="3856106">&#34;(obj&nbsp;@&nbsp;%d)&#34;</span><span class="op" id="3856118">,</span>&nbsp;<span class="ident" id="3856120"><a href="/gostd/go/ast/print.go.html#3856054">line</a></span><span class="op" id="3856124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3856128">}</span>&nbsp;<span class="keyword" id="3856130">else</span>&nbsp;<span class="op" id="3856135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856140"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856141">.</span><span class="ident" id="3856142"><a href="/gostd/go/ast/print.go.html#3853749">ptrmap</a></span><span class="op" id="3856148">[</span><span class="ident" id="3856149"><a href="/gostd/go/ast/print.go.html#3856028">ptr</a></span><span class="op" id="3856152">]</span>&nbsp;<span class="op" id="3856154">=</span>&nbsp;<span class="ident" id="3856156"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856157">.</span><span class="ident" id="3856158"><a href="/gostd/go/ast/print.go.html#3853919">line</a></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856166"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856167">.</span><span class="builtinfunc" id="3856168"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3856173">(</span><span class="ident" id="3856174"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856175">.</span><span class="ident" id="3856176"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="3856180">(</span><span class="op" id="3856181">)</span><span class="op" id="3856182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3856186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856190">case</span>&nbsp;<span class="ident" id="3856195"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3856202">.</span><span class="ident" id="3856203"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="3856208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856212"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856213">.</span><span class="ident" id="3856214"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856220">(</span><span class="string" id="3856221">&#34;%s&nbsp;{&#34;</span><span class="op" id="3856227">,</span>&nbsp;<span class="ident" id="3856229"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856230">.</span><span class="ident" id="3856231"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3856235">(</span><span class="op" id="3856236">)</span><span class="op" id="3856237">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856241">if</span>&nbsp;<span class="ident" id="3856244"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856245">.</span><span class="ident" id="3856246"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3856249">(</span><span class="op" id="3856250">)</span>&nbsp;<span class="op" id="3856252">&gt;</span>&nbsp;<span class="num" id="3856254">0</span>&nbsp;<span class="op" id="3856256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856261"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856262">.</span><span class="ident" id="3856263"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3856269">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856275"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856276">.</span><span class="ident" id="3856277"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856283">(</span><span class="string" id="3856284">&#34;\n&#34;</span><span class="op" id="3856288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856293">for</span>&nbsp;<span class="ident" id="3856297">i</span><span class="op" id="3856298">,</span>&nbsp;<span class="ident" id="3856300">n</span>&nbsp;<span class="op" id="3856302">:=</span>&nbsp;<span class="num" id="3856305">0</span><span class="op" id="3856306">,</span>&nbsp;<span class="ident" id="3856308"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856309">.</span><span class="ident" id="3856310"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3856313">(</span><span class="op" id="3856314">)</span><span class="op" id="3856315">;</span>&nbsp;<span class="ident" id="3856317"><a href="/gostd/go/ast/print.go.html#3856297">i</a></span>&nbsp;<span class="op" id="3856319">&lt;</span>&nbsp;<span class="ident" id="3856321"><a href="/gostd/go/ast/print.go.html#3856300">n</a></span><span class="op" id="3856322">;</span>&nbsp;<span class="ident" id="3856324"><a href="/gostd/go/ast/print.go.html#3856297">i</a></span><span class="op" id="3856325">++</span>&nbsp;<span class="op" id="3856328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856334"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856335">.</span><span class="ident" id="3856336"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856342">(</span><span class="string" id="3856343">&#34;%d:&nbsp;&#34;</span><span class="op" id="3856349">,</span>&nbsp;<span class="ident" id="3856351"><a href="/gostd/go/ast/print.go.html#3856297">i</a></span><span class="op" id="3856352">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856358"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856359">.</span><span class="builtinfunc" id="3856360"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3856365">(</span><span class="ident" id="3856366"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856367">.</span><span class="ident" id="3856368"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="3856373">(</span><span class="ident" id="3856374"><a href="/gostd/go/ast/print.go.html#3856297">i</a></span><span class="op" id="3856375">)</span><span class="op" id="3856376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856382"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856383">.</span><span class="ident" id="3856384"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856390">(</span><span class="string" id="3856391">&#34;\n&#34;</span><span class="op" id="3856395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3856400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856405"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856406">.</span><span class="ident" id="3856407"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3856413">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3856418">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856422"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856423">.</span><span class="ident" id="3856424"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856430">(</span><span class="string" id="3856431">&#34;}&#34;</span><span class="op" id="3856434">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856438">case</span>&nbsp;<span class="ident" id="3856443"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3856450">.</span><span class="ident" id="3856451"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="3856456">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856460">if</span>&nbsp;<span class="ident" id="3856463">s</span><span class="op" id="3856464">,</span>&nbsp;<span class="ident" id="3856466">ok</span>&nbsp;<span class="op" id="3856469">:=</span>&nbsp;<span class="ident" id="3856472"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856473">.</span><span class="ident" id="3856474"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3856483">(</span><span class="op" id="3856484">)</span><span class="op" id="3856485">.</span><span class="op" id="3856486">(</span><span class="op" id="3856487">[</span><span class="op" id="3856488">]</span><span class="builtintype" id="3856489">byte</span><span class="op" id="3856493">)</span><span class="op" id="3856494">;</span>&nbsp;<span class="ident" id="3856496"><a href="/gostd/go/ast/print.go.html#3856466">ok</a></span>&nbsp;<span class="op" id="3856499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856504"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856505">.</span><span class="ident" id="3856506"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856512">(</span><span class="string" id="3856513">&#34;%#q&#34;</span><span class="op" id="3856518">,</span>&nbsp;<span class="ident" id="3856520"><a href="/gostd/go/ast/print.go.html#3856463">s</a></span><span class="op" id="3856521">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856526">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3856535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856539"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856540">.</span><span class="ident" id="3856541"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856547">(</span><span class="string" id="3856548">&#34;%s&nbsp;(len&nbsp;=&nbsp;%d)&nbsp;{&#34;</span><span class="op" id="3856565">,</span>&nbsp;<span class="ident" id="3856567"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856568">.</span><span class="ident" id="3856569"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3856573">(</span><span class="op" id="3856574">)</span><span class="op" id="3856575">,</span>&nbsp;<span class="ident" id="3856577"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856578">.</span><span class="ident" id="3856579"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3856582">(</span><span class="op" id="3856583">)</span><span class="op" id="3856584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856588">if</span>&nbsp;<span class="ident" id="3856591"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856592">.</span><span class="ident" id="3856593"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3856596">(</span><span class="op" id="3856597">)</span>&nbsp;<span class="op" id="3856599">&gt;</span>&nbsp;<span class="num" id="3856601">0</span>&nbsp;<span class="op" id="3856603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856608"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856609">.</span><span class="ident" id="3856610"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3856616">++</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856622"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856623">.</span><span class="ident" id="3856624"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856630">(</span><span class="string" id="3856631">&#34;\n&#34;</span><span class="op" id="3856635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856640">for</span>&nbsp;<span class="ident" id="3856644">i</span><span class="op" id="3856645">,</span>&nbsp;<span class="ident" id="3856647">n</span>&nbsp;<span class="op" id="3856649">:=</span>&nbsp;<span class="num" id="3856652">0</span><span class="op" id="3856653">,</span>&nbsp;<span class="ident" id="3856655"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856656">.</span><span class="ident" id="3856657"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3856660">(</span><span class="op" id="3856661">)</span><span class="op" id="3856662">;</span>&nbsp;<span class="ident" id="3856664"><a href="/gostd/go/ast/print.go.html#3856644">i</a></span>&nbsp;<span class="op" id="3856666">&lt;</span>&nbsp;<span class="ident" id="3856668"><a href="/gostd/go/ast/print.go.html#3856647">n</a></span><span class="op" id="3856669">;</span>&nbsp;<span class="ident" id="3856671"><a href="/gostd/go/ast/print.go.html#3856644">i</a></span><span class="op" id="3856672">++</span>&nbsp;<span class="op" id="3856675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856681"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856682">.</span><span class="ident" id="3856683"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856689">(</span><span class="string" id="3856690">&#34;%d:&nbsp;&#34;</span><span class="op" id="3856696">,</span>&nbsp;<span class="ident" id="3856698"><a href="/gostd/go/ast/print.go.html#3856644">i</a></span><span class="op" id="3856699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856705"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856706">.</span><span class="builtinfunc" id="3856707"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3856712">(</span><span class="ident" id="3856713"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856714">.</span><span class="ident" id="3856715"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="3856720">(</span><span class="ident" id="3856721"><a href="/gostd/go/ast/print.go.html#3856644">i</a></span><span class="op" id="3856722">)</span><span class="op" id="3856723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856729"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856730">.</span><span class="ident" id="3856731"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856737">(</span><span class="string" id="3856738">&#34;\n&#34;</span><span class="op" id="3856742">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3856747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856752"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856753">.</span><span class="ident" id="3856754"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3856760">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3856765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856769"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856770">.</span><span class="ident" id="3856771"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856777">(</span><span class="string" id="3856778">&#34;}&#34;</span><span class="op" id="3856781">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856785">case</span>&nbsp;<span class="ident" id="3856790"><a href="/gostd/go/ast/print.go.html#3851985">reflect</a></span><span class="op" id="3856797">.</span><span class="ident" id="3856798"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="3856804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856808">t</span>&nbsp;<span class="op" id="3856810">:=</span>&nbsp;<span class="ident" id="3856813"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3856814">.</span><span class="ident" id="3856815"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3856819">(</span><span class="op" id="3856820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856824"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856825">.</span><span class="ident" id="3856826"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3856832">(</span><span class="string" id="3856833">&#34;%s&nbsp;{&#34;</span><span class="op" id="3856839">,</span>&nbsp;<span class="ident" id="3856841"><a href="/gostd/go/ast/print.go.html#3856808">t</a></span><span class="op" id="3856842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856846"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3856847">.</span><span class="ident" id="3856848"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3856854">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3856859">first</span>&nbsp;<span class="op" id="3856865">:=</span>&nbsp;<span class="builtintype" id="3856868">true</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3856875">for</span>&nbsp;<span class="ident" id="3856879">i</span><span class="op" id="3856880">,</span>&nbsp;<span class="ident" id="3856882">n</span>&nbsp;<span class="op" id="3856884">:=</span>&nbsp;<span class="num" id="3856887">0</span><span class="op" id="3856888">,</span>&nbsp;<span class="ident" id="3856890"><a href="/gostd/go/ast/print.go.html#3856808">t</a></span><span class="op" id="3856891">.</span><span class="ident" id="3856892"><a href="/gostd/reflect/type.go.html#2786550">NumField</a></span><span class="op" id="3856900">(</span><span class="op" id="3856901">)</span><span class="op" id="3856902">;</span>&nbsp;<span class="ident" id="3856904"><a href="/gostd/go/ast/print.go.html#3856879">i</a></span>&nbsp;<span class="op" id="3856906">&lt;</span>&nbsp;<span class="ident" id="3856908"><a href="/gostd/go/ast/print.go.html#3856882">n</a></span><span class="op" id="3856909">;</span>&nbsp;<span class="ident" id="3856911"><a href="/gostd/go/ast/print.go.html#3856879">i</a></span><span class="op" id="3856912">++</span>&nbsp;<span class="op" id="3856915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3856920">//&nbsp;exclude&nbsp;non-exported&nbsp;fields&nbsp;because&nbsp;their</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3856968">//&nbsp;values&nbsp;cannot&nbsp;be&nbsp;accessed&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857015">if</span>&nbsp;<span class="ident" id="3857018">name</span>&nbsp;<span class="op" id="3857023">:=</span>&nbsp;<span class="ident" id="3857026"><a href="/gostd/go/ast/print.go.html#3856808">t</a></span><span class="op" id="3857027">.</span><span class="ident" id="3857028"><a href="/gostd/reflect/type.go.html#2785427">Field</a></span><span class="op" id="3857033">(</span><span class="ident" id="3857034"><a href="/gostd/go/ast/print.go.html#3856879">i</a></span><span class="op" id="3857035">)</span><span class="op" id="3857036">.</span><span class="ident" id="3857037"><a href="/gostd/reflect/type.go.html#2801001">Name</a></span><span class="op" id="3857041">;</span>&nbsp;<span class="ident" id="3857043"><a href="/gostd/go/ast/ast.go.html#3810150">IsExported</a></span><span class="op" id="3857053">(</span><span class="ident" id="3857054"><a href="/gostd/go/ast/print.go.html#3857018">name</a></span><span class="op" id="3857058">)</span>&nbsp;<span class="op" id="3857060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857066">value</span>&nbsp;<span class="op" id="3857072">:=</span>&nbsp;<span class="ident" id="3857075"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3857076">.</span><span class="ident" id="3857077"><a href="/gostd/reflect/value.go.html#2853921">Field</a></span><span class="op" id="3857082">(</span><span class="ident" id="3857083"><a href="/gostd/go/ast/print.go.html#3856879">i</a></span><span class="op" id="3857084">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857090">if</span>&nbsp;<span class="ident" id="3857093"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857094">.</span><span class="ident" id="3857095"><a href="/gostd/go/ast/print.go.html#3853729">filter</a></span>&nbsp;<span class="op" id="3857102">==</span>&nbsp;<span class="builtintype" id="3857105">nil</span>&nbsp;<span class="op" id="3857109">||</span>&nbsp;<span class="ident" id="3857112"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857113">.</span><span class="ident" id="3857114"><a href="/gostd/go/ast/print.go.html#3853729">filter</a></span><span class="op" id="3857120">(</span><span class="ident" id="3857121"><a href="/gostd/go/ast/print.go.html#3857018">name</a></span><span class="op" id="3857125">,</span>&nbsp;<span class="ident" id="3857127"><a href="/gostd/go/ast/print.go.html#3857066">value</a></span><span class="op" id="3857132">)</span>&nbsp;<span class="op" id="3857134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857141">if</span>&nbsp;<span class="ident" id="3857144"><a href="/gostd/go/ast/print.go.html#3856859">first</a></span>&nbsp;<span class="op" id="3857150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857158"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857159">.</span><span class="ident" id="3857160"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3857166">(</span><span class="string" id="3857167">&#34;\n&#34;</span><span class="op" id="3857171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857179"><a href="/gostd/go/ast/print.go.html#3856859">first</a></span>&nbsp;<span class="op" id="3857185">=</span>&nbsp;<span class="builtintype" id="3857187">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3857198">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857205"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857206">.</span><span class="ident" id="3857207"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3857213">(</span><span class="string" id="3857214">&#34;%s:&nbsp;&#34;</span><span class="op" id="3857220">,</span>&nbsp;<span class="ident" id="3857222"><a href="/gostd/go/ast/print.go.html#3857018">name</a></span><span class="op" id="3857226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857233"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857234">.</span><span class="builtinfunc" id="3857235"><a href="/gostd/go/ast/print.go.html#3855397">print</a></span><span class="op" id="3857240">(</span><span class="ident" id="3857241"><a href="/gostd/go/ast/print.go.html#3857066">value</a></span><span class="op" id="3857246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857253"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857254">.</span><span class="ident" id="3857255"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3857261">(</span><span class="string" id="3857262">&#34;\n&#34;</span><span class="op" id="3857266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3857272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3857277">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3857281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857285"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857286">.</span><span class="ident" id="3857287"><a href="/gostd/go/ast/print.go.html#3853798">indent</a></span><span class="op" id="3857293">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857298"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857299">.</span><span class="ident" id="3857300"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3857306">(</span><span class="string" id="3857307">&#34;}&#34;</span><span class="op" id="3857310">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857314">default</span><span class="op" id="3857321">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857325">v</span>&nbsp;<span class="op" id="3857327">:=</span>&nbsp;<span class="ident" id="3857330"><a href="/gostd/go/ast/print.go.html#3855403">x</a></span><span class="op" id="3857331">.</span><span class="ident" id="3857332"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3857341">(</span><span class="op" id="3857342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857346">switch</span>&nbsp;<span class="ident" id="3857353">v</span>&nbsp;<span class="op" id="3857355">:=</span>&nbsp;<span class="ident" id="3857358"><a href="/gostd/go/ast/print.go.html#3857325">v</a></span><span class="op" id="3857359">.</span><span class="op" id="3857360">(</span><span class="keyword" id="3857361">type</span><span class="op" id="3857365">)</span>&nbsp;<span class="op" id="3857367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857371">case</span>&nbsp;<span class="builtintype" id="3857376">string</span><span class="op" id="3857382">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3857387">//&nbsp;print&nbsp;strings&nbsp;in&nbsp;quotes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857417"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857418">.</span><span class="ident" id="3857419"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3857425">(</span><span class="string" id="3857426">&#34;%q&#34;</span><span class="op" id="3857430">,</span>&nbsp;<span class="ident" id="3857432"><a href="/gostd/go/ast/print.go.html#3857353">v</a></span><span class="op" id="3857433">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857438">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857447">case</span>&nbsp;<span class="ident" id="3857452"><a href="/gostd/go/ast/print.go.html#3851961">token</a></span><span class="op" id="3857457">.</span><span class="ident" id="3857458"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="3857461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3857466">//&nbsp;position&nbsp;values&nbsp;can&nbsp;be&nbsp;printed&nbsp;nicely&nbsp;if&nbsp;we&nbsp;have&nbsp;a&nbsp;file&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857532">if</span>&nbsp;<span class="ident" id="3857535"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857536">.</span><span class="ident" id="3857537"><a href="/gostd/go/ast/print.go.html#3853706">fset</a></span>&nbsp;<span class="op" id="3857542">!=</span>&nbsp;<span class="builtintype" id="3857545">nil</span>&nbsp;<span class="op" id="3857549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857555"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857556">.</span><span class="ident" id="3857557"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3857563">(</span><span class="string" id="3857564">&#34;%s&#34;</span><span class="op" id="3857568">,</span>&nbsp;<span class="ident" id="3857570"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857571">.</span><span class="ident" id="3857572"><a href="/gostd/go/ast/print.go.html#3853706">fset</a></span><span class="op" id="3857576">.</span><span class="ident" id="3857577"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="3857585">(</span><span class="ident" id="3857586"><a href="/gostd/go/ast/print.go.html#3857353">v</a></span><span class="op" id="3857587">)</span><span class="op" id="3857588">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3857594">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3857604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3857608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3857612">//&nbsp;default</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3857625"><a href="/gostd/go/ast/print.go.html#3855385">p</a></span><span class="op" id="3857626">.</span><span class="ident" id="3857627"><a href="/gostd/go/ast/print.go.html#3854840">printf</a></span><span class="op" id="3857633">(</span><span class="string" id="3857634">&#34;%v&#34;</span><span class="op" id="3857638">,</span>&nbsp;<span class="ident" id="3857640"><a href="/gostd/go/ast/print.go.html#3857325">v</a></span><span class="op" id="3857641">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3857644">}</span><br>
<span class="lineno"></span><span class="op" id="3857646">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
