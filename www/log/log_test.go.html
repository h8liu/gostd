<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7015735">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7015790">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7015844">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7015895">package</span>&nbsp;<span class="ident" id="7015903">log</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7015908">//&nbsp;These&nbsp;tests&nbsp;are&nbsp;too&nbsp;simple.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7015940">import</span>&nbsp;<span class="op" id="7015947">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7015950">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7015959">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7015965">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7015975">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7015985">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7015988">const</span>&nbsp;<span class="op" id="7015994">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7015997">Rdate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016011">=</span>&nbsp;<span class="string" id="7016013">`[0-9][0-9][0-9][0-9]/[0-9][0-9]/[0-9][0-9]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016059">Rtime</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016073">=</span>&nbsp;<span class="string" id="7016075">`[0-9][0-9]:[0-9][0-9]:[0-9][0-9]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016111">Rmicroseconds</span>&nbsp;<span class="op" id="7016125">=</span>&nbsp;<span class="string" id="7016127">`\.[0-9][0-9][0-9][0-9][0-9][0-9]`</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016163">Rline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016177">=</span>&nbsp;<span class="string" id="7016179">`(54|56):`</span>&nbsp;<span class="comment" id="7016190">//&nbsp;must&nbsp;update&nbsp;if&nbsp;the&nbsp;calls&nbsp;to&nbsp;l.Printf&nbsp;/&nbsp;l.Print&nbsp;below&nbsp;move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016252">Rlongfile</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016266">=</span>&nbsp;<span class="string" id="7016268">`.*/[A-Za-z0-9_\-]+\.go:`</span>&nbsp;<span class="op" id="7016294">+</span>&nbsp;<span class="ident" id="7016296"><a href="/log/log_test.go.html#7016163">Rline</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016303">Rshortfile</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7016317">=</span>&nbsp;<span class="string" id="7016319">`[A-Za-z0-9_\-]+\.go:`</span>&nbsp;<span class="op" id="7016342">+</span>&nbsp;<span class="ident" id="7016344"><a href="/log/log_test.go.html#7016163">Rline</a></span><br>
<span class="lineno"></span><span class="op" id="7016350">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7016353">type</span>&nbsp;<span class="ident" id="7016358">tester</span>&nbsp;<span class="keyword" id="7016365">struct</span>&nbsp;<span class="op" id="7016372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016375">flag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7016383">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016388">prefix</span>&nbsp;&nbsp;<span class="builtintype" id="7016396">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7016404">pattern</span>&nbsp;<span class="builtintype" id="7016412">string</span>&nbsp;<span class="comment" id="7016419">//&nbsp;regexp&nbsp;that&nbsp;log&nbsp;output&nbsp;must&nbsp;match;&nbsp;we&nbsp;add&nbsp;^&nbsp;and&nbsp;expected_text$&nbsp;always</span><br>
<span class="lineno"></span><span class="op" id="7016492">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="7016495">var</span>&nbsp;<span class="ident" id="7016499">tests</span>&nbsp;<span class="op" id="7016505">=</span>&nbsp;<span class="op" id="7016507">[</span><span class="op" id="7016508">]</span><span class="ident" id="7016509"><a href="/log/log_test.go.html#7016358">tester</a></span><span class="op" id="7016515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7016518">//&nbsp;individual&nbsp;pieces:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016541">{</span><span class="num" id="7016542">0</span><span class="op" id="7016543">,</span>&nbsp;<span class="string" id="7016545">&#34;&#34;</span><span class="op" id="7016547">,</span>&nbsp;<span class="string" id="7016549">&#34;&#34;</span><span class="op" id="7016551">}</span><span class="op" id="7016552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016555">{</span><span class="num" id="7016556">0</span><span class="op" id="7016557">,</span>&nbsp;<span class="string" id="7016559">&#34;XXX&#34;</span><span class="op" id="7016564">,</span>&nbsp;<span class="string" id="7016566">&#34;XXX&#34;</span><span class="op" id="7016571">}</span><span class="op" id="7016572">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016575">{</span><span class="ident" id="7016576"><a href="/log/log.go.html#3564660">Ldate</a></span><span class="op" id="7016581">,</span>&nbsp;<span class="string" id="7016583">&#34;&#34;</span><span class="op" id="7016585">,</span>&nbsp;<span class="ident" id="7016587"><a href="/log/log_test.go.html#7015997">Rdate</a></span>&nbsp;<span class="op" id="7016593">+</span>&nbsp;<span class="string" id="7016595">&#34;&nbsp;&#34;</span><span class="op" id="7016598">}</span><span class="op" id="7016599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016602">{</span><span class="ident" id="7016603"><a href="/log/log.go.html#3564715">Ltime</a></span><span class="op" id="7016608">,</span>&nbsp;<span class="string" id="7016610">&#34;&#34;</span><span class="op" id="7016612">,</span>&nbsp;<span class="ident" id="7016614"><a href="/log/log_test.go.html#7016059">Rtime</a></span>&nbsp;<span class="op" id="7016620">+</span>&nbsp;<span class="string" id="7016622">&#34;&nbsp;&#34;</span><span class="op" id="7016625">}</span><span class="op" id="7016626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016629">{</span><span class="ident" id="7016630"><a href="/log/log.go.html#3564715">Ltime</a></span>&nbsp;<span class="op" id="7016636">|</span>&nbsp;<span class="ident" id="7016638"><a href="/log/log.go.html#3564768">Lmicroseconds</a></span><span class="op" id="7016651">,</span>&nbsp;<span class="string" id="7016653">&#34;&#34;</span><span class="op" id="7016655">,</span>&nbsp;<span class="ident" id="7016657"><a href="/log/log_test.go.html#7016059">Rtime</a></span>&nbsp;<span class="op" id="7016663">+</span>&nbsp;<span class="ident" id="7016665"><a href="/log/log_test.go.html#7016111">Rmicroseconds</a></span>&nbsp;<span class="op" id="7016679">+</span>&nbsp;<span class="string" id="7016681">&#34;&nbsp;&#34;</span><span class="op" id="7016684">}</span><span class="op" id="7016685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016688">{</span><span class="ident" id="7016689"><a href="/log/log.go.html#3564768">Lmicroseconds</a></span><span class="op" id="7016702">,</span>&nbsp;<span class="string" id="7016704">&#34;&#34;</span><span class="op" id="7016706">,</span>&nbsp;<span class="ident" id="7016708"><a href="/log/log_test.go.html#7016059">Rtime</a></span>&nbsp;<span class="op" id="7016714">+</span>&nbsp;<span class="ident" id="7016716"><a href="/log/log_test.go.html#7016111">Rmicroseconds</a></span>&nbsp;<span class="op" id="7016730">+</span>&nbsp;<span class="string" id="7016732">&#34;&nbsp;&#34;</span><span class="op" id="7016735">}</span><span class="op" id="7016736">,</span>&nbsp;<span class="comment" id="7016738">//&nbsp;microsec&nbsp;implies&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016764">{</span><span class="ident" id="7016765"><a href="/log/log.go.html#3564859">Llongfile</a></span><span class="op" id="7016774">,</span>&nbsp;<span class="string" id="7016776">&#34;&#34;</span><span class="op" id="7016778">,</span>&nbsp;<span class="ident" id="7016780"><a href="/log/log_test.go.html#7016252">Rlongfile</a></span>&nbsp;<span class="op" id="7016790">+</span>&nbsp;<span class="string" id="7016792">&#34;&nbsp;&#34;</span><span class="op" id="7016795">}</span><span class="op" id="7016796">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016799">{</span><span class="ident" id="7016800"><a href="/log/log.go.html#3564940">Lshortfile</a></span><span class="op" id="7016810">,</span>&nbsp;<span class="string" id="7016812">&#34;&#34;</span><span class="op" id="7016814">,</span>&nbsp;<span class="ident" id="7016816"><a href="/log/log_test.go.html#7016303">Rshortfile</a></span>&nbsp;<span class="op" id="7016827">+</span>&nbsp;<span class="string" id="7016829">&#34;&nbsp;&#34;</span><span class="op" id="7016832">}</span><span class="op" id="7016833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016836">{</span><span class="ident" id="7016837"><a href="/log/log.go.html#3564859">Llongfile</a></span>&nbsp;<span class="op" id="7016847">|</span>&nbsp;<span class="ident" id="7016849"><a href="/log/log.go.html#3564940">Lshortfile</a></span><span class="op" id="7016859">,</span>&nbsp;<span class="string" id="7016861">&#34;&#34;</span><span class="op" id="7016863">,</span>&nbsp;<span class="ident" id="7016865"><a href="/log/log_test.go.html#7016303">Rshortfile</a></span>&nbsp;<span class="op" id="7016876">+</span>&nbsp;<span class="string" id="7016878">&#34;&nbsp;&#34;</span><span class="op" id="7016881">}</span><span class="op" id="7016882">,</span>&nbsp;<span class="comment" id="7016884">//&nbsp;shortfile&nbsp;overrides&nbsp;longfile</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7016917">//&nbsp;everything&nbsp;at&nbsp;once:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7016941">{</span><span class="ident" id="7016942"><a href="/log/log.go.html#3564660">Ldate</a></span>&nbsp;<span class="op" id="7016948">|</span>&nbsp;<span class="ident" id="7016950"><a href="/log/log.go.html#3564715">Ltime</a></span>&nbsp;<span class="op" id="7016956">|</span>&nbsp;<span class="ident" id="7016958"><a href="/log/log.go.html#3564768">Lmicroseconds</a></span>&nbsp;<span class="op" id="7016972">|</span>&nbsp;<span class="ident" id="7016974"><a href="/log/log.go.html#3564859">Llongfile</a></span><span class="op" id="7016983">,</span>&nbsp;<span class="string" id="7016985">&#34;XXX&#34;</span><span class="op" id="7016990">,</span>&nbsp;<span class="string" id="7016992">&#34;XXX&#34;</span>&nbsp;<span class="op" id="7016998">+</span>&nbsp;<span class="ident" id="7017000"><a href="/log/log_test.go.html#7015997">Rdate</a></span>&nbsp;<span class="op" id="7017006">+</span>&nbsp;<span class="string" id="7017008">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="7017012">+</span>&nbsp;<span class="ident" id="7017014"><a href="/log/log_test.go.html#7016059">Rtime</a></span>&nbsp;<span class="op" id="7017020">+</span>&nbsp;<span class="ident" id="7017022"><a href="/log/log_test.go.html#7016111">Rmicroseconds</a></span>&nbsp;<span class="op" id="7017036">+</span>&nbsp;<span class="string" id="7017038">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="7017042">+</span>&nbsp;<span class="ident" id="7017044"><a href="/log/log_test.go.html#7016252">Rlongfile</a></span>&nbsp;<span class="op" id="7017054">+</span>&nbsp;<span class="string" id="7017056">&#34;&nbsp;&#34;</span><span class="op" id="7017059">}</span><span class="op" id="7017060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7017063">{</span><span class="ident" id="7017064"><a href="/log/log.go.html#3564660">Ldate</a></span>&nbsp;<span class="op" id="7017070">|</span>&nbsp;<span class="ident" id="7017072"><a href="/log/log.go.html#3564715">Ltime</a></span>&nbsp;<span class="op" id="7017078">|</span>&nbsp;<span class="ident" id="7017080"><a href="/log/log.go.html#3564768">Lmicroseconds</a></span>&nbsp;<span class="op" id="7017094">|</span>&nbsp;<span class="ident" id="7017096"><a href="/log/log.go.html#3564940">Lshortfile</a></span><span class="op" id="7017106">,</span>&nbsp;<span class="string" id="7017108">&#34;XXX&#34;</span><span class="op" id="7017113">,</span>&nbsp;<span class="string" id="7017115">&#34;XXX&#34;</span>&nbsp;<span class="op" id="7017121">+</span>&nbsp;<span class="ident" id="7017123"><a href="/log/log_test.go.html#7015997">Rdate</a></span>&nbsp;<span class="op" id="7017129">+</span>&nbsp;<span class="string" id="7017131">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="7017135">+</span>&nbsp;<span class="ident" id="7017137"><a href="/log/log_test.go.html#7016059">Rtime</a></span>&nbsp;<span class="op" id="7017143">+</span>&nbsp;<span class="ident" id="7017145"><a href="/log/log_test.go.html#7016111">Rmicroseconds</a></span>&nbsp;<span class="op" id="7017159">+</span>&nbsp;<span class="string" id="7017161">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="7017165">+</span>&nbsp;<span class="ident" id="7017167"><a href="/log/log_test.go.html#7016303">Rshortfile</a></span>&nbsp;<span class="op" id="7017178">+</span>&nbsp;<span class="string" id="7017180">&#34;&nbsp;&#34;</span><span class="op" id="7017183">}</span><span class="op" id="7017184">,</span><br>
<span class="lineno">45</span><span class="op" id="7017186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7017189">//&nbsp;Test&nbsp;using&nbsp;Println(&#34;hello&#34;,&nbsp;23,&nbsp;&#34;world&#34;)&nbsp;or&nbsp;using&nbsp;Printf(&#34;hello&nbsp;%d&nbsp;world&#34;,&nbsp;23)</span><br>
<span class="lineno"></span><span class="keyword" id="7017271">func</span>&nbsp;<span class="ident" id="7017276">testPrint</span><span class="op" id="7017285">(</span><span class="ident" id="7017286">t</span>&nbsp;<span class="op" id="7017288">*</span><span class="ident" id="7017289"><a href="/log/log_test.go.html#7015975">testing</a></span><span class="op" id="7017296">.</span><span class="ident" id="7017297">T</span><span class="op" id="7017298">,</span>&nbsp;<span class="ident" id="7017300">flag</span>&nbsp;<span class="builtintype" id="7017305">int</span><span class="op" id="7017308">,</span>&nbsp;<span class="ident" id="7017310">prefix</span>&nbsp;<span class="builtintype" id="7017317">string</span><span class="op" id="7017323">,</span>&nbsp;<span class="ident" id="7017325">pattern</span>&nbsp;<span class="builtintype" id="7017333">string</span><span class="op" id="7017339">,</span>&nbsp;<span class="ident" id="7017341">useFormat</span>&nbsp;<span class="builtintype" id="7017351">bool</span><span class="op" id="7017355">)</span>&nbsp;<span class="op" id="7017357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017360">buf</span>&nbsp;<span class="op" id="7017364">:=</span>&nbsp;<span class="builtinfunc" id="7017367">new</span><span class="op" id="7017370">(</span><span class="ident" id="7017371"><a href="/log/log_test.go.html#7015950">bytes</a></span><span class="op" id="7017376">.</span><span class="ident" id="7017377">Buffer</span><span class="op" id="7017383">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017386"><a href="/log/log.go.html#3570783">SetOutput</a></span><span class="op" id="7017395">(</span><span class="ident" id="7017396"><a href="/log/log_test.go.html#7017360">buf</a></span><span class="op" id="7017399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017402"><a href="/log/log.go.html#3571027">SetFlags</a></span><span class="op" id="7017410">(</span><span class="ident" id="7017411"><a href="/log/log_test.go.html#7017300">flag</a></span><span class="op" id="7017415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017418"><a href="/log/log.go.html#3571245">SetPrefix</a></span><span class="op" id="7017427">(</span><span class="ident" id="7017428"><a href="/log/log_test.go.html#7017310">prefix</a></span><span class="op" id="7017434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7017437">if</span>&nbsp;<span class="ident" id="7017440"><a href="/log/log_test.go.html#7017341">useFormat</a></span>&nbsp;<span class="op" id="7017450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017454"><a href="/log/log.go.html#3571638">Printf</a></span><span class="op" id="7017460">(</span><span class="string" id="7017461">&#34;hello&nbsp;%d&nbsp;world&#34;</span><span class="op" id="7017477">,</span>&nbsp;<span class="num" id="7017479">23</span><span class="op" id="7017481">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7017484">}</span>&nbsp;<span class="keyword" id="7017486">else</span>&nbsp;<span class="op" id="7017491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017495"><a href="/log/log.go.html#3571842">Println</a></span><span class="op" id="7017502">(</span><span class="string" id="7017503">&#34;hello&#34;</span><span class="op" id="7017510">,</span>&nbsp;<span class="num" id="7017512">23</span><span class="op" id="7017514">,</span>&nbsp;<span class="string" id="7017516">&#34;world&#34;</span><span class="op" id="7017523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7017526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017529">line</span>&nbsp;<span class="op" id="7017534">:=</span>&nbsp;<span class="ident" id="7017537"><a href="/log/log_test.go.html#7017360">buf</a></span><span class="op" id="7017540">.</span><span class="ident" id="7017541">String</span><span class="op" id="7017547">(</span><span class="op" id="7017548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017551"><a href="/log/log_test.go.html#7017529">line</a></span>&nbsp;<span class="op" id="7017556">=</span>&nbsp;<span class="ident" id="7017558"><a href="/log/log_test.go.html#7017529">line</a></span><span class="op" id="7017562">[</span><span class="num" id="7017563">0</span>&nbsp;<span class="op" id="7017565">:</span>&nbsp;<span class="builtinfunc" id="7017567">len</span><span class="op" id="7017570">(</span><span class="ident" id="7017571"><a href="/log/log_test.go.html#7017529">line</a></span><span class="op" id="7017575">)</span><span class="op" id="7017576">-</span><span class="num" id="7017577">1</span><span class="op" id="7017578">]</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017581"><a href="/log/log_test.go.html#7017325">pattern</a></span>&nbsp;<span class="op" id="7017589">=</span>&nbsp;<span class="string" id="7017591">&#34;^&#34;</span>&nbsp;<span class="op" id="7017595">+</span>&nbsp;<span class="ident" id="7017597"><a href="/log/log_test.go.html#7017325">pattern</a></span>&nbsp;<span class="op" id="7017605">+</span>&nbsp;<span class="string" id="7017607">&#34;hello&nbsp;23&nbsp;world$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017626">matched</span><span class="op" id="7017633">,</span>&nbsp;<span class="ident" id="7017635">err4</span>&nbsp;<span class="op" id="7017640">:=</span>&nbsp;<span class="ident" id="7017643"><a href="/log/log_test.go.html#7015965">regexp</a></span><span class="op" id="7017649">.</span><span class="ident" id="7017650">MatchString</span><span class="op" id="7017661">(</span><span class="ident" id="7017662"><a href="/log/log_test.go.html#7017325">pattern</a></span><span class="op" id="7017669">,</span>&nbsp;<span class="ident" id="7017671"><a href="/log/log_test.go.html#7017529">line</a></span><span class="op" id="7017675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7017678">if</span>&nbsp;<span class="ident" id="7017681"><a href="/log/log_test.go.html#7017635">err4</a></span>&nbsp;<span class="op" id="7017686">!=</span>&nbsp;<span class="ident" id="7017689">nil</span>&nbsp;<span class="op" id="7017693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017697"><a href="/log/log_test.go.html#7017286">t</a></span><span class="op" id="7017698">.</span><span class="ident" id="7017699">Fatal</span><span class="op" id="7017704">(</span><span class="string" id="7017705">&#34;pattern&nbsp;did&nbsp;not&nbsp;compile:&#34;</span><span class="op" id="7017731">,</span>&nbsp;<span class="ident" id="7017733"><a href="/log/log_test.go.html#7017635">err4</a></span><span class="op" id="7017737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7017740">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7017743">if</span>&nbsp;<span class="op" id="7017746">!</span><span class="ident" id="7017747"><a href="/log/log_test.go.html#7017626">matched</a></span>&nbsp;<span class="op" id="7017755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017759"><a href="/log/log_test.go.html#7017286">t</a></span><span class="op" id="7017760">.</span><span class="ident" id="7017761">Errorf</span><span class="op" id="7017767">(</span><span class="string" id="7017768">&#34;log&nbsp;output&nbsp;should&nbsp;match&nbsp;%q&nbsp;is&nbsp;%q&#34;</span><span class="op" id="7017802">,</span>&nbsp;<span class="ident" id="7017804"><a href="/log/log_test.go.html#7017325">pattern</a></span><span class="op" id="7017811">,</span>&nbsp;<span class="ident" id="7017813"><a href="/log/log_test.go.html#7017529">line</a></span><span class="op" id="7017817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7017820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017823"><a href="/log/log.go.html#3570783">SetOutput</a></span><span class="op" id="7017832">(</span><span class="ident" id="7017833"><a href="/log/log_test.go.html#7015959">os</a></span><span class="op" id="7017835">.</span><span class="ident" id="7017836">Stderr</span><span class="op" id="7017842">)</span><br>
<span class="lineno"></span><span class="op" id="7017844">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7017847">func</span>&nbsp;<span class="ident" id="7017852">TestAll</span><span class="op" id="7017859">(</span><span class="ident" id="7017860">t</span>&nbsp;<span class="op" id="7017862">*</span><span class="ident" id="7017863"><a href="/log/log_test.go.html#7015975">testing</a></span><span class="op" id="7017870">.</span><span class="ident" id="7017871">T</span><span class="op" id="7017872">)</span>&nbsp;<span class="op" id="7017874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7017877">for</span>&nbsp;<span class="ident" id="7017881">_</span><span class="op" id="7017882">,</span>&nbsp;<span class="ident" id="7017884">testcase</span>&nbsp;<span class="op" id="7017893">:=</span>&nbsp;<span class="keyword" id="7017896">range</span>&nbsp;<span class="ident" id="7017902"><a href="/log/log_test.go.html#7016499">tests</a></span>&nbsp;<span class="op" id="7017908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017912"><a href="/log/log_test.go.html#7017276">testPrint</a></span><span class="op" id="7017921">(</span><span class="ident" id="7017922"><a href="/log/log_test.go.html#7017860">t</a></span><span class="op" id="7017923">,</span>&nbsp;<span class="ident" id="7017925"><a href="/log/log_test.go.html#7017884">testcase</a></span><span class="op" id="7017933">.</span><span class="ident" id="7017934">flag</span><span class="op" id="7017938">,</span>&nbsp;<span class="ident" id="7017940"><a href="/log/log_test.go.html#7017884">testcase</a></span><span class="op" id="7017948">.</span><span class="ident" id="7017949">prefix</span><span class="op" id="7017955">,</span>&nbsp;<span class="ident" id="7017957"><a href="/log/log_test.go.html#7017884">testcase</a></span><span class="op" id="7017965">.</span><span class="ident" id="7017966">pattern</span><span class="op" id="7017973">,</span>&nbsp;<span class="builtintype" id="7017975">false</span><span class="op" id="7017980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7017984"><a href="/log/log_test.go.html#7017276">testPrint</a></span><span class="op" id="7017993">(</span><span class="ident" id="7017994"><a href="/log/log_test.go.html#7017860">t</a></span><span class="op" id="7017995">,</span>&nbsp;<span class="ident" id="7017997"><a href="/log/log_test.go.html#7017884">testcase</a></span><span class="op" id="7018005">.</span><span class="ident" id="7018006">flag</span><span class="op" id="7018010">,</span>&nbsp;<span class="ident" id="7018012"><a href="/log/log_test.go.html#7017884">testcase</a></span><span class="op" id="7018020">.</span><span class="ident" id="7018021">prefix</span><span class="op" id="7018027">,</span>&nbsp;<span class="ident" id="7018029"><a href="/log/log_test.go.html#7017884">testcase</a></span><span class="op" id="7018037">.</span><span class="ident" id="7018038">pattern</span><span class="op" id="7018045">,</span>&nbsp;<span class="builtintype" id="7018047">true</span><span class="op" id="7018051">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7018054">}</span><br>
<span class="lineno"></span><span class="op" id="7018056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7018059">func</span>&nbsp;<span class="ident" id="7018064">TestOutput</span><span class="op" id="7018074">(</span><span class="ident" id="7018075">t</span>&nbsp;<span class="op" id="7018077">*</span><span class="ident" id="7018078"><a href="/log/log_test.go.html#7015975">testing</a></span><span class="op" id="7018085">.</span><span class="ident" id="7018086">T</span><span class="op" id="7018087">)</span>&nbsp;<span class="op" id="7018089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018092">const</span>&nbsp;<span class="ident" id="7018098">testString</span>&nbsp;<span class="op" id="7018109">=</span>&nbsp;<span class="string" id="7018111">&#34;test&#34;</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018119">var</span>&nbsp;<span class="ident" id="7018123">b</span>&nbsp;<span class="ident" id="7018125"><a href="/log/log_test.go.html#7015950">bytes</a></span><span class="op" id="7018130">.</span><span class="ident" id="7018131">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018139">l</span>&nbsp;<span class="op" id="7018141">:=</span>&nbsp;<span class="ident" id="7018144"><a href="/log/log.go.html#3565936">New</a></span><span class="op" id="7018147">(</span><span class="op" id="7018148">&amp;</span><span class="ident" id="7018149"><a href="/log/log_test.go.html#7018123">b</a></span><span class="op" id="7018150">,</span>&nbsp;<span class="string" id="7018152">&#34;&#34;</span><span class="op" id="7018154">,</span>&nbsp;<span class="num" id="7018156">0</span><span class="op" id="7018157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018160"><a href="/log/log_test.go.html#7018139">l</a></span><span class="op" id="7018161">.</span><span class="ident" id="7018162">Println</span><span class="op" id="7018169">(</span><span class="ident" id="7018170"><a href="/log/log_test.go.html#7018098">testString</a></span><span class="op" id="7018180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018183">if</span>&nbsp;<span class="ident" id="7018186">expect</span>&nbsp;<span class="op" id="7018193">:=</span>&nbsp;<span class="ident" id="7018196"><a href="/log/log_test.go.html#7018098">testString</a></span>&nbsp;<span class="op" id="7018207">+</span>&nbsp;<span class="string" id="7018209">&#34;\n&#34;</span><span class="op" id="7018213">;</span>&nbsp;<span class="ident" id="7018215"><a href="/log/log_test.go.html#7018123">b</a></span><span class="op" id="7018216">.</span><span class="ident" id="7018217">String</span><span class="op" id="7018223">(</span><span class="op" id="7018224">)</span>&nbsp;<span class="op" id="7018226">!=</span>&nbsp;<span class="ident" id="7018229"><a href="/log/log_test.go.html#7018186">expect</a></span>&nbsp;<span class="op" id="7018236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018240"><a href="/log/log_test.go.html#7018075">t</a></span><span class="op" id="7018241">.</span><span class="ident" id="7018242">Errorf</span><span class="op" id="7018248">(</span><span class="string" id="7018249">&#34;log&nbsp;output&nbsp;should&nbsp;match&nbsp;%q&nbsp;is&nbsp;%q&#34;</span><span class="op" id="7018283">,</span>&nbsp;<span class="ident" id="7018285"><a href="/log/log_test.go.html#7018186">expect</a></span><span class="op" id="7018291">,</span>&nbsp;<span class="ident" id="7018293"><a href="/log/log_test.go.html#7018123">b</a></span><span class="op" id="7018294">.</span><span class="ident" id="7018295">String</span><span class="op" id="7018301">(</span><span class="op" id="7018302">)</span><span class="op" id="7018303">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7018306">}</span><br>
<span class="lineno"></span><span class="op" id="7018308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7018311">func</span>&nbsp;<span class="ident" id="7018316">TestFlagAndPrefixSetting</span><span class="op" id="7018340">(</span><span class="ident" id="7018341">t</span>&nbsp;<span class="op" id="7018343">*</span><span class="ident" id="7018344"><a href="/log/log_test.go.html#7015975">testing</a></span><span class="op" id="7018351">.</span><span class="ident" id="7018352">T</span><span class="op" id="7018353">)</span>&nbsp;<span class="op" id="7018355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018358">var</span>&nbsp;<span class="ident" id="7018362">b</span>&nbsp;<span class="ident" id="7018364"><a href="/log/log_test.go.html#7015950">bytes</a></span><span class="op" id="7018369">.</span><span class="ident" id="7018370">Buffer</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018378">l</span>&nbsp;<span class="op" id="7018380">:=</span>&nbsp;<span class="ident" id="7018383"><a href="/log/log.go.html#3565936">New</a></span><span class="op" id="7018386">(</span><span class="op" id="7018387">&amp;</span><span class="ident" id="7018388"><a href="/log/log_test.go.html#7018362">b</a></span><span class="op" id="7018389">,</span>&nbsp;<span class="string" id="7018391">&#34;Test:&#34;</span><span class="op" id="7018398">,</span>&nbsp;<span class="ident" id="7018400"><a href="/log/log.go.html#3565044">LstdFlags</a></span><span class="op" id="7018409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018412">f</span>&nbsp;<span class="op" id="7018414">:=</span>&nbsp;<span class="ident" id="7018417"><a href="/log/log_test.go.html#7018378">l</a></span><span class="op" id="7018418">.</span><span class="ident" id="7018419">Flags</span><span class="op" id="7018424">(</span><span class="op" id="7018425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018428">if</span>&nbsp;<span class="ident" id="7018431"><a href="/log/log_test.go.html#7018412">f</a></span>&nbsp;<span class="op" id="7018433">!=</span>&nbsp;<span class="ident" id="7018436"><a href="/log/log.go.html#3565044">LstdFlags</a></span>&nbsp;<span class="op" id="7018446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018450"><a href="/log/log_test.go.html#7018341">t</a></span><span class="op" id="7018451">.</span><span class="ident" id="7018452">Errorf</span><span class="op" id="7018458">(</span><span class="string" id="7018459">&#34;Flags&nbsp;1:&nbsp;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="7018488">,</span>&nbsp;<span class="ident" id="7018490"><a href="/log/log.go.html#3565044">LstdFlags</a></span><span class="op" id="7018499">,</span>&nbsp;<span class="ident" id="7018501"><a href="/log/log_test.go.html#7018412">f</a></span><span class="op" id="7018502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7018505">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018508"><a href="/log/log_test.go.html#7018378">l</a></span><span class="op" id="7018509">.</span><span class="ident" id="7018510">SetFlags</span><span class="op" id="7018518">(</span><span class="ident" id="7018519"><a href="/log/log_test.go.html#7018412">f</a></span>&nbsp;<span class="op" id="7018521">|</span>&nbsp;<span class="ident" id="7018523"><a href="/log/log.go.html#3564768">Lmicroseconds</a></span><span class="op" id="7018536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018539"><a href="/log/log_test.go.html#7018412">f</a></span>&nbsp;<span class="op" id="7018541">=</span>&nbsp;<span class="ident" id="7018543"><a href="/log/log_test.go.html#7018378">l</a></span><span class="op" id="7018544">.</span><span class="ident" id="7018545">Flags</span><span class="op" id="7018550">(</span><span class="op" id="7018551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018554">if</span>&nbsp;<span class="ident" id="7018557"><a href="/log/log_test.go.html#7018412">f</a></span>&nbsp;<span class="op" id="7018559">!=</span>&nbsp;<span class="ident" id="7018562"><a href="/log/log.go.html#3565044">LstdFlags</a></span><span class="op" id="7018571">|</span><span class="ident" id="7018572"><a href="/log/log.go.html#3564768">Lmicroseconds</a></span>&nbsp;<span class="op" id="7018586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018590"><a href="/log/log_test.go.html#7018341">t</a></span><span class="op" id="7018591">.</span><span class="ident" id="7018592">Errorf</span><span class="op" id="7018598">(</span><span class="string" id="7018599">&#34;Flags&nbsp;2:&nbsp;expected&nbsp;%x&nbsp;got&nbsp;%x&#34;</span><span class="op" id="7018628">,</span>&nbsp;<span class="ident" id="7018630"><a href="/log/log.go.html#3565044">LstdFlags</a></span><span class="op" id="7018639">|</span><span class="ident" id="7018640"><a href="/log/log.go.html#3564768">Lmicroseconds</a></span><span class="op" id="7018653">,</span>&nbsp;<span class="ident" id="7018655"><a href="/log/log_test.go.html#7018412">f</a></span><span class="op" id="7018656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7018659">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018662">p</span>&nbsp;<span class="op" id="7018664">:=</span>&nbsp;<span class="ident" id="7018667"><a href="/log/log_test.go.html#7018378">l</a></span><span class="op" id="7018668">.</span><span class="ident" id="7018669">Prefix</span><span class="op" id="7018675">(</span><span class="op" id="7018676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018679">if</span>&nbsp;<span class="ident" id="7018682"><a href="/log/log_test.go.html#7018662">p</a></span>&nbsp;<span class="op" id="7018684">!=</span>&nbsp;<span class="string" id="7018687">&#34;Test:&#34;</span>&nbsp;<span class="op" id="7018695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018699"><a href="/log/log_test.go.html#7018341">t</a></span><span class="op" id="7018700">.</span><span class="ident" id="7018701">Errorf</span><span class="op" id="7018707">(</span><span class="string" id="7018708">`Prefix:&nbsp;expected&nbsp;&#34;Test:&#34;&nbsp;got&nbsp;%q`</span><span class="op" id="7018741">,</span>&nbsp;<span class="ident" id="7018743"><a href="/log/log_test.go.html#7018662">p</a></span><span class="op" id="7018744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7018747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018750"><a href="/log/log_test.go.html#7018378">l</a></span><span class="op" id="7018751">.</span><span class="ident" id="7018752">SetPrefix</span><span class="op" id="7018761">(</span><span class="string" id="7018762">&#34;Reality:&#34;</span><span class="op" id="7018772">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018775"><a href="/log/log_test.go.html#7018662">p</a></span>&nbsp;<span class="op" id="7018777">=</span>&nbsp;<span class="ident" id="7018779"><a href="/log/log_test.go.html#7018378">l</a></span><span class="op" id="7018780">.</span><span class="ident" id="7018781">Prefix</span><span class="op" id="7018787">(</span><span class="op" id="7018788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7018791">if</span>&nbsp;<span class="ident" id="7018794"><a href="/log/log_test.go.html#7018662">p</a></span>&nbsp;<span class="op" id="7018796">!=</span>&nbsp;<span class="string" id="7018799">&#34;Reality:&#34;</span>&nbsp;<span class="op" id="7018810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018814"><a href="/log/log_test.go.html#7018341">t</a></span><span class="op" id="7018815">.</span><span class="ident" id="7018816">Errorf</span><span class="op" id="7018822">(</span><span class="string" id="7018823">`Prefix:&nbsp;expected&nbsp;&#34;Reality:&#34;&nbsp;got&nbsp;%q`</span><span class="op" id="7018859">,</span>&nbsp;<span class="ident" id="7018861"><a href="/log/log_test.go.html#7018662">p</a></span><span class="op" id="7018862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7018865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7018868">//&nbsp;Verify&nbsp;a&nbsp;log&nbsp;message&nbsp;looks&nbsp;right,&nbsp;with&nbsp;our&nbsp;prefix&nbsp;and&nbsp;microseconds&nbsp;present.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018948"><a href="/log/log_test.go.html#7018378">l</a></span><span class="op" id="7018949">.</span><span class="ident" id="7018950">Print</span><span class="op" id="7018955">(</span><span class="string" id="7018956">&#34;hello&#34;</span><span class="op" id="7018963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7018966">pattern</span>&nbsp;<span class="op" id="7018974">:=</span>&nbsp;<span class="string" id="7018977">&#34;^Reality:&#34;</span>&nbsp;<span class="op" id="7018989">+</span>&nbsp;<span class="ident" id="7018991"><a href="/log/log_test.go.html#7015997">Rdate</a></span>&nbsp;<span class="op" id="7018997">+</span>&nbsp;<span class="string" id="7018999">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="7019003">+</span>&nbsp;<span class="ident" id="7019005"><a href="/log/log_test.go.html#7016059">Rtime</a></span>&nbsp;<span class="op" id="7019011">+</span>&nbsp;<span class="ident" id="7019013"><a href="/log/log_test.go.html#7016111">Rmicroseconds</a></span>&nbsp;<span class="op" id="7019027">+</span>&nbsp;<span class="string" id="7019029">&#34;&nbsp;hello\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7019041">matched</span><span class="op" id="7019048">,</span>&nbsp;<span class="ident" id="7019050">err</span>&nbsp;<span class="op" id="7019054">:=</span>&nbsp;<span class="ident" id="7019057"><a href="/log/log_test.go.html#7015965">regexp</a></span><span class="op" id="7019063">.</span><span class="ident" id="7019064">Match</span><span class="op" id="7019069">(</span><span class="ident" id="7019070"><a href="/log/log_test.go.html#7018966">pattern</a></span><span class="op" id="7019077">,</span>&nbsp;<span class="ident" id="7019079"><a href="/log/log_test.go.html#7018362">b</a></span><span class="op" id="7019080">.</span><span class="ident" id="7019081">Bytes</span><span class="op" id="7019086">(</span><span class="op" id="7019087">)</span><span class="op" id="7019088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7019091">if</span>&nbsp;<span class="ident" id="7019094"><a href="/log/log_test.go.html#7019050">err</a></span>&nbsp;<span class="op" id="7019098">!=</span>&nbsp;<span class="ident" id="7019101">nil</span>&nbsp;<span class="op" id="7019105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7019109"><a href="/log/log_test.go.html#7018341">t</a></span><span class="op" id="7019110">.</span><span class="ident" id="7019111">Fatalf</span><span class="op" id="7019117">(</span><span class="string" id="7019118">&#34;pattern&nbsp;%q&nbsp;did&nbsp;not&nbsp;compile:&nbsp;%s&#34;</span><span class="op" id="7019150">,</span>&nbsp;<span class="ident" id="7019152"><a href="/log/log_test.go.html#7018966">pattern</a></span><span class="op" id="7019159">,</span>&nbsp;<span class="ident" id="7019161"><a href="/log/log_test.go.html#7019050">err</a></span><span class="op" id="7019164">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7019167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7019170">if</span>&nbsp;<span class="op" id="7019173">!</span><span class="ident" id="7019174"><a href="/log/log_test.go.html#7019041">matched</a></span>&nbsp;<span class="op" id="7019182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7019186"><a href="/log/log_test.go.html#7018341">t</a></span><span class="op" id="7019187">.</span><span class="ident" id="7019188">Error</span><span class="op" id="7019193">(</span><span class="string" id="7019194">&#34;message&nbsp;did&nbsp;not&nbsp;match&nbsp;pattern&#34;</span><span class="op" id="7019225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7019228">}</span><br>
<span class="lineno"></span><span class="op" id="7019230">}</span>
</div>
</body>
</html>
