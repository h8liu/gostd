<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7441844">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7441900">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7441954">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7442005">package</span>&nbsp;<span class="ident" id="7442013">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7442018">import</span>&nbsp;<span class="op" id="7442025">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7442028">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7442039">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7442049">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7442052">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="7442120">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7442187">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="7442197">func</span>&nbsp;<span class="ident" id="7442202">loopbackInterface</span><span class="op" id="7442219">(</span><span class="op" id="7442220">)</span>&nbsp;<span class="op" id="7442222">*</span><span class="ident" id="7442223">Interface</span>&nbsp;<span class="op" id="7442233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442236">ift</span><span class="op" id="7442239">,</span>&nbsp;<span class="ident" id="7442241">err</span>&nbsp;<span class="op" id="7442245">:=</span>&nbsp;<span class="ident" id="7442248">Interfaces</span><span class="op" id="7442258">(</span><span class="op" id="7442259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442262">if</span>&nbsp;<span class="ident" id="7442265">err</span>&nbsp;<span class="op" id="7442269">!=</span>&nbsp;<span class="ident" id="7442272">nil</span>&nbsp;<span class="op" id="7442276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442280">return</span>&nbsp;<span class="ident" id="7442287">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442292">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442295">for</span>&nbsp;<span class="ident" id="7442299">_</span><span class="op" id="7442300">,</span>&nbsp;<span class="ident" id="7442302">ifi</span>&nbsp;<span class="op" id="7442306">:=</span>&nbsp;<span class="keyword" id="7442309">range</span>&nbsp;<span class="ident" id="7442315">ift</span>&nbsp;<span class="op" id="7442319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442323">if</span>&nbsp;<span class="ident" id="7442326">ifi</span><span class="op" id="7442329">.</span><span class="ident" id="7442330">Flags</span><span class="op" id="7442335">&amp;</span><span class="ident" id="7442336">FlagLoopback</span>&nbsp;<span class="op" id="7442349">!=</span>&nbsp;<span class="num" id="7442352">0</span>&nbsp;<span class="op" id="7442354">&amp;&amp;</span>&nbsp;<span class="ident" id="7442357">ifi</span><span class="op" id="7442360">.</span><span class="ident" id="7442361">Flags</span><span class="op" id="7442366">&amp;</span><span class="ident" id="7442367">FlagUp</span>&nbsp;<span class="op" id="7442374">!=</span>&nbsp;<span class="num" id="7442377">0</span>&nbsp;<span class="op" id="7442379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442384">return</span>&nbsp;<span class="op" id="7442391">&amp;</span><span class="ident" id="7442392">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442401">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442404">return</span>&nbsp;<span class="ident" id="7442411">nil</span><br>
<span class="lineno"></span><span class="op" id="7442415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7442418">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="7442489">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="7442554">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="7442584">func</span>&nbsp;<span class="ident" id="7442589">ipv6LinkLocalUnicastAddr</span><span class="op" id="7442613">(</span><span class="ident" id="7442614">ifi</span>&nbsp;<span class="op" id="7442618">*</span><span class="ident" id="7442619">Interface</span><span class="op" id="7442628">)</span>&nbsp;<span class="builtintype" id="7442630">string</span>&nbsp;<span class="op" id="7442637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442640">if</span>&nbsp;<span class="ident" id="7442643">ifi</span>&nbsp;<span class="op" id="7442647">==</span>&nbsp;<span class="ident" id="7442650">nil</span>&nbsp;<span class="op" id="7442654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442658">return</span>&nbsp;<span class="string" id="7442665">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442669">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442672">ifat</span><span class="op" id="7442676">,</span>&nbsp;<span class="ident" id="7442678">err</span>&nbsp;<span class="op" id="7442682">:=</span>&nbsp;<span class="ident" id="7442685">ifi</span><span class="op" id="7442688">.</span><span class="ident" id="7442689">Addrs</span><span class="op" id="7442694">(</span><span class="op" id="7442695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442698">if</span>&nbsp;<span class="ident" id="7442701">err</span>&nbsp;<span class="op" id="7442705">!=</span>&nbsp;<span class="ident" id="7442708">nil</span>&nbsp;<span class="op" id="7442712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442716">return</span>&nbsp;<span class="string" id="7442723">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442730">for</span>&nbsp;<span class="ident" id="7442734">_</span><span class="op" id="7442735">,</span>&nbsp;<span class="ident" id="7442737">ifa</span>&nbsp;<span class="op" id="7442741">:=</span>&nbsp;<span class="keyword" id="7442744">range</span>&nbsp;<span class="ident" id="7442750">ifat</span>&nbsp;<span class="op" id="7442755">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442759">switch</span>&nbsp;<span class="ident" id="7442766">ifa</span>&nbsp;<span class="op" id="7442770">:=</span>&nbsp;<span class="ident" id="7442773">ifa</span><span class="op" id="7442776">.</span><span class="op" id="7442777">(</span><span class="keyword" id="7442778">type</span><span class="op" id="7442782">)</span>&nbsp;<span class="op" id="7442784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442788">case</span>&nbsp;<span class="op" id="7442793">*</span><span class="ident" id="7442794">IPAddr</span><span class="op" id="7442800">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442805">if</span>&nbsp;<span class="ident" id="7442808">ifa</span><span class="op" id="7442811">.</span><span class="ident" id="7442812">IP</span><span class="op" id="7442814">.</span><span class="ident" id="7442815">To4</span><span class="op" id="7442818">(</span><span class="op" id="7442819">)</span>&nbsp;<span class="op" id="7442821">==</span>&nbsp;<span class="ident" id="7442824">nil</span>&nbsp;<span class="op" id="7442828">&amp;&amp;</span>&nbsp;<span class="ident" id="7442831">ifa</span><span class="op" id="7442834">.</span><span class="ident" id="7442835">IP</span><span class="op" id="7442837">.</span><span class="ident" id="7442838">IsLinkLocalUnicast</span><span class="op" id="7442856">(</span><span class="op" id="7442857">)</span>&nbsp;<span class="op" id="7442859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442865">return</span>&nbsp;<span class="ident" id="7442872">ifa</span><span class="op" id="7442875">.</span><span class="ident" id="7442876">IP</span><span class="op" id="7442878">.</span><span class="ident" id="7442879">String</span><span class="op" id="7442885">(</span><span class="op" id="7442886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442891">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442895">case</span>&nbsp;<span class="op" id="7442900">*</span><span class="ident" id="7442901">IPNet</span><span class="op" id="7442906">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442911">if</span>&nbsp;<span class="ident" id="7442914">ifa</span><span class="op" id="7442917">.</span><span class="ident" id="7442918">IP</span><span class="op" id="7442920">.</span><span class="ident" id="7442921">To4</span><span class="op" id="7442924">(</span><span class="op" id="7442925">)</span>&nbsp;<span class="op" id="7442927">==</span>&nbsp;<span class="ident" id="7442930">nil</span>&nbsp;<span class="op" id="7442934">&amp;&amp;</span>&nbsp;<span class="ident" id="7442937">ifa</span><span class="op" id="7442940">.</span><span class="ident" id="7442941">IP</span><span class="op" id="7442943">.</span><span class="ident" id="7442944">IsLinkLocalUnicast</span><span class="op" id="7442962">(</span><span class="op" id="7442963">)</span>&nbsp;<span class="op" id="7442965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442971">return</span>&nbsp;<span class="ident" id="7442978">ifa</span><span class="op" id="7442981">.</span><span class="ident" id="7442982">IP</span><span class="op" id="7442984">.</span><span class="ident" id="7442985">String</span><span class="op" id="7442991">(</span><span class="op" id="7442992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443001">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443007">return</span>&nbsp;<span class="string" id="7443014">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7443017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7443020">func</span>&nbsp;<span class="ident" id="7443025">TestInterfaces</span><span class="op" id="7443039">(</span><span class="ident" id="7443040">t</span>&nbsp;<span class="op" id="7443042">*</span><span class="ident" id="7443043">testing</span><span class="op" id="7443050">.</span><span class="ident" id="7443051">T</span><span class="op" id="7443052">)</span>&nbsp;<span class="op" id="7443054">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443057">ift</span><span class="op" id="7443060">,</span>&nbsp;<span class="ident" id="7443062">err</span>&nbsp;<span class="op" id="7443066">:=</span>&nbsp;<span class="ident" id="7443069">Interfaces</span><span class="op" id="7443079">(</span><span class="op" id="7443080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443083">if</span>&nbsp;<span class="ident" id="7443086">err</span>&nbsp;<span class="op" id="7443090">!=</span>&nbsp;<span class="ident" id="7443093">nil</span>&nbsp;<span class="op" id="7443097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443101">t</span><span class="op" id="7443102">.</span><span class="ident" id="7443103">Fatalf</span><span class="op" id="7443109">(</span><span class="string" id="7443110">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7443133">,</span>&nbsp;<span class="ident" id="7443135">err</span><span class="op" id="7443138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443144">t</span><span class="op" id="7443145">.</span><span class="ident" id="7443146">Logf</span><span class="op" id="7443150">(</span><span class="string" id="7443151">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7443175">,</span>&nbsp;<span class="builtinfunc" id="7443177">len</span><span class="op" id="7443180">(</span><span class="ident" id="7443181">ift</span><span class="op" id="7443184">)</span><span class="op" id="7443185">,</span>&nbsp;<span class="builtinfunc" id="7443187">cap</span><span class="op" id="7443190">(</span><span class="ident" id="7443191">ift</span><span class="op" id="7443194">)</span><span class="op" id="7443195">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443199">for</span>&nbsp;<span class="ident" id="7443203">_</span><span class="op" id="7443204">,</span>&nbsp;<span class="ident" id="7443206">ifi</span>&nbsp;<span class="op" id="7443210">:=</span>&nbsp;<span class="keyword" id="7443213">range</span>&nbsp;<span class="ident" id="7443219">ift</span>&nbsp;<span class="op" id="7443223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443227">ifxi</span><span class="op" id="7443231">,</span>&nbsp;<span class="ident" id="7443233">err</span>&nbsp;<span class="op" id="7443237">:=</span>&nbsp;<span class="ident" id="7443240">InterfaceByIndex</span><span class="op" id="7443256">(</span><span class="ident" id="7443257">ifi</span><span class="op" id="7443260">.</span><span class="ident" id="7443261">Index</span><span class="op" id="7443266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443270">if</span>&nbsp;<span class="ident" id="7443273">err</span>&nbsp;<span class="op" id="7443277">!=</span>&nbsp;<span class="ident" id="7443280">nil</span>&nbsp;<span class="op" id="7443284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443289">t</span><span class="op" id="7443290">.</span><span class="ident" id="7443291">Fatalf</span><span class="op" id="7443297">(</span><span class="string" id="7443298">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7443331">,</span>&nbsp;<span class="ident" id="7443333">ifi</span><span class="op" id="7443336">.</span><span class="ident" id="7443337">Index</span><span class="op" id="7443342">,</span>&nbsp;<span class="ident" id="7443344">err</span><span class="op" id="7443347">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443355">if</span>&nbsp;<span class="op" id="7443358">!</span><span class="ident" id="7443359">reflect</span><span class="op" id="7443366">.</span><span class="ident" id="7443367">DeepEqual</span><span class="op" id="7443376">(</span><span class="ident" id="7443377">ifxi</span><span class="op" id="7443381">,</span>&nbsp;<span class="op" id="7443383">&amp;</span><span class="ident" id="7443384">ifi</span><span class="op" id="7443387">)</span>&nbsp;<span class="op" id="7443389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443394">t</span><span class="op" id="7443395">.</span><span class="ident" id="7443396">Fatalf</span><span class="op" id="7443402">(</span><span class="string" id="7443403">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7443439">,</span>&nbsp;<span class="ident" id="7443441">ifi</span><span class="op" id="7443444">.</span><span class="ident" id="7443445">Index</span><span class="op" id="7443450">,</span>&nbsp;<span class="ident" id="7443452">ifxi</span><span class="op" id="7443456">,</span>&nbsp;<span class="ident" id="7443458">ifi</span><span class="op" id="7443461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443469">ifxn</span><span class="op" id="7443473">,</span>&nbsp;<span class="ident" id="7443475">err</span>&nbsp;<span class="op" id="7443479">:=</span>&nbsp;<span class="ident" id="7443482">InterfaceByName</span><span class="op" id="7443497">(</span><span class="ident" id="7443498">ifi</span><span class="op" id="7443501">.</span><span class="ident" id="7443502">Name</span><span class="op" id="7443506">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443510">if</span>&nbsp;<span class="ident" id="7443513">err</span>&nbsp;<span class="op" id="7443517">!=</span>&nbsp;<span class="ident" id="7443520">nil</span>&nbsp;<span class="op" id="7443524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443529">t</span><span class="op" id="7443530">.</span><span class="ident" id="7443531">Fatalf</span><span class="op" id="7443537">(</span><span class="string" id="7443538">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7443570">,</span>&nbsp;<span class="ident" id="7443572">ifi</span><span class="op" id="7443575">.</span><span class="ident" id="7443576">Name</span><span class="op" id="7443580">,</span>&nbsp;<span class="ident" id="7443582">err</span><span class="op" id="7443585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443593">if</span>&nbsp;<span class="op" id="7443596">!</span><span class="ident" id="7443597">reflect</span><span class="op" id="7443604">.</span><span class="ident" id="7443605">DeepEqual</span><span class="op" id="7443614">(</span><span class="ident" id="7443615">ifxn</span><span class="op" id="7443619">,</span>&nbsp;<span class="op" id="7443621">&amp;</span><span class="ident" id="7443622">ifi</span><span class="op" id="7443625">)</span>&nbsp;<span class="op" id="7443627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443632">t</span><span class="op" id="7443633">.</span><span class="ident" id="7443634">Fatalf</span><span class="op" id="7443640">(</span><span class="string" id="7443641">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7443676">,</span>&nbsp;<span class="ident" id="7443678">ifi</span><span class="op" id="7443681">.</span><span class="ident" id="7443682">Name</span><span class="op" id="7443686">,</span>&nbsp;<span class="ident" id="7443688">ifxn</span><span class="op" id="7443692">,</span>&nbsp;<span class="ident" id="7443694">ifi</span><span class="op" id="7443697">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443705">t</span><span class="op" id="7443706">.</span><span class="ident" id="7443707">Logf</span><span class="op" id="7443711">(</span><span class="string" id="7443712">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="7443746">,</span>&nbsp;<span class="ident" id="7443748">ifi</span><span class="op" id="7443751">.</span><span class="ident" id="7443752">Name</span><span class="op" id="7443756">,</span>&nbsp;<span class="ident" id="7443758">ifi</span><span class="op" id="7443761">.</span><span class="ident" id="7443762">Flags</span><span class="op" id="7443767">.</span><span class="ident" id="7443768">String</span><span class="op" id="7443774">(</span><span class="op" id="7443775">)</span><span class="op" id="7443776">,</span>&nbsp;<span class="ident" id="7443778">ifi</span><span class="op" id="7443781">.</span><span class="ident" id="7443782">Index</span><span class="op" id="7443787">,</span>&nbsp;<span class="ident" id="7443789">ifi</span><span class="op" id="7443792">.</span><span class="ident" id="7443793">MTU</span><span class="op" id="7443796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443800">t</span><span class="op" id="7443801">.</span><span class="ident" id="7443802">Logf</span><span class="op" id="7443806">(</span><span class="string" id="7443807">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7443830">,</span>&nbsp;<span class="ident" id="7443832">ifi</span><span class="op" id="7443835">.</span><span class="ident" id="7443836">HardwareAddr</span><span class="op" id="7443848">.</span><span class="ident" id="7443849">String</span><span class="op" id="7443855">(</span><span class="op" id="7443856">)</span><span class="op" id="7443857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443861">testInterfaceAddrs</span><span class="op" id="7443879">(</span><span class="ident" id="7443880">t</span><span class="op" id="7443881">,</span>&nbsp;<span class="op" id="7443883">&amp;</span><span class="ident" id="7443884">ifi</span><span class="op" id="7443887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443891">testInterfaceMulticastAddrs</span><span class="op" id="7443918">(</span><span class="ident" id="7443919">t</span><span class="op" id="7443920">,</span>&nbsp;<span class="op" id="7443922">&amp;</span><span class="ident" id="7443923">ifi</span><span class="op" id="7443926">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443929">}</span><br>
<span class="lineno"></span><span class="op" id="7443931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7443934">func</span>&nbsp;<span class="ident" id="7443939">TestInterfaceAddrs</span><span class="op" id="7443957">(</span><span class="ident" id="7443958">t</span>&nbsp;<span class="op" id="7443960">*</span><span class="ident" id="7443961">testing</span><span class="op" id="7443968">.</span><span class="ident" id="7443969">T</span><span class="op" id="7443970">)</span>&nbsp;<span class="op" id="7443972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443975">ifat</span><span class="op" id="7443979">,</span>&nbsp;<span class="ident" id="7443981">err</span>&nbsp;<span class="op" id="7443985">:=</span>&nbsp;<span class="ident" id="7443988">InterfaceAddrs</span><span class="op" id="7444002">(</span><span class="op" id="7444003">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444006">if</span>&nbsp;<span class="ident" id="7444009">err</span>&nbsp;<span class="op" id="7444013">!=</span>&nbsp;<span class="ident" id="7444016">nil</span>&nbsp;<span class="op" id="7444020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444024">t</span><span class="op" id="7444025">.</span><span class="ident" id="7444026">Fatalf</span><span class="op" id="7444032">(</span><span class="string" id="7444033">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7444060">,</span>&nbsp;<span class="ident" id="7444062">err</span><span class="op" id="7444065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444071">t</span><span class="op" id="7444072">.</span><span class="ident" id="7444073">Logf</span><span class="op" id="7444077">(</span><span class="string" id="7444078">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="7444102">,</span>&nbsp;<span class="builtinfunc" id="7444104">len</span><span class="op" id="7444107">(</span><span class="ident" id="7444108">ifat</span><span class="op" id="7444112">)</span><span class="op" id="7444113">,</span>&nbsp;<span class="builtinfunc" id="7444115">cap</span><span class="op" id="7444118">(</span><span class="ident" id="7444119">ifat</span><span class="op" id="7444123">)</span><span class="op" id="7444124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444127">testAddrs</span><span class="op" id="7444136">(</span><span class="ident" id="7444137">t</span><span class="op" id="7444138">,</span>&nbsp;<span class="ident" id="7444140">ifat</span><span class="op" id="7444144">)</span><br>
<span class="lineno">90</span><span class="op" id="7444146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444149">func</span>&nbsp;<span class="ident" id="7444154">testInterfaceAddrs</span><span class="op" id="7444172">(</span><span class="ident" id="7444173">t</span>&nbsp;<span class="op" id="7444175">*</span><span class="ident" id="7444176">testing</span><span class="op" id="7444183">.</span><span class="ident" id="7444184">T</span><span class="op" id="7444185">,</span>&nbsp;<span class="ident" id="7444187">ifi</span>&nbsp;<span class="op" id="7444191">*</span><span class="ident" id="7444192">Interface</span><span class="op" id="7444201">)</span>&nbsp;<span class="op" id="7444203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444206">ifat</span><span class="op" id="7444210">,</span>&nbsp;<span class="ident" id="7444212">err</span>&nbsp;<span class="op" id="7444216">:=</span>&nbsp;<span class="ident" id="7444219">ifi</span><span class="op" id="7444222">.</span><span class="ident" id="7444223">Addrs</span><span class="op" id="7444228">(</span><span class="op" id="7444229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444232">if</span>&nbsp;<span class="ident" id="7444235">err</span>&nbsp;<span class="op" id="7444239">!=</span>&nbsp;<span class="ident" id="7444242">nil</span>&nbsp;<span class="op" id="7444246">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444250">t</span><span class="op" id="7444251">.</span><span class="ident" id="7444252">Fatalf</span><span class="op" id="7444258">(</span><span class="string" id="7444259">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7444287">,</span>&nbsp;<span class="ident" id="7444289">err</span><span class="op" id="7444292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444298">testAddrs</span><span class="op" id="7444307">(</span><span class="ident" id="7444308">t</span><span class="op" id="7444309">,</span>&nbsp;<span class="ident" id="7444311">ifat</span><span class="op" id="7444315">)</span><br>
<span class="lineno"></span><span class="op" id="7444317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7444320">func</span>&nbsp;<span class="ident" id="7444325">testInterfaceMulticastAddrs</span><span class="op" id="7444352">(</span><span class="ident" id="7444353">t</span>&nbsp;<span class="op" id="7444355">*</span><span class="ident" id="7444356">testing</span><span class="op" id="7444363">.</span><span class="ident" id="7444364">T</span><span class="op" id="7444365">,</span>&nbsp;<span class="ident" id="7444367">ifi</span>&nbsp;<span class="op" id="7444371">*</span><span class="ident" id="7444372">Interface</span><span class="op" id="7444381">)</span>&nbsp;<span class="op" id="7444383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444386">ifmat</span><span class="op" id="7444391">,</span>&nbsp;<span class="ident" id="7444393">err</span>&nbsp;<span class="op" id="7444397">:=</span>&nbsp;<span class="ident" id="7444400">ifi</span><span class="op" id="7444403">.</span><span class="ident" id="7444404">MulticastAddrs</span><span class="op" id="7444418">(</span><span class="op" id="7444419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444422">if</span>&nbsp;<span class="ident" id="7444425">err</span>&nbsp;<span class="op" id="7444429">!=</span>&nbsp;<span class="ident" id="7444432">nil</span>&nbsp;<span class="op" id="7444436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444440">t</span><span class="op" id="7444441">.</span><span class="ident" id="7444442">Fatalf</span><span class="op" id="7444448">(</span><span class="string" id="7444449">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7444486">,</span>&nbsp;<span class="ident" id="7444488">err</span><span class="op" id="7444491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444494">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444497">testMulticastAddrs</span><span class="op" id="7444515">(</span><span class="ident" id="7444516">t</span><span class="op" id="7444517">,</span>&nbsp;<span class="ident" id="7444519">ifmat</span><span class="op" id="7444524">)</span><br>
<span class="lineno"></span><span class="op" id="7444526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444529">func</span>&nbsp;<span class="ident" id="7444534">testAddrs</span><span class="op" id="7444543">(</span><span class="ident" id="7444544">t</span>&nbsp;<span class="op" id="7444546">*</span><span class="ident" id="7444547">testing</span><span class="op" id="7444554">.</span><span class="ident" id="7444555">T</span><span class="op" id="7444556">,</span>&nbsp;<span class="ident" id="7444558">ifat</span>&nbsp;<span class="op" id="7444563">[</span><span class="op" id="7444564">]</span><span class="ident" id="7444565">Addr</span><span class="op" id="7444569">)</span>&nbsp;<span class="op" id="7444571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444574">for</span>&nbsp;<span class="ident" id="7444578">_</span><span class="op" id="7444579">,</span>&nbsp;<span class="ident" id="7444581">ifa</span>&nbsp;<span class="op" id="7444585">:=</span>&nbsp;<span class="keyword" id="7444588">range</span>&nbsp;<span class="ident" id="7444594">ifat</span>&nbsp;<span class="op" id="7444599">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444603">switch</span>&nbsp;<span class="ident" id="7444610">ifa</span>&nbsp;<span class="op" id="7444614">:=</span>&nbsp;<span class="ident" id="7444617">ifa</span><span class="op" id="7444620">.</span><span class="op" id="7444621">(</span><span class="keyword" id="7444622">type</span><span class="op" id="7444626">)</span>&nbsp;<span class="op" id="7444628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444632">case</span>&nbsp;<span class="op" id="7444637">*</span><span class="ident" id="7444638">IPAddr</span><span class="op" id="7444644">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444649">if</span>&nbsp;<span class="ident" id="7444652">ifa</span>&nbsp;<span class="op" id="7444656">==</span>&nbsp;<span class="ident" id="7444659">nil</span>&nbsp;<span class="op" id="7444663">||</span>&nbsp;<span class="ident" id="7444666">ifa</span><span class="op" id="7444669">.</span><span class="ident" id="7444670">IP</span>&nbsp;<span class="op" id="7444673">==</span>&nbsp;<span class="ident" id="7444676">nil</span>&nbsp;<span class="op" id="7444680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444686">t</span><span class="op" id="7444687">.</span><span class="ident" id="7444688">Errorf</span><span class="op" id="7444694">(</span><span class="string" id="7444695">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7444723">,</span>&nbsp;<span class="ident" id="7444725">ifa</span><span class="op" id="7444728">,</span>&nbsp;<span class="ident" id="7444730">ifa</span><span class="op" id="7444733">.</span><span class="ident" id="7444734">IP</span><span class="op" id="7444736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444741">}</span>&nbsp;<span class="keyword" id="7444743">else</span>&nbsp;<span class="op" id="7444748">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444754">t</span><span class="op" id="7444755">.</span><span class="ident" id="7444756">Logf</span><span class="op" id="7444760">(</span><span class="string" id="7444761">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7444785">,</span>&nbsp;<span class="ident" id="7444787">ifa</span><span class="op" id="7444790">.</span><span class="ident" id="7444791">String</span><span class="op" id="7444797">(</span><span class="op" id="7444798">)</span><span class="op" id="7444799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444808">case</span>&nbsp;<span class="op" id="7444813">*</span><span class="ident" id="7444814">IPNet</span><span class="op" id="7444819">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444824">if</span>&nbsp;<span class="ident" id="7444827">ifa</span>&nbsp;<span class="op" id="7444831">==</span>&nbsp;<span class="ident" id="7444834">nil</span>&nbsp;<span class="op" id="7444838">||</span>&nbsp;<span class="ident" id="7444841">ifa</span><span class="op" id="7444844">.</span><span class="ident" id="7444845">IP</span>&nbsp;<span class="op" id="7444848">==</span>&nbsp;<span class="ident" id="7444851">nil</span>&nbsp;<span class="op" id="7444855">||</span>&nbsp;<span class="ident" id="7444858">ifa</span><span class="op" id="7444861">.</span><span class="ident" id="7444862">Mask</span>&nbsp;<span class="op" id="7444867">==</span>&nbsp;<span class="ident" id="7444870">nil</span>&nbsp;<span class="op" id="7444874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444880">t</span><span class="op" id="7444881">.</span><span class="ident" id="7444882">Errorf</span><span class="op" id="7444888">(</span><span class="string" id="7444889">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7444921">,</span>&nbsp;<span class="ident" id="7444923">ifa</span><span class="op" id="7444926">,</span>&nbsp;<span class="ident" id="7444928">ifa</span><span class="op" id="7444931">.</span><span class="ident" id="7444932">IP</span><span class="op" id="7444934">,</span>&nbsp;<span class="ident" id="7444936">ifa</span><span class="op" id="7444939">.</span><span class="ident" id="7444940">Mask</span><span class="op" id="7444944">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444949">}</span>&nbsp;<span class="keyword" id="7444951">else</span>&nbsp;<span class="op" id="7444956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444962">_</span><span class="op" id="7444963">,</span>&nbsp;<span class="ident" id="7444965">prefixLen</span>&nbsp;<span class="op" id="7444975">:=</span>&nbsp;<span class="ident" id="7444978">ifa</span><span class="op" id="7444981">.</span><span class="ident" id="7444982">Mask</span><span class="op" id="7444986">.</span><span class="ident" id="7444987">Size</span><span class="op" id="7444991">(</span><span class="op" id="7444992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7444998">if</span>&nbsp;<span class="ident" id="7445001">ifa</span><span class="op" id="7445004">.</span><span class="ident" id="7445005">IP</span><span class="op" id="7445007">.</span><span class="ident" id="7445008">To4</span><span class="op" id="7445011">(</span><span class="op" id="7445012">)</span>&nbsp;<span class="op" id="7445014">!=</span>&nbsp;<span class="ident" id="7445017">nil</span>&nbsp;<span class="op" id="7445021">&amp;&amp;</span>&nbsp;<span class="ident" id="7445024">prefixLen</span>&nbsp;<span class="op" id="7445034">!=</span>&nbsp;<span class="num" id="7445037">8</span><span class="op" id="7445038">*</span><span class="ident" id="7445039">IPv4len</span>&nbsp;<span class="op" id="7445047">||</span>&nbsp;<span class="ident" id="7445050">ifa</span><span class="op" id="7445053">.</span><span class="ident" id="7445054">IP</span><span class="op" id="7445056">.</span><span class="ident" id="7445057">To16</span><span class="op" id="7445061">(</span><span class="op" id="7445062">)</span>&nbsp;<span class="op" id="7445064">!=</span>&nbsp;<span class="ident" id="7445067">nil</span>&nbsp;<span class="op" id="7445071">&amp;&amp;</span>&nbsp;<span class="ident" id="7445074">ifa</span><span class="op" id="7445077">.</span><span class="ident" id="7445078">IP</span><span class="op" id="7445080">.</span><span class="ident" id="7445081">To4</span><span class="op" id="7445084">(</span><span class="op" id="7445085">)</span>&nbsp;<span class="op" id="7445087">==</span>&nbsp;<span class="ident" id="7445090">nil</span>&nbsp;<span class="op" id="7445094">&amp;&amp;</span>&nbsp;<span class="ident" id="7445097">prefixLen</span>&nbsp;<span class="op" id="7445107">!=</span>&nbsp;<span class="num" id="7445110">8</span><span class="op" id="7445111">*</span><span class="ident" id="7445112">IPv6len</span>&nbsp;<span class="op" id="7445120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445127">t</span><span class="op" id="7445128">.</span><span class="ident" id="7445129">Errorf</span><span class="op" id="7445135">(</span><span class="string" id="7445136">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7445172">,</span>&nbsp;<span class="ident" id="7445174">ifa</span><span class="op" id="7445177">,</span>&nbsp;<span class="ident" id="7445179">ifa</span><span class="op" id="7445182">.</span><span class="ident" id="7445183">IP</span><span class="op" id="7445185">,</span>&nbsp;<span class="ident" id="7445187">ifa</span><span class="op" id="7445190">.</span><span class="ident" id="7445191">Mask</span><span class="op" id="7445195">,</span>&nbsp;<span class="ident" id="7445197">prefixLen</span><span class="op" id="7445206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445212">}</span>&nbsp;<span class="keyword" id="7445214">else</span>&nbsp;<span class="op" id="7445219">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445226">t</span><span class="op" id="7445227">.</span><span class="ident" id="7445228">Logf</span><span class="op" id="7445232">(</span><span class="string" id="7445233">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7445257">,</span>&nbsp;<span class="ident" id="7445259">ifa</span><span class="op" id="7445262">.</span><span class="ident" id="7445263">String</span><span class="op" id="7445269">(</span><span class="op" id="7445270">)</span><span class="op" id="7445271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445286">default</span><span class="op" id="7445293">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445298">t</span><span class="op" id="7445299">.</span><span class="ident" id="7445300">Errorf</span><span class="op" id="7445306">(</span><span class="string" id="7445307">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7445330">,</span>&nbsp;<span class="ident" id="7445332">ifa</span><span class="op" id="7445335">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445342">}</span><br>
<span class="lineno"></span><span class="op" id="7445344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7445347">func</span>&nbsp;<span class="ident" id="7445352">testMulticastAddrs</span><span class="op" id="7445370">(</span><span class="ident" id="7445371">t</span>&nbsp;<span class="op" id="7445373">*</span><span class="ident" id="7445374">testing</span><span class="op" id="7445381">.</span><span class="ident" id="7445382">T</span><span class="op" id="7445383">,</span>&nbsp;<span class="ident" id="7445385">ifmat</span>&nbsp;<span class="op" id="7445391">[</span><span class="op" id="7445392">]</span><span class="ident" id="7445393">Addr</span><span class="op" id="7445397">)</span>&nbsp;<span class="op" id="7445399">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445402">for</span>&nbsp;<span class="ident" id="7445406">_</span><span class="op" id="7445407">,</span>&nbsp;<span class="ident" id="7445409">ifma</span>&nbsp;<span class="op" id="7445414">:=</span>&nbsp;<span class="keyword" id="7445417">range</span>&nbsp;<span class="ident" id="7445423">ifmat</span>&nbsp;<span class="op" id="7445429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445433">switch</span>&nbsp;<span class="ident" id="7445440">ifma</span>&nbsp;<span class="op" id="7445445">:=</span>&nbsp;<span class="ident" id="7445448">ifma</span><span class="op" id="7445452">.</span><span class="op" id="7445453">(</span><span class="keyword" id="7445454">type</span><span class="op" id="7445458">)</span>&nbsp;<span class="op" id="7445460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445464">case</span>&nbsp;<span class="op" id="7445469">*</span><span class="ident" id="7445470">IPAddr</span><span class="op" id="7445476">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445481">if</span>&nbsp;<span class="ident" id="7445484">ifma</span>&nbsp;<span class="op" id="7445489">==</span>&nbsp;<span class="ident" id="7445492">nil</span>&nbsp;<span class="op" id="7445496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445502">t</span><span class="op" id="7445503">.</span><span class="ident" id="7445504">Errorf</span><span class="op" id="7445510">(</span><span class="string" id="7445511">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="7445535">,</span>&nbsp;<span class="ident" id="7445537">ifma</span><span class="op" id="7445541">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445546">}</span>&nbsp;<span class="keyword" id="7445548">else</span>&nbsp;<span class="op" id="7445553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445559">t</span><span class="op" id="7445560">.</span><span class="ident" id="7445561">Logf</span><span class="op" id="7445565">(</span><span class="string" id="7445566">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="7445593">,</span>&nbsp;<span class="ident" id="7445595">ifma</span><span class="op" id="7445599">.</span><span class="ident" id="7445600">String</span><span class="op" id="7445606">(</span><span class="op" id="7445607">)</span><span class="op" id="7445608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445617">default</span><span class="op" id="7445624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445629">t</span><span class="op" id="7445630">.</span><span class="ident" id="7445631">Errorf</span><span class="op" id="7445637">(</span><span class="string" id="7445638">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="7445661">,</span>&nbsp;<span class="ident" id="7445663">ifma</span><span class="op" id="7445667">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445674">}</span><br>
<span class="lineno"></span><span class="op" id="7445676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7445679">func</span>&nbsp;<span class="ident" id="7445684">BenchmarkInterfaces</span><span class="op" id="7445703">(</span><span class="ident" id="7445704">b</span>&nbsp;<span class="op" id="7445706">*</span><span class="ident" id="7445707">testing</span><span class="op" id="7445714">.</span><span class="ident" id="7445715">B</span><span class="op" id="7445716">)</span>&nbsp;<span class="op" id="7445718">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445721">for</span>&nbsp;<span class="ident" id="7445725">i</span>&nbsp;<span class="op" id="7445727">:=</span>&nbsp;<span class="num" id="7445730">0</span><span class="op" id="7445731">;</span>&nbsp;<span class="ident" id="7445733">i</span>&nbsp;<span class="op" id="7445735">&lt;</span>&nbsp;<span class="ident" id="7445737">b</span><span class="op" id="7445738">.</span><span class="ident" id="7445739">N</span><span class="op" id="7445740">;</span>&nbsp;<span class="ident" id="7445742">i</span><span class="op" id="7445743">++</span>&nbsp;<span class="op" id="7445746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445750">if</span>&nbsp;<span class="ident" id="7445753">_</span><span class="op" id="7445754">,</span>&nbsp;<span class="ident" id="7445756">err</span>&nbsp;<span class="op" id="7445760">:=</span>&nbsp;<span class="ident" id="7445763">Interfaces</span><span class="op" id="7445773">(</span><span class="op" id="7445774">)</span><span class="op" id="7445775">;</span>&nbsp;<span class="ident" id="7445777">err</span>&nbsp;<span class="op" id="7445781">!=</span>&nbsp;<span class="ident" id="7445784">nil</span>&nbsp;<span class="op" id="7445788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445793">b</span><span class="op" id="7445794">.</span><span class="ident" id="7445795">Fatalf</span><span class="op" id="7445801">(</span><span class="string" id="7445802">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7445825">,</span>&nbsp;<span class="ident" id="7445827">err</span><span class="op" id="7445830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445837">}</span><br>
<span class="lineno">155</span><span class="op" id="7445839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7445842">func</span>&nbsp;<span class="ident" id="7445847">BenchmarkInterfaceByIndex</span><span class="op" id="7445872">(</span><span class="ident" id="7445873">b</span>&nbsp;<span class="op" id="7445875">*</span><span class="ident" id="7445876">testing</span><span class="op" id="7445883">.</span><span class="ident" id="7445884">B</span><span class="op" id="7445885">)</span>&nbsp;<span class="op" id="7445887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445890">ifi</span>&nbsp;<span class="op" id="7445894">:=</span>&nbsp;<span class="ident" id="7445897">loopbackInterface</span><span class="op" id="7445914">(</span><span class="op" id="7445915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445918">if</span>&nbsp;<span class="ident" id="7445921">ifi</span>&nbsp;<span class="op" id="7445925">==</span>&nbsp;<span class="ident" id="7445928">nil</span>&nbsp;<span class="op" id="7445932">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445936">b</span><span class="op" id="7445937">.</span><span class="ident" id="7445938">Skip</span><span class="op" id="7445942">(</span><span class="string" id="7445943">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7445973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445979">for</span>&nbsp;<span class="ident" id="7445983">i</span>&nbsp;<span class="op" id="7445985">:=</span>&nbsp;<span class="num" id="7445988">0</span><span class="op" id="7445989">;</span>&nbsp;<span class="ident" id="7445991">i</span>&nbsp;<span class="op" id="7445993">&lt;</span>&nbsp;<span class="ident" id="7445995">b</span><span class="op" id="7445996">.</span><span class="ident" id="7445997">N</span><span class="op" id="7445998">;</span>&nbsp;<span class="ident" id="7446000">i</span><span class="op" id="7446001">++</span>&nbsp;<span class="op" id="7446004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446008">if</span>&nbsp;<span class="ident" id="7446011">_</span><span class="op" id="7446012">,</span>&nbsp;<span class="ident" id="7446014">err</span>&nbsp;<span class="op" id="7446018">:=</span>&nbsp;<span class="ident" id="7446021">InterfaceByIndex</span><span class="op" id="7446037">(</span><span class="ident" id="7446038">ifi</span><span class="op" id="7446041">.</span><span class="ident" id="7446042">Index</span><span class="op" id="7446047">)</span><span class="op" id="7446048">;</span>&nbsp;<span class="ident" id="7446050">err</span>&nbsp;<span class="op" id="7446054">!=</span>&nbsp;<span class="ident" id="7446057">nil</span>&nbsp;<span class="op" id="7446061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446066">b</span><span class="op" id="7446067">.</span><span class="ident" id="7446068">Fatalf</span><span class="op" id="7446074">(</span><span class="string" id="7446075">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7446104">,</span>&nbsp;<span class="ident" id="7446106">err</span><span class="op" id="7446109">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446116">}</span><br>
<span class="lineno"></span><span class="op" id="7446118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7446121">func</span>&nbsp;<span class="ident" id="7446126">BenchmarkInterfaceByName</span><span class="op" id="7446150">(</span><span class="ident" id="7446151">b</span>&nbsp;<span class="op" id="7446153">*</span><span class="ident" id="7446154">testing</span><span class="op" id="7446161">.</span><span class="ident" id="7446162">B</span><span class="op" id="7446163">)</span>&nbsp;<span class="op" id="7446165">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446168">ifi</span>&nbsp;<span class="op" id="7446172">:=</span>&nbsp;<span class="ident" id="7446175">loopbackInterface</span><span class="op" id="7446192">(</span><span class="op" id="7446193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446196">if</span>&nbsp;<span class="ident" id="7446199">ifi</span>&nbsp;<span class="op" id="7446203">==</span>&nbsp;<span class="ident" id="7446206">nil</span>&nbsp;<span class="op" id="7446210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446214">b</span><span class="op" id="7446215">.</span><span class="ident" id="7446216">Skip</span><span class="op" id="7446220">(</span><span class="string" id="7446221">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7446251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446257">for</span>&nbsp;<span class="ident" id="7446261">i</span>&nbsp;<span class="op" id="7446263">:=</span>&nbsp;<span class="num" id="7446266">0</span><span class="op" id="7446267">;</span>&nbsp;<span class="ident" id="7446269">i</span>&nbsp;<span class="op" id="7446271">&lt;</span>&nbsp;<span class="ident" id="7446273">b</span><span class="op" id="7446274">.</span><span class="ident" id="7446275">N</span><span class="op" id="7446276">;</span>&nbsp;<span class="ident" id="7446278">i</span><span class="op" id="7446279">++</span>&nbsp;<span class="op" id="7446282">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446286">if</span>&nbsp;<span class="ident" id="7446289">_</span><span class="op" id="7446290">,</span>&nbsp;<span class="ident" id="7446292">err</span>&nbsp;<span class="op" id="7446296">:=</span>&nbsp;<span class="ident" id="7446299">InterfaceByName</span><span class="op" id="7446314">(</span><span class="ident" id="7446315">ifi</span><span class="op" id="7446318">.</span><span class="ident" id="7446319">Name</span><span class="op" id="7446323">)</span><span class="op" id="7446324">;</span>&nbsp;<span class="ident" id="7446326">err</span>&nbsp;<span class="op" id="7446330">!=</span>&nbsp;<span class="ident" id="7446333">nil</span>&nbsp;<span class="op" id="7446337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446342">b</span><span class="op" id="7446343">.</span><span class="ident" id="7446344">Fatalf</span><span class="op" id="7446350">(</span><span class="string" id="7446351">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7446379">,</span>&nbsp;<span class="ident" id="7446381">err</span><span class="op" id="7446384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446391">}</span><br>
<span class="lineno"></span><span class="op" id="7446393">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="7446396">func</span>&nbsp;<span class="ident" id="7446401">BenchmarkInterfaceAddrs</span><span class="op" id="7446424">(</span><span class="ident" id="7446425">b</span>&nbsp;<span class="op" id="7446427">*</span><span class="ident" id="7446428">testing</span><span class="op" id="7446435">.</span><span class="ident" id="7446436">B</span><span class="op" id="7446437">)</span>&nbsp;<span class="op" id="7446439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446442">for</span>&nbsp;<span class="ident" id="7446446">i</span>&nbsp;<span class="op" id="7446448">:=</span>&nbsp;<span class="num" id="7446451">0</span><span class="op" id="7446452">;</span>&nbsp;<span class="ident" id="7446454">i</span>&nbsp;<span class="op" id="7446456">&lt;</span>&nbsp;<span class="ident" id="7446458">b</span><span class="op" id="7446459">.</span><span class="ident" id="7446460">N</span><span class="op" id="7446461">;</span>&nbsp;<span class="ident" id="7446463">i</span><span class="op" id="7446464">++</span>&nbsp;<span class="op" id="7446467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446471">if</span>&nbsp;<span class="ident" id="7446474">_</span><span class="op" id="7446475">,</span>&nbsp;<span class="ident" id="7446477">err</span>&nbsp;<span class="op" id="7446481">:=</span>&nbsp;<span class="ident" id="7446484">InterfaceAddrs</span><span class="op" id="7446498">(</span><span class="op" id="7446499">)</span><span class="op" id="7446500">;</span>&nbsp;<span class="ident" id="7446502">err</span>&nbsp;<span class="op" id="7446506">!=</span>&nbsp;<span class="ident" id="7446509">nil</span>&nbsp;<span class="op" id="7446513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446518">b</span><span class="op" id="7446519">.</span><span class="ident" id="7446520">Fatalf</span><span class="op" id="7446526">(</span><span class="string" id="7446527">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7446554">,</span>&nbsp;<span class="ident" id="7446556">err</span><span class="op" id="7446559">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446566">}</span><br>
<span class="lineno"></span><span class="op" id="7446568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7446571">func</span>&nbsp;<span class="ident" id="7446576">BenchmarkInterfacesAndAddrs</span><span class="op" id="7446603">(</span><span class="ident" id="7446604">b</span>&nbsp;<span class="op" id="7446606">*</span><span class="ident" id="7446607">testing</span><span class="op" id="7446614">.</span><span class="ident" id="7446615">B</span><span class="op" id="7446616">)</span>&nbsp;<span class="op" id="7446618">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446621">ifi</span>&nbsp;<span class="op" id="7446625">:=</span>&nbsp;<span class="ident" id="7446628">loopbackInterface</span><span class="op" id="7446645">(</span><span class="op" id="7446646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446649">if</span>&nbsp;<span class="ident" id="7446652">ifi</span>&nbsp;<span class="op" id="7446656">==</span>&nbsp;<span class="ident" id="7446659">nil</span>&nbsp;<span class="op" id="7446663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446667">b</span><span class="op" id="7446668">.</span><span class="ident" id="7446669">Skip</span><span class="op" id="7446673">(</span><span class="string" id="7446674">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7446704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446710">for</span>&nbsp;<span class="ident" id="7446714">i</span>&nbsp;<span class="op" id="7446716">:=</span>&nbsp;<span class="num" id="7446719">0</span><span class="op" id="7446720">;</span>&nbsp;<span class="ident" id="7446722">i</span>&nbsp;<span class="op" id="7446724">&lt;</span>&nbsp;<span class="ident" id="7446726">b</span><span class="op" id="7446727">.</span><span class="ident" id="7446728">N</span><span class="op" id="7446729">;</span>&nbsp;<span class="ident" id="7446731">i</span><span class="op" id="7446732">++</span>&nbsp;<span class="op" id="7446735">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446739">if</span>&nbsp;<span class="ident" id="7446742">_</span><span class="op" id="7446743">,</span>&nbsp;<span class="ident" id="7446745">err</span>&nbsp;<span class="op" id="7446749">:=</span>&nbsp;<span class="ident" id="7446752">ifi</span><span class="op" id="7446755">.</span><span class="ident" id="7446756">Addrs</span><span class="op" id="7446761">(</span><span class="op" id="7446762">)</span><span class="op" id="7446763">;</span>&nbsp;<span class="ident" id="7446765">err</span>&nbsp;<span class="op" id="7446769">!=</span>&nbsp;<span class="ident" id="7446772">nil</span>&nbsp;<span class="op" id="7446776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446781">b</span><span class="op" id="7446782">.</span><span class="ident" id="7446783">Fatalf</span><span class="op" id="7446789">(</span><span class="string" id="7446790">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7446818">,</span>&nbsp;<span class="ident" id="7446820">err</span><span class="op" id="7446823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446830">}</span><br>
<span class="lineno"></span><span class="op" id="7446832">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7446835">func</span>&nbsp;<span class="ident" id="7446840">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="7446876">(</span><span class="ident" id="7446877">b</span>&nbsp;<span class="op" id="7446879">*</span><span class="ident" id="7446880">testing</span><span class="op" id="7446887">.</span><span class="ident" id="7446888">B</span><span class="op" id="7446889">)</span>&nbsp;<span class="op" id="7446891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446894">ifi</span>&nbsp;<span class="op" id="7446898">:=</span>&nbsp;<span class="ident" id="7446901">loopbackInterface</span><span class="op" id="7446918">(</span><span class="op" id="7446919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446922">if</span>&nbsp;<span class="ident" id="7446925">ifi</span>&nbsp;<span class="op" id="7446929">==</span>&nbsp;<span class="ident" id="7446932">nil</span>&nbsp;<span class="op" id="7446936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446940">b</span><span class="op" id="7446941">.</span><span class="ident" id="7446942">Skip</span><span class="op" id="7446946">(</span><span class="string" id="7446947">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="7446977">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446983">for</span>&nbsp;<span class="ident" id="7446987">i</span>&nbsp;<span class="op" id="7446989">:=</span>&nbsp;<span class="num" id="7446992">0</span><span class="op" id="7446993">;</span>&nbsp;<span class="ident" id="7446995">i</span>&nbsp;<span class="op" id="7446997">&lt;</span>&nbsp;<span class="ident" id="7446999">b</span><span class="op" id="7447000">.</span><span class="ident" id="7447001">N</span><span class="op" id="7447002">;</span>&nbsp;<span class="ident" id="7447004">i</span><span class="op" id="7447005">++</span>&nbsp;<span class="op" id="7447008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447012">if</span>&nbsp;<span class="ident" id="7447015">_</span><span class="op" id="7447016">,</span>&nbsp;<span class="ident" id="7447018">err</span>&nbsp;<span class="op" id="7447022">:=</span>&nbsp;<span class="ident" id="7447025">ifi</span><span class="op" id="7447028">.</span><span class="ident" id="7447029">MulticastAddrs</span><span class="op" id="7447043">(</span><span class="op" id="7447044">)</span><span class="op" id="7447045">;</span>&nbsp;<span class="ident" id="7447047">err</span>&nbsp;<span class="op" id="7447051">!=</span>&nbsp;<span class="ident" id="7447054">nil</span>&nbsp;<span class="op" id="7447058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447063">b</span><span class="op" id="7447064">.</span><span class="ident" id="7447065">Fatalf</span><span class="op" id="7447071">(</span><span class="string" id="7447072">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7447109">,</span>&nbsp;<span class="ident" id="7447111">err</span><span class="op" id="7447114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447118">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447121">}</span><br>
<span class="lineno"></span><span class="op" id="7447123">}</span>
</div>
</body>
</html>
