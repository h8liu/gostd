<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8039215">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8039271">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8039325">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8039376">package</span>&nbsp;<span class="ident" id="8039384">binary</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039392">import</span>&nbsp;<span class="op" id="8039399">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8039402">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8039411">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8039417">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8039425">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8039436">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8039447">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8039457">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8039460">type</span>&nbsp;<span class="ident" id="8039465">Struct</span>&nbsp;<span class="keyword" id="8039472">struct</span>&nbsp;<span class="op" id="8039479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039482">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039493">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039499">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039510">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039517">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039528">int32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039535">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8039546">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039553">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039564">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039571">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039582">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039590">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039601">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039609">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8039620">uint64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039628">Float32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039639">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039648">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039659">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039668">Complex64</span>&nbsp;&nbsp;<span class="builtintype" id="8039679">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039690">Complex128</span>&nbsp;<span class="builtintype" id="8039701">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039713">Array</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8039724">[</span><span class="num" id="8039725">4</span><span class="op" id="8039726">]</span><span class="builtintype" id="8039727">uint8</span><br>
<span class="lineno">30</span><span class="op" id="8039733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039736">type</span>&nbsp;<span class="ident" id="8039741">T</span>&nbsp;<span class="keyword" id="8039743">struct</span>&nbsp;<span class="op" id="8039750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039753">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039761">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039766">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039774">uint</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039780">Uintptr</span>&nbsp;<span class="builtintype" id="8039788">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039797">Array</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8039805">[</span><span class="num" id="8039806">4</span><span class="op" id="8039807">]</span><span class="builtintype" id="8039808">int</span><br>
<span class="lineno"></span><span class="op" id="8039812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039815">var</span>&nbsp;<span class="ident" id="8039819">s</span>&nbsp;<span class="op" id="8039821">=</span>&nbsp;<span class="ident" id="8039823">Struct</span><span class="op" id="8039829">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039832">0x01</span><span class="op" id="8039836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039839">0x0203</span><span class="op" id="8039845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039848">0x04050607</span><span class="op" id="8039858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039861">0x08090a0b0c0d0e0f</span><span class="op" id="8039879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039882">0x10</span><span class="op" id="8039886">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039889">0x1112</span><span class="op" id="8039895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039898">0x13141516</span><span class="op" id="8039908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8039911">0x1718191a1b1c1d1e</span><span class="op" id="8039929">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039933">math</span><span class="op" id="8039937">.</span><span class="ident" id="8039938">Float32frombits</span><span class="op" id="8039953">(</span><span class="num" id="8039954">0x1f202122</span><span class="op" id="8039964">)</span><span class="op" id="8039965">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039968">math</span><span class="op" id="8039972">.</span><span class="ident" id="8039973">Float64frombits</span><span class="op" id="8039988">(</span><span class="num" id="8039989">0x232425262728292a</span><span class="op" id="8040007">)</span><span class="op" id="8040008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8040011">complex</span><span class="op" id="8040018">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040022">math</span><span class="op" id="8040026">.</span><span class="ident" id="8040027">Float32frombits</span><span class="op" id="8040042">(</span><span class="num" id="8040043">0x2b2c2d2e</span><span class="op" id="8040053">)</span><span class="op" id="8040054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040058">math</span><span class="op" id="8040062">.</span><span class="ident" id="8040063">Float32frombits</span><span class="op" id="8040078">(</span><span class="num" id="8040079">0x2f303132</span><span class="op" id="8040089">)</span><span class="op" id="8040090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040093">)</span><span class="op" id="8040094">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8040097">complex</span><span class="op" id="8040104">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040108">math</span><span class="op" id="8040112">.</span><span class="ident" id="8040113">Float64frombits</span><span class="op" id="8040128">(</span><span class="num" id="8040129">0x333435363738393a</span><span class="op" id="8040147">)</span><span class="op" id="8040148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040152">math</span><span class="op" id="8040156">.</span><span class="ident" id="8040157">Float64frombits</span><span class="op" id="8040172">(</span><span class="num" id="8040173">0x3b3c3d3e3f404142</span><span class="op" id="8040191">)</span><span class="op" id="8040192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040195">)</span><span class="op" id="8040196">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040200">[</span><span class="num" id="8040201">4</span><span class="op" id="8040202">]</span><span class="builtintype" id="8040203">uint8</span><span class="op" id="8040208">{</span><span class="num" id="8040209">0x43</span><span class="op" id="8040213">,</span>&nbsp;<span class="num" id="8040215">0x44</span><span class="op" id="8040219">,</span>&nbsp;<span class="num" id="8040221">0x45</span><span class="op" id="8040225">,</span>&nbsp;<span class="num" id="8040227">0x46</span><span class="op" id="8040231">}</span><span class="op" id="8040232">,</span><br>
<span class="lineno"></span><span class="op" id="8040234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040237">var</span>&nbsp;<span class="ident" id="8040241">big</span>&nbsp;<span class="op" id="8040245">=</span>&nbsp;<span class="op" id="8040247">[</span><span class="op" id="8040248">]</span><span class="builtintype" id="8040249">byte</span><span class="op" id="8040253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040256">1</span><span class="op" id="8040257">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040260">2</span><span class="op" id="8040261">,</span>&nbsp;<span class="num" id="8040263">3</span><span class="op" id="8040264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040267">4</span><span class="op" id="8040268">,</span>&nbsp;<span class="num" id="8040270">5</span><span class="op" id="8040271">,</span>&nbsp;<span class="num" id="8040273">6</span><span class="op" id="8040274">,</span>&nbsp;<span class="num" id="8040276">7</span><span class="op" id="8040277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040280">8</span><span class="op" id="8040281">,</span>&nbsp;<span class="num" id="8040283">9</span><span class="op" id="8040284">,</span>&nbsp;<span class="num" id="8040286">10</span><span class="op" id="8040288">,</span>&nbsp;<span class="num" id="8040290">11</span><span class="op" id="8040292">,</span>&nbsp;<span class="num" id="8040294">12</span><span class="op" id="8040296">,</span>&nbsp;<span class="num" id="8040298">13</span><span class="op" id="8040300">,</span>&nbsp;<span class="num" id="8040302">14</span><span class="op" id="8040304">,</span>&nbsp;<span class="num" id="8040306">15</span><span class="op" id="8040308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040311">16</span><span class="op" id="8040313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040316">17</span><span class="op" id="8040318">,</span>&nbsp;<span class="num" id="8040320">18</span><span class="op" id="8040322">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040325">19</span><span class="op" id="8040327">,</span>&nbsp;<span class="num" id="8040329">20</span><span class="op" id="8040331">,</span>&nbsp;<span class="num" id="8040333">21</span><span class="op" id="8040335">,</span>&nbsp;<span class="num" id="8040337">22</span><span class="op" id="8040339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040342">23</span><span class="op" id="8040344">,</span>&nbsp;<span class="num" id="8040346">24</span><span class="op" id="8040348">,</span>&nbsp;<span class="num" id="8040350">25</span><span class="op" id="8040352">,</span>&nbsp;<span class="num" id="8040354">26</span><span class="op" id="8040356">,</span>&nbsp;<span class="num" id="8040358">27</span><span class="op" id="8040360">,</span>&nbsp;<span class="num" id="8040362">28</span><span class="op" id="8040364">,</span>&nbsp;<span class="num" id="8040366">29</span><span class="op" id="8040368">,</span>&nbsp;<span class="num" id="8040370">30</span><span class="op" id="8040372">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040376">31</span><span class="op" id="8040378">,</span>&nbsp;<span class="num" id="8040380">32</span><span class="op" id="8040382">,</span>&nbsp;<span class="num" id="8040384">33</span><span class="op" id="8040386">,</span>&nbsp;<span class="num" id="8040388">34</span><span class="op" id="8040390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040393">35</span><span class="op" id="8040395">,</span>&nbsp;<span class="num" id="8040397">36</span><span class="op" id="8040399">,</span>&nbsp;<span class="num" id="8040401">37</span><span class="op" id="8040403">,</span>&nbsp;<span class="num" id="8040405">38</span><span class="op" id="8040407">,</span>&nbsp;<span class="num" id="8040409">39</span><span class="op" id="8040411">,</span>&nbsp;<span class="num" id="8040413">40</span><span class="op" id="8040415">,</span>&nbsp;<span class="num" id="8040417">41</span><span class="op" id="8040419">,</span>&nbsp;<span class="num" id="8040421">42</span><span class="op" id="8040423">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040426">43</span><span class="op" id="8040428">,</span>&nbsp;<span class="num" id="8040430">44</span><span class="op" id="8040432">,</span>&nbsp;<span class="num" id="8040434">45</span><span class="op" id="8040436">,</span>&nbsp;<span class="num" id="8040438">46</span><span class="op" id="8040440">,</span>&nbsp;<span class="num" id="8040442">47</span><span class="op" id="8040444">,</span>&nbsp;<span class="num" id="8040446">48</span><span class="op" id="8040448">,</span>&nbsp;<span class="num" id="8040450">49</span><span class="op" id="8040452">,</span>&nbsp;<span class="num" id="8040454">50</span><span class="op" id="8040456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040459">51</span><span class="op" id="8040461">,</span>&nbsp;<span class="num" id="8040463">52</span><span class="op" id="8040465">,</span>&nbsp;<span class="num" id="8040467">53</span><span class="op" id="8040469">,</span>&nbsp;<span class="num" id="8040471">54</span><span class="op" id="8040473">,</span>&nbsp;<span class="num" id="8040475">55</span><span class="op" id="8040477">,</span>&nbsp;<span class="num" id="8040479">56</span><span class="op" id="8040481">,</span>&nbsp;<span class="num" id="8040483">57</span><span class="op" id="8040485">,</span>&nbsp;<span class="num" id="8040487">58</span><span class="op" id="8040489">,</span>&nbsp;<span class="num" id="8040491">59</span><span class="op" id="8040493">,</span>&nbsp;<span class="num" id="8040495">60</span><span class="op" id="8040497">,</span>&nbsp;<span class="num" id="8040499">61</span><span class="op" id="8040501">,</span>&nbsp;<span class="num" id="8040503">62</span><span class="op" id="8040505">,</span>&nbsp;<span class="num" id="8040507">63</span><span class="op" id="8040509">,</span>&nbsp;<span class="num" id="8040511">64</span><span class="op" id="8040513">,</span>&nbsp;<span class="num" id="8040515">65</span><span class="op" id="8040517">,</span>&nbsp;<span class="num" id="8040519">66</span><span class="op" id="8040521">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040525">67</span><span class="op" id="8040527">,</span>&nbsp;<span class="num" id="8040529">68</span><span class="op" id="8040531">,</span>&nbsp;<span class="num" id="8040533">69</span><span class="op" id="8040535">,</span>&nbsp;<span class="num" id="8040537">70</span><span class="op" id="8040539">,</span><br>
<span class="lineno"></span><span class="op" id="8040541">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="8040544">var</span>&nbsp;<span class="ident" id="8040548">little</span>&nbsp;<span class="op" id="8040555">=</span>&nbsp;<span class="op" id="8040557">[</span><span class="op" id="8040558">]</span><span class="builtintype" id="8040559">byte</span><span class="op" id="8040563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040566">1</span><span class="op" id="8040567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040570">3</span><span class="op" id="8040571">,</span>&nbsp;<span class="num" id="8040573">2</span><span class="op" id="8040574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040577">7</span><span class="op" id="8040578">,</span>&nbsp;<span class="num" id="8040580">6</span><span class="op" id="8040581">,</span>&nbsp;<span class="num" id="8040583">5</span><span class="op" id="8040584">,</span>&nbsp;<span class="num" id="8040586">4</span><span class="op" id="8040587">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040590">15</span><span class="op" id="8040592">,</span>&nbsp;<span class="num" id="8040594">14</span><span class="op" id="8040596">,</span>&nbsp;<span class="num" id="8040598">13</span><span class="op" id="8040600">,</span>&nbsp;<span class="num" id="8040602">12</span><span class="op" id="8040604">,</span>&nbsp;<span class="num" id="8040606">11</span><span class="op" id="8040608">,</span>&nbsp;<span class="num" id="8040610">10</span><span class="op" id="8040612">,</span>&nbsp;<span class="num" id="8040614">9</span><span class="op" id="8040615">,</span>&nbsp;<span class="num" id="8040617">8</span><span class="op" id="8040618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040621">16</span><span class="op" id="8040623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040626">18</span><span class="op" id="8040628">,</span>&nbsp;<span class="num" id="8040630">17</span><span class="op" id="8040632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040635">22</span><span class="op" id="8040637">,</span>&nbsp;<span class="num" id="8040639">21</span><span class="op" id="8040641">,</span>&nbsp;<span class="num" id="8040643">20</span><span class="op" id="8040645">,</span>&nbsp;<span class="num" id="8040647">19</span><span class="op" id="8040649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040652">30</span><span class="op" id="8040654">,</span>&nbsp;<span class="num" id="8040656">29</span><span class="op" id="8040658">,</span>&nbsp;<span class="num" id="8040660">28</span><span class="op" id="8040662">,</span>&nbsp;<span class="num" id="8040664">27</span><span class="op" id="8040666">,</span>&nbsp;<span class="num" id="8040668">26</span><span class="op" id="8040670">,</span>&nbsp;<span class="num" id="8040672">25</span><span class="op" id="8040674">,</span>&nbsp;<span class="num" id="8040676">24</span><span class="op" id="8040678">,</span>&nbsp;<span class="num" id="8040680">23</span><span class="op" id="8040682">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040686">34</span><span class="op" id="8040688">,</span>&nbsp;<span class="num" id="8040690">33</span><span class="op" id="8040692">,</span>&nbsp;<span class="num" id="8040694">32</span><span class="op" id="8040696">,</span>&nbsp;<span class="num" id="8040698">31</span><span class="op" id="8040700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040703">42</span><span class="op" id="8040705">,</span>&nbsp;<span class="num" id="8040707">41</span><span class="op" id="8040709">,</span>&nbsp;<span class="num" id="8040711">40</span><span class="op" id="8040713">,</span>&nbsp;<span class="num" id="8040715">39</span><span class="op" id="8040717">,</span>&nbsp;<span class="num" id="8040719">38</span><span class="op" id="8040721">,</span>&nbsp;<span class="num" id="8040723">37</span><span class="op" id="8040725">,</span>&nbsp;<span class="num" id="8040727">36</span><span class="op" id="8040729">,</span>&nbsp;<span class="num" id="8040731">35</span><span class="op" id="8040733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040736">46</span><span class="op" id="8040738">,</span>&nbsp;<span class="num" id="8040740">45</span><span class="op" id="8040742">,</span>&nbsp;<span class="num" id="8040744">44</span><span class="op" id="8040746">,</span>&nbsp;<span class="num" id="8040748">43</span><span class="op" id="8040750">,</span>&nbsp;<span class="num" id="8040752">50</span><span class="op" id="8040754">,</span>&nbsp;<span class="num" id="8040756">49</span><span class="op" id="8040758">,</span>&nbsp;<span class="num" id="8040760">48</span><span class="op" id="8040762">,</span>&nbsp;<span class="num" id="8040764">47</span><span class="op" id="8040766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040769">58</span><span class="op" id="8040771">,</span>&nbsp;<span class="num" id="8040773">57</span><span class="op" id="8040775">,</span>&nbsp;<span class="num" id="8040777">56</span><span class="op" id="8040779">,</span>&nbsp;<span class="num" id="8040781">55</span><span class="op" id="8040783">,</span>&nbsp;<span class="num" id="8040785">54</span><span class="op" id="8040787">,</span>&nbsp;<span class="num" id="8040789">53</span><span class="op" id="8040791">,</span>&nbsp;<span class="num" id="8040793">52</span><span class="op" id="8040795">,</span>&nbsp;<span class="num" id="8040797">51</span><span class="op" id="8040799">,</span>&nbsp;<span class="num" id="8040801">66</span><span class="op" id="8040803">,</span>&nbsp;<span class="num" id="8040805">65</span><span class="op" id="8040807">,</span>&nbsp;<span class="num" id="8040809">64</span><span class="op" id="8040811">,</span>&nbsp;<span class="num" id="8040813">63</span><span class="op" id="8040815">,</span>&nbsp;<span class="num" id="8040817">62</span><span class="op" id="8040819">,</span>&nbsp;<span class="num" id="8040821">61</span><span class="op" id="8040823">,</span>&nbsp;<span class="num" id="8040825">60</span><span class="op" id="8040827">,</span>&nbsp;<span class="num" id="8040829">59</span><span class="op" id="8040831">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8040835">67</span><span class="op" id="8040837">,</span>&nbsp;<span class="num" id="8040839">68</span><span class="op" id="8040841">,</span>&nbsp;<span class="num" id="8040843">69</span><span class="op" id="8040845">,</span>&nbsp;<span class="num" id="8040847">70</span><span class="op" id="8040849">,</span><br>
<span class="lineno"></span><span class="op" id="8040851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040854">var</span>&nbsp;<span class="ident" id="8040858">src</span>&nbsp;<span class="op" id="8040862">=</span>&nbsp;<span class="op" id="8040864">[</span><span class="op" id="8040865">]</span><span class="builtintype" id="8040866">byte</span><span class="op" id="8040870">{</span><span class="num" id="8040871">1</span><span class="op" id="8040872">,</span>&nbsp;<span class="num" id="8040874">2</span><span class="op" id="8040875">,</span>&nbsp;<span class="num" id="8040877">3</span><span class="op" id="8040878">,</span>&nbsp;<span class="num" id="8040880">4</span><span class="op" id="8040881">,</span>&nbsp;<span class="num" id="8040883">5</span><span class="op" id="8040884">,</span>&nbsp;<span class="num" id="8040886">6</span><span class="op" id="8040887">,</span>&nbsp;<span class="num" id="8040889">7</span><span class="op" id="8040890">,</span>&nbsp;<span class="num" id="8040892">8</span><span class="op" id="8040893">}</span><br>
<span class="lineno">100</span><span class="keyword" id="8040895">var</span>&nbsp;<span class="ident" id="8040899">res</span>&nbsp;<span class="op" id="8040903">=</span>&nbsp;<span class="op" id="8040905">[</span><span class="op" id="8040906">]</span><span class="builtintype" id="8040907">int32</span><span class="op" id="8040912">{</span><span class="num" id="8040913">0x01020304</span><span class="op" id="8040923">,</span>&nbsp;<span class="num" id="8040925">0x05060708</span><span class="op" id="8040935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040938">func</span>&nbsp;<span class="ident" id="8040943">checkResult</span><span class="op" id="8040954">(</span><span class="ident" id="8040955">t</span>&nbsp;<span class="op" id="8040957">*</span><span class="ident" id="8040958">testing</span><span class="op" id="8040965">.</span><span class="ident" id="8040966">T</span><span class="op" id="8040967">,</span>&nbsp;<span class="ident" id="8040969">dir</span>&nbsp;<span class="builtintype" id="8040973">string</span><span class="op" id="8040979">,</span>&nbsp;<span class="ident" id="8040981">order</span>&nbsp;<span class="ident" id="8040987">ByteOrder</span><span class="op" id="8040996">,</span>&nbsp;<span class="ident" id="8040998">err</span>&nbsp;<span class="builtintype" id="8041002">error</span><span class="op" id="8041007">,</span>&nbsp;<span class="ident" id="8041009">have</span><span class="op" id="8041013">,</span>&nbsp;<span class="ident" id="8041015">want</span>&nbsp;<span class="keyword" id="8041020">interface</span><span class="op" id="8041029">{</span><span class="op" id="8041030">}</span><span class="op" id="8041031">)</span>&nbsp;<span class="op" id="8041033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041036">if</span>&nbsp;<span class="ident" id="8041039">err</span>&nbsp;<span class="op" id="8041043">!=</span>&nbsp;<span class="ident" id="8041046">nil</span>&nbsp;<span class="op" id="8041050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041054">t</span><span class="op" id="8041055">.</span><span class="ident" id="8041056">Errorf</span><span class="op" id="8041062">(</span><span class="string" id="8041063">&#34;%v&nbsp;%v:&nbsp;%v&#34;</span><span class="op" id="8041074">,</span>&nbsp;<span class="ident" id="8041076">dir</span><span class="op" id="8041079">,</span>&nbsp;<span class="ident" id="8041081">order</span><span class="op" id="8041086">,</span>&nbsp;<span class="ident" id="8041088">err</span><span class="op" id="8041091">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041095">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041106">if</span>&nbsp;<span class="op" id="8041109">!</span><span class="ident" id="8041110">reflect</span><span class="op" id="8041117">.</span><span class="ident" id="8041118">DeepEqual</span><span class="op" id="8041127">(</span><span class="ident" id="8041128">have</span><span class="op" id="8041132">,</span>&nbsp;<span class="ident" id="8041134">want</span><span class="op" id="8041138">)</span>&nbsp;<span class="op" id="8041140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041144">t</span><span class="op" id="8041145">.</span><span class="ident" id="8041146">Errorf</span><span class="op" id="8041152">(</span><span class="string" id="8041153">&#34;%v&nbsp;%v:\n\thave&nbsp;%+v\n\twant&nbsp;%+v&#34;</span><span class="op" id="8041185">,</span>&nbsp;<span class="ident" id="8041187">dir</span><span class="op" id="8041190">,</span>&nbsp;<span class="ident" id="8041192">order</span><span class="op" id="8041197">,</span>&nbsp;<span class="ident" id="8041199">have</span><span class="op" id="8041203">,</span>&nbsp;<span class="ident" id="8041205">want</span><span class="op" id="8041209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041212">}</span><br>
<span class="lineno">110</span><span class="op" id="8041214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041217">func</span>&nbsp;<span class="ident" id="8041222">testRead</span><span class="op" id="8041230">(</span><span class="ident" id="8041231">t</span>&nbsp;<span class="op" id="8041233">*</span><span class="ident" id="8041234">testing</span><span class="op" id="8041241">.</span><span class="ident" id="8041242">T</span><span class="op" id="8041243">,</span>&nbsp;<span class="ident" id="8041245">order</span>&nbsp;<span class="ident" id="8041251">ByteOrder</span><span class="op" id="8041260">,</span>&nbsp;<span class="ident" id="8041262">b</span>&nbsp;<span class="op" id="8041264">[</span><span class="op" id="8041265">]</span><span class="builtintype" id="8041266">byte</span><span class="op" id="8041270">,</span>&nbsp;<span class="ident" id="8041272">s1</span>&nbsp;<span class="keyword" id="8041275">interface</span><span class="op" id="8041284">{</span><span class="op" id="8041285">}</span><span class="op" id="8041286">)</span>&nbsp;<span class="op" id="8041288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041291">var</span>&nbsp;<span class="ident" id="8041295">s2</span>&nbsp;<span class="ident" id="8041298">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041306">err</span>&nbsp;<span class="op" id="8041310">:=</span>&nbsp;<span class="ident" id="8041313">Read</span><span class="op" id="8041317">(</span><span class="ident" id="8041318">bytes</span><span class="op" id="8041323">.</span><span class="ident" id="8041324">NewReader</span><span class="op" id="8041333">(</span><span class="ident" id="8041334">b</span><span class="op" id="8041335">)</span><span class="op" id="8041336">,</span>&nbsp;<span class="ident" id="8041338">order</span><span class="op" id="8041343">,</span>&nbsp;<span class="op" id="8041345">&amp;</span><span class="ident" id="8041346">s2</span><span class="op" id="8041348">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041351">checkResult</span><span class="op" id="8041362">(</span><span class="ident" id="8041363">t</span><span class="op" id="8041364">,</span>&nbsp;<span class="string" id="8041366">&#34;Read&#34;</span><span class="op" id="8041372">,</span>&nbsp;<span class="ident" id="8041374">order</span><span class="op" id="8041379">,</span>&nbsp;<span class="ident" id="8041381">err</span><span class="op" id="8041384">,</span>&nbsp;<span class="ident" id="8041386">s2</span><span class="op" id="8041388">,</span>&nbsp;<span class="ident" id="8041390">s1</span><span class="op" id="8041392">)</span><br>
<span class="lineno"></span><span class="op" id="8041394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041397">func</span>&nbsp;<span class="ident" id="8041402">testWrite</span><span class="op" id="8041411">(</span><span class="ident" id="8041412">t</span>&nbsp;<span class="op" id="8041414">*</span><span class="ident" id="8041415">testing</span><span class="op" id="8041422">.</span><span class="ident" id="8041423">T</span><span class="op" id="8041424">,</span>&nbsp;<span class="ident" id="8041426">order</span>&nbsp;<span class="ident" id="8041432">ByteOrder</span><span class="op" id="8041441">,</span>&nbsp;<span class="ident" id="8041443">b</span>&nbsp;<span class="op" id="8041445">[</span><span class="op" id="8041446">]</span><span class="builtintype" id="8041447">byte</span><span class="op" id="8041451">,</span>&nbsp;<span class="ident" id="8041453">s1</span>&nbsp;<span class="keyword" id="8041456">interface</span><span class="op" id="8041465">{</span><span class="op" id="8041466">}</span><span class="op" id="8041467">)</span>&nbsp;<span class="op" id="8041469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041472">buf</span>&nbsp;<span class="op" id="8041476">:=</span>&nbsp;<span class="builtinfunc" id="8041479">new</span><span class="op" id="8041482">(</span><span class="ident" id="8041483">bytes</span><span class="op" id="8041488">.</span><span class="ident" id="8041489">Buffer</span><span class="op" id="8041495">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041498">err</span>&nbsp;<span class="op" id="8041502">:=</span>&nbsp;<span class="ident" id="8041505">Write</span><span class="op" id="8041510">(</span><span class="ident" id="8041511">buf</span><span class="op" id="8041514">,</span>&nbsp;<span class="ident" id="8041516">order</span><span class="op" id="8041521">,</span>&nbsp;<span class="ident" id="8041523">s1</span><span class="op" id="8041525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041528">checkResult</span><span class="op" id="8041539">(</span><span class="ident" id="8041540">t</span><span class="op" id="8041541">,</span>&nbsp;<span class="string" id="8041543">&#34;Write&#34;</span><span class="op" id="8041550">,</span>&nbsp;<span class="ident" id="8041552">order</span><span class="op" id="8041557">,</span>&nbsp;<span class="ident" id="8041559">err</span><span class="op" id="8041562">,</span>&nbsp;<span class="ident" id="8041564">buf</span><span class="op" id="8041567">.</span><span class="ident" id="8041568">Bytes</span><span class="op" id="8041573">(</span><span class="op" id="8041574">)</span><span class="op" id="8041575">,</span>&nbsp;<span class="ident" id="8041577">b</span><span class="op" id="8041578">)</span><br>
<span class="lineno"></span><span class="op" id="8041580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041583">func</span>&nbsp;<span class="ident" id="8041588">TestLittleEndianRead</span><span class="op" id="8041608">(</span><span class="ident" id="8041609">t</span>&nbsp;<span class="op" id="8041611">*</span><span class="ident" id="8041612">testing</span><span class="op" id="8041619">.</span><span class="ident" id="8041620">T</span><span class="op" id="8041621">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041627">{</span>&nbsp;<span class="ident" id="8041629">testRead</span><span class="op" id="8041637">(</span><span class="ident" id="8041638">t</span><span class="op" id="8041639">,</span>&nbsp;<span class="ident" id="8041641">LittleEndian</span><span class="op" id="8041653">,</span>&nbsp;<span class="ident" id="8041655">little</span><span class="op" id="8041661">,</span>&nbsp;<span class="ident" id="8041663">s</span><span class="op" id="8041664">)</span>&nbsp;<span class="op" id="8041666">}</span><br>
<span class="lineno">125</span><span class="keyword" id="8041668">func</span>&nbsp;<span class="ident" id="8041673">TestLittleEndianWrite</span><span class="op" id="8041694">(</span><span class="ident" id="8041695">t</span>&nbsp;<span class="op" id="8041697">*</span><span class="ident" id="8041698">testing</span><span class="op" id="8041705">.</span><span class="ident" id="8041706">T</span><span class="op" id="8041707">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041712">{</span>&nbsp;<span class="ident" id="8041714">testWrite</span><span class="op" id="8041723">(</span><span class="ident" id="8041724">t</span><span class="op" id="8041725">,</span>&nbsp;<span class="ident" id="8041727">LittleEndian</span><span class="op" id="8041739">,</span>&nbsp;<span class="ident" id="8041741">little</span><span class="op" id="8041747">,</span>&nbsp;<span class="ident" id="8041749">s</span><span class="op" id="8041750">)</span>&nbsp;<span class="op" id="8041752">}</span><br>
<span class="lineno"></span><span class="keyword" id="8041754">func</span>&nbsp;<span class="ident" id="8041759">TestLittleEndianPtrWrite</span><span class="op" id="8041783">(</span><span class="ident" id="8041784">t</span>&nbsp;<span class="op" id="8041786">*</span><span class="ident" id="8041787">testing</span><span class="op" id="8041794">.</span><span class="ident" id="8041795">T</span><span class="op" id="8041796">)</span>&nbsp;<span class="op" id="8041798">{</span>&nbsp;<span class="ident" id="8041800">testWrite</span><span class="op" id="8041809">(</span><span class="ident" id="8041810">t</span><span class="op" id="8041811">,</span>&nbsp;<span class="ident" id="8041813">LittleEndian</span><span class="op" id="8041825">,</span>&nbsp;<span class="ident" id="8041827">little</span><span class="op" id="8041833">,</span>&nbsp;<span class="op" id="8041835">&amp;</span><span class="ident" id="8041836">s</span><span class="op" id="8041837">)</span>&nbsp;<span class="op" id="8041839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041842">func</span>&nbsp;<span class="ident" id="8041847">TestBigEndianRead</span><span class="op" id="8041864">(</span><span class="ident" id="8041865">t</span>&nbsp;<span class="op" id="8041867">*</span><span class="ident" id="8041868">testing</span><span class="op" id="8041875">.</span><span class="ident" id="8041876">T</span><span class="op" id="8041877">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041883">{</span>&nbsp;<span class="ident" id="8041885">testRead</span><span class="op" id="8041893">(</span><span class="ident" id="8041894">t</span><span class="op" id="8041895">,</span>&nbsp;<span class="ident" id="8041897">BigEndian</span><span class="op" id="8041906">,</span>&nbsp;<span class="ident" id="8041908">big</span><span class="op" id="8041911">,</span>&nbsp;<span class="ident" id="8041913">s</span><span class="op" id="8041914">)</span>&nbsp;<span class="op" id="8041916">}</span><br>
<span class="lineno"></span><span class="keyword" id="8041918">func</span>&nbsp;<span class="ident" id="8041923">TestBigEndianWrite</span><span class="op" id="8041941">(</span><span class="ident" id="8041942">t</span>&nbsp;<span class="op" id="8041944">*</span><span class="ident" id="8041945">testing</span><span class="op" id="8041952">.</span><span class="ident" id="8041953">T</span><span class="op" id="8041954">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041959">{</span>&nbsp;<span class="ident" id="8041961">testWrite</span><span class="op" id="8041970">(</span><span class="ident" id="8041971">t</span><span class="op" id="8041972">,</span>&nbsp;<span class="ident" id="8041974">BigEndian</span><span class="op" id="8041983">,</span>&nbsp;<span class="ident" id="8041985">big</span><span class="op" id="8041988">,</span>&nbsp;<span class="ident" id="8041990">s</span><span class="op" id="8041991">)</span>&nbsp;<span class="op" id="8041993">}</span><br>
<span class="lineno">130</span><span class="keyword" id="8041995">func</span>&nbsp;<span class="ident" id="8042000">TestBigEndianPtrWrite</span><span class="op" id="8042021">(</span><span class="ident" id="8042022">t</span>&nbsp;<span class="op" id="8042024">*</span><span class="ident" id="8042025">testing</span><span class="op" id="8042032">.</span><span class="ident" id="8042033">T</span><span class="op" id="8042034">)</span>&nbsp;<span class="op" id="8042036">{</span>&nbsp;<span class="ident" id="8042038">testWrite</span><span class="op" id="8042047">(</span><span class="ident" id="8042048">t</span><span class="op" id="8042049">,</span>&nbsp;<span class="ident" id="8042051">BigEndian</span><span class="op" id="8042060">,</span>&nbsp;<span class="ident" id="8042062">big</span><span class="op" id="8042065">,</span>&nbsp;<span class="op" id="8042067">&amp;</span><span class="ident" id="8042068">s</span><span class="op" id="8042069">)</span>&nbsp;<span class="op" id="8042071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8042074">func</span>&nbsp;<span class="ident" id="8042079">TestReadSlice</span><span class="op" id="8042092">(</span><span class="ident" id="8042093">t</span>&nbsp;<span class="op" id="8042095">*</span><span class="ident" id="8042096">testing</span><span class="op" id="8042103">.</span><span class="ident" id="8042104">T</span><span class="op" id="8042105">)</span>&nbsp;<span class="op" id="8042107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042110">slice</span>&nbsp;<span class="op" id="8042116">:=</span>&nbsp;<span class="builtinfunc" id="8042119">make</span><span class="op" id="8042123">(</span><span class="op" id="8042124">[</span><span class="op" id="8042125">]</span><span class="builtintype" id="8042126">int32</span><span class="op" id="8042131">,</span>&nbsp;<span class="num" id="8042133">2</span><span class="op" id="8042134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042137">err</span>&nbsp;<span class="op" id="8042141">:=</span>&nbsp;<span class="ident" id="8042144">Read</span><span class="op" id="8042148">(</span><span class="ident" id="8042149">bytes</span><span class="op" id="8042154">.</span><span class="ident" id="8042155">NewReader</span><span class="op" id="8042164">(</span><span class="ident" id="8042165">src</span><span class="op" id="8042168">)</span><span class="op" id="8042169">,</span>&nbsp;<span class="ident" id="8042171">BigEndian</span><span class="op" id="8042180">,</span>&nbsp;<span class="ident" id="8042182">slice</span><span class="op" id="8042187">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042190">checkResult</span><span class="op" id="8042201">(</span><span class="ident" id="8042202">t</span><span class="op" id="8042203">,</span>&nbsp;<span class="string" id="8042205">&#34;ReadSlice&#34;</span><span class="op" id="8042216">,</span>&nbsp;<span class="ident" id="8042218">BigEndian</span><span class="op" id="8042227">,</span>&nbsp;<span class="ident" id="8042229">err</span><span class="op" id="8042232">,</span>&nbsp;<span class="ident" id="8042234">slice</span><span class="op" id="8042239">,</span>&nbsp;<span class="ident" id="8042241">res</span><span class="op" id="8042244">)</span><br>
<span class="lineno"></span><span class="op" id="8042246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8042249">func</span>&nbsp;<span class="ident" id="8042254">TestWriteSlice</span><span class="op" id="8042268">(</span><span class="ident" id="8042269">t</span>&nbsp;<span class="op" id="8042271">*</span><span class="ident" id="8042272">testing</span><span class="op" id="8042279">.</span><span class="ident" id="8042280">T</span><span class="op" id="8042281">)</span>&nbsp;<span class="op" id="8042283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042286">buf</span>&nbsp;<span class="op" id="8042290">:=</span>&nbsp;<span class="builtinfunc" id="8042293">new</span><span class="op" id="8042296">(</span><span class="ident" id="8042297">bytes</span><span class="op" id="8042302">.</span><span class="ident" id="8042303">Buffer</span><span class="op" id="8042309">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042312">err</span>&nbsp;<span class="op" id="8042316">:=</span>&nbsp;<span class="ident" id="8042319">Write</span><span class="op" id="8042324">(</span><span class="ident" id="8042325">buf</span><span class="op" id="8042328">,</span>&nbsp;<span class="ident" id="8042330">BigEndian</span><span class="op" id="8042339">,</span>&nbsp;<span class="ident" id="8042341">res</span><span class="op" id="8042344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042347">checkResult</span><span class="op" id="8042358">(</span><span class="ident" id="8042359">t</span><span class="op" id="8042360">,</span>&nbsp;<span class="string" id="8042362">&#34;WriteSlice&#34;</span><span class="op" id="8042374">,</span>&nbsp;<span class="ident" id="8042376">BigEndian</span><span class="op" id="8042385">,</span>&nbsp;<span class="ident" id="8042387">err</span><span class="op" id="8042390">,</span>&nbsp;<span class="ident" id="8042392">buf</span><span class="op" id="8042395">.</span><span class="ident" id="8042396">Bytes</span><span class="op" id="8042401">(</span><span class="op" id="8042402">)</span><span class="op" id="8042403">,</span>&nbsp;<span class="ident" id="8042405">src</span><span class="op" id="8042408">)</span><br>
<span class="lineno"></span><span class="op" id="8042410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8042413">//&nbsp;Addresses&nbsp;of&nbsp;arrays&nbsp;are&nbsp;easier&nbsp;to&nbsp;manipulate&nbsp;with&nbsp;reflection&nbsp;than&nbsp;are&nbsp;slices.</span><br>
<span class="lineno">145</span><span class="keyword" id="8042494">var</span>&nbsp;<span class="ident" id="8042498">intArrays</span>&nbsp;<span class="op" id="8042508">=</span>&nbsp;<span class="op" id="8042510">[</span><span class="op" id="8042511">]</span><span class="keyword" id="8042512">interface</span><span class="op" id="8042521">{</span><span class="op" id="8042522">}</span><span class="op" id="8042523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042526">&amp;</span><span class="op" id="8042527">[</span><span class="num" id="8042528">100</span><span class="op" id="8042531">]</span><span class="builtintype" id="8042532">int8</span><span class="op" id="8042536">{</span><span class="op" id="8042537">}</span><span class="op" id="8042538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042541">&amp;</span><span class="op" id="8042542">[</span><span class="num" id="8042543">100</span><span class="op" id="8042546">]</span><span class="builtintype" id="8042547">int16</span><span class="op" id="8042552">{</span><span class="op" id="8042553">}</span><span class="op" id="8042554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042557">&amp;</span><span class="op" id="8042558">[</span><span class="num" id="8042559">100</span><span class="op" id="8042562">]</span><span class="builtintype" id="8042563">int32</span><span class="op" id="8042568">{</span><span class="op" id="8042569">}</span><span class="op" id="8042570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042573">&amp;</span><span class="op" id="8042574">[</span><span class="num" id="8042575">100</span><span class="op" id="8042578">]</span><span class="ident" id="8042579">int64</span><span class="op" id="8042584">{</span><span class="op" id="8042585">}</span><span class="op" id="8042586">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042589">&amp;</span><span class="op" id="8042590">[</span><span class="num" id="8042591">100</span><span class="op" id="8042594">]</span><span class="builtintype" id="8042595">uint8</span><span class="op" id="8042600">{</span><span class="op" id="8042601">}</span><span class="op" id="8042602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042605">&amp;</span><span class="op" id="8042606">[</span><span class="num" id="8042607">100</span><span class="op" id="8042610">]</span><span class="builtintype" id="8042611">uint16</span><span class="op" id="8042617">{</span><span class="op" id="8042618">}</span><span class="op" id="8042619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042622">&amp;</span><span class="op" id="8042623">[</span><span class="num" id="8042624">100</span><span class="op" id="8042627">]</span><span class="builtintype" id="8042628">uint32</span><span class="op" id="8042634">{</span><span class="op" id="8042635">}</span><span class="op" id="8042636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042639">&amp;</span><span class="op" id="8042640">[</span><span class="num" id="8042641">100</span><span class="op" id="8042644">]</span><span class="ident" id="8042645">uint64</span><span class="op" id="8042651">{</span><span class="op" id="8042652">}</span><span class="op" id="8042653">,</span><br>
<span class="lineno"></span><span class="op" id="8042655">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="8042658">func</span>&nbsp;<span class="ident" id="8042663">TestSliceRoundTrip</span><span class="op" id="8042681">(</span><span class="ident" id="8042682">t</span>&nbsp;<span class="op" id="8042684">*</span><span class="ident" id="8042685">testing</span><span class="op" id="8042692">.</span><span class="ident" id="8042693">T</span><span class="op" id="8042694">)</span>&nbsp;<span class="op" id="8042696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042699">buf</span>&nbsp;<span class="op" id="8042703">:=</span>&nbsp;<span class="builtinfunc" id="8042706">new</span><span class="op" id="8042709">(</span><span class="ident" id="8042710">bytes</span><span class="op" id="8042715">.</span><span class="ident" id="8042716">Buffer</span><span class="op" id="8042722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042725">for</span>&nbsp;<span class="ident" id="8042729">_</span><span class="op" id="8042730">,</span>&nbsp;<span class="ident" id="8042732">array</span>&nbsp;<span class="op" id="8042738">:=</span>&nbsp;<span class="keyword" id="8042741">range</span>&nbsp;<span class="ident" id="8042747">intArrays</span>&nbsp;<span class="op" id="8042757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042761">src</span>&nbsp;<span class="op" id="8042765">:=</span>&nbsp;<span class="ident" id="8042768">reflect</span><span class="op" id="8042775">.</span><span class="ident" id="8042776">ValueOf</span><span class="op" id="8042783">(</span><span class="ident" id="8042784">array</span><span class="op" id="8042789">)</span><span class="op" id="8042790">.</span><span class="ident" id="8042791">Elem</span><span class="op" id="8042795">(</span><span class="op" id="8042796">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042800">unsigned</span>&nbsp;<span class="op" id="8042809">:=</span>&nbsp;<span class="builtintype" id="8042812">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042820">switch</span>&nbsp;<span class="ident" id="8042827">src</span><span class="op" id="8042830">.</span><span class="ident" id="8042831">Index</span><span class="op" id="8042836">(</span><span class="num" id="8042837">0</span><span class="op" id="8042838">)</span><span class="op" id="8042839">.</span><span class="ident" id="8042840">Kind</span><span class="op" id="8042844">(</span><span class="op" id="8042845">)</span>&nbsp;<span class="op" id="8042847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042851">case</span>&nbsp;<span class="ident" id="8042856">reflect</span><span class="op" id="8042863">.</span><span class="ident" id="8042864">Uint8</span><span class="op" id="8042869">,</span>&nbsp;<span class="ident" id="8042871">reflect</span><span class="op" id="8042878">.</span><span class="ident" id="8042879">Uint16</span><span class="op" id="8042885">,</span>&nbsp;<span class="ident" id="8042887">reflect</span><span class="op" id="8042894">.</span><span class="ident" id="8042895">Uint32</span><span class="op" id="8042901">,</span>&nbsp;<span class="ident" id="8042903">reflect</span><span class="op" id="8042910">.</span><span class="ident" id="8042911">Uint64</span><span class="op" id="8042917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042922">unsigned</span>&nbsp;<span class="op" id="8042931">=</span>&nbsp;<span class="builtintype" id="8042933">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8042940">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042944">for</span>&nbsp;<span class="ident" id="8042948">i</span>&nbsp;<span class="op" id="8042950">:=</span>&nbsp;<span class="num" id="8042953">0</span><span class="op" id="8042954">;</span>&nbsp;<span class="ident" id="8042956">i</span>&nbsp;<span class="op" id="8042958">&lt;</span>&nbsp;<span class="ident" id="8042960">src</span><span class="op" id="8042963">.</span><span class="ident" id="8042964">Len</span><span class="op" id="8042967">(</span><span class="op" id="8042968">)</span><span class="op" id="8042969">;</span>&nbsp;<span class="ident" id="8042971">i</span><span class="op" id="8042972">++</span>&nbsp;<span class="op" id="8042975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8042980">if</span>&nbsp;<span class="ident" id="8042983">unsigned</span>&nbsp;<span class="op" id="8042992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8042998">src</span><span class="op" id="8043001">.</span><span class="ident" id="8043002">Index</span><span class="op" id="8043007">(</span><span class="ident" id="8043008">i</span><span class="op" id="8043009">)</span><span class="op" id="8043010">.</span><span class="ident" id="8043011">SetUint</span><span class="op" id="8043018">(</span><span class="ident" id="8043019">uint64</span><span class="op" id="8043025">(</span><span class="ident" id="8043026">i</span>&nbsp;<span class="op" id="8043028">*</span>&nbsp;<span class="num" id="8043030">0x07654321</span><span class="op" id="8043040">)</span><span class="op" id="8043041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043046">}</span>&nbsp;<span class="keyword" id="8043048">else</span>&nbsp;<span class="op" id="8043053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043059">src</span><span class="op" id="8043062">.</span><span class="ident" id="8043063">Index</span><span class="op" id="8043068">(</span><span class="ident" id="8043069">i</span><span class="op" id="8043070">)</span><span class="op" id="8043071">.</span><span class="ident" id="8043072">SetInt</span><span class="op" id="8043078">(</span><span class="ident" id="8043079">int64</span><span class="op" id="8043084">(</span><span class="ident" id="8043085">i</span>&nbsp;<span class="op" id="8043087">*</span>&nbsp;<span class="num" id="8043089">0x07654321</span><span class="op" id="8043099">)</span><span class="op" id="8043100">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043113">buf</span><span class="op" id="8043116">.</span><span class="ident" id="8043117">Reset</span><span class="op" id="8043122">(</span><span class="op" id="8043123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043127">srcSlice</span>&nbsp;<span class="op" id="8043136">:=</span>&nbsp;<span class="ident" id="8043139">src</span><span class="op" id="8043142">.</span><span class="ident" id="8043143">Slice</span><span class="op" id="8043148">(</span><span class="num" id="8043149">0</span><span class="op" id="8043150">,</span>&nbsp;<span class="ident" id="8043152">src</span><span class="op" id="8043155">.</span><span class="ident" id="8043156">Len</span><span class="op" id="8043159">(</span><span class="op" id="8043160">)</span><span class="op" id="8043161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043165">err</span>&nbsp;<span class="op" id="8043169">:=</span>&nbsp;<span class="ident" id="8043172">Write</span><span class="op" id="8043177">(</span><span class="ident" id="8043178">buf</span><span class="op" id="8043181">,</span>&nbsp;<span class="ident" id="8043183">BigEndian</span><span class="op" id="8043192">,</span>&nbsp;<span class="ident" id="8043194">srcSlice</span><span class="op" id="8043202">.</span><span class="ident" id="8043203">Interface</span><span class="op" id="8043212">(</span><span class="op" id="8043213">)</span><span class="op" id="8043214">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043218">if</span>&nbsp;<span class="ident" id="8043221">err</span>&nbsp;<span class="op" id="8043225">!=</span>&nbsp;<span class="ident" id="8043228">nil</span>&nbsp;<span class="op" id="8043232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043237">t</span><span class="op" id="8043238">.</span><span class="ident" id="8043239">Fatal</span><span class="op" id="8043244">(</span><span class="ident" id="8043245">err</span><span class="op" id="8043248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043256">dst</span>&nbsp;<span class="op" id="8043260">:=</span>&nbsp;<span class="ident" id="8043263">reflect</span><span class="op" id="8043270">.</span><span class="ident" id="8043271">New</span><span class="op" id="8043274">(</span><span class="ident" id="8043275">src</span><span class="op" id="8043278">.</span><span class="ident" id="8043279">Type</span><span class="op" id="8043283">(</span><span class="op" id="8043284">)</span><span class="op" id="8043285">)</span><span class="op" id="8043286">.</span><span class="ident" id="8043287">Elem</span><span class="op" id="8043291">(</span><span class="op" id="8043292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043296">dstSlice</span>&nbsp;<span class="op" id="8043305">:=</span>&nbsp;<span class="ident" id="8043308">dst</span><span class="op" id="8043311">.</span><span class="ident" id="8043312">Slice</span><span class="op" id="8043317">(</span><span class="num" id="8043318">0</span><span class="op" id="8043319">,</span>&nbsp;<span class="ident" id="8043321">dst</span><span class="op" id="8043324">.</span><span class="ident" id="8043325">Len</span><span class="op" id="8043328">(</span><span class="op" id="8043329">)</span><span class="op" id="8043330">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043334">err</span>&nbsp;<span class="op" id="8043338">=</span>&nbsp;<span class="ident" id="8043340">Read</span><span class="op" id="8043344">(</span><span class="ident" id="8043345">buf</span><span class="op" id="8043348">,</span>&nbsp;<span class="ident" id="8043350">BigEndian</span><span class="op" id="8043359">,</span>&nbsp;<span class="ident" id="8043361">dstSlice</span><span class="op" id="8043369">.</span><span class="ident" id="8043370">Interface</span><span class="op" id="8043379">(</span><span class="op" id="8043380">)</span><span class="op" id="8043381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043385">if</span>&nbsp;<span class="ident" id="8043388">err</span>&nbsp;<span class="op" id="8043392">!=</span>&nbsp;<span class="ident" id="8043395">nil</span>&nbsp;<span class="op" id="8043399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043404">t</span><span class="op" id="8043405">.</span><span class="ident" id="8043406">Fatal</span><span class="op" id="8043411">(</span><span class="ident" id="8043412">err</span><span class="op" id="8043415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043423">if</span>&nbsp;<span class="op" id="8043426">!</span><span class="ident" id="8043427">reflect</span><span class="op" id="8043434">.</span><span class="ident" id="8043435">DeepEqual</span><span class="op" id="8043444">(</span><span class="ident" id="8043445">src</span><span class="op" id="8043448">.</span><span class="ident" id="8043449">Interface</span><span class="op" id="8043458">(</span><span class="op" id="8043459">)</span><span class="op" id="8043460">,</span>&nbsp;<span class="ident" id="8043462">dst</span><span class="op" id="8043465">.</span><span class="ident" id="8043466">Interface</span><span class="op" id="8043475">(</span><span class="op" id="8043476">)</span><span class="op" id="8043477">)</span>&nbsp;<span class="op" id="8043479">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043484">t</span><span class="op" id="8043485">.</span><span class="ident" id="8043486">Fatal</span><span class="op" id="8043491">(</span><span class="ident" id="8043492">src</span><span class="op" id="8043495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043502">}</span><br>
<span class="lineno"></span><span class="op" id="8043504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="8043507">func</span>&nbsp;<span class="ident" id="8043512">TestWriteT</span><span class="op" id="8043522">(</span><span class="ident" id="8043523">t</span>&nbsp;<span class="op" id="8043525">*</span><span class="ident" id="8043526">testing</span><span class="op" id="8043533">.</span><span class="ident" id="8043534">T</span><span class="op" id="8043535">)</span>&nbsp;<span class="op" id="8043537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043540">buf</span>&nbsp;<span class="op" id="8043544">:=</span>&nbsp;<span class="builtinfunc" id="8043547">new</span><span class="op" id="8043550">(</span><span class="ident" id="8043551">bytes</span><span class="op" id="8043556">.</span><span class="ident" id="8043557">Buffer</span><span class="op" id="8043563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043566">ts</span>&nbsp;<span class="op" id="8043569">:=</span>&nbsp;<span class="ident" id="8043572">T</span><span class="op" id="8043573">{</span><span class="op" id="8043574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043577">if</span>&nbsp;<span class="ident" id="8043580">err</span>&nbsp;<span class="op" id="8043584">:=</span>&nbsp;<span class="ident" id="8043587">Write</span><span class="op" id="8043592">(</span><span class="ident" id="8043593">buf</span><span class="op" id="8043596">,</span>&nbsp;<span class="ident" id="8043598">BigEndian</span><span class="op" id="8043607">,</span>&nbsp;<span class="ident" id="8043609">ts</span><span class="op" id="8043611">)</span><span class="op" id="8043612">;</span>&nbsp;<span class="ident" id="8043614">err</span>&nbsp;<span class="op" id="8043618">==</span>&nbsp;<span class="ident" id="8043621">nil</span>&nbsp;<span class="op" id="8043625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043629">t</span><span class="op" id="8043630">.</span><span class="ident" id="8043631">Errorf</span><span class="op" id="8043637">(</span><span class="string" id="8043638">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8043677">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043684">tv</span>&nbsp;<span class="op" id="8043687">:=</span>&nbsp;<span class="ident" id="8043690">reflect</span><span class="op" id="8043697">.</span><span class="ident" id="8043698">Indirect</span><span class="op" id="8043706">(</span><span class="ident" id="8043707">reflect</span><span class="op" id="8043714">.</span><span class="ident" id="8043715">ValueOf</span><span class="op" id="8043722">(</span><span class="ident" id="8043723">ts</span><span class="op" id="8043725">)</span><span class="op" id="8043726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043729">for</span>&nbsp;<span class="ident" id="8043733">i</span><span class="op" id="8043734">,</span>&nbsp;<span class="ident" id="8043736">n</span>&nbsp;<span class="op" id="8043738">:=</span>&nbsp;<span class="num" id="8043741">0</span><span class="op" id="8043742">,</span>&nbsp;<span class="ident" id="8043744">tv</span><span class="op" id="8043746">.</span><span class="ident" id="8043747">NumField</span><span class="op" id="8043755">(</span><span class="op" id="8043756">)</span><span class="op" id="8043757">;</span>&nbsp;<span class="ident" id="8043759">i</span>&nbsp;<span class="op" id="8043761">&lt;</span>&nbsp;<span class="ident" id="8043763">n</span><span class="op" id="8043764">;</span>&nbsp;<span class="ident" id="8043766">i</span><span class="op" id="8043767">++</span>&nbsp;<span class="op" id="8043770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043774">typ</span>&nbsp;<span class="op" id="8043778">:=</span>&nbsp;<span class="ident" id="8043781">tv</span><span class="op" id="8043783">.</span><span class="ident" id="8043784">Field</span><span class="op" id="8043789">(</span><span class="ident" id="8043790">i</span><span class="op" id="8043791">)</span><span class="op" id="8043792">.</span><span class="ident" id="8043793">Type</span><span class="op" id="8043797">(</span><span class="op" id="8043798">)</span><span class="op" id="8043799">.</span><span class="ident" id="8043800">String</span><span class="op" id="8043806">(</span><span class="op" id="8043807">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043811">if</span>&nbsp;<span class="ident" id="8043814">typ</span>&nbsp;<span class="op" id="8043818">==</span>&nbsp;<span class="string" id="8043821">&#34;[4]int&#34;</span>&nbsp;<span class="op" id="8043830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043835">typ</span>&nbsp;<span class="op" id="8043839">=</span>&nbsp;<span class="string" id="8043841">&#34;int&#34;</span>&nbsp;<span class="comment" id="8043847">//&nbsp;the&nbsp;problem&nbsp;is&nbsp;int,&nbsp;not&nbsp;the&nbsp;[4]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8043884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8043888">if</span>&nbsp;<span class="ident" id="8043891">err</span>&nbsp;<span class="op" id="8043895">:=</span>&nbsp;<span class="ident" id="8043898">Write</span><span class="op" id="8043903">(</span><span class="ident" id="8043904">buf</span><span class="op" id="8043907">,</span>&nbsp;<span class="ident" id="8043909">BigEndian</span><span class="op" id="8043918">,</span>&nbsp;<span class="ident" id="8043920">tv</span><span class="op" id="8043922">.</span><span class="ident" id="8043923">Field</span><span class="op" id="8043928">(</span><span class="ident" id="8043929">i</span><span class="op" id="8043930">)</span><span class="op" id="8043931">.</span><span class="ident" id="8043932">Interface</span><span class="op" id="8043941">(</span><span class="op" id="8043942">)</span><span class="op" id="8043943">)</span><span class="op" id="8043944">;</span>&nbsp;<span class="ident" id="8043946">err</span>&nbsp;<span class="op" id="8043950">==</span>&nbsp;<span class="ident" id="8043953">nil</span>&nbsp;<span class="op" id="8043957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8043962">t</span><span class="op" id="8043963">.</span><span class="ident" id="8043964">Errorf</span><span class="op" id="8043970">(</span><span class="string" id="8043971">&#34;WriteT.%v:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8044013">,</span>&nbsp;<span class="ident" id="8044015">tv</span><span class="op" id="8044017">.</span><span class="ident" id="8044018">Field</span><span class="op" id="8044023">(</span><span class="ident" id="8044024">i</span><span class="op" id="8044025">)</span><span class="op" id="8044026">.</span><span class="ident" id="8044027">Type</span><span class="op" id="8044031">(</span><span class="op" id="8044032">)</span><span class="op" id="8044033">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044037">}</span>&nbsp;<span class="keyword" id="8044039">else</span>&nbsp;<span class="keyword" id="8044044">if</span>&nbsp;<span class="op" id="8044047">!</span><span class="ident" id="8044048">strings</span><span class="op" id="8044055">.</span><span class="ident" id="8044056">Contains</span><span class="op" id="8044064">(</span><span class="ident" id="8044065">err</span><span class="op" id="8044068">.</span><span class="ident" id="8044069">Error</span><span class="op" id="8044074">(</span><span class="op" id="8044075">)</span><span class="op" id="8044076">,</span>&nbsp;<span class="ident" id="8044078">typ</span><span class="op" id="8044081">)</span>&nbsp;<span class="op" id="8044083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044088">t</span><span class="op" id="8044089">.</span><span class="ident" id="8044090">Errorf</span><span class="op" id="8044096">(</span><span class="string" id="8044097">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;%q,&nbsp;want&nbsp;it&nbsp;to&nbsp;mention&nbsp;%s&#34;</span><span class="op" id="8044144">,</span>&nbsp;<span class="ident" id="8044146">err</span><span class="op" id="8044149">,</span>&nbsp;<span class="ident" id="8044151">typ</span><span class="op" id="8044154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044161">}</span><br>
<span class="lineno"></span><span class="op" id="8044163">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="8044166">type</span>&nbsp;<span class="ident" id="8044171">BlankFields</span>&nbsp;<span class="keyword" id="8044183">struct</span>&nbsp;<span class="op" id="8044190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044193">A</span>&nbsp;<span class="builtintype" id="8044195">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044203">_</span>&nbsp;<span class="builtintype" id="8044205">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044212">B</span>&nbsp;<span class="builtintype" id="8044214">float64</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044223">_</span>&nbsp;<span class="op" id="8044225">[</span><span class="num" id="8044226">4</span><span class="op" id="8044227">]</span><span class="builtintype" id="8044228">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044235">C</span>&nbsp;<span class="builtintype" id="8044237">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044243">_</span>&nbsp;<span class="op" id="8044245">[</span><span class="num" id="8044246">7</span><span class="op" id="8044247">]</span><span class="builtintype" id="8044248">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044254">_</span>&nbsp;<span class="keyword" id="8044256">struct</span>&nbsp;<span class="op" id="8044263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044267">f</span>&nbsp;<span class="op" id="8044269">[</span><span class="num" id="8044270">8</span><span class="op" id="8044271">]</span><span class="builtintype" id="8044272">float32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044281">}</span><br>
<span class="lineno"></span><span class="op" id="8044283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8044286">type</span>&nbsp;<span class="ident" id="8044291">BlankFieldsProbe</span>&nbsp;<span class="keyword" id="8044308">struct</span>&nbsp;<span class="op" id="8044315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044318">A</span>&nbsp;&nbsp;<span class="builtintype" id="8044321">uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044329">P0</span>&nbsp;<span class="builtintype" id="8044332">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044339">B</span>&nbsp;&nbsp;<span class="builtintype" id="8044342">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044351">P1</span>&nbsp;<span class="op" id="8044354">[</span><span class="num" id="8044355">4</span><span class="op" id="8044356">]</span><span class="builtintype" id="8044357">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044364">C</span>&nbsp;&nbsp;<span class="builtintype" id="8044367">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044373">P2</span>&nbsp;<span class="op" id="8044376">[</span><span class="num" id="8044377">7</span><span class="op" id="8044378">]</span><span class="builtintype" id="8044379">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044385">P3</span>&nbsp;<span class="keyword" id="8044388">struct</span>&nbsp;<span class="op" id="8044395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044399">F</span>&nbsp;<span class="op" id="8044401">[</span><span class="num" id="8044402">8</span><span class="op" id="8044403">]</span><span class="builtintype" id="8044404">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044413">}</span><br>
<span class="lineno"></span><span class="op" id="8044415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8044418">func</span>&nbsp;<span class="ident" id="8044423">TestBlankFields</span><span class="op" id="8044438">(</span><span class="ident" id="8044439">t</span>&nbsp;<span class="op" id="8044441">*</span><span class="ident" id="8044442">testing</span><span class="op" id="8044449">.</span><span class="ident" id="8044450">T</span><span class="op" id="8044451">)</span>&nbsp;<span class="op" id="8044453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044456">buf</span>&nbsp;<span class="op" id="8044460">:=</span>&nbsp;<span class="builtinfunc" id="8044463">new</span><span class="op" id="8044466">(</span><span class="ident" id="8044467">bytes</span><span class="op" id="8044472">.</span><span class="ident" id="8044473">Buffer</span><span class="op" id="8044479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044482">b1</span>&nbsp;<span class="op" id="8044485">:=</span>&nbsp;<span class="ident" id="8044488">BlankFields</span><span class="op" id="8044499">{</span><span class="ident" id="8044500">A</span><span class="op" id="8044501">:</span>&nbsp;<span class="num" id="8044503">1234567890</span><span class="op" id="8044513">,</span>&nbsp;<span class="ident" id="8044515">B</span><span class="op" id="8044516">:</span>&nbsp;<span class="num" id="8044518">2.718281828</span><span class="op" id="8044529">,</span>&nbsp;<span class="ident" id="8044531">C</span><span class="op" id="8044532">:</span>&nbsp;<span class="num" id="8044534">42</span><span class="op" id="8044536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044539">if</span>&nbsp;<span class="ident" id="8044542">err</span>&nbsp;<span class="op" id="8044546">:=</span>&nbsp;<span class="ident" id="8044549">Write</span><span class="op" id="8044554">(</span><span class="ident" id="8044555">buf</span><span class="op" id="8044558">,</span>&nbsp;<span class="ident" id="8044560">LittleEndian</span><span class="op" id="8044572">,</span>&nbsp;<span class="op" id="8044574">&amp;</span><span class="ident" id="8044575">b1</span><span class="op" id="8044577">)</span><span class="op" id="8044578">;</span>&nbsp;<span class="ident" id="8044580">err</span>&nbsp;<span class="op" id="8044584">!=</span>&nbsp;<span class="ident" id="8044587">nil</span>&nbsp;<span class="op" id="8044591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044595">t</span><span class="op" id="8044596">.</span><span class="ident" id="8044597">Error</span><span class="op" id="8044602">(</span><span class="ident" id="8044603">err</span><span class="op" id="8044606">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8044613">//&nbsp;zero&nbsp;values&nbsp;must&nbsp;have&nbsp;been&nbsp;written&nbsp;for&nbsp;blank&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044669">var</span>&nbsp;<span class="ident" id="8044673">p</span>&nbsp;<span class="ident" id="8044675">BlankFieldsProbe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044693">if</span>&nbsp;<span class="ident" id="8044696">err</span>&nbsp;<span class="op" id="8044700">:=</span>&nbsp;<span class="ident" id="8044703">Read</span><span class="op" id="8044707">(</span><span class="ident" id="8044708">buf</span><span class="op" id="8044711">,</span>&nbsp;<span class="ident" id="8044713">LittleEndian</span><span class="op" id="8044725">,</span>&nbsp;<span class="op" id="8044727">&amp;</span><span class="ident" id="8044728">p</span><span class="op" id="8044729">)</span><span class="op" id="8044730">;</span>&nbsp;<span class="ident" id="8044732">err</span>&nbsp;<span class="op" id="8044736">!=</span>&nbsp;<span class="ident" id="8044739">nil</span>&nbsp;<span class="op" id="8044743">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044747">t</span><span class="op" id="8044748">.</span><span class="ident" id="8044749">Error</span><span class="op" id="8044754">(</span><span class="ident" id="8044755">err</span><span class="op" id="8044758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8044765">//&nbsp;quick&nbsp;test:&nbsp;only&nbsp;check&nbsp;first&nbsp;value&nbsp;of&nbsp;slices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8044814">if</span>&nbsp;<span class="ident" id="8044817">p</span><span class="op" id="8044818">.</span><span class="ident" id="8044819">P0</span>&nbsp;<span class="op" id="8044822">!=</span>&nbsp;<span class="num" id="8044825">0</span>&nbsp;<span class="op" id="8044827">||</span>&nbsp;<span class="ident" id="8044830">p</span><span class="op" id="8044831">.</span><span class="ident" id="8044832">P1</span><span class="op" id="8044834">[</span><span class="num" id="8044835">0</span><span class="op" id="8044836">]</span>&nbsp;<span class="op" id="8044838">!=</span>&nbsp;<span class="num" id="8044841">0</span>&nbsp;<span class="op" id="8044843">||</span>&nbsp;<span class="ident" id="8044846">p</span><span class="op" id="8044847">.</span><span class="ident" id="8044848">P2</span><span class="op" id="8044850">[</span><span class="num" id="8044851">0</span><span class="op" id="8044852">]</span>&nbsp;<span class="op" id="8044854">!=</span>&nbsp;<span class="num" id="8044857">0</span>&nbsp;<span class="op" id="8044859">||</span>&nbsp;<span class="ident" id="8044862">p</span><span class="op" id="8044863">.</span><span class="ident" id="8044864">P3</span><span class="op" id="8044866">.</span><span class="ident" id="8044867">F</span><span class="op" id="8044868">[</span><span class="num" id="8044869">0</span><span class="op" id="8044870">]</span>&nbsp;<span class="op" id="8044872">!=</span>&nbsp;<span class="num" id="8044875">0</span>&nbsp;<span class="op" id="8044877">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8044881">t</span><span class="op" id="8044882">.</span><span class="ident" id="8044883">Errorf</span><span class="op" id="8044889">(</span><span class="string" id="8044890">&#34;non-zero&nbsp;values&nbsp;for&nbsp;originally&nbsp;blank&nbsp;fields:&nbsp;%#v&#34;</span><span class="op" id="8044940">,</span>&nbsp;<span class="ident" id="8044942">p</span><span class="op" id="8044943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8044946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8044950">//&nbsp;write&nbsp;p&nbsp;and&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;probe&nbsp;only&nbsp;some&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045003">if</span>&nbsp;<span class="ident" id="8045006">err</span>&nbsp;<span class="op" id="8045010">:=</span>&nbsp;<span class="ident" id="8045013">Write</span><span class="op" id="8045018">(</span><span class="ident" id="8045019">buf</span><span class="op" id="8045022">,</span>&nbsp;<span class="ident" id="8045024">LittleEndian</span><span class="op" id="8045036">,</span>&nbsp;<span class="op" id="8045038">&amp;</span><span class="ident" id="8045039">p</span><span class="op" id="8045040">)</span><span class="op" id="8045041">;</span>&nbsp;<span class="ident" id="8045043">err</span>&nbsp;<span class="op" id="8045047">!=</span>&nbsp;<span class="ident" id="8045050">nil</span>&nbsp;<span class="op" id="8045054">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045058">t</span><span class="op" id="8045059">.</span><span class="ident" id="8045060">Error</span><span class="op" id="8045065">(</span><span class="ident" id="8045066">err</span><span class="op" id="8045069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8045076">//&nbsp;read&nbsp;should&nbsp;ignore&nbsp;blank&nbsp;fields&nbsp;in&nbsp;b2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045118">var</span>&nbsp;<span class="ident" id="8045122">b2</span>&nbsp;<span class="ident" id="8045125">BlankFields</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045138">if</span>&nbsp;<span class="ident" id="8045141">err</span>&nbsp;<span class="op" id="8045145">:=</span>&nbsp;<span class="ident" id="8045148">Read</span><span class="op" id="8045152">(</span><span class="ident" id="8045153">buf</span><span class="op" id="8045156">,</span>&nbsp;<span class="ident" id="8045158">LittleEndian</span><span class="op" id="8045170">,</span>&nbsp;<span class="op" id="8045172">&amp;</span><span class="ident" id="8045173">b2</span><span class="op" id="8045175">)</span><span class="op" id="8045176">;</span>&nbsp;<span class="ident" id="8045178">err</span>&nbsp;<span class="op" id="8045182">!=</span>&nbsp;<span class="ident" id="8045185">nil</span>&nbsp;<span class="op" id="8045189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045193">t</span><span class="op" id="8045194">.</span><span class="ident" id="8045195">Error</span><span class="op" id="8045200">(</span><span class="ident" id="8045201">err</span><span class="op" id="8045204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045210">if</span>&nbsp;<span class="ident" id="8045213">b1</span><span class="op" id="8045215">.</span><span class="ident" id="8045216">A</span>&nbsp;<span class="op" id="8045218">!=</span>&nbsp;<span class="ident" id="8045221">b2</span><span class="op" id="8045223">.</span><span class="ident" id="8045224">A</span>&nbsp;<span class="op" id="8045226">||</span>&nbsp;<span class="ident" id="8045229">b1</span><span class="op" id="8045231">.</span><span class="ident" id="8045232">B</span>&nbsp;<span class="op" id="8045234">!=</span>&nbsp;<span class="ident" id="8045237">b2</span><span class="op" id="8045239">.</span><span class="ident" id="8045240">B</span>&nbsp;<span class="op" id="8045242">||</span>&nbsp;<span class="ident" id="8045245">b1</span><span class="op" id="8045247">.</span><span class="ident" id="8045248">C</span>&nbsp;<span class="op" id="8045250">!=</span>&nbsp;<span class="ident" id="8045253">b2</span><span class="op" id="8045255">.</span><span class="ident" id="8045256">C</span>&nbsp;<span class="op" id="8045258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045262">t</span><span class="op" id="8045263">.</span><span class="ident" id="8045264">Errorf</span><span class="op" id="8045270">(</span><span class="string" id="8045271">&#34;%#v&nbsp;!=&nbsp;%#v&#34;</span><span class="op" id="8045283">,</span>&nbsp;<span class="ident" id="8045285">b1</span><span class="op" id="8045287">,</span>&nbsp;<span class="ident" id="8045289">b2</span><span class="op" id="8045291">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045294">}</span><br>
<span class="lineno"></span><span class="op" id="8045296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8045299">//&nbsp;An&nbsp;attempt&nbsp;to&nbsp;read&nbsp;into&nbsp;a&nbsp;struct&nbsp;with&nbsp;an&nbsp;unexported&nbsp;field&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="8045365">//&nbsp;panic.&nbsp;&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;best&nbsp;choice,&nbsp;but&nbsp;at&nbsp;this&nbsp;point</span><br>
<span class="lineno">270</span><span class="comment" id="8045432">//&nbsp;anything&nbsp;else&nbsp;would&nbsp;be&nbsp;an&nbsp;API&nbsp;change.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8045474">type</span>&nbsp;<span class="ident" id="8045479">Unexported</span>&nbsp;<span class="keyword" id="8045490">struct</span>&nbsp;<span class="op" id="8045497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045500">a</span>&nbsp;<span class="builtintype" id="8045502">int32</span><br>
<span class="lineno"></span><span class="op" id="8045508">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="8045511">func</span>&nbsp;<span class="ident" id="8045516">TestUnexportedRead</span><span class="op" id="8045534">(</span><span class="ident" id="8045535">t</span>&nbsp;<span class="op" id="8045537">*</span><span class="ident" id="8045538">testing</span><span class="op" id="8045545">.</span><span class="ident" id="8045546">T</span><span class="op" id="8045547">)</span>&nbsp;<span class="op" id="8045549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045552">var</span>&nbsp;<span class="ident" id="8045556">buf</span>&nbsp;<span class="ident" id="8045560">bytes</span><span class="op" id="8045565">.</span><span class="ident" id="8045566">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045574">u1</span>&nbsp;<span class="op" id="8045577">:=</span>&nbsp;<span class="ident" id="8045580">Unexported</span><span class="op" id="8045590">{</span><span class="ident" id="8045591">a</span><span class="op" id="8045592">:</span>&nbsp;<span class="num" id="8045594">1</span><span class="op" id="8045595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045598">if</span>&nbsp;<span class="ident" id="8045601">err</span>&nbsp;<span class="op" id="8045605">:=</span>&nbsp;<span class="ident" id="8045608">Write</span><span class="op" id="8045613">(</span><span class="op" id="8045614">&amp;</span><span class="ident" id="8045615">buf</span><span class="op" id="8045618">,</span>&nbsp;<span class="ident" id="8045620">LittleEndian</span><span class="op" id="8045632">,</span>&nbsp;<span class="op" id="8045634">&amp;</span><span class="ident" id="8045635">u1</span><span class="op" id="8045637">)</span><span class="op" id="8045638">;</span>&nbsp;<span class="ident" id="8045640">err</span>&nbsp;<span class="op" id="8045644">!=</span>&nbsp;<span class="ident" id="8045647">nil</span>&nbsp;<span class="op" id="8045651">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045655">t</span><span class="op" id="8045656">.</span><span class="ident" id="8045657">Fatal</span><span class="op" id="8045662">(</span><span class="ident" id="8045663">err</span><span class="op" id="8045666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045673">defer</span>&nbsp;<span class="keyword" id="8045679">func</span><span class="op" id="8045683">(</span><span class="op" id="8045684">)</span>&nbsp;<span class="op" id="8045686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045690">if</span>&nbsp;<span class="builtinfunc" id="8045693">recover</span><span class="op" id="8045700">(</span><span class="op" id="8045701">)</span>&nbsp;<span class="op" id="8045703">==</span>&nbsp;<span class="ident" id="8045706">nil</span>&nbsp;<span class="op" id="8045710">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045715">t</span><span class="op" id="8045716">.</span><span class="ident" id="8045717">Fatal</span><span class="op" id="8045722">(</span><span class="string" id="8045723">&#34;did&nbsp;not&nbsp;panic&#34;</span><span class="op" id="8045738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8045745">}</span><span class="op" id="8045746">(</span><span class="op" id="8045747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045750">var</span>&nbsp;<span class="ident" id="8045754">u2</span>&nbsp;<span class="ident" id="8045757">Unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045769">Read</span><span class="op" id="8045773">(</span><span class="op" id="8045774">&amp;</span><span class="ident" id="8045775">buf</span><span class="op" id="8045778">,</span>&nbsp;<span class="ident" id="8045780">LittleEndian</span><span class="op" id="8045792">,</span>&nbsp;<span class="op" id="8045794">&amp;</span><span class="ident" id="8045795">u2</span><span class="op" id="8045797">)</span><br>
<span class="lineno">290</span><span class="op" id="8045799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8045802">func</span>&nbsp;<span class="ident" id="8045807">TestReadErrorMsg</span><span class="op" id="8045823">(</span><span class="ident" id="8045824">t</span>&nbsp;<span class="op" id="8045826">*</span><span class="ident" id="8045827">testing</span><span class="op" id="8045834">.</span><span class="ident" id="8045835">T</span><span class="op" id="8045836">)</span>&nbsp;<span class="op" id="8045838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8045841">var</span>&nbsp;<span class="ident" id="8045845">buf</span>&nbsp;<span class="ident" id="8045849">bytes</span><span class="op" id="8045854">.</span><span class="ident" id="8045855">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045863">read</span>&nbsp;<span class="op" id="8045868">:=</span>&nbsp;<span class="keyword" id="8045871">func</span><span class="op" id="8045875">(</span><span class="ident" id="8045876">data</span>&nbsp;<span class="keyword" id="8045881">interface</span><span class="op" id="8045890">{</span><span class="op" id="8045891">}</span><span class="op" id="8045892">)</span>&nbsp;<span class="op" id="8045894">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045898">err</span>&nbsp;<span class="op" id="8045902">:=</span>&nbsp;<span class="ident" id="8045905">Read</span><span class="op" id="8045909">(</span><span class="op" id="8045910">&amp;</span><span class="ident" id="8045911">buf</span><span class="op" id="8045914">,</span>&nbsp;<span class="ident" id="8045916">LittleEndian</span><span class="op" id="8045928">,</span>&nbsp;<span class="ident" id="8045930">data</span><span class="op" id="8045934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8045938">want</span>&nbsp;<span class="op" id="8045943">:=</span>&nbsp;<span class="string" id="8045946">&#34;binary.Read:&nbsp;invalid&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="8045975">+</span>&nbsp;<span class="ident" id="8045977">reflect</span><span class="op" id="8045984">.</span><span class="ident" id="8045985">TypeOf</span><span class="op" id="8045991">(</span><span class="ident" id="8045992">data</span><span class="op" id="8045996">)</span><span class="op" id="8045997">.</span><span class="ident" id="8045998">String</span><span class="op" id="8046004">(</span><span class="op" id="8046005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046009">if</span>&nbsp;<span class="ident" id="8046012">err</span>&nbsp;<span class="op" id="8046016">==</span>&nbsp;<span class="ident" id="8046019">nil</span>&nbsp;<span class="op" id="8046023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046028">t</span><span class="op" id="8046029">.</span><span class="ident" id="8046030">Errorf</span><span class="op" id="8046036">(</span><span class="string" id="8046037">&#34;%T:&nbsp;got&nbsp;no&nbsp;error;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8046064">,</span>&nbsp;<span class="ident" id="8046066">data</span><span class="op" id="8046070">,</span>&nbsp;<span class="ident" id="8046072">want</span><span class="op" id="8046076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046081">return</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046094">if</span>&nbsp;<span class="ident" id="8046097">got</span>&nbsp;<span class="op" id="8046101">:=</span>&nbsp;<span class="ident" id="8046104">err</span><span class="op" id="8046107">.</span><span class="ident" id="8046108">Error</span><span class="op" id="8046113">(</span><span class="op" id="8046114">)</span><span class="op" id="8046115">;</span>&nbsp;<span class="ident" id="8046117">got</span>&nbsp;<span class="op" id="8046121">!=</span>&nbsp;<span class="ident" id="8046124">want</span>&nbsp;<span class="op" id="8046129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046134">t</span><span class="op" id="8046135">.</span><span class="ident" id="8046136">Errorf</span><span class="op" id="8046142">(</span><span class="string" id="8046143">&#34;%T:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8046164">,</span>&nbsp;<span class="ident" id="8046166">data</span><span class="op" id="8046170">,</span>&nbsp;<span class="ident" id="8046172">got</span><span class="op" id="8046175">,</span>&nbsp;<span class="ident" id="8046177">want</span><span class="op" id="8046181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046188">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046191">read</span><span class="op" id="8046195">(</span><span class="num" id="8046196">0</span><span class="op" id="8046197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046200">s</span>&nbsp;<span class="op" id="8046202">:=</span>&nbsp;<span class="builtinfunc" id="8046205">new</span><span class="op" id="8046208">(</span><span class="keyword" id="8046209">struct</span><span class="op" id="8046215">{</span><span class="op" id="8046216">}</span><span class="op" id="8046217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046220">read</span><span class="op" id="8046224">(</span><span class="op" id="8046225">&amp;</span><span class="ident" id="8046226">s</span><span class="op" id="8046227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046230">p</span>&nbsp;<span class="op" id="8046232">:=</span>&nbsp;<span class="op" id="8046235">&amp;</span><span class="ident" id="8046236">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046239">read</span><span class="op" id="8046243">(</span><span class="op" id="8046244">&amp;</span><span class="ident" id="8046245">p</span><span class="op" id="8046246">)</span><br>
<span class="lineno">310</span><span class="op" id="8046248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8046251">type</span>&nbsp;<span class="ident" id="8046256">byteSliceReader</span>&nbsp;<span class="keyword" id="8046272">struct</span>&nbsp;<span class="op" id="8046279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046282">remain</span>&nbsp;<span class="op" id="8046289">[</span><span class="op" id="8046290">]</span><span class="builtintype" id="8046291">byte</span><br>
<span class="lineno"></span><span class="op" id="8046296">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="8046299">func</span>&nbsp;<span class="op" id="8046304">(</span><span class="ident" id="8046305">br</span>&nbsp;<span class="op" id="8046308">*</span><span class="ident" id="8046309">byteSliceReader</span><span class="op" id="8046324">)</span>&nbsp;<span class="ident" id="8046326">Read</span><span class="op" id="8046330">(</span><span class="ident" id="8046331">p</span>&nbsp;<span class="op" id="8046333">[</span><span class="op" id="8046334">]</span><span class="builtintype" id="8046335">byte</span><span class="op" id="8046339">)</span>&nbsp;<span class="op" id="8046341">(</span><span class="builtintype" id="8046342">int</span><span class="op" id="8046345">,</span>&nbsp;<span class="builtintype" id="8046347">error</span><span class="op" id="8046352">)</span>&nbsp;<span class="op" id="8046354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046357">n</span>&nbsp;<span class="op" id="8046359">:=</span>&nbsp;<span class="builtinfunc" id="8046362">copy</span><span class="op" id="8046366">(</span><span class="ident" id="8046367">p</span><span class="op" id="8046368">,</span>&nbsp;<span class="ident" id="8046370">br</span><span class="op" id="8046372">.</span><span class="ident" id="8046373">remain</span><span class="op" id="8046379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046382">br</span><span class="op" id="8046384">.</span><span class="ident" id="8046385">remain</span>&nbsp;<span class="op" id="8046392">=</span>&nbsp;<span class="ident" id="8046394">br</span><span class="op" id="8046396">.</span><span class="ident" id="8046397">remain</span><span class="op" id="8046403">[</span><span class="ident" id="8046404">n</span><span class="op" id="8046405">:</span><span class="op" id="8046406">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046409">return</span>&nbsp;<span class="ident" id="8046416">n</span><span class="op" id="8046417">,</span>&nbsp;<span class="ident" id="8046419">nil</span><br>
<span class="lineno">320</span><span class="op" id="8046423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8046426">func</span>&nbsp;<span class="ident" id="8046431">BenchmarkReadSlice1000Int32s</span><span class="op" id="8046459">(</span><span class="ident" id="8046460">b</span>&nbsp;<span class="op" id="8046462">*</span><span class="ident" id="8046463">testing</span><span class="op" id="8046470">.</span><span class="ident" id="8046471">B</span><span class="op" id="8046472">)</span>&nbsp;<span class="op" id="8046474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046477">bsr</span>&nbsp;<span class="op" id="8046481">:=</span>&nbsp;<span class="op" id="8046484">&amp;</span><span class="ident" id="8046485">byteSliceReader</span><span class="op" id="8046500">{</span><span class="op" id="8046501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046504">slice</span>&nbsp;<span class="op" id="8046510">:=</span>&nbsp;<span class="builtinfunc" id="8046513">make</span><span class="op" id="8046517">(</span><span class="op" id="8046518">[</span><span class="op" id="8046519">]</span><span class="builtintype" id="8046520">int32</span><span class="op" id="8046525">,</span>&nbsp;<span class="num" id="8046527">1000</span><span class="op" id="8046531">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046534">buf</span>&nbsp;<span class="op" id="8046538">:=</span>&nbsp;<span class="builtinfunc" id="8046541">make</span><span class="op" id="8046545">(</span><span class="op" id="8046546">[</span><span class="op" id="8046547">]</span><span class="builtintype" id="8046548">byte</span><span class="op" id="8046552">,</span>&nbsp;<span class="builtinfunc" id="8046554">len</span><span class="op" id="8046557">(</span><span class="ident" id="8046558">slice</span><span class="op" id="8046563">)</span><span class="op" id="8046564">*</span><span class="num" id="8046565">4</span><span class="op" id="8046566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046569">b</span><span class="op" id="8046570">.</span><span class="ident" id="8046571">SetBytes</span><span class="op" id="8046579">(</span><span class="ident" id="8046580">int64</span><span class="op" id="8046585">(</span><span class="builtinfunc" id="8046586">len</span><span class="op" id="8046589">(</span><span class="ident" id="8046590">buf</span><span class="op" id="8046593">)</span><span class="op" id="8046594">)</span><span class="op" id="8046595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046598">b</span><span class="op" id="8046599">.</span><span class="ident" id="8046600">ResetTimer</span><span class="op" id="8046610">(</span><span class="op" id="8046611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046614">for</span>&nbsp;<span class="ident" id="8046618">i</span>&nbsp;<span class="op" id="8046620">:=</span>&nbsp;<span class="num" id="8046623">0</span><span class="op" id="8046624">;</span>&nbsp;<span class="ident" id="8046626">i</span>&nbsp;<span class="op" id="8046628">&lt;</span>&nbsp;<span class="ident" id="8046630">b</span><span class="op" id="8046631">.</span><span class="ident" id="8046632">N</span><span class="op" id="8046633">;</span>&nbsp;<span class="ident" id="8046635">i</span><span class="op" id="8046636">++</span>&nbsp;<span class="op" id="8046639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046643">bsr</span><span class="op" id="8046646">.</span><span class="ident" id="8046647">remain</span>&nbsp;<span class="op" id="8046654">=</span>&nbsp;<span class="ident" id="8046656">buf</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046662">Read</span><span class="op" id="8046666">(</span><span class="ident" id="8046667">bsr</span><span class="op" id="8046670">,</span>&nbsp;<span class="ident" id="8046672">BigEndian</span><span class="op" id="8046681">,</span>&nbsp;<span class="ident" id="8046683">slice</span><span class="op" id="8046688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046691">}</span><br>
<span class="lineno"></span><span class="op" id="8046693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8046696">func</span>&nbsp;<span class="ident" id="8046701">BenchmarkReadStruct</span><span class="op" id="8046720">(</span><span class="ident" id="8046721">b</span>&nbsp;<span class="op" id="8046723">*</span><span class="ident" id="8046724">testing</span><span class="op" id="8046731">.</span><span class="ident" id="8046732">B</span><span class="op" id="8046733">)</span>&nbsp;<span class="op" id="8046735">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046738">bsr</span>&nbsp;<span class="op" id="8046742">:=</span>&nbsp;<span class="op" id="8046745">&amp;</span><span class="ident" id="8046746">byteSliceReader</span><span class="op" id="8046761">{</span><span class="op" id="8046762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046765">var</span>&nbsp;<span class="ident" id="8046769">buf</span>&nbsp;<span class="ident" id="8046773">bytes</span><span class="op" id="8046778">.</span><span class="ident" id="8046779">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046787">Write</span><span class="op" id="8046792">(</span><span class="op" id="8046793">&amp;</span><span class="ident" id="8046794">buf</span><span class="op" id="8046797">,</span>&nbsp;<span class="ident" id="8046799">BigEndian</span><span class="op" id="8046808">,</span>&nbsp;<span class="op" id="8046810">&amp;</span><span class="ident" id="8046811">s</span><span class="op" id="8046812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046815">b</span><span class="op" id="8046816">.</span><span class="ident" id="8046817">SetBytes</span><span class="op" id="8046825">(</span><span class="ident" id="8046826">int64</span><span class="op" id="8046831">(</span><span class="ident" id="8046832">dataSize</span><span class="op" id="8046840">(</span><span class="ident" id="8046841">reflect</span><span class="op" id="8046848">.</span><span class="ident" id="8046849">ValueOf</span><span class="op" id="8046856">(</span><span class="ident" id="8046857">s</span><span class="op" id="8046858">)</span><span class="op" id="8046859">)</span><span class="op" id="8046860">)</span><span class="op" id="8046861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046864">t</span>&nbsp;<span class="op" id="8046866">:=</span>&nbsp;<span class="ident" id="8046869">s</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046872">b</span><span class="op" id="8046873">.</span><span class="ident" id="8046874">ResetTimer</span><span class="op" id="8046884">(</span><span class="op" id="8046885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046888">for</span>&nbsp;<span class="ident" id="8046892">i</span>&nbsp;<span class="op" id="8046894">:=</span>&nbsp;<span class="num" id="8046897">0</span><span class="op" id="8046898">;</span>&nbsp;<span class="ident" id="8046900">i</span>&nbsp;<span class="op" id="8046902">&lt;</span>&nbsp;<span class="ident" id="8046904">b</span><span class="op" id="8046905">.</span><span class="ident" id="8046906">N</span><span class="op" id="8046907">;</span>&nbsp;<span class="ident" id="8046909">i</span><span class="op" id="8046910">++</span>&nbsp;<span class="op" id="8046913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046917">bsr</span><span class="op" id="8046920">.</span><span class="ident" id="8046921">remain</span>&nbsp;<span class="op" id="8046928">=</span>&nbsp;<span class="ident" id="8046930">buf</span><span class="op" id="8046933">.</span><span class="ident" id="8046934">Bytes</span><span class="op" id="8046939">(</span><span class="op" id="8046940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046944">Read</span><span class="op" id="8046948">(</span><span class="ident" id="8046949">bsr</span><span class="op" id="8046952">,</span>&nbsp;<span class="ident" id="8046954">BigEndian</span><span class="op" id="8046963">,</span>&nbsp;<span class="op" id="8046965">&amp;</span><span class="ident" id="8046966">t</span><span class="op" id="8046967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8046970">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8046973">b</span><span class="op" id="8046974">.</span><span class="ident" id="8046975">StopTimer</span><span class="op" id="8046984">(</span><span class="op" id="8046985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8046988">if</span>&nbsp;<span class="op" id="8046991">!</span><span class="ident" id="8046992">reflect</span><span class="op" id="8046999">.</span><span class="ident" id="8047000">DeepEqual</span><span class="op" id="8047009">(</span><span class="ident" id="8047010">s</span><span class="op" id="8047011">,</span>&nbsp;<span class="ident" id="8047013">t</span><span class="op" id="8047014">)</span>&nbsp;<span class="op" id="8047016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047020">b</span><span class="op" id="8047021">.</span><span class="ident" id="8047022">Fatal</span><span class="op" id="8047027">(</span><span class="string" id="8047028">&#34;no&nbsp;match&#34;</span><span class="op" id="8047038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047041">}</span><br>
<span class="lineno"></span><span class="op" id="8047043">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8047046">func</span>&nbsp;<span class="ident" id="8047051">BenchmarkReadInts</span><span class="op" id="8047068">(</span><span class="ident" id="8047069">b</span>&nbsp;<span class="op" id="8047071">*</span><span class="ident" id="8047072">testing</span><span class="op" id="8047079">.</span><span class="ident" id="8047080">B</span><span class="op" id="8047081">)</span>&nbsp;<span class="op" id="8047083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047086">var</span>&nbsp;<span class="ident" id="8047090">ls</span>&nbsp;<span class="ident" id="8047093">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047101">bsr</span>&nbsp;<span class="op" id="8047105">:=</span>&nbsp;<span class="op" id="8047108">&amp;</span><span class="ident" id="8047109">byteSliceReader</span><span class="op" id="8047124">{</span><span class="op" id="8047125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047128">var</span>&nbsp;<span class="ident" id="8047132">r</span>&nbsp;<span class="ident" id="8047134">io</span><span class="op" id="8047136">.</span><span class="ident" id="8047137">Reader</span>&nbsp;<span class="op" id="8047144">=</span>&nbsp;<span class="ident" id="8047146">bsr</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047151">b</span><span class="op" id="8047152">.</span><span class="ident" id="8047153">SetBytes</span><span class="op" id="8047161">(</span><span class="num" id="8047162">2</span>&nbsp;<span class="op" id="8047164">*</span>&nbsp;<span class="op" id="8047166">(</span><span class="num" id="8047167">1</span>&nbsp;<span class="op" id="8047169">+</span>&nbsp;<span class="num" id="8047171">2</span>&nbsp;<span class="op" id="8047173">+</span>&nbsp;<span class="num" id="8047175">4</span>&nbsp;<span class="op" id="8047177">+</span>&nbsp;<span class="num" id="8047179">8</span><span class="op" id="8047180">)</span><span class="op" id="8047181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047184">b</span><span class="op" id="8047185">.</span><span class="ident" id="8047186">ResetTimer</span><span class="op" id="8047196">(</span><span class="op" id="8047197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047200">for</span>&nbsp;<span class="ident" id="8047204">i</span>&nbsp;<span class="op" id="8047206">:=</span>&nbsp;<span class="num" id="8047209">0</span><span class="op" id="8047210">;</span>&nbsp;<span class="ident" id="8047212">i</span>&nbsp;<span class="op" id="8047214">&lt;</span>&nbsp;<span class="ident" id="8047216">b</span><span class="op" id="8047217">.</span><span class="ident" id="8047218">N</span><span class="op" id="8047219">;</span>&nbsp;<span class="ident" id="8047221">i</span><span class="op" id="8047222">++</span>&nbsp;<span class="op" id="8047225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047229">bsr</span><span class="op" id="8047232">.</span><span class="ident" id="8047233">remain</span>&nbsp;<span class="op" id="8047240">=</span>&nbsp;<span class="ident" id="8047242">big</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047248">Read</span><span class="op" id="8047252">(</span><span class="ident" id="8047253">r</span><span class="op" id="8047254">,</span>&nbsp;<span class="ident" id="8047256">BigEndian</span><span class="op" id="8047265">,</span>&nbsp;<span class="op" id="8047267">&amp;</span><span class="ident" id="8047268">ls</span><span class="op" id="8047270">.</span><span class="ident" id="8047271">Int8</span><span class="op" id="8047275">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047279">Read</span><span class="op" id="8047283">(</span><span class="ident" id="8047284">r</span><span class="op" id="8047285">,</span>&nbsp;<span class="ident" id="8047287">BigEndian</span><span class="op" id="8047296">,</span>&nbsp;<span class="op" id="8047298">&amp;</span><span class="ident" id="8047299">ls</span><span class="op" id="8047301">.</span><span class="ident" id="8047302">Int16</span><span class="op" id="8047307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047311">Read</span><span class="op" id="8047315">(</span><span class="ident" id="8047316">r</span><span class="op" id="8047317">,</span>&nbsp;<span class="ident" id="8047319">BigEndian</span><span class="op" id="8047328">,</span>&nbsp;<span class="op" id="8047330">&amp;</span><span class="ident" id="8047331">ls</span><span class="op" id="8047333">.</span><span class="ident" id="8047334">Int32</span><span class="op" id="8047339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047343">Read</span><span class="op" id="8047347">(</span><span class="ident" id="8047348">r</span><span class="op" id="8047349">,</span>&nbsp;<span class="ident" id="8047351">BigEndian</span><span class="op" id="8047360">,</span>&nbsp;<span class="op" id="8047362">&amp;</span><span class="ident" id="8047363">ls</span><span class="op" id="8047365">.</span><span class="ident" id="8047366">Int64</span><span class="op" id="8047371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047375">Read</span><span class="op" id="8047379">(</span><span class="ident" id="8047380">r</span><span class="op" id="8047381">,</span>&nbsp;<span class="ident" id="8047383">BigEndian</span><span class="op" id="8047392">,</span>&nbsp;<span class="op" id="8047394">&amp;</span><span class="ident" id="8047395">ls</span><span class="op" id="8047397">.</span><span class="ident" id="8047398">Uint8</span><span class="op" id="8047403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047407">Read</span><span class="op" id="8047411">(</span><span class="ident" id="8047412">r</span><span class="op" id="8047413">,</span>&nbsp;<span class="ident" id="8047415">BigEndian</span><span class="op" id="8047424">,</span>&nbsp;<span class="op" id="8047426">&amp;</span><span class="ident" id="8047427">ls</span><span class="op" id="8047429">.</span><span class="ident" id="8047430">Uint16</span><span class="op" id="8047436">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047440">Read</span><span class="op" id="8047444">(</span><span class="ident" id="8047445">r</span><span class="op" id="8047446">,</span>&nbsp;<span class="ident" id="8047448">BigEndian</span><span class="op" id="8047457">,</span>&nbsp;<span class="op" id="8047459">&amp;</span><span class="ident" id="8047460">ls</span><span class="op" id="8047462">.</span><span class="ident" id="8047463">Uint32</span><span class="op" id="8047469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047473">Read</span><span class="op" id="8047477">(</span><span class="ident" id="8047478">r</span><span class="op" id="8047479">,</span>&nbsp;<span class="ident" id="8047481">BigEndian</span><span class="op" id="8047490">,</span>&nbsp;<span class="op" id="8047492">&amp;</span><span class="ident" id="8047493">ls</span><span class="op" id="8047495">.</span><span class="ident" id="8047496">Uint64</span><span class="op" id="8047502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047509">want</span>&nbsp;<span class="op" id="8047514">:=</span>&nbsp;<span class="ident" id="8047517">s</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047520">want</span><span class="op" id="8047524">.</span><span class="ident" id="8047525">Float32</span>&nbsp;<span class="op" id="8047533">=</span>&nbsp;<span class="num" id="8047535">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047538">want</span><span class="op" id="8047542">.</span><span class="ident" id="8047543">Float64</span>&nbsp;<span class="op" id="8047551">=</span>&nbsp;<span class="num" id="8047553">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047556">want</span><span class="op" id="8047560">.</span><span class="ident" id="8047561">Complex64</span>&nbsp;<span class="op" id="8047571">=</span>&nbsp;<span class="num" id="8047573">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047576">want</span><span class="op" id="8047580">.</span><span class="ident" id="8047581">Complex128</span>&nbsp;<span class="op" id="8047592">=</span>&nbsp;<span class="num" id="8047594">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047597">for</span>&nbsp;<span class="ident" id="8047601">i</span>&nbsp;<span class="op" id="8047603">:=</span>&nbsp;<span class="keyword" id="8047606">range</span>&nbsp;<span class="ident" id="8047612">want</span><span class="op" id="8047616">.</span><span class="ident" id="8047617">Array</span>&nbsp;<span class="op" id="8047623">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047627">want</span><span class="op" id="8047631">.</span><span class="ident" id="8047632">Array</span><span class="op" id="8047637">[</span><span class="ident" id="8047638">i</span><span class="op" id="8047639">]</span>&nbsp;<span class="op" id="8047641">=</span>&nbsp;<span class="num" id="8047643">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047649">b</span><span class="op" id="8047650">.</span><span class="ident" id="8047651">StopTimer</span><span class="op" id="8047660">(</span><span class="op" id="8047661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047664">if</span>&nbsp;<span class="op" id="8047667">!</span><span class="ident" id="8047668">reflect</span><span class="op" id="8047675">.</span><span class="ident" id="8047676">DeepEqual</span><span class="op" id="8047685">(</span><span class="ident" id="8047686">ls</span><span class="op" id="8047688">,</span>&nbsp;<span class="ident" id="8047690">want</span><span class="op" id="8047694">)</span>&nbsp;<span class="op" id="8047696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8047700">panic</span><span class="op" id="8047705">(</span><span class="string" id="8047706">&#34;no&nbsp;match&#34;</span><span class="op" id="8047716">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8047719">}</span><br>
<span class="lineno"></span><span class="op" id="8047721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8047724">func</span>&nbsp;<span class="ident" id="8047729">BenchmarkWriteInts</span><span class="op" id="8047747">(</span><span class="ident" id="8047748">b</span>&nbsp;<span class="op" id="8047750">*</span><span class="ident" id="8047751">testing</span><span class="op" id="8047758">.</span><span class="ident" id="8047759">B</span><span class="op" id="8047760">)</span>&nbsp;<span class="op" id="8047762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047765">buf</span>&nbsp;<span class="op" id="8047769">:=</span>&nbsp;<span class="builtinfunc" id="8047772">new</span><span class="op" id="8047775">(</span><span class="ident" id="8047776">bytes</span><span class="op" id="8047781">.</span><span class="ident" id="8047782">Buffer</span><span class="op" id="8047788">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047791">var</span>&nbsp;<span class="ident" id="8047795">w</span>&nbsp;<span class="ident" id="8047797">io</span><span class="op" id="8047799">.</span><span class="ident" id="8047800">Writer</span>&nbsp;<span class="op" id="8047807">=</span>&nbsp;<span class="ident" id="8047809">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047814">b</span><span class="op" id="8047815">.</span><span class="ident" id="8047816">SetBytes</span><span class="op" id="8047824">(</span><span class="num" id="8047825">2</span>&nbsp;<span class="op" id="8047827">*</span>&nbsp;<span class="op" id="8047829">(</span><span class="num" id="8047830">1</span>&nbsp;<span class="op" id="8047832">+</span>&nbsp;<span class="num" id="8047834">2</span>&nbsp;<span class="op" id="8047836">+</span>&nbsp;<span class="num" id="8047838">4</span>&nbsp;<span class="op" id="8047840">+</span>&nbsp;<span class="num" id="8047842">8</span><span class="op" id="8047843">)</span><span class="op" id="8047844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047847">b</span><span class="op" id="8047848">.</span><span class="ident" id="8047849">ResetTimer</span><span class="op" id="8047859">(</span><span class="op" id="8047860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8047863">for</span>&nbsp;<span class="ident" id="8047867">i</span>&nbsp;<span class="op" id="8047869">:=</span>&nbsp;<span class="num" id="8047872">0</span><span class="op" id="8047873">;</span>&nbsp;<span class="ident" id="8047875">i</span>&nbsp;<span class="op" id="8047877">&lt;</span>&nbsp;<span class="ident" id="8047879">b</span><span class="op" id="8047880">.</span><span class="ident" id="8047881">N</span><span class="op" id="8047882">;</span>&nbsp;<span class="ident" id="8047884">i</span><span class="op" id="8047885">++</span>&nbsp;<span class="op" id="8047888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047892">buf</span><span class="op" id="8047895">.</span><span class="ident" id="8047896">Reset</span><span class="op" id="8047901">(</span><span class="op" id="8047902">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047906">Write</span><span class="op" id="8047911">(</span><span class="ident" id="8047912">w</span><span class="op" id="8047913">,</span>&nbsp;<span class="ident" id="8047915">BigEndian</span><span class="op" id="8047924">,</span>&nbsp;<span class="ident" id="8047926">s</span><span class="op" id="8047927">.</span><span class="ident" id="8047928">Int8</span><span class="op" id="8047932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047936">Write</span><span class="op" id="8047941">(</span><span class="ident" id="8047942">w</span><span class="op" id="8047943">,</span>&nbsp;<span class="ident" id="8047945">BigEndian</span><span class="op" id="8047954">,</span>&nbsp;<span class="ident" id="8047956">s</span><span class="op" id="8047957">.</span><span class="ident" id="8047958">Int16</span><span class="op" id="8047963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047967">Write</span><span class="op" id="8047972">(</span><span class="ident" id="8047973">w</span><span class="op" id="8047974">,</span>&nbsp;<span class="ident" id="8047976">BigEndian</span><span class="op" id="8047985">,</span>&nbsp;<span class="ident" id="8047987">s</span><span class="op" id="8047988">.</span><span class="ident" id="8047989">Int32</span><span class="op" id="8047994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8047998">Write</span><span class="op" id="8048003">(</span><span class="ident" id="8048004">w</span><span class="op" id="8048005">,</span>&nbsp;<span class="ident" id="8048007">BigEndian</span><span class="op" id="8048016">,</span>&nbsp;<span class="ident" id="8048018">s</span><span class="op" id="8048019">.</span><span class="ident" id="8048020">Int64</span><span class="op" id="8048025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048029">Write</span><span class="op" id="8048034">(</span><span class="ident" id="8048035">w</span><span class="op" id="8048036">,</span>&nbsp;<span class="ident" id="8048038">BigEndian</span><span class="op" id="8048047">,</span>&nbsp;<span class="ident" id="8048049">s</span><span class="op" id="8048050">.</span><span class="ident" id="8048051">Uint8</span><span class="op" id="8048056">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048060">Write</span><span class="op" id="8048065">(</span><span class="ident" id="8048066">w</span><span class="op" id="8048067">,</span>&nbsp;<span class="ident" id="8048069">BigEndian</span><span class="op" id="8048078">,</span>&nbsp;<span class="ident" id="8048080">s</span><span class="op" id="8048081">.</span><span class="ident" id="8048082">Uint16</span><span class="op" id="8048088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048092">Write</span><span class="op" id="8048097">(</span><span class="ident" id="8048098">w</span><span class="op" id="8048099">,</span>&nbsp;<span class="ident" id="8048101">BigEndian</span><span class="op" id="8048110">,</span>&nbsp;<span class="ident" id="8048112">s</span><span class="op" id="8048113">.</span><span class="ident" id="8048114">Uint32</span><span class="op" id="8048120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048124">Write</span><span class="op" id="8048129">(</span><span class="ident" id="8048130">w</span><span class="op" id="8048131">,</span>&nbsp;<span class="ident" id="8048133">BigEndian</span><span class="op" id="8048142">,</span>&nbsp;<span class="ident" id="8048144">s</span><span class="op" id="8048145">.</span><span class="ident" id="8048146">Uint64</span><span class="op" id="8048152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048158">b</span><span class="op" id="8048159">.</span><span class="ident" id="8048160">StopTimer</span><span class="op" id="8048169">(</span><span class="op" id="8048170">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048173">if</span>&nbsp;<span class="op" id="8048176">!</span><span class="ident" id="8048177">bytes</span><span class="op" id="8048182">.</span><span class="ident" id="8048183">Equal</span><span class="op" id="8048188">(</span><span class="ident" id="8048189">buf</span><span class="op" id="8048192">.</span><span class="ident" id="8048193">Bytes</span><span class="op" id="8048198">(</span><span class="op" id="8048199">)</span><span class="op" id="8048200">,</span>&nbsp;<span class="ident" id="8048202">big</span><span class="op" id="8048205">[</span><span class="op" id="8048206">:</span><span class="num" id="8048207">30</span><span class="op" id="8048209">]</span><span class="op" id="8048210">)</span>&nbsp;<span class="op" id="8048212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048216">b</span><span class="op" id="8048217">.</span><span class="ident" id="8048218">Fatalf</span><span class="op" id="8048224">(</span><span class="string" id="8048225">&#34;first&nbsp;half&nbsp;doesn&#39;t&nbsp;match:&nbsp;%x&nbsp;%x&#34;</span><span class="op" id="8048258">,</span>&nbsp;<span class="ident" id="8048260">buf</span><span class="op" id="8048263">.</span><span class="ident" id="8048264">Bytes</span><span class="op" id="8048269">(</span><span class="op" id="8048270">)</span><span class="op" id="8048271">,</span>&nbsp;<span class="ident" id="8048273">big</span><span class="op" id="8048276">[</span><span class="op" id="8048277">:</span><span class="num" id="8048278">30</span><span class="op" id="8048280">]</span><span class="op" id="8048281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048284">}</span><br>
<span class="lineno"></span><span class="op" id="8048286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="8048289">func</span>&nbsp;<span class="ident" id="8048294">BenchmarkWriteSlice1000Int32s</span><span class="op" id="8048323">(</span><span class="ident" id="8048324">b</span>&nbsp;<span class="op" id="8048326">*</span><span class="ident" id="8048327">testing</span><span class="op" id="8048334">.</span><span class="ident" id="8048335">B</span><span class="op" id="8048336">)</span>&nbsp;<span class="op" id="8048338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048341">slice</span>&nbsp;<span class="op" id="8048347">:=</span>&nbsp;<span class="builtinfunc" id="8048350">make</span><span class="op" id="8048354">(</span><span class="op" id="8048355">[</span><span class="op" id="8048356">]</span><span class="builtintype" id="8048357">int32</span><span class="op" id="8048362">,</span>&nbsp;<span class="num" id="8048364">1000</span><span class="op" id="8048368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048371">buf</span>&nbsp;<span class="op" id="8048375">:=</span>&nbsp;<span class="builtinfunc" id="8048378">new</span><span class="op" id="8048381">(</span><span class="ident" id="8048382">bytes</span><span class="op" id="8048387">.</span><span class="ident" id="8048388">Buffer</span><span class="op" id="8048394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048397">var</span>&nbsp;<span class="ident" id="8048401">w</span>&nbsp;<span class="ident" id="8048403">io</span><span class="op" id="8048405">.</span><span class="ident" id="8048406">Writer</span>&nbsp;<span class="op" id="8048413">=</span>&nbsp;<span class="ident" id="8048415">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048420">b</span><span class="op" id="8048421">.</span><span class="ident" id="8048422">SetBytes</span><span class="op" id="8048430">(</span><span class="num" id="8048431">4</span>&nbsp;<span class="op" id="8048433">*</span>&nbsp;<span class="num" id="8048435">1000</span><span class="op" id="8048439">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048442">b</span><span class="op" id="8048443">.</span><span class="ident" id="8048444">ResetTimer</span><span class="op" id="8048454">(</span><span class="op" id="8048455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8048458">for</span>&nbsp;<span class="ident" id="8048462">i</span>&nbsp;<span class="op" id="8048464">:=</span>&nbsp;<span class="num" id="8048467">0</span><span class="op" id="8048468">;</span>&nbsp;<span class="ident" id="8048470">i</span>&nbsp;<span class="op" id="8048472">&lt;</span>&nbsp;<span class="ident" id="8048474">b</span><span class="op" id="8048475">.</span><span class="ident" id="8048476">N</span><span class="op" id="8048477">;</span>&nbsp;<span class="ident" id="8048479">i</span><span class="op" id="8048480">++</span>&nbsp;<span class="op" id="8048483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048487">buf</span><span class="op" id="8048490">.</span><span class="ident" id="8048491">Reset</span><span class="op" id="8048496">(</span><span class="op" id="8048497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048501">Write</span><span class="op" id="8048506">(</span><span class="ident" id="8048507">w</span><span class="op" id="8048508">,</span>&nbsp;<span class="ident" id="8048510">BigEndian</span><span class="op" id="8048519">,</span>&nbsp;<span class="ident" id="8048521">slice</span><span class="op" id="8048526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8048529">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8048532">b</span><span class="op" id="8048533">.</span><span class="ident" id="8048534">StopTimer</span><span class="op" id="8048543">(</span><span class="op" id="8048544">)</span><br>
<span class="lineno"></span><span class="op" id="8048546">}</span>
</div>
</body>
</html>
