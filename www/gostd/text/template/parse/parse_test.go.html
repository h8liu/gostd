<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html" class="current">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6673994">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6674049">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6674103">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6674154">package</span>&nbsp;<span class="ident" id="6674162">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6674169">import</span>&nbsp;<span class="op" id="6674176">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6674179">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6674187">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6674194">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6674205">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6674215">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6674218">var</span>&nbsp;<span class="ident" id="6674222">debug</span>&nbsp;<span class="op" id="6674228">=</span>&nbsp;<span class="ident" id="6674230">flag</span><span class="op" id="6674234">.</span><span class="ident" id="6674235">Bool</span><span class="op" id="6674239">(</span><span class="string" id="6674240">&#34;debug&#34;</span><span class="op" id="6674247">,</span>&nbsp;<span class="builtintype" id="6674249">false</span><span class="op" id="6674254">,</span>&nbsp;<span class="string" id="6674256">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="6674300">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6674303">type</span>&nbsp;<span class="ident" id="6674308">numberTest</span>&nbsp;<span class="keyword" id="6674319">struct</span>&nbsp;<span class="op" id="6674326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674329">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6674339">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674347">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6674357">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674363">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6674373">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674379">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6674389">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674395">isComplex</span>&nbsp;<span class="builtintype" id="6674405">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674411">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674418">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6674426">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6674435">complex128</span><br>
<span class="lineno"></span><span class="op" id="6674446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6674449">var</span>&nbsp;<span class="ident" id="6674453">numberTests</span>&nbsp;<span class="op" id="6674465">=</span>&nbsp;<span class="op" id="6674467">[</span><span class="op" id="6674468">]</span><span class="ident" id="6674469">numberTest</span><span class="op" id="6674479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6674482">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674493">{</span><span class="string" id="6674494">&#34;0&#34;</span><span class="op" id="6674497">,</span>&nbsp;<span class="builtintype" id="6674499">true</span><span class="op" id="6674503">,</span>&nbsp;<span class="builtintype" id="6674505">true</span><span class="op" id="6674509">,</span>&nbsp;<span class="builtintype" id="6674511">true</span><span class="op" id="6674515">,</span>&nbsp;<span class="builtintype" id="6674517">false</span><span class="op" id="6674522">,</span>&nbsp;<span class="num" id="6674524">0</span><span class="op" id="6674525">,</span>&nbsp;<span class="num" id="6674527">0</span><span class="op" id="6674528">,</span>&nbsp;<span class="num" id="6674530">0</span><span class="op" id="6674531">,</span>&nbsp;<span class="num" id="6674533">0</span><span class="op" id="6674534">}</span><span class="op" id="6674535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674538">{</span><span class="string" id="6674539">&#34;-0&#34;</span><span class="op" id="6674543">,</span>&nbsp;<span class="builtintype" id="6674545">true</span><span class="op" id="6674549">,</span>&nbsp;<span class="builtintype" id="6674551">true</span><span class="op" id="6674555">,</span>&nbsp;<span class="builtintype" id="6674557">true</span><span class="op" id="6674561">,</span>&nbsp;<span class="builtintype" id="6674563">false</span><span class="op" id="6674568">,</span>&nbsp;<span class="num" id="6674570">0</span><span class="op" id="6674571">,</span>&nbsp;<span class="num" id="6674573">0</span><span class="op" id="6674574">,</span>&nbsp;<span class="num" id="6674576">0</span><span class="op" id="6674577">,</span>&nbsp;<span class="num" id="6674579">0</span><span class="op" id="6674580">}</span><span class="op" id="6674581">,</span>&nbsp;<span class="comment" id="6674583">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674612">{</span><span class="string" id="6674613">&#34;73&#34;</span><span class="op" id="6674617">,</span>&nbsp;<span class="builtintype" id="6674619">true</span><span class="op" id="6674623">,</span>&nbsp;<span class="builtintype" id="6674625">true</span><span class="op" id="6674629">,</span>&nbsp;<span class="builtintype" id="6674631">true</span><span class="op" id="6674635">,</span>&nbsp;<span class="builtintype" id="6674637">false</span><span class="op" id="6674642">,</span>&nbsp;<span class="num" id="6674644">73</span><span class="op" id="6674646">,</span>&nbsp;<span class="num" id="6674648">73</span><span class="op" id="6674650">,</span>&nbsp;<span class="num" id="6674652">73</span><span class="op" id="6674654">,</span>&nbsp;<span class="num" id="6674656">0</span><span class="op" id="6674657">}</span><span class="op" id="6674658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674661">{</span><span class="string" id="6674662">&#34;073&#34;</span><span class="op" id="6674667">,</span>&nbsp;<span class="builtintype" id="6674669">true</span><span class="op" id="6674673">,</span>&nbsp;<span class="builtintype" id="6674675">true</span><span class="op" id="6674679">,</span>&nbsp;<span class="builtintype" id="6674681">true</span><span class="op" id="6674685">,</span>&nbsp;<span class="builtintype" id="6674687">false</span><span class="op" id="6674692">,</span>&nbsp;<span class="num" id="6674694">073</span><span class="op" id="6674697">,</span>&nbsp;<span class="num" id="6674699">073</span><span class="op" id="6674702">,</span>&nbsp;<span class="num" id="6674704">073</span><span class="op" id="6674707">,</span>&nbsp;<span class="num" id="6674709">0</span><span class="op" id="6674710">}</span><span class="op" id="6674711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674714">{</span><span class="string" id="6674715">&#34;0x73&#34;</span><span class="op" id="6674721">,</span>&nbsp;<span class="builtintype" id="6674723">true</span><span class="op" id="6674727">,</span>&nbsp;<span class="builtintype" id="6674729">true</span><span class="op" id="6674733">,</span>&nbsp;<span class="builtintype" id="6674735">true</span><span class="op" id="6674739">,</span>&nbsp;<span class="builtintype" id="6674741">false</span><span class="op" id="6674746">,</span>&nbsp;<span class="num" id="6674748">0x73</span><span class="op" id="6674752">,</span>&nbsp;<span class="num" id="6674754">0x73</span><span class="op" id="6674758">,</span>&nbsp;<span class="num" id="6674760">0x73</span><span class="op" id="6674764">,</span>&nbsp;<span class="num" id="6674766">0</span><span class="op" id="6674767">}</span><span class="op" id="6674768">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674771">{</span><span class="string" id="6674772">&#34;-73&#34;</span><span class="op" id="6674777">,</span>&nbsp;<span class="builtintype" id="6674779">true</span><span class="op" id="6674783">,</span>&nbsp;<span class="builtintype" id="6674785">false</span><span class="op" id="6674790">,</span>&nbsp;<span class="builtintype" id="6674792">true</span><span class="op" id="6674796">,</span>&nbsp;<span class="builtintype" id="6674798">false</span><span class="op" id="6674803">,</span>&nbsp;<span class="op" id="6674805">-</span><span class="num" id="6674806">73</span><span class="op" id="6674808">,</span>&nbsp;<span class="num" id="6674810">0</span><span class="op" id="6674811">,</span>&nbsp;<span class="op" id="6674813">-</span><span class="num" id="6674814">73</span><span class="op" id="6674816">,</span>&nbsp;<span class="num" id="6674818">0</span><span class="op" id="6674819">}</span><span class="op" id="6674820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674823">{</span><span class="string" id="6674824">&#34;+73&#34;</span><span class="op" id="6674829">,</span>&nbsp;<span class="builtintype" id="6674831">true</span><span class="op" id="6674835">,</span>&nbsp;<span class="builtintype" id="6674837">false</span><span class="op" id="6674842">,</span>&nbsp;<span class="builtintype" id="6674844">true</span><span class="op" id="6674848">,</span>&nbsp;<span class="builtintype" id="6674850">false</span><span class="op" id="6674855">,</span>&nbsp;<span class="num" id="6674857">73</span><span class="op" id="6674859">,</span>&nbsp;<span class="num" id="6674861">0</span><span class="op" id="6674862">,</span>&nbsp;<span class="num" id="6674864">73</span><span class="op" id="6674866">,</span>&nbsp;<span class="num" id="6674868">0</span><span class="op" id="6674869">}</span><span class="op" id="6674870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674873">{</span><span class="string" id="6674874">&#34;100&#34;</span><span class="op" id="6674879">,</span>&nbsp;<span class="builtintype" id="6674881">true</span><span class="op" id="6674885">,</span>&nbsp;<span class="builtintype" id="6674887">true</span><span class="op" id="6674891">,</span>&nbsp;<span class="builtintype" id="6674893">true</span><span class="op" id="6674897">,</span>&nbsp;<span class="builtintype" id="6674899">false</span><span class="op" id="6674904">,</span>&nbsp;<span class="num" id="6674906">100</span><span class="op" id="6674909">,</span>&nbsp;<span class="num" id="6674911">100</span><span class="op" id="6674914">,</span>&nbsp;<span class="num" id="6674916">100</span><span class="op" id="6674919">,</span>&nbsp;<span class="num" id="6674921">0</span><span class="op" id="6674922">}</span><span class="op" id="6674923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674926">{</span><span class="string" id="6674927">&#34;1e9&#34;</span><span class="op" id="6674932">,</span>&nbsp;<span class="builtintype" id="6674934">true</span><span class="op" id="6674938">,</span>&nbsp;<span class="builtintype" id="6674940">true</span><span class="op" id="6674944">,</span>&nbsp;<span class="builtintype" id="6674946">true</span><span class="op" id="6674950">,</span>&nbsp;<span class="builtintype" id="6674952">false</span><span class="op" id="6674957">,</span>&nbsp;<span class="num" id="6674959">1e9</span><span class="op" id="6674962">,</span>&nbsp;<span class="num" id="6674964">1e9</span><span class="op" id="6674967">,</span>&nbsp;<span class="num" id="6674969">1e9</span><span class="op" id="6674972">,</span>&nbsp;<span class="num" id="6674974">0</span><span class="op" id="6674975">}</span><span class="op" id="6674976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674979">{</span><span class="string" id="6674980">&#34;-1e9&#34;</span><span class="op" id="6674986">,</span>&nbsp;<span class="builtintype" id="6674988">true</span><span class="op" id="6674992">,</span>&nbsp;<span class="builtintype" id="6674994">false</span><span class="op" id="6674999">,</span>&nbsp;<span class="builtintype" id="6675001">true</span><span class="op" id="6675005">,</span>&nbsp;<span class="builtintype" id="6675007">false</span><span class="op" id="6675012">,</span>&nbsp;<span class="op" id="6675014">-</span><span class="num" id="6675015">1e9</span><span class="op" id="6675018">,</span>&nbsp;<span class="num" id="6675020">0</span><span class="op" id="6675021">,</span>&nbsp;<span class="op" id="6675023">-</span><span class="num" id="6675024">1e9</span><span class="op" id="6675027">,</span>&nbsp;<span class="num" id="6675029">0</span><span class="op" id="6675030">}</span><span class="op" id="6675031">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675034">{</span><span class="string" id="6675035">&#34;-1.2&#34;</span><span class="op" id="6675041">,</span>&nbsp;<span class="builtintype" id="6675043">false</span><span class="op" id="6675048">,</span>&nbsp;<span class="builtintype" id="6675050">false</span><span class="op" id="6675055">,</span>&nbsp;<span class="builtintype" id="6675057">true</span><span class="op" id="6675061">,</span>&nbsp;<span class="builtintype" id="6675063">false</span><span class="op" id="6675068">,</span>&nbsp;<span class="num" id="6675070">0</span><span class="op" id="6675071">,</span>&nbsp;<span class="num" id="6675073">0</span><span class="op" id="6675074">,</span>&nbsp;<span class="op" id="6675076">-</span><span class="num" id="6675077">1.2</span><span class="op" id="6675080">,</span>&nbsp;<span class="num" id="6675082">0</span><span class="op" id="6675083">}</span><span class="op" id="6675084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675087">{</span><span class="string" id="6675088">&#34;1e19&#34;</span><span class="op" id="6675094">,</span>&nbsp;<span class="builtintype" id="6675096">false</span><span class="op" id="6675101">,</span>&nbsp;<span class="builtintype" id="6675103">true</span><span class="op" id="6675107">,</span>&nbsp;<span class="builtintype" id="6675109">true</span><span class="op" id="6675113">,</span>&nbsp;<span class="builtintype" id="6675115">false</span><span class="op" id="6675120">,</span>&nbsp;<span class="num" id="6675122">0</span><span class="op" id="6675123">,</span>&nbsp;<span class="num" id="6675125">1e19</span><span class="op" id="6675129">,</span>&nbsp;<span class="num" id="6675131">1e19</span><span class="op" id="6675135">,</span>&nbsp;<span class="num" id="6675137">0</span><span class="op" id="6675138">}</span><span class="op" id="6675139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675142">{</span><span class="string" id="6675143">&#34;-1e19&#34;</span><span class="op" id="6675150">,</span>&nbsp;<span class="builtintype" id="6675152">false</span><span class="op" id="6675157">,</span>&nbsp;<span class="builtintype" id="6675159">false</span><span class="op" id="6675164">,</span>&nbsp;<span class="builtintype" id="6675166">true</span><span class="op" id="6675170">,</span>&nbsp;<span class="builtintype" id="6675172">false</span><span class="op" id="6675177">,</span>&nbsp;<span class="num" id="6675179">0</span><span class="op" id="6675180">,</span>&nbsp;<span class="num" id="6675182">0</span><span class="op" id="6675183">,</span>&nbsp;<span class="op" id="6675185">-</span><span class="num" id="6675186">1e19</span><span class="op" id="6675190">,</span>&nbsp;<span class="num" id="6675192">0</span><span class="op" id="6675193">}</span><span class="op" id="6675194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675197">{</span><span class="string" id="6675198">&#34;4i&#34;</span><span class="op" id="6675202">,</span>&nbsp;<span class="builtintype" id="6675204">false</span><span class="op" id="6675209">,</span>&nbsp;<span class="builtintype" id="6675211">false</span><span class="op" id="6675216">,</span>&nbsp;<span class="builtintype" id="6675218">false</span><span class="op" id="6675223">,</span>&nbsp;<span class="builtintype" id="6675225">true</span><span class="op" id="6675229">,</span>&nbsp;<span class="num" id="6675231">0</span><span class="op" id="6675232">,</span>&nbsp;<span class="num" id="6675234">0</span><span class="op" id="6675235">,</span>&nbsp;<span class="num" id="6675237">0</span><span class="op" id="6675238">,</span>&nbsp;<span class="num" id="6675240">4i</span><span class="op" id="6675242">}</span><span class="op" id="6675243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675246">{</span><span class="string" id="6675247">&#34;-1.2+4.2i&#34;</span><span class="op" id="6675258">,</span>&nbsp;<span class="builtintype" id="6675260">false</span><span class="op" id="6675265">,</span>&nbsp;<span class="builtintype" id="6675267">false</span><span class="op" id="6675272">,</span>&nbsp;<span class="builtintype" id="6675274">false</span><span class="op" id="6675279">,</span>&nbsp;<span class="builtintype" id="6675281">true</span><span class="op" id="6675285">,</span>&nbsp;<span class="num" id="6675287">0</span><span class="op" id="6675288">,</span>&nbsp;<span class="num" id="6675290">0</span><span class="op" id="6675291">,</span>&nbsp;<span class="num" id="6675293">0</span><span class="op" id="6675294">,</span>&nbsp;<span class="op" id="6675296">-</span><span class="num" id="6675297">1.2</span>&nbsp;<span class="op" id="6675301">+</span>&nbsp;<span class="num" id="6675303">4.2i</span><span class="op" id="6675307">}</span><span class="op" id="6675308">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675311">{</span><span class="string" id="6675312">&#34;073i&#34;</span><span class="op" id="6675318">,</span>&nbsp;<span class="builtintype" id="6675320">false</span><span class="op" id="6675325">,</span>&nbsp;<span class="builtintype" id="6675327">false</span><span class="op" id="6675332">,</span>&nbsp;<span class="builtintype" id="6675334">false</span><span class="op" id="6675339">,</span>&nbsp;<span class="builtintype" id="6675341">true</span><span class="op" id="6675345">,</span>&nbsp;<span class="num" id="6675347">0</span><span class="op" id="6675348">,</span>&nbsp;<span class="num" id="6675350">0</span><span class="op" id="6675351">,</span>&nbsp;<span class="num" id="6675353">0</span><span class="op" id="6675354">,</span>&nbsp;<span class="num" id="6675356">73i</span><span class="op" id="6675359">}</span><span class="op" id="6675360">,</span>&nbsp;<span class="comment" id="6675362">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6675377">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675436">{</span><span class="string" id="6675437">&#34;0i&#34;</span><span class="op" id="6675441">,</span>&nbsp;<span class="builtintype" id="6675443">true</span><span class="op" id="6675447">,</span>&nbsp;<span class="builtintype" id="6675449">true</span><span class="op" id="6675453">,</span>&nbsp;<span class="builtintype" id="6675455">true</span><span class="op" id="6675459">,</span>&nbsp;<span class="builtintype" id="6675461">true</span><span class="op" id="6675465">,</span>&nbsp;<span class="num" id="6675467">0</span><span class="op" id="6675468">,</span>&nbsp;<span class="num" id="6675470">0</span><span class="op" id="6675471">,</span>&nbsp;<span class="num" id="6675473">0</span><span class="op" id="6675474">,</span>&nbsp;<span class="num" id="6675476">0</span><span class="op" id="6675477">}</span><span class="op" id="6675478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675481">{</span><span class="string" id="6675482">&#34;-1.2+0i&#34;</span><span class="op" id="6675491">,</span>&nbsp;<span class="builtintype" id="6675493">false</span><span class="op" id="6675498">,</span>&nbsp;<span class="builtintype" id="6675500">false</span><span class="op" id="6675505">,</span>&nbsp;<span class="builtintype" id="6675507">true</span><span class="op" id="6675511">,</span>&nbsp;<span class="builtintype" id="6675513">true</span><span class="op" id="6675517">,</span>&nbsp;<span class="num" id="6675519">0</span><span class="op" id="6675520">,</span>&nbsp;<span class="num" id="6675522">0</span><span class="op" id="6675523">,</span>&nbsp;<span class="op" id="6675525">-</span><span class="num" id="6675526">1.2</span><span class="op" id="6675529">,</span>&nbsp;<span class="op" id="6675531">-</span><span class="num" id="6675532">1.2</span><span class="op" id="6675535">}</span><span class="op" id="6675536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675539">{</span><span class="string" id="6675540">&#34;-12+0i&#34;</span><span class="op" id="6675548">,</span>&nbsp;<span class="builtintype" id="6675550">true</span><span class="op" id="6675554">,</span>&nbsp;<span class="builtintype" id="6675556">false</span><span class="op" id="6675561">,</span>&nbsp;<span class="builtintype" id="6675563">true</span><span class="op" id="6675567">,</span>&nbsp;<span class="builtintype" id="6675569">true</span><span class="op" id="6675573">,</span>&nbsp;<span class="op" id="6675575">-</span><span class="num" id="6675576">12</span><span class="op" id="6675578">,</span>&nbsp;<span class="num" id="6675580">0</span><span class="op" id="6675581">,</span>&nbsp;<span class="op" id="6675583">-</span><span class="num" id="6675584">12</span><span class="op" id="6675586">,</span>&nbsp;<span class="op" id="6675588">-</span><span class="num" id="6675589">12</span><span class="op" id="6675591">}</span><span class="op" id="6675592">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675595">{</span><span class="string" id="6675596">&#34;13+0i&#34;</span><span class="op" id="6675603">,</span>&nbsp;<span class="builtintype" id="6675605">true</span><span class="op" id="6675609">,</span>&nbsp;<span class="builtintype" id="6675611">true</span><span class="op" id="6675615">,</span>&nbsp;<span class="builtintype" id="6675617">true</span><span class="op" id="6675621">,</span>&nbsp;<span class="builtintype" id="6675623">true</span><span class="op" id="6675627">,</span>&nbsp;<span class="num" id="6675629">13</span><span class="op" id="6675631">,</span>&nbsp;<span class="num" id="6675633">13</span><span class="op" id="6675635">,</span>&nbsp;<span class="num" id="6675637">13</span><span class="op" id="6675639">,</span>&nbsp;<span class="num" id="6675641">13</span><span class="op" id="6675643">}</span><span class="op" id="6675644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6675647">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675663">{</span><span class="string" id="6675664">&#34;0123&#34;</span><span class="op" id="6675670">,</span>&nbsp;<span class="builtintype" id="6675672">true</span><span class="op" id="6675676">,</span>&nbsp;<span class="builtintype" id="6675678">true</span><span class="op" id="6675682">,</span>&nbsp;<span class="builtintype" id="6675684">true</span><span class="op" id="6675688">,</span>&nbsp;<span class="builtintype" id="6675690">false</span><span class="op" id="6675695">,</span>&nbsp;<span class="num" id="6675697">0123</span><span class="op" id="6675701">,</span>&nbsp;<span class="num" id="6675703">0123</span><span class="op" id="6675707">,</span>&nbsp;<span class="num" id="6675709">0123</span><span class="op" id="6675713">,</span>&nbsp;<span class="num" id="6675715">0</span><span class="op" id="6675716">}</span><span class="op" id="6675717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675720">{</span><span class="string" id="6675721">&#34;-0x0&#34;</span><span class="op" id="6675727">,</span>&nbsp;<span class="builtintype" id="6675729">true</span><span class="op" id="6675733">,</span>&nbsp;<span class="builtintype" id="6675735">true</span><span class="op" id="6675739">,</span>&nbsp;<span class="builtintype" id="6675741">true</span><span class="op" id="6675745">,</span>&nbsp;<span class="builtintype" id="6675747">false</span><span class="op" id="6675752">,</span>&nbsp;<span class="num" id="6675754">0</span><span class="op" id="6675755">,</span>&nbsp;<span class="num" id="6675757">0</span><span class="op" id="6675758">,</span>&nbsp;<span class="num" id="6675760">0</span><span class="op" id="6675761">,</span>&nbsp;<span class="num" id="6675763">0</span><span class="op" id="6675764">}</span><span class="op" id="6675765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675768">{</span><span class="string" id="6675769">&#34;0xdeadbeef&#34;</span><span class="op" id="6675781">,</span>&nbsp;<span class="builtintype" id="6675783">true</span><span class="op" id="6675787">,</span>&nbsp;<span class="builtintype" id="6675789">true</span><span class="op" id="6675793">,</span>&nbsp;<span class="builtintype" id="6675795">true</span><span class="op" id="6675799">,</span>&nbsp;<span class="builtintype" id="6675801">false</span><span class="op" id="6675806">,</span>&nbsp;<span class="num" id="6675808">0xdeadbeef</span><span class="op" id="6675818">,</span>&nbsp;<span class="num" id="6675820">0xdeadbeef</span><span class="op" id="6675830">,</span>&nbsp;<span class="num" id="6675832">0xdeadbeef</span><span class="op" id="6675842">,</span>&nbsp;<span class="num" id="6675844">0</span><span class="op" id="6675845">}</span><span class="op" id="6675846">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6675849">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675873">{</span><span class="string" id="6675874">`&#39;a&#39;`</span><span class="op" id="6675879">,</span>&nbsp;<span class="builtintype" id="6675881">true</span><span class="op" id="6675885">,</span>&nbsp;<span class="builtintype" id="6675887">true</span><span class="op" id="6675891">,</span>&nbsp;<span class="builtintype" id="6675893">true</span><span class="op" id="6675897">,</span>&nbsp;<span class="builtintype" id="6675899">false</span><span class="op" id="6675904">,</span>&nbsp;<span class="string" id="6675906">&#39;a&#39;</span><span class="op" id="6675909">,</span>&nbsp;<span class="string" id="6675911">&#39;a&#39;</span><span class="op" id="6675914">,</span>&nbsp;<span class="string" id="6675916">&#39;a&#39;</span><span class="op" id="6675919">,</span>&nbsp;<span class="num" id="6675921">0</span><span class="op" id="6675922">}</span><span class="op" id="6675923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675926">{</span><span class="string" id="6675927">`&#39;\n&#39;`</span><span class="op" id="6675933">,</span>&nbsp;<span class="builtintype" id="6675935">true</span><span class="op" id="6675939">,</span>&nbsp;<span class="builtintype" id="6675941">true</span><span class="op" id="6675945">,</span>&nbsp;<span class="builtintype" id="6675947">true</span><span class="op" id="6675951">,</span>&nbsp;<span class="builtintype" id="6675953">false</span><span class="op" id="6675958">,</span>&nbsp;<span class="string" id="6675960">&#39;\n&#39;</span><span class="op" id="6675964">,</span>&nbsp;<span class="string" id="6675966">&#39;\n&#39;</span><span class="op" id="6675970">,</span>&nbsp;<span class="string" id="6675972">&#39;\n&#39;</span><span class="op" id="6675976">,</span>&nbsp;<span class="num" id="6675978">0</span><span class="op" id="6675979">}</span><span class="op" id="6675980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675983">{</span><span class="string" id="6675984">`&#39;\\&#39;`</span><span class="op" id="6675990">,</span>&nbsp;<span class="builtintype" id="6675992">true</span><span class="op" id="6675996">,</span>&nbsp;<span class="builtintype" id="6675998">true</span><span class="op" id="6676002">,</span>&nbsp;<span class="builtintype" id="6676004">true</span><span class="op" id="6676008">,</span>&nbsp;<span class="builtintype" id="6676010">false</span><span class="op" id="6676015">,</span>&nbsp;<span class="string" id="6676017">&#39;\\&#39;</span><span class="op" id="6676021">,</span>&nbsp;<span class="string" id="6676023">&#39;\\&#39;</span><span class="op" id="6676027">,</span>&nbsp;<span class="string" id="6676029">&#39;\\&#39;</span><span class="op" id="6676033">,</span>&nbsp;<span class="num" id="6676035">0</span><span class="op" id="6676036">}</span><span class="op" id="6676037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676040">{</span><span class="string" id="6676041">`&#39;\&#39;&#39;`</span><span class="op" id="6676047">,</span>&nbsp;<span class="builtintype" id="6676049">true</span><span class="op" id="6676053">,</span>&nbsp;<span class="builtintype" id="6676055">true</span><span class="op" id="6676059">,</span>&nbsp;<span class="builtintype" id="6676061">true</span><span class="op" id="6676065">,</span>&nbsp;<span class="builtintype" id="6676067">false</span><span class="op" id="6676072">,</span>&nbsp;<span class="string" id="6676074">&#39;\&#39;&#39;</span><span class="op" id="6676078">,</span>&nbsp;<span class="string" id="6676080">&#39;\&#39;&#39;</span><span class="op" id="6676084">,</span>&nbsp;<span class="string" id="6676086">&#39;\&#39;&#39;</span><span class="op" id="6676090">,</span>&nbsp;<span class="num" id="6676092">0</span><span class="op" id="6676093">}</span><span class="op" id="6676094">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676097">{</span><span class="string" id="6676098">`&#39;\xFF&#39;`</span><span class="op" id="6676106">,</span>&nbsp;<span class="builtintype" id="6676108">true</span><span class="op" id="6676112">,</span>&nbsp;<span class="builtintype" id="6676114">true</span><span class="op" id="6676118">,</span>&nbsp;<span class="builtintype" id="6676120">true</span><span class="op" id="6676124">,</span>&nbsp;<span class="builtintype" id="6676126">false</span><span class="op" id="6676131">,</span>&nbsp;<span class="num" id="6676133">0xFF</span><span class="op" id="6676137">,</span>&nbsp;<span class="num" id="6676139">0xFF</span><span class="op" id="6676143">,</span>&nbsp;<span class="num" id="6676145">0xFF</span><span class="op" id="6676149">,</span>&nbsp;<span class="num" id="6676151">0</span><span class="op" id="6676152">}</span><span class="op" id="6676153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676156">{</span><span class="string" id="6676157">`&#39;ãƒ‘&#39;`</span><span class="op" id="6676164">,</span>&nbsp;<span class="builtintype" id="6676166">true</span><span class="op" id="6676170">,</span>&nbsp;<span class="builtintype" id="6676172">true</span><span class="op" id="6676176">,</span>&nbsp;<span class="builtintype" id="6676178">true</span><span class="op" id="6676182">,</span>&nbsp;<span class="builtintype" id="6676184">false</span><span class="op" id="6676189">,</span>&nbsp;<span class="num" id="6676191">0x30d1</span><span class="op" id="6676197">,</span>&nbsp;<span class="num" id="6676199">0x30d1</span><span class="op" id="6676205">,</span>&nbsp;<span class="num" id="6676207">0x30d1</span><span class="op" id="6676213">,</span>&nbsp;<span class="num" id="6676215">0</span><span class="op" id="6676216">}</span><span class="op" id="6676217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676220">{</span><span class="string" id="6676221">`&#39;\u30d1&#39;`</span><span class="op" id="6676231">,</span>&nbsp;<span class="builtintype" id="6676233">true</span><span class="op" id="6676237">,</span>&nbsp;<span class="builtintype" id="6676239">true</span><span class="op" id="6676243">,</span>&nbsp;<span class="builtintype" id="6676245">true</span><span class="op" id="6676249">,</span>&nbsp;<span class="builtintype" id="6676251">false</span><span class="op" id="6676256">,</span>&nbsp;<span class="num" id="6676258">0x30d1</span><span class="op" id="6676264">,</span>&nbsp;<span class="num" id="6676266">0x30d1</span><span class="op" id="6676272">,</span>&nbsp;<span class="num" id="6676274">0x30d1</span><span class="op" id="6676280">,</span>&nbsp;<span class="num" id="6676282">0</span><span class="op" id="6676283">}</span><span class="op" id="6676284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676287">{</span><span class="string" id="6676288">`&#39;\U000030d1&#39;`</span><span class="op" id="6676302">,</span>&nbsp;<span class="builtintype" id="6676304">true</span><span class="op" id="6676308">,</span>&nbsp;<span class="builtintype" id="6676310">true</span><span class="op" id="6676314">,</span>&nbsp;<span class="builtintype" id="6676316">true</span><span class="op" id="6676320">,</span>&nbsp;<span class="builtintype" id="6676322">false</span><span class="op" id="6676327">,</span>&nbsp;<span class="num" id="6676329">0x30d1</span><span class="op" id="6676335">,</span>&nbsp;<span class="num" id="6676337">0x30d1</span><span class="op" id="6676343">,</span>&nbsp;<span class="num" id="6676345">0x30d1</span><span class="op" id="6676351">,</span>&nbsp;<span class="num" id="6676353">0</span><span class="op" id="6676354">}</span><span class="op" id="6676355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6676358">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676381">{</span><span class="ident" id="6676382">text</span><span class="op" id="6676386">:</span>&nbsp;<span class="string" id="6676388">&#34;+-2&#34;</span><span class="op" id="6676393">}</span><span class="op" id="6676394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676397">{</span><span class="ident" id="6676398">text</span><span class="op" id="6676402">:</span>&nbsp;<span class="string" id="6676404">&#34;0x123.&#34;</span><span class="op" id="6676412">}</span><span class="op" id="6676413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676416">{</span><span class="ident" id="6676417">text</span><span class="op" id="6676421">:</span>&nbsp;<span class="string" id="6676423">&#34;1e.&#34;</span><span class="op" id="6676428">}</span><span class="op" id="6676429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676432">{</span><span class="ident" id="6676433">text</span><span class="op" id="6676437">:</span>&nbsp;<span class="string" id="6676439">&#34;0xi.&#34;</span><span class="op" id="6676445">}</span><span class="op" id="6676446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676449">{</span><span class="ident" id="6676450">text</span><span class="op" id="6676454">:</span>&nbsp;<span class="string" id="6676456">&#34;1+2.&#34;</span><span class="op" id="6676462">}</span><span class="op" id="6676463">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676466">{</span><span class="ident" id="6676467">text</span><span class="op" id="6676471">:</span>&nbsp;<span class="string" id="6676473">&#34;&#39;x&#34;</span><span class="op" id="6676477">}</span><span class="op" id="6676478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676481">{</span><span class="ident" id="6676482">text</span><span class="op" id="6676486">:</span>&nbsp;<span class="string" id="6676488">&#34;&#39;xx&#39;&#34;</span><span class="op" id="6676494">}</span><span class="op" id="6676495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6676498">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676564">{</span><span class="string" id="6676565">&#34;0xef&#34;</span><span class="op" id="6676571">,</span>&nbsp;<span class="builtintype" id="6676573">true</span><span class="op" id="6676577">,</span>&nbsp;<span class="builtintype" id="6676579">true</span><span class="op" id="6676583">,</span>&nbsp;<span class="builtintype" id="6676585">true</span><span class="op" id="6676589">,</span>&nbsp;<span class="builtintype" id="6676591">false</span><span class="op" id="6676596">,</span>&nbsp;<span class="num" id="6676598">0xef</span><span class="op" id="6676602">,</span>&nbsp;<span class="num" id="6676604">0xef</span><span class="op" id="6676608">,</span>&nbsp;<span class="num" id="6676610">0xef</span><span class="op" id="6676614">,</span>&nbsp;<span class="num" id="6676616">0</span><span class="op" id="6676617">}</span><span class="op" id="6676618">,</span><br>
<span class="lineno"></span><span class="op" id="6676620">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6676623">func</span>&nbsp;<span class="ident" id="6676628">TestNumberParse</span><span class="op" id="6676643">(</span><span class="ident" id="6676644">t</span>&nbsp;<span class="op" id="6676646">*</span><span class="ident" id="6676647">testing</span><span class="op" id="6676654">.</span><span class="ident" id="6676655">T</span><span class="op" id="6676656">)</span>&nbsp;<span class="op" id="6676658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676661">for</span>&nbsp;<span class="ident" id="6676665">_</span><span class="op" id="6676666">,</span>&nbsp;<span class="ident" id="6676668">test</span>&nbsp;<span class="op" id="6676673">:=</span>&nbsp;<span class="keyword" id="6676676">range</span>&nbsp;<span class="ident" id="6676682">numberTests</span>&nbsp;<span class="op" id="6676694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6676698">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6676778">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676824">var</span>&nbsp;<span class="ident" id="6676828">c</span>&nbsp;<span class="builtintype" id="6676830">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676843">typ</span>&nbsp;<span class="op" id="6676847">:=</span>&nbsp;<span class="ident" id="6676850">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676863">var</span>&nbsp;<span class="ident" id="6676867">tree</span>&nbsp;<span class="op" id="6676872">*</span><span class="ident" id="6676873">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676880">if</span>&nbsp;<span class="ident" id="6676883">test</span><span class="op" id="6676887">.</span><span class="ident" id="6676888">text</span><span class="op" id="6676892">[</span><span class="num" id="6676893">0</span><span class="op" id="6676894">]</span>&nbsp;<span class="op" id="6676896">==</span>&nbsp;<span class="string" id="6676899">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="6676904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676909">typ</span>&nbsp;<span class="op" id="6676913">=</span>&nbsp;<span class="ident" id="6676915">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676934">}</span>&nbsp;<span class="keyword" id="6676936">else</span>&nbsp;<span class="op" id="6676941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676946">_</span><span class="op" id="6676947">,</span>&nbsp;<span class="ident" id="6676949">err</span>&nbsp;<span class="op" id="6676953">:=</span>&nbsp;<span class="ident" id="6676956">fmt</span><span class="op" id="6676959">.</span><span class="ident" id="6676960">Sscan</span><span class="op" id="6676965">(</span><span class="ident" id="6676966">test</span><span class="op" id="6676970">.</span><span class="ident" id="6676971">text</span><span class="op" id="6676975">,</span>&nbsp;<span class="op" id="6676977">&amp;</span><span class="ident" id="6676978">c</span><span class="op" id="6676979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676984">if</span>&nbsp;<span class="ident" id="6676987">err</span>&nbsp;<span class="op" id="6676991">==</span>&nbsp;<span class="builtintype" id="6676994">nil</span>&nbsp;<span class="op" id="6676998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677004">typ</span>&nbsp;<span class="op" id="6677008">=</span>&nbsp;<span class="ident" id="6677010">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677025">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677033">n</span><span class="op" id="6677034">,</span>&nbsp;<span class="ident" id="6677036">err</span>&nbsp;<span class="op" id="6677040">:=</span>&nbsp;<span class="ident" id="6677043">tree</span><span class="op" id="6677047">.</span><span class="ident" id="6677048">newNumber</span><span class="op" id="6677057">(</span><span class="num" id="6677058">0</span><span class="op" id="6677059">,</span>&nbsp;<span class="ident" id="6677061">test</span><span class="op" id="6677065">.</span><span class="ident" id="6677066">text</span><span class="op" id="6677070">,</span>&nbsp;<span class="ident" id="6677072">typ</span><span class="op" id="6677075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677079">ok</span>&nbsp;<span class="op" id="6677082">:=</span>&nbsp;<span class="ident" id="6677085">test</span><span class="op" id="6677089">.</span><span class="ident" id="6677090">isInt</span>&nbsp;<span class="op" id="6677096">||</span>&nbsp;<span class="ident" id="6677099">test</span><span class="op" id="6677103">.</span><span class="ident" id="6677104">isUint</span>&nbsp;<span class="op" id="6677111">||</span>&nbsp;<span class="ident" id="6677114">test</span><span class="op" id="6677118">.</span><span class="ident" id="6677119">isFloat</span>&nbsp;<span class="op" id="6677127">||</span>&nbsp;<span class="ident" id="6677130">test</span><span class="op" id="6677134">.</span><span class="ident" id="6677135">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677147">if</span>&nbsp;<span class="ident" id="6677150">ok</span>&nbsp;<span class="op" id="6677153">&amp;&amp;</span>&nbsp;<span class="ident" id="6677156">err</span>&nbsp;<span class="op" id="6677160">!=</span>&nbsp;<span class="builtintype" id="6677163">nil</span>&nbsp;<span class="op" id="6677167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677172">t</span><span class="op" id="6677173">.</span><span class="ident" id="6677174">Errorf</span><span class="op" id="6677180">(</span><span class="string" id="6677181">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6677210">,</span>&nbsp;<span class="ident" id="6677212">test</span><span class="op" id="6677216">.</span><span class="ident" id="6677217">text</span><span class="op" id="6677221">,</span>&nbsp;<span class="ident" id="6677223">err</span><span class="op" id="6677226">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677231">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677246">if</span>&nbsp;<span class="op" id="6677249">!</span><span class="ident" id="6677250">ok</span>&nbsp;<span class="op" id="6677253">&amp;&amp;</span>&nbsp;<span class="ident" id="6677256">err</span>&nbsp;<span class="op" id="6677260">==</span>&nbsp;<span class="builtintype" id="6677263">nil</span>&nbsp;<span class="op" id="6677267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677272">t</span><span class="op" id="6677273">.</span><span class="ident" id="6677274">Errorf</span><span class="op" id="6677280">(</span><span class="string" id="6677281">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6677304">,</span>&nbsp;<span class="ident" id="6677306">test</span><span class="op" id="6677310">.</span><span class="ident" id="6677311">text</span><span class="op" id="6677315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677320">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677335">if</span>&nbsp;<span class="op" id="6677338">!</span><span class="ident" id="6677339">ok</span>&nbsp;<span class="op" id="6677342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677347">if</span>&nbsp;<span class="op" id="6677350">*</span><span class="ident" id="6677351">debug</span>&nbsp;<span class="op" id="6677357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677363">fmt</span><span class="op" id="6677366">.</span><span class="ident" id="6677367">Printf</span><span class="op" id="6677373">(</span><span class="string" id="6677374">&#34;%s\n\t%s\n&#34;</span><span class="op" id="6677386">,</span>&nbsp;<span class="ident" id="6677388">test</span><span class="op" id="6677392">.</span><span class="ident" id="6677393">text</span><span class="op" id="6677397">,</span>&nbsp;<span class="ident" id="6677399">err</span><span class="op" id="6677402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677407">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677412">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677427">if</span>&nbsp;<span class="ident" id="6677430">n</span><span class="op" id="6677431">.</span><span class="ident" id="6677432">IsComplex</span>&nbsp;<span class="op" id="6677442">!=</span>&nbsp;<span class="ident" id="6677445">test</span><span class="op" id="6677449">.</span><span class="ident" id="6677450">isComplex</span>&nbsp;<span class="op" id="6677460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677465">t</span><span class="op" id="6677466">.</span><span class="ident" id="6677467">Errorf</span><span class="op" id="6677473">(</span><span class="string" id="6677474">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6677514">,</span>&nbsp;<span class="ident" id="6677516">test</span><span class="op" id="6677520">.</span><span class="ident" id="6677521">text</span><span class="op" id="6677525">,</span>&nbsp;<span class="ident" id="6677527">test</span><span class="op" id="6677531">.</span><span class="ident" id="6677532">isComplex</span><span class="op" id="6677541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677545">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677549">if</span>&nbsp;<span class="ident" id="6677552">test</span><span class="op" id="6677556">.</span><span class="ident" id="6677557">isInt</span>&nbsp;<span class="op" id="6677563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677568">if</span>&nbsp;<span class="op" id="6677571">!</span><span class="ident" id="6677572">n</span><span class="op" id="6677573">.</span><span class="ident" id="6677574">IsInt</span>&nbsp;<span class="op" id="6677580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677586">t</span><span class="op" id="6677587">.</span><span class="ident" id="6677588">Errorf</span><span class="op" id="6677594">(</span><span class="string" id="6677595">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6677620">,</span>&nbsp;<span class="ident" id="6677622">test</span><span class="op" id="6677626">.</span><span class="ident" id="6677627">text</span><span class="op" id="6677631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677641">if</span>&nbsp;<span class="ident" id="6677644">n</span><span class="op" id="6677645">.</span><span class="ident" id="6677646">Int64</span>&nbsp;<span class="op" id="6677652">!=</span>&nbsp;<span class="ident" id="6677655">test</span><span class="op" id="6677659">.</span><span class="ident" id="6677660">int64</span>&nbsp;<span class="op" id="6677666">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677672">t</span><span class="op" id="6677673">.</span><span class="ident" id="6677674">Errorf</span><span class="op" id="6677680">(</span><span class="string" id="6677681">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6677714">,</span>&nbsp;<span class="ident" id="6677716">test</span><span class="op" id="6677720">.</span><span class="ident" id="6677721">text</span><span class="op" id="6677725">,</span>&nbsp;<span class="ident" id="6677727">test</span><span class="op" id="6677731">.</span><span class="ident" id="6677732">int64</span><span class="op" id="6677737">,</span>&nbsp;<span class="ident" id="6677739">n</span><span class="op" id="6677740">.</span><span class="ident" id="6677741">Int64</span><span class="op" id="6677746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677755">}</span>&nbsp;<span class="keyword" id="6677757">else</span>&nbsp;<span class="keyword" id="6677762">if</span>&nbsp;<span class="ident" id="6677765">n</span><span class="op" id="6677766">.</span><span class="ident" id="6677767">IsInt</span>&nbsp;<span class="op" id="6677773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677778">t</span><span class="op" id="6677779">.</span><span class="ident" id="6677780">Errorf</span><span class="op" id="6677786">(</span><span class="string" id="6677787">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6677818">,</span>&nbsp;<span class="ident" id="6677820">test</span><span class="op" id="6677824">.</span><span class="ident" id="6677825">text</span><span class="op" id="6677829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677833">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677837">if</span>&nbsp;<span class="ident" id="6677840">test</span><span class="op" id="6677844">.</span><span class="ident" id="6677845">isUint</span>&nbsp;<span class="op" id="6677852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677857">if</span>&nbsp;<span class="op" id="6677860">!</span><span class="ident" id="6677861">n</span><span class="op" id="6677862">.</span><span class="ident" id="6677863">IsUint</span>&nbsp;<span class="op" id="6677870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677876">t</span><span class="op" id="6677877">.</span><span class="ident" id="6677878">Errorf</span><span class="op" id="6677884">(</span><span class="string" id="6677885">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6677919">,</span>&nbsp;<span class="ident" id="6677921">test</span><span class="op" id="6677925">.</span><span class="ident" id="6677926">text</span><span class="op" id="6677930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677940">if</span>&nbsp;<span class="ident" id="6677943">n</span><span class="op" id="6677944">.</span><span class="ident" id="6677945">Uint64</span>&nbsp;<span class="op" id="6677952">!=</span>&nbsp;<span class="ident" id="6677955">test</span><span class="op" id="6677959">.</span><span class="ident" id="6677960">uint64</span>&nbsp;<span class="op" id="6677967">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677973">t</span><span class="op" id="6677974">.</span><span class="ident" id="6677975">Errorf</span><span class="op" id="6677981">(</span><span class="string" id="6677982">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="6678016">,</span>&nbsp;<span class="ident" id="6678018">test</span><span class="op" id="6678022">.</span><span class="ident" id="6678023">text</span><span class="op" id="6678027">,</span>&nbsp;<span class="ident" id="6678029">test</span><span class="op" id="6678033">.</span><span class="ident" id="6678034">uint64</span><span class="op" id="6678040">,</span>&nbsp;<span class="ident" id="6678042">n</span><span class="op" id="6678043">.</span><span class="ident" id="6678044">Uint64</span><span class="op" id="6678050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678059">}</span>&nbsp;<span class="keyword" id="6678061">else</span>&nbsp;<span class="keyword" id="6678066">if</span>&nbsp;<span class="ident" id="6678069">n</span><span class="op" id="6678070">.</span><span class="ident" id="6678071">IsUint</span>&nbsp;<span class="op" id="6678078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678083">t</span><span class="op" id="6678084">.</span><span class="ident" id="6678085">Errorf</span><span class="op" id="6678091">(</span><span class="string" id="6678092">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6678132">,</span>&nbsp;<span class="ident" id="6678134">test</span><span class="op" id="6678138">.</span><span class="ident" id="6678139">text</span><span class="op" id="6678143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678147">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678151">if</span>&nbsp;<span class="ident" id="6678154">test</span><span class="op" id="6678158">.</span><span class="ident" id="6678159">isFloat</span>&nbsp;<span class="op" id="6678167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678172">if</span>&nbsp;<span class="op" id="6678175">!</span><span class="ident" id="6678176">n</span><span class="op" id="6678177">.</span><span class="ident" id="6678178">IsFloat</span>&nbsp;<span class="op" id="6678186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678192">t</span><span class="op" id="6678193">.</span><span class="ident" id="6678194">Errorf</span><span class="op" id="6678200">(</span><span class="string" id="6678201">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6678224">,</span>&nbsp;<span class="ident" id="6678226">test</span><span class="op" id="6678230">.</span><span class="ident" id="6678231">text</span><span class="op" id="6678235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678245">if</span>&nbsp;<span class="ident" id="6678248">n</span><span class="op" id="6678249">.</span><span class="ident" id="6678250">Float64</span>&nbsp;<span class="op" id="6678258">!=</span>&nbsp;<span class="ident" id="6678261">test</span><span class="op" id="6678265">.</span><span class="builtintype" id="6678266">float64</span>&nbsp;<span class="op" id="6678274">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678280">t</span><span class="op" id="6678281">.</span><span class="ident" id="6678282">Errorf</span><span class="op" id="6678288">(</span><span class="string" id="6678289">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6678324">,</span>&nbsp;<span class="ident" id="6678326">test</span><span class="op" id="6678330">.</span><span class="ident" id="6678331">text</span><span class="op" id="6678335">,</span>&nbsp;<span class="ident" id="6678337">test</span><span class="op" id="6678341">.</span><span class="builtintype" id="6678342">float64</span><span class="op" id="6678349">,</span>&nbsp;<span class="ident" id="6678351">n</span><span class="op" id="6678352">.</span><span class="ident" id="6678353">Float64</span><span class="op" id="6678360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678369">}</span>&nbsp;<span class="keyword" id="6678371">else</span>&nbsp;<span class="keyword" id="6678376">if</span>&nbsp;<span class="ident" id="6678379">n</span><span class="op" id="6678380">.</span><span class="ident" id="6678381">IsFloat</span>&nbsp;<span class="op" id="6678389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678394">t</span><span class="op" id="6678395">.</span><span class="ident" id="6678396">Errorf</span><span class="op" id="6678402">(</span><span class="string" id="6678403">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6678432">,</span>&nbsp;<span class="ident" id="6678434">test</span><span class="op" id="6678438">.</span><span class="ident" id="6678439">text</span><span class="op" id="6678443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678447">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678451">if</span>&nbsp;<span class="ident" id="6678454">test</span><span class="op" id="6678458">.</span><span class="ident" id="6678459">isComplex</span>&nbsp;<span class="op" id="6678469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678474">if</span>&nbsp;<span class="op" id="6678477">!</span><span class="ident" id="6678478">n</span><span class="op" id="6678479">.</span><span class="ident" id="6678480">IsComplex</span>&nbsp;<span class="op" id="6678490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678496">t</span><span class="op" id="6678497">.</span><span class="ident" id="6678498">Errorf</span><span class="op" id="6678504">(</span><span class="string" id="6678505">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6678530">,</span>&nbsp;<span class="ident" id="6678532">test</span><span class="op" id="6678536">.</span><span class="ident" id="6678537">text</span><span class="op" id="6678541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678551">if</span>&nbsp;<span class="ident" id="6678554">n</span><span class="op" id="6678555">.</span><span class="ident" id="6678556">Complex128</span>&nbsp;<span class="op" id="6678567">!=</span>&nbsp;<span class="ident" id="6678570">test</span><span class="op" id="6678574">.</span><span class="builtintype" id="6678575">complex128</span>&nbsp;<span class="op" id="6678586">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678592">t</span><span class="op" id="6678593">.</span><span class="ident" id="6678594">Errorf</span><span class="op" id="6678600">(</span><span class="string" id="6678601">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="6678639">,</span>&nbsp;<span class="ident" id="6678641">test</span><span class="op" id="6678645">.</span><span class="ident" id="6678646">text</span><span class="op" id="6678650">,</span>&nbsp;<span class="ident" id="6678652">test</span><span class="op" id="6678656">.</span><span class="builtintype" id="6678657">complex128</span><span class="op" id="6678667">,</span>&nbsp;<span class="ident" id="6678669">n</span><span class="op" id="6678670">.</span><span class="ident" id="6678671">Complex128</span><span class="op" id="6678681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678690">}</span>&nbsp;<span class="keyword" id="6678692">else</span>&nbsp;<span class="keyword" id="6678697">if</span>&nbsp;<span class="ident" id="6678700">n</span><span class="op" id="6678701">.</span><span class="ident" id="6678702">IsComplex</span>&nbsp;<span class="op" id="6678712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678717">t</span><span class="op" id="6678718">.</span><span class="ident" id="6678719">Errorf</span><span class="op" id="6678725">(</span><span class="string" id="6678726">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6678757">,</span>&nbsp;<span class="ident" id="6678759">test</span><span class="op" id="6678763">.</span><span class="ident" id="6678764">text</span><span class="op" id="6678768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678772">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678775">}</span><br>
<span class="lineno"></span><span class="op" id="6678777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6678780">type</span>&nbsp;<span class="ident" id="6678785">parseTest</span>&nbsp;<span class="keyword" id="6678795">struct</span>&nbsp;<span class="op" id="6678802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678805">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6678812">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678820">input</span>&nbsp;&nbsp;<span class="builtintype" id="6678827">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678835">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6678842">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678848">result</span>&nbsp;<span class="builtintype" id="6678855">string</span>&nbsp;<span class="comment" id="6678862">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="6678910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6678913">const</span>&nbsp;<span class="op" id="6678919">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678922">noError</span>&nbsp;&nbsp;<span class="op" id="6678931">=</span>&nbsp;<span class="builtintype" id="6678933">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678939">hasError</span>&nbsp;<span class="op" id="6678948">=</span>&nbsp;<span class="builtintype" id="6678950">false</span><br>
<span class="lineno"></span><span class="op" id="6678956">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6678959">var</span>&nbsp;<span class="ident" id="6678963">parseTests</span>&nbsp;<span class="op" id="6678974">=</span>&nbsp;<span class="op" id="6678976">[</span><span class="op" id="6678977">]</span><span class="ident" id="6678978">parseTest</span><span class="op" id="6678987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678990">{</span><span class="string" id="6678991">&#34;empty&#34;</span><span class="op" id="6678998">,</span>&nbsp;<span class="string" id="6679000">&#34;&#34;</span><span class="op" id="6679002">,</span>&nbsp;<span class="ident" id="6679004">noError</span><span class="op" id="6679011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679015">``</span><span class="op" id="6679017">}</span><span class="op" id="6679018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679021">{</span><span class="string" id="6679022">&#34;comment&#34;</span><span class="op" id="6679031">,</span>&nbsp;<span class="string" id="6679033">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="6679049">,</span>&nbsp;<span class="ident" id="6679051">noError</span><span class="op" id="6679058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679062">``</span><span class="op" id="6679064">}</span><span class="op" id="6679065">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679068">{</span><span class="string" id="6679069">&#34;spaces&#34;</span><span class="op" id="6679077">,</span>&nbsp;<span class="string" id="6679079">&#34;&nbsp;\t\n&#34;</span><span class="op" id="6679086">,</span>&nbsp;<span class="ident" id="6679088">noError</span><span class="op" id="6679095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679099">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="6679108">}</span><span class="op" id="6679109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679112">{</span><span class="string" id="6679113">&#34;text&#34;</span><span class="op" id="6679119">,</span>&nbsp;<span class="string" id="6679121">&#34;some&nbsp;text&#34;</span><span class="op" id="6679132">,</span>&nbsp;<span class="ident" id="6679134">noError</span><span class="op" id="6679141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679145">`&#34;some&nbsp;text&#34;`</span><span class="op" id="6679158">}</span><span class="op" id="6679159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679162">{</span><span class="string" id="6679163">&#34;emptyAction&#34;</span><span class="op" id="6679176">,</span>&nbsp;<span class="string" id="6679178">&#34;{{}}&#34;</span><span class="op" id="6679184">,</span>&nbsp;<span class="ident" id="6679186">hasError</span><span class="op" id="6679194">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679198">`{{}}`</span><span class="op" id="6679204">}</span><span class="op" id="6679205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679208">{</span><span class="string" id="6679209">&#34;field&#34;</span><span class="op" id="6679216">,</span>&nbsp;<span class="string" id="6679218">&#34;{{.X}}&#34;</span><span class="op" id="6679226">,</span>&nbsp;<span class="ident" id="6679228">noError</span><span class="op" id="6679235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679239">`{{.X}}`</span><span class="op" id="6679247">}</span><span class="op" id="6679248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679251">{</span><span class="string" id="6679252">&#34;simple&nbsp;command&#34;</span><span class="op" id="6679268">,</span>&nbsp;<span class="string" id="6679270">&#34;{{printf}}&#34;</span><span class="op" id="6679282">,</span>&nbsp;<span class="ident" id="6679284">noError</span><span class="op" id="6679291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679295">`{{printf}}`</span><span class="op" id="6679307">}</span><span class="op" id="6679308">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679311">{</span><span class="string" id="6679312">&#34;$&nbsp;invocation&#34;</span><span class="op" id="6679326">,</span>&nbsp;<span class="string" id="6679328">&#34;{{$}}&#34;</span><span class="op" id="6679335">,</span>&nbsp;<span class="ident" id="6679337">noError</span><span class="op" id="6679344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679348">&#34;{{$}}&#34;</span><span class="op" id="6679355">}</span><span class="op" id="6679356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679359">{</span><span class="string" id="6679360">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="6679381">,</span>&nbsp;<span class="string" id="6679383">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6679417">,</span>&nbsp;<span class="ident" id="6679419">noError</span><span class="op" id="6679426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679430">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6679464">}</span><span class="op" id="6679465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679468">{</span><span class="string" id="6679469">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="6679491">,</span>&nbsp;<span class="string" id="6679493">&#34;{{$.I}}&#34;</span><span class="op" id="6679502">,</span>&nbsp;<span class="ident" id="6679504">noError</span><span class="op" id="6679511">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679515">&#34;{{$.I}}&#34;</span><span class="op" id="6679524">}</span><span class="op" id="6679525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679528">{</span><span class="string" id="6679529">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="6679549">,</span>&nbsp;<span class="string" id="6679551">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6679571">,</span>&nbsp;<span class="ident" id="6679573">noError</span><span class="op" id="6679580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679584">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="6679604">}</span><span class="op" id="6679605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679608">{</span><span class="string" id="6679609">&#34;pipeline&#34;</span><span class="op" id="6679619">,</span>&nbsp;<span class="string" id="6679621">&#34;{{.X|.Y}}&#34;</span><span class="op" id="6679632">,</span>&nbsp;<span class="ident" id="6679634">noError</span><span class="op" id="6679641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679645">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6679658">}</span><span class="op" id="6679659">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679662">{</span><span class="string" id="6679663">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="6679683">,</span>&nbsp;<span class="string" id="6679685">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="6679702">,</span>&nbsp;<span class="ident" id="6679704">noError</span><span class="op" id="6679711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679715">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="6679734">}</span><span class="op" id="6679735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679738">{</span><span class="string" id="6679739">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="6679756">,</span>&nbsp;<span class="string" id="6679758">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="6679792">,</span>&nbsp;<span class="ident" id="6679794">noError</span><span class="op" id="6679801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679805">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="6679839">}</span><span class="op" id="6679840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679843">{</span><span class="string" id="6679844">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6679874">,</span>&nbsp;<span class="string" id="6679876">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="6679895">,</span>&nbsp;<span class="ident" id="6679897">noError</span><span class="op" id="6679904">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679908">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="6679927">}</span><span class="op" id="6679928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679931">{</span><span class="string" id="6679932">&#34;simple&nbsp;if&#34;</span><span class="op" id="6679943">,</span>&nbsp;<span class="string" id="6679945">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6679968">,</span>&nbsp;<span class="ident" id="6679970">noError</span><span class="op" id="6679977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6679981">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6680006">}</span><span class="op" id="6680007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680010">{</span><span class="string" id="6680011">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="6680025">,</span>&nbsp;<span class="string" id="6680027">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6680062">,</span>&nbsp;<span class="ident" id="6680064">noError</span><span class="op" id="6680071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680075">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6680114">}</span><span class="op" id="6680115">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680118">{</span><span class="string" id="6680119">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="6680136">,</span>&nbsp;<span class="string" id="6680138">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="6680179">,</span>&nbsp;<span class="ident" id="6680181">noError</span><span class="op" id="6680188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680192">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="6680247">}</span><span class="op" id="6680248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680251">{</span><span class="string" id="6680252">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="6680267">,</span>&nbsp;<span class="string" id="6680269">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="6680320">,</span>&nbsp;<span class="ident" id="6680322">noError</span><span class="op" id="6680329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680333">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="6680414">}</span><span class="op" id="6680415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680418">{</span><span class="string" id="6680419">&#34;simple&nbsp;range&#34;</span><span class="op" id="6680433">,</span>&nbsp;<span class="string" id="6680435">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6680461">,</span>&nbsp;<span class="ident" id="6680463">noError</span><span class="op" id="6680470">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680474">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6680502">}</span><span class="op" id="6680503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680506">{</span><span class="string" id="6680507">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="6680528">,</span>&nbsp;<span class="string" id="6680530">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="6680560">,</span>&nbsp;<span class="ident" id="6680562">noError</span><span class="op" id="6680569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680573">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="6680605">}</span><span class="op" id="6680606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680609">{</span><span class="string" id="6680610">&#34;nested&nbsp;range&#34;</span><span class="op" id="6680624">,</span>&nbsp;<span class="string" id="6680626">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="6680678">,</span>&nbsp;<span class="ident" id="6680680">noError</span><span class="op" id="6680687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680691">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="6680747">}</span><span class="op" id="6680748">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680751">{</span><span class="string" id="6680752">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="6680769">,</span>&nbsp;<span class="string" id="6680771">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="6680809">,</span>&nbsp;<span class="ident" id="6680811">noError</span><span class="op" id="6680818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680822">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6680864">}</span><span class="op" id="6680865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680868">{</span><span class="string" id="6680869">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="6680890">,</span>&nbsp;<span class="string" id="6680892">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="6680933">,</span>&nbsp;<span class="ident" id="6680935">noError</span><span class="op" id="6680942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6680946">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="6680993">}</span><span class="op" id="6680994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680997">{</span><span class="string" id="6680998">&#34;range&nbsp;[]int&#34;</span><span class="op" id="6681011">,</span>&nbsp;<span class="string" id="6681013">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6681040">,</span>&nbsp;<span class="ident" id="6681042">noError</span><span class="op" id="6681049">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681053">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6681080">}</span><span class="op" id="6681081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681084">{</span><span class="string" id="6681085">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="6681098">,</span>&nbsp;<span class="string" id="6681100">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6681133">,</span>&nbsp;<span class="ident" id="6681135">noError</span><span class="op" id="6681142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681146">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6681179">}</span><span class="op" id="6681180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681183">{</span><span class="string" id="6681184">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="6681198">,</span>&nbsp;<span class="string" id="6681200">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="6681237">,</span>&nbsp;<span class="ident" id="6681239">noError</span><span class="op" id="6681246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681250">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="6681287">}</span><span class="op" id="6681288">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681291">{</span><span class="string" id="6681292">&#34;constants&#34;</span><span class="op" id="6681303">,</span>&nbsp;<span class="string" id="6681305">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="6681354">,</span>&nbsp;<span class="ident" id="6681356">noError</span><span class="op" id="6681363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681367">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="6681416">}</span><span class="op" id="6681417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681420">{</span><span class="string" id="6681421">&#34;template&#34;</span><span class="op" id="6681431">,</span>&nbsp;<span class="string" id="6681433">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="6681451">,</span>&nbsp;<span class="ident" id="6681453">noError</span><span class="op" id="6681460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681464">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="6681482">}</span><span class="op" id="6681483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681486">{</span><span class="string" id="6681487">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="6681506">,</span>&nbsp;<span class="string" id="6681508">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="6681529">,</span>&nbsp;<span class="ident" id="6681531">noError</span><span class="op" id="6681538">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681542">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="6681563">}</span><span class="op" id="6681564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681567">{</span><span class="string" id="6681568">&#34;with&#34;</span><span class="op" id="6681574">,</span>&nbsp;<span class="string" id="6681576">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="6681601">,</span>&nbsp;<span class="ident" id="6681603">noError</span><span class="op" id="6681610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681614">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="6681641">}</span><span class="op" id="6681642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681645">{</span><span class="string" id="6681646">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="6681662">,</span>&nbsp;<span class="string" id="6681664">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="6681704">,</span>&nbsp;<span class="ident" id="6681706">noError</span><span class="op" id="6681713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6681717">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="6681761">}</span><span class="op" id="6681762">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6681765">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681777">{</span><span class="string" id="6681778">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="6681795">,</span>&nbsp;<span class="string" id="6681797">&#34;hello{{range&#34;</span><span class="op" id="6681811">,</span>&nbsp;<span class="ident" id="6681813">hasError</span><span class="op" id="6681821">,</span>&nbsp;<span class="string" id="6681823">&#34;&#34;</span><span class="op" id="6681825">}</span><span class="op" id="6681826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681829">{</span><span class="string" id="6681830">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="6681845">,</span>&nbsp;<span class="string" id="6681847">&#34;{{end}}&#34;</span><span class="op" id="6681856">,</span>&nbsp;<span class="ident" id="6681858">hasError</span><span class="op" id="6681866">,</span>&nbsp;<span class="string" id="6681868">&#34;&#34;</span><span class="op" id="6681870">}</span><span class="op" id="6681871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681874">{</span><span class="string" id="6681875">&#34;missing&nbsp;end&#34;</span><span class="op" id="6681888">,</span>&nbsp;<span class="string" id="6681890">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="6681909">,</span>&nbsp;<span class="ident" id="6681911">hasError</span><span class="op" id="6681919">,</span>&nbsp;<span class="string" id="6681921">&#34;&#34;</span><span class="op" id="6681923">}</span><span class="op" id="6681924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681927">{</span><span class="string" id="6681928">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="6681952">,</span>&nbsp;<span class="string" id="6681954">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="6681981">,</span>&nbsp;<span class="ident" id="6681983">hasError</span><span class="op" id="6681991">,</span>&nbsp;<span class="string" id="6681993">&#34;&#34;</span><span class="op" id="6681995">}</span><span class="op" id="6681996">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681999">{</span><span class="string" id="6682000">&#34;undefined&nbsp;function&#34;</span><span class="op" id="6682020">,</span>&nbsp;<span class="string" id="6682022">&#34;hello{{undefined}}&#34;</span><span class="op" id="6682042">,</span>&nbsp;<span class="ident" id="6682044">hasError</span><span class="op" id="6682052">,</span>&nbsp;<span class="string" id="6682054">&#34;&#34;</span><span class="op" id="6682056">}</span><span class="op" id="6682057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682060">{</span><span class="string" id="6682061">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="6682081">,</span>&nbsp;<span class="string" id="6682083">&#34;{{$x}}&#34;</span><span class="op" id="6682091">,</span>&nbsp;<span class="ident" id="6682093">hasError</span><span class="op" id="6682101">,</span>&nbsp;<span class="string" id="6682103">&#34;&#34;</span><span class="op" id="6682105">}</span><span class="op" id="6682106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682109">{</span><span class="string" id="6682110">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="6682140">,</span>&nbsp;<span class="string" id="6682142">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="6682173">,</span>&nbsp;<span class="ident" id="6682175">hasError</span><span class="op" id="6682183">,</span>&nbsp;<span class="string" id="6682185">&#34;&#34;</span><span class="op" id="6682187">}</span><span class="op" id="6682188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682191">{</span><span class="string" id="6682192">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="6682224">,</span>&nbsp;<span class="string" id="6682226">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6682243">,</span>&nbsp;<span class="ident" id="6682245">hasError</span><span class="op" id="6682253">,</span>&nbsp;<span class="string" id="6682255">&#34;&#34;</span><span class="op" id="6682257">}</span><span class="op" id="6682258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682261">{</span><span class="string" id="6682262">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="6682282">,</span>&nbsp;<span class="string" id="6682284">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="6682311">,</span>&nbsp;<span class="ident" id="6682313">hasError</span><span class="op" id="6682321">,</span>&nbsp;<span class="string" id="6682323">&#34;&#34;</span><span class="op" id="6682325">}</span><span class="op" id="6682326">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682329">{</span><span class="string" id="6682330">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="6682355">,</span>&nbsp;<span class="string" id="6682357">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="6682374">,</span>&nbsp;<span class="ident" id="6682376">hasError</span><span class="op" id="6682384">,</span>&nbsp;<span class="string" id="6682386">&#34;&#34;</span><span class="op" id="6682388">}</span><span class="op" id="6682389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682392">{</span><span class="string" id="6682393">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="6682412">,</span>&nbsp;<span class="string" id="6682414">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="6682431">,</span>&nbsp;<span class="ident" id="6682433">hasError</span><span class="op" id="6682441">,</span>&nbsp;<span class="string" id="6682443">&#34;&#34;</span><span class="op" id="6682445">}</span><span class="op" id="6682446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682449">{</span><span class="string" id="6682450">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="6682471">,</span>&nbsp;<span class="string" id="6682473">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="6682490">,</span>&nbsp;<span class="ident" id="6682492">hasError</span><span class="op" id="6682500">,</span>&nbsp;<span class="string" id="6682502">&#34;&#34;</span><span class="op" id="6682504">}</span><span class="op" id="6682505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682508">{</span><span class="string" id="6682509">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="6682534">,</span>&nbsp;<span class="string" id="6682536">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6682565">,</span>&nbsp;<span class="ident" id="6682567">hasError</span><span class="op" id="6682575">,</span>&nbsp;<span class="string" id="6682577">&#34;&#34;</span><span class="op" id="6682579">}</span><span class="op" id="6682580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682583">{</span><span class="string" id="6682584">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="6682609">,</span>&nbsp;<span class="string" id="6682611">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6682645">,</span>&nbsp;<span class="ident" id="6682647">hasError</span><span class="op" id="6682655">,</span>&nbsp;<span class="string" id="6682657">&#34;&#34;</span><span class="op" id="6682659">}</span><span class="op" id="6682660">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682663">{</span><span class="string" id="6682664">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="6682692">,</span>&nbsp;<span class="string" id="6682694">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="6682718">,</span>&nbsp;<span class="ident" id="6682720">hasError</span><span class="op" id="6682728">,</span>&nbsp;<span class="string" id="6682730">&#34;&#34;</span><span class="op" id="6682732">}</span><span class="op" id="6682733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682736">{</span><span class="string" id="6682737">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="6682752">,</span>&nbsp;<span class="string" id="6682754">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="6682771">,</span>&nbsp;<span class="ident" id="6682773">hasError</span><span class="op" id="6682781">,</span>&nbsp;<span class="string" id="6682783">&#34;&#34;</span><span class="op" id="6682785">}</span><span class="op" id="6682786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682789">{</span><span class="string" id="6682790">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="6682812">,</span>&nbsp;<span class="string" id="6682814">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="6682831">,</span>&nbsp;<span class="ident" id="6682833">hasError</span><span class="op" id="6682841">,</span>&nbsp;<span class="string" id="6682843">&#34;&#34;</span><span class="op" id="6682845">}</span><span class="op" id="6682846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682849">{</span><span class="string" id="6682850">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="6682870">,</span>&nbsp;<span class="string" id="6682872">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="6682913">,</span>&nbsp;<span class="ident" id="6682915">hasError</span><span class="op" id="6682923">,</span>&nbsp;<span class="string" id="6682925">&#34;&#34;</span><span class="op" id="6682927">}</span><span class="op" id="6682928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6682931">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682991">{</span><span class="string" id="6682992">&#34;bug0a&#34;</span><span class="op" id="6682999">,</span>&nbsp;<span class="string" id="6683001">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6683020">,</span>&nbsp;<span class="ident" id="6683022">noError</span><span class="op" id="6683029">,</span>&nbsp;<span class="string" id="6683031">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="6683050">}</span><span class="op" id="6683051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683054">{</span><span class="string" id="6683055">&#34;bug0b&#34;</span><span class="op" id="6683062">,</span>&nbsp;<span class="string" id="6683064">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="6683082">,</span>&nbsp;<span class="ident" id="6683084">hasError</span><span class="op" id="6683092">,</span>&nbsp;<span class="string" id="6683094">&#34;&#34;</span><span class="op" id="6683096">}</span><span class="op" id="6683097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683100">{</span><span class="string" id="6683101">&#34;bug0c&#34;</span><span class="op" id="6683108">,</span>&nbsp;<span class="string" id="6683110">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="6683128">,</span>&nbsp;<span class="ident" id="6683130">hasError</span><span class="op" id="6683138">,</span>&nbsp;<span class="string" id="6683140">&#34;&#34;</span><span class="op" id="6683142">}</span><span class="op" id="6683143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683146">{</span><span class="string" id="6683147">&#34;bug0d&#34;</span><span class="op" id="6683154">,</span>&nbsp;<span class="string" id="6683156">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="6683174">,</span>&nbsp;<span class="ident" id="6683176">hasError</span><span class="op" id="6683184">,</span>&nbsp;<span class="string" id="6683186">&#34;&#34;</span><span class="op" id="6683188">}</span><span class="op" id="6683189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6683192">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683244">{</span><span class="string" id="6683245">&#34;bug0e&#34;</span><span class="op" id="6683252">,</span>&nbsp;<span class="string" id="6683254">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="6683286">,</span>&nbsp;<span class="ident" id="6683288">hasError</span><span class="op" id="6683296">,</span>&nbsp;<span class="string" id="6683298">&#34;&#34;</span><span class="op" id="6683300">}</span><span class="op" id="6683301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6683304">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683370">{</span><span class="string" id="6683371">&#34;bug1a&#34;</span><span class="op" id="6683378">,</span>&nbsp;<span class="string" id="6683380">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="6683399">,</span>&nbsp;<span class="ident" id="6683401">hasError</span><span class="op" id="6683409">,</span>&nbsp;<span class="string" id="6683411">&#34;&#34;</span><span class="op" id="6683413">}</span><span class="op" id="6683414">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6683436">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683464">{</span><span class="string" id="6683465">&#34;bug1b&#34;</span><span class="op" id="6683472">,</span>&nbsp;<span class="string" id="6683474">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="6683493">,</span>&nbsp;<span class="ident" id="6683495">hasError</span><span class="op" id="6683503">,</span>&nbsp;<span class="string" id="6683505">&#34;&#34;</span><span class="op" id="6683507">}</span><span class="op" id="6683508">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6683530">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683570">{</span><span class="string" id="6683571">&#34;bug1c&#34;</span><span class="op" id="6683578">,</span>&nbsp;<span class="string" id="6683580">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6683600">,</span>&nbsp;<span class="ident" id="6683602">noError</span><span class="op" id="6683609">,</span>&nbsp;<span class="string" id="6683611">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="6683633">}</span><span class="op" id="6683634">,</span>&nbsp;<span class="comment" id="6683636">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="6683661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6683664">var</span>&nbsp;<span class="ident" id="6683668">builtins</span>&nbsp;<span class="op" id="6683677">=</span>&nbsp;<span class="keyword" id="6683679">map</span><span class="op" id="6683682">[</span><span class="builtintype" id="6683683">string</span><span class="op" id="6683689">]</span><span class="keyword" id="6683690">interface</span><span class="op" id="6683699">{</span><span class="op" id="6683700">}</span><span class="op" id="6683701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6683704">&#34;printf&#34;</span><span class="op" id="6683712">:</span>&nbsp;<span class="ident" id="6683714">fmt</span><span class="op" id="6683717">.</span><span class="ident" id="6683718">Sprintf</span><span class="op" id="6683725">,</span><br>
<span class="lineno"></span><span class="op" id="6683727">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="6683730">func</span>&nbsp;<span class="ident" id="6683735">testParse</span><span class="op" id="6683744">(</span><span class="ident" id="6683745">doCopy</span>&nbsp;<span class="builtintype" id="6683752">bool</span><span class="op" id="6683756">,</span>&nbsp;<span class="ident" id="6683758">t</span>&nbsp;<span class="op" id="6683760">*</span><span class="ident" id="6683761">testing</span><span class="op" id="6683768">.</span><span class="ident" id="6683769">T</span><span class="op" id="6683770">)</span>&nbsp;<span class="op" id="6683772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683775">textFormat</span>&nbsp;<span class="op" id="6683786">=</span>&nbsp;<span class="string" id="6683788">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683794">defer</span>&nbsp;<span class="keyword" id="6683800">func</span><span class="op" id="6683804">(</span><span class="op" id="6683805">)</span>&nbsp;<span class="op" id="6683807">{</span>&nbsp;<span class="ident" id="6683809">textFormat</span>&nbsp;<span class="op" id="6683820">=</span>&nbsp;<span class="string" id="6683822">&#34;%s&#34;</span>&nbsp;<span class="op" id="6683827">}</span><span class="op" id="6683828">(</span><span class="op" id="6683829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683832">for</span>&nbsp;<span class="ident" id="6683836">_</span><span class="op" id="6683837">,</span>&nbsp;<span class="ident" id="6683839">test</span>&nbsp;<span class="op" id="6683844">:=</span>&nbsp;<span class="keyword" id="6683847">range</span>&nbsp;<span class="ident" id="6683853">parseTests</span>&nbsp;<span class="op" id="6683864">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683868">tmpl</span><span class="op" id="6683872">,</span>&nbsp;<span class="ident" id="6683874">err</span>&nbsp;<span class="op" id="6683878">:=</span>&nbsp;<span class="ident" id="6683881">New</span><span class="op" id="6683884">(</span><span class="ident" id="6683885">test</span><span class="op" id="6683889">.</span><span class="ident" id="6683890">name</span><span class="op" id="6683894">)</span><span class="op" id="6683895">.</span><span class="ident" id="6683896">Parse</span><span class="op" id="6683901">(</span><span class="ident" id="6683902">test</span><span class="op" id="6683906">.</span><span class="ident" id="6683907">input</span><span class="op" id="6683912">,</span>&nbsp;<span class="string" id="6683914">&#34;&#34;</span><span class="op" id="6683916">,</span>&nbsp;<span class="string" id="6683918">&#34;&#34;</span><span class="op" id="6683920">,</span>&nbsp;<span class="builtinfunc" id="6683922">make</span><span class="op" id="6683926">(</span><span class="keyword" id="6683927">map</span><span class="op" id="6683930">[</span><span class="builtintype" id="6683931">string</span><span class="op" id="6683937">]</span><span class="op" id="6683938">*</span><span class="ident" id="6683939">Tree</span><span class="op" id="6683943">)</span><span class="op" id="6683944">,</span>&nbsp;<span class="ident" id="6683946">builtins</span><span class="op" id="6683954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683958">switch</span>&nbsp;<span class="op" id="6683965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683969">case</span>&nbsp;<span class="ident" id="6683974">err</span>&nbsp;<span class="op" id="6683978">==</span>&nbsp;<span class="builtintype" id="6683981">nil</span>&nbsp;<span class="op" id="6683985">&amp;&amp;</span>&nbsp;<span class="op" id="6683988">!</span><span class="ident" id="6683989">test</span><span class="op" id="6683993">.</span><span class="ident" id="6683994">ok</span><span class="op" id="6683996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684001">t</span><span class="op" id="6684002">.</span><span class="ident" id="6684003">Errorf</span><span class="op" id="6684009">(</span><span class="string" id="6684010">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6684040">,</span>&nbsp;<span class="ident" id="6684042">test</span><span class="op" id="6684046">.</span><span class="ident" id="6684047">name</span><span class="op" id="6684051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684056">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684067">case</span>&nbsp;<span class="ident" id="6684072">err</span>&nbsp;<span class="op" id="6684076">!=</span>&nbsp;<span class="builtintype" id="6684079">nil</span>&nbsp;<span class="op" id="6684083">&amp;&amp;</span>&nbsp;<span class="ident" id="6684086">test</span><span class="op" id="6684090">.</span><span class="ident" id="6684091">ok</span><span class="op" id="6684093">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684098">t</span><span class="op" id="6684099">.</span><span class="ident" id="6684100">Errorf</span><span class="op" id="6684106">(</span><span class="string" id="6684107">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6684133">,</span>&nbsp;<span class="ident" id="6684135">test</span><span class="op" id="6684139">.</span><span class="ident" id="6684140">name</span><span class="op" id="6684144">,</span>&nbsp;<span class="ident" id="6684146">err</span><span class="op" id="6684149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684154">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684165">case</span>&nbsp;<span class="ident" id="6684170">err</span>&nbsp;<span class="op" id="6684174">!=</span>&nbsp;<span class="builtintype" id="6684177">nil</span>&nbsp;<span class="op" id="6684181">&amp;&amp;</span>&nbsp;<span class="op" id="6684184">!</span><span class="ident" id="6684185">test</span><span class="op" id="6684189">.</span><span class="ident" id="6684190">ok</span><span class="op" id="6684192">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6684197">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684227">if</span>&nbsp;<span class="op" id="6684230">*</span><span class="ident" id="6684231">debug</span>&nbsp;<span class="op" id="6684237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684243">fmt</span><span class="op" id="6684246">.</span><span class="ident" id="6684247">Printf</span><span class="op" id="6684253">(</span><span class="string" id="6684254">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="6684270">,</span>&nbsp;<span class="ident" id="6684272">test</span><span class="op" id="6684276">.</span><span class="ident" id="6684277">name</span><span class="op" id="6684281">,</span>&nbsp;<span class="ident" id="6684283">test</span><span class="op" id="6684287">.</span><span class="ident" id="6684288">input</span><span class="op" id="6684293">,</span>&nbsp;<span class="ident" id="6684295">err</span><span class="op" id="6684298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684308">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684319">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684323">var</span>&nbsp;<span class="ident" id="6684327">result</span>&nbsp;<span class="builtintype" id="6684334">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684343">if</span>&nbsp;<span class="ident" id="6684346">doCopy</span>&nbsp;<span class="op" id="6684353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684358">result</span>&nbsp;<span class="op" id="6684365">=</span>&nbsp;<span class="ident" id="6684367">tmpl</span><span class="op" id="6684371">.</span><span class="ident" id="6684372">Root</span><span class="op" id="6684376">.</span><span class="ident" id="6684377">Copy</span><span class="op" id="6684381">(</span><span class="op" id="6684382">)</span><span class="op" id="6684383">.</span><span class="ident" id="6684384">String</span><span class="op" id="6684390">(</span><span class="op" id="6684391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684395">}</span>&nbsp;<span class="keyword" id="6684397">else</span>&nbsp;<span class="op" id="6684402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684407">result</span>&nbsp;<span class="op" id="6684414">=</span>&nbsp;<span class="ident" id="6684416">tmpl</span><span class="op" id="6684420">.</span><span class="ident" id="6684421">Root</span><span class="op" id="6684425">.</span><span class="ident" id="6684426">String</span><span class="op" id="6684432">(</span><span class="op" id="6684433">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684441">if</span>&nbsp;<span class="ident" id="6684444">result</span>&nbsp;<span class="op" id="6684451">!=</span>&nbsp;<span class="ident" id="6684454">test</span><span class="op" id="6684458">.</span><span class="ident" id="6684459">result</span>&nbsp;<span class="op" id="6684466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684471">t</span><span class="op" id="6684472">.</span><span class="ident" id="6684473">Errorf</span><span class="op" id="6684479">(</span><span class="string" id="6684480">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="6684516">,</span>&nbsp;<span class="ident" id="6684518">test</span><span class="op" id="6684522">.</span><span class="ident" id="6684523">name</span><span class="op" id="6684527">,</span>&nbsp;<span class="ident" id="6684529">test</span><span class="op" id="6684533">.</span><span class="ident" id="6684534">input</span><span class="op" id="6684539">,</span>&nbsp;<span class="ident" id="6684541">result</span><span class="op" id="6684547">,</span>&nbsp;<span class="ident" id="6684549">test</span><span class="op" id="6684553">.</span><span class="ident" id="6684554">result</span><span class="op" id="6684560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684567">}</span><br>
<span class="lineno">295</span><span class="op" id="6684569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6684572">func</span>&nbsp;<span class="ident" id="6684577">TestParse</span><span class="op" id="6684586">(</span><span class="ident" id="6684587">t</span>&nbsp;<span class="op" id="6684589">*</span><span class="ident" id="6684590">testing</span><span class="op" id="6684597">.</span><span class="ident" id="6684598">T</span><span class="op" id="6684599">)</span>&nbsp;<span class="op" id="6684601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684604">testParse</span><span class="op" id="6684613">(</span><span class="builtintype" id="6684614">false</span><span class="op" id="6684619">,</span>&nbsp;<span class="ident" id="6684621">t</span><span class="op" id="6684622">)</span><br>
<span class="lineno"></span><span class="op" id="6684624">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="6684627">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="6684676">func</span>&nbsp;<span class="ident" id="6684681">TestParseCopy</span><span class="op" id="6684694">(</span><span class="ident" id="6684695">t</span>&nbsp;<span class="op" id="6684697">*</span><span class="ident" id="6684698">testing</span><span class="op" id="6684705">.</span><span class="ident" id="6684706">T</span><span class="op" id="6684707">)</span>&nbsp;<span class="op" id="6684709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684712">testParse</span><span class="op" id="6684721">(</span><span class="builtintype" id="6684722">true</span><span class="op" id="6684726">,</span>&nbsp;<span class="ident" id="6684728">t</span><span class="op" id="6684729">)</span><br>
<span class="lineno"></span><span class="op" id="6684731">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6684734">type</span>&nbsp;<span class="ident" id="6684739">isEmptyTest</span>&nbsp;<span class="keyword" id="6684751">struct</span>&nbsp;<span class="op" id="6684758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684761">name</span>&nbsp;&nbsp;<span class="builtintype" id="6684767">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684775">input</span>&nbsp;<span class="builtintype" id="6684781">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684789">empty</span>&nbsp;<span class="builtintype" id="6684795">bool</span><br>
<span class="lineno">310</span><span class="op" id="6684800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6684803">var</span>&nbsp;<span class="ident" id="6684807">isEmptyTests</span>&nbsp;<span class="op" id="6684820">=</span>&nbsp;<span class="op" id="6684822">[</span><span class="op" id="6684823">]</span><span class="ident" id="6684824">isEmptyTest</span><span class="op" id="6684835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684838">{</span><span class="string" id="6684839">&#34;empty&#34;</span><span class="op" id="6684846">,</span>&nbsp;<span class="string" id="6684848">``</span><span class="op" id="6684850">,</span>&nbsp;<span class="builtintype" id="6684852">true</span><span class="op" id="6684856">}</span><span class="op" id="6684857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684860">{</span><span class="string" id="6684861">&#34;nonempty&#34;</span><span class="op" id="6684871">,</span>&nbsp;<span class="string" id="6684873">`hello`</span><span class="op" id="6684880">,</span>&nbsp;<span class="builtintype" id="6684882">false</span><span class="op" id="6684887">}</span><span class="op" id="6684888">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684891">{</span><span class="string" id="6684892">&#34;spaces&nbsp;only&#34;</span><span class="op" id="6684905">,</span>&nbsp;<span class="string" id="6684907">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="6684919">,</span>&nbsp;<span class="builtintype" id="6684921">true</span><span class="op" id="6684925">}</span><span class="op" id="6684926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684929">{</span><span class="string" id="6684930">&#34;definition&#34;</span><span class="op" id="6684942">,</span>&nbsp;<span class="string" id="6684944">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="6684976">,</span>&nbsp;<span class="builtintype" id="6684978">true</span><span class="op" id="6684982">}</span><span class="op" id="6684983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684986">{</span><span class="string" id="6684987">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="6685010">,</span>&nbsp;<span class="string" id="6685012">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="6685082">,</span>&nbsp;<span class="builtintype" id="6685084">true</span><span class="op" id="6685088">}</span><span class="op" id="6685089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685092">{</span><span class="string" id="6685093">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="6685115">,</span>&nbsp;<span class="string" id="6685117">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="6685189">,</span>&nbsp;<span class="builtintype" id="6685191">false</span><span class="op" id="6685196">}</span><span class="op" id="6685197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685200">{</span><span class="string" id="6685201">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="6685224">,</span>&nbsp;<span class="string" id="6685226">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="6685276">,</span>&nbsp;<span class="builtintype" id="6685278">false</span><span class="op" id="6685283">}</span><span class="op" id="6685284">,</span><br>
<span class="lineno">320</span><span class="op" id="6685286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6685289">func</span>&nbsp;<span class="ident" id="6685294">TestIsEmpty</span><span class="op" id="6685305">(</span><span class="ident" id="6685306">t</span>&nbsp;<span class="op" id="6685308">*</span><span class="ident" id="6685309">testing</span><span class="op" id="6685316">.</span><span class="ident" id="6685317">T</span><span class="op" id="6685318">)</span>&nbsp;<span class="op" id="6685320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685323">if</span>&nbsp;<span class="op" id="6685326">!</span><span class="ident" id="6685327">IsEmptyTree</span><span class="op" id="6685338">(</span><span class="builtintype" id="6685339">nil</span><span class="op" id="6685342">)</span>&nbsp;<span class="op" id="6685344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685348">t</span><span class="op" id="6685349">.</span><span class="ident" id="6685350">Errorf</span><span class="op" id="6685356">(</span><span class="string" id="6685357">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="6685380">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685386">for</span>&nbsp;<span class="ident" id="6685390">_</span><span class="op" id="6685391">,</span>&nbsp;<span class="ident" id="6685393">test</span>&nbsp;<span class="op" id="6685398">:=</span>&nbsp;<span class="keyword" id="6685401">range</span>&nbsp;<span class="ident" id="6685407">isEmptyTests</span>&nbsp;<span class="op" id="6685420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685424">tree</span><span class="op" id="6685428">,</span>&nbsp;<span class="ident" id="6685430">err</span>&nbsp;<span class="op" id="6685434">:=</span>&nbsp;<span class="ident" id="6685437">New</span><span class="op" id="6685440">(</span><span class="string" id="6685441">&#34;root&#34;</span><span class="op" id="6685447">)</span><span class="op" id="6685448">.</span><span class="ident" id="6685449">Parse</span><span class="op" id="6685454">(</span><span class="ident" id="6685455">test</span><span class="op" id="6685459">.</span><span class="ident" id="6685460">input</span><span class="op" id="6685465">,</span>&nbsp;<span class="string" id="6685467">&#34;&#34;</span><span class="op" id="6685469">,</span>&nbsp;<span class="string" id="6685471">&#34;&#34;</span><span class="op" id="6685473">,</span>&nbsp;<span class="builtinfunc" id="6685475">make</span><span class="op" id="6685479">(</span><span class="keyword" id="6685480">map</span><span class="op" id="6685483">[</span><span class="builtintype" id="6685484">string</span><span class="op" id="6685490">]</span><span class="op" id="6685491">*</span><span class="ident" id="6685492">Tree</span><span class="op" id="6685496">)</span><span class="op" id="6685497">,</span>&nbsp;<span class="builtintype" id="6685499">nil</span><span class="op" id="6685502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685506">if</span>&nbsp;<span class="ident" id="6685509">err</span>&nbsp;<span class="op" id="6685513">!=</span>&nbsp;<span class="builtintype" id="6685516">nil</span>&nbsp;<span class="op" id="6685520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685525">t</span><span class="op" id="6685526">.</span><span class="ident" id="6685527">Errorf</span><span class="op" id="6685533">(</span><span class="string" id="6685534">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6685560">,</span>&nbsp;<span class="ident" id="6685562">test</span><span class="op" id="6685566">.</span><span class="ident" id="6685567">name</span><span class="op" id="6685571">,</span>&nbsp;<span class="ident" id="6685573">err</span><span class="op" id="6685576">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685581">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685596">if</span>&nbsp;<span class="ident" id="6685599">empty</span>&nbsp;<span class="op" id="6685605">:=</span>&nbsp;<span class="ident" id="6685608">IsEmptyTree</span><span class="op" id="6685619">(</span><span class="ident" id="6685620">tree</span><span class="op" id="6685624">.</span><span class="ident" id="6685625">Root</span><span class="op" id="6685629">)</span><span class="op" id="6685630">;</span>&nbsp;<span class="ident" id="6685632">empty</span>&nbsp;<span class="op" id="6685638">!=</span>&nbsp;<span class="ident" id="6685641">test</span><span class="op" id="6685645">.</span><span class="ident" id="6685646">empty</span>&nbsp;<span class="op" id="6685652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685657">t</span><span class="op" id="6685658">.</span><span class="ident" id="6685659">Errorf</span><span class="op" id="6685665">(</span><span class="string" id="6685666">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="6685690">,</span>&nbsp;<span class="ident" id="6685692">test</span><span class="op" id="6685696">.</span><span class="ident" id="6685697">name</span><span class="op" id="6685701">,</span>&nbsp;<span class="ident" id="6685703">test</span><span class="op" id="6685707">.</span><span class="ident" id="6685708">empty</span><span class="op" id="6685713">,</span>&nbsp;<span class="ident" id="6685715">empty</span><span class="op" id="6685720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685724">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685727">}</span><br>
<span class="lineno"></span><span class="op" id="6685729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6685732">func</span>&nbsp;<span class="ident" id="6685737">TestErrorContextWithTreeCopy</span><span class="op" id="6685765">(</span><span class="ident" id="6685766">t</span>&nbsp;<span class="op" id="6685768">*</span><span class="ident" id="6685769">testing</span><span class="op" id="6685776">.</span><span class="ident" id="6685777">T</span><span class="op" id="6685778">)</span>&nbsp;<span class="op" id="6685780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685783">tree</span><span class="op" id="6685787">,</span>&nbsp;<span class="ident" id="6685789">err</span>&nbsp;<span class="op" id="6685793">:=</span>&nbsp;<span class="ident" id="6685796">New</span><span class="op" id="6685799">(</span><span class="string" id="6685800">&#34;root&#34;</span><span class="op" id="6685806">)</span><span class="op" id="6685807">.</span><span class="ident" id="6685808">Parse</span><span class="op" id="6685813">(</span><span class="string" id="6685814">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="6685834">,</span>&nbsp;<span class="string" id="6685836">&#34;&#34;</span><span class="op" id="6685838">,</span>&nbsp;<span class="string" id="6685840">&#34;&#34;</span><span class="op" id="6685842">,</span>&nbsp;<span class="builtinfunc" id="6685844">make</span><span class="op" id="6685848">(</span><span class="keyword" id="6685849">map</span><span class="op" id="6685852">[</span><span class="builtintype" id="6685853">string</span><span class="op" id="6685859">]</span><span class="op" id="6685860">*</span><span class="ident" id="6685861">Tree</span><span class="op" id="6685865">)</span><span class="op" id="6685866">,</span>&nbsp;<span class="builtintype" id="6685868">nil</span><span class="op" id="6685871">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685874">if</span>&nbsp;<span class="ident" id="6685877">err</span>&nbsp;<span class="op" id="6685881">!=</span>&nbsp;<span class="builtintype" id="6685884">nil</span>&nbsp;<span class="op" id="6685888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685892">t</span><span class="op" id="6685893">.</span><span class="ident" id="6685894">Fatalf</span><span class="op" id="6685900">(</span><span class="string" id="6685901">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="6685936">,</span>&nbsp;<span class="ident" id="6685938">err</span><span class="op" id="6685941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685947">treeCopy</span>&nbsp;<span class="op" id="6685956">:=</span>&nbsp;<span class="ident" id="6685959">tree</span><span class="op" id="6685963">.</span><span class="ident" id="6685964">Copy</span><span class="op" id="6685968">(</span><span class="op" id="6685969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685972">wantLocation</span><span class="op" id="6685984">,</span>&nbsp;<span class="ident" id="6685986">wantContext</span>&nbsp;<span class="op" id="6685998">:=</span>&nbsp;<span class="ident" id="6686001">tree</span><span class="op" id="6686005">.</span><span class="ident" id="6686006">ErrorContext</span><span class="op" id="6686018">(</span><span class="ident" id="6686019">tree</span><span class="op" id="6686023">.</span><span class="ident" id="6686024">Root</span><span class="op" id="6686028">.</span><span class="ident" id="6686029">Nodes</span><span class="op" id="6686034">[</span><span class="num" id="6686035">0</span><span class="op" id="6686036">]</span><span class="op" id="6686037">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686040">gotLocation</span><span class="op" id="6686051">,</span>&nbsp;<span class="ident" id="6686053">gotContext</span>&nbsp;<span class="op" id="6686064">:=</span>&nbsp;<span class="ident" id="6686067">treeCopy</span><span class="op" id="6686075">.</span><span class="ident" id="6686076">ErrorContext</span><span class="op" id="6686088">(</span><span class="ident" id="6686089">treeCopy</span><span class="op" id="6686097">.</span><span class="ident" id="6686098">Root</span><span class="op" id="6686102">.</span><span class="ident" id="6686103">Nodes</span><span class="op" id="6686108">[</span><span class="num" id="6686109">0</span><span class="op" id="6686110">]</span><span class="op" id="6686111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686114">if</span>&nbsp;<span class="ident" id="6686117">wantLocation</span>&nbsp;<span class="op" id="6686130">!=</span>&nbsp;<span class="ident" id="6686133">gotLocation</span>&nbsp;<span class="op" id="6686145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686149">t</span><span class="op" id="6686150">.</span><span class="ident" id="6686151">Errorf</span><span class="op" id="6686157">(</span><span class="string" id="6686158">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6686195">,</span>&nbsp;<span class="ident" id="6686197">wantLocation</span><span class="op" id="6686209">,</span>&nbsp;<span class="ident" id="6686211">gotLocation</span><span class="op" id="6686222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686228">if</span>&nbsp;<span class="ident" id="6686231">wantContext</span>&nbsp;<span class="op" id="6686243">!=</span>&nbsp;<span class="ident" id="6686246">gotContext</span>&nbsp;<span class="op" id="6686257">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686261">t</span><span class="op" id="6686262">.</span><span class="ident" id="6686263">Errorf</span><span class="op" id="6686269">(</span><span class="string" id="6686270">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6686307">,</span>&nbsp;<span class="ident" id="6686309">wantContext</span><span class="op" id="6686320">,</span>&nbsp;<span class="ident" id="6686322">gotContext</span><span class="op" id="6686332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686335">}</span><br>
<span class="lineno"></span><span class="op" id="6686337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6686340">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="6686423">var</span>&nbsp;<span class="ident" id="6686427">errorTests</span>&nbsp;<span class="op" id="6686438">=</span>&nbsp;<span class="op" id="6686440">[</span><span class="op" id="6686441">]</span><span class="ident" id="6686442">parseTest</span><span class="op" id="6686451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6686454">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686491">{</span><span class="string" id="6686492">&#34;unclosed1&#34;</span><span class="op" id="6686503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686507">&#34;line1\n{{&#34;</span><span class="op" id="6686518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686522">hasError</span><span class="op" id="6686530">,</span>&nbsp;<span class="string" id="6686532">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6686584">}</span><span class="op" id="6686585">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686588">{</span><span class="string" id="6686589">&#34;unclosed2&#34;</span><span class="op" id="6686600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686604">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="6686636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686640">hasError</span><span class="op" id="6686648">,</span>&nbsp;<span class="string" id="6686650">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="6686702">}</span><span class="op" id="6686703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6686706">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686727">{</span><span class="string" id="6686728">&#34;function&#34;</span><span class="op" id="6686738">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686742">&#34;{{foo}}&#34;</span><span class="op" id="6686751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686755">hasError</span><span class="op" id="6686763">,</span>&nbsp;<span class="string" id="6686765">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="6686793">}</span><span class="op" id="6686794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686797">{</span><span class="string" id="6686798">&#34;comment&#34;</span><span class="op" id="6686807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686811">&#34;{{/*}}&#34;</span><span class="op" id="6686819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686823">hasError</span><span class="op" id="6686831">,</span>&nbsp;<span class="string" id="6686833">`unclosed&nbsp;comment`</span><span class="op" id="6686851">}</span><span class="op" id="6686852">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686855">{</span><span class="string" id="6686856">&#34;lparen&#34;</span><span class="op" id="6686864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686868">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="6686883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686887">hasError</span><span class="op" id="6686895">,</span>&nbsp;<span class="string" id="6686897">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="6686918">}</span><span class="op" id="6686919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686922">{</span><span class="string" id="6686923">&#34;rparen&#34;</span><span class="op" id="6686931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686935">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="6686950">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686954">hasError</span><span class="op" id="6686962">,</span>&nbsp;<span class="string" id="6686964">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="6686980">}</span><span class="op" id="6686981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686984">{</span><span class="string" id="6686985">&#34;space&#34;</span><span class="op" id="6686992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6686996">&#34;{{`x`3}}&#34;</span><span class="op" id="6687006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687010">hasError</span><span class="op" id="6687018">,</span>&nbsp;<span class="string" id="6687020">`missing&nbsp;space?`</span><span class="op" id="6687036">}</span><span class="op" id="6687037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687040">{</span><span class="string" id="6687041">&#34;idchar&#34;</span><span class="op" id="6687049">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687053">&#34;{{a#}}&#34;</span><span class="op" id="6687061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687065">hasError</span><span class="op" id="6687073">,</span>&nbsp;<span class="string" id="6687075">`&#39;#&#39;`</span><span class="op" id="6687080">}</span><span class="op" id="6687081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687084">{</span><span class="string" id="6687085">&#34;charconst&#34;</span><span class="op" id="6687096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687100">&#34;{{&#39;a}}&#34;</span><span class="op" id="6687108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687112">hasError</span><span class="op" id="6687120">,</span>&nbsp;<span class="string" id="6687122">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="6687155">}</span><span class="op" id="6687156">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687159">{</span><span class="string" id="6687160">&#34;stringconst&#34;</span><span class="op" id="6687173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687177">`{{&#34;a}}`</span><span class="op" id="6687185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687189">hasError</span><span class="op" id="6687197">,</span>&nbsp;<span class="string" id="6687199">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="6687227">}</span><span class="op" id="6687228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687231">{</span><span class="string" id="6687232">&#34;rawstringconst&#34;</span><span class="op" id="6687248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687252">&#34;{{`a}}&#34;</span><span class="op" id="6687260">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687264">hasError</span><span class="op" id="6687272">,</span>&nbsp;<span class="string" id="6687274">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="6687306">}</span><span class="op" id="6687307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687310">{</span><span class="string" id="6687311">&#34;number&#34;</span><span class="op" id="6687319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687323">&#34;{{0xi}}&#34;</span><span class="op" id="6687332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687336">hasError</span><span class="op" id="6687344">,</span>&nbsp;<span class="string" id="6687346">`number&nbsp;syntax`</span><span class="op" id="6687361">}</span><span class="op" id="6687362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687365">{</span><span class="string" id="6687366">&#34;multidefine&#34;</span><span class="op" id="6687379">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687383">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="6687429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687433">hasError</span><span class="op" id="6687441">,</span>&nbsp;<span class="string" id="6687443">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="6687476">}</span><span class="op" id="6687477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687480">{</span><span class="string" id="6687481">&#34;eof&#34;</span><span class="op" id="6687486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687490">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="6687504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687508">hasError</span><span class="op" id="6687516">,</span>&nbsp;<span class="string" id="6687518">`unexpected&nbsp;EOF`</span><span class="op" id="6687534">}</span><span class="op" id="6687535">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687538">{</span><span class="string" id="6687539">&#34;variable&#34;</span><span class="op" id="6687549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6687553">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687652">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="6687700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687704">hasError</span><span class="op" id="6687712">,</span>&nbsp;<span class="string" id="6687714">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="6687731">}</span><span class="op" id="6687732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687735">{</span><span class="string" id="6687736">&#34;multidecl&#34;</span><span class="op" id="6687747">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687751">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="6687771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687775">hasError</span><span class="op" id="6687783">,</span>&nbsp;<span class="string" id="6687785">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="6687808">}</span><span class="op" id="6687809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687812">{</span><span class="string" id="6687813">&#34;undefvar&#34;</span><span class="op" id="6687823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6687827">&#34;{{$a}}&#34;</span><span class="op" id="6687835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687839">hasError</span><span class="op" id="6687847">,</span>&nbsp;<span class="string" id="6687849">`undefined&nbsp;variable`</span><span class="op" id="6687869">}</span><span class="op" id="6687870">,</span><br>
<span class="lineno">410</span><span class="op" id="6687872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6687875">func</span>&nbsp;<span class="ident" id="6687880">TestErrors</span><span class="op" id="6687890">(</span><span class="ident" id="6687891">t</span>&nbsp;<span class="op" id="6687893">*</span><span class="ident" id="6687894">testing</span><span class="op" id="6687901">.</span><span class="ident" id="6687902">T</span><span class="op" id="6687903">)</span>&nbsp;<span class="op" id="6687905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687908">for</span>&nbsp;<span class="ident" id="6687912">_</span><span class="op" id="6687913">,</span>&nbsp;<span class="ident" id="6687915">test</span>&nbsp;<span class="op" id="6687920">:=</span>&nbsp;<span class="keyword" id="6687923">range</span>&nbsp;<span class="ident" id="6687929">errorTests</span>&nbsp;<span class="op" id="6687940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687944">_</span><span class="op" id="6687945">,</span>&nbsp;<span class="ident" id="6687947">err</span>&nbsp;<span class="op" id="6687951">:=</span>&nbsp;<span class="ident" id="6687954">New</span><span class="op" id="6687957">(</span><span class="ident" id="6687958">test</span><span class="op" id="6687962">.</span><span class="ident" id="6687963">name</span><span class="op" id="6687967">)</span><span class="op" id="6687968">.</span><span class="ident" id="6687969">Parse</span><span class="op" id="6687974">(</span><span class="ident" id="6687975">test</span><span class="op" id="6687979">.</span><span class="ident" id="6687980">input</span><span class="op" id="6687985">,</span>&nbsp;<span class="string" id="6687987">&#34;&#34;</span><span class="op" id="6687989">,</span>&nbsp;<span class="string" id="6687991">&#34;&#34;</span><span class="op" id="6687993">,</span>&nbsp;<span class="builtinfunc" id="6687995">make</span><span class="op" id="6687999">(</span><span class="keyword" id="6688000">map</span><span class="op" id="6688003">[</span><span class="builtintype" id="6688004">string</span><span class="op" id="6688010">]</span><span class="op" id="6688011">*</span><span class="ident" id="6688012">Tree</span><span class="op" id="6688016">)</span><span class="op" id="6688017">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688021">if</span>&nbsp;<span class="ident" id="6688024">err</span>&nbsp;<span class="op" id="6688028">==</span>&nbsp;<span class="builtintype" id="6688031">nil</span>&nbsp;<span class="op" id="6688035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688040">t</span><span class="op" id="6688041">.</span><span class="ident" id="6688042">Errorf</span><span class="op" id="6688048">(</span><span class="string" id="6688049">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="6688069">,</span>&nbsp;<span class="ident" id="6688071">test</span><span class="op" id="6688075">.</span><span class="ident" id="6688076">name</span><span class="op" id="6688080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688085">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688100">if</span>&nbsp;<span class="op" id="6688103">!</span><span class="ident" id="6688104">strings</span><span class="op" id="6688111">.</span><span class="ident" id="6688112">Contains</span><span class="op" id="6688120">(</span><span class="ident" id="6688121">err</span><span class="op" id="6688124">.</span><span class="ident" id="6688125">Error</span><span class="op" id="6688130">(</span><span class="op" id="6688131">)</span><span class="op" id="6688132">,</span>&nbsp;<span class="ident" id="6688134">test</span><span class="op" id="6688138">.</span><span class="ident" id="6688139">result</span><span class="op" id="6688145">)</span>&nbsp;<span class="op" id="6688147">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688152">t</span><span class="op" id="6688153">.</span><span class="ident" id="6688154">Errorf</span><span class="op" id="6688160">(</span><span class="string" id="6688161">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="6688195">,</span>&nbsp;<span class="ident" id="6688197">test</span><span class="op" id="6688201">.</span><span class="ident" id="6688202">name</span><span class="op" id="6688206">,</span>&nbsp;<span class="ident" id="6688208">err</span><span class="op" id="6688211">,</span>&nbsp;<span class="ident" id="6688213">test</span><span class="op" id="6688217">.</span><span class="ident" id="6688218">result</span><span class="op" id="6688224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688231">}</span><br>
<span class="lineno"></span><span class="op" id="6688233">}</span>
</div>
</body>
</html>
