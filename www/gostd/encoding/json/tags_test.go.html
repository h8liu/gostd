<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html" class="current">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6576731">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6576787">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6576841">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6576892">package</span>&nbsp;<span class="ident" id="6576900">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6576906">import</span>&nbsp;<span class="op" id="6576913">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6576916">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6576926">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6576929">func</span>&nbsp;<span class="ident" id="6576934">TestTagParsing</span><span class="op" id="6576948">(</span><span class="ident" id="6576949">t</span>&nbsp;<span class="op" id="6576951">*</span><span class="ident" id="6576952">testing</span><span class="op" id="6576959">.</span><span class="ident" id="6576960">T</span><span class="op" id="6576961">)</span>&nbsp;<span class="op" id="6576963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576966">name</span><span class="op" id="6576970">,</span>&nbsp;<span class="ident" id="6576972">opts</span>&nbsp;<span class="op" id="6576977">:=</span>&nbsp;<span class="ident" id="6576980">parseTag</span><span class="op" id="6576988">(</span><span class="string" id="6576989">&#34;field,foobar,foo&#34;</span><span class="op" id="6577007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577010">if</span>&nbsp;<span class="ident" id="6577013">name</span>&nbsp;<span class="op" id="6577018">!=</span>&nbsp;<span class="string" id="6577021">&#34;field&#34;</span>&nbsp;<span class="op" id="6577029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577033">t</span><span class="op" id="6577034">.</span><span class="ident" id="6577035">Fatalf</span><span class="op" id="6577041">(</span><span class="string" id="6577042">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="6577065">,</span>&nbsp;<span class="ident" id="6577067">name</span><span class="op" id="6577071">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577077">for</span>&nbsp;<span class="ident" id="6577081">_</span><span class="op" id="6577082">,</span>&nbsp;<span class="ident" id="6577084">tt</span>&nbsp;<span class="op" id="6577087">:=</span>&nbsp;<span class="keyword" id="6577090">range</span>&nbsp;<span class="op" id="6577096">[</span><span class="op" id="6577097">]</span><span class="keyword" id="6577098">struct</span>&nbsp;<span class="op" id="6577105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577109">opt</span>&nbsp;&nbsp;<span class="builtintype" id="6577114">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577123">want</span>&nbsp;<span class="builtintype" id="6577128">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577134">}</span><span class="op" id="6577135">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577139">{</span><span class="string" id="6577140">&#34;foobar&#34;</span><span class="op" id="6577148">,</span>&nbsp;<span class="builtintype" id="6577150">true</span><span class="op" id="6577154">}</span><span class="op" id="6577155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577159">{</span><span class="string" id="6577160">&#34;foo&#34;</span><span class="op" id="6577165">,</span>&nbsp;<span class="builtintype" id="6577167">true</span><span class="op" id="6577171">}</span><span class="op" id="6577172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577176">{</span><span class="string" id="6577177">&#34;bar&#34;</span><span class="op" id="6577182">,</span>&nbsp;<span class="builtintype" id="6577184">false</span><span class="op" id="6577189">}</span><span class="op" id="6577190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577193">}</span>&nbsp;<span class="op" id="6577195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577199">if</span>&nbsp;<span class="ident" id="6577202">opts</span><span class="op" id="6577206">.</span><span class="ident" id="6577207">Contains</span><span class="op" id="6577215">(</span><span class="ident" id="6577216">tt</span><span class="op" id="6577218">.</span><span class="ident" id="6577219">opt</span><span class="op" id="6577222">)</span>&nbsp;<span class="op" id="6577224">!=</span>&nbsp;<span class="ident" id="6577227">tt</span><span class="op" id="6577229">.</span><span class="ident" id="6577230">want</span>&nbsp;<span class="op" id="6577235">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577240">t</span><span class="op" id="6577241">.</span><span class="ident" id="6577242">Errorf</span><span class="op" id="6577248">(</span><span class="string" id="6577249">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6577268">,</span>&nbsp;<span class="ident" id="6577270">tt</span><span class="op" id="6577272">.</span><span class="ident" id="6577273">opt</span><span class="op" id="6577276">,</span>&nbsp;<span class="op" id="6577278">!</span><span class="ident" id="6577279">tt</span><span class="op" id="6577281">.</span><span class="ident" id="6577282">want</span><span class="op" id="6577286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577293">}</span><br>
<span class="lineno"></span><span class="op" id="6577295">}</span>
</div>
</body>
</html>
