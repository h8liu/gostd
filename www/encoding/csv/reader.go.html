<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4890808">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4890863">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4890917">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4890968">//&nbsp;Package&nbsp;csv&nbsp;reads&nbsp;and&nbsp;writes&nbsp;comma-separated&nbsp;values&nbsp;(CSV)&nbsp;files.</span><br>
<span class="lineno"></span><span class="comment" id="4891036">//</span><br>
<span class="lineno"></span><span class="comment" id="4891039">//&nbsp;A&nbsp;csv&nbsp;file&nbsp;contains&nbsp;zero&nbsp;or&nbsp;more&nbsp;records&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;fields&nbsp;per&nbsp;record.</span><br>
<span class="lineno"></span><span class="comment" id="4891117">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;separated&nbsp;by&nbsp;the&nbsp;newline&nbsp;character.&nbsp;The&nbsp;final&nbsp;record&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="4891192">//&nbsp;optionally&nbsp;be&nbsp;followed&nbsp;by&nbsp;a&nbsp;newline&nbsp;character.</span><br>
<span class="lineno">10</span><span class="comment" id="4891242">//</span><br>
<span class="lineno"></span><span class="comment" id="4891245">//&nbsp;&nbsp;&nbsp;&nbspfield1,field2,field3</span><br>
<span class="lineno"></span><span class="comment" id="4891269">//</span><br>
<span class="lineno"></span><span class="comment" id="4891272">//&nbsp;White&nbsp;space&nbsp;is&nbsp;considered&nbsp;part&nbsp;of&nbsp;a&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="4891318">//</span><br>
<span class="lineno">15</span><span class="comment" id="4891321">//&nbsp;Carriage&nbsp;returns&nbsp;before&nbsp;newline&nbsp;characters&nbsp;are&nbsp;silently&nbsp;removed.</span><br>
<span class="lineno"></span><span class="comment" id="4891389">//</span><br>
<span class="lineno"></span><span class="comment" id="4891392">//&nbsp;Blank&nbsp;lines&nbsp;are&nbsp;ignored.&nbsp;&nbsp;A&nbsp;line&nbsp;with&nbsp;only&nbsp;whitespace&nbsp;characters&nbsp;(excluding</span><br>
<span class="lineno"></span><span class="comment" id="4891471">//&nbsp;the&nbsp;ending&nbsp;newline&nbsp;character)&nbsp;is&nbsp;not&nbsp;considered&nbsp;a&nbsp;blank&nbsp;line.</span><br>
<span class="lineno"></span><span class="comment" id="4891536">//</span><br>
<span class="lineno">20</span><span class="comment" id="4891539">//&nbsp;Fields&nbsp;which&nbsp;start&nbsp;and&nbsp;stop&nbsp;with&nbsp;the&nbsp;quote&nbsp;character&nbsp;&#34;&nbsp;are&nbsp;called</span><br>
<span class="lineno"></span><span class="comment" id="4891608">//&nbsp;quoted-fields.&nbsp;&nbsp;The&nbsp;beginning&nbsp;and&nbsp;ending&nbsp;quote&nbsp;are&nbsp;not&nbsp;part&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4891678">//&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="4891688">//</span><br>
<span class="lineno"></span><span class="comment" id="4891691">//&nbsp;The&nbsp;source:</span><br>
<span class="lineno">25</span><span class="comment" id="4891706">//</span><br>
<span class="lineno"></span><span class="comment" id="4891709">//&nbsp;&nbsp;&nbsp;&nbspnormal&nbsp;string,&#34;quoted-field&#34;</span><br>
<span class="lineno"></span><span class="comment" id="4891741">//</span><br>
<span class="lineno"></span><span class="comment" id="4891744">//&nbsp;results&nbsp;in&nbsp;the&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="4891769">//</span><br>
<span class="lineno">30</span><span class="comment" id="4891772">//&nbsp;&nbsp;&nbsp;&nbsp{`normal&nbsp;string`,&nbsp;`quoted-field`}</span><br>
<span class="lineno"></span><span class="comment" id="4891809">//</span><br>
<span class="lineno"></span><span class="comment" id="4891812">//&nbsp;Within&nbsp;a&nbsp;quoted-field&nbsp;a&nbsp;quote&nbsp;character&nbsp;followed&nbsp;by&nbsp;a&nbsp;second&nbsp;quote</span><br>
<span class="lineno"></span><span class="comment" id="4891882">//&nbsp;character&nbsp;is&nbsp;considered&nbsp;a&nbsp;single&nbsp;quote.</span><br>
<span class="lineno"></span><span class="comment" id="4891925">//</span><br>
<span class="lineno">35</span><span class="comment" id="4891928">//&nbsp;&nbsp;&nbsp;&nbsp&#34;the&nbsp;&#34;&#34;word&#34;&#34;&nbsp;is&nbsp;true&#34;,&#34;a&nbsp;&#34;&#34;quoted-field&#34;&#34;&#34;</span><br>
<span class="lineno"></span><span class="comment" id="4891975">//</span><br>
<span class="lineno"></span><span class="comment" id="4891978">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4891992">//</span><br>
<span class="lineno"></span><span class="comment" id="4891995">//&nbsp;&nbsp;&nbsp;&nbsp{`the&nbsp;&#34;word&#34;&nbsp;is&nbsp;true`,&nbsp;`a&nbsp;&#34;quoted-field&#34;`}</span><br>
<span class="lineno">40</span><span class="comment" id="4892041">//</span><br>
<span class="lineno"></span><span class="comment" id="4892044">//&nbsp;Newlines&nbsp;and&nbsp;commas&nbsp;may&nbsp;be&nbsp;included&nbsp;in&nbsp;a&nbsp;quoted-field</span><br>
<span class="lineno"></span><span class="comment" id="4892101">//</span><br>
<span class="lineno"></span><span class="comment" id="4892104">//&nbsp;&nbsp;&nbsp;&nbsp&#34;Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="4892119">//&nbsp;&nbsp;&nbsp;&nbspfield&#34;,&#34;comma&nbsp;is&nbsp;,&#34;</span><br>
<span class="lineno">45</span><span class="comment" id="4892142">//</span><br>
<span class="lineno"></span><span class="comment" id="4892145">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4892159">//</span><br>
<span class="lineno"></span><span class="comment" id="4892162">//&nbsp;&nbsp;&nbsp;&nbsp{`Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="4892178">//&nbsp;&nbsp;&nbsp;&nbspfield`,&nbsp;`comma&nbsp;is&nbsp;,`}</span><br>
<span class="lineno">50</span><span class="keyword" id="4892203">package</span>&nbsp;<span class="ident" id="4892211">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4892216">import</span>&nbsp;<span class="op" id="4892223">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4892226">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4892235">&#34;bytes&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4892244">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4892254">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4892261">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4892267">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="4892277">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4892280">//&nbsp;A&nbsp;ParseError&nbsp;is&nbsp;returned&nbsp;for&nbsp;parsing&nbsp;errors.</span><br>
<span class="lineno"></span><span class="comment" id="4892328">//&nbsp;The&nbsp;first&nbsp;line&nbsp;is&nbsp;1.&nbsp;&nbsp;The&nbsp;first&nbsp;column&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4892376">type</span>&nbsp;<span class="ident" id="4892381">ParseError</span>&nbsp;<span class="keyword" id="4892392">struct</span>&nbsp;<span class="op" id="4892399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4892402">Line</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4892409">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4892415">//&nbsp;Line&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4892449">Column</span>&nbsp;<span class="builtintype" id="4892456">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4892462">//&nbsp;Column&nbsp;(rune&nbsp;index)&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4892511">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4892518">error</span>&nbsp;<span class="comment" id="4892524">//&nbsp;The&nbsp;actual&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="4892544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4892547">func</span>&nbsp;<span class="op" id="4892552">(</span><span class="ident" id="4892553">e</span>&nbsp;<span class="op" id="4892555">*</span><span class="ident" id="4892556">ParseError</span><span class="op" id="4892566">)</span>&nbsp;<span class="ident" id="4892568">Error</span><span class="op" id="4892573">(</span><span class="op" id="4892574">)</span>&nbsp;<span class="builtintype" id="4892576">string</span>&nbsp;<span class="op" id="4892583">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4892586">return</span>&nbsp;<span class="ident" id="4892593">fmt</span><span class="op" id="4892596">.</span><span class="ident" id="4892597">Sprintf</span><span class="op" id="4892604">(</span><span class="string" id="4892605">&#34;line&nbsp;%d,&nbsp;column&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="4892629">,</span>&nbsp;<span class="ident" id="4892631">e</span><span class="op" id="4892632">.</span><span class="ident" id="4892633">Line</span><span class="op" id="4892637">,</span>&nbsp;<span class="ident" id="4892639">e</span><span class="op" id="4892640">.</span><span class="ident" id="4892641">Column</span><span class="op" id="4892647">,</span>&nbsp;<span class="ident" id="4892649">e</span><span class="op" id="4892650">.</span><span class="ident" id="4892651">Err</span><span class="op" id="4892654">)</span><br>
<span class="lineno"></span><span class="op" id="4892656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4892659">//&nbsp;These&nbsp;are&nbsp;the&nbsp;errors&nbsp;that&nbsp;can&nbsp;be&nbsp;returned&nbsp;in&nbsp;ParseError.Error</span><br>
<span class="lineno"></span><span class="keyword" id="4892724">var</span>&nbsp;<span class="op" id="4892728">(</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4892731">ErrTrailingComma</span>&nbsp;<span class="op" id="4892748">=</span>&nbsp;<span class="ident" id="4892750">errors</span><span class="op" id="4892756">.</span><span class="ident" id="4892757">New</span><span class="op" id="4892760">(</span><span class="string" id="4892761">&#34;extra&nbsp;delimiter&nbsp;at&nbsp;end&nbsp;of&nbsp;line&#34;</span><span class="op" id="4892793">)</span>&nbsp;<span class="comment" id="4892795">//&nbsp;no&nbsp;longer&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4892814">ErrBareQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4892831">=</span>&nbsp;<span class="ident" id="4892833">errors</span><span class="op" id="4892839">.</span><span class="ident" id="4892840">New</span><span class="op" id="4892843">(</span><span class="string" id="4892844">&#34;bare&nbsp;\&#34;&nbsp;in&nbsp;non-quoted-field&#34;</span><span class="op" id="4892873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4892876">ErrQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4892893">=</span>&nbsp;<span class="ident" id="4892895">errors</span><span class="op" id="4892901">.</span><span class="ident" id="4892902">New</span><span class="op" id="4892905">(</span><span class="string" id="4892906">&#34;extraneous&nbsp;\&#34;&nbsp;in&nbsp;field&#34;</span><span class="op" id="4892930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4892933">ErrFieldCount</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4892950">=</span>&nbsp;<span class="ident" id="4892952">errors</span><span class="op" id="4892958">.</span><span class="ident" id="4892959">New</span><span class="op" id="4892962">(</span><span class="string" id="4892963">&#34;wrong&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;line&#34;</span><span class="op" id="4892995">)</span><br>
<span class="lineno"></span><span class="op" id="4892997">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4893000">//&nbsp;A&nbsp;Reader&nbsp;reads&nbsp;records&nbsp;from&nbsp;a&nbsp;CSV-encoded&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="4893051">//</span><br>
<span class="lineno"></span><span class="comment" id="4893054">//&nbsp;As&nbsp;returned&nbsp;by&nbsp;NewReader,&nbsp;a&nbsp;Reader&nbsp;expects&nbsp;input&nbsp;conforming&nbsp;to&nbsp;RFC&nbsp;4180.</span><br>
<span class="lineno"></span><span class="comment" id="4893130">//&nbsp;The&nbsp;exported&nbsp;fields&nbsp;can&nbsp;be&nbsp;changed&nbsp;to&nbsp;customize&nbsp;the&nbsp;details&nbsp;before&nbsp;the</span><br>
<span class="lineno">85</span><span class="comment" id="4893204">//&nbsp;first&nbsp;call&nbsp;to&nbsp;Read&nbsp;or&nbsp;ReadAll.</span><br>
<span class="lineno"></span><span class="comment" id="4893238">//</span><br>
<span class="lineno"></span><span class="comment" id="4893241">//&nbsp;Comma&nbsp;is&nbsp;the&nbsp;field&nbsp;delimiter.&nbsp;&nbsp;It&nbsp;defaults&nbsp;to&nbsp;&#39;,&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="4893295">//</span><br>
<span class="lineno"></span><span class="comment" id="4893298">//&nbsp;Comment,&nbsp;if&nbsp;not&nbsp;0,&nbsp;is&nbsp;the&nbsp;comment&nbsp;character.&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="4893371">//&nbsp;Comment&nbsp;character&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="4893405">//</span><br>
<span class="lineno"></span><span class="comment" id="4893408">//&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;positive,&nbsp;Read&nbsp;requires&nbsp;each&nbsp;record&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4893472">//&nbsp;have&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;fields.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;0,&nbsp;Read&nbsp;sets&nbsp;it&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4893550">//&nbsp;the&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;the&nbsp;first&nbsp;record,&nbsp;so&nbsp;that&nbsp;future&nbsp;records&nbsp;must</span><br>
<span class="lineno">95</span><span class="comment" id="4893623">//&nbsp;have&nbsp;the&nbsp;same&nbsp;field&nbsp;count.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;negative,&nbsp;no&nbsp;check&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4893698">//&nbsp;made&nbsp;and&nbsp;records&nbsp;may&nbsp;have&nbsp;a&nbsp;variable&nbsp;number&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="4893756">//</span><br>
<span class="lineno"></span><span class="comment" id="4893759">//&nbsp;If&nbsp;LazyQuotes&nbsp;is&nbsp;true,&nbsp;a&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;an&nbsp;unquoted&nbsp;field&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4893831">//&nbsp;non-doubled&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;a&nbsp;quoted&nbsp;field.</span><br>
<span class="lineno">100</span><span class="comment" id="4893882">//</span><br>
<span class="lineno"></span><span class="comment" id="4893885">//&nbsp;If&nbsp;TrimLeadingSpace&nbsp;is&nbsp;true,&nbsp;leading&nbsp;white&nbsp;space&nbsp;in&nbsp;a&nbsp;field&nbsp;is&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="4893960">type</span>&nbsp;<span class="ident" id="4893965">Reader</span>&nbsp;<span class="keyword" id="4893972">struct</span>&nbsp;<span class="op" id="4893979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4893982">Comma</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4893999">rune</span>&nbsp;<span class="comment" id="4894004">//&nbsp;field&nbsp;delimiter&nbsp;(set&nbsp;to&nbsp;&#39;,&#39;&nbsp;by&nbsp;NewReader)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894050">Comment</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4894067">rune</span>&nbsp;<span class="comment" id="4894072">//&nbsp;comment&nbsp;character&nbsp;for&nbsp;start&nbsp;of&nbsp;line</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894112">FieldsPerRecord</span>&nbsp;&nbsp;<span class="builtintype" id="4894129">int</span>&nbsp;&nbsp;<span class="comment" id="4894134">//&nbsp;number&nbsp;of&nbsp;expected&nbsp;fields&nbsp;per&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894175">LazyQuotes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4894192">bool</span>&nbsp;<span class="comment" id="4894197">//&nbsp;allow&nbsp;lazy&nbsp;quotes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894219">TrailingComma</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4894236">bool</span>&nbsp;<span class="comment" id="4894241">//&nbsp;ignored;&nbsp;here&nbsp;for&nbsp;backwards&nbsp;compatibility</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894287">TrimLeadingSpace</span>&nbsp;<span class="builtintype" id="4894304">bool</span>&nbsp;<span class="comment" id="4894309">//&nbsp;trim&nbsp;leading&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894332">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4894349">int</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894354">column</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4894371">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894376">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4894393">*</span><span class="ident" id="4894394">bufio</span><span class="op" id="4894399">.</span><span class="ident" id="4894400">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894408">field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4894425">bytes</span><span class="op" id="4894430">.</span><span class="ident" id="4894431">Buffer</span><br>
<span class="lineno"></span><span class="op" id="4894438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="4894441">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="4894494">func</span>&nbsp;<span class="ident" id="4894499">NewReader</span><span class="op" id="4894508">(</span><span class="ident" id="4894509">r</span>&nbsp;<span class="ident" id="4894511">io</span><span class="op" id="4894513">.</span><span class="ident" id="4894514">Reader</span><span class="op" id="4894520">)</span>&nbsp;<span class="op" id="4894522">*</span><span class="ident" id="4894523">Reader</span>&nbsp;<span class="op" id="4894530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4894533">return</span>&nbsp;<span class="op" id="4894540">&amp;</span><span class="ident" id="4894541">Reader</span><span class="op" id="4894547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894551">Comma</span><span class="op" id="4894556">:</span>&nbsp;<span class="string" id="4894558">&#39;,&#39;</span><span class="op" id="4894561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894565">r</span><span class="op" id="4894566">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4894572">bufio</span><span class="op" id="4894577">.</span><span class="ident" id="4894578">NewReader</span><span class="op" id="4894587">(</span><span class="ident" id="4894588">r</span><span class="op" id="4894589">)</span><span class="op" id="4894590">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4894593">}</span><br>
<span class="lineno"></span><span class="op" id="4894595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4894598">//&nbsp;error&nbsp;creates&nbsp;a&nbsp;new&nbsp;ParseError&nbsp;based&nbsp;on&nbsp;err.</span><br>
<span class="lineno"></span><span class="keyword" id="4894646">func</span>&nbsp;<span class="op" id="4894651">(</span><span class="ident" id="4894652">r</span>&nbsp;<span class="op" id="4894654">*</span><span class="ident" id="4894655">Reader</span><span class="op" id="4894661">)</span>&nbsp;<span class="builtintype" id="4894663">error</span><span class="op" id="4894668">(</span><span class="ident" id="4894669">err</span>&nbsp;<span class="builtintype" id="4894673">error</span><span class="op" id="4894678">)</span>&nbsp;<span class="builtintype" id="4894680">error</span>&nbsp;<span class="op" id="4894686">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4894689">return</span>&nbsp;<span class="op" id="4894696">&amp;</span><span class="ident" id="4894697">ParseError</span><span class="op" id="4894707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894711">Line</span><span class="op" id="4894715">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4894719">r</span><span class="op" id="4894720">.</span><span class="ident" id="4894721">line</span><span class="op" id="4894725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894729">Column</span><span class="op" id="4894735">:</span>&nbsp;<span class="ident" id="4894737">r</span><span class="op" id="4894738">.</span><span class="ident" id="4894739">column</span><span class="op" id="4894745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894749">Err</span><span class="op" id="4894752">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4894757">err</span><span class="op" id="4894760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4894763">}</span><br>
<span class="lineno">130</span><span class="op" id="4894765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4894768">//&nbsp;Read&nbsp;reads&nbsp;one&nbsp;record&nbsp;from&nbsp;r.&nbsp;&nbsp;The&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;strings&nbsp;with&nbsp;each</span><br>
<span class="lineno"></span><span class="comment" id="4894845">//&nbsp;string&nbsp;representing&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="4894879">func</span>&nbsp;<span class="op" id="4894884">(</span><span class="ident" id="4894885">r</span>&nbsp;<span class="op" id="4894887">*</span><span class="ident" id="4894888">Reader</span><span class="op" id="4894894">)</span>&nbsp;<span class="ident" id="4894896">Read</span><span class="op" id="4894900">(</span><span class="op" id="4894901">)</span>&nbsp;<span class="op" id="4894903">(</span><span class="ident" id="4894904">record</span>&nbsp;<span class="op" id="4894911">[</span><span class="op" id="4894912">]</span><span class="builtintype" id="4894913">string</span><span class="op" id="4894919">,</span>&nbsp;<span class="ident" id="4894921">err</span>&nbsp;<span class="builtintype" id="4894925">error</span><span class="op" id="4894930">)</span>&nbsp;<span class="op" id="4894932">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4894935">for</span>&nbsp;<span class="op" id="4894939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4894943">record</span><span class="op" id="4894949">,</span>&nbsp;<span class="ident" id="4894951">err</span>&nbsp;<span class="op" id="4894955">=</span>&nbsp;<span class="ident" id="4894957">r</span><span class="op" id="4894958">.</span><span class="ident" id="4894959">parseRecord</span><span class="op" id="4894970">(</span><span class="op" id="4894971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4894975">if</span>&nbsp;<span class="ident" id="4894978">record</span>&nbsp;<span class="op" id="4894985">!=</span>&nbsp;<span class="ident" id="4894988">nil</span>&nbsp;<span class="op" id="4894992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4894997">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895005">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895009">if</span>&nbsp;<span class="ident" id="4895012">err</span>&nbsp;<span class="op" id="4895016">!=</span>&nbsp;<span class="ident" id="4895019">nil</span>&nbsp;<span class="op" id="4895023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895028">return</span>&nbsp;<span class="ident" id="4895035">nil</span><span class="op" id="4895038">,</span>&nbsp;<span class="ident" id="4895040">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895053">if</span>&nbsp;<span class="ident" id="4895056">r</span><span class="op" id="4895057">.</span><span class="ident" id="4895058">FieldsPerRecord</span>&nbsp;<span class="op" id="4895074">&gt;</span>&nbsp;<span class="num" id="4895076">0</span>&nbsp;<span class="op" id="4895078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895082">if</span>&nbsp;<span class="builtinfunc" id="4895085">len</span><span class="op" id="4895088">(</span><span class="ident" id="4895089">record</span><span class="op" id="4895095">)</span>&nbsp;<span class="op" id="4895097">!=</span>&nbsp;<span class="ident" id="4895100">r</span><span class="op" id="4895101">.</span><span class="ident" id="4895102">FieldsPerRecord</span>&nbsp;<span class="op" id="4895118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895123">r</span><span class="op" id="4895124">.</span><span class="ident" id="4895125">column</span>&nbsp;<span class="op" id="4895132">=</span>&nbsp;<span class="num" id="4895134">0</span>&nbsp;<span class="comment" id="4895136">//&nbsp;report&nbsp;at&nbsp;start&nbsp;of&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895168">return</span>&nbsp;<span class="ident" id="4895175">record</span><span class="op" id="4895181">,</span>&nbsp;<span class="ident" id="4895183">r</span><span class="op" id="4895184">.</span><span class="builtintype" id="4895185">error</span><span class="op" id="4895190">(</span><span class="ident" id="4895191">ErrFieldCount</span><span class="op" id="4895204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895208">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895211">}</span>&nbsp;<span class="keyword" id="4895213">else</span>&nbsp;<span class="keyword" id="4895218">if</span>&nbsp;<span class="ident" id="4895221">r</span><span class="op" id="4895222">.</span><span class="ident" id="4895223">FieldsPerRecord</span>&nbsp;<span class="op" id="4895239">==</span>&nbsp;<span class="num" id="4895242">0</span>&nbsp;<span class="op" id="4895244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895248">r</span><span class="op" id="4895249">.</span><span class="ident" id="4895250">FieldsPerRecord</span>&nbsp;<span class="op" id="4895266">=</span>&nbsp;<span class="builtinfunc" id="4895268">len</span><span class="op" id="4895271">(</span><span class="ident" id="4895272">record</span><span class="op" id="4895278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895284">return</span>&nbsp;<span class="ident" id="4895291">record</span><span class="op" id="4895297">,</span>&nbsp;<span class="ident" id="4895299">nil</span><br>
<span class="lineno"></span><span class="op" id="4895303">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="4895306">//&nbsp;ReadAll&nbsp;reads&nbsp;all&nbsp;the&nbsp;remaining&nbsp;records&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4895357">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="4895394">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadAll&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4895470">//&nbsp;defined&nbsp;to&nbsp;read&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;end&nbsp;of&nbsp;file&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be</span><br>
<span class="lineno">160</span><span class="comment" id="4895548">//&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="4895561">func</span>&nbsp;<span class="op" id="4895566">(</span><span class="ident" id="4895567">r</span>&nbsp;<span class="op" id="4895569">*</span><span class="ident" id="4895570">Reader</span><span class="op" id="4895576">)</span>&nbsp;<span class="ident" id="4895578">ReadAll</span><span class="op" id="4895585">(</span><span class="op" id="4895586">)</span>&nbsp;<span class="op" id="4895588">(</span><span class="ident" id="4895589">records</span>&nbsp;<span class="op" id="4895597">[</span><span class="op" id="4895598">]</span><span class="op" id="4895599">[</span><span class="op" id="4895600">]</span><span class="builtintype" id="4895601">string</span><span class="op" id="4895607">,</span>&nbsp;<span class="ident" id="4895609">err</span>&nbsp;<span class="builtintype" id="4895613">error</span><span class="op" id="4895618">)</span>&nbsp;<span class="op" id="4895620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895623">for</span>&nbsp;<span class="op" id="4895627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895631">record</span><span class="op" id="4895637">,</span>&nbsp;<span class="ident" id="4895639">err</span>&nbsp;<span class="op" id="4895643">:=</span>&nbsp;<span class="ident" id="4895646">r</span><span class="op" id="4895647">.</span><span class="ident" id="4895648">Read</span><span class="op" id="4895652">(</span><span class="op" id="4895653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895657">if</span>&nbsp;<span class="ident" id="4895660">err</span>&nbsp;<span class="op" id="4895664">==</span>&nbsp;<span class="ident" id="4895667">io</span><span class="op" id="4895669">.</span><span class="ident" id="4895670">EOF</span>&nbsp;<span class="op" id="4895674">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895679">return</span>&nbsp;<span class="ident" id="4895686">records</span><span class="op" id="4895693">,</span>&nbsp;<span class="ident" id="4895695">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895705">if</span>&nbsp;<span class="ident" id="4895708">err</span>&nbsp;<span class="op" id="4895712">!=</span>&nbsp;<span class="ident" id="4895715">nil</span>&nbsp;<span class="op" id="4895719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895724">return</span>&nbsp;<span class="ident" id="4895731">nil</span><span class="op" id="4895734">,</span>&nbsp;<span class="ident" id="4895736">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895742">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895746">records</span>&nbsp;<span class="op" id="4895754">=</span>&nbsp;<span class="builtinfunc" id="4895756">append</span><span class="op" id="4895762">(</span><span class="ident" id="4895763">records</span><span class="op" id="4895770">,</span>&nbsp;<span class="ident" id="4895772">record</span><span class="op" id="4895778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895781">}</span><br>
<span class="lineno"></span><span class="op" id="4895783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4895786">//&nbsp;readRune&nbsp;reads&nbsp;one&nbsp;rune&nbsp;from&nbsp;r,&nbsp;folding&nbsp;\r\n&nbsp;to&nbsp;\n&nbsp;and&nbsp;keeping&nbsp;track</span><br>
<span class="lineno">175</span><span class="comment" id="4895858">//&nbsp;of&nbsp;how&nbsp;far&nbsp;into&nbsp;the&nbsp;line&nbsp;we&nbsp;have&nbsp;read.&nbsp;&nbsp;r.column&nbsp;will&nbsp;point&nbsp;to&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span><span class="comment" id="4895934">//&nbsp;of&nbsp;this&nbsp;rune,&nbsp;not&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="4895977">func</span>&nbsp;<span class="op" id="4895982">(</span><span class="ident" id="4895983">r</span>&nbsp;<span class="op" id="4895985">*</span><span class="ident" id="4895986">Reader</span><span class="op" id="4895992">)</span>&nbsp;<span class="ident" id="4895994">readRune</span><span class="op" id="4896002">(</span><span class="op" id="4896003">)</span>&nbsp;<span class="op" id="4896005">(</span><span class="builtintype" id="4896006">rune</span><span class="op" id="4896010">,</span>&nbsp;<span class="builtintype" id="4896012">error</span><span class="op" id="4896017">)</span>&nbsp;<span class="op" id="4896019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896022">r1</span><span class="op" id="4896024">,</span>&nbsp;<span class="ident" id="4896026">_</span><span class="op" id="4896027">,</span>&nbsp;<span class="ident" id="4896029">err</span>&nbsp;<span class="op" id="4896033">:=</span>&nbsp;<span class="ident" id="4896036">r</span><span class="op" id="4896037">.</span><span class="ident" id="4896038">r</span><span class="op" id="4896039">.</span><span class="ident" id="4896040">ReadRune</span><span class="op" id="4896048">(</span><span class="op" id="4896049">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4896053">//&nbsp;Handle&nbsp;\r\n&nbsp;here.&nbsp;&nbsp;We&nbsp;make&nbsp;the&nbsp;simplifying&nbsp;assumption&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4896116">//&nbsp;anytime&nbsp;\r&nbsp;is&nbsp;followed&nbsp;by&nbsp;\n&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;folded&nbsp;to&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4896178">//&nbsp;We&nbsp;will&nbsp;not&nbsp;detect&nbsp;files&nbsp;which&nbsp;contain&nbsp;both&nbsp;\r\n&nbsp;and&nbsp;bare&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896244">if</span>&nbsp;<span class="ident" id="4896247">r1</span>&nbsp;<span class="op" id="4896250">==</span>&nbsp;<span class="string" id="4896253">&#39;\r&#39;</span>&nbsp;<span class="op" id="4896258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896262">r1</span><span class="op" id="4896264">,</span>&nbsp;<span class="ident" id="4896266">_</span><span class="op" id="4896267">,</span>&nbsp;<span class="ident" id="4896269">err</span>&nbsp;<span class="op" id="4896273">=</span>&nbsp;<span class="ident" id="4896275">r</span><span class="op" id="4896276">.</span><span class="ident" id="4896277">r</span><span class="op" id="4896278">.</span><span class="ident" id="4896279">ReadRune</span><span class="op" id="4896287">(</span><span class="op" id="4896288">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896292">if</span>&nbsp;<span class="ident" id="4896295">err</span>&nbsp;<span class="op" id="4896299">==</span>&nbsp;<span class="ident" id="4896302">nil</span>&nbsp;<span class="op" id="4896306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896311">if</span>&nbsp;<span class="ident" id="4896314">r1</span>&nbsp;<span class="op" id="4896317">!=</span>&nbsp;<span class="string" id="4896320">&#39;\n&#39;</span>&nbsp;<span class="op" id="4896325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896331">r</span><span class="op" id="4896332">.</span><span class="ident" id="4896333">r</span><span class="op" id="4896334">.</span><span class="ident" id="4896335">UnreadRune</span><span class="op" id="4896345">(</span><span class="op" id="4896346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896352">r1</span>&nbsp;<span class="op" id="4896355">=</span>&nbsp;<span class="string" id="4896357">&#39;\r&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4896365">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4896369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4896372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896375">r</span><span class="op" id="4896376">.</span><span class="ident" id="4896377">column</span><span class="op" id="4896383">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896387">return</span>&nbsp;<span class="ident" id="4896394">r1</span><span class="op" id="4896396">,</span>&nbsp;<span class="ident" id="4896398">err</span><br>
<span class="lineno"></span><span class="op" id="4896402">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="4896405">//&nbsp;skip&nbsp;reads&nbsp;runes&nbsp;up&nbsp;to&nbsp;and&nbsp;including&nbsp;the&nbsp;rune&nbsp;delim&nbsp;or&nbsp;until&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="4896476">func</span>&nbsp;<span class="op" id="4896481">(</span><span class="ident" id="4896482">r</span>&nbsp;<span class="op" id="4896484">*</span><span class="ident" id="4896485">Reader</span><span class="op" id="4896491">)</span>&nbsp;<span class="ident" id="4896493">skip</span><span class="op" id="4896497">(</span><span class="ident" id="4896498">delim</span>&nbsp;<span class="builtintype" id="4896504">rune</span><span class="op" id="4896508">)</span>&nbsp;<span class="builtintype" id="4896510">error</span>&nbsp;<span class="op" id="4896516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896519">for</span>&nbsp;<span class="op" id="4896523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896527">r1</span><span class="op" id="4896529">,</span>&nbsp;<span class="ident" id="4896531">err</span>&nbsp;<span class="op" id="4896535">:=</span>&nbsp;<span class="ident" id="4896538">r</span><span class="op" id="4896539">.</span><span class="ident" id="4896540">readRune</span><span class="op" id="4896548">(</span><span class="op" id="4896549">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896553">if</span>&nbsp;<span class="ident" id="4896556">err</span>&nbsp;<span class="op" id="4896560">!=</span>&nbsp;<span class="ident" id="4896563">nil</span>&nbsp;<span class="op" id="4896567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896572">return</span>&nbsp;<span class="ident" id="4896579">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4896585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896589">if</span>&nbsp;<span class="ident" id="4896592">r1</span>&nbsp;<span class="op" id="4896595">==</span>&nbsp;<span class="ident" id="4896598">delim</span>&nbsp;<span class="op" id="4896604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896609">return</span>&nbsp;<span class="ident" id="4896616">nil</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4896622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4896625">}</span><br>
<span class="lineno"></span><span class="op" id="4896627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4896630">//&nbsp;parseRecord&nbsp;reads&nbsp;and&nbsp;parses&nbsp;a&nbsp;single&nbsp;csv&nbsp;record&nbsp;from&nbsp;r.</span><br>
<span class="lineno">210</span><span class="keyword" id="4896690">func</span>&nbsp;<span class="op" id="4896695">(</span><span class="ident" id="4896696">r</span>&nbsp;<span class="op" id="4896698">*</span><span class="ident" id="4896699">Reader</span><span class="op" id="4896705">)</span>&nbsp;<span class="ident" id="4896707">parseRecord</span><span class="op" id="4896718">(</span><span class="op" id="4896719">)</span>&nbsp;<span class="op" id="4896721">(</span><span class="ident" id="4896722">fields</span>&nbsp;<span class="op" id="4896729">[</span><span class="op" id="4896730">]</span><span class="builtintype" id="4896731">string</span><span class="op" id="4896737">,</span>&nbsp;<span class="ident" id="4896739">err</span>&nbsp;<span class="builtintype" id="4896743">error</span><span class="op" id="4896748">)</span>&nbsp;<span class="op" id="4896750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4896753">//&nbsp;Each&nbsp;record&nbsp;starts&nbsp;on&nbsp;a&nbsp;new&nbsp;line.&nbsp;&nbsp;We&nbsp;increment&nbsp;our&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4896814">//&nbsp;number&nbsp;(lines&nbsp;start&nbsp;at&nbsp;1,&nbsp;not&nbsp;0)&nbsp;and&nbsp;set&nbsp;column&nbsp;to&nbsp;-1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4896872">//&nbsp;so&nbsp;as&nbsp;we&nbsp;increment&nbsp;in&nbsp;readRune&nbsp;it&nbsp;points&nbsp;to&nbsp;the&nbsp;character&nbsp;we&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896943">r</span><span class="op" id="4896944">.</span><span class="ident" id="4896945">line</span><span class="op" id="4896949">++</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4896953">r</span><span class="op" id="4896954">.</span><span class="ident" id="4896955">column</span>&nbsp;<span class="op" id="4896962">=</span>&nbsp;<span class="op" id="4896964">-</span><span class="num" id="4896965">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4896969">//&nbsp;Peek&nbsp;at&nbsp;the&nbsp;first&nbsp;rune.&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;an&nbsp;error&nbsp;we&nbsp;are&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4897029">//&nbsp;If&nbsp;we&nbsp;are&nbsp;support&nbsp;comments&nbsp;and&nbsp;it&nbsp;is&nbsp;the&nbsp;comment&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4897092">//&nbsp;then&nbsp;skip&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;line.</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897127">r1</span><span class="op" id="4897129">,</span>&nbsp;<span class="ident" id="4897131">_</span><span class="op" id="4897132">,</span>&nbsp;<span class="ident" id="4897134">err</span>&nbsp;<span class="op" id="4897138">:=</span>&nbsp;<span class="ident" id="4897141">r</span><span class="op" id="4897142">.</span><span class="ident" id="4897143">r</span><span class="op" id="4897144">.</span><span class="ident" id="4897145">ReadRune</span><span class="op" id="4897153">(</span><span class="op" id="4897154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897157">if</span>&nbsp;<span class="ident" id="4897160">err</span>&nbsp;<span class="op" id="4897164">!=</span>&nbsp;<span class="ident" id="4897167">nil</span>&nbsp;<span class="op" id="4897171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897175">return</span>&nbsp;<span class="ident" id="4897182">nil</span><span class="op" id="4897185">,</span>&nbsp;<span class="ident" id="4897187">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897192">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897196">if</span>&nbsp;<span class="ident" id="4897199">r</span><span class="op" id="4897200">.</span><span class="ident" id="4897201">Comment</span>&nbsp;<span class="op" id="4897209">!=</span>&nbsp;<span class="num" id="4897212">0</span>&nbsp;<span class="op" id="4897214">&amp;&amp;</span>&nbsp;<span class="ident" id="4897217">r1</span>&nbsp;<span class="op" id="4897220">==</span>&nbsp;<span class="ident" id="4897223">r</span><span class="op" id="4897224">.</span><span class="ident" id="4897225">Comment</span>&nbsp;<span class="op" id="4897233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897237">return</span>&nbsp;<span class="ident" id="4897244">nil</span><span class="op" id="4897247">,</span>&nbsp;<span class="ident" id="4897249">r</span><span class="op" id="4897250">.</span><span class="ident" id="4897251">skip</span><span class="op" id="4897255">(</span><span class="string" id="4897256">&#39;\n&#39;</span><span class="op" id="4897260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897266">r</span><span class="op" id="4897267">.</span><span class="ident" id="4897268">r</span><span class="op" id="4897269">.</span><span class="ident" id="4897270">UnreadRune</span><span class="op" id="4897280">(</span><span class="op" id="4897281">)</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4897285">//&nbsp;At&nbsp;this&nbsp;point&nbsp;we&nbsp;have&nbsp;at&nbsp;least&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897331">for</span>&nbsp;<span class="op" id="4897335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897339">haveField</span><span class="op" id="4897348">,</span>&nbsp;<span class="ident" id="4897350">delim</span><span class="op" id="4897355">,</span>&nbsp;<span class="ident" id="4897357">err</span>&nbsp;<span class="op" id="4897361">:=</span>&nbsp;<span class="ident" id="4897364">r</span><span class="op" id="4897365">.</span><span class="ident" id="4897366">parseField</span><span class="op" id="4897376">(</span><span class="op" id="4897377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897381">if</span>&nbsp;<span class="ident" id="4897384">haveField</span>&nbsp;<span class="op" id="4897394">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897399">fields</span>&nbsp;<span class="op" id="4897406">=</span>&nbsp;<span class="builtinfunc" id="4897408">append</span><span class="op" id="4897414">(</span><span class="ident" id="4897415">fields</span><span class="op" id="4897421">,</span>&nbsp;<span class="ident" id="4897423">r</span><span class="op" id="4897424">.</span><span class="ident" id="4897425">field</span><span class="op" id="4897430">.</span><span class="ident" id="4897431">String</span><span class="op" id="4897437">(</span><span class="op" id="4897438">)</span><span class="op" id="4897439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897447">if</span>&nbsp;<span class="ident" id="4897450">delim</span>&nbsp;<span class="op" id="4897456">==</span>&nbsp;<span class="string" id="4897459">&#39;\n&#39;</span>&nbsp;<span class="op" id="4897464">||</span>&nbsp;<span class="ident" id="4897467">err</span>&nbsp;<span class="op" id="4897471">==</span>&nbsp;<span class="ident" id="4897474">io</span><span class="op" id="4897476">.</span><span class="ident" id="4897477">EOF</span>&nbsp;<span class="op" id="4897481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897486">return</span>&nbsp;<span class="ident" id="4897493">fields</span><span class="op" id="4897499">,</span>&nbsp;<span class="ident" id="4897501">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897507">}</span>&nbsp;<span class="keyword" id="4897509">else</span>&nbsp;<span class="keyword" id="4897514">if</span>&nbsp;<span class="ident" id="4897517">err</span>&nbsp;<span class="op" id="4897521">!=</span>&nbsp;<span class="ident" id="4897524">nil</span>&nbsp;<span class="op" id="4897528">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897533">return</span>&nbsp;<span class="ident" id="4897540">nil</span><span class="op" id="4897543">,</span>&nbsp;<span class="ident" id="4897545">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897554">}</span><br>
<span class="lineno"></span><span class="op" id="4897556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="4897559">//&nbsp;parseField&nbsp;parses&nbsp;the&nbsp;next&nbsp;field&nbsp;in&nbsp;the&nbsp;record.&nbsp;&nbsp;The&nbsp;read&nbsp;field&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4897629">//&nbsp;located&nbsp;in&nbsp;r.field.&nbsp;&nbsp;Delim&nbsp;is&nbsp;the&nbsp;first&nbsp;character&nbsp;not&nbsp;part&nbsp;of&nbsp;the&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="4897704">//&nbsp;(r.Comma&nbsp;or&nbsp;&#39;\n&#39;).</span><br>
<span class="lineno"></span><span class="keyword" id="4897726">func</span>&nbsp;<span class="op" id="4897731">(</span><span class="ident" id="4897732">r</span>&nbsp;<span class="op" id="4897734">*</span><span class="ident" id="4897735">Reader</span><span class="op" id="4897741">)</span>&nbsp;<span class="ident" id="4897743">parseField</span><span class="op" id="4897753">(</span><span class="op" id="4897754">)</span>&nbsp;<span class="op" id="4897756">(</span><span class="ident" id="4897757">haveField</span>&nbsp;<span class="builtintype" id="4897767">bool</span><span class="op" id="4897771">,</span>&nbsp;<span class="ident" id="4897773">delim</span>&nbsp;<span class="builtintype" id="4897779">rune</span><span class="op" id="4897783">,</span>&nbsp;<span class="ident" id="4897785">err</span>&nbsp;<span class="builtintype" id="4897789">error</span><span class="op" id="4897794">)</span>&nbsp;<span class="op" id="4897796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897799">r</span><span class="op" id="4897800">.</span><span class="ident" id="4897801">field</span><span class="op" id="4897806">.</span><span class="ident" id="4897807">Reset</span><span class="op" id="4897812">(</span><span class="op" id="4897813">)</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897817">r1</span><span class="op" id="4897819">,</span>&nbsp;<span class="ident" id="4897821">err</span>&nbsp;<span class="op" id="4897825">:=</span>&nbsp;<span class="ident" id="4897828">r</span><span class="op" id="4897829">.</span><span class="ident" id="4897830">readRune</span><span class="op" id="4897838">(</span><span class="op" id="4897839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897842">for</span>&nbsp;<span class="ident" id="4897846">err</span>&nbsp;<span class="op" id="4897850">==</span>&nbsp;<span class="ident" id="4897853">nil</span>&nbsp;<span class="op" id="4897857">&amp;&amp;</span>&nbsp;<span class="ident" id="4897860">r</span><span class="op" id="4897861">.</span><span class="ident" id="4897862">TrimLeadingSpace</span>&nbsp;<span class="op" id="4897879">&amp;&amp;</span>&nbsp;<span class="ident" id="4897882">r1</span>&nbsp;<span class="op" id="4897885">!=</span>&nbsp;<span class="string" id="4897888">&#39;\n&#39;</span>&nbsp;<span class="op" id="4897893">&amp;&amp;</span>&nbsp;<span class="ident" id="4897896">unicode</span><span class="op" id="4897903">.</span><span class="ident" id="4897904">IsSpace</span><span class="op" id="4897911">(</span><span class="ident" id="4897912">r1</span><span class="op" id="4897914">)</span>&nbsp;<span class="op" id="4897916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4897920">r1</span><span class="op" id="4897922">,</span>&nbsp;<span class="ident" id="4897924">err</span>&nbsp;<span class="op" id="4897928">=</span>&nbsp;<span class="ident" id="4897930">r</span><span class="op" id="4897931">.</span><span class="ident" id="4897932">readRune</span><span class="op" id="4897940">(</span><span class="op" id="4897941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4897944">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897948">if</span>&nbsp;<span class="ident" id="4897951">err</span>&nbsp;<span class="op" id="4897955">==</span>&nbsp;<span class="ident" id="4897958">io</span><span class="op" id="4897960">.</span><span class="ident" id="4897961">EOF</span>&nbsp;<span class="op" id="4897965">&amp;&amp;</span>&nbsp;<span class="ident" id="4897968">r</span><span class="op" id="4897969">.</span><span class="ident" id="4897970">column</span>&nbsp;<span class="op" id="4897977">!=</span>&nbsp;<span class="num" id="4897980">0</span>&nbsp;<span class="op" id="4897982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4897986">return</span>&nbsp;<span class="ident" id="4897993">true</span><span class="op" id="4897997">,</span>&nbsp;<span class="num" id="4897999">0</span><span class="op" id="4898000">,</span>&nbsp;<span class="ident" id="4898002">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898010">if</span>&nbsp;<span class="ident" id="4898013">err</span>&nbsp;<span class="op" id="4898017">!=</span>&nbsp;<span class="ident" id="4898020">nil</span>&nbsp;<span class="op" id="4898024">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898028">return</span>&nbsp;<span class="ident" id="4898035">false</span><span class="op" id="4898040">,</span>&nbsp;<span class="num" id="4898042">0</span><span class="op" id="4898043">,</span>&nbsp;<span class="ident" id="4898045">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898054">switch</span>&nbsp;<span class="ident" id="4898061">r1</span>&nbsp;<span class="op" id="4898064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898067">case</span>&nbsp;<span class="ident" id="4898072">r</span><span class="op" id="4898073">.</span><span class="ident" id="4898074">Comma</span><span class="op" id="4898079">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4898083">//&nbsp;will&nbsp;check&nbsp;below</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898105">case</span>&nbsp;<span class="string" id="4898110">&#39;\n&#39;</span><span class="op" id="4898114">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4898118">//&nbsp;We&nbsp;are&nbsp;a&nbsp;trailing&nbsp;empty&nbsp;field&nbsp;or&nbsp;a&nbsp;blank&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898169">if</span>&nbsp;<span class="ident" id="4898172">r</span><span class="op" id="4898173">.</span><span class="ident" id="4898174">column</span>&nbsp;<span class="op" id="4898181">==</span>&nbsp;<span class="num" id="4898184">0</span>&nbsp;<span class="op" id="4898186">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898191">return</span>&nbsp;<span class="ident" id="4898198">false</span><span class="op" id="4898203">,</span>&nbsp;<span class="ident" id="4898205">r1</span><span class="op" id="4898207">,</span>&nbsp;<span class="ident" id="4898209">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898219">return</span>&nbsp;<span class="ident" id="4898226">true</span><span class="op" id="4898230">,</span>&nbsp;<span class="ident" id="4898232">r1</span><span class="op" id="4898234">,</span>&nbsp;<span class="ident" id="4898236">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898242">case</span>&nbsp;<span class="string" id="4898247">&#39;&#34;&#39;</span><span class="op" id="4898250">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4898254">//&nbsp;quoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898271">Quoted</span><span class="op" id="4898277">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898281">for</span>&nbsp;<span class="op" id="4898285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898290">r1</span><span class="op" id="4898292">,</span>&nbsp;<span class="ident" id="4898294">err</span>&nbsp;<span class="op" id="4898298">=</span>&nbsp;<span class="ident" id="4898300">r</span><span class="op" id="4898301">.</span><span class="ident" id="4898302">readRune</span><span class="op" id="4898310">(</span><span class="op" id="4898311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898316">if</span>&nbsp;<span class="ident" id="4898319">err</span>&nbsp;<span class="op" id="4898323">!=</span>&nbsp;<span class="ident" id="4898326">nil</span>&nbsp;<span class="op" id="4898330">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898336">if</span>&nbsp;<span class="ident" id="4898339">err</span>&nbsp;<span class="op" id="4898343">==</span>&nbsp;<span class="ident" id="4898346">io</span><span class="op" id="4898348">.</span><span class="ident" id="4898349">EOF</span>&nbsp;<span class="op" id="4898353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898360">if</span>&nbsp;<span class="ident" id="4898363">r</span><span class="op" id="4898364">.</span><span class="ident" id="4898365">LazyQuotes</span>&nbsp;<span class="op" id="4898376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898384">return</span>&nbsp;<span class="ident" id="4898391">true</span><span class="op" id="4898395">,</span>&nbsp;<span class="num" id="4898397">0</span><span class="op" id="4898398">,</span>&nbsp;<span class="ident" id="4898400">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898416">return</span>&nbsp;<span class="ident" id="4898423">false</span><span class="op" id="4898428">,</span>&nbsp;<span class="num" id="4898430">0</span><span class="op" id="4898431">,</span>&nbsp;<span class="ident" id="4898433">r</span><span class="op" id="4898434">.</span><span class="builtintype" id="4898435">error</span><span class="op" id="4898440">(</span><span class="ident" id="4898441">ErrQuote</span><span class="op" id="4898449">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898461">return</span>&nbsp;<span class="ident" id="4898468">false</span><span class="op" id="4898473">,</span>&nbsp;<span class="num" id="4898475">0</span><span class="op" id="4898476">,</span>&nbsp;<span class="ident" id="4898478">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898490">switch</span>&nbsp;<span class="ident" id="4898497">r1</span>&nbsp;<span class="op" id="4898500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898505">case</span>&nbsp;<span class="string" id="4898510">&#39;&#34;&#39;</span><span class="op" id="4898513">:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898519">r1</span><span class="op" id="4898521">,</span>&nbsp;<span class="ident" id="4898523">err</span>&nbsp;<span class="op" id="4898527">=</span>&nbsp;<span class="ident" id="4898529">r</span><span class="op" id="4898530">.</span><span class="ident" id="4898531">readRune</span><span class="op" id="4898539">(</span><span class="op" id="4898540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898546">if</span>&nbsp;<span class="ident" id="4898549">err</span>&nbsp;<span class="op" id="4898553">!=</span>&nbsp;<span class="ident" id="4898556">nil</span>&nbsp;<span class="op" id="4898560">||</span>&nbsp;<span class="ident" id="4898563">r1</span>&nbsp;<span class="op" id="4898566">==</span>&nbsp;<span class="ident" id="4898569">r</span><span class="op" id="4898570">.</span><span class="ident" id="4898571">Comma</span>&nbsp;<span class="op" id="4898577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898584">break</span>&nbsp;<span class="ident" id="4898590">Quoted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898607">if</span>&nbsp;<span class="ident" id="4898610">r1</span>&nbsp;<span class="op" id="4898613">==</span>&nbsp;<span class="string" id="4898616">&#39;\n&#39;</span>&nbsp;<span class="op" id="4898621">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898628">return</span>&nbsp;<span class="ident" id="4898635">true</span><span class="op" id="4898639">,</span>&nbsp;<span class="ident" id="4898641">r1</span><span class="op" id="4898643">,</span>&nbsp;<span class="ident" id="4898645">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898659">if</span>&nbsp;<span class="ident" id="4898662">r1</span>&nbsp;<span class="op" id="4898665">!=</span>&nbsp;<span class="string" id="4898668">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4898672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898679">if</span>&nbsp;<span class="op" id="4898682">!</span><span class="ident" id="4898683">r</span><span class="op" id="4898684">.</span><span class="ident" id="4898685">LazyQuotes</span>&nbsp;<span class="op" id="4898696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898704">r</span><span class="op" id="4898705">.</span><span class="ident" id="4898706">column</span><span class="op" id="4898712">--</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898721">return</span>&nbsp;<span class="ident" id="4898728">false</span><span class="op" id="4898733">,</span>&nbsp;<span class="num" id="4898735">0</span><span class="op" id="4898736">,</span>&nbsp;<span class="ident" id="4898738">r</span><span class="op" id="4898739">.</span><span class="builtintype" id="4898740">error</span><span class="op" id="4898745">(</span><span class="ident" id="4898746">ErrQuote</span><span class="op" id="4898754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4898768">//&nbsp;accept&nbsp;the&nbsp;bare&nbsp;quote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898798">r</span><span class="op" id="4898799">.</span><span class="ident" id="4898800">field</span><span class="op" id="4898805">.</span><span class="ident" id="4898806">WriteRune</span><span class="op" id="4898815">(</span><span class="string" id="4898816">&#39;&#34;&#39;</span><span class="op" id="4898819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898825">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898830">case</span>&nbsp;<span class="string" id="4898835">&#39;\n&#39;</span><span class="op" id="4898839">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898845">r</span><span class="op" id="4898846">.</span><span class="ident" id="4898847">line</span><span class="op" id="4898851">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898858">r</span><span class="op" id="4898859">.</span><span class="ident" id="4898860">column</span>&nbsp;<span class="op" id="4898867">=</span>&nbsp;<span class="op" id="4898869">-</span><span class="num" id="4898870">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898880">r</span><span class="op" id="4898881">.</span><span class="ident" id="4898882">field</span><span class="op" id="4898887">.</span><span class="ident" id="4898888">WriteRune</span><span class="op" id="4898897">(</span><span class="ident" id="4898898">r1</span><span class="op" id="4898900">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4898904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898908">default</span><span class="op" id="4898915">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4898919">//&nbsp;unquoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898939">for</span>&nbsp;<span class="op" id="4898943">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898948">r</span><span class="op" id="4898949">.</span><span class="ident" id="4898950">field</span><span class="op" id="4898955">.</span><span class="ident" id="4898956">WriteRune</span><span class="op" id="4898965">(</span><span class="ident" id="4898966">r1</span><span class="op" id="4898968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4898973">r1</span><span class="op" id="4898975">,</span>&nbsp;<span class="ident" id="4898977">err</span>&nbsp;<span class="op" id="4898981">=</span>&nbsp;<span class="ident" id="4898983">r</span><span class="op" id="4898984">.</span><span class="ident" id="4898985">readRune</span><span class="op" id="4898993">(</span><span class="op" id="4898994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4898999">if</span>&nbsp;<span class="ident" id="4899002">err</span>&nbsp;<span class="op" id="4899006">!=</span>&nbsp;<span class="ident" id="4899009">nil</span>&nbsp;<span class="op" id="4899013">||</span>&nbsp;<span class="ident" id="4899016">r1</span>&nbsp;<span class="op" id="4899019">==</span>&nbsp;<span class="ident" id="4899022">r</span><span class="op" id="4899023">.</span><span class="ident" id="4899024">Comma</span>&nbsp;<span class="op" id="4899030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899036">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899045">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899050">if</span>&nbsp;<span class="ident" id="4899053">r1</span>&nbsp;<span class="op" id="4899056">==</span>&nbsp;<span class="string" id="4899059">&#39;\n&#39;</span>&nbsp;<span class="op" id="4899064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899070">return</span>&nbsp;<span class="ident" id="4899077">true</span><span class="op" id="4899081">,</span>&nbsp;<span class="ident" id="4899083">r1</span><span class="op" id="4899085">,</span>&nbsp;<span class="ident" id="4899087">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899099">if</span>&nbsp;<span class="op" id="4899102">!</span><span class="ident" id="4899103">r</span><span class="op" id="4899104">.</span><span class="ident" id="4899105">LazyQuotes</span>&nbsp;<span class="op" id="4899116">&amp;&amp;</span>&nbsp;<span class="ident" id="4899119">r1</span>&nbsp;<span class="op" id="4899122">==</span>&nbsp;<span class="string" id="4899125">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4899129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899135">return</span>&nbsp;<span class="ident" id="4899142">false</span><span class="op" id="4899147">,</span>&nbsp;<span class="num" id="4899149">0</span><span class="op" id="4899150">,</span>&nbsp;<span class="ident" id="4899152">r</span><span class="op" id="4899153">.</span><span class="builtintype" id="4899154">error</span><span class="op" id="4899159">(</span><span class="ident" id="4899160">ErrBareQuote</span><span class="op" id="4899172">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899188">if</span>&nbsp;<span class="ident" id="4899191">err</span>&nbsp;<span class="op" id="4899195">!=</span>&nbsp;<span class="ident" id="4899198">nil</span>&nbsp;<span class="op" id="4899202">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899206">if</span>&nbsp;<span class="ident" id="4899209">err</span>&nbsp;<span class="op" id="4899213">==</span>&nbsp;<span class="ident" id="4899216">io</span><span class="op" id="4899218">.</span><span class="ident" id="4899219">EOF</span>&nbsp;<span class="op" id="4899223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899228">return</span>&nbsp;<span class="ident" id="4899235">true</span><span class="op" id="4899239">,</span>&nbsp;<span class="num" id="4899241">0</span><span class="op" id="4899242">,</span>&nbsp;<span class="ident" id="4899244">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899254">return</span>&nbsp;<span class="ident" id="4899261">false</span><span class="op" id="4899266">,</span>&nbsp;<span class="num" id="4899268">0</span><span class="op" id="4899269">,</span>&nbsp;<span class="ident" id="4899271">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4899276">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4899280">return</span>&nbsp;<span class="ident" id="4899287">true</span><span class="op" id="4899291">,</span>&nbsp;<span class="ident" id="4899293">r1</span><span class="op" id="4899295">,</span>&nbsp;<span class="ident" id="4899297">nil</span><br>
<span class="lineno"></span><span class="op" id="4899301">}</span>
</div>
</body>
</html>
