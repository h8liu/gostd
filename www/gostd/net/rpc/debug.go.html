<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4364094">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4364149">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4364203">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4364254">package</span>&nbsp;<span class="ident" id="4364262">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4364267">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspSome&nbsp;HTML&nbsp;presented&nbsp;at&nbsp;http://machine:port/debug/rpc<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspLists&nbsp;services,&nbsp;their&nbsp;methods,&nbsp;and&nbsp;some&nbsp;statistics,&nbsp;still&nbsp;rudimentary.<br>
<span class="lineno">10</span>*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4364400">import</span>&nbsp;<span class="op" id="4364407">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4364410">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4364417">&#34;html/template&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4364434">&#34;net/http&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4364446">&#34;sort&#34;</span><br>
<span class="lineno"></span><span class="op" id="4364453">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4364456">const</span>&nbsp;<span class="ident" id="4364462">debugText</span>&nbsp;<span class="op" id="4364472">=</span>&nbsp;<span class="string" id="4364474">`&lt;html&gt;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;title&gt;Services&lt;/title&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp{{range&nbsp;.}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspService&nbsp;{{.Name}}<br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;table&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;th&nbsp;align=center&gt;Method&lt;/th&gt;&lt;th&nbsp;align=center&gt;Calls&lt;/th&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{{range&nbsp;.Method}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;tr&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;td&nbsp;align=left&nbsp;font=fixed&gt;{{.Name}}({{.Type.ArgType}},&nbsp;{{.Type.ReplyType}})&nbsp;error&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;td&nbsp;align=center&gt;{{.Type.NumCalls}}&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/tr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/table&gt;<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;/body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;/html&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4364848">var</span>&nbsp;<span class="ident" id="4364852">debug</span>&nbsp;<span class="op" id="4364858">=</span>&nbsp;<span class="ident" id="4364860">template</span><span class="op" id="4364868">.</span><span class="ident" id="4364869">Must</span><span class="op" id="4364873">(</span><span class="ident" id="4364874">template</span><span class="op" id="4364882">.</span><span class="ident" id="4364883">New</span><span class="op" id="4364886">(</span><span class="string" id="4364887">&#34;RPC&nbsp;debug&#34;</span><span class="op" id="4364898">)</span><span class="op" id="4364899">.</span><span class="ident" id="4364900">Parse</span><span class="op" id="4364905">(</span><span class="ident" id="4364906">debugText</span><span class="op" id="4364915">)</span><span class="op" id="4364916">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="4364919">//&nbsp;If&nbsp;set,&nbsp;print&nbsp;log&nbsp;statements&nbsp;for&nbsp;internal&nbsp;and&nbsp;I/O&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="4364980">var</span>&nbsp;<span class="ident" id="4364984">debugLog</span>&nbsp;<span class="op" id="4364993">=</span>&nbsp;<span class="builtintype" id="4364995">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4365002">type</span>&nbsp;<span class="ident" id="4365007">debugMethod</span>&nbsp;<span class="keyword" id="4365019">struct</span>&nbsp;<span class="op" id="4365026">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365029">Type</span>&nbsp;<span class="op" id="4365034">*</span><span class="ident" id="4365035">methodType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365047">Name</span>&nbsp;<span class="builtintype" id="4365052">string</span><br>
<span class="lineno"></span><span class="op" id="4365059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4365062">type</span>&nbsp;<span class="ident" id="4365067">methodArray</span>&nbsp;<span class="op" id="4365079">[</span><span class="op" id="4365080">]</span><span class="ident" id="4365081">debugMethod</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4365094">type</span>&nbsp;<span class="ident" id="4365099">debugService</span>&nbsp;<span class="keyword" id="4365112">struct</span>&nbsp;<span class="op" id="4365119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365122">Service</span>&nbsp;<span class="op" id="4365130">*</span><span class="ident" id="4365131">service</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365140">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4365148">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365156">Method</span>&nbsp;&nbsp;<span class="ident" id="4365164">methodArray</span><br>
<span class="lineno">55</span><span class="op" id="4365176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4365179">type</span>&nbsp;<span class="ident" id="4365184">serviceArray</span>&nbsp;<span class="op" id="4365197">[</span><span class="op" id="4365198">]</span><span class="ident" id="4365199">debugService</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4365213">func</span>&nbsp;<span class="op" id="4365218">(</span><span class="ident" id="4365219">s</span>&nbsp;<span class="ident" id="4365221">serviceArray</span><span class="op" id="4365233">)</span>&nbsp;<span class="ident" id="4365235">Len</span><span class="op" id="4365238">(</span><span class="op" id="4365239">)</span>&nbsp;<span class="builtintype" id="4365241">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4365255">{</span>&nbsp;<span class="keyword" id="4365257">return</span>&nbsp;<span class="builtinfunc" id="4365264">len</span><span class="op" id="4365267">(</span><span class="ident" id="4365268">s</span><span class="op" id="4365269">)</span>&nbsp;<span class="op" id="4365271">}</span><br>
<span class="lineno">60</span><span class="keyword" id="4365273">func</span>&nbsp;<span class="op" id="4365278">(</span><span class="ident" id="4365279">s</span>&nbsp;<span class="ident" id="4365281">serviceArray</span><span class="op" id="4365293">)</span>&nbsp;<span class="ident" id="4365295">Less</span><span class="op" id="4365299">(</span><span class="ident" id="4365300">i</span><span class="op" id="4365301">,</span>&nbsp;<span class="ident" id="4365303">j</span>&nbsp;<span class="builtintype" id="4365305">int</span><span class="op" id="4365308">)</span>&nbsp;<span class="builtintype" id="4365310">bool</span>&nbsp;<span class="op" id="4365315">{</span>&nbsp;<span class="keyword" id="4365317">return</span>&nbsp;<span class="ident" id="4365324">s</span><span class="op" id="4365325">[</span><span class="ident" id="4365326">i</span><span class="op" id="4365327">]</span><span class="op" id="4365328">.</span><span class="ident" id="4365329">Name</span>&nbsp;<span class="op" id="4365334">&lt;</span>&nbsp;<span class="ident" id="4365336">s</span><span class="op" id="4365337">[</span><span class="ident" id="4365338">j</span><span class="op" id="4365339">]</span><span class="op" id="4365340">.</span><span class="ident" id="4365341">Name</span>&nbsp;<span class="op" id="4365346">}</span><br>
<span class="lineno"></span><span class="keyword" id="4365348">func</span>&nbsp;<span class="op" id="4365353">(</span><span class="ident" id="4365354">s</span>&nbsp;<span class="ident" id="4365356">serviceArray</span><span class="op" id="4365368">)</span>&nbsp;<span class="ident" id="4365370">Swap</span><span class="op" id="4365374">(</span><span class="ident" id="4365375">i</span><span class="op" id="4365376">,</span>&nbsp;<span class="ident" id="4365378">j</span>&nbsp;<span class="builtintype" id="4365380">int</span><span class="op" id="4365383">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4365390">{</span>&nbsp;<span class="ident" id="4365392">s</span><span class="op" id="4365393">[</span><span class="ident" id="4365394">i</span><span class="op" id="4365395">]</span><span class="op" id="4365396">,</span>&nbsp;<span class="ident" id="4365398">s</span><span class="op" id="4365399">[</span><span class="ident" id="4365400">j</span><span class="op" id="4365401">]</span>&nbsp;<span class="op" id="4365403">=</span>&nbsp;<span class="ident" id="4365405">s</span><span class="op" id="4365406">[</span><span class="ident" id="4365407">j</span><span class="op" id="4365408">]</span><span class="op" id="4365409">,</span>&nbsp;<span class="ident" id="4365411">s</span><span class="op" id="4365412">[</span><span class="ident" id="4365413">i</span><span class="op" id="4365414">]</span>&nbsp;<span class="op" id="4365416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4365419">func</span>&nbsp;<span class="op" id="4365424">(</span><span class="ident" id="4365425">m</span>&nbsp;<span class="ident" id="4365427">methodArray</span><span class="op" id="4365438">)</span>&nbsp;<span class="ident" id="4365440">Len</span><span class="op" id="4365443">(</span><span class="op" id="4365444">)</span>&nbsp;<span class="builtintype" id="4365446">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4365460">{</span>&nbsp;<span class="keyword" id="4365462">return</span>&nbsp;<span class="builtinfunc" id="4365469">len</span><span class="op" id="4365472">(</span><span class="ident" id="4365473">m</span><span class="op" id="4365474">)</span>&nbsp;<span class="op" id="4365476">}</span><br>
<span class="lineno"></span><span class="keyword" id="4365478">func</span>&nbsp;<span class="op" id="4365483">(</span><span class="ident" id="4365484">m</span>&nbsp;<span class="ident" id="4365486">methodArray</span><span class="op" id="4365497">)</span>&nbsp;<span class="ident" id="4365499">Less</span><span class="op" id="4365503">(</span><span class="ident" id="4365504">i</span><span class="op" id="4365505">,</span>&nbsp;<span class="ident" id="4365507">j</span>&nbsp;<span class="builtintype" id="4365509">int</span><span class="op" id="4365512">)</span>&nbsp;<span class="builtintype" id="4365514">bool</span>&nbsp;<span class="op" id="4365519">{</span>&nbsp;<span class="keyword" id="4365521">return</span>&nbsp;<span class="ident" id="4365528">m</span><span class="op" id="4365529">[</span><span class="ident" id="4365530">i</span><span class="op" id="4365531">]</span><span class="op" id="4365532">.</span><span class="ident" id="4365533">Name</span>&nbsp;<span class="op" id="4365538">&lt;</span>&nbsp;<span class="ident" id="4365540">m</span><span class="op" id="4365541">[</span><span class="ident" id="4365542">j</span><span class="op" id="4365543">]</span><span class="op" id="4365544">.</span><span class="ident" id="4365545">Name</span>&nbsp;<span class="op" id="4365550">}</span><br>
<span class="lineno">65</span><span class="keyword" id="4365552">func</span>&nbsp;<span class="op" id="4365557">(</span><span class="ident" id="4365558">m</span>&nbsp;<span class="ident" id="4365560">methodArray</span><span class="op" id="4365571">)</span>&nbsp;<span class="ident" id="4365573">Swap</span><span class="op" id="4365577">(</span><span class="ident" id="4365578">i</span><span class="op" id="4365579">,</span>&nbsp;<span class="ident" id="4365581">j</span>&nbsp;<span class="builtintype" id="4365583">int</span><span class="op" id="4365586">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4365593">{</span>&nbsp;<span class="ident" id="4365595">m</span><span class="op" id="4365596">[</span><span class="ident" id="4365597">i</span><span class="op" id="4365598">]</span><span class="op" id="4365599">,</span>&nbsp;<span class="ident" id="4365601">m</span><span class="op" id="4365602">[</span><span class="ident" id="4365603">j</span><span class="op" id="4365604">]</span>&nbsp;<span class="op" id="4365606">=</span>&nbsp;<span class="ident" id="4365608">m</span><span class="op" id="4365609">[</span><span class="ident" id="4365610">j</span><span class="op" id="4365611">]</span><span class="op" id="4365612">,</span>&nbsp;<span class="ident" id="4365614">m</span><span class="op" id="4365615">[</span><span class="ident" id="4365616">i</span><span class="op" id="4365617">]</span>&nbsp;<span class="op" id="4365619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4365622">type</span>&nbsp;<span class="ident" id="4365627">debugHTTP</span>&nbsp;<span class="keyword" id="4365637">struct</span>&nbsp;<span class="op" id="4365644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4365647">*</span><span class="ident" id="4365648">Server</span><br>
<span class="lineno"></span><span class="op" id="4365655">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="4365658">//&nbsp;Runs&nbsp;at&nbsp;/debug/rpc</span><br>
<span class="lineno"></span><span class="keyword" id="4365680">func</span>&nbsp;<span class="op" id="4365685">(</span><span class="ident" id="4365686">server</span>&nbsp;<span class="ident" id="4365693">debugHTTP</span><span class="op" id="4365702">)</span>&nbsp;<span class="ident" id="4365704">ServeHTTP</span><span class="op" id="4365713">(</span><span class="ident" id="4365714">w</span>&nbsp;<span class="ident" id="4365716">http</span><span class="op" id="4365720">.</span><span class="ident" id="4365721">ResponseWriter</span><span class="op" id="4365735">,</span>&nbsp;<span class="ident" id="4365737">req</span>&nbsp;<span class="op" id="4365741">*</span><span class="ident" id="4365742">http</span><span class="op" id="4365746">.</span><span class="ident" id="4365747">Request</span><span class="op" id="4365754">)</span>&nbsp;<span class="op" id="4365756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4365759">//&nbsp;Build&nbsp;a&nbsp;sorted&nbsp;version&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4365799">var</span>&nbsp;<span class="ident" id="4365803">services</span>&nbsp;<span class="op" id="4365812">=</span>&nbsp;<span class="builtinfunc" id="4365814">make</span><span class="op" id="4365818">(</span><span class="ident" id="4365819">serviceArray</span><span class="op" id="4365831">,</span>&nbsp;<span class="builtinfunc" id="4365833">len</span><span class="op" id="4365836">(</span><span class="ident" id="4365837">server</span><span class="op" id="4365843">.</span><span class="ident" id="4365844">serviceMap</span><span class="op" id="4365854">)</span><span class="op" id="4365855">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365858">i</span>&nbsp;<span class="op" id="4365860">:=</span>&nbsp;<span class="num" id="4365863">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365866">server</span><span class="op" id="4365872">.</span><span class="ident" id="4365873">mu</span><span class="op" id="4365875">.</span><span class="ident" id="4365876">Lock</span><span class="op" id="4365880">(</span><span class="op" id="4365881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4365884">for</span>&nbsp;<span class="ident" id="4365888">sname</span><span class="op" id="4365893">,</span>&nbsp;<span class="ident" id="4365895">service</span>&nbsp;<span class="op" id="4365903">:=</span>&nbsp;<span class="keyword" id="4365906">range</span>&nbsp;<span class="ident" id="4365912">server</span><span class="op" id="4365918">.</span><span class="ident" id="4365919">serviceMap</span>&nbsp;<span class="op" id="4365930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4365934">services</span><span class="op" id="4365942">[</span><span class="ident" id="4365943">i</span><span class="op" id="4365944">]</span>&nbsp;<span class="op" id="4365946">=</span>&nbsp;<span class="ident" id="4365948">debugService</span><span class="op" id="4365960">{</span><span class="ident" id="4365961">service</span><span class="op" id="4365968">,</span>&nbsp;<span class="ident" id="4365970">sname</span><span class="op" id="4365975">,</span>&nbsp;<span class="builtinfunc" id="4365977">make</span><span class="op" id="4365981">(</span><span class="ident" id="4365982">methodArray</span><span class="op" id="4365993">,</span>&nbsp;<span class="builtinfunc" id="4365995">len</span><span class="op" id="4365998">(</span><span class="ident" id="4365999">service</span><span class="op" id="4366006">.</span><span class="ident" id="4366007">method</span><span class="op" id="4366013">)</span><span class="op" id="4366014">)</span><span class="op" id="4366015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366019">j</span>&nbsp;<span class="op" id="4366021">:=</span>&nbsp;<span class="num" id="4366024">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366028">for</span>&nbsp;<span class="ident" id="4366032">mname</span><span class="op" id="4366037">,</span>&nbsp;<span class="ident" id="4366039">method</span>&nbsp;<span class="op" id="4366046">:=</span>&nbsp;<span class="keyword" id="4366049">range</span>&nbsp;<span class="ident" id="4366055">service</span><span class="op" id="4366062">.</span><span class="ident" id="4366063">method</span>&nbsp;<span class="op" id="4366070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366075">services</span><span class="op" id="4366083">[</span><span class="ident" id="4366084">i</span><span class="op" id="4366085">]</span><span class="op" id="4366086">.</span><span class="ident" id="4366087">Method</span><span class="op" id="4366093">[</span><span class="ident" id="4366094">j</span><span class="op" id="4366095">]</span>&nbsp;<span class="op" id="4366097">=</span>&nbsp;<span class="ident" id="4366099">debugMethod</span><span class="op" id="4366110">{</span><span class="ident" id="4366111">method</span><span class="op" id="4366117">,</span>&nbsp;<span class="ident" id="4366119">mname</span><span class="op" id="4366124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366129">j</span><span class="op" id="4366130">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366139">sort</span><span class="op" id="4366143">.</span><span class="ident" id="4366144">Sort</span><span class="op" id="4366148">(</span><span class="ident" id="4366149">services</span><span class="op" id="4366157">[</span><span class="ident" id="4366158">i</span><span class="op" id="4366159">]</span><span class="op" id="4366160">.</span><span class="ident" id="4366161">Method</span><span class="op" id="4366167">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366171">i</span><span class="op" id="4366172">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366179">server</span><span class="op" id="4366185">.</span><span class="ident" id="4366186">mu</span><span class="op" id="4366188">.</span><span class="ident" id="4366189">Unlock</span><span class="op" id="4366195">(</span><span class="op" id="4366196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366199">sort</span><span class="op" id="4366203">.</span><span class="ident" id="4366204">Sort</span><span class="op" id="4366208">(</span><span class="ident" id="4366209">services</span><span class="op" id="4366217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366220">err</span>&nbsp;<span class="op" id="4366224">:=</span>&nbsp;<span class="ident" id="4366227">debug</span><span class="op" id="4366232">.</span><span class="ident" id="4366233">Execute</span><span class="op" id="4366240">(</span><span class="ident" id="4366241">w</span><span class="op" id="4366242">,</span>&nbsp;<span class="ident" id="4366244">services</span><span class="op" id="4366252">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366255">if</span>&nbsp;<span class="ident" id="4366258">err</span>&nbsp;<span class="op" id="4366262">!=</span>&nbsp;<span class="ident" id="4366265">nil</span>&nbsp;<span class="op" id="4366269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366273">fmt</span><span class="op" id="4366276">.</span><span class="ident" id="4366277">Fprintln</span><span class="op" id="4366285">(</span><span class="ident" id="4366286">w</span><span class="op" id="4366287">,</span>&nbsp;<span class="string" id="4366289">&#34;rpc:&nbsp;error&nbsp;executing&nbsp;template:&#34;</span><span class="op" id="4366321">,</span>&nbsp;<span class="ident" id="4366323">err</span><span class="op" id="4366326">.</span><span class="ident" id="4366327">Error</span><span class="op" id="4366332">(</span><span class="op" id="4366333">)</span><span class="op" id="4366334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366337">}</span><br>
<span class="lineno"></span><span class="op" id="4366339">}</span>
</div>
</body>
</html>
