<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html" class="current">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2965608">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2965663">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2965717">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2965768">//&nbsp;Package&nbsp;strings&nbsp;implements&nbsp;simple&nbsp;functions&nbsp;to&nbsp;manipulate&nbsp;strings.</span><br>
<span class="lineno"></span><span class="keyword" id="2965838">package</span>&nbsp;<span class="ident" id="2965846">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2965855">import</span>&nbsp;<span class="op" id="2965862">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2965865">&#34;unicode&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2965876">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2965891">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2965894">//&nbsp;explode&nbsp;splits&nbsp;s&nbsp;into&nbsp;an&nbsp;array&nbsp;of&nbsp;UTF-8&nbsp;sequences,&nbsp;one&nbsp;per&nbsp;Unicode&nbsp;character&nbsp;(still&nbsp;strings)&nbsp;up&nbsp;to&nbsp;a&nbsp;maximum&nbsp;of&nbsp;n&nbsp;(n&nbsp;&lt;&nbsp;0&nbsp;means&nbsp;no&nbsp;limit).</span><br>
<span class="lineno"></span><span class="comment" id="2966035">//&nbsp;Invalid&nbsp;UTF-8&nbsp;sequences&nbsp;become&nbsp;correct&nbsp;encodings&nbsp;of&nbsp;U+FFF8.</span><br>
<span class="lineno">15</span><span class="keyword" id="2966098">func</span>&nbsp;<span class="ident" id="2966103">explode</span><span class="op" id="2966110">(</span><span class="ident" id="2966111">s</span>&nbsp;<span class="builtintype" id="2966113">string</span><span class="op" id="2966119">,</span>&nbsp;<span class="ident" id="2966121">n</span>&nbsp;<span class="builtintype" id="2966123">int</span><span class="op" id="2966126">)</span>&nbsp;<span class="op" id="2966128">[</span><span class="op" id="2966129">]</span><span class="builtintype" id="2966130">string</span>&nbsp;<span class="op" id="2966137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966140">if</span>&nbsp;<span class="ident" id="2966143"><a href="/gostd/strings/strings.go.html#2966121">n</a></span>&nbsp;<span class="op" id="2966145">==</span>&nbsp;<span class="num" id="2966148">0</span>&nbsp;<span class="op" id="2966150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966154">return</span>&nbsp;<span class="builtintype" id="2966161">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2966166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966169">l</span>&nbsp;<span class="op" id="2966171">:=</span>&nbsp;<span class="ident" id="2966174"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2966178">.</span><span class="ident" id="2966179"><a href="/gostd/unicode/utf8/utf8.go.html#1814113">RuneCountInString</a></span><span class="op" id="2966196">(</span><span class="ident" id="2966197"><a href="/gostd/strings/strings.go.html#2966111">s</a></span><span class="op" id="2966198">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966201">if</span>&nbsp;<span class="ident" id="2966204"><a href="/gostd/strings/strings.go.html#2966121">n</a></span>&nbsp;<span class="op" id="2966206">&lt;=</span>&nbsp;<span class="num" id="2966209">0</span>&nbsp;<span class="op" id="2966211">||</span>&nbsp;<span class="ident" id="2966214"><a href="/gostd/strings/strings.go.html#2966121">n</a></span>&nbsp;<span class="op" id="2966216">&gt;</span>&nbsp;<span class="ident" id="2966218"><a href="/gostd/strings/strings.go.html#2966169">l</a></span>&nbsp;<span class="op" id="2966220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966224"><a href="/gostd/strings/strings.go.html#2966121">n</a></span>&nbsp;<span class="op" id="2966226">=</span>&nbsp;<span class="ident" id="2966228"><a href="/gostd/strings/strings.go.html#2966169">l</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2966231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966234">a</span>&nbsp;<span class="op" id="2966236">:=</span>&nbsp;<span class="builtinfunc" id="2966239">make</span><span class="op" id="2966243">(</span><span class="op" id="2966244">[</span><span class="op" id="2966245">]</span><span class="builtintype" id="2966246">string</span><span class="op" id="2966252">,</span>&nbsp;<span class="ident" id="2966254"><a href="/gostd/strings/strings.go.html#2966121">n</a></span><span class="op" id="2966255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966258">var</span>&nbsp;<span class="ident" id="2966262">size</span>&nbsp;<span class="builtintype" id="2966267">int</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966272">var</span>&nbsp;<span class="ident" id="2966276">ch</span>&nbsp;<span class="builtintype" id="2966279">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966285">i</span><span class="op" id="2966286">,</span>&nbsp;<span class="ident" id="2966288">cur</span>&nbsp;<span class="op" id="2966292">:=</span>&nbsp;<span class="num" id="2966295">0</span><span class="op" id="2966296">,</span>&nbsp;<span class="num" id="2966298">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966301">for</span>&nbsp;<span class="op" id="2966305">;</span>&nbsp;<span class="ident" id="2966307"><a href="/gostd/strings/strings.go.html#2966285">i</a></span><span class="op" id="2966308">+</span><span class="num" id="2966309">1</span>&nbsp;<span class="op" id="2966311">&lt;</span>&nbsp;<span class="ident" id="2966313"><a href="/gostd/strings/strings.go.html#2966121">n</a></span><span class="op" id="2966314">;</span>&nbsp;<span class="ident" id="2966316"><a href="/gostd/strings/strings.go.html#2966285">i</a></span><span class="op" id="2966317">++</span>&nbsp;<span class="op" id="2966320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966324"><a href="/gostd/strings/strings.go.html#2966276">ch</a></span><span class="op" id="2966326">,</span>&nbsp;<span class="ident" id="2966328"><a href="/gostd/strings/strings.go.html#2966262">size</a></span>&nbsp;<span class="op" id="2966333">=</span>&nbsp;<span class="ident" id="2966335"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2966339">.</span><span class="ident" id="2966340"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2966358">(</span><span class="ident" id="2966359"><a href="/gostd/strings/strings.go.html#2966111">s</a></span><span class="op" id="2966360">[</span><span class="ident" id="2966361"><a href="/gostd/strings/strings.go.html#2966288">cur</a></span><span class="op" id="2966364">:</span><span class="op" id="2966365">]</span><span class="op" id="2966366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966370">if</span>&nbsp;<span class="ident" id="2966373"><a href="/gostd/strings/strings.go.html#2966276">ch</a></span>&nbsp;<span class="op" id="2966376">==</span>&nbsp;<span class="ident" id="2966379"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2966383">.</span><span class="ident" id="2966384"><a href="/gostd/unicode/utf8/utf8.go.html#1805370">RuneError</a></span>&nbsp;<span class="op" id="2966394">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966399"><a href="/gostd/strings/strings.go.html#2966234">a</a></span><span class="op" id="2966400">[</span><span class="ident" id="2966401"><a href="/gostd/strings/strings.go.html#2966285">i</a></span><span class="op" id="2966402">]</span>&nbsp;<span class="op" id="2966404">=</span>&nbsp;<span class="builtintype" id="2966406">string</span><span class="op" id="2966412">(</span><span class="ident" id="2966413"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2966417">.</span><span class="ident" id="2966418"><a href="/gostd/unicode/utf8/utf8.go.html#1805370">RuneError</a></span><span class="op" id="2966427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2966431">}</span>&nbsp;<span class="keyword" id="2966433">else</span>&nbsp;<span class="op" id="2966438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966443"><a href="/gostd/strings/strings.go.html#2966234">a</a></span><span class="op" id="2966444">[</span><span class="ident" id="2966445"><a href="/gostd/strings/strings.go.html#2966285">i</a></span><span class="op" id="2966446">]</span>&nbsp;<span class="op" id="2966448">=</span>&nbsp;<span class="ident" id="2966450"><a href="/gostd/strings/strings.go.html#2966111">s</a></span><span class="op" id="2966451">[</span><span class="ident" id="2966452"><a href="/gostd/strings/strings.go.html#2966288">cur</a></span>&nbsp;<span class="op" id="2966456">:</span>&nbsp;<span class="ident" id="2966458"><a href="/gostd/strings/strings.go.html#2966288">cur</a></span><span class="op" id="2966461">+</span><span class="ident" id="2966462"><a href="/gostd/strings/strings.go.html#2966262">size</a></span><span class="op" id="2966466">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2966470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966474"><a href="/gostd/strings/strings.go.html#2966288">cur</a></span>&nbsp;<span class="op" id="2966478">+=</span>&nbsp;<span class="ident" id="2966481"><a href="/gostd/strings/strings.go.html#2966262">size</a></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2966487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2966490">//&nbsp;add&nbsp;the&nbsp;rest,&nbsp;if&nbsp;there&nbsp;is&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966524">if</span>&nbsp;<span class="ident" id="2966527"><a href="/gostd/strings/strings.go.html#2966288">cur</a></span>&nbsp;<span class="op" id="2966531">&lt;</span>&nbsp;<span class="builtinfunc" id="2966533">len</span><span class="op" id="2966536">(</span><span class="ident" id="2966537"><a href="/gostd/strings/strings.go.html#2966111">s</a></span><span class="op" id="2966538">)</span>&nbsp;<span class="op" id="2966540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966544"><a href="/gostd/strings/strings.go.html#2966234">a</a></span><span class="op" id="2966545">[</span><span class="ident" id="2966546"><a href="/gostd/strings/strings.go.html#2966285">i</a></span><span class="op" id="2966547">]</span>&nbsp;<span class="op" id="2966549">=</span>&nbsp;<span class="ident" id="2966551"><a href="/gostd/strings/strings.go.html#2966111">s</a></span><span class="op" id="2966552">[</span><span class="ident" id="2966553"><a href="/gostd/strings/strings.go.html#2966288">cur</a></span><span class="op" id="2966556">:</span><span class="op" id="2966557">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2966560">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966563">return</span>&nbsp;<span class="ident" id="2966570"><a href="/gostd/strings/strings.go.html#2966234">a</a></span><br>
<span class="lineno"></span><span class="op" id="2966572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2966575">//&nbsp;primeRK&nbsp;is&nbsp;the&nbsp;prime&nbsp;base&nbsp;used&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="2966634">const</span>&nbsp;<span class="ident" id="2966640">primeRK</span>&nbsp;<span class="op" id="2966648">=</span>&nbsp;<span class="num" id="2966650">16777619</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2966660">//&nbsp;hashStr&nbsp;returns&nbsp;the&nbsp;hash&nbsp;and&nbsp;the&nbsp;appropriate&nbsp;multiplicative</span><br>
<span class="lineno"></span><span class="comment" id="2966723">//&nbsp;factor&nbsp;for&nbsp;use&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="2966766">func</span>&nbsp;<span class="ident" id="2966771">hashStr</span><span class="op" id="2966778">(</span><span class="ident" id="2966779">sep</span>&nbsp;<span class="builtintype" id="2966783">string</span><span class="op" id="2966789">)</span>&nbsp;<span class="op" id="2966791">(</span><span class="builtintype" id="2966792">uint32</span><span class="op" id="2966798">,</span>&nbsp;<span class="builtintype" id="2966800">uint32</span><span class="op" id="2966806">)</span>&nbsp;<span class="op" id="2966808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966811">hash</span>&nbsp;<span class="op" id="2966816">:=</span>&nbsp;<span class="builtintype" id="2966819">uint32</span><span class="op" id="2966825">(</span><span class="num" id="2966826">0</span><span class="op" id="2966827">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966830">for</span>&nbsp;<span class="ident" id="2966834">i</span>&nbsp;<span class="op" id="2966836">:=</span>&nbsp;<span class="num" id="2966839">0</span><span class="op" id="2966840">;</span>&nbsp;<span class="ident" id="2966842"><a href="/gostd/strings/strings.go.html#2966834">i</a></span>&nbsp;<span class="op" id="2966844">&lt;</span>&nbsp;<span class="builtinfunc" id="2966846">len</span><span class="op" id="2966849">(</span><span class="ident" id="2966850"><a href="/gostd/strings/strings.go.html#2966779">sep</a></span><span class="op" id="2966853">)</span><span class="op" id="2966854">;</span>&nbsp;<span class="ident" id="2966856"><a href="/gostd/strings/strings.go.html#2966834">i</a></span><span class="op" id="2966857">++</span>&nbsp;<span class="op" id="2966860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966864"><a href="/gostd/strings/strings.go.html#2966811">hash</a></span>&nbsp;<span class="op" id="2966869">=</span>&nbsp;<span class="ident" id="2966871"><a href="/gostd/strings/strings.go.html#2966811">hash</a></span><span class="op" id="2966875">*</span><span class="ident" id="2966876"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span>&nbsp;<span class="op" id="2966884">+</span>&nbsp;<span class="builtintype" id="2966886">uint32</span><span class="op" id="2966892">(</span><span class="ident" id="2966893"><a href="/gostd/strings/strings.go.html#2966779">sep</a></span><span class="op" id="2966896">[</span><span class="ident" id="2966897"><a href="/gostd/strings/strings.go.html#2966834">i</a></span><span class="op" id="2966898">]</span><span class="op" id="2966899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2966902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966905">var</span>&nbsp;<span class="ident" id="2966909">pow</span><span class="op" id="2966912">,</span>&nbsp;<span class="ident" id="2966914">sq</span>&nbsp;<span class="builtintype" id="2966917">uint32</span>&nbsp;<span class="op" id="2966924">=</span>&nbsp;<span class="num" id="2966926">1</span><span class="op" id="2966927">,</span>&nbsp;<span class="ident" id="2966929"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966938">for</span>&nbsp;<span class="ident" id="2966942">i</span>&nbsp;<span class="op" id="2966944">:=</span>&nbsp;<span class="builtinfunc" id="2966947">len</span><span class="op" id="2966950">(</span><span class="ident" id="2966951"><a href="/gostd/strings/strings.go.html#2966779">sep</a></span><span class="op" id="2966954">)</span><span class="op" id="2966955">;</span>&nbsp;<span class="ident" id="2966957"><a href="/gostd/strings/strings.go.html#2966942">i</a></span>&nbsp;<span class="op" id="2966959">&gt;</span>&nbsp;<span class="num" id="2966961">0</span><span class="op" id="2966962">;</span>&nbsp;<span class="ident" id="2966964"><a href="/gostd/strings/strings.go.html#2966942">i</a></span>&nbsp;<span class="op" id="2966966">&gt;&gt;=</span>&nbsp;<span class="num" id="2966970">1</span>&nbsp;<span class="op" id="2966972">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2966976">if</span>&nbsp;<span class="ident" id="2966979"><a href="/gostd/strings/strings.go.html#2966942">i</a></span><span class="op" id="2966980">&amp;</span><span class="num" id="2966981">1</span>&nbsp;<span class="op" id="2966983">!=</span>&nbsp;<span class="num" id="2966986">0</span>&nbsp;<span class="op" id="2966988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2966993"><a href="/gostd/strings/strings.go.html#2966909">pow</a></span>&nbsp;<span class="op" id="2966997">*=</span>&nbsp;<span class="ident" id="2967000"><a href="/gostd/strings/strings.go.html#2966914">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967009"><a href="/gostd/strings/strings.go.html#2966914">sq</a></span>&nbsp;<span class="op" id="2967012">*=</span>&nbsp;<span class="ident" id="2967015"><a href="/gostd/strings/strings.go.html#2966914">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967019">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967022">return</span>&nbsp;<span class="ident" id="2967029"><a href="/gostd/strings/strings.go.html#2966811">hash</a></span><span class="op" id="2967033">,</span>&nbsp;<span class="ident" id="2967035"><a href="/gostd/strings/strings.go.html#2966909">pow</a></span><br>
<span class="lineno"></span><span class="op" id="2967039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2967042">//&nbsp;hashStrRev&nbsp;returns&nbsp;the&nbsp;hash&nbsp;of&nbsp;the&nbsp;reverse&nbsp;of&nbsp;sep&nbsp;and&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2967103">//&nbsp;appropriate&nbsp;multiplicative&nbsp;factor&nbsp;for&nbsp;use&nbsp;in&nbsp;Rabin-Karp&nbsp;algorithm.</span><br>
<span class="lineno">65</span><span class="keyword" id="2967173">func</span>&nbsp;<span class="ident" id="2967178">hashStrRev</span><span class="op" id="2967188">(</span><span class="ident" id="2967189">sep</span>&nbsp;<span class="builtintype" id="2967193">string</span><span class="op" id="2967199">)</span>&nbsp;<span class="op" id="2967201">(</span><span class="builtintype" id="2967202">uint32</span><span class="op" id="2967208">,</span>&nbsp;<span class="builtintype" id="2967210">uint32</span><span class="op" id="2967216">)</span>&nbsp;<span class="op" id="2967218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967221">hash</span>&nbsp;<span class="op" id="2967226">:=</span>&nbsp;<span class="builtintype" id="2967229">uint32</span><span class="op" id="2967235">(</span><span class="num" id="2967236">0</span><span class="op" id="2967237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967240">for</span>&nbsp;<span class="ident" id="2967244">i</span>&nbsp;<span class="op" id="2967246">:=</span>&nbsp;<span class="builtinfunc" id="2967249">len</span><span class="op" id="2967252">(</span><span class="ident" id="2967253"><a href="/gostd/strings/strings.go.html#2967189">sep</a></span><span class="op" id="2967256">)</span>&nbsp;<span class="op" id="2967258">-</span>&nbsp;<span class="num" id="2967260">1</span><span class="op" id="2967261">;</span>&nbsp;<span class="ident" id="2967263"><a href="/gostd/strings/strings.go.html#2967244">i</a></span>&nbsp;<span class="op" id="2967265">&gt;=</span>&nbsp;<span class="num" id="2967268">0</span><span class="op" id="2967269">;</span>&nbsp;<span class="ident" id="2967271"><a href="/gostd/strings/strings.go.html#2967244">i</a></span><span class="op" id="2967272">--</span>&nbsp;<span class="op" id="2967275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967279"><a href="/gostd/strings/strings.go.html#2967221">hash</a></span>&nbsp;<span class="op" id="2967284">=</span>&nbsp;<span class="ident" id="2967286"><a href="/gostd/strings/strings.go.html#2967221">hash</a></span><span class="op" id="2967290">*</span><span class="ident" id="2967291"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span>&nbsp;<span class="op" id="2967299">+</span>&nbsp;<span class="builtintype" id="2967301">uint32</span><span class="op" id="2967307">(</span><span class="ident" id="2967308"><a href="/gostd/strings/strings.go.html#2967189">sep</a></span><span class="op" id="2967311">[</span><span class="ident" id="2967312"><a href="/gostd/strings/strings.go.html#2967244">i</a></span><span class="op" id="2967313">]</span><span class="op" id="2967314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967317">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967320">var</span>&nbsp;<span class="ident" id="2967324">pow</span><span class="op" id="2967327">,</span>&nbsp;<span class="ident" id="2967329">sq</span>&nbsp;<span class="builtintype" id="2967332">uint32</span>&nbsp;<span class="op" id="2967339">=</span>&nbsp;<span class="num" id="2967341">1</span><span class="op" id="2967342">,</span>&nbsp;<span class="ident" id="2967344"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967353">for</span>&nbsp;<span class="ident" id="2967357">i</span>&nbsp;<span class="op" id="2967359">:=</span>&nbsp;<span class="builtinfunc" id="2967362">len</span><span class="op" id="2967365">(</span><span class="ident" id="2967366"><a href="/gostd/strings/strings.go.html#2967189">sep</a></span><span class="op" id="2967369">)</span><span class="op" id="2967370">;</span>&nbsp;<span class="ident" id="2967372"><a href="/gostd/strings/strings.go.html#2967357">i</a></span>&nbsp;<span class="op" id="2967374">&gt;</span>&nbsp;<span class="num" id="2967376">0</span><span class="op" id="2967377">;</span>&nbsp;<span class="ident" id="2967379"><a href="/gostd/strings/strings.go.html#2967357">i</a></span>&nbsp;<span class="op" id="2967381">&gt;&gt;=</span>&nbsp;<span class="num" id="2967385">1</span>&nbsp;<span class="op" id="2967387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967391">if</span>&nbsp;<span class="ident" id="2967394"><a href="/gostd/strings/strings.go.html#2967357">i</a></span><span class="op" id="2967395">&amp;</span><span class="num" id="2967396">1</span>&nbsp;<span class="op" id="2967398">!=</span>&nbsp;<span class="num" id="2967401">0</span>&nbsp;<span class="op" id="2967403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967408"><a href="/gostd/strings/strings.go.html#2967324">pow</a></span>&nbsp;<span class="op" id="2967412">*=</span>&nbsp;<span class="ident" id="2967415"><a href="/gostd/strings/strings.go.html#2967329">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967420">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967424"><a href="/gostd/strings/strings.go.html#2967329">sq</a></span>&nbsp;<span class="op" id="2967427">*=</span>&nbsp;<span class="ident" id="2967430"><a href="/gostd/strings/strings.go.html#2967329">sq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967437">return</span>&nbsp;<span class="ident" id="2967444"><a href="/gostd/strings/strings.go.html#2967221">hash</a></span><span class="op" id="2967448">,</span>&nbsp;<span class="ident" id="2967450"><a href="/gostd/strings/strings.go.html#2967324">pow</a></span><br>
<span class="lineno"></span><span class="op" id="2967454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="2967457">//&nbsp;Count&nbsp;counts&nbsp;the&nbsp;number&nbsp;of&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;sep&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2967526">func</span>&nbsp;<span class="ident" id="2967531">Count</span><span class="op" id="2967536">(</span><span class="ident" id="2967537">s</span><span class="op" id="2967538">,</span>&nbsp;<span class="ident" id="2967540">sep</span>&nbsp;<span class="builtintype" id="2967544">string</span><span class="op" id="2967550">)</span>&nbsp;<span class="builtintype" id="2967552">int</span>&nbsp;<span class="op" id="2967556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967559">n</span>&nbsp;<span class="op" id="2967561">:=</span>&nbsp;<span class="num" id="2967564">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2967567">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967585">switch</span>&nbsp;<span class="op" id="2967592">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967595">case</span>&nbsp;<span class="builtinfunc" id="2967600">len</span><span class="op" id="2967603">(</span><span class="ident" id="2967604"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2967607">)</span>&nbsp;<span class="op" id="2967609">==</span>&nbsp;<span class="num" id="2967612">0</span><span class="op" id="2967613">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967617">return</span>&nbsp;<span class="ident" id="2967624"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2967628">.</span><span class="ident" id="2967629"><a href="/gostd/unicode/utf8/utf8.go.html#1814113">RuneCountInString</a></span><span class="op" id="2967646">(</span><span class="ident" id="2967647"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2967648">)</span>&nbsp;<span class="op" id="2967650">+</span>&nbsp;<span class="num" id="2967652">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967655">case</span>&nbsp;<span class="builtinfunc" id="2967660">len</span><span class="op" id="2967663">(</span><span class="ident" id="2967664"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2967667">)</span>&nbsp;<span class="op" id="2967669">==</span>&nbsp;<span class="num" id="2967672">1</span><span class="op" id="2967673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2967677">//&nbsp;special&nbsp;case&nbsp;worth&nbsp;making&nbsp;fast</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967713">c</span>&nbsp;<span class="op" id="2967715">:=</span>&nbsp;<span class="ident" id="2967718"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2967721">[</span><span class="num" id="2967722">0</span><span class="op" id="2967723">]</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967727">for</span>&nbsp;<span class="ident" id="2967731">i</span>&nbsp;<span class="op" id="2967733">:=</span>&nbsp;<span class="num" id="2967736">0</span><span class="op" id="2967737">;</span>&nbsp;<span class="ident" id="2967739"><a href="/gostd/strings/strings.go.html#2967731">i</a></span>&nbsp;<span class="op" id="2967741">&lt;</span>&nbsp;<span class="builtinfunc" id="2967743">len</span><span class="op" id="2967746">(</span><span class="ident" id="2967747"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2967748">)</span><span class="op" id="2967749">;</span>&nbsp;<span class="ident" id="2967751"><a href="/gostd/strings/strings.go.html#2967731">i</a></span><span class="op" id="2967752">++</span>&nbsp;<span class="op" id="2967755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967760">if</span>&nbsp;<span class="ident" id="2967763"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2967764">[</span><span class="ident" id="2967765"><a href="/gostd/strings/strings.go.html#2967731">i</a></span><span class="op" id="2967766">]</span>&nbsp;<span class="op" id="2967768">==</span>&nbsp;<span class="ident" id="2967771"><a href="/gostd/strings/strings.go.html#2967713">c</a></span>&nbsp;<span class="op" id="2967773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967779"><a href="/gostd/strings/strings.go.html#2967559">n</a></span><span class="op" id="2967780">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967790">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967794">return</span>&nbsp;<span class="ident" id="2967801"><a href="/gostd/strings/strings.go.html#2967559">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967804">case</span>&nbsp;<span class="builtinfunc" id="2967809">len</span><span class="op" id="2967812">(</span><span class="ident" id="2967813"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2967816">)</span>&nbsp;<span class="op" id="2967818">&gt;</span>&nbsp;<span class="builtinfunc" id="2967820">len</span><span class="op" id="2967823">(</span><span class="ident" id="2967824"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2967825">)</span><span class="op" id="2967826">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967830">return</span>&nbsp;<span class="num" id="2967837">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967840">case</span>&nbsp;<span class="builtinfunc" id="2967845">len</span><span class="op" id="2967848">(</span><span class="ident" id="2967849"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2967852">)</span>&nbsp;<span class="op" id="2967854">==</span>&nbsp;<span class="builtinfunc" id="2967857">len</span><span class="op" id="2967860">(</span><span class="ident" id="2967861"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2967862">)</span><span class="op" id="2967863">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967867">if</span>&nbsp;<span class="ident" id="2967870"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span>&nbsp;<span class="op" id="2967874">==</span>&nbsp;<span class="ident" id="2967877"><a href="/gostd/strings/strings.go.html#2967537">s</a></span>&nbsp;<span class="op" id="2967879">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967884">return</span>&nbsp;<span class="num" id="2967891">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967899">return</span>&nbsp;<span class="num" id="2967906">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2967912">//&nbsp;Rabin-Karp&nbsp;search</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967934">hashsep</span><span class="op" id="2967941">,</span>&nbsp;<span class="ident" id="2967943">pow</span>&nbsp;<span class="op" id="2967947">:=</span>&nbsp;<span class="ident" id="2967950"><a href="/gostd/strings/strings.go.html#2966771">hashStr</a></span><span class="op" id="2967957">(</span><span class="ident" id="2967958"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2967961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967964">h</span>&nbsp;<span class="op" id="2967966">:=</span>&nbsp;<span class="builtintype" id="2967969">uint32</span><span class="op" id="2967975">(</span><span class="num" id="2967976">0</span><span class="op" id="2967977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967980">for</span>&nbsp;<span class="ident" id="2967984">i</span>&nbsp;<span class="op" id="2967986">:=</span>&nbsp;<span class="num" id="2967989">0</span><span class="op" id="2967990">;</span>&nbsp;<span class="ident" id="2967992"><a href="/gostd/strings/strings.go.html#2967984">i</a></span>&nbsp;<span class="op" id="2967994">&lt;</span>&nbsp;<span class="builtinfunc" id="2967996">len</span><span class="op" id="2967999">(</span><span class="ident" id="2968000"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2968003">)</span><span class="op" id="2968004">;</span>&nbsp;<span class="ident" id="2968006"><a href="/gostd/strings/strings.go.html#2967984">i</a></span><span class="op" id="2968007">++</span>&nbsp;<span class="op" id="2968010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968014"><a href="/gostd/strings/strings.go.html#2967964">h</a></span>&nbsp;<span class="op" id="2968016">=</span>&nbsp;<span class="ident" id="2968018"><a href="/gostd/strings/strings.go.html#2967964">h</a></span><span class="op" id="2968019">*</span><span class="ident" id="2968020"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span>&nbsp;<span class="op" id="2968028">+</span>&nbsp;<span class="builtintype" id="2968030">uint32</span><span class="op" id="2968036">(</span><span class="ident" id="2968037"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2968038">[</span><span class="ident" id="2968039"><a href="/gostd/strings/strings.go.html#2967984">i</a></span><span class="op" id="2968040">]</span><span class="op" id="2968041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968044">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968047">lastmatch</span>&nbsp;<span class="op" id="2968057">:=</span>&nbsp;<span class="num" id="2968060">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968063">if</span>&nbsp;<span class="ident" id="2968066"><a href="/gostd/strings/strings.go.html#2967964">h</a></span>&nbsp;<span class="op" id="2968068">==</span>&nbsp;<span class="ident" id="2968071"><a href="/gostd/strings/strings.go.html#2967934">hashsep</a></span>&nbsp;<span class="op" id="2968079">&amp;&amp;</span>&nbsp;<span class="ident" id="2968082"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2968083">[</span><span class="op" id="2968084">:</span><span class="builtinfunc" id="2968085">len</span><span class="op" id="2968088">(</span><span class="ident" id="2968089"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2968092">)</span><span class="op" id="2968093">]</span>&nbsp;<span class="op" id="2968095">==</span>&nbsp;<span class="ident" id="2968098"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span>&nbsp;<span class="op" id="2968102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968106"><a href="/gostd/strings/strings.go.html#2967559">n</a></span><span class="op" id="2968107">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968112"><a href="/gostd/strings/strings.go.html#2968047">lastmatch</a></span>&nbsp;<span class="op" id="2968122">=</span>&nbsp;<span class="builtinfunc" id="2968124">len</span><span class="op" id="2968127">(</span><span class="ident" id="2968128"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2968131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968134">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968137">for</span>&nbsp;<span class="ident" id="2968141">i</span>&nbsp;<span class="op" id="2968143">:=</span>&nbsp;<span class="builtinfunc" id="2968146">len</span><span class="op" id="2968149">(</span><span class="ident" id="2968150"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2968153">)</span><span class="op" id="2968154">;</span>&nbsp;<span class="ident" id="2968156"><a href="/gostd/strings/strings.go.html#2968141">i</a></span>&nbsp;<span class="op" id="2968158">&lt;</span>&nbsp;<span class="builtinfunc" id="2968160">len</span><span class="op" id="2968163">(</span><span class="ident" id="2968164"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2968165">)</span><span class="op" id="2968166">;</span>&nbsp;<span class="op" id="2968168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968172"><a href="/gostd/strings/strings.go.html#2967964">h</a></span>&nbsp;<span class="op" id="2968174">*=</span>&nbsp;<span class="ident" id="2968177"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968187"><a href="/gostd/strings/strings.go.html#2967964">h</a></span>&nbsp;<span class="op" id="2968189">+=</span>&nbsp;<span class="builtintype" id="2968192">uint32</span><span class="op" id="2968198">(</span><span class="ident" id="2968199"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2968200">[</span><span class="ident" id="2968201"><a href="/gostd/strings/strings.go.html#2968141">i</a></span><span class="op" id="2968202">]</span><span class="op" id="2968203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968207"><a href="/gostd/strings/strings.go.html#2967964">h</a></span>&nbsp;<span class="op" id="2968209">-=</span>&nbsp;<span class="ident" id="2968212"><a href="/gostd/strings/strings.go.html#2967943">pow</a></span>&nbsp;<span class="op" id="2968216">*</span>&nbsp;<span class="builtintype" id="2968218">uint32</span><span class="op" id="2968224">(</span><span class="ident" id="2968225"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2968226">[</span><span class="ident" id="2968227"><a href="/gostd/strings/strings.go.html#2968141">i</a></span><span class="op" id="2968228">-</span><span class="builtinfunc" id="2968229">len</span><span class="op" id="2968232">(</span><span class="ident" id="2968233"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2968236">)</span><span class="op" id="2968237">]</span><span class="op" id="2968238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968242"><a href="/gostd/strings/strings.go.html#2968141">i</a></span><span class="op" id="2968243">++</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968248">if</span>&nbsp;<span class="ident" id="2968251"><a href="/gostd/strings/strings.go.html#2967964">h</a></span>&nbsp;<span class="op" id="2968253">==</span>&nbsp;<span class="ident" id="2968256"><a href="/gostd/strings/strings.go.html#2967934">hashsep</a></span>&nbsp;<span class="op" id="2968264">&amp;&amp;</span>&nbsp;<span class="ident" id="2968267"><a href="/gostd/strings/strings.go.html#2968047">lastmatch</a></span>&nbsp;<span class="op" id="2968277">&lt;=</span>&nbsp;<span class="ident" id="2968280"><a href="/gostd/strings/strings.go.html#2968141">i</a></span><span class="op" id="2968281">-</span><span class="builtinfunc" id="2968282">len</span><span class="op" id="2968285">(</span><span class="ident" id="2968286"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2968289">)</span>&nbsp;<span class="op" id="2968291">&amp;&amp;</span>&nbsp;<span class="ident" id="2968294"><a href="/gostd/strings/strings.go.html#2967537">s</a></span><span class="op" id="2968295">[</span><span class="ident" id="2968296"><a href="/gostd/strings/strings.go.html#2968141">i</a></span><span class="op" id="2968297">-</span><span class="builtinfunc" id="2968298">len</span><span class="op" id="2968301">(</span><span class="ident" id="2968302"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span><span class="op" id="2968305">)</span><span class="op" id="2968306">:</span><span class="ident" id="2968307"><a href="/gostd/strings/strings.go.html#2968141">i</a></span><span class="op" id="2968308">]</span>&nbsp;<span class="op" id="2968310">==</span>&nbsp;<span class="ident" id="2968313"><a href="/gostd/strings/strings.go.html#2967540">sep</a></span>&nbsp;<span class="op" id="2968317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968322"><a href="/gostd/strings/strings.go.html#2967559">n</a></span><span class="op" id="2968323">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968329"><a href="/gostd/strings/strings.go.html#2968047">lastmatch</a></span>&nbsp;<span class="op" id="2968339">=</span>&nbsp;<span class="ident" id="2968341"><a href="/gostd/strings/strings.go.html#2968141">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968348">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968351">return</span>&nbsp;<span class="ident" id="2968358"><a href="/gostd/strings/strings.go.html#2967559">n</a></span><br>
<span class="lineno"></span><span class="op" id="2968360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2968363">//&nbsp;Contains&nbsp;returns&nbsp;true&nbsp;if&nbsp;substr&nbsp;is&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2968411">func</span>&nbsp;<span class="ident" id="2968416">Contains</span><span class="op" id="2968424">(</span><span class="ident" id="2968425">s</span><span class="op" id="2968426">,</span>&nbsp;<span class="ident" id="2968428">substr</span>&nbsp;<span class="builtintype" id="2968435">string</span><span class="op" id="2968441">)</span>&nbsp;<span class="builtintype" id="2968443">bool</span>&nbsp;<span class="op" id="2968448">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968451">return</span>&nbsp;<span class="ident" id="2968458"><a href="/gostd/strings/strings.go.html#2968883">Index</a></span><span class="op" id="2968463">(</span><span class="ident" id="2968464"><a href="/gostd/strings/strings.go.html#2968425">s</a></span><span class="op" id="2968465">,</span>&nbsp;<span class="ident" id="2968467"><a href="/gostd/strings/strings.go.html#2968428">substr</a></span><span class="op" id="2968473">)</span>&nbsp;<span class="op" id="2968475">&gt;=</span>&nbsp;<span class="num" id="2968478">0</span><br>
<span class="lineno"></span><span class="op" id="2968480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2968483">//&nbsp;ContainsAny&nbsp;returns&nbsp;true&nbsp;if&nbsp;any&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;in&nbsp;chars&nbsp;are&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2968561">func</span>&nbsp;<span class="ident" id="2968566">ContainsAny</span><span class="op" id="2968577">(</span><span class="ident" id="2968578">s</span><span class="op" id="2968579">,</span>&nbsp;<span class="ident" id="2968581">chars</span>&nbsp;<span class="builtintype" id="2968587">string</span><span class="op" id="2968593">)</span>&nbsp;<span class="builtintype" id="2968595">bool</span>&nbsp;<span class="op" id="2968600">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968603">return</span>&nbsp;<span class="ident" id="2968610"><a href="/gostd/strings/strings.go.html#2970774">IndexAny</a></span><span class="op" id="2968618">(</span><span class="ident" id="2968619"><a href="/gostd/strings/strings.go.html#2968578">s</a></span><span class="op" id="2968620">,</span>&nbsp;<span class="ident" id="2968622"><a href="/gostd/strings/strings.go.html#2968581">chars</a></span><span class="op" id="2968627">)</span>&nbsp;<span class="op" id="2968629">&gt;=</span>&nbsp;<span class="num" id="2968632">0</span><br>
<span class="lineno"></span><span class="op" id="2968634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2968637">//&nbsp;ContainsRune&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;r&nbsp;is&nbsp;within&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2968707">func</span>&nbsp;<span class="ident" id="2968712">ContainsRune</span><span class="op" id="2968724">(</span><span class="ident" id="2968725">s</span>&nbsp;<span class="builtintype" id="2968727">string</span><span class="op" id="2968733">,</span>&nbsp;<span class="ident" id="2968735">r</span>&nbsp;<span class="builtintype" id="2968737">rune</span><span class="op" id="2968741">)</span>&nbsp;<span class="builtintype" id="2968743">bool</span>&nbsp;<span class="op" id="2968748">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968751">return</span>&nbsp;<span class="ident" id="2968758"><a href="/gostd/strings/strings.go.html#2970424">IndexRune</a></span><span class="op" id="2968767">(</span><span class="ident" id="2968768"><a href="/gostd/strings/strings.go.html#2968725">s</a></span><span class="op" id="2968769">,</span>&nbsp;<span class="ident" id="2968771"><a href="/gostd/strings/strings.go.html#2968735">r</a></span><span class="op" id="2968772">)</span>&nbsp;<span class="op" id="2968774">&gt;=</span>&nbsp;<span class="num" id="2968777">0</span><br>
<span class="lineno"></span><span class="op" id="2968779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2968782">//&nbsp;Index&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2968878">func</span>&nbsp;<span class="ident" id="2968883">Index</span><span class="op" id="2968888">(</span><span class="ident" id="2968889">s</span><span class="op" id="2968890">,</span>&nbsp;<span class="ident" id="2968892">sep</span>&nbsp;<span class="builtintype" id="2968896">string</span><span class="op" id="2968902">)</span>&nbsp;<span class="builtintype" id="2968904">int</span>&nbsp;<span class="op" id="2968908">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968911">n</span>&nbsp;<span class="op" id="2968913">:=</span>&nbsp;<span class="builtinfunc" id="2968916">len</span><span class="op" id="2968919">(</span><span class="ident" id="2968920"><a href="/gostd/strings/strings.go.html#2968892">sep</a></span><span class="op" id="2968923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968926">switch</span>&nbsp;<span class="op" id="2968933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968936">case</span>&nbsp;<span class="ident" id="2968941"><a href="/gostd/strings/strings.go.html#2968911">n</a></span>&nbsp;<span class="op" id="2968943">==</span>&nbsp;<span class="num" id="2968946">0</span><span class="op" id="2968947">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968951">return</span>&nbsp;<span class="num" id="2968958">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968961">case</span>&nbsp;<span class="ident" id="2968966"><a href="/gostd/strings/strings.go.html#2968911">n</a></span>&nbsp;<span class="op" id="2968968">==</span>&nbsp;<span class="num" id="2968971">1</span><span class="op" id="2968972">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968976">return</span>&nbsp;<span class="ident" id="2968983"><a href="/gostd/strings/strings_decl.go.html#2985554">IndexByte</a></span><span class="op" id="2968992">(</span><span class="ident" id="2968993"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2968994">,</span>&nbsp;<span class="ident" id="2968996"><a href="/gostd/strings/strings.go.html#2968892">sep</a></span><span class="op" id="2968999">[</span><span class="num" id="2969000">0</span><span class="op" id="2969001">]</span><span class="op" id="2969002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969005">case</span>&nbsp;<span class="ident" id="2969010"><a href="/gostd/strings/strings.go.html#2968911">n</a></span>&nbsp;<span class="op" id="2969012">==</span>&nbsp;<span class="builtinfunc" id="2969015">len</span><span class="op" id="2969018">(</span><span class="ident" id="2969019"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969020">)</span><span class="op" id="2969021">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969025">if</span>&nbsp;<span class="ident" id="2969028"><a href="/gostd/strings/strings.go.html#2968892">sep</a></span>&nbsp;<span class="op" id="2969032">==</span>&nbsp;<span class="ident" id="2969035"><a href="/gostd/strings/strings.go.html#2968889">s</a></span>&nbsp;<span class="op" id="2969037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969042">return</span>&nbsp;<span class="num" id="2969049">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969053">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969057">return</span>&nbsp;<span class="op" id="2969064">-</span><span class="num" id="2969065">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969068">case</span>&nbsp;<span class="ident" id="2969073"><a href="/gostd/strings/strings.go.html#2968911">n</a></span>&nbsp;<span class="op" id="2969075">&gt;</span>&nbsp;<span class="builtinfunc" id="2969077">len</span><span class="op" id="2969080">(</span><span class="ident" id="2969081"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969082">)</span><span class="op" id="2969083">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969087">return</span>&nbsp;<span class="op" id="2969094">-</span><span class="num" id="2969095">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2969101">//&nbsp;Rabin-Karp&nbsp;search</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969123">hashsep</span><span class="op" id="2969130">,</span>&nbsp;<span class="ident" id="2969132">pow</span>&nbsp;<span class="op" id="2969136">:=</span>&nbsp;<span class="ident" id="2969139"><a href="/gostd/strings/strings.go.html#2966771">hashStr</a></span><span class="op" id="2969146">(</span><span class="ident" id="2969147"><a href="/gostd/strings/strings.go.html#2968892">sep</a></span><span class="op" id="2969150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969153">var</span>&nbsp;<span class="ident" id="2969157">h</span>&nbsp;<span class="builtintype" id="2969159">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969167">for</span>&nbsp;<span class="ident" id="2969171">i</span>&nbsp;<span class="op" id="2969173">:=</span>&nbsp;<span class="num" id="2969176">0</span><span class="op" id="2969177">;</span>&nbsp;<span class="ident" id="2969179"><a href="/gostd/strings/strings.go.html#2969171">i</a></span>&nbsp;<span class="op" id="2969181">&lt;</span>&nbsp;<span class="ident" id="2969183"><a href="/gostd/strings/strings.go.html#2968911">n</a></span><span class="op" id="2969184">;</span>&nbsp;<span class="ident" id="2969186"><a href="/gostd/strings/strings.go.html#2969171">i</a></span><span class="op" id="2969187">++</span>&nbsp;<span class="op" id="2969190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969194"><a href="/gostd/strings/strings.go.html#2969157">h</a></span>&nbsp;<span class="op" id="2969196">=</span>&nbsp;<span class="ident" id="2969198"><a href="/gostd/strings/strings.go.html#2969157">h</a></span><span class="op" id="2969199">*</span><span class="ident" id="2969200"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span>&nbsp;<span class="op" id="2969208">+</span>&nbsp;<span class="builtintype" id="2969210">uint32</span><span class="op" id="2969216">(</span><span class="ident" id="2969217"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969218">[</span><span class="ident" id="2969219"><a href="/gostd/strings/strings.go.html#2969171">i</a></span><span class="op" id="2969220">]</span><span class="op" id="2969221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969224">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969227">if</span>&nbsp;<span class="ident" id="2969230"><a href="/gostd/strings/strings.go.html#2969157">h</a></span>&nbsp;<span class="op" id="2969232">==</span>&nbsp;<span class="ident" id="2969235"><a href="/gostd/strings/strings.go.html#2969123">hashsep</a></span>&nbsp;<span class="op" id="2969243">&amp;&amp;</span>&nbsp;<span class="ident" id="2969246"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969247">[</span><span class="op" id="2969248">:</span><span class="ident" id="2969249"><a href="/gostd/strings/strings.go.html#2968911">n</a></span><span class="op" id="2969250">]</span>&nbsp;<span class="op" id="2969252">==</span>&nbsp;<span class="ident" id="2969255"><a href="/gostd/strings/strings.go.html#2968892">sep</a></span>&nbsp;<span class="op" id="2969259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969263">return</span>&nbsp;<span class="num" id="2969270">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969276">for</span>&nbsp;<span class="ident" id="2969280">i</span>&nbsp;<span class="op" id="2969282">:=</span>&nbsp;<span class="ident" id="2969285"><a href="/gostd/strings/strings.go.html#2968911">n</a></span><span class="op" id="2969286">;</span>&nbsp;<span class="ident" id="2969288"><a href="/gostd/strings/strings.go.html#2969280">i</a></span>&nbsp;<span class="op" id="2969290">&lt;</span>&nbsp;<span class="builtinfunc" id="2969292">len</span><span class="op" id="2969295">(</span><span class="ident" id="2969296"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969297">)</span><span class="op" id="2969298">;</span>&nbsp;<span class="op" id="2969300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969304"><a href="/gostd/strings/strings.go.html#2969157">h</a></span>&nbsp;<span class="op" id="2969306">*=</span>&nbsp;<span class="ident" id="2969309"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969319"><a href="/gostd/strings/strings.go.html#2969157">h</a></span>&nbsp;<span class="op" id="2969321">+=</span>&nbsp;<span class="builtintype" id="2969324">uint32</span><span class="op" id="2969330">(</span><span class="ident" id="2969331"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969332">[</span><span class="ident" id="2969333"><a href="/gostd/strings/strings.go.html#2969280">i</a></span><span class="op" id="2969334">]</span><span class="op" id="2969335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969339"><a href="/gostd/strings/strings.go.html#2969157">h</a></span>&nbsp;<span class="op" id="2969341">-=</span>&nbsp;<span class="ident" id="2969344"><a href="/gostd/strings/strings.go.html#2969132">pow</a></span>&nbsp;<span class="op" id="2969348">*</span>&nbsp;<span class="builtintype" id="2969350">uint32</span><span class="op" id="2969356">(</span><span class="ident" id="2969357"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969358">[</span><span class="ident" id="2969359"><a href="/gostd/strings/strings.go.html#2969280">i</a></span><span class="op" id="2969360">-</span><span class="ident" id="2969361"><a href="/gostd/strings/strings.go.html#2968911">n</a></span><span class="op" id="2969362">]</span><span class="op" id="2969363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969367"><a href="/gostd/strings/strings.go.html#2969280">i</a></span><span class="op" id="2969368">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969373">if</span>&nbsp;<span class="ident" id="2969376"><a href="/gostd/strings/strings.go.html#2969157">h</a></span>&nbsp;<span class="op" id="2969378">==</span>&nbsp;<span class="ident" id="2969381"><a href="/gostd/strings/strings.go.html#2969123">hashsep</a></span>&nbsp;<span class="op" id="2969389">&amp;&amp;</span>&nbsp;<span class="ident" id="2969392"><a href="/gostd/strings/strings.go.html#2968889">s</a></span><span class="op" id="2969393">[</span><span class="ident" id="2969394"><a href="/gostd/strings/strings.go.html#2969280">i</a></span><span class="op" id="2969395">-</span><span class="ident" id="2969396"><a href="/gostd/strings/strings.go.html#2968911">n</a></span><span class="op" id="2969397">:</span><span class="ident" id="2969398"><a href="/gostd/strings/strings.go.html#2969280">i</a></span><span class="op" id="2969399">]</span>&nbsp;<span class="op" id="2969401">==</span>&nbsp;<span class="ident" id="2969404"><a href="/gostd/strings/strings.go.html#2968892">sep</a></span>&nbsp;<span class="op" id="2969408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969413">return</span>&nbsp;<span class="ident" id="2969420"><a href="/gostd/strings/strings.go.html#2969280">i</a></span>&nbsp;<span class="op" id="2969422">-</span>&nbsp;<span class="ident" id="2969424"><a href="/gostd/strings/strings.go.html#2968911">n</a></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969434">return</span>&nbsp;<span class="op" id="2969441">-</span><span class="num" id="2969442">1</span><br>
<span class="lineno"></span><span class="op" id="2969444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="2969447">//&nbsp;LastIndex&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2969546">func</span>&nbsp;<span class="ident" id="2969551">LastIndex</span><span class="op" id="2969560">(</span><span class="ident" id="2969561">s</span><span class="op" id="2969562">,</span>&nbsp;<span class="ident" id="2969564">sep</span>&nbsp;<span class="builtintype" id="2969568">string</span><span class="op" id="2969574">)</span>&nbsp;<span class="builtintype" id="2969576">int</span>&nbsp;<span class="op" id="2969580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969583">n</span>&nbsp;<span class="op" id="2969585">:=</span>&nbsp;<span class="builtinfunc" id="2969588">len</span><span class="op" id="2969591">(</span><span class="ident" id="2969592"><a href="/gostd/strings/strings.go.html#2969564">sep</a></span><span class="op" id="2969595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969598">switch</span>&nbsp;<span class="op" id="2969605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969608">case</span>&nbsp;<span class="ident" id="2969613"><a href="/gostd/strings/strings.go.html#2969583">n</a></span>&nbsp;<span class="op" id="2969615">==</span>&nbsp;<span class="num" id="2969618">0</span><span class="op" id="2969619">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969623">return</span>&nbsp;<span class="builtinfunc" id="2969630">len</span><span class="op" id="2969633">(</span><span class="ident" id="2969634"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2969635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969638">case</span>&nbsp;<span class="ident" id="2969643"><a href="/gostd/strings/strings.go.html#2969583">n</a></span>&nbsp;<span class="op" id="2969645">==</span>&nbsp;<span class="num" id="2969648">1</span><span class="op" id="2969649">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2969653">//&nbsp;special&nbsp;case&nbsp;worth&nbsp;making&nbsp;fast</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969689">c</span>&nbsp;<span class="op" id="2969691">:=</span>&nbsp;<span class="ident" id="2969694"><a href="/gostd/strings/strings.go.html#2969564">sep</a></span><span class="op" id="2969697">[</span><span class="num" id="2969698">0</span><span class="op" id="2969699">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969703">for</span>&nbsp;<span class="ident" id="2969707">i</span>&nbsp;<span class="op" id="2969709">:=</span>&nbsp;<span class="builtinfunc" id="2969712">len</span><span class="op" id="2969715">(</span><span class="ident" id="2969716"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2969717">)</span>&nbsp;<span class="op" id="2969719">-</span>&nbsp;<span class="num" id="2969721">1</span><span class="op" id="2969722">;</span>&nbsp;<span class="ident" id="2969724"><a href="/gostd/strings/strings.go.html#2969707">i</a></span>&nbsp;<span class="op" id="2969726">&gt;=</span>&nbsp;<span class="num" id="2969729">0</span><span class="op" id="2969730">;</span>&nbsp;<span class="ident" id="2969732"><a href="/gostd/strings/strings.go.html#2969707">i</a></span><span class="op" id="2969733">--</span>&nbsp;<span class="op" id="2969736">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969741">if</span>&nbsp;<span class="ident" id="2969744"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2969745">[</span><span class="ident" id="2969746"><a href="/gostd/strings/strings.go.html#2969707">i</a></span><span class="op" id="2969747">]</span>&nbsp;<span class="op" id="2969749">==</span>&nbsp;<span class="ident" id="2969752"><a href="/gostd/strings/strings.go.html#2969689">c</a></span>&nbsp;<span class="op" id="2969754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969760">return</span>&nbsp;<span class="ident" id="2969767"><a href="/gostd/strings/strings.go.html#2969707">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969780">return</span>&nbsp;<span class="op" id="2969787">-</span><span class="num" id="2969788">1</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969791">case</span>&nbsp;<span class="ident" id="2969796"><a href="/gostd/strings/strings.go.html#2969583">n</a></span>&nbsp;<span class="op" id="2969798">==</span>&nbsp;<span class="builtinfunc" id="2969801">len</span><span class="op" id="2969804">(</span><span class="ident" id="2969805"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2969806">)</span><span class="op" id="2969807">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969811">if</span>&nbsp;<span class="ident" id="2969814"><a href="/gostd/strings/strings.go.html#2969564">sep</a></span>&nbsp;<span class="op" id="2969818">==</span>&nbsp;<span class="ident" id="2969821"><a href="/gostd/strings/strings.go.html#2969561">s</a></span>&nbsp;<span class="op" id="2969823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969828">return</span>&nbsp;<span class="num" id="2969835">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969843">return</span>&nbsp;<span class="op" id="2969850">-</span><span class="num" id="2969851">1</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969854">case</span>&nbsp;<span class="ident" id="2969859"><a href="/gostd/strings/strings.go.html#2969583">n</a></span>&nbsp;<span class="op" id="2969861">&gt;</span>&nbsp;<span class="builtinfunc" id="2969863">len</span><span class="op" id="2969866">(</span><span class="ident" id="2969867"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2969868">)</span><span class="op" id="2969869">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969873">return</span>&nbsp;<span class="op" id="2969880">-</span><span class="num" id="2969881">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2969884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2969887">//&nbsp;Rabin-Karp&nbsp;search&nbsp;from&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969936">hashsep</span><span class="op" id="2969943">,</span>&nbsp;<span class="ident" id="2969945">pow</span>&nbsp;<span class="op" id="2969949">:=</span>&nbsp;<span class="ident" id="2969952"><a href="/gostd/strings/strings.go.html#2967178">hashStrRev</a></span><span class="op" id="2969962">(</span><span class="ident" id="2969963"><a href="/gostd/strings/strings.go.html#2969564">sep</a></span><span class="op" id="2969966">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2969969">last</span>&nbsp;<span class="op" id="2969974">:=</span>&nbsp;<span class="builtinfunc" id="2969977">len</span><span class="op" id="2969980">(</span><span class="ident" id="2969981"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2969982">)</span>&nbsp;<span class="op" id="2969984">-</span>&nbsp;<span class="ident" id="2969986"><a href="/gostd/strings/strings.go.html#2969583">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2969989">var</span>&nbsp;<span class="ident" id="2969993">h</span>&nbsp;<span class="builtintype" id="2969995">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970003">for</span>&nbsp;<span class="ident" id="2970007">i</span>&nbsp;<span class="op" id="2970009">:=</span>&nbsp;<span class="builtinfunc" id="2970012">len</span><span class="op" id="2970015">(</span><span class="ident" id="2970016"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2970017">)</span>&nbsp;<span class="op" id="2970019">-</span>&nbsp;<span class="num" id="2970021">1</span><span class="op" id="2970022">;</span>&nbsp;<span class="ident" id="2970024"><a href="/gostd/strings/strings.go.html#2970007">i</a></span>&nbsp;<span class="op" id="2970026">&gt;=</span>&nbsp;<span class="ident" id="2970029"><a href="/gostd/strings/strings.go.html#2969969">last</a></span><span class="op" id="2970033">;</span>&nbsp;<span class="ident" id="2970035"><a href="/gostd/strings/strings.go.html#2970007">i</a></span><span class="op" id="2970036">--</span>&nbsp;<span class="op" id="2970039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970043"><a href="/gostd/strings/strings.go.html#2969993">h</a></span>&nbsp;<span class="op" id="2970045">=</span>&nbsp;<span class="ident" id="2970047"><a href="/gostd/strings/strings.go.html#2969993">h</a></span><span class="op" id="2970048">*</span><span class="ident" id="2970049"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span>&nbsp;<span class="op" id="2970057">+</span>&nbsp;<span class="builtintype" id="2970059">uint32</span><span class="op" id="2970065">(</span><span class="ident" id="2970066"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2970067">[</span><span class="ident" id="2970068"><a href="/gostd/strings/strings.go.html#2970007">i</a></span><span class="op" id="2970069">]</span><span class="op" id="2970070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970073">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970076">if</span>&nbsp;<span class="ident" id="2970079"><a href="/gostd/strings/strings.go.html#2969993">h</a></span>&nbsp;<span class="op" id="2970081">==</span>&nbsp;<span class="ident" id="2970084"><a href="/gostd/strings/strings.go.html#2969936">hashsep</a></span>&nbsp;<span class="op" id="2970092">&amp;&amp;</span>&nbsp;<span class="ident" id="2970095"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2970096">[</span><span class="ident" id="2970097"><a href="/gostd/strings/strings.go.html#2969969">last</a></span><span class="op" id="2970101">:</span><span class="op" id="2970102">]</span>&nbsp;<span class="op" id="2970104">==</span>&nbsp;<span class="ident" id="2970107"><a href="/gostd/strings/strings.go.html#2969564">sep</a></span>&nbsp;<span class="op" id="2970111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970115">return</span>&nbsp;<span class="ident" id="2970122"><a href="/gostd/strings/strings.go.html#2969969">last</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970131">for</span>&nbsp;<span class="ident" id="2970135">i</span>&nbsp;<span class="op" id="2970137">:=</span>&nbsp;<span class="ident" id="2970140"><a href="/gostd/strings/strings.go.html#2969969">last</a></span>&nbsp;<span class="op" id="2970145">-</span>&nbsp;<span class="num" id="2970147">1</span><span class="op" id="2970148">;</span>&nbsp;<span class="ident" id="2970150"><a href="/gostd/strings/strings.go.html#2970135">i</a></span>&nbsp;<span class="op" id="2970152">&gt;=</span>&nbsp;<span class="num" id="2970155">0</span><span class="op" id="2970156">;</span>&nbsp;<span class="ident" id="2970158"><a href="/gostd/strings/strings.go.html#2970135">i</a></span><span class="op" id="2970159">--</span>&nbsp;<span class="op" id="2970162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970166"><a href="/gostd/strings/strings.go.html#2969993">h</a></span>&nbsp;<span class="op" id="2970168">*=</span>&nbsp;<span class="ident" id="2970171"><a href="/gostd/strings/strings.go.html#2966640">primeRK</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970181"><a href="/gostd/strings/strings.go.html#2969993">h</a></span>&nbsp;<span class="op" id="2970183">+=</span>&nbsp;<span class="builtintype" id="2970186">uint32</span><span class="op" id="2970192">(</span><span class="ident" id="2970193"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2970194">[</span><span class="ident" id="2970195"><a href="/gostd/strings/strings.go.html#2970135">i</a></span><span class="op" id="2970196">]</span><span class="op" id="2970197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2970201"><a href="/gostd/strings/strings.go.html#2969993">h</a></span>&nbsp;<span class="op" id="2970203">-=</span>&nbsp;<span class="ident" id="2970206"><a href="/gostd/strings/strings.go.html#2969945">pow</a></span>&nbsp;<span class="op" id="2970210">*</span>&nbsp;<span class="builtintype" id="2970212">uint32</span><span class="op" id="2970218">(</span><span class="ident" id="2970219"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2970220">[</span><span class="ident" id="2970221"><a href="/gostd/strings/strings.go.html#2970135">i</a></span><span class="op" id="2970222">+</span><span class="ident" id="2970223"><a href="/gostd/strings/strings.go.html#2969583">n</a></span><span class="op" id="2970224">]</span><span class="op" id="2970225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970229">if</span>&nbsp;<span class="ident" id="2970232"><a href="/gostd/strings/strings.go.html#2969993">h</a></span>&nbsp;<span class="op" id="2970234">==</span>&nbsp;<span class="ident" id="2970237"><a href="/gostd/strings/strings.go.html#2969936">hashsep</a></span>&nbsp;<span class="op" id="2970245">&amp;&amp;</span>&nbsp;<span class="ident" id="2970248"><a href="/gostd/strings/strings.go.html#2969561">s</a></span><span class="op" id="2970249">[</span><span class="ident" id="2970250"><a href="/gostd/strings/strings.go.html#2970135">i</a></span><span class="op" id="2970251">:</span><span class="ident" id="2970252"><a href="/gostd/strings/strings.go.html#2970135">i</a></span><span class="op" id="2970253">+</span><span class="ident" id="2970254"><a href="/gostd/strings/strings.go.html#2969583">n</a></span><span class="op" id="2970255">]</span>&nbsp;<span class="op" id="2970257">==</span>&nbsp;<span class="ident" id="2970260"><a href="/gostd/strings/strings.go.html#2969564">sep</a></span>&nbsp;<span class="op" id="2970264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970269">return</span>&nbsp;<span class="ident" id="2970276"><a href="/gostd/strings/strings.go.html#2970135">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970280">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970286">return</span>&nbsp;<span class="op" id="2970293">-</span><span class="num" id="2970294">1</span><br>
<span class="lineno"></span><span class="op" id="2970296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2970299">//&nbsp;IndexRune&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;the&nbsp;Unicode&nbsp;code&nbsp;point</span><br>
<span class="lineno">225</span><span class="comment" id="2970378">//&nbsp;r,&nbsp;or&nbsp;-1&nbsp;if&nbsp;rune&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2970419">func</span>&nbsp;<span class="ident" id="2970424">IndexRune</span><span class="op" id="2970433">(</span><span class="ident" id="2970434">s</span>&nbsp;<span class="builtintype" id="2970436">string</span><span class="op" id="2970442">,</span>&nbsp;<span class="ident" id="2970444">r</span>&nbsp;<span class="builtintype" id="2970446">rune</span><span class="op" id="2970450">)</span>&nbsp;<span class="builtintype" id="2970452">int</span>&nbsp;<span class="op" id="2970456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970459">switch</span>&nbsp;<span class="op" id="2970466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970469">case</span>&nbsp;<span class="ident" id="2970474"><a href="/gostd/strings/strings.go.html#2970444">r</a></span>&nbsp;<span class="op" id="2970476">&lt;</span>&nbsp;<span class="ident" id="2970478"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2970482">.</span><span class="ident" id="2970483"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span><span class="op" id="2970491">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970495">return</span>&nbsp;<span class="ident" id="2970502"><a href="/gostd/strings/strings_decl.go.html#2985554">IndexByte</a></span><span class="op" id="2970511">(</span><span class="ident" id="2970512"><a href="/gostd/strings/strings.go.html#2970434">s</a></span><span class="op" id="2970513">,</span>&nbsp;<span class="builtintype" id="2970515">byte</span><span class="op" id="2970519">(</span><span class="ident" id="2970520"><a href="/gostd/strings/strings.go.html#2970444">r</a></span><span class="op" id="2970521">)</span><span class="op" id="2970522">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970525">default</span><span class="op" id="2970532">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970536">for</span>&nbsp;<span class="ident" id="2970540">i</span><span class="op" id="2970541">,</span>&nbsp;<span class="ident" id="2970543">c</span>&nbsp;<span class="op" id="2970545">:=</span>&nbsp;<span class="keyword" id="2970548">range</span>&nbsp;<span class="ident" id="2970554"><a href="/gostd/strings/strings.go.html#2970434">s</a></span>&nbsp;<span class="op" id="2970556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970561">if</span>&nbsp;<span class="ident" id="2970564"><a href="/gostd/strings/strings.go.html#2970543">c</a></span>&nbsp;<span class="op" id="2970566">==</span>&nbsp;<span class="ident" id="2970569"><a href="/gostd/strings/strings.go.html#2970444">r</a></span>&nbsp;<span class="op" id="2970571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970577">return</span>&nbsp;<span class="ident" id="2970584"><a href="/gostd/strings/strings.go.html#2970540">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970589">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970599">return</span>&nbsp;<span class="op" id="2970606">-</span><span class="num" id="2970607">1</span><br>
<span class="lineno"></span><span class="op" id="2970609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="comment" id="2970612">//&nbsp;IndexAny&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;any&nbsp;Unicode&nbsp;code&nbsp;point</span><br>
<span class="lineno"></span><span class="comment" id="2970690">//&nbsp;from&nbsp;chars&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;no&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;from&nbsp;chars&nbsp;is&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2970769">func</span>&nbsp;<span class="ident" id="2970774">IndexAny</span><span class="op" id="2970782">(</span><span class="ident" id="2970783">s</span><span class="op" id="2970784">,</span>&nbsp;<span class="ident" id="2970786">chars</span>&nbsp;<span class="builtintype" id="2970792">string</span><span class="op" id="2970798">)</span>&nbsp;<span class="builtintype" id="2970800">int</span>&nbsp;<span class="op" id="2970804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970807">if</span>&nbsp;<span class="builtinfunc" id="2970810">len</span><span class="op" id="2970813">(</span><span class="ident" id="2970814"><a href="/gostd/strings/strings.go.html#2970786">chars</a></span><span class="op" id="2970819">)</span>&nbsp;<span class="op" id="2970821">&gt;</span>&nbsp;<span class="num" id="2970823">0</span>&nbsp;<span class="op" id="2970825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970829">for</span>&nbsp;<span class="ident" id="2970833">i</span><span class="op" id="2970834">,</span>&nbsp;<span class="ident" id="2970836">c</span>&nbsp;<span class="op" id="2970838">:=</span>&nbsp;<span class="keyword" id="2970841">range</span>&nbsp;<span class="ident" id="2970847"><a href="/gostd/strings/strings.go.html#2970783">s</a></span>&nbsp;<span class="op" id="2970849">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970854">for</span>&nbsp;<span class="ident" id="2970858">_</span><span class="op" id="2970859">,</span>&nbsp;<span class="ident" id="2970861">m</span>&nbsp;<span class="op" id="2970863">:=</span>&nbsp;<span class="keyword" id="2970866">range</span>&nbsp;<span class="ident" id="2970872"><a href="/gostd/strings/strings.go.html#2970786">chars</a></span>&nbsp;<span class="op" id="2970878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970884">if</span>&nbsp;<span class="ident" id="2970887"><a href="/gostd/strings/strings.go.html#2970836">c</a></span>&nbsp;<span class="op" id="2970889">==</span>&nbsp;<span class="ident" id="2970892"><a href="/gostd/strings/strings.go.html#2970861">m</a></span>&nbsp;<span class="op" id="2970894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970901">return</span>&nbsp;<span class="ident" id="2970908"><a href="/gostd/strings/strings.go.html#2970833">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970919">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2970926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2970929">return</span>&nbsp;<span class="op" id="2970936">-</span><span class="num" id="2970937">1</span><br>
<span class="lineno"></span><span class="op" id="2970939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="2970942">//&nbsp;LastIndexAny&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;instance&nbsp;of&nbsp;any&nbsp;Unicode&nbsp;code</span><br>
<span class="lineno"></span><span class="comment" id="2971017">//&nbsp;point&nbsp;from&nbsp;chars&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;no&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;from&nbsp;chars&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2971088">//&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2971105">func</span>&nbsp;<span class="ident" id="2971110">LastIndexAny</span><span class="op" id="2971122">(</span><span class="ident" id="2971123">s</span><span class="op" id="2971124">,</span>&nbsp;<span class="ident" id="2971126">chars</span>&nbsp;<span class="builtintype" id="2971132">string</span><span class="op" id="2971138">)</span>&nbsp;<span class="builtintype" id="2971140">int</span>&nbsp;<span class="op" id="2971144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971147">if</span>&nbsp;<span class="builtinfunc" id="2971150">len</span><span class="op" id="2971153">(</span><span class="ident" id="2971154"><a href="/gostd/strings/strings.go.html#2971126">chars</a></span><span class="op" id="2971159">)</span>&nbsp;<span class="op" id="2971161">&gt;</span>&nbsp;<span class="num" id="2971163">0</span>&nbsp;<span class="op" id="2971165">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971169">for</span>&nbsp;<span class="ident" id="2971173">i</span>&nbsp;<span class="op" id="2971175">:=</span>&nbsp;<span class="builtinfunc" id="2971178">len</span><span class="op" id="2971181">(</span><span class="ident" id="2971182"><a href="/gostd/strings/strings.go.html#2971123">s</a></span><span class="op" id="2971183">)</span><span class="op" id="2971184">;</span>&nbsp;<span class="ident" id="2971186"><a href="/gostd/strings/strings.go.html#2971173">i</a></span>&nbsp;<span class="op" id="2971188">&gt;</span>&nbsp;<span class="num" id="2971190">0</span><span class="op" id="2971191">;</span>&nbsp;<span class="op" id="2971193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2971198">rune</span><span class="op" id="2971202">,</span>&nbsp;<span class="ident" id="2971204">size</span>&nbsp;<span class="op" id="2971209">:=</span>&nbsp;<span class="ident" id="2971212"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2971216">.</span><span class="ident" id="2971217"><a href="/gostd/unicode/utf8/utf8.go.html#1811991">DecodeLastRuneInString</a></span><span class="op" id="2971239">(</span><span class="ident" id="2971240"><a href="/gostd/strings/strings.go.html#2971123">s</a></span><span class="op" id="2971241">[</span><span class="num" id="2971242">0</span><span class="op" id="2971243">:</span><span class="ident" id="2971244"><a href="/gostd/strings/strings.go.html#2971173">i</a></span><span class="op" id="2971245">]</span><span class="op" id="2971246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971251"><a href="/gostd/strings/strings.go.html#2971173">i</a></span>&nbsp;<span class="op" id="2971253">-=</span>&nbsp;<span class="ident" id="2971256"><a href="/gostd/strings/strings.go.html#2971204">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971264">for</span>&nbsp;<span class="ident" id="2971268">_</span><span class="op" id="2971269">,</span>&nbsp;<span class="ident" id="2971271">m</span>&nbsp;<span class="op" id="2971273">:=</span>&nbsp;<span class="keyword" id="2971276">range</span>&nbsp;<span class="ident" id="2971282"><a href="/gostd/strings/strings.go.html#2971126">chars</a></span>&nbsp;<span class="op" id="2971288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971294">if</span>&nbsp;<span class="builtintype" id="2971297"><a href="/gostd/strings/strings.go.html#2971198">rune</a></span>&nbsp;<span class="op" id="2971302">==</span>&nbsp;<span class="ident" id="2971305"><a href="/gostd/strings/strings.go.html#2971271">m</a></span>&nbsp;<span class="op" id="2971307">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971314">return</span>&nbsp;<span class="ident" id="2971321"><a href="/gostd/strings/strings.go.html#2971173">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971339">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971342">return</span>&nbsp;<span class="op" id="2971349">-</span><span class="num" id="2971350">1</span><br>
<span class="lineno"></span><span class="op" id="2971352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2971355">//&nbsp;Generic&nbsp;split:&nbsp;splits&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep,</span><br>
<span class="lineno"></span><span class="comment" id="2971408">//&nbsp;including&nbsp;sepSave&nbsp;bytes&nbsp;of&nbsp;sep&nbsp;in&nbsp;the&nbsp;subarrays.</span><br>
<span class="lineno">275</span><span class="keyword" id="2971460">func</span>&nbsp;<span class="ident" id="2971465">genSplit</span><span class="op" id="2971473">(</span><span class="ident" id="2971474">s</span><span class="op" id="2971475">,</span>&nbsp;<span class="ident" id="2971477">sep</span>&nbsp;<span class="builtintype" id="2971481">string</span><span class="op" id="2971487">,</span>&nbsp;<span class="ident" id="2971489">sepSave</span><span class="op" id="2971496">,</span>&nbsp;<span class="ident" id="2971498">n</span>&nbsp;<span class="builtintype" id="2971500">int</span><span class="op" id="2971503">)</span>&nbsp;<span class="op" id="2971505">[</span><span class="op" id="2971506">]</span><span class="builtintype" id="2971507">string</span>&nbsp;<span class="op" id="2971514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971517">if</span>&nbsp;<span class="ident" id="2971520"><a href="/gostd/strings/strings.go.html#2971498">n</a></span>&nbsp;<span class="op" id="2971522">==</span>&nbsp;<span class="num" id="2971525">0</span>&nbsp;<span class="op" id="2971527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971531">return</span>&nbsp;<span class="builtintype" id="2971538">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971546">if</span>&nbsp;<span class="ident" id="2971549"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span>&nbsp;<span class="op" id="2971553">==</span>&nbsp;<span class="string" id="2971556">&#34;&#34;</span>&nbsp;<span class="op" id="2971559">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971563">return</span>&nbsp;<span class="ident" id="2971570"><a href="/gostd/strings/strings.go.html#2966103">explode</a></span><span class="op" id="2971577">(</span><span class="ident" id="2971578"><a href="/gostd/strings/strings.go.html#2971474">s</a></span><span class="op" id="2971579">,</span>&nbsp;<span class="ident" id="2971581"><a href="/gostd/strings/strings.go.html#2971498">n</a></span><span class="op" id="2971582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971588">if</span>&nbsp;<span class="ident" id="2971591"><a href="/gostd/strings/strings.go.html#2971498">n</a></span>&nbsp;<span class="op" id="2971593">&lt;</span>&nbsp;<span class="num" id="2971595">0</span>&nbsp;<span class="op" id="2971597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971601"><a href="/gostd/strings/strings.go.html#2971498">n</a></span>&nbsp;<span class="op" id="2971603">=</span>&nbsp;<span class="ident" id="2971605"><a href="/gostd/strings/strings.go.html#2967531">Count</a></span><span class="op" id="2971610">(</span><span class="ident" id="2971611"><a href="/gostd/strings/strings.go.html#2971474">s</a></span><span class="op" id="2971612">,</span>&nbsp;<span class="ident" id="2971614"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971617">)</span>&nbsp;<span class="op" id="2971619">+</span>&nbsp;<span class="num" id="2971621">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971624">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971627">c</span>&nbsp;<span class="op" id="2971629">:=</span>&nbsp;<span class="ident" id="2971632"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971635">[</span><span class="num" id="2971636">0</span><span class="op" id="2971637">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971640">start</span>&nbsp;<span class="op" id="2971646">:=</span>&nbsp;<span class="num" id="2971649">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971652">a</span>&nbsp;<span class="op" id="2971654">:=</span>&nbsp;<span class="builtinfunc" id="2971657">make</span><span class="op" id="2971661">(</span><span class="op" id="2971662">[</span><span class="op" id="2971663">]</span><span class="builtintype" id="2971664">string</span><span class="op" id="2971670">,</span>&nbsp;<span class="ident" id="2971672"><a href="/gostd/strings/strings.go.html#2971498">n</a></span><span class="op" id="2971673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971676">na</span>&nbsp;<span class="op" id="2971679">:=</span>&nbsp;<span class="num" id="2971682">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971685">for</span>&nbsp;<span class="ident" id="2971689">i</span>&nbsp;<span class="op" id="2971691">:=</span>&nbsp;<span class="num" id="2971694">0</span><span class="op" id="2971695">;</span>&nbsp;<span class="ident" id="2971697"><a href="/gostd/strings/strings.go.html#2971689">i</a></span><span class="op" id="2971698">+</span><span class="builtinfunc" id="2971699">len</span><span class="op" id="2971702">(</span><span class="ident" id="2971703"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971706">)</span>&nbsp;<span class="op" id="2971708">&lt;=</span>&nbsp;<span class="builtinfunc" id="2971711">len</span><span class="op" id="2971714">(</span><span class="ident" id="2971715"><a href="/gostd/strings/strings.go.html#2971474">s</a></span><span class="op" id="2971716">)</span>&nbsp;<span class="op" id="2971718">&amp;&amp;</span>&nbsp;<span class="ident" id="2971721"><a href="/gostd/strings/strings.go.html#2971676">na</a></span><span class="op" id="2971723">+</span><span class="num" id="2971724">1</span>&nbsp;<span class="op" id="2971726">&lt;</span>&nbsp;<span class="ident" id="2971728"><a href="/gostd/strings/strings.go.html#2971498">n</a></span><span class="op" id="2971729">;</span>&nbsp;<span class="ident" id="2971731"><a href="/gostd/strings/strings.go.html#2971689">i</a></span><span class="op" id="2971732">++</span>&nbsp;<span class="op" id="2971735">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971739">if</span>&nbsp;<span class="ident" id="2971742"><a href="/gostd/strings/strings.go.html#2971474">s</a></span><span class="op" id="2971743">[</span><span class="ident" id="2971744"><a href="/gostd/strings/strings.go.html#2971689">i</a></span><span class="op" id="2971745">]</span>&nbsp;<span class="op" id="2971747">==</span>&nbsp;<span class="ident" id="2971750"><a href="/gostd/strings/strings.go.html#2971627">c</a></span>&nbsp;<span class="op" id="2971752">&amp;&amp;</span>&nbsp;<span class="op" id="2971755">(</span><span class="builtinfunc" id="2971756">len</span><span class="op" id="2971759">(</span><span class="ident" id="2971760"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971763">)</span>&nbsp;<span class="op" id="2971765">==</span>&nbsp;<span class="num" id="2971768">1</span>&nbsp;<span class="op" id="2971770">||</span>&nbsp;<span class="ident" id="2971773"><a href="/gostd/strings/strings.go.html#2971474">s</a></span><span class="op" id="2971774">[</span><span class="ident" id="2971775"><a href="/gostd/strings/strings.go.html#2971689">i</a></span><span class="op" id="2971776">:</span><span class="ident" id="2971777"><a href="/gostd/strings/strings.go.html#2971689">i</a></span><span class="op" id="2971778">+</span><span class="builtinfunc" id="2971779">len</span><span class="op" id="2971782">(</span><span class="ident" id="2971783"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971786">)</span><span class="op" id="2971787">]</span>&nbsp;<span class="op" id="2971789">==</span>&nbsp;<span class="ident" id="2971792"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971795">)</span>&nbsp;<span class="op" id="2971797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971802"><a href="/gostd/strings/strings.go.html#2971652">a</a></span><span class="op" id="2971803">[</span><span class="ident" id="2971804"><a href="/gostd/strings/strings.go.html#2971676">na</a></span><span class="op" id="2971806">]</span>&nbsp;<span class="op" id="2971808">=</span>&nbsp;<span class="ident" id="2971810"><a href="/gostd/strings/strings.go.html#2971474">s</a></span><span class="op" id="2971811">[</span><span class="ident" id="2971812"><a href="/gostd/strings/strings.go.html#2971640">start</a></span>&nbsp;<span class="op" id="2971818">:</span>&nbsp;<span class="ident" id="2971820"><a href="/gostd/strings/strings.go.html#2971689">i</a></span><span class="op" id="2971821">+</span><span class="ident" id="2971822"><a href="/gostd/strings/strings.go.html#2971489">sepSave</a></span><span class="op" id="2971829">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971834"><a href="/gostd/strings/strings.go.html#2971676">na</a></span><span class="op" id="2971836">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971842"><a href="/gostd/strings/strings.go.html#2971640">start</a></span>&nbsp;<span class="op" id="2971848">=</span>&nbsp;<span class="ident" id="2971850"><a href="/gostd/strings/strings.go.html#2971689">i</a></span>&nbsp;<span class="op" id="2971852">+</span>&nbsp;<span class="builtinfunc" id="2971854">len</span><span class="op" id="2971857">(</span><span class="ident" id="2971858"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971866"><a href="/gostd/strings/strings.go.html#2971689">i</a></span>&nbsp;<span class="op" id="2971868">+=</span>&nbsp;<span class="builtinfunc" id="2971871">len</span><span class="op" id="2971874">(</span><span class="ident" id="2971875"><a href="/gostd/strings/strings.go.html#2971477">sep</a></span><span class="op" id="2971878">)</span>&nbsp;<span class="op" id="2971880">-</span>&nbsp;<span class="num" id="2971882">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2971889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2971892"><a href="/gostd/strings/strings.go.html#2971652">a</a></span><span class="op" id="2971893">[</span><span class="ident" id="2971894"><a href="/gostd/strings/strings.go.html#2971676">na</a></span><span class="op" id="2971896">]</span>&nbsp;<span class="op" id="2971898">=</span>&nbsp;<span class="ident" id="2971900"><a href="/gostd/strings/strings.go.html#2971474">s</a></span><span class="op" id="2971901">[</span><span class="ident" id="2971902"><a href="/gostd/strings/strings.go.html#2971640">start</a></span><span class="op" id="2971907">:</span><span class="op" id="2971908">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2971911">return</span>&nbsp;<span class="ident" id="2971918"><a href="/gostd/strings/strings.go.html#2971652">a</a></span><span class="op" id="2971919">[</span><span class="num" id="2971920">0</span>&nbsp;<span class="op" id="2971922">:</span>&nbsp;<span class="ident" id="2971924"><a href="/gostd/strings/strings.go.html#2971676">na</a></span><span class="op" id="2971926">+</span><span class="num" id="2971927">1</span><span class="op" id="2971928">]</span><br>
<span class="lineno"></span><span class="op" id="2971930">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="2971933">//&nbsp;SplitN&nbsp;slices&nbsp;s&nbsp;into&nbsp;substrings&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2972008">//&nbsp;the&nbsp;substrings&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="2972052">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2972113">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;substrings&nbsp;to&nbsp;return:</span><br>
<span class="lineno">305</span><span class="comment" id="2972173">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;substrings;&nbsp;the&nbsp;last&nbsp;substring&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="2972257">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;substrings)</span><br>
<span class="lineno"></span><span class="comment" id="2972306">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;substrings</span><br>
<span class="lineno"></span><span class="keyword" id="2972333">func</span>&nbsp;<span class="ident" id="2972338">SplitN</span><span class="op" id="2972344">(</span><span class="ident" id="2972345">s</span><span class="op" id="2972346">,</span>&nbsp;<span class="ident" id="2972348">sep</span>&nbsp;<span class="builtintype" id="2972352">string</span><span class="op" id="2972358">,</span>&nbsp;<span class="ident" id="2972360">n</span>&nbsp;<span class="builtintype" id="2972362">int</span><span class="op" id="2972365">)</span>&nbsp;<span class="op" id="2972367">[</span><span class="op" id="2972368">]</span><span class="builtintype" id="2972369">string</span>&nbsp;<span class="op" id="2972376">{</span>&nbsp;<span class="keyword" id="2972378">return</span>&nbsp;<span class="ident" id="2972385"><a href="/gostd/strings/strings.go.html#2971465">genSplit</a></span><span class="op" id="2972393">(</span><span class="ident" id="2972394"><a href="/gostd/strings/strings.go.html#2972345">s</a></span><span class="op" id="2972395">,</span>&nbsp;<span class="ident" id="2972397"><a href="/gostd/strings/strings.go.html#2972348">sep</a></span><span class="op" id="2972400">,</span>&nbsp;<span class="num" id="2972402">0</span><span class="op" id="2972403">,</span>&nbsp;<span class="ident" id="2972405"><a href="/gostd/strings/strings.go.html#2972360">n</a></span><span class="op" id="2972406">)</span>&nbsp;<span class="op" id="2972408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="2972411">//&nbsp;SplitAfterN&nbsp;slices&nbsp;s&nbsp;into&nbsp;substrings&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2972482">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;substrings.</span><br>
<span class="lineno"></span><span class="comment" id="2972522">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfterN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2972588">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;substrings&nbsp;to&nbsp;return:</span><br>
<span class="lineno"></span><span class="comment" id="2972648">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;substrings;&nbsp;the&nbsp;last&nbsp;substring&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno">315</span><span class="comment" id="2972732">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;substrings)</span><br>
<span class="lineno"></span><span class="comment" id="2972781">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;substrings</span><br>
<span class="lineno"></span><span class="keyword" id="2972808">func</span>&nbsp;<span class="ident" id="2972813">SplitAfterN</span><span class="op" id="2972824">(</span><span class="ident" id="2972825">s</span><span class="op" id="2972826">,</span>&nbsp;<span class="ident" id="2972828">sep</span>&nbsp;<span class="builtintype" id="2972832">string</span><span class="op" id="2972838">,</span>&nbsp;<span class="ident" id="2972840">n</span>&nbsp;<span class="builtintype" id="2972842">int</span><span class="op" id="2972845">)</span>&nbsp;<span class="op" id="2972847">[</span><span class="op" id="2972848">]</span><span class="builtintype" id="2972849">string</span>&nbsp;<span class="op" id="2972856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2972859">return</span>&nbsp;<span class="ident" id="2972866"><a href="/gostd/strings/strings.go.html#2971465">genSplit</a></span><span class="op" id="2972874">(</span><span class="ident" id="2972875"><a href="/gostd/strings/strings.go.html#2972825">s</a></span><span class="op" id="2972876">,</span>&nbsp;<span class="ident" id="2972878"><a href="/gostd/strings/strings.go.html#2972828">sep</a></span><span class="op" id="2972881">,</span>&nbsp;<span class="builtinfunc" id="2972883">len</span><span class="op" id="2972886">(</span><span class="ident" id="2972887"><a href="/gostd/strings/strings.go.html#2972828">sep</a></span><span class="op" id="2972890">)</span><span class="op" id="2972891">,</span>&nbsp;<span class="ident" id="2972893"><a href="/gostd/strings/strings.go.html#2972840">n</a></span><span class="op" id="2972894">)</span><br>
<span class="lineno"></span><span class="op" id="2972896">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="comment" id="2972899">//&nbsp;Split&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;substrings&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2972977">//&nbsp;the&nbsp;substrings&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="2973021">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;Split&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="2973081">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno">325</span><span class="keyword" id="2973131">func</span>&nbsp;<span class="ident" id="2973136">Split</span><span class="op" id="2973141">(</span><span class="ident" id="2973142">s</span><span class="op" id="2973143">,</span>&nbsp;<span class="ident" id="2973145">sep</span>&nbsp;<span class="builtintype" id="2973149">string</span><span class="op" id="2973155">)</span>&nbsp;<span class="op" id="2973157">[</span><span class="op" id="2973158">]</span><span class="builtintype" id="2973159">string</span>&nbsp;<span class="op" id="2973166">{</span>&nbsp;<span class="keyword" id="2973168">return</span>&nbsp;<span class="ident" id="2973175"><a href="/gostd/strings/strings.go.html#2971465">genSplit</a></span><span class="op" id="2973183">(</span><span class="ident" id="2973184"><a href="/gostd/strings/strings.go.html#2973142">s</a></span><span class="op" id="2973185">,</span>&nbsp;<span class="ident" id="2973187"><a href="/gostd/strings/strings.go.html#2973145">sep</a></span><span class="op" id="2973190">,</span>&nbsp;<span class="num" id="2973192">0</span><span class="op" id="2973193">,</span>&nbsp;<span class="op" id="2973195">-</span><span class="num" id="2973196">1</span><span class="op" id="2973197">)</span>&nbsp;<span class="op" id="2973199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2973202">//&nbsp;SplitAfter&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;substrings&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2973276">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;substrings.</span><br>
<span class="lineno"></span><span class="comment" id="2973316">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfter&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno">330</span><span class="comment" id="2973381">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitAfterN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno"></span><span class="keyword" id="2973436">func</span>&nbsp;<span class="ident" id="2973441">SplitAfter</span><span class="op" id="2973451">(</span><span class="ident" id="2973452">s</span><span class="op" id="2973453">,</span>&nbsp;<span class="ident" id="2973455">sep</span>&nbsp;<span class="builtintype" id="2973459">string</span><span class="op" id="2973465">)</span>&nbsp;<span class="op" id="2973467">[</span><span class="op" id="2973468">]</span><span class="builtintype" id="2973469">string</span>&nbsp;<span class="op" id="2973476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973479">return</span>&nbsp;<span class="ident" id="2973486"><a href="/gostd/strings/strings.go.html#2971465">genSplit</a></span><span class="op" id="2973494">(</span><span class="ident" id="2973495"><a href="/gostd/strings/strings.go.html#2973452">s</a></span><span class="op" id="2973496">,</span>&nbsp;<span class="ident" id="2973498"><a href="/gostd/strings/strings.go.html#2973455">sep</a></span><span class="op" id="2973501">,</span>&nbsp;<span class="builtinfunc" id="2973503">len</span><span class="op" id="2973506">(</span><span class="ident" id="2973507"><a href="/gostd/strings/strings.go.html#2973455">sep</a></span><span class="op" id="2973510">)</span><span class="op" id="2973511">,</span>&nbsp;<span class="op" id="2973513">-</span><span class="num" id="2973514">1</span><span class="op" id="2973515">)</span><br>
<span class="lineno"></span><span class="op" id="2973517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="comment" id="2973520">//&nbsp;Fields&nbsp;splits&nbsp;the&nbsp;string&nbsp;s&nbsp;around&nbsp;each&nbsp;instance&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;consecutive&nbsp;white&nbsp;space</span><br>
<span class="lineno"></span><span class="comment" id="2973610">//&nbsp;characters,&nbsp;as&nbsp;defined&nbsp;by&nbsp;unicode.IsSpace,&nbsp;returning&nbsp;an&nbsp;array&nbsp;of&nbsp;substrings&nbsp;of&nbsp;s&nbsp;or&nbsp;an</span><br>
<span class="lineno"></span><span class="comment" id="2973700">//&nbsp;empty&nbsp;list&nbsp;if&nbsp;s&nbsp;contains&nbsp;only&nbsp;white&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="2973746">func</span>&nbsp;<span class="ident" id="2973751">Fields</span><span class="op" id="2973757">(</span><span class="ident" id="2973758">s</span>&nbsp;<span class="builtintype" id="2973760">string</span><span class="op" id="2973766">)</span>&nbsp;<span class="op" id="2973768">[</span><span class="op" id="2973769">]</span><span class="builtintype" id="2973770">string</span>&nbsp;<span class="op" id="2973777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2973780">return</span>&nbsp;<span class="ident" id="2973787"><a href="/gostd/strings/strings.go.html#2974199">FieldsFunc</a></span><span class="op" id="2973797">(</span><span class="ident" id="2973798"><a href="/gostd/strings/strings.go.html#2973758">s</a></span><span class="op" id="2973799">,</span>&nbsp;<span class="ident" id="2973801"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2973808">.</span><span class="ident" id="2973809"><a href="/gostd/unicode/graphic.go.html#1820663">IsSpace</a></span><span class="op" id="2973816">)</span><br>
<span class="lineno">340</span><span class="op" id="2973818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2973821">//&nbsp;FieldsFunc&nbsp;splits&nbsp;the&nbsp;string&nbsp;s&nbsp;at&nbsp;each&nbsp;run&nbsp;of&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)</span><br>
<span class="lineno"></span><span class="comment" id="2973908">//&nbsp;and&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;slices&nbsp;of&nbsp;s.&nbsp;If&nbsp;all&nbsp;code&nbsp;points&nbsp;in&nbsp;s&nbsp;satisfy&nbsp;f(c)&nbsp;or&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2973992">//&nbsp;string&nbsp;is&nbsp;empty,&nbsp;an&nbsp;empty&nbsp;slice&nbsp;is&nbsp;returned.</span><br>
<span class="lineno">345</span><span class="comment" id="2974040">//&nbsp;FieldsFunc&nbsp;makes&nbsp;no&nbsp;guarantees&nbsp;about&nbsp;the&nbsp;order&nbsp;in&nbsp;which&nbsp;it&nbsp;calls&nbsp;f(c).</span><br>
<span class="lineno"></span><span class="comment" id="2974114">//&nbsp;If&nbsp;f&nbsp;does&nbsp;not&nbsp;return&nbsp;consistent&nbsp;results&nbsp;for&nbsp;a&nbsp;given&nbsp;c,&nbsp;FieldsFunc&nbsp;may&nbsp;crash.</span><br>
<span class="lineno"></span><span class="keyword" id="2974194">func</span>&nbsp;<span class="ident" id="2974199">FieldsFunc</span><span class="op" id="2974209">(</span><span class="ident" id="2974210">s</span>&nbsp;<span class="builtintype" id="2974212">string</span><span class="op" id="2974218">,</span>&nbsp;<span class="ident" id="2974220">f</span>&nbsp;<span class="keyword" id="2974222">func</span><span class="op" id="2974226">(</span><span class="builtintype" id="2974227">rune</span><span class="op" id="2974231">)</span>&nbsp;<span class="builtintype" id="2974233">bool</span><span class="op" id="2974237">)</span>&nbsp;<span class="op" id="2974239">[</span><span class="op" id="2974240">]</span><span class="builtintype" id="2974241">string</span>&nbsp;<span class="op" id="2974248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2974251">//&nbsp;First&nbsp;count&nbsp;the&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974279">n</span>&nbsp;<span class="op" id="2974281">:=</span>&nbsp;<span class="num" id="2974284">0</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974287">inField</span>&nbsp;<span class="op" id="2974295">:=</span>&nbsp;<span class="builtintype" id="2974298">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974305">for</span>&nbsp;<span class="ident" id="2974309">_</span><span class="op" id="2974310">,</span>&nbsp;<span class="builtintype" id="2974312">rune</span>&nbsp;<span class="op" id="2974317">:=</span>&nbsp;<span class="keyword" id="2974320">range</span>&nbsp;<span class="ident" id="2974326"><a href="/gostd/strings/strings.go.html#2974210">s</a></span>&nbsp;<span class="op" id="2974328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974332">wasInField</span>&nbsp;<span class="op" id="2974343">:=</span>&nbsp;<span class="ident" id="2974346"><a href="/gostd/strings/strings.go.html#2974287">inField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974356"><a href="/gostd/strings/strings.go.html#2974287">inField</a></span>&nbsp;<span class="op" id="2974364">=</span>&nbsp;<span class="op" id="2974366">!</span><span class="ident" id="2974367"><a href="/gostd/strings/strings.go.html#2974220">f</a></span><span class="op" id="2974368">(</span><span class="builtintype" id="2974369"><a href="/gostd/strings/strings.go.html#2974312">rune</a></span><span class="op" id="2974373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974377">if</span>&nbsp;<span class="ident" id="2974380"><a href="/gostd/strings/strings.go.html#2974287">inField</a></span>&nbsp;<span class="op" id="2974388">&amp;&amp;</span>&nbsp;<span class="op" id="2974391">!</span><span class="ident" id="2974392"><a href="/gostd/strings/strings.go.html#2974332">wasInField</a></span>&nbsp;<span class="op" id="2974403">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974408"><a href="/gostd/strings/strings.go.html#2974279">n</a></span><span class="op" id="2974409">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2974414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2974417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2974421">//&nbsp;Now&nbsp;create&nbsp;them.</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974442">a</span>&nbsp;<span class="op" id="2974444">:=</span>&nbsp;<span class="builtinfunc" id="2974447">make</span><span class="op" id="2974451">(</span><span class="op" id="2974452">[</span><span class="op" id="2974453">]</span><span class="builtintype" id="2974454">string</span><span class="op" id="2974460">,</span>&nbsp;<span class="ident" id="2974462"><a href="/gostd/strings/strings.go.html#2974279">n</a></span><span class="op" id="2974463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974466">na</span>&nbsp;<span class="op" id="2974469">:=</span>&nbsp;<span class="num" id="2974472">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974475">fieldStart</span>&nbsp;<span class="op" id="2974486">:=</span>&nbsp;<span class="op" id="2974489">-</span><span class="num" id="2974490">1</span>&nbsp;<span class="comment" id="2974492">//&nbsp;Set&nbsp;to&nbsp;-1&nbsp;when&nbsp;looking&nbsp;for&nbsp;start&nbsp;of&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974539">for</span>&nbsp;<span class="ident" id="2974543">i</span><span class="op" id="2974544">,</span>&nbsp;<span class="builtintype" id="2974546">rune</span>&nbsp;<span class="op" id="2974551">:=</span>&nbsp;<span class="keyword" id="2974554">range</span>&nbsp;<span class="ident" id="2974560"><a href="/gostd/strings/strings.go.html#2974210">s</a></span>&nbsp;<span class="op" id="2974562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974566">if</span>&nbsp;<span class="ident" id="2974569"><a href="/gostd/strings/strings.go.html#2974220">f</a></span><span class="op" id="2974570">(</span><span class="builtintype" id="2974571"><a href="/gostd/strings/strings.go.html#2974546">rune</a></span><span class="op" id="2974575">)</span>&nbsp;<span class="op" id="2974577">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974582">if</span>&nbsp;<span class="ident" id="2974585"><a href="/gostd/strings/strings.go.html#2974475">fieldStart</a></span>&nbsp;<span class="op" id="2974596">&gt;=</span>&nbsp;<span class="num" id="2974599">0</span>&nbsp;<span class="op" id="2974601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974607"><a href="/gostd/strings/strings.go.html#2974442">a</a></span><span class="op" id="2974608">[</span><span class="ident" id="2974609"><a href="/gostd/strings/strings.go.html#2974466">na</a></span><span class="op" id="2974611">]</span>&nbsp;<span class="op" id="2974613">=</span>&nbsp;<span class="ident" id="2974615"><a href="/gostd/strings/strings.go.html#2974210">s</a></span><span class="op" id="2974616">[</span><span class="ident" id="2974617"><a href="/gostd/strings/strings.go.html#2974475">fieldStart</a></span><span class="op" id="2974627">:</span><span class="ident" id="2974628"><a href="/gostd/strings/strings.go.html#2974543">i</a></span><span class="op" id="2974629">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974635"><a href="/gostd/strings/strings.go.html#2974466">na</a></span><span class="op" id="2974637">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974644"><a href="/gostd/strings/strings.go.html#2974475">fieldStart</a></span>&nbsp;<span class="op" id="2974655">=</span>&nbsp;<span class="op" id="2974657">-</span><span class="num" id="2974658">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2974663">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2974667">}</span>&nbsp;<span class="keyword" id="2974669">else</span>&nbsp;<span class="keyword" id="2974674">if</span>&nbsp;<span class="ident" id="2974677"><a href="/gostd/strings/strings.go.html#2974475">fieldStart</a></span>&nbsp;<span class="op" id="2974688">==</span>&nbsp;<span class="op" id="2974691">-</span><span class="num" id="2974692">1</span>&nbsp;<span class="op" id="2974694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974699"><a href="/gostd/strings/strings.go.html#2974475">fieldStart</a></span>&nbsp;<span class="op" id="2974710">=</span>&nbsp;<span class="ident" id="2974712"><a href="/gostd/strings/strings.go.html#2974543">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2974716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2974719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974722">if</span>&nbsp;<span class="ident" id="2974725"><a href="/gostd/strings/strings.go.html#2974475">fieldStart</a></span>&nbsp;<span class="op" id="2974736">&gt;=</span>&nbsp;<span class="num" id="2974739">0</span>&nbsp;<span class="op" id="2974741">{</span>&nbsp;<span class="comment" id="2974743">//&nbsp;Last&nbsp;field&nbsp;might&nbsp;end&nbsp;at&nbsp;EOF.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2974777"><a href="/gostd/strings/strings.go.html#2974442">a</a></span><span class="op" id="2974778">[</span><span class="ident" id="2974779"><a href="/gostd/strings/strings.go.html#2974466">na</a></span><span class="op" id="2974781">]</span>&nbsp;<span class="op" id="2974783">=</span>&nbsp;<span class="ident" id="2974785"><a href="/gostd/strings/strings.go.html#2974210">s</a></span><span class="op" id="2974786">[</span><span class="ident" id="2974787"><a href="/gostd/strings/strings.go.html#2974475">fieldStart</a></span><span class="op" id="2974797">:</span><span class="op" id="2974798">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2974801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2974804">return</span>&nbsp;<span class="ident" id="2974811"><a href="/gostd/strings/strings.go.html#2974442">a</a></span><br>
<span class="lineno"></span><span class="op" id="2974813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="comment" id="2974816">//&nbsp;Join&nbsp;concatenates&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;to&nbsp;create&nbsp;a&nbsp;single&nbsp;string.&nbsp;&nbsp;&nbsp;The&nbsp;separator&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2974905">//&nbsp;sep&nbsp;is&nbsp;placed&nbsp;between&nbsp;elements&nbsp;in&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2974964">func</span>&nbsp;<span class="ident" id="2974969">Join</span><span class="op" id="2974973">(</span><span class="ident" id="2974974">a</span>&nbsp;<span class="op" id="2974976">[</span><span class="op" id="2974977">]</span><span class="builtintype" id="2974978">string</span><span class="op" id="2974984">,</span>&nbsp;<span class="ident" id="2974986">sep</span>&nbsp;<span class="builtintype" id="2974990">string</span><span class="op" id="2974996">)</span>&nbsp;<span class="builtintype" id="2974998">string</span>&nbsp;<span class="op" id="2975005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975008">if</span>&nbsp;<span class="builtinfunc" id="2975011">len</span><span class="op" id="2975014">(</span><span class="ident" id="2975015"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975016">)</span>&nbsp;<span class="op" id="2975018">==</span>&nbsp;<span class="num" id="2975021">0</span>&nbsp;<span class="op" id="2975023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975027">return</span>&nbsp;<span class="string" id="2975034">&#34;&#34;</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975041">if</span>&nbsp;<span class="builtinfunc" id="2975044">len</span><span class="op" id="2975047">(</span><span class="ident" id="2975048"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975049">)</span>&nbsp;<span class="op" id="2975051">==</span>&nbsp;<span class="num" id="2975054">1</span>&nbsp;<span class="op" id="2975056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975060">return</span>&nbsp;<span class="ident" id="2975067"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975068">[</span><span class="num" id="2975069">0</span><span class="op" id="2975070">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975076">n</span>&nbsp;<span class="op" id="2975078">:=</span>&nbsp;<span class="builtinfunc" id="2975081">len</span><span class="op" id="2975084">(</span><span class="ident" id="2975085"><a href="/gostd/strings/strings.go.html#2974986">sep</a></span><span class="op" id="2975088">)</span>&nbsp;<span class="op" id="2975090">*</span>&nbsp;<span class="op" id="2975092">(</span><span class="builtinfunc" id="2975093">len</span><span class="op" id="2975096">(</span><span class="ident" id="2975097"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975098">)</span>&nbsp;<span class="op" id="2975100">-</span>&nbsp;<span class="num" id="2975102">1</span><span class="op" id="2975103">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975106">for</span>&nbsp;<span class="ident" id="2975110">i</span>&nbsp;<span class="op" id="2975112">:=</span>&nbsp;<span class="num" id="2975115">0</span><span class="op" id="2975116">;</span>&nbsp;<span class="ident" id="2975118"><a href="/gostd/strings/strings.go.html#2975110">i</a></span>&nbsp;<span class="op" id="2975120">&lt;</span>&nbsp;<span class="builtinfunc" id="2975122">len</span><span class="op" id="2975125">(</span><span class="ident" id="2975126"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975127">)</span><span class="op" id="2975128">;</span>&nbsp;<span class="ident" id="2975130"><a href="/gostd/strings/strings.go.html#2975110">i</a></span><span class="op" id="2975131">++</span>&nbsp;<span class="op" id="2975134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975138"><a href="/gostd/strings/strings.go.html#2975076">n</a></span>&nbsp;<span class="op" id="2975140">+=</span>&nbsp;<span class="builtinfunc" id="2975143">len</span><span class="op" id="2975146">(</span><span class="ident" id="2975147"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975148">[</span><span class="ident" id="2975149"><a href="/gostd/strings/strings.go.html#2975110">i</a></span><span class="op" id="2975150">]</span><span class="op" id="2975151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975158">b</span>&nbsp;<span class="op" id="2975160">:=</span>&nbsp;<span class="builtinfunc" id="2975163">make</span><span class="op" id="2975167">(</span><span class="op" id="2975168">[</span><span class="op" id="2975169">]</span><span class="builtintype" id="2975170">byte</span><span class="op" id="2975174">,</span>&nbsp;<span class="ident" id="2975176"><a href="/gostd/strings/strings.go.html#2975076">n</a></span><span class="op" id="2975177">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975180">bp</span>&nbsp;<span class="op" id="2975183">:=</span>&nbsp;<span class="builtinfunc" id="2975186">copy</span><span class="op" id="2975190">(</span><span class="ident" id="2975191"><a href="/gostd/strings/strings.go.html#2975158">b</a></span><span class="op" id="2975192">,</span>&nbsp;<span class="ident" id="2975194"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975195">[</span><span class="num" id="2975196">0</span><span class="op" id="2975197">]</span><span class="op" id="2975198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975201">for</span>&nbsp;<span class="ident" id="2975205">_</span><span class="op" id="2975206">,</span>&nbsp;<span class="ident" id="2975208">s</span>&nbsp;<span class="op" id="2975210">:=</span>&nbsp;<span class="keyword" id="2975213">range</span>&nbsp;<span class="ident" id="2975219"><a href="/gostd/strings/strings.go.html#2974974">a</a></span><span class="op" id="2975220">[</span><span class="num" id="2975221">1</span><span class="op" id="2975222">:</span><span class="op" id="2975223">]</span>&nbsp;<span class="op" id="2975225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975229"><a href="/gostd/strings/strings.go.html#2975180">bp</a></span>&nbsp;<span class="op" id="2975232">+=</span>&nbsp;<span class="builtinfunc" id="2975235">copy</span><span class="op" id="2975239">(</span><span class="ident" id="2975240"><a href="/gostd/strings/strings.go.html#2975158">b</a></span><span class="op" id="2975241">[</span><span class="ident" id="2975242"><a href="/gostd/strings/strings.go.html#2975180">bp</a></span><span class="op" id="2975244">:</span><span class="op" id="2975245">]</span><span class="op" id="2975246">,</span>&nbsp;<span class="ident" id="2975248"><a href="/gostd/strings/strings.go.html#2974986">sep</a></span><span class="op" id="2975251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2975255"><a href="/gostd/strings/strings.go.html#2975180">bp</a></span>&nbsp;<span class="op" id="2975258">+=</span>&nbsp;<span class="builtinfunc" id="2975261">copy</span><span class="op" id="2975265">(</span><span class="ident" id="2975266"><a href="/gostd/strings/strings.go.html#2975158">b</a></span><span class="op" id="2975267">[</span><span class="ident" id="2975268"><a href="/gostd/strings/strings.go.html#2975180">bp</a></span><span class="op" id="2975270">:</span><span class="op" id="2975271">]</span><span class="op" id="2975272">,</span>&nbsp;<span class="ident" id="2975274"><a href="/gostd/strings/strings.go.html#2975208">s</a></span><span class="op" id="2975275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2975278">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975281">return</span>&nbsp;<span class="builtintype" id="2975288">string</span><span class="op" id="2975294">(</span><span class="ident" id="2975295"><a href="/gostd/strings/strings.go.html#2975158">b</a></span><span class="op" id="2975296">)</span><br>
<span class="lineno"></span><span class="op" id="2975298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2975301">//&nbsp;HasPrefix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;string&nbsp;s&nbsp;begins&nbsp;with&nbsp;prefix.</span><br>
<span class="lineno"></span><span class="keyword" id="2975361">func</span>&nbsp;<span class="ident" id="2975366">HasPrefix</span><span class="op" id="2975375">(</span><span class="ident" id="2975376">s</span><span class="op" id="2975377">,</span>&nbsp;<span class="ident" id="2975379">prefix</span>&nbsp;<span class="builtintype" id="2975386">string</span><span class="op" id="2975392">)</span>&nbsp;<span class="builtintype" id="2975394">bool</span>&nbsp;<span class="op" id="2975399">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975402">return</span>&nbsp;<span class="builtinfunc" id="2975409">len</span><span class="op" id="2975412">(</span><span class="ident" id="2975413"><a href="/gostd/strings/strings.go.html#2975376">s</a></span><span class="op" id="2975414">)</span>&nbsp;<span class="op" id="2975416">&gt;=</span>&nbsp;<span class="builtinfunc" id="2975419">len</span><span class="op" id="2975422">(</span><span class="ident" id="2975423"><a href="/gostd/strings/strings.go.html#2975379">prefix</a></span><span class="op" id="2975429">)</span>&nbsp;<span class="op" id="2975431">&amp;&amp;</span>&nbsp;<span class="ident" id="2975434"><a href="/gostd/strings/strings.go.html#2975376">s</a></span><span class="op" id="2975435">[</span><span class="num" id="2975436">0</span><span class="op" id="2975437">:</span><span class="builtinfunc" id="2975438">len</span><span class="op" id="2975441">(</span><span class="ident" id="2975442"><a href="/gostd/strings/strings.go.html#2975379">prefix</a></span><span class="op" id="2975448">)</span><span class="op" id="2975449">]</span>&nbsp;<span class="op" id="2975451">==</span>&nbsp;<span class="ident" id="2975454"><a href="/gostd/strings/strings.go.html#2975379">prefix</a></span><br>
<span class="lineno"></span><span class="op" id="2975461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2975464">//&nbsp;HasSuffix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;string&nbsp;s&nbsp;ends&nbsp;with&nbsp;suffix.</span><br>
<span class="lineno"></span><span class="keyword" id="2975522">func</span>&nbsp;<span class="ident" id="2975527">HasSuffix</span><span class="op" id="2975536">(</span><span class="ident" id="2975537">s</span><span class="op" id="2975538">,</span>&nbsp;<span class="ident" id="2975540">suffix</span>&nbsp;<span class="builtintype" id="2975547">string</span><span class="op" id="2975553">)</span>&nbsp;<span class="builtintype" id="2975555">bool</span>&nbsp;<span class="op" id="2975560">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2975563">return</span>&nbsp;<span class="builtinfunc" id="2975570">len</span><span class="op" id="2975573">(</span><span class="ident" id="2975574"><a href="/gostd/strings/strings.go.html#2975537">s</a></span><span class="op" id="2975575">)</span>&nbsp;<span class="op" id="2975577">&gt;=</span>&nbsp;<span class="builtinfunc" id="2975580">len</span><span class="op" id="2975583">(</span><span class="ident" id="2975584"><a href="/gostd/strings/strings.go.html#2975540">suffix</a></span><span class="op" id="2975590">)</span>&nbsp;<span class="op" id="2975592">&amp;&amp;</span>&nbsp;<span class="ident" id="2975595"><a href="/gostd/strings/strings.go.html#2975537">s</a></span><span class="op" id="2975596">[</span><span class="builtinfunc" id="2975597">len</span><span class="op" id="2975600">(</span><span class="ident" id="2975601"><a href="/gostd/strings/strings.go.html#2975537">s</a></span><span class="op" id="2975602">)</span><span class="op" id="2975603">-</span><span class="builtinfunc" id="2975604">len</span><span class="op" id="2975607">(</span><span class="ident" id="2975608"><a href="/gostd/strings/strings.go.html#2975540">suffix</a></span><span class="op" id="2975614">)</span><span class="op" id="2975615">:</span><span class="op" id="2975616">]</span>&nbsp;<span class="op" id="2975618">==</span>&nbsp;<span class="ident" id="2975621"><a href="/gostd/strings/strings.go.html#2975540">suffix</a></span><br>
<span class="lineno"></span><span class="op" id="2975628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2975631">//&nbsp;Map&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;its&nbsp;characters&nbsp;modified</span><br>
<span class="lineno"></span><span class="comment" id="2975702">//&nbsp;according&nbsp;to&nbsp;the&nbsp;mapping&nbsp;function.&nbsp;If&nbsp;mapping&nbsp;returns&nbsp;a&nbsp;negative&nbsp;value,&nbsp;the&nbsp;character&nbsp;is</span><br>
<span class="lineno">415</span><span class="comment" id="2975794">//&nbsp;dropped&nbsp;from&nbsp;the&nbsp;string&nbsp;with&nbsp;no&nbsp;replacement.</span><br>
<span class="lineno"></span><span class="keyword" id="2975842">func</span>&nbsp;<span class="ident" id="2975847">Map</span><span class="op" id="2975850">(</span><span class="ident" id="2975851">mapping</span>&nbsp;<span class="keyword" id="2975859">func</span><span class="op" id="2975863">(</span><span class="builtintype" id="2975864">rune</span><span class="op" id="2975868">)</span>&nbsp;<span class="builtintype" id="2975870">rune</span><span class="op" id="2975874">,</span>&nbsp;<span class="ident" id="2975876">s</span>&nbsp;<span class="builtintype" id="2975878">string</span><span class="op" id="2975884">)</span>&nbsp;<span class="builtintype" id="2975886">string</span>&nbsp;<span class="op" id="2975893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2975896">//&nbsp;In&nbsp;the&nbsp;worst&nbsp;case,&nbsp;the&nbsp;string&nbsp;can&nbsp;grow&nbsp;when&nbsp;mapped,&nbsp;making</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2975959">//&nbsp;things&nbsp;unpleasant.&nbsp;&nbsp;But&nbsp;it&#39;s&nbsp;so&nbsp;rare&nbsp;we&nbsp;barge&nbsp;in&nbsp;assuming&nbsp;it&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976026">//&nbsp;fine.&nbsp;&nbsp;It&nbsp;could&nbsp;also&nbsp;shrink&nbsp;but&nbsp;that&nbsp;falls&nbsp;out&nbsp;naturally.</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976088">maxbytes</span>&nbsp;<span class="op" id="2976097">:=</span>&nbsp;<span class="builtinfunc" id="2976100">len</span><span class="op" id="2976103">(</span><span class="ident" id="2976104"><a href="/gostd/strings/strings.go.html#2975876">s</a></span><span class="op" id="2976105">)</span>&nbsp;<span class="comment" id="2976107">//&nbsp;length&nbsp;of&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976123">nbytes</span>&nbsp;<span class="op" id="2976130">:=</span>&nbsp;<span class="num" id="2976133">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976142">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;encoded&nbsp;in&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976175">//&nbsp;The&nbsp;output&nbsp;buffer&nbsp;b&nbsp;is&nbsp;initialized&nbsp;on&nbsp;demand,&nbsp;the&nbsp;first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976235">//&nbsp;time&nbsp;a&nbsp;character&nbsp;differs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976265">var</span>&nbsp;<span class="ident" id="2976269">b</span>&nbsp;<span class="op" id="2976271">[</span><span class="op" id="2976272">]</span><span class="builtintype" id="2976273">byte</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976280">for</span>&nbsp;<span class="ident" id="2976284">i</span><span class="op" id="2976285">,</span>&nbsp;<span class="ident" id="2976287">c</span>&nbsp;<span class="op" id="2976289">:=</span>&nbsp;<span class="keyword" id="2976292">range</span>&nbsp;<span class="ident" id="2976298"><a href="/gostd/strings/strings.go.html#2975876">s</a></span>&nbsp;<span class="op" id="2976300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976304">r</span>&nbsp;<span class="op" id="2976306">:=</span>&nbsp;<span class="ident" id="2976309"><a href="/gostd/strings/strings.go.html#2975851">mapping</a></span><span class="op" id="2976316">(</span><span class="ident" id="2976317"><a href="/gostd/strings/strings.go.html#2976287">c</a></span><span class="op" id="2976318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976322">if</span>&nbsp;<span class="ident" id="2976325"><a href="/gostd/strings/strings.go.html#2976269">b</a></span>&nbsp;<span class="op" id="2976327">==</span>&nbsp;<span class="builtintype" id="2976330">nil</span>&nbsp;<span class="op" id="2976334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976339">if</span>&nbsp;<span class="ident" id="2976342"><a href="/gostd/strings/strings.go.html#2976304">r</a></span>&nbsp;<span class="op" id="2976344">==</span>&nbsp;<span class="ident" id="2976347"><a href="/gostd/strings/strings.go.html#2976287">c</a></span>&nbsp;<span class="op" id="2976349">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976355">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976372"><a href="/gostd/strings/strings.go.html#2976269">b</a></span>&nbsp;<span class="op" id="2976374">=</span>&nbsp;<span class="builtinfunc" id="2976376">make</span><span class="op" id="2976380">(</span><span class="op" id="2976381">[</span><span class="op" id="2976382">]</span><span class="builtintype" id="2976383">byte</span><span class="op" id="2976387">,</span>&nbsp;<span class="ident" id="2976389"><a href="/gostd/strings/strings.go.html#2976088">maxbytes</a></span><span class="op" id="2976397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976402"><a href="/gostd/strings/strings.go.html#2976123">nbytes</a></span>&nbsp;<span class="op" id="2976409">=</span>&nbsp;<span class="builtinfunc" id="2976411">copy</span><span class="op" id="2976415">(</span><span class="ident" id="2976416"><a href="/gostd/strings/strings.go.html#2976269">b</a></span><span class="op" id="2976417">,</span>&nbsp;<span class="ident" id="2976419"><a href="/gostd/strings/strings.go.html#2975876">s</a></span><span class="op" id="2976420">[</span><span class="op" id="2976421">:</span><span class="ident" id="2976422"><a href="/gostd/strings/strings.go.html#2976284">i</a></span><span class="op" id="2976423">]</span><span class="op" id="2976424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976428">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976432">if</span>&nbsp;<span class="ident" id="2976435"><a href="/gostd/strings/strings.go.html#2976304">r</a></span>&nbsp;<span class="op" id="2976437">&gt;=</span>&nbsp;<span class="num" id="2976440">0</span>&nbsp;<span class="op" id="2976442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976447">wid</span>&nbsp;<span class="op" id="2976451">:=</span>&nbsp;<span class="num" id="2976454">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976459">if</span>&nbsp;<span class="ident" id="2976462"><a href="/gostd/strings/strings.go.html#2976304">r</a></span>&nbsp;<span class="op" id="2976464">&gt;=</span>&nbsp;<span class="ident" id="2976467"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2976471">.</span><span class="ident" id="2976472"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="2976481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976487"><a href="/gostd/strings/strings.go.html#2976447">wid</a></span>&nbsp;<span class="op" id="2976491">=</span>&nbsp;<span class="ident" id="2976493"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2976497">.</span><span class="ident" id="2976498"><a href="/gostd/unicode/utf8/utf8.go.html#1812711">RuneLen</a></span><span class="op" id="2976505">(</span><span class="ident" id="2976506"><a href="/gostd/strings/strings.go.html#2976304">r</a></span><span class="op" id="2976507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976512">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976517">if</span>&nbsp;<span class="ident" id="2976520"><a href="/gostd/strings/strings.go.html#2976123">nbytes</a></span><span class="op" id="2976526">+</span><span class="ident" id="2976527"><a href="/gostd/strings/strings.go.html#2976447">wid</a></span>&nbsp;<span class="op" id="2976531">&gt;</span>&nbsp;<span class="ident" id="2976533"><a href="/gostd/strings/strings.go.html#2976088">maxbytes</a></span>&nbsp;<span class="op" id="2976542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2976548">//&nbsp;Grow&nbsp;the&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976572"><a href="/gostd/strings/strings.go.html#2976088">maxbytes</a></span>&nbsp;<span class="op" id="2976581">=</span>&nbsp;<span class="ident" id="2976583"><a href="/gostd/strings/strings.go.html#2976088">maxbytes</a></span><span class="op" id="2976591">*</span><span class="num" id="2976592">2</span>&nbsp;<span class="op" id="2976594">+</span>&nbsp;<span class="ident" id="2976596"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2976600">.</span><span class="ident" id="2976601"><a href="/gostd/unicode/utf8/utf8.go.html#1805617">UTFMax</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976612">nb</span>&nbsp;<span class="op" id="2976615">:=</span>&nbsp;<span class="builtinfunc" id="2976618">make</span><span class="op" id="2976622">(</span><span class="op" id="2976623">[</span><span class="op" id="2976624">]</span><span class="builtintype" id="2976625">byte</span><span class="op" id="2976629">,</span>&nbsp;<span class="ident" id="2976631"><a href="/gostd/strings/strings.go.html#2976088">maxbytes</a></span><span class="op" id="2976639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2976645">copy</span><span class="op" id="2976649">(</span><span class="ident" id="2976650"><a href="/gostd/strings/strings.go.html#2976612">nb</a></span><span class="op" id="2976652">,</span>&nbsp;<span class="ident" id="2976654"><a href="/gostd/strings/strings.go.html#2976269">b</a></span><span class="op" id="2976655">[</span><span class="num" id="2976656">0</span><span class="op" id="2976657">:</span><span class="ident" id="2976658"><a href="/gostd/strings/strings.go.html#2976123">nbytes</a></span><span class="op" id="2976664">]</span><span class="op" id="2976665">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976671"><a href="/gostd/strings/strings.go.html#2976269">b</a></span>&nbsp;<span class="op" id="2976673">=</span>&nbsp;<span class="ident" id="2976675"><a href="/gostd/strings/strings.go.html#2976612">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976686"><a href="/gostd/strings/strings.go.html#2976123">nbytes</a></span>&nbsp;<span class="op" id="2976693">+=</span>&nbsp;<span class="ident" id="2976696"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2976700">.</span><span class="ident" id="2976701"><a href="/gostd/unicode/utf8/utf8.go.html#1813107">EncodeRune</a></span><span class="op" id="2976711">(</span><span class="ident" id="2976712"><a href="/gostd/strings/strings.go.html#2976269">b</a></span><span class="op" id="2976713">[</span><span class="ident" id="2976714"><a href="/gostd/strings/strings.go.html#2976123">nbytes</a></span><span class="op" id="2976720">:</span><span class="ident" id="2976721"><a href="/gostd/strings/strings.go.html#2976088">maxbytes</a></span><span class="op" id="2976729">]</span><span class="op" id="2976730">,</span>&nbsp;<span class="ident" id="2976732"><a href="/gostd/strings/strings.go.html#2976304">r</a></span><span class="op" id="2976733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976740">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976743">if</span>&nbsp;<span class="ident" id="2976746"><a href="/gostd/strings/strings.go.html#2976269">b</a></span>&nbsp;<span class="op" id="2976748">==</span>&nbsp;<span class="builtintype" id="2976751">nil</span>&nbsp;<span class="op" id="2976755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976759">return</span>&nbsp;<span class="ident" id="2976766"><a href="/gostd/strings/strings.go.html#2975876">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2976769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976772">return</span>&nbsp;<span class="builtintype" id="2976779">string</span><span class="op" id="2976785">(</span><span class="ident" id="2976786"><a href="/gostd/strings/strings.go.html#2976269">b</a></span><span class="op" id="2976787">[</span><span class="num" id="2976788">0</span><span class="op" id="2976789">:</span><span class="ident" id="2976790"><a href="/gostd/strings/strings.go.html#2976123">nbytes</a></span><span class="op" id="2976796">]</span><span class="op" id="2976797">)</span><br>
<span class="lineno"></span><span class="op" id="2976799">}</span><br>
<span class="lineno">455</span><br>
<span class="lineno"></span><span class="comment" id="2976802">//&nbsp;Repeat&nbsp;returns&nbsp;a&nbsp;new&nbsp;string&nbsp;consisting&nbsp;of&nbsp;count&nbsp;copies&nbsp;of&nbsp;the&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="2976877">func</span>&nbsp;<span class="ident" id="2976882">Repeat</span><span class="op" id="2976888">(</span><span class="ident" id="2976889">s</span>&nbsp;<span class="builtintype" id="2976891">string</span><span class="op" id="2976897">,</span>&nbsp;<span class="ident" id="2976899">count</span>&nbsp;<span class="builtintype" id="2976905">int</span><span class="op" id="2976908">)</span>&nbsp;<span class="builtintype" id="2976910">string</span>&nbsp;<span class="op" id="2976917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976920">b</span>&nbsp;<span class="op" id="2976922">:=</span>&nbsp;<span class="builtinfunc" id="2976925">make</span><span class="op" id="2976929">(</span><span class="op" id="2976930">[</span><span class="op" id="2976931">]</span><span class="builtintype" id="2976932">byte</span><span class="op" id="2976936">,</span>&nbsp;<span class="builtinfunc" id="2976938">len</span><span class="op" id="2976941">(</span><span class="ident" id="2976942"><a href="/gostd/strings/strings.go.html#2976889">s</a></span><span class="op" id="2976943">)</span><span class="op" id="2976944">*</span><span class="ident" id="2976945"><a href="/gostd/strings/strings.go.html#2976899">count</a></span><span class="op" id="2976950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2976953">bp</span>&nbsp;<span class="op" id="2976956">:=</span>&nbsp;<span class="builtinfunc" id="2976959">copy</span><span class="op" id="2976963">(</span><span class="ident" id="2976964"><a href="/gostd/strings/strings.go.html#2976920">b</a></span><span class="op" id="2976965">,</span>&nbsp;<span class="ident" id="2976967"><a href="/gostd/strings/strings.go.html#2976889">s</a></span><span class="op" id="2976968">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2976971">for</span>&nbsp;<span class="ident" id="2976975"><a href="/gostd/strings/strings.go.html#2976953">bp</a></span>&nbsp;<span class="op" id="2976978">&lt;</span>&nbsp;<span class="builtinfunc" id="2976980">len</span><span class="op" id="2976983">(</span><span class="ident" id="2976984"><a href="/gostd/strings/strings.go.html#2976920">b</a></span><span class="op" id="2976985">)</span>&nbsp;<span class="op" id="2976987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2976991">copy</span><span class="op" id="2976995">(</span><span class="ident" id="2976996"><a href="/gostd/strings/strings.go.html#2976920">b</a></span><span class="op" id="2976997">[</span><span class="ident" id="2976998"><a href="/gostd/strings/strings.go.html#2976953">bp</a></span><span class="op" id="2977000">:</span><span class="op" id="2977001">]</span><span class="op" id="2977002">,</span>&nbsp;<span class="ident" id="2977004"><a href="/gostd/strings/strings.go.html#2976920">b</a></span><span class="op" id="2977005">[</span><span class="op" id="2977006">:</span><span class="ident" id="2977007"><a href="/gostd/strings/strings.go.html#2976953">bp</a></span><span class="op" id="2977009">]</span><span class="op" id="2977010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2977014"><a href="/gostd/strings/strings.go.html#2976953">bp</a></span>&nbsp;<span class="op" id="2977017">*=</span>&nbsp;<span class="num" id="2977020">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2977023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977026">return</span>&nbsp;<span class="builtintype" id="2977033">string</span><span class="op" id="2977039">(</span><span class="ident" id="2977040"><a href="/gostd/strings/strings.go.html#2976920">b</a></span><span class="op" id="2977041">)</span><br>
<span class="lineno">465</span><span class="op" id="2977043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2977046">//&nbsp;ToUpper&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;upper&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2977141">func</span>&nbsp;<span class="ident" id="2977146">ToUpper</span><span class="op" id="2977153">(</span><span class="ident" id="2977154">s</span>&nbsp;<span class="builtintype" id="2977156">string</span><span class="op" id="2977162">)</span>&nbsp;<span class="builtintype" id="2977164">string</span>&nbsp;<span class="op" id="2977171">{</span>&nbsp;<span class="keyword" id="2977173">return</span>&nbsp;<span class="ident" id="2977180"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="2977183">(</span><span class="ident" id="2977184"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2977191">.</span><span class="ident" id="2977192"><a href="/gostd/unicode/letter.go.html#1828255">ToUpper</a></span><span class="op" id="2977199">,</span>&nbsp;<span class="ident" id="2977201"><a href="/gostd/strings/strings.go.html#2977154">s</a></span><span class="op" id="2977202">)</span>&nbsp;<span class="op" id="2977204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span><span class="comment" id="2977207">//&nbsp;ToLower&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2977302">func</span>&nbsp;<span class="ident" id="2977307">ToLower</span><span class="op" id="2977314">(</span><span class="ident" id="2977315">s</span>&nbsp;<span class="builtintype" id="2977317">string</span><span class="op" id="2977323">)</span>&nbsp;<span class="builtintype" id="2977325">string</span>&nbsp;<span class="op" id="2977332">{</span>&nbsp;<span class="keyword" id="2977334">return</span>&nbsp;<span class="ident" id="2977341"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="2977344">(</span><span class="ident" id="2977345"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2977352">.</span><span class="ident" id="2977353"><a href="/gostd/unicode/letter.go.html#1828435">ToLower</a></span><span class="op" id="2977360">,</span>&nbsp;<span class="ident" id="2977362"><a href="/gostd/strings/strings.go.html#2977315">s</a></span><span class="op" id="2977363">)</span>&nbsp;<span class="op" id="2977365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2977368">//&nbsp;ToTitle&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2977463">func</span>&nbsp;<span class="ident" id="2977468">ToTitle</span><span class="op" id="2977475">(</span><span class="ident" id="2977476">s</span>&nbsp;<span class="builtintype" id="2977478">string</span><span class="op" id="2977484">)</span>&nbsp;<span class="builtintype" id="2977486">string</span>&nbsp;<span class="op" id="2977493">{</span>&nbsp;<span class="keyword" id="2977495">return</span>&nbsp;<span class="ident" id="2977502"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="2977505">(</span><span class="ident" id="2977506"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2977513">.</span><span class="ident" id="2977514"><a href="/gostd/unicode/letter.go.html#1828615">ToTitle</a></span><span class="op" id="2977521">,</span>&nbsp;<span class="ident" id="2977523"><a href="/gostd/strings/strings.go.html#2977476">s</a></span><span class="op" id="2977524">)</span>&nbsp;<span class="op" id="2977526">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span><span class="comment" id="2977529">//&nbsp;ToUpperSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2977619">//&nbsp;upper&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="2977679">func</span>&nbsp;<span class="ident" id="2977684">ToUpperSpecial</span><span class="op" id="2977698">(</span><span class="ident" id="2977699">_case</span>&nbsp;<span class="ident" id="2977705"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2977712">.</span><span class="ident" id="2977713"><a href="/gostd/unicode/letter.go.html#1823643">SpecialCase</a></span><span class="op" id="2977724">,</span>&nbsp;<span class="ident" id="2977726">s</span>&nbsp;<span class="builtintype" id="2977728">string</span><span class="op" id="2977734">)</span>&nbsp;<span class="builtintype" id="2977736">string</span>&nbsp;<span class="op" id="2977743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2977746">return</span>&nbsp;<span class="ident" id="2977753"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="2977756">(</span><span class="keyword" id="2977757">func</span><span class="op" id="2977761">(</span><span class="ident" id="2977762">r</span>&nbsp;<span class="builtintype" id="2977764">rune</span><span class="op" id="2977768">)</span>&nbsp;<span class="builtintype" id="2977770">rune</span>&nbsp;<span class="op" id="2977775">{</span>&nbsp;<span class="keyword" id="2977777">return</span>&nbsp;<span class="ident" id="2977784"><a href="/gostd/strings/strings.go.html#2977699">_case</a></span><span class="op" id="2977789">.</span><span class="ident" id="2977790"><a href="/gostd/unicode/letter.go.html#1828894">ToUpper</a></span><span class="op" id="2977797">(</span><span class="ident" id="2977798"><a href="/gostd/strings/strings.go.html#2977762">r</a></span><span class="op" id="2977799">)</span>&nbsp;<span class="op" id="2977801">}</span><span class="op" id="2977802">,</span>&nbsp;<span class="ident" id="2977804"><a href="/gostd/strings/strings.go.html#2977726">s</a></span><span class="op" id="2977805">)</span><br>
<span class="lineno">480</span><span class="op" id="2977807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2977810">//&nbsp;ToLowerSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2977900">//&nbsp;lower&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="2977960">func</span>&nbsp;<span class="ident" id="2977965">ToLowerSpecial</span><span class="op" id="2977979">(</span><span class="ident" id="2977980">_case</span>&nbsp;<span class="ident" id="2977986"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2977993">.</span><span class="ident" id="2977994"><a href="/gostd/unicode/letter.go.html#1823643">SpecialCase</a></span><span class="op" id="2978005">,</span>&nbsp;<span class="ident" id="2978007">s</span>&nbsp;<span class="builtintype" id="2978009">string</span><span class="op" id="2978015">)</span>&nbsp;<span class="builtintype" id="2978017">string</span>&nbsp;<span class="op" id="2978024">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978027">return</span>&nbsp;<span class="ident" id="2978034"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="2978037">(</span><span class="keyword" id="2978038">func</span><span class="op" id="2978042">(</span><span class="ident" id="2978043">r</span>&nbsp;<span class="builtintype" id="2978045">rune</span><span class="op" id="2978049">)</span>&nbsp;<span class="builtintype" id="2978051">rune</span>&nbsp;<span class="op" id="2978056">{</span>&nbsp;<span class="keyword" id="2978058">return</span>&nbsp;<span class="ident" id="2978065"><a href="/gostd/strings/strings.go.html#2977980">_case</a></span><span class="op" id="2978070">.</span><span class="ident" id="2978071"><a href="/gostd/unicode/letter.go.html#1829342">ToLower</a></span><span class="op" id="2978078">(</span><span class="ident" id="2978079"><a href="/gostd/strings/strings.go.html#2978043">r</a></span><span class="op" id="2978080">)</span>&nbsp;<span class="op" id="2978082">}</span><span class="op" id="2978083">,</span>&nbsp;<span class="ident" id="2978085"><a href="/gostd/strings/strings.go.html#2978007">s</a></span><span class="op" id="2978086">)</span><br>
<span class="lineno"></span><span class="op" id="2978088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2978091">//&nbsp;ToTitleSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="2978181">//&nbsp;title&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno">490</span><span class="keyword" id="2978241">func</span>&nbsp;<span class="ident" id="2978246">ToTitleSpecial</span><span class="op" id="2978260">(</span><span class="ident" id="2978261">_case</span>&nbsp;<span class="ident" id="2978267"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2978274">.</span><span class="ident" id="2978275"><a href="/gostd/unicode/letter.go.html#1823643">SpecialCase</a></span><span class="op" id="2978286">,</span>&nbsp;<span class="ident" id="2978288">s</span>&nbsp;<span class="builtintype" id="2978290">string</span><span class="op" id="2978296">)</span>&nbsp;<span class="builtintype" id="2978298">string</span>&nbsp;<span class="op" id="2978305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978308">return</span>&nbsp;<span class="ident" id="2978315"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="2978318">(</span><span class="keyword" id="2978319">func</span><span class="op" id="2978323">(</span><span class="ident" id="2978324">r</span>&nbsp;<span class="builtintype" id="2978326">rune</span><span class="op" id="2978330">)</span>&nbsp;<span class="builtintype" id="2978332">rune</span>&nbsp;<span class="op" id="2978337">{</span>&nbsp;<span class="keyword" id="2978339">return</span>&nbsp;<span class="ident" id="2978346"><a href="/gostd/strings/strings.go.html#2978261">_case</a></span><span class="op" id="2978351">.</span><span class="ident" id="2978352"><a href="/gostd/unicode/letter.go.html#1829118">ToTitle</a></span><span class="op" id="2978359">(</span><span class="ident" id="2978360"><a href="/gostd/strings/strings.go.html#2978324">r</a></span><span class="op" id="2978361">)</span>&nbsp;<span class="op" id="2978363">}</span><span class="op" id="2978364">,</span>&nbsp;<span class="ident" id="2978366"><a href="/gostd/strings/strings.go.html#2978288">s</a></span><span class="op" id="2978367">)</span><br>
<span class="lineno"></span><span class="op" id="2978369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2978372">//&nbsp;isSeparator&nbsp;reports&nbsp;whether&nbsp;the&nbsp;rune&nbsp;could&nbsp;mark&nbsp;a&nbsp;word&nbsp;boundary.</span><br>
<span class="lineno">495</span><span class="comment" id="2978440">//&nbsp;TODO:&nbsp;update&nbsp;when&nbsp;package&nbsp;unicode&nbsp;captures&nbsp;more&nbsp;of&nbsp;the&nbsp;properties.</span><br>
<span class="lineno"></span><span class="keyword" id="2978510">func</span>&nbsp;<span class="ident" id="2978515">isSeparator</span><span class="op" id="2978526">(</span><span class="ident" id="2978527">r</span>&nbsp;<span class="builtintype" id="2978529">rune</span><span class="op" id="2978533">)</span>&nbsp;<span class="builtintype" id="2978535">bool</span>&nbsp;<span class="op" id="2978540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978543">//&nbsp;ASCII&nbsp;alphanumerics&nbsp;and&nbsp;underscore&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978601">if</span>&nbsp;<span class="ident" id="2978604"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978606">&lt;=</span>&nbsp;<span class="num" id="2978609">0x7F</span>&nbsp;<span class="op" id="2978614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978618">switch</span>&nbsp;<span class="op" id="2978625">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978629">case</span>&nbsp;<span class="string" id="2978634">&#39;0&#39;</span>&nbsp;<span class="op" id="2978638">&lt;=</span>&nbsp;<span class="ident" id="2978641"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978643">&amp;&amp;</span>&nbsp;<span class="ident" id="2978646"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978648">&lt;=</span>&nbsp;<span class="string" id="2978651">&#39;9&#39;</span><span class="op" id="2978654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978659">return</span>&nbsp;<span class="builtintype" id="2978666">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978674">case</span>&nbsp;<span class="string" id="2978679">&#39;a&#39;</span>&nbsp;<span class="op" id="2978683">&lt;=</span>&nbsp;<span class="ident" id="2978686"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978688">&amp;&amp;</span>&nbsp;<span class="ident" id="2978691"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978693">&lt;=</span>&nbsp;<span class="string" id="2978696">&#39;z&#39;</span><span class="op" id="2978699">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978704">return</span>&nbsp;<span class="builtintype" id="2978711">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978719">case</span>&nbsp;<span class="string" id="2978724">&#39;A&#39;</span>&nbsp;<span class="op" id="2978728">&lt;=</span>&nbsp;<span class="ident" id="2978731"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978733">&amp;&amp;</span>&nbsp;<span class="ident" id="2978736"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978738">&lt;=</span>&nbsp;<span class="string" id="2978741">&#39;Z&#39;</span><span class="op" id="2978744">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978749">return</span>&nbsp;<span class="builtintype" id="2978756">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978764">case</span>&nbsp;<span class="ident" id="2978769"><a href="/gostd/strings/strings.go.html#2978527">r</a></span>&nbsp;<span class="op" id="2978771">==</span>&nbsp;<span class="string" id="2978774">&#39;_&#39;</span><span class="op" id="2978777">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978782">return</span>&nbsp;<span class="builtintype" id="2978789">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2978797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978801">return</span>&nbsp;<span class="builtintype" id="2978808">true</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2978814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978817">//&nbsp;Letters&nbsp;and&nbsp;digits&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978859">if</span>&nbsp;<span class="ident" id="2978862"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2978869">.</span><span class="ident" id="2978870"><a href="/gostd/unicode/graphic.go.html#1819623">IsLetter</a></span><span class="op" id="2978878">(</span><span class="ident" id="2978879"><a href="/gostd/strings/strings.go.html#2978527">r</a></span><span class="op" id="2978880">)</span>&nbsp;<span class="op" id="2978882">||</span>&nbsp;<span class="ident" id="2978885"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2978892">.</span><span class="ident" id="2978893"><a href="/gostd/unicode/digit.go.html#1816545">IsDigit</a></span><span class="op" id="2978900">(</span><span class="ident" id="2978901"><a href="/gostd/strings/strings.go.html#2978527">r</a></span><span class="op" id="2978902">)</span>&nbsp;<span class="op" id="2978904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978908">return</span>&nbsp;<span class="builtintype" id="2978915">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2978922">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2978925">//&nbsp;Otherwise,&nbsp;all&nbsp;we&nbsp;can&nbsp;do&nbsp;for&nbsp;now&nbsp;is&nbsp;treat&nbsp;spaces&nbsp;as&nbsp;separators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2978993">return</span>&nbsp;<span class="ident" id="2979000"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2979007">.</span><span class="ident" id="2979008"><a href="/gostd/unicode/graphic.go.html#1820663">IsSpace</a></span><span class="op" id="2979015">(</span><span class="ident" id="2979016"><a href="/gostd/strings/strings.go.html#2978527">r</a></span><span class="op" id="2979017">)</span><br>
<span class="lineno"></span><span class="op" id="2979019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2979022">//&nbsp;Title&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;that&nbsp;begin&nbsp;words</span><br>
<span class="lineno">520</span><span class="comment" id="2979104">//&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="comment" id="2979135">//</span><br>
<span class="lineno"></span><span class="comment" id="2979138">//&nbsp;BUG:&nbsp;The&nbsp;rule&nbsp;Title&nbsp;uses&nbsp;for&nbsp;word&nbsp;boundaries&nbsp;does&nbsp;not&nbsp;handle&nbsp;Unicode&nbsp;punctuation&nbsp;properly.</span><br>
<span class="lineno"></span><span class="keyword" id="2979232">func</span>&nbsp;<span class="ident" id="2979237">Title</span><span class="op" id="2979242">(</span><span class="ident" id="2979243">s</span>&nbsp;<span class="builtintype" id="2979245">string</span><span class="op" id="2979251">)</span>&nbsp;<span class="builtintype" id="2979253">string</span>&nbsp;<span class="op" id="2979260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2979263">//&nbsp;Use&nbsp;a&nbsp;closure&nbsp;here&nbsp;to&nbsp;remember&nbsp;state.</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2979305">//&nbsp;Hackish&nbsp;but&nbsp;effective.&nbsp;Depends&nbsp;on&nbsp;Map&nbsp;scanning&nbsp;in&nbsp;order&nbsp;and&nbsp;calling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2979377">//&nbsp;the&nbsp;closure&nbsp;once&nbsp;per&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979408">prev</span>&nbsp;<span class="op" id="2979413">:=</span>&nbsp;<span class="string" id="2979416">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979421">return</span>&nbsp;<span class="ident" id="2979428"><a href="/gostd/strings/strings.go.html#2975847">Map</a></span><span class="op" id="2979431">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979435">func</span><span class="op" id="2979439">(</span><span class="ident" id="2979440">r</span>&nbsp;<span class="builtintype" id="2979442">rune</span><span class="op" id="2979446">)</span>&nbsp;<span class="builtintype" id="2979448">rune</span>&nbsp;<span class="op" id="2979453">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979458">if</span>&nbsp;<span class="ident" id="2979461"><a href="/gostd/strings/strings.go.html#2978515">isSeparator</a></span><span class="op" id="2979472">(</span><span class="ident" id="2979473"><a href="/gostd/strings/strings.go.html#2979408">prev</a></span><span class="op" id="2979477">)</span>&nbsp;<span class="op" id="2979479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979485"><a href="/gostd/strings/strings.go.html#2979408">prev</a></span>&nbsp;<span class="op" id="2979490">=</span>&nbsp;<span class="ident" id="2979492"><a href="/gostd/strings/strings.go.html#2979440">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979498">return</span>&nbsp;<span class="ident" id="2979505"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2979512">.</span><span class="ident" id="2979513"><a href="/gostd/unicode/letter.go.html#1828615">ToTitle</a></span><span class="op" id="2979520">(</span><span class="ident" id="2979521"><a href="/gostd/strings/strings.go.html#2979440">r</a></span><span class="op" id="2979522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2979527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979532"><a href="/gostd/strings/strings.go.html#2979408">prev</a></span>&nbsp;<span class="op" id="2979537">=</span>&nbsp;<span class="ident" id="2979539"><a href="/gostd/strings/strings.go.html#2979440">r</a></span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979544">return</span>&nbsp;<span class="ident" id="2979551"><a href="/gostd/strings/strings.go.html#2979440">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2979555">}</span><span class="op" id="2979556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979560"><a href="/gostd/strings/strings.go.html#2979243">s</a></span><span class="op" id="2979561">)</span><br>
<span class="lineno"></span><span class="op" id="2979563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">540</span><span class="comment" id="2979566">//&nbsp;TrimLeftFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2979631">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2979681">func</span>&nbsp;<span class="ident" id="2979686">TrimLeftFunc</span><span class="op" id="2979698">(</span><span class="ident" id="2979699">s</span>&nbsp;<span class="builtintype" id="2979701">string</span><span class="op" id="2979707">,</span>&nbsp;<span class="ident" id="2979709">f</span>&nbsp;<span class="keyword" id="2979711">func</span><span class="op" id="2979715">(</span><span class="builtintype" id="2979716">rune</span><span class="op" id="2979720">)</span>&nbsp;<span class="builtintype" id="2979722">bool</span><span class="op" id="2979726">)</span>&nbsp;<span class="builtintype" id="2979728">string</span>&nbsp;<span class="op" id="2979735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979738">i</span>&nbsp;<span class="op" id="2979740">:=</span>&nbsp;<span class="ident" id="2979743"><a href="/gostd/strings/strings.go.html#2980892">indexFunc</a></span><span class="op" id="2979752">(</span><span class="ident" id="2979753"><a href="/gostd/strings/strings.go.html#2979699">s</a></span><span class="op" id="2979754">,</span>&nbsp;<span class="ident" id="2979756"><a href="/gostd/strings/strings.go.html#2979709">f</a></span><span class="op" id="2979757">,</span>&nbsp;<span class="builtintype" id="2979759">false</span><span class="op" id="2979764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979767">if</span>&nbsp;<span class="ident" id="2979770"><a href="/gostd/strings/strings.go.html#2979738">i</a></span>&nbsp;<span class="op" id="2979772">==</span>&nbsp;<span class="op" id="2979775">-</span><span class="num" id="2979776">1</span>&nbsp;<span class="op" id="2979778">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979782">return</span>&nbsp;<span class="string" id="2979789">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2979793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2979796">return</span>&nbsp;<span class="ident" id="2979803"><a href="/gostd/strings/strings.go.html#2979699">s</a></span><span class="op" id="2979804">[</span><span class="ident" id="2979805"><a href="/gostd/strings/strings.go.html#2979738">i</a></span><span class="op" id="2979806">:</span><span class="op" id="2979807">]</span><br>
<span class="lineno"></span><span class="op" id="2979809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="2979812">//&nbsp;TrimRightFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="2979879">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2979929">func</span>&nbsp;<span class="ident" id="2979934">TrimRightFunc</span><span class="op" id="2979947">(</span><span class="ident" id="2979948">s</span>&nbsp;<span class="builtintype" id="2979950">string</span><span class="op" id="2979956">,</span>&nbsp;<span class="ident" id="2979958">f</span>&nbsp;<span class="keyword" id="2979960">func</span><span class="op" id="2979964">(</span><span class="builtintype" id="2979965">rune</span><span class="op" id="2979969">)</span>&nbsp;<span class="builtintype" id="2979971">bool</span><span class="op" id="2979975">)</span>&nbsp;<span class="builtintype" id="2979977">string</span>&nbsp;<span class="op" id="2979984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2979987">i</span>&nbsp;<span class="op" id="2979989">:=</span>&nbsp;<span class="ident" id="2979992"><a href="/gostd/strings/strings.go.html#2981301">lastIndexFunc</a></span><span class="op" id="2980005">(</span><span class="ident" id="2980006"><a href="/gostd/strings/strings.go.html#2979948">s</a></span><span class="op" id="2980007">,</span>&nbsp;<span class="ident" id="2980009"><a href="/gostd/strings/strings.go.html#2979958">f</a></span><span class="op" id="2980010">,</span>&nbsp;<span class="builtintype" id="2980012">false</span><span class="op" id="2980017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2980020">if</span>&nbsp;<span class="ident" id="2980023"><a href="/gostd/strings/strings.go.html#2979987">i</a></span>&nbsp;<span class="op" id="2980025">&gt;=</span>&nbsp;<span class="num" id="2980028">0</span>&nbsp;<span class="op" id="2980030">&amp;&amp;</span>&nbsp;<span class="ident" id="2980033"><a href="/gostd/strings/strings.go.html#2979948">s</a></span><span class="op" id="2980034">[</span><span class="ident" id="2980035"><a href="/gostd/strings/strings.go.html#2979987">i</a></span><span class="op" id="2980036">]</span>&nbsp;<span class="op" id="2980038">&gt;=</span>&nbsp;<span class="ident" id="2980041"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2980045">.</span><span class="ident" id="2980046"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="2980055">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980059">_</span><span class="op" id="2980060">,</span>&nbsp;<span class="ident" id="2980062">wid</span>&nbsp;<span class="op" id="2980066">:=</span>&nbsp;<span class="ident" id="2980069"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2980073">.</span><span class="ident" id="2980074"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2980092">(</span><span class="ident" id="2980093"><a href="/gostd/strings/strings.go.html#2979948">s</a></span><span class="op" id="2980094">[</span><span class="ident" id="2980095"><a href="/gostd/strings/strings.go.html#2979987">i</a></span><span class="op" id="2980096">:</span><span class="op" id="2980097">]</span><span class="op" id="2980098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980102"><a href="/gostd/strings/strings.go.html#2979987">i</a></span>&nbsp;<span class="op" id="2980104">+=</span>&nbsp;<span class="ident" id="2980107"><a href="/gostd/strings/strings.go.html#2980062">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2980112">}</span>&nbsp;<span class="keyword" id="2980114">else</span>&nbsp;<span class="op" id="2980119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980123"><a href="/gostd/strings/strings.go.html#2979987">i</a></span><span class="op" id="2980124">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2980128">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2980131">return</span>&nbsp;<span class="ident" id="2980138"><a href="/gostd/strings/strings.go.html#2979948">s</a></span><span class="op" id="2980139">[</span><span class="num" id="2980140">0</span><span class="op" id="2980141">:</span><span class="ident" id="2980142"><a href="/gostd/strings/strings.go.html#2979987">i</a></span><span class="op" id="2980143">]</span><br>
<span class="lineno"></span><span class="op" id="2980145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2980148">//&nbsp;TrimFunc&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2980209">//&nbsp;and&nbsp;trailing&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;removed.</span><br>
<span class="lineno">565</span><span class="keyword" id="2980272">func</span>&nbsp;<span class="ident" id="2980277">TrimFunc</span><span class="op" id="2980285">(</span><span class="ident" id="2980286">s</span>&nbsp;<span class="builtintype" id="2980288">string</span><span class="op" id="2980294">,</span>&nbsp;<span class="ident" id="2980296">f</span>&nbsp;<span class="keyword" id="2980298">func</span><span class="op" id="2980302">(</span><span class="builtintype" id="2980303">rune</span><span class="op" id="2980307">)</span>&nbsp;<span class="builtintype" id="2980309">bool</span><span class="op" id="2980313">)</span>&nbsp;<span class="builtintype" id="2980315">string</span>&nbsp;<span class="op" id="2980322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2980325">return</span>&nbsp;<span class="ident" id="2980332"><a href="/gostd/strings/strings.go.html#2979934">TrimRightFunc</a></span><span class="op" id="2980345">(</span><span class="ident" id="2980346"><a href="/gostd/strings/strings.go.html#2979686">TrimLeftFunc</a></span><span class="op" id="2980358">(</span><span class="ident" id="2980359"><a href="/gostd/strings/strings.go.html#2980286">s</a></span><span class="op" id="2980360">,</span>&nbsp;<span class="ident" id="2980362"><a href="/gostd/strings/strings.go.html#2980296">f</a></span><span class="op" id="2980363">)</span><span class="op" id="2980364">,</span>&nbsp;<span class="ident" id="2980366"><a href="/gostd/strings/strings.go.html#2980296">f</a></span><span class="op" id="2980367">)</span><br>
<span class="lineno"></span><span class="op" id="2980369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2980372">//&nbsp;IndexFunc&nbsp;returns&nbsp;the&nbsp;index&nbsp;into&nbsp;s&nbsp;of&nbsp;the&nbsp;first&nbsp;Unicode</span><br>
<span class="lineno">570</span><span class="comment" id="2980431">//&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno"></span><span class="keyword" id="2980480">func</span>&nbsp;<span class="ident" id="2980485">IndexFunc</span><span class="op" id="2980494">(</span><span class="ident" id="2980495">s</span>&nbsp;<span class="builtintype" id="2980497">string</span><span class="op" id="2980503">,</span>&nbsp;<span class="ident" id="2980505">f</span>&nbsp;<span class="keyword" id="2980507">func</span><span class="op" id="2980511">(</span><span class="builtintype" id="2980512">rune</span><span class="op" id="2980516">)</span>&nbsp;<span class="builtintype" id="2980518">bool</span><span class="op" id="2980522">)</span>&nbsp;<span class="builtintype" id="2980524">int</span>&nbsp;<span class="op" id="2980528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2980531">return</span>&nbsp;<span class="ident" id="2980538"><a href="/gostd/strings/strings.go.html#2980892">indexFunc</a></span><span class="op" id="2980547">(</span><span class="ident" id="2980548"><a href="/gostd/strings/strings.go.html#2980495">s</a></span><span class="op" id="2980549">,</span>&nbsp;<span class="ident" id="2980551"><a href="/gostd/strings/strings.go.html#2980505">f</a></span><span class="op" id="2980552">,</span>&nbsp;<span class="builtintype" id="2980554">true</span><span class="op" id="2980558">)</span><br>
<span class="lineno"></span><span class="op" id="2980560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="comment" id="2980563">//&nbsp;LastIndexFunc&nbsp;returns&nbsp;the&nbsp;index&nbsp;into&nbsp;s&nbsp;of&nbsp;the&nbsp;last</span><br>
<span class="lineno"></span><span class="comment" id="2980617">//&nbsp;Unicode&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno"></span><span class="keyword" id="2980674">func</span>&nbsp;<span class="ident" id="2980679">LastIndexFunc</span><span class="op" id="2980692">(</span><span class="ident" id="2980693">s</span>&nbsp;<span class="builtintype" id="2980695">string</span><span class="op" id="2980701">,</span>&nbsp;<span class="ident" id="2980703">f</span>&nbsp;<span class="keyword" id="2980705">func</span><span class="op" id="2980709">(</span><span class="builtintype" id="2980710">rune</span><span class="op" id="2980714">)</span>&nbsp;<span class="builtintype" id="2980716">bool</span><span class="op" id="2980720">)</span>&nbsp;<span class="builtintype" id="2980722">int</span>&nbsp;<span class="op" id="2980726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2980729">return</span>&nbsp;<span class="ident" id="2980736"><a href="/gostd/strings/strings.go.html#2981301">lastIndexFunc</a></span><span class="op" id="2980749">(</span><span class="ident" id="2980750"><a href="/gostd/strings/strings.go.html#2980693">s</a></span><span class="op" id="2980751">,</span>&nbsp;<span class="ident" id="2980753"><a href="/gostd/strings/strings.go.html#2980703">f</a></span><span class="op" id="2980754">,</span>&nbsp;<span class="builtintype" id="2980756">true</span><span class="op" id="2980760">)</span><br>
<span class="lineno"></span><span class="op" id="2980762">}</span><br>
<span class="lineno">580</span><br>
<span class="lineno"></span><span class="comment" id="2980765">//&nbsp;indexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;IndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2980818">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2980874">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="2980887">func</span>&nbsp;<span class="ident" id="2980892">indexFunc</span><span class="op" id="2980901">(</span><span class="ident" id="2980902">s</span>&nbsp;<span class="builtintype" id="2980904">string</span><span class="op" id="2980910">,</span>&nbsp;<span class="ident" id="2980912">f</span>&nbsp;<span class="keyword" id="2980914">func</span><span class="op" id="2980918">(</span><span class="builtintype" id="2980919">rune</span><span class="op" id="2980923">)</span>&nbsp;<span class="builtintype" id="2980925">bool</span><span class="op" id="2980929">,</span>&nbsp;<span class="ident" id="2980931">truth</span>&nbsp;<span class="builtintype" id="2980937">bool</span><span class="op" id="2980941">)</span>&nbsp;<span class="builtintype" id="2980943">int</span>&nbsp;<span class="op" id="2980947">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980950">start</span>&nbsp;<span class="op" id="2980956">:=</span>&nbsp;<span class="num" id="2980959">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2980962">for</span>&nbsp;<span class="ident" id="2980966"><a href="/gostd/strings/strings.go.html#2980950">start</a></span>&nbsp;<span class="op" id="2980972">&lt;</span>&nbsp;<span class="builtinfunc" id="2980974">len</span><span class="op" id="2980977">(</span><span class="ident" id="2980978"><a href="/gostd/strings/strings.go.html#2980902">s</a></span><span class="op" id="2980979">)</span>&nbsp;<span class="op" id="2980981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980985">wid</span>&nbsp;<span class="op" id="2980989">:=</span>&nbsp;<span class="num" id="2980992">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2980996">r</span>&nbsp;<span class="op" id="2980998">:=</span>&nbsp;<span class="builtintype" id="2981001">rune</span><span class="op" id="2981005">(</span><span class="ident" id="2981006"><a href="/gostd/strings/strings.go.html#2980902">s</a></span><span class="op" id="2981007">[</span><span class="ident" id="2981008"><a href="/gostd/strings/strings.go.html#2980950">start</a></span><span class="op" id="2981013">]</span><span class="op" id="2981014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981018">if</span>&nbsp;<span class="ident" id="2981021"><a href="/gostd/strings/strings.go.html#2980996">r</a></span>&nbsp;<span class="op" id="2981023">&gt;=</span>&nbsp;<span class="ident" id="2981026"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2981030">.</span><span class="ident" id="2981031"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="2981040">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981045"><a href="/gostd/strings/strings.go.html#2980996">r</a></span><span class="op" id="2981046">,</span>&nbsp;<span class="ident" id="2981048"><a href="/gostd/strings/strings.go.html#2980985">wid</a></span>&nbsp;<span class="op" id="2981052">=</span>&nbsp;<span class="ident" id="2981054"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2981058">.</span><span class="ident" id="2981059"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2981077">(</span><span class="ident" id="2981078"><a href="/gostd/strings/strings.go.html#2980902">s</a></span><span class="op" id="2981079">[</span><span class="ident" id="2981080"><a href="/gostd/strings/strings.go.html#2980950">start</a></span><span class="op" id="2981085">:</span><span class="op" id="2981086">]</span><span class="op" id="2981087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981095">if</span>&nbsp;<span class="ident" id="2981098"><a href="/gostd/strings/strings.go.html#2980912">f</a></span><span class="op" id="2981099">(</span><span class="ident" id="2981100"><a href="/gostd/strings/strings.go.html#2980996">r</a></span><span class="op" id="2981101">)</span>&nbsp;<span class="op" id="2981103">==</span>&nbsp;<span class="ident" id="2981106"><a href="/gostd/strings/strings.go.html#2980931">truth</a></span>&nbsp;<span class="op" id="2981112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981117">return</span>&nbsp;<span class="ident" id="2981124"><a href="/gostd/strings/strings.go.html#2980950">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981132">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981136"><a href="/gostd/strings/strings.go.html#2980950">start</a></span>&nbsp;<span class="op" id="2981142">+=</span>&nbsp;<span class="ident" id="2981145"><a href="/gostd/strings/strings.go.html#2980985">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981153">return</span>&nbsp;<span class="op" id="2981160">-</span><span class="num" id="2981161">1</span><br>
<span class="lineno"></span><span class="op" id="2981163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="comment" id="2981166">//&nbsp;lastIndexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;LastIndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2981227">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2981283">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="2981296">func</span>&nbsp;<span class="ident" id="2981301">lastIndexFunc</span><span class="op" id="2981314">(</span><span class="ident" id="2981315">s</span>&nbsp;<span class="builtintype" id="2981317">string</span><span class="op" id="2981323">,</span>&nbsp;<span class="ident" id="2981325">f</span>&nbsp;<span class="keyword" id="2981327">func</span><span class="op" id="2981331">(</span><span class="builtintype" id="2981332">rune</span><span class="op" id="2981336">)</span>&nbsp;<span class="builtintype" id="2981338">bool</span><span class="op" id="2981342">,</span>&nbsp;<span class="ident" id="2981344">truth</span>&nbsp;<span class="builtintype" id="2981350">bool</span><span class="op" id="2981354">)</span>&nbsp;<span class="builtintype" id="2981356">int</span>&nbsp;<span class="op" id="2981360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981363">for</span>&nbsp;<span class="ident" id="2981367">i</span>&nbsp;<span class="op" id="2981369">:=</span>&nbsp;<span class="builtinfunc" id="2981372">len</span><span class="op" id="2981375">(</span><span class="ident" id="2981376"><a href="/gostd/strings/strings.go.html#2981315">s</a></span><span class="op" id="2981377">)</span><span class="op" id="2981378">;</span>&nbsp;<span class="ident" id="2981380"><a href="/gostd/strings/strings.go.html#2981367">i</a></span>&nbsp;<span class="op" id="2981382">&gt;</span>&nbsp;<span class="num" id="2981384">0</span><span class="op" id="2981385">;</span>&nbsp;<span class="op" id="2981387">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981391">r</span><span class="op" id="2981392">,</span>&nbsp;<span class="ident" id="2981394">size</span>&nbsp;<span class="op" id="2981399">:=</span>&nbsp;<span class="ident" id="2981402"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2981406">.</span><span class="ident" id="2981407"><a href="/gostd/unicode/utf8/utf8.go.html#1811991">DecodeLastRuneInString</a></span><span class="op" id="2981429">(</span><span class="ident" id="2981430"><a href="/gostd/strings/strings.go.html#2981315">s</a></span><span class="op" id="2981431">[</span><span class="num" id="2981432">0</span><span class="op" id="2981433">:</span><span class="ident" id="2981434"><a href="/gostd/strings/strings.go.html#2981367">i</a></span><span class="op" id="2981435">]</span><span class="op" id="2981436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2981440"><a href="/gostd/strings/strings.go.html#2981367">i</a></span>&nbsp;<span class="op" id="2981442">-=</span>&nbsp;<span class="ident" id="2981445"><a href="/gostd/strings/strings.go.html#2981394">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981452">if</span>&nbsp;<span class="ident" id="2981455"><a href="/gostd/strings/strings.go.html#2981325">f</a></span><span class="op" id="2981456">(</span><span class="ident" id="2981457"><a href="/gostd/strings/strings.go.html#2981391">r</a></span><span class="op" id="2981458">)</span>&nbsp;<span class="op" id="2981460">==</span>&nbsp;<span class="ident" id="2981463"><a href="/gostd/strings/strings.go.html#2981344">truth</a></span>&nbsp;<span class="op" id="2981469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981474">return</span>&nbsp;<span class="ident" id="2981481"><a href="/gostd/strings/strings.go.html#2981367">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981485">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981491">return</span>&nbsp;<span class="op" id="2981498">-</span><span class="num" id="2981499">1</span><br>
<span class="lineno"></span><span class="op" id="2981501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2981504">func</span>&nbsp;<span class="ident" id="2981509">makeCutsetFunc</span><span class="op" id="2981523">(</span><span class="ident" id="2981524">cutset</span>&nbsp;<span class="builtintype" id="2981531">string</span><span class="op" id="2981537">)</span>&nbsp;<span class="keyword" id="2981539">func</span><span class="op" id="2981543">(</span><span class="builtintype" id="2981544">rune</span><span class="op" id="2981548">)</span>&nbsp;<span class="builtintype" id="2981550">bool</span>&nbsp;<span class="op" id="2981555">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981558">return</span>&nbsp;<span class="keyword" id="2981565">func</span><span class="op" id="2981569">(</span><span class="ident" id="2981570">r</span>&nbsp;<span class="builtintype" id="2981572">rune</span><span class="op" id="2981576">)</span>&nbsp;<span class="builtintype" id="2981578">bool</span>&nbsp;<span class="op" id="2981583">{</span>&nbsp;<span class="keyword" id="2981585">return</span>&nbsp;<span class="ident" id="2981592"><a href="/gostd/strings/strings.go.html#2970424">IndexRune</a></span><span class="op" id="2981601">(</span><span class="ident" id="2981602"><a href="/gostd/strings/strings.go.html#2981524">cutset</a></span><span class="op" id="2981608">,</span>&nbsp;<span class="ident" id="2981610"><a href="/gostd/strings/strings.go.html#2981570">r</a></span><span class="op" id="2981611">)</span>&nbsp;<span class="op" id="2981613">&gt;=</span>&nbsp;<span class="num" id="2981616">0</span>&nbsp;<span class="op" id="2981618">}</span><br>
<span class="lineno"></span><span class="op" id="2981620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2981623">//&nbsp;Trim&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2981684">//&nbsp;trailing&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno">620</span><span class="keyword" id="2981745">func</span>&nbsp;<span class="ident" id="2981750">Trim</span><span class="op" id="2981754">(</span><span class="ident" id="2981755">s</span>&nbsp;<span class="builtintype" id="2981757">string</span><span class="op" id="2981763">,</span>&nbsp;<span class="ident" id="2981765">cutset</span>&nbsp;<span class="builtintype" id="2981772">string</span><span class="op" id="2981778">)</span>&nbsp;<span class="builtintype" id="2981780">string</span>&nbsp;<span class="op" id="2981787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981790">if</span>&nbsp;<span class="ident" id="2981793"><a href="/gostd/strings/strings.go.html#2981755">s</a></span>&nbsp;<span class="op" id="2981795">==</span>&nbsp;<span class="string" id="2981798">&#34;&#34;</span>&nbsp;<span class="op" id="2981801">||</span>&nbsp;<span class="ident" id="2981804"><a href="/gostd/strings/strings.go.html#2981765">cutset</a></span>&nbsp;<span class="op" id="2981811">==</span>&nbsp;<span class="string" id="2981814">&#34;&#34;</span>&nbsp;<span class="op" id="2981817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981821">return</span>&nbsp;<span class="ident" id="2981828"><a href="/gostd/strings/strings.go.html#2981755">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2981831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2981834">return</span>&nbsp;<span class="ident" id="2981841"><a href="/gostd/strings/strings.go.html#2980277">TrimFunc</a></span><span class="op" id="2981849">(</span><span class="ident" id="2981850"><a href="/gostd/strings/strings.go.html#2981755">s</a></span><span class="op" id="2981851">,</span>&nbsp;<span class="ident" id="2981853"><a href="/gostd/strings/strings.go.html#2981509">makeCutsetFunc</a></span><span class="op" id="2981867">(</span><span class="ident" id="2981868"><a href="/gostd/strings/strings.go.html#2981765">cutset</a></span><span class="op" id="2981874">)</span><span class="op" id="2981875">)</span><br>
<span class="lineno">625</span><span class="op" id="2981877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2981880">//&nbsp;TrimLeft&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2981941">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2981993">func</span>&nbsp;<span class="ident" id="2981998">TrimLeft</span><span class="op" id="2982006">(</span><span class="ident" id="2982007">s</span>&nbsp;<span class="builtintype" id="2982009">string</span><span class="op" id="2982015">,</span>&nbsp;<span class="ident" id="2982017">cutset</span>&nbsp;<span class="builtintype" id="2982024">string</span><span class="op" id="2982030">)</span>&nbsp;<span class="builtintype" id="2982032">string</span>&nbsp;<span class="op" id="2982039">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982042">if</span>&nbsp;<span class="ident" id="2982045"><a href="/gostd/strings/strings.go.html#2982007">s</a></span>&nbsp;<span class="op" id="2982047">==</span>&nbsp;<span class="string" id="2982050">&#34;&#34;</span>&nbsp;<span class="op" id="2982053">||</span>&nbsp;<span class="ident" id="2982056"><a href="/gostd/strings/strings.go.html#2982017">cutset</a></span>&nbsp;<span class="op" id="2982063">==</span>&nbsp;<span class="string" id="2982066">&#34;&#34;</span>&nbsp;<span class="op" id="2982069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982073">return</span>&nbsp;<span class="ident" id="2982080"><a href="/gostd/strings/strings.go.html#2982007">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982086">return</span>&nbsp;<span class="ident" id="2982093"><a href="/gostd/strings/strings.go.html#2979686">TrimLeftFunc</a></span><span class="op" id="2982105">(</span><span class="ident" id="2982106"><a href="/gostd/strings/strings.go.html#2982007">s</a></span><span class="op" id="2982107">,</span>&nbsp;<span class="ident" id="2982109"><a href="/gostd/strings/strings.go.html#2981509">makeCutsetFunc</a></span><span class="op" id="2982123">(</span><span class="ident" id="2982124"><a href="/gostd/strings/strings.go.html#2982017">cutset</a></span><span class="op" id="2982130">)</span><span class="op" id="2982131">)</span><br>
<span class="lineno"></span><span class="op" id="2982133">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span><span class="comment" id="2982136">//&nbsp;TrimRight&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s,&nbsp;with&nbsp;all&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="2982200">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset&nbsp;removed.</span><br>
<span class="lineno"></span><span class="keyword" id="2982252">func</span>&nbsp;<span class="ident" id="2982257">TrimRight</span><span class="op" id="2982266">(</span><span class="ident" id="2982267">s</span>&nbsp;<span class="builtintype" id="2982269">string</span><span class="op" id="2982275">,</span>&nbsp;<span class="ident" id="2982277">cutset</span>&nbsp;<span class="builtintype" id="2982284">string</span><span class="op" id="2982290">)</span>&nbsp;<span class="builtintype" id="2982292">string</span>&nbsp;<span class="op" id="2982299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982302">if</span>&nbsp;<span class="ident" id="2982305"><a href="/gostd/strings/strings.go.html#2982267">s</a></span>&nbsp;<span class="op" id="2982307">==</span>&nbsp;<span class="string" id="2982310">&#34;&#34;</span>&nbsp;<span class="op" id="2982313">||</span>&nbsp;<span class="ident" id="2982316"><a href="/gostd/strings/strings.go.html#2982277">cutset</a></span>&nbsp;<span class="op" id="2982323">==</span>&nbsp;<span class="string" id="2982326">&#34;&#34;</span>&nbsp;<span class="op" id="2982329">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982333">return</span>&nbsp;<span class="ident" id="2982340"><a href="/gostd/strings/strings.go.html#2982267">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982346">return</span>&nbsp;<span class="ident" id="2982353"><a href="/gostd/strings/strings.go.html#2979934">TrimRightFunc</a></span><span class="op" id="2982366">(</span><span class="ident" id="2982367"><a href="/gostd/strings/strings.go.html#2982267">s</a></span><span class="op" id="2982368">,</span>&nbsp;<span class="ident" id="2982370"><a href="/gostd/strings/strings.go.html#2981509">makeCutsetFunc</a></span><span class="op" id="2982384">(</span><span class="ident" id="2982385"><a href="/gostd/strings/strings.go.html#2982277">cutset</a></span><span class="op" id="2982391">)</span><span class="op" id="2982392">)</span><br>
<span class="lineno"></span><span class="op" id="2982394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span><span class="comment" id="2982397">//&nbsp;TrimSpace&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;string&nbsp;s,&nbsp;with&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="2982460">//&nbsp;and&nbsp;trailing&nbsp;white&nbsp;space&nbsp;removed,&nbsp;as&nbsp;defined&nbsp;by&nbsp;Unicode.</span><br>
<span class="lineno"></span><span class="keyword" id="2982520">func</span>&nbsp;<span class="ident" id="2982525">TrimSpace</span><span class="op" id="2982534">(</span><span class="ident" id="2982535">s</span>&nbsp;<span class="builtintype" id="2982537">string</span><span class="op" id="2982543">)</span>&nbsp;<span class="builtintype" id="2982545">string</span>&nbsp;<span class="op" id="2982552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982555">return</span>&nbsp;<span class="ident" id="2982562"><a href="/gostd/strings/strings.go.html#2980277">TrimFunc</a></span><span class="op" id="2982570">(</span><span class="ident" id="2982571"><a href="/gostd/strings/strings.go.html#2982535">s</a></span><span class="op" id="2982572">,</span>&nbsp;<span class="ident" id="2982574"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2982581">.</span><span class="ident" id="2982582"><a href="/gostd/unicode/graphic.go.html#1820663">IsSpace</a></span><span class="op" id="2982589">)</span><br>
<span class="lineno"></span><span class="op" id="2982591">}</span><br>
<span class="lineno">650</span><br>
<span class="lineno"></span><span class="comment" id="2982594">//&nbsp;TrimPrefix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;leading&nbsp;prefix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2982662">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;start&nbsp;with&nbsp;prefix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="2982722">func</span>&nbsp;<span class="ident" id="2982727">TrimPrefix</span><span class="op" id="2982737">(</span><span class="ident" id="2982738">s</span><span class="op" id="2982739">,</span>&nbsp;<span class="ident" id="2982741">prefix</span>&nbsp;<span class="builtintype" id="2982748">string</span><span class="op" id="2982754">)</span>&nbsp;<span class="builtintype" id="2982756">string</span>&nbsp;<span class="op" id="2982763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982766">if</span>&nbsp;<span class="ident" id="2982769"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="2982778">(</span><span class="ident" id="2982779"><a href="/gostd/strings/strings.go.html#2982738">s</a></span><span class="op" id="2982780">,</span>&nbsp;<span class="ident" id="2982782"><a href="/gostd/strings/strings.go.html#2982741">prefix</a></span><span class="op" id="2982788">)</span>&nbsp;<span class="op" id="2982790">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982794">return</span>&nbsp;<span class="ident" id="2982801"><a href="/gostd/strings/strings.go.html#2982738">s</a></span><span class="op" id="2982802">[</span><span class="builtinfunc" id="2982803">len</span><span class="op" id="2982806">(</span><span class="ident" id="2982807"><a href="/gostd/strings/strings.go.html#2982741">prefix</a></span><span class="op" id="2982813">)</span><span class="op" id="2982814">:</span><span class="op" id="2982815">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2982818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2982821">return</span>&nbsp;<span class="ident" id="2982828"><a href="/gostd/strings/strings.go.html#2982738">s</a></span><br>
<span class="lineno"></span><span class="op" id="2982830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span><span class="comment" id="2982833">//&nbsp;TrimSuffix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;trailing&nbsp;suffix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2982902">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;end&nbsp;with&nbsp;suffix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="2982960">func</span>&nbsp;<span class="ident" id="2982965">TrimSuffix</span><span class="op" id="2982975">(</span><span class="ident" id="2982976">s</span><span class="op" id="2982977">,</span>&nbsp;<span class="ident" id="2982979">suffix</span>&nbsp;<span class="builtintype" id="2982986">string</span><span class="op" id="2982992">)</span>&nbsp;<span class="builtintype" id="2982994">string</span>&nbsp;<span class="op" id="2983001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983004">if</span>&nbsp;<span class="ident" id="2983007"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="2983016">(</span><span class="ident" id="2983017"><a href="/gostd/strings/strings.go.html#2982976">s</a></span><span class="op" id="2983018">,</span>&nbsp;<span class="ident" id="2983020"><a href="/gostd/strings/strings.go.html#2982979">suffix</a></span><span class="op" id="2983026">)</span>&nbsp;<span class="op" id="2983028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983032">return</span>&nbsp;<span class="ident" id="2983039"><a href="/gostd/strings/strings.go.html#2982976">s</a></span><span class="op" id="2983040">[</span><span class="op" id="2983041">:</span><span class="builtinfunc" id="2983042">len</span><span class="op" id="2983045">(</span><span class="ident" id="2983046"><a href="/gostd/strings/strings.go.html#2982976">s</a></span><span class="op" id="2983047">)</span><span class="op" id="2983048">-</span><span class="builtinfunc" id="2983049">len</span><span class="op" id="2983052">(</span><span class="ident" id="2983053"><a href="/gostd/strings/strings.go.html#2982979">suffix</a></span><span class="op" id="2983059">)</span><span class="op" id="2983060">]</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983066">return</span>&nbsp;<span class="ident" id="2983073"><a href="/gostd/strings/strings.go.html#2982976">s</a></span><br>
<span class="lineno"></span><span class="op" id="2983075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2983078">//&nbsp;Replace&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;string&nbsp;s&nbsp;with&nbsp;the&nbsp;first&nbsp;n</span><br>
<span class="lineno">670</span><span class="comment" id="2983137">//&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;old&nbsp;replaced&nbsp;by&nbsp;new.</span><br>
<span class="lineno"></span><span class="comment" id="2983190">//&nbsp;If&nbsp;old&nbsp;is&nbsp;empty,&nbsp;it&nbsp;matches&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2983252">//&nbsp;and&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence,&nbsp;yielding&nbsp;up&nbsp;to&nbsp;k+1&nbsp;replacements</span><br>
<span class="lineno"></span><span class="comment" id="2983318">//&nbsp;for&nbsp;a&nbsp;k-rune&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2983342">//&nbsp;If&nbsp;n&nbsp;&lt;&nbsp;0,&nbsp;there&nbsp;is&nbsp;no&nbsp;limit&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno">675</span><span class="keyword" id="2983404">func</span>&nbsp;<span class="ident" id="2983409">Replace</span><span class="op" id="2983416">(</span><span class="ident" id="2983417">s</span><span class="op" id="2983418">,</span>&nbsp;<span class="ident" id="2983420">old</span><span class="op" id="2983423">,</span>&nbsp;<span class="builtinfunc" id="2983425">new</span>&nbsp;<span class="builtintype" id="2983429">string</span><span class="op" id="2983435">,</span>&nbsp;<span class="ident" id="2983437">n</span>&nbsp;<span class="builtintype" id="2983439">int</span><span class="op" id="2983442">)</span>&nbsp;<span class="builtintype" id="2983444">string</span>&nbsp;<span class="op" id="2983451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983454">if</span>&nbsp;<span class="ident" id="2983457"><a href="/gostd/strings/strings.go.html#2983420">old</a></span>&nbsp;<span class="op" id="2983461">==</span>&nbsp;<span class="builtinfunc" id="2983464"><a href="/gostd/strings/strings.go.html#2983425">new</a></span>&nbsp;<span class="op" id="2983468">||</span>&nbsp;<span class="ident" id="2983471"><a href="/gostd/strings/strings.go.html#2983437">n</a></span>&nbsp;<span class="op" id="2983473">==</span>&nbsp;<span class="num" id="2983476">0</span>&nbsp;<span class="op" id="2983478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983482">return</span>&nbsp;<span class="ident" id="2983489"><a href="/gostd/strings/strings.go.html#2983417">s</a></span>&nbsp;<span class="comment" id="2983491">//&nbsp;avoid&nbsp;allocation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2983516">//&nbsp;Compute&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983552">if</span>&nbsp;<span class="ident" id="2983555">m</span>&nbsp;<span class="op" id="2983557">:=</span>&nbsp;<span class="ident" id="2983560"><a href="/gostd/strings/strings.go.html#2967531">Count</a></span><span class="op" id="2983565">(</span><span class="ident" id="2983566"><a href="/gostd/strings/strings.go.html#2983417">s</a></span><span class="op" id="2983567">,</span>&nbsp;<span class="ident" id="2983569"><a href="/gostd/strings/strings.go.html#2983420">old</a></span><span class="op" id="2983572">)</span><span class="op" id="2983573">;</span>&nbsp;<span class="ident" id="2983575"><a href="/gostd/strings/strings.go.html#2983555">m</a></span>&nbsp;<span class="op" id="2983577">==</span>&nbsp;<span class="num" id="2983580">0</span>&nbsp;<span class="op" id="2983582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983586">return</span>&nbsp;<span class="ident" id="2983593"><a href="/gostd/strings/strings.go.html#2983417">s</a></span>&nbsp;<span class="comment" id="2983595">//&nbsp;avoid&nbsp;allocation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983616">}</span>&nbsp;<span class="keyword" id="2983618">else</span>&nbsp;<span class="keyword" id="2983623">if</span>&nbsp;<span class="ident" id="2983626"><a href="/gostd/strings/strings.go.html#2983437">n</a></span>&nbsp;<span class="op" id="2983628">&lt;</span>&nbsp;<span class="num" id="2983630">0</span>&nbsp;<span class="op" id="2983632">||</span>&nbsp;<span class="ident" id="2983635"><a href="/gostd/strings/strings.go.html#2983555">m</a></span>&nbsp;<span class="op" id="2983637">&lt;</span>&nbsp;<span class="ident" id="2983639"><a href="/gostd/strings/strings.go.html#2983437">n</a></span>&nbsp;<span class="op" id="2983641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983645"><a href="/gostd/strings/strings.go.html#2983437">n</a></span>&nbsp;<span class="op" id="2983647">=</span>&nbsp;<span class="ident" id="2983649"><a href="/gostd/strings/strings.go.html#2983555">m</a></span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2983656">//&nbsp;Apply&nbsp;replacements&nbsp;to&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983690">t</span>&nbsp;<span class="op" id="2983692">:=</span>&nbsp;<span class="builtinfunc" id="2983695">make</span><span class="op" id="2983699">(</span><span class="op" id="2983700">[</span><span class="op" id="2983701">]</span><span class="builtintype" id="2983702">byte</span><span class="op" id="2983706">,</span>&nbsp;<span class="builtinfunc" id="2983708">len</span><span class="op" id="2983711">(</span><span class="ident" id="2983712"><a href="/gostd/strings/strings.go.html#2983417">s</a></span><span class="op" id="2983713">)</span><span class="op" id="2983714">+</span><span class="ident" id="2983715"><a href="/gostd/strings/strings.go.html#2983437">n</a></span><span class="op" id="2983716">*</span><span class="op" id="2983717">(</span><span class="builtinfunc" id="2983718">len</span><span class="op" id="2983721">(</span><span class="builtinfunc" id="2983722"><a href="/gostd/strings/strings.go.html#2983425">new</a></span><span class="op" id="2983725">)</span><span class="op" id="2983726">-</span><span class="builtinfunc" id="2983727">len</span><span class="op" id="2983730">(</span><span class="ident" id="2983731"><a href="/gostd/strings/strings.go.html#2983420">old</a></span><span class="op" id="2983734">)</span><span class="op" id="2983735">)</span><span class="op" id="2983736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983739">w</span>&nbsp;<span class="op" id="2983741">:=</span>&nbsp;<span class="num" id="2983744">0</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983747">start</span>&nbsp;<span class="op" id="2983753">:=</span>&nbsp;<span class="num" id="2983756">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983759">for</span>&nbsp;<span class="ident" id="2983763">i</span>&nbsp;<span class="op" id="2983765">:=</span>&nbsp;<span class="num" id="2983768">0</span><span class="op" id="2983769">;</span>&nbsp;<span class="ident" id="2983771"><a href="/gostd/strings/strings.go.html#2983763">i</a></span>&nbsp;<span class="op" id="2983773">&lt;</span>&nbsp;<span class="ident" id="2983775"><a href="/gostd/strings/strings.go.html#2983437">n</a></span><span class="op" id="2983776">;</span>&nbsp;<span class="ident" id="2983778"><a href="/gostd/strings/strings.go.html#2983763">i</a></span><span class="op" id="2983779">++</span>&nbsp;<span class="op" id="2983782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983786">j</span>&nbsp;<span class="op" id="2983788">:=</span>&nbsp;<span class="ident" id="2983791"><a href="/gostd/strings/strings.go.html#2983747">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983799">if</span>&nbsp;<span class="builtinfunc" id="2983802">len</span><span class="op" id="2983805">(</span><span class="ident" id="2983806"><a href="/gostd/strings/strings.go.html#2983420">old</a></span><span class="op" id="2983809">)</span>&nbsp;<span class="op" id="2983811">==</span>&nbsp;<span class="num" id="2983814">0</span>&nbsp;<span class="op" id="2983816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2983821">if</span>&nbsp;<span class="ident" id="2983824"><a href="/gostd/strings/strings.go.html#2983763">i</a></span>&nbsp;<span class="op" id="2983826">&gt;</span>&nbsp;<span class="num" id="2983828">0</span>&nbsp;<span class="op" id="2983830">{</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983836">_</span><span class="op" id="2983837">,</span>&nbsp;<span class="ident" id="2983839">wid</span>&nbsp;<span class="op" id="2983843">:=</span>&nbsp;<span class="ident" id="2983846"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2983850">.</span><span class="ident" id="2983851"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2983869">(</span><span class="ident" id="2983870"><a href="/gostd/strings/strings.go.html#2983417">s</a></span><span class="op" id="2983871">[</span><span class="ident" id="2983872"><a href="/gostd/strings/strings.go.html#2983747">start</a></span><span class="op" id="2983877">:</span><span class="op" id="2983878">]</span><span class="op" id="2983879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983885"><a href="/gostd/strings/strings.go.html#2983786">j</a></span>&nbsp;<span class="op" id="2983887">+=</span>&nbsp;<span class="ident" id="2983890"><a href="/gostd/strings/strings.go.html#2983839">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983901">}</span>&nbsp;<span class="keyword" id="2983903">else</span>&nbsp;<span class="op" id="2983908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983913"><a href="/gostd/strings/strings.go.html#2983786">j</a></span>&nbsp;<span class="op" id="2983915">+=</span>&nbsp;<span class="ident" id="2983918"><a href="/gostd/strings/strings.go.html#2968883">Index</a></span><span class="op" id="2983923">(</span><span class="ident" id="2983924"><a href="/gostd/strings/strings.go.html#2983417">s</a></span><span class="op" id="2983925">[</span><span class="ident" id="2983926"><a href="/gostd/strings/strings.go.html#2983747">start</a></span><span class="op" id="2983931">:</span><span class="op" id="2983932">]</span><span class="op" id="2983933">,</span>&nbsp;<span class="ident" id="2983935"><a href="/gostd/strings/strings.go.html#2983420">old</a></span><span class="op" id="2983938">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2983942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983946"><a href="/gostd/strings/strings.go.html#2983739">w</a></span>&nbsp;<span class="op" id="2983948">+=</span>&nbsp;<span class="builtinfunc" id="2983951">copy</span><span class="op" id="2983955">(</span><span class="ident" id="2983956"><a href="/gostd/strings/strings.go.html#2983690">t</a></span><span class="op" id="2983957">[</span><span class="ident" id="2983958"><a href="/gostd/strings/strings.go.html#2983739">w</a></span><span class="op" id="2983959">:</span><span class="op" id="2983960">]</span><span class="op" id="2983961">,</span>&nbsp;<span class="ident" id="2983963"><a href="/gostd/strings/strings.go.html#2983417">s</a></span><span class="op" id="2983964">[</span><span class="ident" id="2983965"><a href="/gostd/strings/strings.go.html#2983747">start</a></span><span class="op" id="2983970">:</span><span class="ident" id="2983971"><a href="/gostd/strings/strings.go.html#2983786">j</a></span><span class="op" id="2983972">]</span><span class="op" id="2983973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2983977"><a href="/gostd/strings/strings.go.html#2983739">w</a></span>&nbsp;<span class="op" id="2983979">+=</span>&nbsp;<span class="builtinfunc" id="2983982">copy</span><span class="op" id="2983986">(</span><span class="ident" id="2983987"><a href="/gostd/strings/strings.go.html#2983690">t</a></span><span class="op" id="2983988">[</span><span class="ident" id="2983989"><a href="/gostd/strings/strings.go.html#2983739">w</a></span><span class="op" id="2983990">:</span><span class="op" id="2983991">]</span><span class="op" id="2983992">,</span>&nbsp;<span class="builtinfunc" id="2983994"><a href="/gostd/strings/strings.go.html#2983425">new</a></span><span class="op" id="2983997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984001"><a href="/gostd/strings/strings.go.html#2983747">start</a></span>&nbsp;<span class="op" id="2984007">=</span>&nbsp;<span class="ident" id="2984009"><a href="/gostd/strings/strings.go.html#2983786">j</a></span>&nbsp;<span class="op" id="2984011">+</span>&nbsp;<span class="builtinfunc" id="2984013">len</span><span class="op" id="2984016">(</span><span class="ident" id="2984017"><a href="/gostd/strings/strings.go.html#2983420">old</a></span><span class="op" id="2984020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984023">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984026"><a href="/gostd/strings/strings.go.html#2983739">w</a></span>&nbsp;<span class="op" id="2984028">+=</span>&nbsp;<span class="builtinfunc" id="2984031">copy</span><span class="op" id="2984035">(</span><span class="ident" id="2984036"><a href="/gostd/strings/strings.go.html#2983690">t</a></span><span class="op" id="2984037">[</span><span class="ident" id="2984038"><a href="/gostd/strings/strings.go.html#2983739">w</a></span><span class="op" id="2984039">:</span><span class="op" id="2984040">]</span><span class="op" id="2984041">,</span>&nbsp;<span class="ident" id="2984043"><a href="/gostd/strings/strings.go.html#2983417">s</a></span><span class="op" id="2984044">[</span><span class="ident" id="2984045"><a href="/gostd/strings/strings.go.html#2983747">start</a></span><span class="op" id="2984050">:</span><span class="op" id="2984051">]</span><span class="op" id="2984052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984055">return</span>&nbsp;<span class="builtintype" id="2984062">string</span><span class="op" id="2984068">(</span><span class="ident" id="2984069"><a href="/gostd/strings/strings.go.html#2983690">t</a></span><span class="op" id="2984070">[</span><span class="num" id="2984071">0</span><span class="op" id="2984072">:</span><span class="ident" id="2984073"><a href="/gostd/strings/strings.go.html#2983739">w</a></span><span class="op" id="2984074">]</span><span class="op" id="2984075">)</span><br>
<span class="lineno"></span><span class="op" id="2984077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2984080">//&nbsp;EqualFold&nbsp;reports&nbsp;whether&nbsp;s&nbsp;and&nbsp;t,&nbsp;interpreted&nbsp;as&nbsp;UTF-8&nbsp;strings,</span><br>
<span class="lineno">710</span><span class="comment" id="2984148">//&nbsp;are&nbsp;equal&nbsp;under&nbsp;Unicode&nbsp;case-folding.</span><br>
<span class="lineno"></span><span class="keyword" id="2984189">func</span>&nbsp;<span class="ident" id="2984194">EqualFold</span><span class="op" id="2984203">(</span><span class="ident" id="2984204">s</span><span class="op" id="2984205">,</span>&nbsp;<span class="ident" id="2984207">t</span>&nbsp;<span class="builtintype" id="2984209">string</span><span class="op" id="2984215">)</span>&nbsp;<span class="builtintype" id="2984217">bool</span>&nbsp;<span class="op" id="2984222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984225">for</span>&nbsp;<span class="ident" id="2984229"><a href="/gostd/strings/strings.go.html#2984204">s</a></span>&nbsp;<span class="op" id="2984231">!=</span>&nbsp;<span class="string" id="2984234">&#34;&#34;</span>&nbsp;<span class="op" id="2984237">&amp;&amp;</span>&nbsp;<span class="ident" id="2984240"><a href="/gostd/strings/strings.go.html#2984207">t</a></span>&nbsp;<span class="op" id="2984242">!=</span>&nbsp;<span class="string" id="2984245">&#34;&#34;</span>&nbsp;<span class="op" id="2984248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984252">//&nbsp;Extract&nbsp;first&nbsp;rune&nbsp;from&nbsp;each&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984294">var</span>&nbsp;<span class="ident" id="2984298">sr</span><span class="op" id="2984300">,</span>&nbsp;<span class="ident" id="2984302">tr</span>&nbsp;<span class="builtintype" id="2984305">rune</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984312">if</span>&nbsp;<span class="ident" id="2984315"><a href="/gostd/strings/strings.go.html#2984204">s</a></span><span class="op" id="2984316">[</span><span class="num" id="2984317">0</span><span class="op" id="2984318">]</span>&nbsp;<span class="op" id="2984320">&lt;</span>&nbsp;<span class="ident" id="2984322"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2984326">.</span><span class="ident" id="2984327"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="2984336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984341"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span><span class="op" id="2984343">,</span>&nbsp;<span class="ident" id="2984345"><a href="/gostd/strings/strings.go.html#2984204">s</a></span>&nbsp;<span class="op" id="2984347">=</span>&nbsp;<span class="builtintype" id="2984349">rune</span><span class="op" id="2984353">(</span><span class="ident" id="2984354"><a href="/gostd/strings/strings.go.html#2984204">s</a></span><span class="op" id="2984355">[</span><span class="num" id="2984356">0</span><span class="op" id="2984357">]</span><span class="op" id="2984358">)</span><span class="op" id="2984359">,</span>&nbsp;<span class="ident" id="2984361"><a href="/gostd/strings/strings.go.html#2984204">s</a></span><span class="op" id="2984362">[</span><span class="num" id="2984363">1</span><span class="op" id="2984364">:</span><span class="op" id="2984365">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984369">}</span>&nbsp;<span class="keyword" id="2984371">else</span>&nbsp;<span class="op" id="2984376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984381">r</span><span class="op" id="2984382">,</span>&nbsp;<span class="ident" id="2984384">size</span>&nbsp;<span class="op" id="2984389">:=</span>&nbsp;<span class="ident" id="2984392"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2984396">.</span><span class="ident" id="2984397"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2984415">(</span><span class="ident" id="2984416"><a href="/gostd/strings/strings.go.html#2984204">s</a></span><span class="op" id="2984417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984422"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span><span class="op" id="2984424">,</span>&nbsp;<span class="ident" id="2984426"><a href="/gostd/strings/strings.go.html#2984204">s</a></span>&nbsp;<span class="op" id="2984428">=</span>&nbsp;<span class="ident" id="2984430"><a href="/gostd/strings/strings.go.html#2984381">r</a></span><span class="op" id="2984431">,</span>&nbsp;<span class="ident" id="2984433"><a href="/gostd/strings/strings.go.html#2984204">s</a></span><span class="op" id="2984434">[</span><span class="ident" id="2984435"><a href="/gostd/strings/strings.go.html#2984384">size</a></span><span class="op" id="2984439">:</span><span class="op" id="2984440">]</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984448">if</span>&nbsp;<span class="ident" id="2984451"><a href="/gostd/strings/strings.go.html#2984207">t</a></span><span class="op" id="2984452">[</span><span class="num" id="2984453">0</span><span class="op" id="2984454">]</span>&nbsp;<span class="op" id="2984456">&lt;</span>&nbsp;<span class="ident" id="2984458"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2984462">.</span><span class="ident" id="2984463"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="2984472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984477"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span><span class="op" id="2984479">,</span>&nbsp;<span class="ident" id="2984481"><a href="/gostd/strings/strings.go.html#2984207">t</a></span>&nbsp;<span class="op" id="2984483">=</span>&nbsp;<span class="builtintype" id="2984485">rune</span><span class="op" id="2984489">(</span><span class="ident" id="2984490"><a href="/gostd/strings/strings.go.html#2984207">t</a></span><span class="op" id="2984491">[</span><span class="num" id="2984492">0</span><span class="op" id="2984493">]</span><span class="op" id="2984494">)</span><span class="op" id="2984495">,</span>&nbsp;<span class="ident" id="2984497"><a href="/gostd/strings/strings.go.html#2984207">t</a></span><span class="op" id="2984498">[</span><span class="num" id="2984499">1</span><span class="op" id="2984500">:</span><span class="op" id="2984501">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984505">}</span>&nbsp;<span class="keyword" id="2984507">else</span>&nbsp;<span class="op" id="2984512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984517">r</span><span class="op" id="2984518">,</span>&nbsp;<span class="ident" id="2984520">size</span>&nbsp;<span class="op" id="2984525">:=</span>&nbsp;<span class="ident" id="2984528"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2984532">.</span><span class="ident" id="2984533"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2984551">(</span><span class="ident" id="2984552"><a href="/gostd/strings/strings.go.html#2984207">t</a></span><span class="op" id="2984553">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984558"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span><span class="op" id="2984560">,</span>&nbsp;<span class="ident" id="2984562"><a href="/gostd/strings/strings.go.html#2984207">t</a></span>&nbsp;<span class="op" id="2984564">=</span>&nbsp;<span class="ident" id="2984566"><a href="/gostd/strings/strings.go.html#2984517">r</a></span><span class="op" id="2984567">,</span>&nbsp;<span class="ident" id="2984569"><a href="/gostd/strings/strings.go.html#2984207">t</a></span><span class="op" id="2984570">[</span><span class="ident" id="2984571"><a href="/gostd/strings/strings.go.html#2984520">size</a></span><span class="op" id="2984575">:</span><span class="op" id="2984576">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984585">//&nbsp;If&nbsp;they&nbsp;match,&nbsp;keep&nbsp;going;&nbsp;if&nbsp;not,&nbsp;return&nbsp;false.</span><br>
<span class="lineno"></span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984640">//&nbsp;Easy&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984656">if</span>&nbsp;<span class="ident" id="2984659"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span>&nbsp;<span class="op" id="2984662">==</span>&nbsp;<span class="ident" id="2984665"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span>&nbsp;<span class="op" id="2984668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984673">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984689">//&nbsp;Make&nbsp;sr&nbsp;&lt;&nbsp;tr&nbsp;to&nbsp;simplify&nbsp;what&nbsp;follows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984733">if</span>&nbsp;<span class="ident" id="2984736"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span>&nbsp;<span class="op" id="2984739">&lt;</span>&nbsp;<span class="ident" id="2984741"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span>&nbsp;<span class="op" id="2984744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2984749"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span><span class="op" id="2984751">,</span>&nbsp;<span class="ident" id="2984753"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span>&nbsp;<span class="op" id="2984756">=</span>&nbsp;<span class="ident" id="2984758"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span><span class="op" id="2984760">,</span>&nbsp;<span class="ident" id="2984762"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984771">//&nbsp;Fast&nbsp;check&nbsp;for&nbsp;ASCII.</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984798">if</span>&nbsp;<span class="ident" id="2984801"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span>&nbsp;<span class="op" id="2984804">&lt;</span>&nbsp;<span class="ident" id="2984806"><a href="/gostd/strings/strings.go.html#2965876">utf8</a></span><span class="op" id="2984810">.</span><span class="ident" id="2984811"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="2984820">&amp;&amp;</span>&nbsp;<span class="string" id="2984823">&#39;A&#39;</span>&nbsp;<span class="op" id="2984827">&lt;=</span>&nbsp;<span class="ident" id="2984830"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span>&nbsp;<span class="op" id="2984833">&amp;&amp;</span>&nbsp;<span class="ident" id="2984836"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span>&nbsp;<span class="op" id="2984839">&lt;=</span>&nbsp;<span class="string" id="2984842">&#39;Z&#39;</span>&nbsp;<span class="op" id="2984846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984851">//&nbsp;ASCII,&nbsp;and&nbsp;sr&nbsp;is&nbsp;upper&nbsp;case.&nbsp;&nbsp;tr&nbsp;must&nbsp;be&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984910">if</span>&nbsp;<span class="ident" id="2984913"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span>&nbsp;<span class="op" id="2984916">==</span>&nbsp;<span class="ident" id="2984919"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span><span class="op" id="2984921">+</span><span class="string" id="2984922">&#39;a&#39;</span><span class="op" id="2984925">-</span><span class="string" id="2984926">&#39;A&#39;</span>&nbsp;<span class="op" id="2984930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984936">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984948">}</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2984953">return</span>&nbsp;<span class="builtintype" id="2984960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2984968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2984973">//&nbsp;General&nbsp;case.&nbsp;&nbsp;SimpleFold(x)&nbsp;returns&nbsp;the&nbsp;next&nbsp;equivalent&nbsp;rune&nbsp;&gt;&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2985044">//&nbsp;or&nbsp;wraps&nbsp;around&nbsp;to&nbsp;smaller&nbsp;values.</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985084">r</span>&nbsp;<span class="op" id="2985086">:=</span>&nbsp;<span class="ident" id="2985089"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2985096">.</span><span class="ident" id="2985097"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="2985107">(</span><span class="ident" id="2985108"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span><span class="op" id="2985110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985114">for</span>&nbsp;<span class="ident" id="2985118"><a href="/gostd/strings/strings.go.html#2985084">r</a></span>&nbsp;<span class="op" id="2985120">!=</span>&nbsp;<span class="ident" id="2985123"><a href="/gostd/strings/strings.go.html#2984298">sr</a></span>&nbsp;<span class="op" id="2985126">&amp;&amp;</span>&nbsp;<span class="ident" id="2985129"><a href="/gostd/strings/strings.go.html#2985084">r</a></span>&nbsp;<span class="op" id="2985131">&lt;</span>&nbsp;<span class="ident" id="2985133"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span>&nbsp;<span class="op" id="2985136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2985141"><a href="/gostd/strings/strings.go.html#2985084">r</a></span>&nbsp;<span class="op" id="2985143">=</span>&nbsp;<span class="ident" id="2985145"><a href="/gostd/strings/strings.go.html#2965865">unicode</a></span><span class="op" id="2985152">.</span><span class="ident" id="2985153"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="2985163">(</span><span class="ident" id="2985164"><a href="/gostd/strings/strings.go.html#2985084">r</a></span><span class="op" id="2985165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985173">if</span>&nbsp;<span class="ident" id="2985176"><a href="/gostd/strings/strings.go.html#2985084">r</a></span>&nbsp;<span class="op" id="2985178">==</span>&nbsp;<span class="ident" id="2985181"><a href="/gostd/strings/strings.go.html#2984302">tr</a></span>&nbsp;<span class="op" id="2985184">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985189">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985204">return</span>&nbsp;<span class="builtintype" id="2985211">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2985218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2985222">//&nbsp;One&nbsp;string&nbsp;is&nbsp;empty.&nbsp;&nbsp;Are&nbsp;both?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2985258">return</span>&nbsp;<span class="ident" id="2985265"><a href="/gostd/strings/strings.go.html#2984204">s</a></span>&nbsp;<span class="op" id="2985267">==</span>&nbsp;<span class="ident" id="2985270"><a href="/gostd/strings/strings.go.html#2984207">t</a></span><br>
<span class="lineno"></span><span class="op" id="2985272">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
