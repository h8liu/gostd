<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6958348">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6958403">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6958457">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6958508">package</span>&nbsp;<span class="ident" id="6958516">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6958521">import</span>&nbsp;<span class="op" id="6958528">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6958531">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6958540">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6958550">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6958553">type</span>&nbsp;<span class="ident" id="6958558">encDecTest</span>&nbsp;<span class="keyword" id="6958569">struct</span>&nbsp;<span class="op" id="6958576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6958579">enc</span>&nbsp;<span class="builtintype" id="6958583">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6958591">dec</span>&nbsp;<span class="op" id="6958595">[</span><span class="op" id="6958596">]</span><span class="builtintype" id="6958597">byte</span><br>
<span class="lineno">15</span><span class="op" id="6958602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6958605">var</span>&nbsp;<span class="ident" id="6958609">encDecTests</span>&nbsp;<span class="op" id="6958621">=</span>&nbsp;<span class="op" id="6958623">[</span><span class="op" id="6958624">]</span><span class="ident" id="6958625">encDecTest</span><span class="op" id="6958635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6958638">{</span><span class="string" id="6958639">&#34;&#34;</span><span class="op" id="6958641">,</span>&nbsp;<span class="op" id="6958643">[</span><span class="op" id="6958644">]</span><span class="builtintype" id="6958645">byte</span><span class="op" id="6958649">{</span><span class="op" id="6958650">}</span><span class="op" id="6958651">}</span><span class="op" id="6958652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6958655">{</span><span class="string" id="6958656">&#34;0001020304050607&#34;</span><span class="op" id="6958674">,</span>&nbsp;<span class="op" id="6958676">[</span><span class="op" id="6958677">]</span><span class="builtintype" id="6958678">byte</span><span class="op" id="6958682">{</span><span class="num" id="6958683">0</span><span class="op" id="6958684">,</span>&nbsp;<span class="num" id="6958686">1</span><span class="op" id="6958687">,</span>&nbsp;<span class="num" id="6958689">2</span><span class="op" id="6958690">,</span>&nbsp;<span class="num" id="6958692">3</span><span class="op" id="6958693">,</span>&nbsp;<span class="num" id="6958695">4</span><span class="op" id="6958696">,</span>&nbsp;<span class="num" id="6958698">5</span><span class="op" id="6958699">,</span>&nbsp;<span class="num" id="6958701">6</span><span class="op" id="6958702">,</span>&nbsp;<span class="num" id="6958704">7</span><span class="op" id="6958705">}</span><span class="op" id="6958706">}</span><span class="op" id="6958707">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6958710">{</span><span class="string" id="6958711">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="6958729">,</span>&nbsp;<span class="op" id="6958731">[</span><span class="op" id="6958732">]</span><span class="builtintype" id="6958733">byte</span><span class="op" id="6958737">{</span><span class="num" id="6958738">8</span><span class="op" id="6958739">,</span>&nbsp;<span class="num" id="6958741">9</span><span class="op" id="6958742">,</span>&nbsp;<span class="num" id="6958744">10</span><span class="op" id="6958746">,</span>&nbsp;<span class="num" id="6958748">11</span><span class="op" id="6958750">,</span>&nbsp;<span class="num" id="6958752">12</span><span class="op" id="6958754">,</span>&nbsp;<span class="num" id="6958756">13</span><span class="op" id="6958758">,</span>&nbsp;<span class="num" id="6958760">14</span><span class="op" id="6958762">,</span>&nbsp;<span class="num" id="6958764">15</span><span class="op" id="6958766">}</span><span class="op" id="6958767">}</span><span class="op" id="6958768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6958771">{</span><span class="string" id="6958772">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="6958790">,</span>&nbsp;<span class="op" id="6958792">[</span><span class="op" id="6958793">]</span><span class="builtintype" id="6958794">byte</span><span class="op" id="6958798">{</span><span class="num" id="6958799">0xf0</span><span class="op" id="6958803">,</span>&nbsp;<span class="num" id="6958805">0xf1</span><span class="op" id="6958809">,</span>&nbsp;<span class="num" id="6958811">0xf2</span><span class="op" id="6958815">,</span>&nbsp;<span class="num" id="6958817">0xf3</span><span class="op" id="6958821">,</span>&nbsp;<span class="num" id="6958823">0xf4</span><span class="op" id="6958827">,</span>&nbsp;<span class="num" id="6958829">0xf5</span><span class="op" id="6958833">,</span>&nbsp;<span class="num" id="6958835">0xf6</span><span class="op" id="6958839">,</span>&nbsp;<span class="num" id="6958841">0xf7</span><span class="op" id="6958845">}</span><span class="op" id="6958846">}</span><span class="op" id="6958847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6958850">{</span><span class="string" id="6958851">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="6958869">,</span>&nbsp;<span class="op" id="6958871">[</span><span class="op" id="6958872">]</span><span class="builtintype" id="6958873">byte</span><span class="op" id="6958877">{</span><span class="num" id="6958878">0xf8</span><span class="op" id="6958882">,</span>&nbsp;<span class="num" id="6958884">0xf9</span><span class="op" id="6958888">,</span>&nbsp;<span class="num" id="6958890">0xfa</span><span class="op" id="6958894">,</span>&nbsp;<span class="num" id="6958896">0xfb</span><span class="op" id="6958900">,</span>&nbsp;<span class="num" id="6958902">0xfc</span><span class="op" id="6958906">,</span>&nbsp;<span class="num" id="6958908">0xfd</span><span class="op" id="6958912">,</span>&nbsp;<span class="num" id="6958914">0xfe</span><span class="op" id="6958918">,</span>&nbsp;<span class="num" id="6958920">0xff</span><span class="op" id="6958924">}</span><span class="op" id="6958925">}</span><span class="op" id="6958926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6958929">{</span><span class="string" id="6958930">&#34;67&#34;</span><span class="op" id="6958934">,</span>&nbsp;<span class="op" id="6958936">[</span><span class="op" id="6958937">]</span><span class="builtintype" id="6958938">byte</span><span class="op" id="6958942">{</span><span class="string" id="6958943">&#39;g&#39;</span><span class="op" id="6958946">}</span><span class="op" id="6958947">}</span><span class="op" id="6958948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6958951">{</span><span class="string" id="6958952">&#34;e3a1&#34;</span><span class="op" id="6958958">,</span>&nbsp;<span class="op" id="6958960">[</span><span class="op" id="6958961">]</span><span class="builtintype" id="6958962">byte</span><span class="op" id="6958966">{</span><span class="num" id="6958967">0xe3</span><span class="op" id="6958971">,</span>&nbsp;<span class="num" id="6958973">0xa1</span><span class="op" id="6958977">}</span><span class="op" id="6958978">}</span><span class="op" id="6958979">,</span><br>
<span class="lineno">25</span><span class="op" id="6958981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6958984">func</span>&nbsp;<span class="ident" id="6958989">TestEncode</span><span class="op" id="6958999">(</span><span class="ident" id="6959000">t</span>&nbsp;<span class="op" id="6959002">*</span><span class="ident" id="6959003">testing</span><span class="op" id="6959010">.</span><span class="ident" id="6959011">T</span><span class="op" id="6959012">)</span>&nbsp;<span class="op" id="6959014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6959017">for</span>&nbsp;<span class="ident" id="6959021">i</span><span class="op" id="6959022">,</span>&nbsp;<span class="ident" id="6959024">test</span>&nbsp;<span class="op" id="6959029">:=</span>&nbsp;<span class="keyword" id="6959032">range</span>&nbsp;<span class="ident" id="6959038">encDecTests</span>&nbsp;<span class="op" id="6959050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959054">dst</span>&nbsp;<span class="op" id="6959058">:=</span>&nbsp;<span class="builtinfunc" id="6959061">make</span><span class="op" id="6959065">(</span><span class="op" id="6959066">[</span><span class="op" id="6959067">]</span><span class="builtintype" id="6959068">byte</span><span class="op" id="6959072">,</span>&nbsp;<span class="ident" id="6959074">EncodedLen</span><span class="op" id="6959084">(</span><span class="builtinfunc" id="6959085">len</span><span class="op" id="6959088">(</span><span class="ident" id="6959089">test</span><span class="op" id="6959093">.</span><span class="ident" id="6959094">dec</span><span class="op" id="6959097">)</span><span class="op" id="6959098">)</span><span class="op" id="6959099">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959103">n</span>&nbsp;<span class="op" id="6959105">:=</span>&nbsp;<span class="ident" id="6959108">Encode</span><span class="op" id="6959114">(</span><span class="ident" id="6959115">dst</span><span class="op" id="6959118">,</span>&nbsp;<span class="ident" id="6959120">test</span><span class="op" id="6959124">.</span><span class="ident" id="6959125">dec</span><span class="op" id="6959128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6959132">if</span>&nbsp;<span class="ident" id="6959135">n</span>&nbsp;<span class="op" id="6959137">!=</span>&nbsp;<span class="builtinfunc" id="6959140">len</span><span class="op" id="6959143">(</span><span class="ident" id="6959144">dst</span><span class="op" id="6959147">)</span>&nbsp;<span class="op" id="6959149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959154">t</span><span class="op" id="6959155">.</span><span class="ident" id="6959156">Errorf</span><span class="op" id="6959162">(</span><span class="string" id="6959163">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="6959204">,</span>&nbsp;<span class="ident" id="6959206">i</span><span class="op" id="6959207">,</span>&nbsp;<span class="ident" id="6959209">n</span><span class="op" id="6959210">,</span>&nbsp;<span class="builtinfunc" id="6959212">len</span><span class="op" id="6959215">(</span><span class="ident" id="6959216">dst</span><span class="op" id="6959219">)</span><span class="op" id="6959220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6959224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6959228">if</span>&nbsp;<span class="builtintype" id="6959231">string</span><span class="op" id="6959237">(</span><span class="ident" id="6959238">dst</span><span class="op" id="6959241">)</span>&nbsp;<span class="op" id="6959243">!=</span>&nbsp;<span class="ident" id="6959246">test</span><span class="op" id="6959250">.</span><span class="ident" id="6959251">enc</span>&nbsp;<span class="op" id="6959255">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959260">t</span><span class="op" id="6959261">.</span><span class="ident" id="6959262">Errorf</span><span class="op" id="6959268">(</span><span class="string" id="6959269">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6959294">,</span>&nbsp;<span class="ident" id="6959296">i</span><span class="op" id="6959297">,</span>&nbsp;<span class="ident" id="6959299">dst</span><span class="op" id="6959302">,</span>&nbsp;<span class="ident" id="6959304">test</span><span class="op" id="6959308">.</span><span class="ident" id="6959309">enc</span><span class="op" id="6959312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6959316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6959319">}</span><br>
<span class="lineno"></span><span class="op" id="6959321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6959324">func</span>&nbsp;<span class="ident" id="6959329">TestDecode</span><span class="op" id="6959339">(</span><span class="ident" id="6959340">t</span>&nbsp;<span class="op" id="6959342">*</span><span class="ident" id="6959343">testing</span><span class="op" id="6959350">.</span><span class="ident" id="6959351">T</span><span class="op" id="6959352">)</span>&nbsp;<span class="op" id="6959354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6959357">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6959411">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959445">decTests</span>&nbsp;<span class="op" id="6959454">:=</span>&nbsp;<span class="builtinfunc" id="6959457">append</span><span class="op" id="6959463">(</span><span class="ident" id="6959464">encDecTests</span><span class="op" id="6959475">,</span>&nbsp;<span class="ident" id="6959477">encDecTest</span><span class="op" id="6959487">{</span><span class="string" id="6959488">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="6959506">,</span>&nbsp;<span class="op" id="6959508">[</span><span class="op" id="6959509">]</span><span class="builtintype" id="6959510">byte</span><span class="op" id="6959514">{</span><span class="num" id="6959515">0xf8</span><span class="op" id="6959519">,</span>&nbsp;<span class="num" id="6959521">0xf9</span><span class="op" id="6959525">,</span>&nbsp;<span class="num" id="6959527">0xfa</span><span class="op" id="6959531">,</span>&nbsp;<span class="num" id="6959533">0xfb</span><span class="op" id="6959537">,</span>&nbsp;<span class="num" id="6959539">0xfc</span><span class="op" id="6959543">,</span>&nbsp;<span class="num" id="6959545">0xfd</span><span class="op" id="6959549">,</span>&nbsp;<span class="num" id="6959551">0xfe</span><span class="op" id="6959555">,</span>&nbsp;<span class="num" id="6959557">0xff</span><span class="op" id="6959561">}</span><span class="op" id="6959562">}</span><span class="op" id="6959563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6959566">for</span>&nbsp;<span class="ident" id="6959570">i</span><span class="op" id="6959571">,</span>&nbsp;<span class="ident" id="6959573">test</span>&nbsp;<span class="op" id="6959578">:=</span>&nbsp;<span class="keyword" id="6959581">range</span>&nbsp;<span class="ident" id="6959587">decTests</span>&nbsp;<span class="op" id="6959596">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959600">dst</span>&nbsp;<span class="op" id="6959604">:=</span>&nbsp;<span class="builtinfunc" id="6959607">make</span><span class="op" id="6959611">(</span><span class="op" id="6959612">[</span><span class="op" id="6959613">]</span><span class="builtintype" id="6959614">byte</span><span class="op" id="6959618">,</span>&nbsp;<span class="ident" id="6959620">DecodedLen</span><span class="op" id="6959630">(</span><span class="builtinfunc" id="6959631">len</span><span class="op" id="6959634">(</span><span class="ident" id="6959635">test</span><span class="op" id="6959639">.</span><span class="ident" id="6959640">enc</span><span class="op" id="6959643">)</span><span class="op" id="6959644">)</span><span class="op" id="6959645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959649">n</span><span class="op" id="6959650">,</span>&nbsp;<span class="ident" id="6959652">err</span>&nbsp;<span class="op" id="6959656">:=</span>&nbsp;<span class="ident" id="6959659">Decode</span><span class="op" id="6959665">(</span><span class="ident" id="6959666">dst</span><span class="op" id="6959669">,</span>&nbsp;<span class="op" id="6959671">[</span><span class="op" id="6959672">]</span><span class="builtintype" id="6959673">byte</span><span class="op" id="6959677">(</span><span class="ident" id="6959678">test</span><span class="op" id="6959682">.</span><span class="ident" id="6959683">enc</span><span class="op" id="6959686">)</span><span class="op" id="6959687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6959691">if</span>&nbsp;<span class="ident" id="6959694">err</span>&nbsp;<span class="op" id="6959698">!=</span>&nbsp;<span class="ident" id="6959701">nil</span>&nbsp;<span class="op" id="6959705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959710">t</span><span class="op" id="6959711">.</span><span class="ident" id="6959712">Errorf</span><span class="op" id="6959718">(</span><span class="string" id="6959719">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="6959758">,</span>&nbsp;<span class="ident" id="6959760">i</span><span class="op" id="6959761">,</span>&nbsp;<span class="ident" id="6959763">n</span><span class="op" id="6959764">,</span>&nbsp;<span class="builtinfunc" id="6959766">len</span><span class="op" id="6959769">(</span><span class="ident" id="6959770">dst</span><span class="op" id="6959773">)</span><span class="op" id="6959774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6959778">}</span>&nbsp;<span class="keyword" id="6959780">else</span>&nbsp;<span class="keyword" id="6959785">if</span>&nbsp;<span class="op" id="6959788">!</span><span class="ident" id="6959789">bytes</span><span class="op" id="6959794">.</span><span class="ident" id="6959795">Equal</span><span class="op" id="6959800">(</span><span class="ident" id="6959801">dst</span><span class="op" id="6959804">,</span>&nbsp;<span class="ident" id="6959806">test</span><span class="op" id="6959810">.</span><span class="ident" id="6959811">dec</span><span class="op" id="6959814">)</span>&nbsp;<span class="op" id="6959816">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959821">t</span><span class="op" id="6959822">.</span><span class="ident" id="6959823">Errorf</span><span class="op" id="6959829">(</span><span class="string" id="6959830">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6959855">,</span>&nbsp;<span class="ident" id="6959857">i</span><span class="op" id="6959858">,</span>&nbsp;<span class="ident" id="6959860">dst</span><span class="op" id="6959863">,</span>&nbsp;<span class="ident" id="6959865">test</span><span class="op" id="6959869">.</span><span class="ident" id="6959870">dec</span><span class="op" id="6959873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6959877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6959880">}</span><br>
<span class="lineno"></span><span class="op" id="6959882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6959885">func</span>&nbsp;<span class="ident" id="6959890">TestEncodeToString</span><span class="op" id="6959908">(</span><span class="ident" id="6959909">t</span>&nbsp;<span class="op" id="6959911">*</span><span class="ident" id="6959912">testing</span><span class="op" id="6959919">.</span><span class="ident" id="6959920">T</span><span class="op" id="6959921">)</span>&nbsp;<span class="op" id="6959923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6959926">for</span>&nbsp;<span class="ident" id="6959930">i</span><span class="op" id="6959931">,</span>&nbsp;<span class="ident" id="6959933">test</span>&nbsp;<span class="op" id="6959938">:=</span>&nbsp;<span class="keyword" id="6959941">range</span>&nbsp;<span class="ident" id="6959947">encDecTests</span>&nbsp;<span class="op" id="6959959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6959963">s</span>&nbsp;<span class="op" id="6959965">:=</span>&nbsp;<span class="ident" id="6959968">EncodeToString</span><span class="op" id="6959982">(</span><span class="ident" id="6959983">test</span><span class="op" id="6959987">.</span><span class="ident" id="6959988">dec</span><span class="op" id="6959991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6959995">if</span>&nbsp;<span class="ident" id="6959998">s</span>&nbsp;<span class="op" id="6960000">!=</span>&nbsp;<span class="ident" id="6960003">test</span><span class="op" id="6960007">.</span><span class="ident" id="6960008">enc</span>&nbsp;<span class="op" id="6960012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960017">t</span><span class="op" id="6960018">.</span><span class="ident" id="6960019">Errorf</span><span class="op" id="6960025">(</span><span class="string" id="6960026">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="6960046">,</span>&nbsp;<span class="ident" id="6960048">i</span><span class="op" id="6960049">,</span>&nbsp;<span class="ident" id="6960051">s</span><span class="op" id="6960052">,</span>&nbsp;<span class="ident" id="6960054">test</span><span class="op" id="6960058">.</span><span class="ident" id="6960059">enc</span><span class="op" id="6960062">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960069">}</span><br>
<span class="lineno"></span><span class="op" id="6960071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6960074">func</span>&nbsp;<span class="ident" id="6960079">TestDecodeString</span><span class="op" id="6960095">(</span><span class="ident" id="6960096">t</span>&nbsp;<span class="op" id="6960098">*</span><span class="ident" id="6960099">testing</span><span class="op" id="6960106">.</span><span class="ident" id="6960107">T</span><span class="op" id="6960108">)</span>&nbsp;<span class="op" id="6960110">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6960113">for</span>&nbsp;<span class="ident" id="6960117">i</span><span class="op" id="6960118">,</span>&nbsp;<span class="ident" id="6960120">test</span>&nbsp;<span class="op" id="6960125">:=</span>&nbsp;<span class="keyword" id="6960128">range</span>&nbsp;<span class="ident" id="6960134">encDecTests</span>&nbsp;<span class="op" id="6960146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960150">dst</span><span class="op" id="6960153">,</span>&nbsp;<span class="ident" id="6960155">err</span>&nbsp;<span class="op" id="6960159">:=</span>&nbsp;<span class="ident" id="6960162">DecodeString</span><span class="op" id="6960174">(</span><span class="ident" id="6960175">test</span><span class="op" id="6960179">.</span><span class="ident" id="6960180">enc</span><span class="op" id="6960183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6960187">if</span>&nbsp;<span class="ident" id="6960190">err</span>&nbsp;<span class="op" id="6960194">!=</span>&nbsp;<span class="ident" id="6960197">nil</span>&nbsp;<span class="op" id="6960201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960206">t</span><span class="op" id="6960207">.</span><span class="ident" id="6960208">Errorf</span><span class="op" id="6960214">(</span><span class="string" id="6960215">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="6960246">,</span>&nbsp;<span class="ident" id="6960248">i</span><span class="op" id="6960249">,</span>&nbsp;<span class="ident" id="6960251">err</span><span class="op" id="6960254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6960259">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6960274">if</span>&nbsp;<span class="op" id="6960277">!</span><span class="ident" id="6960278">bytes</span><span class="op" id="6960283">.</span><span class="ident" id="6960284">Equal</span><span class="op" id="6960289">(</span><span class="ident" id="6960290">dst</span><span class="op" id="6960293">,</span>&nbsp;<span class="ident" id="6960295">test</span><span class="op" id="6960299">.</span><span class="ident" id="6960300">dec</span><span class="op" id="6960303">)</span>&nbsp;<span class="op" id="6960305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960310">t</span><span class="op" id="6960311">.</span><span class="ident" id="6960312">Errorf</span><span class="op" id="6960318">(</span><span class="string" id="6960319">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="6960344">,</span>&nbsp;<span class="ident" id="6960346">i</span><span class="op" id="6960347">,</span>&nbsp;<span class="ident" id="6960349">dst</span><span class="op" id="6960352">,</span>&nbsp;<span class="ident" id="6960354">test</span><span class="op" id="6960358">.</span><span class="ident" id="6960359">dec</span><span class="op" id="6960362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960369">}</span><br>
<span class="lineno">75</span><span class="op" id="6960371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6960374">type</span>&nbsp;<span class="ident" id="6960379">errTest</span>&nbsp;<span class="keyword" id="6960387">struct</span>&nbsp;<span class="op" id="6960394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960397">in</span>&nbsp;&nbsp;<span class="builtintype" id="6960401">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960409">err</span>&nbsp;<span class="builtintype" id="6960413">string</span><br>
<span class="lineno">80</span><span class="op" id="6960420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6960423">var</span>&nbsp;<span class="ident" id="6960427">errTests</span>&nbsp;<span class="op" id="6960436">=</span>&nbsp;<span class="op" id="6960438">[</span><span class="op" id="6960439">]</span><span class="ident" id="6960440">errTest</span><span class="op" id="6960447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960450">{</span><span class="string" id="6960451">&#34;0&#34;</span><span class="op" id="6960454">,</span>&nbsp;<span class="string" id="6960456">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="6960493">}</span><span class="op" id="6960494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960497">{</span><span class="string" id="6960498">&#34;0g&#34;</span><span class="op" id="6960502">,</span>&nbsp;<span class="string" id="6960504">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6960544">}</span><span class="op" id="6960545">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960548">{</span><span class="string" id="6960549">&#34;00gg&#34;</span><span class="op" id="6960555">,</span>&nbsp;<span class="string" id="6960557">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6960597">}</span><span class="op" id="6960598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960601">{</span><span class="string" id="6960602">&#34;0\x01&#34;</span><span class="op" id="6960609">,</span>&nbsp;<span class="string" id="6960611">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="6960647">}</span><span class="op" id="6960648">,</span><br>
<span class="lineno"></span><span class="op" id="6960650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6960653">func</span>&nbsp;<span class="ident" id="6960658">TestInvalidErr</span><span class="op" id="6960672">(</span><span class="ident" id="6960673">t</span>&nbsp;<span class="op" id="6960675">*</span><span class="ident" id="6960676">testing</span><span class="op" id="6960683">.</span><span class="ident" id="6960684">T</span><span class="op" id="6960685">)</span>&nbsp;<span class="op" id="6960687">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6960690">for</span>&nbsp;<span class="ident" id="6960694">i</span><span class="op" id="6960695">,</span>&nbsp;<span class="ident" id="6960697">test</span>&nbsp;<span class="op" id="6960702">:=</span>&nbsp;<span class="keyword" id="6960705">range</span>&nbsp;<span class="ident" id="6960711">errTests</span>&nbsp;<span class="op" id="6960720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960724">dst</span>&nbsp;<span class="op" id="6960728">:=</span>&nbsp;<span class="builtinfunc" id="6960731">make</span><span class="op" id="6960735">(</span><span class="op" id="6960736">[</span><span class="op" id="6960737">]</span><span class="builtintype" id="6960738">byte</span><span class="op" id="6960742">,</span>&nbsp;<span class="ident" id="6960744">DecodedLen</span><span class="op" id="6960754">(</span><span class="builtinfunc" id="6960755">len</span><span class="op" id="6960758">(</span><span class="ident" id="6960759">test</span><span class="op" id="6960763">.</span><span class="ident" id="6960764">in</span><span class="op" id="6960766">)</span><span class="op" id="6960767">)</span><span class="op" id="6960768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960772">_</span><span class="op" id="6960773">,</span>&nbsp;<span class="ident" id="6960775">err</span>&nbsp;<span class="op" id="6960779">:=</span>&nbsp;<span class="ident" id="6960782">Decode</span><span class="op" id="6960788">(</span><span class="ident" id="6960789">dst</span><span class="op" id="6960792">,</span>&nbsp;<span class="op" id="6960794">[</span><span class="op" id="6960795">]</span><span class="builtintype" id="6960796">byte</span><span class="op" id="6960800">(</span><span class="ident" id="6960801">test</span><span class="op" id="6960805">.</span><span class="ident" id="6960806">in</span><span class="op" id="6960808">)</span><span class="op" id="6960809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6960813">if</span>&nbsp;<span class="ident" id="6960816">err</span>&nbsp;<span class="op" id="6960820">==</span>&nbsp;<span class="ident" id="6960823">nil</span>&nbsp;<span class="op" id="6960827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960832">t</span><span class="op" id="6960833">.</span><span class="ident" id="6960834">Errorf</span><span class="op" id="6960840">(</span><span class="string" id="6960841">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6960872">,</span>&nbsp;<span class="ident" id="6960874">i</span><span class="op" id="6960875">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960879">}</span>&nbsp;<span class="keyword" id="6960881">else</span>&nbsp;<span class="keyword" id="6960886">if</span>&nbsp;<span class="ident" id="6960889">err</span><span class="op" id="6960892">.</span><span class="ident" id="6960893">Error</span><span class="op" id="6960898">(</span><span class="op" id="6960899">)</span>&nbsp;<span class="op" id="6960901">!=</span>&nbsp;<span class="ident" id="6960904">test</span><span class="op" id="6960908">.</span><span class="ident" id="6960909">err</span>&nbsp;<span class="op" id="6960913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6960918">t</span><span class="op" id="6960919">.</span><span class="ident" id="6960920">Errorf</span><span class="op" id="6960926">(</span><span class="string" id="6960927">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6960950">,</span>&nbsp;<span class="ident" id="6960952">i</span><span class="op" id="6960953">,</span>&nbsp;<span class="ident" id="6960955">err</span><span class="op" id="6960958">,</span>&nbsp;<span class="ident" id="6960960">test</span><span class="op" id="6960964">.</span><span class="ident" id="6960965">err</span><span class="op" id="6960968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6960975">}</span><br>
<span class="lineno"></span><span class="op" id="6960977">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="6960980">func</span>&nbsp;<span class="ident" id="6960985">TestInvalidStringErr</span><span class="op" id="6961005">(</span><span class="ident" id="6961006">t</span>&nbsp;<span class="op" id="6961008">*</span><span class="ident" id="6961009">testing</span><span class="op" id="6961016">.</span><span class="ident" id="6961017">T</span><span class="op" id="6961018">)</span>&nbsp;<span class="op" id="6961020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961023">for</span>&nbsp;<span class="ident" id="6961027">i</span><span class="op" id="6961028">,</span>&nbsp;<span class="ident" id="6961030">test</span>&nbsp;<span class="op" id="6961035">:=</span>&nbsp;<span class="keyword" id="6961038">range</span>&nbsp;<span class="ident" id="6961044">errTests</span>&nbsp;<span class="op" id="6961053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961057">_</span><span class="op" id="6961058">,</span>&nbsp;<span class="ident" id="6961060">err</span>&nbsp;<span class="op" id="6961064">:=</span>&nbsp;<span class="ident" id="6961067">DecodeString</span><span class="op" id="6961079">(</span><span class="ident" id="6961080">test</span><span class="op" id="6961084">.</span><span class="ident" id="6961085">in</span><span class="op" id="6961087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961091">if</span>&nbsp;<span class="ident" id="6961094">err</span>&nbsp;<span class="op" id="6961098">==</span>&nbsp;<span class="ident" id="6961101">nil</span>&nbsp;<span class="op" id="6961105">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961110">t</span><span class="op" id="6961111">.</span><span class="ident" id="6961112">Errorf</span><span class="op" id="6961118">(</span><span class="string" id="6961119">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6961150">,</span>&nbsp;<span class="ident" id="6961152">i</span><span class="op" id="6961153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961157">}</span>&nbsp;<span class="keyword" id="6961159">else</span>&nbsp;<span class="keyword" id="6961164">if</span>&nbsp;<span class="ident" id="6961167">err</span><span class="op" id="6961170">.</span><span class="ident" id="6961171">Error</span><span class="op" id="6961176">(</span><span class="op" id="6961177">)</span>&nbsp;<span class="op" id="6961179">!=</span>&nbsp;<span class="ident" id="6961182">test</span><span class="op" id="6961186">.</span><span class="ident" id="6961187">err</span>&nbsp;<span class="op" id="6961191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961196">t</span><span class="op" id="6961197">.</span><span class="ident" id="6961198">Errorf</span><span class="op" id="6961204">(</span><span class="string" id="6961205">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6961228">,</span>&nbsp;<span class="ident" id="6961230">i</span><span class="op" id="6961231">,</span>&nbsp;<span class="ident" id="6961233">err</span><span class="op" id="6961236">,</span>&nbsp;<span class="ident" id="6961238">test</span><span class="op" id="6961242">.</span><span class="ident" id="6961243">err</span><span class="op" id="6961246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961253">}</span><br>
<span class="lineno">110</span><span class="op" id="6961255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6961258">func</span>&nbsp;<span class="ident" id="6961263">TestDumper</span><span class="op" id="6961273">(</span><span class="ident" id="6961274">t</span>&nbsp;<span class="op" id="6961276">*</span><span class="ident" id="6961277">testing</span><span class="op" id="6961284">.</span><span class="ident" id="6961285">T</span><span class="op" id="6961286">)</span>&nbsp;<span class="op" id="6961288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961291">var</span>&nbsp;<span class="ident" id="6961295">in</span>&nbsp;<span class="op" id="6961298">[</span><span class="num" id="6961299">40</span><span class="op" id="6961301">]</span><span class="builtintype" id="6961302">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961308">for</span>&nbsp;<span class="ident" id="6961312">i</span>&nbsp;<span class="op" id="6961314">:=</span>&nbsp;<span class="keyword" id="6961317">range</span>&nbsp;<span class="ident" id="6961323">in</span>&nbsp;<span class="op" id="6961326">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961330">in</span><span class="op" id="6961332">[</span><span class="ident" id="6961333">i</span><span class="op" id="6961334">]</span>&nbsp;<span class="op" id="6961336">=</span>&nbsp;<span class="builtintype" id="6961338">byte</span><span class="op" id="6961342">(</span><span class="ident" id="6961343">i</span>&nbsp;<span class="op" id="6961345">+</span>&nbsp;<span class="num" id="6961347">30</span><span class="op" id="6961349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961356">for</span>&nbsp;<span class="ident" id="6961360">stride</span>&nbsp;<span class="op" id="6961367">:=</span>&nbsp;<span class="num" id="6961370">1</span><span class="op" id="6961371">;</span>&nbsp;<span class="ident" id="6961373">stride</span>&nbsp;<span class="op" id="6961380">&lt;</span>&nbsp;<span class="builtinfunc" id="6961382">len</span><span class="op" id="6961385">(</span><span class="ident" id="6961386">in</span><span class="op" id="6961388">)</span><span class="op" id="6961389">;</span>&nbsp;<span class="ident" id="6961391">stride</span><span class="op" id="6961397">++</span>&nbsp;<span class="op" id="6961400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961404">var</span>&nbsp;<span class="ident" id="6961408">out</span>&nbsp;<span class="ident" id="6961412">bytes</span><span class="op" id="6961417">.</span><span class="ident" id="6961418">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961427">dumper</span>&nbsp;<span class="op" id="6961434">:=</span>&nbsp;<span class="ident" id="6961437">Dumper</span><span class="op" id="6961443">(</span><span class="op" id="6961444">&amp;</span><span class="ident" id="6961445">out</span><span class="op" id="6961448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961452">done</span>&nbsp;<span class="op" id="6961457">:=</span>&nbsp;<span class="num" id="6961460">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961464">for</span>&nbsp;<span class="ident" id="6961468">done</span>&nbsp;<span class="op" id="6961473">&lt;</span>&nbsp;<span class="builtinfunc" id="6961475">len</span><span class="op" id="6961478">(</span><span class="ident" id="6961479">in</span><span class="op" id="6961481">)</span>&nbsp;<span class="op" id="6961483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961488">todo</span>&nbsp;<span class="op" id="6961493">:=</span>&nbsp;<span class="ident" id="6961496">done</span>&nbsp;<span class="op" id="6961501">+</span>&nbsp;<span class="ident" id="6961503">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961513">if</span>&nbsp;<span class="ident" id="6961516">todo</span>&nbsp;<span class="op" id="6961521">&gt;</span>&nbsp;<span class="builtinfunc" id="6961523">len</span><span class="op" id="6961526">(</span><span class="ident" id="6961527">in</span><span class="op" id="6961529">)</span>&nbsp;<span class="op" id="6961531">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961537">todo</span>&nbsp;<span class="op" id="6961542">=</span>&nbsp;<span class="builtinfunc" id="6961544">len</span><span class="op" id="6961547">(</span><span class="ident" id="6961548">in</span><span class="op" id="6961550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961560">dumper</span><span class="op" id="6961566">.</span><span class="ident" id="6961567">Write</span><span class="op" id="6961572">(</span><span class="ident" id="6961573">in</span><span class="op" id="6961575">[</span><span class="ident" id="6961576">done</span><span class="op" id="6961580">:</span><span class="ident" id="6961581">todo</span><span class="op" id="6961585">]</span><span class="op" id="6961586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961591">done</span>&nbsp;<span class="op" id="6961596">=</span>&nbsp;<span class="ident" id="6961598">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961605">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961610">dumper</span><span class="op" id="6961616">.</span><span class="ident" id="6961617">Close</span><span class="op" id="6961622">(</span><span class="op" id="6961623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961627">if</span>&nbsp;<span class="op" id="6961630">!</span><span class="ident" id="6961631">bytes</span><span class="op" id="6961636">.</span><span class="ident" id="6961637">Equal</span><span class="op" id="6961642">(</span><span class="ident" id="6961643">out</span><span class="op" id="6961646">.</span><span class="ident" id="6961647">Bytes</span><span class="op" id="6961652">(</span><span class="op" id="6961653">)</span><span class="op" id="6961654">,</span>&nbsp;<span class="ident" id="6961656">expectedHexDump</span><span class="op" id="6961671">)</span>&nbsp;<span class="op" id="6961673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961678">t</span><span class="op" id="6961679">.</span><span class="ident" id="6961680">Errorf</span><span class="op" id="6961686">(</span><span class="string" id="6961687">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6961727">,</span>&nbsp;<span class="ident" id="6961729">stride</span><span class="op" id="6961735">,</span>&nbsp;<span class="ident" id="6961737">out</span><span class="op" id="6961740">.</span><span class="ident" id="6961741">Bytes</span><span class="op" id="6961746">(</span><span class="op" id="6961747">)</span><span class="op" id="6961748">,</span>&nbsp;<span class="ident" id="6961750">expectedHexDump</span><span class="op" id="6961765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961769">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961772">}</span><br>
<span class="lineno"></span><span class="op" id="6961774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6961777">func</span>&nbsp;<span class="ident" id="6961782">TestDump</span><span class="op" id="6961790">(</span><span class="ident" id="6961791">t</span>&nbsp;<span class="op" id="6961793">*</span><span class="ident" id="6961794">testing</span><span class="op" id="6961801">.</span><span class="ident" id="6961802">T</span><span class="op" id="6961803">)</span>&nbsp;<span class="op" id="6961805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961808">var</span>&nbsp;<span class="ident" id="6961812">in</span>&nbsp;<span class="op" id="6961815">[</span><span class="num" id="6961816">40</span><span class="op" id="6961818">]</span><span class="builtintype" id="6961819">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961825">for</span>&nbsp;<span class="ident" id="6961829">i</span>&nbsp;<span class="op" id="6961831">:=</span>&nbsp;<span class="keyword" id="6961834">range</span>&nbsp;<span class="ident" id="6961840">in</span>&nbsp;<span class="op" id="6961843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961847">in</span><span class="op" id="6961849">[</span><span class="ident" id="6961850">i</span><span class="op" id="6961851">]</span>&nbsp;<span class="op" id="6961853">=</span>&nbsp;<span class="builtintype" id="6961855">byte</span><span class="op" id="6961859">(</span><span class="ident" id="6961860">i</span>&nbsp;<span class="op" id="6961862">+</span>&nbsp;<span class="num" id="6961864">30</span><span class="op" id="6961866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961873">out</span>&nbsp;<span class="op" id="6961877">:=</span>&nbsp;<span class="op" id="6961880">[</span><span class="op" id="6961881">]</span><span class="builtintype" id="6961882">byte</span><span class="op" id="6961886">(</span><span class="ident" id="6961887">Dump</span><span class="op" id="6961891">(</span><span class="ident" id="6961892">in</span><span class="op" id="6961894">[</span><span class="op" id="6961895">:</span><span class="op" id="6961896">]</span><span class="op" id="6961897">)</span><span class="op" id="6961898">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6961901">if</span>&nbsp;<span class="op" id="6961904">!</span><span class="ident" id="6961905">bytes</span><span class="op" id="6961910">.</span><span class="ident" id="6961911">Equal</span><span class="op" id="6961916">(</span><span class="ident" id="6961917">out</span><span class="op" id="6961920">,</span>&nbsp;<span class="ident" id="6961922">expectedHexDump</span><span class="op" id="6961937">)</span>&nbsp;<span class="op" id="6961939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6961943">t</span><span class="op" id="6961944">.</span><span class="ident" id="6961945">Errorf</span><span class="op" id="6961951">(</span><span class="string" id="6961952">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6961973">,</span>&nbsp;<span class="ident" id="6961975">out</span><span class="op" id="6961978">,</span>&nbsp;<span class="ident" id="6961980">expectedHexDump</span><span class="op" id="6961995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6961998">}</span><br>
<span class="lineno"></span><span class="op" id="6962000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="6962003">var</span>&nbsp;<span class="ident" id="6962007">expectedHexDump</span>&nbsp;<span class="op" id="6962023">=</span>&nbsp;<span class="op" id="6962025">[</span><span class="op" id="6962026">]</span><span class="builtintype" id="6962027">byte</span><span class="op" id="6962031">(</span><span class="string" id="6962032">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="6962263">)</span>
</div>
</body>
</html>
