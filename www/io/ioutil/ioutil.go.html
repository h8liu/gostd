<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3533684">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3533739">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3533793">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3533844">//&nbsp;Package&nbsp;ioutil&nbsp;implements&nbsp;some&nbsp;I/O&nbsp;utility&nbsp;functions.</span><br>
<span class="lineno"></span><span class="keyword" id="3533901">package</span>&nbsp;<span class="ident" id="3533909">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3533917">import</span>&nbsp;<span class="op" id="3533924">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3533927">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3533936">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3533942">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3533948">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3533956">&#34;sync&#34;</span><br>
<span class="lineno"></span><span class="op" id="3533963">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3533966">//&nbsp;readAll&nbsp;reads&nbsp;from&nbsp;r&nbsp;until&nbsp;an&nbsp;error&nbsp;or&nbsp;EOF&nbsp;and&nbsp;returns&nbsp;the&nbsp;data&nbsp;it&nbsp;read</span><br>
<span class="lineno"></span><span class="comment" id="3534041">//&nbsp;from&nbsp;the&nbsp;internal&nbsp;buffer&nbsp;allocated&nbsp;with&nbsp;a&nbsp;specified&nbsp;capacity.</span><br>
<span class="lineno"></span><span class="keyword" id="3534106">func</span>&nbsp;<span class="ident" id="3534111">readAll</span><span class="op" id="3534118">(</span><span class="ident" id="3534119">r</span>&nbsp;<span class="ident" id="3534121"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3534123">.</span><span class="ident" id="3534124">Reader</span><span class="op" id="3534130">,</span>&nbsp;<span class="ident" id="3534132">capacity</span>&nbsp;<span class="ident" id="3534141">int64</span><span class="op" id="3534146">)</span>&nbsp;<span class="op" id="3534148">(</span><span class="ident" id="3534149">b</span>&nbsp;<span class="op" id="3534151">[</span><span class="op" id="3534152">]</span><span class="builtintype" id="3534153">byte</span><span class="op" id="3534157">,</span>&nbsp;<span class="ident" id="3534159">err</span>&nbsp;<span class="builtintype" id="3534163">error</span><span class="op" id="3534168">)</span>&nbsp;<span class="op" id="3534170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3534173">buf</span>&nbsp;<span class="op" id="3534177">:=</span>&nbsp;<span class="ident" id="3534180"><a href="/io/ioutil/ioutil.go.html#3533927">bytes</a></span><span class="op" id="3534185">.</span><span class="ident" id="3534186">NewBuffer</span><span class="op" id="3534195">(</span><span class="builtinfunc" id="3534196">make</span><span class="op" id="3534200">(</span><span class="op" id="3534201">[</span><span class="op" id="3534202">]</span><span class="builtintype" id="3534203">byte</span><span class="op" id="3534207">,</span>&nbsp;<span class="num" id="3534209">0</span><span class="op" id="3534210">,</span>&nbsp;<span class="ident" id="3534212"><a href="/io/ioutil/ioutil.go.html#3534132">capacity</a></span><span class="op" id="3534220">)</span><span class="op" id="3534221">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3534224">//&nbsp;If&nbsp;the&nbsp;buffer&nbsp;overflows,&nbsp;we&nbsp;will&nbsp;get&nbsp;bytes.ErrTooLarge.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3534284">//&nbsp;Return&nbsp;that&nbsp;as&nbsp;an&nbsp;error.&nbsp;Any&nbsp;other&nbsp;panic&nbsp;remains.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3534338">defer</span>&nbsp;<span class="keyword" id="3534344">func</span><span class="op" id="3534348">(</span><span class="op" id="3534349">)</span>&nbsp;<span class="op" id="3534351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3534355">e</span>&nbsp;<span class="op" id="3534357">:=</span>&nbsp;<span class="builtinfunc" id="3534360">recover</span><span class="op" id="3534367">(</span><span class="op" id="3534368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3534372">if</span>&nbsp;<span class="ident" id="3534375"><a href="/io/ioutil/ioutil.go.html#3534355">e</a></span>&nbsp;<span class="op" id="3534377">==</span>&nbsp;<span class="ident" id="3534380">nil</span>&nbsp;<span class="op" id="3534384">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3534389">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3534398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3534402">if</span>&nbsp;<span class="ident" id="3534405">panicErr</span><span class="op" id="3534413">,</span>&nbsp;<span class="ident" id="3534415">ok</span>&nbsp;<span class="op" id="3534418">:=</span>&nbsp;<span class="ident" id="3534421"><a href="/io/ioutil/ioutil.go.html#3534355">e</a></span><span class="op" id="3534422">.</span><span class="op" id="3534423">(</span><span class="builtintype" id="3534424">error</span><span class="op" id="3534429">)</span><span class="op" id="3534430">;</span>&nbsp;<span class="ident" id="3534432"><a href="/io/ioutil/ioutil.go.html#3534415">ok</a></span>&nbsp;<span class="op" id="3534435">&amp;&amp;</span>&nbsp;<span class="ident" id="3534438"><a href="/io/ioutil/ioutil.go.html#3534405">panicErr</a></span>&nbsp;<span class="op" id="3534447">==</span>&nbsp;<span class="ident" id="3534450"><a href="/io/ioutil/ioutil.go.html#3533927">bytes</a></span><span class="op" id="3534455">.</span><span class="ident" id="3534456">ErrTooLarge</span>&nbsp;<span class="op" id="3534468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3534473"><a href="/io/ioutil/ioutil.go.html#3534159">err</a></span>&nbsp;<span class="op" id="3534477">=</span>&nbsp;<span class="ident" id="3534479"><a href="/io/ioutil/ioutil.go.html#3534405">panicErr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3534490">}</span>&nbsp;<span class="keyword" id="3534492">else</span>&nbsp;<span class="op" id="3534497">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3534502">panic</span><span class="op" id="3534507">(</span><span class="ident" id="3534508"><a href="/io/ioutil/ioutil.go.html#3534355">e</a></span><span class="op" id="3534509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3534513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3534516">}</span><span class="op" id="3534517">(</span><span class="op" id="3534518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3534521">_</span><span class="op" id="3534522">,</span>&nbsp;<span class="ident" id="3534524"><a href="/io/ioutil/ioutil.go.html#3534159">err</a></span>&nbsp;<span class="op" id="3534528">=</span>&nbsp;<span class="ident" id="3534530"><a href="/io/ioutil/ioutil.go.html#3534173">buf</a></span><span class="op" id="3534533">.</span><span class="ident" id="3534534">ReadFrom</span><span class="op" id="3534542">(</span><span class="ident" id="3534543"><a href="/io/ioutil/ioutil.go.html#3534119">r</a></span><span class="op" id="3534544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3534547">return</span>&nbsp;<span class="ident" id="3534554"><a href="/io/ioutil/ioutil.go.html#3534173">buf</a></span><span class="op" id="3534557">.</span><span class="ident" id="3534558">Bytes</span><span class="op" id="3534563">(</span><span class="op" id="3534564">)</span><span class="op" id="3534565">,</span>&nbsp;<span class="ident" id="3534567"><a href="/io/ioutil/ioutil.go.html#3534159">err</a></span><br>
<span class="lineno">35</span><span class="op" id="3534571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3534574">//&nbsp;ReadAll&nbsp;reads&nbsp;from&nbsp;r&nbsp;until&nbsp;an&nbsp;error&nbsp;or&nbsp;EOF&nbsp;and&nbsp;returns&nbsp;the&nbsp;data&nbsp;it&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="3534650">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadAll&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3534726">//&nbsp;defined&nbsp;to&nbsp;read&nbsp;from&nbsp;src&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read</span><br>
<span class="lineno">40</span><span class="comment" id="3534800">//&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="3534831">func</span>&nbsp;<span class="ident" id="3534836">ReadAll</span><span class="op" id="3534843">(</span><span class="ident" id="3534844">r</span>&nbsp;<span class="ident" id="3534846"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3534848">.</span><span class="ident" id="3534849">Reader</span><span class="op" id="3534855">)</span>&nbsp;<span class="op" id="3534857">(</span><span class="op" id="3534858">[</span><span class="op" id="3534859">]</span><span class="builtintype" id="3534860">byte</span><span class="op" id="3534864">,</span>&nbsp;<span class="builtintype" id="3534866">error</span><span class="op" id="3534871">)</span>&nbsp;<span class="op" id="3534873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3534876">return</span>&nbsp;<span class="ident" id="3534883"><a href="/io/ioutil/ioutil.go.html#3534111">readAll</a></span><span class="op" id="3534890">(</span><span class="ident" id="3534891"><a href="/io/ioutil/ioutil.go.html#3534844">r</a></span><span class="op" id="3534892">,</span>&nbsp;<span class="ident" id="3534894"><a href="/io/ioutil/ioutil.go.html#3533927">bytes</a></span><span class="op" id="3534899">.</span><span class="ident" id="3534900">MinRead</span><span class="op" id="3534907">)</span><br>
<span class="lineno"></span><span class="op" id="3534909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3534912">//&nbsp;ReadFile&nbsp;reads&nbsp;the&nbsp;file&nbsp;named&nbsp;by&nbsp;filename&nbsp;and&nbsp;returns&nbsp;the&nbsp;contents.</span><br>
<span class="lineno"></span><span class="comment" id="3534983">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadFile</span><br>
<span class="lineno"></span><span class="comment" id="3535057">//&nbsp;reads&nbsp;the&nbsp;whole&nbsp;file,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read&nbsp;as&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="3535129">//&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="3535148">func</span>&nbsp;<span class="ident" id="3535153">ReadFile</span><span class="op" id="3535161">(</span><span class="ident" id="3535162">filename</span>&nbsp;<span class="builtintype" id="3535171">string</span><span class="op" id="3535177">)</span>&nbsp;<span class="op" id="3535179">(</span><span class="op" id="3535180">[</span><span class="op" id="3535181">]</span><span class="builtintype" id="3535182">byte</span><span class="op" id="3535186">,</span>&nbsp;<span class="builtintype" id="3535188">error</span><span class="op" id="3535193">)</span>&nbsp;<span class="op" id="3535195">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535198">f</span><span class="op" id="3535199">,</span>&nbsp;<span class="ident" id="3535201">err</span>&nbsp;<span class="op" id="3535205">:=</span>&nbsp;<span class="ident" id="3535208"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3535210">.</span><span class="ident" id="3535211">Open</span><span class="op" id="3535215">(</span><span class="ident" id="3535216"><a href="/io/ioutil/ioutil.go.html#3535162">filename</a></span><span class="op" id="3535224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535227">if</span>&nbsp;<span class="ident" id="3535230"><a href="/io/ioutil/ioutil.go.html#3535201">err</a></span>&nbsp;<span class="op" id="3535234">!=</span>&nbsp;<span class="ident" id="3535237">nil</span>&nbsp;<span class="op" id="3535241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535245">return</span>&nbsp;<span class="ident" id="3535252">nil</span><span class="op" id="3535255">,</span>&nbsp;<span class="ident" id="3535257"><a href="/io/ioutil/ioutil.go.html#3535201">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3535262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535265">defer</span>&nbsp;<span class="ident" id="3535271"><a href="/io/ioutil/ioutil.go.html#3535198">f</a></span><span class="op" id="3535272">.</span><span class="ident" id="3535273">Close</span><span class="op" id="3535278">(</span><span class="op" id="3535279">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535282">//&nbsp;It&#39;s&nbsp;a&nbsp;good&nbsp;but&nbsp;not&nbsp;certain&nbsp;bet&nbsp;that&nbsp;FileInfo&nbsp;will&nbsp;tell&nbsp;us&nbsp;exactly&nbsp;how&nbsp;much&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535365">//&nbsp;read,&nbsp;so&nbsp;let&#39;s&nbsp;try&nbsp;it&nbsp;but&nbsp;be&nbsp;prepared&nbsp;for&nbsp;the&nbsp;answer&nbsp;to&nbsp;be&nbsp;wrong.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535435">var</span>&nbsp;<span class="ident" id="3535439">n</span>&nbsp;<span class="ident" id="3535441">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535449">if</span>&nbsp;<span class="ident" id="3535452">fi</span><span class="op" id="3535454">,</span>&nbsp;<span class="ident" id="3535456">err</span>&nbsp;<span class="op" id="3535460">:=</span>&nbsp;<span class="ident" id="3535463"><a href="/io/ioutil/ioutil.go.html#3535198">f</a></span><span class="op" id="3535464">.</span><span class="ident" id="3535465">Stat</span><span class="op" id="3535469">(</span><span class="op" id="3535470">)</span><span class="op" id="3535471">;</span>&nbsp;<span class="ident" id="3535473"><a href="/io/ioutil/ioutil.go.html#3535456">err</a></span>&nbsp;<span class="op" id="3535477">==</span>&nbsp;<span class="ident" id="3535480">nil</span>&nbsp;<span class="op" id="3535484">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535488">//&nbsp;Don&#39;t&nbsp;preallocate&nbsp;a&nbsp;huge&nbsp;buffer,&nbsp;just&nbsp;in&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535540">if</span>&nbsp;<span class="ident" id="3535543">size</span>&nbsp;<span class="op" id="3535548">:=</span>&nbsp;<span class="ident" id="3535551"><a href="/io/ioutil/ioutil.go.html#3535452">fi</a></span><span class="op" id="3535553">.</span><span class="ident" id="3535554">Size</span><span class="op" id="3535558">(</span><span class="op" id="3535559">)</span><span class="op" id="3535560">;</span>&nbsp;<span class="ident" id="3535562"><a href="/io/ioutil/ioutil.go.html#3535543">size</a></span>&nbsp;<span class="op" id="3535567">&lt;</span>&nbsp;<span class="num" id="3535569">1e9</span>&nbsp;<span class="op" id="3535573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3535578"><a href="/io/ioutil/ioutil.go.html#3535439">n</a></span>&nbsp;<span class="op" id="3535580">=</span>&nbsp;<span class="ident" id="3535582"><a href="/io/ioutil/ioutil.go.html#3535543">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3535589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3535592">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535595">//&nbsp;As&nbsp;initial&nbsp;capacity&nbsp;for&nbsp;readAll,&nbsp;use&nbsp;n&nbsp;+&nbsp;a&nbsp;little&nbsp;extra&nbsp;in&nbsp;case&nbsp;Size&nbsp;is&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535677">//&nbsp;and&nbsp;to&nbsp;avoid&nbsp;another&nbsp;allocation&nbsp;after&nbsp;Read&nbsp;has&nbsp;filled&nbsp;the&nbsp;buffer.&nbsp;&nbsp;The&nbsp;readAll</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535760">//&nbsp;call&nbsp;will&nbsp;read&nbsp;into&nbsp;its&nbsp;allocated&nbsp;internal&nbsp;buffer&nbsp;cheaply.&nbsp;&nbsp;If&nbsp;the&nbsp;size&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535840">//&nbsp;wrong,&nbsp;we&#39;ll&nbsp;either&nbsp;waste&nbsp;some&nbsp;space&nbsp;off&nbsp;the&nbsp;end&nbsp;or&nbsp;reallocate&nbsp;as&nbsp;needed,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3535922">//&nbsp;in&nbsp;the&nbsp;overwhelmingly&nbsp;common&nbsp;case&nbsp;we&#39;ll&nbsp;get&nbsp;it&nbsp;just&nbsp;right.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3535985">return</span>&nbsp;<span class="ident" id="3535992"><a href="/io/ioutil/ioutil.go.html#3534111">readAll</a></span><span class="op" id="3535999">(</span><span class="ident" id="3536000"><a href="/io/ioutil/ioutil.go.html#3535198">f</a></span><span class="op" id="3536001">,</span>&nbsp;<span class="ident" id="3536003"><a href="/io/ioutil/ioutil.go.html#3535439">n</a></span><span class="op" id="3536004">+</span><span class="ident" id="3536005"><a href="/io/ioutil/ioutil.go.html#3533927">bytes</a></span><span class="op" id="3536010">.</span><span class="ident" id="3536011">MinRead</span><span class="op" id="3536018">)</span><br>
<span class="lineno"></span><span class="op" id="3536020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3536023">//&nbsp;WriteFile&nbsp;writes&nbsp;data&nbsp;to&nbsp;a&nbsp;file&nbsp;named&nbsp;by&nbsp;filename.</span><br>
<span class="lineno"></span><span class="comment" id="3536077">//&nbsp;If&nbsp;the&nbsp;file&nbsp;does&nbsp;not&nbsp;exist,&nbsp;WriteFile&nbsp;creates&nbsp;it&nbsp;with&nbsp;permissions&nbsp;perm;</span><br>
<span class="lineno">75</span><span class="comment" id="3536152">//&nbsp;otherwise&nbsp;WriteFile&nbsp;truncates&nbsp;it&nbsp;before&nbsp;writing.</span><br>
<span class="lineno"></span><span class="keyword" id="3536204">func</span>&nbsp;<span class="ident" id="3536209">WriteFile</span><span class="op" id="3536218">(</span><span class="ident" id="3536219">filename</span>&nbsp;<span class="builtintype" id="3536228">string</span><span class="op" id="3536234">,</span>&nbsp;<span class="ident" id="3536236">data</span>&nbsp;<span class="op" id="3536241">[</span><span class="op" id="3536242">]</span><span class="builtintype" id="3536243">byte</span><span class="op" id="3536247">,</span>&nbsp;<span class="ident" id="3536249">perm</span>&nbsp;<span class="ident" id="3536254"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536256">.</span><span class="ident" id="3536257">FileMode</span><span class="op" id="3536265">)</span>&nbsp;<span class="builtintype" id="3536267">error</span>&nbsp;<span class="op" id="3536273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536276">f</span><span class="op" id="3536277">,</span>&nbsp;<span class="ident" id="3536279">err</span>&nbsp;<span class="op" id="3536283">:=</span>&nbsp;<span class="ident" id="3536286"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536288">.</span><span class="ident" id="3536289">OpenFile</span><span class="op" id="3536297">(</span><span class="ident" id="3536298"><a href="/io/ioutil/ioutil.go.html#3536219">filename</a></span><span class="op" id="3536306">,</span>&nbsp;<span class="ident" id="3536308"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536310">.</span><span class="ident" id="3536311">O_WRONLY</span><span class="op" id="3536319">|</span><span class="ident" id="3536320"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536322">.</span><span class="ident" id="3536323">O_CREATE</span><span class="op" id="3536331">|</span><span class="ident" id="3536332"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536334">.</span><span class="ident" id="3536335">O_TRUNC</span><span class="op" id="3536342">,</span>&nbsp;<span class="ident" id="3536344"><a href="/io/ioutil/ioutil.go.html#3536249">perm</a></span><span class="op" id="3536348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536351">if</span>&nbsp;<span class="ident" id="3536354"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span>&nbsp;<span class="op" id="3536358">!=</span>&nbsp;<span class="ident" id="3536361">nil</span>&nbsp;<span class="op" id="3536365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536369">return</span>&nbsp;<span class="ident" id="3536376"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536384">n</span><span class="op" id="3536385">,</span>&nbsp;<span class="ident" id="3536387"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span>&nbsp;<span class="op" id="3536391">:=</span>&nbsp;<span class="ident" id="3536394"><a href="/io/ioutil/ioutil.go.html#3536276">f</a></span><span class="op" id="3536395">.</span><span class="ident" id="3536396">Write</span><span class="op" id="3536401">(</span><span class="ident" id="3536402"><a href="/io/ioutil/ioutil.go.html#3536236">data</a></span><span class="op" id="3536406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536409">if</span>&nbsp;<span class="ident" id="3536412"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span>&nbsp;<span class="op" id="3536416">==</span>&nbsp;<span class="ident" id="3536419">nil</span>&nbsp;<span class="op" id="3536423">&amp;&amp;</span>&nbsp;<span class="ident" id="3536426"><a href="/io/ioutil/ioutil.go.html#3536384">n</a></span>&nbsp;<span class="op" id="3536428">&lt;</span>&nbsp;<span class="builtinfunc" id="3536430">len</span><span class="op" id="3536433">(</span><span class="ident" id="3536434"><a href="/io/ioutil/ioutil.go.html#3536236">data</a></span><span class="op" id="3536438">)</span>&nbsp;<span class="op" id="3536440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536444"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span>&nbsp;<span class="op" id="3536448">=</span>&nbsp;<span class="ident" id="3536450"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3536452">.</span><span class="ident" id="3536453">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536468">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536471">if</span>&nbsp;<span class="ident" id="3536474">err1</span>&nbsp;<span class="op" id="3536479">:=</span>&nbsp;<span class="ident" id="3536482"><a href="/io/ioutil/ioutil.go.html#3536276">f</a></span><span class="op" id="3536483">.</span><span class="ident" id="3536484">Close</span><span class="op" id="3536489">(</span><span class="op" id="3536490">)</span><span class="op" id="3536491">;</span>&nbsp;<span class="ident" id="3536493"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span>&nbsp;<span class="op" id="3536497">==</span>&nbsp;<span class="ident" id="3536500">nil</span>&nbsp;<span class="op" id="3536504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536508"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span>&nbsp;<span class="op" id="3536512">=</span>&nbsp;<span class="ident" id="3536514"><a href="/io/ioutil/ioutil.go.html#3536474">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3536520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536523">return</span>&nbsp;<span class="ident" id="3536530"><a href="/io/ioutil/ioutil.go.html#3536279">err</a></span><br>
<span class="lineno"></span><span class="op" id="3536534">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3536537">//&nbsp;byName&nbsp;implements&nbsp;sort.Interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3536574">type</span>&nbsp;<span class="ident" id="3536579">byName</span>&nbsp;<span class="op" id="3536586">[</span><span class="op" id="3536587">]</span><span class="ident" id="3536588"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536590">.</span><span class="ident" id="3536591">FileInfo</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3536601">func</span>&nbsp;<span class="op" id="3536606">(</span><span class="ident" id="3536607">f</span>&nbsp;<span class="ident" id="3536609"><a href="/io/ioutil/ioutil.go.html#3536579">byName</a></span><span class="op" id="3536615">)</span>&nbsp;<span class="ident" id="3536617">Len</span><span class="op" id="3536620">(</span><span class="op" id="3536621">)</span>&nbsp;<span class="builtintype" id="3536623">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3536637">{</span>&nbsp;<span class="keyword" id="3536639">return</span>&nbsp;<span class="builtinfunc" id="3536646">len</span><span class="op" id="3536649">(</span><span class="ident" id="3536650"><a href="/io/ioutil/ioutil.go.html#3536607">f</a></span><span class="op" id="3536651">)</span>&nbsp;<span class="op" id="3536653">}</span><br>
<span class="lineno">95</span><span class="keyword" id="3536655">func</span>&nbsp;<span class="op" id="3536660">(</span><span class="ident" id="3536661">f</span>&nbsp;<span class="ident" id="3536663"><a href="/io/ioutil/ioutil.go.html#3536579">byName</a></span><span class="op" id="3536669">)</span>&nbsp;<span class="ident" id="3536671">Less</span><span class="op" id="3536675">(</span><span class="ident" id="3536676">i</span><span class="op" id="3536677">,</span>&nbsp;<span class="ident" id="3536679">j</span>&nbsp;<span class="builtintype" id="3536681">int</span><span class="op" id="3536684">)</span>&nbsp;<span class="builtintype" id="3536686">bool</span>&nbsp;<span class="op" id="3536691">{</span>&nbsp;<span class="keyword" id="3536693">return</span>&nbsp;<span class="ident" id="3536700"><a href="/io/ioutil/ioutil.go.html#3536661">f</a></span><span class="op" id="3536701">[</span><span class="ident" id="3536702"><a href="/io/ioutil/ioutil.go.html#3536676">i</a></span><span class="op" id="3536703">]</span><span class="op" id="3536704">.</span><span class="ident" id="3536705">Name</span><span class="op" id="3536709">(</span><span class="op" id="3536710">)</span>&nbsp;<span class="op" id="3536712">&lt;</span>&nbsp;<span class="ident" id="3536714"><a href="/io/ioutil/ioutil.go.html#3536661">f</a></span><span class="op" id="3536715">[</span><span class="ident" id="3536716"><a href="/io/ioutil/ioutil.go.html#3536679">j</a></span><span class="op" id="3536717">]</span><span class="op" id="3536718">.</span><span class="ident" id="3536719">Name</span><span class="op" id="3536723">(</span><span class="op" id="3536724">)</span>&nbsp;<span class="op" id="3536726">}</span><br>
<span class="lineno"></span><span class="keyword" id="3536728">func</span>&nbsp;<span class="op" id="3536733">(</span><span class="ident" id="3536734">f</span>&nbsp;<span class="ident" id="3536736"><a href="/io/ioutil/ioutil.go.html#3536579">byName</a></span><span class="op" id="3536742">)</span>&nbsp;<span class="ident" id="3536744">Swap</span><span class="op" id="3536748">(</span><span class="ident" id="3536749">i</span><span class="op" id="3536750">,</span>&nbsp;<span class="ident" id="3536752">j</span>&nbsp;<span class="builtintype" id="3536754">int</span><span class="op" id="3536757">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3536764">{</span>&nbsp;<span class="ident" id="3536766"><a href="/io/ioutil/ioutil.go.html#3536734">f</a></span><span class="op" id="3536767">[</span><span class="ident" id="3536768"><a href="/io/ioutil/ioutil.go.html#3536749">i</a></span><span class="op" id="3536769">]</span><span class="op" id="3536770">,</span>&nbsp;<span class="ident" id="3536772"><a href="/io/ioutil/ioutil.go.html#3536734">f</a></span><span class="op" id="3536773">[</span><span class="ident" id="3536774"><a href="/io/ioutil/ioutil.go.html#3536752">j</a></span><span class="op" id="3536775">]</span>&nbsp;<span class="op" id="3536777">=</span>&nbsp;<span class="ident" id="3536779"><a href="/io/ioutil/ioutil.go.html#3536734">f</a></span><span class="op" id="3536780">[</span><span class="ident" id="3536781"><a href="/io/ioutil/ioutil.go.html#3536752">j</a></span><span class="op" id="3536782">]</span><span class="op" id="3536783">,</span>&nbsp;<span class="ident" id="3536785"><a href="/io/ioutil/ioutil.go.html#3536734">f</a></span><span class="op" id="3536786">[</span><span class="ident" id="3536787"><a href="/io/ioutil/ioutil.go.html#3536749">i</a></span><span class="op" id="3536788">]</span>&nbsp;<span class="op" id="3536790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3536793">//&nbsp;ReadDir&nbsp;reads&nbsp;the&nbsp;directory&nbsp;named&nbsp;by&nbsp;dirname&nbsp;and&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3536853">//&nbsp;a&nbsp;list&nbsp;of&nbsp;sorted&nbsp;directory&nbsp;entries.</span><br>
<span class="lineno">100</span><span class="keyword" id="3536892">func</span>&nbsp;<span class="ident" id="3536897">ReadDir</span><span class="op" id="3536904">(</span><span class="ident" id="3536905">dirname</span>&nbsp;<span class="builtintype" id="3536913">string</span><span class="op" id="3536919">)</span>&nbsp;<span class="op" id="3536921">(</span><span class="op" id="3536922">[</span><span class="op" id="3536923">]</span><span class="ident" id="3536924"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536926">.</span><span class="ident" id="3536927">FileInfo</span><span class="op" id="3536935">,</span>&nbsp;<span class="builtintype" id="3536937">error</span><span class="op" id="3536942">)</span>&nbsp;<span class="op" id="3536944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3536947">f</span><span class="op" id="3536948">,</span>&nbsp;<span class="ident" id="3536950">err</span>&nbsp;<span class="op" id="3536954">:=</span>&nbsp;<span class="ident" id="3536957"><a href="/io/ioutil/ioutil.go.html#3533942">os</a></span><span class="op" id="3536959">.</span><span class="ident" id="3536960">Open</span><span class="op" id="3536964">(</span><span class="ident" id="3536965"><a href="/io/ioutil/ioutil.go.html#3536905">dirname</a></span><span class="op" id="3536972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536975">if</span>&nbsp;<span class="ident" id="3536978"><a href="/io/ioutil/ioutil.go.html#3536950">err</a></span>&nbsp;<span class="op" id="3536982">!=</span>&nbsp;<span class="ident" id="3536985">nil</span>&nbsp;<span class="op" id="3536989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3536993">return</span>&nbsp;<span class="ident" id="3537000">nil</span><span class="op" id="3537003">,</span>&nbsp;<span class="ident" id="3537005"><a href="/io/ioutil/ioutil.go.html#3536950">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3537010">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537013">list</span><span class="op" id="3537017">,</span>&nbsp;<span class="ident" id="3537019"><a href="/io/ioutil/ioutil.go.html#3536950">err</a></span>&nbsp;<span class="op" id="3537023">:=</span>&nbsp;<span class="ident" id="3537026"><a href="/io/ioutil/ioutil.go.html#3536947">f</a></span><span class="op" id="3537027">.</span><span class="ident" id="3537028">Readdir</span><span class="op" id="3537035">(</span><span class="op" id="3537036">-</span><span class="num" id="3537037">1</span><span class="op" id="3537038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537041"><a href="/io/ioutil/ioutil.go.html#3536947">f</a></span><span class="op" id="3537042">.</span><span class="ident" id="3537043">Close</span><span class="op" id="3537048">(</span><span class="op" id="3537049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537052">if</span>&nbsp;<span class="ident" id="3537055"><a href="/io/ioutil/ioutil.go.html#3536950">err</a></span>&nbsp;<span class="op" id="3537059">!=</span>&nbsp;<span class="ident" id="3537062">nil</span>&nbsp;<span class="op" id="3537066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537070">return</span>&nbsp;<span class="ident" id="3537077">nil</span><span class="op" id="3537080">,</span>&nbsp;<span class="ident" id="3537082"><a href="/io/ioutil/ioutil.go.html#3536950">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3537087">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537090"><a href="/io/ioutil/ioutil.go.html#3533948">sort</a></span><span class="op" id="3537094">.</span><span class="ident" id="3537095">Sort</span><span class="op" id="3537099">(</span><span class="ident" id="3537100"><a href="/io/ioutil/ioutil.go.html#3536579">byName</a></span><span class="op" id="3537106">(</span><span class="ident" id="3537107"><a href="/io/ioutil/ioutil.go.html#3537013">list</a></span><span class="op" id="3537111">)</span><span class="op" id="3537112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537115">return</span>&nbsp;<span class="ident" id="3537122"><a href="/io/ioutil/ioutil.go.html#3537013">list</a></span><span class="op" id="3537126">,</span>&nbsp;<span class="ident" id="3537128">nil</span><br>
<span class="lineno"></span><span class="op" id="3537132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3537135">type</span>&nbsp;<span class="ident" id="3537140">nopCloser</span>&nbsp;<span class="keyword" id="3537150">struct</span>&nbsp;<span class="op" id="3537157">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537160"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3537162">.</span><span class="ident" id="3537163">Reader</span><br>
<span class="lineno"></span><span class="op" id="3537170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3537173">func</span>&nbsp;<span class="op" id="3537178">(</span><span class="ident" id="3537179"><a href="/io/ioutil/ioutil.go.html#3537140">nopCloser</a></span><span class="op" id="3537188">)</span>&nbsp;<span class="ident" id="3537190">Close</span><span class="op" id="3537195">(</span><span class="op" id="3537196">)</span>&nbsp;<span class="builtintype" id="3537198">error</span>&nbsp;<span class="op" id="3537204">{</span>&nbsp;<span class="keyword" id="3537206">return</span>&nbsp;<span class="ident" id="3537213">nil</span>&nbsp;<span class="op" id="3537217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="comment" id="3537220">//&nbsp;NopCloser&nbsp;returns&nbsp;a&nbsp;ReadCloser&nbsp;with&nbsp;a&nbsp;no-op&nbsp;Close&nbsp;method&nbsp;wrapping</span><br>
<span class="lineno"></span><span class="comment" id="3537289">//&nbsp;the&nbsp;provided&nbsp;Reader&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="3537315">func</span>&nbsp;<span class="ident" id="3537320">NopCloser</span><span class="op" id="3537329">(</span><span class="ident" id="3537330">r</span>&nbsp;<span class="ident" id="3537332"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3537334">.</span><span class="ident" id="3537335">Reader</span><span class="op" id="3537341">)</span>&nbsp;<span class="ident" id="3537343"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3537345">.</span><span class="ident" id="3537346">ReadCloser</span>&nbsp;<span class="op" id="3537357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537360">return</span>&nbsp;<span class="ident" id="3537367"><a href="/io/ioutil/ioutil.go.html#3537140">nopCloser</a></span><span class="op" id="3537376">{</span><span class="ident" id="3537377"><a href="/io/ioutil/ioutil.go.html#3537330">r</a></span><span class="op" id="3537378">}</span><br>
<span class="lineno"></span><span class="op" id="3537380">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="3537383">type</span>&nbsp;<span class="ident" id="3537388">devNull</span>&nbsp;<span class="builtintype" id="3537396">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3537401">//&nbsp;devNull&nbsp;implements&nbsp;ReaderFrom&nbsp;as&nbsp;an&nbsp;optimization&nbsp;so&nbsp;io.Copy&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3537467">//&nbsp;ioutil.Discard&nbsp;can&nbsp;avoid&nbsp;doing&nbsp;unnecessary&nbsp;work.</span><br>
<span class="lineno">130</span><span class="keyword" id="3537519">var</span>&nbsp;<span class="ident" id="3537523">_</span>&nbsp;<span class="ident" id="3537525"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3537527">.</span><span class="ident" id="3537528">ReaderFrom</span>&nbsp;<span class="op" id="3537539">=</span>&nbsp;<span class="ident" id="3537541"><a href="/io/ioutil/ioutil.go.html#3537388">devNull</a></span><span class="op" id="3537548">(</span><span class="num" id="3537549">0</span><span class="op" id="3537550">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3537553">func</span>&nbsp;<span class="op" id="3537558">(</span><span class="ident" id="3537559"><a href="/io/ioutil/ioutil.go.html#3537388">devNull</a></span><span class="op" id="3537566">)</span>&nbsp;<span class="ident" id="3537568">Write</span><span class="op" id="3537573">(</span><span class="ident" id="3537574">p</span>&nbsp;<span class="op" id="3537576">[</span><span class="op" id="3537577">]</span><span class="builtintype" id="3537578">byte</span><span class="op" id="3537582">)</span>&nbsp;<span class="op" id="3537584">(</span><span class="builtintype" id="3537585">int</span><span class="op" id="3537588">,</span>&nbsp;<span class="builtintype" id="3537590">error</span><span class="op" id="3537595">)</span>&nbsp;<span class="op" id="3537597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537600">return</span>&nbsp;<span class="builtinfunc" id="3537607">len</span><span class="op" id="3537610">(</span><span class="ident" id="3537611"><a href="/io/ioutil/ioutil.go.html#3537574">p</a></span><span class="op" id="3537612">)</span><span class="op" id="3537613">,</span>&nbsp;<span class="ident" id="3537615">nil</span><br>
<span class="lineno"></span><span class="op" id="3537619">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="3537622">func</span>&nbsp;<span class="op" id="3537627">(</span><span class="ident" id="3537628"><a href="/io/ioutil/ioutil.go.html#3537388">devNull</a></span><span class="op" id="3537635">)</span>&nbsp;<span class="ident" id="3537637">WriteString</span><span class="op" id="3537648">(</span><span class="ident" id="3537649">s</span>&nbsp;<span class="builtintype" id="3537651">string</span><span class="op" id="3537657">)</span>&nbsp;<span class="op" id="3537659">(</span><span class="builtintype" id="3537660">int</span><span class="op" id="3537663">,</span>&nbsp;<span class="builtintype" id="3537665">error</span><span class="op" id="3537670">)</span>&nbsp;<span class="op" id="3537672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537675">return</span>&nbsp;<span class="builtinfunc" id="3537682">len</span><span class="op" id="3537685">(</span><span class="ident" id="3537686"><a href="/io/ioutil/ioutil.go.html#3537649">s</a></span><span class="op" id="3537687">)</span><span class="op" id="3537688">,</span>&nbsp;<span class="ident" id="3537690">nil</span><br>
<span class="lineno"></span><span class="op" id="3537694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="3537697">var</span>&nbsp;<span class="ident" id="3537701">blackHolePool</span>&nbsp;<span class="op" id="3537715">=</span>&nbsp;<span class="ident" id="3537717"><a href="/io/ioutil/ioutil.go.html#3533956">sync</a></span><span class="op" id="3537721">.</span><span class="ident" id="3537722">Pool</span><span class="op" id="3537726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537729">New</span><span class="op" id="3537732">:</span>&nbsp;<span class="keyword" id="3537734">func</span><span class="op" id="3537738">(</span><span class="op" id="3537739">)</span>&nbsp;<span class="keyword" id="3537741">interface</span><span class="op" id="3537750">{</span><span class="op" id="3537751">}</span>&nbsp;<span class="op" id="3537753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537757">b</span>&nbsp;<span class="op" id="3537759">:=</span>&nbsp;<span class="builtinfunc" id="3537762">make</span><span class="op" id="3537766">(</span><span class="op" id="3537767">[</span><span class="op" id="3537768">]</span><span class="builtintype" id="3537769">byte</span><span class="op" id="3537773">,</span>&nbsp;<span class="num" id="3537775">8192</span><span class="op" id="3537779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537783">return</span>&nbsp;<span class="op" id="3537790">&amp;</span><span class="ident" id="3537791"><a href="/io/ioutil/ioutil.go.html#3537757">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3537794">}</span><span class="op" id="3537795">,</span><br>
<span class="lineno">145</span><span class="op" id="3537797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3537800">func</span>&nbsp;<span class="op" id="3537805">(</span><span class="ident" id="3537806"><a href="/io/ioutil/ioutil.go.html#3537388">devNull</a></span><span class="op" id="3537813">)</span>&nbsp;<span class="ident" id="3537815">ReadFrom</span><span class="op" id="3537823">(</span><span class="ident" id="3537824">r</span>&nbsp;<span class="ident" id="3537826"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3537828">.</span><span class="ident" id="3537829">Reader</span><span class="op" id="3537835">)</span>&nbsp;<span class="op" id="3537837">(</span><span class="ident" id="3537838">n</span>&nbsp;<span class="ident" id="3537840">int64</span><span class="op" id="3537845">,</span>&nbsp;<span class="ident" id="3537847">err</span>&nbsp;<span class="builtintype" id="3537851">error</span><span class="op" id="3537856">)</span>&nbsp;<span class="op" id="3537858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537861">bufp</span>&nbsp;<span class="op" id="3537866">:=</span>&nbsp;<span class="ident" id="3537869"><a href="/io/ioutil/ioutil.go.html#3537701">blackHolePool</a></span><span class="op" id="3537882">.</span><span class="ident" id="3537883">Get</span><span class="op" id="3537886">(</span><span class="op" id="3537887">)</span><span class="op" id="3537888">.</span><span class="op" id="3537889">(</span><span class="op" id="3537890">*</span><span class="op" id="3537891">[</span><span class="op" id="3537892">]</span><span class="builtintype" id="3537893">byte</span><span class="op" id="3537897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537900">readSize</span>&nbsp;<span class="op" id="3537909">:=</span>&nbsp;<span class="num" id="3537912">0</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537915">for</span>&nbsp;<span class="op" id="3537919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537923"><a href="/io/ioutil/ioutil.go.html#3537900">readSize</a></span><span class="op" id="3537931">,</span>&nbsp;<span class="ident" id="3537933"><a href="/io/ioutil/ioutil.go.html#3537847">err</a></span>&nbsp;<span class="op" id="3537937">=</span>&nbsp;<span class="ident" id="3537939"><a href="/io/ioutil/ioutil.go.html#3537824">r</a></span><span class="op" id="3537940">.</span><span class="ident" id="3537941">Read</span><span class="op" id="3537945">(</span><span class="op" id="3537946">*</span><span class="ident" id="3537947"><a href="/io/ioutil/ioutil.go.html#3537861">bufp</a></span><span class="op" id="3537951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537955"><a href="/io/ioutil/ioutil.go.html#3537838">n</a></span>&nbsp;<span class="op" id="3537957">+=</span>&nbsp;<span class="ident" id="3537960">int64</span><span class="op" id="3537965">(</span><span class="ident" id="3537966"><a href="/io/ioutil/ioutil.go.html#3537900">readSize</a></span><span class="op" id="3537974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3537978">if</span>&nbsp;<span class="ident" id="3537981"><a href="/io/ioutil/ioutil.go.html#3537847">err</a></span>&nbsp;<span class="op" id="3537985">!=</span>&nbsp;<span class="ident" id="3537988">nil</span>&nbsp;<span class="op" id="3537992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3537997"><a href="/io/ioutil/ioutil.go.html#3537701">blackHolePool</a></span><span class="op" id="3538010">.</span><span class="ident" id="3538011">Put</span><span class="op" id="3538014">(</span><span class="ident" id="3538015"><a href="/io/ioutil/ioutil.go.html#3537861">bufp</a></span><span class="op" id="3538019">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538024">if</span>&nbsp;<span class="ident" id="3538027"><a href="/io/ioutil/ioutil.go.html#3537847">err</a></span>&nbsp;<span class="op" id="3538031">==</span>&nbsp;<span class="ident" id="3538034"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3538036">.</span><span class="ident" id="3538037">EOF</span>&nbsp;<span class="op" id="3538041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538047">return</span>&nbsp;<span class="ident" id="3538054"><a href="/io/ioutil/ioutil.go.html#3537838">n</a></span><span class="op" id="3538055">,</span>&nbsp;<span class="ident" id="3538057">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3538069">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538078">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3538081">}</span><br>
<span class="lineno"></span><span class="op" id="3538083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3538086">//&nbsp;Discard&nbsp;is&nbsp;an&nbsp;io.Writer&nbsp;on&nbsp;which&nbsp;all&nbsp;Write&nbsp;calls&nbsp;succeed</span><br>
<span class="lineno"></span><span class="comment" id="3538146">//&nbsp;without&nbsp;doing&nbsp;anything.</span><br>
<span class="lineno">165</span><span class="keyword" id="3538173">var</span>&nbsp;<span class="ident" id="3538177">Discard</span>&nbsp;<span class="ident" id="3538185"><a href="/io/ioutil/ioutil.go.html#3533936">io</a></span><span class="op" id="3538187">.</span><span class="ident" id="3538188">Writer</span>&nbsp;<span class="op" id="3538195">=</span>&nbsp;<span class="ident" id="3538197"><a href="/io/ioutil/ioutil.go.html#3537388">devNull</a></span><span class="op" id="3538204">(</span><span class="num" id="3538205">0</span><span class="op" id="3538206">)</span>
</div>
</body>
</html>
