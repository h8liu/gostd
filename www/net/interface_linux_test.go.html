<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6816098">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6816154">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6816208">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6816259">package</span>&nbsp;<span class="ident" id="6816267">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6816272">import</span>&nbsp;<span class="op" id="6816279">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6816282">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6816289">&#34;os/exec&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6816300">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6816310">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6816313">func</span>&nbsp;<span class="op" id="6816318">(</span><span class="ident" id="6816319">ti</span>&nbsp;<span class="op" id="6816322">*</span><span class="ident" id="6816323"><a href="/net/interface_unix_test.go.html#6824425">testInterface</a></span><span class="op" id="6816336">)</span>&nbsp;<span class="ident" id="6816338">setBroadcast</span><span class="op" id="6816350">(</span><span class="ident" id="6816351">suffix</span>&nbsp;<span class="builtintype" id="6816358">int</span><span class="op" id="6816361">)</span>&nbsp;<span class="builtintype" id="6816363">error</span>&nbsp;<span class="op" id="6816369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816372"><a href="/net/interface_linux_test.go.html#6816319">ti</a></span><span class="op" id="6816374">.</span><span class="ident" id="6816375">name</span>&nbsp;<span class="op" id="6816380">=</span>&nbsp;<span class="ident" id="6816382"><a href="/net/interface_linux_test.go.html#6816282">fmt</a></span><span class="op" id="6816385">.</span><span class="ident" id="6816386">Sprintf</span><span class="op" id="6816393">(</span><span class="string" id="6816394">&#34;gotest%d&#34;</span><span class="op" id="6816404">,</span>&nbsp;<span class="ident" id="6816406"><a href="/net/interface_linux_test.go.html#6816351">suffix</a></span><span class="op" id="6816412">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816415">xname</span><span class="op" id="6816420">,</span>&nbsp;<span class="ident" id="6816422">err</span>&nbsp;<span class="op" id="6816426">:=</span>&nbsp;<span class="ident" id="6816429"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6816433">.</span><span class="ident" id="6816434">LookPath</span><span class="op" id="6816442">(</span><span class="string" id="6816443">&#34;ip&#34;</span><span class="op" id="6816447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6816450">if</span>&nbsp;<span class="ident" id="6816453"><a href="/net/interface_linux_test.go.html#6816422">err</a></span>&nbsp;<span class="op" id="6816457">!=</span>&nbsp;<span class="ident" id="6816460">nil</span>&nbsp;<span class="op" id="6816464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6816468">return</span>&nbsp;<span class="ident" id="6816475"><a href="/net/interface_linux_test.go.html#6816422">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6816480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816483"><a href="/net/interface_linux_test.go.html#6816319">ti</a></span><span class="op" id="6816485">.</span><span class="ident" id="6816486">setupCmds</span>&nbsp;<span class="op" id="6816496">=</span>&nbsp;<span class="builtinfunc" id="6816498">append</span><span class="op" id="6816504">(</span><span class="ident" id="6816505"><a href="/net/interface_linux_test.go.html#6816319">ti</a></span><span class="op" id="6816507">.</span><span class="ident" id="6816508">setupCmds</span><span class="op" id="6816517">,</span>&nbsp;<span class="op" id="6816519">&amp;</span><span class="ident" id="6816520"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6816524">.</span><span class="ident" id="6816525">Cmd</span><span class="op" id="6816528">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816532">Path</span><span class="op" id="6816536">:</span>&nbsp;<span class="ident" id="6816538"><a href="/net/interface_linux_test.go.html#6816415">xname</a></span><span class="op" id="6816543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816547">Args</span><span class="op" id="6816551">:</span>&nbsp;<span class="op" id="6816553">[</span><span class="op" id="6816554">]</span><span class="builtintype" id="6816555">string</span><span class="op" id="6816561">{</span><span class="string" id="6816562">&#34;ip&#34;</span><span class="op" id="6816566">,</span>&nbsp;<span class="string" id="6816568">&#34;link&#34;</span><span class="op" id="6816574">,</span>&nbsp;<span class="string" id="6816576">&#34;add&#34;</span><span class="op" id="6816581">,</span>&nbsp;<span class="ident" id="6816583"><a href="/net/interface_linux_test.go.html#6816319">ti</a></span><span class="op" id="6816585">.</span><span class="ident" id="6816586">name</span><span class="op" id="6816590">,</span>&nbsp;<span class="string" id="6816592">&#34;type&#34;</span><span class="op" id="6816598">,</span>&nbsp;<span class="string" id="6816600">&#34;dummy&#34;</span><span class="op" id="6816607">}</span><span class="op" id="6816608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6816611">}</span><span class="op" id="6816612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816615"><a href="/net/interface_linux_test.go.html#6816319">ti</a></span><span class="op" id="6816617">.</span><span class="ident" id="6816618">teardownCmds</span>&nbsp;<span class="op" id="6816631">=</span>&nbsp;<span class="builtinfunc" id="6816633">append</span><span class="op" id="6816639">(</span><span class="ident" id="6816640"><a href="/net/interface_linux_test.go.html#6816319">ti</a></span><span class="op" id="6816642">.</span><span class="ident" id="6816643">teardownCmds</span><span class="op" id="6816655">,</span>&nbsp;<span class="op" id="6816657">&amp;</span><span class="ident" id="6816658"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6816662">.</span><span class="ident" id="6816663">Cmd</span><span class="op" id="6816666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816670">Path</span><span class="op" id="6816674">:</span>&nbsp;<span class="ident" id="6816676"><a href="/net/interface_linux_test.go.html#6816415">xname</a></span><span class="op" id="6816681">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816685">Args</span><span class="op" id="6816689">:</span>&nbsp;<span class="op" id="6816691">[</span><span class="op" id="6816692">]</span><span class="builtintype" id="6816693">string</span><span class="op" id="6816699">{</span><span class="string" id="6816700">&#34;ip&#34;</span><span class="op" id="6816704">,</span>&nbsp;<span class="string" id="6816706">&#34;link&#34;</span><span class="op" id="6816712">,</span>&nbsp;<span class="string" id="6816714">&#34;delete&#34;</span><span class="op" id="6816722">,</span>&nbsp;<span class="ident" id="6816724"><a href="/net/interface_linux_test.go.html#6816319">ti</a></span><span class="op" id="6816726">.</span><span class="ident" id="6816727">name</span><span class="op" id="6816731">,</span>&nbsp;<span class="string" id="6816733">&#34;type&#34;</span><span class="op" id="6816739">,</span>&nbsp;<span class="string" id="6816741">&#34;dummy&#34;</span><span class="op" id="6816748">}</span><span class="op" id="6816749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6816752">}</span><span class="op" id="6816753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6816756">return</span>&nbsp;<span class="ident" id="6816763">nil</span><br>
<span class="lineno"></span><span class="op" id="6816767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6816770">func</span>&nbsp;<span class="op" id="6816775">(</span><span class="ident" id="6816776">ti</span>&nbsp;<span class="op" id="6816779">*</span><span class="ident" id="6816780"><a href="/net/interface_unix_test.go.html#6824425">testInterface</a></span><span class="op" id="6816793">)</span>&nbsp;<span class="ident" id="6816795">setPointToPoint</span><span class="op" id="6816810">(</span><span class="ident" id="6816811">suffix</span>&nbsp;<span class="builtintype" id="6816818">int</span><span class="op" id="6816821">,</span>&nbsp;<span class="ident" id="6816823">local</span><span class="op" id="6816828">,</span>&nbsp;<span class="ident" id="6816830">remote</span>&nbsp;<span class="builtintype" id="6816837">string</span><span class="op" id="6816843">)</span>&nbsp;<span class="builtintype" id="6816845">error</span>&nbsp;<span class="op" id="6816851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816854"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6816856">.</span><span class="ident" id="6816857">name</span>&nbsp;<span class="op" id="6816862">=</span>&nbsp;<span class="ident" id="6816864"><a href="/net/interface_linux_test.go.html#6816282">fmt</a></span><span class="op" id="6816867">.</span><span class="ident" id="6816868">Sprintf</span><span class="op" id="6816875">(</span><span class="string" id="6816876">&#34;gotest%d&#34;</span><span class="op" id="6816886">,</span>&nbsp;<span class="ident" id="6816888"><a href="/net/interface_linux_test.go.html#6816811">suffix</a></span><span class="op" id="6816894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816897"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6816899">.</span><span class="ident" id="6816900">local</span>&nbsp;<span class="op" id="6816906">=</span>&nbsp;<span class="ident" id="6816908"><a href="/net/interface_linux_test.go.html#6816823">local</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816915"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6816917">.</span><span class="ident" id="6816918">remote</span>&nbsp;<span class="op" id="6816925">=</span>&nbsp;<span class="ident" id="6816927"><a href="/net/interface_linux_test.go.html#6816830">remote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6816935">xname</span><span class="op" id="6816940">,</span>&nbsp;<span class="ident" id="6816942">err</span>&nbsp;<span class="op" id="6816946">:=</span>&nbsp;<span class="ident" id="6816949"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6816953">.</span><span class="ident" id="6816954">LookPath</span><span class="op" id="6816962">(</span><span class="string" id="6816963">&#34;ip&#34;</span><span class="op" id="6816967">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6816970">if</span>&nbsp;<span class="ident" id="6816973"><a href="/net/interface_linux_test.go.html#6816942">err</a></span>&nbsp;<span class="op" id="6816977">!=</span>&nbsp;<span class="ident" id="6816980">nil</span>&nbsp;<span class="op" id="6816984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6816988">return</span>&nbsp;<span class="ident" id="6816995"><a href="/net/interface_linux_test.go.html#6816942">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817003"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817005">.</span><span class="ident" id="6817006">setupCmds</span>&nbsp;<span class="op" id="6817016">=</span>&nbsp;<span class="builtinfunc" id="6817018">append</span><span class="op" id="6817024">(</span><span class="ident" id="6817025"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817027">.</span><span class="ident" id="6817028">setupCmds</span><span class="op" id="6817037">,</span>&nbsp;<span class="op" id="6817039">&amp;</span><span class="ident" id="6817040"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6817044">.</span><span class="ident" id="6817045">Cmd</span><span class="op" id="6817048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817052">Path</span><span class="op" id="6817056">:</span>&nbsp;<span class="ident" id="6817058"><a href="/net/interface_linux_test.go.html#6816935">xname</a></span><span class="op" id="6817063">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817067">Args</span><span class="op" id="6817071">:</span>&nbsp;<span class="op" id="6817073">[</span><span class="op" id="6817074">]</span><span class="builtintype" id="6817075">string</span><span class="op" id="6817081">{</span><span class="string" id="6817082">&#34;ip&#34;</span><span class="op" id="6817086">,</span>&nbsp;<span class="string" id="6817088">&#34;tunnel&#34;</span><span class="op" id="6817096">,</span>&nbsp;<span class="string" id="6817098">&#34;add&#34;</span><span class="op" id="6817103">,</span>&nbsp;<span class="ident" id="6817105"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817107">.</span><span class="ident" id="6817108">name</span><span class="op" id="6817112">,</span>&nbsp;<span class="string" id="6817114">&#34;mode&#34;</span><span class="op" id="6817120">,</span>&nbsp;<span class="string" id="6817122">&#34;gre&#34;</span><span class="op" id="6817127">,</span>&nbsp;<span class="string" id="6817129">&#34;local&#34;</span><span class="op" id="6817136">,</span>&nbsp;<span class="ident" id="6817138"><a href="/net/interface_linux_test.go.html#6816823">local</a></span><span class="op" id="6817143">,</span>&nbsp;<span class="string" id="6817145">&#34;remote&#34;</span><span class="op" id="6817153">,</span>&nbsp;<span class="ident" id="6817155"><a href="/net/interface_linux_test.go.html#6816830">remote</a></span><span class="op" id="6817161">}</span><span class="op" id="6817162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817165">}</span><span class="op" id="6817166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817169"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817171">.</span><span class="ident" id="6817172">teardownCmds</span>&nbsp;<span class="op" id="6817185">=</span>&nbsp;<span class="builtinfunc" id="6817187">append</span><span class="op" id="6817193">(</span><span class="ident" id="6817194"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817196">.</span><span class="ident" id="6817197">teardownCmds</span><span class="op" id="6817209">,</span>&nbsp;<span class="op" id="6817211">&amp;</span><span class="ident" id="6817212"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6817216">.</span><span class="ident" id="6817217">Cmd</span><span class="op" id="6817220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817224">Path</span><span class="op" id="6817228">:</span>&nbsp;<span class="ident" id="6817230"><a href="/net/interface_linux_test.go.html#6816935">xname</a></span><span class="op" id="6817235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817239">Args</span><span class="op" id="6817243">:</span>&nbsp;<span class="op" id="6817245">[</span><span class="op" id="6817246">]</span><span class="builtintype" id="6817247">string</span><span class="op" id="6817253">{</span><span class="string" id="6817254">&#34;ip&#34;</span><span class="op" id="6817258">,</span>&nbsp;<span class="string" id="6817260">&#34;tunnel&#34;</span><span class="op" id="6817268">,</span>&nbsp;<span class="string" id="6817270">&#34;del&#34;</span><span class="op" id="6817275">,</span>&nbsp;<span class="ident" id="6817277"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817279">.</span><span class="ident" id="6817280">name</span><span class="op" id="6817284">,</span>&nbsp;<span class="string" id="6817286">&#34;mode&#34;</span><span class="op" id="6817292">,</span>&nbsp;<span class="string" id="6817294">&#34;gre&#34;</span><span class="op" id="6817299">,</span>&nbsp;<span class="string" id="6817301">&#34;local&#34;</span><span class="op" id="6817308">,</span>&nbsp;<span class="ident" id="6817310"><a href="/net/interface_linux_test.go.html#6816823">local</a></span><span class="op" id="6817315">,</span>&nbsp;<span class="string" id="6817317">&#34;remote&#34;</span><span class="op" id="6817325">,</span>&nbsp;<span class="ident" id="6817327"><a href="/net/interface_linux_test.go.html#6816830">remote</a></span><span class="op" id="6817333">}</span><span class="op" id="6817334">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817337">}</span><span class="op" id="6817338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817341"><a href="/net/interface_linux_test.go.html#6816935">xname</a></span><span class="op" id="6817346">,</span>&nbsp;<span class="ident" id="6817348"><a href="/net/interface_linux_test.go.html#6816942">err</a></span>&nbsp;<span class="op" id="6817352">=</span>&nbsp;<span class="ident" id="6817354"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6817358">.</span><span class="ident" id="6817359">LookPath</span><span class="op" id="6817367">(</span><span class="string" id="6817368">&#34;ifconfig&#34;</span><span class="op" id="6817378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6817381">if</span>&nbsp;<span class="ident" id="6817384"><a href="/net/interface_linux_test.go.html#6816942">err</a></span>&nbsp;<span class="op" id="6817388">!=</span>&nbsp;<span class="ident" id="6817391">nil</span>&nbsp;<span class="op" id="6817395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6817399">return</span>&nbsp;<span class="ident" id="6817406"><a href="/net/interface_linux_test.go.html#6816942">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817411">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817414"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817416">.</span><span class="ident" id="6817417">setupCmds</span>&nbsp;<span class="op" id="6817427">=</span>&nbsp;<span class="builtinfunc" id="6817429">append</span><span class="op" id="6817435">(</span><span class="ident" id="6817436"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817438">.</span><span class="ident" id="6817439">setupCmds</span><span class="op" id="6817448">,</span>&nbsp;<span class="op" id="6817450">&amp;</span><span class="ident" id="6817451"><a href="/net/interface_linux_test.go.html#6816289">exec</a></span><span class="op" id="6817455">.</span><span class="ident" id="6817456">Cmd</span><span class="op" id="6817459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817463">Path</span><span class="op" id="6817467">:</span>&nbsp;<span class="ident" id="6817469"><a href="/net/interface_linux_test.go.html#6816935">xname</a></span><span class="op" id="6817474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817478">Args</span><span class="op" id="6817482">:</span>&nbsp;<span class="op" id="6817484">[</span><span class="op" id="6817485">]</span><span class="builtintype" id="6817486">string</span><span class="op" id="6817492">{</span><span class="string" id="6817493">&#34;ifconfig&#34;</span><span class="op" id="6817503">,</span>&nbsp;<span class="ident" id="6817505"><a href="/net/interface_linux_test.go.html#6816776">ti</a></span><span class="op" id="6817507">.</span><span class="ident" id="6817508">name</span><span class="op" id="6817512">,</span>&nbsp;<span class="string" id="6817514">&#34;inet&#34;</span><span class="op" id="6817520">,</span>&nbsp;<span class="ident" id="6817522"><a href="/net/interface_linux_test.go.html#6816823">local</a></span><span class="op" id="6817527">,</span>&nbsp;<span class="string" id="6817529">&#34;dstaddr&#34;</span><span class="op" id="6817538">,</span>&nbsp;<span class="ident" id="6817540"><a href="/net/interface_linux_test.go.html#6816830">remote</a></span><span class="op" id="6817546">}</span><span class="op" id="6817547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817550">}</span><span class="op" id="6817551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6817554">return</span>&nbsp;<span class="ident" id="6817561">nil</span><br>
<span class="lineno">55</span><span class="op" id="6817565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6817568">const</span>&nbsp;<span class="op" id="6817574">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817577">numOfTestIPv4MCAddrs</span>&nbsp;<span class="op" id="6817598">=</span>&nbsp;<span class="num" id="6817600">14</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817604">numOfTestIPv6MCAddrs</span>&nbsp;<span class="op" id="6817625">=</span>&nbsp;<span class="num" id="6817627">18</span><br>
<span class="lineno">60</span><span class="op" id="6817630">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6817633">var</span>&nbsp;<span class="op" id="6817637">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817640">igmpInterfaceTable</span>&nbsp;<span class="op" id="6817659">=</span>&nbsp;<span class="op" id="6817661">[</span><span class="op" id="6817662">]</span><span class="ident" id="6817663"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="6817672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817676">{</span><span class="ident" id="6817677">Name</span><span class="op" id="6817681">:</span>&nbsp;<span class="string" id="6817683">&#34;lo&#34;</span><span class="op" id="6817687">}</span><span class="op" id="6817688">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817692">{</span><span class="ident" id="6817693">Name</span><span class="op" id="6817697">:</span>&nbsp;<span class="string" id="6817699">&#34;eth0&#34;</span><span class="op" id="6817705">}</span><span class="op" id="6817706">,</span>&nbsp;<span class="op" id="6817708">{</span><span class="ident" id="6817709">Name</span><span class="op" id="6817713">:</span>&nbsp;<span class="string" id="6817715">&#34;eth1&#34;</span><span class="op" id="6817721">}</span><span class="op" id="6817722">,</span>&nbsp;<span class="op" id="6817724">{</span><span class="ident" id="6817725">Name</span><span class="op" id="6817729">:</span>&nbsp;<span class="string" id="6817731">&#34;eth2&#34;</span><span class="op" id="6817737">}</span><span class="op" id="6817738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817742">{</span><span class="ident" id="6817743">Name</span><span class="op" id="6817747">:</span>&nbsp;<span class="string" id="6817749">&#34;eth0.100&#34;</span><span class="op" id="6817759">}</span><span class="op" id="6817760">,</span>&nbsp;<span class="op" id="6817762">{</span><span class="ident" id="6817763">Name</span><span class="op" id="6817767">:</span>&nbsp;<span class="string" id="6817769">&#34;eth0.101&#34;</span><span class="op" id="6817779">}</span><span class="op" id="6817780">,</span>&nbsp;<span class="op" id="6817782">{</span><span class="ident" id="6817783">Name</span><span class="op" id="6817787">:</span>&nbsp;<span class="string" id="6817789">&#34;eth0.102&#34;</span><span class="op" id="6817799">}</span><span class="op" id="6817800">,</span>&nbsp;<span class="op" id="6817802">{</span><span class="ident" id="6817803">Name</span><span class="op" id="6817807">:</span>&nbsp;<span class="string" id="6817809">&#34;eth0.103&#34;</span><span class="op" id="6817819">}</span><span class="op" id="6817820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817824">{</span><span class="ident" id="6817825">Name</span><span class="op" id="6817829">:</span>&nbsp;<span class="string" id="6817831">&#34;device1tap2&#34;</span><span class="op" id="6817844">}</span><span class="op" id="6817845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817851">igmp6InterfaceTable</span>&nbsp;<span class="op" id="6817871">=</span>&nbsp;<span class="op" id="6817873">[</span><span class="op" id="6817874">]</span><span class="ident" id="6817875"><a href="/net/interface.go.html#2593524">Interface</a></span><span class="op" id="6817884">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817888">{</span><span class="ident" id="6817889">Name</span><span class="op" id="6817893">:</span>&nbsp;<span class="string" id="6817895">&#34;lo&#34;</span><span class="op" id="6817899">}</span><span class="op" id="6817900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817904">{</span><span class="ident" id="6817905">Name</span><span class="op" id="6817909">:</span>&nbsp;<span class="string" id="6817911">&#34;eth0&#34;</span><span class="op" id="6817917">}</span><span class="op" id="6817918">,</span>&nbsp;<span class="op" id="6817920">{</span><span class="ident" id="6817921">Name</span><span class="op" id="6817925">:</span>&nbsp;<span class="string" id="6817927">&#34;eth1&#34;</span><span class="op" id="6817933">}</span><span class="op" id="6817934">,</span>&nbsp;<span class="op" id="6817936">{</span><span class="ident" id="6817937">Name</span><span class="op" id="6817941">:</span>&nbsp;<span class="string" id="6817943">&#34;eth2&#34;</span><span class="op" id="6817949">}</span><span class="op" id="6817950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817954">{</span><span class="ident" id="6817955">Name</span><span class="op" id="6817959">:</span>&nbsp;<span class="string" id="6817961">&#34;eth0.100&#34;</span><span class="op" id="6817971">}</span><span class="op" id="6817972">,</span>&nbsp;<span class="op" id="6817974">{</span><span class="ident" id="6817975">Name</span><span class="op" id="6817979">:</span>&nbsp;<span class="string" id="6817981">&#34;eth0.101&#34;</span><span class="op" id="6817991">}</span><span class="op" id="6817992">,</span>&nbsp;<span class="op" id="6817994">{</span><span class="ident" id="6817995">Name</span><span class="op" id="6817999">:</span>&nbsp;<span class="string" id="6818001">&#34;eth0.102&#34;</span><span class="op" id="6818011">}</span><span class="op" id="6818012">,</span>&nbsp;<span class="op" id="6818014">{</span><span class="ident" id="6818015">Name</span><span class="op" id="6818019">:</span>&nbsp;<span class="string" id="6818021">&#34;eth0.103&#34;</span><span class="op" id="6818031">}</span><span class="op" id="6818032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818036">{</span><span class="ident" id="6818037">Name</span><span class="op" id="6818041">:</span>&nbsp;<span class="string" id="6818043">&#34;device1tap2&#34;</span><span class="op" id="6818056">}</span><span class="op" id="6818057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818061">{</span><span class="ident" id="6818062">Name</span><span class="op" id="6818066">:</span>&nbsp;<span class="string" id="6818068">&#34;pan0&#34;</span><span class="op" id="6818074">}</span><span class="op" id="6818075">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818078">}</span><br>
<span class="lineno"></span><span class="op" id="6818080">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6818083">func</span>&nbsp;<span class="ident" id="6818088">TestParseProcNet</span><span class="op" id="6818104">(</span><span class="ident" id="6818105">t</span>&nbsp;<span class="op" id="6818107">*</span><span class="ident" id="6818108"><a href="/net/interface_linux_test.go.html#6816300">testing</a></span><span class="op" id="6818115">.</span><span class="ident" id="6818116">T</span><span class="op" id="6818117">)</span>&nbsp;<span class="op" id="6818119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818122">defer</span>&nbsp;<span class="keyword" id="6818128">func</span><span class="op" id="6818132">(</span><span class="op" id="6818133">)</span>&nbsp;<span class="op" id="6818135">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818139">if</span>&nbsp;<span class="ident" id="6818142">p</span>&nbsp;<span class="op" id="6818144">:=</span>&nbsp;<span class="builtinfunc" id="6818147">recover</span><span class="op" id="6818154">(</span><span class="op" id="6818155">)</span><span class="op" id="6818156">;</span>&nbsp;<span class="ident" id="6818158"><a href="/net/interface_linux_test.go.html#6818142">p</a></span>&nbsp;<span class="op" id="6818160">!=</span>&nbsp;<span class="ident" id="6818163">nil</span>&nbsp;<span class="op" id="6818167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818172"><a href="/net/interface_linux_test.go.html#6818105">t</a></span><span class="op" id="6818173">.</span><span class="ident" id="6818174">Fatalf</span><span class="op" id="6818180">(</span><span class="string" id="6818181">&#34;parseProcNetIGMP&nbsp;or&nbsp;parseProtNetIGMP6&nbsp;panicked:&nbsp;%v&#34;</span><span class="op" id="6818233">,</span>&nbsp;<span class="ident" id="6818235"><a href="/net/interface_linux_test.go.html#6818142">p</a></span><span class="op" id="6818236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818243">}</span><span class="op" id="6818244">(</span><span class="op" id="6818245">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818249">var</span>&nbsp;<span class="ident" id="6818253">ifmat4</span>&nbsp;<span class="op" id="6818260">[</span><span class="op" id="6818261">]</span><span class="ident" id="6818262"><a href="/net/net.go.html#2652238">Addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818268">for</span>&nbsp;<span class="ident" id="6818272">_</span><span class="op" id="6818273">,</span>&nbsp;<span class="ident" id="6818275">ifi</span>&nbsp;<span class="op" id="6818279">:=</span>&nbsp;<span class="keyword" id="6818282">range</span>&nbsp;<span class="ident" id="6818288"><a href="/net/interface_linux_test.go.html#6817640">igmpInterfaceTable</a></span>&nbsp;<span class="op" id="6818307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818311">ifmat</span>&nbsp;<span class="op" id="6818317">:=</span>&nbsp;<span class="ident" id="6818320"><a href="/net/interface_linux.go.html#2601888">parseProcNetIGMP</a></span><span class="op" id="6818336">(</span><span class="string" id="6818337">&#34;testdata/igmp&#34;</span><span class="op" id="6818352">,</span>&nbsp;<span class="op" id="6818354">&amp;</span><span class="ident" id="6818355"><a href="/net/interface_linux_test.go.html#6818275">ifi</a></span><span class="op" id="6818358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818362"><a href="/net/interface_linux_test.go.html#6818253">ifmat4</a></span>&nbsp;<span class="op" id="6818369">=</span>&nbsp;<span class="builtinfunc" id="6818371">append</span><span class="op" id="6818377">(</span><span class="ident" id="6818378"><a href="/net/interface_linux_test.go.html#6818253">ifmat4</a></span><span class="op" id="6818384">,</span>&nbsp;<span class="ident" id="6818386"><a href="/net/interface_linux_test.go.html#6818311">ifmat</a></span><span class="op" id="6818391">...</span><span class="op" id="6818394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818397">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818400">if</span>&nbsp;<span class="builtinfunc" id="6818403">len</span><span class="op" id="6818406">(</span><span class="ident" id="6818407"><a href="/net/interface_linux_test.go.html#6818253">ifmat4</a></span><span class="op" id="6818413">)</span>&nbsp;<span class="op" id="6818415">!=</span>&nbsp;<span class="ident" id="6818418"><a href="/net/interface_linux_test.go.html#6817577">numOfTestIPv4MCAddrs</a></span>&nbsp;<span class="op" id="6818439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818443"><a href="/net/interface_linux_test.go.html#6818105">t</a></span><span class="op" id="6818444">.</span><span class="ident" id="6818445">Fatalf</span><span class="op" id="6818451">(</span><span class="string" id="6818452">&#34;parseProcNetIGMP&nbsp;returns&nbsp;%v&nbsp;addresses,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="6818504">,</span>&nbsp;<span class="builtinfunc" id="6818506">len</span><span class="op" id="6818509">(</span><span class="ident" id="6818510"><a href="/net/interface_linux_test.go.html#6818253">ifmat4</a></span><span class="op" id="6818516">)</span><span class="op" id="6818517">,</span>&nbsp;<span class="ident" id="6818519"><a href="/net/interface_linux_test.go.html#6817577">numOfTestIPv4MCAddrs</a></span><span class="op" id="6818539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818546">var</span>&nbsp;<span class="ident" id="6818550">ifmat6</span>&nbsp;<span class="op" id="6818557">[</span><span class="op" id="6818558">]</span><span class="ident" id="6818559"><a href="/net/net.go.html#2652238">Addr</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818565">for</span>&nbsp;<span class="ident" id="6818569">_</span><span class="op" id="6818570">,</span>&nbsp;<span class="ident" id="6818572">ifi</span>&nbsp;<span class="op" id="6818576">:=</span>&nbsp;<span class="keyword" id="6818579">range</span>&nbsp;<span class="ident" id="6818585"><a href="/net/interface_linux_test.go.html#6817851">igmp6InterfaceTable</a></span>&nbsp;<span class="op" id="6818605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818609">ifmat</span>&nbsp;<span class="op" id="6818615">:=</span>&nbsp;<span class="ident" id="6818618"><a href="/net/interface_linux.go.html#2602774">parseProcNetIGMP6</a></span><span class="op" id="6818635">(</span><span class="string" id="6818636">&#34;testdata/igmp6&#34;</span><span class="op" id="6818652">,</span>&nbsp;<span class="op" id="6818654">&amp;</span><span class="ident" id="6818655"><a href="/net/interface_linux_test.go.html#6818572">ifi</a></span><span class="op" id="6818658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818662"><a href="/net/interface_linux_test.go.html#6818550">ifmat6</a></span>&nbsp;<span class="op" id="6818669">=</span>&nbsp;<span class="builtinfunc" id="6818671">append</span><span class="op" id="6818677">(</span><span class="ident" id="6818678"><a href="/net/interface_linux_test.go.html#6818550">ifmat6</a></span><span class="op" id="6818684">,</span>&nbsp;<span class="ident" id="6818686"><a href="/net/interface_linux_test.go.html#6818609">ifmat</a></span><span class="op" id="6818691">...</span><span class="op" id="6818694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818700">if</span>&nbsp;<span class="builtinfunc" id="6818703">len</span><span class="op" id="6818706">(</span><span class="ident" id="6818707"><a href="/net/interface_linux_test.go.html#6818550">ifmat6</a></span><span class="op" id="6818713">)</span>&nbsp;<span class="op" id="6818715">!=</span>&nbsp;<span class="ident" id="6818718"><a href="/net/interface_linux_test.go.html#6817604">numOfTestIPv6MCAddrs</a></span>&nbsp;<span class="op" id="6818739">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818743"><a href="/net/interface_linux_test.go.html#6818105">t</a></span><span class="op" id="6818744">.</span><span class="ident" id="6818745">Fatalf</span><span class="op" id="6818751">(</span><span class="string" id="6818752">&#34;parseProcNetIGMP6&nbsp;returns&nbsp;%v&nbsp;addresses,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="6818805">,</span>&nbsp;<span class="builtinfunc" id="6818807">len</span><span class="op" id="6818810">(</span><span class="ident" id="6818811"><a href="/net/interface_linux_test.go.html#6818550">ifmat6</a></span><span class="op" id="6818817">)</span><span class="op" id="6818818">,</span>&nbsp;<span class="ident" id="6818820"><a href="/net/interface_linux_test.go.html#6817604">numOfTestIPv6MCAddrs</a></span><span class="op" id="6818840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818843">}</span><br>
<span class="lineno"></span><span class="op" id="6818845">}</span>
</div>
</body>
</html>
