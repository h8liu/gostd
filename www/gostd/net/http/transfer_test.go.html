<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6880592">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6880647">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6880701">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6880752">package</span>&nbsp;<span class="ident" id="6880760">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880766">import</span>&nbsp;<span class="op" id="6880773">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6880776">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6880785">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6880791">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6880802">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6880812">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880815">func</span>&nbsp;<span class="ident" id="6880820">TestBodyReadBadTrailer</span><span class="op" id="6880842">(</span><span class="ident" id="6880843">t</span>&nbsp;<span class="op" id="6880845">*</span><span class="ident" id="6880846">testing</span><span class="op" id="6880853">.</span><span class="ident" id="6880854">T</span><span class="op" id="6880855">)</span>&nbsp;<span class="op" id="6880857">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880860">b</span>&nbsp;<span class="op" id="6880862">:=</span>&nbsp;<span class="op" id="6880865">&amp;</span><span class="ident" id="6880866">body</span><span class="op" id="6880870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880874">src</span><span class="op" id="6880877">:</span>&nbsp;<span class="ident" id="6880879">strings</span><span class="op" id="6880886">.</span><span class="ident" id="6880887">NewReader</span><span class="op" id="6880896">(</span><span class="string" id="6880897">&#34;foobar&#34;</span><span class="op" id="6880905">)</span><span class="op" id="6880906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880910">hdr</span><span class="op" id="6880913">:</span>&nbsp;<span class="builtintype" id="6880915">true</span><span class="op" id="6880919">,</span>&nbsp;<span class="comment" id="6880921">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880952">r</span><span class="op" id="6880953">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6880957">bufio</span><span class="op" id="6880962">.</span><span class="ident" id="6880963">NewReader</span><span class="op" id="6880972">(</span><span class="ident" id="6880973">strings</span><span class="op" id="6880980">.</span><span class="ident" id="6880981">NewReader</span><span class="op" id="6880990">(</span><span class="string" id="6880991">&#34;&#34;</span><span class="op" id="6880993">)</span><span class="op" id="6880994">)</span><span class="op" id="6880995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6880998">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881001">buf</span>&nbsp;<span class="op" id="6881005">:=</span>&nbsp;<span class="builtinfunc" id="6881008">make</span><span class="op" id="6881012">(</span><span class="op" id="6881013">[</span><span class="op" id="6881014">]</span><span class="builtintype" id="6881015">byte</span><span class="op" id="6881019">,</span>&nbsp;<span class="num" id="6881021">7</span><span class="op" id="6881022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881025">n</span><span class="op" id="6881026">,</span>&nbsp;<span class="ident" id="6881028">err</span>&nbsp;<span class="op" id="6881032">:=</span>&nbsp;<span class="ident" id="6881035">b</span><span class="op" id="6881036">.</span><span class="ident" id="6881037">Read</span><span class="op" id="6881041">(</span><span class="ident" id="6881042">buf</span><span class="op" id="6881045">[</span><span class="op" id="6881046">:</span><span class="num" id="6881047">3</span><span class="op" id="6881048">]</span><span class="op" id="6881049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881052">got</span>&nbsp;<span class="op" id="6881056">:=</span>&nbsp;<span class="builtintype" id="6881059">string</span><span class="op" id="6881065">(</span><span class="ident" id="6881066">buf</span><span class="op" id="6881069">[</span><span class="op" id="6881070">:</span><span class="ident" id="6881071">n</span><span class="op" id="6881072">]</span><span class="op" id="6881073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881076">if</span>&nbsp;<span class="ident" id="6881079">got</span>&nbsp;<span class="op" id="6881083">!=</span>&nbsp;<span class="string" id="6881086">&#34;foo&#34;</span>&nbsp;<span class="op" id="6881092">||</span>&nbsp;<span class="ident" id="6881095">err</span>&nbsp;<span class="op" id="6881099">!=</span>&nbsp;<span class="ident" id="6881102">nil</span>&nbsp;<span class="op" id="6881106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881110">t</span><span class="op" id="6881111">.</span><span class="ident" id="6881112">Fatalf</span><span class="op" id="6881118">(</span><span class="string" id="6881119">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="6881161">,</span>&nbsp;<span class="ident" id="6881163">n</span><span class="op" id="6881164">,</span>&nbsp;<span class="ident" id="6881166">got</span><span class="op" id="6881169">,</span>&nbsp;<span class="ident" id="6881171">err</span><span class="op" id="6881174">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881181">n</span><span class="op" id="6881182">,</span>&nbsp;<span class="ident" id="6881184">err</span>&nbsp;<span class="op" id="6881188">=</span>&nbsp;<span class="ident" id="6881190">b</span><span class="op" id="6881191">.</span><span class="ident" id="6881192">Read</span><span class="op" id="6881196">(</span><span class="ident" id="6881197">buf</span><span class="op" id="6881200">[</span><span class="op" id="6881201">:</span><span class="op" id="6881202">]</span><span class="op" id="6881203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881206">got</span>&nbsp;<span class="op" id="6881210">=</span>&nbsp;<span class="builtintype" id="6881212">string</span><span class="op" id="6881218">(</span><span class="ident" id="6881219">buf</span><span class="op" id="6881222">[</span><span class="op" id="6881223">:</span><span class="ident" id="6881224">n</span><span class="op" id="6881225">]</span><span class="op" id="6881226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881229">if</span>&nbsp;<span class="ident" id="6881232">got</span>&nbsp;<span class="op" id="6881236">!=</span>&nbsp;<span class="string" id="6881239">&#34;bar&#34;</span>&nbsp;<span class="op" id="6881245">||</span>&nbsp;<span class="ident" id="6881248">err</span>&nbsp;<span class="op" id="6881252">!=</span>&nbsp;<span class="ident" id="6881255">nil</span>&nbsp;<span class="op" id="6881259">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881263">t</span><span class="op" id="6881264">.</span><span class="ident" id="6881265">Fatalf</span><span class="op" id="6881271">(</span><span class="string" id="6881272">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="6881315">,</span>&nbsp;<span class="ident" id="6881317">n</span><span class="op" id="6881318">,</span>&nbsp;<span class="ident" id="6881320">got</span><span class="op" id="6881323">,</span>&nbsp;<span class="ident" id="6881325">err</span><span class="op" id="6881328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881335">n</span><span class="op" id="6881336">,</span>&nbsp;<span class="ident" id="6881338">err</span>&nbsp;<span class="op" id="6881342">=</span>&nbsp;<span class="ident" id="6881344">b</span><span class="op" id="6881345">.</span><span class="ident" id="6881346">Read</span><span class="op" id="6881350">(</span><span class="ident" id="6881351">buf</span><span class="op" id="6881354">[</span><span class="op" id="6881355">:</span><span class="op" id="6881356">]</span><span class="op" id="6881357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881360">got</span>&nbsp;<span class="op" id="6881364">=</span>&nbsp;<span class="builtintype" id="6881366">string</span><span class="op" id="6881372">(</span><span class="ident" id="6881373">buf</span><span class="op" id="6881376">[</span><span class="op" id="6881377">:</span><span class="ident" id="6881378">n</span><span class="op" id="6881379">]</span><span class="op" id="6881380">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881383">if</span>&nbsp;<span class="ident" id="6881386">err</span>&nbsp;<span class="op" id="6881390">==</span>&nbsp;<span class="ident" id="6881393">nil</span>&nbsp;<span class="op" id="6881397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881401">t</span><span class="op" id="6881402">.</span><span class="ident" id="6881403">Errorf</span><span class="op" id="6881409">(</span><span class="string" id="6881410">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="6881476">,</span>&nbsp;<span class="ident" id="6881478">got</span><span class="op" id="6881481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881484">}</span><br>
<span class="lineno"></span><span class="op" id="6881486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6881489">func</span>&nbsp;<span class="ident" id="6881494">TestFinalChunkedBodyReadEOF</span><span class="op" id="6881521">(</span><span class="ident" id="6881522">t</span>&nbsp;<span class="op" id="6881524">*</span><span class="ident" id="6881525">testing</span><span class="op" id="6881532">.</span><span class="ident" id="6881533">T</span><span class="op" id="6881534">)</span>&nbsp;<span class="op" id="6881536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881539">res</span><span class="op" id="6881542">,</span>&nbsp;<span class="ident" id="6881544">err</span>&nbsp;<span class="op" id="6881548">:=</span>&nbsp;<span class="ident" id="6881551">ReadResponse</span><span class="op" id="6881563">(</span><span class="ident" id="6881564">bufio</span><span class="op" id="6881569">.</span><span class="ident" id="6881570">NewReader</span><span class="op" id="6881579">(</span><span class="ident" id="6881580">strings</span><span class="op" id="6881587">.</span><span class="ident" id="6881588">NewReader</span><span class="op" id="6881597">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881601">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="6881622">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881627">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="6881659">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881664">&#34;\r\n&#34;</span><span class="op" id="6881670">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881675">&#34;0a\r\n&#34;</span><span class="op" id="6881683">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881688">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="6881705">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881710">&#34;09\r\n&#34;</span><span class="op" id="6881718">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881723">&#34;continued\r\n&#34;</span><span class="op" id="6881738">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881743">&#34;0\r\n&#34;</span><span class="op" id="6881750">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6881755">&#34;\r\n&#34;</span><span class="op" id="6881761">)</span><span class="op" id="6881762">)</span><span class="op" id="6881763">,</span>&nbsp;<span class="ident" id="6881765">nil</span><span class="op" id="6881768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881771">if</span>&nbsp;<span class="ident" id="6881774">err</span>&nbsp;<span class="op" id="6881778">!=</span>&nbsp;<span class="ident" id="6881781">nil</span>&nbsp;<span class="op" id="6881785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881789">t</span><span class="op" id="6881790">.</span><span class="ident" id="6881791">Fatal</span><span class="op" id="6881796">(</span><span class="ident" id="6881797">err</span><span class="op" id="6881800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881806">want</span>&nbsp;<span class="op" id="6881811">:=</span>&nbsp;<span class="string" id="6881814">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881838">buf</span>&nbsp;<span class="op" id="6881842">:=</span>&nbsp;<span class="builtinfunc" id="6881845">make</span><span class="op" id="6881849">(</span><span class="op" id="6881850">[</span><span class="op" id="6881851">]</span><span class="builtintype" id="6881852">byte</span><span class="op" id="6881856">,</span>&nbsp;<span class="builtinfunc" id="6881858">len</span><span class="op" id="6881861">(</span><span class="ident" id="6881862">want</span><span class="op" id="6881866">)</span><span class="op" id="6881867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881870">n</span><span class="op" id="6881871">,</span>&nbsp;<span class="ident" id="6881873">err</span>&nbsp;<span class="op" id="6881877">:=</span>&nbsp;<span class="ident" id="6881880">res</span><span class="op" id="6881883">.</span><span class="ident" id="6881884">Body</span><span class="op" id="6881888">.</span><span class="ident" id="6881889">Read</span><span class="op" id="6881893">(</span><span class="ident" id="6881894">buf</span><span class="op" id="6881897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881900">if</span>&nbsp;<span class="ident" id="6881903">n</span>&nbsp;<span class="op" id="6881905">!=</span>&nbsp;<span class="builtinfunc" id="6881908">len</span><span class="op" id="6881911">(</span><span class="ident" id="6881912">want</span><span class="op" id="6881916">)</span>&nbsp;<span class="op" id="6881918">||</span>&nbsp;<span class="ident" id="6881921">err</span>&nbsp;<span class="op" id="6881925">!=</span>&nbsp;<span class="ident" id="6881928">io</span><span class="op" id="6881930">.</span><span class="ident" id="6881931">EOF</span>&nbsp;<span class="op" id="6881935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881939">t</span><span class="op" id="6881940">.</span><span class="ident" id="6881941">Logf</span><span class="op" id="6881945">(</span><span class="string" id="6881946">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="6881958">,</span>&nbsp;<span class="ident" id="6881960">res</span><span class="op" id="6881963">.</span><span class="ident" id="6881964">Body</span><span class="op" id="6881968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881972">t</span><span class="op" id="6881973">.</span><span class="ident" id="6881974">Errorf</span><span class="op" id="6881980">(</span><span class="string" id="6881981">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="6882010">,</span>&nbsp;<span class="ident" id="6882012">n</span><span class="op" id="6882013">,</span>&nbsp;<span class="ident" id="6882015">err</span><span class="op" id="6882018">,</span>&nbsp;<span class="builtinfunc" id="6882020">len</span><span class="op" id="6882023">(</span><span class="ident" id="6882024">want</span><span class="op" id="6882028">)</span><span class="op" id="6882029">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882035">if</span>&nbsp;<span class="builtintype" id="6882038">string</span><span class="op" id="6882044">(</span><span class="ident" id="6882045">buf</span><span class="op" id="6882048">)</span>&nbsp;<span class="op" id="6882050">!=</span>&nbsp;<span class="ident" id="6882053">want</span>&nbsp;<span class="op" id="6882058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882062">t</span><span class="op" id="6882063">.</span><span class="ident" id="6882064">Errorf</span><span class="op" id="6882070">(</span><span class="string" id="6882071">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6882090">,</span>&nbsp;<span class="ident" id="6882092">buf</span><span class="op" id="6882095">,</span>&nbsp;<span class="ident" id="6882097">want</span><span class="op" id="6882101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882104">}</span><br>
<span class="lineno"></span><span class="op" id="6882106">}</span>
</div>
</body>
</html>
