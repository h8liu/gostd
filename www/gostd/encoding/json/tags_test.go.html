<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6834402">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6834458">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6834512">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6834563">package</span>&nbsp;<span class="ident" id="6834571">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6834577">import</span>&nbsp;<span class="op" id="6834584">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6834587">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6834597">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6834600">func</span>&nbsp;<span class="ident" id="6834605">TestTagParsing</span><span class="op" id="6834619">(</span><span class="ident" id="6834620">t</span>&nbsp;<span class="op" id="6834622">*</span><span class="ident" id="6834623">testing</span><span class="op" id="6834630">.</span><span class="ident" id="6834631">T</span><span class="op" id="6834632">)</span>&nbsp;<span class="op" id="6834634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834637">name</span><span class="op" id="6834641">,</span>&nbsp;<span class="ident" id="6834643">opts</span>&nbsp;<span class="op" id="6834648">:=</span>&nbsp;<span class="ident" id="6834651">parseTag</span><span class="op" id="6834659">(</span><span class="string" id="6834660">&#34;field,foobar,foo&#34;</span><span class="op" id="6834678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834681">if</span>&nbsp;<span class="ident" id="6834684">name</span>&nbsp;<span class="op" id="6834689">!=</span>&nbsp;<span class="string" id="6834692">&#34;field&#34;</span>&nbsp;<span class="op" id="6834700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834704">t</span><span class="op" id="6834705">.</span><span class="ident" id="6834706">Fatalf</span><span class="op" id="6834712">(</span><span class="string" id="6834713">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="6834736">,</span>&nbsp;<span class="ident" id="6834738">name</span><span class="op" id="6834742">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834748">for</span>&nbsp;<span class="ident" id="6834752">_</span><span class="op" id="6834753">,</span>&nbsp;<span class="ident" id="6834755">tt</span>&nbsp;<span class="op" id="6834758">:=</span>&nbsp;<span class="keyword" id="6834761">range</span>&nbsp;<span class="op" id="6834767">[</span><span class="op" id="6834768">]</span><span class="keyword" id="6834769">struct</span>&nbsp;<span class="op" id="6834776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834780">opt</span>&nbsp;&nbsp;<span class="builtintype" id="6834785">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834794">want</span>&nbsp;<span class="builtintype" id="6834799">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834805">}</span><span class="op" id="6834806">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834810">{</span><span class="string" id="6834811">&#34;foobar&#34;</span><span class="op" id="6834819">,</span>&nbsp;<span class="builtintype" id="6834821">true</span><span class="op" id="6834825">}</span><span class="op" id="6834826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834830">{</span><span class="string" id="6834831">&#34;foo&#34;</span><span class="op" id="6834836">,</span>&nbsp;<span class="builtintype" id="6834838">true</span><span class="op" id="6834842">}</span><span class="op" id="6834843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834847">{</span><span class="string" id="6834848">&#34;bar&#34;</span><span class="op" id="6834853">,</span>&nbsp;<span class="builtintype" id="6834855">false</span><span class="op" id="6834860">}</span><span class="op" id="6834861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834864">}</span>&nbsp;<span class="op" id="6834866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6834870">if</span>&nbsp;<span class="ident" id="6834873">opts</span><span class="op" id="6834877">.</span><span class="ident" id="6834878">Contains</span><span class="op" id="6834886">(</span><span class="ident" id="6834887">tt</span><span class="op" id="6834889">.</span><span class="ident" id="6834890">opt</span><span class="op" id="6834893">)</span>&nbsp;<span class="op" id="6834895">!=</span>&nbsp;<span class="ident" id="6834898">tt</span><span class="op" id="6834900">.</span><span class="ident" id="6834901">want</span>&nbsp;<span class="op" id="6834906">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6834911">t</span><span class="op" id="6834912">.</span><span class="ident" id="6834913">Errorf</span><span class="op" id="6834919">(</span><span class="string" id="6834920">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6834939">,</span>&nbsp;<span class="ident" id="6834941">tt</span><span class="op" id="6834943">.</span><span class="ident" id="6834944">opt</span><span class="op" id="6834947">,</span>&nbsp;<span class="op" id="6834949">!</span><span class="ident" id="6834950">tt</span><span class="op" id="6834952">.</span><span class="ident" id="6834953">want</span><span class="op" id="6834957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6834964">}</span><br>
<span class="lineno"></span><span class="op" id="6834966">}</span>
</div>
</body>
</html>
