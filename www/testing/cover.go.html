<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5028644">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5028699">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5028753">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5028804">//&nbsp;Support&nbsp;for&nbsp;test&nbsp;coverage.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5028835">package</span>&nbsp;<span class="ident" id="5028843">testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5028852">import</span>&nbsp;<span class="op" id="5028859">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5028862">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5028869">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5028875">&#34;sync/atomic&#34;</span><br>
<span class="lineno"></span><span class="op" id="5028889">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5028892">//&nbsp;CoverBlock&nbsp;records&nbsp;the&nbsp;coverage&nbsp;data&nbsp;for&nbsp;a&nbsp;single&nbsp;basic&nbsp;block.</span><br>
<span class="lineno"></span><span class="comment" id="5028958">//&nbsp;NOTE:&nbsp;This&nbsp;struct&nbsp;is&nbsp;internal&nbsp;to&nbsp;the&nbsp;testing&nbsp;infrastructure&nbsp;and&nbsp;may&nbsp;change.</span><br>
<span class="lineno"></span><span class="comment" id="5029037">//&nbsp;It&nbsp;is&nbsp;not&nbsp;covered&nbsp;(yet)&nbsp;by&nbsp;the&nbsp;Go&nbsp;1&nbsp;compatibility&nbsp;guidelines.</span><br>
<span class="lineno"></span><span class="keyword" id="5029102">type</span>&nbsp;<span class="ident" id="5029107">CoverBlock</span>&nbsp;<span class="keyword" id="5029118">struct</span>&nbsp;<span class="op" id="5029125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029128">Line0</span>&nbsp;<span class="builtintype" id="5029134">uint32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029142">Col0</span>&nbsp;&nbsp;<span class="builtintype" id="5029148">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029156">Line1</span>&nbsp;<span class="builtintype" id="5029162">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029170">Col1</span>&nbsp;&nbsp;<span class="builtintype" id="5029176">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029184">Stmts</span>&nbsp;<span class="builtintype" id="5029190">uint16</span><br>
<span class="lineno"></span><span class="op" id="5029197">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="5029200">var</span>&nbsp;<span class="ident" id="5029204">cover</span>&nbsp;<span class="ident" id="5029210"><a href="/testing/cover.go.html#5029425">Cover</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5029217">//&nbsp;Cover&nbsp;records&nbsp;information&nbsp;about&nbsp;test&nbsp;coverage&nbsp;checking.</span><br>
<span class="lineno"></span><span class="comment" id="5029276">//&nbsp;NOTE:&nbsp;This&nbsp;struct&nbsp;is&nbsp;internal&nbsp;to&nbsp;the&nbsp;testing&nbsp;infrastructure&nbsp;and&nbsp;may&nbsp;change.</span><br>
<span class="lineno">30</span><span class="comment" id="5029355">//&nbsp;It&nbsp;is&nbsp;not&nbsp;covered&nbsp;(yet)&nbsp;by&nbsp;the&nbsp;Go&nbsp;1&nbsp;compatibility&nbsp;guidelines.</span><br>
<span class="lineno"></span><span class="keyword" id="5029420">type</span>&nbsp;<span class="ident" id="5029425">Cover</span>&nbsp;<span class="keyword" id="5029431">struct</span>&nbsp;<span class="op" id="5029438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029441">Mode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5029457">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029465">Counters</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5029481">map</span><span class="op" id="5029484">[</span><span class="builtintype" id="5029485">string</span><span class="op" id="5029491">]</span><span class="op" id="5029492">[</span><span class="op" id="5029493">]</span><span class="builtintype" id="5029494">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029502">Blocks</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5029518">map</span><span class="op" id="5029521">[</span><span class="builtintype" id="5029522">string</span><span class="op" id="5029528">]</span><span class="op" id="5029529">[</span><span class="op" id="5029530">]</span><span class="ident" id="5029531"><a href="/testing/cover.go.html#5029107">CoverBlock</a></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5029543">CoveredPackages</span>&nbsp;<span class="builtintype" id="5029559">string</span><br>
<span class="lineno"></span><span class="op" id="5029566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5029569">//&nbsp;Coverage&nbsp;reports&nbsp;the&nbsp;current&nbsp;code&nbsp;coverage&nbsp;as&nbsp;a&nbsp;fraction&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;1].</span><br>
<span class="lineno"></span><span class="comment" id="5029650">//&nbsp;If&nbsp;coverage&nbsp;is&nbsp;not&nbsp;enabled,&nbsp;Coverage&nbsp;returns&nbsp;0.</span><br>
<span class="lineno">40</span><span class="comment" id="5029701">//</span><br>
<span class="lineno"></span><span class="comment" id="5029704">//&nbsp;When&nbsp;running&nbsp;a&nbsp;large&nbsp;set&nbsp;of&nbsp;sequential&nbsp;test&nbsp;cases,&nbsp;checking&nbsp;Coverage&nbsp;after&nbsp;each&nbsp;one</span><br>
<span class="lineno"></span><span class="comment" id="5029791">//&nbsp;can&nbsp;be&nbsp;useful&nbsp;for&nbsp;identifying&nbsp;which&nbsp;test&nbsp;cases&nbsp;exercise&nbsp;new&nbsp;code&nbsp;paths.</span><br>
<span class="lineno"></span><span class="comment" id="5029866">//&nbsp;It&nbsp;is&nbsp;not&nbsp;a&nbsp;replacement&nbsp;for&nbsp;the&nbsp;reports&nbsp;generated&nbsp;by&nbsp;&#39;go&nbsp;test&nbsp;-cover&#39;&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5029943">//&nbsp;&#39;go&nbsp;tool&nbsp;cover&#39;.</span><br>
<span class="lineno">45</span><span class="keyword" id="5029963">func</span>&nbsp;<span class="ident" id="5029968">Coverage</span><span class="op" id="5029976">(</span><span class="op" id="5029977">)</span>&nbsp;<span class="builtintype" id="5029979">float64</span>&nbsp;<span class="op" id="5029987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5029990">var</span>&nbsp;<span class="ident" id="5029994">n</span><span class="op" id="5029995">,</span>&nbsp;<span class="ident" id="5029997">d</span>&nbsp;<span class="ident" id="5029999">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030006">for</span>&nbsp;<span class="ident" id="5030010">_</span><span class="op" id="5030011">,</span>&nbsp;<span class="ident" id="5030013">counters</span>&nbsp;<span class="op" id="5030022">:=</span>&nbsp;<span class="keyword" id="5030025">range</span>&nbsp;<span class="ident" id="5030031"><a href="/testing/cover.go.html#5029204">cover</a></span><span class="op" id="5030036">.</span><span class="ident" id="5030037">Counters</span>&nbsp;<span class="op" id="5030046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030050">for</span>&nbsp;<span class="ident" id="5030054">i</span>&nbsp;<span class="op" id="5030056">:=</span>&nbsp;<span class="keyword" id="5030059">range</span>&nbsp;<span class="ident" id="5030065"><a href="/testing/cover.go.html#5030013">counters</a></span>&nbsp;<span class="op" id="5030074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030079">if</span>&nbsp;<span class="ident" id="5030082"><a href="/testing/cover.go.html#5028875">atomic</a></span><span class="op" id="5030088">.</span><span class="ident" id="5030089">LoadUint32</span><span class="op" id="5030099">(</span><span class="op" id="5030100">&amp;</span><span class="ident" id="5030101"><a href="/testing/cover.go.html#5030013">counters</a></span><span class="op" id="5030109">[</span><span class="ident" id="5030110"><a href="/testing/cover.go.html#5030054">i</a></span><span class="op" id="5030111">]</span><span class="op" id="5030112">)</span>&nbsp;<span class="op" id="5030114">&gt;</span>&nbsp;<span class="num" id="5030116">0</span>&nbsp;<span class="op" id="5030118">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030124"><a href="/testing/cover.go.html#5029994">n</a></span><span class="op" id="5030125">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5030131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030136"><a href="/testing/cover.go.html#5029997">d</a></span><span class="op" id="5030137">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5030142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5030145">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030148">if</span>&nbsp;<span class="ident" id="5030151"><a href="/testing/cover.go.html#5029997">d</a></span>&nbsp;<span class="op" id="5030153">==</span>&nbsp;<span class="num" id="5030156">0</span>&nbsp;<span class="op" id="5030158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030162">return</span>&nbsp;<span class="num" id="5030169">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5030172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030175">return</span>&nbsp;<span class="builtintype" id="5030182">float64</span><span class="op" id="5030189">(</span><span class="ident" id="5030190"><a href="/testing/cover.go.html#5029994">n</a></span><span class="op" id="5030191">)</span>&nbsp;<span class="op" id="5030193">/</span>&nbsp;<span class="builtintype" id="5030195">float64</span><span class="op" id="5030202">(</span><span class="ident" id="5030203"><a href="/testing/cover.go.html#5029997">d</a></span><span class="op" id="5030204">)</span><br>
<span class="lineno"></span><span class="op" id="5030206">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5030209">//&nbsp;RegisterCover&nbsp;records&nbsp;the&nbsp;coverage&nbsp;data&nbsp;accumulators&nbsp;for&nbsp;the&nbsp;tests.</span><br>
<span class="lineno"></span><span class="comment" id="5030280">//&nbsp;NOTE:&nbsp;This&nbsp;function&nbsp;is&nbsp;internal&nbsp;to&nbsp;the&nbsp;testing&nbsp;infrastructure&nbsp;and&nbsp;may&nbsp;change.</span><br>
<span class="lineno"></span><span class="comment" id="5030361">//&nbsp;It&nbsp;is&nbsp;not&nbsp;covered&nbsp;(yet)&nbsp;by&nbsp;the&nbsp;Go&nbsp;1&nbsp;compatibility&nbsp;guidelines.</span><br>
<span class="lineno"></span><span class="keyword" id="5030426">func</span>&nbsp;<span class="ident" id="5030431">RegisterCover</span><span class="op" id="5030444">(</span><span class="ident" id="5030445">c</span>&nbsp;<span class="ident" id="5030447"><a href="/testing/cover.go.html#5029425">Cover</a></span><span class="op" id="5030452">)</span>&nbsp;<span class="op" id="5030454">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030457"><a href="/testing/cover.go.html#5029204">cover</a></span>&nbsp;<span class="op" id="5030463">=</span>&nbsp;<span class="ident" id="5030465"><a href="/testing/cover.go.html#5030445">c</a></span><br>
<span class="lineno"></span><span class="op" id="5030467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5030470">//&nbsp;mustBeNil&nbsp;checks&nbsp;the&nbsp;error&nbsp;and,&nbsp;if&nbsp;present,&nbsp;reports&nbsp;it&nbsp;and&nbsp;exits.</span><br>
<span class="lineno"></span><span class="keyword" id="5030539">func</span>&nbsp;<span class="ident" id="5030544">mustBeNil</span><span class="op" id="5030553">(</span><span class="ident" id="5030554">err</span>&nbsp;<span class="builtintype" id="5030558">error</span><span class="op" id="5030563">)</span>&nbsp;<span class="op" id="5030565">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030568">if</span>&nbsp;<span class="ident" id="5030571"><a href="/testing/cover.go.html#5030554">err</a></span>&nbsp;<span class="op" id="5030575">!=</span>&nbsp;<span class="ident" id="5030578">nil</span>&nbsp;<span class="op" id="5030582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030586"><a href="/testing/cover.go.html#5028862">fmt</a></span><span class="op" id="5030589">.</span><span class="ident" id="5030590">Fprintf</span><span class="op" id="5030597">(</span><span class="ident" id="5030598"><a href="/testing/cover.go.html#5028869">os</a></span><span class="op" id="5030600">.</span><span class="ident" id="5030601">Stderr</span><span class="op" id="5030607">,</span>&nbsp;<span class="string" id="5030609">&#34;testing:&nbsp;%s\n&#34;</span><span class="op" id="5030624">,</span>&nbsp;<span class="ident" id="5030626"><a href="/testing/cover.go.html#5030554">err</a></span><span class="op" id="5030629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030633"><a href="/testing/cover.go.html#5028869">os</a></span><span class="op" id="5030635">.</span><span class="ident" id="5030636">Exit</span><span class="op" id="5030640">(</span><span class="num" id="5030641">2</span><span class="op" id="5030642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5030645">}</span><br>
<span class="lineno"></span><span class="op" id="5030647">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="5030650">//&nbsp;coverReport&nbsp;reports&nbsp;the&nbsp;coverage&nbsp;percentage&nbsp;and&nbsp;writes&nbsp;a&nbsp;coverage&nbsp;profile&nbsp;if&nbsp;requested.</span><br>
<span class="lineno"></span><span class="keyword" id="5030741">func</span>&nbsp;<span class="ident" id="5030746">coverReport</span><span class="op" id="5030757">(</span><span class="op" id="5030758">)</span>&nbsp;<span class="op" id="5030760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030763">var</span>&nbsp;<span class="ident" id="5030767">f</span>&nbsp;<span class="op" id="5030769">*</span><span class="ident" id="5030770"><a href="/testing/cover.go.html#5028869">os</a></span><span class="op" id="5030772">.</span><span class="ident" id="5030773">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030779">var</span>&nbsp;<span class="ident" id="5030783">err</span>&nbsp;<span class="builtintype" id="5030787">error</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030794">if</span>&nbsp;<span class="op" id="5030797">*</span><span class="ident" id="5030798"><a href="/testing/testing.go.html#5039858">coverProfile</a></span>&nbsp;<span class="op" id="5030811">!=</span>&nbsp;<span class="string" id="5030814">&#34;&#34;</span>&nbsp;<span class="op" id="5030817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030821"><a href="/testing/cover.go.html#5030767">f</a></span><span class="op" id="5030822">,</span>&nbsp;<span class="ident" id="5030824"><a href="/testing/cover.go.html#5030783">err</a></span>&nbsp;<span class="op" id="5030828">=</span>&nbsp;<span class="ident" id="5030830"><a href="/testing/cover.go.html#5028869">os</a></span><span class="op" id="5030832">.</span><span class="ident" id="5030833">Create</span><span class="op" id="5030839">(</span><span class="ident" id="5030840"><a href="/testing/testing.go.html#5054395">toOutputDir</a></span><span class="op" id="5030851">(</span><span class="op" id="5030852">*</span><span class="ident" id="5030853"><a href="/testing/testing.go.html#5039858">coverProfile</a></span><span class="op" id="5030865">)</span><span class="op" id="5030866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030870"><a href="/testing/cover.go.html#5030544">mustBeNil</a></span><span class="op" id="5030879">(</span><span class="ident" id="5030880"><a href="/testing/cover.go.html#5030783">err</a></span><span class="op" id="5030883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5030887"><a href="/testing/cover.go.html#5028862">fmt</a></span><span class="op" id="5030890">.</span><span class="ident" id="5030891">Fprintf</span><span class="op" id="5030898">(</span><span class="ident" id="5030899"><a href="/testing/cover.go.html#5030767">f</a></span><span class="op" id="5030900">,</span>&nbsp;<span class="string" id="5030902">&#34;mode:&nbsp;%s\n&#34;</span><span class="op" id="5030914">,</span>&nbsp;<span class="ident" id="5030916"><a href="/testing/cover.go.html#5029204">cover</a></span><span class="op" id="5030921">.</span><span class="ident" id="5030922">Mode</span><span class="op" id="5030926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030930">defer</span>&nbsp;<span class="keyword" id="5030936">func</span><span class="op" id="5030940">(</span><span class="op" id="5030941">)</span>&nbsp;<span class="op" id="5030943">{</span>&nbsp;<span class="ident" id="5030945"><a href="/testing/cover.go.html#5030544">mustBeNil</a></span><span class="op" id="5030954">(</span><span class="ident" id="5030955"><a href="/testing/cover.go.html#5030767">f</a></span><span class="op" id="5030956">.</span><span class="ident" id="5030957">Close</span><span class="op" id="5030962">(</span><span class="op" id="5030963">)</span><span class="op" id="5030964">)</span>&nbsp;<span class="op" id="5030966">}</span><span class="op" id="5030967">(</span><span class="op" id="5030968">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5030971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5030975">var</span>&nbsp;<span class="ident" id="5030979">active</span><span class="op" id="5030985">,</span>&nbsp;<span class="ident" id="5030987">total</span>&nbsp;<span class="ident" id="5030993">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5031000">var</span>&nbsp;<span class="ident" id="5031004">count</span>&nbsp;<span class="builtintype" id="5031010">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5031018">for</span>&nbsp;<span class="ident" id="5031022">name</span><span class="op" id="5031026">,</span>&nbsp;<span class="ident" id="5031028">counts</span>&nbsp;<span class="op" id="5031035">:=</span>&nbsp;<span class="keyword" id="5031038">range</span>&nbsp;<span class="ident" id="5031044"><a href="/testing/cover.go.html#5029204">cover</a></span><span class="op" id="5031049">.</span><span class="ident" id="5031050">Counters</span>&nbsp;<span class="op" id="5031059">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031063">blocks</span>&nbsp;<span class="op" id="5031070">:=</span>&nbsp;<span class="ident" id="5031073"><a href="/testing/cover.go.html#5029204">cover</a></span><span class="op" id="5031078">.</span><span class="ident" id="5031079">Blocks</span><span class="op" id="5031085">[</span><span class="ident" id="5031086"><a href="/testing/cover.go.html#5031022">name</a></span><span class="op" id="5031090">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5031094">for</span>&nbsp;<span class="ident" id="5031098">i</span>&nbsp;<span class="op" id="5031100">:=</span>&nbsp;<span class="keyword" id="5031103">range</span>&nbsp;<span class="ident" id="5031109"><a href="/testing/cover.go.html#5031028">counts</a></span>&nbsp;<span class="op" id="5031116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031121">stmts</span>&nbsp;<span class="op" id="5031127">:=</span>&nbsp;<span class="ident" id="5031130">int64</span><span class="op" id="5031135">(</span><span class="ident" id="5031136"><a href="/testing/cover.go.html#5031063">blocks</a></span><span class="op" id="5031142">[</span><span class="ident" id="5031143"><a href="/testing/cover.go.html#5031098">i</a></span><span class="op" id="5031144">]</span><span class="op" id="5031145">.</span><span class="ident" id="5031146">Stmts</span><span class="op" id="5031151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031156"><a href="/testing/cover.go.html#5030987">total</a></span>&nbsp;<span class="op" id="5031162">+=</span>&nbsp;<span class="ident" id="5031165"><a href="/testing/cover.go.html#5031121">stmts</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031174"><a href="/testing/cover.go.html#5031004">count</a></span>&nbsp;<span class="op" id="5031180">=</span>&nbsp;<span class="ident" id="5031182"><a href="/testing/cover.go.html#5028875">atomic</a></span><span class="op" id="5031188">.</span><span class="ident" id="5031189">LoadUint32</span><span class="op" id="5031199">(</span><span class="op" id="5031200">&amp;</span><span class="ident" id="5031201"><a href="/testing/cover.go.html#5031028">counts</a></span><span class="op" id="5031207">[</span><span class="ident" id="5031208"><a href="/testing/cover.go.html#5031098">i</a></span><span class="op" id="5031209">]</span><span class="op" id="5031210">)</span>&nbsp;<span class="comment" id="5031212">//&nbsp;For&nbsp;-mode=atomic.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5031236">if</span>&nbsp;<span class="ident" id="5031239"><a href="/testing/cover.go.html#5031004">count</a></span>&nbsp;<span class="op" id="5031245">&gt;</span>&nbsp;<span class="num" id="5031247">0</span>&nbsp;<span class="op" id="5031249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031255"><a href="/testing/cover.go.html#5030979">active</a></span>&nbsp;<span class="op" id="5031262">+=</span>&nbsp;<span class="ident" id="5031265"><a href="/testing/cover.go.html#5031121">stmts</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5031274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5031279">if</span>&nbsp;<span class="ident" id="5031282"><a href="/testing/cover.go.html#5030767">f</a></span>&nbsp;<span class="op" id="5031284">!=</span>&nbsp;<span class="ident" id="5031287">nil</span>&nbsp;<span class="op" id="5031291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031297">_</span><span class="op" id="5031298">,</span>&nbsp;<span class="ident" id="5031300">err</span>&nbsp;<span class="op" id="5031304">:=</span>&nbsp;<span class="ident" id="5031307"><a href="/testing/cover.go.html#5028862">fmt</a></span><span class="op" id="5031310">.</span><span class="ident" id="5031311">Fprintf</span><span class="op" id="5031318">(</span><span class="ident" id="5031319"><a href="/testing/cover.go.html#5030767">f</a></span><span class="op" id="5031320">,</span>&nbsp;<span class="string" id="5031322">&#34;%s:%d.%d,%d.%d&nbsp;%d&nbsp;%d\n&#34;</span><span class="op" id="5031346">,</span>&nbsp;<span class="ident" id="5031348"><a href="/testing/cover.go.html#5031022">name</a></span><span class="op" id="5031352">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031359"><a href="/testing/cover.go.html#5031063">blocks</a></span><span class="op" id="5031365">[</span><span class="ident" id="5031366"><a href="/testing/cover.go.html#5031098">i</a></span><span class="op" id="5031367">]</span><span class="op" id="5031368">.</span><span class="ident" id="5031369">Line0</span><span class="op" id="5031374">,</span>&nbsp;<span class="ident" id="5031376"><a href="/testing/cover.go.html#5031063">blocks</a></span><span class="op" id="5031382">[</span><span class="ident" id="5031383"><a href="/testing/cover.go.html#5031098">i</a></span><span class="op" id="5031384">]</span><span class="op" id="5031385">.</span><span class="ident" id="5031386">Col0</span><span class="op" id="5031390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031397"><a href="/testing/cover.go.html#5031063">blocks</a></span><span class="op" id="5031403">[</span><span class="ident" id="5031404"><a href="/testing/cover.go.html#5031098">i</a></span><span class="op" id="5031405">]</span><span class="op" id="5031406">.</span><span class="ident" id="5031407">Line1</span><span class="op" id="5031412">,</span>&nbsp;<span class="ident" id="5031414"><a href="/testing/cover.go.html#5031063">blocks</a></span><span class="op" id="5031420">[</span><span class="ident" id="5031421"><a href="/testing/cover.go.html#5031098">i</a></span><span class="op" id="5031422">]</span><span class="op" id="5031423">.</span><span class="ident" id="5031424">Col1</span><span class="op" id="5031428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031435"><a href="/testing/cover.go.html#5031121">stmts</a></span><span class="op" id="5031440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031447"><a href="/testing/cover.go.html#5031004">count</a></span><span class="op" id="5031452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031458"><a href="/testing/cover.go.html#5030544">mustBeNil</a></span><span class="op" id="5031467">(</span><span class="ident" id="5031468"><a href="/testing/cover.go.html#5031300">err</a></span><span class="op" id="5031471">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5031476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5031480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5031483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5031486">if</span>&nbsp;<span class="ident" id="5031489"><a href="/testing/cover.go.html#5030987">total</a></span>&nbsp;<span class="op" id="5031495">==</span>&nbsp;<span class="num" id="5031498">0</span>&nbsp;<span class="op" id="5031500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031504"><a href="/testing/cover.go.html#5030987">total</a></span>&nbsp;<span class="op" id="5031510">=</span>&nbsp;<span class="num" id="5031512">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5031515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5031518"><a href="/testing/cover.go.html#5028862">fmt</a></span><span class="op" id="5031521">.</span><span class="ident" id="5031522">Printf</span><span class="op" id="5031528">(</span><span class="string" id="5031529">&#34;coverage:&nbsp;%.1f%%&nbsp;of&nbsp;statements%s\n&#34;</span><span class="op" id="5031565">,</span>&nbsp;<span class="num" id="5031567">100</span><span class="op" id="5031570">*</span><span class="builtintype" id="5031571">float64</span><span class="op" id="5031578">(</span><span class="ident" id="5031579"><a href="/testing/cover.go.html#5030979">active</a></span><span class="op" id="5031585">)</span><span class="op" id="5031586">/</span><span class="builtintype" id="5031587">float64</span><span class="op" id="5031594">(</span><span class="ident" id="5031595"><a href="/testing/cover.go.html#5030987">total</a></span><span class="op" id="5031600">)</span><span class="op" id="5031601">,</span>&nbsp;<span class="ident" id="5031603"><a href="/testing/cover.go.html#5029204">cover</a></span><span class="op" id="5031608">.</span><span class="ident" id="5031609">CoveredPackages</span><span class="op" id="5031624">)</span><br>
<span class="lineno"></span><span class="op" id="5031626">}</span>
</div>
</body>
</html>
