<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html" class="current">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8021538">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8021593">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8021647">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8021698">package</span>&nbsp;<span class="ident" id="8021706">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8021711">import</span>&nbsp;<span class="op" id="8021718">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8021721">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8021732">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8021743">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8021753">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8021756">var</span>&nbsp;<span class="ident" id="8021760">parseIPTests</span>&nbsp;<span class="op" id="8021773">=</span>&nbsp;<span class="op" id="8021775">[</span><span class="op" id="8021776">]</span><span class="keyword" id="8021777">struct</span>&nbsp;<span class="op" id="8021784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021787">in</span>&nbsp;&nbsp;<span class="builtintype" id="8021791">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8021799">out</span>&nbsp;<span class="ident" id="8021803">IP</span><br>
<span class="lineno"></span><span class="op" id="8021806">}</span><span class="op" id="8021807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021810">{</span><span class="string" id="8021811">&#34;127.0.1.2&#34;</span><span class="op" id="8021822">,</span>&nbsp;<span class="ident" id="8021824">IPv4</span><span class="op" id="8021828">(</span><span class="num" id="8021829">127</span><span class="op" id="8021832">,</span>&nbsp;<span class="num" id="8021834">0</span><span class="op" id="8021835">,</span>&nbsp;<span class="num" id="8021837">1</span><span class="op" id="8021838">,</span>&nbsp;<span class="num" id="8021840">2</span><span class="op" id="8021841">)</span><span class="op" id="8021842">}</span><span class="op" id="8021843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021846">{</span><span class="string" id="8021847">&#34;127.0.0.1&#34;</span><span class="op" id="8021858">,</span>&nbsp;<span class="ident" id="8021860">IPv4</span><span class="op" id="8021864">(</span><span class="num" id="8021865">127</span><span class="op" id="8021868">,</span>&nbsp;<span class="num" id="8021870">0</span><span class="op" id="8021871">,</span>&nbsp;<span class="num" id="8021873">0</span><span class="op" id="8021874">,</span>&nbsp;<span class="num" id="8021876">1</span><span class="op" id="8021877">)</span><span class="op" id="8021878">}</span><span class="op" id="8021879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021882">{</span><span class="string" id="8021883">&#34;127.0.0.256&#34;</span><span class="op" id="8021896">,</span>&nbsp;<span class="ident" id="8021898">nil</span><span class="op" id="8021901">}</span><span class="op" id="8021902">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021905">{</span><span class="string" id="8021906">&#34;abc&#34;</span><span class="op" id="8021911">,</span>&nbsp;<span class="ident" id="8021913">nil</span><span class="op" id="8021916">}</span><span class="op" id="8021917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021920">{</span><span class="string" id="8021921">&#34;123:&#34;</span><span class="op" id="8021927">,</span>&nbsp;<span class="ident" id="8021929">nil</span><span class="op" id="8021932">}</span><span class="op" id="8021933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021936">{</span><span class="string" id="8021937">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="8021955">,</span>&nbsp;<span class="ident" id="8021957">IPv4</span><span class="op" id="8021961">(</span><span class="num" id="8021962">127</span><span class="op" id="8021965">,</span>&nbsp;<span class="num" id="8021967">0</span><span class="op" id="8021968">,</span>&nbsp;<span class="num" id="8021970">0</span><span class="op" id="8021971">,</span>&nbsp;<span class="num" id="8021973">1</span><span class="op" id="8021974">)</span><span class="op" id="8021975">}</span><span class="op" id="8021976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8021979">{</span><span class="string" id="8021980">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="8022002">,</span>&nbsp;<span class="ident" id="8022004">IP</span><span class="op" id="8022006">{</span><span class="num" id="8022007">0x20</span><span class="op" id="8022011">,</span>&nbsp;<span class="num" id="8022013">0x01</span><span class="op" id="8022017">,</span>&nbsp;<span class="num" id="8022019">0x48</span><span class="op" id="8022023">,</span>&nbsp;<span class="num" id="8022025">0x60</span><span class="op" id="8022029">,</span>&nbsp;<span class="num" id="8022031">0</span><span class="op" id="8022032">,</span>&nbsp;<span class="num" id="8022034">0</span><span class="op" id="8022035">,</span>&nbsp;<span class="num" id="8022037">0x20</span><span class="op" id="8022041">,</span>&nbsp;<span class="num" id="8022043">0x01</span><span class="op" id="8022047">,</span>&nbsp;<span class="num" id="8022049">0</span><span class="op" id="8022050">,</span>&nbsp;<span class="num" id="8022052">0</span><span class="op" id="8022053">,</span>&nbsp;<span class="num" id="8022055">0</span><span class="op" id="8022056">,</span>&nbsp;<span class="num" id="8022058">0</span><span class="op" id="8022059">,</span>&nbsp;<span class="num" id="8022061">0</span><span class="op" id="8022062">,</span>&nbsp;<span class="num" id="8022064">0</span><span class="op" id="8022065">,</span>&nbsp;<span class="num" id="8022067">0x00</span><span class="op" id="8022071">,</span>&nbsp;<span class="num" id="8022073">0x68</span><span class="op" id="8022077">}</span><span class="op" id="8022078">}</span><span class="op" id="8022079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022082">{</span><span class="string" id="8022083">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="8022101">,</span>&nbsp;<span class="ident" id="8022103">IPv4</span><span class="op" id="8022107">(</span><span class="num" id="8022108">74</span><span class="op" id="8022110">,</span>&nbsp;<span class="num" id="8022112">125</span><span class="op" id="8022115">,</span>&nbsp;<span class="num" id="8022117">19</span><span class="op" id="8022119">,</span>&nbsp;<span class="num" id="8022121">99</span><span class="op" id="8022123">)</span><span class="op" id="8022124">}</span><span class="op" id="8022125">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022128">{</span><span class="string" id="8022129">&#34;fe80::1%lo0&#34;</span><span class="op" id="8022142">,</span>&nbsp;<span class="ident" id="8022144">nil</span><span class="op" id="8022147">}</span><span class="op" id="8022148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022151">{</span><span class="string" id="8022152">&#34;fe80::1%911&#34;</span><span class="op" id="8022165">,</span>&nbsp;<span class="ident" id="8022167">nil</span><span class="op" id="8022170">}</span><span class="op" id="8022171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022174">{</span><span class="string" id="8022175">&#34;&#34;</span><span class="op" id="8022177">,</span>&nbsp;<span class="ident" id="8022179">nil</span><span class="op" id="8022182">}</span><span class="op" id="8022183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022186">{</span><span class="string" id="8022187">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="8022213">,</span>&nbsp;<span class="ident" id="8022215">nil</span><span class="op" id="8022218">}</span><span class="op" id="8022219">,</span>&nbsp;<span class="comment" id="8022221">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="8022235">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="8022238">func</span>&nbsp;<span class="ident" id="8022243">TestParseIP</span><span class="op" id="8022254">(</span><span class="ident" id="8022255">t</span>&nbsp;<span class="op" id="8022257">*</span><span class="ident" id="8022258">testing</span><span class="op" id="8022265">.</span><span class="ident" id="8022266">T</span><span class="op" id="8022267">)</span>&nbsp;<span class="op" id="8022269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022272">for</span>&nbsp;<span class="ident" id="8022276">_</span><span class="op" id="8022277">,</span>&nbsp;<span class="ident" id="8022279">tt</span>&nbsp;<span class="op" id="8022282">:=</span>&nbsp;<span class="keyword" id="8022285">range</span>&nbsp;<span class="ident" id="8022291">parseIPTests</span>&nbsp;<span class="op" id="8022304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022308">if</span>&nbsp;<span class="ident" id="8022311">out</span>&nbsp;<span class="op" id="8022315">:=</span>&nbsp;<span class="ident" id="8022318">ParseIP</span><span class="op" id="8022325">(</span><span class="ident" id="8022326">tt</span><span class="op" id="8022328">.</span><span class="ident" id="8022329">in</span><span class="op" id="8022331">)</span><span class="op" id="8022332">;</span>&nbsp;<span class="op" id="8022334">!</span><span class="ident" id="8022335">reflect</span><span class="op" id="8022342">.</span><span class="ident" id="8022343">DeepEqual</span><span class="op" id="8022352">(</span><span class="ident" id="8022353">out</span><span class="op" id="8022356">,</span>&nbsp;<span class="ident" id="8022358">tt</span><span class="op" id="8022360">.</span><span class="ident" id="8022361">out</span><span class="op" id="8022364">)</span>&nbsp;<span class="op" id="8022366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8022371">t</span><span class="op" id="8022372">.</span><span class="ident" id="8022373">Errorf</span><span class="op" id="8022379">(</span><span class="string" id="8022380">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8022407">,</span>&nbsp;<span class="ident" id="8022409">tt</span><span class="op" id="8022411">.</span><span class="ident" id="8022412">in</span><span class="op" id="8022414">,</span>&nbsp;<span class="ident" id="8022416">out</span><span class="op" id="8022419">,</span>&nbsp;<span class="ident" id="8022421">tt</span><span class="op" id="8022423">.</span><span class="ident" id="8022424">out</span><span class="op" id="8022427">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022435">if</span>&nbsp;<span class="ident" id="8022438">tt</span><span class="op" id="8022440">.</span><span class="ident" id="8022441">in</span>&nbsp;<span class="op" id="8022444">==</span>&nbsp;<span class="string" id="8022447">&#34;&#34;</span>&nbsp;<span class="op" id="8022450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8022455">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022497">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022508">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022512">var</span>&nbsp;<span class="ident" id="8022516">out</span>&nbsp;<span class="ident" id="8022520">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022525">if</span>&nbsp;<span class="ident" id="8022528">err</span>&nbsp;<span class="op" id="8022532">:=</span>&nbsp;<span class="ident" id="8022535">out</span><span class="op" id="8022538">.</span><span class="ident" id="8022539">UnmarshalText</span><span class="op" id="8022552">(</span><span class="op" id="8022553">[</span><span class="op" id="8022554">]</span><span class="builtintype" id="8022555">byte</span><span class="op" id="8022559">(</span><span class="ident" id="8022560">tt</span><span class="op" id="8022562">.</span><span class="ident" id="8022563">in</span><span class="op" id="8022565">)</span><span class="op" id="8022566">)</span><span class="op" id="8022567">;</span>&nbsp;<span class="op" id="8022569">!</span><span class="ident" id="8022570">reflect</span><span class="op" id="8022577">.</span><span class="ident" id="8022578">DeepEqual</span><span class="op" id="8022587">(</span><span class="ident" id="8022588">out</span><span class="op" id="8022591">,</span>&nbsp;<span class="ident" id="8022593">tt</span><span class="op" id="8022595">.</span><span class="ident" id="8022596">out</span><span class="op" id="8022599">)</span>&nbsp;<span class="op" id="8022601">||</span>&nbsp;<span class="op" id="8022604">(</span><span class="ident" id="8022605">tt</span><span class="op" id="8022607">.</span><span class="ident" id="8022608">out</span>&nbsp;<span class="op" id="8022612">==</span>&nbsp;<span class="ident" id="8022615">nil</span><span class="op" id="8022618">)</span>&nbsp;<span class="op" id="8022620">!=</span>&nbsp;<span class="op" id="8022623">(</span><span class="ident" id="8022624">err</span>&nbsp;<span class="op" id="8022628">!=</span>&nbsp;<span class="ident" id="8022631">nil</span><span class="op" id="8022634">)</span>&nbsp;<span class="op" id="8022636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8022641">t</span><span class="op" id="8022642">.</span><span class="ident" id="8022643">Errorf</span><span class="op" id="8022649">(</span><span class="string" id="8022650">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8022690">,</span>&nbsp;<span class="ident" id="8022692">tt</span><span class="op" id="8022694">.</span><span class="ident" id="8022695">in</span><span class="op" id="8022697">,</span>&nbsp;<span class="ident" id="8022699">out</span><span class="op" id="8022702">,</span>&nbsp;<span class="ident" id="8022704">err</span><span class="op" id="8022707">,</span>&nbsp;<span class="ident" id="8022709">tt</span><span class="op" id="8022711">.</span><span class="ident" id="8022712">out</span><span class="op" id="8022715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022722">}</span><br>
<span class="lineno">45</span><span class="op" id="8022724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8022727">func</span>&nbsp;<span class="ident" id="8022732">BenchmarkParseIP</span><span class="op" id="8022748">(</span><span class="ident" id="8022749">b</span>&nbsp;<span class="op" id="8022751">*</span><span class="ident" id="8022752">testing</span><span class="op" id="8022759">.</span><span class="ident" id="8022760">B</span><span class="op" id="8022761">)</span>&nbsp;<span class="op" id="8022763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022766">for</span>&nbsp;<span class="ident" id="8022770">i</span>&nbsp;<span class="op" id="8022772">:=</span>&nbsp;<span class="num" id="8022775">0</span><span class="op" id="8022776">;</span>&nbsp;<span class="ident" id="8022778">i</span>&nbsp;<span class="op" id="8022780">&lt;</span>&nbsp;<span class="ident" id="8022782">b</span><span class="op" id="8022783">.</span><span class="ident" id="8022784">N</span><span class="op" id="8022785">;</span>&nbsp;<span class="ident" id="8022787">i</span><span class="op" id="8022788">++</span>&nbsp;<span class="op" id="8022791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022795">for</span>&nbsp;<span class="ident" id="8022799">_</span><span class="op" id="8022800">,</span>&nbsp;<span class="ident" id="8022802">tt</span>&nbsp;<span class="op" id="8022805">:=</span>&nbsp;<span class="keyword" id="8022808">range</span>&nbsp;<span class="ident" id="8022814">parseIPTests</span>&nbsp;<span class="op" id="8022827">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8022832">ParseIP</span><span class="op" id="8022839">(</span><span class="ident" id="8022840">tt</span><span class="op" id="8022842">.</span><span class="ident" id="8022843">in</span><span class="op" id="8022845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8022852">}</span><br>
<span class="lineno"></span><span class="op" id="8022854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="8022857">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="8022871">func</span>&nbsp;<span class="ident" id="8022876">TestMarshalEmptyIP</span><span class="op" id="8022894">(</span><span class="ident" id="8022895">t</span>&nbsp;<span class="op" id="8022897">*</span><span class="ident" id="8022898">testing</span><span class="op" id="8022905">.</span><span class="ident" id="8022906">T</span><span class="op" id="8022907">)</span>&nbsp;<span class="op" id="8022909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022912">for</span>&nbsp;<span class="ident" id="8022916">_</span><span class="op" id="8022917">,</span>&nbsp;<span class="ident" id="8022919">in</span>&nbsp;<span class="op" id="8022922">:=</span>&nbsp;<span class="keyword" id="8022925">range</span>&nbsp;<span class="op" id="8022931">[</span><span class="op" id="8022932">]</span><span class="op" id="8022933">[</span><span class="op" id="8022934">]</span><span class="builtintype" id="8022935">byte</span><span class="op" id="8022939">{</span><span class="ident" id="8022940">nil</span><span class="op" id="8022943">,</span>&nbsp;<span class="op" id="8022945">[</span><span class="op" id="8022946">]</span><span class="builtintype" id="8022947">byte</span><span class="op" id="8022951">(</span><span class="string" id="8022952">&#34;&#34;</span><span class="op" id="8022954">)</span><span class="op" id="8022955">}</span>&nbsp;<span class="op" id="8022957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022961">var</span>&nbsp;<span class="ident" id="8022965">out</span>&nbsp;<span class="op" id="8022969">=</span>&nbsp;<span class="ident" id="8022971">IP</span><span class="op" id="8022973">{</span><span class="num" id="8022974">1</span><span class="op" id="8022975">,</span>&nbsp;<span class="num" id="8022977">2</span><span class="op" id="8022978">,</span>&nbsp;<span class="num" id="8022980">3</span><span class="op" id="8022981">,</span>&nbsp;<span class="num" id="8022983">4</span><span class="op" id="8022984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8022988">if</span>&nbsp;<span class="ident" id="8022991">err</span>&nbsp;<span class="op" id="8022995">:=</span>&nbsp;<span class="ident" id="8022998">out</span><span class="op" id="8023001">.</span><span class="ident" id="8023002">UnmarshalText</span><span class="op" id="8023015">(</span><span class="ident" id="8023016">in</span><span class="op" id="8023018">)</span><span class="op" id="8023019">;</span>&nbsp;<span class="ident" id="8023021">err</span>&nbsp;<span class="op" id="8023025">!=</span>&nbsp;<span class="ident" id="8023028">nil</span>&nbsp;<span class="op" id="8023032">||</span>&nbsp;<span class="ident" id="8023035">out</span>&nbsp;<span class="op" id="8023039">!=</span>&nbsp;<span class="ident" id="8023042">nil</span>&nbsp;<span class="op" id="8023046">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8023051">t</span><span class="op" id="8023052">.</span><span class="ident" id="8023053">Errorf</span><span class="op" id="8023059">(</span><span class="string" id="8023060">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="8023103">,</span>&nbsp;<span class="ident" id="8023105">in</span><span class="op" id="8023107">,</span>&nbsp;<span class="ident" id="8023109">out</span><span class="op" id="8023112">,</span>&nbsp;<span class="ident" id="8023114">err</span><span class="op" id="8023117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8023127">var</span>&nbsp;<span class="ident" id="8023131">ip</span>&nbsp;<span class="ident" id="8023134">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8023138">got</span><span class="op" id="8023141">,</span>&nbsp;<span class="ident" id="8023143">err</span>&nbsp;<span class="op" id="8023147">:=</span>&nbsp;<span class="ident" id="8023150">ip</span><span class="op" id="8023152">.</span><span class="ident" id="8023153">MarshalText</span><span class="op" id="8023164">(</span><span class="op" id="8023165">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8023168">if</span>&nbsp;<span class="ident" id="8023171">err</span>&nbsp;<span class="op" id="8023175">!=</span>&nbsp;<span class="ident" id="8023178">nil</span>&nbsp;<span class="op" id="8023182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8023186">t</span><span class="op" id="8023187">.</span><span class="ident" id="8023188">Fatal</span><span class="op" id="8023193">(</span><span class="ident" id="8023194">err</span><span class="op" id="8023197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8023203">if</span>&nbsp;<span class="op" id="8023206">!</span><span class="ident" id="8023207">reflect</span><span class="op" id="8023214">.</span><span class="ident" id="8023215">DeepEqual</span><span class="op" id="8023224">(</span><span class="ident" id="8023225">got</span><span class="op" id="8023228">,</span>&nbsp;<span class="op" id="8023230">[</span><span class="op" id="8023231">]</span><span class="builtintype" id="8023232">byte</span><span class="op" id="8023236">(</span><span class="string" id="8023237">&#34;&#34;</span><span class="op" id="8023239">)</span><span class="op" id="8023240">)</span>&nbsp;<span class="op" id="8023242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8023246">t</span><span class="op" id="8023247">.</span><span class="ident" id="8023248">Errorf</span><span class="op" id="8023254">(</span><span class="string" id="8023255">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="8023281">,</span>&nbsp;<span class="ident" id="8023283">got</span><span class="op" id="8023286">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023289">}</span><br>
<span class="lineno"></span><span class="op" id="8023291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8023294">var</span>&nbsp;<span class="ident" id="8023298">ipStringTests</span>&nbsp;<span class="op" id="8023312">=</span>&nbsp;<span class="op" id="8023314">[</span><span class="op" id="8023315">]</span><span class="keyword" id="8023316">struct</span>&nbsp;<span class="op" id="8023323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8023326">in</span>&nbsp;&nbsp;<span class="ident" id="8023330">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8023334">out</span>&nbsp;<span class="builtintype" id="8023338">string</span>&nbsp;<span class="comment" id="8023345">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="8023361">}</span><span class="op" id="8023362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023365">{</span><span class="ident" id="8023366">IP</span><span class="op" id="8023368">{</span><span class="num" id="8023369">0x20</span><span class="op" id="8023373">,</span>&nbsp;<span class="num" id="8023375">0x1</span><span class="op" id="8023378">,</span>&nbsp;<span class="num" id="8023380">0xd</span><span class="op" id="8023383">,</span>&nbsp;<span class="num" id="8023385">0xb8</span><span class="op" id="8023389">,</span>&nbsp;<span class="num" id="8023391">0</span><span class="op" id="8023392">,</span>&nbsp;<span class="num" id="8023394">0</span><span class="op" id="8023395">,</span>&nbsp;<span class="num" id="8023397">0</span><span class="op" id="8023398">,</span>&nbsp;<span class="num" id="8023400">0</span><span class="op" id="8023401">,</span>&nbsp;<span class="num" id="8023403">0</span><span class="op" id="8023404">,</span>&nbsp;<span class="num" id="8023406">0</span><span class="op" id="8023407">,</span>&nbsp;<span class="num" id="8023409">0x1</span><span class="op" id="8023412">,</span>&nbsp;<span class="num" id="8023414">0x23</span><span class="op" id="8023418">,</span>&nbsp;<span class="num" id="8023420">0</span><span class="op" id="8023421">,</span>&nbsp;<span class="num" id="8023423">0x12</span><span class="op" id="8023427">,</span>&nbsp;<span class="num" id="8023429">0</span><span class="op" id="8023430">,</span>&nbsp;<span class="num" id="8023432">0x1</span><span class="op" id="8023435">}</span><span class="op" id="8023436">,</span>&nbsp;<span class="string" id="8023438">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="8023458">}</span><span class="op" id="8023459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023462">{</span><span class="ident" id="8023463">IP</span><span class="op" id="8023465">{</span><span class="num" id="8023466">0x20</span><span class="op" id="8023470">,</span>&nbsp;<span class="num" id="8023472">0x1</span><span class="op" id="8023475">,</span>&nbsp;<span class="num" id="8023477">0xd</span><span class="op" id="8023480">,</span>&nbsp;<span class="num" id="8023482">0xb8</span><span class="op" id="8023486">,</span>&nbsp;<span class="num" id="8023488">0</span><span class="op" id="8023489">,</span>&nbsp;<span class="num" id="8023491">0</span><span class="op" id="8023492">,</span>&nbsp;<span class="num" id="8023494">0</span><span class="op" id="8023495">,</span>&nbsp;<span class="num" id="8023497">0</span><span class="op" id="8023498">,</span>&nbsp;<span class="num" id="8023500">0</span><span class="op" id="8023501">,</span>&nbsp;<span class="num" id="8023503">0</span><span class="op" id="8023504">,</span>&nbsp;<span class="num" id="8023506">0</span><span class="op" id="8023507">,</span>&nbsp;<span class="num" id="8023509">0</span><span class="op" id="8023510">,</span>&nbsp;<span class="num" id="8023512">0</span><span class="op" id="8023513">,</span>&nbsp;<span class="num" id="8023515">0</span><span class="op" id="8023516">,</span>&nbsp;<span class="num" id="8023518">0</span><span class="op" id="8023519">,</span>&nbsp;<span class="num" id="8023521">0x1</span><span class="op" id="8023524">}</span><span class="op" id="8023525">,</span>&nbsp;<span class="string" id="8023527">&#34;2001:db8::1&#34;</span><span class="op" id="8023540">}</span><span class="op" id="8023541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023544">{</span><span class="ident" id="8023545">IP</span><span class="op" id="8023547">{</span><span class="num" id="8023548">0x20</span><span class="op" id="8023552">,</span>&nbsp;<span class="num" id="8023554">0x1</span><span class="op" id="8023557">,</span>&nbsp;<span class="num" id="8023559">0xd</span><span class="op" id="8023562">,</span>&nbsp;<span class="num" id="8023564">0xb8</span><span class="op" id="8023568">,</span>&nbsp;<span class="num" id="8023570">0</span><span class="op" id="8023571">,</span>&nbsp;<span class="num" id="8023573">0</span><span class="op" id="8023574">,</span>&nbsp;<span class="num" id="8023576">0</span><span class="op" id="8023577">,</span>&nbsp;<span class="num" id="8023579">0x1</span><span class="op" id="8023582">,</span>&nbsp;<span class="num" id="8023584">0</span><span class="op" id="8023585">,</span>&nbsp;<span class="num" id="8023587">0</span><span class="op" id="8023588">,</span>&nbsp;<span class="num" id="8023590">0</span><span class="op" id="8023591">,</span>&nbsp;<span class="num" id="8023593">0x1</span><span class="op" id="8023596">,</span>&nbsp;<span class="num" id="8023598">0</span><span class="op" id="8023599">,</span>&nbsp;<span class="num" id="8023601">0</span><span class="op" id="8023602">,</span>&nbsp;<span class="num" id="8023604">0</span><span class="op" id="8023605">,</span>&nbsp;<span class="num" id="8023607">0x1</span><span class="op" id="8023610">}</span><span class="op" id="8023611">,</span>&nbsp;<span class="string" id="8023613">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="8023635">}</span><span class="op" id="8023636">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023639">{</span><span class="ident" id="8023640">IP</span><span class="op" id="8023642">{</span><span class="num" id="8023643">0x20</span><span class="op" id="8023647">,</span>&nbsp;<span class="num" id="8023649">0x1</span><span class="op" id="8023652">,</span>&nbsp;<span class="num" id="8023654">0xd</span><span class="op" id="8023657">,</span>&nbsp;<span class="num" id="8023659">0xb8</span><span class="op" id="8023663">,</span>&nbsp;<span class="num" id="8023665">0</span><span class="op" id="8023666">,</span>&nbsp;<span class="num" id="8023668">0x1</span><span class="op" id="8023671">,</span>&nbsp;<span class="num" id="8023673">0</span><span class="op" id="8023674">,</span>&nbsp;<span class="num" id="8023676">0</span><span class="op" id="8023677">,</span>&nbsp;<span class="num" id="8023679">0</span><span class="op" id="8023680">,</span>&nbsp;<span class="num" id="8023682">0x1</span><span class="op" id="8023685">,</span>&nbsp;<span class="num" id="8023687">0</span><span class="op" id="8023688">,</span>&nbsp;<span class="num" id="8023690">0</span><span class="op" id="8023691">,</span>&nbsp;<span class="num" id="8023693">0</span><span class="op" id="8023694">,</span>&nbsp;<span class="num" id="8023696">0x1</span><span class="op" id="8023699">,</span>&nbsp;<span class="num" id="8023701">0</span><span class="op" id="8023702">,</span>&nbsp;<span class="num" id="8023704">0</span><span class="op" id="8023705">}</span><span class="op" id="8023706">,</span>&nbsp;<span class="string" id="8023708">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="8023730">}</span><span class="op" id="8023731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023734">{</span><span class="ident" id="8023735">IP</span><span class="op" id="8023737">{</span><span class="num" id="8023738">0x20</span><span class="op" id="8023742">,</span>&nbsp;<span class="num" id="8023744">0x1</span><span class="op" id="8023747">,</span>&nbsp;<span class="num" id="8023749">0</span><span class="op" id="8023750">,</span>&nbsp;<span class="num" id="8023752">0</span><span class="op" id="8023753">,</span>&nbsp;<span class="num" id="8023755">0</span><span class="op" id="8023756">,</span>&nbsp;<span class="num" id="8023758">0</span><span class="op" id="8023759">,</span>&nbsp;<span class="num" id="8023761">0</span><span class="op" id="8023762">,</span>&nbsp;<span class="num" id="8023764">0</span><span class="op" id="8023765">,</span>&nbsp;<span class="num" id="8023767">0</span><span class="op" id="8023768">,</span>&nbsp;<span class="num" id="8023770">0x1</span><span class="op" id="8023773">,</span>&nbsp;<span class="num" id="8023775">0</span><span class="op" id="8023776">,</span>&nbsp;<span class="num" id="8023778">0</span><span class="op" id="8023779">,</span>&nbsp;<span class="num" id="8023781">0</span><span class="op" id="8023782">,</span>&nbsp;<span class="num" id="8023784">0</span><span class="op" id="8023785">,</span>&nbsp;<span class="num" id="8023787">0</span><span class="op" id="8023788">,</span>&nbsp;<span class="num" id="8023790">0x1</span><span class="op" id="8023793">}</span><span class="op" id="8023794">,</span>&nbsp;<span class="string" id="8023796">&#34;2001::1:0:0:1&#34;</span><span class="op" id="8023811">}</span><span class="op" id="8023812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023815">{</span><span class="ident" id="8023816">IP</span><span class="op" id="8023818">{</span><span class="num" id="8023819">0x20</span><span class="op" id="8023823">,</span>&nbsp;<span class="num" id="8023825">0x1</span><span class="op" id="8023828">,</span>&nbsp;<span class="num" id="8023830">0xd</span><span class="op" id="8023833">,</span>&nbsp;<span class="num" id="8023835">0xb8</span><span class="op" id="8023839">,</span>&nbsp;<span class="num" id="8023841">0</span><span class="op" id="8023842">,</span>&nbsp;<span class="num" id="8023844">0</span><span class="op" id="8023845">,</span>&nbsp;<span class="num" id="8023847">0</span><span class="op" id="8023848">,</span>&nbsp;<span class="num" id="8023850">0</span><span class="op" id="8023851">,</span>&nbsp;<span class="num" id="8023853">0</span><span class="op" id="8023854">,</span>&nbsp;<span class="num" id="8023856">0x1</span><span class="op" id="8023859">,</span>&nbsp;<span class="num" id="8023861">0</span><span class="op" id="8023862">,</span>&nbsp;<span class="num" id="8023864">0</span><span class="op" id="8023865">,</span>&nbsp;<span class="num" id="8023867">0</span><span class="op" id="8023868">,</span>&nbsp;<span class="num" id="8023870">0</span><span class="op" id="8023871">,</span>&nbsp;<span class="num" id="8023873">0</span><span class="op" id="8023874">,</span>&nbsp;<span class="num" id="8023876">0</span><span class="op" id="8023877">}</span><span class="op" id="8023878">,</span>&nbsp;<span class="string" id="8023880">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="8023898">}</span><span class="op" id="8023899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023902">{</span><span class="ident" id="8023903">IP</span><span class="op" id="8023905">{</span><span class="num" id="8023906">0x20</span><span class="op" id="8023910">,</span>&nbsp;<span class="num" id="8023912">0x1</span><span class="op" id="8023915">,</span>&nbsp;<span class="num" id="8023917">0xd</span><span class="op" id="8023920">,</span>&nbsp;<span class="num" id="8023922">0xb8</span><span class="op" id="8023926">,</span>&nbsp;<span class="num" id="8023928">0</span><span class="op" id="8023929">,</span>&nbsp;<span class="num" id="8023931">0</span><span class="op" id="8023932">,</span>&nbsp;<span class="num" id="8023934">0</span><span class="op" id="8023935">,</span>&nbsp;<span class="num" id="8023937">0</span><span class="op" id="8023938">,</span>&nbsp;<span class="num" id="8023940">0</span><span class="op" id="8023941">,</span>&nbsp;<span class="num" id="8023943">0x1</span><span class="op" id="8023946">,</span>&nbsp;<span class="num" id="8023948">0</span><span class="op" id="8023949">,</span>&nbsp;<span class="num" id="8023951">0</span><span class="op" id="8023952">,</span>&nbsp;<span class="num" id="8023954">0</span><span class="op" id="8023955">,</span>&nbsp;<span class="num" id="8023957">0</span><span class="op" id="8023958">,</span>&nbsp;<span class="num" id="8023960">0</span><span class="op" id="8023961">,</span>&nbsp;<span class="num" id="8023963">0x1</span><span class="op" id="8023966">}</span><span class="op" id="8023967">,</span>&nbsp;<span class="string" id="8023969">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="8023988">}</span><span class="op" id="8023989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8023992">{</span><span class="ident" id="8023993">IP</span><span class="op" id="8023995">{</span><span class="num" id="8023996">0x20</span><span class="op" id="8024000">,</span>&nbsp;<span class="num" id="8024002">0x1</span><span class="op" id="8024005">,</span>&nbsp;<span class="num" id="8024007">0xD</span><span class="op" id="8024010">,</span>&nbsp;<span class="num" id="8024012">0xB8</span><span class="op" id="8024016">,</span>&nbsp;<span class="num" id="8024018">0</span><span class="op" id="8024019">,</span>&nbsp;<span class="num" id="8024021">0</span><span class="op" id="8024022">,</span>&nbsp;<span class="num" id="8024024">0</span><span class="op" id="8024025">,</span>&nbsp;<span class="num" id="8024027">0</span><span class="op" id="8024028">,</span>&nbsp;<span class="num" id="8024030">0</span><span class="op" id="8024031">,</span>&nbsp;<span class="num" id="8024033">0xA</span><span class="op" id="8024036">,</span>&nbsp;<span class="num" id="8024038">0</span><span class="op" id="8024039">,</span>&nbsp;<span class="num" id="8024041">0xB</span><span class="op" id="8024044">,</span>&nbsp;<span class="num" id="8024046">0</span><span class="op" id="8024047">,</span>&nbsp;<span class="num" id="8024049">0xC</span><span class="op" id="8024052">,</span>&nbsp;<span class="num" id="8024054">0</span><span class="op" id="8024055">,</span>&nbsp;<span class="num" id="8024057">0xD</span><span class="op" id="8024060">}</span><span class="op" id="8024061">,</span>&nbsp;<span class="string" id="8024063">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="8024082">}</span><span class="op" id="8024083">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024086">{</span><span class="ident" id="8024087">IPv4</span><span class="op" id="8024091">(</span><span class="num" id="8024092">192</span><span class="op" id="8024095">,</span>&nbsp;<span class="num" id="8024097">168</span><span class="op" id="8024100">,</span>&nbsp;<span class="num" id="8024102">0</span><span class="op" id="8024103">,</span>&nbsp;<span class="num" id="8024105">1</span><span class="op" id="8024106">)</span><span class="op" id="8024107">,</span>&nbsp;<span class="string" id="8024109">&#34;192.168.0.1&#34;</span><span class="op" id="8024122">}</span><span class="op" id="8024123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024126">{</span><span class="ident" id="8024127">nil</span><span class="op" id="8024130">,</span>&nbsp;<span class="string" id="8024132">&#34;&#34;</span><span class="op" id="8024134">}</span><span class="op" id="8024135">,</span><br>
<span class="lineno"></span><span class="op" id="8024137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8024140">func</span>&nbsp;<span class="ident" id="8024145">TestIPString</span><span class="op" id="8024157">(</span><span class="ident" id="8024158">t</span>&nbsp;<span class="op" id="8024160">*</span><span class="ident" id="8024161">testing</span><span class="op" id="8024168">.</span><span class="ident" id="8024169">T</span><span class="op" id="8024170">)</span>&nbsp;<span class="op" id="8024172">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8024175">for</span>&nbsp;<span class="ident" id="8024179">_</span><span class="op" id="8024180">,</span>&nbsp;<span class="ident" id="8024182">tt</span>&nbsp;<span class="op" id="8024185">:=</span>&nbsp;<span class="keyword" id="8024188">range</span>&nbsp;<span class="ident" id="8024194">ipStringTests</span>&nbsp;<span class="op" id="8024208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8024212">if</span>&nbsp;<span class="ident" id="8024215">tt</span><span class="op" id="8024217">.</span><span class="ident" id="8024218">in</span>&nbsp;<span class="op" id="8024221">!=</span>&nbsp;<span class="ident" id="8024224">nil</span>&nbsp;<span class="op" id="8024228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8024233">if</span>&nbsp;<span class="ident" id="8024236">out</span>&nbsp;<span class="op" id="8024240">:=</span>&nbsp;<span class="ident" id="8024243">tt</span><span class="op" id="8024245">.</span><span class="ident" id="8024246">in</span><span class="op" id="8024248">.</span><span class="ident" id="8024249">String</span><span class="op" id="8024255">(</span><span class="op" id="8024256">)</span><span class="op" id="8024257">;</span>&nbsp;<span class="ident" id="8024259">out</span>&nbsp;<span class="op" id="8024263">!=</span>&nbsp;<span class="ident" id="8024266">tt</span><span class="op" id="8024268">.</span><span class="ident" id="8024269">out</span>&nbsp;<span class="op" id="8024273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8024279">t</span><span class="op" id="8024280">.</span><span class="ident" id="8024281">Errorf</span><span class="op" id="8024287">(</span><span class="string" id="8024288">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8024317">,</span>&nbsp;<span class="ident" id="8024319">tt</span><span class="op" id="8024321">.</span><span class="ident" id="8024322">in</span><span class="op" id="8024324">,</span>&nbsp;<span class="ident" id="8024326">out</span><span class="op" id="8024329">,</span>&nbsp;<span class="ident" id="8024331">tt</span><span class="op" id="8024333">.</span><span class="ident" id="8024334">out</span><span class="op" id="8024337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024342">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8024350">if</span>&nbsp;<span class="ident" id="8024353">out</span><span class="op" id="8024356">,</span>&nbsp;<span class="ident" id="8024358">err</span>&nbsp;<span class="op" id="8024362">:=</span>&nbsp;<span class="ident" id="8024365">tt</span><span class="op" id="8024367">.</span><span class="ident" id="8024368">in</span><span class="op" id="8024370">.</span><span class="ident" id="8024371">MarshalText</span><span class="op" id="8024382">(</span><span class="op" id="8024383">)</span><span class="op" id="8024384">;</span>&nbsp;<span class="builtintype" id="8024386">string</span><span class="op" id="8024392">(</span><span class="ident" id="8024393">out</span><span class="op" id="8024396">)</span>&nbsp;<span class="op" id="8024398">!=</span>&nbsp;<span class="ident" id="8024401">tt</span><span class="op" id="8024403">.</span><span class="ident" id="8024404">out</span>&nbsp;<span class="op" id="8024408">||</span>&nbsp;<span class="ident" id="8024411">err</span>&nbsp;<span class="op" id="8024415">!=</span>&nbsp;<span class="ident" id="8024418">nil</span>&nbsp;<span class="op" id="8024422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8024427">t</span><span class="op" id="8024428">.</span><span class="ident" id="8024429">Errorf</span><span class="op" id="8024435">(</span><span class="string" id="8024436">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="8024479">,</span>&nbsp;<span class="ident" id="8024481">tt</span><span class="op" id="8024483">.</span><span class="ident" id="8024484">in</span><span class="op" id="8024486">,</span>&nbsp;<span class="ident" id="8024488">out</span><span class="op" id="8024491">,</span>&nbsp;<span class="ident" id="8024493">err</span><span class="op" id="8024496">,</span>&nbsp;<span class="ident" id="8024498">tt</span><span class="op" id="8024500">.</span><span class="ident" id="8024501">out</span><span class="op" id="8024504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024511">}</span><br>
<span class="lineno">100</span><span class="op" id="8024513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8024516">func</span>&nbsp;<span class="ident" id="8024521">BenchmarkIPString</span><span class="op" id="8024538">(</span><span class="ident" id="8024539">b</span>&nbsp;<span class="op" id="8024541">*</span><span class="ident" id="8024542">testing</span><span class="op" id="8024549">.</span><span class="ident" id="8024550">B</span><span class="op" id="8024551">)</span>&nbsp;<span class="op" id="8024553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8024556">for</span>&nbsp;<span class="ident" id="8024560">i</span>&nbsp;<span class="op" id="8024562">:=</span>&nbsp;<span class="num" id="8024565">0</span><span class="op" id="8024566">;</span>&nbsp;<span class="ident" id="8024568">i</span>&nbsp;<span class="op" id="8024570">&lt;</span>&nbsp;<span class="ident" id="8024572">b</span><span class="op" id="8024573">.</span><span class="ident" id="8024574">N</span><span class="op" id="8024575">;</span>&nbsp;<span class="ident" id="8024577">i</span><span class="op" id="8024578">++</span>&nbsp;<span class="op" id="8024581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8024585">for</span>&nbsp;<span class="ident" id="8024589">_</span><span class="op" id="8024590">,</span>&nbsp;<span class="ident" id="8024592">tt</span>&nbsp;<span class="op" id="8024595">:=</span>&nbsp;<span class="keyword" id="8024598">range</span>&nbsp;<span class="ident" id="8024604">ipStringTests</span>&nbsp;<span class="op" id="8024618">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8024623">if</span>&nbsp;<span class="ident" id="8024626">tt</span><span class="op" id="8024628">.</span><span class="ident" id="8024629">in</span>&nbsp;<span class="op" id="8024632">!=</span>&nbsp;<span class="ident" id="8024635">nil</span>&nbsp;<span class="op" id="8024639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8024645">tt</span><span class="op" id="8024647">.</span><span class="ident" id="8024648">in</span><span class="op" id="8024650">.</span><span class="ident" id="8024651">String</span><span class="op" id="8024657">(</span><span class="op" id="8024658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024670">}</span><br>
<span class="lineno">110</span><span class="op" id="8024672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8024675">var</span>&nbsp;<span class="ident" id="8024679">ipMaskTests</span>&nbsp;<span class="op" id="8024691">=</span>&nbsp;<span class="op" id="8024693">[</span><span class="op" id="8024694">]</span><span class="keyword" id="8024695">struct</span>&nbsp;<span class="op" id="8024702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8024705">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8024710">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8024714">mask</span>&nbsp;<span class="ident" id="8024719">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8024727">out</span>&nbsp;&nbsp;<span class="ident" id="8024732">IP</span><br>
<span class="lineno"></span><span class="op" id="8024735">}</span><span class="op" id="8024736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024739">{</span><span class="ident" id="8024740">IPv4</span><span class="op" id="8024744">(</span><span class="num" id="8024745">192</span><span class="op" id="8024748">,</span>&nbsp;<span class="num" id="8024750">168</span><span class="op" id="8024753">,</span>&nbsp;<span class="num" id="8024755">1</span><span class="op" id="8024756">,</span>&nbsp;<span class="num" id="8024758">127</span><span class="op" id="8024761">)</span><span class="op" id="8024762">,</span>&nbsp;<span class="ident" id="8024764">IPv4Mask</span><span class="op" id="8024772">(</span><span class="num" id="8024773">255</span><span class="op" id="8024776">,</span>&nbsp;<span class="num" id="8024778">255</span><span class="op" id="8024781">,</span>&nbsp;<span class="num" id="8024783">255</span><span class="op" id="8024786">,</span>&nbsp;<span class="num" id="8024788">128</span><span class="op" id="8024791">)</span><span class="op" id="8024792">,</span>&nbsp;<span class="ident" id="8024794">IPv4</span><span class="op" id="8024798">(</span><span class="num" id="8024799">192</span><span class="op" id="8024802">,</span>&nbsp;<span class="num" id="8024804">168</span><span class="op" id="8024807">,</span>&nbsp;<span class="num" id="8024809">1</span><span class="op" id="8024810">,</span>&nbsp;<span class="num" id="8024812">0</span><span class="op" id="8024813">)</span><span class="op" id="8024814">}</span><span class="op" id="8024815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024818">{</span><span class="ident" id="8024819">IPv4</span><span class="op" id="8024823">(</span><span class="num" id="8024824">192</span><span class="op" id="8024827">,</span>&nbsp;<span class="num" id="8024829">168</span><span class="op" id="8024832">,</span>&nbsp;<span class="num" id="8024834">1</span><span class="op" id="8024835">,</span>&nbsp;<span class="num" id="8024837">127</span><span class="op" id="8024840">)</span><span class="op" id="8024841">,</span>&nbsp;<span class="ident" id="8024843">IPMask</span><span class="op" id="8024849">(</span><span class="ident" id="8024850">ParseIP</span><span class="op" id="8024857">(</span><span class="string" id="8024858">&#34;255.255.255.192&#34;</span><span class="op" id="8024875">)</span><span class="op" id="8024876">)</span><span class="op" id="8024877">,</span>&nbsp;<span class="ident" id="8024879">IPv4</span><span class="op" id="8024883">(</span><span class="num" id="8024884">192</span><span class="op" id="8024887">,</span>&nbsp;<span class="num" id="8024889">168</span><span class="op" id="8024892">,</span>&nbsp;<span class="num" id="8024894">1</span><span class="op" id="8024895">,</span>&nbsp;<span class="num" id="8024897">64</span><span class="op" id="8024899">)</span><span class="op" id="8024900">}</span><span class="op" id="8024901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8024904">{</span><span class="ident" id="8024905">IPv4</span><span class="op" id="8024909">(</span><span class="num" id="8024910">192</span><span class="op" id="8024913">,</span>&nbsp;<span class="num" id="8024915">168</span><span class="op" id="8024918">,</span>&nbsp;<span class="num" id="8024920">1</span><span class="op" id="8024921">,</span>&nbsp;<span class="num" id="8024923">127</span><span class="op" id="8024926">)</span><span class="op" id="8024927">,</span>&nbsp;<span class="ident" id="8024929">IPMask</span><span class="op" id="8024935">(</span><span class="ident" id="8024936">ParseIP</span><span class="op" id="8024943">(</span><span class="string" id="8024944">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="8024985">)</span><span class="op" id="8024986">)</span><span class="op" id="8024987">,</span>&nbsp;<span class="ident" id="8024989">IPv4</span><span class="op" id="8024993">(</span><span class="num" id="8024994">192</span><span class="op" id="8024997">,</span>&nbsp;<span class="num" id="8024999">168</span><span class="op" id="8025002">,</span>&nbsp;<span class="num" id="8025004">1</span><span class="op" id="8025005">,</span>&nbsp;<span class="num" id="8025007">96</span><span class="op" id="8025009">)</span><span class="op" id="8025010">}</span><span class="op" id="8025011">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025014">{</span><span class="ident" id="8025015">IPv4</span><span class="op" id="8025019">(</span><span class="num" id="8025020">192</span><span class="op" id="8025023">,</span>&nbsp;<span class="num" id="8025025">168</span><span class="op" id="8025028">,</span>&nbsp;<span class="num" id="8025030">1</span><span class="op" id="8025031">,</span>&nbsp;<span class="num" id="8025033">127</span><span class="op" id="8025036">)</span><span class="op" id="8025037">,</span>&nbsp;<span class="ident" id="8025039">IPv4Mask</span><span class="op" id="8025047">(</span><span class="num" id="8025048">255</span><span class="op" id="8025051">,</span>&nbsp;<span class="num" id="8025053">0</span><span class="op" id="8025054">,</span>&nbsp;<span class="num" id="8025056">255</span><span class="op" id="8025059">,</span>&nbsp;<span class="num" id="8025061">0</span><span class="op" id="8025062">)</span><span class="op" id="8025063">,</span>&nbsp;<span class="ident" id="8025065">IPv4</span><span class="op" id="8025069">(</span><span class="num" id="8025070">192</span><span class="op" id="8025073">,</span>&nbsp;<span class="num" id="8025075">0</span><span class="op" id="8025076">,</span>&nbsp;<span class="num" id="8025078">1</span><span class="op" id="8025079">,</span>&nbsp;<span class="num" id="8025081">0</span><span class="op" id="8025082">)</span><span class="op" id="8025083">}</span><span class="op" id="8025084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025087">{</span><span class="ident" id="8025088">ParseIP</span><span class="op" id="8025095">(</span><span class="string" id="8025096">&#34;2001:db8::1&#34;</span><span class="op" id="8025109">)</span><span class="op" id="8025110">,</span>&nbsp;<span class="ident" id="8025112">IPMask</span><span class="op" id="8025118">(</span><span class="ident" id="8025119">ParseIP</span><span class="op" id="8025126">(</span><span class="string" id="8025127">&#34;ffff:ff80::&#34;</span><span class="op" id="8025140">)</span><span class="op" id="8025141">)</span><span class="op" id="8025142">,</span>&nbsp;<span class="ident" id="8025144">ParseIP</span><span class="op" id="8025151">(</span><span class="string" id="8025152">&#34;2001:d80::&#34;</span><span class="op" id="8025164">)</span><span class="op" id="8025165">}</span><span class="op" id="8025166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025169">{</span><span class="ident" id="8025170">ParseIP</span><span class="op" id="8025177">(</span><span class="string" id="8025178">&#34;2001:db8::1&#34;</span><span class="op" id="8025191">)</span><span class="op" id="8025192">,</span>&nbsp;<span class="ident" id="8025194">IPMask</span><span class="op" id="8025200">(</span><span class="ident" id="8025201">ParseIP</span><span class="op" id="8025208">(</span><span class="string" id="8025209">&#34;f0f0:0f0f::&#34;</span><span class="op" id="8025222">)</span><span class="op" id="8025223">)</span><span class="op" id="8025224">,</span>&nbsp;<span class="ident" id="8025226">ParseIP</span><span class="op" id="8025233">(</span><span class="string" id="8025234">&#34;2000:d08::&#34;</span><span class="op" id="8025246">)</span><span class="op" id="8025247">}</span><span class="op" id="8025248">,</span><br>
<span class="lineno"></span><span class="op" id="8025250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="8025253">func</span>&nbsp;<span class="ident" id="8025258">TestIPMask</span><span class="op" id="8025268">(</span><span class="ident" id="8025269">t</span>&nbsp;<span class="op" id="8025271">*</span><span class="ident" id="8025272">testing</span><span class="op" id="8025279">.</span><span class="ident" id="8025280">T</span><span class="op" id="8025281">)</span>&nbsp;<span class="op" id="8025283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8025286">for</span>&nbsp;<span class="ident" id="8025290">_</span><span class="op" id="8025291">,</span>&nbsp;<span class="ident" id="8025293">tt</span>&nbsp;<span class="op" id="8025296">:=</span>&nbsp;<span class="keyword" id="8025299">range</span>&nbsp;<span class="ident" id="8025305">ipMaskTests</span>&nbsp;<span class="op" id="8025317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8025321">if</span>&nbsp;<span class="ident" id="8025324">out</span>&nbsp;<span class="op" id="8025328">:=</span>&nbsp;<span class="ident" id="8025331">tt</span><span class="op" id="8025333">.</span><span class="ident" id="8025334">in</span><span class="op" id="8025336">.</span><span class="ident" id="8025337">Mask</span><span class="op" id="8025341">(</span><span class="ident" id="8025342">tt</span><span class="op" id="8025344">.</span><span class="ident" id="8025345">mask</span><span class="op" id="8025349">)</span><span class="op" id="8025350">;</span>&nbsp;<span class="ident" id="8025352">out</span>&nbsp;<span class="op" id="8025356">==</span>&nbsp;<span class="ident" id="8025359">nil</span>&nbsp;<span class="op" id="8025363">||</span>&nbsp;<span class="op" id="8025366">!</span><span class="ident" id="8025367">tt</span><span class="op" id="8025369">.</span><span class="ident" id="8025370">out</span><span class="op" id="8025373">.</span><span class="ident" id="8025374">Equal</span><span class="op" id="8025379">(</span><span class="ident" id="8025380">out</span><span class="op" id="8025383">)</span>&nbsp;<span class="op" id="8025385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8025390">t</span><span class="op" id="8025391">.</span><span class="ident" id="8025392">Errorf</span><span class="op" id="8025398">(</span><span class="string" id="8025399">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8025430">,</span>&nbsp;<span class="ident" id="8025432">tt</span><span class="op" id="8025434">.</span><span class="ident" id="8025435">in</span><span class="op" id="8025437">,</span>&nbsp;<span class="ident" id="8025439">tt</span><span class="op" id="8025441">.</span><span class="ident" id="8025442">mask</span><span class="op" id="8025446">,</span>&nbsp;<span class="ident" id="8025448">out</span><span class="op" id="8025451">,</span>&nbsp;<span class="ident" id="8025453">tt</span><span class="op" id="8025455">.</span><span class="ident" id="8025456">out</span><span class="op" id="8025459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025463">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025466">}</span><br>
<span class="lineno"></span><span class="op" id="8025468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8025471">var</span>&nbsp;<span class="ident" id="8025475">ipMaskStringTests</span>&nbsp;<span class="op" id="8025493">=</span>&nbsp;<span class="op" id="8025495">[</span><span class="op" id="8025496">]</span><span class="keyword" id="8025497">struct</span>&nbsp;<span class="op" id="8025504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8025507">in</span>&nbsp;&nbsp;<span class="ident" id="8025511">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8025519">out</span>&nbsp;<span class="builtintype" id="8025523">string</span><br>
<span class="lineno"></span><span class="op" id="8025530">}</span><span class="op" id="8025531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025534">{</span><span class="ident" id="8025535">IPv4Mask</span><span class="op" id="8025543">(</span><span class="num" id="8025544">255</span><span class="op" id="8025547">,</span>&nbsp;<span class="num" id="8025549">255</span><span class="op" id="8025552">,</span>&nbsp;<span class="num" id="8025554">255</span><span class="op" id="8025557">,</span>&nbsp;<span class="num" id="8025559">240</span><span class="op" id="8025562">)</span><span class="op" id="8025563">,</span>&nbsp;<span class="string" id="8025565">&#34;fffffff0&#34;</span><span class="op" id="8025575">}</span><span class="op" id="8025576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025579">{</span><span class="ident" id="8025580">IPv4Mask</span><span class="op" id="8025588">(</span><span class="num" id="8025589">255</span><span class="op" id="8025592">,</span>&nbsp;<span class="num" id="8025594">0</span><span class="op" id="8025595">,</span>&nbsp;<span class="num" id="8025597">128</span><span class="op" id="8025600">,</span>&nbsp;<span class="num" id="8025602">0</span><span class="op" id="8025603">)</span><span class="op" id="8025604">,</span>&nbsp;<span class="string" id="8025606">&#34;ff008000&#34;</span><span class="op" id="8025616">}</span><span class="op" id="8025617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025620">{</span><span class="ident" id="8025621">IPMask</span><span class="op" id="8025627">(</span><span class="ident" id="8025628">ParseIP</span><span class="op" id="8025635">(</span><span class="string" id="8025636">&#34;ffff:ff80::&#34;</span><span class="op" id="8025649">)</span><span class="op" id="8025650">)</span><span class="op" id="8025651">,</span>&nbsp;<span class="string" id="8025653">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="8025687">}</span><span class="op" id="8025688">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025691">{</span><span class="ident" id="8025692">IPMask</span><span class="op" id="8025698">(</span><span class="ident" id="8025699">ParseIP</span><span class="op" id="8025706">(</span><span class="string" id="8025707">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="8025726">)</span><span class="op" id="8025727">)</span><span class="op" id="8025728">,</span>&nbsp;<span class="string" id="8025730">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="8025764">}</span><span class="op" id="8025765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025768">{</span><span class="ident" id="8025769">nil</span><span class="op" id="8025772">,</span>&nbsp;<span class="string" id="8025774">&#34;&lt;nil&gt;&#34;</span><span class="op" id="8025781">}</span><span class="op" id="8025782">,</span><br>
<span class="lineno"></span><span class="op" id="8025784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8025787">func</span>&nbsp;<span class="ident" id="8025792">TestIPMaskString</span><span class="op" id="8025808">(</span><span class="ident" id="8025809">t</span>&nbsp;<span class="op" id="8025811">*</span><span class="ident" id="8025812">testing</span><span class="op" id="8025819">.</span><span class="ident" id="8025820">T</span><span class="op" id="8025821">)</span>&nbsp;<span class="op" id="8025823">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8025826">for</span>&nbsp;<span class="ident" id="8025830">_</span><span class="op" id="8025831">,</span>&nbsp;<span class="ident" id="8025833">tt</span>&nbsp;<span class="op" id="8025836">:=</span>&nbsp;<span class="keyword" id="8025839">range</span>&nbsp;<span class="ident" id="8025845">ipMaskStringTests</span>&nbsp;<span class="op" id="8025863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8025867">if</span>&nbsp;<span class="ident" id="8025870">out</span>&nbsp;<span class="op" id="8025874">:=</span>&nbsp;<span class="ident" id="8025877">tt</span><span class="op" id="8025879">.</span><span class="ident" id="8025880">in</span><span class="op" id="8025882">.</span><span class="ident" id="8025883">String</span><span class="op" id="8025889">(</span><span class="op" id="8025890">)</span><span class="op" id="8025891">;</span>&nbsp;<span class="ident" id="8025893">out</span>&nbsp;<span class="op" id="8025897">!=</span>&nbsp;<span class="ident" id="8025900">tt</span><span class="op" id="8025902">.</span><span class="ident" id="8025903">out</span>&nbsp;<span class="op" id="8025907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8025912">t</span><span class="op" id="8025913">.</span><span class="ident" id="8025914">Errorf</span><span class="op" id="8025920">(</span><span class="string" id="8025921">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8025954">,</span>&nbsp;<span class="ident" id="8025956">tt</span><span class="op" id="8025958">.</span><span class="ident" id="8025959">in</span><span class="op" id="8025961">,</span>&nbsp;<span class="ident" id="8025963">out</span><span class="op" id="8025966">,</span>&nbsp;<span class="ident" id="8025968">tt</span><span class="op" id="8025970">.</span><span class="ident" id="8025971">out</span><span class="op" id="8025974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8025981">}</span><br>
<span class="lineno">150</span><span class="op" id="8025983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8025986">func</span>&nbsp;<span class="ident" id="8025991">BenchmarkIPMaskString</span><span class="op" id="8026012">(</span><span class="ident" id="8026013">b</span>&nbsp;<span class="op" id="8026015">*</span><span class="ident" id="8026016">testing</span><span class="op" id="8026023">.</span><span class="ident" id="8026024">B</span><span class="op" id="8026025">)</span>&nbsp;<span class="op" id="8026027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8026030">for</span>&nbsp;<span class="ident" id="8026034">i</span>&nbsp;<span class="op" id="8026036">:=</span>&nbsp;<span class="num" id="8026039">0</span><span class="op" id="8026040">;</span>&nbsp;<span class="ident" id="8026042">i</span>&nbsp;<span class="op" id="8026044">&lt;</span>&nbsp;<span class="ident" id="8026046">b</span><span class="op" id="8026047">.</span><span class="ident" id="8026048">N</span><span class="op" id="8026049">;</span>&nbsp;<span class="ident" id="8026051">i</span><span class="op" id="8026052">++</span>&nbsp;<span class="op" id="8026055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8026059">for</span>&nbsp;<span class="ident" id="8026063">_</span><span class="op" id="8026064">,</span>&nbsp;<span class="ident" id="8026066">tt</span>&nbsp;<span class="op" id="8026069">:=</span>&nbsp;<span class="keyword" id="8026072">range</span>&nbsp;<span class="ident" id="8026078">ipMaskStringTests</span>&nbsp;<span class="op" id="8026096">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8026101">tt</span><span class="op" id="8026103">.</span><span class="ident" id="8026104">in</span><span class="op" id="8026106">.</span><span class="ident" id="8026107">String</span><span class="op" id="8026113">(</span><span class="op" id="8026114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026121">}</span><br>
<span class="lineno"></span><span class="op" id="8026123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8026126">var</span>&nbsp;<span class="ident" id="8026130">parseCIDRTests</span>&nbsp;<span class="op" id="8026145">=</span>&nbsp;<span class="op" id="8026147">[</span><span class="op" id="8026148">]</span><span class="keyword" id="8026149">struct</span>&nbsp;<span class="op" id="8026156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8026159">in</span>&nbsp;&nbsp;<span class="builtintype" id="8026163">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8026171">ip</span>&nbsp;&nbsp;<span class="ident" id="8026175">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8026179">net</span>&nbsp;<span class="op" id="8026183">*</span><span class="ident" id="8026184">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8026191">err</span>&nbsp;<span class="builtintype" id="8026195">error</span><br>
<span class="lineno">165</span><span class="op" id="8026201">}</span><span class="op" id="8026202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026205">{</span><span class="string" id="8026206">&#34;135.104.0.0/32&#34;</span><span class="op" id="8026222">,</span>&nbsp;<span class="ident" id="8026224">IPv4</span><span class="op" id="8026228">(</span><span class="num" id="8026229">135</span><span class="op" id="8026232">,</span>&nbsp;<span class="num" id="8026234">104</span><span class="op" id="8026237">,</span>&nbsp;<span class="num" id="8026239">0</span><span class="op" id="8026240">,</span>&nbsp;<span class="num" id="8026242">0</span><span class="op" id="8026243">)</span><span class="op" id="8026244">,</span>&nbsp;<span class="op" id="8026246">&amp;</span><span class="ident" id="8026247">IPNet</span><span class="op" id="8026252">{</span><span class="ident" id="8026253">IP</span><span class="op" id="8026255">:</span>&nbsp;<span class="ident" id="8026257">IPv4</span><span class="op" id="8026261">(</span><span class="num" id="8026262">135</span><span class="op" id="8026265">,</span>&nbsp;<span class="num" id="8026267">104</span><span class="op" id="8026270">,</span>&nbsp;<span class="num" id="8026272">0</span><span class="op" id="8026273">,</span>&nbsp;<span class="num" id="8026275">0</span><span class="op" id="8026276">)</span><span class="op" id="8026277">,</span>&nbsp;<span class="ident" id="8026279">Mask</span><span class="op" id="8026283">:</span>&nbsp;<span class="ident" id="8026285">IPv4Mask</span><span class="op" id="8026293">(</span><span class="num" id="8026294">255</span><span class="op" id="8026297">,</span>&nbsp;<span class="num" id="8026299">255</span><span class="op" id="8026302">,</span>&nbsp;<span class="num" id="8026304">255</span><span class="op" id="8026307">,</span>&nbsp;<span class="num" id="8026309">255</span><span class="op" id="8026312">)</span><span class="op" id="8026313">}</span><span class="op" id="8026314">,</span>&nbsp;<span class="ident" id="8026316">nil</span><span class="op" id="8026319">}</span><span class="op" id="8026320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026323">{</span><span class="string" id="8026324">&#34;0.0.0.0/24&#34;</span><span class="op" id="8026336">,</span>&nbsp;<span class="ident" id="8026338">IPv4</span><span class="op" id="8026342">(</span><span class="num" id="8026343">0</span><span class="op" id="8026344">,</span>&nbsp;<span class="num" id="8026346">0</span><span class="op" id="8026347">,</span>&nbsp;<span class="num" id="8026349">0</span><span class="op" id="8026350">,</span>&nbsp;<span class="num" id="8026352">0</span><span class="op" id="8026353">)</span><span class="op" id="8026354">,</span>&nbsp;<span class="op" id="8026356">&amp;</span><span class="ident" id="8026357">IPNet</span><span class="op" id="8026362">{</span><span class="ident" id="8026363">IP</span><span class="op" id="8026365">:</span>&nbsp;<span class="ident" id="8026367">IPv4</span><span class="op" id="8026371">(</span><span class="num" id="8026372">0</span><span class="op" id="8026373">,</span>&nbsp;<span class="num" id="8026375">0</span><span class="op" id="8026376">,</span>&nbsp;<span class="num" id="8026378">0</span><span class="op" id="8026379">,</span>&nbsp;<span class="num" id="8026381">0</span><span class="op" id="8026382">)</span><span class="op" id="8026383">,</span>&nbsp;<span class="ident" id="8026385">Mask</span><span class="op" id="8026389">:</span>&nbsp;<span class="ident" id="8026391">IPv4Mask</span><span class="op" id="8026399">(</span><span class="num" id="8026400">255</span><span class="op" id="8026403">,</span>&nbsp;<span class="num" id="8026405">255</span><span class="op" id="8026408">,</span>&nbsp;<span class="num" id="8026410">255</span><span class="op" id="8026413">,</span>&nbsp;<span class="num" id="8026415">0</span><span class="op" id="8026416">)</span><span class="op" id="8026417">}</span><span class="op" id="8026418">,</span>&nbsp;<span class="ident" id="8026420">nil</span><span class="op" id="8026423">}</span><span class="op" id="8026424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026427">{</span><span class="string" id="8026428">&#34;135.104.0.0/24&#34;</span><span class="op" id="8026444">,</span>&nbsp;<span class="ident" id="8026446">IPv4</span><span class="op" id="8026450">(</span><span class="num" id="8026451">135</span><span class="op" id="8026454">,</span>&nbsp;<span class="num" id="8026456">104</span><span class="op" id="8026459">,</span>&nbsp;<span class="num" id="8026461">0</span><span class="op" id="8026462">,</span>&nbsp;<span class="num" id="8026464">0</span><span class="op" id="8026465">)</span><span class="op" id="8026466">,</span>&nbsp;<span class="op" id="8026468">&amp;</span><span class="ident" id="8026469">IPNet</span><span class="op" id="8026474">{</span><span class="ident" id="8026475">IP</span><span class="op" id="8026477">:</span>&nbsp;<span class="ident" id="8026479">IPv4</span><span class="op" id="8026483">(</span><span class="num" id="8026484">135</span><span class="op" id="8026487">,</span>&nbsp;<span class="num" id="8026489">104</span><span class="op" id="8026492">,</span>&nbsp;<span class="num" id="8026494">0</span><span class="op" id="8026495">,</span>&nbsp;<span class="num" id="8026497">0</span><span class="op" id="8026498">)</span><span class="op" id="8026499">,</span>&nbsp;<span class="ident" id="8026501">Mask</span><span class="op" id="8026505">:</span>&nbsp;<span class="ident" id="8026507">IPv4Mask</span><span class="op" id="8026515">(</span><span class="num" id="8026516">255</span><span class="op" id="8026519">,</span>&nbsp;<span class="num" id="8026521">255</span><span class="op" id="8026524">,</span>&nbsp;<span class="num" id="8026526">255</span><span class="op" id="8026529">,</span>&nbsp;<span class="num" id="8026531">0</span><span class="op" id="8026532">)</span><span class="op" id="8026533">}</span><span class="op" id="8026534">,</span>&nbsp;<span class="ident" id="8026536">nil</span><span class="op" id="8026539">}</span><span class="op" id="8026540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026543">{</span><span class="string" id="8026544">&#34;135.104.0.1/32&#34;</span><span class="op" id="8026560">,</span>&nbsp;<span class="ident" id="8026562">IPv4</span><span class="op" id="8026566">(</span><span class="num" id="8026567">135</span><span class="op" id="8026570">,</span>&nbsp;<span class="num" id="8026572">104</span><span class="op" id="8026575">,</span>&nbsp;<span class="num" id="8026577">0</span><span class="op" id="8026578">,</span>&nbsp;<span class="num" id="8026580">1</span><span class="op" id="8026581">)</span><span class="op" id="8026582">,</span>&nbsp;<span class="op" id="8026584">&amp;</span><span class="ident" id="8026585">IPNet</span><span class="op" id="8026590">{</span><span class="ident" id="8026591">IP</span><span class="op" id="8026593">:</span>&nbsp;<span class="ident" id="8026595">IPv4</span><span class="op" id="8026599">(</span><span class="num" id="8026600">135</span><span class="op" id="8026603">,</span>&nbsp;<span class="num" id="8026605">104</span><span class="op" id="8026608">,</span>&nbsp;<span class="num" id="8026610">0</span><span class="op" id="8026611">,</span>&nbsp;<span class="num" id="8026613">1</span><span class="op" id="8026614">)</span><span class="op" id="8026615">,</span>&nbsp;<span class="ident" id="8026617">Mask</span><span class="op" id="8026621">:</span>&nbsp;<span class="ident" id="8026623">IPv4Mask</span><span class="op" id="8026631">(</span><span class="num" id="8026632">255</span><span class="op" id="8026635">,</span>&nbsp;<span class="num" id="8026637">255</span><span class="op" id="8026640">,</span>&nbsp;<span class="num" id="8026642">255</span><span class="op" id="8026645">,</span>&nbsp;<span class="num" id="8026647">255</span><span class="op" id="8026650">)</span><span class="op" id="8026651">}</span><span class="op" id="8026652">,</span>&nbsp;<span class="ident" id="8026654">nil</span><span class="op" id="8026657">}</span><span class="op" id="8026658">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026661">{</span><span class="string" id="8026662">&#34;135.104.0.1/24&#34;</span><span class="op" id="8026678">,</span>&nbsp;<span class="ident" id="8026680">IPv4</span><span class="op" id="8026684">(</span><span class="num" id="8026685">135</span><span class="op" id="8026688">,</span>&nbsp;<span class="num" id="8026690">104</span><span class="op" id="8026693">,</span>&nbsp;<span class="num" id="8026695">0</span><span class="op" id="8026696">,</span>&nbsp;<span class="num" id="8026698">1</span><span class="op" id="8026699">)</span><span class="op" id="8026700">,</span>&nbsp;<span class="op" id="8026702">&amp;</span><span class="ident" id="8026703">IPNet</span><span class="op" id="8026708">{</span><span class="ident" id="8026709">IP</span><span class="op" id="8026711">:</span>&nbsp;<span class="ident" id="8026713">IPv4</span><span class="op" id="8026717">(</span><span class="num" id="8026718">135</span><span class="op" id="8026721">,</span>&nbsp;<span class="num" id="8026723">104</span><span class="op" id="8026726">,</span>&nbsp;<span class="num" id="8026728">0</span><span class="op" id="8026729">,</span>&nbsp;<span class="num" id="8026731">0</span><span class="op" id="8026732">)</span><span class="op" id="8026733">,</span>&nbsp;<span class="ident" id="8026735">Mask</span><span class="op" id="8026739">:</span>&nbsp;<span class="ident" id="8026741">IPv4Mask</span><span class="op" id="8026749">(</span><span class="num" id="8026750">255</span><span class="op" id="8026753">,</span>&nbsp;<span class="num" id="8026755">255</span><span class="op" id="8026758">,</span>&nbsp;<span class="num" id="8026760">255</span><span class="op" id="8026763">,</span>&nbsp;<span class="num" id="8026765">0</span><span class="op" id="8026766">)</span><span class="op" id="8026767">}</span><span class="op" id="8026768">,</span>&nbsp;<span class="ident" id="8026770">nil</span><span class="op" id="8026773">}</span><span class="op" id="8026774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026777">{</span><span class="string" id="8026778">&#34;::1/128&#34;</span><span class="op" id="8026787">,</span>&nbsp;<span class="ident" id="8026789">ParseIP</span><span class="op" id="8026796">(</span><span class="string" id="8026797">&#34;::1&#34;</span><span class="op" id="8026802">)</span><span class="op" id="8026803">,</span>&nbsp;<span class="op" id="8026805">&amp;</span><span class="ident" id="8026806">IPNet</span><span class="op" id="8026811">{</span><span class="ident" id="8026812">IP</span><span class="op" id="8026814">:</span>&nbsp;<span class="ident" id="8026816">ParseIP</span><span class="op" id="8026823">(</span><span class="string" id="8026824">&#34;::1&#34;</span><span class="op" id="8026829">)</span><span class="op" id="8026830">,</span>&nbsp;<span class="ident" id="8026832">Mask</span><span class="op" id="8026836">:</span>&nbsp;<span class="ident" id="8026838">IPMask</span><span class="op" id="8026844">(</span><span class="ident" id="8026845">ParseIP</span><span class="op" id="8026852">(</span><span class="string" id="8026853">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="8026894">)</span><span class="op" id="8026895">)</span><span class="op" id="8026896">}</span><span class="op" id="8026897">,</span>&nbsp;<span class="ident" id="8026899">nil</span><span class="op" id="8026902">}</span><span class="op" id="8026903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8026906">{</span><span class="string" id="8026907">&#34;abcd:2345::/127&#34;</span><span class="op" id="8026924">,</span>&nbsp;<span class="ident" id="8026926">ParseIP</span><span class="op" id="8026933">(</span><span class="string" id="8026934">&#34;abcd:2345::&#34;</span><span class="op" id="8026947">)</span><span class="op" id="8026948">,</span>&nbsp;<span class="op" id="8026950">&amp;</span><span class="ident" id="8026951">IPNet</span><span class="op" id="8026956">{</span><span class="ident" id="8026957">IP</span><span class="op" id="8026959">:</span>&nbsp;<span class="ident" id="8026961">ParseIP</span><span class="op" id="8026968">(</span><span class="string" id="8026969">&#34;abcd:2345::&#34;</span><span class="op" id="8026982">)</span><span class="op" id="8026983">,</span>&nbsp;<span class="ident" id="8026985">Mask</span><span class="op" id="8026989">:</span>&nbsp;<span class="ident" id="8026991">IPMask</span><span class="op" id="8026997">(</span><span class="ident" id="8026998">ParseIP</span><span class="op" id="8027005">(</span><span class="string" id="8027006">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="8027047">)</span><span class="op" id="8027048">)</span><span class="op" id="8027049">}</span><span class="op" id="8027050">,</span>&nbsp;<span class="ident" id="8027052">nil</span><span class="op" id="8027055">}</span><span class="op" id="8027056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027059">{</span><span class="string" id="8027060">&#34;abcd:2345::/65&#34;</span><span class="op" id="8027076">,</span>&nbsp;<span class="ident" id="8027078">ParseIP</span><span class="op" id="8027085">(</span><span class="string" id="8027086">&#34;abcd:2345::&#34;</span><span class="op" id="8027099">)</span><span class="op" id="8027100">,</span>&nbsp;<span class="op" id="8027102">&amp;</span><span class="ident" id="8027103">IPNet</span><span class="op" id="8027108">{</span><span class="ident" id="8027109">IP</span><span class="op" id="8027111">:</span>&nbsp;<span class="ident" id="8027113">ParseIP</span><span class="op" id="8027120">(</span><span class="string" id="8027121">&#34;abcd:2345::&#34;</span><span class="op" id="8027134">)</span><span class="op" id="8027135">,</span>&nbsp;<span class="ident" id="8027137">Mask</span><span class="op" id="8027141">:</span>&nbsp;<span class="ident" id="8027143">IPMask</span><span class="op" id="8027149">(</span><span class="ident" id="8027150">ParseIP</span><span class="op" id="8027157">(</span><span class="string" id="8027158">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="8027186">)</span><span class="op" id="8027187">)</span><span class="op" id="8027188">}</span><span class="op" id="8027189">,</span>&nbsp;<span class="ident" id="8027191">nil</span><span class="op" id="8027194">}</span><span class="op" id="8027195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027198">{</span><span class="string" id="8027199">&#34;abcd:2345::/64&#34;</span><span class="op" id="8027215">,</span>&nbsp;<span class="ident" id="8027217">ParseIP</span><span class="op" id="8027224">(</span><span class="string" id="8027225">&#34;abcd:2345::&#34;</span><span class="op" id="8027238">)</span><span class="op" id="8027239">,</span>&nbsp;<span class="op" id="8027241">&amp;</span><span class="ident" id="8027242">IPNet</span><span class="op" id="8027247">{</span><span class="ident" id="8027248">IP</span><span class="op" id="8027250">:</span>&nbsp;<span class="ident" id="8027252">ParseIP</span><span class="op" id="8027259">(</span><span class="string" id="8027260">&#34;abcd:2345::&#34;</span><span class="op" id="8027273">)</span><span class="op" id="8027274">,</span>&nbsp;<span class="ident" id="8027276">Mask</span><span class="op" id="8027280">:</span>&nbsp;<span class="ident" id="8027282">IPMask</span><span class="op" id="8027288">(</span><span class="ident" id="8027289">ParseIP</span><span class="op" id="8027296">(</span><span class="string" id="8027297">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="8027320">)</span><span class="op" id="8027321">)</span><span class="op" id="8027322">}</span><span class="op" id="8027323">,</span>&nbsp;<span class="ident" id="8027325">nil</span><span class="op" id="8027328">}</span><span class="op" id="8027329">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027332">{</span><span class="string" id="8027333">&#34;abcd:2345::/63&#34;</span><span class="op" id="8027349">,</span>&nbsp;<span class="ident" id="8027351">ParseIP</span><span class="op" id="8027358">(</span><span class="string" id="8027359">&#34;abcd:2345::&#34;</span><span class="op" id="8027372">)</span><span class="op" id="8027373">,</span>&nbsp;<span class="op" id="8027375">&amp;</span><span class="ident" id="8027376">IPNet</span><span class="op" id="8027381">{</span><span class="ident" id="8027382">IP</span><span class="op" id="8027384">:</span>&nbsp;<span class="ident" id="8027386">ParseIP</span><span class="op" id="8027393">(</span><span class="string" id="8027394">&#34;abcd:2345::&#34;</span><span class="op" id="8027407">)</span><span class="op" id="8027408">,</span>&nbsp;<span class="ident" id="8027410">Mask</span><span class="op" id="8027414">:</span>&nbsp;<span class="ident" id="8027416">IPMask</span><span class="op" id="8027422">(</span><span class="ident" id="8027423">ParseIP</span><span class="op" id="8027430">(</span><span class="string" id="8027431">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="8027454">)</span><span class="op" id="8027455">)</span><span class="op" id="8027456">}</span><span class="op" id="8027457">,</span>&nbsp;<span class="ident" id="8027459">nil</span><span class="op" id="8027462">}</span><span class="op" id="8027463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027466">{</span><span class="string" id="8027467">&#34;abcd:2345::/33&#34;</span><span class="op" id="8027483">,</span>&nbsp;<span class="ident" id="8027485">ParseIP</span><span class="op" id="8027492">(</span><span class="string" id="8027493">&#34;abcd:2345::&#34;</span><span class="op" id="8027506">)</span><span class="op" id="8027507">,</span>&nbsp;<span class="op" id="8027509">&amp;</span><span class="ident" id="8027510">IPNet</span><span class="op" id="8027515">{</span><span class="ident" id="8027516">IP</span><span class="op" id="8027518">:</span>&nbsp;<span class="ident" id="8027520">ParseIP</span><span class="op" id="8027527">(</span><span class="string" id="8027528">&#34;abcd:2345::&#34;</span><span class="op" id="8027541">)</span><span class="op" id="8027542">,</span>&nbsp;<span class="ident" id="8027544">Mask</span><span class="op" id="8027548">:</span>&nbsp;<span class="ident" id="8027550">IPMask</span><span class="op" id="8027556">(</span><span class="ident" id="8027557">ParseIP</span><span class="op" id="8027564">(</span><span class="string" id="8027565">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="8027583">)</span><span class="op" id="8027584">)</span><span class="op" id="8027585">}</span><span class="op" id="8027586">,</span>&nbsp;<span class="ident" id="8027588">nil</span><span class="op" id="8027591">}</span><span class="op" id="8027592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027595">{</span><span class="string" id="8027596">&#34;abcd:2345::/32&#34;</span><span class="op" id="8027612">,</span>&nbsp;<span class="ident" id="8027614">ParseIP</span><span class="op" id="8027621">(</span><span class="string" id="8027622">&#34;abcd:2345::&#34;</span><span class="op" id="8027635">)</span><span class="op" id="8027636">,</span>&nbsp;<span class="op" id="8027638">&amp;</span><span class="ident" id="8027639">IPNet</span><span class="op" id="8027644">{</span><span class="ident" id="8027645">IP</span><span class="op" id="8027647">:</span>&nbsp;<span class="ident" id="8027649">ParseIP</span><span class="op" id="8027656">(</span><span class="string" id="8027657">&#34;abcd:2345::&#34;</span><span class="op" id="8027670">)</span><span class="op" id="8027671">,</span>&nbsp;<span class="ident" id="8027673">Mask</span><span class="op" id="8027677">:</span>&nbsp;<span class="ident" id="8027679">IPMask</span><span class="op" id="8027685">(</span><span class="ident" id="8027686">ParseIP</span><span class="op" id="8027693">(</span><span class="string" id="8027694">&#34;ffff:ffff::&#34;</span><span class="op" id="8027707">)</span><span class="op" id="8027708">)</span><span class="op" id="8027709">}</span><span class="op" id="8027710">,</span>&nbsp;<span class="ident" id="8027712">nil</span><span class="op" id="8027715">}</span><span class="op" id="8027716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027719">{</span><span class="string" id="8027720">&#34;abcd:2344::/31&#34;</span><span class="op" id="8027736">,</span>&nbsp;<span class="ident" id="8027738">ParseIP</span><span class="op" id="8027745">(</span><span class="string" id="8027746">&#34;abcd:2344::&#34;</span><span class="op" id="8027759">)</span><span class="op" id="8027760">,</span>&nbsp;<span class="op" id="8027762">&amp;</span><span class="ident" id="8027763">IPNet</span><span class="op" id="8027768">{</span><span class="ident" id="8027769">IP</span><span class="op" id="8027771">:</span>&nbsp;<span class="ident" id="8027773">ParseIP</span><span class="op" id="8027780">(</span><span class="string" id="8027781">&#34;abcd:2344::&#34;</span><span class="op" id="8027794">)</span><span class="op" id="8027795">,</span>&nbsp;<span class="ident" id="8027797">Mask</span><span class="op" id="8027801">:</span>&nbsp;<span class="ident" id="8027803">IPMask</span><span class="op" id="8027809">(</span><span class="ident" id="8027810">ParseIP</span><span class="op" id="8027817">(</span><span class="string" id="8027818">&#34;ffff:fffe::&#34;</span><span class="op" id="8027831">)</span><span class="op" id="8027832">)</span><span class="op" id="8027833">}</span><span class="op" id="8027834">,</span>&nbsp;<span class="ident" id="8027836">nil</span><span class="op" id="8027839">}</span><span class="op" id="8027840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027843">{</span><span class="string" id="8027844">&#34;abcd:2300::/24&#34;</span><span class="op" id="8027860">,</span>&nbsp;<span class="ident" id="8027862">ParseIP</span><span class="op" id="8027869">(</span><span class="string" id="8027870">&#34;abcd:2300::&#34;</span><span class="op" id="8027883">)</span><span class="op" id="8027884">,</span>&nbsp;<span class="op" id="8027886">&amp;</span><span class="ident" id="8027887">IPNet</span><span class="op" id="8027892">{</span><span class="ident" id="8027893">IP</span><span class="op" id="8027895">:</span>&nbsp;<span class="ident" id="8027897">ParseIP</span><span class="op" id="8027904">(</span><span class="string" id="8027905">&#34;abcd:2300::&#34;</span><span class="op" id="8027918">)</span><span class="op" id="8027919">,</span>&nbsp;<span class="ident" id="8027921">Mask</span><span class="op" id="8027925">:</span>&nbsp;<span class="ident" id="8027927">IPMask</span><span class="op" id="8027933">(</span><span class="ident" id="8027934">ParseIP</span><span class="op" id="8027941">(</span><span class="string" id="8027942">&#34;ffff:ff00::&#34;</span><span class="op" id="8027955">)</span><span class="op" id="8027956">)</span><span class="op" id="8027957">}</span><span class="op" id="8027958">,</span>&nbsp;<span class="ident" id="8027960">nil</span><span class="op" id="8027963">}</span><span class="op" id="8027964">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8027967">{</span><span class="string" id="8027968">&#34;abcd:2345::/24&#34;</span><span class="op" id="8027984">,</span>&nbsp;<span class="ident" id="8027986">ParseIP</span><span class="op" id="8027993">(</span><span class="string" id="8027994">&#34;abcd:2345::&#34;</span><span class="op" id="8028007">)</span><span class="op" id="8028008">,</span>&nbsp;<span class="op" id="8028010">&amp;</span><span class="ident" id="8028011">IPNet</span><span class="op" id="8028016">{</span><span class="ident" id="8028017">IP</span><span class="op" id="8028019">:</span>&nbsp;<span class="ident" id="8028021">ParseIP</span><span class="op" id="8028028">(</span><span class="string" id="8028029">&#34;abcd:2300::&#34;</span><span class="op" id="8028042">)</span><span class="op" id="8028043">,</span>&nbsp;<span class="ident" id="8028045">Mask</span><span class="op" id="8028049">:</span>&nbsp;<span class="ident" id="8028051">IPMask</span><span class="op" id="8028057">(</span><span class="ident" id="8028058">ParseIP</span><span class="op" id="8028065">(</span><span class="string" id="8028066">&#34;ffff:ff00::&#34;</span><span class="op" id="8028079">)</span><span class="op" id="8028080">)</span><span class="op" id="8028081">}</span><span class="op" id="8028082">,</span>&nbsp;<span class="ident" id="8028084">nil</span><span class="op" id="8028087">}</span><span class="op" id="8028088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8028091">{</span><span class="string" id="8028092">&#34;2001:DB8::/48&#34;</span><span class="op" id="8028107">,</span>&nbsp;<span class="ident" id="8028109">ParseIP</span><span class="op" id="8028116">(</span><span class="string" id="8028117">&#34;2001:DB8::&#34;</span><span class="op" id="8028129">)</span><span class="op" id="8028130">,</span>&nbsp;<span class="op" id="8028132">&amp;</span><span class="ident" id="8028133">IPNet</span><span class="op" id="8028138">{</span><span class="ident" id="8028139">IP</span><span class="op" id="8028141">:</span>&nbsp;<span class="ident" id="8028143">ParseIP</span><span class="op" id="8028150">(</span><span class="string" id="8028151">&#34;2001:DB8::&#34;</span><span class="op" id="8028163">)</span><span class="op" id="8028164">,</span>&nbsp;<span class="ident" id="8028166">Mask</span><span class="op" id="8028170">:</span>&nbsp;<span class="ident" id="8028172">IPMask</span><span class="op" id="8028178">(</span><span class="ident" id="8028179">ParseIP</span><span class="op" id="8028186">(</span><span class="string" id="8028187">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="8028205">)</span><span class="op" id="8028206">)</span><span class="op" id="8028207">}</span><span class="op" id="8028208">,</span>&nbsp;<span class="ident" id="8028210">nil</span><span class="op" id="8028213">}</span><span class="op" id="8028214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8028217">{</span><span class="string" id="8028218">&#34;2001:DB8::1/48&#34;</span><span class="op" id="8028234">,</span>&nbsp;<span class="ident" id="8028236">ParseIP</span><span class="op" id="8028243">(</span><span class="string" id="8028244">&#34;2001:DB8::1&#34;</span><span class="op" id="8028257">)</span><span class="op" id="8028258">,</span>&nbsp;<span class="op" id="8028260">&amp;</span><span class="ident" id="8028261">IPNet</span><span class="op" id="8028266">{</span><span class="ident" id="8028267">IP</span><span class="op" id="8028269">:</span>&nbsp;<span class="ident" id="8028271">ParseIP</span><span class="op" id="8028278">(</span><span class="string" id="8028279">&#34;2001:DB8::&#34;</span><span class="op" id="8028291">)</span><span class="op" id="8028292">,</span>&nbsp;<span class="ident" id="8028294">Mask</span><span class="op" id="8028298">:</span>&nbsp;<span class="ident" id="8028300">IPMask</span><span class="op" id="8028306">(</span><span class="ident" id="8028307">ParseIP</span><span class="op" id="8028314">(</span><span class="string" id="8028315">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="8028333">)</span><span class="op" id="8028334">)</span><span class="op" id="8028335">}</span><span class="op" id="8028336">,</span>&nbsp;<span class="ident" id="8028338">nil</span><span class="op" id="8028341">}</span><span class="op" id="8028342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8028345">{</span><span class="string" id="8028346">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="8028373">,</span>&nbsp;<span class="ident" id="8028375">nil</span><span class="op" id="8028378">,</span>&nbsp;<span class="ident" id="8028380">nil</span><span class="op" id="8028383">,</span>&nbsp;<span class="op" id="8028385">&amp;</span><span class="ident" id="8028386">ParseError</span><span class="op" id="8028396">{</span><span class="string" id="8028397">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8028411">,</span>&nbsp;<span class="string" id="8028413">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="8028440">}</span><span class="op" id="8028441">}</span><span class="op" id="8028442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8028445">{</span><span class="string" id="8028446">&#34;192.168.1.1/35&#34;</span><span class="op" id="8028462">,</span>&nbsp;<span class="ident" id="8028464">nil</span><span class="op" id="8028467">,</span>&nbsp;<span class="ident" id="8028469">nil</span><span class="op" id="8028472">,</span>&nbsp;<span class="op" id="8028474">&amp;</span><span class="ident" id="8028475">ParseError</span><span class="op" id="8028485">{</span><span class="string" id="8028486">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8028500">,</span>&nbsp;<span class="string" id="8028502">&#34;192.168.1.1/35&#34;</span><span class="op" id="8028518">}</span><span class="op" id="8028519">}</span><span class="op" id="8028520">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8028523">{</span><span class="string" id="8028524">&#34;2001:db8::1/-1&#34;</span><span class="op" id="8028540">,</span>&nbsp;<span class="ident" id="8028542">nil</span><span class="op" id="8028545">,</span>&nbsp;<span class="ident" id="8028547">nil</span><span class="op" id="8028550">,</span>&nbsp;<span class="op" id="8028552">&amp;</span><span class="ident" id="8028553">ParseError</span><span class="op" id="8028563">{</span><span class="string" id="8028564">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8028578">,</span>&nbsp;<span class="string" id="8028580">&#34;2001:db8::1/-1&#34;</span><span class="op" id="8028596">}</span><span class="op" id="8028597">}</span><span class="op" id="8028598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8028601">{</span><span class="string" id="8028602">&#34;&#34;</span><span class="op" id="8028604">,</span>&nbsp;<span class="ident" id="8028606">nil</span><span class="op" id="8028609">,</span>&nbsp;<span class="ident" id="8028611">nil</span><span class="op" id="8028614">,</span>&nbsp;<span class="op" id="8028616">&amp;</span><span class="ident" id="8028617">ParseError</span><span class="op" id="8028627">{</span><span class="string" id="8028628">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8028642">,</span>&nbsp;<span class="string" id="8028644">&#34;&#34;</span><span class="op" id="8028646">}</span><span class="op" id="8028647">}</span><span class="op" id="8028648">,</span><br>
<span class="lineno"></span><span class="op" id="8028650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8028653">func</span>&nbsp;<span class="ident" id="8028658">TestParseCIDR</span><span class="op" id="8028671">(</span><span class="ident" id="8028672">t</span>&nbsp;<span class="op" id="8028674">*</span><span class="ident" id="8028675">testing</span><span class="op" id="8028682">.</span><span class="ident" id="8028683">T</span><span class="op" id="8028684">)</span>&nbsp;<span class="op" id="8028686">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8028689">for</span>&nbsp;<span class="ident" id="8028693">_</span><span class="op" id="8028694">,</span>&nbsp;<span class="ident" id="8028696">tt</span>&nbsp;<span class="op" id="8028699">:=</span>&nbsp;<span class="keyword" id="8028702">range</span>&nbsp;<span class="ident" id="8028708">parseCIDRTests</span>&nbsp;<span class="op" id="8028723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8028727">ip</span><span class="op" id="8028729">,</span>&nbsp;<span class="ident" id="8028731">net</span><span class="op" id="8028734">,</span>&nbsp;<span class="ident" id="8028736">err</span>&nbsp;<span class="op" id="8028740">:=</span>&nbsp;<span class="ident" id="8028743">ParseCIDR</span><span class="op" id="8028752">(</span><span class="ident" id="8028753">tt</span><span class="op" id="8028755">.</span><span class="ident" id="8028756">in</span><span class="op" id="8028758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8028762">if</span>&nbsp;<span class="op" id="8028765">!</span><span class="ident" id="8028766">reflect</span><span class="op" id="8028773">.</span><span class="ident" id="8028774">DeepEqual</span><span class="op" id="8028783">(</span><span class="ident" id="8028784">err</span><span class="op" id="8028787">,</span>&nbsp;<span class="ident" id="8028789">tt</span><span class="op" id="8028791">.</span><span class="ident" id="8028792">err</span><span class="op" id="8028795">)</span>&nbsp;<span class="op" id="8028797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8028802">t</span><span class="op" id="8028803">.</span><span class="ident" id="8028804">Errorf</span><span class="op" id="8028810">(</span><span class="string" id="8028811">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8028848">,</span>&nbsp;<span class="ident" id="8028850">tt</span><span class="op" id="8028852">.</span><span class="ident" id="8028853">in</span><span class="op" id="8028855">,</span>&nbsp;<span class="ident" id="8028857">ip</span><span class="op" id="8028859">,</span>&nbsp;<span class="ident" id="8028861">net</span><span class="op" id="8028864">,</span>&nbsp;<span class="ident" id="8028866">tt</span><span class="op" id="8028868">.</span><span class="ident" id="8028869">ip</span><span class="op" id="8028871">,</span>&nbsp;<span class="ident" id="8028873">tt</span><span class="op" id="8028875">.</span><span class="ident" id="8028876">net</span><span class="op" id="8028879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8028883">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8028887">if</span>&nbsp;<span class="ident" id="8028890">err</span>&nbsp;<span class="op" id="8028894">==</span>&nbsp;<span class="ident" id="8028897">nil</span>&nbsp;<span class="op" id="8028901">&amp;&amp;</span>&nbsp;<span class="op" id="8028904">(</span><span class="op" id="8028905">!</span><span class="ident" id="8028906">tt</span><span class="op" id="8028908">.</span><span class="ident" id="8028909">ip</span><span class="op" id="8028911">.</span><span class="ident" id="8028912">Equal</span><span class="op" id="8028917">(</span><span class="ident" id="8028918">ip</span><span class="op" id="8028920">)</span>&nbsp;<span class="op" id="8028922">||</span>&nbsp;<span class="op" id="8028925">!</span><span class="ident" id="8028926">tt</span><span class="op" id="8028928">.</span><span class="ident" id="8028929">net</span><span class="op" id="8028932">.</span><span class="ident" id="8028933">IP</span><span class="op" id="8028935">.</span><span class="ident" id="8028936">Equal</span><span class="op" id="8028941">(</span><span class="ident" id="8028942">net</span><span class="op" id="8028945">.</span><span class="ident" id="8028946">IP</span><span class="op" id="8028948">)</span>&nbsp;<span class="op" id="8028950">||</span>&nbsp;<span class="op" id="8028953">!</span><span class="ident" id="8028954">reflect</span><span class="op" id="8028961">.</span><span class="ident" id="8028962">DeepEqual</span><span class="op" id="8028971">(</span><span class="ident" id="8028972">net</span><span class="op" id="8028975">.</span><span class="ident" id="8028976">Mask</span><span class="op" id="8028980">,</span>&nbsp;<span class="ident" id="8028982">tt</span><span class="op" id="8028984">.</span><span class="ident" id="8028985">net</span><span class="op" id="8028988">.</span><span class="ident" id="8028989">Mask</span><span class="op" id="8028993">)</span><span class="op" id="8028994">)</span>&nbsp;<span class="op" id="8028996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8029001">t</span><span class="op" id="8029002">.</span><span class="ident" id="8029003">Errorf</span><span class="op" id="8029009">(</span><span class="string" id="8029010">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="8029059">,</span>&nbsp;<span class="ident" id="8029061">tt</span><span class="op" id="8029063">.</span><span class="ident" id="8029064">in</span><span class="op" id="8029066">,</span>&nbsp;<span class="ident" id="8029068">ip</span><span class="op" id="8029070">,</span>&nbsp;<span class="ident" id="8029072">net</span><span class="op" id="8029075">.</span><span class="ident" id="8029076">IP</span><span class="op" id="8029078">,</span>&nbsp;<span class="ident" id="8029080">net</span><span class="op" id="8029083">.</span><span class="ident" id="8029084">Mask</span><span class="op" id="8029088">,</span>&nbsp;<span class="ident" id="8029090">tt</span><span class="op" id="8029092">.</span><span class="ident" id="8029093">ip</span><span class="op" id="8029095">,</span>&nbsp;<span class="ident" id="8029097">tt</span><span class="op" id="8029099">.</span><span class="ident" id="8029100">net</span><span class="op" id="8029103">.</span><span class="ident" id="8029104">IP</span><span class="op" id="8029106">,</span>&nbsp;<span class="ident" id="8029108">tt</span><span class="op" id="8029110">.</span><span class="ident" id="8029111">net</span><span class="op" id="8029114">.</span><span class="ident" id="8029115">Mask</span><span class="op" id="8029119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029126">}</span><br>
<span class="lineno"></span><span class="op" id="8029128">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="8029131">var</span>&nbsp;<span class="ident" id="8029135">ipNetContainsTests</span>&nbsp;<span class="op" id="8029154">=</span>&nbsp;<span class="op" id="8029156">[</span><span class="op" id="8029157">]</span><span class="keyword" id="8029158">struct</span>&nbsp;<span class="op" id="8029165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8029168">ip</span>&nbsp;&nbsp;<span class="ident" id="8029172">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8029176">net</span>&nbsp;<span class="op" id="8029180">*</span><span class="ident" id="8029181">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8029188">ok</span>&nbsp;&nbsp;<span class="builtintype" id="8029192">bool</span><br>
<span class="lineno">205</span><span class="op" id="8029197">}</span><span class="op" id="8029198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029201">{</span><span class="ident" id="8029202">IPv4</span><span class="op" id="8029206">(</span><span class="num" id="8029207">172</span><span class="op" id="8029210">,</span>&nbsp;<span class="num" id="8029212">16</span><span class="op" id="8029214">,</span>&nbsp;<span class="num" id="8029216">1</span><span class="op" id="8029217">,</span>&nbsp;<span class="num" id="8029219">1</span><span class="op" id="8029220">)</span><span class="op" id="8029221">,</span>&nbsp;<span class="op" id="8029223">&amp;</span><span class="ident" id="8029224">IPNet</span><span class="op" id="8029229">{</span><span class="ident" id="8029230">IP</span><span class="op" id="8029232">:</span>&nbsp;<span class="ident" id="8029234">IPv4</span><span class="op" id="8029238">(</span><span class="num" id="8029239">172</span><span class="op" id="8029242">,</span>&nbsp;<span class="num" id="8029244">16</span><span class="op" id="8029246">,</span>&nbsp;<span class="num" id="8029248">0</span><span class="op" id="8029249">,</span>&nbsp;<span class="num" id="8029251">0</span><span class="op" id="8029252">)</span><span class="op" id="8029253">,</span>&nbsp;<span class="ident" id="8029255">Mask</span><span class="op" id="8029259">:</span>&nbsp;<span class="ident" id="8029261">CIDRMask</span><span class="op" id="8029269">(</span><span class="num" id="8029270">12</span><span class="op" id="8029272">,</span>&nbsp;<span class="num" id="8029274">32</span><span class="op" id="8029276">)</span><span class="op" id="8029277">}</span><span class="op" id="8029278">,</span>&nbsp;<span class="builtintype" id="8029280">true</span><span class="op" id="8029284">}</span><span class="op" id="8029285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029288">{</span><span class="ident" id="8029289">IPv4</span><span class="op" id="8029293">(</span><span class="num" id="8029294">172</span><span class="op" id="8029297">,</span>&nbsp;<span class="num" id="8029299">24</span><span class="op" id="8029301">,</span>&nbsp;<span class="num" id="8029303">0</span><span class="op" id="8029304">,</span>&nbsp;<span class="num" id="8029306">1</span><span class="op" id="8029307">)</span><span class="op" id="8029308">,</span>&nbsp;<span class="op" id="8029310">&amp;</span><span class="ident" id="8029311">IPNet</span><span class="op" id="8029316">{</span><span class="ident" id="8029317">IP</span><span class="op" id="8029319">:</span>&nbsp;<span class="ident" id="8029321">IPv4</span><span class="op" id="8029325">(</span><span class="num" id="8029326">172</span><span class="op" id="8029329">,</span>&nbsp;<span class="num" id="8029331">16</span><span class="op" id="8029333">,</span>&nbsp;<span class="num" id="8029335">0</span><span class="op" id="8029336">,</span>&nbsp;<span class="num" id="8029338">0</span><span class="op" id="8029339">)</span><span class="op" id="8029340">,</span>&nbsp;<span class="ident" id="8029342">Mask</span><span class="op" id="8029346">:</span>&nbsp;<span class="ident" id="8029348">CIDRMask</span><span class="op" id="8029356">(</span><span class="num" id="8029357">13</span><span class="op" id="8029359">,</span>&nbsp;<span class="num" id="8029361">32</span><span class="op" id="8029363">)</span><span class="op" id="8029364">}</span><span class="op" id="8029365">,</span>&nbsp;<span class="builtintype" id="8029367">false</span><span class="op" id="8029372">}</span><span class="op" id="8029373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029376">{</span><span class="ident" id="8029377">IPv4</span><span class="op" id="8029381">(</span><span class="num" id="8029382">192</span><span class="op" id="8029385">,</span>&nbsp;<span class="num" id="8029387">168</span><span class="op" id="8029390">,</span>&nbsp;<span class="num" id="8029392">0</span><span class="op" id="8029393">,</span>&nbsp;<span class="num" id="8029395">3</span><span class="op" id="8029396">)</span><span class="op" id="8029397">,</span>&nbsp;<span class="op" id="8029399">&amp;</span><span class="ident" id="8029400">IPNet</span><span class="op" id="8029405">{</span><span class="ident" id="8029406">IP</span><span class="op" id="8029408">:</span>&nbsp;<span class="ident" id="8029410">IPv4</span><span class="op" id="8029414">(</span><span class="num" id="8029415">192</span><span class="op" id="8029418">,</span>&nbsp;<span class="num" id="8029420">168</span><span class="op" id="8029423">,</span>&nbsp;<span class="num" id="8029425">0</span><span class="op" id="8029426">,</span>&nbsp;<span class="num" id="8029428">0</span><span class="op" id="8029429">)</span><span class="op" id="8029430">,</span>&nbsp;<span class="ident" id="8029432">Mask</span><span class="op" id="8029436">:</span>&nbsp;<span class="ident" id="8029438">IPv4Mask</span><span class="op" id="8029446">(</span><span class="num" id="8029447">0</span><span class="op" id="8029448">,</span>&nbsp;<span class="num" id="8029450">0</span><span class="op" id="8029451">,</span>&nbsp;<span class="num" id="8029453">255</span><span class="op" id="8029456">,</span>&nbsp;<span class="num" id="8029458">252</span><span class="op" id="8029461">)</span><span class="op" id="8029462">}</span><span class="op" id="8029463">,</span>&nbsp;<span class="builtintype" id="8029465">true</span><span class="op" id="8029469">}</span><span class="op" id="8029470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029473">{</span><span class="ident" id="8029474">IPv4</span><span class="op" id="8029478">(</span><span class="num" id="8029479">192</span><span class="op" id="8029482">,</span>&nbsp;<span class="num" id="8029484">168</span><span class="op" id="8029487">,</span>&nbsp;<span class="num" id="8029489">0</span><span class="op" id="8029490">,</span>&nbsp;<span class="num" id="8029492">4</span><span class="op" id="8029493">)</span><span class="op" id="8029494">,</span>&nbsp;<span class="op" id="8029496">&amp;</span><span class="ident" id="8029497">IPNet</span><span class="op" id="8029502">{</span><span class="ident" id="8029503">IP</span><span class="op" id="8029505">:</span>&nbsp;<span class="ident" id="8029507">IPv4</span><span class="op" id="8029511">(</span><span class="num" id="8029512">192</span><span class="op" id="8029515">,</span>&nbsp;<span class="num" id="8029517">168</span><span class="op" id="8029520">,</span>&nbsp;<span class="num" id="8029522">0</span><span class="op" id="8029523">,</span>&nbsp;<span class="num" id="8029525">0</span><span class="op" id="8029526">)</span><span class="op" id="8029527">,</span>&nbsp;<span class="ident" id="8029529">Mask</span><span class="op" id="8029533">:</span>&nbsp;<span class="ident" id="8029535">IPv4Mask</span><span class="op" id="8029543">(</span><span class="num" id="8029544">0</span><span class="op" id="8029545">,</span>&nbsp;<span class="num" id="8029547">255</span><span class="op" id="8029550">,</span>&nbsp;<span class="num" id="8029552">0</span><span class="op" id="8029553">,</span>&nbsp;<span class="num" id="8029555">252</span><span class="op" id="8029558">)</span><span class="op" id="8029559">}</span><span class="op" id="8029560">,</span>&nbsp;<span class="builtintype" id="8029562">false</span><span class="op" id="8029567">}</span><span class="op" id="8029568">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029571">{</span><span class="ident" id="8029572">ParseIP</span><span class="op" id="8029579">(</span><span class="string" id="8029580">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8029597">)</span><span class="op" id="8029598">,</span>&nbsp;<span class="op" id="8029600">&amp;</span><span class="ident" id="8029601">IPNet</span><span class="op" id="8029606">{</span><span class="ident" id="8029607">IP</span><span class="op" id="8029609">:</span>&nbsp;<span class="ident" id="8029611">ParseIP</span><span class="op" id="8029618">(</span><span class="string" id="8029619">&#34;2001:db8:1::&#34;</span><span class="op" id="8029633">)</span><span class="op" id="8029634">,</span>&nbsp;<span class="ident" id="8029636">Mask</span><span class="op" id="8029640">:</span>&nbsp;<span class="ident" id="8029642">CIDRMask</span><span class="op" id="8029650">(</span><span class="num" id="8029651">47</span><span class="op" id="8029653">,</span>&nbsp;<span class="num" id="8029655">128</span><span class="op" id="8029658">)</span><span class="op" id="8029659">}</span><span class="op" id="8029660">,</span>&nbsp;<span class="builtintype" id="8029662">true</span><span class="op" id="8029666">}</span><span class="op" id="8029667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029670">{</span><span class="ident" id="8029671">ParseIP</span><span class="op" id="8029678">(</span><span class="string" id="8029679">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8029696">)</span><span class="op" id="8029697">,</span>&nbsp;<span class="op" id="8029699">&amp;</span><span class="ident" id="8029700">IPNet</span><span class="op" id="8029705">{</span><span class="ident" id="8029706">IP</span><span class="op" id="8029708">:</span>&nbsp;<span class="ident" id="8029710">ParseIP</span><span class="op" id="8029717">(</span><span class="string" id="8029718">&#34;2001:db8:2::&#34;</span><span class="op" id="8029732">)</span><span class="op" id="8029733">,</span>&nbsp;<span class="ident" id="8029735">Mask</span><span class="op" id="8029739">:</span>&nbsp;<span class="ident" id="8029741">CIDRMask</span><span class="op" id="8029749">(</span><span class="num" id="8029750">47</span><span class="op" id="8029752">,</span>&nbsp;<span class="num" id="8029754">128</span><span class="op" id="8029757">)</span><span class="op" id="8029758">}</span><span class="op" id="8029759">,</span>&nbsp;<span class="builtintype" id="8029761">false</span><span class="op" id="8029766">}</span><span class="op" id="8029767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029770">{</span><span class="ident" id="8029771">ParseIP</span><span class="op" id="8029778">(</span><span class="string" id="8029779">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8029796">)</span><span class="op" id="8029797">,</span>&nbsp;<span class="op" id="8029799">&amp;</span><span class="ident" id="8029800">IPNet</span><span class="op" id="8029805">{</span><span class="ident" id="8029806">IP</span><span class="op" id="8029808">:</span>&nbsp;<span class="ident" id="8029810">ParseIP</span><span class="op" id="8029817">(</span><span class="string" id="8029818">&#34;2001:db8:1::&#34;</span><span class="op" id="8029832">)</span><span class="op" id="8029833">,</span>&nbsp;<span class="ident" id="8029835">Mask</span><span class="op" id="8029839">:</span>&nbsp;<span class="ident" id="8029841">IPMask</span><span class="op" id="8029847">(</span><span class="ident" id="8029848">ParseIP</span><span class="op" id="8029855">(</span><span class="string" id="8029856">&#34;ffff:0:ffff::&#34;</span><span class="op" id="8029871">)</span><span class="op" id="8029872">)</span><span class="op" id="8029873">}</span><span class="op" id="8029874">,</span>&nbsp;<span class="builtintype" id="8029876">true</span><span class="op" id="8029880">}</span><span class="op" id="8029881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8029884">{</span><span class="ident" id="8029885">ParseIP</span><span class="op" id="8029892">(</span><span class="string" id="8029893">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8029910">)</span><span class="op" id="8029911">,</span>&nbsp;<span class="op" id="8029913">&amp;</span><span class="ident" id="8029914">IPNet</span><span class="op" id="8029919">{</span><span class="ident" id="8029920">IP</span><span class="op" id="8029922">:</span>&nbsp;<span class="ident" id="8029924">ParseIP</span><span class="op" id="8029931">(</span><span class="string" id="8029932">&#34;2001:db8:1::&#34;</span><span class="op" id="8029946">)</span><span class="op" id="8029947">,</span>&nbsp;<span class="ident" id="8029949">Mask</span><span class="op" id="8029953">:</span>&nbsp;<span class="ident" id="8029955">IPMask</span><span class="op" id="8029961">(</span><span class="ident" id="8029962">ParseIP</span><span class="op" id="8029969">(</span><span class="string" id="8029970">&#34;0:0:0:ffff::&#34;</span><span class="op" id="8029984">)</span><span class="op" id="8029985">)</span><span class="op" id="8029986">}</span><span class="op" id="8029987">,</span>&nbsp;<span class="builtintype" id="8029989">false</span><span class="op" id="8029994">}</span><span class="op" id="8029995">,</span><br>
<span class="lineno"></span><span class="op" id="8029997">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="8030000">func</span>&nbsp;<span class="ident" id="8030005">TestIPNetContains</span><span class="op" id="8030022">(</span><span class="ident" id="8030023">t</span>&nbsp;<span class="op" id="8030025">*</span><span class="ident" id="8030026">testing</span><span class="op" id="8030033">.</span><span class="ident" id="8030034">T</span><span class="op" id="8030035">)</span>&nbsp;<span class="op" id="8030037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8030040">for</span>&nbsp;<span class="ident" id="8030044">_</span><span class="op" id="8030045">,</span>&nbsp;<span class="ident" id="8030047">tt</span>&nbsp;<span class="op" id="8030050">:=</span>&nbsp;<span class="keyword" id="8030053">range</span>&nbsp;<span class="ident" id="8030059">ipNetContainsTests</span>&nbsp;<span class="op" id="8030078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8030082">if</span>&nbsp;<span class="ident" id="8030085">ok</span>&nbsp;<span class="op" id="8030088">:=</span>&nbsp;<span class="ident" id="8030091">tt</span><span class="op" id="8030093">.</span><span class="ident" id="8030094">net</span><span class="op" id="8030097">.</span><span class="ident" id="8030098">Contains</span><span class="op" id="8030106">(</span><span class="ident" id="8030107">tt</span><span class="op" id="8030109">.</span><span class="ident" id="8030110">ip</span><span class="op" id="8030112">)</span><span class="op" id="8030113">;</span>&nbsp;<span class="ident" id="8030115">ok</span>&nbsp;<span class="op" id="8030118">!=</span>&nbsp;<span class="ident" id="8030121">tt</span><span class="op" id="8030123">.</span><span class="ident" id="8030124">ok</span>&nbsp;<span class="op" id="8030127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8030132">t</span><span class="op" id="8030133">.</span><span class="ident" id="8030134">Errorf</span><span class="op" id="8030140">(</span><span class="string" id="8030141">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8030179">,</span>&nbsp;<span class="ident" id="8030181">tt</span><span class="op" id="8030183">.</span><span class="ident" id="8030184">net</span><span class="op" id="8030187">,</span>&nbsp;<span class="ident" id="8030189">tt</span><span class="op" id="8030191">.</span><span class="ident" id="8030192">ip</span><span class="op" id="8030194">,</span>&nbsp;<span class="ident" id="8030196">ok</span><span class="op" id="8030198">,</span>&nbsp;<span class="ident" id="8030200">tt</span><span class="op" id="8030202">.</span><span class="ident" id="8030203">ok</span><span class="op" id="8030205">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030212">}</span><br>
<span class="lineno"></span><span class="op" id="8030214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8030217">var</span>&nbsp;<span class="ident" id="8030221">ipNetStringTests</span>&nbsp;<span class="op" id="8030238">=</span>&nbsp;<span class="op" id="8030240">[</span><span class="op" id="8030241">]</span><span class="keyword" id="8030242">struct</span>&nbsp;<span class="op" id="8030249">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8030252">in</span>&nbsp;&nbsp;<span class="op" id="8030256">*</span><span class="ident" id="8030257">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8030264">out</span>&nbsp;<span class="builtintype" id="8030268">string</span><br>
<span class="lineno"></span><span class="op" id="8030275">}</span><span class="op" id="8030276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030279">{</span><span class="op" id="8030280">&amp;</span><span class="ident" id="8030281">IPNet</span><span class="op" id="8030286">{</span><span class="ident" id="8030287">IP</span><span class="op" id="8030289">:</span>&nbsp;<span class="ident" id="8030291">IPv4</span><span class="op" id="8030295">(</span><span class="num" id="8030296">192</span><span class="op" id="8030299">,</span>&nbsp;<span class="num" id="8030301">168</span><span class="op" id="8030304">,</span>&nbsp;<span class="num" id="8030306">1</span><span class="op" id="8030307">,</span>&nbsp;<span class="num" id="8030309">0</span><span class="op" id="8030310">)</span><span class="op" id="8030311">,</span>&nbsp;<span class="ident" id="8030313">Mask</span><span class="op" id="8030317">:</span>&nbsp;<span class="ident" id="8030319">CIDRMask</span><span class="op" id="8030327">(</span><span class="num" id="8030328">26</span><span class="op" id="8030330">,</span>&nbsp;<span class="num" id="8030332">32</span><span class="op" id="8030334">)</span><span class="op" id="8030335">}</span><span class="op" id="8030336">,</span>&nbsp;<span class="string" id="8030338">&#34;192.168.1.0/26&#34;</span><span class="op" id="8030354">}</span><span class="op" id="8030355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030358">{</span><span class="op" id="8030359">&amp;</span><span class="ident" id="8030360">IPNet</span><span class="op" id="8030365">{</span><span class="ident" id="8030366">IP</span><span class="op" id="8030368">:</span>&nbsp;<span class="ident" id="8030370">IPv4</span><span class="op" id="8030374">(</span><span class="num" id="8030375">192</span><span class="op" id="8030378">,</span>&nbsp;<span class="num" id="8030380">168</span><span class="op" id="8030383">,</span>&nbsp;<span class="num" id="8030385">1</span><span class="op" id="8030386">,</span>&nbsp;<span class="num" id="8030388">0</span><span class="op" id="8030389">)</span><span class="op" id="8030390">,</span>&nbsp;<span class="ident" id="8030392">Mask</span><span class="op" id="8030396">:</span>&nbsp;<span class="ident" id="8030398">IPv4Mask</span><span class="op" id="8030406">(</span><span class="num" id="8030407">255</span><span class="op" id="8030410">,</span>&nbsp;<span class="num" id="8030412">0</span><span class="op" id="8030413">,</span>&nbsp;<span class="num" id="8030415">255</span><span class="op" id="8030418">,</span>&nbsp;<span class="num" id="8030420">0</span><span class="op" id="8030421">)</span><span class="op" id="8030422">}</span><span class="op" id="8030423">,</span>&nbsp;<span class="string" id="8030425">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="8030447">}</span><span class="op" id="8030448">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030451">{</span><span class="op" id="8030452">&amp;</span><span class="ident" id="8030453">IPNet</span><span class="op" id="8030458">{</span><span class="ident" id="8030459">IP</span><span class="op" id="8030461">:</span>&nbsp;<span class="ident" id="8030463">ParseIP</span><span class="op" id="8030470">(</span><span class="string" id="8030471">&#34;2001:db8::&#34;</span><span class="op" id="8030483">)</span><span class="op" id="8030484">,</span>&nbsp;<span class="ident" id="8030486">Mask</span><span class="op" id="8030490">:</span>&nbsp;<span class="ident" id="8030492">CIDRMask</span><span class="op" id="8030500">(</span><span class="num" id="8030501">55</span><span class="op" id="8030503">,</span>&nbsp;<span class="num" id="8030505">128</span><span class="op" id="8030508">)</span><span class="op" id="8030509">}</span><span class="op" id="8030510">,</span>&nbsp;<span class="string" id="8030512">&#34;2001:db8::/55&#34;</span><span class="op" id="8030527">}</span><span class="op" id="8030528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030531">{</span><span class="op" id="8030532">&amp;</span><span class="ident" id="8030533">IPNet</span><span class="op" id="8030538">{</span><span class="ident" id="8030539">IP</span><span class="op" id="8030541">:</span>&nbsp;<span class="ident" id="8030543">ParseIP</span><span class="op" id="8030550">(</span><span class="string" id="8030551">&#34;2001:db8::&#34;</span><span class="op" id="8030563">)</span><span class="op" id="8030564">,</span>&nbsp;<span class="ident" id="8030566">Mask</span><span class="op" id="8030570">:</span>&nbsp;<span class="ident" id="8030572">IPMask</span><span class="op" id="8030578">(</span><span class="ident" id="8030579">ParseIP</span><span class="op" id="8030586">(</span><span class="string" id="8030587">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="8030607">)</span><span class="op" id="8030608">)</span><span class="op" id="8030609">}</span><span class="op" id="8030610">,</span>&nbsp;<span class="string" id="8030612">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="8030657">}</span><span class="op" id="8030658">,</span><br>
<span class="lineno"></span><span class="op" id="8030660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8030663">func</span>&nbsp;<span class="ident" id="8030668">TestIPNetString</span><span class="op" id="8030683">(</span><span class="ident" id="8030684">t</span>&nbsp;<span class="op" id="8030686">*</span><span class="ident" id="8030687">testing</span><span class="op" id="8030694">.</span><span class="ident" id="8030695">T</span><span class="op" id="8030696">)</span>&nbsp;<span class="op" id="8030698">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8030701">for</span>&nbsp;<span class="ident" id="8030705">_</span><span class="op" id="8030706">,</span>&nbsp;<span class="ident" id="8030708">tt</span>&nbsp;<span class="op" id="8030711">:=</span>&nbsp;<span class="keyword" id="8030714">range</span>&nbsp;<span class="ident" id="8030720">ipNetStringTests</span>&nbsp;<span class="op" id="8030737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8030741">if</span>&nbsp;<span class="ident" id="8030744">out</span>&nbsp;<span class="op" id="8030748">:=</span>&nbsp;<span class="ident" id="8030751">tt</span><span class="op" id="8030753">.</span><span class="ident" id="8030754">in</span><span class="op" id="8030756">.</span><span class="ident" id="8030757">String</span><span class="op" id="8030763">(</span><span class="op" id="8030764">)</span><span class="op" id="8030765">;</span>&nbsp;<span class="ident" id="8030767">out</span>&nbsp;<span class="op" id="8030771">!=</span>&nbsp;<span class="ident" id="8030774">tt</span><span class="op" id="8030776">.</span><span class="ident" id="8030777">out</span>&nbsp;<span class="op" id="8030781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8030786">t</span><span class="op" id="8030787">.</span><span class="ident" id="8030788">Errorf</span><span class="op" id="8030794">(</span><span class="string" id="8030795">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8030827">,</span>&nbsp;<span class="ident" id="8030829">tt</span><span class="op" id="8030831">.</span><span class="ident" id="8030832">in</span><span class="op" id="8030834">,</span>&nbsp;<span class="ident" id="8030836">out</span><span class="op" id="8030839">,</span>&nbsp;<span class="ident" id="8030841">tt</span><span class="op" id="8030843">.</span><span class="ident" id="8030844">out</span><span class="op" id="8030847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030854">}</span><br>
<span class="lineno">240</span><span class="op" id="8030856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8030859">var</span>&nbsp;<span class="ident" id="8030863">cidrMaskTests</span>&nbsp;<span class="op" id="8030877">=</span>&nbsp;<span class="op" id="8030879">[</span><span class="op" id="8030880">]</span><span class="keyword" id="8030881">struct</span>&nbsp;<span class="op" id="8030888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8030891">ones</span>&nbsp;<span class="builtintype" id="8030896">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8030901">bits</span>&nbsp;<span class="builtintype" id="8030906">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8030911">out</span>&nbsp;&nbsp;<span class="ident" id="8030916">IPMask</span><br>
<span class="lineno"></span><span class="op" id="8030923">}</span><span class="op" id="8030924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030927">{</span><span class="num" id="8030928">0</span><span class="op" id="8030929">,</span>&nbsp;<span class="num" id="8030931">32</span><span class="op" id="8030933">,</span>&nbsp;<span class="ident" id="8030935">IPv4Mask</span><span class="op" id="8030943">(</span><span class="num" id="8030944">0</span><span class="op" id="8030945">,</span>&nbsp;<span class="num" id="8030947">0</span><span class="op" id="8030948">,</span>&nbsp;<span class="num" id="8030950">0</span><span class="op" id="8030951">,</span>&nbsp;<span class="num" id="8030953">0</span><span class="op" id="8030954">)</span><span class="op" id="8030955">}</span><span class="op" id="8030956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030959">{</span><span class="num" id="8030960">12</span><span class="op" id="8030962">,</span>&nbsp;<span class="num" id="8030964">32</span><span class="op" id="8030966">,</span>&nbsp;<span class="ident" id="8030968">IPv4Mask</span><span class="op" id="8030976">(</span><span class="num" id="8030977">255</span><span class="op" id="8030980">,</span>&nbsp;<span class="num" id="8030982">240</span><span class="op" id="8030985">,</span>&nbsp;<span class="num" id="8030987">0</span><span class="op" id="8030988">,</span>&nbsp;<span class="num" id="8030990">0</span><span class="op" id="8030991">)</span><span class="op" id="8030992">}</span><span class="op" id="8030993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8030996">{</span><span class="num" id="8030997">24</span><span class="op" id="8030999">,</span>&nbsp;<span class="num" id="8031001">32</span><span class="op" id="8031003">,</span>&nbsp;<span class="ident" id="8031005">IPv4Mask</span><span class="op" id="8031013">(</span><span class="num" id="8031014">255</span><span class="op" id="8031017">,</span>&nbsp;<span class="num" id="8031019">255</span><span class="op" id="8031022">,</span>&nbsp;<span class="num" id="8031024">255</span><span class="op" id="8031027">,</span>&nbsp;<span class="num" id="8031029">0</span><span class="op" id="8031030">)</span><span class="op" id="8031031">}</span><span class="op" id="8031032">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031035">{</span><span class="num" id="8031036">32</span><span class="op" id="8031038">,</span>&nbsp;<span class="num" id="8031040">32</span><span class="op" id="8031042">,</span>&nbsp;<span class="ident" id="8031044">IPv4Mask</span><span class="op" id="8031052">(</span><span class="num" id="8031053">255</span><span class="op" id="8031056">,</span>&nbsp;<span class="num" id="8031058">255</span><span class="op" id="8031061">,</span>&nbsp;<span class="num" id="8031063">255</span><span class="op" id="8031066">,</span>&nbsp;<span class="num" id="8031068">255</span><span class="op" id="8031071">)</span><span class="op" id="8031072">}</span><span class="op" id="8031073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031076">{</span><span class="num" id="8031077">0</span><span class="op" id="8031078">,</span>&nbsp;<span class="num" id="8031080">128</span><span class="op" id="8031083">,</span>&nbsp;<span class="ident" id="8031085">IPMask</span><span class="op" id="8031091">{</span><span class="num" id="8031092">0</span><span class="op" id="8031093">,</span>&nbsp;<span class="num" id="8031095">0</span><span class="op" id="8031096">,</span>&nbsp;<span class="num" id="8031098">0</span><span class="op" id="8031099">,</span>&nbsp;<span class="num" id="8031101">0</span><span class="op" id="8031102">,</span>&nbsp;<span class="num" id="8031104">0</span><span class="op" id="8031105">,</span>&nbsp;<span class="num" id="8031107">0</span><span class="op" id="8031108">,</span>&nbsp;<span class="num" id="8031110">0</span><span class="op" id="8031111">,</span>&nbsp;<span class="num" id="8031113">0</span><span class="op" id="8031114">,</span>&nbsp;<span class="num" id="8031116">0</span><span class="op" id="8031117">,</span>&nbsp;<span class="num" id="8031119">0</span><span class="op" id="8031120">,</span>&nbsp;<span class="num" id="8031122">0</span><span class="op" id="8031123">,</span>&nbsp;<span class="num" id="8031125">0</span><span class="op" id="8031126">,</span>&nbsp;<span class="num" id="8031128">0</span><span class="op" id="8031129">,</span>&nbsp;<span class="num" id="8031131">0</span><span class="op" id="8031132">,</span>&nbsp;<span class="num" id="8031134">0</span><span class="op" id="8031135">,</span>&nbsp;<span class="num" id="8031137">0</span><span class="op" id="8031138">}</span><span class="op" id="8031139">}</span><span class="op" id="8031140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031143">{</span><span class="num" id="8031144">4</span><span class="op" id="8031145">,</span>&nbsp;<span class="num" id="8031147">128</span><span class="op" id="8031150">,</span>&nbsp;<span class="ident" id="8031152">IPMask</span><span class="op" id="8031158">{</span><span class="num" id="8031159">0xf0</span><span class="op" id="8031163">,</span>&nbsp;<span class="num" id="8031165">0</span><span class="op" id="8031166">,</span>&nbsp;<span class="num" id="8031168">0</span><span class="op" id="8031169">,</span>&nbsp;<span class="num" id="8031171">0</span><span class="op" id="8031172">,</span>&nbsp;<span class="num" id="8031174">0</span><span class="op" id="8031175">,</span>&nbsp;<span class="num" id="8031177">0</span><span class="op" id="8031178">,</span>&nbsp;<span class="num" id="8031180">0</span><span class="op" id="8031181">,</span>&nbsp;<span class="num" id="8031183">0</span><span class="op" id="8031184">,</span>&nbsp;<span class="num" id="8031186">0</span><span class="op" id="8031187">,</span>&nbsp;<span class="num" id="8031189">0</span><span class="op" id="8031190">,</span>&nbsp;<span class="num" id="8031192">0</span><span class="op" id="8031193">,</span>&nbsp;<span class="num" id="8031195">0</span><span class="op" id="8031196">,</span>&nbsp;<span class="num" id="8031198">0</span><span class="op" id="8031199">,</span>&nbsp;<span class="num" id="8031201">0</span><span class="op" id="8031202">,</span>&nbsp;<span class="num" id="8031204">0</span><span class="op" id="8031205">,</span>&nbsp;<span class="num" id="8031207">0</span><span class="op" id="8031208">}</span><span class="op" id="8031209">}</span><span class="op" id="8031210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031213">{</span><span class="num" id="8031214">48</span><span class="op" id="8031216">,</span>&nbsp;<span class="num" id="8031218">128</span><span class="op" id="8031221">,</span>&nbsp;<span class="ident" id="8031223">IPMask</span><span class="op" id="8031229">{</span><span class="num" id="8031230">0xff</span><span class="op" id="8031234">,</span>&nbsp;<span class="num" id="8031236">0xff</span><span class="op" id="8031240">,</span>&nbsp;<span class="num" id="8031242">0xff</span><span class="op" id="8031246">,</span>&nbsp;<span class="num" id="8031248">0xff</span><span class="op" id="8031252">,</span>&nbsp;<span class="num" id="8031254">0xff</span><span class="op" id="8031258">,</span>&nbsp;<span class="num" id="8031260">0xff</span><span class="op" id="8031264">,</span>&nbsp;<span class="num" id="8031266">0</span><span class="op" id="8031267">,</span>&nbsp;<span class="num" id="8031269">0</span><span class="op" id="8031270">,</span>&nbsp;<span class="num" id="8031272">0</span><span class="op" id="8031273">,</span>&nbsp;<span class="num" id="8031275">0</span><span class="op" id="8031276">,</span>&nbsp;<span class="num" id="8031278">0</span><span class="op" id="8031279">,</span>&nbsp;<span class="num" id="8031281">0</span><span class="op" id="8031282">,</span>&nbsp;<span class="num" id="8031284">0</span><span class="op" id="8031285">,</span>&nbsp;<span class="num" id="8031287">0</span><span class="op" id="8031288">,</span>&nbsp;<span class="num" id="8031290">0</span><span class="op" id="8031291">,</span>&nbsp;<span class="num" id="8031293">0</span><span class="op" id="8031294">}</span><span class="op" id="8031295">}</span><span class="op" id="8031296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031299">{</span><span class="num" id="8031300">128</span><span class="op" id="8031303">,</span>&nbsp;<span class="num" id="8031305">128</span><span class="op" id="8031308">,</span>&nbsp;<span class="ident" id="8031310">IPMask</span><span class="op" id="8031316">{</span><span class="num" id="8031317">0xff</span><span class="op" id="8031321">,</span>&nbsp;<span class="num" id="8031323">0xff</span><span class="op" id="8031327">,</span>&nbsp;<span class="num" id="8031329">0xff</span><span class="op" id="8031333">,</span>&nbsp;<span class="num" id="8031335">0xff</span><span class="op" id="8031339">,</span>&nbsp;<span class="num" id="8031341">0xff</span><span class="op" id="8031345">,</span>&nbsp;<span class="num" id="8031347">0xff</span><span class="op" id="8031351">,</span>&nbsp;<span class="num" id="8031353">0xff</span><span class="op" id="8031357">,</span>&nbsp;<span class="num" id="8031359">0xff</span><span class="op" id="8031363">,</span>&nbsp;<span class="num" id="8031365">0xff</span><span class="op" id="8031369">,</span>&nbsp;<span class="num" id="8031371">0xff</span><span class="op" id="8031375">,</span>&nbsp;<span class="num" id="8031377">0xff</span><span class="op" id="8031381">,</span>&nbsp;<span class="num" id="8031383">0xff</span><span class="op" id="8031387">,</span>&nbsp;<span class="num" id="8031389">0xff</span><span class="op" id="8031393">,</span>&nbsp;<span class="num" id="8031395">0xff</span><span class="op" id="8031399">,</span>&nbsp;<span class="num" id="8031401">0xff</span><span class="op" id="8031405">,</span>&nbsp;<span class="num" id="8031407">0xff</span><span class="op" id="8031411">}</span><span class="op" id="8031412">}</span><span class="op" id="8031413">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031416">{</span><span class="num" id="8031417">33</span><span class="op" id="8031419">,</span>&nbsp;<span class="num" id="8031421">32</span><span class="op" id="8031423">,</span>&nbsp;<span class="ident" id="8031425">nil</span><span class="op" id="8031428">}</span><span class="op" id="8031429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031432">{</span><span class="num" id="8031433">32</span><span class="op" id="8031435">,</span>&nbsp;<span class="num" id="8031437">33</span><span class="op" id="8031439">,</span>&nbsp;<span class="ident" id="8031441">nil</span><span class="op" id="8031444">}</span><span class="op" id="8031445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031448">{</span><span class="op" id="8031449">-</span><span class="num" id="8031450">1</span><span class="op" id="8031451">,</span>&nbsp;<span class="num" id="8031453">128</span><span class="op" id="8031456">,</span>&nbsp;<span class="ident" id="8031458">nil</span><span class="op" id="8031461">}</span><span class="op" id="8031462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031465">{</span><span class="num" id="8031466">128</span><span class="op" id="8031469">,</span>&nbsp;<span class="op" id="8031471">-</span><span class="num" id="8031472">1</span><span class="op" id="8031473">,</span>&nbsp;<span class="ident" id="8031475">nil</span><span class="op" id="8031478">}</span><span class="op" id="8031479">,</span><br>
<span class="lineno"></span><span class="op" id="8031481">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="8031484">func</span>&nbsp;<span class="ident" id="8031489">TestCIDRMask</span><span class="op" id="8031501">(</span><span class="ident" id="8031502">t</span>&nbsp;<span class="op" id="8031504">*</span><span class="ident" id="8031505">testing</span><span class="op" id="8031512">.</span><span class="ident" id="8031513">T</span><span class="op" id="8031514">)</span>&nbsp;<span class="op" id="8031516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8031519">for</span>&nbsp;<span class="ident" id="8031523">_</span><span class="op" id="8031524">,</span>&nbsp;<span class="ident" id="8031526">tt</span>&nbsp;<span class="op" id="8031529">:=</span>&nbsp;<span class="keyword" id="8031532">range</span>&nbsp;<span class="ident" id="8031538">cidrMaskTests</span>&nbsp;<span class="op" id="8031552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8031556">if</span>&nbsp;<span class="ident" id="8031559">out</span>&nbsp;<span class="op" id="8031563">:=</span>&nbsp;<span class="ident" id="8031566">CIDRMask</span><span class="op" id="8031574">(</span><span class="ident" id="8031575">tt</span><span class="op" id="8031577">.</span><span class="ident" id="8031578">ones</span><span class="op" id="8031582">,</span>&nbsp;<span class="ident" id="8031584">tt</span><span class="op" id="8031586">.</span><span class="ident" id="8031587">bits</span><span class="op" id="8031591">)</span><span class="op" id="8031592">;</span>&nbsp;<span class="op" id="8031594">!</span><span class="ident" id="8031595">reflect</span><span class="op" id="8031602">.</span><span class="ident" id="8031603">DeepEqual</span><span class="op" id="8031612">(</span><span class="ident" id="8031613">out</span><span class="op" id="8031616">,</span>&nbsp;<span class="ident" id="8031618">tt</span><span class="op" id="8031620">.</span><span class="ident" id="8031621">out</span><span class="op" id="8031624">)</span>&nbsp;<span class="op" id="8031626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8031631">t</span><span class="op" id="8031632">.</span><span class="ident" id="8031633">Errorf</span><span class="op" id="8031639">(</span><span class="string" id="8031640">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8031672">,</span>&nbsp;<span class="ident" id="8031674">tt</span><span class="op" id="8031676">.</span><span class="ident" id="8031677">ones</span><span class="op" id="8031681">,</span>&nbsp;<span class="ident" id="8031683">tt</span><span class="op" id="8031685">.</span><span class="ident" id="8031686">bits</span><span class="op" id="8031690">,</span>&nbsp;<span class="ident" id="8031692">out</span><span class="op" id="8031695">,</span>&nbsp;<span class="ident" id="8031697">tt</span><span class="op" id="8031699">.</span><span class="ident" id="8031700">out</span><span class="op" id="8031703">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031710">}</span><br>
<span class="lineno"></span><span class="op" id="8031712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8031715">var</span>&nbsp;<span class="op" id="8031719">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8031722">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031737">=</span>&nbsp;<span class="ident" id="8031739">IP</span><span class="op" id="8031741">{</span><span class="num" id="8031742">192</span><span class="op" id="8031745">,</span>&nbsp;<span class="num" id="8031747">168</span><span class="op" id="8031750">,</span>&nbsp;<span class="num" id="8031752">0</span><span class="op" id="8031753">,</span>&nbsp;<span class="num" id="8031755">1</span><span class="op" id="8031756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8031759">v4mappedv6addr</span>&nbsp;<span class="op" id="8031774">=</span>&nbsp;<span class="ident" id="8031776">IP</span><span class="op" id="8031778">{</span><span class="num" id="8031779">0</span><span class="op" id="8031780">,</span>&nbsp;<span class="num" id="8031782">0</span><span class="op" id="8031783">,</span>&nbsp;<span class="num" id="8031785">0</span><span class="op" id="8031786">,</span>&nbsp;<span class="num" id="8031788">0</span><span class="op" id="8031789">,</span>&nbsp;<span class="num" id="8031791">0</span><span class="op" id="8031792">,</span>&nbsp;<span class="num" id="8031794">0</span><span class="op" id="8031795">,</span>&nbsp;<span class="num" id="8031797">0</span><span class="op" id="8031798">,</span>&nbsp;<span class="num" id="8031800">0</span><span class="op" id="8031801">,</span>&nbsp;<span class="num" id="8031803">0</span><span class="op" id="8031804">,</span>&nbsp;<span class="num" id="8031806">0</span><span class="op" id="8031807">,</span>&nbsp;<span class="num" id="8031809">0xff</span><span class="op" id="8031813">,</span>&nbsp;<span class="num" id="8031815">0xff</span><span class="op" id="8031819">,</span>&nbsp;<span class="num" id="8031821">192</span><span class="op" id="8031824">,</span>&nbsp;<span class="num" id="8031826">168</span><span class="op" id="8031829">,</span>&nbsp;<span class="num" id="8031831">0</span><span class="op" id="8031832">,</span>&nbsp;<span class="num" id="8031834">1</span><span class="op" id="8031835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8031838">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031853">=</span>&nbsp;<span class="ident" id="8031855">IP</span><span class="op" id="8031857">{</span><span class="num" id="8031858">0x20</span><span class="op" id="8031862">,</span>&nbsp;<span class="num" id="8031864">0x1</span><span class="op" id="8031867">,</span>&nbsp;<span class="num" id="8031869">0xd</span><span class="op" id="8031872">,</span>&nbsp;<span class="num" id="8031874">0xb8</span><span class="op" id="8031878">,</span>&nbsp;<span class="num" id="8031880">0</span><span class="op" id="8031881">,</span>&nbsp;<span class="num" id="8031883">0</span><span class="op" id="8031884">,</span>&nbsp;<span class="num" id="8031886">0</span><span class="op" id="8031887">,</span>&nbsp;<span class="num" id="8031889">0</span><span class="op" id="8031890">,</span>&nbsp;<span class="num" id="8031892">0</span><span class="op" id="8031893">,</span>&nbsp;<span class="num" id="8031895">0</span><span class="op" id="8031896">,</span>&nbsp;<span class="num" id="8031898">0x1</span><span class="op" id="8031901">,</span>&nbsp;<span class="num" id="8031903">0x23</span><span class="op" id="8031907">,</span>&nbsp;<span class="num" id="8031909">0</span><span class="op" id="8031910">,</span>&nbsp;<span class="num" id="8031912">0x12</span><span class="op" id="8031916">,</span>&nbsp;<span class="num" id="8031918">0</span><span class="op" id="8031919">,</span>&nbsp;<span class="num" id="8031921">0x1</span><span class="op" id="8031924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8031927">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8031942">=</span>&nbsp;<span class="ident" id="8031944">IPMask</span><span class="op" id="8031950">{</span><span class="num" id="8031951">255</span><span class="op" id="8031954">,</span>&nbsp;<span class="num" id="8031956">255</span><span class="op" id="8031959">,</span>&nbsp;<span class="num" id="8031961">255</span><span class="op" id="8031964">,</span>&nbsp;<span class="num" id="8031966">0</span><span class="op" id="8031967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8031970">v4mappedv6mask</span>&nbsp;<span class="op" id="8031985">=</span>&nbsp;<span class="ident" id="8031987">IPMask</span><span class="op" id="8031993">{</span><span class="num" id="8031994">0xff</span><span class="op" id="8031998">,</span>&nbsp;<span class="num" id="8032000">0xff</span><span class="op" id="8032004">,</span>&nbsp;<span class="num" id="8032006">0xff</span><span class="op" id="8032010">,</span>&nbsp;<span class="num" id="8032012">0xff</span><span class="op" id="8032016">,</span>&nbsp;<span class="num" id="8032018">0xff</span><span class="op" id="8032022">,</span>&nbsp;<span class="num" id="8032024">0xff</span><span class="op" id="8032028">,</span>&nbsp;<span class="num" id="8032030">0xff</span><span class="op" id="8032034">,</span>&nbsp;<span class="num" id="8032036">0xff</span><span class="op" id="8032040">,</span>&nbsp;<span class="num" id="8032042">0xff</span><span class="op" id="8032046">,</span>&nbsp;<span class="num" id="8032048">0xff</span><span class="op" id="8032052">,</span>&nbsp;<span class="num" id="8032054">0xff</span><span class="op" id="8032058">,</span>&nbsp;<span class="num" id="8032060">0xff</span><span class="op" id="8032064">,</span>&nbsp;<span class="num" id="8032066">255</span><span class="op" id="8032069">,</span>&nbsp;<span class="num" id="8032071">255</span><span class="op" id="8032074">,</span>&nbsp;<span class="num" id="8032076">255</span><span class="op" id="8032079">,</span>&nbsp;<span class="num" id="8032081">0</span><span class="op" id="8032082">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8032085">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032100">=</span>&nbsp;<span class="ident" id="8032102">IPMask</span><span class="op" id="8032108">{</span><span class="num" id="8032109">0xff</span><span class="op" id="8032113">,</span>&nbsp;<span class="num" id="8032115">0xff</span><span class="op" id="8032119">,</span>&nbsp;<span class="num" id="8032121">0xff</span><span class="op" id="8032125">,</span>&nbsp;<span class="num" id="8032127">0xff</span><span class="op" id="8032131">,</span>&nbsp;<span class="num" id="8032133">0xff</span><span class="op" id="8032137">,</span>&nbsp;<span class="num" id="8032139">0xff</span><span class="op" id="8032143">,</span>&nbsp;<span class="num" id="8032145">0xff</span><span class="op" id="8032149">,</span>&nbsp;<span class="num" id="8032151">0xff</span><span class="op" id="8032155">,</span>&nbsp;<span class="num" id="8032157">0</span><span class="op" id="8032158">,</span>&nbsp;<span class="num" id="8032160">0</span><span class="op" id="8032161">,</span>&nbsp;<span class="num" id="8032163">0</span><span class="op" id="8032164">,</span>&nbsp;<span class="num" id="8032166">0</span><span class="op" id="8032167">,</span>&nbsp;<span class="num" id="8032169">0</span><span class="op" id="8032170">,</span>&nbsp;<span class="num" id="8032172">0</span><span class="op" id="8032173">,</span>&nbsp;<span class="num" id="8032175">0</span><span class="op" id="8032176">,</span>&nbsp;<span class="num" id="8032178">0</span><span class="op" id="8032179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8032182">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032197">=</span>&nbsp;<span class="ident" id="8032199">IP</span><span class="op" id="8032201">{</span><span class="num" id="8032202">192</span><span class="op" id="8032205">,</span>&nbsp;<span class="num" id="8032207">168</span><span class="op" id="8032210">,</span>&nbsp;<span class="num" id="8032212">0</span><span class="op" id="8032213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8032216">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032231">=</span>&nbsp;<span class="ident" id="8032233">IPMask</span><span class="op" id="8032239">{</span><span class="num" id="8032240">255</span><span class="op" id="8032243">,</span>&nbsp;<span class="num" id="8032245">255</span><span class="op" id="8032248">,</span>&nbsp;<span class="num" id="8032250">0</span><span class="op" id="8032251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8032254">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032269">=</span>&nbsp;<span class="ident" id="8032271">IPMask</span><span class="op" id="8032277">{</span><span class="num" id="8032278">0</span><span class="op" id="8032279">,</span>&nbsp;<span class="num" id="8032281">0</span><span class="op" id="8032282">,</span>&nbsp;<span class="num" id="8032284">0</span><span class="op" id="8032285">,</span>&nbsp;<span class="num" id="8032287">0</span><span class="op" id="8032288">}</span><br>
<span class="lineno"></span><span class="op" id="8032290">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="8032293">var</span>&nbsp;<span class="ident" id="8032297">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="8032323">=</span>&nbsp;<span class="op" id="8032325">[</span><span class="op" id="8032326">]</span><span class="keyword" id="8032327">struct</span>&nbsp;<span class="op" id="8032334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8032337">in</span>&nbsp;&nbsp;<span class="ident" id="8032341">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8032348">out</span>&nbsp;<span class="ident" id="8032352">IPNet</span><br>
<span class="lineno"></span><span class="op" id="8032358">}</span><span class="op" id="8032359">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032362">{</span><span class="ident" id="8032363">IPNet</span><span class="op" id="8032368">{</span><span class="ident" id="8032369">IP</span><span class="op" id="8032371">:</span>&nbsp;<span class="ident" id="8032373">v4addr</span><span class="op" id="8032379">,</span>&nbsp;<span class="ident" id="8032381">Mask</span><span class="op" id="8032385">:</span>&nbsp;<span class="ident" id="8032387">v4mask</span><span class="op" id="8032393">}</span><span class="op" id="8032394">,</span>&nbsp;<span class="ident" id="8032396">IPNet</span><span class="op" id="8032401">{</span><span class="ident" id="8032402">IP</span><span class="op" id="8032404">:</span>&nbsp;<span class="ident" id="8032406">v4addr</span><span class="op" id="8032412">,</span>&nbsp;<span class="ident" id="8032414">Mask</span><span class="op" id="8032418">:</span>&nbsp;<span class="ident" id="8032420">v4mask</span><span class="op" id="8032426">}</span><span class="op" id="8032427">}</span><span class="op" id="8032428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032431">{</span><span class="ident" id="8032432">IPNet</span><span class="op" id="8032437">{</span><span class="ident" id="8032438">IP</span><span class="op" id="8032440">:</span>&nbsp;<span class="ident" id="8032442">v4addr</span><span class="op" id="8032448">,</span>&nbsp;<span class="ident" id="8032450">Mask</span><span class="op" id="8032454">:</span>&nbsp;<span class="ident" id="8032456">v4mappedv6mask</span><span class="op" id="8032470">}</span><span class="op" id="8032471">,</span>&nbsp;<span class="ident" id="8032473">IPNet</span><span class="op" id="8032478">{</span><span class="ident" id="8032479">IP</span><span class="op" id="8032481">:</span>&nbsp;<span class="ident" id="8032483">v4addr</span><span class="op" id="8032489">,</span>&nbsp;<span class="ident" id="8032491">Mask</span><span class="op" id="8032495">:</span>&nbsp;<span class="ident" id="8032497">v4mask</span><span class="op" id="8032503">}</span><span class="op" id="8032504">}</span><span class="op" id="8032505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032508">{</span><span class="ident" id="8032509">IPNet</span><span class="op" id="8032514">{</span><span class="ident" id="8032515">IP</span><span class="op" id="8032517">:</span>&nbsp;<span class="ident" id="8032519">v4mappedv6addr</span><span class="op" id="8032533">,</span>&nbsp;<span class="ident" id="8032535">Mask</span><span class="op" id="8032539">:</span>&nbsp;<span class="ident" id="8032541">v4mappedv6mask</span><span class="op" id="8032555">}</span><span class="op" id="8032556">,</span>&nbsp;<span class="ident" id="8032558">IPNet</span><span class="op" id="8032563">{</span><span class="ident" id="8032564">IP</span><span class="op" id="8032566">:</span>&nbsp;<span class="ident" id="8032568">v4addr</span><span class="op" id="8032574">,</span>&nbsp;<span class="ident" id="8032576">Mask</span><span class="op" id="8032580">:</span>&nbsp;<span class="ident" id="8032582">v4mask</span><span class="op" id="8032588">}</span><span class="op" id="8032589">}</span><span class="op" id="8032590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032593">{</span><span class="ident" id="8032594">IPNet</span><span class="op" id="8032599">{</span><span class="ident" id="8032600">IP</span><span class="op" id="8032602">:</span>&nbsp;<span class="ident" id="8032604">v4mappedv6addr</span><span class="op" id="8032618">,</span>&nbsp;<span class="ident" id="8032620">Mask</span><span class="op" id="8032624">:</span>&nbsp;<span class="ident" id="8032626">v6mask</span><span class="op" id="8032632">}</span><span class="op" id="8032633">,</span>&nbsp;<span class="ident" id="8032635">IPNet</span><span class="op" id="8032640">{</span><span class="ident" id="8032641">IP</span><span class="op" id="8032643">:</span>&nbsp;<span class="ident" id="8032645">v4addr</span><span class="op" id="8032651">,</span>&nbsp;<span class="ident" id="8032653">Mask</span><span class="op" id="8032657">:</span>&nbsp;<span class="ident" id="8032659">v4maskzero</span><span class="op" id="8032669">}</span><span class="op" id="8032670">}</span><span class="op" id="8032671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032674">{</span><span class="ident" id="8032675">IPNet</span><span class="op" id="8032680">{</span><span class="ident" id="8032681">IP</span><span class="op" id="8032683">:</span>&nbsp;<span class="ident" id="8032685">v4addr</span><span class="op" id="8032691">,</span>&nbsp;<span class="ident" id="8032693">Mask</span><span class="op" id="8032697">:</span>&nbsp;<span class="ident" id="8032699">v6mask</span><span class="op" id="8032705">}</span><span class="op" id="8032706">,</span>&nbsp;<span class="ident" id="8032708">IPNet</span><span class="op" id="8032713">{</span><span class="ident" id="8032714">IP</span><span class="op" id="8032716">:</span>&nbsp;<span class="ident" id="8032718">v4addr</span><span class="op" id="8032724">,</span>&nbsp;<span class="ident" id="8032726">Mask</span><span class="op" id="8032730">:</span>&nbsp;<span class="ident" id="8032732">v4maskzero</span><span class="op" id="8032742">}</span><span class="op" id="8032743">}</span><span class="op" id="8032744">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032747">{</span><span class="ident" id="8032748">IPNet</span><span class="op" id="8032753">{</span><span class="ident" id="8032754">IP</span><span class="op" id="8032756">:</span>&nbsp;<span class="ident" id="8032758">v6addr</span><span class="op" id="8032764">,</span>&nbsp;<span class="ident" id="8032766">Mask</span><span class="op" id="8032770">:</span>&nbsp;<span class="ident" id="8032772">v6mask</span><span class="op" id="8032778">}</span><span class="op" id="8032779">,</span>&nbsp;<span class="ident" id="8032781">IPNet</span><span class="op" id="8032786">{</span><span class="ident" id="8032787">IP</span><span class="op" id="8032789">:</span>&nbsp;<span class="ident" id="8032791">v6addr</span><span class="op" id="8032797">,</span>&nbsp;<span class="ident" id="8032799">Mask</span><span class="op" id="8032803">:</span>&nbsp;<span class="ident" id="8032805">v6mask</span><span class="op" id="8032811">}</span><span class="op" id="8032812">}</span><span class="op" id="8032813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032816">{</span><span class="ident" id="8032817">IPNet</span><span class="op" id="8032822">{</span><span class="ident" id="8032823">IP</span><span class="op" id="8032825">:</span>&nbsp;<span class="ident" id="8032827">v6addr</span><span class="op" id="8032833">,</span>&nbsp;<span class="ident" id="8032835">Mask</span><span class="op" id="8032839">:</span>&nbsp;<span class="ident" id="8032841">v4mappedv6mask</span><span class="op" id="8032855">}</span><span class="op" id="8032856">,</span>&nbsp;<span class="ident" id="8032858">IPNet</span><span class="op" id="8032863">{</span><span class="ident" id="8032864">IP</span><span class="op" id="8032866">:</span>&nbsp;<span class="ident" id="8032868">v6addr</span><span class="op" id="8032874">,</span>&nbsp;<span class="ident" id="8032876">Mask</span><span class="op" id="8032880">:</span>&nbsp;<span class="ident" id="8032882">v4mappedv6mask</span><span class="op" id="8032896">}</span><span class="op" id="8032897">}</span><span class="op" id="8032898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032901">{</span><span class="ident" id="8032902">in</span><span class="op" id="8032904">:</span>&nbsp;<span class="ident" id="8032906">IPNet</span><span class="op" id="8032911">{</span><span class="ident" id="8032912">IP</span><span class="op" id="8032914">:</span>&nbsp;<span class="ident" id="8032916">v6addr</span><span class="op" id="8032922">,</span>&nbsp;<span class="ident" id="8032924">Mask</span><span class="op" id="8032928">:</span>&nbsp;<span class="ident" id="8032930">v4mask</span><span class="op" id="8032936">}</span><span class="op" id="8032937">}</span><span class="op" id="8032938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032941">{</span><span class="ident" id="8032942">in</span><span class="op" id="8032944">:</span>&nbsp;<span class="ident" id="8032946">IPNet</span><span class="op" id="8032951">{</span><span class="ident" id="8032952">IP</span><span class="op" id="8032954">:</span>&nbsp;<span class="ident" id="8032956">v4addr</span><span class="op" id="8032962">,</span>&nbsp;<span class="ident" id="8032964">Mask</span><span class="op" id="8032968">:</span>&nbsp;<span class="ident" id="8032970">badmask</span><span class="op" id="8032977">}</span><span class="op" id="8032978">}</span><span class="op" id="8032979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8032982">{</span><span class="ident" id="8032983">in</span><span class="op" id="8032985">:</span>&nbsp;<span class="ident" id="8032987">IPNet</span><span class="op" id="8032992">{</span><span class="ident" id="8032993">IP</span><span class="op" id="8032995">:</span>&nbsp;<span class="ident" id="8032997">v4mappedv6addr</span><span class="op" id="8033011">,</span>&nbsp;<span class="ident" id="8033013">Mask</span><span class="op" id="8033017">:</span>&nbsp;<span class="ident" id="8033019">badmask</span><span class="op" id="8033026">}</span><span class="op" id="8033027">}</span><span class="op" id="8033028">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033031">{</span><span class="ident" id="8033032">in</span><span class="op" id="8033034">:</span>&nbsp;<span class="ident" id="8033036">IPNet</span><span class="op" id="8033041">{</span><span class="ident" id="8033042">IP</span><span class="op" id="8033044">:</span>&nbsp;<span class="ident" id="8033046">v6addr</span><span class="op" id="8033052">,</span>&nbsp;<span class="ident" id="8033054">Mask</span><span class="op" id="8033058">:</span>&nbsp;<span class="ident" id="8033060">badmask</span><span class="op" id="8033067">}</span><span class="op" id="8033068">}</span><span class="op" id="8033069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033072">{</span><span class="ident" id="8033073">in</span><span class="op" id="8033075">:</span>&nbsp;<span class="ident" id="8033077">IPNet</span><span class="op" id="8033082">{</span><span class="ident" id="8033083">IP</span><span class="op" id="8033085">:</span>&nbsp;<span class="ident" id="8033087">badaddr</span><span class="op" id="8033094">,</span>&nbsp;<span class="ident" id="8033096">Mask</span><span class="op" id="8033100">:</span>&nbsp;<span class="ident" id="8033102">v4mask</span><span class="op" id="8033108">}</span><span class="op" id="8033109">}</span><span class="op" id="8033110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033113">{</span><span class="ident" id="8033114">in</span><span class="op" id="8033116">:</span>&nbsp;<span class="ident" id="8033118">IPNet</span><span class="op" id="8033123">{</span><span class="ident" id="8033124">IP</span><span class="op" id="8033126">:</span>&nbsp;<span class="ident" id="8033128">badaddr</span><span class="op" id="8033135">,</span>&nbsp;<span class="ident" id="8033137">Mask</span><span class="op" id="8033141">:</span>&nbsp;<span class="ident" id="8033143">v4mappedv6mask</span><span class="op" id="8033157">}</span><span class="op" id="8033158">}</span><span class="op" id="8033159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033162">{</span><span class="ident" id="8033163">in</span><span class="op" id="8033165">:</span>&nbsp;<span class="ident" id="8033167">IPNet</span><span class="op" id="8033172">{</span><span class="ident" id="8033173">IP</span><span class="op" id="8033175">:</span>&nbsp;<span class="ident" id="8033177">badaddr</span><span class="op" id="8033184">,</span>&nbsp;<span class="ident" id="8033186">Mask</span><span class="op" id="8033190">:</span>&nbsp;<span class="ident" id="8033192">v6mask</span><span class="op" id="8033198">}</span><span class="op" id="8033199">}</span><span class="op" id="8033200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033203">{</span><span class="ident" id="8033204">in</span><span class="op" id="8033206">:</span>&nbsp;<span class="ident" id="8033208">IPNet</span><span class="op" id="8033213">{</span><span class="ident" id="8033214">IP</span><span class="op" id="8033216">:</span>&nbsp;<span class="ident" id="8033218">badaddr</span><span class="op" id="8033225">,</span>&nbsp;<span class="ident" id="8033227">Mask</span><span class="op" id="8033231">:</span>&nbsp;<span class="ident" id="8033233">badmask</span><span class="op" id="8033240">}</span><span class="op" id="8033241">}</span><span class="op" id="8033242">,</span><br>
<span class="lineno">300</span><span class="op" id="8033244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8033247">func</span>&nbsp;<span class="ident" id="8033252">TestNetworkNumberAndMask</span><span class="op" id="8033276">(</span><span class="ident" id="8033277">t</span>&nbsp;<span class="op" id="8033279">*</span><span class="ident" id="8033280">testing</span><span class="op" id="8033287">.</span><span class="ident" id="8033288">T</span><span class="op" id="8033289">)</span>&nbsp;<span class="op" id="8033291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8033294">for</span>&nbsp;<span class="ident" id="8033298">_</span><span class="op" id="8033299">,</span>&nbsp;<span class="ident" id="8033301">tt</span>&nbsp;<span class="op" id="8033304">:=</span>&nbsp;<span class="keyword" id="8033307">range</span>&nbsp;<span class="ident" id="8033313">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="8033339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8033343">ip</span><span class="op" id="8033345">,</span>&nbsp;<span class="ident" id="8033347">m</span>&nbsp;<span class="op" id="8033349">:=</span>&nbsp;<span class="ident" id="8033352">networkNumberAndMask</span><span class="op" id="8033372">(</span><span class="op" id="8033373">&amp;</span><span class="ident" id="8033374">tt</span><span class="op" id="8033376">.</span><span class="ident" id="8033377">in</span><span class="op" id="8033379">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8033383">out</span>&nbsp;<span class="op" id="8033387">:=</span>&nbsp;<span class="op" id="8033390">&amp;</span><span class="ident" id="8033391">IPNet</span><span class="op" id="8033396">{</span><span class="ident" id="8033397">IP</span><span class="op" id="8033399">:</span>&nbsp;<span class="ident" id="8033401">ip</span><span class="op" id="8033403">,</span>&nbsp;<span class="ident" id="8033405">Mask</span><span class="op" id="8033409">:</span>&nbsp;<span class="ident" id="8033411">m</span><span class="op" id="8033412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8033416">if</span>&nbsp;<span class="op" id="8033419">!</span><span class="ident" id="8033420">reflect</span><span class="op" id="8033427">.</span><span class="ident" id="8033428">DeepEqual</span><span class="op" id="8033437">(</span><span class="op" id="8033438">&amp;</span><span class="ident" id="8033439">tt</span><span class="op" id="8033441">.</span><span class="ident" id="8033442">out</span><span class="op" id="8033445">,</span>&nbsp;<span class="ident" id="8033447">out</span><span class="op" id="8033450">)</span>&nbsp;<span class="op" id="8033452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8033457">t</span><span class="op" id="8033458">.</span><span class="ident" id="8033459">Errorf</span><span class="op" id="8033465">(</span><span class="string" id="8033466">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8033506">,</span>&nbsp;<span class="ident" id="8033508">tt</span><span class="op" id="8033510">.</span><span class="ident" id="8033511">in</span><span class="op" id="8033513">,</span>&nbsp;<span class="ident" id="8033515">out</span><span class="op" id="8033518">,</span>&nbsp;<span class="op" id="8033520">&amp;</span><span class="ident" id="8033521">tt</span><span class="op" id="8033523">.</span><span class="ident" id="8033524">out</span><span class="op" id="8033527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033534">}</span><br>
<span class="lineno">310</span><span class="op" id="8033536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8033539">var</span>&nbsp;<span class="ident" id="8033543">splitJoinTests</span>&nbsp;<span class="op" id="8033558">=</span>&nbsp;<span class="op" id="8033560">[</span><span class="op" id="8033561">]</span><span class="keyword" id="8033562">struct</span>&nbsp;<span class="op" id="8033569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8033572">host</span>&nbsp;<span class="builtintype" id="8033577">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8033585">port</span>&nbsp;<span class="builtintype" id="8033590">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8033598">join</span>&nbsp;<span class="builtintype" id="8033603">string</span><br>
<span class="lineno"></span><span class="op" id="8033610">}</span><span class="op" id="8033611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033614">{</span><span class="string" id="8033615">&#34;www.google.com&#34;</span><span class="op" id="8033631">,</span>&nbsp;<span class="string" id="8033633">&#34;80&#34;</span><span class="op" id="8033637">,</span>&nbsp;<span class="string" id="8033639">&#34;www.google.com:80&#34;</span><span class="op" id="8033658">}</span><span class="op" id="8033659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033662">{</span><span class="string" id="8033663">&#34;127.0.0.1&#34;</span><span class="op" id="8033674">,</span>&nbsp;<span class="string" id="8033676">&#34;1234&#34;</span><span class="op" id="8033682">,</span>&nbsp;<span class="string" id="8033684">&#34;127.0.0.1:1234&#34;</span><span class="op" id="8033700">}</span><span class="op" id="8033701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033704">{</span><span class="string" id="8033705">&#34;::1&#34;</span><span class="op" id="8033710">,</span>&nbsp;<span class="string" id="8033712">&#34;80&#34;</span><span class="op" id="8033716">,</span>&nbsp;<span class="string" id="8033718">&#34;[::1]:80&#34;</span><span class="op" id="8033728">}</span><span class="op" id="8033729">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033732">{</span><span class="string" id="8033733">&#34;fe80::1%lo0&#34;</span><span class="op" id="8033746">,</span>&nbsp;<span class="string" id="8033748">&#34;80&#34;</span><span class="op" id="8033752">,</span>&nbsp;<span class="string" id="8033754">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="8033772">}</span><span class="op" id="8033773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033776">{</span><span class="string" id="8033777">&#34;localhost%lo0&#34;</span><span class="op" id="8033792">,</span>&nbsp;<span class="string" id="8033794">&#34;80&#34;</span><span class="op" id="8033798">,</span>&nbsp;<span class="string" id="8033800">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="8033820">}</span><span class="op" id="8033821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033824">{</span><span class="string" id="8033825">&#34;&#34;</span><span class="op" id="8033827">,</span>&nbsp;<span class="string" id="8033829">&#34;0&#34;</span><span class="op" id="8033832">,</span>&nbsp;<span class="string" id="8033834">&#34;:0&#34;</span><span class="op" id="8033838">}</span><span class="op" id="8033839">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033843">{</span><span class="string" id="8033844">&#34;google.com&#34;</span><span class="op" id="8033856">,</span>&nbsp;<span class="string" id="8033858">&#34;https%foo&#34;</span><span class="op" id="8033869">,</span>&nbsp;<span class="string" id="8033871">&#34;google.com:https%foo&#34;</span><span class="op" id="8033893">}</span><span class="op" id="8033894">,</span>&nbsp;<span class="comment" id="8033896">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033916">{</span><span class="string" id="8033917">&#34;127.0.0.1&#34;</span><span class="op" id="8033928">,</span>&nbsp;<span class="string" id="8033930">&#34;&#34;</span><span class="op" id="8033932">,</span>&nbsp;<span class="string" id="8033934">&#34;127.0.0.1:&#34;</span><span class="op" id="8033946">}</span><span class="op" id="8033947">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8033969">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8033990">{</span><span class="string" id="8033991">&#34;www.google.com&#34;</span><span class="op" id="8034007">,</span>&nbsp;<span class="string" id="8034009">&#34;&#34;</span><span class="op" id="8034011">,</span>&nbsp;<span class="string" id="8034013">&#34;www.google.com:&#34;</span><span class="op" id="8034030">}</span><span class="op" id="8034031">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8034043">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="8034063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8034066">var</span>&nbsp;<span class="ident" id="8034070">splitFailureTests</span>&nbsp;<span class="op" id="8034088">=</span>&nbsp;<span class="op" id="8034090">[</span><span class="op" id="8034091">]</span><span class="keyword" id="8034092">struct</span>&nbsp;<span class="op" id="8034099">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8034102">hostPort</span>&nbsp;<span class="builtintype" id="8034111">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8034119">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8034128">string</span><br>
<span class="lineno"></span><span class="op" id="8034135">}</span><span class="op" id="8034136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034139">{</span><span class="string" id="8034140">&#34;www.google.com&#34;</span><span class="op" id="8034156">,</span>&nbsp;<span class="string" id="8034158">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034183">}</span><span class="op" id="8034184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034187">{</span><span class="string" id="8034188">&#34;127.0.0.1&#34;</span><span class="op" id="8034199">,</span>&nbsp;<span class="string" id="8034201">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034226">}</span><span class="op" id="8034227">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034230">{</span><span class="string" id="8034231">&#34;[::1]&#34;</span><span class="op" id="8034238">,</span>&nbsp;<span class="string" id="8034240">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034265">}</span><span class="op" id="8034266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034269">{</span><span class="string" id="8034270">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="8034285">,</span>&nbsp;<span class="string" id="8034287">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034312">}</span><span class="op" id="8034313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034316">{</span><span class="string" id="8034317">&#34;[localhost%lo0]&#34;</span><span class="op" id="8034334">,</span>&nbsp;<span class="string" id="8034336">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034361">}</span><span class="op" id="8034362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034365">{</span><span class="string" id="8034366">&#34;localhost%lo0&#34;</span><span class="op" id="8034381">,</span>&nbsp;<span class="string" id="8034383">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034408">}</span><span class="op" id="8034409">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034413">{</span><span class="string" id="8034414">&#34;::1&#34;</span><span class="op" id="8034419">,</span>&nbsp;<span class="string" id="8034421">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034449">}</span><span class="op" id="8034450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034453">{</span><span class="string" id="8034454">&#34;fe80::1%lo0&#34;</span><span class="op" id="8034467">,</span>&nbsp;<span class="string" id="8034469">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034497">}</span><span class="op" id="8034498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034501">{</span><span class="string" id="8034502">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="8034518">,</span>&nbsp;<span class="string" id="8034520">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034548">}</span><span class="op" id="8034549">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034553">{</span><span class="string" id="8034554">&#34;localhost%lo0:80&#34;</span><span class="op" id="8034572">,</span>&nbsp;<span class="string" id="8034574">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034603">}</span><span class="op" id="8034604">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8034608">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034651">{</span><span class="string" id="8034652">&#34;[foo:bar]&#34;</span><span class="op" id="8034663">,</span>&nbsp;<span class="string" id="8034665">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034690">}</span><span class="op" id="8034691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034694">{</span><span class="string" id="8034695">&#34;[foo:bar]baz&#34;</span><span class="op" id="8034709">,</span>&nbsp;<span class="string" id="8034711">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034736">}</span><span class="op" id="8034737">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034740">{</span><span class="string" id="8034741">&#34;[foo]bar:baz&#34;</span><span class="op" id="8034755">,</span>&nbsp;<span class="string" id="8034757">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034782">}</span><span class="op" id="8034783">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034787">{</span><span class="string" id="8034788">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="8034805">,</span>&nbsp;<span class="string" id="8034807">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034835">}</span><span class="op" id="8034836">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034840">{</span><span class="string" id="8034841">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="8034857">,</span>&nbsp;<span class="string" id="8034859">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034886">}</span><span class="op" id="8034887">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034890">{</span><span class="string" id="8034891">&#34;foo[bar]:baz&#34;</span><span class="op" id="8034905">,</span>&nbsp;<span class="string" id="8034907">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034934">}</span><span class="op" id="8034935">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8034939">{</span><span class="string" id="8034940">&#34;foo]bar:baz&#34;</span><span class="op" id="8034953">,</span>&nbsp;<span class="string" id="8034955">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8034982">}</span><span class="op" id="8034983">,</span><br>
<span class="lineno"></span><span class="op" id="8034985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="8034988">func</span>&nbsp;<span class="ident" id="8034993">TestSplitHostPort</span><span class="op" id="8035010">(</span><span class="ident" id="8035011">t</span>&nbsp;<span class="op" id="8035013">*</span><span class="ident" id="8035014">testing</span><span class="op" id="8035021">.</span><span class="ident" id="8035022">T</span><span class="op" id="8035023">)</span>&nbsp;<span class="op" id="8035025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8035028">for</span>&nbsp;<span class="ident" id="8035032">_</span><span class="op" id="8035033">,</span>&nbsp;<span class="ident" id="8035035">tt</span>&nbsp;<span class="op" id="8035038">:=</span>&nbsp;<span class="keyword" id="8035041">range</span>&nbsp;<span class="ident" id="8035047">splitJoinTests</span>&nbsp;<span class="op" id="8035062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8035066">if</span>&nbsp;<span class="ident" id="8035069">host</span><span class="op" id="8035073">,</span>&nbsp;<span class="ident" id="8035075">port</span><span class="op" id="8035079">,</span>&nbsp;<span class="ident" id="8035081">err</span>&nbsp;<span class="op" id="8035085">:=</span>&nbsp;<span class="ident" id="8035088">SplitHostPort</span><span class="op" id="8035101">(</span><span class="ident" id="8035102">tt</span><span class="op" id="8035104">.</span><span class="ident" id="8035105">join</span><span class="op" id="8035109">)</span><span class="op" id="8035110">;</span>&nbsp;<span class="ident" id="8035112">host</span>&nbsp;<span class="op" id="8035117">!=</span>&nbsp;<span class="ident" id="8035120">tt</span><span class="op" id="8035122">.</span><span class="ident" id="8035123">host</span>&nbsp;<span class="op" id="8035128">||</span>&nbsp;<span class="ident" id="8035131">port</span>&nbsp;<span class="op" id="8035136">!=</span>&nbsp;<span class="ident" id="8035139">tt</span><span class="op" id="8035141">.</span><span class="ident" id="8035142">port</span>&nbsp;<span class="op" id="8035147">||</span>&nbsp;<span class="ident" id="8035150">err</span>&nbsp;<span class="op" id="8035154">!=</span>&nbsp;<span class="ident" id="8035157">nil</span>&nbsp;<span class="op" id="8035161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035166">t</span><span class="op" id="8035167">.</span><span class="ident" id="8035168">Errorf</span><span class="op" id="8035174">(</span><span class="string" id="8035175">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="8035225">,</span>&nbsp;<span class="ident" id="8035227">tt</span><span class="op" id="8035229">.</span><span class="ident" id="8035230">join</span><span class="op" id="8035234">,</span>&nbsp;<span class="ident" id="8035236">host</span><span class="op" id="8035240">,</span>&nbsp;<span class="ident" id="8035242">port</span><span class="op" id="8035246">,</span>&nbsp;<span class="ident" id="8035248">err</span><span class="op" id="8035251">,</span>&nbsp;<span class="ident" id="8035253">tt</span><span class="op" id="8035255">.</span><span class="ident" id="8035256">host</span><span class="op" id="8035260">,</span>&nbsp;<span class="ident" id="8035262">tt</span><span class="op" id="8035264">.</span><span class="ident" id="8035265">port</span><span class="op" id="8035269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035273">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8035279">for</span>&nbsp;<span class="ident" id="8035283">_</span><span class="op" id="8035284">,</span>&nbsp;<span class="ident" id="8035286">tt</span>&nbsp;<span class="op" id="8035289">:=</span>&nbsp;<span class="keyword" id="8035292">range</span>&nbsp;<span class="ident" id="8035298">splitFailureTests</span>&nbsp;<span class="op" id="8035316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8035320">if</span>&nbsp;<span class="ident" id="8035323">_</span><span class="op" id="8035324">,</span>&nbsp;<span class="ident" id="8035326">_</span><span class="op" id="8035327">,</span>&nbsp;<span class="ident" id="8035329">err</span>&nbsp;<span class="op" id="8035333">:=</span>&nbsp;<span class="ident" id="8035336">SplitHostPort</span><span class="op" id="8035349">(</span><span class="ident" id="8035350">tt</span><span class="op" id="8035352">.</span><span class="ident" id="8035353">hostPort</span><span class="op" id="8035361">)</span><span class="op" id="8035362">;</span>&nbsp;<span class="ident" id="8035364">err</span>&nbsp;<span class="op" id="8035368">==</span>&nbsp;<span class="ident" id="8035371">nil</span>&nbsp;<span class="op" id="8035375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035380">t</span><span class="op" id="8035381">.</span><span class="ident" id="8035382">Errorf</span><span class="op" id="8035388">(</span><span class="string" id="8035389">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="8035427">,</span>&nbsp;<span class="ident" id="8035429">tt</span><span class="op" id="8035431">.</span><span class="ident" id="8035432">hostPort</span><span class="op" id="8035440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035444">}</span>&nbsp;<span class="keyword" id="8035446">else</span>&nbsp;<span class="op" id="8035451">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035456">e</span>&nbsp;<span class="op" id="8035458">:=</span>&nbsp;<span class="ident" id="8035461">err</span><span class="op" id="8035464">.</span><span class="op" id="8035465">(</span><span class="op" id="8035466">*</span><span class="ident" id="8035467">AddrError</span><span class="op" id="8035476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8035481">if</span>&nbsp;<span class="ident" id="8035484">e</span><span class="op" id="8035485">.</span><span class="ident" id="8035486">Err</span>&nbsp;<span class="op" id="8035490">!=</span>&nbsp;<span class="ident" id="8035493">tt</span><span class="op" id="8035495">.</span><span class="ident" id="8035496">err</span>&nbsp;<span class="op" id="8035500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035506">t</span><span class="op" id="8035507">.</span><span class="ident" id="8035508">Errorf</span><span class="op" id="8035514">(</span><span class="string" id="8035515">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8035554">,</span>&nbsp;<span class="ident" id="8035556">tt</span><span class="op" id="8035558">.</span><span class="ident" id="8035559">hostPort</span><span class="op" id="8035567">,</span>&nbsp;<span class="ident" id="8035569">e</span><span class="op" id="8035570">.</span><span class="ident" id="8035571">Err</span><span class="op" id="8035574">,</span>&nbsp;<span class="ident" id="8035576">tt</span><span class="op" id="8035578">.</span><span class="ident" id="8035579">err</span><span class="op" id="8035582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035591">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035594">}</span><br>
<span class="lineno"></span><span class="op" id="8035596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8035599">func</span>&nbsp;<span class="ident" id="8035604">TestJoinHostPort</span><span class="op" id="8035620">(</span><span class="ident" id="8035621">t</span>&nbsp;<span class="op" id="8035623">*</span><span class="ident" id="8035624">testing</span><span class="op" id="8035631">.</span><span class="ident" id="8035632">T</span><span class="op" id="8035633">)</span>&nbsp;<span class="op" id="8035635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8035638">for</span>&nbsp;<span class="ident" id="8035642">_</span><span class="op" id="8035643">,</span>&nbsp;<span class="ident" id="8035645">tt</span>&nbsp;<span class="op" id="8035648">:=</span>&nbsp;<span class="keyword" id="8035651">range</span>&nbsp;<span class="ident" id="8035657">splitJoinTests</span>&nbsp;<span class="op" id="8035672">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8035676">if</span>&nbsp;<span class="ident" id="8035679">join</span>&nbsp;<span class="op" id="8035684">:=</span>&nbsp;<span class="ident" id="8035687">JoinHostPort</span><span class="op" id="8035699">(</span><span class="ident" id="8035700">tt</span><span class="op" id="8035702">.</span><span class="ident" id="8035703">host</span><span class="op" id="8035707">,</span>&nbsp;<span class="ident" id="8035709">tt</span><span class="op" id="8035711">.</span><span class="ident" id="8035712">port</span><span class="op" id="8035716">)</span><span class="op" id="8035717">;</span>&nbsp;<span class="ident" id="8035719">join</span>&nbsp;<span class="op" id="8035724">!=</span>&nbsp;<span class="ident" id="8035727">tt</span><span class="op" id="8035729">.</span><span class="ident" id="8035730">join</span>&nbsp;<span class="op" id="8035735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035740">t</span><span class="op" id="8035741">.</span><span class="ident" id="8035742">Errorf</span><span class="op" id="8035748">(</span><span class="string" id="8035749">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8035785">,</span>&nbsp;<span class="ident" id="8035787">tt</span><span class="op" id="8035789">.</span><span class="ident" id="8035790">host</span><span class="op" id="8035794">,</span>&nbsp;<span class="ident" id="8035796">tt</span><span class="op" id="8035798">.</span><span class="ident" id="8035799">port</span><span class="op" id="8035803">,</span>&nbsp;<span class="ident" id="8035805">join</span><span class="op" id="8035809">,</span>&nbsp;<span class="ident" id="8035811">tt</span><span class="op" id="8035813">.</span><span class="ident" id="8035814">join</span><span class="op" id="8035818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035825">}</span><br>
<span class="lineno"></span><span class="op" id="8035827">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="8035830">var</span>&nbsp;<span class="ident" id="8035834">ipAddrFamilyTests</span>&nbsp;<span class="op" id="8035852">=</span>&nbsp;<span class="op" id="8035854">[</span><span class="op" id="8035855">]</span><span class="keyword" id="8035856">struct</span>&nbsp;<span class="op" id="8035863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035866">in</span>&nbsp;&nbsp;<span class="ident" id="8035870">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035874">af4</span>&nbsp;<span class="builtintype" id="8035878">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8035884">af6</span>&nbsp;<span class="builtintype" id="8035888">bool</span><br>
<span class="lineno">390</span><span class="op" id="8035893">}</span><span class="op" id="8035894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035897">{</span><span class="ident" id="8035898">IPv4bcast</span><span class="op" id="8035907">,</span>&nbsp;<span class="builtintype" id="8035909">true</span><span class="op" id="8035913">,</span>&nbsp;<span class="builtintype" id="8035915">false</span><span class="op" id="8035920">}</span><span class="op" id="8035921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035924">{</span><span class="ident" id="8035925">IPv4allsys</span><span class="op" id="8035935">,</span>&nbsp;<span class="builtintype" id="8035937">true</span><span class="op" id="8035941">,</span>&nbsp;<span class="builtintype" id="8035943">false</span><span class="op" id="8035948">}</span><span class="op" id="8035949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035952">{</span><span class="ident" id="8035953">IPv4allrouter</span><span class="op" id="8035966">,</span>&nbsp;<span class="builtintype" id="8035968">true</span><span class="op" id="8035972">,</span>&nbsp;<span class="builtintype" id="8035974">false</span><span class="op" id="8035979">}</span><span class="op" id="8035980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8035983">{</span><span class="ident" id="8035984">IPv4zero</span><span class="op" id="8035992">,</span>&nbsp;<span class="builtintype" id="8035994">true</span><span class="op" id="8035998">,</span>&nbsp;<span class="builtintype" id="8036000">false</span><span class="op" id="8036005">}</span><span class="op" id="8036006">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036009">{</span><span class="ident" id="8036010">IPv4</span><span class="op" id="8036014">(</span><span class="num" id="8036015">224</span><span class="op" id="8036018">,</span>&nbsp;<span class="num" id="8036020">0</span><span class="op" id="8036021">,</span>&nbsp;<span class="num" id="8036023">0</span><span class="op" id="8036024">,</span>&nbsp;<span class="num" id="8036026">1</span><span class="op" id="8036027">)</span><span class="op" id="8036028">,</span>&nbsp;<span class="builtintype" id="8036030">true</span><span class="op" id="8036034">,</span>&nbsp;<span class="builtintype" id="8036036">false</span><span class="op" id="8036041">}</span><span class="op" id="8036042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036045">{</span><span class="ident" id="8036046">IPv4</span><span class="op" id="8036050">(</span><span class="num" id="8036051">127</span><span class="op" id="8036054">,</span>&nbsp;<span class="num" id="8036056">0</span><span class="op" id="8036057">,</span>&nbsp;<span class="num" id="8036059">0</span><span class="op" id="8036060">,</span>&nbsp;<span class="num" id="8036062">1</span><span class="op" id="8036063">)</span><span class="op" id="8036064">,</span>&nbsp;<span class="builtintype" id="8036066">true</span><span class="op" id="8036070">,</span>&nbsp;<span class="builtintype" id="8036072">false</span><span class="op" id="8036077">}</span><span class="op" id="8036078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036081">{</span><span class="ident" id="8036082">IPv4</span><span class="op" id="8036086">(</span><span class="num" id="8036087">240</span><span class="op" id="8036090">,</span>&nbsp;<span class="num" id="8036092">0</span><span class="op" id="8036093">,</span>&nbsp;<span class="num" id="8036095">0</span><span class="op" id="8036096">,</span>&nbsp;<span class="num" id="8036098">1</span><span class="op" id="8036099">)</span><span class="op" id="8036100">,</span>&nbsp;<span class="builtintype" id="8036102">true</span><span class="op" id="8036106">,</span>&nbsp;<span class="builtintype" id="8036108">false</span><span class="op" id="8036113">}</span><span class="op" id="8036114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036117">{</span><span class="ident" id="8036118">IPv6unspecified</span><span class="op" id="8036133">,</span>&nbsp;<span class="builtintype" id="8036135">false</span><span class="op" id="8036140">,</span>&nbsp;<span class="builtintype" id="8036142">true</span><span class="op" id="8036146">}</span><span class="op" id="8036147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036150">{</span><span class="ident" id="8036151">IPv6loopback</span><span class="op" id="8036163">,</span>&nbsp;<span class="builtintype" id="8036165">false</span><span class="op" id="8036170">,</span>&nbsp;<span class="builtintype" id="8036172">true</span><span class="op" id="8036176">}</span><span class="op" id="8036177">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036180">{</span><span class="ident" id="8036181">IPv6interfacelocalallnodes</span><span class="op" id="8036207">,</span>&nbsp;<span class="builtintype" id="8036209">false</span><span class="op" id="8036214">,</span>&nbsp;<span class="builtintype" id="8036216">true</span><span class="op" id="8036220">}</span><span class="op" id="8036221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036224">{</span><span class="ident" id="8036225">IPv6linklocalallnodes</span><span class="op" id="8036246">,</span>&nbsp;<span class="builtintype" id="8036248">false</span><span class="op" id="8036253">,</span>&nbsp;<span class="builtintype" id="8036255">true</span><span class="op" id="8036259">}</span><span class="op" id="8036260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036263">{</span><span class="ident" id="8036264">IPv6linklocalallrouters</span><span class="op" id="8036287">,</span>&nbsp;<span class="builtintype" id="8036289">false</span><span class="op" id="8036294">,</span>&nbsp;<span class="builtintype" id="8036296">true</span><span class="op" id="8036300">}</span><span class="op" id="8036301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036304">{</span><span class="ident" id="8036305">ParseIP</span><span class="op" id="8036312">(</span><span class="string" id="8036313">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="8036328">)</span><span class="op" id="8036329">,</span>&nbsp;<span class="builtintype" id="8036331">false</span><span class="op" id="8036336">,</span>&nbsp;<span class="builtintype" id="8036338">true</span><span class="op" id="8036342">}</span><span class="op" id="8036343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036346">{</span><span class="ident" id="8036347">ParseIP</span><span class="op" id="8036354">(</span><span class="string" id="8036355">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="8036370">)</span><span class="op" id="8036371">,</span>&nbsp;<span class="builtintype" id="8036373">false</span><span class="op" id="8036378">,</span>&nbsp;<span class="builtintype" id="8036380">true</span><span class="op" id="8036384">}</span><span class="op" id="8036385">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036388">{</span><span class="ident" id="8036389">ParseIP</span><span class="op" id="8036396">(</span><span class="string" id="8036397">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="8036417">)</span><span class="op" id="8036418">,</span>&nbsp;<span class="builtintype" id="8036420">false</span><span class="op" id="8036425">,</span>&nbsp;<span class="builtintype" id="8036427">true</span><span class="op" id="8036431">}</span><span class="op" id="8036432">,</span><br>
<span class="lineno"></span><span class="op" id="8036434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8036437">func</span>&nbsp;<span class="ident" id="8036442">TestIPAddrFamily</span><span class="op" id="8036458">(</span><span class="ident" id="8036459">t</span>&nbsp;<span class="op" id="8036461">*</span><span class="ident" id="8036462">testing</span><span class="op" id="8036469">.</span><span class="ident" id="8036470">T</span><span class="op" id="8036471">)</span>&nbsp;<span class="op" id="8036473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8036476">for</span>&nbsp;<span class="ident" id="8036480">_</span><span class="op" id="8036481">,</span>&nbsp;<span class="ident" id="8036483">tt</span>&nbsp;<span class="op" id="8036486">:=</span>&nbsp;<span class="keyword" id="8036489">range</span>&nbsp;<span class="ident" id="8036495">ipAddrFamilyTests</span>&nbsp;<span class="op" id="8036513">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8036517">if</span>&nbsp;<span class="ident" id="8036520">af</span>&nbsp;<span class="op" id="8036523">:=</span>&nbsp;<span class="ident" id="8036526">tt</span><span class="op" id="8036528">.</span><span class="ident" id="8036529">in</span><span class="op" id="8036531">.</span><span class="ident" id="8036532">To4</span><span class="op" id="8036535">(</span><span class="op" id="8036536">)</span>&nbsp;<span class="op" id="8036538">!=</span>&nbsp;<span class="ident" id="8036541">nil</span><span class="op" id="8036544">;</span>&nbsp;<span class="ident" id="8036546">af</span>&nbsp;<span class="op" id="8036549">!=</span>&nbsp;<span class="ident" id="8036552">tt</span><span class="op" id="8036554">.</span><span class="ident" id="8036555">af4</span>&nbsp;<span class="op" id="8036559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8036564">t</span><span class="op" id="8036565">.</span><span class="ident" id="8036566">Errorf</span><span class="op" id="8036572">(</span><span class="string" id="8036573">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8036625">,</span>&nbsp;<span class="ident" id="8036627">tt</span><span class="op" id="8036629">.</span><span class="ident" id="8036630">in</span><span class="op" id="8036632">,</span>&nbsp;<span class="ident" id="8036634">af</span><span class="op" id="8036636">,</span>&nbsp;<span class="ident" id="8036638">tt</span><span class="op" id="8036640">.</span><span class="ident" id="8036641">af4</span><span class="op" id="8036644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8036652">if</span>&nbsp;<span class="ident" id="8036655">af</span>&nbsp;<span class="op" id="8036658">:=</span>&nbsp;<span class="builtinfunc" id="8036661">len</span><span class="op" id="8036664">(</span><span class="ident" id="8036665">tt</span><span class="op" id="8036667">.</span><span class="ident" id="8036668">in</span><span class="op" id="8036670">)</span>&nbsp;<span class="op" id="8036672">==</span>&nbsp;<span class="ident" id="8036675">IPv6len</span>&nbsp;<span class="op" id="8036683">&amp;&amp;</span>&nbsp;<span class="ident" id="8036686">tt</span><span class="op" id="8036688">.</span><span class="ident" id="8036689">in</span><span class="op" id="8036691">.</span><span class="ident" id="8036692">To4</span><span class="op" id="8036695">(</span><span class="op" id="8036696">)</span>&nbsp;<span class="op" id="8036698">==</span>&nbsp;<span class="ident" id="8036701">nil</span><span class="op" id="8036704">;</span>&nbsp;<span class="ident" id="8036706">af</span>&nbsp;<span class="op" id="8036709">!=</span>&nbsp;<span class="ident" id="8036712">tt</span><span class="op" id="8036714">.</span><span class="ident" id="8036715">af6</span>&nbsp;<span class="op" id="8036719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8036724">t</span><span class="op" id="8036725">.</span><span class="ident" id="8036726">Errorf</span><span class="op" id="8036732">(</span><span class="string" id="8036733">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8036785">,</span>&nbsp;<span class="ident" id="8036787">tt</span><span class="op" id="8036789">.</span><span class="ident" id="8036790">in</span><span class="op" id="8036792">,</span>&nbsp;<span class="ident" id="8036794">af</span><span class="op" id="8036796">,</span>&nbsp;<span class="ident" id="8036798">tt</span><span class="op" id="8036800">.</span><span class="ident" id="8036801">af6</span><span class="op" id="8036804">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036811">}</span><br>
<span class="lineno"></span><span class="op" id="8036813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8036816">var</span>&nbsp;<span class="ident" id="8036820">ipAddrScopeTests</span>&nbsp;<span class="op" id="8036837">=</span>&nbsp;<span class="op" id="8036839">[</span><span class="op" id="8036840">]</span><span class="keyword" id="8036841">struct</span>&nbsp;<span class="op" id="8036848">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8036851">scope</span>&nbsp;<span class="keyword" id="8036857">func</span><span class="op" id="8036861">(</span><span class="ident" id="8036862">IP</span><span class="op" id="8036864">)</span>&nbsp;<span class="builtintype" id="8036866">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8036872">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8036878">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8036882">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8036888">bool</span><br>
<span class="lineno"></span><span class="op" id="8036893">}</span><span class="op" id="8036894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036897">{</span><span class="ident" id="8036898">IP</span><span class="op" id="8036900">.</span><span class="ident" id="8036901">IsUnspecified</span><span class="op" id="8036914">,</span>&nbsp;<span class="ident" id="8036916">IPv4zero</span><span class="op" id="8036924">,</span>&nbsp;<span class="builtintype" id="8036926">true</span><span class="op" id="8036930">}</span><span class="op" id="8036931">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036934">{</span><span class="ident" id="8036935">IP</span><span class="op" id="8036937">.</span><span class="ident" id="8036938">IsUnspecified</span><span class="op" id="8036951">,</span>&nbsp;<span class="ident" id="8036953">IPv4</span><span class="op" id="8036957">(</span><span class="num" id="8036958">127</span><span class="op" id="8036961">,</span>&nbsp;<span class="num" id="8036963">0</span><span class="op" id="8036964">,</span>&nbsp;<span class="num" id="8036966">0</span><span class="op" id="8036967">,</span>&nbsp;<span class="num" id="8036969">1</span><span class="op" id="8036970">)</span><span class="op" id="8036971">,</span>&nbsp;<span class="builtintype" id="8036973">false</span><span class="op" id="8036978">}</span><span class="op" id="8036979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8036982">{</span><span class="ident" id="8036983">IP</span><span class="op" id="8036985">.</span><span class="ident" id="8036986">IsUnspecified</span><span class="op" id="8036999">,</span>&nbsp;<span class="ident" id="8037001">IPv6unspecified</span><span class="op" id="8037016">,</span>&nbsp;<span class="builtintype" id="8037018">true</span><span class="op" id="8037022">}</span><span class="op" id="8037023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037026">{</span><span class="ident" id="8037027">IP</span><span class="op" id="8037029">.</span><span class="ident" id="8037030">IsUnspecified</span><span class="op" id="8037043">,</span>&nbsp;<span class="ident" id="8037045">IPv6interfacelocalallnodes</span><span class="op" id="8037071">,</span>&nbsp;<span class="builtintype" id="8037073">false</span><span class="op" id="8037078">}</span><span class="op" id="8037079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037082">{</span><span class="ident" id="8037083">IP</span><span class="op" id="8037085">.</span><span class="ident" id="8037086">IsLoopback</span><span class="op" id="8037096">,</span>&nbsp;<span class="ident" id="8037098">IPv4</span><span class="op" id="8037102">(</span><span class="num" id="8037103">127</span><span class="op" id="8037106">,</span>&nbsp;<span class="num" id="8037108">0</span><span class="op" id="8037109">,</span>&nbsp;<span class="num" id="8037111">0</span><span class="op" id="8037112">,</span>&nbsp;<span class="num" id="8037114">1</span><span class="op" id="8037115">)</span><span class="op" id="8037116">,</span>&nbsp;<span class="builtintype" id="8037118">true</span><span class="op" id="8037122">}</span><span class="op" id="8037123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037126">{</span><span class="ident" id="8037127">IP</span><span class="op" id="8037129">.</span><span class="ident" id="8037130">IsLoopback</span><span class="op" id="8037140">,</span>&nbsp;<span class="ident" id="8037142">IPv4</span><span class="op" id="8037146">(</span><span class="num" id="8037147">127</span><span class="op" id="8037150">,</span>&nbsp;<span class="num" id="8037152">255</span><span class="op" id="8037155">,</span>&nbsp;<span class="num" id="8037157">255</span><span class="op" id="8037160">,</span>&nbsp;<span class="num" id="8037162">254</span><span class="op" id="8037165">)</span><span class="op" id="8037166">,</span>&nbsp;<span class="builtintype" id="8037168">true</span><span class="op" id="8037172">}</span><span class="op" id="8037173">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037176">{</span><span class="ident" id="8037177">IP</span><span class="op" id="8037179">.</span><span class="ident" id="8037180">IsLoopback</span><span class="op" id="8037190">,</span>&nbsp;<span class="ident" id="8037192">IPv4</span><span class="op" id="8037196">(</span><span class="num" id="8037197">128</span><span class="op" id="8037200">,</span>&nbsp;<span class="num" id="8037202">1</span><span class="op" id="8037203">,</span>&nbsp;<span class="num" id="8037205">2</span><span class="op" id="8037206">,</span>&nbsp;<span class="num" id="8037208">3</span><span class="op" id="8037209">)</span><span class="op" id="8037210">,</span>&nbsp;<span class="builtintype" id="8037212">false</span><span class="op" id="8037217">}</span><span class="op" id="8037218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037221">{</span><span class="ident" id="8037222">IP</span><span class="op" id="8037224">.</span><span class="ident" id="8037225">IsLoopback</span><span class="op" id="8037235">,</span>&nbsp;<span class="ident" id="8037237">IPv6loopback</span><span class="op" id="8037249">,</span>&nbsp;<span class="builtintype" id="8037251">true</span><span class="op" id="8037255">}</span><span class="op" id="8037256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037259">{</span><span class="ident" id="8037260">IP</span><span class="op" id="8037262">.</span><span class="ident" id="8037263">IsLoopback</span><span class="op" id="8037273">,</span>&nbsp;<span class="ident" id="8037275">IPv6linklocalallrouters</span><span class="op" id="8037298">,</span>&nbsp;<span class="builtintype" id="8037300">false</span><span class="op" id="8037305">}</span><span class="op" id="8037306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037309">{</span><span class="ident" id="8037310">IP</span><span class="op" id="8037312">.</span><span class="ident" id="8037313">IsMulticast</span><span class="op" id="8037324">,</span>&nbsp;<span class="ident" id="8037326">IPv4</span><span class="op" id="8037330">(</span><span class="num" id="8037331">224</span><span class="op" id="8037334">,</span>&nbsp;<span class="num" id="8037336">0</span><span class="op" id="8037337">,</span>&nbsp;<span class="num" id="8037339">0</span><span class="op" id="8037340">,</span>&nbsp;<span class="num" id="8037342">0</span><span class="op" id="8037343">)</span><span class="op" id="8037344">,</span>&nbsp;<span class="builtintype" id="8037346">true</span><span class="op" id="8037350">}</span><span class="op" id="8037351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037354">{</span><span class="ident" id="8037355">IP</span><span class="op" id="8037357">.</span><span class="ident" id="8037358">IsMulticast</span><span class="op" id="8037369">,</span>&nbsp;<span class="ident" id="8037371">IPv4</span><span class="op" id="8037375">(</span><span class="num" id="8037376">239</span><span class="op" id="8037379">,</span>&nbsp;<span class="num" id="8037381">0</span><span class="op" id="8037382">,</span>&nbsp;<span class="num" id="8037384">0</span><span class="op" id="8037385">,</span>&nbsp;<span class="num" id="8037387">0</span><span class="op" id="8037388">)</span><span class="op" id="8037389">,</span>&nbsp;<span class="builtintype" id="8037391">true</span><span class="op" id="8037395">}</span><span class="op" id="8037396">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037399">{</span><span class="ident" id="8037400">IP</span><span class="op" id="8037402">.</span><span class="ident" id="8037403">IsMulticast</span><span class="op" id="8037414">,</span>&nbsp;<span class="ident" id="8037416">IPv4</span><span class="op" id="8037420">(</span><span class="num" id="8037421">240</span><span class="op" id="8037424">,</span>&nbsp;<span class="num" id="8037426">0</span><span class="op" id="8037427">,</span>&nbsp;<span class="num" id="8037429">0</span><span class="op" id="8037430">,</span>&nbsp;<span class="num" id="8037432">0</span><span class="op" id="8037433">)</span><span class="op" id="8037434">,</span>&nbsp;<span class="builtintype" id="8037436">false</span><span class="op" id="8037441">}</span><span class="op" id="8037442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037445">{</span><span class="ident" id="8037446">IP</span><span class="op" id="8037448">.</span><span class="ident" id="8037449">IsMulticast</span><span class="op" id="8037460">,</span>&nbsp;<span class="ident" id="8037462">IPv6linklocalallnodes</span><span class="op" id="8037483">,</span>&nbsp;<span class="builtintype" id="8037485">true</span><span class="op" id="8037489">}</span><span class="op" id="8037490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037493">{</span><span class="ident" id="8037494">IP</span><span class="op" id="8037496">.</span><span class="ident" id="8037497">IsMulticast</span><span class="op" id="8037508">,</span>&nbsp;<span class="ident" id="8037510">IP</span><span class="op" id="8037512">{</span><span class="num" id="8037513">0xff</span><span class="op" id="8037517">,</span>&nbsp;<span class="num" id="8037519">0x05</span><span class="op" id="8037523">,</span>&nbsp;<span class="num" id="8037525">0</span><span class="op" id="8037526">,</span>&nbsp;<span class="num" id="8037528">0</span><span class="op" id="8037529">,</span>&nbsp;<span class="num" id="8037531">0</span><span class="op" id="8037532">,</span>&nbsp;<span class="num" id="8037534">0</span><span class="op" id="8037535">,</span>&nbsp;<span class="num" id="8037537">0</span><span class="op" id="8037538">,</span>&nbsp;<span class="num" id="8037540">0</span><span class="op" id="8037541">,</span>&nbsp;<span class="num" id="8037543">0</span><span class="op" id="8037544">,</span>&nbsp;<span class="num" id="8037546">0</span><span class="op" id="8037547">,</span>&nbsp;<span class="num" id="8037549">0</span><span class="op" id="8037550">,</span>&nbsp;<span class="num" id="8037552">0</span><span class="op" id="8037553">,</span>&nbsp;<span class="num" id="8037555">0</span><span class="op" id="8037556">,</span>&nbsp;<span class="num" id="8037558">0</span><span class="op" id="8037559">,</span>&nbsp;<span class="num" id="8037561">0</span><span class="op" id="8037562">,</span>&nbsp;<span class="num" id="8037564">0</span><span class="op" id="8037565">}</span><span class="op" id="8037566">,</span>&nbsp;<span class="builtintype" id="8037568">true</span><span class="op" id="8037572">}</span><span class="op" id="8037573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037576">{</span><span class="ident" id="8037577">IP</span><span class="op" id="8037579">.</span><span class="ident" id="8037580">IsMulticast</span><span class="op" id="8037591">,</span>&nbsp;<span class="ident" id="8037593">IP</span><span class="op" id="8037595">{</span><span class="num" id="8037596">0xfe</span><span class="op" id="8037600">,</span>&nbsp;<span class="num" id="8037602">0x80</span><span class="op" id="8037606">,</span>&nbsp;<span class="num" id="8037608">0</span><span class="op" id="8037609">,</span>&nbsp;<span class="num" id="8037611">0</span><span class="op" id="8037612">,</span>&nbsp;<span class="num" id="8037614">0</span><span class="op" id="8037615">,</span>&nbsp;<span class="num" id="8037617">0</span><span class="op" id="8037618">,</span>&nbsp;<span class="num" id="8037620">0</span><span class="op" id="8037621">,</span>&nbsp;<span class="num" id="8037623">0</span><span class="op" id="8037624">,</span>&nbsp;<span class="num" id="8037626">0</span><span class="op" id="8037627">,</span>&nbsp;<span class="num" id="8037629">0</span><span class="op" id="8037630">,</span>&nbsp;<span class="num" id="8037632">0</span><span class="op" id="8037633">,</span>&nbsp;<span class="num" id="8037635">0</span><span class="op" id="8037636">,</span>&nbsp;<span class="num" id="8037638">0</span><span class="op" id="8037639">,</span>&nbsp;<span class="num" id="8037641">0</span><span class="op" id="8037642">,</span>&nbsp;<span class="num" id="8037644">0</span><span class="op" id="8037645">,</span>&nbsp;<span class="num" id="8037647">0</span><span class="op" id="8037648">}</span><span class="op" id="8037649">,</span>&nbsp;<span class="builtintype" id="8037651">false</span><span class="op" id="8037656">}</span><span class="op" id="8037657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037660">{</span><span class="ident" id="8037661">IP</span><span class="op" id="8037663">.</span><span class="ident" id="8037664">IsLinkLocalMulticast</span><span class="op" id="8037684">,</span>&nbsp;<span class="ident" id="8037686">IPv4</span><span class="op" id="8037690">(</span><span class="num" id="8037691">224</span><span class="op" id="8037694">,</span>&nbsp;<span class="num" id="8037696">0</span><span class="op" id="8037697">,</span>&nbsp;<span class="num" id="8037699">0</span><span class="op" id="8037700">,</span>&nbsp;<span class="num" id="8037702">0</span><span class="op" id="8037703">)</span><span class="op" id="8037704">,</span>&nbsp;<span class="builtintype" id="8037706">true</span><span class="op" id="8037710">}</span><span class="op" id="8037711">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037714">{</span><span class="ident" id="8037715">IP</span><span class="op" id="8037717">.</span><span class="ident" id="8037718">IsLinkLocalMulticast</span><span class="op" id="8037738">,</span>&nbsp;<span class="ident" id="8037740">IPv4</span><span class="op" id="8037744">(</span><span class="num" id="8037745">239</span><span class="op" id="8037748">,</span>&nbsp;<span class="num" id="8037750">0</span><span class="op" id="8037751">,</span>&nbsp;<span class="num" id="8037753">0</span><span class="op" id="8037754">,</span>&nbsp;<span class="num" id="8037756">0</span><span class="op" id="8037757">)</span><span class="op" id="8037758">,</span>&nbsp;<span class="builtintype" id="8037760">false</span><span class="op" id="8037765">}</span><span class="op" id="8037766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037769">{</span><span class="ident" id="8037770">IP</span><span class="op" id="8037772">.</span><span class="ident" id="8037773">IsLinkLocalMulticast</span><span class="op" id="8037793">,</span>&nbsp;<span class="ident" id="8037795">IPv6linklocalallrouters</span><span class="op" id="8037818">,</span>&nbsp;<span class="builtintype" id="8037820">true</span><span class="op" id="8037824">}</span><span class="op" id="8037825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037828">{</span><span class="ident" id="8037829">IP</span><span class="op" id="8037831">.</span><span class="ident" id="8037832">IsLinkLocalMulticast</span><span class="op" id="8037852">,</span>&nbsp;<span class="ident" id="8037854">IP</span><span class="op" id="8037856">{</span><span class="num" id="8037857">0xff</span><span class="op" id="8037861">,</span>&nbsp;<span class="num" id="8037863">0x05</span><span class="op" id="8037867">,</span>&nbsp;<span class="num" id="8037869">0</span><span class="op" id="8037870">,</span>&nbsp;<span class="num" id="8037872">0</span><span class="op" id="8037873">,</span>&nbsp;<span class="num" id="8037875">0</span><span class="op" id="8037876">,</span>&nbsp;<span class="num" id="8037878">0</span><span class="op" id="8037879">,</span>&nbsp;<span class="num" id="8037881">0</span><span class="op" id="8037882">,</span>&nbsp;<span class="num" id="8037884">0</span><span class="op" id="8037885">,</span>&nbsp;<span class="num" id="8037887">0</span><span class="op" id="8037888">,</span>&nbsp;<span class="num" id="8037890">0</span><span class="op" id="8037891">,</span>&nbsp;<span class="num" id="8037893">0</span><span class="op" id="8037894">,</span>&nbsp;<span class="num" id="8037896">0</span><span class="op" id="8037897">,</span>&nbsp;<span class="num" id="8037899">0</span><span class="op" id="8037900">,</span>&nbsp;<span class="num" id="8037902">0</span><span class="op" id="8037903">,</span>&nbsp;<span class="num" id="8037905">0</span><span class="op" id="8037906">,</span>&nbsp;<span class="num" id="8037908">0</span><span class="op" id="8037909">}</span><span class="op" id="8037910">,</span>&nbsp;<span class="builtintype" id="8037912">false</span><span class="op" id="8037917">}</span><span class="op" id="8037918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037921">{</span><span class="ident" id="8037922">IP</span><span class="op" id="8037924">.</span><span class="ident" id="8037925">IsLinkLocalUnicast</span><span class="op" id="8037943">,</span>&nbsp;<span class="ident" id="8037945">IPv4</span><span class="op" id="8037949">(</span><span class="num" id="8037950">169</span><span class="op" id="8037953">,</span>&nbsp;<span class="num" id="8037955">254</span><span class="op" id="8037958">,</span>&nbsp;<span class="num" id="8037960">0</span><span class="op" id="8037961">,</span>&nbsp;<span class="num" id="8037963">0</span><span class="op" id="8037964">)</span><span class="op" id="8037965">,</span>&nbsp;<span class="builtintype" id="8037967">true</span><span class="op" id="8037971">}</span><span class="op" id="8037972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8037975">{</span><span class="ident" id="8037976">IP</span><span class="op" id="8037978">.</span><span class="ident" id="8037979">IsLinkLocalUnicast</span><span class="op" id="8037997">,</span>&nbsp;<span class="ident" id="8037999">IPv4</span><span class="op" id="8038003">(</span><span class="num" id="8038004">169</span><span class="op" id="8038007">,</span>&nbsp;<span class="num" id="8038009">255</span><span class="op" id="8038012">,</span>&nbsp;<span class="num" id="8038014">0</span><span class="op" id="8038015">,</span>&nbsp;<span class="num" id="8038017">0</span><span class="op" id="8038018">)</span><span class="op" id="8038019">,</span>&nbsp;<span class="builtintype" id="8038021">false</span><span class="op" id="8038026">}</span><span class="op" id="8038027">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038030">{</span><span class="ident" id="8038031">IP</span><span class="op" id="8038033">.</span><span class="ident" id="8038034">IsLinkLocalUnicast</span><span class="op" id="8038052">,</span>&nbsp;<span class="ident" id="8038054">IP</span><span class="op" id="8038056">{</span><span class="num" id="8038057">0xfe</span><span class="op" id="8038061">,</span>&nbsp;<span class="num" id="8038063">0x80</span><span class="op" id="8038067">,</span>&nbsp;<span class="num" id="8038069">0</span><span class="op" id="8038070">,</span>&nbsp;<span class="num" id="8038072">0</span><span class="op" id="8038073">,</span>&nbsp;<span class="num" id="8038075">0</span><span class="op" id="8038076">,</span>&nbsp;<span class="num" id="8038078">0</span><span class="op" id="8038079">,</span>&nbsp;<span class="num" id="8038081">0</span><span class="op" id="8038082">,</span>&nbsp;<span class="num" id="8038084">0</span><span class="op" id="8038085">,</span>&nbsp;<span class="num" id="8038087">0</span><span class="op" id="8038088">,</span>&nbsp;<span class="num" id="8038090">0</span><span class="op" id="8038091">,</span>&nbsp;<span class="num" id="8038093">0</span><span class="op" id="8038094">,</span>&nbsp;<span class="num" id="8038096">0</span><span class="op" id="8038097">,</span>&nbsp;<span class="num" id="8038099">0</span><span class="op" id="8038100">,</span>&nbsp;<span class="num" id="8038102">0</span><span class="op" id="8038103">,</span>&nbsp;<span class="num" id="8038105">0</span><span class="op" id="8038106">,</span>&nbsp;<span class="num" id="8038108">0</span><span class="op" id="8038109">}</span><span class="op" id="8038110">,</span>&nbsp;<span class="builtintype" id="8038112">true</span><span class="op" id="8038116">}</span><span class="op" id="8038117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038120">{</span><span class="ident" id="8038121">IP</span><span class="op" id="8038123">.</span><span class="ident" id="8038124">IsLinkLocalUnicast</span><span class="op" id="8038142">,</span>&nbsp;<span class="ident" id="8038144">IP</span><span class="op" id="8038146">{</span><span class="num" id="8038147">0xfe</span><span class="op" id="8038151">,</span>&nbsp;<span class="num" id="8038153">0xc0</span><span class="op" id="8038157">,</span>&nbsp;<span class="num" id="8038159">0</span><span class="op" id="8038160">,</span>&nbsp;<span class="num" id="8038162">0</span><span class="op" id="8038163">,</span>&nbsp;<span class="num" id="8038165">0</span><span class="op" id="8038166">,</span>&nbsp;<span class="num" id="8038168">0</span><span class="op" id="8038169">,</span>&nbsp;<span class="num" id="8038171">0</span><span class="op" id="8038172">,</span>&nbsp;<span class="num" id="8038174">0</span><span class="op" id="8038175">,</span>&nbsp;<span class="num" id="8038177">0</span><span class="op" id="8038178">,</span>&nbsp;<span class="num" id="8038180">0</span><span class="op" id="8038181">,</span>&nbsp;<span class="num" id="8038183">0</span><span class="op" id="8038184">,</span>&nbsp;<span class="num" id="8038186">0</span><span class="op" id="8038187">,</span>&nbsp;<span class="num" id="8038189">0</span><span class="op" id="8038190">,</span>&nbsp;<span class="num" id="8038192">0</span><span class="op" id="8038193">,</span>&nbsp;<span class="num" id="8038195">0</span><span class="op" id="8038196">,</span>&nbsp;<span class="num" id="8038198">0</span><span class="op" id="8038199">}</span><span class="op" id="8038200">,</span>&nbsp;<span class="builtintype" id="8038202">false</span><span class="op" id="8038207">}</span><span class="op" id="8038208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038211">{</span><span class="ident" id="8038212">IP</span><span class="op" id="8038214">.</span><span class="ident" id="8038215">IsGlobalUnicast</span><span class="op" id="8038230">,</span>&nbsp;<span class="ident" id="8038232">IPv4</span><span class="op" id="8038236">(</span><span class="num" id="8038237">240</span><span class="op" id="8038240">,</span>&nbsp;<span class="num" id="8038242">0</span><span class="op" id="8038243">,</span>&nbsp;<span class="num" id="8038245">0</span><span class="op" id="8038246">,</span>&nbsp;<span class="num" id="8038248">0</span><span class="op" id="8038249">)</span><span class="op" id="8038250">,</span>&nbsp;<span class="builtintype" id="8038252">true</span><span class="op" id="8038256">}</span><span class="op" id="8038257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038260">{</span><span class="ident" id="8038261">IP</span><span class="op" id="8038263">.</span><span class="ident" id="8038264">IsGlobalUnicast</span><span class="op" id="8038279">,</span>&nbsp;<span class="ident" id="8038281">IPv4</span><span class="op" id="8038285">(</span><span class="num" id="8038286">232</span><span class="op" id="8038289">,</span>&nbsp;<span class="num" id="8038291">0</span><span class="op" id="8038292">,</span>&nbsp;<span class="num" id="8038294">0</span><span class="op" id="8038295">,</span>&nbsp;<span class="num" id="8038297">0</span><span class="op" id="8038298">)</span><span class="op" id="8038299">,</span>&nbsp;<span class="builtintype" id="8038301">false</span><span class="op" id="8038306">}</span><span class="op" id="8038307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038310">{</span><span class="ident" id="8038311">IP</span><span class="op" id="8038313">.</span><span class="ident" id="8038314">IsGlobalUnicast</span><span class="op" id="8038329">,</span>&nbsp;<span class="ident" id="8038331">IPv4</span><span class="op" id="8038335">(</span><span class="num" id="8038336">169</span><span class="op" id="8038339">,</span>&nbsp;<span class="num" id="8038341">254</span><span class="op" id="8038344">,</span>&nbsp;<span class="num" id="8038346">0</span><span class="op" id="8038347">,</span>&nbsp;<span class="num" id="8038349">0</span><span class="op" id="8038350">)</span><span class="op" id="8038351">,</span>&nbsp;<span class="builtintype" id="8038353">false</span><span class="op" id="8038358">}</span><span class="op" id="8038359">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038362">{</span><span class="ident" id="8038363">IP</span><span class="op" id="8038365">.</span><span class="ident" id="8038366">IsGlobalUnicast</span><span class="op" id="8038381">,</span>&nbsp;<span class="ident" id="8038383">IP</span><span class="op" id="8038385">{</span><span class="num" id="8038386">0x20</span><span class="op" id="8038390">,</span>&nbsp;<span class="num" id="8038392">0x1</span><span class="op" id="8038395">,</span>&nbsp;<span class="num" id="8038397">0xd</span><span class="op" id="8038400">,</span>&nbsp;<span class="num" id="8038402">0xb8</span><span class="op" id="8038406">,</span>&nbsp;<span class="num" id="8038408">0</span><span class="op" id="8038409">,</span>&nbsp;<span class="num" id="8038411">0</span><span class="op" id="8038412">,</span>&nbsp;<span class="num" id="8038414">0</span><span class="op" id="8038415">,</span>&nbsp;<span class="num" id="8038417">0</span><span class="op" id="8038418">,</span>&nbsp;<span class="num" id="8038420">0</span><span class="op" id="8038421">,</span>&nbsp;<span class="num" id="8038423">0</span><span class="op" id="8038424">,</span>&nbsp;<span class="num" id="8038426">0x1</span><span class="op" id="8038429">,</span>&nbsp;<span class="num" id="8038431">0x23</span><span class="op" id="8038435">,</span>&nbsp;<span class="num" id="8038437">0</span><span class="op" id="8038438">,</span>&nbsp;<span class="num" id="8038440">0x12</span><span class="op" id="8038444">,</span>&nbsp;<span class="num" id="8038446">0</span><span class="op" id="8038447">,</span>&nbsp;<span class="num" id="8038449">0x1</span><span class="op" id="8038452">}</span><span class="op" id="8038453">,</span>&nbsp;<span class="builtintype" id="8038455">true</span><span class="op" id="8038459">}</span><span class="op" id="8038460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038463">{</span><span class="ident" id="8038464">IP</span><span class="op" id="8038466">.</span><span class="ident" id="8038467">IsGlobalUnicast</span><span class="op" id="8038482">,</span>&nbsp;<span class="ident" id="8038484">IP</span><span class="op" id="8038486">{</span><span class="num" id="8038487">0xfe</span><span class="op" id="8038491">,</span>&nbsp;<span class="num" id="8038493">0x80</span><span class="op" id="8038497">,</span>&nbsp;<span class="num" id="8038499">0</span><span class="op" id="8038500">,</span>&nbsp;<span class="num" id="8038502">0</span><span class="op" id="8038503">,</span>&nbsp;<span class="num" id="8038505">0</span><span class="op" id="8038506">,</span>&nbsp;<span class="num" id="8038508">0</span><span class="op" id="8038509">,</span>&nbsp;<span class="num" id="8038511">0</span><span class="op" id="8038512">,</span>&nbsp;<span class="num" id="8038514">0</span><span class="op" id="8038515">,</span>&nbsp;<span class="num" id="8038517">0</span><span class="op" id="8038518">,</span>&nbsp;<span class="num" id="8038520">0</span><span class="op" id="8038521">,</span>&nbsp;<span class="num" id="8038523">0</span><span class="op" id="8038524">,</span>&nbsp;<span class="num" id="8038526">0</span><span class="op" id="8038527">,</span>&nbsp;<span class="num" id="8038529">0</span><span class="op" id="8038530">,</span>&nbsp;<span class="num" id="8038532">0</span><span class="op" id="8038533">,</span>&nbsp;<span class="num" id="8038535">0</span><span class="op" id="8038536">,</span>&nbsp;<span class="num" id="8038538">0</span><span class="op" id="8038539">}</span><span class="op" id="8038540">,</span>&nbsp;<span class="builtintype" id="8038542">false</span><span class="op" id="8038547">}</span><span class="op" id="8038548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038551">{</span><span class="ident" id="8038552">IP</span><span class="op" id="8038554">.</span><span class="ident" id="8038555">IsGlobalUnicast</span><span class="op" id="8038570">,</span>&nbsp;<span class="ident" id="8038572">IP</span><span class="op" id="8038574">{</span><span class="num" id="8038575">0xff</span><span class="op" id="8038579">,</span>&nbsp;<span class="num" id="8038581">0x05</span><span class="op" id="8038585">,</span>&nbsp;<span class="num" id="8038587">0</span><span class="op" id="8038588">,</span>&nbsp;<span class="num" id="8038590">0</span><span class="op" id="8038591">,</span>&nbsp;<span class="num" id="8038593">0</span><span class="op" id="8038594">,</span>&nbsp;<span class="num" id="8038596">0</span><span class="op" id="8038597">,</span>&nbsp;<span class="num" id="8038599">0</span><span class="op" id="8038600">,</span>&nbsp;<span class="num" id="8038602">0</span><span class="op" id="8038603">,</span>&nbsp;<span class="num" id="8038605">0</span><span class="op" id="8038606">,</span>&nbsp;<span class="num" id="8038608">0</span><span class="op" id="8038609">,</span>&nbsp;<span class="num" id="8038611">0</span><span class="op" id="8038612">,</span>&nbsp;<span class="num" id="8038614">0</span><span class="op" id="8038615">,</span>&nbsp;<span class="num" id="8038617">0</span><span class="op" id="8038618">,</span>&nbsp;<span class="num" id="8038620">0</span><span class="op" id="8038621">,</span>&nbsp;<span class="num" id="8038623">0</span><span class="op" id="8038624">,</span>&nbsp;<span class="num" id="8038626">0</span><span class="op" id="8038627">}</span><span class="op" id="8038628">,</span>&nbsp;<span class="builtintype" id="8038630">false</span><span class="op" id="8038635">}</span><span class="op" id="8038636">,</span><br>
<span class="lineno"></span><span class="op" id="8038638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="8038641">func</span>&nbsp;<span class="ident" id="8038646">name</span><span class="op" id="8038650">(</span><span class="ident" id="8038651">f</span>&nbsp;<span class="keyword" id="8038653">interface</span><span class="op" id="8038662">{</span><span class="op" id="8038663">}</span><span class="op" id="8038664">)</span>&nbsp;<span class="builtintype" id="8038666">string</span>&nbsp;<span class="op" id="8038673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8038676">return</span>&nbsp;<span class="ident" id="8038683">runtime</span><span class="op" id="8038690">.</span><span class="ident" id="8038691">FuncForPC</span><span class="op" id="8038700">(</span><span class="ident" id="8038701">reflect</span><span class="op" id="8038708">.</span><span class="ident" id="8038709">ValueOf</span><span class="op" id="8038716">(</span><span class="ident" id="8038717">f</span><span class="op" id="8038718">)</span><span class="op" id="8038719">.</span><span class="ident" id="8038720">Pointer</span><span class="op" id="8038727">(</span><span class="op" id="8038728">)</span><span class="op" id="8038729">)</span><span class="op" id="8038730">.</span><span class="ident" id="8038731">Name</span><span class="op" id="8038735">(</span><span class="op" id="8038736">)</span><br>
<span class="lineno"></span><span class="op" id="8038738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8038741">func</span>&nbsp;<span class="ident" id="8038746">TestIPAddrScope</span><span class="op" id="8038761">(</span><span class="ident" id="8038762">t</span>&nbsp;<span class="op" id="8038764">*</span><span class="ident" id="8038765">testing</span><span class="op" id="8038772">.</span><span class="ident" id="8038773">T</span><span class="op" id="8038774">)</span>&nbsp;<span class="op" id="8038776">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8038779">for</span>&nbsp;<span class="ident" id="8038783">_</span><span class="op" id="8038784">,</span>&nbsp;<span class="ident" id="8038786">tt</span>&nbsp;<span class="op" id="8038789">:=</span>&nbsp;<span class="keyword" id="8038792">range</span>&nbsp;<span class="ident" id="8038798">ipAddrScopeTests</span>&nbsp;<span class="op" id="8038815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8038819">if</span>&nbsp;<span class="ident" id="8038822">ok</span>&nbsp;<span class="op" id="8038825">:=</span>&nbsp;<span class="ident" id="8038828">tt</span><span class="op" id="8038830">.</span><span class="ident" id="8038831">scope</span><span class="op" id="8038836">(</span><span class="ident" id="8038837">tt</span><span class="op" id="8038839">.</span><span class="ident" id="8038840">in</span><span class="op" id="8038842">)</span><span class="op" id="8038843">;</span>&nbsp;<span class="ident" id="8038845">ok</span>&nbsp;<span class="op" id="8038848">!=</span>&nbsp;<span class="ident" id="8038851">tt</span><span class="op" id="8038853">.</span><span class="ident" id="8038854">ok</span>&nbsp;<span class="op" id="8038857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8038862">t</span><span class="op" id="8038863">.</span><span class="ident" id="8038864">Errorf</span><span class="op" id="8038870">(</span><span class="string" id="8038871">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8038893">,</span>&nbsp;<span class="ident" id="8038895">name</span><span class="op" id="8038899">(</span><span class="ident" id="8038900">tt</span><span class="op" id="8038902">.</span><span class="ident" id="8038903">scope</span><span class="op" id="8038908">)</span><span class="op" id="8038909">,</span>&nbsp;<span class="ident" id="8038911">tt</span><span class="op" id="8038913">.</span><span class="ident" id="8038914">in</span><span class="op" id="8038916">,</span>&nbsp;<span class="ident" id="8038918">ok</span><span class="op" id="8038920">,</span>&nbsp;<span class="ident" id="8038922">tt</span><span class="op" id="8038924">.</span><span class="ident" id="8038925">ok</span><span class="op" id="8038927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8038934">}</span><br>
<span class="lineno">465</span><span class="op" id="8038936">}</span>
</div>
</body>
</html>
