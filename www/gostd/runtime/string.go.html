<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html" class="current">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1678645">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1678700">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1678754">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1678805">package</span>&nbsp;<span class="ident" id="1678813">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1678822">import</span>&nbsp;<span class="op" id="1678829">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1678832">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1678841">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1678844">func</span>&nbsp;<span class="ident" id="1678849">concatstrings</span><span class="op" id="1678862">(</span><span class="ident" id="1678863">a</span>&nbsp;<span class="op" id="1678865">[</span><span class="op" id="1678866">]</span><span class="builtintype" id="1678867">string</span><span class="op" id="1678873">)</span>&nbsp;<span class="builtintype" id="1678875">string</span>&nbsp;<span class="op" id="1678882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1678885">idx</span>&nbsp;<span class="op" id="1678889">:=</span>&nbsp;<span class="num" id="1678892">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1678895">l</span>&nbsp;<span class="op" id="1678897">:=</span>&nbsp;<span class="num" id="1678900">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1678903">count</span>&nbsp;<span class="op" id="1678909">:=</span>&nbsp;<span class="num" id="1678912">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1678915">for</span>&nbsp;<span class="ident" id="1678919">i</span><span class="op" id="1678920">,</span>&nbsp;<span class="ident" id="1678922">x</span>&nbsp;<span class="op" id="1678924">:=</span>&nbsp;<span class="keyword" id="1678927">range</span>&nbsp;<span class="ident" id="1678933">a</span>&nbsp;<span class="op" id="1678935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1678939">n</span>&nbsp;<span class="op" id="1678941">:=</span>&nbsp;<span class="builtinfunc" id="1678944">len</span><span class="op" id="1678947">(</span><span class="ident" id="1678948">x</span><span class="op" id="1678949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1678953">if</span>&nbsp;<span class="ident" id="1678956">n</span>&nbsp;<span class="op" id="1678958">==</span>&nbsp;<span class="num" id="1678961">0</span>&nbsp;<span class="op" id="1678963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1678968">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1678979">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1678983">if</span>&nbsp;<span class="ident" id="1678986">l</span><span class="op" id="1678987">+</span><span class="ident" id="1678988">n</span>&nbsp;<span class="op" id="1678990">&lt;</span>&nbsp;<span class="ident" id="1678992">l</span>&nbsp;<span class="op" id="1678994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1678999">gothrow</span><span class="op" id="1679006">(</span><span class="string" id="1679007">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="1679038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1679042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679046">l</span>&nbsp;<span class="op" id="1679048">+=</span>&nbsp;<span class="ident" id="1679051">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679055">count</span><span class="op" id="1679060">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679065">idx</span>&nbsp;<span class="op" id="1679069">=</span>&nbsp;<span class="ident" id="1679071">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1679074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679077">if</span>&nbsp;<span class="ident" id="1679080">count</span>&nbsp;<span class="op" id="1679086">==</span>&nbsp;<span class="num" id="1679089">0</span>&nbsp;<span class="op" id="1679091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679095">return</span>&nbsp;<span class="string" id="1679102">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1679106">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679109">if</span>&nbsp;<span class="ident" id="1679112">count</span>&nbsp;<span class="op" id="1679118">==</span>&nbsp;<span class="num" id="1679121">1</span>&nbsp;<span class="op" id="1679123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679127">return</span>&nbsp;<span class="ident" id="1679134">a</span><span class="op" id="1679135">[</span><span class="ident" id="1679136">idx</span><span class="op" id="1679139">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1679142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679145">s</span><span class="op" id="1679146">,</span>&nbsp;<span class="ident" id="1679148">b</span>&nbsp;<span class="op" id="1679150">:=</span>&nbsp;<span class="ident" id="1679153">rawstring</span><span class="op" id="1679162">(</span><span class="ident" id="1679163">l</span><span class="op" id="1679164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679167">l</span>&nbsp;<span class="op" id="1679169">=</span>&nbsp;<span class="num" id="1679171">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679174">for</span>&nbsp;<span class="ident" id="1679178">_</span><span class="op" id="1679179">,</span>&nbsp;<span class="ident" id="1679181">x</span>&nbsp;<span class="op" id="1679183">:=</span>&nbsp;<span class="keyword" id="1679186">range</span>&nbsp;<span class="ident" id="1679192">a</span>&nbsp;<span class="op" id="1679194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1679198">copy</span><span class="op" id="1679202">(</span><span class="ident" id="1679203">b</span><span class="op" id="1679204">[</span><span class="ident" id="1679205">l</span><span class="op" id="1679206">:</span><span class="op" id="1679207">]</span><span class="op" id="1679208">,</span>&nbsp;<span class="ident" id="1679210">x</span><span class="op" id="1679211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679215">l</span>&nbsp;<span class="op" id="1679217">+=</span>&nbsp;<span class="builtinfunc" id="1679220">len</span><span class="op" id="1679223">(</span><span class="ident" id="1679224">x</span><span class="op" id="1679225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1679228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679231">return</span>&nbsp;<span class="ident" id="1679238">s</span><br>
<span class="lineno">40</span><span class="op" id="1679240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1679243">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1679256">func</span>&nbsp;<span class="ident" id="1679261">concatstring2</span><span class="op" id="1679274">(</span><span class="ident" id="1679275">a</span>&nbsp;<span class="op" id="1679277">[</span><span class="num" id="1679278">2</span><span class="op" id="1679279">]</span><span class="builtintype" id="1679280">string</span><span class="op" id="1679286">)</span>&nbsp;<span class="builtintype" id="1679288">string</span>&nbsp;<span class="op" id="1679295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679298">return</span>&nbsp;<span class="ident" id="1679305">concatstrings</span><span class="op" id="1679318">(</span><span class="ident" id="1679319">a</span><span class="op" id="1679320">[</span><span class="op" id="1679321">:</span><span class="op" id="1679322">]</span><span class="op" id="1679323">)</span><br>
<span class="lineno">45</span><span class="op" id="1679325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1679328">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1679341">func</span>&nbsp;<span class="ident" id="1679346">concatstring3</span><span class="op" id="1679359">(</span><span class="ident" id="1679360">a</span>&nbsp;<span class="op" id="1679362">[</span><span class="num" id="1679363">3</span><span class="op" id="1679364">]</span><span class="builtintype" id="1679365">string</span><span class="op" id="1679371">)</span>&nbsp;<span class="builtintype" id="1679373">string</span>&nbsp;<span class="op" id="1679380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679383">return</span>&nbsp;<span class="ident" id="1679390">concatstrings</span><span class="op" id="1679403">(</span><span class="ident" id="1679404">a</span><span class="op" id="1679405">[</span><span class="op" id="1679406">:</span><span class="op" id="1679407">]</span><span class="op" id="1679408">)</span><br>
<span class="lineno">50</span><span class="op" id="1679410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1679413">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1679426">func</span>&nbsp;<span class="ident" id="1679431">concatstring4</span><span class="op" id="1679444">(</span><span class="ident" id="1679445">a</span>&nbsp;<span class="op" id="1679447">[</span><span class="num" id="1679448">4</span><span class="op" id="1679449">]</span><span class="builtintype" id="1679450">string</span><span class="op" id="1679456">)</span>&nbsp;<span class="builtintype" id="1679458">string</span>&nbsp;<span class="op" id="1679465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679468">return</span>&nbsp;<span class="ident" id="1679475">concatstrings</span><span class="op" id="1679488">(</span><span class="ident" id="1679489">a</span><span class="op" id="1679490">[</span><span class="op" id="1679491">:</span><span class="op" id="1679492">]</span><span class="op" id="1679493">)</span><br>
<span class="lineno">55</span><span class="op" id="1679495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1679498">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1679511">func</span>&nbsp;<span class="ident" id="1679516">concatstring5</span><span class="op" id="1679529">(</span><span class="ident" id="1679530">a</span>&nbsp;<span class="op" id="1679532">[</span><span class="num" id="1679533">5</span><span class="op" id="1679534">]</span><span class="builtintype" id="1679535">string</span><span class="op" id="1679541">)</span>&nbsp;<span class="builtintype" id="1679543">string</span>&nbsp;<span class="op" id="1679550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679553">return</span>&nbsp;<span class="ident" id="1679560">concatstrings</span><span class="op" id="1679573">(</span><span class="ident" id="1679574">a</span><span class="op" id="1679575">[</span><span class="op" id="1679576">:</span><span class="op" id="1679577">]</span><span class="op" id="1679578">)</span><br>
<span class="lineno">60</span><span class="op" id="1679580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1679583">func</span>&nbsp;<span class="ident" id="1679588">slicebytetostring</span><span class="op" id="1679605">(</span><span class="ident" id="1679606">b</span>&nbsp;<span class="op" id="1679608">[</span><span class="op" id="1679609">]</span><span class="builtintype" id="1679610">byte</span><span class="op" id="1679614">)</span>&nbsp;<span class="builtintype" id="1679616">string</span>&nbsp;<span class="op" id="1679623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679626">if</span>&nbsp;<span class="ident" id="1679629">raceenabled</span>&nbsp;<span class="op" id="1679641">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1679644">len</span><span class="op" id="1679647">(</span><span class="ident" id="1679648">b</span><span class="op" id="1679649">)</span>&nbsp;<span class="op" id="1679651">&gt;</span>&nbsp;<span class="num" id="1679653">0</span>&nbsp;<span class="op" id="1679655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679659">racereadrangepc</span><span class="op" id="1679674">(</span><span class="ident" id="1679675">unsafe</span><span class="op" id="1679681">.</span><span class="ident" id="1679682">Pointer</span><span class="op" id="1679689">(</span><span class="op" id="1679690">&amp;</span><span class="ident" id="1679691">b</span><span class="op" id="1679692">[</span><span class="num" id="1679693">0</span><span class="op" id="1679694">]</span><span class="op" id="1679695">)</span><span class="op" id="1679696">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1679701">uintptr</span><span class="op" id="1679708">(</span><span class="builtinfunc" id="1679709">len</span><span class="op" id="1679712">(</span><span class="ident" id="1679713">b</span><span class="op" id="1679714">)</span><span class="op" id="1679715">)</span><span class="op" id="1679716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679721">getcallerpc</span><span class="op" id="1679732">(</span><span class="ident" id="1679733">unsafe</span><span class="op" id="1679739">.</span><span class="ident" id="1679740">Pointer</span><span class="op" id="1679747">(</span><span class="op" id="1679748">&amp;</span><span class="ident" id="1679749">b</span><span class="op" id="1679750">)</span><span class="op" id="1679751">)</span><span class="op" id="1679752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679757">funcPC</span><span class="op" id="1679763">(</span><span class="ident" id="1679764">slicebytetostring</span><span class="op" id="1679781">)</span><span class="op" id="1679782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1679785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1679788">s</span><span class="op" id="1679789">,</span>&nbsp;<span class="ident" id="1679791">c</span>&nbsp;<span class="op" id="1679793">:=</span>&nbsp;<span class="ident" id="1679796">rawstring</span><span class="op" id="1679805">(</span><span class="builtinfunc" id="1679806">len</span><span class="op" id="1679809">(</span><span class="ident" id="1679810">b</span><span class="op" id="1679811">)</span><span class="op" id="1679812">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1679815">copy</span><span class="op" id="1679819">(</span><span class="ident" id="1679820">c</span><span class="op" id="1679821">,</span>&nbsp;<span class="ident" id="1679823">b</span><span class="op" id="1679824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1679827">return</span>&nbsp;<span class="ident" id="1679834">s</span><br>
<span class="lineno"></span><span class="op" id="1679836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1679839">func</span>&nbsp;<span class="ident" id="1679844">slicebytetostringtmp</span><span class="op" id="1679864">(</span><span class="ident" id="1679865">b</span>&nbsp;<span class="op" id="1679867">[</span><span class="op" id="1679868">]</span><span class="builtintype" id="1679869">byte</span><span class="op" id="1679873">)</span>&nbsp;<span class="builtintype" id="1679875">string</span>&nbsp;<span class="op" id="1679882">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1679885">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1679945">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680005">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680065">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680126">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680175">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680236">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1680284">if</span>&nbsp;<span class="ident" id="1680287">raceenabled</span>&nbsp;<span class="op" id="1680299">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1680302">len</span><span class="op" id="1680305">(</span><span class="ident" id="1680306">b</span><span class="op" id="1680307">)</span>&nbsp;<span class="op" id="1680309">&gt;</span>&nbsp;<span class="num" id="1680311">0</span>&nbsp;<span class="op" id="1680313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680317">racereadrangepc</span><span class="op" id="1680332">(</span><span class="ident" id="1680333">unsafe</span><span class="op" id="1680339">.</span><span class="ident" id="1680340">Pointer</span><span class="op" id="1680347">(</span><span class="op" id="1680348">&amp;</span><span class="ident" id="1680349">b</span><span class="op" id="1680350">[</span><span class="num" id="1680351">0</span><span class="op" id="1680352">]</span><span class="op" id="1680353">)</span><span class="op" id="1680354">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1680359">uintptr</span><span class="op" id="1680366">(</span><span class="builtinfunc" id="1680367">len</span><span class="op" id="1680370">(</span><span class="ident" id="1680371">b</span><span class="op" id="1680372">)</span><span class="op" id="1680373">)</span><span class="op" id="1680374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680379">getcallerpc</span><span class="op" id="1680390">(</span><span class="ident" id="1680391">unsafe</span><span class="op" id="1680397">.</span><span class="ident" id="1680398">Pointer</span><span class="op" id="1680405">(</span><span class="op" id="1680406">&amp;</span><span class="ident" id="1680407">b</span><span class="op" id="1680408">)</span><span class="op" id="1680409">)</span><span class="op" id="1680410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680415">funcPC</span><span class="op" id="1680421">(</span><span class="ident" id="1680422">slicebytetostringtmp</span><span class="op" id="1680442">)</span><span class="op" id="1680443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1680446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1680449">return</span>&nbsp;<span class="op" id="1680456">*</span><span class="op" id="1680457">(</span><span class="op" id="1680458">*</span><span class="builtintype" id="1680459">string</span><span class="op" id="1680465">)</span><span class="op" id="1680466">(</span><span class="ident" id="1680467">unsafe</span><span class="op" id="1680473">.</span><span class="ident" id="1680474">Pointer</span><span class="op" id="1680481">(</span><span class="op" id="1680482">&amp;</span><span class="ident" id="1680483">b</span><span class="op" id="1680484">)</span><span class="op" id="1680485">)</span><br>
<span class="lineno">90</span><span class="op" id="1680487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1680490">func</span>&nbsp;<span class="ident" id="1680495">stringtoslicebyte</span><span class="op" id="1680512">(</span><span class="ident" id="1680513">s</span>&nbsp;<span class="builtintype" id="1680515">string</span><span class="op" id="1680521">)</span>&nbsp;<span class="op" id="1680523">[</span><span class="op" id="1680524">]</span><span class="builtintype" id="1680525">byte</span>&nbsp;<span class="op" id="1680530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680533">b</span>&nbsp;<span class="op" id="1680535">:=</span>&nbsp;<span class="ident" id="1680538">rawbyteslice</span><span class="op" id="1680550">(</span><span class="builtinfunc" id="1680551">len</span><span class="op" id="1680554">(</span><span class="ident" id="1680555">s</span><span class="op" id="1680556">)</span><span class="op" id="1680557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1680560">copy</span><span class="op" id="1680564">(</span><span class="ident" id="1680565">b</span><span class="op" id="1680566">,</span>&nbsp;<span class="ident" id="1680568">s</span><span class="op" id="1680569">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1680572">return</span>&nbsp;<span class="ident" id="1680579">b</span><br>
<span class="lineno"></span><span class="op" id="1680581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1680584">func</span>&nbsp;<span class="ident" id="1680589">stringtoslicerune</span><span class="op" id="1680606">(</span><span class="ident" id="1680607">s</span>&nbsp;<span class="builtintype" id="1680609">string</span><span class="op" id="1680615">)</span>&nbsp;<span class="op" id="1680617">[</span><span class="op" id="1680618">]</span><span class="builtintype" id="1680619">rune</span>&nbsp;<span class="op" id="1680624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680627">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1680643">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680712">n</span>&nbsp;<span class="op" id="1680714">:=</span>&nbsp;<span class="num" id="1680717">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680720">t</span>&nbsp;<span class="op" id="1680722">:=</span>&nbsp;<span class="ident" id="1680725">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1680728">for</span>&nbsp;<span class="builtinfunc" id="1680732">len</span><span class="op" id="1680735">(</span><span class="ident" id="1680736">s</span><span class="op" id="1680737">)</span>&nbsp;<span class="op" id="1680739">&gt;</span>&nbsp;<span class="num" id="1680741">0</span>&nbsp;<span class="op" id="1680743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680747">_</span><span class="op" id="1680748">,</span>&nbsp;<span class="ident" id="1680750">k</span>&nbsp;<span class="op" id="1680752">:=</span>&nbsp;<span class="ident" id="1680755">charntorune</span><span class="op" id="1680766">(</span><span class="ident" id="1680767">s</span><span class="op" id="1680768">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680772">s</span>&nbsp;<span class="op" id="1680774">=</span>&nbsp;<span class="ident" id="1680776">s</span><span class="op" id="1680777">[</span><span class="ident" id="1680778">k</span><span class="op" id="1680779">:</span><span class="op" id="1680780">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680784">n</span><span class="op" id="1680785">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1680789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680792">a</span>&nbsp;<span class="op" id="1680794">:=</span>&nbsp;<span class="ident" id="1680797">rawruneslice</span><span class="op" id="1680809">(</span><span class="ident" id="1680810">n</span><span class="op" id="1680811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680814">n</span>&nbsp;<span class="op" id="1680816">=</span>&nbsp;<span class="num" id="1680818">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1680821">for</span>&nbsp;<span class="builtinfunc" id="1680825">len</span><span class="op" id="1680828">(</span><span class="ident" id="1680829">t</span><span class="op" id="1680830">)</span>&nbsp;<span class="op" id="1680832">&gt;</span>&nbsp;<span class="num" id="1680834">0</span>&nbsp;<span class="op" id="1680836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680840">r</span><span class="op" id="1680841">,</span>&nbsp;<span class="ident" id="1680843">k</span>&nbsp;<span class="op" id="1680845">:=</span>&nbsp;<span class="ident" id="1680848">charntorune</span><span class="op" id="1680859">(</span><span class="ident" id="1680860">t</span><span class="op" id="1680861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680865">t</span>&nbsp;<span class="op" id="1680867">=</span>&nbsp;<span class="ident" id="1680869">t</span><span class="op" id="1680870">[</span><span class="ident" id="1680871">k</span><span class="op" id="1680872">:</span><span class="op" id="1680873">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680877">a</span><span class="op" id="1680878">[</span><span class="ident" id="1680879">n</span><span class="op" id="1680880">]</span>&nbsp;<span class="op" id="1680882">=</span>&nbsp;<span class="ident" id="1680884">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680888">n</span><span class="op" id="1680889">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1680893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1680896">return</span>&nbsp;<span class="ident" id="1680903">a</span><br>
<span class="lineno"></span><span class="op" id="1680905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1680908">func</span>&nbsp;<span class="ident" id="1680913">slicerunetostring</span><span class="op" id="1680930">(</span><span class="ident" id="1680931">a</span>&nbsp;<span class="op" id="1680933">[</span><span class="op" id="1680934">]</span><span class="builtintype" id="1680935">rune</span><span class="op" id="1680939">)</span>&nbsp;<span class="builtintype" id="1680941">string</span>&nbsp;<span class="op" id="1680948">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1680951">if</span>&nbsp;<span class="ident" id="1680954">raceenabled</span>&nbsp;<span class="op" id="1680966">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1680969">len</span><span class="op" id="1680972">(</span><span class="ident" id="1680973">a</span><span class="op" id="1680974">)</span>&nbsp;<span class="op" id="1680976">&gt;</span>&nbsp;<span class="num" id="1680978">0</span>&nbsp;<span class="op" id="1680980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1680984">racereadrangepc</span><span class="op" id="1680999">(</span><span class="ident" id="1681000">unsafe</span><span class="op" id="1681006">.</span><span class="ident" id="1681007">Pointer</span><span class="op" id="1681014">(</span><span class="op" id="1681015">&amp;</span><span class="ident" id="1681016">a</span><span class="op" id="1681017">[</span><span class="num" id="1681018">0</span><span class="op" id="1681019">]</span><span class="op" id="1681020">)</span><span class="op" id="1681021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1681026">uintptr</span><span class="op" id="1681033">(</span><span class="builtinfunc" id="1681034">len</span><span class="op" id="1681037">(</span><span class="ident" id="1681038">a</span><span class="op" id="1681039">)</span><span class="op" id="1681040">)</span><span class="op" id="1681041">*</span><span class="ident" id="1681042">unsafe</span><span class="op" id="1681048">.</span><span class="ident" id="1681049">Sizeof</span><span class="op" id="1681055">(</span><span class="ident" id="1681056">a</span><span class="op" id="1681057">[</span><span class="num" id="1681058">0</span><span class="op" id="1681059">]</span><span class="op" id="1681060">)</span><span class="op" id="1681061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681066">getcallerpc</span><span class="op" id="1681077">(</span><span class="ident" id="1681078">unsafe</span><span class="op" id="1681084">.</span><span class="ident" id="1681085">Pointer</span><span class="op" id="1681092">(</span><span class="op" id="1681093">&amp;</span><span class="ident" id="1681094">a</span><span class="op" id="1681095">)</span><span class="op" id="1681096">)</span><span class="op" id="1681097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681102">funcPC</span><span class="op" id="1681108">(</span><span class="ident" id="1681109">slicerunetostring</span><span class="op" id="1681126">)</span><span class="op" id="1681127">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681133">var</span>&nbsp;<span class="ident" id="1681137">dum</span>&nbsp;<span class="op" id="1681141">[</span><span class="num" id="1681142">4</span><span class="op" id="1681143">]</span><span class="builtintype" id="1681144">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681150">size1</span>&nbsp;<span class="op" id="1681156">:=</span>&nbsp;<span class="num" id="1681159">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681162">for</span>&nbsp;<span class="ident" id="1681166">_</span><span class="op" id="1681167">,</span>&nbsp;<span class="ident" id="1681169">r</span>&nbsp;<span class="op" id="1681171">:=</span>&nbsp;<span class="keyword" id="1681174">range</span>&nbsp;<span class="ident" id="1681180">a</span>&nbsp;<span class="op" id="1681182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681186">size1</span>&nbsp;<span class="op" id="1681192">+=</span>&nbsp;<span class="ident" id="1681195">runetochar</span><span class="op" id="1681205">(</span><span class="ident" id="1681206">dum</span><span class="op" id="1681209">[</span><span class="op" id="1681210">:</span><span class="op" id="1681211">]</span><span class="op" id="1681212">,</span>&nbsp;<span class="ident" id="1681214">r</span><span class="op" id="1681215">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681221">s</span><span class="op" id="1681222">,</span>&nbsp;<span class="ident" id="1681224">b</span>&nbsp;<span class="op" id="1681226">:=</span>&nbsp;<span class="ident" id="1681229">rawstring</span><span class="op" id="1681238">(</span><span class="ident" id="1681239">size1</span>&nbsp;<span class="op" id="1681245">+</span>&nbsp;<span class="num" id="1681247">3</span><span class="op" id="1681248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681251">size2</span>&nbsp;<span class="op" id="1681257">:=</span>&nbsp;<span class="num" id="1681260">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681263">for</span>&nbsp;<span class="ident" id="1681267">_</span><span class="op" id="1681268">,</span>&nbsp;<span class="ident" id="1681270">r</span>&nbsp;<span class="op" id="1681272">:=</span>&nbsp;<span class="keyword" id="1681275">range</span>&nbsp;<span class="ident" id="1681281">a</span>&nbsp;<span class="op" id="1681283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1681287">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681307">if</span>&nbsp;<span class="ident" id="1681310">size2</span>&nbsp;<span class="op" id="1681316">&gt;=</span>&nbsp;<span class="ident" id="1681319">size1</span>&nbsp;<span class="op" id="1681325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681330">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681342">size2</span>&nbsp;<span class="op" id="1681348">+=</span>&nbsp;<span class="ident" id="1681351">runetochar</span><span class="op" id="1681361">(</span><span class="ident" id="1681362">b</span><span class="op" id="1681363">[</span><span class="ident" id="1681364">size2</span><span class="op" id="1681369">:</span><span class="op" id="1681370">]</span><span class="op" id="1681371">,</span>&nbsp;<span class="ident" id="1681373">r</span><span class="op" id="1681374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681377">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681380">return</span>&nbsp;<span class="ident" id="1681387">s</span><span class="op" id="1681388">[</span><span class="op" id="1681389">:</span><span class="ident" id="1681390">size2</span><span class="op" id="1681395">]</span><br>
<span class="lineno"></span><span class="op" id="1681397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1681400">type</span>&nbsp;<span class="ident" id="1681405">stringStruct</span>&nbsp;<span class="keyword" id="1681418">struct</span>&nbsp;<span class="op" id="1681425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681428">str</span>&nbsp;<span class="ident" id="1681432">unsafe</span><span class="op" id="1681438">.</span><span class="ident" id="1681439">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1681448">len</span>&nbsp;<span class="builtintype" id="1681452">int</span><br>
<span class="lineno"></span><span class="op" id="1681456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1681459">func</span>&nbsp;<span class="ident" id="1681464">intstring</span><span class="op" id="1681473">(</span><span class="ident" id="1681474">v</span>&nbsp;<span class="ident" id="1681476">int64</span><span class="op" id="1681481">)</span>&nbsp;<span class="builtintype" id="1681483">string</span>&nbsp;<span class="op" id="1681490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681493">s</span><span class="op" id="1681494">,</span>&nbsp;<span class="ident" id="1681496">b</span>&nbsp;<span class="op" id="1681498">:=</span>&nbsp;<span class="ident" id="1681501">rawstring</span><span class="op" id="1681510">(</span><span class="num" id="1681511">4</span><span class="op" id="1681512">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681515">n</span>&nbsp;<span class="op" id="1681517">:=</span>&nbsp;<span class="ident" id="1681520">runetochar</span><span class="op" id="1681530">(</span><span class="ident" id="1681531">b</span><span class="op" id="1681532">,</span>&nbsp;<span class="builtintype" id="1681534">rune</span><span class="op" id="1681538">(</span><span class="ident" id="1681539">v</span><span class="op" id="1681540">)</span><span class="op" id="1681541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681544">return</span>&nbsp;<span class="ident" id="1681551">s</span><span class="op" id="1681552">[</span><span class="op" id="1681553">:</span><span class="ident" id="1681554">n</span><span class="op" id="1681555">]</span><br>
<span class="lineno"></span><span class="op" id="1681557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1681560">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="1681604">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="1681648">func</span>&nbsp;<span class="ident" id="1681653">stringiter</span><span class="op" id="1681663">(</span><span class="ident" id="1681664">s</span>&nbsp;<span class="builtintype" id="1681666">string</span><span class="op" id="1681672">,</span>&nbsp;<span class="ident" id="1681674">k</span>&nbsp;<span class="builtintype" id="1681676">int</span><span class="op" id="1681679">)</span>&nbsp;<span class="builtintype" id="1681681">int</span>&nbsp;<span class="op" id="1681685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681688">if</span>&nbsp;<span class="ident" id="1681691">k</span>&nbsp;<span class="op" id="1681693">&gt;=</span>&nbsp;<span class="builtinfunc" id="1681696">len</span><span class="op" id="1681699">(</span><span class="ident" id="1681700">s</span><span class="op" id="1681701">)</span>&nbsp;<span class="op" id="1681703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1681707">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681734">return</span>&nbsp;<span class="num" id="1681741">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681748">c</span>&nbsp;<span class="op" id="1681750">:=</span>&nbsp;<span class="ident" id="1681753">s</span><span class="op" id="1681754">[</span><span class="ident" id="1681755">k</span><span class="op" id="1681756">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681759">if</span>&nbsp;<span class="ident" id="1681762">c</span>&nbsp;<span class="op" id="1681764">&lt;</span>&nbsp;<span class="ident" id="1681766">runeself</span>&nbsp;<span class="op" id="1681775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681779">return</span>&nbsp;<span class="ident" id="1681786">k</span>&nbsp;<span class="op" id="1681788">+</span>&nbsp;<span class="num" id="1681790">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1681797">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1681817">_</span><span class="op" id="1681818">,</span>&nbsp;<span class="ident" id="1681820">n</span>&nbsp;<span class="op" id="1681822">:=</span>&nbsp;<span class="ident" id="1681825">charntorune</span><span class="op" id="1681836">(</span><span class="ident" id="1681837">s</span><span class="op" id="1681838">[</span><span class="ident" id="1681839">k</span><span class="op" id="1681840">:</span><span class="op" id="1681841">]</span><span class="op" id="1681842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1681845">return</span>&nbsp;<span class="ident" id="1681852">k</span>&nbsp;<span class="op" id="1681854">+</span>&nbsp;<span class="ident" id="1681856">n</span><br>
<span class="lineno">170</span><span class="op" id="1681858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1681861">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="1681913">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="1681958">func</span>&nbsp;<span class="ident" id="1681963">stringiter2</span><span class="op" id="1681974">(</span><span class="ident" id="1681975">s</span>&nbsp;<span class="builtintype" id="1681977">string</span><span class="op" id="1681983">,</span>&nbsp;<span class="ident" id="1681985">k</span>&nbsp;<span class="builtintype" id="1681987">int</span><span class="op" id="1681990">)</span>&nbsp;<span class="op" id="1681992">(</span><span class="builtintype" id="1681993">int</span><span class="op" id="1681996">,</span>&nbsp;<span class="builtintype" id="1681998">rune</span><span class="op" id="1682002">)</span>&nbsp;<span class="op" id="1682004">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682007">if</span>&nbsp;<span class="ident" id="1682010">k</span>&nbsp;<span class="op" id="1682012">&gt;=</span>&nbsp;<span class="builtinfunc" id="1682015">len</span><span class="op" id="1682018">(</span><span class="ident" id="1682019">s</span><span class="op" id="1682020">)</span>&nbsp;<span class="op" id="1682022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1682026">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682053">return</span>&nbsp;<span class="num" id="1682060">0</span><span class="op" id="1682061">,</span>&nbsp;<span class="num" id="1682063">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682070">c</span>&nbsp;<span class="op" id="1682072">:=</span>&nbsp;<span class="ident" id="1682075">s</span><span class="op" id="1682076">[</span><span class="ident" id="1682077">k</span><span class="op" id="1682078">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682081">if</span>&nbsp;<span class="ident" id="1682084">c</span>&nbsp;<span class="op" id="1682086">&lt;</span>&nbsp;<span class="ident" id="1682088">runeself</span>&nbsp;<span class="op" id="1682097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682101">return</span>&nbsp;<span class="ident" id="1682108">k</span>&nbsp;<span class="op" id="1682110">+</span>&nbsp;<span class="num" id="1682112">1</span><span class="op" id="1682113">,</span>&nbsp;<span class="builtintype" id="1682115">rune</span><span class="op" id="1682119">(</span><span class="ident" id="1682120">c</span><span class="op" id="1682121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1682128">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682148">r</span><span class="op" id="1682149">,</span>&nbsp;<span class="ident" id="1682151">n</span>&nbsp;<span class="op" id="1682153">:=</span>&nbsp;<span class="ident" id="1682156">charntorune</span><span class="op" id="1682167">(</span><span class="ident" id="1682168">s</span><span class="op" id="1682169">[</span><span class="ident" id="1682170">k</span><span class="op" id="1682171">:</span><span class="op" id="1682172">]</span><span class="op" id="1682173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682176">return</span>&nbsp;<span class="ident" id="1682183">k</span>&nbsp;<span class="op" id="1682185">+</span>&nbsp;<span class="ident" id="1682187">n</span><span class="op" id="1682188">,</span>&nbsp;<span class="ident" id="1682190">r</span><br>
<span class="lineno"></span><span class="op" id="1682192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="1682195">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="1682257">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="1682314">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="1682363">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1682412">func</span>&nbsp;<span class="ident" id="1682417">rawstring</span><span class="op" id="1682426">(</span><span class="ident" id="1682427">size</span>&nbsp;<span class="builtintype" id="1682432">int</span><span class="op" id="1682435">)</span>&nbsp;<span class="op" id="1682437">(</span><span class="ident" id="1682438">s</span>&nbsp;<span class="builtintype" id="1682440">string</span><span class="op" id="1682446">,</span>&nbsp;<span class="ident" id="1682448">b</span>&nbsp;<span class="op" id="1682450">[</span><span class="op" id="1682451">]</span><span class="builtintype" id="1682452">byte</span><span class="op" id="1682456">)</span>&nbsp;<span class="op" id="1682458">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682461">p</span>&nbsp;<span class="op" id="1682463">:=</span>&nbsp;<span class="ident" id="1682466">mallocgc</span><span class="op" id="1682474">(</span><span class="builtintype" id="1682475">uintptr</span><span class="op" id="1682482">(</span><span class="ident" id="1682483">size</span><span class="op" id="1682487">)</span><span class="op" id="1682488">,</span>&nbsp;<span class="ident" id="1682490">nil</span><span class="op" id="1682493">,</span>&nbsp;<span class="ident" id="1682495">flagNoScan</span><span class="op" id="1682505">|</span><span class="ident" id="1682506">flagNoZero</span><span class="op" id="1682516">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682520">(</span><span class="op" id="1682521">*</span><span class="ident" id="1682522">stringStruct</span><span class="op" id="1682534">)</span><span class="op" id="1682535">(</span><span class="ident" id="1682536">unsafe</span><span class="op" id="1682542">.</span><span class="ident" id="1682543">Pointer</span><span class="op" id="1682550">(</span><span class="op" id="1682551">&amp;</span><span class="ident" id="1682552">s</span><span class="op" id="1682553">)</span><span class="op" id="1682554">)</span><span class="op" id="1682555">.</span><span class="ident" id="1682556">str</span>&nbsp;<span class="op" id="1682560">=</span>&nbsp;<span class="ident" id="1682562">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682565">(</span><span class="op" id="1682566">*</span><span class="ident" id="1682567">stringStruct</span><span class="op" id="1682579">)</span><span class="op" id="1682580">(</span><span class="ident" id="1682581">unsafe</span><span class="op" id="1682587">.</span><span class="ident" id="1682588">Pointer</span><span class="op" id="1682595">(</span><span class="op" id="1682596">&amp;</span><span class="ident" id="1682597">s</span><span class="op" id="1682598">)</span><span class="op" id="1682599">)</span><span class="op" id="1682600">.</span><span class="builtinfunc" id="1682601">len</span>&nbsp;<span class="op" id="1682605">=</span>&nbsp;<span class="ident" id="1682607">size</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682614">(</span><span class="op" id="1682615">*</span><span class="ident" id="1682616">slice</span><span class="op" id="1682621">)</span><span class="op" id="1682622">(</span><span class="ident" id="1682623">unsafe</span><span class="op" id="1682629">.</span><span class="ident" id="1682630">Pointer</span><span class="op" id="1682637">(</span><span class="op" id="1682638">&amp;</span><span class="ident" id="1682639">b</span><span class="op" id="1682640">)</span><span class="op" id="1682641">)</span><span class="op" id="1682642">.</span><span class="ident" id="1682643">array</span>&nbsp;<span class="op" id="1682649">=</span>&nbsp;<span class="op" id="1682651">(</span><span class="op" id="1682652">*</span><span class="builtintype" id="1682653">uint8</span><span class="op" id="1682658">)</span><span class="op" id="1682659">(</span><span class="ident" id="1682660">p</span><span class="op" id="1682661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682664">(</span><span class="op" id="1682665">*</span><span class="ident" id="1682666">slice</span><span class="op" id="1682671">)</span><span class="op" id="1682672">(</span><span class="ident" id="1682673">unsafe</span><span class="op" id="1682679">.</span><span class="ident" id="1682680">Pointer</span><span class="op" id="1682687">(</span><span class="op" id="1682688">&amp;</span><span class="ident" id="1682689">b</span><span class="op" id="1682690">)</span><span class="op" id="1682691">)</span><span class="op" id="1682692">.</span><span class="builtinfunc" id="1682693">len</span>&nbsp;<span class="op" id="1682697">=</span>&nbsp;<span class="builtintype" id="1682699">uint</span><span class="op" id="1682703">(</span><span class="ident" id="1682704">size</span><span class="op" id="1682708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682711">(</span><span class="op" id="1682712">*</span><span class="ident" id="1682713">slice</span><span class="op" id="1682718">)</span><span class="op" id="1682719">(</span><span class="ident" id="1682720">unsafe</span><span class="op" id="1682726">.</span><span class="ident" id="1682727">Pointer</span><span class="op" id="1682734">(</span><span class="op" id="1682735">&amp;</span><span class="ident" id="1682736">b</span><span class="op" id="1682737">)</span><span class="op" id="1682738">)</span><span class="op" id="1682739">.</span><span class="builtinfunc" id="1682740">cap</span>&nbsp;<span class="op" id="1682744">=</span>&nbsp;<span class="builtintype" id="1682746">uint</span><span class="op" id="1682750">(</span><span class="ident" id="1682751">size</span><span class="op" id="1682755">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682759">for</span>&nbsp;<span class="op" id="1682763">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1682767">ms</span>&nbsp;<span class="op" id="1682770">:=</span>&nbsp;<span class="ident" id="1682773">maxstring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682785">if</span>&nbsp;<span class="builtintype" id="1682788">uintptr</span><span class="op" id="1682795">(</span><span class="ident" id="1682796">size</span><span class="op" id="1682800">)</span>&nbsp;<span class="op" id="1682802">&lt;=</span>&nbsp;<span class="builtintype" id="1682805">uintptr</span><span class="op" id="1682812">(</span><span class="ident" id="1682813">ms</span><span class="op" id="1682815">)</span>&nbsp;<span class="op" id="1682817">||</span>&nbsp;<span class="ident" id="1682820">casuintptr</span><span class="op" id="1682830">(</span><span class="op" id="1682831">(</span><span class="op" id="1682832">*</span><span class="builtintype" id="1682833">uintptr</span><span class="op" id="1682840">)</span><span class="op" id="1682841">(</span><span class="ident" id="1682842">unsafe</span><span class="op" id="1682848">.</span><span class="ident" id="1682849">Pointer</span><span class="op" id="1682856">(</span><span class="op" id="1682857">&amp;</span><span class="ident" id="1682858">maxstring</span><span class="op" id="1682867">)</span><span class="op" id="1682868">)</span><span class="op" id="1682869">,</span>&nbsp;<span class="builtintype" id="1682871">uintptr</span><span class="op" id="1682878">(</span><span class="ident" id="1682879">ms</span><span class="op" id="1682881">)</span><span class="op" id="1682882">,</span>&nbsp;<span class="builtintype" id="1682884">uintptr</span><span class="op" id="1682891">(</span><span class="ident" id="1682892">size</span><span class="op" id="1682896">)</span><span class="op" id="1682897">)</span>&nbsp;<span class="op" id="1682899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1682904">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682916">}</span><br>
<span class="lineno">210</span><span class="op" id="1682918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1682921">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1682995">func</span>&nbsp;<span class="ident" id="1683000">rawbyteslice</span><span class="op" id="1683012">(</span><span class="ident" id="1683013">size</span>&nbsp;<span class="builtintype" id="1683018">int</span><span class="op" id="1683021">)</span>&nbsp;<span class="op" id="1683023">(</span><span class="ident" id="1683024">b</span>&nbsp;<span class="op" id="1683026">[</span><span class="op" id="1683027">]</span><span class="builtintype" id="1683028">byte</span><span class="op" id="1683032">)</span>&nbsp;<span class="op" id="1683034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1683037">cap</span>&nbsp;<span class="op" id="1683041">:=</span>&nbsp;<span class="ident" id="1683044">goroundupsize</span><span class="op" id="1683057">(</span><span class="builtintype" id="1683058">uintptr</span><span class="op" id="1683065">(</span><span class="ident" id="1683066">size</span><span class="op" id="1683070">)</span><span class="op" id="1683071">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683074">p</span>&nbsp;<span class="op" id="1683076">:=</span>&nbsp;<span class="ident" id="1683079">mallocgc</span><span class="op" id="1683087">(</span><span class="builtinfunc" id="1683088">cap</span><span class="op" id="1683091">,</span>&nbsp;<span class="ident" id="1683093">nil</span><span class="op" id="1683096">,</span>&nbsp;<span class="ident" id="1683098">flagNoScan</span><span class="op" id="1683108">|</span><span class="ident" id="1683109">flagNoZero</span><span class="op" id="1683119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683122">if</span>&nbsp;<span class="builtinfunc" id="1683125">cap</span>&nbsp;<span class="op" id="1683129">!=</span>&nbsp;<span class="builtintype" id="1683132">uintptr</span><span class="op" id="1683139">(</span><span class="ident" id="1683140">size</span><span class="op" id="1683144">)</span>&nbsp;<span class="op" id="1683146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683150">memclr</span><span class="op" id="1683156">(</span><span class="ident" id="1683157">add</span><span class="op" id="1683160">(</span><span class="ident" id="1683161">p</span><span class="op" id="1683162">,</span>&nbsp;<span class="builtintype" id="1683164">uintptr</span><span class="op" id="1683171">(</span><span class="ident" id="1683172">size</span><span class="op" id="1683176">)</span><span class="op" id="1683177">)</span><span class="op" id="1683178">,</span>&nbsp;<span class="builtinfunc" id="1683180">cap</span><span class="op" id="1683183">-</span><span class="builtintype" id="1683184">uintptr</span><span class="op" id="1683191">(</span><span class="ident" id="1683192">size</span><span class="op" id="1683196">)</span><span class="op" id="1683197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683204">(</span><span class="op" id="1683205">*</span><span class="ident" id="1683206">slice</span><span class="op" id="1683211">)</span><span class="op" id="1683212">(</span><span class="ident" id="1683213">unsafe</span><span class="op" id="1683219">.</span><span class="ident" id="1683220">Pointer</span><span class="op" id="1683227">(</span><span class="op" id="1683228">&amp;</span><span class="ident" id="1683229">b</span><span class="op" id="1683230">)</span><span class="op" id="1683231">)</span><span class="op" id="1683232">.</span><span class="ident" id="1683233">array</span>&nbsp;<span class="op" id="1683239">=</span>&nbsp;<span class="op" id="1683241">(</span><span class="op" id="1683242">*</span><span class="builtintype" id="1683243">uint8</span><span class="op" id="1683248">)</span><span class="op" id="1683249">(</span><span class="ident" id="1683250">p</span><span class="op" id="1683251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683254">(</span><span class="op" id="1683255">*</span><span class="ident" id="1683256">slice</span><span class="op" id="1683261">)</span><span class="op" id="1683262">(</span><span class="ident" id="1683263">unsafe</span><span class="op" id="1683269">.</span><span class="ident" id="1683270">Pointer</span><span class="op" id="1683277">(</span><span class="op" id="1683278">&amp;</span><span class="ident" id="1683279">b</span><span class="op" id="1683280">)</span><span class="op" id="1683281">)</span><span class="op" id="1683282">.</span><span class="builtinfunc" id="1683283">len</span>&nbsp;<span class="op" id="1683287">=</span>&nbsp;<span class="builtintype" id="1683289">uint</span><span class="op" id="1683293">(</span><span class="ident" id="1683294">size</span><span class="op" id="1683298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683301">(</span><span class="op" id="1683302">*</span><span class="ident" id="1683303">slice</span><span class="op" id="1683308">)</span><span class="op" id="1683309">(</span><span class="ident" id="1683310">unsafe</span><span class="op" id="1683316">.</span><span class="ident" id="1683317">Pointer</span><span class="op" id="1683324">(</span><span class="op" id="1683325">&amp;</span><span class="ident" id="1683326">b</span><span class="op" id="1683327">)</span><span class="op" id="1683328">)</span><span class="op" id="1683329">.</span><span class="builtinfunc" id="1683330">cap</span>&nbsp;<span class="op" id="1683334">=</span>&nbsp;<span class="builtintype" id="1683336">uint</span><span class="op" id="1683340">(</span><span class="builtinfunc" id="1683341">cap</span><span class="op" id="1683344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683347">return</span><br>
<span class="lineno"></span><span class="op" id="1683354">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="1683357">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1683431">func</span>&nbsp;<span class="ident" id="1683436">rawruneslice</span><span class="op" id="1683448">(</span><span class="ident" id="1683449">size</span>&nbsp;<span class="builtintype" id="1683454">int</span><span class="op" id="1683457">)</span>&nbsp;<span class="op" id="1683459">(</span><span class="ident" id="1683460">b</span>&nbsp;<span class="op" id="1683462">[</span><span class="op" id="1683463">]</span><span class="builtintype" id="1683464">rune</span><span class="op" id="1683468">)</span>&nbsp;<span class="op" id="1683470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683473">if</span>&nbsp;<span class="builtintype" id="1683476">uintptr</span><span class="op" id="1683483">(</span><span class="ident" id="1683484">size</span><span class="op" id="1683488">)</span>&nbsp;<span class="op" id="1683490">&gt;</span>&nbsp;<span class="ident" id="1683492">maxmem</span><span class="op" id="1683498">/</span><span class="num" id="1683499">4</span>&nbsp;<span class="op" id="1683501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683505">gothrow</span><span class="op" id="1683512">(</span><span class="string" id="1683513">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="1683528">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683534">mem</span>&nbsp;<span class="op" id="1683538">:=</span>&nbsp;<span class="ident" id="1683541">goroundupsize</span><span class="op" id="1683554">(</span><span class="builtintype" id="1683555">uintptr</span><span class="op" id="1683562">(</span><span class="ident" id="1683563">size</span><span class="op" id="1683567">)</span>&nbsp;<span class="op" id="1683569">*</span>&nbsp;<span class="num" id="1683571">4</span><span class="op" id="1683572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683575">p</span>&nbsp;<span class="op" id="1683577">:=</span>&nbsp;<span class="ident" id="1683580">mallocgc</span><span class="op" id="1683588">(</span><span class="ident" id="1683589">mem</span><span class="op" id="1683592">,</span>&nbsp;<span class="ident" id="1683594">nil</span><span class="op" id="1683597">,</span>&nbsp;<span class="ident" id="1683599">flagNoScan</span><span class="op" id="1683609">|</span><span class="ident" id="1683610">flagNoZero</span><span class="op" id="1683620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683623">if</span>&nbsp;<span class="ident" id="1683626">mem</span>&nbsp;<span class="op" id="1683630">!=</span>&nbsp;<span class="builtintype" id="1683633">uintptr</span><span class="op" id="1683640">(</span><span class="ident" id="1683641">size</span><span class="op" id="1683645">)</span><span class="op" id="1683646">*</span><span class="num" id="1683647">4</span>&nbsp;<span class="op" id="1683649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683653">memclr</span><span class="op" id="1683659">(</span><span class="ident" id="1683660">add</span><span class="op" id="1683663">(</span><span class="ident" id="1683664">p</span><span class="op" id="1683665">,</span>&nbsp;<span class="builtintype" id="1683667">uintptr</span><span class="op" id="1683674">(</span><span class="ident" id="1683675">size</span><span class="op" id="1683679">)</span><span class="op" id="1683680">*</span><span class="num" id="1683681">4</span><span class="op" id="1683682">)</span><span class="op" id="1683683">,</span>&nbsp;<span class="ident" id="1683685">mem</span><span class="op" id="1683688">-</span><span class="builtintype" id="1683689">uintptr</span><span class="op" id="1683696">(</span><span class="ident" id="1683697">size</span><span class="op" id="1683701">)</span><span class="op" id="1683702">*</span><span class="num" id="1683703">4</span><span class="op" id="1683704">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683711">(</span><span class="op" id="1683712">*</span><span class="ident" id="1683713">slice</span><span class="op" id="1683718">)</span><span class="op" id="1683719">(</span><span class="ident" id="1683720">unsafe</span><span class="op" id="1683726">.</span><span class="ident" id="1683727">Pointer</span><span class="op" id="1683734">(</span><span class="op" id="1683735">&amp;</span><span class="ident" id="1683736">b</span><span class="op" id="1683737">)</span><span class="op" id="1683738">)</span><span class="op" id="1683739">.</span><span class="ident" id="1683740">array</span>&nbsp;<span class="op" id="1683746">=</span>&nbsp;<span class="op" id="1683748">(</span><span class="op" id="1683749">*</span><span class="builtintype" id="1683750">uint8</span><span class="op" id="1683755">)</span><span class="op" id="1683756">(</span><span class="ident" id="1683757">p</span><span class="op" id="1683758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683761">(</span><span class="op" id="1683762">*</span><span class="ident" id="1683763">slice</span><span class="op" id="1683768">)</span><span class="op" id="1683769">(</span><span class="ident" id="1683770">unsafe</span><span class="op" id="1683776">.</span><span class="ident" id="1683777">Pointer</span><span class="op" id="1683784">(</span><span class="op" id="1683785">&amp;</span><span class="ident" id="1683786">b</span><span class="op" id="1683787">)</span><span class="op" id="1683788">)</span><span class="op" id="1683789">.</span><span class="builtinfunc" id="1683790">len</span>&nbsp;<span class="op" id="1683794">=</span>&nbsp;<span class="builtintype" id="1683796">uint</span><span class="op" id="1683800">(</span><span class="ident" id="1683801">size</span><span class="op" id="1683805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683808">(</span><span class="op" id="1683809">*</span><span class="ident" id="1683810">slice</span><span class="op" id="1683815">)</span><span class="op" id="1683816">(</span><span class="ident" id="1683817">unsafe</span><span class="op" id="1683823">.</span><span class="ident" id="1683824">Pointer</span><span class="op" id="1683831">(</span><span class="op" id="1683832">&amp;</span><span class="ident" id="1683833">b</span><span class="op" id="1683834">)</span><span class="op" id="1683835">)</span><span class="op" id="1683836">.</span><span class="builtinfunc" id="1683837">cap</span>&nbsp;<span class="op" id="1683841">=</span>&nbsp;<span class="builtintype" id="1683843">uint</span><span class="op" id="1683847">(</span><span class="ident" id="1683848">mem</span>&nbsp;<span class="op" id="1683852">/</span>&nbsp;<span class="num" id="1683854">4</span><span class="op" id="1683855">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683858">return</span><br>
<span class="lineno"></span><span class="op" id="1683865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1683868">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="1683887">func</span>&nbsp;<span class="ident" id="1683892">gobytes</span><span class="op" id="1683899">(</span><span class="ident" id="1683900">p</span>&nbsp;<span class="op" id="1683902">*</span><span class="builtintype" id="1683903">byte</span><span class="op" id="1683907">,</span>&nbsp;<span class="ident" id="1683909">n</span>&nbsp;<span class="builtintype" id="1683911">int</span><span class="op" id="1683914">)</span>&nbsp;<span class="op" id="1683916">[</span><span class="op" id="1683917">]</span><span class="builtintype" id="1683918">byte</span>&nbsp;<span class="op" id="1683923">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683926">if</span>&nbsp;<span class="ident" id="1683929">n</span>&nbsp;<span class="op" id="1683931">==</span>&nbsp;<span class="num" id="1683934">0</span>&nbsp;<span class="op" id="1683936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1683940">return</span>&nbsp;<span class="builtinfunc" id="1683947">make</span><span class="op" id="1683951">(</span><span class="op" id="1683952">[</span><span class="op" id="1683953">]</span><span class="builtintype" id="1683954">byte</span><span class="op" id="1683958">,</span>&nbsp;<span class="num" id="1683960">0</span><span class="op" id="1683961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1683964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683967">x</span>&nbsp;<span class="op" id="1683969">:=</span>&nbsp;<span class="builtinfunc" id="1683972">make</span><span class="op" id="1683976">(</span><span class="op" id="1683977">[</span><span class="op" id="1683978">]</span><span class="builtintype" id="1683979">byte</span><span class="op" id="1683983">,</span>&nbsp;<span class="ident" id="1683985">n</span><span class="op" id="1683986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1683989">memmove</span><span class="op" id="1683996">(</span><span class="ident" id="1683997">unsafe</span><span class="op" id="1684003">.</span><span class="ident" id="1684004">Pointer</span><span class="op" id="1684011">(</span><span class="op" id="1684012">&amp;</span><span class="ident" id="1684013">x</span><span class="op" id="1684014">[</span><span class="num" id="1684015">0</span><span class="op" id="1684016">]</span><span class="op" id="1684017">)</span><span class="op" id="1684018">,</span>&nbsp;<span class="ident" id="1684020">unsafe</span><span class="op" id="1684026">.</span><span class="ident" id="1684027">Pointer</span><span class="op" id="1684034">(</span><span class="ident" id="1684035">p</span><span class="op" id="1684036">)</span><span class="op" id="1684037">,</span>&nbsp;<span class="builtintype" id="1684039">uintptr</span><span class="op" id="1684046">(</span><span class="ident" id="1684047">n</span><span class="op" id="1684048">)</span><span class="op" id="1684049">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684052">return</span>&nbsp;<span class="ident" id="1684059">x</span><br>
<span class="lineno"></span><span class="op" id="1684061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1684064">func</span>&nbsp;<span class="ident" id="1684069">gostringsize</span><span class="op" id="1684081">(</span><span class="ident" id="1684082">n</span>&nbsp;<span class="builtintype" id="1684084">int</span><span class="op" id="1684087">)</span>&nbsp;<span class="builtintype" id="1684089">string</span>&nbsp;<span class="op" id="1684096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684099">s</span><span class="op" id="1684100">,</span>&nbsp;<span class="ident" id="1684102">_</span>&nbsp;<span class="op" id="1684104">:=</span>&nbsp;<span class="ident" id="1684107">rawstring</span><span class="op" id="1684116">(</span><span class="ident" id="1684117">n</span><span class="op" id="1684118">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684121">return</span>&nbsp;<span class="ident" id="1684128">s</span><br>
<span class="lineno"></span><span class="op" id="1684130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1684133">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1684147">func</span>&nbsp;<span class="ident" id="1684152">findnull</span><span class="op" id="1684160">(</span><span class="op" id="1684161">*</span><span class="builtintype" id="1684162">byte</span><span class="op" id="1684166">)</span>&nbsp;<span class="builtintype" id="1684168">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="1684173">func</span>&nbsp;<span class="ident" id="1684178">gostring</span><span class="op" id="1684186">(</span><span class="ident" id="1684187">p</span>&nbsp;<span class="op" id="1684189">*</span><span class="builtintype" id="1684190">byte</span><span class="op" id="1684194">)</span>&nbsp;<span class="builtintype" id="1684196">string</span>&nbsp;<span class="op" id="1684203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684206">l</span>&nbsp;<span class="op" id="1684208">:=</span>&nbsp;<span class="ident" id="1684211">findnull</span><span class="op" id="1684219">(</span><span class="ident" id="1684220">p</span><span class="op" id="1684221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684224">if</span>&nbsp;<span class="ident" id="1684227">l</span>&nbsp;<span class="op" id="1684229">==</span>&nbsp;<span class="num" id="1684232">0</span>&nbsp;<span class="op" id="1684234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684238">return</span>&nbsp;<span class="string" id="1684245">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684252">s</span><span class="op" id="1684253">,</span>&nbsp;<span class="ident" id="1684255">b</span>&nbsp;<span class="op" id="1684257">:=</span>&nbsp;<span class="ident" id="1684260">rawstring</span><span class="op" id="1684269">(</span><span class="ident" id="1684270">l</span><span class="op" id="1684271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684274">memmove</span><span class="op" id="1684281">(</span><span class="ident" id="1684282">unsafe</span><span class="op" id="1684288">.</span><span class="ident" id="1684289">Pointer</span><span class="op" id="1684296">(</span><span class="op" id="1684297">&amp;</span><span class="ident" id="1684298">b</span><span class="op" id="1684299">[</span><span class="num" id="1684300">0</span><span class="op" id="1684301">]</span><span class="op" id="1684302">)</span><span class="op" id="1684303">,</span>&nbsp;<span class="ident" id="1684305">unsafe</span><span class="op" id="1684311">.</span><span class="ident" id="1684312">Pointer</span><span class="op" id="1684319">(</span><span class="ident" id="1684320">p</span><span class="op" id="1684321">)</span><span class="op" id="1684322">,</span>&nbsp;<span class="builtintype" id="1684324">uintptr</span><span class="op" id="1684331">(</span><span class="ident" id="1684332">l</span><span class="op" id="1684333">)</span><span class="op" id="1684334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684337">return</span>&nbsp;<span class="ident" id="1684344">s</span><br>
<span class="lineno"></span><span class="op" id="1684346">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1684349">func</span>&nbsp;<span class="ident" id="1684354">gostringn</span><span class="op" id="1684363">(</span><span class="ident" id="1684364">p</span>&nbsp;<span class="op" id="1684366">*</span><span class="builtintype" id="1684367">byte</span><span class="op" id="1684371">,</span>&nbsp;<span class="ident" id="1684373">l</span>&nbsp;<span class="builtintype" id="1684375">int</span><span class="op" id="1684378">)</span>&nbsp;<span class="builtintype" id="1684380">string</span>&nbsp;<span class="op" id="1684387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684390">if</span>&nbsp;<span class="ident" id="1684393">l</span>&nbsp;<span class="op" id="1684395">==</span>&nbsp;<span class="num" id="1684398">0</span>&nbsp;<span class="op" id="1684400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684404">return</span>&nbsp;<span class="string" id="1684411">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684415">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684418">s</span><span class="op" id="1684419">,</span>&nbsp;<span class="ident" id="1684421">b</span>&nbsp;<span class="op" id="1684423">:=</span>&nbsp;<span class="ident" id="1684426">rawstring</span><span class="op" id="1684435">(</span><span class="ident" id="1684436">l</span><span class="op" id="1684437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1684440">memmove</span><span class="op" id="1684447">(</span><span class="ident" id="1684448">unsafe</span><span class="op" id="1684454">.</span><span class="ident" id="1684455">Pointer</span><span class="op" id="1684462">(</span><span class="op" id="1684463">&amp;</span><span class="ident" id="1684464">b</span><span class="op" id="1684465">[</span><span class="num" id="1684466">0</span><span class="op" id="1684467">]</span><span class="op" id="1684468">)</span><span class="op" id="1684469">,</span>&nbsp;<span class="ident" id="1684471">unsafe</span><span class="op" id="1684477">.</span><span class="ident" id="1684478">Pointer</span><span class="op" id="1684485">(</span><span class="ident" id="1684486">p</span><span class="op" id="1684487">)</span><span class="op" id="1684488">,</span>&nbsp;<span class="builtintype" id="1684490">uintptr</span><span class="op" id="1684497">(</span><span class="ident" id="1684498">l</span><span class="op" id="1684499">)</span><span class="op" id="1684500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684503">return</span>&nbsp;<span class="ident" id="1684510">s</span><br>
<span class="lineno"></span><span class="op" id="1684512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1684515">func</span>&nbsp;<span class="ident" id="1684520">index</span><span class="op" id="1684525">(</span><span class="ident" id="1684526">s</span><span class="op" id="1684527">,</span>&nbsp;<span class="ident" id="1684529">t</span>&nbsp;<span class="builtintype" id="1684531">string</span><span class="op" id="1684537">)</span>&nbsp;<span class="builtintype" id="1684539">int</span>&nbsp;<span class="op" id="1684543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684546">if</span>&nbsp;<span class="builtinfunc" id="1684549">len</span><span class="op" id="1684552">(</span><span class="ident" id="1684553">t</span><span class="op" id="1684554">)</span>&nbsp;<span class="op" id="1684556">==</span>&nbsp;<span class="num" id="1684559">0</span>&nbsp;<span class="op" id="1684561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684565">return</span>&nbsp;<span class="num" id="1684572">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684578">for</span>&nbsp;<span class="ident" id="1684582">i</span>&nbsp;<span class="op" id="1684584">:=</span>&nbsp;<span class="num" id="1684587">0</span><span class="op" id="1684588">;</span>&nbsp;<span class="ident" id="1684590">i</span>&nbsp;<span class="op" id="1684592">&lt;</span>&nbsp;<span class="builtinfunc" id="1684594">len</span><span class="op" id="1684597">(</span><span class="ident" id="1684598">s</span><span class="op" id="1684599">)</span><span class="op" id="1684600">;</span>&nbsp;<span class="ident" id="1684602">i</span><span class="op" id="1684603">++</span>&nbsp;<span class="op" id="1684606">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684610">if</span>&nbsp;<span class="ident" id="1684613">s</span><span class="op" id="1684614">[</span><span class="ident" id="1684615">i</span><span class="op" id="1684616">]</span>&nbsp;<span class="op" id="1684618">==</span>&nbsp;<span class="ident" id="1684621">t</span><span class="op" id="1684622">[</span><span class="num" id="1684623">0</span><span class="op" id="1684624">]</span>&nbsp;<span class="op" id="1684626">&amp;&amp;</span>&nbsp;<span class="ident" id="1684629">hasprefix</span><span class="op" id="1684638">(</span><span class="ident" id="1684639">s</span><span class="op" id="1684640">[</span><span class="ident" id="1684641">i</span><span class="op" id="1684642">:</span><span class="op" id="1684643">]</span><span class="op" id="1684644">,</span>&nbsp;<span class="ident" id="1684646">t</span><span class="op" id="1684647">)</span>&nbsp;<span class="op" id="1684649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684654">return</span>&nbsp;<span class="ident" id="1684661">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1684668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684671">return</span>&nbsp;<span class="op" id="1684678">-</span><span class="num" id="1684679">1</span><br>
<span class="lineno">290</span><span class="op" id="1684681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1684684">func</span>&nbsp;<span class="ident" id="1684689">contains</span><span class="op" id="1684697">(</span><span class="ident" id="1684698">s</span><span class="op" id="1684699">,</span>&nbsp;<span class="ident" id="1684701">t</span>&nbsp;<span class="builtintype" id="1684703">string</span><span class="op" id="1684709">)</span>&nbsp;<span class="builtintype" id="1684711">bool</span>&nbsp;<span class="op" id="1684716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684719">return</span>&nbsp;<span class="ident" id="1684726">index</span><span class="op" id="1684731">(</span><span class="ident" id="1684732">s</span><span class="op" id="1684733">,</span>&nbsp;<span class="ident" id="1684735">t</span><span class="op" id="1684736">)</span>&nbsp;<span class="op" id="1684738">&gt;=</span>&nbsp;<span class="num" id="1684741">0</span><br>
<span class="lineno"></span><span class="op" id="1684743">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1684746">func</span>&nbsp;<span class="ident" id="1684751">hasprefix</span><span class="op" id="1684760">(</span><span class="ident" id="1684761">s</span><span class="op" id="1684762">,</span>&nbsp;<span class="ident" id="1684764">t</span>&nbsp;<span class="builtintype" id="1684766">string</span><span class="op" id="1684772">)</span>&nbsp;<span class="builtintype" id="1684774">bool</span>&nbsp;<span class="op" id="1684779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1684782">return</span>&nbsp;<span class="builtinfunc" id="1684789">len</span><span class="op" id="1684792">(</span><span class="ident" id="1684793">s</span><span class="op" id="1684794">)</span>&nbsp;<span class="op" id="1684796">&gt;=</span>&nbsp;<span class="builtinfunc" id="1684799">len</span><span class="op" id="1684802">(</span><span class="ident" id="1684803">t</span><span class="op" id="1684804">)</span>&nbsp;<span class="op" id="1684806">&amp;&amp;</span>&nbsp;<span class="ident" id="1684809">s</span><span class="op" id="1684810">[</span><span class="op" id="1684811">:</span><span class="builtinfunc" id="1684812">len</span><span class="op" id="1684815">(</span><span class="ident" id="1684816">t</span><span class="op" id="1684817">)</span><span class="op" id="1684818">]</span>&nbsp;<span class="op" id="1684820">==</span>&nbsp;<span class="ident" id="1684823">t</span><br>
<span class="lineno"></span><span class="op" id="1684825">}</span>
</div>
</body>
</html>
