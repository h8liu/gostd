<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html" class="current">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4658841">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4658896">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4658950">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4659001">package</span>&nbsp;<span class="ident" id="4659009">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4659016">//&nbsp;forwardCopy&nbsp;is&nbsp;like&nbsp;the&nbsp;built-in&nbsp;copy&nbsp;function&nbsp;except&nbsp;that&nbsp;it&nbsp;always&nbsp;goes</span><br>
<span class="lineno"></span><span class="comment" id="4659093">//&nbsp;forward&nbsp;from&nbsp;the&nbsp;start,&nbsp;even&nbsp;if&nbsp;the&nbsp;dst&nbsp;and&nbsp;src&nbsp;overlap.</span><br>
<span class="lineno"></span><span class="comment" id="4659153">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to:</span><br>
<span class="lineno">10</span><span class="comment" id="4659177">//&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;:=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;n;&nbsp;i++&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="4659207">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mem[dst+i]&nbsp;=&nbsp;mem[src+i]</span><br>
<span class="lineno"></span><span class="comment" id="4659238">//&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno"></span><span class="keyword" id="4659245">func</span>&nbsp;<span class="ident" id="4659250">forwardCopy</span><span class="op" id="4659261">(</span><span class="ident" id="4659262">mem</span>&nbsp;<span class="op" id="4659266">[</span><span class="op" id="4659267">]</span><span class="builtintype" id="4659268">byte</span><span class="op" id="4659272">,</span>&nbsp;<span class="ident" id="4659274">dst</span><span class="op" id="4659277">,</span>&nbsp;<span class="ident" id="4659279">src</span><span class="op" id="4659282">,</span>&nbsp;<span class="ident" id="4659284">n</span>&nbsp;<span class="builtintype" id="4659286">int</span><span class="op" id="4659289">)</span>&nbsp;<span class="op" id="4659291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4659294">if</span>&nbsp;<span class="ident" id="4659297">dst</span>&nbsp;<span class="op" id="4659301">&lt;=</span>&nbsp;<span class="ident" id="4659304">src</span>&nbsp;<span class="op" id="4659308">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4659312">copy</span><span class="op" id="4659316">(</span><span class="ident" id="4659317">mem</span><span class="op" id="4659320">[</span><span class="ident" id="4659321">dst</span><span class="op" id="4659324">:</span><span class="ident" id="4659325">dst</span><span class="op" id="4659328">+</span><span class="ident" id="4659329">n</span><span class="op" id="4659330">]</span><span class="op" id="4659331">,</span>&nbsp;<span class="ident" id="4659333">mem</span><span class="op" id="4659336">[</span><span class="ident" id="4659337">src</span><span class="op" id="4659340">:</span><span class="ident" id="4659341">src</span><span class="op" id="4659344">+</span><span class="ident" id="4659345">n</span><span class="op" id="4659346">]</span><span class="op" id="4659347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4659351">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4659359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4659362">for</span>&nbsp;<span class="op" id="4659366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4659370">if</span>&nbsp;<span class="ident" id="4659373">dst</span>&nbsp;<span class="op" id="4659377">&gt;=</span>&nbsp;<span class="ident" id="4659380">src</span><span class="op" id="4659383">+</span><span class="ident" id="4659384">n</span>&nbsp;<span class="op" id="4659386">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4659391">copy</span><span class="op" id="4659395">(</span><span class="ident" id="4659396">mem</span><span class="op" id="4659399">[</span><span class="ident" id="4659400">dst</span><span class="op" id="4659403">:</span><span class="ident" id="4659404">dst</span><span class="op" id="4659407">+</span><span class="ident" id="4659408">n</span><span class="op" id="4659409">]</span><span class="op" id="4659410">,</span>&nbsp;<span class="ident" id="4659412">mem</span><span class="op" id="4659415">[</span><span class="ident" id="4659416">src</span><span class="op" id="4659419">:</span><span class="ident" id="4659420">src</span><span class="op" id="4659423">+</span><span class="ident" id="4659424">n</span><span class="op" id="4659425">]</span><span class="op" id="4659426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4659431">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4659440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4659444">//&nbsp;There&nbsp;is&nbsp;some&nbsp;forward&nbsp;overlap.&nbsp;&nbsp;The&nbsp;destination</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4659497">//&nbsp;will&nbsp;be&nbsp;filled&nbsp;with&nbsp;a&nbsp;repeated&nbsp;pattern&nbsp;of&nbsp;mem[src:src+k].</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4659560">//&nbsp;We&nbsp;copy&nbsp;one&nbsp;instance&nbsp;of&nbsp;the&nbsp;pattern&nbsp;here,&nbsp;then&nbsp;repeat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4659620">//&nbsp;Each&nbsp;time&nbsp;around&nbsp;this&nbsp;loop&nbsp;k&nbsp;will&nbsp;double.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4659667">k</span>&nbsp;<span class="op" id="4659669">:=</span>&nbsp;<span class="ident" id="4659672">dst</span>&nbsp;<span class="op" id="4659676">-</span>&nbsp;<span class="ident" id="4659678">src</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4659684">copy</span><span class="op" id="4659688">(</span><span class="ident" id="4659689">mem</span><span class="op" id="4659692">[</span><span class="ident" id="4659693">dst</span><span class="op" id="4659696">:</span><span class="ident" id="4659697">dst</span><span class="op" id="4659700">+</span><span class="ident" id="4659701">k</span><span class="op" id="4659702">]</span><span class="op" id="4659703">,</span>&nbsp;<span class="ident" id="4659705">mem</span><span class="op" id="4659708">[</span><span class="ident" id="4659709">src</span><span class="op" id="4659712">:</span><span class="ident" id="4659713">src</span><span class="op" id="4659716">+</span><span class="ident" id="4659717">k</span><span class="op" id="4659718">]</span><span class="op" id="4659719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4659723">n</span>&nbsp;<span class="op" id="4659725">-=</span>&nbsp;<span class="ident" id="4659728">k</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4659732">dst</span>&nbsp;<span class="op" id="4659736">+=</span>&nbsp;<span class="ident" id="4659739">k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4659742">}</span><br>
<span class="lineno"></span><span class="op" id="4659744">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
