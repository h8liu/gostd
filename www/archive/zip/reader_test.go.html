<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8375960">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8376015">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8376069">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8376120">package</span>&nbsp;<span class="ident" id="8376128">zip</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8376133">import</span>&nbsp;<span class="op" id="8376140">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376143">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376152">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376171">&#34;encoding/hex&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376187">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376193">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376206">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376212">&#34;path/filepath&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376229">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376239">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376250">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8376261">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8376268">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8376271">type</span>&nbsp;<span class="ident" id="8376276">ZipTest</span>&nbsp;<span class="keyword" id="8376284">struct</span>&nbsp;<span class="op" id="8376291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376294">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8376302">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376310">Source</span>&nbsp;&nbsp;<span class="keyword" id="8376318">func</span><span class="op" id="8376322">(</span><span class="op" id="8376323">)</span>&nbsp;<span class="op" id="8376325">(</span><span class="ident" id="8376326">r</span>&nbsp;<span class="ident" id="8376328"><a href="/archive/zip/reader_test.go.html#8376187">io</a></span><span class="op" id="8376330">.</span><span class="ident" id="8376331">ReaderAt</span><span class="op" id="8376339">,</span>&nbsp;<span class="ident" id="8376341">size</span>&nbsp;<span class="ident" id="8376346">int64</span><span class="op" id="8376351">)</span>&nbsp;<span class="comment" id="8376353">//&nbsp;if&nbsp;non-nil,&nbsp;used&nbsp;instead&nbsp;of&nbsp;testdata/&lt;Name&gt;&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376406">Comment</span>&nbsp;<span class="builtintype" id="8376414">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376422">File</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376430">[</span><span class="op" id="8376431">]</span><span class="ident" id="8376432"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376445">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8376453">error</span>&nbsp;<span class="comment" id="8376459">//&nbsp;the&nbsp;error&nbsp;that&nbsp;Opening&nbsp;this&nbsp;file&nbsp;should&nbsp;return</span><br>
<span class="lineno"></span><span class="op" id="8376509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8376512">type</span>&nbsp;<span class="ident" id="8376517">ZipTestFile</span>&nbsp;<span class="keyword" id="8376529">struct</span>&nbsp;<span class="op" id="8376536">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376539">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8376550">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376558">Content</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376569">[</span><span class="op" id="8376570">]</span><span class="builtintype" id="8376571">byte</span>&nbsp;<span class="comment" id="8376576">//&nbsp;if&nbsp;blank,&nbsp;will&nbsp;attempt&nbsp;to&nbsp;compare&nbsp;against&nbsp;File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376627">ContentErr</span>&nbsp;<span class="builtintype" id="8376638">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376645">File</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8376656">string</span>&nbsp;<span class="comment" id="8376663">//&nbsp;name&nbsp;of&nbsp;file&nbsp;to&nbsp;compare&nbsp;to&nbsp;(relative&nbsp;to&nbsp;testdata/)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376718">Mtime</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8376729">string</span>&nbsp;<span class="comment" id="8376736">//&nbsp;modified&nbsp;time&nbsp;in&nbsp;format&nbsp;&#34;mm-dd-yy&nbsp;hh:mm:ss&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376784">Mode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8376795"><a href="/archive/zip/reader_test.go.html#8376206">os</a></span><span class="op" id="8376797">.</span><span class="ident" id="8376798">FileMode</span><br>
<span class="lineno"></span><span class="op" id="8376807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8376810">//&nbsp;Caution:&nbsp;The&nbsp;Mtime&nbsp;values&nbsp;found&nbsp;for&nbsp;the&nbsp;test&nbsp;files&nbsp;should&nbsp;correspond&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="8376885">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;values&nbsp;listed&nbsp;with&nbsp;unzip&nbsp;-l&nbsp;&lt;zipfile&gt;.&nbsp;However,&nbsp;the&nbsp;values</span><br>
<span class="lineno">40</span><span class="comment" id="8376960">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listed&nbsp;by&nbsp;unzip&nbsp;appear&nbsp;to&nbsp;be&nbsp;off&nbsp;by&nbsp;some&nbsp;hours.&nbsp;When&nbsp;creating</span><br>
<span class="lineno"></span><span class="comment" id="8377034">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fresh&nbsp;test&nbsp;files&nbsp;and&nbsp;testing&nbsp;them,&nbsp;this&nbsp;issue&nbsp;is&nbsp;not&nbsp;present.</span><br>
<span class="lineno"></span><span class="comment" id="8377108">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;test&nbsp;files&nbsp;were&nbsp;created&nbsp;in&nbsp;Sydney,&nbsp;so&nbsp;there&nbsp;might&nbsp;be&nbsp;a&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="8377184">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zone&nbsp;issue.&nbsp;The&nbsp;time&nbsp;zone&nbsp;information&nbsp;does&nbsp;have&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span><span class="comment" id="8377258">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;somewhere,&nbsp;because&nbsp;otherwise&nbsp;unzip&nbsp;-l&nbsp;could&nbsp;not&nbsp;provide&nbsp;a&nbsp;different</span><br>
<span class="lineno">45</span><span class="comment" id="8377338">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;from&nbsp;what&nbsp;the&nbsp;archive/zip&nbsp;package&nbsp;provides,&nbsp;but&nbsp;there&nbsp;appears</span><br>
<span class="lineno"></span><span class="comment" id="8377417">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;be&nbsp;no&nbsp;documentation&nbsp;about&nbsp;this.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8377465">var</span>&nbsp;<span class="ident" id="8377469">tests</span>&nbsp;<span class="op" id="8377475">=</span>&nbsp;<span class="op" id="8377477">[</span><span class="op" id="8377478">]</span><span class="ident" id="8377479"><a href="/archive/zip/reader_test.go.html#8376276">ZipTest</a></span><span class="op" id="8377486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377489">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377493">Name</span><span class="op" id="8377497">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8377502">&#34;test.zip&#34;</span><span class="op" id="8377512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377516">Comment</span><span class="op" id="8377523">:</span>&nbsp;<span class="string" id="8377525">&#34;This&nbsp;is&nbsp;a&nbsp;zipfile&nbsp;comment.&#34;</span><span class="op" id="8377553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377557">File</span><span class="op" id="8377561">:</span>&nbsp;<span class="op" id="8377563">[</span><span class="op" id="8377564">]</span><span class="ident" id="8377565"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8377576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377587">Name</span><span class="op" id="8377591">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8377596">&#34;test.txt&#34;</span><span class="op" id="8377606">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377612">Content</span><span class="op" id="8377619">:</span>&nbsp;<span class="op" id="8377621">[</span><span class="op" id="8377622">]</span><span class="builtintype" id="8377623">byte</span><span class="op" id="8377627">(</span><span class="string" id="8377628">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;text&nbsp;file.\n&#34;</span><span class="op" id="8377657">)</span><span class="op" id="8377658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377664">Mtime</span><span class="op" id="8377669">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8377673">&#34;09-05-10&nbsp;12:12:02&#34;</span><span class="op" id="8377692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377698">Mode</span><span class="op" id="8377702">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8377707">0644</span><span class="op" id="8377711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377716">}</span><span class="op" id="8377717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377722">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377728">Name</span><span class="op" id="8377732">:</span>&nbsp;&nbsp;<span class="string" id="8377735">&#34;gophercolor16x16.png&#34;</span><span class="op" id="8377757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377763">File</span><span class="op" id="8377767">:</span>&nbsp;&nbsp;<span class="string" id="8377770">&#34;gophercolor16x16.png&#34;</span><span class="op" id="8377792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377798">Mtime</span><span class="op" id="8377803">:</span>&nbsp;<span class="string" id="8377805">&#34;09-05-10&nbsp;15:52:58&#34;</span><span class="op" id="8377824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377830">Mode</span><span class="op" id="8377834">:</span>&nbsp;&nbsp;<span class="num" id="8377837">0644</span><span class="op" id="8377841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377846">}</span><span class="op" id="8377847">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377851">}</span><span class="op" id="8377852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377855">}</span><span class="op" id="8377856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377863">Name</span><span class="op" id="8377867">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8377872">&#34;test-trailing-junk.zip&#34;</span><span class="op" id="8377896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377900">Comment</span><span class="op" id="8377907">:</span>&nbsp;<span class="string" id="8377909">&#34;This&nbsp;is&nbsp;a&nbsp;zipfile&nbsp;comment.&#34;</span><span class="op" id="8377937">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377941">File</span><span class="op" id="8377945">:</span>&nbsp;<span class="op" id="8377947">[</span><span class="op" id="8377948">]</span><span class="ident" id="8377949"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8377960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8377965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377971">Name</span><span class="op" id="8377975">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8377980">&#34;test.txt&#34;</span><span class="op" id="8377990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377996">Content</span><span class="op" id="8378003">:</span>&nbsp;<span class="op" id="8378005">[</span><span class="op" id="8378006">]</span><span class="builtintype" id="8378007">byte</span><span class="op" id="8378011">(</span><span class="string" id="8378012">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;text&nbsp;file.\n&#34;</span><span class="op" id="8378041">)</span><span class="op" id="8378042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378048">Mtime</span><span class="op" id="8378053">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8378057">&#34;09-05-10&nbsp;12:12:02&#34;</span><span class="op" id="8378076">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378082">Mode</span><span class="op" id="8378086">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8378091">0644</span><span class="op" id="8378095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378100">}</span><span class="op" id="8378101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378112">Name</span><span class="op" id="8378116">:</span>&nbsp;&nbsp;<span class="string" id="8378119">&#34;gophercolor16x16.png&#34;</span><span class="op" id="8378141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378147">File</span><span class="op" id="8378151">:</span>&nbsp;&nbsp;<span class="string" id="8378154">&#34;gophercolor16x16.png&#34;</span><span class="op" id="8378176">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378182">Mtime</span><span class="op" id="8378187">:</span>&nbsp;<span class="string" id="8378189">&#34;09-05-10&nbsp;15:52:58&#34;</span><span class="op" id="8378208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378214">Mode</span><span class="op" id="8378218">:</span>&nbsp;&nbsp;<span class="num" id="8378221">0644</span><span class="op" id="8378225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378230">}</span><span class="op" id="8378231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378235">}</span><span class="op" id="8378236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378239">}</span><span class="op" id="8378240">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378247">Name</span><span class="op" id="8378251">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8378255">&#34;r.zip&#34;</span><span class="op" id="8378262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378266">Source</span><span class="op" id="8378272">:</span>&nbsp;<span class="ident" id="8378274"><a href="/archive/zip/reader_test.go.html#8388317">returnRecursiveZip</a></span><span class="op" id="8378292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378296">File</span><span class="op" id="8378300">:</span>&nbsp;<span class="op" id="8378302">[</span><span class="op" id="8378303">]</span><span class="ident" id="8378304"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8378315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378320">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378326">Name</span><span class="op" id="8378330">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378335">&#34;r/r.zip&#34;</span><span class="op" id="8378344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378350">Content</span><span class="op" id="8378357">:</span>&nbsp;<span class="ident" id="8378359"><a href="/archive/zip/reader_test.go.html#8386543">rZipBytes</a></span><span class="op" id="8378368">(</span><span class="op" id="8378369">)</span><span class="op" id="8378370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378376">Mtime</span><span class="op" id="8378381">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8378385">&#34;03-04-10&nbsp;00:24:16&#34;</span><span class="op" id="8378404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378410">Mode</span><span class="op" id="8378414">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8378419">0666</span><span class="op" id="8378423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378428">}</span><span class="op" id="8378429">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378433">}</span><span class="op" id="8378434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378437">}</span><span class="op" id="8378438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378445">Name</span><span class="op" id="8378449">:</span>&nbsp;<span class="string" id="8378451">&#34;symlink.zip&#34;</span><span class="op" id="8378464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378468">File</span><span class="op" id="8378472">:</span>&nbsp;<span class="op" id="8378474">[</span><span class="op" id="8378475">]</span><span class="ident" id="8378476"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8378487">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378498">Name</span><span class="op" id="8378502">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378507">&#34;symlink&#34;</span><span class="op" id="8378516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378522">Content</span><span class="op" id="8378529">:</span>&nbsp;<span class="op" id="8378531">[</span><span class="op" id="8378532">]</span><span class="builtintype" id="8378533">byte</span><span class="op" id="8378537">(</span><span class="string" id="8378538">&#34;../target&#34;</span><span class="op" id="8378549">)</span><span class="op" id="8378550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378556">Mode</span><span class="op" id="8378560">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8378565">0777</span>&nbsp;<span class="op" id="8378570">|</span>&nbsp;<span class="ident" id="8378572"><a href="/archive/zip/reader_test.go.html#8376206">os</a></span><span class="op" id="8378574">.</span><span class="ident" id="8378575">ModeSymlink</span><span class="op" id="8378586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378591">}</span><span class="op" id="8378592">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378596">}</span><span class="op" id="8378597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378600">}</span><span class="op" id="8378601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378608">Name</span><span class="op" id="8378612">:</span>&nbsp;<span class="string" id="8378614">&#34;readme.zip&#34;</span><span class="op" id="8378626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378629">}</span><span class="op" id="8378630">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378637">Name</span><span class="op" id="8378641">:</span>&nbsp;&nbsp;<span class="string" id="8378644">&#34;readme.notzip&#34;</span><span class="op" id="8378659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378663">Error</span><span class="op" id="8378668">:</span>&nbsp;<span class="ident" id="8378670"><a href="/archive/zip/reader.go.html#5681470">ErrFormat</a></span><span class="op" id="8378679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378682">}</span><span class="op" id="8378683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378686">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378690">Name</span><span class="op" id="8378694">:</span>&nbsp;<span class="string" id="8378696">&#34;dd.zip&#34;</span><span class="op" id="8378704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378708">File</span><span class="op" id="8378712">:</span>&nbsp;<span class="op" id="8378714">[</span><span class="op" id="8378715">]</span><span class="ident" id="8378716"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8378727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378738">Name</span><span class="op" id="8378742">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378747">&#34;filename&#34;</span><span class="op" id="8378757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378763">Content</span><span class="op" id="8378770">:</span>&nbsp;<span class="op" id="8378772">[</span><span class="op" id="8378773">]</span><span class="builtintype" id="8378774">byte</span><span class="op" id="8378778">(</span><span class="string" id="8378779">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;textfile.\n&#34;</span><span class="op" id="8378807">)</span><span class="op" id="8378808">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378814">Mtime</span><span class="op" id="8378819">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8378823">&#34;02-02-11&nbsp;13:06:20&#34;</span><span class="op" id="8378842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378848">Mode</span><span class="op" id="8378852">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8378857">0666</span><span class="op" id="8378861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378866">}</span><span class="op" id="8378867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378871">}</span><span class="op" id="8378872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378875">}</span><span class="op" id="8378876">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8378883">//&nbsp;created&nbsp;in&nbsp;windows&nbsp;XP&nbsp;file&nbsp;manager.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378924">Name</span><span class="op" id="8378928">:</span>&nbsp;<span class="string" id="8378930">&#34;winxp.zip&#34;</span><span class="op" id="8378941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378945">File</span><span class="op" id="8378949">:</span>&nbsp;<span class="ident" id="8378951"><a href="/archive/zip/reader_test.go.html#8381575">crossPlatform</a></span><span class="op" id="8378964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378967">}</span><span class="op" id="8378968">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8378975">//&nbsp;created&nbsp;by&nbsp;Zip&nbsp;3.0&nbsp;under&nbsp;Linux</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379011">Name</span><span class="op" id="8379015">:</span>&nbsp;<span class="string" id="8379017">&#34;unix.zip&#34;</span><span class="op" id="8379027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379031">File</span><span class="op" id="8379035">:</span>&nbsp;<span class="ident" id="8379037"><a href="/archive/zip/reader_test.go.html#8381575">crossPlatform</a></span><span class="op" id="8379050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379053">}</span><span class="op" id="8379054">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8379061">//&nbsp;created&nbsp;by&nbsp;Go,&nbsp;before&nbsp;we&nbsp;wrote&nbsp;the&nbsp;&#34;optional&#34;&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8379117">//&nbsp;descriptor&nbsp;signatures&nbsp;(which&nbsp;are&nbsp;required&nbsp;by&nbsp;OS&nbsp;X)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379173">Name</span><span class="op" id="8379177">:</span>&nbsp;<span class="string" id="8379179">&#34;go-no-datadesc-sig.zip&#34;</span><span class="op" id="8379203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379207">File</span><span class="op" id="8379211">:</span>&nbsp;<span class="op" id="8379213">[</span><span class="op" id="8379214">]</span><span class="ident" id="8379215"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8379226">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379237">Name</span><span class="op" id="8379241">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379246">&#34;foo.txt&#34;</span><span class="op" id="8379255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379261">Content</span><span class="op" id="8379268">:</span>&nbsp;<span class="op" id="8379270">[</span><span class="op" id="8379271">]</span><span class="builtintype" id="8379272">byte</span><span class="op" id="8379276">(</span><span class="string" id="8379277">&#34;foo\n&#34;</span><span class="op" id="8379284">)</span><span class="op" id="8379285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379291">Mtime</span><span class="op" id="8379296">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8379300">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="8379319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379325">Mode</span><span class="op" id="8379329">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8379334">0644</span><span class="op" id="8379338">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379343">}</span><span class="op" id="8379344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379355">Name</span><span class="op" id="8379359">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379364">&#34;bar.txt&#34;</span><span class="op" id="8379373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379379">Content</span><span class="op" id="8379386">:</span>&nbsp;<span class="op" id="8379388">[</span><span class="op" id="8379389">]</span><span class="builtintype" id="8379390">byte</span><span class="op" id="8379394">(</span><span class="string" id="8379395">&#34;bar\n&#34;</span><span class="op" id="8379402">)</span><span class="op" id="8379403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379409">Mtime</span><span class="op" id="8379414">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8379418">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="8379437">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379443">Mode</span><span class="op" id="8379447">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8379452">0644</span><span class="op" id="8379456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379461">}</span><span class="op" id="8379462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379466">}</span><span class="op" id="8379467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379470">}</span><span class="op" id="8379471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379474">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8379478">//&nbsp;created&nbsp;by&nbsp;Go,&nbsp;after&nbsp;we&nbsp;wrote&nbsp;the&nbsp;&#34;optional&#34;&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8379533">//&nbsp;descriptor&nbsp;signatures&nbsp;(which&nbsp;are&nbsp;required&nbsp;by&nbsp;OS&nbsp;X)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379589">Name</span><span class="op" id="8379593">:</span>&nbsp;<span class="string" id="8379595">&#34;go-with-datadesc-sig.zip&#34;</span><span class="op" id="8379621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379625">File</span><span class="op" id="8379629">:</span>&nbsp;<span class="op" id="8379631">[</span><span class="op" id="8379632">]</span><span class="ident" id="8379633"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8379644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379649">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379655">Name</span><span class="op" id="8379659">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379664">&#34;foo.txt&#34;</span><span class="op" id="8379673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379679">Content</span><span class="op" id="8379686">:</span>&nbsp;<span class="op" id="8379688">[</span><span class="op" id="8379689">]</span><span class="builtintype" id="8379690">byte</span><span class="op" id="8379694">(</span><span class="string" id="8379695">&#34;foo\n&#34;</span><span class="op" id="8379702">)</span><span class="op" id="8379703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379709">Mode</span><span class="op" id="8379713">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8379718">0666</span><span class="op" id="8379722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379727">}</span><span class="op" id="8379728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379733">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379739">Name</span><span class="op" id="8379743">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379748">&#34;bar.txt&#34;</span><span class="op" id="8379757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379763">Content</span><span class="op" id="8379770">:</span>&nbsp;<span class="op" id="8379772">[</span><span class="op" id="8379773">]</span><span class="builtintype" id="8379774">byte</span><span class="op" id="8379778">(</span><span class="string" id="8379779">&#34;bar\n&#34;</span><span class="op" id="8379786">)</span><span class="op" id="8379787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379793">Mode</span><span class="op" id="8379797">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8379802">0666</span><span class="op" id="8379806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379811">}</span><span class="op" id="8379812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379816">}</span><span class="op" id="8379817">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379820">}</span><span class="op" id="8379821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379828">Name</span><span class="op" id="8379832">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8379836">&#34;Bad-CRC32-in-data-descriptor&#34;</span><span class="op" id="8379866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379870">Source</span><span class="op" id="8379876">:</span>&nbsp;<span class="ident" id="8379878"><a href="/archive/zip/reader_test.go.html#8385671">returnCorruptCRC32Zip</a></span><span class="op" id="8379899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379903">File</span><span class="op" id="8379907">:</span>&nbsp;<span class="op" id="8379909">[</span><span class="op" id="8379910">]</span><span class="ident" id="8379911"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8379922">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379933">Name</span><span class="op" id="8379937">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8379945">&#34;foo.txt&#34;</span><span class="op" id="8379954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379960">Content</span><span class="op" id="8379967">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379972">[</span><span class="op" id="8379973">]</span><span class="builtintype" id="8379974">byte</span><span class="op" id="8379978">(</span><span class="string" id="8379979">&#34;foo\n&#34;</span><span class="op" id="8379986">)</span><span class="op" id="8379987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379993">Mode</span><span class="op" id="8379997">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8380005">0666</span><span class="op" id="8380009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380015">ContentErr</span><span class="op" id="8380025">:</span>&nbsp;<span class="ident" id="8380027"><a href="/archive/zip/reader.go.html#5681595">ErrChecksum</a></span><span class="op" id="8380038">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380043">}</span><span class="op" id="8380044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380055">Name</span><span class="op" id="8380059">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380064">&#34;bar.txt&#34;</span><span class="op" id="8380073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380079">Content</span><span class="op" id="8380086">:</span>&nbsp;<span class="op" id="8380088">[</span><span class="op" id="8380089">]</span><span class="builtintype" id="8380090">byte</span><span class="op" id="8380094">(</span><span class="string" id="8380095">&#34;bar\n&#34;</span><span class="op" id="8380102">)</span><span class="op" id="8380103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380109">Mode</span><span class="op" id="8380113">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8380118">0666</span><span class="op" id="8380122">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380127">}</span><span class="op" id="8380128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380132">}</span><span class="op" id="8380133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380136">}</span><span class="op" id="8380137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8380140">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;verify&nbsp;(and&nbsp;accept&nbsp;valid)&nbsp;crc32s&nbsp;on&nbsp;files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8380200">//&nbsp;with&nbsp;crc32s&nbsp;in&nbsp;their&nbsp;file&nbsp;header&nbsp;(not&nbsp;in&nbsp;data&nbsp;descriptors)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380267">Name</span><span class="op" id="8380271">:</span>&nbsp;<span class="string" id="8380273">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="8380297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380301">File</span><span class="op" id="8380305">:</span>&nbsp;<span class="op" id="8380307">[</span><span class="op" id="8380308">]</span><span class="ident" id="8380309"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8380320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380331">Name</span><span class="op" id="8380335">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380340">&#34;foo.txt&#34;</span><span class="op" id="8380349">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380355">Content</span><span class="op" id="8380362">:</span>&nbsp;<span class="op" id="8380364">[</span><span class="op" id="8380365">]</span><span class="builtintype" id="8380366">byte</span><span class="op" id="8380370">(</span><span class="string" id="8380371">&#34;foo\n&#34;</span><span class="op" id="8380378">)</span><span class="op" id="8380379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380385">Mtime</span><span class="op" id="8380390">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8380394">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="8380413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380419">Mode</span><span class="op" id="8380423">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8380428">0644</span><span class="op" id="8380432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380437">}</span><span class="op" id="8380438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380443">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380449">Name</span><span class="op" id="8380453">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380458">&#34;bar.txt&#34;</span><span class="op" id="8380467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380473">Content</span><span class="op" id="8380480">:</span>&nbsp;<span class="op" id="8380482">[</span><span class="op" id="8380483">]</span><span class="builtintype" id="8380484">byte</span><span class="op" id="8380488">(</span><span class="string" id="8380489">&#34;bar\n&#34;</span><span class="op" id="8380496">)</span><span class="op" id="8380497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380503">Mtime</span><span class="op" id="8380508">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8380512">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="8380531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380537">Mode</span><span class="op" id="8380541">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8380546">0644</span><span class="op" id="8380550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380555">}</span><span class="op" id="8380556">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380560">}</span><span class="op" id="8380561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380564">}</span><span class="op" id="8380565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8380568">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;verify&nbsp;(and&nbsp;reject&nbsp;invalid)&nbsp;crc32s&nbsp;on&nbsp;files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8380630">//&nbsp;with&nbsp;crc32s&nbsp;in&nbsp;their&nbsp;file&nbsp;header&nbsp;(not&nbsp;in&nbsp;data&nbsp;descriptors)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380693">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380697">Name</span><span class="op" id="8380701">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8380705">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="8380729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380733">Source</span><span class="op" id="8380739">:</span>&nbsp;<span class="ident" id="8380741"><a href="/archive/zip/reader_test.go.html#8385866">returnCorruptNotStreamedZip</a></span><span class="op" id="8380768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380772">File</span><span class="op" id="8380776">:</span>&nbsp;<span class="op" id="8380778">[</span><span class="op" id="8380779">]</span><span class="ident" id="8380780"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8380791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380802">Name</span><span class="op" id="8380806">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380814">&#34;foo.txt&#34;</span><span class="op" id="8380823">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380829">Content</span><span class="op" id="8380836">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380841">[</span><span class="op" id="8380842">]</span><span class="builtintype" id="8380843">byte</span><span class="op" id="8380847">(</span><span class="string" id="8380848">&#34;foo\n&#34;</span><span class="op" id="8380855">)</span><span class="op" id="8380856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380862">Mtime</span><span class="op" id="8380867">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380874">&#34;03-08-12&nbsp;16:59:10&#34;</span><span class="op" id="8380893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380899">Mode</span><span class="op" id="8380903">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8380911">0644</span><span class="op" id="8380915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380921">ContentErr</span><span class="op" id="8380931">:</span>&nbsp;<span class="ident" id="8380933"><a href="/archive/zip/reader.go.html#5681595">ErrChecksum</a></span><span class="op" id="8380944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380949">}</span><span class="op" id="8380950">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8380955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380961">Name</span><span class="op" id="8380965">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8380970">&#34;bar.txt&#34;</span><span class="op" id="8380979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380985">Content</span><span class="op" id="8380992">:</span>&nbsp;<span class="op" id="8380994">[</span><span class="op" id="8380995">]</span><span class="builtintype" id="8380996">byte</span><span class="op" id="8381000">(</span><span class="string" id="8381001">&#34;bar\n&#34;</span><span class="op" id="8381008">)</span><span class="op" id="8381009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381015">Mtime</span><span class="op" id="8381020">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8381024">&#34;03-08-12&nbsp;16:59:12&#34;</span><span class="op" id="8381043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381049">Mode</span><span class="op" id="8381053">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8381058">0644</span><span class="op" id="8381062">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381067">}</span><span class="op" id="8381068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381072">}</span><span class="op" id="8381073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381076">}</span><span class="op" id="8381077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381084">Name</span><span class="op" id="8381088">:</span>&nbsp;<span class="string" id="8381090">&#34;zip64.zip&#34;</span><span class="op" id="8381101">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381105">File</span><span class="op" id="8381109">:</span>&nbsp;<span class="op" id="8381111">[</span><span class="op" id="8381112">]</span><span class="ident" id="8381113"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8381124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381135">Name</span><span class="op" id="8381139">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381144">&#34;README&#34;</span><span class="op" id="8381152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381158">Content</span><span class="op" id="8381165">:</span>&nbsp;<span class="op" id="8381167">[</span><span class="op" id="8381168">]</span><span class="builtintype" id="8381169">byte</span><span class="op" id="8381173">(</span><span class="string" id="8381174">&#34;This&nbsp;small&nbsp;file&nbsp;is&nbsp;in&nbsp;ZIP64&nbsp;format.\n&#34;</span><span class="op" id="8381213">)</span><span class="op" id="8381214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381220">Mtime</span><span class="op" id="8381225">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8381229">&#34;08-10-12&nbsp;14:33:32&#34;</span><span class="op" id="8381248">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381254">Mode</span><span class="op" id="8381258">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8381263">0644</span><span class="op" id="8381267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381272">}</span><span class="op" id="8381273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381277">}</span><span class="op" id="8381278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381281">}</span><span class="op" id="8381282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8381285">//&nbsp;Another&nbsp;zip64&nbsp;file&nbsp;with&nbsp;different&nbsp;Extras&nbsp;fields.&nbsp;(golang.org/issue/7069)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381366">Name</span><span class="op" id="8381370">:</span>&nbsp;<span class="string" id="8381372">&#34;zip64-2.zip&#34;</span><span class="op" id="8381385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381389">File</span><span class="op" id="8381393">:</span>&nbsp;<span class="op" id="8381395">[</span><span class="op" id="8381396">]</span><span class="ident" id="8381397"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8381408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381419">Name</span><span class="op" id="8381423">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381428">&#34;README&#34;</span><span class="op" id="8381436">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381442">Content</span><span class="op" id="8381449">:</span>&nbsp;<span class="op" id="8381451">[</span><span class="op" id="8381452">]</span><span class="builtintype" id="8381453">byte</span><span class="op" id="8381457">(</span><span class="string" id="8381458">&#34;This&nbsp;small&nbsp;file&nbsp;is&nbsp;in&nbsp;ZIP64&nbsp;format.\n&#34;</span><span class="op" id="8381497">)</span><span class="op" id="8381498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381504">Mtime</span><span class="op" id="8381509">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8381513">&#34;08-10-12&nbsp;14:33:32&#34;</span><span class="op" id="8381532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381538">Mode</span><span class="op" id="8381542">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8381547">0644</span><span class="op" id="8381551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381556">}</span><span class="op" id="8381557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381561">}</span><span class="op" id="8381562">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381565">}</span><span class="op" id="8381566">,</span><br>
<span class="lineno"></span><span class="op" id="8381568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8381571">var</span>&nbsp;<span class="ident" id="8381575">crossPlatform</span>&nbsp;<span class="op" id="8381589">=</span>&nbsp;<span class="op" id="8381591">[</span><span class="op" id="8381592">]</span><span class="ident" id="8381593"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8381604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381607">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381611">Name</span><span class="op" id="8381615">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381620">&#34;hello&#34;</span><span class="op" id="8381627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381631">Content</span><span class="op" id="8381638">:</span>&nbsp;<span class="op" id="8381640">[</span><span class="op" id="8381641">]</span><span class="builtintype" id="8381642">byte</span><span class="op" id="8381646">(</span><span class="string" id="8381647">&#34;world&nbsp;\r\n&#34;</span><span class="op" id="8381659">)</span><span class="op" id="8381660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381664">Mode</span><span class="op" id="8381668">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8381673">0666</span><span class="op" id="8381677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381680">}</span><span class="op" id="8381681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381684">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381688">Name</span><span class="op" id="8381692">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381697">&#34;dir/bar&#34;</span><span class="op" id="8381706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381710">Content</span><span class="op" id="8381717">:</span>&nbsp;<span class="op" id="8381719">[</span><span class="op" id="8381720">]</span><span class="builtintype" id="8381721">byte</span><span class="op" id="8381725">(</span><span class="string" id="8381726">&#34;foo&nbsp;\r\n&#34;</span><span class="op" id="8381736">)</span><span class="op" id="8381737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381741">Mode</span><span class="op" id="8381745">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8381750">0666</span><span class="op" id="8381754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381757">}</span><span class="op" id="8381758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381761">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381765">Name</span><span class="op" id="8381769">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381774">&#34;dir/empty/&#34;</span><span class="op" id="8381786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381790">Content</span><span class="op" id="8381797">:</span>&nbsp;<span class="op" id="8381799">[</span><span class="op" id="8381800">]</span><span class="builtintype" id="8381801">byte</span><span class="op" id="8381805">{</span><span class="op" id="8381806">}</span><span class="op" id="8381807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381811">Mode</span><span class="op" id="8381815">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381820"><a href="/archive/zip/reader_test.go.html#8376206">os</a></span><span class="op" id="8381822">.</span><span class="ident" id="8381823">ModeDir</span>&nbsp;<span class="op" id="8381831">|</span>&nbsp;<span class="num" id="8381833">0777</span><span class="op" id="8381837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381840">}</span><span class="op" id="8381841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381844">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381848">Name</span><span class="op" id="8381852">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8381857">&#34;readonly&#34;</span><span class="op" id="8381867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381871">Content</span><span class="op" id="8381878">:</span>&nbsp;<span class="op" id="8381880">[</span><span class="op" id="8381881">]</span><span class="builtintype" id="8381882">byte</span><span class="op" id="8381886">(</span><span class="string" id="8381887">&#34;important&nbsp;\r\n&#34;</span><span class="op" id="8381903">)</span><span class="op" id="8381904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381908">Mode</span><span class="op" id="8381912">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8381917">0444</span><span class="op" id="8381921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381924">}</span><span class="op" id="8381925">,</span><br>
<span class="lineno"></span><span class="op" id="8381927">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="8381930">func</span>&nbsp;<span class="ident" id="8381935">TestReader</span><span class="op" id="8381945">(</span><span class="ident" id="8381946">t</span>&nbsp;<span class="op" id="8381948">*</span><span class="ident" id="8381949"><a href="/archive/zip/reader_test.go.html#8376250">testing</a></span><span class="op" id="8381956">.</span><span class="ident" id="8381957">T</span><span class="op" id="8381958">)</span>&nbsp;<span class="op" id="8381960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381963">for</span>&nbsp;<span class="ident" id="8381967">_</span><span class="op" id="8381968">,</span>&nbsp;<span class="ident" id="8381970">zt</span>&nbsp;<span class="op" id="8381973">:=</span>&nbsp;<span class="keyword" id="8381976">range</span>&nbsp;<span class="ident" id="8381982"><a href="/archive/zip/reader_test.go.html#8377469">tests</a></span>&nbsp;<span class="op" id="8381988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381992"><a href="/archive/zip/reader_test.go.html#8382022">readTestZip</a></span><span class="op" id="8382003">(</span><span class="ident" id="8382004"><a href="/archive/zip/reader_test.go.html#8381946">t</a></span><span class="op" id="8382005">,</span>&nbsp;<span class="ident" id="8382007"><a href="/archive/zip/reader_test.go.html#8381970">zt</a></span><span class="op" id="8382009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382012">}</span><br>
<span class="lineno">280</span><span class="op" id="8382014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8382017">func</span>&nbsp;<span class="ident" id="8382022">readTestZip</span><span class="op" id="8382033">(</span><span class="ident" id="8382034">t</span>&nbsp;<span class="op" id="8382036">*</span><span class="ident" id="8382037"><a href="/archive/zip/reader_test.go.html#8376250">testing</a></span><span class="op" id="8382044">.</span><span class="ident" id="8382045">T</span><span class="op" id="8382046">,</span>&nbsp;<span class="ident" id="8382048">zt</span>&nbsp;<span class="ident" id="8382051"><a href="/archive/zip/reader_test.go.html#8376276">ZipTest</a></span><span class="op" id="8382058">)</span>&nbsp;<span class="op" id="8382060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382063">var</span>&nbsp;<span class="ident" id="8382067">z</span>&nbsp;<span class="op" id="8382069">*</span><span class="ident" id="8382070"><a href="/archive/zip/reader.go.html#5681652">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382078">var</span>&nbsp;<span class="ident" id="8382082">err</span>&nbsp;<span class="builtintype" id="8382086">error</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382093">if</span>&nbsp;<span class="ident" id="8382096"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382098">.</span><span class="ident" id="8382099">Source</span>&nbsp;<span class="op" id="8382106">!=</span>&nbsp;<span class="ident" id="8382109">nil</span>&nbsp;<span class="op" id="8382113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382117">rat</span><span class="op" id="8382120">,</span>&nbsp;<span class="ident" id="8382122">size</span>&nbsp;<span class="op" id="8382127">:=</span>&nbsp;<span class="ident" id="8382130"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382132">.</span><span class="ident" id="8382133">Source</span><span class="op" id="8382139">(</span><span class="op" id="8382140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382144"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span><span class="op" id="8382145">,</span>&nbsp;<span class="ident" id="8382147"><a href="/archive/zip/reader_test.go.html#8382082">err</a></span>&nbsp;<span class="op" id="8382151">=</span>&nbsp;<span class="ident" id="8382153"><a href="/archive/zip/reader.go.html#5682445">NewReader</a></span><span class="op" id="8382162">(</span><span class="ident" id="8382163"><a href="/archive/zip/reader_test.go.html#8382117">rat</a></span><span class="op" id="8382166">,</span>&nbsp;<span class="ident" id="8382168"><a href="/archive/zip/reader_test.go.html#8382122">size</a></span><span class="op" id="8382172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382175">}</span>&nbsp;<span class="keyword" id="8382177">else</span>&nbsp;<span class="op" id="8382182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382186">var</span>&nbsp;<span class="ident" id="8382190">rc</span>&nbsp;<span class="op" id="8382193">*</span><span class="ident" id="8382194"><a href="/archive/zip/reader.go.html#5681730">ReadCloser</a></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382207"><a href="/archive/zip/reader_test.go.html#8382190">rc</a></span><span class="op" id="8382209">,</span>&nbsp;<span class="ident" id="8382211"><a href="/archive/zip/reader_test.go.html#8382082">err</a></span>&nbsp;<span class="op" id="8382215">=</span>&nbsp;<span class="ident" id="8382217"><a href="/archive/zip/reader.go.html#5682028">OpenReader</a></span><span class="op" id="8382227">(</span><span class="ident" id="8382228"><a href="/archive/zip/reader_test.go.html#8376212">filepath</a></span><span class="op" id="8382236">.</span><span class="ident" id="8382237">Join</span><span class="op" id="8382241">(</span><span class="string" id="8382242">&#34;testdata&#34;</span><span class="op" id="8382252">,</span>&nbsp;<span class="ident" id="8382254"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382256">.</span><span class="ident" id="8382257">Name</span><span class="op" id="8382261">)</span><span class="op" id="8382262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382266">if</span>&nbsp;<span class="ident" id="8382269"><a href="/archive/zip/reader_test.go.html#8382082">err</a></span>&nbsp;<span class="op" id="8382273">==</span>&nbsp;<span class="ident" id="8382276">nil</span>&nbsp;<span class="op" id="8382280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382285">defer</span>&nbsp;<span class="ident" id="8382291"><a href="/archive/zip/reader_test.go.html#8382190">rc</a></span><span class="op" id="8382293">.</span><span class="ident" id="8382294">Close</span><span class="op" id="8382299">(</span><span class="op" id="8382300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382305"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span>&nbsp;<span class="op" id="8382307">=</span>&nbsp;<span class="op" id="8382309">&amp;</span><span class="ident" id="8382310"><a href="/archive/zip/reader_test.go.html#8382190">rc</a></span><span class="op" id="8382312">.</span><span class="ident" id="8382313">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382322">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382328">if</span>&nbsp;<span class="ident" id="8382331"><a href="/archive/zip/reader_test.go.html#8382082">err</a></span>&nbsp;<span class="op" id="8382335">!=</span>&nbsp;<span class="ident" id="8382338"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382340">.</span><span class="ident" id="8382341">Error</span>&nbsp;<span class="op" id="8382347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382351"><a href="/archive/zip/reader_test.go.html#8382034">t</a></span><span class="op" id="8382352">.</span><span class="ident" id="8382353">Errorf</span><span class="op" id="8382359">(</span><span class="string" id="8382360">&#34;%s:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8382383">,</span>&nbsp;<span class="ident" id="8382385"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382387">.</span><span class="ident" id="8382388">Name</span><span class="op" id="8382392">,</span>&nbsp;<span class="ident" id="8382394"><a href="/archive/zip/reader_test.go.html#8382082">err</a></span><span class="op" id="8382397">,</span>&nbsp;<span class="ident" id="8382399"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382401">.</span><span class="ident" id="8382402">Error</span><span class="op" id="8382407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382411">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382419">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8382423">//&nbsp;bail&nbsp;if&nbsp;file&nbsp;is&nbsp;not&nbsp;zip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382451">if</span>&nbsp;<span class="ident" id="8382454"><a href="/archive/zip/reader_test.go.html#8382082">err</a></span>&nbsp;<span class="op" id="8382458">==</span>&nbsp;<span class="ident" id="8382461"><a href="/archive/zip/reader.go.html#5681470">ErrFormat</a></span>&nbsp;<span class="op" id="8382471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382475">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382483">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8382487">//&nbsp;bail&nbsp;here&nbsp;if&nbsp;no&nbsp;Files&nbsp;expected&nbsp;to&nbsp;be&nbsp;tested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8382535">//&nbsp;(there&nbsp;may&nbsp;actually&nbsp;be&nbsp;files&nbsp;in&nbsp;the&nbsp;zip,&nbsp;but&nbsp;we&nbsp;don&#39;t&nbsp;care)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382599">if</span>&nbsp;<span class="ident" id="8382602"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382604">.</span><span class="ident" id="8382605">File</span>&nbsp;<span class="op" id="8382610">==</span>&nbsp;<span class="ident" id="8382613">nil</span>&nbsp;<span class="op" id="8382617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382621">return</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382633">if</span>&nbsp;<span class="ident" id="8382636"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span><span class="op" id="8382637">.</span><span class="ident" id="8382638">Comment</span>&nbsp;<span class="op" id="8382646">!=</span>&nbsp;<span class="ident" id="8382649"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382651">.</span><span class="ident" id="8382652">Comment</span>&nbsp;<span class="op" id="8382660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382664"><a href="/archive/zip/reader_test.go.html#8382034">t</a></span><span class="op" id="8382665">.</span><span class="ident" id="8382666">Errorf</span><span class="op" id="8382672">(</span><span class="string" id="8382673">&#34;%s:&nbsp;comment=%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8382698">,</span>&nbsp;<span class="ident" id="8382700"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382702">.</span><span class="ident" id="8382703">Name</span><span class="op" id="8382707">,</span>&nbsp;<span class="ident" id="8382709"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span><span class="op" id="8382710">.</span><span class="ident" id="8382711">Comment</span><span class="op" id="8382718">,</span>&nbsp;<span class="ident" id="8382720"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382722">.</span><span class="ident" id="8382723">Comment</span><span class="op" id="8382730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382733">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382736">if</span>&nbsp;<span class="builtinfunc" id="8382739">len</span><span class="op" id="8382742">(</span><span class="ident" id="8382743"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span><span class="op" id="8382744">.</span><span class="ident" id="8382745">File</span><span class="op" id="8382749">)</span>&nbsp;<span class="op" id="8382751">!=</span>&nbsp;<span class="builtinfunc" id="8382754">len</span><span class="op" id="8382757">(</span><span class="ident" id="8382758"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382760">.</span><span class="ident" id="8382761">File</span><span class="op" id="8382765">)</span>&nbsp;<span class="op" id="8382767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382771"><a href="/archive/zip/reader_test.go.html#8382034">t</a></span><span class="op" id="8382772">.</span><span class="ident" id="8382773">Fatalf</span><span class="op" id="8382779">(</span><span class="string" id="8382780">&#34;%s:&nbsp;file&nbsp;count=%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8382808">,</span>&nbsp;<span class="ident" id="8382810"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382812">.</span><span class="ident" id="8382813">Name</span><span class="op" id="8382817">,</span>&nbsp;<span class="builtinfunc" id="8382819">len</span><span class="op" id="8382822">(</span><span class="ident" id="8382823"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span><span class="op" id="8382824">.</span><span class="ident" id="8382825">File</span><span class="op" id="8382829">)</span><span class="op" id="8382830">,</span>&nbsp;<span class="builtinfunc" id="8382832">len</span><span class="op" id="8382835">(</span><span class="ident" id="8382836"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382838">.</span><span class="ident" id="8382839">File</span><span class="op" id="8382843">)</span><span class="op" id="8382844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8382851">//&nbsp;test&nbsp;read&nbsp;of&nbsp;each&nbsp;file</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382878">for</span>&nbsp;<span class="ident" id="8382882">i</span><span class="op" id="8382883">,</span>&nbsp;<span class="ident" id="8382885">ft</span>&nbsp;<span class="op" id="8382888">:=</span>&nbsp;<span class="keyword" id="8382891">range</span>&nbsp;<span class="ident" id="8382897"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382899">.</span><span class="ident" id="8382900">File</span>&nbsp;<span class="op" id="8382905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382909"><a href="/archive/zip/reader_test.go.html#8383224">readTestFile</a></span><span class="op" id="8382921">(</span><span class="ident" id="8382922"><a href="/archive/zip/reader_test.go.html#8382034">t</a></span><span class="op" id="8382923">,</span>&nbsp;<span class="ident" id="8382925"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8382927">,</span>&nbsp;<span class="ident" id="8382929"><a href="/archive/zip/reader_test.go.html#8382885">ft</a></span><span class="op" id="8382931">,</span>&nbsp;<span class="ident" id="8382933"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span><span class="op" id="8382934">.</span><span class="ident" id="8382935">File</span><span class="op" id="8382939">[</span><span class="ident" id="8382940"><a href="/archive/zip/reader_test.go.html#8382882">i</a></span><span class="op" id="8382941">]</span><span class="op" id="8382942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8382949">//&nbsp;test&nbsp;simultaneous&nbsp;reads</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382977">n</span>&nbsp;<span class="op" id="8382979">:=</span>&nbsp;<span class="num" id="8382982">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382985">done</span>&nbsp;<span class="op" id="8382990">:=</span>&nbsp;<span class="builtinfunc" id="8382993">make</span><span class="op" id="8382997">(</span><span class="keyword" id="8382998">chan</span>&nbsp;<span class="builtintype" id="8383003">bool</span><span class="op" id="8383007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383010">for</span>&nbsp;<span class="ident" id="8383014">i</span>&nbsp;<span class="op" id="8383016">:=</span>&nbsp;<span class="num" id="8383019">0</span><span class="op" id="8383020">;</span>&nbsp;<span class="ident" id="8383022"><a href="/archive/zip/reader_test.go.html#8383014">i</a></span>&nbsp;<span class="op" id="8383024">&lt;</span>&nbsp;<span class="num" id="8383026">5</span><span class="op" id="8383027">;</span>&nbsp;<span class="ident" id="8383029"><a href="/archive/zip/reader_test.go.html#8383014">i</a></span><span class="op" id="8383030">++</span>&nbsp;<span class="op" id="8383033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383037">for</span>&nbsp;<span class="ident" id="8383041">j</span><span class="op" id="8383042">,</span>&nbsp;<span class="ident" id="8383044">ft</span>&nbsp;<span class="op" id="8383047">:=</span>&nbsp;<span class="keyword" id="8383050">range</span>&nbsp;<span class="ident" id="8383056"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8383058">.</span><span class="ident" id="8383059">File</span>&nbsp;<span class="op" id="8383064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383069">go</span>&nbsp;<span class="keyword" id="8383072">func</span><span class="op" id="8383076">(</span><span class="ident" id="8383077">j</span>&nbsp;<span class="builtintype" id="8383079">int</span><span class="op" id="8383082">,</span>&nbsp;<span class="ident" id="8383084">ft</span>&nbsp;<span class="ident" id="8383087"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8383098">)</span>&nbsp;<span class="op" id="8383100">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383106"><a href="/archive/zip/reader_test.go.html#8383224">readTestFile</a></span><span class="op" id="8383118">(</span><span class="ident" id="8383119"><a href="/archive/zip/reader_test.go.html#8382034">t</a></span><span class="op" id="8383120">,</span>&nbsp;<span class="ident" id="8383122"><a href="/archive/zip/reader_test.go.html#8382048">zt</a></span><span class="op" id="8383124">,</span>&nbsp;<span class="ident" id="8383126"><a href="/archive/zip/reader_test.go.html#8383084">ft</a></span><span class="op" id="8383128">,</span>&nbsp;<span class="ident" id="8383130"><a href="/archive/zip/reader_test.go.html#8382067">z</a></span><span class="op" id="8383131">.</span><span class="ident" id="8383132">File</span><span class="op" id="8383136">[</span><span class="ident" id="8383137"><a href="/archive/zip/reader_test.go.html#8383077">j</a></span><span class="op" id="8383138">]</span><span class="op" id="8383139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383145"><a href="/archive/zip/reader_test.go.html#8382985">done</a></span>&nbsp;<span class="op" id="8383150">&lt;-</span>&nbsp;<span class="builtintype" id="8383153">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383161">}</span><span class="op" id="8383162">(</span><span class="ident" id="8383163"><a href="/archive/zip/reader_test.go.html#8383041">j</a></span><span class="op" id="8383164">,</span>&nbsp;<span class="ident" id="8383166"><a href="/archive/zip/reader_test.go.html#8383044">ft</a></span><span class="op" id="8383168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383173"><a href="/archive/zip/reader_test.go.html#8382977">n</a></span><span class="op" id="8383174">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383179">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383185">for</span>&nbsp;<span class="op" id="8383189">;</span>&nbsp;<span class="ident" id="8383191"><a href="/archive/zip/reader_test.go.html#8382977">n</a></span>&nbsp;<span class="op" id="8383193">&gt;</span>&nbsp;<span class="num" id="8383195">0</span><span class="op" id="8383196">;</span>&nbsp;<span class="ident" id="8383198"><a href="/archive/zip/reader_test.go.html#8382977">n</a></span><span class="op" id="8383199">--</span>&nbsp;<span class="op" id="8383202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383206">&lt;-</span><span class="ident" id="8383208"><a href="/archive/zip/reader_test.go.html#8382985">done</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383214">}</span><br>
<span class="lineno"></span><span class="op" id="8383216">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="8383219">func</span>&nbsp;<span class="ident" id="8383224">readTestFile</span><span class="op" id="8383236">(</span><span class="ident" id="8383237">t</span>&nbsp;<span class="op" id="8383239">*</span><span class="ident" id="8383240"><a href="/archive/zip/reader_test.go.html#8376250">testing</a></span><span class="op" id="8383247">.</span><span class="ident" id="8383248">T</span><span class="op" id="8383249">,</span>&nbsp;<span class="ident" id="8383251">zt</span>&nbsp;<span class="ident" id="8383254"><a href="/archive/zip/reader_test.go.html#8376276">ZipTest</a></span><span class="op" id="8383261">,</span>&nbsp;<span class="ident" id="8383263">ft</span>&nbsp;<span class="ident" id="8383266"><a href="/archive/zip/reader_test.go.html#8376517">ZipTestFile</a></span><span class="op" id="8383277">,</span>&nbsp;<span class="ident" id="8383279">f</span>&nbsp;<span class="op" id="8383281">*</span><span class="ident" id="8383282"><a href="/archive/zip/reader.go.html#5681778">File</a></span><span class="op" id="8383286">)</span>&nbsp;<span class="op" id="8383288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383291">if</span>&nbsp;<span class="ident" id="8383294"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8383295">.</span><span class="ident" id="8383296">Name</span>&nbsp;<span class="op" id="8383301">!=</span>&nbsp;<span class="ident" id="8383304"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8383306">.</span><span class="ident" id="8383307">Name</span>&nbsp;<span class="op" id="8383312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383316"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8383317">.</span><span class="ident" id="8383318">Errorf</span><span class="op" id="8383324">(</span><span class="string" id="8383325">&#34;%s:&nbsp;name=%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8383347">,</span>&nbsp;<span class="ident" id="8383349"><a href="/archive/zip/reader_test.go.html#8383251">zt</a></span><span class="op" id="8383351">.</span><span class="ident" id="8383352">Name</span><span class="op" id="8383356">,</span>&nbsp;<span class="ident" id="8383358"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8383359">.</span><span class="ident" id="8383360">Name</span><span class="op" id="8383364">,</span>&nbsp;<span class="ident" id="8383366"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8383368">.</span><span class="ident" id="8383369">Name</span><span class="op" id="8383373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383376">}</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383380">if</span>&nbsp;<span class="ident" id="8383383"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8383385">.</span><span class="ident" id="8383386">Mtime</span>&nbsp;<span class="op" id="8383392">!=</span>&nbsp;<span class="string" id="8383395">&#34;&#34;</span>&nbsp;<span class="op" id="8383398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383402">mtime</span><span class="op" id="8383407">,</span>&nbsp;<span class="ident" id="8383409">err</span>&nbsp;<span class="op" id="8383413">:=</span>&nbsp;<span class="ident" id="8383416"><a href="/archive/zip/reader_test.go.html#8376261">time</a></span><span class="op" id="8383420">.</span><span class="ident" id="8383421">Parse</span><span class="op" id="8383426">(</span><span class="string" id="8383427">&#34;01-02-06&nbsp;15:04:05&#34;</span><span class="op" id="8383446">,</span>&nbsp;<span class="ident" id="8383448"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8383450">.</span><span class="ident" id="8383451">Mtime</span><span class="op" id="8383456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383460">if</span>&nbsp;<span class="ident" id="8383463"><a href="/archive/zip/reader_test.go.html#8383409">err</a></span>&nbsp;<span class="op" id="8383467">!=</span>&nbsp;<span class="ident" id="8383470">nil</span>&nbsp;<span class="op" id="8383474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383479"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8383480">.</span><span class="ident" id="8383481">Error</span><span class="op" id="8383486">(</span><span class="ident" id="8383487"><a href="/archive/zip/reader_test.go.html#8383409">err</a></span><span class="op" id="8383490">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383495">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383508">if</span>&nbsp;<span class="ident" id="8383511">ft</span>&nbsp;<span class="op" id="8383514">:=</span>&nbsp;<span class="ident" id="8383517"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8383518">.</span><span class="ident" id="8383519">ModTime</span><span class="op" id="8383526">(</span><span class="op" id="8383527">)</span><span class="op" id="8383528">;</span>&nbsp;<span class="op" id="8383530">!</span><span class="ident" id="8383531"><a href="/archive/zip/reader_test.go.html#8383511">ft</a></span><span class="op" id="8383533">.</span><span class="ident" id="8383534">Equal</span><span class="op" id="8383539">(</span><span class="ident" id="8383540"><a href="/archive/zip/reader_test.go.html#8383402">mtime</a></span><span class="op" id="8383545">)</span>&nbsp;<span class="op" id="8383547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383552"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8383553">.</span><span class="ident" id="8383554">Errorf</span><span class="op" id="8383560">(</span><span class="string" id="8383561">&#34;%s:&nbsp;%s:&nbsp;mtime=%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8383588">,</span>&nbsp;<span class="ident" id="8383590"><a href="/archive/zip/reader_test.go.html#8383251">zt</a></span><span class="op" id="8383592">.</span><span class="ident" id="8383593">Name</span><span class="op" id="8383597">,</span>&nbsp;<span class="ident" id="8383599"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8383600">.</span><span class="ident" id="8383601">Name</span><span class="op" id="8383605">,</span>&nbsp;<span class="ident" id="8383607"><a href="/archive/zip/reader_test.go.html#8383511">ft</a></span><span class="op" id="8383609">,</span>&nbsp;<span class="ident" id="8383611"><a href="/archive/zip/reader_test.go.html#8383402">mtime</a></span><span class="op" id="8383616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383620">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383627"><a href="/archive/zip/reader_test.go.html#8384544">testFileMode</a></span><span class="op" id="8383639">(</span><span class="ident" id="8383640"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8383641">,</span>&nbsp;<span class="ident" id="8383643"><a href="/archive/zip/reader_test.go.html#8383251">zt</a></span><span class="op" id="8383645">.</span><span class="ident" id="8383646">Name</span><span class="op" id="8383650">,</span>&nbsp;<span class="ident" id="8383652"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8383653">,</span>&nbsp;<span class="ident" id="8383655"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8383657">.</span><span class="ident" id="8383658">Mode</span><span class="op" id="8383662">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383666">var</span>&nbsp;<span class="ident" id="8383670">b</span>&nbsp;<span class="ident" id="8383672"><a href="/archive/zip/reader_test.go.html#8376143">bytes</a></span><span class="op" id="8383677">.</span><span class="ident" id="8383678">Buffer</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383686">r</span><span class="op" id="8383687">,</span>&nbsp;<span class="ident" id="8383689">err</span>&nbsp;<span class="op" id="8383693">:=</span>&nbsp;<span class="ident" id="8383696"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8383697">.</span><span class="ident" id="8383698">Open</span><span class="op" id="8383702">(</span><span class="op" id="8383703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383706">if</span>&nbsp;<span class="ident" id="8383709"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span>&nbsp;<span class="op" id="8383713">!=</span>&nbsp;<span class="ident" id="8383716">nil</span>&nbsp;<span class="op" id="8383720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383724"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8383725">.</span><span class="ident" id="8383726">Errorf</span><span class="op" id="8383732">(</span><span class="string" id="8383733">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="8383741">,</span>&nbsp;<span class="ident" id="8383743"><a href="/archive/zip/reader_test.go.html#8383251">zt</a></span><span class="op" id="8383745">.</span><span class="ident" id="8383746">Name</span><span class="op" id="8383750">,</span>&nbsp;<span class="ident" id="8383752"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span><span class="op" id="8383755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383759">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383767">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383771">_</span><span class="op" id="8383772">,</span>&nbsp;<span class="ident" id="8383774"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span>&nbsp;<span class="op" id="8383778">=</span>&nbsp;<span class="ident" id="8383780"><a href="/archive/zip/reader_test.go.html#8376187">io</a></span><span class="op" id="8383782">.</span><span class="ident" id="8383783">Copy</span><span class="op" id="8383787">(</span><span class="op" id="8383788">&amp;</span><span class="ident" id="8383789"><a href="/archive/zip/reader_test.go.html#8383670">b</a></span><span class="op" id="8383790">,</span>&nbsp;<span class="ident" id="8383792"><a href="/archive/zip/reader_test.go.html#8383686">r</a></span><span class="op" id="8383793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383796">if</span>&nbsp;<span class="ident" id="8383799"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span>&nbsp;<span class="op" id="8383803">!=</span>&nbsp;<span class="ident" id="8383806"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8383808">.</span><span class="ident" id="8383809">ContentErr</span>&nbsp;<span class="op" id="8383820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383824"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8383825">.</span><span class="ident" id="8383826">Errorf</span><span class="op" id="8383832">(</span><span class="string" id="8383833">&#34;%s:&nbsp;copying&nbsp;contents:&nbsp;%v&nbsp;(want&nbsp;%v)&#34;</span><span class="op" id="8383869">,</span>&nbsp;<span class="ident" id="8383871"><a href="/archive/zip/reader_test.go.html#8383251">zt</a></span><span class="op" id="8383873">.</span><span class="ident" id="8383874">Name</span><span class="op" id="8383878">,</span>&nbsp;<span class="ident" id="8383880"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span><span class="op" id="8383883">,</span>&nbsp;<span class="ident" id="8383885"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8383887">.</span><span class="ident" id="8383888">ContentErr</span><span class="op" id="8383898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383901">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383904">if</span>&nbsp;<span class="ident" id="8383907"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span>&nbsp;<span class="op" id="8383911">!=</span>&nbsp;<span class="ident" id="8383914">nil</span>&nbsp;<span class="op" id="8383918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383922">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383933"><a href="/archive/zip/reader_test.go.html#8383686">r</a></span><span class="op" id="8383934">.</span><span class="ident" id="8383935">Close</span><span class="op" id="8383940">(</span><span class="op" id="8383941">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383945">size</span>&nbsp;<span class="op" id="8383950">:=</span>&nbsp;<span class="ident" id="8383953">uint64</span><span class="op" id="8383959">(</span><span class="ident" id="8383960"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8383961">.</span><span class="ident" id="8383962">UncompressedSize</span><span class="op" id="8383978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383981">if</span>&nbsp;<span class="ident" id="8383984"><a href="/archive/zip/reader_test.go.html#8383945">size</a></span>&nbsp;<span class="op" id="8383989">==</span>&nbsp;<span class="ident" id="8383992"><a href="/archive/zip/struct.go.html#5698126">uint32max</a></span>&nbsp;<span class="op" id="8384002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384006"><a href="/archive/zip/reader_test.go.html#8383945">size</a></span>&nbsp;<span class="op" id="8384011">=</span>&nbsp;<span class="ident" id="8384013"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8384014">.</span><span class="ident" id="8384015">UncompressedSize64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384038">if</span>&nbsp;<span class="ident" id="8384041">g</span>&nbsp;<span class="op" id="8384043">:=</span>&nbsp;<span class="ident" id="8384046">uint64</span><span class="op" id="8384052">(</span><span class="ident" id="8384053"><a href="/archive/zip/reader_test.go.html#8383670">b</a></span><span class="op" id="8384054">.</span><span class="ident" id="8384055">Len</span><span class="op" id="8384058">(</span><span class="op" id="8384059">)</span><span class="op" id="8384060">)</span><span class="op" id="8384061">;</span>&nbsp;<span class="ident" id="8384063"><a href="/archive/zip/reader_test.go.html#8384041">g</a></span>&nbsp;<span class="op" id="8384065">!=</span>&nbsp;<span class="ident" id="8384068"><a href="/archive/zip/reader_test.go.html#8383945">size</a></span>&nbsp;<span class="op" id="8384073">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384077"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8384078">.</span><span class="ident" id="8384079">Errorf</span><span class="op" id="8384085">(</span><span class="string" id="8384086">&#34;%v:&nbsp;read&nbsp;%v&nbsp;bytes&nbsp;but&nbsp;f.UncompressedSize&nbsp;==&nbsp;%v&#34;</span><span class="op" id="8384134">,</span>&nbsp;<span class="ident" id="8384136"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8384137">.</span><span class="ident" id="8384138">Name</span><span class="op" id="8384142">,</span>&nbsp;<span class="ident" id="8384144"><a href="/archive/zip/reader_test.go.html#8384041">g</a></span><span class="op" id="8384145">,</span>&nbsp;<span class="ident" id="8384147"><a href="/archive/zip/reader_test.go.html#8383945">size</a></span><span class="op" id="8384151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384158">var</span>&nbsp;<span class="ident" id="8384162">c</span>&nbsp;<span class="op" id="8384164">[</span><span class="op" id="8384165">]</span><span class="builtintype" id="8384166">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384172">if</span>&nbsp;<span class="ident" id="8384175"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8384177">.</span><span class="ident" id="8384178">Content</span>&nbsp;<span class="op" id="8384186">!=</span>&nbsp;<span class="ident" id="8384189">nil</span>&nbsp;<span class="op" id="8384193">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384197"><a href="/archive/zip/reader_test.go.html#8384162">c</a></span>&nbsp;<span class="op" id="8384199">=</span>&nbsp;<span class="ident" id="8384201"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8384203">.</span><span class="ident" id="8384204">Content</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384213">}</span>&nbsp;<span class="keyword" id="8384215">else</span>&nbsp;<span class="keyword" id="8384220">if</span>&nbsp;<span class="ident" id="8384223"><a href="/archive/zip/reader_test.go.html#8384162">c</a></span><span class="op" id="8384224">,</span>&nbsp;<span class="ident" id="8384226"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span>&nbsp;<span class="op" id="8384230">=</span>&nbsp;<span class="ident" id="8384232"><a href="/archive/zip/reader_test.go.html#8376193">ioutil</a></span><span class="op" id="8384238">.</span><span class="ident" id="8384239">ReadFile</span><span class="op" id="8384247">(</span><span class="string" id="8384248">&#34;testdata/&#34;</span>&nbsp;<span class="op" id="8384260">+</span>&nbsp;<span class="ident" id="8384262"><a href="/archive/zip/reader_test.go.html#8383263">ft</a></span><span class="op" id="8384264">.</span><span class="ident" id="8384265">File</span><span class="op" id="8384269">)</span><span class="op" id="8384270">;</span>&nbsp;<span class="ident" id="8384272"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span>&nbsp;<span class="op" id="8384276">!=</span>&nbsp;<span class="ident" id="8384279">nil</span>&nbsp;<span class="op" id="8384283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384287"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8384288">.</span><span class="ident" id="8384289">Error</span><span class="op" id="8384294">(</span><span class="ident" id="8384295"><a href="/archive/zip/reader_test.go.html#8383689">err</a></span><span class="op" id="8384298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384302">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384310">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384314">if</span>&nbsp;<span class="ident" id="8384317"><a href="/archive/zip/reader_test.go.html#8383670">b</a></span><span class="op" id="8384318">.</span><span class="ident" id="8384319">Len</span><span class="op" id="8384322">(</span><span class="op" id="8384323">)</span>&nbsp;<span class="op" id="8384325">!=</span>&nbsp;<span class="builtinfunc" id="8384328">len</span><span class="op" id="8384331">(</span><span class="ident" id="8384332"><a href="/archive/zip/reader_test.go.html#8384162">c</a></span><span class="op" id="8384333">)</span>&nbsp;<span class="op" id="8384335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384339"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8384340">.</span><span class="ident" id="8384341">Errorf</span><span class="op" id="8384347">(</span><span class="string" id="8384348">&#34;%s:&nbsp;len=%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8384369">,</span>&nbsp;<span class="ident" id="8384371"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8384372">.</span><span class="ident" id="8384373">Name</span><span class="op" id="8384377">,</span>&nbsp;<span class="ident" id="8384379"><a href="/archive/zip/reader_test.go.html#8383670">b</a></span><span class="op" id="8384380">.</span><span class="ident" id="8384381">Len</span><span class="op" id="8384384">(</span><span class="op" id="8384385">)</span><span class="op" id="8384386">,</span>&nbsp;<span class="builtinfunc" id="8384388">len</span><span class="op" id="8384391">(</span><span class="ident" id="8384392"><a href="/archive/zip/reader_test.go.html#8384162">c</a></span><span class="op" id="8384393">)</span><span class="op" id="8384394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384398">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384406">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384410">for</span>&nbsp;<span class="ident" id="8384414">i</span><span class="op" id="8384415">,</span>&nbsp;<span class="ident" id="8384417">b</span>&nbsp;<span class="op" id="8384419">:=</span>&nbsp;<span class="keyword" id="8384422">range</span>&nbsp;<span class="ident" id="8384428"><a href="/archive/zip/reader_test.go.html#8383670">b</a></span><span class="op" id="8384429">.</span><span class="ident" id="8384430">Bytes</span><span class="op" id="8384435">(</span><span class="op" id="8384436">)</span>&nbsp;<span class="op" id="8384438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384442">if</span>&nbsp;<span class="ident" id="8384445"><a href="/archive/zip/reader_test.go.html#8384417">b</a></span>&nbsp;<span class="op" id="8384447">!=</span>&nbsp;<span class="ident" id="8384450"><a href="/archive/zip/reader_test.go.html#8384162">c</a></span><span class="op" id="8384451">[</span><span class="ident" id="8384452"><a href="/archive/zip/reader_test.go.html#8384414">i</a></span><span class="op" id="8384453">]</span>&nbsp;<span class="op" id="8384455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384460"><a href="/archive/zip/reader_test.go.html#8383237">t</a></span><span class="op" id="8384461">.</span><span class="ident" id="8384462">Errorf</span><span class="op" id="8384468">(</span><span class="string" id="8384469">&#34;%s:&nbsp;content[%d]=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8384497">,</span>&nbsp;<span class="ident" id="8384499"><a href="/archive/zip/reader_test.go.html#8383279">f</a></span><span class="op" id="8384500">.</span><span class="ident" id="8384501">Name</span><span class="op" id="8384505">,</span>&nbsp;<span class="ident" id="8384507"><a href="/archive/zip/reader_test.go.html#8384414">i</a></span><span class="op" id="8384508">,</span>&nbsp;<span class="ident" id="8384510"><a href="/archive/zip/reader_test.go.html#8384417">b</a></span><span class="op" id="8384511">,</span>&nbsp;<span class="ident" id="8384513"><a href="/archive/zip/reader_test.go.html#8384162">c</a></span><span class="op" id="8384514">[</span><span class="ident" id="8384515"><a href="/archive/zip/reader_test.go.html#8384414">i</a></span><span class="op" id="8384516">]</span><span class="op" id="8384517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384522">return</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384534">}</span><br>
<span class="lineno"></span><span class="op" id="8384536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8384539">func</span>&nbsp;<span class="ident" id="8384544">testFileMode</span><span class="op" id="8384556">(</span><span class="ident" id="8384557">t</span>&nbsp;<span class="op" id="8384559">*</span><span class="ident" id="8384560"><a href="/archive/zip/reader_test.go.html#8376250">testing</a></span><span class="op" id="8384567">.</span><span class="ident" id="8384568">T</span><span class="op" id="8384569">,</span>&nbsp;<span class="ident" id="8384571">zipName</span>&nbsp;<span class="builtintype" id="8384579">string</span><span class="op" id="8384585">,</span>&nbsp;<span class="ident" id="8384587">f</span>&nbsp;<span class="op" id="8384589">*</span><span class="ident" id="8384590"><a href="/archive/zip/reader.go.html#5681778">File</a></span><span class="op" id="8384594">,</span>&nbsp;<span class="ident" id="8384596">want</span>&nbsp;<span class="ident" id="8384601"><a href="/archive/zip/reader_test.go.html#8376206">os</a></span><span class="op" id="8384603">.</span><span class="ident" id="8384604">FileMode</span><span class="op" id="8384612">)</span>&nbsp;<span class="op" id="8384614">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384617">mode</span>&nbsp;<span class="op" id="8384622">:=</span>&nbsp;<span class="ident" id="8384625"><a href="/archive/zip/reader_test.go.html#8384587">f</a></span><span class="op" id="8384626">.</span><span class="ident" id="8384627">Mode</span><span class="op" id="8384631">(</span><span class="op" id="8384632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384635">if</span>&nbsp;<span class="ident" id="8384638"><a href="/archive/zip/reader_test.go.html#8384596">want</a></span>&nbsp;<span class="op" id="8384643">==</span>&nbsp;<span class="num" id="8384646">0</span>&nbsp;<span class="op" id="8384648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384652"><a href="/archive/zip/reader_test.go.html#8384557">t</a></span><span class="op" id="8384653">.</span><span class="ident" id="8384654">Errorf</span><span class="op" id="8384660">(</span><span class="string" id="8384661">&#34;%s:&nbsp;%s&nbsp;mode:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;none&#34;</span><span class="op" id="8384693">,</span>&nbsp;<span class="ident" id="8384695"><a href="/archive/zip/reader_test.go.html#8384571">zipName</a></span><span class="op" id="8384702">,</span>&nbsp;<span class="ident" id="8384704"><a href="/archive/zip/reader_test.go.html#8384587">f</a></span><span class="op" id="8384705">.</span><span class="ident" id="8384706">Name</span><span class="op" id="8384710">,</span>&nbsp;<span class="ident" id="8384712"><a href="/archive/zip/reader_test.go.html#8384617">mode</a></span><span class="op" id="8384716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384719">}</span>&nbsp;<span class="keyword" id="8384721">else</span>&nbsp;<span class="keyword" id="8384726">if</span>&nbsp;<span class="ident" id="8384729"><a href="/archive/zip/reader_test.go.html#8384617">mode</a></span>&nbsp;<span class="op" id="8384734">!=</span>&nbsp;<span class="ident" id="8384737"><a href="/archive/zip/reader_test.go.html#8384596">want</a></span>&nbsp;<span class="op" id="8384742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384746"><a href="/archive/zip/reader_test.go.html#8384557">t</a></span><span class="op" id="8384747">.</span><span class="ident" id="8384748">Errorf</span><span class="op" id="8384754">(</span><span class="string" id="8384755">&#34;%s:&nbsp;%s&nbsp;mode:&nbsp;want&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8384785">,</span>&nbsp;<span class="ident" id="8384787"><a href="/archive/zip/reader_test.go.html#8384571">zipName</a></span><span class="op" id="8384794">,</span>&nbsp;<span class="ident" id="8384796"><a href="/archive/zip/reader_test.go.html#8384587">f</a></span><span class="op" id="8384797">.</span><span class="ident" id="8384798">Name</span><span class="op" id="8384802">,</span>&nbsp;<span class="ident" id="8384804"><a href="/archive/zip/reader_test.go.html#8384596">want</a></span><span class="op" id="8384808">,</span>&nbsp;<span class="ident" id="8384810"><a href="/archive/zip/reader_test.go.html#8384617">mode</a></span><span class="op" id="8384814">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384817">}</span><br>
<span class="lineno"></span><span class="op" id="8384819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8384822">func</span>&nbsp;<span class="ident" id="8384827">TestInvalidFiles</span><span class="op" id="8384843">(</span><span class="ident" id="8384844">t</span>&nbsp;<span class="op" id="8384846">*</span><span class="ident" id="8384847"><a href="/archive/zip/reader_test.go.html#8376250">testing</a></span><span class="op" id="8384854">.</span><span class="ident" id="8384855">T</span><span class="op" id="8384856">)</span>&nbsp;<span class="op" id="8384858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384861">const</span>&nbsp;<span class="ident" id="8384867">size</span>&nbsp;<span class="op" id="8384872">=</span>&nbsp;<span class="num" id="8384874">1024</span>&nbsp;<span class="op" id="8384879">*</span>&nbsp;<span class="num" id="8384881">70</span>&nbsp;<span class="comment" id="8384884">//&nbsp;70kb</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384893">b</span>&nbsp;<span class="op" id="8384895">:=</span>&nbsp;<span class="builtinfunc" id="8384898">make</span><span class="op" id="8384902">(</span><span class="op" id="8384903">[</span><span class="op" id="8384904">]</span><span class="builtintype" id="8384905">byte</span><span class="op" id="8384909">,</span>&nbsp;<span class="ident" id="8384911"><a href="/archive/zip/reader_test.go.html#8384867">size</a></span><span class="op" id="8384915">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8384919">//&nbsp;zeroes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384930">_</span><span class="op" id="8384931">,</span>&nbsp;<span class="ident" id="8384933">err</span>&nbsp;<span class="op" id="8384937">:=</span>&nbsp;<span class="ident" id="8384940"><a href="/archive/zip/reader.go.html#5682445">NewReader</a></span><span class="op" id="8384949">(</span><span class="ident" id="8384950"><a href="/archive/zip/reader_test.go.html#8376143">bytes</a></span><span class="op" id="8384955">.</span><span class="ident" id="8384956">NewReader</span><span class="op" id="8384965">(</span><span class="ident" id="8384966"><a href="/archive/zip/reader_test.go.html#8384893">b</a></span><span class="op" id="8384967">)</span><span class="op" id="8384968">,</span>&nbsp;<span class="ident" id="8384970"><a href="/archive/zip/reader_test.go.html#8384867">size</a></span><span class="op" id="8384974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384977">if</span>&nbsp;<span class="ident" id="8384980"><a href="/archive/zip/reader_test.go.html#8384933">err</a></span>&nbsp;<span class="op" id="8384984">!=</span>&nbsp;<span class="ident" id="8384987"><a href="/archive/zip/reader.go.html#5681470">ErrFormat</a></span>&nbsp;<span class="op" id="8384997">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385001"><a href="/archive/zip/reader_test.go.html#8384844">t</a></span><span class="op" id="8385002">.</span><span class="ident" id="8385003">Errorf</span><span class="op" id="8385009">(</span><span class="string" id="8385010">&#34;zeroes:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8385037">,</span>&nbsp;<span class="ident" id="8385039"><a href="/archive/zip/reader_test.go.html#8384933">err</a></span><span class="op" id="8385042">,</span>&nbsp;<span class="ident" id="8385044"><a href="/archive/zip/reader.go.html#5681470">ErrFormat</a></span><span class="op" id="8385053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8385060">//&nbsp;repeated&nbsp;directoryEndSignatures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385096">sig</span>&nbsp;<span class="op" id="8385100">:=</span>&nbsp;<span class="builtinfunc" id="8385103">make</span><span class="op" id="8385107">(</span><span class="op" id="8385108">[</span><span class="op" id="8385109">]</span><span class="builtintype" id="8385110">byte</span><span class="op" id="8385114">,</span>&nbsp;<span class="num" id="8385116">4</span><span class="op" id="8385117">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385120"><a href="/archive/zip/reader_test.go.html#8376152">binary</a></span><span class="op" id="8385126">.</span><span class="ident" id="8385127">LittleEndian</span><span class="op" id="8385139">.</span><span class="ident" id="8385140">PutUint32</span><span class="op" id="8385149">(</span><span class="ident" id="8385150"><a href="/archive/zip/reader_test.go.html#8385096">sig</a></span><span class="op" id="8385153">,</span>&nbsp;<span class="ident" id="8385155"><a href="/archive/zip/struct.go.html#5697155">directoryEndSignature</a></span><span class="op" id="8385176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385179">for</span>&nbsp;<span class="ident" id="8385183">i</span>&nbsp;<span class="op" id="8385185">:=</span>&nbsp;<span class="num" id="8385188">0</span><span class="op" id="8385189">;</span>&nbsp;<span class="ident" id="8385191"><a href="/archive/zip/reader_test.go.html#8385183">i</a></span>&nbsp;<span class="op" id="8385193">&lt;</span>&nbsp;<span class="ident" id="8385195"><a href="/archive/zip/reader_test.go.html#8384867">size</a></span><span class="op" id="8385199">-</span><span class="num" id="8385200">4</span><span class="op" id="8385201">;</span>&nbsp;<span class="ident" id="8385203"><a href="/archive/zip/reader_test.go.html#8385183">i</a></span>&nbsp;<span class="op" id="8385205">+=</span>&nbsp;<span class="num" id="8385208">4</span>&nbsp;<span class="op" id="8385210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8385214">copy</span><span class="op" id="8385218">(</span><span class="ident" id="8385219"><a href="/archive/zip/reader_test.go.html#8384893">b</a></span><span class="op" id="8385220">[</span><span class="ident" id="8385221"><a href="/archive/zip/reader_test.go.html#8385183">i</a></span><span class="op" id="8385222">:</span><span class="ident" id="8385223"><a href="/archive/zip/reader_test.go.html#8385183">i</a></span><span class="op" id="8385224">+</span><span class="num" id="8385225">4</span><span class="op" id="8385226">]</span><span class="op" id="8385227">,</span>&nbsp;<span class="ident" id="8385229"><a href="/archive/zip/reader_test.go.html#8385096">sig</a></span><span class="op" id="8385232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385238">_</span><span class="op" id="8385239">,</span>&nbsp;<span class="ident" id="8385241"><a href="/archive/zip/reader_test.go.html#8384933">err</a></span>&nbsp;<span class="op" id="8385245">=</span>&nbsp;<span class="ident" id="8385247"><a href="/archive/zip/reader.go.html#5682445">NewReader</a></span><span class="op" id="8385256">(</span><span class="ident" id="8385257"><a href="/archive/zip/reader_test.go.html#8376143">bytes</a></span><span class="op" id="8385262">.</span><span class="ident" id="8385263">NewReader</span><span class="op" id="8385272">(</span><span class="ident" id="8385273"><a href="/archive/zip/reader_test.go.html#8384893">b</a></span><span class="op" id="8385274">)</span><span class="op" id="8385275">,</span>&nbsp;<span class="ident" id="8385277"><a href="/archive/zip/reader_test.go.html#8384867">size</a></span><span class="op" id="8385281">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385284">if</span>&nbsp;<span class="ident" id="8385287"><a href="/archive/zip/reader_test.go.html#8384933">err</a></span>&nbsp;<span class="op" id="8385291">!=</span>&nbsp;<span class="ident" id="8385294"><a href="/archive/zip/reader.go.html#5681470">ErrFormat</a></span>&nbsp;<span class="op" id="8385304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385308"><a href="/archive/zip/reader_test.go.html#8384844">t</a></span><span class="op" id="8385309">.</span><span class="ident" id="8385310">Errorf</span><span class="op" id="8385316">(</span><span class="string" id="8385317">&#34;sigs:&nbsp;error=%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8385342">,</span>&nbsp;<span class="ident" id="8385344"><a href="/archive/zip/reader_test.go.html#8384933">err</a></span><span class="op" id="8385347">,</span>&nbsp;<span class="ident" id="8385349"><a href="/archive/zip/reader.go.html#5681470">ErrFormat</a></span><span class="op" id="8385358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385361">}</span><br>
<span class="lineno"></span><span class="op" id="8385363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span><span class="keyword" id="8385366">func</span>&nbsp;<span class="ident" id="8385371">messWith</span><span class="op" id="8385379">(</span><span class="ident" id="8385380">fileName</span>&nbsp;<span class="builtintype" id="8385389">string</span><span class="op" id="8385395">,</span>&nbsp;<span class="ident" id="8385397">corrupter</span>&nbsp;<span class="keyword" id="8385407">func</span><span class="op" id="8385411">(</span><span class="ident" id="8385412">b</span>&nbsp;<span class="op" id="8385414">[</span><span class="op" id="8385415">]</span><span class="builtintype" id="8385416">byte</span><span class="op" id="8385420">)</span><span class="op" id="8385421">)</span>&nbsp;<span class="op" id="8385423">(</span><span class="ident" id="8385424">r</span>&nbsp;<span class="ident" id="8385426"><a href="/archive/zip/reader_test.go.html#8376187">io</a></span><span class="op" id="8385428">.</span><span class="ident" id="8385429">ReaderAt</span><span class="op" id="8385437">,</span>&nbsp;<span class="ident" id="8385439">size</span>&nbsp;<span class="ident" id="8385444">int64</span><span class="op" id="8385449">)</span>&nbsp;<span class="op" id="8385451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385454">data</span><span class="op" id="8385458">,</span>&nbsp;<span class="ident" id="8385460">err</span>&nbsp;<span class="op" id="8385464">:=</span>&nbsp;<span class="ident" id="8385467"><a href="/archive/zip/reader_test.go.html#8376193">ioutil</a></span><span class="op" id="8385473">.</span><span class="ident" id="8385474">ReadFile</span><span class="op" id="8385482">(</span><span class="ident" id="8385483"><a href="/archive/zip/reader_test.go.html#8376212">filepath</a></span><span class="op" id="8385491">.</span><span class="ident" id="8385492">Join</span><span class="op" id="8385496">(</span><span class="string" id="8385497">&#34;testdata&#34;</span><span class="op" id="8385507">,</span>&nbsp;<span class="ident" id="8385509"><a href="/archive/zip/reader_test.go.html#8385380">fileName</a></span><span class="op" id="8385517">)</span><span class="op" id="8385518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385521">if</span>&nbsp;<span class="ident" id="8385524"><a href="/archive/zip/reader_test.go.html#8385460">err</a></span>&nbsp;<span class="op" id="8385528">!=</span>&nbsp;<span class="ident" id="8385531">nil</span>&nbsp;<span class="op" id="8385535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8385539">panic</span><span class="op" id="8385544">(</span><span class="string" id="8385545">&#34;Error&nbsp;reading&nbsp;&#34;</span>&nbsp;<span class="op" id="8385562">+</span>&nbsp;<span class="ident" id="8385564"><a href="/archive/zip/reader_test.go.html#8385380">fileName</a></span>&nbsp;<span class="op" id="8385573">+</span>&nbsp;<span class="string" id="8385575">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="8385580">+</span>&nbsp;<span class="ident" id="8385582"><a href="/archive/zip/reader_test.go.html#8385460">err</a></span><span class="op" id="8385585">.</span><span class="ident" id="8385586">Error</span><span class="op" id="8385591">(</span><span class="op" id="8385592">)</span><span class="op" id="8385593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385596">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385599"><a href="/archive/zip/reader_test.go.html#8385397">corrupter</a></span><span class="op" id="8385608">(</span><span class="ident" id="8385609"><a href="/archive/zip/reader_test.go.html#8385454">data</a></span><span class="op" id="8385613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385616">return</span>&nbsp;<span class="ident" id="8385623"><a href="/archive/zip/reader_test.go.html#8376143">bytes</a></span><span class="op" id="8385628">.</span><span class="ident" id="8385629">NewReader</span><span class="op" id="8385638">(</span><span class="ident" id="8385639"><a href="/archive/zip/reader_test.go.html#8385454">data</a></span><span class="op" id="8385643">)</span><span class="op" id="8385644">,</span>&nbsp;<span class="ident" id="8385646">int64</span><span class="op" id="8385651">(</span><span class="builtinfunc" id="8385652">len</span><span class="op" id="8385655">(</span><span class="ident" id="8385656"><a href="/archive/zip/reader_test.go.html#8385454">data</a></span><span class="op" id="8385660">)</span><span class="op" id="8385661">)</span><br>
<span class="lineno"></span><span class="op" id="8385663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8385666">func</span>&nbsp;<span class="ident" id="8385671">returnCorruptCRC32Zip</span><span class="op" id="8385692">(</span><span class="op" id="8385693">)</span>&nbsp;<span class="op" id="8385695">(</span><span class="ident" id="8385696">r</span>&nbsp;<span class="ident" id="8385698"><a href="/archive/zip/reader_test.go.html#8376187">io</a></span><span class="op" id="8385700">.</span><span class="ident" id="8385701">ReaderAt</span><span class="op" id="8385709">,</span>&nbsp;<span class="ident" id="8385711">size</span>&nbsp;<span class="ident" id="8385716">int64</span><span class="op" id="8385721">)</span>&nbsp;<span class="op" id="8385723">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385726">return</span>&nbsp;<span class="ident" id="8385733"><a href="/archive/zip/reader_test.go.html#8385371">messWith</a></span><span class="op" id="8385741">(</span><span class="string" id="8385742">&#34;go-with-datadesc-sig.zip&#34;</span><span class="op" id="8385768">,</span>&nbsp;<span class="keyword" id="8385770">func</span><span class="op" id="8385774">(</span><span class="ident" id="8385775">b</span>&nbsp;<span class="op" id="8385777">[</span><span class="op" id="8385778">]</span><span class="builtintype" id="8385779">byte</span><span class="op" id="8385783">)</span>&nbsp;<span class="op" id="8385785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8385789">//&nbsp;Corrupt&nbsp;one&nbsp;of&nbsp;the&nbsp;CRC32s&nbsp;in&nbsp;the&nbsp;data&nbsp;descriptor:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385844"><a href="/archive/zip/reader_test.go.html#8385775">b</a></span><span class="op" id="8385845">[</span><span class="num" id="8385846">0x2d</span><span class="op" id="8385850">]</span><span class="op" id="8385851">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385855">}</span><span class="op" id="8385856">)</span><br>
<span class="lineno"></span><span class="op" id="8385858">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="8385861">func</span>&nbsp;<span class="ident" id="8385866">returnCorruptNotStreamedZip</span><span class="op" id="8385893">(</span><span class="op" id="8385894">)</span>&nbsp;<span class="op" id="8385896">(</span><span class="ident" id="8385897">r</span>&nbsp;<span class="ident" id="8385899"><a href="/archive/zip/reader_test.go.html#8376187">io</a></span><span class="op" id="8385901">.</span><span class="ident" id="8385902">ReaderAt</span><span class="op" id="8385910">,</span>&nbsp;<span class="ident" id="8385912">size</span>&nbsp;<span class="ident" id="8385917">int64</span><span class="op" id="8385922">)</span>&nbsp;<span class="op" id="8385924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385927">return</span>&nbsp;<span class="ident" id="8385934"><a href="/archive/zip/reader_test.go.html#8385371">messWith</a></span><span class="op" id="8385942">(</span><span class="string" id="8385943">&#34;crc32-not-streamed.zip&#34;</span><span class="op" id="8385967">,</span>&nbsp;<span class="keyword" id="8385969">func</span><span class="op" id="8385973">(</span><span class="ident" id="8385974">b</span>&nbsp;<span class="op" id="8385976">[</span><span class="op" id="8385977">]</span><span class="builtintype" id="8385978">byte</span><span class="op" id="8385982">)</span>&nbsp;<span class="op" id="8385984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8385988">//&nbsp;Corrupt&nbsp;foo.txt&#39;s&nbsp;final&nbsp;crc32&nbsp;byte,&nbsp;in&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8386037">//&nbsp;the&nbsp;file&nbsp;header&nbsp;and&nbsp;TOC.&nbsp;(0x7e&nbsp;-&gt;&nbsp;0x7f)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8386082"><a href="/archive/zip/reader_test.go.html#8385974">b</a></span><span class="op" id="8386083">[</span><span class="num" id="8386084">0x11</span><span class="op" id="8386088">]</span><span class="op" id="8386089">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8386094"><a href="/archive/zip/reader_test.go.html#8385974">b</a></span><span class="op" id="8386095">[</span><span class="num" id="8386096">0x9d</span><span class="op" id="8386100">]</span><span class="op" id="8386101">++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8386107">//&nbsp;TODO(bradfitz):&nbsp;add&nbsp;a&nbsp;new&nbsp;test&nbsp;that&nbsp;only&nbsp;corrupts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8386162">//&nbsp;one&nbsp;of&nbsp;these&nbsp;values,&nbsp;and&nbsp;verify&nbsp;that&nbsp;that&#39;s&nbsp;also&nbsp;an</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8386219">//&nbsp;error.&nbsp;Currently,&nbsp;the&nbsp;reader&nbsp;code&nbsp;doesn&#39;t&nbsp;verify&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8386277">//&nbsp;fileheader&nbsp;and&nbsp;TOC&#39;s&nbsp;crc32&nbsp;match&nbsp;if&nbsp;they&#39;re&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8386331">//&nbsp;non-zero&nbsp;and&nbsp;only&nbsp;the&nbsp;second&nbsp;line&nbsp;above,&nbsp;the&nbsp;TOC,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8386386">//&nbsp;is&nbsp;what&nbsp;matters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8386407">}</span><span class="op" id="8386408">)</span><br>
<span class="lineno">465</span><span class="op" id="8386410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8386413">//&nbsp;rZipBytes&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;recursive&nbsp;zip&nbsp;file,&nbsp;without</span><br>
<span class="lineno"></span><span class="comment" id="8386477">//&nbsp;putting&nbsp;it&nbsp;on&nbsp;disk&nbsp;and&nbsp;triggering&nbsp;certain&nbsp;virus&nbsp;scanners.</span><br>
<span class="lineno"></span><span class="keyword" id="8386538">func</span>&nbsp;<span class="ident" id="8386543">rZipBytes</span><span class="op" id="8386552">(</span><span class="op" id="8386553">)</span>&nbsp;<span class="op" id="8386555">[</span><span class="op" id="8386556">]</span><span class="builtintype" id="8386557">byte</span>&nbsp;<span class="op" id="8386562">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8386565">s</span>&nbsp;<span class="op" id="8386567">:=</span>&nbsp;<span class="string" id="8386570">`<br>
<span class="lineno"></span>0000000&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4<br>
<span class="lineno"></span>0000010&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f<br>
<span class="lineno"></span>0000020&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00&nbsp;25&nbsp;00&nbsp;da&nbsp;ff&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00<br>
<span class="lineno"></span>0000030&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00<br>
<span class="lineno">475</span>0000040&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00<br>
<span class="lineno"></span>0000050&nbsp;2f&nbsp;00&nbsp;d0&nbsp;ff&nbsp;00&nbsp;25&nbsp;00&nbsp;da&nbsp;ff&nbsp;50&nbsp;4b&nbsp;03&nbsp;04&nbsp;14&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000060&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8<br>
<span class="lineno"></span>0000070&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a&nbsp;69&nbsp;70&nbsp;00&nbsp;2f<br>
<span class="lineno"></span>0000080&nbsp;00&nbsp;d0&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e<br>
<span class="lineno">480</span>0000090&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;14&nbsp;00&nbsp;eb<br>
<span class="lineno"></span>00000a0&nbsp;ff&nbsp;c2&nbsp;54&nbsp;8e&nbsp;57&nbsp;39&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff&nbsp;00&nbsp;05&nbsp;00&nbsp;fa&nbsp;ff<br>
<span class="lineno"></span>00000b0&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42<br>
<span class="lineno"></span>00000c0&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14<br>
<span class="lineno"></span>00000d0&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;14&nbsp;00&nbsp;eb&nbsp;ff&nbsp;42&nbsp;88&nbsp;21<br>
<span class="lineno">485</span>00000e0&nbsp;c4&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;34&nbsp;00&nbsp;cb<br>
<span class="lineno"></span>00000f0&nbsp;ff&nbsp;42&nbsp;88&nbsp;21&nbsp;c4&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff<br>
<span class="lineno"></span>0000100&nbsp;00&nbsp;34&nbsp;00&nbsp;cb&nbsp;ff&nbsp;42&nbsp;e8&nbsp;21&nbsp;5e&nbsp;0f&nbsp;00&nbsp;00&nbsp;00&nbsp;ff&nbsp;ff&nbsp;0a<br>
<span class="lineno"></span>0000110&nbsp;f0&nbsp;66&nbsp;64&nbsp;12&nbsp;61&nbsp;c0&nbsp;15&nbsp;dc&nbsp;e8&nbsp;a0&nbsp;48&nbsp;bf&nbsp;48&nbsp;af&nbsp;2a&nbsp;b3<br>
<span class="lineno"></span>0000120&nbsp;20&nbsp;c0&nbsp;9b&nbsp;95&nbsp;0d&nbsp;c4&nbsp;67&nbsp;04&nbsp;42&nbsp;53&nbsp;06&nbsp;06&nbsp;06&nbsp;40&nbsp;00&nbsp;06<br>
<span class="lineno">490</span>0000130&nbsp;00&nbsp;f9&nbsp;ff&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;42&nbsp;e8&nbsp;21&nbsp;5e&nbsp;0f&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000140&nbsp;00&nbsp;ff&nbsp;ff&nbsp;0a&nbsp;f0&nbsp;66&nbsp;64&nbsp;12&nbsp;61&nbsp;c0&nbsp;15&nbsp;dc&nbsp;e8&nbsp;a0&nbsp;48&nbsp;bf<br>
<span class="lineno"></span>0000150&nbsp;48&nbsp;af&nbsp;2a&nbsp;b3&nbsp;20&nbsp;c0&nbsp;9b&nbsp;95&nbsp;0d&nbsp;c4&nbsp;67&nbsp;04&nbsp;42&nbsp;53&nbsp;06&nbsp;06<br>
<span class="lineno"></span>0000160&nbsp;06&nbsp;40&nbsp;00&nbsp;06&nbsp;00&nbsp;f9&nbsp;ff&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;50&nbsp;4b&nbsp;01<br>
<span class="lineno"></span>0000170&nbsp;02&nbsp;14&nbsp;00&nbsp;14&nbsp;00&nbsp;00&nbsp;00&nbsp;08&nbsp;00&nbsp;08&nbsp;03&nbsp;64&nbsp;3c&nbsp;f9&nbsp;f4&nbsp;89<br>
<span class="lineno">495</span>0000180&nbsp;64&nbsp;48&nbsp;01&nbsp;00&nbsp;00&nbsp;b8&nbsp;01&nbsp;00&nbsp;00&nbsp;07&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00<br>
<span class="lineno"></span>0000190&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;72&nbsp;2f&nbsp;72&nbsp;2e&nbsp;7a<br>
<span class="lineno"></span>00001a0&nbsp;69&nbsp;70&nbsp;50&nbsp;4b&nbsp;05&nbsp;06&nbsp;00&nbsp;00&nbsp;00&nbsp;00&nbsp;01&nbsp;00&nbsp;01&nbsp;00&nbsp;35&nbsp;00<br>
<span class="lineno"></span>00001b0&nbsp;00&nbsp;00&nbsp;6d&nbsp;01&nbsp;00&nbsp;00&nbsp;00&nbsp;00`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8388118"><a href="/archive/zip/reader_test.go.html#8386565">s</a></span>&nbsp;<span class="op" id="8388120">=</span>&nbsp;<span class="ident" id="8388122"><a href="/archive/zip/reader_test.go.html#8376229">regexp</a></span><span class="op" id="8388128">.</span><span class="ident" id="8388129">MustCompile</span><span class="op" id="8388140">(</span><span class="string" id="8388141">`[0-9a-f]{7}`</span><span class="op" id="8388154">)</span><span class="op" id="8388155">.</span><span class="ident" id="8388156">ReplaceAllString</span><span class="op" id="8388172">(</span><span class="ident" id="8388173"><a href="/archive/zip/reader_test.go.html#8386565">s</a></span><span class="op" id="8388174">,</span>&nbsp;<span class="string" id="8388176">&#34;&#34;</span><span class="op" id="8388178">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8388181"><a href="/archive/zip/reader_test.go.html#8386565">s</a></span>&nbsp;<span class="op" id="8388183">=</span>&nbsp;<span class="ident" id="8388185"><a href="/archive/zip/reader_test.go.html#8376229">regexp</a></span><span class="op" id="8388191">.</span><span class="ident" id="8388192">MustCompile</span><span class="op" id="8388203">(</span><span class="string" id="8388204">`\s+`</span><span class="op" id="8388209">)</span><span class="op" id="8388210">.</span><span class="ident" id="8388211">ReplaceAllString</span><span class="op" id="8388227">(</span><span class="ident" id="8388228"><a href="/archive/zip/reader_test.go.html#8386565">s</a></span><span class="op" id="8388229">,</span>&nbsp;<span class="string" id="8388231">&#34;&#34;</span><span class="op" id="8388233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8388236">b</span><span class="op" id="8388237">,</span>&nbsp;<span class="ident" id="8388239">err</span>&nbsp;<span class="op" id="8388243">:=</span>&nbsp;<span class="ident" id="8388246"><a href="/archive/zip/reader_test.go.html#8376171">hex</a></span><span class="op" id="8388249">.</span><span class="ident" id="8388250">DecodeString</span><span class="op" id="8388262">(</span><span class="ident" id="8388263"><a href="/archive/zip/reader_test.go.html#8386565">s</a></span><span class="op" id="8388264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8388267">if</span>&nbsp;<span class="ident" id="8388270"><a href="/archive/zip/reader_test.go.html#8388239">err</a></span>&nbsp;<span class="op" id="8388274">!=</span>&nbsp;<span class="ident" id="8388277">nil</span>&nbsp;<span class="op" id="8388281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8388285">panic</span><span class="op" id="8388290">(</span><span class="ident" id="8388291"><a href="/archive/zip/reader_test.go.html#8388239">err</a></span><span class="op" id="8388294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8388297">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8388300">return</span>&nbsp;<span class="ident" id="8388307"><a href="/archive/zip/reader_test.go.html#8388236">b</a></span><br>
<span class="lineno"></span><span class="op" id="8388309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8388312">func</span>&nbsp;<span class="ident" id="8388317">returnRecursiveZip</span><span class="op" id="8388335">(</span><span class="op" id="8388336">)</span>&nbsp;<span class="op" id="8388338">(</span><span class="ident" id="8388339">r</span>&nbsp;<span class="ident" id="8388341"><a href="/archive/zip/reader_test.go.html#8376187">io</a></span><span class="op" id="8388343">.</span><span class="ident" id="8388344">ReaderAt</span><span class="op" id="8388352">,</span>&nbsp;<span class="ident" id="8388354">size</span>&nbsp;<span class="ident" id="8388359">int64</span><span class="op" id="8388364">)</span>&nbsp;<span class="op" id="8388366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8388369">b</span>&nbsp;<span class="op" id="8388371">:=</span>&nbsp;<span class="ident" id="8388374"><a href="/archive/zip/reader_test.go.html#8386543">rZipBytes</a></span><span class="op" id="8388383">(</span><span class="op" id="8388384">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8388387">return</span>&nbsp;<span class="ident" id="8388394"><a href="/archive/zip/reader_test.go.html#8376143">bytes</a></span><span class="op" id="8388399">.</span><span class="ident" id="8388400">NewReader</span><span class="op" id="8388409">(</span><span class="ident" id="8388410"><a href="/archive/zip/reader_test.go.html#8388369">b</a></span><span class="op" id="8388411">)</span><span class="op" id="8388412">,</span>&nbsp;<span class="ident" id="8388414">int64</span><span class="op" id="8388419">(</span><span class="builtinfunc" id="8388420">len</span><span class="op" id="8388423">(</span><span class="ident" id="8388424"><a href="/archive/zip/reader_test.go.html#8388369">b</a></span><span class="op" id="8388425">)</span><span class="op" id="8388426">)</span><br>
<span class="lineno"></span><span class="op" id="8388428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8388431">func</span>&nbsp;<span class="ident" id="8388436">TestIssue8186</span><span class="op" id="8388449">(</span><span class="ident" id="8388450">t</span>&nbsp;<span class="op" id="8388452">*</span><span class="ident" id="8388453"><a href="/archive/zip/reader_test.go.html#8376250">testing</a></span><span class="op" id="8388460">.</span><span class="ident" id="8388461">T</span><span class="op" id="8388462">)</span>&nbsp;<span class="op" id="8388464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8388467">//&nbsp;Directory&nbsp;headers&nbsp;&amp;&nbsp;data&nbsp;found&nbsp;in&nbsp;the&nbsp;TOC&nbsp;of&nbsp;a&nbsp;JAR&nbsp;file.</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8388528">dirEnts</span>&nbsp;<span class="op" id="8388536">:=</span>&nbsp;<span class="op" id="8388539">[</span><span class="op" id="8388540">]</span><span class="builtintype" id="8388541">string</span><span class="op" id="8388547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8388551">&#34;PK\x01\x02\n\x00\n\x00\x00\b\x00\x004\x9d3?\xaa\x1b\x06\xf0\x81\x02\x00\x00\x81\x02\x00\x00-\x00\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00res/drawable-xhdpi-v4/ic_actionbar_accept.png\xfe\xca\x00\x00\x00&#34;</span><span class="op" id="8388778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8388782">&#34;PK\x01\x02\n\x00\n\x00\x00\b\x00\x004\x9d3?\x90K\x89\xc7t\n\x00\x00t\n\x00\x00\x0e\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xd1\x02\x00\x00resources.arsc\x00\x00\x00&#34;</span><span class="op" id="8388960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8388964">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xff$\x18\xed3\x03\x00\x00\xb4\b\x00\x00\x13\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00t\r\x00\x00AndroidManifest.xml&#34;</span><span class="op" id="8389135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8389139">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\x14\xc5K\xab\x192\x02\x00\xc8\xcd\x04\x00\v\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xe8\x10\x00\x00classes.dex&#34;</span><span class="op" id="8389307">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8389311">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?E\x96\nD\xac\x01\x00\x00P\x03\x00\x00&amp;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:C\x02\x00res/layout/actionbar_set_wallpaper.xml&#34;</span><span class="op" id="8389494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8389498">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?Ļ\x14\xe3\xd8\x01\x00\x00\xd8\x03\x00\x00&nbsp;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00:E\x02\x00res/layout/wallpaper_cropper.xml&#34;</span><span class="op" id="8389680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8389684">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?}\xc1\x15\x9eZ\x01\x00\x00!\x02\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00`G\x02\x00META-INF/MANIFEST.MF&#34;</span><span class="op" id="8389854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8389858">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xe6\x98Ьo\x01\x00\x00\x84\x02\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfcH\x02\x00META-INF/CERT.SF&#34;</span><span class="op" id="8390027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8390031">&#34;PK\x01\x02\x14\x00\x14\x00\b\b\b\x004\x9d3?\xbfP\x96b\x86\x04\x00\x00\xb2\x06\x00\x00\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xa9J\x02\x00META-INF/CERT.RSA&#34;</span><span class="op" id="8390204">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8390207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390210">for</span>&nbsp;<span class="ident" id="8390214">i</span><span class="op" id="8390215">,</span>&nbsp;<span class="ident" id="8390217">s</span>&nbsp;<span class="op" id="8390219">:=</span>&nbsp;<span class="keyword" id="8390222">range</span>&nbsp;<span class="ident" id="8390228"><a href="/archive/zip/reader_test.go.html#8388528">dirEnts</a></span>&nbsp;<span class="op" id="8390236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390240">var</span>&nbsp;<span class="ident" id="8390244">f</span>&nbsp;<span class="ident" id="8390246"><a href="/archive/zip/reader.go.html#5681778">File</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8390253">err</span>&nbsp;<span class="op" id="8390257">:=</span>&nbsp;<span class="ident" id="8390260"><a href="/archive/zip/reader.go.html#5686450">readDirectoryHeader</a></span><span class="op" id="8390279">(</span><span class="op" id="8390280">&amp;</span><span class="ident" id="8390281"><a href="/archive/zip/reader_test.go.html#8390244">f</a></span><span class="op" id="8390282">,</span>&nbsp;<span class="ident" id="8390284"><a href="/archive/zip/reader_test.go.html#8376239">strings</a></span><span class="op" id="8390291">.</span><span class="ident" id="8390292">NewReader</span><span class="op" id="8390301">(</span><span class="ident" id="8390302"><a href="/archive/zip/reader_test.go.html#8390217">s</a></span><span class="op" id="8390303">)</span><span class="op" id="8390304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8390308">if</span>&nbsp;<span class="ident" id="8390311"><a href="/archive/zip/reader_test.go.html#8390253">err</a></span>&nbsp;<span class="op" id="8390315">!=</span>&nbsp;<span class="ident" id="8390318">nil</span>&nbsp;<span class="op" id="8390322">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8390327"><a href="/archive/zip/reader_test.go.html#8388450">t</a></span><span class="op" id="8390328">.</span><span class="ident" id="8390329">Errorf</span><span class="op" id="8390335">(</span><span class="string" id="8390336">&#34;error&nbsp;reading&nbsp;#%d:&nbsp;%v&#34;</span><span class="op" id="8390359">,</span>&nbsp;<span class="ident" id="8390361"><a href="/archive/zip/reader_test.go.html#8390214">i</a></span><span class="op" id="8390362">,</span>&nbsp;<span class="ident" id="8390364"><a href="/archive/zip/reader_test.go.html#8390253">err</a></span><span class="op" id="8390367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8390371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8390374">}</span><br>
<span class="lineno"></span><span class="op" id="8390376">}</span>
</div>
</body>
</html>
