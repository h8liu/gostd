<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html" class="current">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5271027">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5271083">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5271137">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5271188">package</span>&nbsp;<span class="ident" id="5271196">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5271204">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5271229">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5271297">import</span>&nbsp;<span class="op" id="5271304">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5271307">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5271316">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5271327">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5271338">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5271348">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5271351">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5271410">type</span>&nbsp;<span class="ident" id="5271415">Regexp</span>&nbsp;<span class="keyword" id="5271422">struct</span>&nbsp;<span class="op" id="5271429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271432">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271441">Op</span>&nbsp;<span class="comment" id="5271444">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271457">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271466">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271473">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5271482">[</span><span class="op" id="5271483">]</span><span class="op" id="5271484">*</span><span class="ident" id="5271485">Regexp</span>&nbsp;&nbsp;<span class="comment" id="5271493">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271520">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5271529">[</span><span class="num" id="5271530">1</span><span class="op" id="5271531">]</span><span class="op" id="5271532">*</span><span class="ident" id="5271533">Regexp</span>&nbsp;<span class="comment" id="5271540">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271566">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5271575">[</span><span class="op" id="5271576">]</span><span class="builtintype" id="5271577">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5271586">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271632">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5271641">[</span><span class="num" id="5271642">2</span><span class="op" id="5271643">]</span><span class="builtintype" id="5271644">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5271652">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271679">Min</span><span class="op" id="5271682">,</span>&nbsp;<span class="ident" id="5271684">Max</span>&nbsp;<span class="builtintype" id="5271688">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5271699">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271725">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5271734">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5271745">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5271780">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5271789">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5271800">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5271833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5271836">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5271886">type</span>&nbsp;<span class="ident" id="5271891">Op</span>&nbsp;<span class="builtintype" id="5271894">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5271901">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5271975">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5272040">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5272097">const</span>&nbsp;<span class="op" id="5272103">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272106">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272123">Op</span>&nbsp;<span class="op" id="5272126">=</span>&nbsp;<span class="num" id="5272128">1</span>&nbsp;<span class="op" id="5272130">+</span>&nbsp;<span class="ident" id="5272132">iota</span>&nbsp;<span class="comment" id="5272137">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272160">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272191">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272216">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272247">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272274">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272305">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272354">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272385">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272426">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272457">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272483">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272514">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272560">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272591">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272631">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272662">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272708">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272739">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272779">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272810">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272841">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272872">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5272907">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5272938">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5273001">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5273032">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5273070">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5273101">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5273138">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5273169">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5273206">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5273237">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5273312">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5273343">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5273377">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5273408">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5273439">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5273442">const</span>&nbsp;<span class="ident" id="5273448">opPseudo</span>&nbsp;<span class="ident" id="5273457">Op</span>&nbsp;<span class="op" id="5273460">=</span>&nbsp;<span class="num" id="5273462">128</span>&nbsp;<span class="comment" id="5273466">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5273493">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5273552">func</span>&nbsp;<span class="op" id="5273557">(</span><span class="ident" id="5273558">x</span>&nbsp;<span class="op" id="5273560">*</span><span class="ident" id="5273561">Regexp</span><span class="op" id="5273567">)</span>&nbsp;<span class="ident" id="5273569">Equal</span><span class="op" id="5273574">(</span><span class="ident" id="5273575">y</span>&nbsp;<span class="op" id="5273577">*</span><span class="ident" id="5273578">Regexp</span><span class="op" id="5273584">)</span>&nbsp;<span class="builtintype" id="5273586">bool</span>&nbsp;<span class="op" id="5273591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273594">if</span>&nbsp;<span class="ident" id="5273597">x</span>&nbsp;<span class="op" id="5273599">==</span>&nbsp;<span class="builtintype" id="5273602">nil</span>&nbsp;<span class="op" id="5273606">||</span>&nbsp;<span class="ident" id="5273609">y</span>&nbsp;<span class="op" id="5273611">==</span>&nbsp;<span class="builtintype" id="5273614">nil</span>&nbsp;<span class="op" id="5273618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273622">return</span>&nbsp;<span class="ident" id="5273629">x</span>&nbsp;<span class="op" id="5273631">==</span>&nbsp;<span class="ident" id="5273634">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5273637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273640">if</span>&nbsp;<span class="ident" id="5273643">x</span><span class="op" id="5273644">.</span><span class="ident" id="5273645">Op</span>&nbsp;<span class="op" id="5273648">!=</span>&nbsp;<span class="ident" id="5273651">y</span><span class="op" id="5273652">.</span><span class="ident" id="5273653">Op</span>&nbsp;<span class="op" id="5273656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273660">return</span>&nbsp;<span class="builtintype" id="5273667">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5273674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273677">switch</span>&nbsp;<span class="ident" id="5273684">x</span><span class="op" id="5273685">.</span><span class="ident" id="5273686">Op</span>&nbsp;<span class="op" id="5273689">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273692">case</span>&nbsp;<span class="ident" id="5273697">OpEndText</span><span class="op" id="5273706">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5273710">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273766">if</span>&nbsp;<span class="ident" id="5273769">x</span><span class="op" id="5273770">.</span><span class="ident" id="5273771">Flags</span><span class="op" id="5273776">&amp;</span><span class="ident" id="5273777">WasDollar</span>&nbsp;<span class="op" id="5273787">!=</span>&nbsp;<span class="ident" id="5273790">y</span><span class="op" id="5273791">.</span><span class="ident" id="5273792">Flags</span><span class="op" id="5273797">&amp;</span><span class="ident" id="5273798">WasDollar</span>&nbsp;<span class="op" id="5273808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273813">return</span>&nbsp;<span class="builtintype" id="5273820">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5273828">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273832">case</span>&nbsp;<span class="ident" id="5273837">OpLiteral</span><span class="op" id="5273846">,</span>&nbsp;<span class="ident" id="5273848">OpCharClass</span><span class="op" id="5273859">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273863">if</span>&nbsp;<span class="builtinfunc" id="5273866">len</span><span class="op" id="5273869">(</span><span class="ident" id="5273870">x</span><span class="op" id="5273871">.</span><span class="ident" id="5273872">Rune</span><span class="op" id="5273876">)</span>&nbsp;<span class="op" id="5273878">!=</span>&nbsp;<span class="builtinfunc" id="5273881">len</span><span class="op" id="5273884">(</span><span class="ident" id="5273885">y</span><span class="op" id="5273886">.</span><span class="ident" id="5273887">Rune</span><span class="op" id="5273891">)</span>&nbsp;<span class="op" id="5273893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273898">return</span>&nbsp;<span class="builtintype" id="5273905">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5273913">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273917">for</span>&nbsp;<span class="ident" id="5273921">i</span><span class="op" id="5273922">,</span>&nbsp;<span class="ident" id="5273924">r</span>&nbsp;<span class="op" id="5273926">:=</span>&nbsp;<span class="keyword" id="5273929">range</span>&nbsp;<span class="ident" id="5273935">x</span><span class="op" id="5273936">.</span><span class="ident" id="5273937">Rune</span>&nbsp;<span class="op" id="5273942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273947">if</span>&nbsp;<span class="ident" id="5273950">r</span>&nbsp;<span class="op" id="5273952">!=</span>&nbsp;<span class="ident" id="5273955">y</span><span class="op" id="5273956">.</span><span class="ident" id="5273957">Rune</span><span class="op" id="5273961">[</span><span class="ident" id="5273962">i</span><span class="op" id="5273963">]</span>&nbsp;<span class="op" id="5273965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273971">return</span>&nbsp;<span class="builtintype" id="5273978">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5273987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5273991">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5273995">case</span>&nbsp;<span class="ident" id="5274000">OpAlternate</span><span class="op" id="5274011">,</span>&nbsp;<span class="ident" id="5274013">OpConcat</span><span class="op" id="5274021">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274025">if</span>&nbsp;<span class="builtinfunc" id="5274028">len</span><span class="op" id="5274031">(</span><span class="ident" id="5274032">x</span><span class="op" id="5274033">.</span><span class="ident" id="5274034">Sub</span><span class="op" id="5274037">)</span>&nbsp;<span class="op" id="5274039">!=</span>&nbsp;<span class="builtinfunc" id="5274042">len</span><span class="op" id="5274045">(</span><span class="ident" id="5274046">y</span><span class="op" id="5274047">.</span><span class="ident" id="5274048">Sub</span><span class="op" id="5274051">)</span>&nbsp;<span class="op" id="5274053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274058">return</span>&nbsp;<span class="builtintype" id="5274065">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274073">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274077">for</span>&nbsp;<span class="ident" id="5274081">i</span><span class="op" id="5274082">,</span>&nbsp;<span class="ident" id="5274084">sub</span>&nbsp;<span class="op" id="5274088">:=</span>&nbsp;<span class="keyword" id="5274091">range</span>&nbsp;<span class="ident" id="5274097">x</span><span class="op" id="5274098">.</span><span class="ident" id="5274099">Sub</span>&nbsp;<span class="op" id="5274103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274108">if</span>&nbsp;<span class="op" id="5274111">!</span><span class="ident" id="5274112">sub</span><span class="op" id="5274115">.</span><span class="ident" id="5274116">Equal</span><span class="op" id="5274121">(</span><span class="ident" id="5274122">y</span><span class="op" id="5274123">.</span><span class="ident" id="5274124">Sub</span><span class="op" id="5274127">[</span><span class="ident" id="5274128">i</span><span class="op" id="5274129">]</span><span class="op" id="5274130">)</span>&nbsp;<span class="op" id="5274132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274138">return</span>&nbsp;<span class="builtintype" id="5274145">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274158">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274162">case</span>&nbsp;<span class="ident" id="5274167">OpStar</span><span class="op" id="5274173">,</span>&nbsp;<span class="ident" id="5274175">OpPlus</span><span class="op" id="5274181">,</span>&nbsp;<span class="ident" id="5274183">OpQuest</span><span class="op" id="5274190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274194">if</span>&nbsp;<span class="ident" id="5274197">x</span><span class="op" id="5274198">.</span><span class="ident" id="5274199">Flags</span><span class="op" id="5274204">&amp;</span><span class="ident" id="5274205">NonGreedy</span>&nbsp;<span class="op" id="5274215">!=</span>&nbsp;<span class="ident" id="5274218">y</span><span class="op" id="5274219">.</span><span class="ident" id="5274220">Flags</span><span class="op" id="5274225">&amp;</span><span class="ident" id="5274226">NonGreedy</span>&nbsp;<span class="op" id="5274236">||</span>&nbsp;<span class="op" id="5274239">!</span><span class="ident" id="5274240">x</span><span class="op" id="5274241">.</span><span class="ident" id="5274242">Sub</span><span class="op" id="5274245">[</span><span class="num" id="5274246">0</span><span class="op" id="5274247">]</span><span class="op" id="5274248">.</span><span class="ident" id="5274249">Equal</span><span class="op" id="5274254">(</span><span class="ident" id="5274255">y</span><span class="op" id="5274256">.</span><span class="ident" id="5274257">Sub</span><span class="op" id="5274260">[</span><span class="num" id="5274261">0</span><span class="op" id="5274262">]</span><span class="op" id="5274263">)</span>&nbsp;<span class="op" id="5274265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274270">return</span>&nbsp;<span class="builtintype" id="5274277">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274285">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274289">case</span>&nbsp;<span class="ident" id="5274294">OpRepeat</span><span class="op" id="5274302">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274306">if</span>&nbsp;<span class="ident" id="5274309">x</span><span class="op" id="5274310">.</span><span class="ident" id="5274311">Flags</span><span class="op" id="5274316">&amp;</span><span class="ident" id="5274317">NonGreedy</span>&nbsp;<span class="op" id="5274327">!=</span>&nbsp;<span class="ident" id="5274330">y</span><span class="op" id="5274331">.</span><span class="ident" id="5274332">Flags</span><span class="op" id="5274337">&amp;</span><span class="ident" id="5274338">NonGreedy</span>&nbsp;<span class="op" id="5274348">||</span>&nbsp;<span class="ident" id="5274351">x</span><span class="op" id="5274352">.</span><span class="ident" id="5274353">Min</span>&nbsp;<span class="op" id="5274357">!=</span>&nbsp;<span class="ident" id="5274360">y</span><span class="op" id="5274361">.</span><span class="ident" id="5274362">Min</span>&nbsp;<span class="op" id="5274366">||</span>&nbsp;<span class="ident" id="5274369">x</span><span class="op" id="5274370">.</span><span class="ident" id="5274371">Max</span>&nbsp;<span class="op" id="5274375">!=</span>&nbsp;<span class="ident" id="5274378">y</span><span class="op" id="5274379">.</span><span class="ident" id="5274380">Max</span>&nbsp;<span class="op" id="5274384">||</span>&nbsp;<span class="op" id="5274387">!</span><span class="ident" id="5274388">x</span><span class="op" id="5274389">.</span><span class="ident" id="5274390">Sub</span><span class="op" id="5274393">[</span><span class="num" id="5274394">0</span><span class="op" id="5274395">]</span><span class="op" id="5274396">.</span><span class="ident" id="5274397">Equal</span><span class="op" id="5274402">(</span><span class="ident" id="5274403">y</span><span class="op" id="5274404">.</span><span class="ident" id="5274405">Sub</span><span class="op" id="5274408">[</span><span class="num" id="5274409">0</span><span class="op" id="5274410">]</span><span class="op" id="5274411">)</span>&nbsp;<span class="op" id="5274413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274418">return</span>&nbsp;<span class="builtintype" id="5274425">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274433">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274437">case</span>&nbsp;<span class="ident" id="5274442">OpCapture</span><span class="op" id="5274451">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274455">if</span>&nbsp;<span class="ident" id="5274458">x</span><span class="op" id="5274459">.</span><span class="ident" id="5274460">Cap</span>&nbsp;<span class="op" id="5274464">!=</span>&nbsp;<span class="ident" id="5274467">y</span><span class="op" id="5274468">.</span><span class="ident" id="5274469">Cap</span>&nbsp;<span class="op" id="5274473">||</span>&nbsp;<span class="ident" id="5274476">x</span><span class="op" id="5274477">.</span><span class="ident" id="5274478">Name</span>&nbsp;<span class="op" id="5274483">!=</span>&nbsp;<span class="ident" id="5274486">y</span><span class="op" id="5274487">.</span><span class="ident" id="5274488">Name</span>&nbsp;<span class="op" id="5274493">||</span>&nbsp;<span class="op" id="5274496">!</span><span class="ident" id="5274497">x</span><span class="op" id="5274498">.</span><span class="ident" id="5274499">Sub</span><span class="op" id="5274502">[</span><span class="num" id="5274503">0</span><span class="op" id="5274504">]</span><span class="op" id="5274505">.</span><span class="ident" id="5274506">Equal</span><span class="op" id="5274511">(</span><span class="ident" id="5274512">y</span><span class="op" id="5274513">.</span><span class="ident" id="5274514">Sub</span><span class="op" id="5274517">[</span><span class="num" id="5274518">0</span><span class="op" id="5274519">]</span><span class="op" id="5274520">)</span>&nbsp;<span class="op" id="5274522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274527">return</span>&nbsp;<span class="builtintype" id="5274534">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274542">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274548">return</span>&nbsp;<span class="builtintype" id="5274555">true</span><br>
<span class="lineno"></span><span class="op" id="5274560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5274563">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5274637">func</span>&nbsp;<span class="ident" id="5274642">writeRegexp</span><span class="op" id="5274653">(</span><span class="ident" id="5274654">b</span>&nbsp;<span class="op" id="5274656">*</span><span class="ident" id="5274657">bytes</span><span class="op" id="5274662">.</span><span class="ident" id="5274663">Buffer</span><span class="op" id="5274669">,</span>&nbsp;<span class="ident" id="5274671">re</span>&nbsp;<span class="op" id="5274674">*</span><span class="ident" id="5274675">Regexp</span><span class="op" id="5274681">)</span>&nbsp;<span class="op" id="5274683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274686">switch</span>&nbsp;<span class="ident" id="5274693">re</span><span class="op" id="5274695">.</span><span class="ident" id="5274696">Op</span>&nbsp;<span class="op" id="5274699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274702">default</span><span class="op" id="5274709">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5274713">b</span><span class="op" id="5274714">.</span><span class="ident" id="5274715">WriteString</span><span class="op" id="5274726">(</span><span class="string" id="5274727">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5274741">+</span>&nbsp;<span class="ident" id="5274743">strconv</span><span class="op" id="5274750">.</span><span class="ident" id="5274751">Itoa</span><span class="op" id="5274755">(</span><span class="builtintype" id="5274756">int</span><span class="op" id="5274759">(</span><span class="ident" id="5274760">re</span><span class="op" id="5274762">.</span><span class="ident" id="5274763">Op</span><span class="op" id="5274765">)</span><span class="op" id="5274766">)</span>&nbsp;<span class="op" id="5274768">+</span>&nbsp;<span class="string" id="5274770">&#34;&gt;&#34;</span><span class="op" id="5274773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274776">case</span>&nbsp;<span class="ident" id="5274781">OpNoMatch</span><span class="op" id="5274790">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5274794">b</span><span class="op" id="5274795">.</span><span class="ident" id="5274796">WriteString</span><span class="op" id="5274807">(</span><span class="string" id="5274808">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5274828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274831">case</span>&nbsp;<span class="ident" id="5274836">OpEmptyMatch</span><span class="op" id="5274848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5274852">b</span><span class="op" id="5274853">.</span><span class="ident" id="5274854">WriteString</span><span class="op" id="5274865">(</span><span class="string" id="5274866">`(?:)`</span><span class="op" id="5274872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274875">case</span>&nbsp;<span class="ident" id="5274880">OpLiteral</span><span class="op" id="5274889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274893">if</span>&nbsp;<span class="ident" id="5274896">re</span><span class="op" id="5274898">.</span><span class="ident" id="5274899">Flags</span><span class="op" id="5274904">&amp;</span><span class="ident" id="5274905">FoldCase</span>&nbsp;<span class="op" id="5274914">!=</span>&nbsp;<span class="num" id="5274917">0</span>&nbsp;<span class="op" id="5274919">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5274924">b</span><span class="op" id="5274925">.</span><span class="ident" id="5274926">WriteString</span><span class="op" id="5274937">(</span><span class="string" id="5274938">`(?i:`</span><span class="op" id="5274944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5274948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5274952">for</span>&nbsp;<span class="ident" id="5274956">_</span><span class="op" id="5274957">,</span>&nbsp;<span class="ident" id="5274959">r</span>&nbsp;<span class="op" id="5274961">:=</span>&nbsp;<span class="keyword" id="5274964">range</span>&nbsp;<span class="ident" id="5274970">re</span><span class="op" id="5274972">.</span><span class="ident" id="5274973">Rune</span>&nbsp;<span class="op" id="5274978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5274983">escape</span><span class="op" id="5274989">(</span><span class="ident" id="5274990">b</span><span class="op" id="5274991">,</span>&nbsp;<span class="ident" id="5274993">r</span><span class="op" id="5274994">,</span>&nbsp;<span class="builtintype" id="5274996">false</span><span class="op" id="5275001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275005">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275009">if</span>&nbsp;<span class="ident" id="5275012">re</span><span class="op" id="5275014">.</span><span class="ident" id="5275015">Flags</span><span class="op" id="5275020">&amp;</span><span class="ident" id="5275021">FoldCase</span>&nbsp;<span class="op" id="5275030">!=</span>&nbsp;<span class="num" id="5275033">0</span>&nbsp;<span class="op" id="5275035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275040">b</span><span class="op" id="5275041">.</span><span class="ident" id="5275042">WriteString</span><span class="op" id="5275053">(</span><span class="string" id="5275054">`)`</span><span class="op" id="5275057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275064">case</span>&nbsp;<span class="ident" id="5275069">OpCharClass</span><span class="op" id="5275080">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275084">if</span>&nbsp;<span class="builtinfunc" id="5275087">len</span><span class="op" id="5275090">(</span><span class="ident" id="5275091">re</span><span class="op" id="5275093">.</span><span class="ident" id="5275094">Rune</span><span class="op" id="5275098">)</span><span class="op" id="5275099">%</span><span class="num" id="5275100">2</span>&nbsp;<span class="op" id="5275102">!=</span>&nbsp;<span class="num" id="5275105">0</span>&nbsp;<span class="op" id="5275107">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275112">b</span><span class="op" id="5275113">.</span><span class="ident" id="5275114">WriteString</span><span class="op" id="5275125">(</span><span class="string" id="5275126">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5275148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275153">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275165">b</span><span class="op" id="5275166">.</span><span class="ident" id="5275167">WriteRune</span><span class="op" id="5275176">(</span><span class="string" id="5275177">&#39;[&#39;</span><span class="op" id="5275180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275184">if</span>&nbsp;<span class="builtinfunc" id="5275187">len</span><span class="op" id="5275190">(</span><span class="ident" id="5275191">re</span><span class="op" id="5275193">.</span><span class="ident" id="5275194">Rune</span><span class="op" id="5275198">)</span>&nbsp;<span class="op" id="5275200">==</span>&nbsp;<span class="num" id="5275203">0</span>&nbsp;<span class="op" id="5275205">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275210">b</span><span class="op" id="5275211">.</span><span class="ident" id="5275212">WriteString</span><span class="op" id="5275223">(</span><span class="string" id="5275224">`^\x00-\x{10FFFF}`</span><span class="op" id="5275242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275246">}</span>&nbsp;<span class="keyword" id="5275248">else</span>&nbsp;<span class="keyword" id="5275253">if</span>&nbsp;<span class="ident" id="5275256">re</span><span class="op" id="5275258">.</span><span class="ident" id="5275259">Rune</span><span class="op" id="5275263">[</span><span class="num" id="5275264">0</span><span class="op" id="5275265">]</span>&nbsp;<span class="op" id="5275267">==</span>&nbsp;<span class="num" id="5275270">0</span>&nbsp;<span class="op" id="5275272">&amp;&amp;</span>&nbsp;<span class="ident" id="5275275">re</span><span class="op" id="5275277">.</span><span class="ident" id="5275278">Rune</span><span class="op" id="5275282">[</span><span class="builtinfunc" id="5275283">len</span><span class="op" id="5275286">(</span><span class="ident" id="5275287">re</span><span class="op" id="5275289">.</span><span class="ident" id="5275290">Rune</span><span class="op" id="5275294">)</span><span class="op" id="5275295">-</span><span class="num" id="5275296">1</span><span class="op" id="5275297">]</span>&nbsp;<span class="op" id="5275299">==</span>&nbsp;<span class="ident" id="5275302">unicode</span><span class="op" id="5275309">.</span><span class="ident" id="5275310">MaxRune</span>&nbsp;<span class="op" id="5275318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5275323">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5275380">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275402">b</span><span class="op" id="5275403">.</span><span class="ident" id="5275404">WriteRune</span><span class="op" id="5275413">(</span><span class="string" id="5275414">&#39;^&#39;</span><span class="op" id="5275417">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275422">for</span>&nbsp;<span class="ident" id="5275426">i</span>&nbsp;<span class="op" id="5275428">:=</span>&nbsp;<span class="num" id="5275431">1</span><span class="op" id="5275432">;</span>&nbsp;<span class="ident" id="5275434">i</span>&nbsp;<span class="op" id="5275436">&lt;</span>&nbsp;<span class="builtinfunc" id="5275438">len</span><span class="op" id="5275441">(</span><span class="ident" id="5275442">re</span><span class="op" id="5275444">.</span><span class="ident" id="5275445">Rune</span><span class="op" id="5275449">)</span><span class="op" id="5275450">-</span><span class="num" id="5275451">1</span><span class="op" id="5275452">;</span>&nbsp;<span class="ident" id="5275454">i</span>&nbsp;<span class="op" id="5275456">+=</span>&nbsp;<span class="num" id="5275459">2</span>&nbsp;<span class="op" id="5275461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275467">lo</span><span class="op" id="5275469">,</span>&nbsp;<span class="ident" id="5275471">hi</span>&nbsp;<span class="op" id="5275474">:=</span>&nbsp;<span class="ident" id="5275477">re</span><span class="op" id="5275479">.</span><span class="ident" id="5275480">Rune</span><span class="op" id="5275484">[</span><span class="ident" id="5275485">i</span><span class="op" id="5275486">]</span><span class="op" id="5275487">+</span><span class="num" id="5275488">1</span><span class="op" id="5275489">,</span>&nbsp;<span class="ident" id="5275491">re</span><span class="op" id="5275493">.</span><span class="ident" id="5275494">Rune</span><span class="op" id="5275498">[</span><span class="ident" id="5275499">i</span><span class="op" id="5275500">+</span><span class="num" id="5275501">1</span><span class="op" id="5275502">]</span><span class="op" id="5275503">-</span><span class="num" id="5275504">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275510">escape</span><span class="op" id="5275516">(</span><span class="ident" id="5275517">b</span><span class="op" id="5275518">,</span>&nbsp;<span class="ident" id="5275520">lo</span><span class="op" id="5275522">,</span>&nbsp;<span class="ident" id="5275524">lo</span>&nbsp;<span class="op" id="5275527">==</span>&nbsp;<span class="string" id="5275530">&#39;-&#39;</span><span class="op" id="5275533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275539">if</span>&nbsp;<span class="ident" id="5275542">lo</span>&nbsp;<span class="op" id="5275545">!=</span>&nbsp;<span class="ident" id="5275548">hi</span>&nbsp;<span class="op" id="5275551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275558">b</span><span class="op" id="5275559">.</span><span class="ident" id="5275560">WriteRune</span><span class="op" id="5275569">(</span><span class="string" id="5275570">&#39;-&#39;</span><span class="op" id="5275573">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275580">escape</span><span class="op" id="5275586">(</span><span class="ident" id="5275587">b</span><span class="op" id="5275588">,</span>&nbsp;<span class="ident" id="5275590">hi</span><span class="op" id="5275592">,</span>&nbsp;<span class="ident" id="5275594">hi</span>&nbsp;<span class="op" id="5275597">==</span>&nbsp;<span class="string" id="5275600">&#39;-&#39;</span><span class="op" id="5275603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275618">}</span>&nbsp;<span class="keyword" id="5275620">else</span>&nbsp;<span class="op" id="5275625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275630">for</span>&nbsp;<span class="ident" id="5275634">i</span>&nbsp;<span class="op" id="5275636">:=</span>&nbsp;<span class="num" id="5275639">0</span><span class="op" id="5275640">;</span>&nbsp;<span class="ident" id="5275642">i</span>&nbsp;<span class="op" id="5275644">&lt;</span>&nbsp;<span class="builtinfunc" id="5275646">len</span><span class="op" id="5275649">(</span><span class="ident" id="5275650">re</span><span class="op" id="5275652">.</span><span class="ident" id="5275653">Rune</span><span class="op" id="5275657">)</span><span class="op" id="5275658">;</span>&nbsp;<span class="ident" id="5275660">i</span>&nbsp;<span class="op" id="5275662">+=</span>&nbsp;<span class="num" id="5275665">2</span>&nbsp;<span class="op" id="5275667">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275673">lo</span><span class="op" id="5275675">,</span>&nbsp;<span class="ident" id="5275677">hi</span>&nbsp;<span class="op" id="5275680">:=</span>&nbsp;<span class="ident" id="5275683">re</span><span class="op" id="5275685">.</span><span class="ident" id="5275686">Rune</span><span class="op" id="5275690">[</span><span class="ident" id="5275691">i</span><span class="op" id="5275692">]</span><span class="op" id="5275693">,</span>&nbsp;<span class="ident" id="5275695">re</span><span class="op" id="5275697">.</span><span class="ident" id="5275698">Rune</span><span class="op" id="5275702">[</span><span class="ident" id="5275703">i</span><span class="op" id="5275704">+</span><span class="num" id="5275705">1</span><span class="op" id="5275706">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275712">escape</span><span class="op" id="5275718">(</span><span class="ident" id="5275719">b</span><span class="op" id="5275720">,</span>&nbsp;<span class="ident" id="5275722">lo</span><span class="op" id="5275724">,</span>&nbsp;<span class="ident" id="5275726">lo</span>&nbsp;<span class="op" id="5275729">==</span>&nbsp;<span class="string" id="5275732">&#39;-&#39;</span><span class="op" id="5275735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275741">if</span>&nbsp;<span class="ident" id="5275744">lo</span>&nbsp;<span class="op" id="5275747">!=</span>&nbsp;<span class="ident" id="5275750">hi</span>&nbsp;<span class="op" id="5275753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275760">b</span><span class="op" id="5275761">.</span><span class="ident" id="5275762">WriteRune</span><span class="op" id="5275771">(</span><span class="string" id="5275772">&#39;-&#39;</span><span class="op" id="5275775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275782">escape</span><span class="op" id="5275788">(</span><span class="ident" id="5275789">b</span><span class="op" id="5275790">,</span>&nbsp;<span class="ident" id="5275792">hi</span><span class="op" id="5275794">,</span>&nbsp;<span class="ident" id="5275796">hi</span>&nbsp;<span class="op" id="5275799">==</span>&nbsp;<span class="string" id="5275802">&#39;-&#39;</span><span class="op" id="5275805">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5275820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275824">b</span><span class="op" id="5275825">.</span><span class="ident" id="5275826">WriteRune</span><span class="op" id="5275835">(</span><span class="string" id="5275836">&#39;]&#39;</span><span class="op" id="5275839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275842">case</span>&nbsp;<span class="ident" id="5275847">OpAnyCharNotNL</span><span class="op" id="5275861">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275865">b</span><span class="op" id="5275866">.</span><span class="ident" id="5275867">WriteString</span><span class="op" id="5275878">(</span><span class="string" id="5275879">`(?-s:.)`</span><span class="op" id="5275888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275891">case</span>&nbsp;<span class="ident" id="5275896">OpAnyChar</span><span class="op" id="5275905">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275909">b</span><span class="op" id="5275910">.</span><span class="ident" id="5275911">WriteString</span><span class="op" id="5275922">(</span><span class="string" id="5275923">`(?s:.)`</span><span class="op" id="5275931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275934">case</span>&nbsp;<span class="ident" id="5275939">OpBeginLine</span><span class="op" id="5275950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275954">b</span><span class="op" id="5275955">.</span><span class="ident" id="5275956">WriteRune</span><span class="op" id="5275965">(</span><span class="string" id="5275966">&#39;^&#39;</span><span class="op" id="5275969">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5275972">case</span>&nbsp;<span class="ident" id="5275977">OpEndLine</span><span class="op" id="5275986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5275990">b</span><span class="op" id="5275991">.</span><span class="ident" id="5275992">WriteRune</span><span class="op" id="5276001">(</span><span class="string" id="5276002">&#39;$&#39;</span><span class="op" id="5276005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276008">case</span>&nbsp;<span class="ident" id="5276013">OpBeginText</span><span class="op" id="5276024">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276028">b</span><span class="op" id="5276029">.</span><span class="ident" id="5276030">WriteString</span><span class="op" id="5276041">(</span><span class="string" id="5276042">`\A`</span><span class="op" id="5276046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276049">case</span>&nbsp;<span class="ident" id="5276054">OpEndText</span><span class="op" id="5276063">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276067">if</span>&nbsp;<span class="ident" id="5276070">re</span><span class="op" id="5276072">.</span><span class="ident" id="5276073">Flags</span><span class="op" id="5276078">&amp;</span><span class="ident" id="5276079">WasDollar</span>&nbsp;<span class="op" id="5276089">!=</span>&nbsp;<span class="num" id="5276092">0</span>&nbsp;<span class="op" id="5276094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276099">b</span><span class="op" id="5276100">.</span><span class="ident" id="5276101">WriteString</span><span class="op" id="5276112">(</span><span class="string" id="5276113">`(?-m:$)`</span><span class="op" id="5276122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5276126">}</span>&nbsp;<span class="keyword" id="5276128">else</span>&nbsp;<span class="op" id="5276133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276138">b</span><span class="op" id="5276139">.</span><span class="ident" id="5276140">WriteString</span><span class="op" id="5276151">(</span><span class="string" id="5276152">`\z`</span><span class="op" id="5276156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5276160">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276163">case</span>&nbsp;<span class="ident" id="5276168">OpWordBoundary</span><span class="op" id="5276182">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276186">b</span><span class="op" id="5276187">.</span><span class="ident" id="5276188">WriteString</span><span class="op" id="5276199">(</span><span class="string" id="5276200">`\b`</span><span class="op" id="5276204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276207">case</span>&nbsp;<span class="ident" id="5276212">OpNoWordBoundary</span><span class="op" id="5276228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276232">b</span><span class="op" id="5276233">.</span><span class="ident" id="5276234">WriteString</span><span class="op" id="5276245">(</span><span class="string" id="5276246">`\B`</span><span class="op" id="5276250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276253">case</span>&nbsp;<span class="ident" id="5276258">OpCapture</span><span class="op" id="5276267">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276271">if</span>&nbsp;<span class="ident" id="5276274">re</span><span class="op" id="5276276">.</span><span class="ident" id="5276277">Name</span>&nbsp;<span class="op" id="5276282">!=</span>&nbsp;<span class="string" id="5276285">&#34;&#34;</span>&nbsp;<span class="op" id="5276288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276293">b</span><span class="op" id="5276294">.</span><span class="ident" id="5276295">WriteString</span><span class="op" id="5276306">(</span><span class="string" id="5276307">`(?P&lt;`</span><span class="op" id="5276313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276318">b</span><span class="op" id="5276319">.</span><span class="ident" id="5276320">WriteString</span><span class="op" id="5276331">(</span><span class="ident" id="5276332">re</span><span class="op" id="5276334">.</span><span class="ident" id="5276335">Name</span><span class="op" id="5276339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276344">b</span><span class="op" id="5276345">.</span><span class="ident" id="5276346">WriteRune</span><span class="op" id="5276355">(</span><span class="string" id="5276356">&#39;&gt;&#39;</span><span class="op" id="5276359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5276363">}</span>&nbsp;<span class="keyword" id="5276365">else</span>&nbsp;<span class="op" id="5276370">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276375">b</span><span class="op" id="5276376">.</span><span class="ident" id="5276377">WriteRune</span><span class="op" id="5276386">(</span><span class="string" id="5276387">&#39;(&#39;</span><span class="op" id="5276390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5276394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276398">if</span>&nbsp;<span class="ident" id="5276401">re</span><span class="op" id="5276403">.</span><span class="ident" id="5276404">Sub</span><span class="op" id="5276407">[</span><span class="num" id="5276408">0</span><span class="op" id="5276409">]</span><span class="op" id="5276410">.</span><span class="ident" id="5276411">Op</span>&nbsp;<span class="op" id="5276414">!=</span>&nbsp;<span class="ident" id="5276417">OpEmptyMatch</span>&nbsp;<span class="op" id="5276430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276435">writeRegexp</span><span class="op" id="5276446">(</span><span class="ident" id="5276447">b</span><span class="op" id="5276448">,</span>&nbsp;<span class="ident" id="5276450">re</span><span class="op" id="5276452">.</span><span class="ident" id="5276453">Sub</span><span class="op" id="5276456">[</span><span class="num" id="5276457">0</span><span class="op" id="5276458">]</span><span class="op" id="5276459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5276463">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276467">b</span><span class="op" id="5276468">.</span><span class="ident" id="5276469">WriteRune</span><span class="op" id="5276478">(</span><span class="string" id="5276479">&#39;)&#39;</span><span class="op" id="5276482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276485">case</span>&nbsp;<span class="ident" id="5276490">OpStar</span><span class="op" id="5276496">,</span>&nbsp;<span class="ident" id="5276498">OpPlus</span><span class="op" id="5276504">,</span>&nbsp;<span class="ident" id="5276506">OpQuest</span><span class="op" id="5276513">,</span>&nbsp;<span class="ident" id="5276515">OpRepeat</span><span class="op" id="5276523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276527">if</span>&nbsp;<span class="ident" id="5276530">sub</span>&nbsp;<span class="op" id="5276534">:=</span>&nbsp;<span class="ident" id="5276537">re</span><span class="op" id="5276539">.</span><span class="ident" id="5276540">Sub</span><span class="op" id="5276543">[</span><span class="num" id="5276544">0</span><span class="op" id="5276545">]</span><span class="op" id="5276546">;</span>&nbsp;<span class="ident" id="5276548">sub</span><span class="op" id="5276551">.</span><span class="ident" id="5276552">Op</span>&nbsp;<span class="op" id="5276555">&gt;</span>&nbsp;<span class="ident" id="5276557">OpCapture</span>&nbsp;<span class="op" id="5276567">||</span>&nbsp;<span class="ident" id="5276570">sub</span><span class="op" id="5276573">.</span><span class="ident" id="5276574">Op</span>&nbsp;<span class="op" id="5276577">==</span>&nbsp;<span class="ident" id="5276580">OpLiteral</span>&nbsp;<span class="op" id="5276590">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5276593">len</span><span class="op" id="5276596">(</span><span class="ident" id="5276597">sub</span><span class="op" id="5276600">.</span><span class="ident" id="5276601">Rune</span><span class="op" id="5276605">)</span>&nbsp;<span class="op" id="5276607">&gt;</span>&nbsp;<span class="num" id="5276609">1</span>&nbsp;<span class="op" id="5276611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276616">b</span><span class="op" id="5276617">.</span><span class="ident" id="5276618">WriteString</span><span class="op" id="5276629">(</span><span class="string" id="5276630">`(?:`</span><span class="op" id="5276635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276640">writeRegexp</span><span class="op" id="5276651">(</span><span class="ident" id="5276652">b</span><span class="op" id="5276653">,</span>&nbsp;<span class="ident" id="5276655">sub</span><span class="op" id="5276658">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276663">b</span><span class="op" id="5276664">.</span><span class="ident" id="5276665">WriteString</span><span class="op" id="5276676">(</span><span class="string" id="5276677">`)`</span><span class="op" id="5276680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5276684">}</span>&nbsp;<span class="keyword" id="5276686">else</span>&nbsp;<span class="op" id="5276691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276696">writeRegexp</span><span class="op" id="5276707">(</span><span class="ident" id="5276708">b</span><span class="op" id="5276709">,</span>&nbsp;<span class="ident" id="5276711">sub</span><span class="op" id="5276714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5276718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276722">switch</span>&nbsp;<span class="ident" id="5276729">re</span><span class="op" id="5276731">.</span><span class="ident" id="5276732">Op</span>&nbsp;<span class="op" id="5276735">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276739">case</span>&nbsp;<span class="ident" id="5276744">OpStar</span><span class="op" id="5276750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276755">b</span><span class="op" id="5276756">.</span><span class="ident" id="5276757">WriteRune</span><span class="op" id="5276766">(</span><span class="string" id="5276767">&#39;*&#39;</span><span class="op" id="5276770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276774">case</span>&nbsp;<span class="ident" id="5276779">OpPlus</span><span class="op" id="5276785">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276790">b</span><span class="op" id="5276791">.</span><span class="ident" id="5276792">WriteRune</span><span class="op" id="5276801">(</span><span class="string" id="5276802">&#39;+&#39;</span><span class="op" id="5276805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276809">case</span>&nbsp;<span class="ident" id="5276814">OpQuest</span><span class="op" id="5276821">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276826">b</span><span class="op" id="5276827">.</span><span class="ident" id="5276828">WriteRune</span><span class="op" id="5276837">(</span><span class="string" id="5276838">&#39;?&#39;</span><span class="op" id="5276841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276845">case</span>&nbsp;<span class="ident" id="5276850">OpRepeat</span><span class="op" id="5276858">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276863">b</span><span class="op" id="5276864">.</span><span class="ident" id="5276865">WriteRune</span><span class="op" id="5276874">(</span><span class="string" id="5276875">&#39;{&#39;</span><span class="op" id="5276878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276883">b</span><span class="op" id="5276884">.</span><span class="ident" id="5276885">WriteString</span><span class="op" id="5276896">(</span><span class="ident" id="5276897">strconv</span><span class="op" id="5276904">.</span><span class="ident" id="5276905">Itoa</span><span class="op" id="5276909">(</span><span class="ident" id="5276910">re</span><span class="op" id="5276912">.</span><span class="ident" id="5276913">Min</span><span class="op" id="5276916">)</span><span class="op" id="5276917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276922">if</span>&nbsp;<span class="ident" id="5276925">re</span><span class="op" id="5276927">.</span><span class="ident" id="5276928">Max</span>&nbsp;<span class="op" id="5276932">!=</span>&nbsp;<span class="ident" id="5276935">re</span><span class="op" id="5276937">.</span><span class="ident" id="5276938">Min</span>&nbsp;<span class="op" id="5276942">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276948">b</span><span class="op" id="5276949">.</span><span class="ident" id="5276950">WriteRune</span><span class="op" id="5276959">(</span><span class="string" id="5276960">&#39;,&#39;</span><span class="op" id="5276963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5276969">if</span>&nbsp;<span class="ident" id="5276972">re</span><span class="op" id="5276974">.</span><span class="ident" id="5276975">Max</span>&nbsp;<span class="op" id="5276979">&gt;=</span>&nbsp;<span class="num" id="5276982">0</span>&nbsp;<span class="op" id="5276984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5276991">b</span><span class="op" id="5276992">.</span><span class="ident" id="5276993">WriteString</span><span class="op" id="5277004">(</span><span class="ident" id="5277005">strconv</span><span class="op" id="5277012">.</span><span class="ident" id="5277013">Itoa</span><span class="op" id="5277017">(</span><span class="ident" id="5277018">re</span><span class="op" id="5277020">.</span><span class="ident" id="5277021">Max</span><span class="op" id="5277024">)</span><span class="op" id="5277025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277036">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277041">b</span><span class="op" id="5277042">.</span><span class="ident" id="5277043">WriteRune</span><span class="op" id="5277052">(</span><span class="string" id="5277053">&#39;}&#39;</span><span class="op" id="5277056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277064">if</span>&nbsp;<span class="ident" id="5277067">re</span><span class="op" id="5277069">.</span><span class="ident" id="5277070">Flags</span><span class="op" id="5277075">&amp;</span><span class="ident" id="5277076">NonGreedy</span>&nbsp;<span class="op" id="5277086">!=</span>&nbsp;<span class="num" id="5277089">0</span>&nbsp;<span class="op" id="5277091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277096">b</span><span class="op" id="5277097">.</span><span class="ident" id="5277098">WriteRune</span><span class="op" id="5277107">(</span><span class="string" id="5277108">&#39;?&#39;</span><span class="op" id="5277111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277115">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277118">case</span>&nbsp;<span class="ident" id="5277123">OpConcat</span><span class="op" id="5277131">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277135">for</span>&nbsp;<span class="ident" id="5277139">_</span><span class="op" id="5277140">,</span>&nbsp;<span class="ident" id="5277142">sub</span>&nbsp;<span class="op" id="5277146">:=</span>&nbsp;<span class="keyword" id="5277149">range</span>&nbsp;<span class="ident" id="5277155">re</span><span class="op" id="5277157">.</span><span class="ident" id="5277158">Sub</span>&nbsp;<span class="op" id="5277162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277167">if</span>&nbsp;<span class="ident" id="5277170">sub</span><span class="op" id="5277173">.</span><span class="ident" id="5277174">Op</span>&nbsp;<span class="op" id="5277177">==</span>&nbsp;<span class="ident" id="5277180">OpAlternate</span>&nbsp;<span class="op" id="5277192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277198">b</span><span class="op" id="5277199">.</span><span class="ident" id="5277200">WriteString</span><span class="op" id="5277211">(</span><span class="string" id="5277212">`(?:`</span><span class="op" id="5277217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277223">writeRegexp</span><span class="op" id="5277234">(</span><span class="ident" id="5277235">b</span><span class="op" id="5277236">,</span>&nbsp;<span class="ident" id="5277238">sub</span><span class="op" id="5277241">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277247">b</span><span class="op" id="5277248">.</span><span class="ident" id="5277249">WriteString</span><span class="op" id="5277260">(</span><span class="string" id="5277261">`)`</span><span class="op" id="5277264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277269">}</span>&nbsp;<span class="keyword" id="5277271">else</span>&nbsp;<span class="op" id="5277276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277282">writeRegexp</span><span class="op" id="5277293">(</span><span class="ident" id="5277294">b</span><span class="op" id="5277295">,</span>&nbsp;<span class="ident" id="5277297">sub</span><span class="op" id="5277300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277309">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277312">case</span>&nbsp;<span class="ident" id="5277317">OpAlternate</span><span class="op" id="5277328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277332">for</span>&nbsp;<span class="ident" id="5277336">i</span><span class="op" id="5277337">,</span>&nbsp;<span class="ident" id="5277339">sub</span>&nbsp;<span class="op" id="5277343">:=</span>&nbsp;<span class="keyword" id="5277346">range</span>&nbsp;<span class="ident" id="5277352">re</span><span class="op" id="5277354">.</span><span class="ident" id="5277355">Sub</span>&nbsp;<span class="op" id="5277359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277364">if</span>&nbsp;<span class="ident" id="5277367">i</span>&nbsp;<span class="op" id="5277369">&gt;</span>&nbsp;<span class="num" id="5277371">0</span>&nbsp;<span class="op" id="5277373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277379">b</span><span class="op" id="5277380">.</span><span class="ident" id="5277381">WriteRune</span><span class="op" id="5277390">(</span><span class="string" id="5277391">&#39;|&#39;</span><span class="op" id="5277394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277399">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277404">writeRegexp</span><span class="op" id="5277415">(</span><span class="ident" id="5277416">b</span><span class="op" id="5277417">,</span>&nbsp;<span class="ident" id="5277419">sub</span><span class="op" id="5277422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277429">}</span><br>
<span class="lineno"></span><span class="op" id="5277431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5277434">func</span>&nbsp;<span class="op" id="5277439">(</span><span class="ident" id="5277440">re</span>&nbsp;<span class="op" id="5277443">*</span><span class="ident" id="5277444">Regexp</span><span class="op" id="5277450">)</span>&nbsp;<span class="ident" id="5277452">String</span><span class="op" id="5277458">(</span><span class="op" id="5277459">)</span>&nbsp;<span class="builtintype" id="5277461">string</span>&nbsp;<span class="op" id="5277468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277471">var</span>&nbsp;<span class="ident" id="5277475">b</span>&nbsp;<span class="ident" id="5277477">bytes</span><span class="op" id="5277482">.</span><span class="ident" id="5277483">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277491">writeRegexp</span><span class="op" id="5277502">(</span><span class="op" id="5277503">&amp;</span><span class="ident" id="5277504">b</span><span class="op" id="5277505">,</span>&nbsp;<span class="ident" id="5277507">re</span><span class="op" id="5277509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277512">return</span>&nbsp;<span class="ident" id="5277519">b</span><span class="op" id="5277520">.</span><span class="ident" id="5277521">String</span><span class="op" id="5277527">(</span><span class="op" id="5277528">)</span><br>
<span class="lineno"></span><span class="op" id="5277530">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5277533">const</span>&nbsp;<span class="ident" id="5277539">meta</span>&nbsp;<span class="op" id="5277544">=</span>&nbsp;<span class="string" id="5277546">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5277564">func</span>&nbsp;<span class="ident" id="5277569">escape</span><span class="op" id="5277575">(</span><span class="ident" id="5277576">b</span>&nbsp;<span class="op" id="5277578">*</span><span class="ident" id="5277579">bytes</span><span class="op" id="5277584">.</span><span class="ident" id="5277585">Buffer</span><span class="op" id="5277591">,</span>&nbsp;<span class="ident" id="5277593">r</span>&nbsp;<span class="builtintype" id="5277595">rune</span><span class="op" id="5277599">,</span>&nbsp;<span class="ident" id="5277601">force</span>&nbsp;<span class="builtintype" id="5277607">bool</span><span class="op" id="5277611">)</span>&nbsp;<span class="op" id="5277613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277616">if</span>&nbsp;<span class="ident" id="5277619">unicode</span><span class="op" id="5277626">.</span><span class="ident" id="5277627">IsPrint</span><span class="op" id="5277634">(</span><span class="ident" id="5277635">r</span><span class="op" id="5277636">)</span>&nbsp;<span class="op" id="5277638">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277642">if</span>&nbsp;<span class="ident" id="5277645">strings</span><span class="op" id="5277652">.</span><span class="ident" id="5277653">IndexRune</span><span class="op" id="5277662">(</span><span class="ident" id="5277663">meta</span><span class="op" id="5277667">,</span>&nbsp;<span class="ident" id="5277669">r</span><span class="op" id="5277670">)</span>&nbsp;<span class="op" id="5277672">&gt;=</span>&nbsp;<span class="num" id="5277675">0</span>&nbsp;<span class="op" id="5277677">||</span>&nbsp;<span class="ident" id="5277680">force</span>&nbsp;<span class="op" id="5277686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277691">b</span><span class="op" id="5277692">.</span><span class="ident" id="5277693">WriteRune</span><span class="op" id="5277702">(</span><span class="string" id="5277703">&#39;\\&#39;</span><span class="op" id="5277707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277715">b</span><span class="op" id="5277716">.</span><span class="ident" id="5277717">WriteRune</span><span class="op" id="5277726">(</span><span class="ident" id="5277727">r</span><span class="op" id="5277728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277732">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5277740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277744">switch</span>&nbsp;<span class="ident" id="5277751">r</span>&nbsp;<span class="op" id="5277753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277756">case</span>&nbsp;<span class="string" id="5277761">&#39;\a&#39;</span><span class="op" id="5277765">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277769">b</span><span class="op" id="5277770">.</span><span class="ident" id="5277771">WriteString</span><span class="op" id="5277782">(</span><span class="string" id="5277783">`\a`</span><span class="op" id="5277787">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277790">case</span>&nbsp;<span class="string" id="5277795">&#39;\f&#39;</span><span class="op" id="5277799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277803">b</span><span class="op" id="5277804">.</span><span class="ident" id="5277805">WriteString</span><span class="op" id="5277816">(</span><span class="string" id="5277817">`\f`</span><span class="op" id="5277821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277824">case</span>&nbsp;<span class="string" id="5277829">&#39;\n&#39;</span><span class="op" id="5277833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277837">b</span><span class="op" id="5277838">.</span><span class="ident" id="5277839">WriteString</span><span class="op" id="5277850">(</span><span class="string" id="5277851">`\n`</span><span class="op" id="5277855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277858">case</span>&nbsp;<span class="string" id="5277863">&#39;\r&#39;</span><span class="op" id="5277867">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277871">b</span><span class="op" id="5277872">.</span><span class="ident" id="5277873">WriteString</span><span class="op" id="5277884">(</span><span class="string" id="5277885">`\r`</span><span class="op" id="5277889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277892">case</span>&nbsp;<span class="string" id="5277897">&#39;\t&#39;</span><span class="op" id="5277901">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277905">b</span><span class="op" id="5277906">.</span><span class="ident" id="5277907">WriteString</span><span class="op" id="5277918">(</span><span class="string" id="5277919">`\t`</span><span class="op" id="5277923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277926">case</span>&nbsp;<span class="string" id="5277931">&#39;\v&#39;</span><span class="op" id="5277935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277939">b</span><span class="op" id="5277940">.</span><span class="ident" id="5277941">WriteString</span><span class="op" id="5277952">(</span><span class="string" id="5277953">`\v`</span><span class="op" id="5277957">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277960">default</span><span class="op" id="5277967">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5277971">if</span>&nbsp;<span class="ident" id="5277974">r</span>&nbsp;<span class="op" id="5277976">&lt;</span>&nbsp;<span class="num" id="5277978">0x100</span>&nbsp;<span class="op" id="5277984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5277989">b</span><span class="op" id="5277990">.</span><span class="ident" id="5277991">WriteString</span><span class="op" id="5278002">(</span><span class="string" id="5278003">`\x`</span><span class="op" id="5278007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278012">s</span>&nbsp;<span class="op" id="5278014">:=</span>&nbsp;<span class="ident" id="5278017">strconv</span><span class="op" id="5278024">.</span><span class="ident" id="5278025">FormatInt</span><span class="op" id="5278034">(</span><span class="ident" id="5278035">int64</span><span class="op" id="5278040">(</span><span class="ident" id="5278041">r</span><span class="op" id="5278042">)</span><span class="op" id="5278043">,</span>&nbsp;<span class="num" id="5278045">16</span><span class="op" id="5278047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278052">if</span>&nbsp;<span class="builtinfunc" id="5278055">len</span><span class="op" id="5278058">(</span><span class="ident" id="5278059">s</span><span class="op" id="5278060">)</span>&nbsp;<span class="op" id="5278062">==</span>&nbsp;<span class="num" id="5278065">1</span>&nbsp;<span class="op" id="5278067">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278073">b</span><span class="op" id="5278074">.</span><span class="ident" id="5278075">WriteRune</span><span class="op" id="5278084">(</span><span class="string" id="5278085">&#39;0&#39;</span><span class="op" id="5278088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278098">b</span><span class="op" id="5278099">.</span><span class="ident" id="5278100">WriteString</span><span class="op" id="5278111">(</span><span class="ident" id="5278112">s</span><span class="op" id="5278113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278118">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278126">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278130">b</span><span class="op" id="5278131">.</span><span class="ident" id="5278132">WriteString</span><span class="op" id="5278143">(</span><span class="string" id="5278144">`\x{`</span><span class="op" id="5278149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278153">b</span><span class="op" id="5278154">.</span><span class="ident" id="5278155">WriteString</span><span class="op" id="5278166">(</span><span class="ident" id="5278167">strconv</span><span class="op" id="5278174">.</span><span class="ident" id="5278175">FormatInt</span><span class="op" id="5278184">(</span><span class="ident" id="5278185">int64</span><span class="op" id="5278190">(</span><span class="ident" id="5278191">r</span><span class="op" id="5278192">)</span><span class="op" id="5278193">,</span>&nbsp;<span class="num" id="5278195">16</span><span class="op" id="5278197">)</span><span class="op" id="5278198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278202">b</span><span class="op" id="5278203">.</span><span class="ident" id="5278204">WriteString</span><span class="op" id="5278215">(</span><span class="string" id="5278216">`}`</span><span class="op" id="5278219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278222">}</span><br>
<span class="lineno"></span><span class="op" id="5278224">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5278227">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5278289">func</span>&nbsp;<span class="op" id="5278294">(</span><span class="ident" id="5278295">re</span>&nbsp;<span class="op" id="5278298">*</span><span class="ident" id="5278299">Regexp</span><span class="op" id="5278305">)</span>&nbsp;<span class="ident" id="5278307">MaxCap</span><span class="op" id="5278313">(</span><span class="op" id="5278314">)</span>&nbsp;<span class="builtintype" id="5278316">int</span>&nbsp;<span class="op" id="5278320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278323">m</span>&nbsp;<span class="op" id="5278325">:=</span>&nbsp;<span class="num" id="5278328">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278331">if</span>&nbsp;<span class="ident" id="5278334">re</span><span class="op" id="5278336">.</span><span class="ident" id="5278337">Op</span>&nbsp;<span class="op" id="5278340">==</span>&nbsp;<span class="ident" id="5278343">OpCapture</span>&nbsp;<span class="op" id="5278353">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278357">m</span>&nbsp;<span class="op" id="5278359">=</span>&nbsp;<span class="ident" id="5278361">re</span><span class="op" id="5278363">.</span><span class="ident" id="5278364">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278372">for</span>&nbsp;<span class="ident" id="5278376">_</span><span class="op" id="5278377">,</span>&nbsp;<span class="ident" id="5278379">sub</span>&nbsp;<span class="op" id="5278383">:=</span>&nbsp;<span class="keyword" id="5278386">range</span>&nbsp;<span class="ident" id="5278392">re</span><span class="op" id="5278394">.</span><span class="ident" id="5278395">Sub</span>&nbsp;<span class="op" id="5278399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278403">if</span>&nbsp;<span class="ident" id="5278406">n</span>&nbsp;<span class="op" id="5278408">:=</span>&nbsp;<span class="ident" id="5278411">sub</span><span class="op" id="5278414">.</span><span class="ident" id="5278415">MaxCap</span><span class="op" id="5278421">(</span><span class="op" id="5278422">)</span><span class="op" id="5278423">;</span>&nbsp;<span class="ident" id="5278425">m</span>&nbsp;<span class="op" id="5278427">&lt;</span>&nbsp;<span class="ident" id="5278429">n</span>&nbsp;<span class="op" id="5278431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278436">m</span>&nbsp;<span class="op" id="5278438">=</span>&nbsp;<span class="ident" id="5278440">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278450">return</span>&nbsp;<span class="ident" id="5278457">m</span><br>
<span class="lineno"></span><span class="op" id="5278459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5278462">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5278530">func</span>&nbsp;<span class="op" id="5278535">(</span><span class="ident" id="5278536">re</span>&nbsp;<span class="op" id="5278539">*</span><span class="ident" id="5278540">Regexp</span><span class="op" id="5278546">)</span>&nbsp;<span class="ident" id="5278548">CapNames</span><span class="op" id="5278556">(</span><span class="op" id="5278557">)</span>&nbsp;<span class="op" id="5278559">[</span><span class="op" id="5278560">]</span><span class="builtintype" id="5278561">string</span>&nbsp;<span class="op" id="5278568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278571">names</span>&nbsp;<span class="op" id="5278577">:=</span>&nbsp;<span class="builtinfunc" id="5278580">make</span><span class="op" id="5278584">(</span><span class="op" id="5278585">[</span><span class="op" id="5278586">]</span><span class="builtintype" id="5278587">string</span><span class="op" id="5278593">,</span>&nbsp;<span class="ident" id="5278595">re</span><span class="op" id="5278597">.</span><span class="ident" id="5278598">MaxCap</span><span class="op" id="5278604">(</span><span class="op" id="5278605">)</span><span class="op" id="5278606">+</span><span class="num" id="5278607">1</span><span class="op" id="5278608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278611">re</span><span class="op" id="5278613">.</span><span class="ident" id="5278614">capNames</span><span class="op" id="5278622">(</span><span class="ident" id="5278623">names</span><span class="op" id="5278628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278631">return</span>&nbsp;<span class="ident" id="5278638">names</span><br>
<span class="lineno">310</span><span class="op" id="5278644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5278647">func</span>&nbsp;<span class="op" id="5278652">(</span><span class="ident" id="5278653">re</span>&nbsp;<span class="op" id="5278656">*</span><span class="ident" id="5278657">Regexp</span><span class="op" id="5278663">)</span>&nbsp;<span class="ident" id="5278665">capNames</span><span class="op" id="5278673">(</span><span class="ident" id="5278674">names</span>&nbsp;<span class="op" id="5278680">[</span><span class="op" id="5278681">]</span><span class="builtintype" id="5278682">string</span><span class="op" id="5278688">)</span>&nbsp;<span class="op" id="5278690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278693">if</span>&nbsp;<span class="ident" id="5278696">re</span><span class="op" id="5278698">.</span><span class="ident" id="5278699">Op</span>&nbsp;<span class="op" id="5278702">==</span>&nbsp;<span class="ident" id="5278705">OpCapture</span>&nbsp;<span class="op" id="5278715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278719">names</span><span class="op" id="5278724">[</span><span class="ident" id="5278725">re</span><span class="op" id="5278727">.</span><span class="ident" id="5278728">Cap</span><span class="op" id="5278731">]</span>&nbsp;<span class="op" id="5278733">=</span>&nbsp;<span class="ident" id="5278735">re</span><span class="op" id="5278737">.</span><span class="ident" id="5278738">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5278747">for</span>&nbsp;<span class="ident" id="5278751">_</span><span class="op" id="5278752">,</span>&nbsp;<span class="ident" id="5278754">sub</span>&nbsp;<span class="op" id="5278758">:=</span>&nbsp;<span class="keyword" id="5278761">range</span>&nbsp;<span class="ident" id="5278767">re</span><span class="op" id="5278769">.</span><span class="ident" id="5278770">Sub</span>&nbsp;<span class="op" id="5278774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5278778">sub</span><span class="op" id="5278781">.</span><span class="ident" id="5278782">capNames</span><span class="op" id="5278790">(</span><span class="ident" id="5278791">names</span><span class="op" id="5278796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5278799">}</span><br>
<span class="lineno"></span><span class="op" id="5278801">}</span>
</div>
</body>
</html>
