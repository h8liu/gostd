<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1665653">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1665709">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1665763">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1665814">package</span>&nbsp;<span class="ident" id="1665822">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665831">func</span>&nbsp;<span class="ident" id="1665836">setMaxStack</span><span class="op" id="1665847">(</span><span class="ident" id="1665848">in</span>&nbsp;<span class="builtintype" id="1665851">int</span><span class="op" id="1665854">)</span>&nbsp;<span class="op" id="1665856">(</span><span class="ident" id="1665857">out</span>&nbsp;<span class="builtintype" id="1665861">int</span><span class="op" id="1665864">)</span>&nbsp;<span class="op" id="1665866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665869">out</span>&nbsp;<span class="op" id="1665873">=</span>&nbsp;<span class="builtintype" id="1665875">int</span><span class="op" id="1665878">(</span><span class="ident" id="1665879">maxstacksize</span><span class="op" id="1665891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665894">maxstacksize</span>&nbsp;<span class="op" id="1665907">=</span>&nbsp;<span class="builtintype" id="1665909">uintptr</span><span class="op" id="1665916">(</span><span class="ident" id="1665917">in</span><span class="op" id="1665919">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1665922">return</span>&nbsp;<span class="ident" id="1665929">out</span><br>
<span class="lineno"></span><span class="op" id="1665933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665936">func</span>&nbsp;<span class="ident" id="1665941">setGCPercent</span><span class="op" id="1665953">(</span><span class="ident" id="1665954">in</span>&nbsp;<span class="builtintype" id="1665957">int32</span><span class="op" id="1665962">)</span>&nbsp;<span class="op" id="1665964">(</span><span class="ident" id="1665965">out</span>&nbsp;<span class="builtintype" id="1665969">int32</span><span class="op" id="1665974">)</span>&nbsp;<span class="op" id="1665976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665979">mp</span>&nbsp;<span class="op" id="1665982">:=</span>&nbsp;<span class="ident" id="1665985">acquirem</span><span class="op" id="1665993">(</span><span class="op" id="1665994">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1665997">mp</span><span class="op" id="1665999">.</span><span class="ident" id="1666000">scalararg</span><span class="op" id="1666009">[</span><span class="num" id="1666010">0</span><span class="op" id="1666011">]</span>&nbsp;<span class="op" id="1666013">=</span>&nbsp;<span class="builtintype" id="1666015">uintptr</span><span class="op" id="1666022">(</span><span class="builtintype" id="1666023">int</span><span class="op" id="1666026">(</span><span class="ident" id="1666027">in</span><span class="op" id="1666029">)</span><span class="op" id="1666030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666033">onM</span><span class="op" id="1666036">(</span><span class="ident" id="1666037">setgcpercent_m</span><span class="op" id="1666051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666054">out</span>&nbsp;<span class="op" id="1666058">=</span>&nbsp;<span class="builtintype" id="1666060">int32</span><span class="op" id="1666065">(</span><span class="builtintype" id="1666066">int</span><span class="op" id="1666069">(</span><span class="ident" id="1666070">mp</span><span class="op" id="1666072">.</span><span class="ident" id="1666073">scalararg</span><span class="op" id="1666082">[</span><span class="num" id="1666083">0</span><span class="op" id="1666084">]</span><span class="op" id="1666085">)</span><span class="op" id="1666086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666089">releasem</span><span class="op" id="1666097">(</span><span class="ident" id="1666098">mp</span><span class="op" id="1666100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666103">return</span>&nbsp;<span class="ident" id="1666110">out</span><br>
<span class="lineno">20</span><span class="op" id="1666114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1666117">func</span>&nbsp;<span class="ident" id="1666122">setPanicOnFault</span><span class="op" id="1666137">(</span><span class="builtinfunc" id="1666138">new</span>&nbsp;<span class="builtintype" id="1666142">bool</span><span class="op" id="1666146">)</span>&nbsp;<span class="op" id="1666148">(</span><span class="ident" id="1666149">old</span>&nbsp;<span class="builtintype" id="1666153">bool</span><span class="op" id="1666157">)</span>&nbsp;<span class="op" id="1666159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666162">mp</span>&nbsp;<span class="op" id="1666165">:=</span>&nbsp;<span class="ident" id="1666168">acquirem</span><span class="op" id="1666176">(</span><span class="op" id="1666177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666180">old</span>&nbsp;<span class="op" id="1666184">=</span>&nbsp;<span class="ident" id="1666186">mp</span><span class="op" id="1666188">.</span><span class="ident" id="1666189">curg</span><span class="op" id="1666193">.</span><span class="ident" id="1666194">paniconfault</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666208">mp</span><span class="op" id="1666210">.</span><span class="ident" id="1666211">curg</span><span class="op" id="1666215">.</span><span class="ident" id="1666216">paniconfault</span>&nbsp;<span class="op" id="1666229">=</span>&nbsp;<span class="builtinfunc" id="1666231">new</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666236">releasem</span><span class="op" id="1666244">(</span><span class="ident" id="1666245">mp</span><span class="op" id="1666247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666250">return</span>&nbsp;<span class="ident" id="1666257">old</span><br>
<span class="lineno"></span><span class="op" id="1666261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1666264">func</span>&nbsp;<span class="ident" id="1666269">setMaxThreads</span><span class="op" id="1666282">(</span><span class="ident" id="1666283">in</span>&nbsp;<span class="builtintype" id="1666286">int</span><span class="op" id="1666289">)</span>&nbsp;<span class="op" id="1666291">(</span><span class="ident" id="1666292">out</span>&nbsp;<span class="builtintype" id="1666296">int</span><span class="op" id="1666299">)</span>&nbsp;<span class="op" id="1666301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666304">mp</span>&nbsp;<span class="op" id="1666307">:=</span>&nbsp;<span class="ident" id="1666310">acquirem</span><span class="op" id="1666318">(</span><span class="op" id="1666319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666322">mp</span><span class="op" id="1666324">.</span><span class="ident" id="1666325">scalararg</span><span class="op" id="1666334">[</span><span class="num" id="1666335">0</span><span class="op" id="1666336">]</span>&nbsp;<span class="op" id="1666338">=</span>&nbsp;<span class="builtintype" id="1666340">uintptr</span><span class="op" id="1666347">(</span><span class="ident" id="1666348">in</span><span class="op" id="1666350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666353">onM</span><span class="op" id="1666356">(</span><span class="ident" id="1666357">setmaxthreads_m</span><span class="op" id="1666372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666375">out</span>&nbsp;<span class="op" id="1666379">=</span>&nbsp;<span class="builtintype" id="1666381">int</span><span class="op" id="1666384">(</span><span class="ident" id="1666385">mp</span><span class="op" id="1666387">.</span><span class="ident" id="1666388">scalararg</span><span class="op" id="1666397">[</span><span class="num" id="1666398">0</span><span class="op" id="1666399">]</span><span class="op" id="1666400">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1666403">releasem</span><span class="op" id="1666411">(</span><span class="ident" id="1666412">mp</span><span class="op" id="1666414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1666417">return</span>&nbsp;<span class="ident" id="1666424">out</span><br>
<span class="lineno"></span><span class="op" id="1666428">}</span>
</div>
</body>
</html>
