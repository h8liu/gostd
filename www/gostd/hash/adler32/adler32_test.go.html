<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html" class="current">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7381993">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7382048">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7382102">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7382153">package</span>&nbsp;<span class="ident" id="7382161">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7382170">import</span>&nbsp;<span class="op" id="7382177">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7382180">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7382191">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7382201">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7382204">var</span>&nbsp;<span class="ident" id="7382208">golden</span>&nbsp;<span class="op" id="7382215">=</span>&nbsp;<span class="op" id="7382217">[</span><span class="op" id="7382218">]</span><span class="keyword" id="7382219">struct</span>&nbsp;<span class="op" id="7382226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7382229">out</span>&nbsp;<span class="builtintype" id="7382233">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7382241">in</span>&nbsp;&nbsp;<span class="builtintype" id="7382245">string</span><br>
<span class="lineno">15</span><span class="op" id="7382252">}</span><span class="op" id="7382253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382256">{</span><span class="num" id="7382257">0x00000001</span><span class="op" id="7382267">,</span>&nbsp;<span class="string" id="7382269">&#34;&#34;</span><span class="op" id="7382271">}</span><span class="op" id="7382272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382275">{</span><span class="num" id="7382276">0x00620062</span><span class="op" id="7382286">,</span>&nbsp;<span class="string" id="7382288">&#34;a&#34;</span><span class="op" id="7382291">}</span><span class="op" id="7382292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382295">{</span><span class="num" id="7382296">0x012600c4</span><span class="op" id="7382306">,</span>&nbsp;<span class="string" id="7382308">&#34;ab&#34;</span><span class="op" id="7382312">}</span><span class="op" id="7382313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382316">{</span><span class="num" id="7382317">0x024d0127</span><span class="op" id="7382327">,</span>&nbsp;<span class="string" id="7382329">&#34;abc&#34;</span><span class="op" id="7382334">}</span><span class="op" id="7382335">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382338">{</span><span class="num" id="7382339">0x03d8018b</span><span class="op" id="7382349">,</span>&nbsp;<span class="string" id="7382351">&#34;abcd&#34;</span><span class="op" id="7382357">}</span><span class="op" id="7382358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382361">{</span><span class="num" id="7382362">0x05c801f0</span><span class="op" id="7382372">,</span>&nbsp;<span class="string" id="7382374">&#34;abcde&#34;</span><span class="op" id="7382381">}</span><span class="op" id="7382382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382385">{</span><span class="num" id="7382386">0x081e0256</span><span class="op" id="7382396">,</span>&nbsp;<span class="string" id="7382398">&#34;abcdef&#34;</span><span class="op" id="7382406">}</span><span class="op" id="7382407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382410">{</span><span class="num" id="7382411">0x0adb02bd</span><span class="op" id="7382421">,</span>&nbsp;<span class="string" id="7382423">&#34;abcdefg&#34;</span><span class="op" id="7382432">}</span><span class="op" id="7382433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382436">{</span><span class="num" id="7382437">0x0e000325</span><span class="op" id="7382447">,</span>&nbsp;<span class="string" id="7382449">&#34;abcdefgh&#34;</span><span class="op" id="7382459">}</span><span class="op" id="7382460">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382463">{</span><span class="num" id="7382464">0x118e038e</span><span class="op" id="7382474">,</span>&nbsp;<span class="string" id="7382476">&#34;abcdefghi&#34;</span><span class="op" id="7382487">}</span><span class="op" id="7382488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382491">{</span><span class="num" id="7382492">0x158603f8</span><span class="op" id="7382502">,</span>&nbsp;<span class="string" id="7382504">&#34;abcdefghij&#34;</span><span class="op" id="7382516">}</span><span class="op" id="7382517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382520">{</span><span class="num" id="7382521">0x3f090f02</span><span class="op" id="7382531">,</span>&nbsp;<span class="string" id="7382533">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7382576">}</span><span class="op" id="7382577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382580">{</span><span class="num" id="7382581">0x46d81477</span><span class="op" id="7382591">,</span>&nbsp;<span class="string" id="7382593">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7382652">}</span><span class="op" id="7382653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382656">{</span><span class="num" id="7382657">0x40ee0ee1</span><span class="op" id="7382667">,</span>&nbsp;<span class="string" id="7382669">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7382713">}</span><span class="op" id="7382714">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382717">{</span><span class="num" id="7382718">0x16661315</span><span class="op" id="7382728">,</span>&nbsp;<span class="string" id="7382730">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7382789">}</span><span class="op" id="7382790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382793">{</span><span class="num" id="7382794">0x5b2e1480</span><span class="op" id="7382804">,</span>&nbsp;<span class="string" id="7382806">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7382866">}</span><span class="op" id="7382867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382870">{</span><span class="num" id="7382871">0x8c3c09ea</span><span class="op" id="7382881">,</span>&nbsp;<span class="string" id="7382883">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7382912">}</span><span class="op" id="7382913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382916">{</span><span class="num" id="7382917">0x45ac18fd</span><span class="op" id="7382927">,</span>&nbsp;<span class="string" id="7382929">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7382998">}</span><span class="op" id="7382999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383002">{</span><span class="num" id="7383003">0x53c61462</span><span class="op" id="7383013">,</span>&nbsp;<span class="string" id="7383015">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7383074">}</span><span class="op" id="7383075">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383078">{</span><span class="num" id="7383079">0x7e511e63</span><span class="op" id="7383089">,</span>&nbsp;<span class="string" id="7383091">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7383181">}</span><span class="op" id="7383182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383185">{</span><span class="num" id="7383186">0xe4801a6a</span><span class="op" id="7383196">,</span>&nbsp;<span class="string" id="7383198">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7383275">}</span><span class="op" id="7383276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383279">{</span><span class="num" id="7383280">0x61b507df</span><span class="op" id="7383290">,</span>&nbsp;<span class="string" id="7383292">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7383318">}</span><span class="op" id="7383319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383322">{</span><span class="num" id="7383323">0xb8631171</span><span class="op" id="7383333">,</span>&nbsp;<span class="string" id="7383335">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7383386">}</span><span class="op" id="7383387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383390">{</span><span class="num" id="7383391">0x8b5e1904</span><span class="op" id="7383401">,</span>&nbsp;<span class="string" id="7383403">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7383477">}</span><span class="op" id="7383478">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383481">{</span><span class="num" id="7383482">0x7cc6102b</span><span class="op" id="7383492">,</span>&nbsp;<span class="string" id="7383494">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7383542">}</span><span class="op" id="7383543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383546">{</span><span class="num" id="7383547">0x700318e7</span><span class="op" id="7383557">,</span>&nbsp;<span class="string" id="7383559">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7383631">}</span><span class="op" id="7383632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383635">{</span><span class="num" id="7383636">0x1e601747</span><span class="op" id="7383646">,</span>&nbsp;<span class="string" id="7383648">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7383718">}</span><span class="op" id="7383719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383722">{</span><span class="num" id="7383723">0xb55b0b09</span><span class="op" id="7383733">,</span>&nbsp;<span class="string" id="7383735">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7383769">}</span><span class="op" id="7383770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383773">{</span><span class="num" id="7383774">0x39111dd0</span><span class="op" id="7383784">,</span>&nbsp;<span class="string" id="7383786">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7383876">}</span><span class="op" id="7383877">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383880">{</span><span class="num" id="7383881">0x91dd304f</span><span class="op" id="7383891">,</span>&nbsp;<span class="string" id="7383893">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7384027">}</span><span class="op" id="7384028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384031">{</span><span class="num" id="7384032">0x2e5d1316</span><span class="op" id="7384042">,</span>&nbsp;<span class="string" id="7384044">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7384102">}</span><span class="op" id="7384103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384106">{</span><span class="num" id="7384107">0xd0201df6</span><span class="op" id="7384117">,</span>&nbsp;<span class="string" id="7384119">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="7384202">}</span><span class="op" id="7384203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384206">{</span><span class="num" id="7384207">0x211297c8</span><span class="op" id="7384217">,</span>&nbsp;<span class="ident" id="7384219">strings</span><span class="op" id="7384226">.</span><span class="ident" id="7384227">Repeat</span><span class="op" id="7384233">(</span><span class="string" id="7384234">&#34;\xff&#34;</span><span class="op" id="7384240">,</span>&nbsp;<span class="num" id="7384242">5548</span><span class="op" id="7384246">)</span>&nbsp;<span class="op" id="7384248">+</span>&nbsp;<span class="string" id="7384250">&#34;8&#34;</span><span class="op" id="7384253">}</span><span class="op" id="7384254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384257">{</span><span class="num" id="7384258">0xbaa198c8</span><span class="op" id="7384268">,</span>&nbsp;<span class="ident" id="7384270">strings</span><span class="op" id="7384277">.</span><span class="ident" id="7384278">Repeat</span><span class="op" id="7384284">(</span><span class="string" id="7384285">&#34;\xff&#34;</span><span class="op" id="7384291">,</span>&nbsp;<span class="num" id="7384293">5549</span><span class="op" id="7384297">)</span>&nbsp;<span class="op" id="7384299">+</span>&nbsp;<span class="string" id="7384301">&#34;9&#34;</span><span class="op" id="7384304">}</span><span class="op" id="7384305">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384308">{</span><span class="num" id="7384309">0x553499be</span><span class="op" id="7384319">,</span>&nbsp;<span class="ident" id="7384321">strings</span><span class="op" id="7384328">.</span><span class="ident" id="7384329">Repeat</span><span class="op" id="7384335">(</span><span class="string" id="7384336">&#34;\xff&#34;</span><span class="op" id="7384342">,</span>&nbsp;<span class="num" id="7384344">5550</span><span class="op" id="7384348">)</span>&nbsp;<span class="op" id="7384350">+</span>&nbsp;<span class="string" id="7384352">&#34;0&#34;</span><span class="op" id="7384355">}</span><span class="op" id="7384356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384359">{</span><span class="num" id="7384360">0xf0c19abe</span><span class="op" id="7384370">,</span>&nbsp;<span class="ident" id="7384372">strings</span><span class="op" id="7384379">.</span><span class="ident" id="7384380">Repeat</span><span class="op" id="7384386">(</span><span class="string" id="7384387">&#34;\xff&#34;</span><span class="op" id="7384393">,</span>&nbsp;<span class="num" id="7384395">5551</span><span class="op" id="7384399">)</span>&nbsp;<span class="op" id="7384401">+</span>&nbsp;<span class="string" id="7384403">&#34;1&#34;</span><span class="op" id="7384406">}</span><span class="op" id="7384407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384410">{</span><span class="num" id="7384411">0x8d5c9bbe</span><span class="op" id="7384421">,</span>&nbsp;<span class="ident" id="7384423">strings</span><span class="op" id="7384430">.</span><span class="ident" id="7384431">Repeat</span><span class="op" id="7384437">(</span><span class="string" id="7384438">&#34;\xff&#34;</span><span class="op" id="7384444">,</span>&nbsp;<span class="num" id="7384446">5552</span><span class="op" id="7384450">)</span>&nbsp;<span class="op" id="7384452">+</span>&nbsp;<span class="string" id="7384454">&#34;2&#34;</span><span class="op" id="7384457">}</span><span class="op" id="7384458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384461">{</span><span class="num" id="7384462">0x2af69cbe</span><span class="op" id="7384472">,</span>&nbsp;<span class="ident" id="7384474">strings</span><span class="op" id="7384481">.</span><span class="ident" id="7384482">Repeat</span><span class="op" id="7384488">(</span><span class="string" id="7384489">&#34;\xff&#34;</span><span class="op" id="7384495">,</span>&nbsp;<span class="num" id="7384497">5553</span><span class="op" id="7384501">)</span>&nbsp;<span class="op" id="7384503">+</span>&nbsp;<span class="string" id="7384505">&#34;3&#34;</span><span class="op" id="7384508">}</span><span class="op" id="7384509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384512">{</span><span class="num" id="7384513">0xc9809dbe</span><span class="op" id="7384523">,</span>&nbsp;<span class="ident" id="7384525">strings</span><span class="op" id="7384532">.</span><span class="ident" id="7384533">Repeat</span><span class="op" id="7384539">(</span><span class="string" id="7384540">&#34;\xff&#34;</span><span class="op" id="7384546">,</span>&nbsp;<span class="num" id="7384548">5554</span><span class="op" id="7384552">)</span>&nbsp;<span class="op" id="7384554">+</span>&nbsp;<span class="string" id="7384556">&#34;4&#34;</span><span class="op" id="7384559">}</span><span class="op" id="7384560">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384563">{</span><span class="num" id="7384564">0x69189ebe</span><span class="op" id="7384574">,</span>&nbsp;<span class="ident" id="7384576">strings</span><span class="op" id="7384583">.</span><span class="ident" id="7384584">Repeat</span><span class="op" id="7384590">(</span><span class="string" id="7384591">&#34;\xff&#34;</span><span class="op" id="7384597">,</span>&nbsp;<span class="num" id="7384599">5555</span><span class="op" id="7384603">)</span>&nbsp;<span class="op" id="7384605">+</span>&nbsp;<span class="string" id="7384607">&#34;5&#34;</span><span class="op" id="7384610">}</span><span class="op" id="7384611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384614">{</span><span class="num" id="7384615">0x86af0001</span><span class="op" id="7384625">,</span>&nbsp;<span class="ident" id="7384627">strings</span><span class="op" id="7384634">.</span><span class="ident" id="7384635">Repeat</span><span class="op" id="7384641">(</span><span class="string" id="7384642">&#34;\x00&#34;</span><span class="op" id="7384648">,</span>&nbsp;<span class="num" id="7384650">1e5</span><span class="op" id="7384653">)</span><span class="op" id="7384654">}</span><span class="op" id="7384655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384658">{</span><span class="num" id="7384659">0x79660b4d</span><span class="op" id="7384669">,</span>&nbsp;<span class="ident" id="7384671">strings</span><span class="op" id="7384678">.</span><span class="ident" id="7384679">Repeat</span><span class="op" id="7384685">(</span><span class="string" id="7384686">&#34;a&#34;</span><span class="op" id="7384689">,</span>&nbsp;<span class="num" id="7384691">1e5</span><span class="op" id="7384694">)</span><span class="op" id="7384695">}</span><span class="op" id="7384696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384699">{</span><span class="num" id="7384700">0x110588ee</span><span class="op" id="7384710">,</span>&nbsp;<span class="ident" id="7384712">strings</span><span class="op" id="7384719">.</span><span class="ident" id="7384720">Repeat</span><span class="op" id="7384726">(</span><span class="string" id="7384727">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="7384755">,</span>&nbsp;<span class="num" id="7384757">1e4</span><span class="op" id="7384760">)</span><span class="op" id="7384761">}</span><span class="op" id="7384762">,</span><br>
<span class="lineno"></span><span class="op" id="7384764">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="7384767">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="7384841">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="7384908">func</span>&nbsp;<span class="ident" id="7384913">checksum</span><span class="op" id="7384921">(</span><span class="ident" id="7384922">p</span>&nbsp;<span class="op" id="7384924">[</span><span class="op" id="7384925">]</span><span class="builtintype" id="7384926">byte</span><span class="op" id="7384930">)</span>&nbsp;<span class="builtintype" id="7384932">uint32</span>&nbsp;<span class="op" id="7384939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384942">s1</span><span class="op" id="7384944">,</span>&nbsp;<span class="ident" id="7384946">s2</span>&nbsp;<span class="op" id="7384949">:=</span>&nbsp;<span class="builtintype" id="7384952">uint32</span><span class="op" id="7384958">(</span><span class="num" id="7384959">1</span><span class="op" id="7384960">)</span><span class="op" id="7384961">,</span>&nbsp;<span class="builtintype" id="7384963">uint32</span><span class="op" id="7384969">(</span><span class="num" id="7384970">0</span><span class="op" id="7384971">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7384974">for</span>&nbsp;<span class="ident" id="7384978">_</span><span class="op" id="7384979">,</span>&nbsp;<span class="ident" id="7384981">x</span>&nbsp;<span class="op" id="7384983">:=</span>&nbsp;<span class="keyword" id="7384986">range</span>&nbsp;<span class="ident" id="7384992">p</span>&nbsp;<span class="op" id="7384994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384998">s1</span>&nbsp;<span class="op" id="7385001">=</span>&nbsp;<span class="op" id="7385003">(</span><span class="ident" id="7385004">s1</span>&nbsp;<span class="op" id="7385007">+</span>&nbsp;<span class="builtintype" id="7385009">uint32</span><span class="op" id="7385015">(</span><span class="ident" id="7385016">x</span><span class="op" id="7385017">)</span><span class="op" id="7385018">)</span>&nbsp;<span class="op" id="7385020">%</span>&nbsp;<span class="ident" id="7385022">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385028">s2</span>&nbsp;<span class="op" id="7385031">=</span>&nbsp;<span class="op" id="7385033">(</span><span class="ident" id="7385034">s2</span>&nbsp;<span class="op" id="7385037">+</span>&nbsp;<span class="ident" id="7385039">s1</span><span class="op" id="7385041">)</span>&nbsp;<span class="op" id="7385043">%</span>&nbsp;<span class="ident" id="7385045">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385053">return</span>&nbsp;<span class="ident" id="7385060">s2</span><span class="op" id="7385062">&lt;&lt;</span><span class="num" id="7385064">16</span>&nbsp;<span class="op" id="7385067">|</span>&nbsp;<span class="ident" id="7385069">s1</span><br>
<span class="lineno">70</span><span class="op" id="7385072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7385075">func</span>&nbsp;<span class="ident" id="7385080">TestGolden</span><span class="op" id="7385090">(</span><span class="ident" id="7385091">t</span>&nbsp;<span class="op" id="7385093">*</span><span class="ident" id="7385094">testing</span><span class="op" id="7385101">.</span><span class="ident" id="7385102">T</span><span class="op" id="7385103">)</span>&nbsp;<span class="op" id="7385105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385108">for</span>&nbsp;<span class="ident" id="7385112">_</span><span class="op" id="7385113">,</span>&nbsp;<span class="ident" id="7385115">g</span>&nbsp;<span class="op" id="7385117">:=</span>&nbsp;<span class="keyword" id="7385120">range</span>&nbsp;<span class="ident" id="7385126">golden</span>&nbsp;<span class="op" id="7385133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385137">in</span>&nbsp;<span class="op" id="7385140">:=</span>&nbsp;<span class="ident" id="7385143">g</span><span class="op" id="7385144">.</span><span class="ident" id="7385145">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385150">if</span>&nbsp;<span class="builtinfunc" id="7385153">len</span><span class="op" id="7385156">(</span><span class="ident" id="7385157">in</span><span class="op" id="7385159">)</span>&nbsp;<span class="op" id="7385161">&gt;</span>&nbsp;<span class="num" id="7385163">220</span>&nbsp;<span class="op" id="7385167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385172">in</span>&nbsp;<span class="op" id="7385175">=</span>&nbsp;<span class="ident" id="7385177">in</span><span class="op" id="7385179">[</span><span class="op" id="7385180">:</span><span class="num" id="7385181">100</span><span class="op" id="7385184">]</span>&nbsp;<span class="op" id="7385186">+</span>&nbsp;<span class="string" id="7385188">&#34;...&#34;</span>&nbsp;<span class="op" id="7385194">+</span>&nbsp;<span class="ident" id="7385196">in</span><span class="op" id="7385198">[</span><span class="builtinfunc" id="7385199">len</span><span class="op" id="7385202">(</span><span class="ident" id="7385203">in</span><span class="op" id="7385205">)</span><span class="op" id="7385206">-</span><span class="num" id="7385207">100</span><span class="op" id="7385210">:</span><span class="op" id="7385211">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385219">p</span>&nbsp;<span class="op" id="7385221">:=</span>&nbsp;<span class="op" id="7385224">[</span><span class="op" id="7385225">]</span><span class="builtintype" id="7385226">byte</span><span class="op" id="7385230">(</span><span class="ident" id="7385231">g</span><span class="op" id="7385232">.</span><span class="ident" id="7385233">in</span><span class="op" id="7385235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385239">if</span>&nbsp;<span class="ident" id="7385242">got</span>&nbsp;<span class="op" id="7385246">:=</span>&nbsp;<span class="ident" id="7385249">checksum</span><span class="op" id="7385257">(</span><span class="ident" id="7385258">p</span><span class="op" id="7385259">)</span><span class="op" id="7385260">;</span>&nbsp;<span class="ident" id="7385262">got</span>&nbsp;<span class="op" id="7385266">!=</span>&nbsp;<span class="ident" id="7385269">g</span><span class="op" id="7385270">.</span><span class="ident" id="7385271">out</span>&nbsp;<span class="op" id="7385275">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385280">t</span><span class="op" id="7385281">.</span><span class="ident" id="7385282">Errorf</span><span class="op" id="7385288">(</span><span class="string" id="7385289">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7385343">,</span>&nbsp;<span class="ident" id="7385345">in</span><span class="op" id="7385347">,</span>&nbsp;<span class="ident" id="7385349">got</span><span class="op" id="7385352">,</span>&nbsp;<span class="ident" id="7385354">g</span><span class="op" id="7385355">.</span><span class="ident" id="7385356">out</span><span class="op" id="7385359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385364">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385379">if</span>&nbsp;<span class="ident" id="7385382">got</span>&nbsp;<span class="op" id="7385386">:=</span>&nbsp;<span class="ident" id="7385389">Checksum</span><span class="op" id="7385397">(</span><span class="ident" id="7385398">p</span><span class="op" id="7385399">)</span><span class="op" id="7385400">;</span>&nbsp;<span class="ident" id="7385402">got</span>&nbsp;<span class="op" id="7385406">!=</span>&nbsp;<span class="ident" id="7385409">g</span><span class="op" id="7385410">.</span><span class="ident" id="7385411">out</span>&nbsp;<span class="op" id="7385415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385420">t</span><span class="op" id="7385421">.</span><span class="ident" id="7385422">Errorf</span><span class="op" id="7385428">(</span><span class="string" id="7385429">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7385486">,</span>&nbsp;<span class="ident" id="7385488">in</span><span class="op" id="7385490">,</span>&nbsp;<span class="ident" id="7385492">got</span><span class="op" id="7385495">,</span>&nbsp;<span class="ident" id="7385497">g</span><span class="op" id="7385498">.</span><span class="ident" id="7385499">out</span><span class="op" id="7385502">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385507">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385521">}</span><br>
<span class="lineno"></span><span class="op" id="7385523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7385526">func</span>&nbsp;<span class="ident" id="7385531">BenchmarkAdler32KB</span><span class="op" id="7385549">(</span><span class="ident" id="7385550">b</span>&nbsp;<span class="op" id="7385552">*</span><span class="ident" id="7385553">testing</span><span class="op" id="7385560">.</span><span class="ident" id="7385561">B</span><span class="op" id="7385562">)</span>&nbsp;<span class="op" id="7385564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385567">b</span><span class="op" id="7385568">.</span><span class="ident" id="7385569">SetBytes</span><span class="op" id="7385577">(</span><span class="num" id="7385578">1024</span><span class="op" id="7385582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385585">data</span>&nbsp;<span class="op" id="7385590">:=</span>&nbsp;<span class="builtinfunc" id="7385593">make</span><span class="op" id="7385597">(</span><span class="op" id="7385598">[</span><span class="op" id="7385599">]</span><span class="builtintype" id="7385600">byte</span><span class="op" id="7385604">,</span>&nbsp;<span class="num" id="7385606">1024</span><span class="op" id="7385610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385613">for</span>&nbsp;<span class="ident" id="7385617">i</span>&nbsp;<span class="op" id="7385619">:=</span>&nbsp;<span class="keyword" id="7385622">range</span>&nbsp;<span class="ident" id="7385628">data</span>&nbsp;<span class="op" id="7385633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385637">data</span><span class="op" id="7385641">[</span><span class="ident" id="7385642">i</span><span class="op" id="7385643">]</span>&nbsp;<span class="op" id="7385645">=</span>&nbsp;<span class="builtintype" id="7385647">byte</span><span class="op" id="7385651">(</span><span class="ident" id="7385652">i</span><span class="op" id="7385653">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385659">h</span>&nbsp;<span class="op" id="7385661">:=</span>&nbsp;<span class="ident" id="7385664">New</span><span class="op" id="7385667">(</span><span class="op" id="7385668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385671">in</span>&nbsp;<span class="op" id="7385674">:=</span>&nbsp;<span class="builtinfunc" id="7385677">make</span><span class="op" id="7385681">(</span><span class="op" id="7385682">[</span><span class="op" id="7385683">]</span><span class="builtintype" id="7385684">byte</span><span class="op" id="7385688">,</span>&nbsp;<span class="num" id="7385690">0</span><span class="op" id="7385691">,</span>&nbsp;<span class="ident" id="7385693">h</span><span class="op" id="7385694">.</span><span class="ident" id="7385695">Size</span><span class="op" id="7385699">(</span><span class="op" id="7385700">)</span><span class="op" id="7385701">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385705">b</span><span class="op" id="7385706">.</span><span class="ident" id="7385707">ResetTimer</span><span class="op" id="7385717">(</span><span class="op" id="7385718">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385721">for</span>&nbsp;<span class="ident" id="7385725">i</span>&nbsp;<span class="op" id="7385727">:=</span>&nbsp;<span class="num" id="7385730">0</span><span class="op" id="7385731">;</span>&nbsp;<span class="ident" id="7385733">i</span>&nbsp;<span class="op" id="7385735">&lt;</span>&nbsp;<span class="ident" id="7385737">b</span><span class="op" id="7385738">.</span><span class="ident" id="7385739">N</span><span class="op" id="7385740">;</span>&nbsp;<span class="ident" id="7385742">i</span><span class="op" id="7385743">++</span>&nbsp;<span class="op" id="7385746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385750">h</span><span class="op" id="7385751">.</span><span class="ident" id="7385752">Reset</span><span class="op" id="7385757">(</span><span class="op" id="7385758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385762">h</span><span class="op" id="7385763">.</span><span class="ident" id="7385764">Write</span><span class="op" id="7385769">(</span><span class="ident" id="7385770">data</span><span class="op" id="7385774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385778">h</span><span class="op" id="7385779">.</span><span class="ident" id="7385780">Sum</span><span class="op" id="7385783">(</span><span class="ident" id="7385784">in</span><span class="op" id="7385786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385789">}</span><br>
<span class="lineno">105</span><span class="op" id="7385791">}</span>
</div>
</body>
</html>
