<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/textproto</h2>
<ul>
<li><a href="/gostd/net/textproto/header.go.html">header.go</a></li>
<li><a href="/gostd/net/textproto/pipeline.go.html">pipeline.go</a></li>
<li><a href="/gostd/net/textproto/reader.go.html">reader.go</a></li>
<li><a href="/gostd/net/textproto/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/net/textproto/textproto.go.html">textproto.go</a></li>
<li><a href="/gostd/net/textproto/writer.go.html">writer.go</a></li>
<li><a href="/gostd/net/textproto/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4546411">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4546467">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4546521">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4546572">package</span>&nbsp;<span class="ident" id="4546580">textproto</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4546591">//&nbsp;A&nbsp;MIMEHeader&nbsp;represents&nbsp;a&nbsp;MIME-style&nbsp;header&nbsp;mapping</span><br>
<span class="lineno"></span><span class="comment" id="4546646">//&nbsp;keys&nbsp;to&nbsp;sets&nbsp;of&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="4546673">type</span>&nbsp;<span class="ident" id="4546678">MIMEHeader</span>&nbsp;<span class="keyword" id="4546689">map</span><span class="op" id="4546692">[</span><span class="builtintype" id="4546693">string</span><span class="op" id="4546699">]</span><span class="op" id="4546700">[</span><span class="op" id="4546701">]</span><span class="builtintype" id="4546702">string</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="4546710">//&nbsp;Add&nbsp;adds&nbsp;the&nbsp;key,&nbsp;value&nbsp;pair&nbsp;to&nbsp;the&nbsp;header.</span><br>
<span class="lineno"></span><span class="comment" id="4546757">//&nbsp;It&nbsp;appends&nbsp;to&nbsp;any&nbsp;existing&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="4546815">func</span>&nbsp;<span class="op" id="4546820">(</span><span class="ident" id="4546821">h</span>&nbsp;<span class="ident" id="4546823">MIMEHeader</span><span class="op" id="4546833">)</span>&nbsp;<span class="ident" id="4546835">Add</span><span class="op" id="4546838">(</span><span class="ident" id="4546839">key</span><span class="op" id="4546842">,</span>&nbsp;<span class="ident" id="4546844">value</span>&nbsp;<span class="builtintype" id="4546850">string</span><span class="op" id="4546856">)</span>&nbsp;<span class="op" id="4546858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4546861">key</span>&nbsp;<span class="op" id="4546865">=</span>&nbsp;<span class="ident" id="4546867">CanonicalMIMEHeaderKey</span><span class="op" id="4546889">(</span><span class="ident" id="4546890">key</span><span class="op" id="4546893">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4546896">h</span><span class="op" id="4546897">[</span><span class="ident" id="4546898">key</span><span class="op" id="4546901">]</span>&nbsp;<span class="op" id="4546903">=</span>&nbsp;<span class="builtinfunc" id="4546905">append</span><span class="op" id="4546911">(</span><span class="ident" id="4546912">h</span><span class="op" id="4546913">[</span><span class="ident" id="4546914">key</span><span class="op" id="4546917">]</span><span class="op" id="4546918">,</span>&nbsp;<span class="ident" id="4546920">value</span><span class="op" id="4546925">)</span><br>
<span class="lineno"></span><span class="op" id="4546927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4546930">//&nbsp;Set&nbsp;sets&nbsp;the&nbsp;header&nbsp;entries&nbsp;associated&nbsp;with&nbsp;key&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4546984">//&nbsp;the&nbsp;single&nbsp;element&nbsp;value.&nbsp;&nbsp;It&nbsp;replaces&nbsp;any&nbsp;existing</span><br>
<span class="lineno">20</span><span class="comment" id="4547039">//&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="4547070">func</span>&nbsp;<span class="op" id="4547075">(</span><span class="ident" id="4547076">h</span>&nbsp;<span class="ident" id="4547078">MIMEHeader</span><span class="op" id="4547088">)</span>&nbsp;<span class="ident" id="4547090">Set</span><span class="op" id="4547093">(</span><span class="ident" id="4547094">key</span><span class="op" id="4547097">,</span>&nbsp;<span class="ident" id="4547099">value</span>&nbsp;<span class="builtintype" id="4547105">string</span><span class="op" id="4547111">)</span>&nbsp;<span class="op" id="4547113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4547116">h</span><span class="op" id="4547117">[</span><span class="ident" id="4547118">CanonicalMIMEHeaderKey</span><span class="op" id="4547140">(</span><span class="ident" id="4547141">key</span><span class="op" id="4547144">)</span><span class="op" id="4547145">]</span>&nbsp;<span class="op" id="4547147">=</span>&nbsp;<span class="op" id="4547149">[</span><span class="op" id="4547150">]</span><span class="builtintype" id="4547151">string</span><span class="op" id="4547157">{</span><span class="ident" id="4547158">value</span><span class="op" id="4547163">}</span><br>
<span class="lineno"></span><span class="op" id="4547165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="4547168">//&nbsp;Get&nbsp;gets&nbsp;the&nbsp;first&nbsp;value&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;key.</span><br>
<span class="lineno"></span><span class="comment" id="4547227">//&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;values&nbsp;associated&nbsp;with&nbsp;the&nbsp;key,&nbsp;Get&nbsp;returns&nbsp;&#34;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4547294">//&nbsp;Get&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.&nbsp;&nbsp;For&nbsp;more&nbsp;complex&nbsp;queries,</span><br>
<span class="lineno"></span><span class="comment" id="4547353">//&nbsp;access&nbsp;the&nbsp;map&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="4547381">func</span>&nbsp;<span class="op" id="4547386">(</span><span class="ident" id="4547387">h</span>&nbsp;<span class="ident" id="4547389">MIMEHeader</span><span class="op" id="4547399">)</span>&nbsp;<span class="ident" id="4547401">Get</span><span class="op" id="4547404">(</span><span class="ident" id="4547405">key</span>&nbsp;<span class="builtintype" id="4547409">string</span><span class="op" id="4547415">)</span>&nbsp;<span class="builtintype" id="4547417">string</span>&nbsp;<span class="op" id="4547424">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4547427">if</span>&nbsp;<span class="ident" id="4547430">h</span>&nbsp;<span class="op" id="4547432">==</span>&nbsp;<span class="ident" id="4547435">nil</span>&nbsp;<span class="op" id="4547439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4547443">return</span>&nbsp;<span class="string" id="4547450">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4547454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4547457">v</span>&nbsp;<span class="op" id="4547459">:=</span>&nbsp;<span class="ident" id="4547462">h</span><span class="op" id="4547463">[</span><span class="ident" id="4547464">CanonicalMIMEHeaderKey</span><span class="op" id="4547486">(</span><span class="ident" id="4547487">key</span><span class="op" id="4547490">)</span><span class="op" id="4547491">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4547494">if</span>&nbsp;<span class="builtinfunc" id="4547497">len</span><span class="op" id="4547500">(</span><span class="ident" id="4547501">v</span><span class="op" id="4547502">)</span>&nbsp;<span class="op" id="4547504">==</span>&nbsp;<span class="num" id="4547507">0</span>&nbsp;<span class="op" id="4547509">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4547513">return</span>&nbsp;<span class="string" id="4547520">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4547524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4547527">return</span>&nbsp;<span class="ident" id="4547534">v</span><span class="op" id="4547535">[</span><span class="num" id="4547536">0</span><span class="op" id="4547537">]</span><br>
<span class="lineno"></span><span class="op" id="4547539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="4547542">//&nbsp;Del&nbsp;deletes&nbsp;the&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="4547589">func</span>&nbsp;<span class="op" id="4547594">(</span><span class="ident" id="4547595">h</span>&nbsp;<span class="ident" id="4547597">MIMEHeader</span><span class="op" id="4547607">)</span>&nbsp;<span class="ident" id="4547609">Del</span><span class="op" id="4547612">(</span><span class="ident" id="4547613">key</span>&nbsp;<span class="builtintype" id="4547617">string</span><span class="op" id="4547623">)</span>&nbsp;<span class="op" id="4547625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4547628">delete</span><span class="op" id="4547634">(</span><span class="ident" id="4547635">h</span><span class="op" id="4547636">,</span>&nbsp;<span class="ident" id="4547638">CanonicalMIMEHeaderKey</span><span class="op" id="4547660">(</span><span class="ident" id="4547661">key</span><span class="op" id="4547664">)</span><span class="op" id="4547665">)</span><br>
<span class="lineno"></span><span class="op" id="4547667">}</span>
</div>
</body>
</html>
