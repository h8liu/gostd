<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5440231">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5440287">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5440341">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5440392">package</span>&nbsp;<span class="ident" id="5440400">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5440407">import</span>&nbsp;<span class="string" id="5440414">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5440425">//&nbsp;DWARF&nbsp;debug&nbsp;info&nbsp;is&nbsp;split&nbsp;into&nbsp;a&nbsp;sequence&nbsp;of&nbsp;compilation&nbsp;units.</span><br>
<span class="lineno">10</span><span class="comment" id="5440492">//&nbsp;Each&nbsp;unit&nbsp;has&nbsp;its&nbsp;own&nbsp;abbreviation&nbsp;table&nbsp;and&nbsp;address&nbsp;size.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5440555">type</span>&nbsp;<span class="ident" id="5440560">unit</span>&nbsp;<span class="keyword" id="5440565">struct</span>&nbsp;<span class="op" id="5440572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5440575">base</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5440582">Offset</span>&nbsp;<span class="comment" id="5440589">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;header&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5440641">off</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5440648">Offset</span>&nbsp;<span class="comment" id="5440655">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;data&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5440705">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5440712">[</span><span class="op" id="5440713">]</span><span class="builtintype" id="5440714">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5440720">atable</span>&nbsp;<span class="ident" id="5440727">abbrevTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5440740">asize</span>&nbsp;&nbsp;<span class="builtintype" id="5440747">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5440752">vers</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5440759">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5440764">is64</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5440771">bool</span>&nbsp;<span class="comment" id="5440776">//&nbsp;True&nbsp;for&nbsp;64-bit&nbsp;DWARF&nbsp;format</span><br>
<span class="lineno">20</span><span class="op" id="5440808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5440811">//&nbsp;Implement&nbsp;the&nbsp;dataFormat&nbsp;interface.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5440851">func</span>&nbsp;<span class="op" id="5440856">(</span><span class="ident" id="5440857">u</span>&nbsp;<span class="op" id="5440859">*</span><span class="ident" id="5440860">unit</span><span class="op" id="5440864">)</span>&nbsp;<span class="ident" id="5440866">version</span><span class="op" id="5440873">(</span><span class="op" id="5440874">)</span>&nbsp;<span class="builtintype" id="5440876">int</span>&nbsp;<span class="op" id="5440880">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5440883">return</span>&nbsp;<span class="ident" id="5440890">u</span><span class="op" id="5440891">.</span><span class="ident" id="5440892">vers</span><br>
<span class="lineno"></span><span class="op" id="5440897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5440900">func</span>&nbsp;<span class="op" id="5440905">(</span><span class="ident" id="5440906">u</span>&nbsp;<span class="op" id="5440908">*</span><span class="ident" id="5440909">unit</span><span class="op" id="5440913">)</span>&nbsp;<span class="ident" id="5440915">dwarf64</span><span class="op" id="5440922">(</span><span class="op" id="5440923">)</span>&nbsp;<span class="op" id="5440925">(</span><span class="builtintype" id="5440926">bool</span><span class="op" id="5440930">,</span>&nbsp;<span class="builtintype" id="5440932">bool</span><span class="op" id="5440936">)</span>&nbsp;<span class="op" id="5440938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5440941">return</span>&nbsp;<span class="ident" id="5440948">u</span><span class="op" id="5440949">.</span><span class="ident" id="5440950">is64</span><span class="op" id="5440954">,</span>&nbsp;<span class="ident" id="5440956">true</span><br>
<span class="lineno">30</span><span class="op" id="5440961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5440964">func</span>&nbsp;<span class="op" id="5440969">(</span><span class="ident" id="5440970">u</span>&nbsp;<span class="op" id="5440972">*</span><span class="ident" id="5440973">unit</span><span class="op" id="5440977">)</span>&nbsp;<span class="ident" id="5440979">addrsize</span><span class="op" id="5440987">(</span><span class="op" id="5440988">)</span>&nbsp;<span class="builtintype" id="5440990">int</span>&nbsp;<span class="op" id="5440994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5440997">return</span>&nbsp;<span class="ident" id="5441004">u</span><span class="op" id="5441005">.</span><span class="ident" id="5441006">asize</span><br>
<span class="lineno"></span><span class="op" id="5441012">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="5441015">func</span>&nbsp;<span class="op" id="5441020">(</span><span class="ident" id="5441021">d</span>&nbsp;<span class="op" id="5441023">*</span><span class="ident" id="5441024">Data</span><span class="op" id="5441028">)</span>&nbsp;<span class="ident" id="5441030">parseUnits</span><span class="op" id="5441040">(</span><span class="op" id="5441041">)</span>&nbsp;<span class="op" id="5441043">(</span><span class="op" id="5441044">[</span><span class="op" id="5441045">]</span><span class="ident" id="5441046">unit</span><span class="op" id="5441050">,</span>&nbsp;<span class="builtintype" id="5441052">error</span><span class="op" id="5441057">)</span>&nbsp;<span class="op" id="5441059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5441062">//&nbsp;Count&nbsp;units.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441079">nunit</span>&nbsp;<span class="op" id="5441085">:=</span>&nbsp;<span class="num" id="5441088">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441091">b</span>&nbsp;<span class="op" id="5441093">:=</span>&nbsp;<span class="ident" id="5441096">makeBuf</span><span class="op" id="5441103">(</span><span class="ident" id="5441104">d</span><span class="op" id="5441105">,</span>&nbsp;<span class="ident" id="5441107">unknownFormat</span><span class="op" id="5441120">{</span><span class="op" id="5441121">}</span><span class="op" id="5441122">,</span>&nbsp;<span class="string" id="5441124">&#34;info&#34;</span><span class="op" id="5441130">,</span>&nbsp;<span class="num" id="5441132">0</span><span class="op" id="5441133">,</span>&nbsp;<span class="ident" id="5441135">d</span><span class="op" id="5441136">.</span><span class="ident" id="5441137">info</span><span class="op" id="5441141">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441144">for</span>&nbsp;<span class="builtinfunc" id="5441148">len</span><span class="op" id="5441151">(</span><span class="ident" id="5441152">b</span><span class="op" id="5441153">.</span><span class="ident" id="5441154">data</span><span class="op" id="5441158">)</span>&nbsp;<span class="op" id="5441160">&gt;</span>&nbsp;<span class="num" id="5441162">0</span>&nbsp;<span class="op" id="5441164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5441168">len</span>&nbsp;<span class="op" id="5441172">:=</span>&nbsp;<span class="ident" id="5441175">b</span><span class="op" id="5441176">.</span><span class="builtintype" id="5441177">uint32</span><span class="op" id="5441183">(</span><span class="op" id="5441184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441188">if</span>&nbsp;<span class="builtinfunc" id="5441191">len</span>&nbsp;<span class="op" id="5441195">==</span>&nbsp;<span class="num" id="5441198">0xffffffff</span>&nbsp;<span class="op" id="5441209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441214">len64</span>&nbsp;<span class="op" id="5441220">:=</span>&nbsp;<span class="ident" id="5441223">b</span><span class="op" id="5441224">.</span><span class="ident" id="5441225">uint64</span><span class="op" id="5441231">(</span><span class="op" id="5441232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441237">if</span>&nbsp;<span class="ident" id="5441240">len64</span>&nbsp;<span class="op" id="5441246">!=</span>&nbsp;<span class="ident" id="5441249">uint64</span><span class="op" id="5441255">(</span><span class="builtintype" id="5441256">uint32</span><span class="op" id="5441262">(</span><span class="ident" id="5441263">len64</span><span class="op" id="5441268">)</span><span class="op" id="5441269">)</span>&nbsp;<span class="op" id="5441271">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441277">b</span><span class="op" id="5441278">.</span><span class="builtintype" id="5441279">error</span><span class="op" id="5441284">(</span><span class="string" id="5441285">&#34;unit&nbsp;length&nbsp;overflow&#34;</span><span class="op" id="5441307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441313">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5441327">len</span>&nbsp;<span class="op" id="5441331">=</span>&nbsp;<span class="builtintype" id="5441333">uint32</span><span class="op" id="5441339">(</span><span class="ident" id="5441340">len64</span><span class="op" id="5441345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441349">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441353">b</span><span class="op" id="5441354">.</span><span class="ident" id="5441355">skip</span><span class="op" id="5441359">(</span><span class="builtintype" id="5441360">int</span><span class="op" id="5441363">(</span><span class="builtinfunc" id="5441364">len</span><span class="op" id="5441367">)</span><span class="op" id="5441368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441372">nunit</span><span class="op" id="5441377">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441384">if</span>&nbsp;<span class="ident" id="5441387">b</span><span class="op" id="5441388">.</span><span class="ident" id="5441389">err</span>&nbsp;<span class="op" id="5441393">!=</span>&nbsp;<span class="ident" id="5441396">nil</span>&nbsp;<span class="op" id="5441400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441404">return</span>&nbsp;<span class="ident" id="5441411">nil</span><span class="op" id="5441414">,</span>&nbsp;<span class="ident" id="5441416">b</span><span class="op" id="5441417">.</span><span class="ident" id="5441418">err</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5441427">//&nbsp;Again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441467">b</span>&nbsp;<span class="op" id="5441469">=</span>&nbsp;<span class="ident" id="5441471">makeBuf</span><span class="op" id="5441478">(</span><span class="ident" id="5441479">d</span><span class="op" id="5441480">,</span>&nbsp;<span class="ident" id="5441482">unknownFormat</span><span class="op" id="5441495">{</span><span class="op" id="5441496">}</span><span class="op" id="5441497">,</span>&nbsp;<span class="string" id="5441499">&#34;info&#34;</span><span class="op" id="5441505">,</span>&nbsp;<span class="num" id="5441507">0</span><span class="op" id="5441508">,</span>&nbsp;<span class="ident" id="5441510">d</span><span class="op" id="5441511">.</span><span class="ident" id="5441512">info</span><span class="op" id="5441516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441519">units</span>&nbsp;<span class="op" id="5441525">:=</span>&nbsp;<span class="builtinfunc" id="5441528">make</span><span class="op" id="5441532">(</span><span class="op" id="5441533">[</span><span class="op" id="5441534">]</span><span class="ident" id="5441535">unit</span><span class="op" id="5441539">,</span>&nbsp;<span class="ident" id="5441541">nunit</span><span class="op" id="5441546">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441549">for</span>&nbsp;<span class="ident" id="5441553">i</span>&nbsp;<span class="op" id="5441555">:=</span>&nbsp;<span class="keyword" id="5441558">range</span>&nbsp;<span class="ident" id="5441564">units</span>&nbsp;<span class="op" id="5441570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441574">u</span>&nbsp;<span class="op" id="5441576">:=</span>&nbsp;<span class="op" id="5441579">&amp;</span><span class="ident" id="5441580">units</span><span class="op" id="5441585">[</span><span class="ident" id="5441586">i</span><span class="op" id="5441587">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441591">u</span><span class="op" id="5441592">.</span><span class="ident" id="5441593">base</span>&nbsp;<span class="op" id="5441598">=</span>&nbsp;<span class="ident" id="5441600">b</span><span class="op" id="5441601">.</span><span class="ident" id="5441602">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441608">n</span>&nbsp;<span class="op" id="5441610">:=</span>&nbsp;<span class="ident" id="5441613">b</span><span class="op" id="5441614">.</span><span class="builtintype" id="5441615">uint32</span><span class="op" id="5441621">(</span><span class="op" id="5441622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441626">if</span>&nbsp;<span class="ident" id="5441629">n</span>&nbsp;<span class="op" id="5441631">==</span>&nbsp;<span class="num" id="5441634">0xffffffff</span>&nbsp;<span class="op" id="5441645">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441650">u</span><span class="op" id="5441651">.</span><span class="ident" id="5441652">is64</span>&nbsp;<span class="op" id="5441657">=</span>&nbsp;<span class="ident" id="5441659">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441667">n</span>&nbsp;<span class="op" id="5441669">=</span>&nbsp;<span class="builtintype" id="5441671">uint32</span><span class="op" id="5441677">(</span><span class="ident" id="5441678">b</span><span class="op" id="5441679">.</span><span class="ident" id="5441680">uint64</span><span class="op" id="5441686">(</span><span class="op" id="5441687">)</span><span class="op" id="5441688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441696">vers</span>&nbsp;<span class="op" id="5441701">:=</span>&nbsp;<span class="ident" id="5441704">b</span><span class="op" id="5441705">.</span><span class="builtintype" id="5441706">uint16</span><span class="op" id="5441712">(</span><span class="op" id="5441713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441717">if</span>&nbsp;<span class="ident" id="5441720">vers</span>&nbsp;<span class="op" id="5441725">!=</span>&nbsp;<span class="num" id="5441728">2</span>&nbsp;<span class="op" id="5441730">&amp;&amp;</span>&nbsp;<span class="ident" id="5441733">vers</span>&nbsp;<span class="op" id="5441738">!=</span>&nbsp;<span class="num" id="5441741">3</span>&nbsp;<span class="op" id="5441743">&amp;&amp;</span>&nbsp;<span class="ident" id="5441746">vers</span>&nbsp;<span class="op" id="5441751">!=</span>&nbsp;<span class="num" id="5441754">4</span>&nbsp;<span class="op" id="5441756">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441761">b</span><span class="op" id="5441762">.</span><span class="builtintype" id="5441763">error</span><span class="op" id="5441768">(</span><span class="string" id="5441769">&#34;unsupported&nbsp;DWARF&nbsp;version&nbsp;&#34;</span>&nbsp;<span class="op" id="5441798">+</span>&nbsp;<span class="ident" id="5441800">strconv</span><span class="op" id="5441807">.</span><span class="ident" id="5441808">Itoa</span><span class="op" id="5441812">(</span><span class="builtintype" id="5441813">int</span><span class="op" id="5441816">(</span><span class="ident" id="5441817">vers</span><span class="op" id="5441821">)</span><span class="op" id="5441822">)</span><span class="op" id="5441823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441828">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441840">u</span><span class="op" id="5441841">.</span><span class="ident" id="5441842">vers</span>&nbsp;<span class="op" id="5441847">=</span>&nbsp;<span class="builtintype" id="5441849">int</span><span class="op" id="5441852">(</span><span class="ident" id="5441853">vers</span><span class="op" id="5441857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441861">atable</span><span class="op" id="5441867">,</span>&nbsp;<span class="ident" id="5441869">err</span>&nbsp;<span class="op" id="5441873">:=</span>&nbsp;<span class="ident" id="5441876">d</span><span class="op" id="5441877">.</span><span class="ident" id="5441878">parseAbbrev</span><span class="op" id="5441889">(</span><span class="ident" id="5441890">b</span><span class="op" id="5441891">.</span><span class="builtintype" id="5441892">uint32</span><span class="op" id="5441898">(</span><span class="op" id="5441899">)</span><span class="op" id="5441900">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441904">if</span>&nbsp;<span class="ident" id="5441907">err</span>&nbsp;<span class="op" id="5441911">!=</span>&nbsp;<span class="ident" id="5441914">nil</span>&nbsp;<span class="op" id="5441918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441923">if</span>&nbsp;<span class="ident" id="5441926">b</span><span class="op" id="5441927">.</span><span class="ident" id="5441928">err</span>&nbsp;<span class="op" id="5441932">==</span>&nbsp;<span class="ident" id="5441935">nil</span>&nbsp;<span class="op" id="5441939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441945">b</span><span class="op" id="5441946">.</span><span class="ident" id="5441947">err</span>&nbsp;<span class="op" id="5441951">=</span>&nbsp;<span class="ident" id="5441953">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5441965">break</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5441973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441977">u</span><span class="op" id="5441978">.</span><span class="ident" id="5441979">atable</span>&nbsp;<span class="op" id="5441986">=</span>&nbsp;<span class="ident" id="5441988">atable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5441997">u</span><span class="op" id="5441998">.</span><span class="ident" id="5441999">asize</span>&nbsp;<span class="op" id="5442005">=</span>&nbsp;<span class="builtintype" id="5442007">int</span><span class="op" id="5442010">(</span><span class="ident" id="5442011">b</span><span class="op" id="5442012">.</span><span class="builtintype" id="5442013">uint8</span><span class="op" id="5442018">(</span><span class="op" id="5442019">)</span><span class="op" id="5442020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5442024">u</span><span class="op" id="5442025">.</span><span class="ident" id="5442026">off</span>&nbsp;<span class="op" id="5442030">=</span>&nbsp;<span class="ident" id="5442032">b</span><span class="op" id="5442033">.</span><span class="ident" id="5442034">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5442040">u</span><span class="op" id="5442041">.</span><span class="ident" id="5442042">data</span>&nbsp;<span class="op" id="5442047">=</span>&nbsp;<span class="ident" id="5442049">b</span><span class="op" id="5442050">.</span><span class="ident" id="5442051">bytes</span><span class="op" id="5442056">(</span><span class="builtintype" id="5442057">int</span><span class="op" id="5442060">(</span><span class="ident" id="5442061">n</span>&nbsp;<span class="op" id="5442063">-</span>&nbsp;<span class="op" id="5442065">(</span><span class="num" id="5442066">2</span>&nbsp;<span class="op" id="5442068">+</span>&nbsp;<span class="num" id="5442070">4</span>&nbsp;<span class="op" id="5442072">+</span>&nbsp;<span class="num" id="5442074">1</span><span class="op" id="5442075">)</span><span class="op" id="5442076">)</span><span class="op" id="5442077">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5442080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5442083">if</span>&nbsp;<span class="ident" id="5442086">b</span><span class="op" id="5442087">.</span><span class="ident" id="5442088">err</span>&nbsp;<span class="op" id="5442092">!=</span>&nbsp;<span class="ident" id="5442095">nil</span>&nbsp;<span class="op" id="5442099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5442103">return</span>&nbsp;<span class="ident" id="5442110">nil</span><span class="op" id="5442113">,</span>&nbsp;<span class="ident" id="5442115">b</span><span class="op" id="5442116">.</span><span class="ident" id="5442117">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5442122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5442125">return</span>&nbsp;<span class="ident" id="5442132">units</span><span class="op" id="5442137">,</span>&nbsp;<span class="ident" id="5442139">nil</span><br>
<span class="lineno">90</span><span class="op" id="5442143">}</span>
</div>
</body>
</html>
