<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8215853">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8215908">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8215962">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8216013">package</span>&nbsp;<span class="ident" id="8216021">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8216029">import</span>&nbsp;<span class="op" id="8216036">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216039">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216050">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216067">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216078">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8216088">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8216091">var</span>&nbsp;<span class="ident" id="8216095">good_re</span>&nbsp;<span class="op" id="8216103">=</span>&nbsp;<span class="op" id="8216105">[</span><span class="op" id="8216106">]</span><span class="builtintype" id="8216107">string</span><span class="op" id="8216113">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216116">``</span><span class="op" id="8216118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216121">`.`</span><span class="op" id="8216124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216127">`^.$`</span><span class="op" id="8216132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216135">`a`</span><span class="op" id="8216138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216141">`a*`</span><span class="op" id="8216145">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216148">`a+`</span><span class="op" id="8216152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216155">`a?`</span><span class="op" id="8216159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216162">`a|b`</span><span class="op" id="8216167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216170">`a*|b*`</span><span class="op" id="8216177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216180">`(a*|b)(c*|d)`</span><span class="op" id="8216194">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216197">`[a-z]`</span><span class="op" id="8216204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216207">`[a-abc-c\-\]\[]`</span><span class="op" id="8216224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216227">`[a-z]+`</span><span class="op" id="8216235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216238">`[abc]`</span><span class="op" id="8216245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216248">`[^1234]`</span><span class="op" id="8216257">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216260">`[^\n]`</span><span class="op" id="8216267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8216270">`\!\\`</span><span class="op" id="8216276">,</span><br>
<span class="lineno"></span><span class="op" id="8216278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8216281">type</span>&nbsp;<span class="ident" id="8216286">stringError</span>&nbsp;<span class="keyword" id="8216298">struct</span>&nbsp;<span class="op" id="8216305">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8216308">re</span>&nbsp;&nbsp;<span class="builtintype" id="8216312">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8216320">err</span>&nbsp;<span class="builtintype" id="8216324">string</span><br>
<span class="lineno"></span><span class="op" id="8216331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8216334">var</span>&nbsp;<span class="ident" id="8216338">bad_re</span>&nbsp;<span class="op" id="8216345">=</span>&nbsp;<span class="op" id="8216347">[</span><span class="op" id="8216348">]</span><span class="ident" id="8216349">stringError</span><span class="op" id="8216360">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216363">{</span><span class="string" id="8216364">`*`</span><span class="op" id="8216367">,</span>&nbsp;<span class="string" id="8216369">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="8216415">}</span><span class="op" id="8216416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216419">{</span><span class="string" id="8216420">`+`</span><span class="op" id="8216423">,</span>&nbsp;<span class="string" id="8216425">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="8216471">}</span><span class="op" id="8216472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216475">{</span><span class="string" id="8216476">`?`</span><span class="op" id="8216479">,</span>&nbsp;<span class="string" id="8216481">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="8216527">}</span><span class="op" id="8216528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216531">{</span><span class="string" id="8216532">`(abc`</span><span class="op" id="8216538">,</span>&nbsp;<span class="string" id="8216540">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="8216567">}</span><span class="op" id="8216568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216571">{</span><span class="string" id="8216572">`abc)`</span><span class="op" id="8216578">,</span>&nbsp;<span class="string" id="8216580">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="8216602">}</span><span class="op" id="8216603">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216606">{</span><span class="string" id="8216607">`x[a-z`</span><span class="op" id="8216614">,</span>&nbsp;<span class="string" id="8216616">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="8216643">}</span><span class="op" id="8216644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216647">{</span><span class="string" id="8216648">`[z-a]`</span><span class="op" id="8216655">,</span>&nbsp;<span class="string" id="8216657">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="8216695">}</span><span class="op" id="8216696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216699">{</span><span class="string" id="8216700">`abc\`</span><span class="op" id="8216706">,</span>&nbsp;<span class="string" id="8216708">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="8216749">}</span><span class="op" id="8216750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216753">{</span><span class="string" id="8216754">`a**`</span><span class="op" id="8216759">,</span>&nbsp;<span class="string" id="8216761">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="8216803">}</span><span class="op" id="8216804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216807">{</span><span class="string" id="8216808">`a*+`</span><span class="op" id="8216813">,</span>&nbsp;<span class="string" id="8216815">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="8216857">}</span><span class="op" id="8216858">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8216861">{</span><span class="string" id="8216862">`\x`</span><span class="op" id="8216866">,</span>&nbsp;<span class="string" id="8216868">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="8216900">}</span><span class="op" id="8216901">,</span><br>
<span class="lineno"></span><span class="op" id="8216903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8216906">func</span>&nbsp;<span class="ident" id="8216911">compileTest</span><span class="op" id="8216922">(</span><span class="ident" id="8216923">t</span>&nbsp;<span class="op" id="8216925">*</span><span class="ident" id="8216926">testing</span><span class="op" id="8216933">.</span><span class="ident" id="8216934">T</span><span class="op" id="8216935">,</span>&nbsp;<span class="ident" id="8216937">expr</span>&nbsp;<span class="builtintype" id="8216942">string</span><span class="op" id="8216948">,</span>&nbsp;<span class="builtintype" id="8216950">error</span>&nbsp;<span class="builtintype" id="8216956">string</span><span class="op" id="8216962">)</span>&nbsp;<span class="op" id="8216964">*</span><span class="ident" id="8216965">Regexp</span>&nbsp;<span class="op" id="8216972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8216975">re</span><span class="op" id="8216977">,</span>&nbsp;<span class="ident" id="8216979">err</span>&nbsp;<span class="op" id="8216983">:=</span>&nbsp;<span class="ident" id="8216986">Compile</span><span class="op" id="8216993">(</span><span class="ident" id="8216994">expr</span><span class="op" id="8216998">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217001">if</span>&nbsp;<span class="builtintype" id="8217004">error</span>&nbsp;<span class="op" id="8217010">==</span>&nbsp;<span class="string" id="8217013">&#34;&#34;</span>&nbsp;<span class="op" id="8217016">&amp;&amp;</span>&nbsp;<span class="ident" id="8217019">err</span>&nbsp;<span class="op" id="8217023">!=</span>&nbsp;<span class="ident" id="8217026">nil</span>&nbsp;<span class="op" id="8217030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217034">t</span><span class="op" id="8217035">.</span><span class="ident" id="8217036">Error</span><span class="op" id="8217041">(</span><span class="string" id="8217042">&#34;compiling&nbsp;`&#34;</span><span class="op" id="8217055">,</span>&nbsp;<span class="ident" id="8217057">expr</span><span class="op" id="8217061">,</span>&nbsp;<span class="string" id="8217063">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="8217086">,</span>&nbsp;<span class="ident" id="8217088">err</span><span class="op" id="8217091">.</span><span class="ident" id="8217092">Error</span><span class="op" id="8217097">(</span><span class="op" id="8217098">)</span><span class="op" id="8217099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8217102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217105">if</span>&nbsp;<span class="builtintype" id="8217108">error</span>&nbsp;<span class="op" id="8217114">!=</span>&nbsp;<span class="string" id="8217117">&#34;&#34;</span>&nbsp;<span class="op" id="8217120">&amp;&amp;</span>&nbsp;<span class="ident" id="8217123">err</span>&nbsp;<span class="op" id="8217127">==</span>&nbsp;<span class="ident" id="8217130">nil</span>&nbsp;<span class="op" id="8217134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217138">t</span><span class="op" id="8217139">.</span><span class="ident" id="8217140">Error</span><span class="op" id="8217145">(</span><span class="string" id="8217146">&#34;compiling&nbsp;`&#34;</span><span class="op" id="8217159">,</span>&nbsp;<span class="ident" id="8217161">expr</span><span class="op" id="8217165">,</span>&nbsp;<span class="string" id="8217167">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="8217185">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8217188">}</span>&nbsp;<span class="keyword" id="8217190">else</span>&nbsp;<span class="keyword" id="8217195">if</span>&nbsp;<span class="builtintype" id="8217198">error</span>&nbsp;<span class="op" id="8217204">!=</span>&nbsp;<span class="string" id="8217207">&#34;&#34;</span>&nbsp;<span class="op" id="8217210">&amp;&amp;</span>&nbsp;<span class="op" id="8217213">!</span><span class="ident" id="8217214">strings</span><span class="op" id="8217221">.</span><span class="ident" id="8217222">Contains</span><span class="op" id="8217230">(</span><span class="ident" id="8217231">err</span><span class="op" id="8217234">.</span><span class="ident" id="8217235">Error</span><span class="op" id="8217240">(</span><span class="op" id="8217241">)</span><span class="op" id="8217242">,</span>&nbsp;<span class="builtintype" id="8217244">error</span><span class="op" id="8217249">)</span>&nbsp;<span class="op" id="8217251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217255">t</span><span class="op" id="8217256">.</span><span class="ident" id="8217257">Error</span><span class="op" id="8217262">(</span><span class="string" id="8217263">&#34;compiling&nbsp;`&#34;</span><span class="op" id="8217276">,</span>&nbsp;<span class="ident" id="8217278">expr</span><span class="op" id="8217282">,</span>&nbsp;<span class="string" id="8217284">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="8217302">,</span>&nbsp;<span class="ident" id="8217304">err</span><span class="op" id="8217307">.</span><span class="ident" id="8217308">Error</span><span class="op" id="8217313">(</span><span class="op" id="8217314">)</span><span class="op" id="8217315">,</span>&nbsp;<span class="string" id="8217317">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="8217326">,</span>&nbsp;<span class="builtintype" id="8217328">error</span><span class="op" id="8217333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8217336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217339">return</span>&nbsp;<span class="ident" id="8217346">re</span><br>
<span class="lineno"></span><span class="op" id="8217349">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8217352">func</span>&nbsp;<span class="ident" id="8217357">TestGoodCompile</span><span class="op" id="8217372">(</span><span class="ident" id="8217373">t</span>&nbsp;<span class="op" id="8217375">*</span><span class="ident" id="8217376">testing</span><span class="op" id="8217383">.</span><span class="ident" id="8217384">T</span><span class="op" id="8217385">)</span>&nbsp;<span class="op" id="8217387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217390">for</span>&nbsp;<span class="ident" id="8217394">i</span>&nbsp;<span class="op" id="8217396">:=</span>&nbsp;<span class="num" id="8217399">0</span><span class="op" id="8217400">;</span>&nbsp;<span class="ident" id="8217402">i</span>&nbsp;<span class="op" id="8217404">&lt;</span>&nbsp;<span class="builtinfunc" id="8217406">len</span><span class="op" id="8217409">(</span><span class="ident" id="8217410">good_re</span><span class="op" id="8217417">)</span><span class="op" id="8217418">;</span>&nbsp;<span class="ident" id="8217420">i</span><span class="op" id="8217421">++</span>&nbsp;<span class="op" id="8217424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217428">compileTest</span><span class="op" id="8217439">(</span><span class="ident" id="8217440">t</span><span class="op" id="8217441">,</span>&nbsp;<span class="ident" id="8217443">good_re</span><span class="op" id="8217450">[</span><span class="ident" id="8217451">i</span><span class="op" id="8217452">]</span><span class="op" id="8217453">,</span>&nbsp;<span class="string" id="8217455">&#34;&#34;</span><span class="op" id="8217457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8217460">}</span><br>
<span class="lineno">70</span><span class="op" id="8217462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8217465">func</span>&nbsp;<span class="ident" id="8217470">TestBadCompile</span><span class="op" id="8217484">(</span><span class="ident" id="8217485">t</span>&nbsp;<span class="op" id="8217487">*</span><span class="ident" id="8217488">testing</span><span class="op" id="8217495">.</span><span class="ident" id="8217496">T</span><span class="op" id="8217497">)</span>&nbsp;<span class="op" id="8217499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217502">for</span>&nbsp;<span class="ident" id="8217506">i</span>&nbsp;<span class="op" id="8217508">:=</span>&nbsp;<span class="num" id="8217511">0</span><span class="op" id="8217512">;</span>&nbsp;<span class="ident" id="8217514">i</span>&nbsp;<span class="op" id="8217516">&lt;</span>&nbsp;<span class="builtinfunc" id="8217518">len</span><span class="op" id="8217521">(</span><span class="ident" id="8217522">bad_re</span><span class="op" id="8217528">)</span><span class="op" id="8217529">;</span>&nbsp;<span class="ident" id="8217531">i</span><span class="op" id="8217532">++</span>&nbsp;<span class="op" id="8217535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217539">compileTest</span><span class="op" id="8217550">(</span><span class="ident" id="8217551">t</span><span class="op" id="8217552">,</span>&nbsp;<span class="ident" id="8217554">bad_re</span><span class="op" id="8217560">[</span><span class="ident" id="8217561">i</span><span class="op" id="8217562">]</span><span class="op" id="8217563">.</span><span class="ident" id="8217564">re</span><span class="op" id="8217566">,</span>&nbsp;<span class="ident" id="8217568">bad_re</span><span class="op" id="8217574">[</span><span class="ident" id="8217575">i</span><span class="op" id="8217576">]</span><span class="op" id="8217577">.</span><span class="ident" id="8217578">err</span><span class="op" id="8217581">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8217584">}</span><br>
<span class="lineno"></span><span class="op" id="8217586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8217589">func</span>&nbsp;<span class="ident" id="8217594">matchTest</span><span class="op" id="8217603">(</span><span class="ident" id="8217604">t</span>&nbsp;<span class="op" id="8217606">*</span><span class="ident" id="8217607">testing</span><span class="op" id="8217614">.</span><span class="ident" id="8217615">T</span><span class="op" id="8217616">,</span>&nbsp;<span class="ident" id="8217618">test</span>&nbsp;<span class="op" id="8217623">*</span><span class="ident" id="8217624">FindTest</span><span class="op" id="8217632">)</span>&nbsp;<span class="op" id="8217634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217637">re</span>&nbsp;<span class="op" id="8217640">:=</span>&nbsp;<span class="ident" id="8217643">compileTest</span><span class="op" id="8217654">(</span><span class="ident" id="8217655">t</span><span class="op" id="8217656">,</span>&nbsp;<span class="ident" id="8217658">test</span><span class="op" id="8217662">.</span><span class="ident" id="8217663">pat</span><span class="op" id="8217666">,</span>&nbsp;<span class="string" id="8217668">&#34;&#34;</span><span class="op" id="8217670">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217673">if</span>&nbsp;<span class="ident" id="8217676">re</span>&nbsp;<span class="op" id="8217679">==</span>&nbsp;<span class="ident" id="8217682">nil</span>&nbsp;<span class="op" id="8217686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217690">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8217698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217701">m</span>&nbsp;<span class="op" id="8217703">:=</span>&nbsp;<span class="ident" id="8217706">re</span><span class="op" id="8217708">.</span><span class="ident" id="8217709">MatchString</span><span class="op" id="8217720">(</span><span class="ident" id="8217721">test</span><span class="op" id="8217725">.</span><span class="ident" id="8217726">text</span><span class="op" id="8217730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217733">if</span>&nbsp;<span class="ident" id="8217736">m</span>&nbsp;<span class="op" id="8217738">!=</span>&nbsp;<span class="op" id="8217741">(</span><span class="builtinfunc" id="8217742">len</span><span class="op" id="8217745">(</span><span class="ident" id="8217746">test</span><span class="op" id="8217750">.</span><span class="ident" id="8217751">matches</span><span class="op" id="8217758">)</span>&nbsp;<span class="op" id="8217760">&gt;</span>&nbsp;<span class="num" id="8217762">0</span><span class="op" id="8217763">)</span>&nbsp;<span class="op" id="8217765">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217769">t</span><span class="op" id="8217770">.</span><span class="ident" id="8217771">Errorf</span><span class="op" id="8217777">(</span><span class="string" id="8217778">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8217822">,</span>&nbsp;<span class="ident" id="8217824">test</span><span class="op" id="8217828">,</span>&nbsp;<span class="ident" id="8217830">m</span><span class="op" id="8217831">,</span>&nbsp;<span class="builtinfunc" id="8217833">len</span><span class="op" id="8217836">(</span><span class="ident" id="8217837">test</span><span class="op" id="8217841">.</span><span class="ident" id="8217842">matches</span><span class="op" id="8217849">)</span>&nbsp;<span class="op" id="8217851">&gt;</span>&nbsp;<span class="num" id="8217853">0</span><span class="op" id="8217854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8217857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8217860">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217878">m</span>&nbsp;<span class="op" id="8217880">=</span>&nbsp;<span class="ident" id="8217882">re</span><span class="op" id="8217884">.</span><span class="ident" id="8217885">Match</span><span class="op" id="8217890">(</span><span class="op" id="8217891">[</span><span class="op" id="8217892">]</span><span class="builtintype" id="8217893">byte</span><span class="op" id="8217897">(</span><span class="ident" id="8217898">test</span><span class="op" id="8217902">.</span><span class="ident" id="8217903">text</span><span class="op" id="8217907">)</span><span class="op" id="8217908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8217911">if</span>&nbsp;<span class="ident" id="8217914">m</span>&nbsp;<span class="op" id="8217916">!=</span>&nbsp;<span class="op" id="8217919">(</span><span class="builtinfunc" id="8217920">len</span><span class="op" id="8217923">(</span><span class="ident" id="8217924">test</span><span class="op" id="8217928">.</span><span class="ident" id="8217929">matches</span><span class="op" id="8217936">)</span>&nbsp;<span class="op" id="8217938">&gt;</span>&nbsp;<span class="num" id="8217940">0</span><span class="op" id="8217941">)</span>&nbsp;<span class="op" id="8217943">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8217947">t</span><span class="op" id="8217948">.</span><span class="ident" id="8217949">Errorf</span><span class="op" id="8217955">(</span><span class="string" id="8217956">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8217994">,</span>&nbsp;<span class="ident" id="8217996">test</span><span class="op" id="8218000">,</span>&nbsp;<span class="ident" id="8218002">m</span><span class="op" id="8218003">,</span>&nbsp;<span class="builtinfunc" id="8218005">len</span><span class="op" id="8218008">(</span><span class="ident" id="8218009">test</span><span class="op" id="8218013">.</span><span class="ident" id="8218014">matches</span><span class="op" id="8218021">)</span>&nbsp;<span class="op" id="8218023">&gt;</span>&nbsp;<span class="num" id="8218025">0</span><span class="op" id="8218026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218029">}</span><br>
<span class="lineno"></span><span class="op" id="8218031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8218034">func</span>&nbsp;<span class="ident" id="8218039">TestMatch</span><span class="op" id="8218048">(</span><span class="ident" id="8218049">t</span>&nbsp;<span class="op" id="8218051">*</span><span class="ident" id="8218052">testing</span><span class="op" id="8218059">.</span><span class="ident" id="8218060">T</span><span class="op" id="8218061">)</span>&nbsp;<span class="op" id="8218063">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218066">for</span>&nbsp;<span class="ident" id="8218070">_</span><span class="op" id="8218071">,</span>&nbsp;<span class="ident" id="8218073">test</span>&nbsp;<span class="op" id="8218078">:=</span>&nbsp;<span class="keyword" id="8218081">range</span>&nbsp;<span class="ident" id="8218087">findTests</span>&nbsp;<span class="op" id="8218097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8218101">matchTest</span><span class="op" id="8218110">(</span><span class="ident" id="8218111">t</span><span class="op" id="8218112">,</span>&nbsp;<span class="op" id="8218114">&amp;</span><span class="ident" id="8218115">test</span><span class="op" id="8218119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218122">}</span><br>
<span class="lineno"></span><span class="op" id="8218124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8218127">func</span>&nbsp;<span class="ident" id="8218132">matchFunctionTest</span><span class="op" id="8218149">(</span><span class="ident" id="8218150">t</span>&nbsp;<span class="op" id="8218152">*</span><span class="ident" id="8218153">testing</span><span class="op" id="8218160">.</span><span class="ident" id="8218161">T</span><span class="op" id="8218162">,</span>&nbsp;<span class="ident" id="8218164">test</span>&nbsp;<span class="op" id="8218169">*</span><span class="ident" id="8218170">FindTest</span><span class="op" id="8218178">)</span>&nbsp;<span class="op" id="8218180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8218183">m</span><span class="op" id="8218184">,</span>&nbsp;<span class="ident" id="8218186">err</span>&nbsp;<span class="op" id="8218190">:=</span>&nbsp;<span class="ident" id="8218193">MatchString</span><span class="op" id="8218204">(</span><span class="ident" id="8218205">test</span><span class="op" id="8218209">.</span><span class="ident" id="8218210">pat</span><span class="op" id="8218213">,</span>&nbsp;<span class="ident" id="8218215">test</span><span class="op" id="8218219">.</span><span class="ident" id="8218220">text</span><span class="op" id="8218224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218227">if</span>&nbsp;<span class="ident" id="8218230">err</span>&nbsp;<span class="op" id="8218234">==</span>&nbsp;<span class="ident" id="8218237">nil</span>&nbsp;<span class="op" id="8218241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218245">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218253">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218256">if</span>&nbsp;<span class="ident" id="8218259">m</span>&nbsp;<span class="op" id="8218261">!=</span>&nbsp;<span class="op" id="8218264">(</span><span class="builtinfunc" id="8218265">len</span><span class="op" id="8218268">(</span><span class="ident" id="8218269">test</span><span class="op" id="8218273">.</span><span class="ident" id="8218274">matches</span><span class="op" id="8218281">)</span>&nbsp;<span class="op" id="8218283">&gt;</span>&nbsp;<span class="num" id="8218285">0</span><span class="op" id="8218286">)</span>&nbsp;<span class="op" id="8218288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8218292">t</span><span class="op" id="8218293">.</span><span class="ident" id="8218294">Errorf</span><span class="op" id="8218300">(</span><span class="string" id="8218301">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8218339">,</span>&nbsp;<span class="ident" id="8218341">test</span><span class="op" id="8218345">,</span>&nbsp;<span class="ident" id="8218347">m</span><span class="op" id="8218348">,</span>&nbsp;<span class="builtinfunc" id="8218350">len</span><span class="op" id="8218353">(</span><span class="ident" id="8218354">test</span><span class="op" id="8218358">.</span><span class="ident" id="8218359">matches</span><span class="op" id="8218366">)</span>&nbsp;<span class="op" id="8218368">&gt;</span>&nbsp;<span class="num" id="8218370">0</span><span class="op" id="8218371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218374">}</span><br>
<span class="lineno"></span><span class="op" id="8218376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8218379">func</span>&nbsp;<span class="ident" id="8218384">TestMatchFunction</span><span class="op" id="8218401">(</span><span class="ident" id="8218402">t</span>&nbsp;<span class="op" id="8218404">*</span><span class="ident" id="8218405">testing</span><span class="op" id="8218412">.</span><span class="ident" id="8218413">T</span><span class="op" id="8218414">)</span>&nbsp;<span class="op" id="8218416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218419">for</span>&nbsp;<span class="ident" id="8218423">_</span><span class="op" id="8218424">,</span>&nbsp;<span class="ident" id="8218426">test</span>&nbsp;<span class="op" id="8218431">:=</span>&nbsp;<span class="keyword" id="8218434">range</span>&nbsp;<span class="ident" id="8218440">findTests</span>&nbsp;<span class="op" id="8218450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8218454">matchFunctionTest</span><span class="op" id="8218471">(</span><span class="ident" id="8218472">t</span><span class="op" id="8218473">,</span>&nbsp;<span class="op" id="8218475">&amp;</span><span class="ident" id="8218476">test</span><span class="op" id="8218480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218483">}</span><br>
<span class="lineno"></span><span class="op" id="8218485">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="8218488">type</span>&nbsp;<span class="ident" id="8218493">ReplaceTest</span>&nbsp;<span class="keyword" id="8218505">struct</span>&nbsp;<span class="op" id="8218512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8218515">pattern</span><span class="op" id="8218522">,</span>&nbsp;<span class="ident" id="8218524">replacement</span><span class="op" id="8218535">,</span>&nbsp;<span class="ident" id="8218537">input</span><span class="op" id="8218542">,</span>&nbsp;<span class="ident" id="8218544">output</span>&nbsp;<span class="builtintype" id="8218551">string</span><br>
<span class="lineno"></span><span class="op" id="8218558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="8218561">var</span>&nbsp;<span class="ident" id="8218565">replaceTests</span>&nbsp;<span class="op" id="8218578">=</span>&nbsp;<span class="op" id="8218580">[</span><span class="op" id="8218581">]</span><span class="ident" id="8218582">ReplaceTest</span><span class="op" id="8218593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8218596">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218681">{</span><span class="string" id="8218682">&#34;&#34;</span><span class="op" id="8218684">,</span>&nbsp;<span class="string" id="8218686">&#34;&#34;</span><span class="op" id="8218688">,</span>&nbsp;<span class="string" id="8218690">&#34;&#34;</span><span class="op" id="8218692">,</span>&nbsp;<span class="string" id="8218694">&#34;&#34;</span><span class="op" id="8218696">}</span><span class="op" id="8218697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218700">{</span><span class="string" id="8218701">&#34;&#34;</span><span class="op" id="8218703">,</span>&nbsp;<span class="string" id="8218705">&#34;x&#34;</span><span class="op" id="8218708">,</span>&nbsp;<span class="string" id="8218710">&#34;&#34;</span><span class="op" id="8218712">,</span>&nbsp;<span class="string" id="8218714">&#34;x&#34;</span><span class="op" id="8218717">}</span><span class="op" id="8218718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218721">{</span><span class="string" id="8218722">&#34;&#34;</span><span class="op" id="8218724">,</span>&nbsp;<span class="string" id="8218726">&#34;&#34;</span><span class="op" id="8218728">,</span>&nbsp;<span class="string" id="8218730">&#34;abc&#34;</span><span class="op" id="8218735">,</span>&nbsp;<span class="string" id="8218737">&#34;abc&#34;</span><span class="op" id="8218742">}</span><span class="op" id="8218743">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218746">{</span><span class="string" id="8218747">&#34;&#34;</span><span class="op" id="8218749">,</span>&nbsp;<span class="string" id="8218751">&#34;x&#34;</span><span class="op" id="8218754">,</span>&nbsp;<span class="string" id="8218756">&#34;abc&#34;</span><span class="op" id="8218761">,</span>&nbsp;<span class="string" id="8218763">&#34;xaxbxcx&#34;</span><span class="op" id="8218772">}</span><span class="op" id="8218773">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8218777">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218869">{</span><span class="string" id="8218870">&#34;b&#34;</span><span class="op" id="8218873">,</span>&nbsp;<span class="string" id="8218875">&#34;&#34;</span><span class="op" id="8218877">,</span>&nbsp;<span class="string" id="8218879">&#34;&#34;</span><span class="op" id="8218881">,</span>&nbsp;<span class="string" id="8218883">&#34;&#34;</span><span class="op" id="8218885">}</span><span class="op" id="8218886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218889">{</span><span class="string" id="8218890">&#34;b&#34;</span><span class="op" id="8218893">,</span>&nbsp;<span class="string" id="8218895">&#34;x&#34;</span><span class="op" id="8218898">,</span>&nbsp;<span class="string" id="8218900">&#34;&#34;</span><span class="op" id="8218902">,</span>&nbsp;<span class="string" id="8218904">&#34;&#34;</span><span class="op" id="8218906">}</span><span class="op" id="8218907">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218910">{</span><span class="string" id="8218911">&#34;b&#34;</span><span class="op" id="8218914">,</span>&nbsp;<span class="string" id="8218916">&#34;&#34;</span><span class="op" id="8218918">,</span>&nbsp;<span class="string" id="8218920">&#34;abc&#34;</span><span class="op" id="8218925">,</span>&nbsp;<span class="string" id="8218927">&#34;ac&#34;</span><span class="op" id="8218931">}</span><span class="op" id="8218932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218935">{</span><span class="string" id="8218936">&#34;b&#34;</span><span class="op" id="8218939">,</span>&nbsp;<span class="string" id="8218941">&#34;x&#34;</span><span class="op" id="8218944">,</span>&nbsp;<span class="string" id="8218946">&#34;abc&#34;</span><span class="op" id="8218951">,</span>&nbsp;<span class="string" id="8218953">&#34;axc&#34;</span><span class="op" id="8218958">}</span><span class="op" id="8218959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218962">{</span><span class="string" id="8218963">&#34;y&#34;</span><span class="op" id="8218966">,</span>&nbsp;<span class="string" id="8218968">&#34;&#34;</span><span class="op" id="8218970">,</span>&nbsp;<span class="string" id="8218972">&#34;&#34;</span><span class="op" id="8218974">,</span>&nbsp;<span class="string" id="8218976">&#34;&#34;</span><span class="op" id="8218978">}</span><span class="op" id="8218979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218982">{</span><span class="string" id="8218983">&#34;y&#34;</span><span class="op" id="8218986">,</span>&nbsp;<span class="string" id="8218988">&#34;x&#34;</span><span class="op" id="8218991">,</span>&nbsp;<span class="string" id="8218993">&#34;&#34;</span><span class="op" id="8218995">,</span>&nbsp;<span class="string" id="8218997">&#34;&#34;</span><span class="op" id="8218999">}</span><span class="op" id="8219000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219003">{</span><span class="string" id="8219004">&#34;y&#34;</span><span class="op" id="8219007">,</span>&nbsp;<span class="string" id="8219009">&#34;&#34;</span><span class="op" id="8219011">,</span>&nbsp;<span class="string" id="8219013">&#34;abc&#34;</span><span class="op" id="8219018">,</span>&nbsp;<span class="string" id="8219020">&#34;abc&#34;</span><span class="op" id="8219025">}</span><span class="op" id="8219026">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219029">{</span><span class="string" id="8219030">&#34;y&#34;</span><span class="op" id="8219033">,</span>&nbsp;<span class="string" id="8219035">&#34;x&#34;</span><span class="op" id="8219038">,</span>&nbsp;<span class="string" id="8219040">&#34;abc&#34;</span><span class="op" id="8219045">,</span>&nbsp;<span class="string" id="8219047">&#34;abc&#34;</span><span class="op" id="8219052">}</span><span class="op" id="8219053">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8219057">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8219133">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219153">{</span><span class="string" id="8219154">&#34;[a-c]*&#34;</span><span class="op" id="8219162">,</span>&nbsp;<span class="string" id="8219164">&#34;x&#34;</span><span class="op" id="8219167">,</span>&nbsp;<span class="string" id="8219169">&#34;\u65e5&#34;</span><span class="op" id="8219177">,</span>&nbsp;<span class="string" id="8219179">&#34;x\u65e5x&#34;</span><span class="op" id="8219189">}</span><span class="op" id="8219190">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219193">{</span><span class="string" id="8219194">&#34;[^\u65e5]&#34;</span><span class="op" id="8219205">,</span>&nbsp;<span class="string" id="8219207">&#34;x&#34;</span><span class="op" id="8219210">,</span>&nbsp;<span class="string" id="8219212">&#34;abc\u65e5def&#34;</span><span class="op" id="8219226">,</span>&nbsp;<span class="string" id="8219228">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="8219242">}</span><span class="op" id="8219243">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8219247">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219278">{</span><span class="string" id="8219279">&#34;^[a-c]*&#34;</span><span class="op" id="8219288">,</span>&nbsp;<span class="string" id="8219290">&#34;x&#34;</span><span class="op" id="8219293">,</span>&nbsp;<span class="string" id="8219295">&#34;abcdabc&#34;</span><span class="op" id="8219304">,</span>&nbsp;<span class="string" id="8219306">&#34;xdabc&#34;</span><span class="op" id="8219313">}</span><span class="op" id="8219314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219317">{</span><span class="string" id="8219318">&#34;[a-c]*$&#34;</span><span class="op" id="8219327">,</span>&nbsp;<span class="string" id="8219329">&#34;x&#34;</span><span class="op" id="8219332">,</span>&nbsp;<span class="string" id="8219334">&#34;abcdabc&#34;</span><span class="op" id="8219343">,</span>&nbsp;<span class="string" id="8219345">&#34;abcdx&#34;</span><span class="op" id="8219352">}</span><span class="op" id="8219353">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219356">{</span><span class="string" id="8219357">&#34;^[a-c]*$&#34;</span><span class="op" id="8219367">,</span>&nbsp;<span class="string" id="8219369">&#34;x&#34;</span><span class="op" id="8219372">,</span>&nbsp;<span class="string" id="8219374">&#34;abcdabc&#34;</span><span class="op" id="8219383">,</span>&nbsp;<span class="string" id="8219385">&#34;abcdabc&#34;</span><span class="op" id="8219394">}</span><span class="op" id="8219395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219398">{</span><span class="string" id="8219399">&#34;^[a-c]*&#34;</span><span class="op" id="8219408">,</span>&nbsp;<span class="string" id="8219410">&#34;x&#34;</span><span class="op" id="8219413">,</span>&nbsp;<span class="string" id="8219415">&#34;abc&#34;</span><span class="op" id="8219420">,</span>&nbsp;<span class="string" id="8219422">&#34;x&#34;</span><span class="op" id="8219425">}</span><span class="op" id="8219426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219429">{</span><span class="string" id="8219430">&#34;[a-c]*$&#34;</span><span class="op" id="8219439">,</span>&nbsp;<span class="string" id="8219441">&#34;x&#34;</span><span class="op" id="8219444">,</span>&nbsp;<span class="string" id="8219446">&#34;abc&#34;</span><span class="op" id="8219451">,</span>&nbsp;<span class="string" id="8219453">&#34;x&#34;</span><span class="op" id="8219456">}</span><span class="op" id="8219457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219460">{</span><span class="string" id="8219461">&#34;^[a-c]*$&#34;</span><span class="op" id="8219471">,</span>&nbsp;<span class="string" id="8219473">&#34;x&#34;</span><span class="op" id="8219476">,</span>&nbsp;<span class="string" id="8219478">&#34;abc&#34;</span><span class="op" id="8219483">,</span>&nbsp;<span class="string" id="8219485">&#34;x&#34;</span><span class="op" id="8219488">}</span><span class="op" id="8219489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219492">{</span><span class="string" id="8219493">&#34;^[a-c]*&#34;</span><span class="op" id="8219502">,</span>&nbsp;<span class="string" id="8219504">&#34;x&#34;</span><span class="op" id="8219507">,</span>&nbsp;<span class="string" id="8219509">&#34;dabce&#34;</span><span class="op" id="8219516">,</span>&nbsp;<span class="string" id="8219518">&#34;xdabce&#34;</span><span class="op" id="8219526">}</span><span class="op" id="8219527">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219530">{</span><span class="string" id="8219531">&#34;[a-c]*$&#34;</span><span class="op" id="8219540">,</span>&nbsp;<span class="string" id="8219542">&#34;x&#34;</span><span class="op" id="8219545">,</span>&nbsp;<span class="string" id="8219547">&#34;dabce&#34;</span><span class="op" id="8219554">,</span>&nbsp;<span class="string" id="8219556">&#34;dabcex&#34;</span><span class="op" id="8219564">}</span><span class="op" id="8219565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219568">{</span><span class="string" id="8219569">&#34;^[a-c]*$&#34;</span><span class="op" id="8219579">,</span>&nbsp;<span class="string" id="8219581">&#34;x&#34;</span><span class="op" id="8219584">,</span>&nbsp;<span class="string" id="8219586">&#34;dabce&#34;</span><span class="op" id="8219593">,</span>&nbsp;<span class="string" id="8219595">&#34;dabce&#34;</span><span class="op" id="8219602">}</span><span class="op" id="8219603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219606">{</span><span class="string" id="8219607">&#34;^[a-c]*&#34;</span><span class="op" id="8219616">,</span>&nbsp;<span class="string" id="8219618">&#34;x&#34;</span><span class="op" id="8219621">,</span>&nbsp;<span class="string" id="8219623">&#34;&#34;</span><span class="op" id="8219625">,</span>&nbsp;<span class="string" id="8219627">&#34;x&#34;</span><span class="op" id="8219630">}</span><span class="op" id="8219631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219634">{</span><span class="string" id="8219635">&#34;[a-c]*$&#34;</span><span class="op" id="8219644">,</span>&nbsp;<span class="string" id="8219646">&#34;x&#34;</span><span class="op" id="8219649">,</span>&nbsp;<span class="string" id="8219651">&#34;&#34;</span><span class="op" id="8219653">,</span>&nbsp;<span class="string" id="8219655">&#34;x&#34;</span><span class="op" id="8219658">}</span><span class="op" id="8219659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219662">{</span><span class="string" id="8219663">&#34;^[a-c]*$&#34;</span><span class="op" id="8219673">,</span>&nbsp;<span class="string" id="8219675">&#34;x&#34;</span><span class="op" id="8219678">,</span>&nbsp;<span class="string" id="8219680">&#34;&#34;</span><span class="op" id="8219682">,</span>&nbsp;<span class="string" id="8219684">&#34;x&#34;</span><span class="op" id="8219687">}</span><span class="op" id="8219688">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219692">{</span><span class="string" id="8219693">&#34;^[a-c]+&#34;</span><span class="op" id="8219702">,</span>&nbsp;<span class="string" id="8219704">&#34;x&#34;</span><span class="op" id="8219707">,</span>&nbsp;<span class="string" id="8219709">&#34;abcdabc&#34;</span><span class="op" id="8219718">,</span>&nbsp;<span class="string" id="8219720">&#34;xdabc&#34;</span><span class="op" id="8219727">}</span><span class="op" id="8219728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219731">{</span><span class="string" id="8219732">&#34;[a-c]+$&#34;</span><span class="op" id="8219741">,</span>&nbsp;<span class="string" id="8219743">&#34;x&#34;</span><span class="op" id="8219746">,</span>&nbsp;<span class="string" id="8219748">&#34;abcdabc&#34;</span><span class="op" id="8219757">,</span>&nbsp;<span class="string" id="8219759">&#34;abcdx&#34;</span><span class="op" id="8219766">}</span><span class="op" id="8219767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219770">{</span><span class="string" id="8219771">&#34;^[a-c]+$&#34;</span><span class="op" id="8219781">,</span>&nbsp;<span class="string" id="8219783">&#34;x&#34;</span><span class="op" id="8219786">,</span>&nbsp;<span class="string" id="8219788">&#34;abcdabc&#34;</span><span class="op" id="8219797">,</span>&nbsp;<span class="string" id="8219799">&#34;abcdabc&#34;</span><span class="op" id="8219808">}</span><span class="op" id="8219809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219812">{</span><span class="string" id="8219813">&#34;^[a-c]+&#34;</span><span class="op" id="8219822">,</span>&nbsp;<span class="string" id="8219824">&#34;x&#34;</span><span class="op" id="8219827">,</span>&nbsp;<span class="string" id="8219829">&#34;abc&#34;</span><span class="op" id="8219834">,</span>&nbsp;<span class="string" id="8219836">&#34;x&#34;</span><span class="op" id="8219839">}</span><span class="op" id="8219840">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219843">{</span><span class="string" id="8219844">&#34;[a-c]+$&#34;</span><span class="op" id="8219853">,</span>&nbsp;<span class="string" id="8219855">&#34;x&#34;</span><span class="op" id="8219858">,</span>&nbsp;<span class="string" id="8219860">&#34;abc&#34;</span><span class="op" id="8219865">,</span>&nbsp;<span class="string" id="8219867">&#34;x&#34;</span><span class="op" id="8219870">}</span><span class="op" id="8219871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219874">{</span><span class="string" id="8219875">&#34;^[a-c]+$&#34;</span><span class="op" id="8219885">,</span>&nbsp;<span class="string" id="8219887">&#34;x&#34;</span><span class="op" id="8219890">,</span>&nbsp;<span class="string" id="8219892">&#34;abc&#34;</span><span class="op" id="8219897">,</span>&nbsp;<span class="string" id="8219899">&#34;x&#34;</span><span class="op" id="8219902">}</span><span class="op" id="8219903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219906">{</span><span class="string" id="8219907">&#34;^[a-c]+&#34;</span><span class="op" id="8219916">,</span>&nbsp;<span class="string" id="8219918">&#34;x&#34;</span><span class="op" id="8219921">,</span>&nbsp;<span class="string" id="8219923">&#34;dabce&#34;</span><span class="op" id="8219930">,</span>&nbsp;<span class="string" id="8219932">&#34;dabce&#34;</span><span class="op" id="8219939">}</span><span class="op" id="8219940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219943">{</span><span class="string" id="8219944">&#34;[a-c]+$&#34;</span><span class="op" id="8219953">,</span>&nbsp;<span class="string" id="8219955">&#34;x&#34;</span><span class="op" id="8219958">,</span>&nbsp;<span class="string" id="8219960">&#34;dabce&#34;</span><span class="op" id="8219967">,</span>&nbsp;<span class="string" id="8219969">&#34;dabce&#34;</span><span class="op" id="8219976">}</span><span class="op" id="8219977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219980">{</span><span class="string" id="8219981">&#34;^[a-c]+$&#34;</span><span class="op" id="8219991">,</span>&nbsp;<span class="string" id="8219993">&#34;x&#34;</span><span class="op" id="8219996">,</span>&nbsp;<span class="string" id="8219998">&#34;dabce&#34;</span><span class="op" id="8220005">,</span>&nbsp;<span class="string" id="8220007">&#34;dabce&#34;</span><span class="op" id="8220014">}</span><span class="op" id="8220015">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220018">{</span><span class="string" id="8220019">&#34;^[a-c]+&#34;</span><span class="op" id="8220028">,</span>&nbsp;<span class="string" id="8220030">&#34;x&#34;</span><span class="op" id="8220033">,</span>&nbsp;<span class="string" id="8220035">&#34;&#34;</span><span class="op" id="8220037">,</span>&nbsp;<span class="string" id="8220039">&#34;&#34;</span><span class="op" id="8220041">}</span><span class="op" id="8220042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220045">{</span><span class="string" id="8220046">&#34;[a-c]+$&#34;</span><span class="op" id="8220055">,</span>&nbsp;<span class="string" id="8220057">&#34;x&#34;</span><span class="op" id="8220060">,</span>&nbsp;<span class="string" id="8220062">&#34;&#34;</span><span class="op" id="8220064">,</span>&nbsp;<span class="string" id="8220066">&#34;&#34;</span><span class="op" id="8220068">}</span><span class="op" id="8220069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220072">{</span><span class="string" id="8220073">&#34;^[a-c]+$&#34;</span><span class="op" id="8220083">,</span>&nbsp;<span class="string" id="8220085">&#34;x&#34;</span><span class="op" id="8220088">,</span>&nbsp;<span class="string" id="8220090">&#34;&#34;</span><span class="op" id="8220092">,</span>&nbsp;<span class="string" id="8220094">&#34;&#34;</span><span class="op" id="8220096">}</span><span class="op" id="8220097">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8220101">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220118">{</span><span class="string" id="8220119">&#34;abc&#34;</span><span class="op" id="8220124">,</span>&nbsp;<span class="string" id="8220126">&#34;def&#34;</span><span class="op" id="8220131">,</span>&nbsp;<span class="string" id="8220133">&#34;abcdefg&#34;</span><span class="op" id="8220142">,</span>&nbsp;<span class="string" id="8220144">&#34;defdefg&#34;</span><span class="op" id="8220153">}</span><span class="op" id="8220154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220157">{</span><span class="string" id="8220158">&#34;bc&#34;</span><span class="op" id="8220162">,</span>&nbsp;<span class="string" id="8220164">&#34;BC&#34;</span><span class="op" id="8220168">,</span>&nbsp;<span class="string" id="8220170">&#34;abcbcdcdedef&#34;</span><span class="op" id="8220184">,</span>&nbsp;<span class="string" id="8220186">&#34;aBCBCdcdedef&#34;</span><span class="op" id="8220200">}</span><span class="op" id="8220201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220204">{</span><span class="string" id="8220205">&#34;abc&#34;</span><span class="op" id="8220210">,</span>&nbsp;<span class="string" id="8220212">&#34;&#34;</span><span class="op" id="8220214">,</span>&nbsp;<span class="string" id="8220216">&#34;abcdabc&#34;</span><span class="op" id="8220225">,</span>&nbsp;<span class="string" id="8220227">&#34;d&#34;</span><span class="op" id="8220230">}</span><span class="op" id="8220231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220234">{</span><span class="string" id="8220235">&#34;x&#34;</span><span class="op" id="8220238">,</span>&nbsp;<span class="string" id="8220240">&#34;xXx&#34;</span><span class="op" id="8220245">,</span>&nbsp;<span class="string" id="8220247">&#34;xxxXxxx&#34;</span><span class="op" id="8220256">,</span>&nbsp;<span class="string" id="8220258">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="8220279">}</span><span class="op" id="8220280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220283">{</span><span class="string" id="8220284">&#34;abc&#34;</span><span class="op" id="8220289">,</span>&nbsp;<span class="string" id="8220291">&#34;d&#34;</span><span class="op" id="8220294">,</span>&nbsp;<span class="string" id="8220296">&#34;&#34;</span><span class="op" id="8220298">,</span>&nbsp;<span class="string" id="8220300">&#34;&#34;</span><span class="op" id="8220302">}</span><span class="op" id="8220303">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220306">{</span><span class="string" id="8220307">&#34;abc&#34;</span><span class="op" id="8220312">,</span>&nbsp;<span class="string" id="8220314">&#34;d&#34;</span><span class="op" id="8220317">,</span>&nbsp;<span class="string" id="8220319">&#34;abc&#34;</span><span class="op" id="8220324">,</span>&nbsp;<span class="string" id="8220326">&#34;d&#34;</span><span class="op" id="8220329">}</span><span class="op" id="8220330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220333">{</span><span class="string" id="8220334">&#34;.+&#34;</span><span class="op" id="8220338">,</span>&nbsp;<span class="string" id="8220340">&#34;x&#34;</span><span class="op" id="8220343">,</span>&nbsp;<span class="string" id="8220345">&#34;abc&#34;</span><span class="op" id="8220350">,</span>&nbsp;<span class="string" id="8220352">&#34;x&#34;</span><span class="op" id="8220355">}</span><span class="op" id="8220356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220359">{</span><span class="string" id="8220360">&#34;[a-c]*&#34;</span><span class="op" id="8220368">,</span>&nbsp;<span class="string" id="8220370">&#34;x&#34;</span><span class="op" id="8220373">,</span>&nbsp;<span class="string" id="8220375">&#34;def&#34;</span><span class="op" id="8220380">,</span>&nbsp;<span class="string" id="8220382">&#34;xdxexfx&#34;</span><span class="op" id="8220391">}</span><span class="op" id="8220392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220395">{</span><span class="string" id="8220396">&#34;[a-c]+&#34;</span><span class="op" id="8220404">,</span>&nbsp;<span class="string" id="8220406">&#34;x&#34;</span><span class="op" id="8220409">,</span>&nbsp;<span class="string" id="8220411">&#34;abcbcdcdedef&#34;</span><span class="op" id="8220425">,</span>&nbsp;<span class="string" id="8220427">&#34;xdxdedef&#34;</span><span class="op" id="8220437">}</span><span class="op" id="8220438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220441">{</span><span class="string" id="8220442">&#34;[a-c]*&#34;</span><span class="op" id="8220450">,</span>&nbsp;<span class="string" id="8220452">&#34;x&#34;</span><span class="op" id="8220455">,</span>&nbsp;<span class="string" id="8220457">&#34;abcbcdcdedef&#34;</span><span class="op" id="8220471">,</span>&nbsp;<span class="string" id="8220473">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="8220488">}</span><span class="op" id="8220489">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8220493">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220511">{</span><span class="string" id="8220512">&#34;a+&#34;</span><span class="op" id="8220516">,</span>&nbsp;<span class="string" id="8220518">&#34;($0)&#34;</span><span class="op" id="8220524">,</span>&nbsp;<span class="string" id="8220526">&#34;banana&#34;</span><span class="op" id="8220534">,</span>&nbsp;<span class="string" id="8220536">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="8220550">}</span><span class="op" id="8220551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220554">{</span><span class="string" id="8220555">&#34;a+&#34;</span><span class="op" id="8220559">,</span>&nbsp;<span class="string" id="8220561">&#34;(${0})&#34;</span><span class="op" id="8220569">,</span>&nbsp;<span class="string" id="8220571">&#34;banana&#34;</span><span class="op" id="8220579">,</span>&nbsp;<span class="string" id="8220581">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="8220595">}</span><span class="op" id="8220596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220599">{</span><span class="string" id="8220600">&#34;a+&#34;</span><span class="op" id="8220604">,</span>&nbsp;<span class="string" id="8220606">&#34;(${0})$0&#34;</span><span class="op" id="8220616">,</span>&nbsp;<span class="string" id="8220618">&#34;banana&#34;</span><span class="op" id="8220626">,</span>&nbsp;<span class="string" id="8220628">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="8220645">}</span><span class="op" id="8220646">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220649">{</span><span class="string" id="8220650">&#34;a+&#34;</span><span class="op" id="8220654">,</span>&nbsp;<span class="string" id="8220656">&#34;(${0})$0&#34;</span><span class="op" id="8220666">,</span>&nbsp;<span class="string" id="8220668">&#34;banana&#34;</span><span class="op" id="8220676">,</span>&nbsp;<span class="string" id="8220678">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="8220695">}</span><span class="op" id="8220696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220699">{</span><span class="string" id="8220700">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8220713">,</span>&nbsp;<span class="string" id="8220715">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="8220730">,</span>&nbsp;<span class="string" id="8220732">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8220746">,</span>&nbsp;<span class="string" id="8220748">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8220764">}</span><span class="op" id="8220765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220768">{</span><span class="string" id="8220769">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8220782">,</span>&nbsp;<span class="string" id="8220784">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="8220798">,</span>&nbsp;<span class="string" id="8220800">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8220814">,</span>&nbsp;<span class="string" id="8220816">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="8220827">}</span><span class="op" id="8220828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220831">{</span><span class="string" id="8220832">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8220845">,</span>&nbsp;<span class="string" id="8220847">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="8220863">,</span>&nbsp;<span class="string" id="8220865">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8220879">,</span>&nbsp;<span class="string" id="8220881">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="8220898">}</span><span class="op" id="8220899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220902">{</span><span class="string" id="8220903">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8220916">,</span>&nbsp;<span class="string" id="8220918">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="8220936">,</span>&nbsp;<span class="string" id="8220938">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8220952">,</span>&nbsp;<span class="string" id="8220954">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="8220981">}</span><span class="op" id="8220982">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220985">{</span><span class="string" id="8220986">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8221007">,</span>&nbsp;<span class="string" id="8221009">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="8221026">,</span>&nbsp;<span class="string" id="8221028">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8221042">,</span>&nbsp;<span class="string" id="8221044">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="8221061">}</span><span class="op" id="8221062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221065">{</span><span class="string" id="8221066">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8221087">,</span>&nbsp;<span class="string" id="8221089">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="8221107">,</span>&nbsp;<span class="string" id="8221109">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8221123">,</span>&nbsp;<span class="string" id="8221125">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8221141">}</span><span class="op" id="8221142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221145">{</span><span class="string" id="8221146">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8221168">,</span>&nbsp;<span class="string" id="8221170">&#34;$x$x$x&#34;</span><span class="op" id="8221178">,</span>&nbsp;<span class="string" id="8221180">&#34;hi&#34;</span><span class="op" id="8221184">,</span>&nbsp;<span class="string" id="8221186">&#34;hihihi&#34;</span><span class="op" id="8221194">}</span><span class="op" id="8221195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221198">{</span><span class="string" id="8221199">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8221221">,</span>&nbsp;<span class="string" id="8221223">&#34;$x$x$x&#34;</span><span class="op" id="8221231">,</span>&nbsp;<span class="string" id="8221233">&#34;bye&#34;</span><span class="op" id="8221238">,</span>&nbsp;<span class="string" id="8221240">&#34;byebyebye&#34;</span><span class="op" id="8221251">}</span><span class="op" id="8221252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221255">{</span><span class="string" id="8221256">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8221278">,</span>&nbsp;<span class="string" id="8221280">&#34;$xyz&#34;</span><span class="op" id="8221286">,</span>&nbsp;<span class="string" id="8221288">&#34;hi&#34;</span><span class="op" id="8221292">,</span>&nbsp;<span class="string" id="8221294">&#34;&#34;</span><span class="op" id="8221296">}</span><span class="op" id="8221297">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221300">{</span><span class="string" id="8221301">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8221323">,</span>&nbsp;<span class="string" id="8221325">&#34;${x}yz&#34;</span><span class="op" id="8221333">,</span>&nbsp;<span class="string" id="8221335">&#34;hi&#34;</span><span class="op" id="8221339">,</span>&nbsp;<span class="string" id="8221341">&#34;hiyz&#34;</span><span class="op" id="8221347">}</span><span class="op" id="8221348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221351">{</span><span class="string" id="8221352">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8221374">,</span>&nbsp;<span class="string" id="8221376">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="8221387">,</span>&nbsp;<span class="string" id="8221389">&#34;hi&#34;</span><span class="op" id="8221393">,</span>&nbsp;<span class="string" id="8221395">&#34;hello&nbsp;$x&#34;</span><span class="op" id="8221405">}</span><span class="op" id="8221406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221409">{</span><span class="string" id="8221410">&#34;a+&#34;</span><span class="op" id="8221414">,</span>&nbsp;<span class="string" id="8221416">&#34;${oops&#34;</span><span class="op" id="8221424">,</span>&nbsp;<span class="string" id="8221426">&#34;aaa&#34;</span><span class="op" id="8221431">,</span>&nbsp;<span class="string" id="8221433">&#34;${oops&#34;</span><span class="op" id="8221441">}</span><span class="op" id="8221442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221445">{</span><span class="string" id="8221446">&#34;a+&#34;</span><span class="op" id="8221450">,</span>&nbsp;<span class="string" id="8221452">&#34;$$&#34;</span><span class="op" id="8221456">,</span>&nbsp;<span class="string" id="8221458">&#34;aaa&#34;</span><span class="op" id="8221463">,</span>&nbsp;<span class="string" id="8221465">&#34;$&#34;</span><span class="op" id="8221468">}</span><span class="op" id="8221469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221472">{</span><span class="string" id="8221473">&#34;a+&#34;</span><span class="op" id="8221477">,</span>&nbsp;<span class="string" id="8221479">&#34;$&#34;</span><span class="op" id="8221482">,</span>&nbsp;<span class="string" id="8221484">&#34;aaa&#34;</span><span class="op" id="8221489">,</span>&nbsp;<span class="string" id="8221491">&#34;$&#34;</span><span class="op" id="8221494">}</span><span class="op" id="8221495">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8221499">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221547">{</span><span class="string" id="8221548">&#34;(x)?&#34;</span><span class="op" id="8221554">,</span>&nbsp;<span class="string" id="8221556">&#34;$1&#34;</span><span class="op" id="8221560">,</span>&nbsp;<span class="string" id="8221562">&#34;123&#34;</span><span class="op" id="8221567">,</span>&nbsp;<span class="string" id="8221569">&#34;123&#34;</span><span class="op" id="8221574">}</span><span class="op" id="8221575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221578">{</span><span class="string" id="8221579">&#34;abc&#34;</span><span class="op" id="8221584">,</span>&nbsp;<span class="string" id="8221586">&#34;$1&#34;</span><span class="op" id="8221590">,</span>&nbsp;<span class="string" id="8221592">&#34;123&#34;</span><span class="op" id="8221597">,</span>&nbsp;<span class="string" id="8221599">&#34;123&#34;</span><span class="op" id="8221604">}</span><span class="op" id="8221605">,</span><br>
<span class="lineno"></span><span class="op" id="8221607">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="8221610">var</span>&nbsp;<span class="ident" id="8221614">replaceLiteralTests</span>&nbsp;<span class="op" id="8221634">=</span>&nbsp;<span class="op" id="8221636">[</span><span class="op" id="8221637">]</span><span class="ident" id="8221638">ReplaceTest</span><span class="op" id="8221649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8221652">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221670">{</span><span class="string" id="8221671">&#34;a+&#34;</span><span class="op" id="8221675">,</span>&nbsp;<span class="string" id="8221677">&#34;($0)&#34;</span><span class="op" id="8221683">,</span>&nbsp;<span class="string" id="8221685">&#34;banana&#34;</span><span class="op" id="8221693">,</span>&nbsp;<span class="string" id="8221695">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="8221712">}</span><span class="op" id="8221713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221716">{</span><span class="string" id="8221717">&#34;a+&#34;</span><span class="op" id="8221721">,</span>&nbsp;<span class="string" id="8221723">&#34;(${0})&#34;</span><span class="op" id="8221731">,</span>&nbsp;<span class="string" id="8221733">&#34;banana&#34;</span><span class="op" id="8221741">,</span>&nbsp;<span class="string" id="8221743">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="8221766">}</span><span class="op" id="8221767">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221770">{</span><span class="string" id="8221771">&#34;a+&#34;</span><span class="op" id="8221775">,</span>&nbsp;<span class="string" id="8221777">&#34;(${0})$0&#34;</span><span class="op" id="8221787">,</span>&nbsp;<span class="string" id="8221789">&#34;banana&#34;</span><span class="op" id="8221797">,</span>&nbsp;<span class="string" id="8221799">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="8221828">}</span><span class="op" id="8221829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221832">{</span><span class="string" id="8221833">&#34;a+&#34;</span><span class="op" id="8221837">,</span>&nbsp;<span class="string" id="8221839">&#34;(${0})$0&#34;</span><span class="op" id="8221849">,</span>&nbsp;<span class="string" id="8221851">&#34;banana&#34;</span><span class="op" id="8221859">,</span>&nbsp;<span class="string" id="8221861">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="8221890">}</span><span class="op" id="8221891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221894">{</span><span class="string" id="8221895">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8221908">,</span>&nbsp;<span class="string" id="8221910">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="8221925">,</span>&nbsp;<span class="string" id="8221927">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8221941">,</span>&nbsp;<span class="string" id="8221943">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="8221958">}</span><span class="op" id="8221959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221962">{</span><span class="string" id="8221963">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8221984">,</span>&nbsp;<span class="string" id="8221986">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="8222003">,</span>&nbsp;<span class="string" id="8222005">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8222019">,</span>&nbsp;<span class="string" id="8222021">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="8222038">}</span><span class="op" id="8222039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222042">{</span><span class="string" id="8222043">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8222064">,</span>&nbsp;<span class="string" id="8222066">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="8222084">,</span>&nbsp;<span class="string" id="8222086">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8222100">,</span>&nbsp;<span class="string" id="8222102">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="8222120">}</span><span class="op" id="8222121">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222124">{</span><span class="string" id="8222125">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8222147">,</span>&nbsp;<span class="string" id="8222149">&#34;$x$x$x&#34;</span><span class="op" id="8222157">,</span>&nbsp;<span class="string" id="8222159">&#34;hi&#34;</span><span class="op" id="8222163">,</span>&nbsp;<span class="string" id="8222165">&#34;$x$x$x&#34;</span><span class="op" id="8222173">}</span><span class="op" id="8222174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222177">{</span><span class="string" id="8222178">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8222200">,</span>&nbsp;<span class="string" id="8222202">&#34;$x$x$x&#34;</span><span class="op" id="8222210">,</span>&nbsp;<span class="string" id="8222212">&#34;bye&#34;</span><span class="op" id="8222217">,</span>&nbsp;<span class="string" id="8222219">&#34;$x$x$x&#34;</span><span class="op" id="8222227">}</span><span class="op" id="8222228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222231">{</span><span class="string" id="8222232">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8222254">,</span>&nbsp;<span class="string" id="8222256">&#34;$xyz&#34;</span><span class="op" id="8222262">,</span>&nbsp;<span class="string" id="8222264">&#34;hi&#34;</span><span class="op" id="8222268">,</span>&nbsp;<span class="string" id="8222270">&#34;$xyz&#34;</span><span class="op" id="8222276">}</span><span class="op" id="8222277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222280">{</span><span class="string" id="8222281">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8222303">,</span>&nbsp;<span class="string" id="8222305">&#34;${x}yz&#34;</span><span class="op" id="8222313">,</span>&nbsp;<span class="string" id="8222315">&#34;hi&#34;</span><span class="op" id="8222319">,</span>&nbsp;<span class="string" id="8222321">&#34;${x}yz&#34;</span><span class="op" id="8222329">}</span><span class="op" id="8222330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222333">{</span><span class="string" id="8222334">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8222356">,</span>&nbsp;<span class="string" id="8222358">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="8222369">,</span>&nbsp;<span class="string" id="8222371">&#34;hi&#34;</span><span class="op" id="8222375">,</span>&nbsp;<span class="string" id="8222377">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="8222388">}</span><span class="op" id="8222389">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222392">{</span><span class="string" id="8222393">&#34;a+&#34;</span><span class="op" id="8222397">,</span>&nbsp;<span class="string" id="8222399">&#34;${oops&#34;</span><span class="op" id="8222407">,</span>&nbsp;<span class="string" id="8222409">&#34;aaa&#34;</span><span class="op" id="8222414">,</span>&nbsp;<span class="string" id="8222416">&#34;${oops&#34;</span><span class="op" id="8222424">}</span><span class="op" id="8222425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222428">{</span><span class="string" id="8222429">&#34;a+&#34;</span><span class="op" id="8222433">,</span>&nbsp;<span class="string" id="8222435">&#34;$$&#34;</span><span class="op" id="8222439">,</span>&nbsp;<span class="string" id="8222441">&#34;aaa&#34;</span><span class="op" id="8222446">,</span>&nbsp;<span class="string" id="8222448">&#34;$$&#34;</span><span class="op" id="8222452">}</span><span class="op" id="8222453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222456">{</span><span class="string" id="8222457">&#34;a+&#34;</span><span class="op" id="8222461">,</span>&nbsp;<span class="string" id="8222463">&#34;$&#34;</span><span class="op" id="8222466">,</span>&nbsp;<span class="string" id="8222468">&#34;aaa&#34;</span><span class="op" id="8222473">,</span>&nbsp;<span class="string" id="8222475">&#34;$&#34;</span><span class="op" id="8222478">}</span><span class="op" id="8222479">,</span><br>
<span class="lineno"></span><span class="op" id="8222481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="8222484">type</span>&nbsp;<span class="ident" id="8222489">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="8222505">struct</span>&nbsp;<span class="op" id="8222512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222515">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8222529">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222537">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222551">func</span><span class="op" id="8222555">(</span><span class="builtintype" id="8222556">string</span><span class="op" id="8222562">)</span>&nbsp;<span class="builtintype" id="8222564">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222572">input</span><span class="op" id="8222577">,</span>&nbsp;<span class="ident" id="8222579">output</span>&nbsp;<span class="builtintype" id="8222586">string</span><br>
<span class="lineno"></span><span class="op" id="8222593">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="8222596">var</span>&nbsp;<span class="ident" id="8222600">replaceFuncTests</span>&nbsp;<span class="op" id="8222617">=</span>&nbsp;<span class="op" id="8222619">[</span><span class="op" id="8222620">]</span><span class="ident" id="8222621">ReplaceFuncTest</span><span class="op" id="8222636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222639">{</span><span class="string" id="8222640">&#34;[a-c]&#34;</span><span class="op" id="8222647">,</span>&nbsp;<span class="keyword" id="8222649">func</span><span class="op" id="8222653">(</span><span class="ident" id="8222654">s</span>&nbsp;<span class="builtintype" id="8222656">string</span><span class="op" id="8222662">)</span>&nbsp;<span class="builtintype" id="8222664">string</span>&nbsp;<span class="op" id="8222671">{</span>&nbsp;<span class="keyword" id="8222673">return</span>&nbsp;<span class="string" id="8222680">&#34;x&#34;</span>&nbsp;<span class="op" id="8222684">+</span>&nbsp;<span class="ident" id="8222686">s</span>&nbsp;<span class="op" id="8222688">+</span>&nbsp;<span class="string" id="8222690">&#34;y&#34;</span>&nbsp;<span class="op" id="8222694">}</span><span class="op" id="8222695">,</span>&nbsp;<span class="string" id="8222697">&#34;defabcdef&#34;</span><span class="op" id="8222708">,</span>&nbsp;<span class="string" id="8222710">&#34;defxayxbyxcydef&#34;</span><span class="op" id="8222727">}</span><span class="op" id="8222728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222731">{</span><span class="string" id="8222732">&#34;[a-c]+&#34;</span><span class="op" id="8222740">,</span>&nbsp;<span class="keyword" id="8222742">func</span><span class="op" id="8222746">(</span><span class="ident" id="8222747">s</span>&nbsp;<span class="builtintype" id="8222749">string</span><span class="op" id="8222755">)</span>&nbsp;<span class="builtintype" id="8222757">string</span>&nbsp;<span class="op" id="8222764">{</span>&nbsp;<span class="keyword" id="8222766">return</span>&nbsp;<span class="string" id="8222773">&#34;x&#34;</span>&nbsp;<span class="op" id="8222777">+</span>&nbsp;<span class="ident" id="8222779">s</span>&nbsp;<span class="op" id="8222781">+</span>&nbsp;<span class="string" id="8222783">&#34;y&#34;</span>&nbsp;<span class="op" id="8222787">}</span><span class="op" id="8222788">,</span>&nbsp;<span class="string" id="8222790">&#34;defabcdef&#34;</span><span class="op" id="8222801">,</span>&nbsp;<span class="string" id="8222803">&#34;defxabcydef&#34;</span><span class="op" id="8222816">}</span><span class="op" id="8222817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222820">{</span><span class="string" id="8222821">&#34;[a-c]*&#34;</span><span class="op" id="8222829">,</span>&nbsp;<span class="keyword" id="8222831">func</span><span class="op" id="8222835">(</span><span class="ident" id="8222836">s</span>&nbsp;<span class="builtintype" id="8222838">string</span><span class="op" id="8222844">)</span>&nbsp;<span class="builtintype" id="8222846">string</span>&nbsp;<span class="op" id="8222853">{</span>&nbsp;<span class="keyword" id="8222855">return</span>&nbsp;<span class="string" id="8222862">&#34;x&#34;</span>&nbsp;<span class="op" id="8222866">+</span>&nbsp;<span class="ident" id="8222868">s</span>&nbsp;<span class="op" id="8222870">+</span>&nbsp;<span class="string" id="8222872">&#34;y&#34;</span>&nbsp;<span class="op" id="8222876">}</span><span class="op" id="8222877">,</span>&nbsp;<span class="string" id="8222879">&#34;defabcdef&#34;</span><span class="op" id="8222890">,</span>&nbsp;<span class="string" id="8222892">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="8222917">}</span><span class="op" id="8222918">,</span><br>
<span class="lineno">235</span><span class="op" id="8222920">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222923">func</span>&nbsp;<span class="ident" id="8222928">TestReplaceAll</span><span class="op" id="8222942">(</span><span class="ident" id="8222943">t</span>&nbsp;<span class="op" id="8222945">*</span><span class="ident" id="8222946">testing</span><span class="op" id="8222953">.</span><span class="ident" id="8222954">T</span><span class="op" id="8222955">)</span>&nbsp;<span class="op" id="8222957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222960">for</span>&nbsp;<span class="ident" id="8222964">_</span><span class="op" id="8222965">,</span>&nbsp;<span class="ident" id="8222967">tc</span>&nbsp;<span class="op" id="8222970">:=</span>&nbsp;<span class="keyword" id="8222973">range</span>&nbsp;<span class="ident" id="8222979">replaceTests</span>&nbsp;<span class="op" id="8222992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222996">re</span><span class="op" id="8222998">,</span>&nbsp;<span class="ident" id="8223000">err</span>&nbsp;<span class="op" id="8223004">:=</span>&nbsp;<span class="ident" id="8223007">Compile</span><span class="op" id="8223014">(</span><span class="ident" id="8223015">tc</span><span class="op" id="8223017">.</span><span class="ident" id="8223018">pattern</span><span class="op" id="8223025">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223029">if</span>&nbsp;<span class="ident" id="8223032">err</span>&nbsp;<span class="op" id="8223036">!=</span>&nbsp;<span class="ident" id="8223039">nil</span>&nbsp;<span class="op" id="8223043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223048">t</span><span class="op" id="8223049">.</span><span class="ident" id="8223050">Errorf</span><span class="op" id="8223056">(</span><span class="string" id="8223057">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8223092">,</span>&nbsp;<span class="ident" id="8223094">tc</span><span class="op" id="8223096">.</span><span class="ident" id="8223097">pattern</span><span class="op" id="8223104">,</span>&nbsp;<span class="ident" id="8223106">err</span><span class="op" id="8223109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223114">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223129">actual</span>&nbsp;<span class="op" id="8223136">:=</span>&nbsp;<span class="ident" id="8223139">re</span><span class="op" id="8223141">.</span><span class="ident" id="8223142">ReplaceAllString</span><span class="op" id="8223158">(</span><span class="ident" id="8223159">tc</span><span class="op" id="8223161">.</span><span class="ident" id="8223162">input</span><span class="op" id="8223167">,</span>&nbsp;<span class="ident" id="8223169">tc</span><span class="op" id="8223171">.</span><span class="ident" id="8223172">replacement</span><span class="op" id="8223183">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223187">if</span>&nbsp;<span class="ident" id="8223190">actual</span>&nbsp;<span class="op" id="8223197">!=</span>&nbsp;<span class="ident" id="8223200">tc</span><span class="op" id="8223202">.</span><span class="ident" id="8223203">output</span>&nbsp;<span class="op" id="8223210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223215">t</span><span class="op" id="8223216">.</span><span class="ident" id="8223217">Errorf</span><span class="op" id="8223223">(</span><span class="string" id="8223224">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8223266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223272">tc</span><span class="op" id="8223274">.</span><span class="ident" id="8223275">pattern</span><span class="op" id="8223282">,</span>&nbsp;<span class="ident" id="8223284">tc</span><span class="op" id="8223286">.</span><span class="ident" id="8223287">input</span><span class="op" id="8223292">,</span>&nbsp;<span class="ident" id="8223294">tc</span><span class="op" id="8223296">.</span><span class="ident" id="8223297">replacement</span><span class="op" id="8223308">,</span>&nbsp;<span class="ident" id="8223310">actual</span><span class="op" id="8223316">,</span>&nbsp;<span class="ident" id="8223318">tc</span><span class="op" id="8223320">.</span><span class="ident" id="8223321">output</span><span class="op" id="8223327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223335">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223354">actual</span>&nbsp;<span class="op" id="8223361">=</span>&nbsp;<span class="builtintype" id="8223363">string</span><span class="op" id="8223369">(</span><span class="ident" id="8223370">re</span><span class="op" id="8223372">.</span><span class="ident" id="8223373">ReplaceAll</span><span class="op" id="8223383">(</span><span class="op" id="8223384">[</span><span class="op" id="8223385">]</span><span class="builtintype" id="8223386">byte</span><span class="op" id="8223390">(</span><span class="ident" id="8223391">tc</span><span class="op" id="8223393">.</span><span class="ident" id="8223394">input</span><span class="op" id="8223399">)</span><span class="op" id="8223400">,</span>&nbsp;<span class="op" id="8223402">[</span><span class="op" id="8223403">]</span><span class="builtintype" id="8223404">byte</span><span class="op" id="8223408">(</span><span class="ident" id="8223409">tc</span><span class="op" id="8223411">.</span><span class="ident" id="8223412">replacement</span><span class="op" id="8223423">)</span><span class="op" id="8223424">)</span><span class="op" id="8223425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223429">if</span>&nbsp;<span class="ident" id="8223432">actual</span>&nbsp;<span class="op" id="8223439">!=</span>&nbsp;<span class="ident" id="8223442">tc</span><span class="op" id="8223444">.</span><span class="ident" id="8223445">output</span>&nbsp;<span class="op" id="8223452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223457">t</span><span class="op" id="8223458">.</span><span class="ident" id="8223459">Errorf</span><span class="op" id="8223465">(</span><span class="string" id="8223466">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8223502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223508">tc</span><span class="op" id="8223510">.</span><span class="ident" id="8223511">pattern</span><span class="op" id="8223518">,</span>&nbsp;<span class="ident" id="8223520">tc</span><span class="op" id="8223522">.</span><span class="ident" id="8223523">input</span><span class="op" id="8223528">,</span>&nbsp;<span class="ident" id="8223530">tc</span><span class="op" id="8223532">.</span><span class="ident" id="8223533">replacement</span><span class="op" id="8223544">,</span>&nbsp;<span class="ident" id="8223546">actual</span><span class="op" id="8223552">,</span>&nbsp;<span class="ident" id="8223554">tc</span><span class="op" id="8223556">.</span><span class="ident" id="8223557">output</span><span class="op" id="8223563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223567">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223570">}</span><br>
<span class="lineno"></span><span class="op" id="8223572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8223575">func</span>&nbsp;<span class="ident" id="8223580">TestReplaceAllLiteral</span><span class="op" id="8223601">(</span><span class="ident" id="8223602">t</span>&nbsp;<span class="op" id="8223604">*</span><span class="ident" id="8223605">testing</span><span class="op" id="8223612">.</span><span class="ident" id="8223613">T</span><span class="op" id="8223614">)</span>&nbsp;<span class="op" id="8223616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8223619">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223675">for</span>&nbsp;<span class="ident" id="8223679">_</span><span class="op" id="8223680">,</span>&nbsp;<span class="ident" id="8223682">tc</span>&nbsp;<span class="op" id="8223685">:=</span>&nbsp;<span class="keyword" id="8223688">range</span>&nbsp;<span class="ident" id="8223694">replaceTests</span>&nbsp;<span class="op" id="8223707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223711">if</span>&nbsp;<span class="ident" id="8223714">strings</span><span class="op" id="8223721">.</span><span class="ident" id="8223722">Contains</span><span class="op" id="8223730">(</span><span class="ident" id="8223731">tc</span><span class="op" id="8223733">.</span><span class="ident" id="8223734">replacement</span><span class="op" id="8223745">,</span>&nbsp;<span class="string" id="8223747">&#34;$&#34;</span><span class="op" id="8223750">)</span>&nbsp;<span class="op" id="8223752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223757">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223772">re</span><span class="op" id="8223774">,</span>&nbsp;<span class="ident" id="8223776">err</span>&nbsp;<span class="op" id="8223780">:=</span>&nbsp;<span class="ident" id="8223783">Compile</span><span class="op" id="8223790">(</span><span class="ident" id="8223791">tc</span><span class="op" id="8223793">.</span><span class="ident" id="8223794">pattern</span><span class="op" id="8223801">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223805">if</span>&nbsp;<span class="ident" id="8223808">err</span>&nbsp;<span class="op" id="8223812">!=</span>&nbsp;<span class="ident" id="8223815">nil</span>&nbsp;<span class="op" id="8223819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223824">t</span><span class="op" id="8223825">.</span><span class="ident" id="8223826">Errorf</span><span class="op" id="8223832">(</span><span class="string" id="8223833">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8223868">,</span>&nbsp;<span class="ident" id="8223870">tc</span><span class="op" id="8223872">.</span><span class="ident" id="8223873">pattern</span><span class="op" id="8223880">,</span>&nbsp;<span class="ident" id="8223882">err</span><span class="op" id="8223885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223890">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223905">actual</span>&nbsp;<span class="op" id="8223912">:=</span>&nbsp;<span class="ident" id="8223915">re</span><span class="op" id="8223917">.</span><span class="ident" id="8223918">ReplaceAllLiteralString</span><span class="op" id="8223941">(</span><span class="ident" id="8223942">tc</span><span class="op" id="8223944">.</span><span class="ident" id="8223945">input</span><span class="op" id="8223950">,</span>&nbsp;<span class="ident" id="8223952">tc</span><span class="op" id="8223954">.</span><span class="ident" id="8223955">replacement</span><span class="op" id="8223966">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223970">if</span>&nbsp;<span class="ident" id="8223973">actual</span>&nbsp;<span class="op" id="8223980">!=</span>&nbsp;<span class="ident" id="8223983">tc</span><span class="op" id="8223985">.</span><span class="ident" id="8223986">output</span>&nbsp;<span class="op" id="8223993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223998">t</span><span class="op" id="8223999">.</span><span class="ident" id="8224000">Errorf</span><span class="op" id="8224006">(</span><span class="string" id="8224007">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8224056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224062">tc</span><span class="op" id="8224064">.</span><span class="ident" id="8224065">pattern</span><span class="op" id="8224072">,</span>&nbsp;<span class="ident" id="8224074">tc</span><span class="op" id="8224076">.</span><span class="ident" id="8224077">input</span><span class="op" id="8224082">,</span>&nbsp;<span class="ident" id="8224084">tc</span><span class="op" id="8224086">.</span><span class="ident" id="8224087">replacement</span><span class="op" id="8224098">,</span>&nbsp;<span class="ident" id="8224100">actual</span><span class="op" id="8224106">,</span>&nbsp;<span class="ident" id="8224108">tc</span><span class="op" id="8224110">.</span><span class="ident" id="8224111">output</span><span class="op" id="8224117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8224125">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224144">actual</span>&nbsp;<span class="op" id="8224151">=</span>&nbsp;<span class="builtintype" id="8224153">string</span><span class="op" id="8224159">(</span><span class="ident" id="8224160">re</span><span class="op" id="8224162">.</span><span class="ident" id="8224163">ReplaceAllLiteral</span><span class="op" id="8224180">(</span><span class="op" id="8224181">[</span><span class="op" id="8224182">]</span><span class="builtintype" id="8224183">byte</span><span class="op" id="8224187">(</span><span class="ident" id="8224188">tc</span><span class="op" id="8224190">.</span><span class="ident" id="8224191">input</span><span class="op" id="8224196">)</span><span class="op" id="8224197">,</span>&nbsp;<span class="op" id="8224199">[</span><span class="op" id="8224200">]</span><span class="builtintype" id="8224201">byte</span><span class="op" id="8224205">(</span><span class="ident" id="8224206">tc</span><span class="op" id="8224208">.</span><span class="ident" id="8224209">replacement</span><span class="op" id="8224220">)</span><span class="op" id="8224221">)</span><span class="op" id="8224222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224226">if</span>&nbsp;<span class="ident" id="8224229">actual</span>&nbsp;<span class="op" id="8224236">!=</span>&nbsp;<span class="ident" id="8224239">tc</span><span class="op" id="8224241">.</span><span class="ident" id="8224242">output</span>&nbsp;<span class="op" id="8224249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224254">t</span><span class="op" id="8224255">.</span><span class="ident" id="8224256">Errorf</span><span class="op" id="8224262">(</span><span class="string" id="8224263">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8224306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224312">tc</span><span class="op" id="8224314">.</span><span class="ident" id="8224315">pattern</span><span class="op" id="8224322">,</span>&nbsp;<span class="ident" id="8224324">tc</span><span class="op" id="8224326">.</span><span class="ident" id="8224327">input</span><span class="op" id="8224332">,</span>&nbsp;<span class="ident" id="8224334">tc</span><span class="op" id="8224336">.</span><span class="ident" id="8224337">replacement</span><span class="op" id="8224348">,</span>&nbsp;<span class="ident" id="8224350">actual</span><span class="op" id="8224356">,</span>&nbsp;<span class="ident" id="8224358">tc</span><span class="op" id="8224360">.</span><span class="ident" id="8224361">output</span><span class="op" id="8224367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224371">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8224378">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224410">for</span>&nbsp;<span class="ident" id="8224414">_</span><span class="op" id="8224415">,</span>&nbsp;<span class="ident" id="8224417">tc</span>&nbsp;<span class="op" id="8224420">:=</span>&nbsp;<span class="keyword" id="8224423">range</span>&nbsp;<span class="ident" id="8224429">replaceLiteralTests</span>&nbsp;<span class="op" id="8224449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224453">re</span><span class="op" id="8224455">,</span>&nbsp;<span class="ident" id="8224457">err</span>&nbsp;<span class="op" id="8224461">:=</span>&nbsp;<span class="ident" id="8224464">Compile</span><span class="op" id="8224471">(</span><span class="ident" id="8224472">tc</span><span class="op" id="8224474">.</span><span class="ident" id="8224475">pattern</span><span class="op" id="8224482">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224486">if</span>&nbsp;<span class="ident" id="8224489">err</span>&nbsp;<span class="op" id="8224493">!=</span>&nbsp;<span class="ident" id="8224496">nil</span>&nbsp;<span class="op" id="8224500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224505">t</span><span class="op" id="8224506">.</span><span class="ident" id="8224507">Errorf</span><span class="op" id="8224513">(</span><span class="string" id="8224514">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8224549">,</span>&nbsp;<span class="ident" id="8224551">tc</span><span class="op" id="8224553">.</span><span class="ident" id="8224554">pattern</span><span class="op" id="8224561">,</span>&nbsp;<span class="ident" id="8224563">err</span><span class="op" id="8224566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224571">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224586">actual</span>&nbsp;<span class="op" id="8224593">:=</span>&nbsp;<span class="ident" id="8224596">re</span><span class="op" id="8224598">.</span><span class="ident" id="8224599">ReplaceAllLiteralString</span><span class="op" id="8224622">(</span><span class="ident" id="8224623">tc</span><span class="op" id="8224625">.</span><span class="ident" id="8224626">input</span><span class="op" id="8224631">,</span>&nbsp;<span class="ident" id="8224633">tc</span><span class="op" id="8224635">.</span><span class="ident" id="8224636">replacement</span><span class="op" id="8224647">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224651">if</span>&nbsp;<span class="ident" id="8224654">actual</span>&nbsp;<span class="op" id="8224661">!=</span>&nbsp;<span class="ident" id="8224664">tc</span><span class="op" id="8224666">.</span><span class="ident" id="8224667">output</span>&nbsp;<span class="op" id="8224674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224679">t</span><span class="op" id="8224680">.</span><span class="ident" id="8224681">Errorf</span><span class="op" id="8224687">(</span><span class="string" id="8224688">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8224737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224743">tc</span><span class="op" id="8224745">.</span><span class="ident" id="8224746">pattern</span><span class="op" id="8224753">,</span>&nbsp;<span class="ident" id="8224755">tc</span><span class="op" id="8224757">.</span><span class="ident" id="8224758">input</span><span class="op" id="8224763">,</span>&nbsp;<span class="ident" id="8224765">tc</span><span class="op" id="8224767">.</span><span class="ident" id="8224768">replacement</span><span class="op" id="8224779">,</span>&nbsp;<span class="ident" id="8224781">actual</span><span class="op" id="8224787">,</span>&nbsp;<span class="ident" id="8224789">tc</span><span class="op" id="8224791">.</span><span class="ident" id="8224792">output</span><span class="op" id="8224798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8224802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8224806">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224825">actual</span>&nbsp;<span class="op" id="8224832">=</span>&nbsp;<span class="builtintype" id="8224834">string</span><span class="op" id="8224840">(</span><span class="ident" id="8224841">re</span><span class="op" id="8224843">.</span><span class="ident" id="8224844">ReplaceAllLiteral</span><span class="op" id="8224861">(</span><span class="op" id="8224862">[</span><span class="op" id="8224863">]</span><span class="builtintype" id="8224864">byte</span><span class="op" id="8224868">(</span><span class="ident" id="8224869">tc</span><span class="op" id="8224871">.</span><span class="ident" id="8224872">input</span><span class="op" id="8224877">)</span><span class="op" id="8224878">,</span>&nbsp;<span class="op" id="8224880">[</span><span class="op" id="8224881">]</span><span class="builtintype" id="8224882">byte</span><span class="op" id="8224886">(</span><span class="ident" id="8224887">tc</span><span class="op" id="8224889">.</span><span class="ident" id="8224890">replacement</span><span class="op" id="8224901">)</span><span class="op" id="8224902">)</span><span class="op" id="8224903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8224907">if</span>&nbsp;<span class="ident" id="8224910">actual</span>&nbsp;<span class="op" id="8224917">!=</span>&nbsp;<span class="ident" id="8224920">tc</span><span class="op" id="8224922">.</span><span class="ident" id="8224923">output</span>&nbsp;<span class="op" id="8224930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224935">t</span><span class="op" id="8224936">.</span><span class="ident" id="8224937">Errorf</span><span class="op" id="8224943">(</span><span class="string" id="8224944">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8224987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8224993">tc</span><span class="op" id="8224995">.</span><span class="ident" id="8224996">pattern</span><span class="op" id="8225003">,</span>&nbsp;<span class="ident" id="8225005">tc</span><span class="op" id="8225007">.</span><span class="ident" id="8225008">input</span><span class="op" id="8225013">,</span>&nbsp;<span class="ident" id="8225015">tc</span><span class="op" id="8225017">.</span><span class="ident" id="8225018">replacement</span><span class="op" id="8225029">,</span>&nbsp;<span class="ident" id="8225031">actual</span><span class="op" id="8225037">,</span>&nbsp;<span class="ident" id="8225039">tc</span><span class="op" id="8225041">.</span><span class="ident" id="8225042">output</span><span class="op" id="8225048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225052">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225055">}</span><br>
<span class="lineno"></span><span class="op" id="8225057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8225060">func</span>&nbsp;<span class="ident" id="8225065">TestReplaceAllFunc</span><span class="op" id="8225083">(</span><span class="ident" id="8225084">t</span>&nbsp;<span class="op" id="8225086">*</span><span class="ident" id="8225087">testing</span><span class="op" id="8225094">.</span><span class="ident" id="8225095">T</span><span class="op" id="8225096">)</span>&nbsp;<span class="op" id="8225098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225101">for</span>&nbsp;<span class="ident" id="8225105">_</span><span class="op" id="8225106">,</span>&nbsp;<span class="ident" id="8225108">tc</span>&nbsp;<span class="op" id="8225111">:=</span>&nbsp;<span class="keyword" id="8225114">range</span>&nbsp;<span class="ident" id="8225120">replaceFuncTests</span>&nbsp;<span class="op" id="8225137">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225141">re</span><span class="op" id="8225143">,</span>&nbsp;<span class="ident" id="8225145">err</span>&nbsp;<span class="op" id="8225149">:=</span>&nbsp;<span class="ident" id="8225152">Compile</span><span class="op" id="8225159">(</span><span class="ident" id="8225160">tc</span><span class="op" id="8225162">.</span><span class="ident" id="8225163">pattern</span><span class="op" id="8225170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225174">if</span>&nbsp;<span class="ident" id="8225177">err</span>&nbsp;<span class="op" id="8225181">!=</span>&nbsp;<span class="ident" id="8225184">nil</span>&nbsp;<span class="op" id="8225188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225193">t</span><span class="op" id="8225194">.</span><span class="ident" id="8225195">Errorf</span><span class="op" id="8225201">(</span><span class="string" id="8225202">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8225237">,</span>&nbsp;<span class="ident" id="8225239">tc</span><span class="op" id="8225241">.</span><span class="ident" id="8225242">pattern</span><span class="op" id="8225249">,</span>&nbsp;<span class="ident" id="8225251">err</span><span class="op" id="8225254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225259">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225270">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225274">actual</span>&nbsp;<span class="op" id="8225281">:=</span>&nbsp;<span class="ident" id="8225284">re</span><span class="op" id="8225286">.</span><span class="ident" id="8225287">ReplaceAllStringFunc</span><span class="op" id="8225307">(</span><span class="ident" id="8225308">tc</span><span class="op" id="8225310">.</span><span class="ident" id="8225311">input</span><span class="op" id="8225316">,</span>&nbsp;<span class="ident" id="8225318">tc</span><span class="op" id="8225320">.</span><span class="ident" id="8225321">replacement</span><span class="op" id="8225332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225336">if</span>&nbsp;<span class="ident" id="8225339">actual</span>&nbsp;<span class="op" id="8225346">!=</span>&nbsp;<span class="ident" id="8225349">tc</span><span class="op" id="8225351">.</span><span class="ident" id="8225352">output</span>&nbsp;<span class="op" id="8225359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225364">t</span><span class="op" id="8225365">.</span><span class="ident" id="8225366">Errorf</span><span class="op" id="8225372">(</span><span class="string" id="8225373">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8225410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225416">tc</span><span class="op" id="8225418">.</span><span class="ident" id="8225419">pattern</span><span class="op" id="8225426">,</span>&nbsp;<span class="ident" id="8225428">tc</span><span class="op" id="8225430">.</span><span class="ident" id="8225431">input</span><span class="op" id="8225436">,</span>&nbsp;<span class="ident" id="8225438">actual</span><span class="op" id="8225444">,</span>&nbsp;<span class="ident" id="8225446">tc</span><span class="op" id="8225448">.</span><span class="ident" id="8225449">output</span><span class="op" id="8225455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225459">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8225463">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225482">actual</span>&nbsp;<span class="op" id="8225489">=</span>&nbsp;<span class="builtintype" id="8225491">string</span><span class="op" id="8225497">(</span><span class="ident" id="8225498">re</span><span class="op" id="8225500">.</span><span class="ident" id="8225501">ReplaceAllFunc</span><span class="op" id="8225515">(</span><span class="op" id="8225516">[</span><span class="op" id="8225517">]</span><span class="builtintype" id="8225518">byte</span><span class="op" id="8225522">(</span><span class="ident" id="8225523">tc</span><span class="op" id="8225525">.</span><span class="ident" id="8225526">input</span><span class="op" id="8225531">)</span><span class="op" id="8225532">,</span>&nbsp;<span class="keyword" id="8225534">func</span><span class="op" id="8225538">(</span><span class="ident" id="8225539">s</span>&nbsp;<span class="op" id="8225541">[</span><span class="op" id="8225542">]</span><span class="builtintype" id="8225543">byte</span><span class="op" id="8225547">)</span>&nbsp;<span class="op" id="8225549">[</span><span class="op" id="8225550">]</span><span class="builtintype" id="8225551">byte</span>&nbsp;<span class="op" id="8225556">{</span>&nbsp;<span class="keyword" id="8225558">return</span>&nbsp;<span class="op" id="8225565">[</span><span class="op" id="8225566">]</span><span class="builtintype" id="8225567">byte</span><span class="op" id="8225571">(</span><span class="ident" id="8225572">tc</span><span class="op" id="8225574">.</span><span class="ident" id="8225575">replacement</span><span class="op" id="8225586">(</span><span class="builtintype" id="8225587">string</span><span class="op" id="8225593">(</span><span class="ident" id="8225594">s</span><span class="op" id="8225595">)</span><span class="op" id="8225596">)</span><span class="op" id="8225597">)</span>&nbsp;<span class="op" id="8225599">}</span><span class="op" id="8225600">)</span><span class="op" id="8225601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8225605">if</span>&nbsp;<span class="ident" id="8225608">actual</span>&nbsp;<span class="op" id="8225615">!=</span>&nbsp;<span class="ident" id="8225618">tc</span><span class="op" id="8225620">.</span><span class="ident" id="8225621">output</span>&nbsp;<span class="op" id="8225628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225633">t</span><span class="op" id="8225634">.</span><span class="ident" id="8225635">Errorf</span><span class="op" id="8225641">(</span><span class="string" id="8225642">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8225679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225685">tc</span><span class="op" id="8225687">.</span><span class="ident" id="8225688">pattern</span><span class="op" id="8225695">,</span>&nbsp;<span class="ident" id="8225697">tc</span><span class="op" id="8225699">.</span><span class="ident" id="8225700">input</span><span class="op" id="8225705">,</span>&nbsp;<span class="ident" id="8225707">actual</span><span class="op" id="8225713">,</span>&nbsp;<span class="ident" id="8225715">tc</span><span class="op" id="8225717">.</span><span class="ident" id="8225718">output</span><span class="op" id="8225724">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225731">}</span><br>
<span class="lineno"></span><span class="op" id="8225733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8225736">type</span>&nbsp;<span class="ident" id="8225741">MetaTest</span>&nbsp;<span class="keyword" id="8225750">struct</span>&nbsp;<span class="op" id="8225757">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225760">pattern</span><span class="op" id="8225767">,</span>&nbsp;<span class="ident" id="8225769">output</span><span class="op" id="8225775">,</span>&nbsp;<span class="ident" id="8225777">literal</span>&nbsp;<span class="builtintype" id="8225785">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8225793">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8225818">bool</span><br>
<span class="lineno"></span><span class="op" id="8225823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8225826">var</span>&nbsp;<span class="ident" id="8225830">metaTests</span>&nbsp;<span class="op" id="8225840">=</span>&nbsp;<span class="op" id="8225842">[</span><span class="op" id="8225843">]</span><span class="ident" id="8225844">MetaTest</span><span class="op" id="8225852">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225855">{</span><span class="string" id="8225856">``</span><span class="op" id="8225858">,</span>&nbsp;<span class="string" id="8225860">``</span><span class="op" id="8225862">,</span>&nbsp;<span class="string" id="8225864">``</span><span class="op" id="8225866">,</span>&nbsp;<span class="builtintype" id="8225868">true</span><span class="op" id="8225872">}</span><span class="op" id="8225873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225876">{</span><span class="string" id="8225877">`foo`</span><span class="op" id="8225882">,</span>&nbsp;<span class="string" id="8225884">`foo`</span><span class="op" id="8225889">,</span>&nbsp;<span class="string" id="8225891">`foo`</span><span class="op" id="8225896">,</span>&nbsp;<span class="builtintype" id="8225898">true</span><span class="op" id="8225902">}</span><span class="op" id="8225903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225906">{</span><span class="string" id="8225907">`foo\.\$`</span><span class="op" id="8225916">,</span>&nbsp;<span class="string" id="8225918">`foo\\\.\\\$`</span><span class="op" id="8225931">,</span>&nbsp;<span class="string" id="8225933">`foo.$`</span><span class="op" id="8225940">,</span>&nbsp;<span class="builtintype" id="8225942">true</span><span class="op" id="8225946">}</span><span class="op" id="8225947">,</span>&nbsp;<span class="comment" id="8225949">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8225978">{</span><span class="string" id="8225979">`foo.\$`</span><span class="op" id="8225987">,</span>&nbsp;<span class="string" id="8225989">`foo\.\\\$`</span><span class="op" id="8226000">,</span>&nbsp;<span class="string" id="8226002">`foo`</span><span class="op" id="8226007">,</span>&nbsp;<span class="builtintype" id="8226009">false</span><span class="op" id="8226014">}</span><span class="op" id="8226015">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8226021">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226066">{</span><span class="string" id="8226067">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="8226096">,</span>&nbsp;<span class="string" id="8226098">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="8226141">,</span>&nbsp;<span class="string" id="8226143">`!@#`</span><span class="op" id="8226148">,</span>&nbsp;<span class="builtintype" id="8226150">false</span><span class="op" id="8226155">}</span><span class="op" id="8226156">,</span><br>
<span class="lineno">335</span><span class="op" id="8226158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8226161">func</span>&nbsp;<span class="ident" id="8226166">TestQuoteMeta</span><span class="op" id="8226179">(</span><span class="ident" id="8226180">t</span>&nbsp;<span class="op" id="8226182">*</span><span class="ident" id="8226183">testing</span><span class="op" id="8226190">.</span><span class="ident" id="8226191">T</span><span class="op" id="8226192">)</span>&nbsp;<span class="op" id="8226194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226197">for</span>&nbsp;<span class="ident" id="8226201">_</span><span class="op" id="8226202">,</span>&nbsp;<span class="ident" id="8226204">tc</span>&nbsp;<span class="op" id="8226207">:=</span>&nbsp;<span class="keyword" id="8226210">range</span>&nbsp;<span class="ident" id="8226216">metaTests</span>&nbsp;<span class="op" id="8226226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8226230">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226286">quoted</span>&nbsp;<span class="op" id="8226293">:=</span>&nbsp;<span class="ident" id="8226296">QuoteMeta</span><span class="op" id="8226305">(</span><span class="ident" id="8226306">tc</span><span class="op" id="8226308">.</span><span class="ident" id="8226309">pattern</span><span class="op" id="8226316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226320">if</span>&nbsp;<span class="ident" id="8226323">quoted</span>&nbsp;<span class="op" id="8226330">!=</span>&nbsp;<span class="ident" id="8226333">tc</span><span class="op" id="8226335">.</span><span class="ident" id="8226336">output</span>&nbsp;<span class="op" id="8226343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226348">t</span><span class="op" id="8226349">.</span><span class="ident" id="8226350">Errorf</span><span class="op" id="8226356">(</span><span class="string" id="8226357">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="8226392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226398">tc</span><span class="op" id="8226400">.</span><span class="ident" id="8226401">pattern</span><span class="op" id="8226408">,</span>&nbsp;<span class="ident" id="8226410">quoted</span><span class="op" id="8226416">,</span>&nbsp;<span class="ident" id="8226418">tc</span><span class="op" id="8226420">.</span><span class="ident" id="8226421">output</span><span class="op" id="8226427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226432">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8226448">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8226514">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226585">if</span>&nbsp;<span class="ident" id="8226588">tc</span><span class="op" id="8226590">.</span><span class="ident" id="8226591">pattern</span>&nbsp;<span class="op" id="8226599">!=</span>&nbsp;<span class="string" id="8226602">&#34;&#34;</span>&nbsp;<span class="op" id="8226605">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226610">re</span><span class="op" id="8226612">,</span>&nbsp;<span class="ident" id="8226614">err</span>&nbsp;<span class="op" id="8226618">:=</span>&nbsp;<span class="ident" id="8226621">Compile</span><span class="op" id="8226628">(</span><span class="ident" id="8226629">quoted</span><span class="op" id="8226635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226640">if</span>&nbsp;<span class="ident" id="8226643">err</span>&nbsp;<span class="op" id="8226647">!=</span>&nbsp;<span class="ident" id="8226650">nil</span>&nbsp;<span class="op" id="8226654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226660">t</span><span class="op" id="8226661">.</span><span class="ident" id="8226662">Errorf</span><span class="op" id="8226668">(</span><span class="string" id="8226669">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="8226717">,</span>&nbsp;<span class="ident" id="8226719">tc</span><span class="op" id="8226721">.</span><span class="ident" id="8226722">pattern</span><span class="op" id="8226729">,</span>&nbsp;<span class="ident" id="8226731">err</span><span class="op" id="8226734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226740">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8226752">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226757">src</span>&nbsp;<span class="op" id="8226761">:=</span>&nbsp;<span class="string" id="8226764">&#34;abc&#34;</span>&nbsp;<span class="op" id="8226770">+</span>&nbsp;<span class="ident" id="8226772">tc</span><span class="op" id="8226774">.</span><span class="ident" id="8226775">pattern</span>&nbsp;<span class="op" id="8226783">+</span>&nbsp;<span class="string" id="8226785">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226794">repl</span>&nbsp;<span class="op" id="8226799">:=</span>&nbsp;<span class="string" id="8226802">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226811">replaced</span>&nbsp;<span class="op" id="8226820">:=</span>&nbsp;<span class="ident" id="8226823">re</span><span class="op" id="8226825">.</span><span class="ident" id="8226826">ReplaceAllString</span><span class="op" id="8226842">(</span><span class="ident" id="8226843">src</span><span class="op" id="8226846">,</span>&nbsp;<span class="ident" id="8226848">repl</span><span class="op" id="8226852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226857">expected</span>&nbsp;<span class="op" id="8226866">:=</span>&nbsp;<span class="string" id="8226869">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8226884">if</span>&nbsp;<span class="ident" id="8226887">replaced</span>&nbsp;<span class="op" id="8226896">!=</span>&nbsp;<span class="ident" id="8226899">expected</span>&nbsp;<span class="op" id="8226908">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226914">t</span><span class="op" id="8226915">.</span><span class="ident" id="8226916">Errorf</span><span class="op" id="8226922">(</span><span class="string" id="8226923">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="8226977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8226984">tc</span><span class="op" id="8226986">.</span><span class="ident" id="8226987">pattern</span><span class="op" id="8226994">,</span>&nbsp;<span class="ident" id="8226996">src</span><span class="op" id="8226999">,</span>&nbsp;<span class="ident" id="8227001">repl</span><span class="op" id="8227005">,</span>&nbsp;<span class="ident" id="8227007">replaced</span><span class="op" id="8227015">,</span>&nbsp;<span class="ident" id="8227017">expected</span><span class="op" id="8227025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227037">}</span><br>
<span class="lineno">365</span><span class="op" id="8227039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8227042">func</span>&nbsp;<span class="ident" id="8227047">TestLiteralPrefix</span><span class="op" id="8227064">(</span><span class="ident" id="8227065">t</span>&nbsp;<span class="op" id="8227067">*</span><span class="ident" id="8227068">testing</span><span class="op" id="8227075">.</span><span class="ident" id="8227076">T</span><span class="op" id="8227077">)</span>&nbsp;<span class="op" id="8227079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227082">for</span>&nbsp;<span class="ident" id="8227086">_</span><span class="op" id="8227087">,</span>&nbsp;<span class="ident" id="8227089">tc</span>&nbsp;<span class="op" id="8227092">:=</span>&nbsp;<span class="keyword" id="8227095">range</span>&nbsp;<span class="ident" id="8227101">metaTests</span>&nbsp;<span class="op" id="8227111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8227115">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227162">re</span>&nbsp;<span class="op" id="8227165">:=</span>&nbsp;<span class="ident" id="8227168">MustCompile</span><span class="op" id="8227179">(</span><span class="ident" id="8227180">tc</span><span class="op" id="8227182">.</span><span class="ident" id="8227183">pattern</span><span class="op" id="8227190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227194">str</span><span class="op" id="8227197">,</span>&nbsp;<span class="ident" id="8227199">complete</span>&nbsp;<span class="op" id="8227208">:=</span>&nbsp;<span class="ident" id="8227211">re</span><span class="op" id="8227213">.</span><span class="ident" id="8227214">LiteralPrefix</span><span class="op" id="8227227">(</span><span class="op" id="8227228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227232">if</span>&nbsp;<span class="ident" id="8227235">complete</span>&nbsp;<span class="op" id="8227244">!=</span>&nbsp;<span class="ident" id="8227247">tc</span><span class="op" id="8227249">.</span><span class="ident" id="8227250">isLiteral</span>&nbsp;<span class="op" id="8227260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227265">t</span><span class="op" id="8227266">.</span><span class="ident" id="8227267">Errorf</span><span class="op" id="8227273">(</span><span class="string" id="8227274">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="8227309">,</span>&nbsp;<span class="ident" id="8227311">tc</span><span class="op" id="8227313">.</span><span class="ident" id="8227314">pattern</span><span class="op" id="8227321">,</span>&nbsp;<span class="ident" id="8227323">complete</span><span class="op" id="8227331">,</span>&nbsp;<span class="ident" id="8227333">tc</span><span class="op" id="8227335">.</span><span class="ident" id="8227336">isLiteral</span><span class="op" id="8227345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227349">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8227353">if</span>&nbsp;<span class="ident" id="8227356">str</span>&nbsp;<span class="op" id="8227360">!=</span>&nbsp;<span class="ident" id="8227363">tc</span><span class="op" id="8227365">.</span><span class="ident" id="8227366">literal</span>&nbsp;<span class="op" id="8227374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227379">t</span><span class="op" id="8227380">.</span><span class="ident" id="8227381">Errorf</span><span class="op" id="8227387">(</span><span class="string" id="8227388">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="8227427">,</span>&nbsp;<span class="ident" id="8227429">tc</span><span class="op" id="8227431">.</span><span class="ident" id="8227432">pattern</span><span class="op" id="8227439">,</span>&nbsp;<span class="ident" id="8227441">str</span><span class="op" id="8227444">,</span>&nbsp;<span class="ident" id="8227446">tc</span><span class="op" id="8227448">.</span><span class="ident" id="8227449">literal</span><span class="op" id="8227456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227463">}</span><br>
<span class="lineno"></span><span class="op" id="8227465">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="8227468">type</span>&nbsp;<span class="ident" id="8227473">subexpCase</span>&nbsp;<span class="keyword" id="8227484">struct</span>&nbsp;<span class="op" id="8227491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227494">input</span>&nbsp;<span class="builtintype" id="8227500">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227508">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8227514">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8227519">names</span>&nbsp;<span class="op" id="8227525">[</span><span class="op" id="8227526">]</span><span class="builtintype" id="8227527">string</span><br>
<span class="lineno">385</span><span class="op" id="8227534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8227537">var</span>&nbsp;<span class="ident" id="8227541">subexpCases</span>&nbsp;<span class="op" id="8227553">=</span>&nbsp;<span class="op" id="8227555">[</span><span class="op" id="8227556">]</span><span class="ident" id="8227557">subexpCase</span><span class="op" id="8227567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227570">{</span><span class="string" id="8227571">``</span><span class="op" id="8227573">,</span>&nbsp;<span class="num" id="8227575">0</span><span class="op" id="8227576">,</span>&nbsp;<span class="ident" id="8227578">nil</span><span class="op" id="8227581">}</span><span class="op" id="8227582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227585">{</span><span class="string" id="8227586">`.*`</span><span class="op" id="8227590">,</span>&nbsp;<span class="num" id="8227592">0</span><span class="op" id="8227593">,</span>&nbsp;<span class="ident" id="8227595">nil</span><span class="op" id="8227598">}</span><span class="op" id="8227599">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227602">{</span><span class="string" id="8227603">`abba`</span><span class="op" id="8227609">,</span>&nbsp;<span class="num" id="8227611">0</span><span class="op" id="8227612">,</span>&nbsp;<span class="ident" id="8227614">nil</span><span class="op" id="8227617">}</span><span class="op" id="8227618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227621">{</span><span class="string" id="8227622">`ab(b)a`</span><span class="op" id="8227630">,</span>&nbsp;<span class="num" id="8227632">1</span><span class="op" id="8227633">,</span>&nbsp;<span class="op" id="8227635">[</span><span class="op" id="8227636">]</span><span class="builtintype" id="8227637">string</span><span class="op" id="8227643">{</span><span class="string" id="8227644">&#34;&#34;</span><span class="op" id="8227646">,</span>&nbsp;<span class="string" id="8227648">&#34;&#34;</span><span class="op" id="8227650">}</span><span class="op" id="8227651">}</span><span class="op" id="8227652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227655">{</span><span class="string" id="8227656">`ab(.*)a`</span><span class="op" id="8227665">,</span>&nbsp;<span class="num" id="8227667">1</span><span class="op" id="8227668">,</span>&nbsp;<span class="op" id="8227670">[</span><span class="op" id="8227671">]</span><span class="builtintype" id="8227672">string</span><span class="op" id="8227678">{</span><span class="string" id="8227679">&#34;&#34;</span><span class="op" id="8227681">,</span>&nbsp;<span class="string" id="8227683">&#34;&#34;</span><span class="op" id="8227685">}</span><span class="op" id="8227686">}</span><span class="op" id="8227687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227690">{</span><span class="string" id="8227691">`(.*)ab(.*)a`</span><span class="op" id="8227704">,</span>&nbsp;<span class="num" id="8227706">2</span><span class="op" id="8227707">,</span>&nbsp;<span class="op" id="8227709">[</span><span class="op" id="8227710">]</span><span class="builtintype" id="8227711">string</span><span class="op" id="8227717">{</span><span class="string" id="8227718">&#34;&#34;</span><span class="op" id="8227720">,</span>&nbsp;<span class="string" id="8227722">&#34;&#34;</span><span class="op" id="8227724">,</span>&nbsp;<span class="string" id="8227726">&#34;&#34;</span><span class="op" id="8227728">}</span><span class="op" id="8227729">}</span><span class="op" id="8227730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227733">{</span><span class="string" id="8227734">`(.*)(ab)(.*)a`</span><span class="op" id="8227749">,</span>&nbsp;<span class="num" id="8227751">3</span><span class="op" id="8227752">,</span>&nbsp;<span class="op" id="8227754">[</span><span class="op" id="8227755">]</span><span class="builtintype" id="8227756">string</span><span class="op" id="8227762">{</span><span class="string" id="8227763">&#34;&#34;</span><span class="op" id="8227765">,</span>&nbsp;<span class="string" id="8227767">&#34;&#34;</span><span class="op" id="8227769">,</span>&nbsp;<span class="string" id="8227771">&#34;&#34;</span><span class="op" id="8227773">,</span>&nbsp;<span class="string" id="8227775">&#34;&#34;</span><span class="op" id="8227777">}</span><span class="op" id="8227778">}</span><span class="op" id="8227779">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227782">{</span><span class="string" id="8227783">`(.*)((a)b)(.*)a`</span><span class="op" id="8227800">,</span>&nbsp;<span class="num" id="8227802">4</span><span class="op" id="8227803">,</span>&nbsp;<span class="op" id="8227805">[</span><span class="op" id="8227806">]</span><span class="builtintype" id="8227807">string</span><span class="op" id="8227813">{</span><span class="string" id="8227814">&#34;&#34;</span><span class="op" id="8227816">,</span>&nbsp;<span class="string" id="8227818">&#34;&#34;</span><span class="op" id="8227820">,</span>&nbsp;<span class="string" id="8227822">&#34;&#34;</span><span class="op" id="8227824">,</span>&nbsp;<span class="string" id="8227826">&#34;&#34;</span><span class="op" id="8227828">,</span>&nbsp;<span class="string" id="8227830">&#34;&#34;</span><span class="op" id="8227832">}</span><span class="op" id="8227833">}</span><span class="op" id="8227834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227837">{</span><span class="string" id="8227838">`(.*)(\(ab)(.*)a`</span><span class="op" id="8227855">,</span>&nbsp;<span class="num" id="8227857">3</span><span class="op" id="8227858">,</span>&nbsp;<span class="op" id="8227860">[</span><span class="op" id="8227861">]</span><span class="builtintype" id="8227862">string</span><span class="op" id="8227868">{</span><span class="string" id="8227869">&#34;&#34;</span><span class="op" id="8227871">,</span>&nbsp;<span class="string" id="8227873">&#34;&#34;</span><span class="op" id="8227875">,</span>&nbsp;<span class="string" id="8227877">&#34;&#34;</span><span class="op" id="8227879">,</span>&nbsp;<span class="string" id="8227881">&#34;&#34;</span><span class="op" id="8227883">}</span><span class="op" id="8227884">}</span><span class="op" id="8227885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227888">{</span><span class="string" id="8227889">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="8227908">,</span>&nbsp;<span class="num" id="8227910">3</span><span class="op" id="8227911">,</span>&nbsp;<span class="op" id="8227913">[</span><span class="op" id="8227914">]</span><span class="builtintype" id="8227915">string</span><span class="op" id="8227921">{</span><span class="string" id="8227922">&#34;&#34;</span><span class="op" id="8227924">,</span>&nbsp;<span class="string" id="8227926">&#34;&#34;</span><span class="op" id="8227928">,</span>&nbsp;<span class="string" id="8227930">&#34;&#34;</span><span class="op" id="8227932">,</span>&nbsp;<span class="string" id="8227934">&#34;&#34;</span><span class="op" id="8227936">}</span><span class="op" id="8227937">}</span><span class="op" id="8227938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8227941">{</span><span class="string" id="8227942">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="8227980">,</span>&nbsp;<span class="num" id="8227982">4</span><span class="op" id="8227983">,</span>&nbsp;<span class="op" id="8227985">[</span><span class="op" id="8227986">]</span><span class="builtintype" id="8227987">string</span><span class="op" id="8227993">{</span><span class="string" id="8227994">&#34;&#34;</span><span class="op" id="8227996">,</span>&nbsp;<span class="string" id="8227998">&#34;foo&#34;</span><span class="op" id="8228003">,</span>&nbsp;<span class="string" id="8228005">&#34;bar&#34;</span><span class="op" id="8228010">,</span>&nbsp;<span class="string" id="8228012">&#34;&#34;</span><span class="op" id="8228014">,</span>&nbsp;<span class="string" id="8228016">&#34;foo&#34;</span><span class="op" id="8228021">}</span><span class="op" id="8228022">}</span><span class="op" id="8228023">,</span><br>
<span class="lineno"></span><span class="op" id="8228025">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="8228028">func</span>&nbsp;<span class="ident" id="8228033">TestSubexp</span><span class="op" id="8228043">(</span><span class="ident" id="8228044">t</span>&nbsp;<span class="op" id="8228046">*</span><span class="ident" id="8228047">testing</span><span class="op" id="8228054">.</span><span class="ident" id="8228055">T</span><span class="op" id="8228056">)</span>&nbsp;<span class="op" id="8228058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228061">for</span>&nbsp;<span class="ident" id="8228065">_</span><span class="op" id="8228066">,</span>&nbsp;<span class="ident" id="8228068">c</span>&nbsp;<span class="op" id="8228070">:=</span>&nbsp;<span class="keyword" id="8228073">range</span>&nbsp;<span class="ident" id="8228079">subexpCases</span>&nbsp;<span class="op" id="8228091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228095">re</span>&nbsp;<span class="op" id="8228098">:=</span>&nbsp;<span class="ident" id="8228101">MustCompile</span><span class="op" id="8228112">(</span><span class="ident" id="8228113">c</span><span class="op" id="8228114">.</span><span class="ident" id="8228115">input</span><span class="op" id="8228120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228124">n</span>&nbsp;<span class="op" id="8228126">:=</span>&nbsp;<span class="ident" id="8228129">re</span><span class="op" id="8228131">.</span><span class="ident" id="8228132">NumSubexp</span><span class="op" id="8228141">(</span><span class="op" id="8228142">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228146">if</span>&nbsp;<span class="ident" id="8228149">n</span>&nbsp;<span class="op" id="8228151">!=</span>&nbsp;<span class="ident" id="8228154">c</span><span class="op" id="8228155">.</span><span class="ident" id="8228156">num</span>&nbsp;<span class="op" id="8228160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228165">t</span><span class="op" id="8228166">.</span><span class="ident" id="8228167">Errorf</span><span class="op" id="8228173">(</span><span class="string" id="8228174">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8228203">,</span>&nbsp;<span class="ident" id="8228205">c</span><span class="op" id="8228206">.</span><span class="ident" id="8228207">input</span><span class="op" id="8228212">,</span>&nbsp;<span class="ident" id="8228214">n</span><span class="op" id="8228215">,</span>&nbsp;<span class="ident" id="8228217">c</span><span class="op" id="8228218">.</span><span class="ident" id="8228219">num</span><span class="op" id="8228222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228227">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228242">names</span>&nbsp;<span class="op" id="8228248">:=</span>&nbsp;<span class="ident" id="8228251">re</span><span class="op" id="8228253">.</span><span class="ident" id="8228254">SubexpNames</span><span class="op" id="8228265">(</span><span class="op" id="8228266">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228270">if</span>&nbsp;<span class="builtinfunc" id="8228273">len</span><span class="op" id="8228276">(</span><span class="ident" id="8228277">names</span><span class="op" id="8228282">)</span>&nbsp;<span class="op" id="8228284">!=</span>&nbsp;<span class="num" id="8228287">1</span><span class="op" id="8228288">+</span><span class="ident" id="8228289">n</span>&nbsp;<span class="op" id="8228291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228296">t</span><span class="op" id="8228297">.</span><span class="ident" id="8228298">Errorf</span><span class="op" id="8228304">(</span><span class="string" id="8228305">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8228341">,</span>&nbsp;<span class="ident" id="8228343">c</span><span class="op" id="8228344">.</span><span class="ident" id="8228345">input</span><span class="op" id="8228350">,</span>&nbsp;<span class="builtinfunc" id="8228352">len</span><span class="op" id="8228355">(</span><span class="ident" id="8228356">names</span><span class="op" id="8228361">)</span><span class="op" id="8228362">,</span>&nbsp;<span class="ident" id="8228364">n</span><span class="op" id="8228365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228370">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228385">if</span>&nbsp;<span class="ident" id="8228388">c</span><span class="op" id="8228389">.</span><span class="ident" id="8228390">names</span>&nbsp;<span class="op" id="8228396">!=</span>&nbsp;<span class="ident" id="8228399">nil</span>&nbsp;<span class="op" id="8228403">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228408">for</span>&nbsp;<span class="ident" id="8228412">i</span>&nbsp;<span class="op" id="8228414">:=</span>&nbsp;<span class="num" id="8228417">0</span><span class="op" id="8228418">;</span>&nbsp;<span class="ident" id="8228420">i</span>&nbsp;<span class="op" id="8228422">&lt;</span>&nbsp;<span class="num" id="8228424">1</span><span class="op" id="8228425">+</span><span class="ident" id="8228426">n</span><span class="op" id="8228427">;</span>&nbsp;<span class="ident" id="8228429">i</span><span class="op" id="8228430">++</span>&nbsp;<span class="op" id="8228433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8228439">if</span>&nbsp;<span class="ident" id="8228442">names</span><span class="op" id="8228447">[</span><span class="ident" id="8228448">i</span><span class="op" id="8228449">]</span>&nbsp;<span class="op" id="8228451">!=</span>&nbsp;<span class="ident" id="8228454">c</span><span class="op" id="8228455">.</span><span class="ident" id="8228456">names</span><span class="op" id="8228461">[</span><span class="ident" id="8228462">i</span><span class="op" id="8228463">]</span>&nbsp;<span class="op" id="8228465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228472">t</span><span class="op" id="8228473">.</span><span class="ident" id="8228474">Errorf</span><span class="op" id="8228480">(</span><span class="string" id="8228481">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8228516">,</span>&nbsp;<span class="ident" id="8228518">c</span><span class="op" id="8228519">.</span><span class="ident" id="8228520">input</span><span class="op" id="8228525">,</span>&nbsp;<span class="ident" id="8228527">i</span><span class="op" id="8228528">,</span>&nbsp;<span class="ident" id="8228530">names</span><span class="op" id="8228535">[</span><span class="ident" id="8228536">i</span><span class="op" id="8228537">]</span><span class="op" id="8228538">,</span>&nbsp;<span class="ident" id="8228540">c</span><span class="op" id="8228541">.</span><span class="ident" id="8228542">names</span><span class="op" id="8228547">[</span><span class="ident" id="8228548">i</span><span class="op" id="8228549">]</span><span class="op" id="8228550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228561">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228568">}</span><br>
<span class="lineno"></span><span class="op" id="8228570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8228573">var</span>&nbsp;<span class="ident" id="8228577">splitTests</span>&nbsp;<span class="op" id="8228588">=</span>&nbsp;<span class="op" id="8228590">[</span><span class="op" id="8228591">]</span><span class="keyword" id="8228592">struct</span>&nbsp;<span class="op" id="8228599">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228602">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8228606">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228614">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8228618">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228626">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8228630">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8228635">out</span>&nbsp;<span class="op" id="8228639">[</span><span class="op" id="8228640">]</span><span class="builtintype" id="8228641">string</span><br>
<span class="lineno"></span><span class="op" id="8228648">}</span><span class="op" id="8228649">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228652">{</span><span class="string" id="8228653">&#34;foo:and:bar&#34;</span><span class="op" id="8228666">,</span>&nbsp;<span class="string" id="8228668">&#34;:&#34;</span><span class="op" id="8228671">,</span>&nbsp;<span class="op" id="8228673">-</span><span class="num" id="8228674">1</span><span class="op" id="8228675">,</span>&nbsp;<span class="op" id="8228677">[</span><span class="op" id="8228678">]</span><span class="builtintype" id="8228679">string</span><span class="op" id="8228685">{</span><span class="string" id="8228686">&#34;foo&#34;</span><span class="op" id="8228691">,</span>&nbsp;<span class="string" id="8228693">&#34;and&#34;</span><span class="op" id="8228698">,</span>&nbsp;<span class="string" id="8228700">&#34;bar&#34;</span><span class="op" id="8228705">}</span><span class="op" id="8228706">}</span><span class="op" id="8228707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228710">{</span><span class="string" id="8228711">&#34;foo:and:bar&#34;</span><span class="op" id="8228724">,</span>&nbsp;<span class="string" id="8228726">&#34;:&#34;</span><span class="op" id="8228729">,</span>&nbsp;<span class="num" id="8228731">1</span><span class="op" id="8228732">,</span>&nbsp;<span class="op" id="8228734">[</span><span class="op" id="8228735">]</span><span class="builtintype" id="8228736">string</span><span class="op" id="8228742">{</span><span class="string" id="8228743">&#34;foo:and:bar&#34;</span><span class="op" id="8228756">}</span><span class="op" id="8228757">}</span><span class="op" id="8228758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228761">{</span><span class="string" id="8228762">&#34;foo:and:bar&#34;</span><span class="op" id="8228775">,</span>&nbsp;<span class="string" id="8228777">&#34;:&#34;</span><span class="op" id="8228780">,</span>&nbsp;<span class="num" id="8228782">2</span><span class="op" id="8228783">,</span>&nbsp;<span class="op" id="8228785">[</span><span class="op" id="8228786">]</span><span class="builtintype" id="8228787">string</span><span class="op" id="8228793">{</span><span class="string" id="8228794">&#34;foo&#34;</span><span class="op" id="8228799">,</span>&nbsp;<span class="string" id="8228801">&#34;and:bar&#34;</span><span class="op" id="8228810">}</span><span class="op" id="8228811">}</span><span class="op" id="8228812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228815">{</span><span class="string" id="8228816">&#34;foo:and:bar&#34;</span><span class="op" id="8228829">,</span>&nbsp;<span class="string" id="8228831">&#34;foo&#34;</span><span class="op" id="8228836">,</span>&nbsp;<span class="op" id="8228838">-</span><span class="num" id="8228839">1</span><span class="op" id="8228840">,</span>&nbsp;<span class="op" id="8228842">[</span><span class="op" id="8228843">]</span><span class="builtintype" id="8228844">string</span><span class="op" id="8228850">{</span><span class="string" id="8228851">&#34;&#34;</span><span class="op" id="8228853">,</span>&nbsp;<span class="string" id="8228855">&#34;:and:bar&#34;</span><span class="op" id="8228865">}</span><span class="op" id="8228866">}</span><span class="op" id="8228867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228870">{</span><span class="string" id="8228871">&#34;foo:and:bar&#34;</span><span class="op" id="8228884">,</span>&nbsp;<span class="string" id="8228886">&#34;bar&#34;</span><span class="op" id="8228891">,</span>&nbsp;<span class="op" id="8228893">-</span><span class="num" id="8228894">1</span><span class="op" id="8228895">,</span>&nbsp;<span class="op" id="8228897">[</span><span class="op" id="8228898">]</span><span class="builtintype" id="8228899">string</span><span class="op" id="8228905">{</span><span class="string" id="8228906">&#34;foo:and:&#34;</span><span class="op" id="8228916">,</span>&nbsp;<span class="string" id="8228918">&#34;&#34;</span><span class="op" id="8228920">}</span><span class="op" id="8228921">}</span><span class="op" id="8228922">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228925">{</span><span class="string" id="8228926">&#34;foo:and:bar&#34;</span><span class="op" id="8228939">,</span>&nbsp;<span class="string" id="8228941">&#34;baz&#34;</span><span class="op" id="8228946">,</span>&nbsp;<span class="op" id="8228948">-</span><span class="num" id="8228949">1</span><span class="op" id="8228950">,</span>&nbsp;<span class="op" id="8228952">[</span><span class="op" id="8228953">]</span><span class="builtintype" id="8228954">string</span><span class="op" id="8228960">{</span><span class="string" id="8228961">&#34;foo:and:bar&#34;</span><span class="op" id="8228974">}</span><span class="op" id="8228975">}</span><span class="op" id="8228976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8228979">{</span><span class="string" id="8228980">&#34;baabaab&#34;</span><span class="op" id="8228989">,</span>&nbsp;<span class="string" id="8228991">&#34;a&#34;</span><span class="op" id="8228994">,</span>&nbsp;<span class="op" id="8228996">-</span><span class="num" id="8228997">1</span><span class="op" id="8228998">,</span>&nbsp;<span class="op" id="8229000">[</span><span class="op" id="8229001">]</span><span class="builtintype" id="8229002">string</span><span class="op" id="8229008">{</span><span class="string" id="8229009">&#34;b&#34;</span><span class="op" id="8229012">,</span>&nbsp;<span class="string" id="8229014">&#34;&#34;</span><span class="op" id="8229016">,</span>&nbsp;<span class="string" id="8229018">&#34;b&#34;</span><span class="op" id="8229021">,</span>&nbsp;<span class="string" id="8229023">&#34;&#34;</span><span class="op" id="8229025">,</span>&nbsp;<span class="string" id="8229027">&#34;b&#34;</span><span class="op" id="8229030">}</span><span class="op" id="8229031">}</span><span class="op" id="8229032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229035">{</span><span class="string" id="8229036">&#34;baabaab&#34;</span><span class="op" id="8229045">,</span>&nbsp;<span class="string" id="8229047">&#34;a*&#34;</span><span class="op" id="8229051">,</span>&nbsp;<span class="op" id="8229053">-</span><span class="num" id="8229054">1</span><span class="op" id="8229055">,</span>&nbsp;<span class="op" id="8229057">[</span><span class="op" id="8229058">]</span><span class="builtintype" id="8229059">string</span><span class="op" id="8229065">{</span><span class="string" id="8229066">&#34;b&#34;</span><span class="op" id="8229069">,</span>&nbsp;<span class="string" id="8229071">&#34;b&#34;</span><span class="op" id="8229074">,</span>&nbsp;<span class="string" id="8229076">&#34;b&#34;</span><span class="op" id="8229079">}</span><span class="op" id="8229080">}</span><span class="op" id="8229081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229084">{</span><span class="string" id="8229085">&#34;baabaab&#34;</span><span class="op" id="8229094">,</span>&nbsp;<span class="string" id="8229096">&#34;ba*&#34;</span><span class="op" id="8229101">,</span>&nbsp;<span class="op" id="8229103">-</span><span class="num" id="8229104">1</span><span class="op" id="8229105">,</span>&nbsp;<span class="op" id="8229107">[</span><span class="op" id="8229108">]</span><span class="builtintype" id="8229109">string</span><span class="op" id="8229115">{</span><span class="string" id="8229116">&#34;&#34;</span><span class="op" id="8229118">,</span>&nbsp;<span class="string" id="8229120">&#34;&#34;</span><span class="op" id="8229122">,</span>&nbsp;<span class="string" id="8229124">&#34;&#34;</span><span class="op" id="8229126">,</span>&nbsp;<span class="string" id="8229128">&#34;&#34;</span><span class="op" id="8229130">}</span><span class="op" id="8229131">}</span><span class="op" id="8229132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229135">{</span><span class="string" id="8229136">&#34;foobar&#34;</span><span class="op" id="8229144">,</span>&nbsp;<span class="string" id="8229146">&#34;f*b*&#34;</span><span class="op" id="8229152">,</span>&nbsp;<span class="op" id="8229154">-</span><span class="num" id="8229155">1</span><span class="op" id="8229156">,</span>&nbsp;<span class="op" id="8229158">[</span><span class="op" id="8229159">]</span><span class="builtintype" id="8229160">string</span><span class="op" id="8229166">{</span><span class="string" id="8229167">&#34;&#34;</span><span class="op" id="8229169">,</span>&nbsp;<span class="string" id="8229171">&#34;o&#34;</span><span class="op" id="8229174">,</span>&nbsp;<span class="string" id="8229176">&#34;o&#34;</span><span class="op" id="8229179">,</span>&nbsp;<span class="string" id="8229181">&#34;a&#34;</span><span class="op" id="8229184">,</span>&nbsp;<span class="string" id="8229186">&#34;r&#34;</span><span class="op" id="8229189">}</span><span class="op" id="8229190">}</span><span class="op" id="8229191">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229194">{</span><span class="string" id="8229195">&#34;foobar&#34;</span><span class="op" id="8229203">,</span>&nbsp;<span class="string" id="8229205">&#34;f+.*b+&#34;</span><span class="op" id="8229213">,</span>&nbsp;<span class="op" id="8229215">-</span><span class="num" id="8229216">1</span><span class="op" id="8229217">,</span>&nbsp;<span class="op" id="8229219">[</span><span class="op" id="8229220">]</span><span class="builtintype" id="8229221">string</span><span class="op" id="8229227">{</span><span class="string" id="8229228">&#34;&#34;</span><span class="op" id="8229230">,</span>&nbsp;<span class="string" id="8229232">&#34;ar&#34;</span><span class="op" id="8229236">}</span><span class="op" id="8229237">}</span><span class="op" id="8229238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229241">{</span><span class="string" id="8229242">&#34;foobooboar&#34;</span><span class="op" id="8229254">,</span>&nbsp;<span class="string" id="8229256">&#34;o{2}&#34;</span><span class="op" id="8229262">,</span>&nbsp;<span class="op" id="8229264">-</span><span class="num" id="8229265">1</span><span class="op" id="8229266">,</span>&nbsp;<span class="op" id="8229268">[</span><span class="op" id="8229269">]</span><span class="builtintype" id="8229270">string</span><span class="op" id="8229276">{</span><span class="string" id="8229277">&#34;f&#34;</span><span class="op" id="8229280">,</span>&nbsp;<span class="string" id="8229282">&#34;b&#34;</span><span class="op" id="8229285">,</span>&nbsp;<span class="string" id="8229287">&#34;boar&#34;</span><span class="op" id="8229293">}</span><span class="op" id="8229294">}</span><span class="op" id="8229295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229298">{</span><span class="string" id="8229299">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="8229312">,</span>&nbsp;<span class="string" id="8229314">&#34;,&#34;</span><span class="op" id="8229317">,</span>&nbsp;<span class="num" id="8229319">3</span><span class="op" id="8229320">,</span>&nbsp;<span class="op" id="8229322">[</span><span class="op" id="8229323">]</span><span class="builtintype" id="8229324">string</span><span class="op" id="8229330">{</span><span class="string" id="8229331">&#34;a&#34;</span><span class="op" id="8229334">,</span>&nbsp;<span class="string" id="8229336">&#34;b&#34;</span><span class="op" id="8229339">,</span>&nbsp;<span class="string" id="8229341">&#34;c,d,e,f&#34;</span><span class="op" id="8229350">}</span><span class="op" id="8229351">}</span><span class="op" id="8229352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229355">{</span><span class="string" id="8229356">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="8229369">,</span>&nbsp;<span class="string" id="8229371">&#34;,&#34;</span><span class="op" id="8229374">,</span>&nbsp;<span class="num" id="8229376">0</span><span class="op" id="8229377">,</span>&nbsp;<span class="ident" id="8229379">nil</span><span class="op" id="8229382">}</span><span class="op" id="8229383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229386">{</span><span class="string" id="8229387">&#34;,&#34;</span><span class="op" id="8229390">,</span>&nbsp;<span class="string" id="8229392">&#34;,&#34;</span><span class="op" id="8229395">,</span>&nbsp;<span class="op" id="8229397">-</span><span class="num" id="8229398">1</span><span class="op" id="8229399">,</span>&nbsp;<span class="op" id="8229401">[</span><span class="op" id="8229402">]</span><span class="builtintype" id="8229403">string</span><span class="op" id="8229409">{</span><span class="string" id="8229410">&#34;&#34;</span><span class="op" id="8229412">,</span>&nbsp;<span class="string" id="8229414">&#34;&#34;</span><span class="op" id="8229416">}</span><span class="op" id="8229417">}</span><span class="op" id="8229418">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229421">{</span><span class="string" id="8229422">&#34;,,,&#34;</span><span class="op" id="8229427">,</span>&nbsp;<span class="string" id="8229429">&#34;,&#34;</span><span class="op" id="8229432">,</span>&nbsp;<span class="op" id="8229434">-</span><span class="num" id="8229435">1</span><span class="op" id="8229436">,</span>&nbsp;<span class="op" id="8229438">[</span><span class="op" id="8229439">]</span><span class="builtintype" id="8229440">string</span><span class="op" id="8229446">{</span><span class="string" id="8229447">&#34;&#34;</span><span class="op" id="8229449">,</span>&nbsp;<span class="string" id="8229451">&#34;&#34;</span><span class="op" id="8229453">,</span>&nbsp;<span class="string" id="8229455">&#34;&#34;</span><span class="op" id="8229457">,</span>&nbsp;<span class="string" id="8229459">&#34;&#34;</span><span class="op" id="8229461">}</span><span class="op" id="8229462">}</span><span class="op" id="8229463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229466">{</span><span class="string" id="8229467">&#34;&#34;</span><span class="op" id="8229469">,</span>&nbsp;<span class="string" id="8229471">&#34;,&#34;</span><span class="op" id="8229474">,</span>&nbsp;<span class="op" id="8229476">-</span><span class="num" id="8229477">1</span><span class="op" id="8229478">,</span>&nbsp;<span class="op" id="8229480">[</span><span class="op" id="8229481">]</span><span class="builtintype" id="8229482">string</span><span class="op" id="8229488">{</span><span class="string" id="8229489">&#34;&#34;</span><span class="op" id="8229491">}</span><span class="op" id="8229492">}</span><span class="op" id="8229493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229496">{</span><span class="string" id="8229497">&#34;&#34;</span><span class="op" id="8229499">,</span>&nbsp;<span class="string" id="8229501">&#34;.*&#34;</span><span class="op" id="8229505">,</span>&nbsp;<span class="op" id="8229507">-</span><span class="num" id="8229508">1</span><span class="op" id="8229509">,</span>&nbsp;<span class="op" id="8229511">[</span><span class="op" id="8229512">]</span><span class="builtintype" id="8229513">string</span><span class="op" id="8229519">{</span><span class="string" id="8229520">&#34;&#34;</span><span class="op" id="8229522">}</span><span class="op" id="8229523">}</span><span class="op" id="8229524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229527">{</span><span class="string" id="8229528">&#34;&#34;</span><span class="op" id="8229530">,</span>&nbsp;<span class="string" id="8229532">&#34;.+&#34;</span><span class="op" id="8229536">,</span>&nbsp;<span class="op" id="8229538">-</span><span class="num" id="8229539">1</span><span class="op" id="8229540">,</span>&nbsp;<span class="op" id="8229542">[</span><span class="op" id="8229543">]</span><span class="builtintype" id="8229544">string</span><span class="op" id="8229550">{</span><span class="string" id="8229551">&#34;&#34;</span><span class="op" id="8229553">}</span><span class="op" id="8229554">}</span><span class="op" id="8229555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229558">{</span><span class="string" id="8229559">&#34;&#34;</span><span class="op" id="8229561">,</span>&nbsp;<span class="string" id="8229563">&#34;&#34;</span><span class="op" id="8229565">,</span>&nbsp;<span class="op" id="8229567">-</span><span class="num" id="8229568">1</span><span class="op" id="8229569">,</span>&nbsp;<span class="op" id="8229571">[</span><span class="op" id="8229572">]</span><span class="builtintype" id="8229573">string</span><span class="op" id="8229579">{</span><span class="op" id="8229580">}</span><span class="op" id="8229581">}</span><span class="op" id="8229582">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229585">{</span><span class="string" id="8229586">&#34;foobar&#34;</span><span class="op" id="8229594">,</span>&nbsp;<span class="string" id="8229596">&#34;&#34;</span><span class="op" id="8229598">,</span>&nbsp;<span class="op" id="8229600">-</span><span class="num" id="8229601">1</span><span class="op" id="8229602">,</span>&nbsp;<span class="op" id="8229604">[</span><span class="op" id="8229605">]</span><span class="builtintype" id="8229606">string</span><span class="op" id="8229612">{</span><span class="string" id="8229613">&#34;f&#34;</span><span class="op" id="8229616">,</span>&nbsp;<span class="string" id="8229618">&#34;o&#34;</span><span class="op" id="8229621">,</span>&nbsp;<span class="string" id="8229623">&#34;o&#34;</span><span class="op" id="8229626">,</span>&nbsp;<span class="string" id="8229628">&#34;b&#34;</span><span class="op" id="8229631">,</span>&nbsp;<span class="string" id="8229633">&#34;a&#34;</span><span class="op" id="8229636">,</span>&nbsp;<span class="string" id="8229638">&#34;r&#34;</span><span class="op" id="8229641">}</span><span class="op" id="8229642">}</span><span class="op" id="8229643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229646">{</span><span class="string" id="8229647">&#34;abaabaccadaaae&#34;</span><span class="op" id="8229663">,</span>&nbsp;<span class="string" id="8229665">&#34;a*&#34;</span><span class="op" id="8229669">,</span>&nbsp;<span class="num" id="8229671">5</span><span class="op" id="8229672">,</span>&nbsp;<span class="op" id="8229674">[</span><span class="op" id="8229675">]</span><span class="builtintype" id="8229676">string</span><span class="op" id="8229682">{</span><span class="string" id="8229683">&#34;&#34;</span><span class="op" id="8229685">,</span>&nbsp;<span class="string" id="8229687">&#34;b&#34;</span><span class="op" id="8229690">,</span>&nbsp;<span class="string" id="8229692">&#34;b&#34;</span><span class="op" id="8229695">,</span>&nbsp;<span class="string" id="8229697">&#34;c&#34;</span><span class="op" id="8229700">,</span>&nbsp;<span class="string" id="8229702">&#34;cadaaae&#34;</span><span class="op" id="8229711">}</span><span class="op" id="8229712">}</span><span class="op" id="8229713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229716">{</span><span class="string" id="8229717">&#34;:x:y:z:&#34;</span><span class="op" id="8229726">,</span>&nbsp;<span class="string" id="8229728">&#34;:&#34;</span><span class="op" id="8229731">,</span>&nbsp;<span class="op" id="8229733">-</span><span class="num" id="8229734">1</span><span class="op" id="8229735">,</span>&nbsp;<span class="op" id="8229737">[</span><span class="op" id="8229738">]</span><span class="builtintype" id="8229739">string</span><span class="op" id="8229745">{</span><span class="string" id="8229746">&#34;&#34;</span><span class="op" id="8229748">,</span>&nbsp;<span class="string" id="8229750">&#34;x&#34;</span><span class="op" id="8229753">,</span>&nbsp;<span class="string" id="8229755">&#34;y&#34;</span><span class="op" id="8229758">,</span>&nbsp;<span class="string" id="8229760">&#34;z&#34;</span><span class="op" id="8229763">,</span>&nbsp;<span class="string" id="8229765">&#34;&#34;</span><span class="op" id="8229767">}</span><span class="op" id="8229768">}</span><span class="op" id="8229769">,</span><br>
<span class="lineno"></span><span class="op" id="8229771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="8229774">func</span>&nbsp;<span class="ident" id="8229779">TestSplit</span><span class="op" id="8229788">(</span><span class="ident" id="8229789">t</span>&nbsp;<span class="op" id="8229791">*</span><span class="ident" id="8229792">testing</span><span class="op" id="8229799">.</span><span class="ident" id="8229800">T</span><span class="op" id="8229801">)</span>&nbsp;<span class="op" id="8229803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229806">for</span>&nbsp;<span class="ident" id="8229810">i</span><span class="op" id="8229811">,</span>&nbsp;<span class="ident" id="8229813">test</span>&nbsp;<span class="op" id="8229818">:=</span>&nbsp;<span class="keyword" id="8229821">range</span>&nbsp;<span class="ident" id="8229827">splitTests</span>&nbsp;<span class="op" id="8229838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229842">re</span><span class="op" id="8229844">,</span>&nbsp;<span class="ident" id="8229846">err</span>&nbsp;<span class="op" id="8229850">:=</span>&nbsp;<span class="ident" id="8229853">Compile</span><span class="op" id="8229860">(</span><span class="ident" id="8229861">test</span><span class="op" id="8229865">.</span><span class="ident" id="8229866">r</span><span class="op" id="8229867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229871">if</span>&nbsp;<span class="ident" id="8229874">err</span>&nbsp;<span class="op" id="8229878">!=</span>&nbsp;<span class="ident" id="8229881">nil</span>&nbsp;<span class="op" id="8229885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229890">t</span><span class="op" id="8229891">.</span><span class="ident" id="8229892">Errorf</span><span class="op" id="8229898">(</span><span class="string" id="8229899">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8229927">,</span>&nbsp;<span class="ident" id="8229929">i</span><span class="op" id="8229930">,</span>&nbsp;<span class="ident" id="8229932">test</span><span class="op" id="8229936">.</span><span class="ident" id="8229937">r</span><span class="op" id="8229938">,</span>&nbsp;<span class="ident" id="8229940">err</span><span class="op" id="8229943">.</span><span class="ident" id="8229944">Error</span><span class="op" id="8229949">(</span><span class="op" id="8229950">)</span><span class="op" id="8229951">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8229956">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8229967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8229972">split</span>&nbsp;<span class="op" id="8229978">:=</span>&nbsp;<span class="ident" id="8229981">re</span><span class="op" id="8229983">.</span><span class="ident" id="8229984">Split</span><span class="op" id="8229989">(</span><span class="ident" id="8229990">test</span><span class="op" id="8229994">.</span><span class="ident" id="8229995">s</span><span class="op" id="8229996">,</span>&nbsp;<span class="ident" id="8229998">test</span><span class="op" id="8230002">.</span><span class="ident" id="8230003">n</span><span class="op" id="8230004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230008">if</span>&nbsp;<span class="op" id="8230011">!</span><span class="ident" id="8230012">reflect</span><span class="op" id="8230019">.</span><span class="ident" id="8230020">DeepEqual</span><span class="op" id="8230029">(</span><span class="ident" id="8230030">split</span><span class="op" id="8230035">,</span>&nbsp;<span class="ident" id="8230037">test</span><span class="op" id="8230041">.</span><span class="ident" id="8230042">out</span><span class="op" id="8230045">)</span>&nbsp;<span class="op" id="8230047">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230052">t</span><span class="op" id="8230053">.</span><span class="ident" id="8230054">Errorf</span><span class="op" id="8230060">(</span><span class="string" id="8230061">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8230087">,</span>&nbsp;<span class="ident" id="8230089">i</span><span class="op" id="8230090">,</span>&nbsp;<span class="ident" id="8230092">test</span><span class="op" id="8230096">.</span><span class="ident" id="8230097">r</span><span class="op" id="8230098">,</span>&nbsp;<span class="ident" id="8230100">split</span><span class="op" id="8230105">,</span>&nbsp;<span class="ident" id="8230107">test</span><span class="op" id="8230111">.</span><span class="ident" id="8230112">out</span><span class="op" id="8230115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230124">if</span>&nbsp;<span class="ident" id="8230127">QuoteMeta</span><span class="op" id="8230136">(</span><span class="ident" id="8230137">test</span><span class="op" id="8230141">.</span><span class="ident" id="8230142">r</span><span class="op" id="8230143">)</span>&nbsp;<span class="op" id="8230145">==</span>&nbsp;<span class="ident" id="8230148">test</span><span class="op" id="8230152">.</span><span class="ident" id="8230153">r</span>&nbsp;<span class="op" id="8230155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230160">strsplit</span>&nbsp;<span class="op" id="8230169">:=</span>&nbsp;<span class="ident" id="8230172">strings</span><span class="op" id="8230179">.</span><span class="ident" id="8230180">SplitN</span><span class="op" id="8230186">(</span><span class="ident" id="8230187">test</span><span class="op" id="8230191">.</span><span class="ident" id="8230192">s</span><span class="op" id="8230193">,</span>&nbsp;<span class="ident" id="8230195">test</span><span class="op" id="8230199">.</span><span class="ident" id="8230200">r</span><span class="op" id="8230201">,</span>&nbsp;<span class="ident" id="8230203">test</span><span class="op" id="8230207">.</span><span class="ident" id="8230208">n</span><span class="op" id="8230209">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230214">if</span>&nbsp;<span class="op" id="8230217">!</span><span class="ident" id="8230218">reflect</span><span class="op" id="8230225">.</span><span class="ident" id="8230226">DeepEqual</span><span class="op" id="8230235">(</span><span class="ident" id="8230236">split</span><span class="op" id="8230241">,</span>&nbsp;<span class="ident" id="8230243">strsplit</span><span class="op" id="8230251">)</span>&nbsp;<span class="op" id="8230253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230259">t</span><span class="op" id="8230260">.</span><span class="ident" id="8230261">Errorf</span><span class="op" id="8230267">(</span><span class="string" id="8230268">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="8230343">,</span>&nbsp;<span class="ident" id="8230345">i</span><span class="op" id="8230346">,</span>&nbsp;<span class="ident" id="8230348">test</span><span class="op" id="8230352">.</span><span class="ident" id="8230353">s</span><span class="op" id="8230354">,</span>&nbsp;<span class="ident" id="8230356">test</span><span class="op" id="8230360">.</span><span class="ident" id="8230361">r</span><span class="op" id="8230362">,</span>&nbsp;<span class="ident" id="8230364">test</span><span class="op" id="8230368">.</span><span class="ident" id="8230369">n</span><span class="op" id="8230370">,</span>&nbsp;<span class="ident" id="8230372">split</span><span class="op" id="8230377">,</span>&nbsp;<span class="ident" id="8230379">strsplit</span><span class="op" id="8230387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230399">}</span><br>
<span class="lineno">475</span><span class="op" id="8230401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8230404">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="8230448">func</span>&nbsp;<span class="ident" id="8230453">TestOnePassCutoff</span><span class="op" id="8230470">(</span><span class="ident" id="8230471">t</span>&nbsp;<span class="op" id="8230473">*</span><span class="ident" id="8230474">testing</span><span class="op" id="8230481">.</span><span class="ident" id="8230482">T</span><span class="op" id="8230483">)</span>&nbsp;<span class="op" id="8230485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230488">re</span><span class="op" id="8230490">,</span>&nbsp;<span class="ident" id="8230492">err</span>&nbsp;<span class="op" id="8230496">:=</span>&nbsp;<span class="ident" id="8230499">syntax</span><span class="op" id="8230505">.</span><span class="ident" id="8230506">Parse</span><span class="op" id="8230511">(</span><span class="string" id="8230512">`^x{1,1000}y{1,1000}$`</span><span class="op" id="8230534">,</span>&nbsp;<span class="ident" id="8230536">syntax</span><span class="op" id="8230542">.</span><span class="ident" id="8230543">Perl</span><span class="op" id="8230547">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230550">if</span>&nbsp;<span class="ident" id="8230553">err</span>&nbsp;<span class="op" id="8230557">!=</span>&nbsp;<span class="ident" id="8230560">nil</span>&nbsp;<span class="op" id="8230564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230568">t</span><span class="op" id="8230569">.</span><span class="ident" id="8230570">Fatalf</span><span class="op" id="8230576">(</span><span class="string" id="8230577">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="8230588">,</span>&nbsp;<span class="ident" id="8230590">err</span><span class="op" id="8230593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230599">p</span><span class="op" id="8230600">,</span>&nbsp;<span class="ident" id="8230602">err</span>&nbsp;<span class="op" id="8230606">:=</span>&nbsp;<span class="ident" id="8230609">syntax</span><span class="op" id="8230615">.</span><span class="ident" id="8230616">Compile</span><span class="op" id="8230623">(</span><span class="ident" id="8230624">re</span><span class="op" id="8230626">.</span><span class="ident" id="8230627">Simplify</span><span class="op" id="8230635">(</span><span class="op" id="8230636">)</span><span class="op" id="8230637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230640">if</span>&nbsp;<span class="ident" id="8230643">err</span>&nbsp;<span class="op" id="8230647">!=</span>&nbsp;<span class="ident" id="8230650">nil</span>&nbsp;<span class="op" id="8230654">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230658">t</span><span class="op" id="8230659">.</span><span class="ident" id="8230660">Fatalf</span><span class="op" id="8230666">(</span><span class="string" id="8230667">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="8230680">,</span>&nbsp;<span class="ident" id="8230682">err</span><span class="op" id="8230685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230691">if</span>&nbsp;<span class="ident" id="8230694">compileOnePass</span><span class="op" id="8230708">(</span><span class="ident" id="8230709">p</span><span class="op" id="8230710">)</span>&nbsp;<span class="op" id="8230712">!=</span>&nbsp;<span class="ident" id="8230715">notOnePass</span>&nbsp;<span class="op" id="8230726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230730">t</span><span class="op" id="8230731">.</span><span class="ident" id="8230732">Fatalf</span><span class="op" id="8230738">(</span><span class="string" id="8230739">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="8230781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230784">}</span><br>
<span class="lineno">490</span><span class="op" id="8230786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8230789">func</span>&nbsp;<span class="ident" id="8230794">BenchmarkLiteral</span><span class="op" id="8230810">(</span><span class="ident" id="8230811">b</span>&nbsp;<span class="op" id="8230813">*</span><span class="ident" id="8230814">testing</span><span class="op" id="8230821">.</span><span class="ident" id="8230822">B</span><span class="op" id="8230823">)</span>&nbsp;<span class="op" id="8230825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230828">x</span>&nbsp;<span class="op" id="8230830">:=</span>&nbsp;<span class="ident" id="8230833">strings</span><span class="op" id="8230840">.</span><span class="ident" id="8230841">Repeat</span><span class="op" id="8230847">(</span><span class="string" id="8230848">&#34;x&#34;</span><span class="op" id="8230851">,</span>&nbsp;<span class="num" id="8230853">50</span><span class="op" id="8230855">)</span>&nbsp;<span class="op" id="8230857">+</span>&nbsp;<span class="string" id="8230859">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230864">b</span><span class="op" id="8230865">.</span><span class="ident" id="8230866">StopTimer</span><span class="op" id="8230875">(</span><span class="op" id="8230876">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230879">re</span>&nbsp;<span class="op" id="8230882">:=</span>&nbsp;<span class="ident" id="8230885">MustCompile</span><span class="op" id="8230896">(</span><span class="string" id="8230897">&#34;y&#34;</span><span class="op" id="8230900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230903">b</span><span class="op" id="8230904">.</span><span class="ident" id="8230905">StartTimer</span><span class="op" id="8230915">(</span><span class="op" id="8230916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230919">for</span>&nbsp;<span class="ident" id="8230923">i</span>&nbsp;<span class="op" id="8230925">:=</span>&nbsp;<span class="num" id="8230928">0</span><span class="op" id="8230929">;</span>&nbsp;<span class="ident" id="8230931">i</span>&nbsp;<span class="op" id="8230933">&lt;</span>&nbsp;<span class="ident" id="8230935">b</span><span class="op" id="8230936">.</span><span class="ident" id="8230937">N</span><span class="op" id="8230938">;</span>&nbsp;<span class="ident" id="8230940">i</span><span class="op" id="8230941">++</span>&nbsp;<span class="op" id="8230944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230948">if</span>&nbsp;<span class="op" id="8230951">!</span><span class="ident" id="8230952">re</span><span class="op" id="8230954">.</span><span class="ident" id="8230955">MatchString</span><span class="op" id="8230966">(</span><span class="ident" id="8230967">x</span><span class="op" id="8230968">)</span>&nbsp;<span class="op" id="8230970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230975">b</span><span class="op" id="8230976">.</span><span class="ident" id="8230977">Fatalf</span><span class="op" id="8230983">(</span><span class="string" id="8230984">&#34;no&nbsp;match!&#34;</span><span class="op" id="8230995">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231002">}</span><br>
<span class="lineno"></span><span class="op" id="8231004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231007">func</span>&nbsp;<span class="ident" id="8231012">BenchmarkNotLiteral</span><span class="op" id="8231031">(</span><span class="ident" id="8231032">b</span>&nbsp;<span class="op" id="8231034">*</span><span class="ident" id="8231035">testing</span><span class="op" id="8231042">.</span><span class="ident" id="8231043">B</span><span class="op" id="8231044">)</span>&nbsp;<span class="op" id="8231046">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231049">x</span>&nbsp;<span class="op" id="8231051">:=</span>&nbsp;<span class="ident" id="8231054">strings</span><span class="op" id="8231061">.</span><span class="ident" id="8231062">Repeat</span><span class="op" id="8231068">(</span><span class="string" id="8231069">&#34;x&#34;</span><span class="op" id="8231072">,</span>&nbsp;<span class="num" id="8231074">50</span><span class="op" id="8231076">)</span>&nbsp;<span class="op" id="8231078">+</span>&nbsp;<span class="string" id="8231080">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231085">b</span><span class="op" id="8231086">.</span><span class="ident" id="8231087">StopTimer</span><span class="op" id="8231096">(</span><span class="op" id="8231097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231100">re</span>&nbsp;<span class="op" id="8231103">:=</span>&nbsp;<span class="ident" id="8231106">MustCompile</span><span class="op" id="8231117">(</span><span class="string" id="8231118">&#34;.y&#34;</span><span class="op" id="8231122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231125">b</span><span class="op" id="8231126">.</span><span class="ident" id="8231127">StartTimer</span><span class="op" id="8231137">(</span><span class="op" id="8231138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231141">for</span>&nbsp;<span class="ident" id="8231145">i</span>&nbsp;<span class="op" id="8231147">:=</span>&nbsp;<span class="num" id="8231150">0</span><span class="op" id="8231151">;</span>&nbsp;<span class="ident" id="8231153">i</span>&nbsp;<span class="op" id="8231155">&lt;</span>&nbsp;<span class="ident" id="8231157">b</span><span class="op" id="8231158">.</span><span class="ident" id="8231159">N</span><span class="op" id="8231160">;</span>&nbsp;<span class="ident" id="8231162">i</span><span class="op" id="8231163">++</span>&nbsp;<span class="op" id="8231166">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231170">if</span>&nbsp;<span class="op" id="8231173">!</span><span class="ident" id="8231174">re</span><span class="op" id="8231176">.</span><span class="ident" id="8231177">MatchString</span><span class="op" id="8231188">(</span><span class="ident" id="8231189">x</span><span class="op" id="8231190">)</span>&nbsp;<span class="op" id="8231192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231197">b</span><span class="op" id="8231198">.</span><span class="ident" id="8231199">Fatalf</span><span class="op" id="8231205">(</span><span class="string" id="8231206">&#34;no&nbsp;match!&#34;</span><span class="op" id="8231217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231224">}</span><br>
<span class="lineno"></span><span class="op" id="8231226">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="8231229">func</span>&nbsp;<span class="ident" id="8231234">BenchmarkMatchClass</span><span class="op" id="8231253">(</span><span class="ident" id="8231254">b</span>&nbsp;<span class="op" id="8231256">*</span><span class="ident" id="8231257">testing</span><span class="op" id="8231264">.</span><span class="ident" id="8231265">B</span><span class="op" id="8231266">)</span>&nbsp;<span class="op" id="8231268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231271">b</span><span class="op" id="8231272">.</span><span class="ident" id="8231273">StopTimer</span><span class="op" id="8231282">(</span><span class="op" id="8231283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231286">x</span>&nbsp;<span class="op" id="8231288">:=</span>&nbsp;<span class="ident" id="8231291">strings</span><span class="op" id="8231298">.</span><span class="ident" id="8231299">Repeat</span><span class="op" id="8231305">(</span><span class="string" id="8231306">&#34;xxxx&#34;</span><span class="op" id="8231312">,</span>&nbsp;<span class="num" id="8231314">20</span><span class="op" id="8231316">)</span>&nbsp;<span class="op" id="8231318">+</span>&nbsp;<span class="string" id="8231320">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231325">re</span>&nbsp;<span class="op" id="8231328">:=</span>&nbsp;<span class="ident" id="8231331">MustCompile</span><span class="op" id="8231342">(</span><span class="string" id="8231343">&#34;[abcdw]&#34;</span><span class="op" id="8231352">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231355">b</span><span class="op" id="8231356">.</span><span class="ident" id="8231357">StartTimer</span><span class="op" id="8231367">(</span><span class="op" id="8231368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231371">for</span>&nbsp;<span class="ident" id="8231375">i</span>&nbsp;<span class="op" id="8231377">:=</span>&nbsp;<span class="num" id="8231380">0</span><span class="op" id="8231381">;</span>&nbsp;<span class="ident" id="8231383">i</span>&nbsp;<span class="op" id="8231385">&lt;</span>&nbsp;<span class="ident" id="8231387">b</span><span class="op" id="8231388">.</span><span class="ident" id="8231389">N</span><span class="op" id="8231390">;</span>&nbsp;<span class="ident" id="8231392">i</span><span class="op" id="8231393">++</span>&nbsp;<span class="op" id="8231396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231400">if</span>&nbsp;<span class="op" id="8231403">!</span><span class="ident" id="8231404">re</span><span class="op" id="8231406">.</span><span class="ident" id="8231407">MatchString</span><span class="op" id="8231418">(</span><span class="ident" id="8231419">x</span><span class="op" id="8231420">)</span>&nbsp;<span class="op" id="8231422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231427">b</span><span class="op" id="8231428">.</span><span class="ident" id="8231429">Fatalf</span><span class="op" id="8231435">(</span><span class="string" id="8231436">&#34;no&nbsp;match!&#34;</span><span class="op" id="8231447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231451">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231454">}</span><br>
<span class="lineno"></span><span class="op" id="8231456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231459">func</span>&nbsp;<span class="ident" id="8231464">BenchmarkMatchClass_InRange</span><span class="op" id="8231491">(</span><span class="ident" id="8231492">b</span>&nbsp;<span class="op" id="8231494">*</span><span class="ident" id="8231495">testing</span><span class="op" id="8231502">.</span><span class="ident" id="8231503">B</span><span class="op" id="8231504">)</span>&nbsp;<span class="op" id="8231506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231509">b</span><span class="op" id="8231510">.</span><span class="ident" id="8231511">StopTimer</span><span class="op" id="8231520">(</span><span class="op" id="8231521">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8231524">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8231573">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231609">x</span>&nbsp;<span class="op" id="8231611">:=</span>&nbsp;<span class="ident" id="8231614">strings</span><span class="op" id="8231621">.</span><span class="ident" id="8231622">Repeat</span><span class="op" id="8231628">(</span><span class="string" id="8231629">&#34;bbbb&#34;</span><span class="op" id="8231635">,</span>&nbsp;<span class="num" id="8231637">20</span><span class="op" id="8231639">)</span>&nbsp;<span class="op" id="8231641">+</span>&nbsp;<span class="string" id="8231643">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231648">re</span>&nbsp;<span class="op" id="8231651">:=</span>&nbsp;<span class="ident" id="8231654">MustCompile</span><span class="op" id="8231665">(</span><span class="string" id="8231666">&#34;[ac]&#34;</span><span class="op" id="8231672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231675">b</span><span class="op" id="8231676">.</span><span class="ident" id="8231677">StartTimer</span><span class="op" id="8231687">(</span><span class="op" id="8231688">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231691">for</span>&nbsp;<span class="ident" id="8231695">i</span>&nbsp;<span class="op" id="8231697">:=</span>&nbsp;<span class="num" id="8231700">0</span><span class="op" id="8231701">;</span>&nbsp;<span class="ident" id="8231703">i</span>&nbsp;<span class="op" id="8231705">&lt;</span>&nbsp;<span class="ident" id="8231707">b</span><span class="op" id="8231708">.</span><span class="ident" id="8231709">N</span><span class="op" id="8231710">;</span>&nbsp;<span class="ident" id="8231712">i</span><span class="op" id="8231713">++</span>&nbsp;<span class="op" id="8231716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231720">if</span>&nbsp;<span class="op" id="8231723">!</span><span class="ident" id="8231724">re</span><span class="op" id="8231726">.</span><span class="ident" id="8231727">MatchString</span><span class="op" id="8231738">(</span><span class="ident" id="8231739">x</span><span class="op" id="8231740">)</span>&nbsp;<span class="op" id="8231742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231747">b</span><span class="op" id="8231748">.</span><span class="ident" id="8231749">Fatalf</span><span class="op" id="8231755">(</span><span class="string" id="8231756">&#34;no&nbsp;match!&#34;</span><span class="op" id="8231767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231774">}</span><br>
<span class="lineno">540</span><span class="op" id="8231776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231779">func</span>&nbsp;<span class="ident" id="8231784">BenchmarkReplaceAll</span><span class="op" id="8231803">(</span><span class="ident" id="8231804">b</span>&nbsp;<span class="op" id="8231806">*</span><span class="ident" id="8231807">testing</span><span class="op" id="8231814">.</span><span class="ident" id="8231815">B</span><span class="op" id="8231816">)</span>&nbsp;<span class="op" id="8231818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231821">x</span>&nbsp;<span class="op" id="8231823">:=</span>&nbsp;<span class="string" id="8231826">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231856">b</span><span class="op" id="8231857">.</span><span class="ident" id="8231858">StopTimer</span><span class="op" id="8231867">(</span><span class="op" id="8231868">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231871">re</span>&nbsp;<span class="op" id="8231874">:=</span>&nbsp;<span class="ident" id="8231877">MustCompile</span><span class="op" id="8231888">(</span><span class="string" id="8231889">&#34;[cjrw]&#34;</span><span class="op" id="8231897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231900">b</span><span class="op" id="8231901">.</span><span class="ident" id="8231902">StartTimer</span><span class="op" id="8231912">(</span><span class="op" id="8231913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8231916">for</span>&nbsp;<span class="ident" id="8231920">i</span>&nbsp;<span class="op" id="8231922">:=</span>&nbsp;<span class="num" id="8231925">0</span><span class="op" id="8231926">;</span>&nbsp;<span class="ident" id="8231928">i</span>&nbsp;<span class="op" id="8231930">&lt;</span>&nbsp;<span class="ident" id="8231932">b</span><span class="op" id="8231933">.</span><span class="ident" id="8231934">N</span><span class="op" id="8231935">;</span>&nbsp;<span class="ident" id="8231937">i</span><span class="op" id="8231938">++</span>&nbsp;<span class="op" id="8231941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231945">re</span><span class="op" id="8231947">.</span><span class="ident" id="8231948">ReplaceAllString</span><span class="op" id="8231964">(</span><span class="ident" id="8231965">x</span><span class="op" id="8231966">,</span>&nbsp;<span class="string" id="8231968">&#34;&#34;</span><span class="op" id="8231970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231973">}</span><br>
<span class="lineno">550</span><span class="op" id="8231975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231978">func</span>&nbsp;<span class="ident" id="8231983">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="8232020">(</span><span class="ident" id="8232021">b</span>&nbsp;<span class="op" id="8232023">*</span><span class="ident" id="8232024">testing</span><span class="op" id="8232031">.</span><span class="ident" id="8232032">B</span><span class="op" id="8232033">)</span>&nbsp;<span class="op" id="8232035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232038">b</span><span class="op" id="8232039">.</span><span class="ident" id="8232040">StopTimer</span><span class="op" id="8232049">(</span><span class="op" id="8232050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232053">x</span>&nbsp;<span class="op" id="8232055">:=</span>&nbsp;<span class="op" id="8232058">[</span><span class="op" id="8232059">]</span><span class="builtintype" id="8232060">byte</span><span class="op" id="8232064">(</span><span class="string" id="8232065">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8232093">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232096">re</span>&nbsp;<span class="op" id="8232099">:=</span>&nbsp;<span class="ident" id="8232102">MustCompile</span><span class="op" id="8232113">(</span><span class="string" id="8232114">&#34;^zbc(d|e)&#34;</span><span class="op" id="8232125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232128">b</span><span class="op" id="8232129">.</span><span class="ident" id="8232130">StartTimer</span><span class="op" id="8232140">(</span><span class="op" id="8232141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232144">for</span>&nbsp;<span class="ident" id="8232148">i</span>&nbsp;<span class="op" id="8232150">:=</span>&nbsp;<span class="num" id="8232153">0</span><span class="op" id="8232154">;</span>&nbsp;<span class="ident" id="8232156">i</span>&nbsp;<span class="op" id="8232158">&lt;</span>&nbsp;<span class="ident" id="8232160">b</span><span class="op" id="8232161">.</span><span class="ident" id="8232162">N</span><span class="op" id="8232163">;</span>&nbsp;<span class="ident" id="8232165">i</span><span class="op" id="8232166">++</span>&nbsp;<span class="op" id="8232169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232173">re</span><span class="op" id="8232175">.</span><span class="ident" id="8232176">Match</span><span class="op" id="8232181">(</span><span class="ident" id="8232182">x</span><span class="op" id="8232183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232186">}</span><br>
<span class="lineno">560</span><span class="op" id="8232188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8232191">func</span>&nbsp;<span class="ident" id="8232196">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="8232232">(</span><span class="ident" id="8232233">b</span>&nbsp;<span class="op" id="8232235">*</span><span class="ident" id="8232236">testing</span><span class="op" id="8232243">.</span><span class="ident" id="8232244">B</span><span class="op" id="8232245">)</span>&nbsp;<span class="op" id="8232247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232250">b</span><span class="op" id="8232251">.</span><span class="ident" id="8232252">StopTimer</span><span class="op" id="8232261">(</span><span class="op" id="8232262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232265">x</span>&nbsp;<span class="op" id="8232267">:=</span>&nbsp;<span class="op" id="8232270">[</span><span class="op" id="8232271">]</span><span class="builtintype" id="8232272">byte</span><span class="op" id="8232276">(</span><span class="string" id="8232277">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8232305">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232308">for</span>&nbsp;<span class="ident" id="8232312">i</span>&nbsp;<span class="op" id="8232314">:=</span>&nbsp;<span class="num" id="8232317">0</span><span class="op" id="8232318">;</span>&nbsp;<span class="ident" id="8232320">i</span>&nbsp;<span class="op" id="8232322">&lt;</span>&nbsp;<span class="num" id="8232324">15</span><span class="op" id="8232326">;</span>&nbsp;<span class="ident" id="8232328">i</span><span class="op" id="8232329">++</span>&nbsp;<span class="op" id="8232332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232336">x</span>&nbsp;<span class="op" id="8232338">=</span>&nbsp;<span class="builtinfunc" id="8232340">append</span><span class="op" id="8232346">(</span><span class="ident" id="8232347">x</span><span class="op" id="8232348">,</span>&nbsp;<span class="ident" id="8232350">x</span><span class="op" id="8232351">...</span><span class="op" id="8232354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232360">re</span>&nbsp;<span class="op" id="8232363">:=</span>&nbsp;<span class="ident" id="8232366">MustCompile</span><span class="op" id="8232377">(</span><span class="string" id="8232378">&#34;^zbc(d|e)&#34;</span><span class="op" id="8232389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232392">b</span><span class="op" id="8232393">.</span><span class="ident" id="8232394">StartTimer</span><span class="op" id="8232404">(</span><span class="op" id="8232405">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232408">for</span>&nbsp;<span class="ident" id="8232412">i</span>&nbsp;<span class="op" id="8232414">:=</span>&nbsp;<span class="num" id="8232417">0</span><span class="op" id="8232418">;</span>&nbsp;<span class="ident" id="8232420">i</span>&nbsp;<span class="op" id="8232422">&lt;</span>&nbsp;<span class="ident" id="8232424">b</span><span class="op" id="8232425">.</span><span class="ident" id="8232426">N</span><span class="op" id="8232427">;</span>&nbsp;<span class="ident" id="8232429">i</span><span class="op" id="8232430">++</span>&nbsp;<span class="op" id="8232433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232437">re</span><span class="op" id="8232439">.</span><span class="ident" id="8232440">Match</span><span class="op" id="8232445">(</span><span class="ident" id="8232446">x</span><span class="op" id="8232447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232450">}</span><br>
<span class="lineno"></span><span class="op" id="8232452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="8232455">func</span>&nbsp;<span class="ident" id="8232460">BenchmarkAnchoredShortMatch</span><span class="op" id="8232487">(</span><span class="ident" id="8232488">b</span>&nbsp;<span class="op" id="8232490">*</span><span class="ident" id="8232491">testing</span><span class="op" id="8232498">.</span><span class="ident" id="8232499">B</span><span class="op" id="8232500">)</span>&nbsp;<span class="op" id="8232502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232505">b</span><span class="op" id="8232506">.</span><span class="ident" id="8232507">StopTimer</span><span class="op" id="8232516">(</span><span class="op" id="8232517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232520">x</span>&nbsp;<span class="op" id="8232522">:=</span>&nbsp;<span class="op" id="8232525">[</span><span class="op" id="8232526">]</span><span class="builtintype" id="8232527">byte</span><span class="op" id="8232531">(</span><span class="string" id="8232532">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8232560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232563">re</span>&nbsp;<span class="op" id="8232566">:=</span>&nbsp;<span class="ident" id="8232569">MustCompile</span><span class="op" id="8232580">(</span><span class="string" id="8232581">&#34;^.bc(d|e)&#34;</span><span class="op" id="8232592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232595">b</span><span class="op" id="8232596">.</span><span class="ident" id="8232597">StartTimer</span><span class="op" id="8232607">(</span><span class="op" id="8232608">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232611">for</span>&nbsp;<span class="ident" id="8232615">i</span>&nbsp;<span class="op" id="8232617">:=</span>&nbsp;<span class="num" id="8232620">0</span><span class="op" id="8232621">;</span>&nbsp;<span class="ident" id="8232623">i</span>&nbsp;<span class="op" id="8232625">&lt;</span>&nbsp;<span class="ident" id="8232627">b</span><span class="op" id="8232628">.</span><span class="ident" id="8232629">N</span><span class="op" id="8232630">;</span>&nbsp;<span class="ident" id="8232632">i</span><span class="op" id="8232633">++</span>&nbsp;<span class="op" id="8232636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232640">re</span><span class="op" id="8232642">.</span><span class="ident" id="8232643">Match</span><span class="op" id="8232648">(</span><span class="ident" id="8232649">x</span><span class="op" id="8232650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232653">}</span><br>
<span class="lineno"></span><span class="op" id="8232655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8232658">func</span>&nbsp;<span class="ident" id="8232663">BenchmarkAnchoredLongMatch</span><span class="op" id="8232689">(</span><span class="ident" id="8232690">b</span>&nbsp;<span class="op" id="8232692">*</span><span class="ident" id="8232693">testing</span><span class="op" id="8232700">.</span><span class="ident" id="8232701">B</span><span class="op" id="8232702">)</span>&nbsp;<span class="op" id="8232704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232707">b</span><span class="op" id="8232708">.</span><span class="ident" id="8232709">StopTimer</span><span class="op" id="8232718">(</span><span class="op" id="8232719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232722">x</span>&nbsp;<span class="op" id="8232724">:=</span>&nbsp;<span class="op" id="8232727">[</span><span class="op" id="8232728">]</span><span class="builtintype" id="8232729">byte</span><span class="op" id="8232733">(</span><span class="string" id="8232734">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8232762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232765">for</span>&nbsp;<span class="ident" id="8232769">i</span>&nbsp;<span class="op" id="8232771">:=</span>&nbsp;<span class="num" id="8232774">0</span><span class="op" id="8232775">;</span>&nbsp;<span class="ident" id="8232777">i</span>&nbsp;<span class="op" id="8232779">&lt;</span>&nbsp;<span class="num" id="8232781">15</span><span class="op" id="8232783">;</span>&nbsp;<span class="ident" id="8232785">i</span><span class="op" id="8232786">++</span>&nbsp;<span class="op" id="8232789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232793">x</span>&nbsp;<span class="op" id="8232795">=</span>&nbsp;<span class="builtinfunc" id="8232797">append</span><span class="op" id="8232803">(</span><span class="ident" id="8232804">x</span><span class="op" id="8232805">,</span>&nbsp;<span class="ident" id="8232807">x</span><span class="op" id="8232808">...</span><span class="op" id="8232811">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232817">re</span>&nbsp;<span class="op" id="8232820">:=</span>&nbsp;<span class="ident" id="8232823">MustCompile</span><span class="op" id="8232834">(</span><span class="string" id="8232835">&#34;^.bc(d|e)&#34;</span><span class="op" id="8232846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232849">b</span><span class="op" id="8232850">.</span><span class="ident" id="8232851">StartTimer</span><span class="op" id="8232861">(</span><span class="op" id="8232862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8232865">for</span>&nbsp;<span class="ident" id="8232869">i</span>&nbsp;<span class="op" id="8232871">:=</span>&nbsp;<span class="num" id="8232874">0</span><span class="op" id="8232875">;</span>&nbsp;<span class="ident" id="8232877">i</span>&nbsp;<span class="op" id="8232879">&lt;</span>&nbsp;<span class="ident" id="8232881">b</span><span class="op" id="8232882">.</span><span class="ident" id="8232883">N</span><span class="op" id="8232884">;</span>&nbsp;<span class="ident" id="8232886">i</span><span class="op" id="8232887">++</span>&nbsp;<span class="op" id="8232890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232894">re</span><span class="op" id="8232896">.</span><span class="ident" id="8232897">Match</span><span class="op" id="8232902">(</span><span class="ident" id="8232903">x</span><span class="op" id="8232904">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232907">}</span><br>
<span class="lineno"></span><span class="op" id="8232909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8232912">func</span>&nbsp;<span class="ident" id="8232917">BenchmarkOnePassShortA</span><span class="op" id="8232939">(</span><span class="ident" id="8232940">b</span>&nbsp;<span class="op" id="8232942">*</span><span class="ident" id="8232943">testing</span><span class="op" id="8232950">.</span><span class="ident" id="8232951">B</span><span class="op" id="8232952">)</span>&nbsp;<span class="op" id="8232954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232957">b</span><span class="op" id="8232958">.</span><span class="ident" id="8232959">StopTimer</span><span class="op" id="8232968">(</span><span class="op" id="8232969">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232972">x</span>&nbsp;<span class="op" id="8232974">:=</span>&nbsp;<span class="op" id="8232977">[</span><span class="op" id="8232978">]</span><span class="builtintype" id="8232979">byte</span><span class="op" id="8232983">(</span><span class="string" id="8232984">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8233003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233006">re</span>&nbsp;<span class="op" id="8233009">:=</span>&nbsp;<span class="ident" id="8233012">MustCompile</span><span class="op" id="8233023">(</span><span class="string" id="8233024">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="8233037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233040">b</span><span class="op" id="8233041">.</span><span class="ident" id="8233042">StartTimer</span><span class="op" id="8233052">(</span><span class="op" id="8233053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233056">for</span>&nbsp;<span class="ident" id="8233060">i</span>&nbsp;<span class="op" id="8233062">:=</span>&nbsp;<span class="num" id="8233065">0</span><span class="op" id="8233066">;</span>&nbsp;<span class="ident" id="8233068">i</span>&nbsp;<span class="op" id="8233070">&lt;</span>&nbsp;<span class="ident" id="8233072">b</span><span class="op" id="8233073">.</span><span class="ident" id="8233074">N</span><span class="op" id="8233075">;</span>&nbsp;<span class="ident" id="8233077">i</span><span class="op" id="8233078">++</span>&nbsp;<span class="op" id="8233081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233085">re</span><span class="op" id="8233087">.</span><span class="ident" id="8233088">Match</span><span class="op" id="8233093">(</span><span class="ident" id="8233094">x</span><span class="op" id="8233095">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233098">}</span><br>
<span class="lineno"></span><span class="op" id="8233100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233103">func</span>&nbsp;<span class="ident" id="8233108">BenchmarkNotOnePassShortA</span><span class="op" id="8233133">(</span><span class="ident" id="8233134">b</span>&nbsp;<span class="op" id="8233136">*</span><span class="ident" id="8233137">testing</span><span class="op" id="8233144">.</span><span class="ident" id="8233145">B</span><span class="op" id="8233146">)</span>&nbsp;<span class="op" id="8233148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233151">b</span><span class="op" id="8233152">.</span><span class="ident" id="8233153">StopTimer</span><span class="op" id="8233162">(</span><span class="op" id="8233163">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233166">x</span>&nbsp;<span class="op" id="8233168">:=</span>&nbsp;<span class="op" id="8233171">[</span><span class="op" id="8233172">]</span><span class="builtintype" id="8233173">byte</span><span class="op" id="8233177">(</span><span class="string" id="8233178">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8233197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233200">re</span>&nbsp;<span class="op" id="8233203">:=</span>&nbsp;<span class="ident" id="8233206">MustCompile</span><span class="op" id="8233217">(</span><span class="string" id="8233218">&#34;.bc(d|e)*$&#34;</span><span class="op" id="8233230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233233">b</span><span class="op" id="8233234">.</span><span class="ident" id="8233235">StartTimer</span><span class="op" id="8233245">(</span><span class="op" id="8233246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233249">for</span>&nbsp;<span class="ident" id="8233253">i</span>&nbsp;<span class="op" id="8233255">:=</span>&nbsp;<span class="num" id="8233258">0</span><span class="op" id="8233259">;</span>&nbsp;<span class="ident" id="8233261">i</span>&nbsp;<span class="op" id="8233263">&lt;</span>&nbsp;<span class="ident" id="8233265">b</span><span class="op" id="8233266">.</span><span class="ident" id="8233267">N</span><span class="op" id="8233268">;</span>&nbsp;<span class="ident" id="8233270">i</span><span class="op" id="8233271">++</span>&nbsp;<span class="op" id="8233274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233278">re</span><span class="op" id="8233280">.</span><span class="ident" id="8233281">Match</span><span class="op" id="8233286">(</span><span class="ident" id="8233287">x</span><span class="op" id="8233288">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233291">}</span><br>
<span class="lineno"></span><span class="op" id="8233293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233296">func</span>&nbsp;<span class="ident" id="8233301">BenchmarkOnePassShortB</span><span class="op" id="8233323">(</span><span class="ident" id="8233324">b</span>&nbsp;<span class="op" id="8233326">*</span><span class="ident" id="8233327">testing</span><span class="op" id="8233334">.</span><span class="ident" id="8233335">B</span><span class="op" id="8233336">)</span>&nbsp;<span class="op" id="8233338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233341">b</span><span class="op" id="8233342">.</span><span class="ident" id="8233343">StopTimer</span><span class="op" id="8233352">(</span><span class="op" id="8233353">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233356">x</span>&nbsp;<span class="op" id="8233358">:=</span>&nbsp;<span class="op" id="8233361">[</span><span class="op" id="8233362">]</span><span class="builtintype" id="8233363">byte</span><span class="op" id="8233367">(</span><span class="string" id="8233368">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8233387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233390">re</span>&nbsp;<span class="op" id="8233393">:=</span>&nbsp;<span class="ident" id="8233396">MustCompile</span><span class="op" id="8233407">(</span><span class="string" id="8233408">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="8233423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233426">b</span><span class="op" id="8233427">.</span><span class="ident" id="8233428">StartTimer</span><span class="op" id="8233438">(</span><span class="op" id="8233439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233442">for</span>&nbsp;<span class="ident" id="8233446">i</span>&nbsp;<span class="op" id="8233448">:=</span>&nbsp;<span class="num" id="8233451">0</span><span class="op" id="8233452">;</span>&nbsp;<span class="ident" id="8233454">i</span>&nbsp;<span class="op" id="8233456">&lt;</span>&nbsp;<span class="ident" id="8233458">b</span><span class="op" id="8233459">.</span><span class="ident" id="8233460">N</span><span class="op" id="8233461">;</span>&nbsp;<span class="ident" id="8233463">i</span><span class="op" id="8233464">++</span>&nbsp;<span class="op" id="8233467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233471">re</span><span class="op" id="8233473">.</span><span class="ident" id="8233474">Match</span><span class="op" id="8233479">(</span><span class="ident" id="8233480">x</span><span class="op" id="8233481">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233484">}</span><br>
<span class="lineno"></span><span class="op" id="8233486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233489">func</span>&nbsp;<span class="ident" id="8233494">BenchmarkNotOnePassShortB</span><span class="op" id="8233519">(</span><span class="ident" id="8233520">b</span>&nbsp;<span class="op" id="8233522">*</span><span class="ident" id="8233523">testing</span><span class="op" id="8233530">.</span><span class="ident" id="8233531">B</span><span class="op" id="8233532">)</span>&nbsp;<span class="op" id="8233534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233537">b</span><span class="op" id="8233538">.</span><span class="ident" id="8233539">StopTimer</span><span class="op" id="8233548">(</span><span class="op" id="8233549">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233552">x</span>&nbsp;<span class="op" id="8233554">:=</span>&nbsp;<span class="op" id="8233557">[</span><span class="op" id="8233558">]</span><span class="builtintype" id="8233559">byte</span><span class="op" id="8233563">(</span><span class="string" id="8233564">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8233583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233586">re</span>&nbsp;<span class="op" id="8233589">:=</span>&nbsp;<span class="ident" id="8233592">MustCompile</span><span class="op" id="8233603">(</span><span class="string" id="8233604">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="8233618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233621">b</span><span class="op" id="8233622">.</span><span class="ident" id="8233623">StartTimer</span><span class="op" id="8233633">(</span><span class="op" id="8233634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233637">for</span>&nbsp;<span class="ident" id="8233641">i</span>&nbsp;<span class="op" id="8233643">:=</span>&nbsp;<span class="num" id="8233646">0</span><span class="op" id="8233647">;</span>&nbsp;<span class="ident" id="8233649">i</span>&nbsp;<span class="op" id="8233651">&lt;</span>&nbsp;<span class="ident" id="8233653">b</span><span class="op" id="8233654">.</span><span class="ident" id="8233655">N</span><span class="op" id="8233656">;</span>&nbsp;<span class="ident" id="8233658">i</span><span class="op" id="8233659">++</span>&nbsp;<span class="op" id="8233662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233666">re</span><span class="op" id="8233668">.</span><span class="ident" id="8233669">Match</span><span class="op" id="8233674">(</span><span class="ident" id="8233675">x</span><span class="op" id="8233676">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233679">}</span><br>
<span class="lineno"></span><span class="op" id="8233681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233684">func</span>&nbsp;<span class="ident" id="8233689">BenchmarkOnePassLongPrefix</span><span class="op" id="8233715">(</span><span class="ident" id="8233716">b</span>&nbsp;<span class="op" id="8233718">*</span><span class="ident" id="8233719">testing</span><span class="op" id="8233726">.</span><span class="ident" id="8233727">B</span><span class="op" id="8233728">)</span>&nbsp;<span class="op" id="8233730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233733">b</span><span class="op" id="8233734">.</span><span class="ident" id="8233735">StopTimer</span><span class="op" id="8233744">(</span><span class="op" id="8233745">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233748">x</span>&nbsp;<span class="op" id="8233750">:=</span>&nbsp;<span class="op" id="8233753">[</span><span class="op" id="8233754">]</span><span class="builtintype" id="8233755">byte</span><span class="op" id="8233759">(</span><span class="string" id="8233760">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8233788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233791">re</span>&nbsp;<span class="op" id="8233794">:=</span>&nbsp;<span class="ident" id="8233797">MustCompile</span><span class="op" id="8233808">(</span><span class="string" id="8233809">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="8233841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233844">b</span><span class="op" id="8233845">.</span><span class="ident" id="8233846">StartTimer</span><span class="op" id="8233856">(</span><span class="op" id="8233857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8233860">for</span>&nbsp;<span class="ident" id="8233864">i</span>&nbsp;<span class="op" id="8233866">:=</span>&nbsp;<span class="num" id="8233869">0</span><span class="op" id="8233870">;</span>&nbsp;<span class="ident" id="8233872">i</span>&nbsp;<span class="op" id="8233874">&lt;</span>&nbsp;<span class="ident" id="8233876">b</span><span class="op" id="8233877">.</span><span class="ident" id="8233878">N</span><span class="op" id="8233879">;</span>&nbsp;<span class="ident" id="8233881">i</span><span class="op" id="8233882">++</span>&nbsp;<span class="op" id="8233885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233889">re</span><span class="op" id="8233891">.</span><span class="ident" id="8233892">Match</span><span class="op" id="8233897">(</span><span class="ident" id="8233898">x</span><span class="op" id="8233899">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233902">}</span><br>
<span class="lineno"></span><span class="op" id="8233904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233907">func</span>&nbsp;<span class="ident" id="8233912">BenchmarkOnePassLongNotPrefix</span><span class="op" id="8233941">(</span><span class="ident" id="8233942">b</span>&nbsp;<span class="op" id="8233944">*</span><span class="ident" id="8233945">testing</span><span class="op" id="8233952">.</span><span class="ident" id="8233953">B</span><span class="op" id="8233954">)</span>&nbsp;<span class="op" id="8233956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233959">b</span><span class="op" id="8233960">.</span><span class="ident" id="8233961">StopTimer</span><span class="op" id="8233970">(</span><span class="op" id="8233971">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233974">x</span>&nbsp;<span class="op" id="8233976">:=</span>&nbsp;<span class="op" id="8233979">[</span><span class="op" id="8233980">]</span><span class="builtintype" id="8233981">byte</span><span class="op" id="8233985">(</span><span class="string" id="8233986">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8234014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234017">re</span>&nbsp;<span class="op" id="8234020">:=</span>&nbsp;<span class="ident" id="8234023">MustCompile</span><span class="op" id="8234034">(</span><span class="string" id="8234035">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="8234067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234070">b</span><span class="op" id="8234071">.</span><span class="ident" id="8234072">StartTimer</span><span class="op" id="8234082">(</span><span class="op" id="8234083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8234086">for</span>&nbsp;<span class="ident" id="8234090">i</span>&nbsp;<span class="op" id="8234092">:=</span>&nbsp;<span class="num" id="8234095">0</span><span class="op" id="8234096">;</span>&nbsp;<span class="ident" id="8234098">i</span>&nbsp;<span class="op" id="8234100">&lt;</span>&nbsp;<span class="ident" id="8234102">b</span><span class="op" id="8234103">.</span><span class="ident" id="8234104">N</span><span class="op" id="8234105">;</span>&nbsp;<span class="ident" id="8234107">i</span><span class="op" id="8234108">++</span>&nbsp;<span class="op" id="8234111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8234115">re</span><span class="op" id="8234117">.</span><span class="ident" id="8234118">Match</span><span class="op" id="8234123">(</span><span class="ident" id="8234124">x</span><span class="op" id="8234125">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234128">}</span><br>
<span class="lineno"></span><span class="op" id="8234130">}</span>
</div>
</body>
</html>
