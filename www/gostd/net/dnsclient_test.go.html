<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8206571">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8206626">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8206680">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8206731">package</span>&nbsp;<span class="ident" id="8206739">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8206744">import</span>&nbsp;<span class="op" id="8206751">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8206754">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8206767">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8206777">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8206780">func</span>&nbsp;<span class="ident" id="8206785">checkDistribution</span><span class="op" id="8206802">(</span><span class="ident" id="8206803">t</span>&nbsp;<span class="op" id="8206805">*</span><span class="ident" id="8206806">testing</span><span class="op" id="8206813">.</span><span class="ident" id="8206814">T</span><span class="op" id="8206815">,</span>&nbsp;<span class="ident" id="8206817">data</span>&nbsp;<span class="op" id="8206822">[</span><span class="op" id="8206823">]</span><span class="op" id="8206824">*</span><span class="ident" id="8206825">SRV</span><span class="op" id="8206828">,</span>&nbsp;<span class="ident" id="8206830">margin</span>&nbsp;<span class="builtintype" id="8206837">float64</span><span class="op" id="8206844">)</span>&nbsp;<span class="op" id="8206846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206849">sum</span>&nbsp;<span class="op" id="8206853">:=</span>&nbsp;<span class="num" id="8206856">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8206859">for</span>&nbsp;<span class="ident" id="8206863">_</span><span class="op" id="8206864">,</span>&nbsp;<span class="ident" id="8206866">srv</span>&nbsp;<span class="op" id="8206870">:=</span>&nbsp;<span class="keyword" id="8206873">range</span>&nbsp;<span class="ident" id="8206879">data</span>&nbsp;<span class="op" id="8206884">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206888">sum</span>&nbsp;<span class="op" id="8206892">+=</span>&nbsp;<span class="builtintype" id="8206895">int</span><span class="op" id="8206898">(</span><span class="ident" id="8206899">srv</span><span class="op" id="8206902">.</span><span class="ident" id="8206903">Weight</span><span class="op" id="8206909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8206912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206916">results</span>&nbsp;<span class="op" id="8206924">:=</span>&nbsp;<span class="builtinfunc" id="8206927">make</span><span class="op" id="8206931">(</span><span class="keyword" id="8206932">map</span><span class="op" id="8206935">[</span><span class="builtintype" id="8206936">string</span><span class="op" id="8206942">]</span><span class="builtintype" id="8206943">int</span><span class="op" id="8206946">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206950">count</span>&nbsp;<span class="op" id="8206956">:=</span>&nbsp;<span class="num" id="8206959">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8206965">for</span>&nbsp;<span class="ident" id="8206969">j</span>&nbsp;<span class="op" id="8206971">:=</span>&nbsp;<span class="num" id="8206974">0</span><span class="op" id="8206975">;</span>&nbsp;<span class="ident" id="8206977">j</span>&nbsp;<span class="op" id="8206979">&lt;</span>&nbsp;<span class="ident" id="8206981">count</span><span class="op" id="8206986">;</span>&nbsp;<span class="ident" id="8206988">j</span><span class="op" id="8206989">++</span>&nbsp;<span class="op" id="8206992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206996">d</span>&nbsp;<span class="op" id="8206998">:=</span>&nbsp;<span class="builtinfunc" id="8207001">make</span><span class="op" id="8207005">(</span><span class="op" id="8207006">[</span><span class="op" id="8207007">]</span><span class="op" id="8207008">*</span><span class="ident" id="8207009">SRV</span><span class="op" id="8207012">,</span>&nbsp;<span class="builtinfunc" id="8207014">len</span><span class="op" id="8207017">(</span><span class="ident" id="8207018">data</span><span class="op" id="8207022">)</span><span class="op" id="8207023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8207027">copy</span><span class="op" id="8207031">(</span><span class="ident" id="8207032">d</span><span class="op" id="8207033">,</span>&nbsp;<span class="ident" id="8207035">data</span><span class="op" id="8207039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207043">byPriorityWeight</span><span class="op" id="8207059">(</span><span class="ident" id="8207060">d</span><span class="op" id="8207061">)</span><span class="op" id="8207062">.</span><span class="ident" id="8207063">shuffleByWeight</span><span class="op" id="8207078">(</span><span class="op" id="8207079">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207083">key</span>&nbsp;<span class="op" id="8207087">:=</span>&nbsp;<span class="ident" id="8207090">d</span><span class="op" id="8207091">[</span><span class="num" id="8207092">0</span><span class="op" id="8207093">]</span><span class="op" id="8207094">.</span><span class="ident" id="8207095">Target</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207104">results</span><span class="op" id="8207111">[</span><span class="ident" id="8207112">key</span><span class="op" id="8207115">]</span>&nbsp;<span class="op" id="8207117">=</span>&nbsp;<span class="ident" id="8207119">results</span><span class="op" id="8207126">[</span><span class="ident" id="8207127">key</span><span class="op" id="8207130">]</span>&nbsp;<span class="op" id="8207132">+</span>&nbsp;<span class="num" id="8207134">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207141">actual</span>&nbsp;<span class="op" id="8207148">:=</span>&nbsp;<span class="ident" id="8207151">results</span><span class="op" id="8207158">[</span><span class="ident" id="8207159">data</span><span class="op" id="8207163">[</span><span class="num" id="8207164">0</span><span class="op" id="8207165">]</span><span class="op" id="8207166">.</span><span class="ident" id="8207167">Target</span><span class="op" id="8207173">]</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207176">expected</span>&nbsp;<span class="op" id="8207185">:=</span>&nbsp;<span class="builtintype" id="8207188">float64</span><span class="op" id="8207195">(</span><span class="ident" id="8207196">count</span><span class="op" id="8207201">)</span>&nbsp;<span class="op" id="8207203">*</span>&nbsp;<span class="builtintype" id="8207205">float64</span><span class="op" id="8207212">(</span><span class="ident" id="8207213">data</span><span class="op" id="8207217">[</span><span class="num" id="8207218">0</span><span class="op" id="8207219">]</span><span class="op" id="8207220">.</span><span class="ident" id="8207221">Weight</span><span class="op" id="8207227">)</span>&nbsp;<span class="op" id="8207229">/</span>&nbsp;<span class="builtintype" id="8207231">float64</span><span class="op" id="8207238">(</span><span class="ident" id="8207239">sum</span><span class="op" id="8207242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207245">diff</span>&nbsp;<span class="op" id="8207250">:=</span>&nbsp;<span class="builtintype" id="8207253">float64</span><span class="op" id="8207260">(</span><span class="ident" id="8207261">actual</span><span class="op" id="8207267">)</span>&nbsp;<span class="op" id="8207269">-</span>&nbsp;<span class="ident" id="8207271">expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207281">t</span><span class="op" id="8207282">.</span><span class="ident" id="8207283">Logf</span><span class="op" id="8207287">(</span><span class="string" id="8207288">&#34;actual:&nbsp;%v&nbsp;diff:&nbsp;%v&nbsp;e:&nbsp;%v&nbsp;m:&nbsp;%v&#34;</span><span class="op" id="8207321">,</span>&nbsp;<span class="ident" id="8207323">actual</span><span class="op" id="8207329">,</span>&nbsp;<span class="ident" id="8207331">diff</span><span class="op" id="8207335">,</span>&nbsp;<span class="ident" id="8207337">expected</span><span class="op" id="8207345">,</span>&nbsp;<span class="ident" id="8207347">margin</span><span class="op" id="8207353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8207356">if</span>&nbsp;<span class="ident" id="8207359">diff</span>&nbsp;<span class="op" id="8207364">&lt;</span>&nbsp;<span class="num" id="8207366">0</span>&nbsp;<span class="op" id="8207368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207372">diff</span>&nbsp;<span class="op" id="8207377">=</span>&nbsp;<span class="op" id="8207379">-</span><span class="ident" id="8207380">diff</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8207389">if</span>&nbsp;<span class="ident" id="8207392">diff</span>&nbsp;<span class="op" id="8207397">&gt;</span>&nbsp;<span class="op" id="8207399">(</span><span class="ident" id="8207400">expected</span>&nbsp;<span class="op" id="8207409">*</span>&nbsp;<span class="ident" id="8207411">margin</span><span class="op" id="8207417">)</span>&nbsp;<span class="op" id="8207419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207423">t</span><span class="op" id="8207424">.</span><span class="ident" id="8207425">Errorf</span><span class="op" id="8207431">(</span><span class="string" id="8207432">&#34;missed&nbsp;target&nbsp;weight:&nbsp;expected&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8207471">,</span>&nbsp;<span class="ident" id="8207473">expected</span><span class="op" id="8207481">,</span>&nbsp;<span class="ident" id="8207483">actual</span><span class="op" id="8207489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207492">}</span><br>
<span class="lineno"></span><span class="op" id="8207494">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="8207497">func</span>&nbsp;<span class="ident" id="8207502">testUniformity</span><span class="op" id="8207516">(</span><span class="ident" id="8207517">t</span>&nbsp;<span class="op" id="8207519">*</span><span class="ident" id="8207520">testing</span><span class="op" id="8207527">.</span><span class="ident" id="8207528">T</span><span class="op" id="8207529">,</span>&nbsp;<span class="ident" id="8207531">size</span>&nbsp;<span class="builtintype" id="8207536">int</span><span class="op" id="8207539">,</span>&nbsp;<span class="ident" id="8207541">margin</span>&nbsp;<span class="builtintype" id="8207548">float64</span><span class="op" id="8207555">)</span>&nbsp;<span class="op" id="8207557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207560">rand</span><span class="op" id="8207564">.</span><span class="ident" id="8207565">Seed</span><span class="op" id="8207569">(</span><span class="num" id="8207570">1</span><span class="op" id="8207571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207574">data</span>&nbsp;<span class="op" id="8207579">:=</span>&nbsp;<span class="builtinfunc" id="8207582">make</span><span class="op" id="8207586">(</span><span class="op" id="8207587">[</span><span class="op" id="8207588">]</span><span class="op" id="8207589">*</span><span class="ident" id="8207590">SRV</span><span class="op" id="8207593">,</span>&nbsp;<span class="ident" id="8207595">size</span><span class="op" id="8207599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8207602">for</span>&nbsp;<span class="ident" id="8207606">i</span>&nbsp;<span class="op" id="8207608">:=</span>&nbsp;<span class="num" id="8207611">0</span><span class="op" id="8207612">;</span>&nbsp;<span class="ident" id="8207614">i</span>&nbsp;<span class="op" id="8207616">&lt;</span>&nbsp;<span class="ident" id="8207618">size</span><span class="op" id="8207622">;</span>&nbsp;<span class="ident" id="8207624">i</span><span class="op" id="8207625">++</span>&nbsp;<span class="op" id="8207628">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207632">data</span><span class="op" id="8207636">[</span><span class="ident" id="8207637">i</span><span class="op" id="8207638">]</span>&nbsp;<span class="op" id="8207640">=</span>&nbsp;<span class="op" id="8207642">&amp;</span><span class="ident" id="8207643">SRV</span><span class="op" id="8207646">{</span><span class="ident" id="8207647">Target</span><span class="op" id="8207653">:</span>&nbsp;<span class="builtintype" id="8207655">string</span><span class="op" id="8207661">(</span><span class="string" id="8207662">&#39;a&#39;</span>&nbsp;<span class="op" id="8207666">+</span>&nbsp;<span class="ident" id="8207668">i</span><span class="op" id="8207669">)</span><span class="op" id="8207670">,</span>&nbsp;<span class="ident" id="8207672">Weight</span><span class="op" id="8207678">:</span>&nbsp;<span class="num" id="8207680">1</span><span class="op" id="8207681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207687">checkDistribution</span><span class="op" id="8207704">(</span><span class="ident" id="8207705">t</span><span class="op" id="8207706">,</span>&nbsp;<span class="ident" id="8207708">data</span><span class="op" id="8207712">,</span>&nbsp;<span class="ident" id="8207714">margin</span><span class="op" id="8207720">)</span><br>
<span class="lineno"></span><span class="op" id="8207722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="8207725">func</span>&nbsp;<span class="ident" id="8207730">TestUniformity</span><span class="op" id="8207744">(</span><span class="ident" id="8207745">t</span>&nbsp;<span class="op" id="8207747">*</span><span class="ident" id="8207748">testing</span><span class="op" id="8207755">.</span><span class="ident" id="8207756">T</span><span class="op" id="8207757">)</span>&nbsp;<span class="op" id="8207759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207762">testUniformity</span><span class="op" id="8207776">(</span><span class="ident" id="8207777">t</span><span class="op" id="8207778">,</span>&nbsp;<span class="num" id="8207780">2</span><span class="op" id="8207781">,</span>&nbsp;<span class="num" id="8207783">0.05</span><span class="op" id="8207787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207790">testUniformity</span><span class="op" id="8207804">(</span><span class="ident" id="8207805">t</span><span class="op" id="8207806">,</span>&nbsp;<span class="num" id="8207808">3</span><span class="op" id="8207809">,</span>&nbsp;<span class="num" id="8207811">0.10</span><span class="op" id="8207815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207818">testUniformity</span><span class="op" id="8207832">(</span><span class="ident" id="8207833">t</span><span class="op" id="8207834">,</span>&nbsp;<span class="num" id="8207836">10</span><span class="op" id="8207838">,</span>&nbsp;<span class="num" id="8207840">0.20</span><span class="op" id="8207844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207847">testWeighting</span><span class="op" id="8207860">(</span><span class="ident" id="8207861">t</span><span class="op" id="8207862">,</span>&nbsp;<span class="num" id="8207864">0.05</span><span class="op" id="8207868">)</span><br>
<span class="lineno">55</span><span class="op" id="8207870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8207873">func</span>&nbsp;<span class="ident" id="8207878">testWeighting</span><span class="op" id="8207891">(</span><span class="ident" id="8207892">t</span>&nbsp;<span class="op" id="8207894">*</span><span class="ident" id="8207895">testing</span><span class="op" id="8207902">.</span><span class="ident" id="8207903">T</span><span class="op" id="8207904">,</span>&nbsp;<span class="ident" id="8207906">margin</span>&nbsp;<span class="builtintype" id="8207913">float64</span><span class="op" id="8207920">)</span>&nbsp;<span class="op" id="8207922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207925">rand</span><span class="op" id="8207929">.</span><span class="ident" id="8207930">Seed</span><span class="op" id="8207934">(</span><span class="num" id="8207935">1</span><span class="op" id="8207936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8207939">data</span>&nbsp;<span class="op" id="8207944">:=</span>&nbsp;<span class="op" id="8207947">[</span><span class="op" id="8207948">]</span><span class="op" id="8207949">*</span><span class="ident" id="8207950">SRV</span><span class="op" id="8207953">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207957">{</span><span class="ident" id="8207958">Target</span><span class="op" id="8207964">:</span>&nbsp;<span class="string" id="8207966">&#34;a&#34;</span><span class="op" id="8207969">,</span>&nbsp;<span class="ident" id="8207971">Weight</span><span class="op" id="8207977">:</span>&nbsp;<span class="num" id="8207979">60</span><span class="op" id="8207981">}</span><span class="op" id="8207982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207986">{</span><span class="ident" id="8207987">Target</span><span class="op" id="8207993">:</span>&nbsp;<span class="string" id="8207995">&#34;b&#34;</span><span class="op" id="8207998">,</span>&nbsp;<span class="ident" id="8208000">Weight</span><span class="op" id="8208006">:</span>&nbsp;<span class="num" id="8208008">30</span><span class="op" id="8208010">}</span><span class="op" id="8208011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208015">{</span><span class="ident" id="8208016">Target</span><span class="op" id="8208022">:</span>&nbsp;<span class="string" id="8208024">&#34;c&#34;</span><span class="op" id="8208027">,</span>&nbsp;<span class="ident" id="8208029">Weight</span><span class="op" id="8208035">:</span>&nbsp;<span class="num" id="8208037">10</span><span class="op" id="8208039">}</span><span class="op" id="8208040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8208046">checkDistribution</span><span class="op" id="8208063">(</span><span class="ident" id="8208064">t</span><span class="op" id="8208065">,</span>&nbsp;<span class="ident" id="8208067">data</span><span class="op" id="8208071">,</span>&nbsp;<span class="ident" id="8208073">margin</span><span class="op" id="8208079">)</span><br>
<span class="lineno">65</span><span class="op" id="8208081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8208084">func</span>&nbsp;<span class="ident" id="8208089">TestWeighting</span><span class="op" id="8208102">(</span><span class="ident" id="8208103">t</span>&nbsp;<span class="op" id="8208105">*</span><span class="ident" id="8208106">testing</span><span class="op" id="8208113">.</span><span class="ident" id="8208114">T</span><span class="op" id="8208115">)</span>&nbsp;<span class="op" id="8208117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8208120">testWeighting</span><span class="op" id="8208133">(</span><span class="ident" id="8208134">t</span><span class="op" id="8208135">,</span>&nbsp;<span class="num" id="8208137">0.05</span><span class="op" id="8208141">)</span><br>
<span class="lineno"></span><span class="op" id="8208143">}</span>
</div>
</body>
</html>
