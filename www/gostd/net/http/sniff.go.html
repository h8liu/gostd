<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html" class="current">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4192477">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4192533">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4192587">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4192638">package</span>&nbsp;<span class="ident" id="4192646">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4192652">import</span>&nbsp;<span class="op" id="4192659">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4192662">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4192671">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="4192689">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4192692">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="4192759">const</span>&nbsp;<span class="ident" id="4192765">sniffLen</span>&nbsp;<span class="op" id="4192774">=</span>&nbsp;<span class="num" id="4192776">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4192781">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="4192837">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4192894">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4192955">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="4193017">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="4193086">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="4193125">func</span>&nbsp;<span class="ident" id="4193130">DetectContentType</span><span class="op" id="4193147">(</span><span class="ident" id="4193148">data</span>&nbsp;<span class="op" id="4193153">[</span><span class="op" id="4193154">]</span><span class="builtintype" id="4193155">byte</span><span class="op" id="4193159">)</span>&nbsp;<span class="builtintype" id="4193161">string</span>&nbsp;<span class="op" id="4193168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4193171">if</span>&nbsp;<span class="builtinfunc" id="4193174">len</span><span class="op" id="4193177">(</span><span class="ident" id="4193178">data</span><span class="op" id="4193182">)</span>&nbsp;<span class="op" id="4193184">&gt;</span>&nbsp;<span class="ident" id="4193186">sniffLen</span>&nbsp;<span class="op" id="4193195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193199">data</span>&nbsp;<span class="op" id="4193204">=</span>&nbsp;<span class="ident" id="4193206">data</span><span class="op" id="4193210">[</span><span class="op" id="4193211">:</span><span class="ident" id="4193212">sniffLen</span><span class="op" id="4193220">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4193223">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4193227">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193279">firstNonWS</span>&nbsp;<span class="op" id="4193290">:=</span>&nbsp;<span class="num" id="4193293">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4193296">for</span>&nbsp;<span class="op" id="4193300">;</span>&nbsp;<span class="ident" id="4193302">firstNonWS</span>&nbsp;<span class="op" id="4193313">&lt;</span>&nbsp;<span class="builtinfunc" id="4193315">len</span><span class="op" id="4193318">(</span><span class="ident" id="4193319">data</span><span class="op" id="4193323">)</span>&nbsp;<span class="op" id="4193325">&amp;&amp;</span>&nbsp;<span class="ident" id="4193328">isWS</span><span class="op" id="4193332">(</span><span class="ident" id="4193333">data</span><span class="op" id="4193337">[</span><span class="ident" id="4193338">firstNonWS</span><span class="op" id="4193348">]</span><span class="op" id="4193349">)</span><span class="op" id="4193350">;</span>&nbsp;<span class="ident" id="4193352">firstNonWS</span><span class="op" id="4193362">++</span>&nbsp;<span class="op" id="4193365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4193368">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4193372">for</span>&nbsp;<span class="ident" id="4193376">_</span><span class="op" id="4193377">,</span>&nbsp;<span class="ident" id="4193379">sig</span>&nbsp;<span class="op" id="4193383">:=</span>&nbsp;<span class="keyword" id="4193386">range</span>&nbsp;<span class="ident" id="4193392">sniffSignatures</span>&nbsp;<span class="op" id="4193408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4193412">if</span>&nbsp;<span class="ident" id="4193415">ct</span>&nbsp;<span class="op" id="4193418">:=</span>&nbsp;<span class="ident" id="4193421">sig</span><span class="op" id="4193424">.</span><span class="ident" id="4193425">match</span><span class="op" id="4193430">(</span><span class="ident" id="4193431">data</span><span class="op" id="4193435">,</span>&nbsp;<span class="ident" id="4193437">firstNonWS</span><span class="op" id="4193447">)</span><span class="op" id="4193448">;</span>&nbsp;<span class="ident" id="4193450">ct</span>&nbsp;<span class="op" id="4193453">!=</span>&nbsp;<span class="string" id="4193456">&#34;&#34;</span>&nbsp;<span class="op" id="4193459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4193464">return</span>&nbsp;<span class="ident" id="4193471">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4193476">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4193479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4193483">return</span>&nbsp;<span class="string" id="4193490">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="4193517">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="4193529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="4193532">func</span>&nbsp;<span class="ident" id="4193537">isWS</span><span class="op" id="4193541">(</span><span class="ident" id="4193542">b</span>&nbsp;<span class="builtintype" id="4193544">byte</span><span class="op" id="4193548">)</span>&nbsp;<span class="builtintype" id="4193550">bool</span>&nbsp;<span class="op" id="4193555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4193558">return</span>&nbsp;<span class="ident" id="4193565">bytes</span><span class="op" id="4193570">.</span><span class="ident" id="4193571">IndexByte</span><span class="op" id="4193580">(</span><span class="op" id="4193581">[</span><span class="op" id="4193582">]</span><span class="builtintype" id="4193583">byte</span><span class="op" id="4193587">(</span><span class="string" id="4193588">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="4193601">)</span><span class="op" id="4193602">,</span>&nbsp;<span class="ident" id="4193604">b</span><span class="op" id="4193605">)</span>&nbsp;<span class="op" id="4193607">!=</span>&nbsp;<span class="op" id="4193610">-</span><span class="num" id="4193611">1</span><br>
<span class="lineno"></span><span class="op" id="4193613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4193616">type</span>&nbsp;<span class="ident" id="4193621">sniffSig</span>&nbsp;<span class="keyword" id="4193630">interface</span>&nbsp;<span class="op" id="4193640">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4193643">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193706">match</span><span class="op" id="4193711">(</span><span class="ident" id="4193712">data</span>&nbsp;<span class="op" id="4193717">[</span><span class="op" id="4193718">]</span><span class="builtintype" id="4193719">byte</span><span class="op" id="4193723">,</span>&nbsp;<span class="ident" id="4193725">firstNonWS</span>&nbsp;<span class="builtintype" id="4193736">int</span><span class="op" id="4193739">)</span>&nbsp;<span class="builtintype" id="4193741">string</span><br>
<span class="lineno"></span><span class="op" id="4193748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4193751">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="4193792">var</span>&nbsp;<span class="ident" id="4193796">sniffSignatures</span>&nbsp;<span class="op" id="4193812">=</span>&nbsp;<span class="op" id="4193814">[</span><span class="op" id="4193815">]</span><span class="ident" id="4193816">sniffSig</span><span class="op" id="4193824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193827">htmlSig</span><span class="op" id="4193834">(</span><span class="string" id="4193835">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="4193851">)</span><span class="op" id="4193852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193855">htmlSig</span><span class="op" id="4193862">(</span><span class="string" id="4193863">&#34;&lt;HTML&#34;</span><span class="op" id="4193870">)</span><span class="op" id="4193871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193874">htmlSig</span><span class="op" id="4193881">(</span><span class="string" id="4193882">&#34;&lt;HEAD&#34;</span><span class="op" id="4193889">)</span><span class="op" id="4193890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193893">htmlSig</span><span class="op" id="4193900">(</span><span class="string" id="4193901">&#34;&lt;SCRIPT&#34;</span><span class="op" id="4193910">)</span><span class="op" id="4193911">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193914">htmlSig</span><span class="op" id="4193921">(</span><span class="string" id="4193922">&#34;&lt;IFRAME&#34;</span><span class="op" id="4193931">)</span><span class="op" id="4193932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193935">htmlSig</span><span class="op" id="4193942">(</span><span class="string" id="4193943">&#34;&lt;H1&#34;</span><span class="op" id="4193948">)</span><span class="op" id="4193949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193952">htmlSig</span><span class="op" id="4193959">(</span><span class="string" id="4193960">&#34;&lt;DIV&#34;</span><span class="op" id="4193966">)</span><span class="op" id="4193967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193970">htmlSig</span><span class="op" id="4193977">(</span><span class="string" id="4193978">&#34;&lt;FONT&#34;</span><span class="op" id="4193985">)</span><span class="op" id="4193986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4193989">htmlSig</span><span class="op" id="4193996">(</span><span class="string" id="4193997">&#34;&lt;TABLE&#34;</span><span class="op" id="4194005">)</span><span class="op" id="4194006">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194009">htmlSig</span><span class="op" id="4194016">(</span><span class="string" id="4194017">&#34;&lt;A&#34;</span><span class="op" id="4194021">)</span><span class="op" id="4194022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194025">htmlSig</span><span class="op" id="4194032">(</span><span class="string" id="4194033">&#34;&lt;STYLE&#34;</span><span class="op" id="4194041">)</span><span class="op" id="4194042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194045">htmlSig</span><span class="op" id="4194052">(</span><span class="string" id="4194053">&#34;&lt;TITLE&#34;</span><span class="op" id="4194061">)</span><span class="op" id="4194062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194065">htmlSig</span><span class="op" id="4194072">(</span><span class="string" id="4194073">&#34;&lt;B&#34;</span><span class="op" id="4194077">)</span><span class="op" id="4194078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194081">htmlSig</span><span class="op" id="4194088">(</span><span class="string" id="4194089">&#34;&lt;BODY&#34;</span><span class="op" id="4194096">)</span><span class="op" id="4194097">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194100">htmlSig</span><span class="op" id="4194107">(</span><span class="string" id="4194108">&#34;&lt;BR&#34;</span><span class="op" id="4194113">)</span><span class="op" id="4194114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194117">htmlSig</span><span class="op" id="4194124">(</span><span class="string" id="4194125">&#34;&lt;P&#34;</span><span class="op" id="4194129">)</span><span class="op" id="4194130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194133">htmlSig</span><span class="op" id="4194140">(</span><span class="string" id="4194141">&#34;&lt;!--&#34;</span><span class="op" id="4194147">)</span><span class="op" id="4194148">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194152">&amp;</span><span class="ident" id="4194153">maskedSig</span><span class="op" id="4194162">{</span><span class="ident" id="4194163">mask</span><span class="op" id="4194167">:</span>&nbsp;<span class="op" id="4194169">[</span><span class="op" id="4194170">]</span><span class="builtintype" id="4194171">byte</span><span class="op" id="4194175">(</span><span class="string" id="4194176">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="4194198">)</span><span class="op" id="4194199">,</span>&nbsp;<span class="ident" id="4194201">pat</span><span class="op" id="4194204">:</span>&nbsp;<span class="op" id="4194206">[</span><span class="op" id="4194207">]</span><span class="builtintype" id="4194208">byte</span><span class="op" id="4194212">(</span><span class="string" id="4194213">&#34;&lt;?xml&#34;</span><span class="op" id="4194220">)</span><span class="op" id="4194221">,</span>&nbsp;<span class="ident" id="4194223">skipWS</span><span class="op" id="4194229">:</span>&nbsp;<span class="builtintype" id="4194231">true</span><span class="op" id="4194235">,</span>&nbsp;<span class="ident" id="4194237">ct</span><span class="op" id="4194239">:</span>&nbsp;<span class="string" id="4194241">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="4194266">}</span><span class="op" id="4194267">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194271">&amp;</span><span class="ident" id="4194272">exactSig</span><span class="op" id="4194280">{</span><span class="op" id="4194281">[</span><span class="op" id="4194282">]</span><span class="builtintype" id="4194283">byte</span><span class="op" id="4194287">(</span><span class="string" id="4194288">&#34;%PDF-&#34;</span><span class="op" id="4194295">)</span><span class="op" id="4194296">,</span>&nbsp;<span class="string" id="4194298">&#34;application/pdf&#34;</span><span class="op" id="4194315">}</span><span class="op" id="4194316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194319">&amp;</span><span class="ident" id="4194320">exactSig</span><span class="op" id="4194328">{</span><span class="op" id="4194329">[</span><span class="op" id="4194330">]</span><span class="builtintype" id="4194331">byte</span><span class="op" id="4194335">(</span><span class="string" id="4194336">&#34;%!PS-Adobe-&#34;</span><span class="op" id="4194349">)</span><span class="op" id="4194350">,</span>&nbsp;<span class="string" id="4194352">&#34;application/postscript&#34;</span><span class="op" id="4194376">}</span><span class="op" id="4194377">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4194381">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194395">&amp;</span><span class="ident" id="4194396">maskedSig</span><span class="op" id="4194405">{</span><span class="ident" id="4194406">mask</span><span class="op" id="4194410">:</span>&nbsp;<span class="op" id="4194412">[</span><span class="op" id="4194413">]</span><span class="builtintype" id="4194414">byte</span><span class="op" id="4194418">(</span><span class="string" id="4194419">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="4194437">)</span><span class="op" id="4194438">,</span>&nbsp;<span class="ident" id="4194440">pat</span><span class="op" id="4194443">:</span>&nbsp;<span class="op" id="4194445">[</span><span class="op" id="4194446">]</span><span class="builtintype" id="4194447">byte</span><span class="op" id="4194451">(</span><span class="string" id="4194452">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="4194470">)</span><span class="op" id="4194471">,</span>&nbsp;<span class="ident" id="4194473">ct</span><span class="op" id="4194475">:</span>&nbsp;<span class="string" id="4194477">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="4194507">}</span><span class="op" id="4194508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194511">&amp;</span><span class="ident" id="4194512">maskedSig</span><span class="op" id="4194521">{</span><span class="ident" id="4194522">mask</span><span class="op" id="4194526">:</span>&nbsp;<span class="op" id="4194528">[</span><span class="op" id="4194529">]</span><span class="builtintype" id="4194530">byte</span><span class="op" id="4194534">(</span><span class="string" id="4194535">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="4194553">)</span><span class="op" id="4194554">,</span>&nbsp;<span class="ident" id="4194556">pat</span><span class="op" id="4194559">:</span>&nbsp;<span class="op" id="4194561">[</span><span class="op" id="4194562">]</span><span class="builtintype" id="4194563">byte</span><span class="op" id="4194567">(</span><span class="string" id="4194568">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="4194586">)</span><span class="op" id="4194587">,</span>&nbsp;<span class="ident" id="4194589">ct</span><span class="op" id="4194591">:</span>&nbsp;<span class="string" id="4194593">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="4194623">}</span><span class="op" id="4194624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194627">&amp;</span><span class="ident" id="4194628">maskedSig</span><span class="op" id="4194637">{</span><span class="ident" id="4194638">mask</span><span class="op" id="4194642">:</span>&nbsp;<span class="op" id="4194644">[</span><span class="op" id="4194645">]</span><span class="builtintype" id="4194646">byte</span><span class="op" id="4194650">(</span><span class="string" id="4194651">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="4194669">)</span><span class="op" id="4194670">,</span>&nbsp;<span class="ident" id="4194672">pat</span><span class="op" id="4194675">:</span>&nbsp;<span class="op" id="4194677">[</span><span class="op" id="4194678">]</span><span class="builtintype" id="4194679">byte</span><span class="op" id="4194683">(</span><span class="string" id="4194684">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="4194702">)</span><span class="op" id="4194703">,</span>&nbsp;<span class="ident" id="4194705">ct</span><span class="op" id="4194707">:</span>&nbsp;<span class="string" id="4194709">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="4194736">}</span><span class="op" id="4194737">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194741">&amp;</span><span class="ident" id="4194742">exactSig</span><span class="op" id="4194750">{</span><span class="op" id="4194751">[</span><span class="op" id="4194752">]</span><span class="builtintype" id="4194753">byte</span><span class="op" id="4194757">(</span><span class="string" id="4194758">&#34;GIF87a&#34;</span><span class="op" id="4194766">)</span><span class="op" id="4194767">,</span>&nbsp;<span class="string" id="4194769">&#34;image/gif&#34;</span><span class="op" id="4194780">}</span><span class="op" id="4194781">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194784">&amp;</span><span class="ident" id="4194785">exactSig</span><span class="op" id="4194793">{</span><span class="op" id="4194794">[</span><span class="op" id="4194795">]</span><span class="builtintype" id="4194796">byte</span><span class="op" id="4194800">(</span><span class="string" id="4194801">&#34;GIF89a&#34;</span><span class="op" id="4194809">)</span><span class="op" id="4194810">,</span>&nbsp;<span class="string" id="4194812">&#34;image/gif&#34;</span><span class="op" id="4194823">}</span><span class="op" id="4194824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194827">&amp;</span><span class="ident" id="4194828">exactSig</span><span class="op" id="4194836">{</span><span class="op" id="4194837">[</span><span class="op" id="4194838">]</span><span class="builtintype" id="4194839">byte</span><span class="op" id="4194843">(</span><span class="string" id="4194844">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="4194878">)</span><span class="op" id="4194879">,</span>&nbsp;<span class="string" id="4194881">&#34;image/png&#34;</span><span class="op" id="4194892">}</span><span class="op" id="4194893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194896">&amp;</span><span class="ident" id="4194897">exactSig</span><span class="op" id="4194905">{</span><span class="op" id="4194906">[</span><span class="op" id="4194907">]</span><span class="builtintype" id="4194908">byte</span><span class="op" id="4194912">(</span><span class="string" id="4194913">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="4194927">)</span><span class="op" id="4194928">,</span>&nbsp;<span class="string" id="4194930">&#34;image/jpeg&#34;</span><span class="op" id="4194942">}</span><span class="op" id="4194943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194946">&amp;</span><span class="ident" id="4194947">exactSig</span><span class="op" id="4194955">{</span><span class="op" id="4194956">[</span><span class="op" id="4194957">]</span><span class="builtintype" id="4194958">byte</span><span class="op" id="4194962">(</span><span class="string" id="4194963">&#34;BM&#34;</span><span class="op" id="4194967">)</span><span class="op" id="4194968">,</span>&nbsp;<span class="string" id="4194970">&#34;image/bmp&#34;</span><span class="op" id="4194981">}</span><span class="op" id="4194982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4194985">&amp;</span><span class="ident" id="4194986">maskedSig</span><span class="op" id="4194995">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4194999">mask</span><span class="op" id="4195003">:</span>&nbsp;<span class="op" id="4195005">[</span><span class="op" id="4195006">]</span><span class="builtintype" id="4195007">byte</span><span class="op" id="4195011">(</span><span class="string" id="4195012">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="4195070">)</span><span class="op" id="4195071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195075">pat</span><span class="op" id="4195078">:</span>&nbsp;&nbsp;<span class="op" id="4195081">[</span><span class="op" id="4195082">]</span><span class="builtintype" id="4195083">byte</span><span class="op" id="4195087">(</span><span class="string" id="4195088">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="4195116">)</span><span class="op" id="4195117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195121">ct</span><span class="op" id="4195123">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="4195127">&#34;image/webp&#34;</span><span class="op" id="4195139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195142">}</span><span class="op" id="4195143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195146">&amp;</span><span class="ident" id="4195147">exactSig</span><span class="op" id="4195155">{</span><span class="op" id="4195156">[</span><span class="op" id="4195157">]</span><span class="builtintype" id="4195158">byte</span><span class="op" id="4195162">(</span><span class="string" id="4195163">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="4195181">)</span><span class="op" id="4195182">,</span>&nbsp;<span class="string" id="4195184">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="4195210">}</span><span class="op" id="4195211">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195214">&amp;</span><span class="ident" id="4195215">exactSig</span><span class="op" id="4195223">{</span><span class="op" id="4195224">[</span><span class="op" id="4195225">]</span><span class="builtintype" id="4195226">byte</span><span class="op" id="4195230">(</span><span class="string" id="4195231">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="4195253">)</span><span class="op" id="4195254">,</span>&nbsp;<span class="string" id="4195256">&#34;application/ogg&#34;</span><span class="op" id="4195273">}</span><span class="op" id="4195274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195277">&amp;</span><span class="ident" id="4195278">maskedSig</span><span class="op" id="4195287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195291">mask</span><span class="op" id="4195295">:</span>&nbsp;<span class="op" id="4195297">[</span><span class="op" id="4195298">]</span><span class="builtintype" id="4195299">byte</span><span class="op" id="4195303">(</span><span class="string" id="4195304">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="4195354">)</span><span class="op" id="4195355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195359">pat</span><span class="op" id="4195362">:</span>&nbsp;&nbsp;<span class="op" id="4195365">[</span><span class="op" id="4195366">]</span><span class="builtintype" id="4195367">byte</span><span class="op" id="4195371">(</span><span class="string" id="4195372">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="4195398">)</span><span class="op" id="4195399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195403">ct</span><span class="op" id="4195405">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="4195409">&#34;audio/wave&#34;</span><span class="op" id="4195421">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195424">}</span><span class="op" id="4195425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195428">&amp;</span><span class="ident" id="4195429">exactSig</span><span class="op" id="4195437">{</span><span class="op" id="4195438">[</span><span class="op" id="4195439">]</span><span class="builtintype" id="4195440">byte</span><span class="op" id="4195444">(</span><span class="string" id="4195445">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="4195463">)</span><span class="op" id="4195464">,</span>&nbsp;<span class="string" id="4195466">&#34;video/webm&#34;</span><span class="op" id="4195478">}</span><span class="op" id="4195479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195482">&amp;</span><span class="ident" id="4195483">exactSig</span><span class="op" id="4195491">{</span><span class="op" id="4195492">[</span><span class="op" id="4195493">]</span><span class="builtintype" id="4195494">byte</span><span class="op" id="4195498">(</span><span class="string" id="4195499">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="4195529">)</span><span class="op" id="4195530">,</span>&nbsp;<span class="string" id="4195532">&#34;application/x-rar-compressed&#34;</span><span class="op" id="4195562">}</span><span class="op" id="4195563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195566">&amp;</span><span class="ident" id="4195567">exactSig</span><span class="op" id="4195575">{</span><span class="op" id="4195576">[</span><span class="op" id="4195577">]</span><span class="builtintype" id="4195578">byte</span><span class="op" id="4195582">(</span><span class="string" id="4195583">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="4195601">)</span><span class="op" id="4195602">,</span>&nbsp;<span class="string" id="4195604">&#34;application/zip&#34;</span><span class="op" id="4195621">}</span><span class="op" id="4195622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195625">&amp;</span><span class="ident" id="4195626">exactSig</span><span class="op" id="4195634">{</span><span class="op" id="4195635">[</span><span class="op" id="4195636">]</span><span class="builtintype" id="4195637">byte</span><span class="op" id="4195641">(</span><span class="string" id="4195642">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="4195656">)</span><span class="op" id="4195657">,</span>&nbsp;<span class="string" id="4195659">&#34;application/x-gzip&#34;</span><span class="op" id="4195679">}</span><span class="op" id="4195680">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4195684">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4195755">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195770">textSig</span><span class="op" id="4195777">(</span><span class="num" id="4195778">0</span><span class="op" id="4195779">)</span><span class="op" id="4195780">,</span>&nbsp;<span class="comment" id="4195782">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="4195800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4195803">type</span>&nbsp;<span class="ident" id="4195808">exactSig</span>&nbsp;<span class="keyword" id="4195817">struct</span>&nbsp;<span class="op" id="4195824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195827">sig</span>&nbsp;<span class="op" id="4195831">[</span><span class="op" id="4195832">]</span><span class="builtintype" id="4195833">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4195839">ct</span>&nbsp;&nbsp;<span class="builtintype" id="4195843">string</span><br>
<span class="lineno">110</span><span class="op" id="4195850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4195853">func</span>&nbsp;<span class="op" id="4195858">(</span><span class="ident" id="4195859">e</span>&nbsp;<span class="op" id="4195861">*</span><span class="ident" id="4195862">exactSig</span><span class="op" id="4195870">)</span>&nbsp;<span class="ident" id="4195872">match</span><span class="op" id="4195877">(</span><span class="ident" id="4195878">data</span>&nbsp;<span class="op" id="4195883">[</span><span class="op" id="4195884">]</span><span class="builtintype" id="4195885">byte</span><span class="op" id="4195889">,</span>&nbsp;<span class="ident" id="4195891">firstNonWS</span>&nbsp;<span class="builtintype" id="4195902">int</span><span class="op" id="4195905">)</span>&nbsp;<span class="builtintype" id="4195907">string</span>&nbsp;<span class="op" id="4195914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4195917">if</span>&nbsp;<span class="ident" id="4195920">bytes</span><span class="op" id="4195925">.</span><span class="ident" id="4195926">HasPrefix</span><span class="op" id="4195935">(</span><span class="ident" id="4195936">data</span><span class="op" id="4195940">,</span>&nbsp;<span class="ident" id="4195942">e</span><span class="op" id="4195943">.</span><span class="ident" id="4195944">sig</span><span class="op" id="4195947">)</span>&nbsp;<span class="op" id="4195949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4195953">return</span>&nbsp;<span class="ident" id="4195960">e</span><span class="op" id="4195961">.</span><span class="ident" id="4195962">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4195966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4195969">return</span>&nbsp;<span class="string" id="4195976">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="4195979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4195982">type</span>&nbsp;<span class="ident" id="4195987">maskedSig</span>&nbsp;<span class="keyword" id="4195997">struct</span>&nbsp;<span class="op" id="4196004">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196007">mask</span><span class="op" id="4196011">,</span>&nbsp;<span class="ident" id="4196013">pat</span>&nbsp;<span class="op" id="4196017">[</span><span class="op" id="4196018">]</span><span class="builtintype" id="4196019">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196025">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4196035">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196041">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4196051">string</span><br>
<span class="lineno"></span><span class="op" id="4196058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4196061">func</span>&nbsp;<span class="op" id="4196066">(</span><span class="ident" id="4196067">m</span>&nbsp;<span class="op" id="4196069">*</span><span class="ident" id="4196070">maskedSig</span><span class="op" id="4196079">)</span>&nbsp;<span class="ident" id="4196081">match</span><span class="op" id="4196086">(</span><span class="ident" id="4196087">data</span>&nbsp;<span class="op" id="4196092">[</span><span class="op" id="4196093">]</span><span class="builtintype" id="4196094">byte</span><span class="op" id="4196098">,</span>&nbsp;<span class="ident" id="4196100">firstNonWS</span>&nbsp;<span class="builtintype" id="4196111">int</span><span class="op" id="4196114">)</span>&nbsp;<span class="builtintype" id="4196116">string</span>&nbsp;<span class="op" id="4196123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196126">if</span>&nbsp;<span class="ident" id="4196129">m</span><span class="op" id="4196130">.</span><span class="ident" id="4196131">skipWS</span>&nbsp;<span class="op" id="4196138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196142">data</span>&nbsp;<span class="op" id="4196147">=</span>&nbsp;<span class="ident" id="4196149">data</span><span class="op" id="4196153">[</span><span class="ident" id="4196154">firstNonWS</span><span class="op" id="4196164">:</span><span class="op" id="4196165">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196171">if</span>&nbsp;<span class="builtinfunc" id="4196174">len</span><span class="op" id="4196177">(</span><span class="ident" id="4196178">data</span><span class="op" id="4196182">)</span>&nbsp;<span class="op" id="4196184">&lt;</span>&nbsp;<span class="builtinfunc" id="4196186">len</span><span class="op" id="4196189">(</span><span class="ident" id="4196190">m</span><span class="op" id="4196191">.</span><span class="ident" id="4196192">mask</span><span class="op" id="4196196">)</span>&nbsp;<span class="op" id="4196198">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196202">return</span>&nbsp;<span class="string" id="4196209">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196216">for</span>&nbsp;<span class="ident" id="4196220">i</span><span class="op" id="4196221">,</span>&nbsp;<span class="ident" id="4196223">mask</span>&nbsp;<span class="op" id="4196228">:=</span>&nbsp;<span class="keyword" id="4196231">range</span>&nbsp;<span class="ident" id="4196237">m</span><span class="op" id="4196238">.</span><span class="ident" id="4196239">mask</span>&nbsp;<span class="op" id="4196244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196248">db</span>&nbsp;<span class="op" id="4196251">:=</span>&nbsp;<span class="ident" id="4196254">data</span><span class="op" id="4196258">[</span><span class="ident" id="4196259">i</span><span class="op" id="4196260">]</span>&nbsp;<span class="op" id="4196262">&amp;</span>&nbsp;<span class="ident" id="4196264">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196271">if</span>&nbsp;<span class="ident" id="4196274">db</span>&nbsp;<span class="op" id="4196277">!=</span>&nbsp;<span class="ident" id="4196280">m</span><span class="op" id="4196281">.</span><span class="ident" id="4196282">pat</span><span class="op" id="4196285">[</span><span class="ident" id="4196286">i</span><span class="op" id="4196287">]</span>&nbsp;<span class="op" id="4196289">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196294">return</span>&nbsp;<span class="string" id="4196301">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196312">return</span>&nbsp;<span class="ident" id="4196319">m</span><span class="op" id="4196320">.</span><span class="ident" id="4196321">ct</span><br>
<span class="lineno"></span><span class="op" id="4196324">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="4196327">type</span>&nbsp;<span class="ident" id="4196332">htmlSig</span>&nbsp;<span class="op" id="4196340">[</span><span class="op" id="4196341">]</span><span class="builtintype" id="4196342">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4196348">func</span>&nbsp;<span class="op" id="4196353">(</span><span class="ident" id="4196354">h</span>&nbsp;<span class="ident" id="4196356">htmlSig</span><span class="op" id="4196363">)</span>&nbsp;<span class="ident" id="4196365">match</span><span class="op" id="4196370">(</span><span class="ident" id="4196371">data</span>&nbsp;<span class="op" id="4196376">[</span><span class="op" id="4196377">]</span><span class="builtintype" id="4196378">byte</span><span class="op" id="4196382">,</span>&nbsp;<span class="ident" id="4196384">firstNonWS</span>&nbsp;<span class="builtintype" id="4196395">int</span><span class="op" id="4196398">)</span>&nbsp;<span class="builtintype" id="4196400">string</span>&nbsp;<span class="op" id="4196407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196410">data</span>&nbsp;<span class="op" id="4196415">=</span>&nbsp;<span class="ident" id="4196417">data</span><span class="op" id="4196421">[</span><span class="ident" id="4196422">firstNonWS</span><span class="op" id="4196432">:</span><span class="op" id="4196433">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196436">if</span>&nbsp;<span class="builtinfunc" id="4196439">len</span><span class="op" id="4196442">(</span><span class="ident" id="4196443">data</span><span class="op" id="4196447">)</span>&nbsp;<span class="op" id="4196449">&lt;</span>&nbsp;<span class="builtinfunc" id="4196451">len</span><span class="op" id="4196454">(</span><span class="ident" id="4196455">h</span><span class="op" id="4196456">)</span><span class="op" id="4196457">+</span><span class="num" id="4196458">1</span>&nbsp;<span class="op" id="4196460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196464">return</span>&nbsp;<span class="string" id="4196471">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196478">for</span>&nbsp;<span class="ident" id="4196482">i</span><span class="op" id="4196483">,</span>&nbsp;<span class="ident" id="4196485">b</span>&nbsp;<span class="op" id="4196487">:=</span>&nbsp;<span class="keyword" id="4196490">range</span>&nbsp;<span class="ident" id="4196496">h</span>&nbsp;<span class="op" id="4196498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196502">db</span>&nbsp;<span class="op" id="4196505">:=</span>&nbsp;<span class="ident" id="4196508">data</span><span class="op" id="4196512">[</span><span class="ident" id="4196513">i</span><span class="op" id="4196514">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196518">if</span>&nbsp;<span class="string" id="4196521">&#39;A&#39;</span>&nbsp;<span class="op" id="4196525">&lt;=</span>&nbsp;<span class="ident" id="4196528">b</span>&nbsp;<span class="op" id="4196530">&amp;&amp;</span>&nbsp;<span class="ident" id="4196533">b</span>&nbsp;<span class="op" id="4196535">&lt;=</span>&nbsp;<span class="string" id="4196538">&#39;Z&#39;</span>&nbsp;<span class="op" id="4196542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196547">db</span>&nbsp;<span class="op" id="4196550">&amp;=</span>&nbsp;<span class="num" id="4196553">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196564">if</span>&nbsp;<span class="ident" id="4196567">b</span>&nbsp;<span class="op" id="4196569">!=</span>&nbsp;<span class="ident" id="4196572">db</span>&nbsp;<span class="op" id="4196575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196580">return</span>&nbsp;<span class="string" id="4196587">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4196598">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196650">if</span>&nbsp;<span class="ident" id="4196653">db</span>&nbsp;<span class="op" id="4196656">:=</span>&nbsp;<span class="ident" id="4196659">data</span><span class="op" id="4196663">[</span><span class="builtinfunc" id="4196664">len</span><span class="op" id="4196667">(</span><span class="ident" id="4196668">h</span><span class="op" id="4196669">)</span><span class="op" id="4196670">]</span><span class="op" id="4196671">;</span>&nbsp;<span class="ident" id="4196673">db</span>&nbsp;<span class="op" id="4196676">!=</span>&nbsp;<span class="string" id="4196679">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4196683">&amp;&amp;</span>&nbsp;<span class="ident" id="4196686">db</span>&nbsp;<span class="op" id="4196689">!=</span>&nbsp;<span class="string" id="4196692">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="4196696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196700">return</span>&nbsp;<span class="string" id="4196707">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196714">return</span>&nbsp;<span class="string" id="4196721">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4196748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4196751">type</span>&nbsp;<span class="ident" id="4196756">mp4Sig</span>&nbsp;<span class="builtintype" id="4196763">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="4196768">func</span>&nbsp;<span class="op" id="4196773">(</span><span class="ident" id="4196774">mp4Sig</span><span class="op" id="4196780">)</span>&nbsp;<span class="ident" id="4196782">match</span><span class="op" id="4196787">(</span><span class="ident" id="4196788">data</span>&nbsp;<span class="op" id="4196793">[</span><span class="op" id="4196794">]</span><span class="builtintype" id="4196795">byte</span><span class="op" id="4196799">,</span>&nbsp;<span class="ident" id="4196801">firstNonWS</span>&nbsp;<span class="builtintype" id="4196812">int</span><span class="op" id="4196815">)</span>&nbsp;<span class="builtintype" id="4196817">string</span>&nbsp;<span class="op" id="4196824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4196827">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196849">if</span>&nbsp;<span class="builtinfunc" id="4196852">len</span><span class="op" id="4196855">(</span><span class="ident" id="4196856">data</span><span class="op" id="4196860">)</span>&nbsp;<span class="op" id="4196862">&lt;</span>&nbsp;<span class="num" id="4196864">8</span>&nbsp;<span class="op" id="4196866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196870">return</span>&nbsp;<span class="string" id="4196877">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4196884">boxSize</span>&nbsp;<span class="op" id="4196892">:=</span>&nbsp;<span class="builtintype" id="4196895">int</span><span class="op" id="4196898">(</span><span class="ident" id="4196899">binary</span><span class="op" id="4196905">.</span><span class="ident" id="4196906">BigEndian</span><span class="op" id="4196915">.</span><span class="ident" id="4196916">Uint32</span><span class="op" id="4196922">(</span><span class="ident" id="4196923">data</span><span class="op" id="4196927">[</span><span class="op" id="4196928">:</span><span class="num" id="4196929">4</span><span class="op" id="4196930">]</span><span class="op" id="4196931">)</span><span class="op" id="4196932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196935">if</span>&nbsp;<span class="ident" id="4196938">boxSize</span><span class="op" id="4196945">%</span><span class="num" id="4196946">4</span>&nbsp;<span class="op" id="4196948">!=</span>&nbsp;<span class="num" id="4196951">0</span>&nbsp;<span class="op" id="4196953">||</span>&nbsp;<span class="builtinfunc" id="4196956">len</span><span class="op" id="4196959">(</span><span class="ident" id="4196960">data</span><span class="op" id="4196964">)</span>&nbsp;<span class="op" id="4196966">&lt;</span>&nbsp;<span class="ident" id="4196968">boxSize</span>&nbsp;<span class="op" id="4196976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196980">return</span>&nbsp;<span class="string" id="4196987">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4196991">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4196994">if</span>&nbsp;<span class="op" id="4196997">!</span><span class="ident" id="4196998">bytes</span><span class="op" id="4197003">.</span><span class="ident" id="4197004">Equal</span><span class="op" id="4197009">(</span><span class="ident" id="4197010">data</span><span class="op" id="4197014">[</span><span class="num" id="4197015">4</span><span class="op" id="4197016">:</span><span class="num" id="4197017">8</span><span class="op" id="4197018">]</span><span class="op" id="4197019">,</span>&nbsp;<span class="op" id="4197021">[</span><span class="op" id="4197022">]</span><span class="builtintype" id="4197023">byte</span><span class="op" id="4197027">(</span><span class="string" id="4197028">&#34;ftyp&#34;</span><span class="op" id="4197034">)</span><span class="op" id="4197035">)</span>&nbsp;<span class="op" id="4197037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197041">return</span>&nbsp;<span class="string" id="4197048">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4197052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197055">for</span>&nbsp;<span class="ident" id="4197059">st</span>&nbsp;<span class="op" id="4197062">:=</span>&nbsp;<span class="num" id="4197065">8</span><span class="op" id="4197066">;</span>&nbsp;<span class="ident" id="4197068">st</span>&nbsp;<span class="op" id="4197071">&lt;</span>&nbsp;<span class="ident" id="4197073">boxSize</span><span class="op" id="4197080">;</span>&nbsp;<span class="ident" id="4197082">st</span>&nbsp;<span class="op" id="4197085">+=</span>&nbsp;<span class="num" id="4197088">4</span>&nbsp;<span class="op" id="4197090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197094">if</span>&nbsp;<span class="ident" id="4197097">st</span>&nbsp;<span class="op" id="4197100">==</span>&nbsp;<span class="num" id="4197103">12</span>&nbsp;<span class="op" id="4197106">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4197111">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197138">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4197149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4197153">seg</span>&nbsp;<span class="op" id="4197157">:=</span>&nbsp;<span class="builtintype" id="4197160">string</span><span class="op" id="4197166">(</span><span class="ident" id="4197167">data</span><span class="op" id="4197171">[</span><span class="ident" id="4197172">st</span>&nbsp;<span class="op" id="4197175">:</span>&nbsp;<span class="ident" id="4197177">st</span><span class="op" id="4197179">+</span><span class="num" id="4197180">3</span><span class="op" id="4197181">]</span><span class="op" id="4197182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197186">switch</span>&nbsp;<span class="ident" id="4197193">seg</span>&nbsp;<span class="op" id="4197197">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197201">case</span>&nbsp;<span class="string" id="4197206">&#34;mp4&#34;</span><span class="op" id="4197211">,</span>&nbsp;<span class="string" id="4197213">&#34;iso&#34;</span><span class="op" id="4197218">,</span>&nbsp;<span class="string" id="4197220">&#34;M4V&#34;</span><span class="op" id="4197225">,</span>&nbsp;<span class="string" id="4197227">&#34;M4P&#34;</span><span class="op" id="4197232">,</span>&nbsp;<span class="string" id="4197234">&#34;M4B&#34;</span><span class="op" id="4197239">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197244">return</span>&nbsp;<span class="string" id="4197251">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4197266">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4197440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4197443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197446">return</span>&nbsp;<span class="string" id="4197453">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="4197456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="4197459">type</span>&nbsp;<span class="ident" id="4197464">textSig</span>&nbsp;<span class="builtintype" id="4197472">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4197477">func</span>&nbsp;<span class="op" id="4197482">(</span><span class="ident" id="4197483">textSig</span><span class="op" id="4197490">)</span>&nbsp;<span class="ident" id="4197492">match</span><span class="op" id="4197497">(</span><span class="ident" id="4197498">data</span>&nbsp;<span class="op" id="4197503">[</span><span class="op" id="4197504">]</span><span class="builtintype" id="4197505">byte</span><span class="op" id="4197509">,</span>&nbsp;<span class="ident" id="4197511">firstNonWS</span>&nbsp;<span class="builtintype" id="4197522">int</span><span class="op" id="4197525">)</span>&nbsp;<span class="builtintype" id="4197527">string</span>&nbsp;<span class="op" id="4197534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4197537">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197565">for</span>&nbsp;<span class="ident" id="4197569">_</span><span class="op" id="4197570">,</span>&nbsp;<span class="ident" id="4197572">b</span>&nbsp;<span class="op" id="4197574">:=</span>&nbsp;<span class="keyword" id="4197577">range</span>&nbsp;<span class="ident" id="4197583">data</span><span class="op" id="4197587">[</span><span class="ident" id="4197588">firstNonWS</span><span class="op" id="4197598">:</span><span class="op" id="4197599">]</span>&nbsp;<span class="op" id="4197601">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197605">switch</span>&nbsp;<span class="op" id="4197612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197616">case</span>&nbsp;<span class="num" id="4197621">0x00</span>&nbsp;<span class="op" id="4197626">&lt;=</span>&nbsp;<span class="ident" id="4197629">b</span>&nbsp;<span class="op" id="4197631">&amp;&amp;</span>&nbsp;<span class="ident" id="4197634">b</span>&nbsp;<span class="op" id="4197636">&lt;=</span>&nbsp;<span class="num" id="4197639">0x08</span><span class="op" id="4197643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4197648">b</span>&nbsp;<span class="op" id="4197650">==</span>&nbsp;<span class="num" id="4197653">0x0B</span><span class="op" id="4197657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4197662">0x0E</span>&nbsp;<span class="op" id="4197667">&lt;=</span>&nbsp;<span class="ident" id="4197670">b</span>&nbsp;<span class="op" id="4197672">&amp;&amp;</span>&nbsp;<span class="ident" id="4197675">b</span>&nbsp;<span class="op" id="4197677">&lt;=</span>&nbsp;<span class="num" id="4197680">0x1A</span><span class="op" id="4197684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4197689">0x1C</span>&nbsp;<span class="op" id="4197694">&lt;=</span>&nbsp;<span class="ident" id="4197697">b</span>&nbsp;<span class="op" id="4197699">&amp;&amp;</span>&nbsp;<span class="ident" id="4197702">b</span>&nbsp;<span class="op" id="4197704">&lt;=</span>&nbsp;<span class="num" id="4197707">0x1F</span><span class="op" id="4197711">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197716">return</span>&nbsp;<span class="string" id="4197723">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4197728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4197731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4197734">return</span>&nbsp;<span class="string" id="4197741">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4197769">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
