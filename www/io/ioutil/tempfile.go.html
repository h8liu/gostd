<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3035317">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3035373">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3035427">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3035478">package</span>&nbsp;<span class="ident" id="3035486">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3035494">import</span>&nbsp;<span class="op" id="3035501">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3035504">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3035510">&#34;path/filepath&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3035527">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3035538">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3035546">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3035553">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3035556">//&nbsp;Random&nbsp;number&nbsp;state.</span><br>
<span class="lineno"></span><span class="comment" id="3035580">//&nbsp;We&nbsp;generate&nbsp;random&nbsp;temporary&nbsp;file&nbsp;names&nbsp;so&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;good</span><br>
<span class="lineno"></span><span class="comment" id="3035646">//&nbsp;chance&nbsp;the&nbsp;file&nbsp;doesn&#39;t&nbsp;exist&nbsp;yet&nbsp;-&nbsp;keeps&nbsp;the&nbsp;number&nbsp;of&nbsp;tries&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3035714">//&nbsp;TempFile&nbsp;to&nbsp;a&nbsp;minimum.</span><br>
<span class="lineno"></span><span class="keyword" id="3035740">var</span>&nbsp;<span class="ident" id="3035744">rand</span>&nbsp;<span class="builtintype" id="3035749">uint32</span><br>
<span class="lineno">20</span><span class="keyword" id="3035756">var</span>&nbsp;<span class="ident" id="3035760">randmu</span>&nbsp;<span class="ident" id="3035767">sync</span><span class="op" id="3035771">.</span><span class="ident" id="3035772">Mutex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3035779">func</span>&nbsp;<span class="ident" id="3035784">reseed</span><span class="op" id="3035790">(</span><span class="op" id="3035791">)</span>&nbsp;<span class="builtintype" id="3035793">uint32</span>&nbsp;<span class="op" id="3035800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3035803">return</span>&nbsp;<span class="builtintype" id="3035810">uint32</span><span class="op" id="3035816">(</span><span class="ident" id="3035817">time</span><span class="op" id="3035821">.</span><span class="ident" id="3035822">Now</span><span class="op" id="3035825">(</span><span class="op" id="3035826">)</span><span class="op" id="3035827">.</span><span class="ident" id="3035828">UnixNano</span><span class="op" id="3035836">(</span><span class="op" id="3035837">)</span>&nbsp;<span class="op" id="3035839">+</span>&nbsp;<span class="ident" id="3035841">int64</span><span class="op" id="3035846">(</span><span class="ident" id="3035847">os</span><span class="op" id="3035849">.</span><span class="ident" id="3035850">Getpid</span><span class="op" id="3035856">(</span><span class="op" id="3035857">)</span><span class="op" id="3035858">)</span><span class="op" id="3035859">)</span><br>
<span class="lineno"></span><span class="op" id="3035861">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3035864">func</span>&nbsp;<span class="ident" id="3035869">nextSuffix</span><span class="op" id="3035879">(</span><span class="op" id="3035880">)</span>&nbsp;<span class="builtintype" id="3035882">string</span>&nbsp;<span class="op" id="3035889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3035892">randmu</span><span class="op" id="3035898">.</span><span class="ident" id="3035899">Lock</span><span class="op" id="3035903">(</span><span class="op" id="3035904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3035907">r</span>&nbsp;<span class="op" id="3035909">:=</span>&nbsp;<span class="ident" id="3035912">rand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3035918">if</span>&nbsp;<span class="ident" id="3035921">r</span>&nbsp;<span class="op" id="3035923">==</span>&nbsp;<span class="num" id="3035926">0</span>&nbsp;<span class="op" id="3035928">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3035932">r</span>&nbsp;<span class="op" id="3035934">=</span>&nbsp;<span class="ident" id="3035936">reseed</span><span class="op" id="3035942">(</span><span class="op" id="3035943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3035946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3035949">r</span>&nbsp;<span class="op" id="3035951">=</span>&nbsp;<span class="ident" id="3035953">r</span><span class="op" id="3035954">*</span><span class="num" id="3035955">1664525</span>&nbsp;<span class="op" id="3035963">+</span>&nbsp;<span class="num" id="3035965">1013904223</span>&nbsp;<span class="comment" id="3035976">//&nbsp;constants&nbsp;from&nbsp;Numerical&nbsp;Recipes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3036013">rand</span>&nbsp;<span class="op" id="3036018">=</span>&nbsp;<span class="ident" id="3036020">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3036023">randmu</span><span class="op" id="3036029">.</span><span class="ident" id="3036030">Unlock</span><span class="op" id="3036036">(</span><span class="op" id="3036037">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036040">return</span>&nbsp;<span class="ident" id="3036047">strconv</span><span class="op" id="3036054">.</span><span class="ident" id="3036055">Itoa</span><span class="op" id="3036059">(</span><span class="builtintype" id="3036060">int</span><span class="op" id="3036063">(</span><span class="num" id="3036064">1e9</span>&nbsp;<span class="op" id="3036068">+</span>&nbsp;<span class="ident" id="3036070">r</span><span class="op" id="3036071">%</span><span class="num" id="3036072">1e9</span><span class="op" id="3036075">)</span><span class="op" id="3036076">)</span><span class="op" id="3036077">[</span><span class="num" id="3036078">1</span><span class="op" id="3036079">:</span><span class="op" id="3036080">]</span><br>
<span class="lineno"></span><span class="op" id="3036082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3036085">//&nbsp;TempFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3036147">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix,&nbsp;opens&nbsp;the&nbsp;file&nbsp;for&nbsp;reading</span><br>
<span class="lineno">40</span><span class="comment" id="3036212">//&nbsp;and&nbsp;writing,&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="comment" id="3036264">//&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempFile&nbsp;uses&nbsp;the&nbsp;default&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3036331">//&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3036372">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempFile&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3036425">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;file.&nbsp;&nbsp;The&nbsp;caller&nbsp;can&nbsp;use&nbsp;f.Name()</span><br>
<span class="lineno">45</span><span class="comment" id="3036488">//&nbsp;to&nbsp;find&nbsp;the&nbsp;pathname&nbsp;of&nbsp;the&nbsp;file.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3036560">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;file&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3036605">func</span>&nbsp;<span class="ident" id="3036610">TempFile</span><span class="op" id="3036618">(</span><span class="ident" id="3036619">dir</span><span class="op" id="3036622">,</span>&nbsp;<span class="ident" id="3036624">prefix</span>&nbsp;<span class="builtintype" id="3036631">string</span><span class="op" id="3036637">)</span>&nbsp;<span class="op" id="3036639">(</span><span class="ident" id="3036640">f</span>&nbsp;<span class="op" id="3036642">*</span><span class="ident" id="3036643">os</span><span class="op" id="3036645">.</span><span class="ident" id="3036646">File</span><span class="op" id="3036650">,</span>&nbsp;<span class="ident" id="3036652">err</span>&nbsp;<span class="builtintype" id="3036656">error</span><span class="op" id="3036661">)</span>&nbsp;<span class="op" id="3036663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036666">if</span>&nbsp;<span class="ident" id="3036669">dir</span>&nbsp;<span class="op" id="3036673">==</span>&nbsp;<span class="string" id="3036676">&#34;&#34;</span>&nbsp;<span class="op" id="3036679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3036683">dir</span>&nbsp;<span class="op" id="3036687">=</span>&nbsp;<span class="ident" id="3036689">os</span><span class="op" id="3036691">.</span><span class="ident" id="3036692">TempDir</span><span class="op" id="3036699">(</span><span class="op" id="3036700">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3036703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3036707">nconflict</span>&nbsp;<span class="op" id="3036717">:=</span>&nbsp;<span class="num" id="3036720">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036723">for</span>&nbsp;<span class="ident" id="3036727">i</span>&nbsp;<span class="op" id="3036729">:=</span>&nbsp;<span class="num" id="3036732">0</span><span class="op" id="3036733">;</span>&nbsp;<span class="ident" id="3036735">i</span>&nbsp;<span class="op" id="3036737">&lt;</span>&nbsp;<span class="num" id="3036739">10000</span><span class="op" id="3036744">;</span>&nbsp;<span class="ident" id="3036746">i</span><span class="op" id="3036747">++</span>&nbsp;<span class="op" id="3036750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3036754">name</span>&nbsp;<span class="op" id="3036759">:=</span>&nbsp;<span class="ident" id="3036762">filepath</span><span class="op" id="3036770">.</span><span class="ident" id="3036771">Join</span><span class="op" id="3036775">(</span><span class="ident" id="3036776">dir</span><span class="op" id="3036779">,</span>&nbsp;<span class="ident" id="3036781">prefix</span><span class="op" id="3036787">+</span><span class="ident" id="3036788">nextSuffix</span><span class="op" id="3036798">(</span><span class="op" id="3036799">)</span><span class="op" id="3036800">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3036804">f</span><span class="op" id="3036805">,</span>&nbsp;<span class="ident" id="3036807">err</span>&nbsp;<span class="op" id="3036811">=</span>&nbsp;<span class="ident" id="3036813">os</span><span class="op" id="3036815">.</span><span class="ident" id="3036816">OpenFile</span><span class="op" id="3036824">(</span><span class="ident" id="3036825">name</span><span class="op" id="3036829">,</span>&nbsp;<span class="ident" id="3036831">os</span><span class="op" id="3036833">.</span><span class="ident" id="3036834">O_RDWR</span><span class="op" id="3036840">|</span><span class="ident" id="3036841">os</span><span class="op" id="3036843">.</span><span class="ident" id="3036844">O_CREATE</span><span class="op" id="3036852">|</span><span class="ident" id="3036853">os</span><span class="op" id="3036855">.</span><span class="ident" id="3036856">O_EXCL</span><span class="op" id="3036862">,</span>&nbsp;<span class="num" id="3036864">0600</span><span class="op" id="3036868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036872">if</span>&nbsp;<span class="ident" id="3036875">os</span><span class="op" id="3036877">.</span><span class="ident" id="3036878">IsExist</span><span class="op" id="3036885">(</span><span class="ident" id="3036886">err</span><span class="op" id="3036889">)</span>&nbsp;<span class="op" id="3036891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036896">if</span>&nbsp;<span class="ident" id="3036899">nconflict</span><span class="op" id="3036908">++</span><span class="op" id="3036910">;</span>&nbsp;<span class="ident" id="3036912">nconflict</span>&nbsp;<span class="op" id="3036922">&gt;</span>&nbsp;<span class="num" id="3036924">10</span>&nbsp;<span class="op" id="3036927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3036933">rand</span>&nbsp;<span class="op" id="3036938">=</span>&nbsp;<span class="ident" id="3036940">reseed</span><span class="op" id="3036946">(</span><span class="op" id="3036947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3036952">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036957">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3036968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036972">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3036979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3036982">return</span><br>
<span class="lineno">65</span><span class="op" id="3036989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3036992">//&nbsp;TempDir&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;directory&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3037058">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;and&nbsp;returns&nbsp;the&nbsp;path&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3037123">//&nbsp;new&nbsp;directory.&nbsp;&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempDir&nbsp;uses&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="3037187">//&nbsp;default&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3037246">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempDir&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3037298">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;directory.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3037372">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;directory&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3037422">func</span>&nbsp;<span class="ident" id="3037427">TempDir</span><span class="op" id="3037434">(</span><span class="ident" id="3037435">dir</span><span class="op" id="3037438">,</span>&nbsp;<span class="ident" id="3037440">prefix</span>&nbsp;<span class="builtintype" id="3037447">string</span><span class="op" id="3037453">)</span>&nbsp;<span class="op" id="3037455">(</span><span class="ident" id="3037456">name</span>&nbsp;<span class="builtintype" id="3037461">string</span><span class="op" id="3037467">,</span>&nbsp;<span class="ident" id="3037469">err</span>&nbsp;<span class="builtintype" id="3037473">error</span><span class="op" id="3037478">)</span>&nbsp;<span class="op" id="3037480">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037483">if</span>&nbsp;<span class="ident" id="3037486">dir</span>&nbsp;<span class="op" id="3037490">==</span>&nbsp;<span class="string" id="3037493">&#34;&#34;</span>&nbsp;<span class="op" id="3037496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3037500">dir</span>&nbsp;<span class="op" id="3037504">=</span>&nbsp;<span class="ident" id="3037506">os</span><span class="op" id="3037508">.</span><span class="ident" id="3037509">TempDir</span><span class="op" id="3037516">(</span><span class="op" id="3037517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3037520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3037524">nconflict</span>&nbsp;<span class="op" id="3037534">:=</span>&nbsp;<span class="num" id="3037537">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037540">for</span>&nbsp;<span class="ident" id="3037544">i</span>&nbsp;<span class="op" id="3037546">:=</span>&nbsp;<span class="num" id="3037549">0</span><span class="op" id="3037550">;</span>&nbsp;<span class="ident" id="3037552">i</span>&nbsp;<span class="op" id="3037554">&lt;</span>&nbsp;<span class="num" id="3037556">10000</span><span class="op" id="3037561">;</span>&nbsp;<span class="ident" id="3037563">i</span><span class="op" id="3037564">++</span>&nbsp;<span class="op" id="3037567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3037571">try</span>&nbsp;<span class="op" id="3037575">:=</span>&nbsp;<span class="ident" id="3037578">filepath</span><span class="op" id="3037586">.</span><span class="ident" id="3037587">Join</span><span class="op" id="3037591">(</span><span class="ident" id="3037592">dir</span><span class="op" id="3037595">,</span>&nbsp;<span class="ident" id="3037597">prefix</span><span class="op" id="3037603">+</span><span class="ident" id="3037604">nextSuffix</span><span class="op" id="3037614">(</span><span class="op" id="3037615">)</span><span class="op" id="3037616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3037620">err</span>&nbsp;<span class="op" id="3037624">=</span>&nbsp;<span class="ident" id="3037626">os</span><span class="op" id="3037628">.</span><span class="ident" id="3037629">Mkdir</span><span class="op" id="3037634">(</span><span class="ident" id="3037635">try</span><span class="op" id="3037638">,</span>&nbsp;<span class="num" id="3037640">0700</span><span class="op" id="3037644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037648">if</span>&nbsp;<span class="ident" id="3037651">os</span><span class="op" id="3037653">.</span><span class="ident" id="3037654">IsExist</span><span class="op" id="3037661">(</span><span class="ident" id="3037662">err</span><span class="op" id="3037665">)</span>&nbsp;<span class="op" id="3037667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037672">if</span>&nbsp;<span class="ident" id="3037675">nconflict</span><span class="op" id="3037684">++</span><span class="op" id="3037686">;</span>&nbsp;<span class="ident" id="3037688">nconflict</span>&nbsp;<span class="op" id="3037698">&gt;</span>&nbsp;<span class="num" id="3037700">10</span>&nbsp;<span class="op" id="3037703">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3037709">rand</span>&nbsp;<span class="op" id="3037714">=</span>&nbsp;<span class="ident" id="3037716">reseed</span><span class="op" id="3037722">(</span><span class="op" id="3037723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3037728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037733">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3037744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037748">if</span>&nbsp;<span class="ident" id="3037751">err</span>&nbsp;<span class="op" id="3037755">==</span>&nbsp;<span class="ident" id="3037758">nil</span>&nbsp;<span class="op" id="3037762">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3037767">name</span>&nbsp;<span class="op" id="3037772">=</span>&nbsp;<span class="ident" id="3037774">try</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3037780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037784">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3037791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3037794">return</span><br>
<span class="lineno">95</span><span class="op" id="3037801">}</span>
</div>
</body>
</html>
