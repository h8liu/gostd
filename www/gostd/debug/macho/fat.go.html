<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4324672">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4324728">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4324782">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4324833">package</span>&nbsp;<span class="ident" id="4324841">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4324848">import</span>&nbsp;<span class="op" id="4324855">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4324858">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4324877">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4324884">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4324890">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="4324895">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4324898">//&nbsp;A&nbsp;FatFile&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;universal&nbsp;binary&nbsp;that&nbsp;contains&nbsp;at&nbsp;least&nbsp;one&nbsp;architecture.</span><br>
<span class="lineno">15</span><span class="keyword" id="4324981">type</span>&nbsp;<span class="ident" id="4324986">FatFile</span>&nbsp;<span class="keyword" id="4324994">struct</span>&nbsp;<span class="op" id="4325001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325004">Magic</span>&nbsp;&nbsp;<span class="builtintype" id="4325011">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325019">Arches</span>&nbsp;<span class="op" id="4325026">[</span><span class="op" id="4325027">]</span><span class="ident" id="4325028">FatArch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325037">closer</span>&nbsp;<span class="ident" id="4325044">io</span><span class="op" id="4325046">.</span><span class="ident" id="4325047">Closer</span><br>
<span class="lineno"></span><span class="op" id="4325054">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="4325057">//&nbsp;A&nbsp;FatArchHeader&nbsp;represents&nbsp;a&nbsp;fat&nbsp;header&nbsp;for&nbsp;a&nbsp;specific&nbsp;image&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="keyword" id="4325135">type</span>&nbsp;<span class="ident" id="4325140">FatArchHeader</span>&nbsp;<span class="keyword" id="4325154">struct</span>&nbsp;<span class="op" id="4325161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325164">Cpu</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4325171">Cpu</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325176">SubCpu</span>&nbsp;<span class="builtintype" id="4325183">uint32</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325191">Offset</span>&nbsp;<span class="builtintype" id="4325198">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325206">Size</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4325213">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325221">Align</span>&nbsp;&nbsp;<span class="builtintype" id="4325228">uint32</span><br>
<span class="lineno"></span><span class="op" id="4325235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="4325238">const</span>&nbsp;<span class="ident" id="4325244">fatArchHeaderSize</span>&nbsp;<span class="op" id="4325262">=</span>&nbsp;<span class="num" id="4325264">5</span>&nbsp;<span class="op" id="4325266">*</span>&nbsp;<span class="num" id="4325268">4</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4325271">//&nbsp;A&nbsp;FatArch&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;File&nbsp;inside&nbsp;a&nbsp;FatFile.</span><br>
<span class="lineno"></span><span class="keyword" id="4325319">type</span>&nbsp;<span class="ident" id="4325324">FatArch</span>&nbsp;<span class="keyword" id="4325332">struct</span>&nbsp;<span class="op" id="4325339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325342">FatArchHeader</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4325357">*</span><span class="ident" id="4325358">File</span><br>
<span class="lineno"></span><span class="op" id="4325363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4325366">//&nbsp;ErrNotFat&nbsp;is&nbsp;returned&nbsp;from&nbsp;NewFatFile&nbsp;or&nbsp;OpenFat&nbsp;when&nbsp;the&nbsp;file&nbsp;is&nbsp;not&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4325441">//&nbsp;universal&nbsp;binary&nbsp;but&nbsp;may&nbsp;be&nbsp;a&nbsp;thin&nbsp;binary,&nbsp;based&nbsp;on&nbsp;its&nbsp;magic&nbsp;number.</span><br>
<span class="lineno">40</span><span class="keyword" id="4325514">var</span>&nbsp;<span class="ident" id="4325518">ErrNotFat</span>&nbsp;<span class="op" id="4325528">=</span>&nbsp;<span class="op" id="4325530">&amp;</span><span class="ident" id="4325531">FormatError</span><span class="op" id="4325542">{</span><span class="num" id="4325543">0</span><span class="op" id="4325544">,</span>&nbsp;<span class="string" id="4325546">&#34;not&nbsp;a&nbsp;fat&nbsp;Mach-O&nbsp;file&#34;</span><span class="op" id="4325569">,</span>&nbsp;<span class="ident" id="4325571">nil</span><span class="op" id="4325574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4325577">//&nbsp;NewFatFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;FatFile&nbsp;for&nbsp;accessing&nbsp;all&nbsp;the&nbsp;Mach-O&nbsp;images&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4325654">//&nbsp;universal&nbsp;binary.&nbsp;The&nbsp;Mach-O&nbsp;binary&nbsp;is&nbsp;expected&nbsp;to&nbsp;start&nbsp;at&nbsp;position&nbsp;0&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4325731">//&nbsp;the&nbsp;ReaderAt.</span><br>
<span class="lineno">45</span><span class="keyword" id="4325748">func</span>&nbsp;<span class="ident" id="4325753">NewFatFile</span><span class="op" id="4325763">(</span><span class="ident" id="4325764">r</span>&nbsp;<span class="ident" id="4325766">io</span><span class="op" id="4325768">.</span><span class="ident" id="4325769">ReaderAt</span><span class="op" id="4325777">)</span>&nbsp;<span class="op" id="4325779">(</span><span class="op" id="4325780">*</span><span class="ident" id="4325781">FatFile</span><span class="op" id="4325788">,</span>&nbsp;<span class="builtintype" id="4325790">error</span><span class="op" id="4325795">)</span>&nbsp;<span class="op" id="4325797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4325800">var</span>&nbsp;<span class="ident" id="4325804">ff</span>&nbsp;<span class="ident" id="4325807">FatFile</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325816">sr</span>&nbsp;<span class="op" id="4325819">:=</span>&nbsp;<span class="ident" id="4325822">io</span><span class="op" id="4325824">.</span><span class="ident" id="4325825">NewSectionReader</span><span class="op" id="4325841">(</span><span class="ident" id="4325842">r</span><span class="op" id="4325843">,</span>&nbsp;<span class="num" id="4325845">0</span><span class="op" id="4325846">,</span>&nbsp;<span class="num" id="4325848">1</span><span class="op" id="4325849">&lt;&lt;</span><span class="num" id="4325851">63</span><span class="op" id="4325853">-</span><span class="num" id="4325854">1</span><span class="op" id="4325855">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4325859">//&nbsp;Read&nbsp;the&nbsp;fat_header&nbsp;struct,&nbsp;which&nbsp;is&nbsp;always&nbsp;in&nbsp;big&nbsp;endian.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4325922">//&nbsp;Start&nbsp;with&nbsp;the&nbsp;magic&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4325955">err</span>&nbsp;<span class="op" id="4325959">:=</span>&nbsp;<span class="ident" id="4325962">binary</span><span class="op" id="4325968">.</span><span class="ident" id="4325969">Read</span><span class="op" id="4325973">(</span><span class="ident" id="4325974">sr</span><span class="op" id="4325976">,</span>&nbsp;<span class="ident" id="4325978">binary</span><span class="op" id="4325984">.</span><span class="ident" id="4325985">BigEndian</span><span class="op" id="4325994">,</span>&nbsp;<span class="op" id="4325996">&amp;</span><span class="ident" id="4325997">ff</span><span class="op" id="4325999">.</span><span class="ident" id="4326000">Magic</span><span class="op" id="4326005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326008">if</span>&nbsp;<span class="ident" id="4326011">err</span>&nbsp;<span class="op" id="4326015">!=</span>&nbsp;<span class="ident" id="4326018">nil</span>&nbsp;<span class="op" id="4326022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326026">return</span>&nbsp;<span class="ident" id="4326033">nil</span><span class="op" id="4326036">,</span>&nbsp;<span class="op" id="4326038">&amp;</span><span class="ident" id="4326039">FormatError</span><span class="op" id="4326050">{</span><span class="num" id="4326051">0</span><span class="op" id="4326052">,</span>&nbsp;<span class="string" id="4326054">&#34;error&nbsp;reading&nbsp;magic&nbsp;number&#34;</span><span class="op" id="4326082">,</span>&nbsp;<span class="ident" id="4326084">nil</span><span class="op" id="4326087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326090">}</span>&nbsp;<span class="keyword" id="4326092">else</span>&nbsp;<span class="keyword" id="4326097">if</span>&nbsp;<span class="ident" id="4326100">ff</span><span class="op" id="4326102">.</span><span class="ident" id="4326103">Magic</span>&nbsp;<span class="op" id="4326109">!=</span>&nbsp;<span class="ident" id="4326112">MagicFat</span>&nbsp;<span class="op" id="4326121">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4326125">//&nbsp;See&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;file&nbsp;via&nbsp;its&nbsp;magic&nbsp;number.&nbsp;The&nbsp;magic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4326191">//&nbsp;must&nbsp;be&nbsp;converted&nbsp;to&nbsp;little&nbsp;endian&nbsp;first&nbsp;though.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326245">var</span>&nbsp;<span class="ident" id="4326249">buf</span>&nbsp;<span class="op" id="4326253">[</span><span class="num" id="4326254">4</span><span class="op" id="4326255">]</span><span class="builtintype" id="4326256">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326263">binary</span><span class="op" id="4326269">.</span><span class="ident" id="4326270">BigEndian</span><span class="op" id="4326279">.</span><span class="ident" id="4326280">PutUint32</span><span class="op" id="4326289">(</span><span class="ident" id="4326290">buf</span><span class="op" id="4326293">[</span><span class="op" id="4326294">:</span><span class="op" id="4326295">]</span><span class="op" id="4326296">,</span>&nbsp;<span class="ident" id="4326298">ff</span><span class="op" id="4326300">.</span><span class="ident" id="4326301">Magic</span><span class="op" id="4326306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326310">leMagic</span>&nbsp;<span class="op" id="4326318">:=</span>&nbsp;<span class="ident" id="4326321">binary</span><span class="op" id="4326327">.</span><span class="ident" id="4326328">LittleEndian</span><span class="op" id="4326340">.</span><span class="ident" id="4326341">Uint32</span><span class="op" id="4326347">(</span><span class="ident" id="4326348">buf</span><span class="op" id="4326351">[</span><span class="op" id="4326352">:</span><span class="op" id="4326353">]</span><span class="op" id="4326354">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326358">if</span>&nbsp;<span class="ident" id="4326361">leMagic</span>&nbsp;<span class="op" id="4326369">==</span>&nbsp;<span class="ident" id="4326372">Magic32</span>&nbsp;<span class="op" id="4326380">||</span>&nbsp;<span class="ident" id="4326383">leMagic</span>&nbsp;<span class="op" id="4326391">==</span>&nbsp;<span class="ident" id="4326394">Magic64</span>&nbsp;<span class="op" id="4326402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326407">return</span>&nbsp;<span class="ident" id="4326414">nil</span><span class="op" id="4326417">,</span>&nbsp;<span class="ident" id="4326419">ErrNotFat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326431">}</span>&nbsp;<span class="keyword" id="4326433">else</span>&nbsp;<span class="op" id="4326438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326443">return</span>&nbsp;<span class="ident" id="4326450">nil</span><span class="op" id="4326453">,</span>&nbsp;<span class="op" id="4326455">&amp;</span><span class="ident" id="4326456">FormatError</span><span class="op" id="4326467">{</span><span class="num" id="4326468">0</span><span class="op" id="4326469">,</span>&nbsp;<span class="string" id="4326471">&#34;invalid&nbsp;magic&nbsp;number&#34;</span><span class="op" id="4326493">,</span>&nbsp;<span class="ident" id="4326495">nil</span><span class="op" id="4326498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326502">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326508">offset</span>&nbsp;<span class="op" id="4326515">:=</span>&nbsp;<span class="ident" id="4326518">int64</span><span class="op" id="4326523">(</span><span class="num" id="4326524">4</span><span class="op" id="4326525">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4326529">//&nbsp;Read&nbsp;the&nbsp;number&nbsp;of&nbsp;FatArchHeaders&nbsp;that&nbsp;come&nbsp;after&nbsp;the&nbsp;fat_header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326599">var</span>&nbsp;<span class="ident" id="4326603">narch</span>&nbsp;<span class="builtintype" id="4326609">uint32</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326617">err</span>&nbsp;<span class="op" id="4326621">=</span>&nbsp;<span class="ident" id="4326623">binary</span><span class="op" id="4326629">.</span><span class="ident" id="4326630">Read</span><span class="op" id="4326634">(</span><span class="ident" id="4326635">sr</span><span class="op" id="4326637">,</span>&nbsp;<span class="ident" id="4326639">binary</span><span class="op" id="4326645">.</span><span class="ident" id="4326646">BigEndian</span><span class="op" id="4326655">,</span>&nbsp;<span class="op" id="4326657">&amp;</span><span class="ident" id="4326658">narch</span><span class="op" id="4326663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326666">if</span>&nbsp;<span class="ident" id="4326669">err</span>&nbsp;<span class="op" id="4326673">!=</span>&nbsp;<span class="ident" id="4326676">nil</span>&nbsp;<span class="op" id="4326680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326684">return</span>&nbsp;<span class="ident" id="4326691">nil</span><span class="op" id="4326694">,</span>&nbsp;<span class="op" id="4326696">&amp;</span><span class="ident" id="4326697">FormatError</span><span class="op" id="4326708">{</span><span class="ident" id="4326709">offset</span><span class="op" id="4326715">,</span>&nbsp;<span class="string" id="4326717">&#34;invalid&nbsp;fat_header&#34;</span><span class="op" id="4326737">,</span>&nbsp;<span class="ident" id="4326739">nil</span><span class="op" id="4326742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326748">offset</span>&nbsp;<span class="op" id="4326755">+=</span>&nbsp;<span class="num" id="4326758">4</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326762">if</span>&nbsp;<span class="ident" id="4326765">narch</span>&nbsp;<span class="op" id="4326771">&lt;</span>&nbsp;<span class="num" id="4326773">1</span>&nbsp;<span class="op" id="4326775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4326779">return</span>&nbsp;<span class="ident" id="4326786">nil</span><span class="op" id="4326789">,</span>&nbsp;<span class="op" id="4326791">&amp;</span><span class="ident" id="4326792">FormatError</span><span class="op" id="4326803">{</span><span class="ident" id="4326804">offset</span><span class="op" id="4326810">,</span>&nbsp;<span class="string" id="4326812">&#34;file&nbsp;contains&nbsp;no&nbsp;images&#34;</span><span class="op" id="4326837">,</span>&nbsp;<span class="ident" id="4326839">nil</span><span class="op" id="4326842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4326845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4326849">//&nbsp;Combine&nbsp;the&nbsp;Cpu&nbsp;and&nbsp;SubCpu&nbsp;(both&nbsp;uint32)&nbsp;into&nbsp;a&nbsp;uint64&nbsp;to&nbsp;make&nbsp;sure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4326921">//&nbsp;there&nbsp;are&nbsp;not&nbsp;duplicate&nbsp;architectures.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4326964">seenArches</span>&nbsp;<span class="op" id="4326975">:=</span>&nbsp;<span class="builtinfunc" id="4326978">make</span><span class="op" id="4326982">(</span><span class="keyword" id="4326983">map</span><span class="op" id="4326986">[</span><span class="ident" id="4326987">uint64</span><span class="op" id="4326993">]</span><span class="builtintype" id="4326994">bool</span><span class="op" id="4326998">,</span>&nbsp;<span class="ident" id="4327000">narch</span><span class="op" id="4327005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327008">//&nbsp;Make&nbsp;sure&nbsp;that&nbsp;all&nbsp;images&nbsp;are&nbsp;for&nbsp;the&nbsp;same&nbsp;MH_&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327065">var</span>&nbsp;<span class="ident" id="4327069">machoType</span>&nbsp;<span class="ident" id="4327079">Type</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327086">//&nbsp;Following&nbsp;the&nbsp;fat_header&nbsp;comes&nbsp;narch&nbsp;fat_arch&nbsp;structs&nbsp;that&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327155">//&nbsp;Mach-O&nbsp;images&nbsp;further&nbsp;in&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327194">ff</span><span class="op" id="4327196">.</span><span class="ident" id="4327197">Arches</span>&nbsp;<span class="op" id="4327204">=</span>&nbsp;<span class="builtinfunc" id="4327206">make</span><span class="op" id="4327210">(</span><span class="op" id="4327211">[</span><span class="op" id="4327212">]</span><span class="ident" id="4327213">FatArch</span><span class="op" id="4327220">,</span>&nbsp;<span class="ident" id="4327222">narch</span><span class="op" id="4327227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327230">for</span>&nbsp;<span class="ident" id="4327234">i</span>&nbsp;<span class="op" id="4327236">:=</span>&nbsp;<span class="builtintype" id="4327239">uint32</span><span class="op" id="4327245">(</span><span class="num" id="4327246">0</span><span class="op" id="4327247">)</span><span class="op" id="4327248">;</span>&nbsp;<span class="ident" id="4327250">i</span>&nbsp;<span class="op" id="4327252">&lt;</span>&nbsp;<span class="ident" id="4327254">narch</span><span class="op" id="4327259">;</span>&nbsp;<span class="ident" id="4327261">i</span><span class="op" id="4327262">++</span>&nbsp;<span class="op" id="4327265">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327269">fa</span>&nbsp;<span class="op" id="4327272">:=</span>&nbsp;<span class="op" id="4327275">&amp;</span><span class="ident" id="4327276">ff</span><span class="op" id="4327278">.</span><span class="ident" id="4327279">Arches</span><span class="op" id="4327285">[</span><span class="ident" id="4327286">i</span><span class="op" id="4327287">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327291">err</span>&nbsp;<span class="op" id="4327295">=</span>&nbsp;<span class="ident" id="4327297">binary</span><span class="op" id="4327303">.</span><span class="ident" id="4327304">Read</span><span class="op" id="4327308">(</span><span class="ident" id="4327309">sr</span><span class="op" id="4327311">,</span>&nbsp;<span class="ident" id="4327313">binary</span><span class="op" id="4327319">.</span><span class="ident" id="4327320">BigEndian</span><span class="op" id="4327329">,</span>&nbsp;<span class="op" id="4327331">&amp;</span><span class="ident" id="4327332">fa</span><span class="op" id="4327334">.</span><span class="ident" id="4327335">FatArchHeader</span><span class="op" id="4327348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327352">if</span>&nbsp;<span class="ident" id="4327355">err</span>&nbsp;<span class="op" id="4327359">!=</span>&nbsp;<span class="ident" id="4327362">nil</span>&nbsp;<span class="op" id="4327366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327371">return</span>&nbsp;<span class="ident" id="4327378">nil</span><span class="op" id="4327381">,</span>&nbsp;<span class="op" id="4327383">&amp;</span><span class="ident" id="4327384">FormatError</span><span class="op" id="4327395">{</span><span class="ident" id="4327396">offset</span><span class="op" id="4327402">,</span>&nbsp;<span class="string" id="4327404">&#34;invalid&nbsp;fat_arch&nbsp;header&#34;</span><span class="op" id="4327429">,</span>&nbsp;<span class="ident" id="4327431">nil</span><span class="op" id="4327434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4327438">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327442">offset</span>&nbsp;<span class="op" id="4327449">+=</span>&nbsp;<span class="ident" id="4327452">fatArchHeaderSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327473">fr</span>&nbsp;<span class="op" id="4327476">:=</span>&nbsp;<span class="ident" id="4327479">io</span><span class="op" id="4327481">.</span><span class="ident" id="4327482">NewSectionReader</span><span class="op" id="4327498">(</span><span class="ident" id="4327499">r</span><span class="op" id="4327500">,</span>&nbsp;<span class="ident" id="4327502">int64</span><span class="op" id="4327507">(</span><span class="ident" id="4327508">fa</span><span class="op" id="4327510">.</span><span class="ident" id="4327511">Offset</span><span class="op" id="4327517">)</span><span class="op" id="4327518">,</span>&nbsp;<span class="ident" id="4327520">int64</span><span class="op" id="4327525">(</span><span class="ident" id="4327526">fa</span><span class="op" id="4327528">.</span><span class="ident" id="4327529">Size</span><span class="op" id="4327533">)</span><span class="op" id="4327534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327538">fa</span><span class="op" id="4327540">.</span><span class="ident" id="4327541">File</span><span class="op" id="4327545">,</span>&nbsp;<span class="ident" id="4327547">err</span>&nbsp;<span class="op" id="4327551">=</span>&nbsp;<span class="ident" id="4327553">NewFile</span><span class="op" id="4327560">(</span><span class="ident" id="4327561">fr</span><span class="op" id="4327563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327567">if</span>&nbsp;<span class="ident" id="4327570">err</span>&nbsp;<span class="op" id="4327574">!=</span>&nbsp;<span class="ident" id="4327577">nil</span>&nbsp;<span class="op" id="4327581">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327586">return</span>&nbsp;<span class="ident" id="4327593">nil</span><span class="op" id="4327596">,</span>&nbsp;<span class="ident" id="4327598">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4327604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327609">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;architecture&nbsp;for&nbsp;this&nbsp;image&nbsp;is&nbsp;not&nbsp;duplicate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327674">seenArch</span>&nbsp;<span class="op" id="4327683">:=</span>&nbsp;<span class="op" id="4327686">(</span><span class="ident" id="4327687">uint64</span><span class="op" id="4327693">(</span><span class="ident" id="4327694">fa</span><span class="op" id="4327696">.</span><span class="ident" id="4327697">Cpu</span><span class="op" id="4327700">)</span>&nbsp;<span class="op" id="4327702">&lt;&lt;</span>&nbsp;<span class="num" id="4327705">32</span><span class="op" id="4327707">)</span>&nbsp;<span class="op" id="4327709">|</span>&nbsp;<span class="ident" id="4327711">uint64</span><span class="op" id="4327717">(</span><span class="ident" id="4327718">fa</span><span class="op" id="4327720">.</span><span class="ident" id="4327721">SubCpu</span><span class="op" id="4327727">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327731">if</span>&nbsp;<span class="ident" id="4327734">o</span><span class="op" id="4327735">,</span>&nbsp;<span class="ident" id="4327737">k</span>&nbsp;<span class="op" id="4327739">:=</span>&nbsp;<span class="ident" id="4327742">seenArches</span><span class="op" id="4327752">[</span><span class="ident" id="4327753">seenArch</span><span class="op" id="4327761">]</span><span class="op" id="4327762">;</span>&nbsp;<span class="ident" id="4327764">o</span>&nbsp;<span class="op" id="4327766">||</span>&nbsp;<span class="ident" id="4327769">k</span>&nbsp;<span class="op" id="4327771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327776">return</span>&nbsp;<span class="ident" id="4327783">nil</span><span class="op" id="4327786">,</span>&nbsp;<span class="op" id="4327788">&amp;</span><span class="ident" id="4327789">FormatError</span><span class="op" id="4327800">{</span><span class="ident" id="4327801">offset</span><span class="op" id="4327807">,</span>&nbsp;<span class="ident" id="4327809">fmt</span><span class="op" id="4327812">.</span><span class="ident" id="4327813">Sprintf</span><span class="op" id="4327820">(</span><span class="string" id="4327821">&#34;duplicate&nbsp;architecture&nbsp;cpu=%v,&nbsp;subcpu=%#x&#34;</span><span class="op" id="4327864">,</span>&nbsp;<span class="ident" id="4327866">fa</span><span class="op" id="4327868">.</span><span class="ident" id="4327869">Cpu</span><span class="op" id="4327872">,</span>&nbsp;<span class="ident" id="4327874">fa</span><span class="op" id="4327876">.</span><span class="ident" id="4327877">SubCpu</span><span class="op" id="4327883">)</span><span class="op" id="4327884">,</span>&nbsp;<span class="ident" id="4327886">nil</span><span class="op" id="4327889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4327893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4327897">seenArches</span><span class="op" id="4327907">[</span><span class="ident" id="4327908">seenArch</span><span class="op" id="4327916">]</span>&nbsp;<span class="op" id="4327918">=</span>&nbsp;<span class="builtintype" id="4327920">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4327928">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;Mach-O&nbsp;type&nbsp;matches&nbsp;that&nbsp;of&nbsp;the&nbsp;first&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4327992">if</span>&nbsp;<span class="ident" id="4327995">i</span>&nbsp;<span class="op" id="4327997">==</span>&nbsp;<span class="num" id="4328000">0</span>&nbsp;<span class="op" id="4328002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328007">machoType</span>&nbsp;<span class="op" id="4328017">=</span>&nbsp;<span class="ident" id="4328019">fa</span><span class="op" id="4328021">.</span><span class="ident" id="4328022">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328029">}</span>&nbsp;<span class="keyword" id="4328031">else</span>&nbsp;<span class="op" id="4328036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328041">if</span>&nbsp;<span class="ident" id="4328044">fa</span><span class="op" id="4328046">.</span><span class="ident" id="4328047">Type</span>&nbsp;<span class="op" id="4328052">!=</span>&nbsp;<span class="ident" id="4328055">machoType</span>&nbsp;<span class="op" id="4328065">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328071">return</span>&nbsp;<span class="ident" id="4328078">nil</span><span class="op" id="4328081">,</span>&nbsp;<span class="op" id="4328083">&amp;</span><span class="ident" id="4328084">FormatError</span><span class="op" id="4328095">{</span><span class="ident" id="4328096">offset</span><span class="op" id="4328102">,</span>&nbsp;<span class="ident" id="4328104">fmt</span><span class="op" id="4328107">.</span><span class="ident" id="4328108">Sprintf</span><span class="op" id="4328115">(</span><span class="string" id="4328116">&#34;Mach-O&nbsp;type&nbsp;for&nbsp;architecture&nbsp;#%d&nbsp;(type=%#x)&nbsp;does&nbsp;not&nbsp;match&nbsp;first&nbsp;(type=%#x)&#34;</span><span class="op" id="4328193">,</span>&nbsp;<span class="ident" id="4328195">i</span><span class="op" id="4328196">,</span>&nbsp;<span class="ident" id="4328198">fa</span><span class="op" id="4328200">.</span><span class="ident" id="4328201">Type</span><span class="op" id="4328205">,</span>&nbsp;<span class="ident" id="4328207">machoType</span><span class="op" id="4328216">)</span><span class="op" id="4328217">,</span>&nbsp;<span class="ident" id="4328219">nil</span><span class="op" id="4328222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328238">return</span>&nbsp;<span class="op" id="4328245">&amp;</span><span class="ident" id="4328246">ff</span><span class="op" id="4328248">,</span>&nbsp;<span class="ident" id="4328250">nil</span><br>
<span class="lineno"></span><span class="op" id="4328254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4328257">//&nbsp;OpenFat&nbsp;opens&nbsp;the&nbsp;named&nbsp;file&nbsp;using&nbsp;os.Open&nbsp;and&nbsp;prepares&nbsp;it&nbsp;for&nbsp;use&nbsp;as&nbsp;a&nbsp;Mach-O</span><br>
<span class="lineno"></span><span class="comment" id="4328339">//&nbsp;universal&nbsp;binary.</span><br>
<span class="lineno">125</span><span class="keyword" id="4328360">func</span>&nbsp;<span class="ident" id="4328365">OpenFat</span><span class="op" id="4328372">(</span><span class="ident" id="4328373">name</span>&nbsp;<span class="builtintype" id="4328378">string</span><span class="op" id="4328384">)</span>&nbsp;<span class="op" id="4328386">(</span><span class="ident" id="4328387">ff</span>&nbsp;<span class="op" id="4328390">*</span><span class="ident" id="4328391">FatFile</span><span class="op" id="4328398">,</span>&nbsp;<span class="ident" id="4328400">err</span>&nbsp;<span class="builtintype" id="4328404">error</span><span class="op" id="4328409">)</span>&nbsp;<span class="op" id="4328411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328414">f</span><span class="op" id="4328415">,</span>&nbsp;<span class="ident" id="4328417">err</span>&nbsp;<span class="op" id="4328421">:=</span>&nbsp;<span class="ident" id="4328424">os</span><span class="op" id="4328426">.</span><span class="ident" id="4328427">Open</span><span class="op" id="4328431">(</span><span class="ident" id="4328432">name</span><span class="op" id="4328436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328439">if</span>&nbsp;<span class="ident" id="4328442">err</span>&nbsp;<span class="op" id="4328446">!=</span>&nbsp;<span class="ident" id="4328449">nil</span>&nbsp;<span class="op" id="4328453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328457">return</span>&nbsp;<span class="ident" id="4328464">nil</span><span class="op" id="4328467">,</span>&nbsp;<span class="ident" id="4328469">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328474">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328477">ff</span><span class="op" id="4328479">,</span>&nbsp;<span class="ident" id="4328481">err</span>&nbsp;<span class="op" id="4328485">=</span>&nbsp;<span class="ident" id="4328487">NewFatFile</span><span class="op" id="4328497">(</span><span class="ident" id="4328498">f</span><span class="op" id="4328499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328502">if</span>&nbsp;<span class="ident" id="4328505">err</span>&nbsp;<span class="op" id="4328509">!=</span>&nbsp;<span class="ident" id="4328512">nil</span>&nbsp;<span class="op" id="4328516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328520">f</span><span class="op" id="4328521">.</span><span class="ident" id="4328522">Close</span><span class="op" id="4328527">(</span><span class="op" id="4328528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328532">return</span>&nbsp;<span class="ident" id="4328539">nil</span><span class="op" id="4328542">,</span>&nbsp;<span class="ident" id="4328544">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328549">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328552">ff</span><span class="op" id="4328554">.</span><span class="ident" id="4328555">closer</span>&nbsp;<span class="op" id="4328562">=</span>&nbsp;<span class="ident" id="4328564">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328567">return</span><br>
<span class="lineno"></span><span class="op" id="4328574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4328577">func</span>&nbsp;<span class="op" id="4328582">(</span><span class="ident" id="4328583">ff</span>&nbsp;<span class="op" id="4328586">*</span><span class="ident" id="4328587">FatFile</span><span class="op" id="4328594">)</span>&nbsp;<span class="ident" id="4328596">Close</span><span class="op" id="4328601">(</span><span class="op" id="4328602">)</span>&nbsp;<span class="builtintype" id="4328604">error</span>&nbsp;<span class="op" id="4328610">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328613">var</span>&nbsp;<span class="ident" id="4328617">err</span>&nbsp;<span class="builtintype" id="4328621">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328628">if</span>&nbsp;<span class="ident" id="4328631">ff</span><span class="op" id="4328633">.</span><span class="ident" id="4328634">closer</span>&nbsp;<span class="op" id="4328641">!=</span>&nbsp;<span class="ident" id="4328644">nil</span>&nbsp;<span class="op" id="4328648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328652">err</span>&nbsp;<span class="op" id="4328656">=</span>&nbsp;<span class="ident" id="4328658">ff</span><span class="op" id="4328660">.</span><span class="ident" id="4328661">closer</span><span class="op" id="4328667">.</span><span class="ident" id="4328668">Close</span><span class="op" id="4328673">(</span><span class="op" id="4328674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4328678">ff</span><span class="op" id="4328680">.</span><span class="ident" id="4328681">closer</span>&nbsp;<span class="op" id="4328688">=</span>&nbsp;<span class="ident" id="4328690">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4328695">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4328698">return</span>&nbsp;<span class="ident" id="4328705">err</span><br>
<span class="lineno"></span><span class="op" id="4328709">}</span>
</div>
</body>
</html>
