<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html" class="current">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3251734">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3251789">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3251843">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3251894">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3251954">package</span>&nbsp;<span class="ident" id="3251962">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3251972">import</span>&nbsp;<span class="op" id="3251979">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3251982">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3251989">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3252002">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="3252018">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3252021">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3252067">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="3252148">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="3252222">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="3252249">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="3252310">func</span>&nbsp;<span class="ident" id="3252315">Must</span><span class="op" id="3252319">(</span><span class="ident" id="3252320">t</span>&nbsp;<span class="op" id="3252322">*</span><span class="ident" id="3252323">Template</span><span class="op" id="3252331">,</span>&nbsp;<span class="ident" id="3252333">err</span>&nbsp;<span class="builtintype" id="3252337">error</span><span class="op" id="3252342">)</span>&nbsp;<span class="op" id="3252344">*</span><span class="ident" id="3252345">Template</span>&nbsp;<span class="op" id="3252354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3252357">if</span>&nbsp;<span class="ident" id="3252360">err</span>&nbsp;<span class="op" id="3252364">!=</span>&nbsp;<span class="ident" id="3252367">nil</span>&nbsp;<span class="op" id="3252371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3252375">panic</span><span class="op" id="3252380">(</span><span class="ident" id="3252381">err</span><span class="op" id="3252384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3252387">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3252390">return</span>&nbsp;<span class="ident" id="3252397">t</span><br>
<span class="lineno"></span><span class="op" id="3252399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3252402">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="3252480">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="3252559">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="3252632">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3252704">func</span>&nbsp;<span class="ident" id="3252709">ParseFiles</span><span class="op" id="3252719">(</span><span class="ident" id="3252720">filenames</span>&nbsp;<span class="op" id="3252730">...</span><span class="builtintype" id="3252733">string</span><span class="op" id="3252739">)</span>&nbsp;<span class="op" id="3252741">(</span><span class="op" id="3252742">*</span><span class="ident" id="3252743">Template</span><span class="op" id="3252751">,</span>&nbsp;<span class="builtintype" id="3252753">error</span><span class="op" id="3252758">)</span>&nbsp;<span class="op" id="3252760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3252763">return</span>&nbsp;<span class="ident" id="3252770">parseFiles</span><span class="op" id="3252780">(</span><span class="ident" id="3252781">nil</span><span class="op" id="3252784">,</span>&nbsp;<span class="ident" id="3252786">filenames</span><span class="op" id="3252795">...</span><span class="op" id="3252798">)</span><br>
<span class="lineno"></span><span class="op" id="3252800">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3252803">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3252884">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="3252958">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3253013">func</span>&nbsp;<span class="op" id="3253018">(</span><span class="ident" id="3253019">t</span>&nbsp;<span class="op" id="3253021">*</span><span class="ident" id="3253022">Template</span><span class="op" id="3253030">)</span>&nbsp;<span class="ident" id="3253032">ParseFiles</span><span class="op" id="3253042">(</span><span class="ident" id="3253043">filenames</span>&nbsp;<span class="op" id="3253053">...</span><span class="builtintype" id="3253056">string</span><span class="op" id="3253062">)</span>&nbsp;<span class="op" id="3253064">(</span><span class="op" id="3253065">*</span><span class="ident" id="3253066">Template</span><span class="op" id="3253074">,</span>&nbsp;<span class="builtintype" id="3253076">error</span><span class="op" id="3253081">)</span>&nbsp;<span class="op" id="3253083">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3253086">return</span>&nbsp;<span class="ident" id="3253093">parseFiles</span><span class="op" id="3253103">(</span><span class="ident" id="3253104">t</span><span class="op" id="3253105">,</span>&nbsp;<span class="ident" id="3253107">filenames</span><span class="op" id="3253116">...</span><span class="op" id="3253119">)</span><br>
<span class="lineno"></span><span class="op" id="3253121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3253124">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3253197">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="3253252">func</span>&nbsp;<span class="ident" id="3253257">parseFiles</span><span class="op" id="3253267">(</span><span class="ident" id="3253268">t</span>&nbsp;<span class="op" id="3253270">*</span><span class="ident" id="3253271">Template</span><span class="op" id="3253279">,</span>&nbsp;<span class="ident" id="3253281">filenames</span>&nbsp;<span class="op" id="3253291">...</span><span class="builtintype" id="3253294">string</span><span class="op" id="3253300">)</span>&nbsp;<span class="op" id="3253302">(</span><span class="op" id="3253303">*</span><span class="ident" id="3253304">Template</span><span class="op" id="3253312">,</span>&nbsp;<span class="builtintype" id="3253314">error</span><span class="op" id="3253319">)</span>&nbsp;<span class="op" id="3253321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3253324">if</span>&nbsp;<span class="builtinfunc" id="3253327">len</span><span class="op" id="3253330">(</span><span class="ident" id="3253331">filenames</span><span class="op" id="3253340">)</span>&nbsp;<span class="op" id="3253342">==</span>&nbsp;<span class="num" id="3253345">0</span>&nbsp;<span class="op" id="3253347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3253351">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3253397">return</span>&nbsp;<span class="ident" id="3253404">nil</span><span class="op" id="3253407">,</span>&nbsp;<span class="ident" id="3253409">fmt</span><span class="op" id="3253412">.</span><span class="ident" id="3253413">Errorf</span><span class="op" id="3253419">(</span><span class="string" id="3253420">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="3253468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3253471">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3253474">for</span>&nbsp;<span class="ident" id="3253478">_</span><span class="op" id="3253479">,</span>&nbsp;<span class="ident" id="3253481">filename</span>&nbsp;<span class="op" id="3253490">:=</span>&nbsp;<span class="keyword" id="3253493">range</span>&nbsp;<span class="ident" id="3253499">filenames</span>&nbsp;<span class="op" id="3253509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3253513">b</span><span class="op" id="3253514">,</span>&nbsp;<span class="ident" id="3253516">err</span>&nbsp;<span class="op" id="3253520">:=</span>&nbsp;<span class="ident" id="3253523">ioutil</span><span class="op" id="3253529">.</span><span class="ident" id="3253530">ReadFile</span><span class="op" id="3253538">(</span><span class="ident" id="3253539">filename</span><span class="op" id="3253547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3253551">if</span>&nbsp;<span class="ident" id="3253554">err</span>&nbsp;<span class="op" id="3253558">!=</span>&nbsp;<span class="ident" id="3253561">nil</span>&nbsp;<span class="op" id="3253565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3253570">return</span>&nbsp;<span class="ident" id="3253577">nil</span><span class="op" id="3253580">,</span>&nbsp;<span class="ident" id="3253582">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3253588">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3253592">s</span>&nbsp;<span class="op" id="3253594">:=</span>&nbsp;<span class="builtintype" id="3253597">string</span><span class="op" id="3253603">(</span><span class="ident" id="3253604">b</span><span class="op" id="3253605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3253609">name</span>&nbsp;<span class="op" id="3253614">:=</span>&nbsp;<span class="ident" id="3253617">filepath</span><span class="op" id="3253625">.</span><span class="ident" id="3253626">Base</span><span class="op" id="3253630">(</span><span class="ident" id="3253631">filename</span><span class="op" id="3253639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3253643">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3253708">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3253771">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3253841">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3253892">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3253946">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3254012">var</span>&nbsp;<span class="ident" id="3254016">tmpl</span>&nbsp;<span class="op" id="3254021">*</span><span class="ident" id="3254022">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3254033">if</span>&nbsp;<span class="ident" id="3254036">t</span>&nbsp;<span class="op" id="3254038">==</span>&nbsp;<span class="ident" id="3254041">nil</span>&nbsp;<span class="op" id="3254045">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3254050">t</span>&nbsp;<span class="op" id="3254052">=</span>&nbsp;<span class="ident" id="3254054">New</span><span class="op" id="3254057">(</span><span class="ident" id="3254058">name</span><span class="op" id="3254062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3254066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3254070">if</span>&nbsp;<span class="ident" id="3254073">name</span>&nbsp;<span class="op" id="3254078">==</span>&nbsp;<span class="ident" id="3254081">t</span><span class="op" id="3254082">.</span><span class="ident" id="3254083">Name</span><span class="op" id="3254087">(</span><span class="op" id="3254088">)</span>&nbsp;<span class="op" id="3254090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3254095">tmpl</span>&nbsp;<span class="op" id="3254100">=</span>&nbsp;<span class="ident" id="3254102">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3254106">}</span>&nbsp;<span class="keyword" id="3254108">else</span>&nbsp;<span class="op" id="3254113">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3254118">tmpl</span>&nbsp;<span class="op" id="3254123">=</span>&nbsp;<span class="ident" id="3254125">t</span><span class="op" id="3254126">.</span><span class="ident" id="3254127">New</span><span class="op" id="3254130">(</span><span class="ident" id="3254131">name</span><span class="op" id="3254135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3254139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3254143">_</span><span class="op" id="3254144">,</span>&nbsp;<span class="ident" id="3254146">err</span>&nbsp;<span class="op" id="3254150">=</span>&nbsp;<span class="ident" id="3254152">tmpl</span><span class="op" id="3254156">.</span><span class="ident" id="3254157">Parse</span><span class="op" id="3254162">(</span><span class="ident" id="3254163">s</span><span class="op" id="3254164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3254168">if</span>&nbsp;<span class="ident" id="3254171">err</span>&nbsp;<span class="op" id="3254175">!=</span>&nbsp;<span class="ident" id="3254178">nil</span>&nbsp;<span class="op" id="3254182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3254187">return</span>&nbsp;<span class="ident" id="3254194">nil</span><span class="op" id="3254197">,</span>&nbsp;<span class="ident" id="3254199">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3254205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3254208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3254211">return</span>&nbsp;<span class="ident" id="3254218">t</span><span class="op" id="3254219">,</span>&nbsp;<span class="ident" id="3254221">nil</span><br>
<span class="lineno"></span><span class="op" id="3254225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3254228">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3254309">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3254385">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3254461">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="3254534">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="3254595">func</span>&nbsp;<span class="ident" id="3254600">ParseGlob</span><span class="op" id="3254609">(</span><span class="ident" id="3254610">pattern</span>&nbsp;<span class="builtintype" id="3254618">string</span><span class="op" id="3254624">)</span>&nbsp;<span class="op" id="3254626">(</span><span class="op" id="3254627">*</span><span class="ident" id="3254628">Template</span><span class="op" id="3254636">,</span>&nbsp;<span class="builtintype" id="3254638">error</span><span class="op" id="3254643">)</span>&nbsp;<span class="op" id="3254645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3254648">return</span>&nbsp;<span class="ident" id="3254655">parseGlob</span><span class="op" id="3254664">(</span><span class="ident" id="3254665">nil</span><span class="op" id="3254668">,</span>&nbsp;<span class="ident" id="3254670">pattern</span><span class="op" id="3254677">)</span><br>
<span class="lineno"></span><span class="op" id="3254679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3254682">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3254758">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3254831">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3254908">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3254984">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="3254996">func</span>&nbsp;<span class="op" id="3255001">(</span><span class="ident" id="3255002">t</span>&nbsp;<span class="op" id="3255004">*</span><span class="ident" id="3255005">Template</span><span class="op" id="3255013">)</span>&nbsp;<span class="ident" id="3255015">ParseGlob</span><span class="op" id="3255024">(</span><span class="ident" id="3255025">pattern</span>&nbsp;<span class="builtintype" id="3255033">string</span><span class="op" id="3255039">)</span>&nbsp;<span class="op" id="3255041">(</span><span class="op" id="3255042">*</span><span class="ident" id="3255043">Template</span><span class="op" id="3255051">,</span>&nbsp;<span class="builtintype" id="3255053">error</span><span class="op" id="3255058">)</span>&nbsp;<span class="op" id="3255060">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3255063">return</span>&nbsp;<span class="ident" id="3255070">parseGlob</span><span class="op" id="3255079">(</span><span class="ident" id="3255080">t</span><span class="op" id="3255081">,</span>&nbsp;<span class="ident" id="3255083">pattern</span><span class="op" id="3255090">)</span><br>
<span class="lineno"></span><span class="op" id="3255092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3255095">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="3255168">func</span>&nbsp;<span class="ident" id="3255173">parseGlob</span><span class="op" id="3255182">(</span><span class="ident" id="3255183">t</span>&nbsp;<span class="op" id="3255185">*</span><span class="ident" id="3255186">Template</span><span class="op" id="3255194">,</span>&nbsp;<span class="ident" id="3255196">pattern</span>&nbsp;<span class="builtintype" id="3255204">string</span><span class="op" id="3255210">)</span>&nbsp;<span class="op" id="3255212">(</span><span class="op" id="3255213">*</span><span class="ident" id="3255214">Template</span><span class="op" id="3255222">,</span>&nbsp;<span class="builtintype" id="3255224">error</span><span class="op" id="3255229">)</span>&nbsp;<span class="op" id="3255231">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3255234">filenames</span><span class="op" id="3255243">,</span>&nbsp;<span class="ident" id="3255245">err</span>&nbsp;<span class="op" id="3255249">:=</span>&nbsp;<span class="ident" id="3255252">filepath</span><span class="op" id="3255260">.</span><span class="ident" id="3255261">Glob</span><span class="op" id="3255265">(</span><span class="ident" id="3255266">pattern</span><span class="op" id="3255273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3255276">if</span>&nbsp;<span class="ident" id="3255279">err</span>&nbsp;<span class="op" id="3255283">!=</span>&nbsp;<span class="ident" id="3255286">nil</span>&nbsp;<span class="op" id="3255290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3255294">return</span>&nbsp;<span class="ident" id="3255301">nil</span><span class="op" id="3255304">,</span>&nbsp;<span class="ident" id="3255306">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3255311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3255314">if</span>&nbsp;<span class="builtinfunc" id="3255317">len</span><span class="op" id="3255320">(</span><span class="ident" id="3255321">filenames</span><span class="op" id="3255330">)</span>&nbsp;<span class="op" id="3255332">==</span>&nbsp;<span class="num" id="3255335">0</span>&nbsp;<span class="op" id="3255337">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3255341">return</span>&nbsp;<span class="ident" id="3255348">nil</span><span class="op" id="3255351">,</span>&nbsp;<span class="ident" id="3255353">fmt</span><span class="op" id="3255356">.</span><span class="ident" id="3255357">Errorf</span><span class="op" id="3255363">(</span><span class="string" id="3255364">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="3255405">,</span>&nbsp;<span class="ident" id="3255407">pattern</span><span class="op" id="3255414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3255417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3255420">return</span>&nbsp;<span class="ident" id="3255427">parseFiles</span><span class="op" id="3255437">(</span><span class="ident" id="3255438">t</span><span class="op" id="3255439">,</span>&nbsp;<span class="ident" id="3255441">filenames</span><span class="op" id="3255450">...</span><span class="op" id="3255453">)</span><br>
<span class="lineno"></span><span class="op" id="3255455">}</span>
</div>
</body>
</html>
