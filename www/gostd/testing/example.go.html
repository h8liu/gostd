<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>testing</h2>
<ul>
<li><a href="/gostd/testing/allocs.go.html">allocs.go</a></li>
<li><a href="/gostd/testing/allocs_test.go.html">allocs_test.go</a></li>
<li><a href="/gostd/testing/benchmark.go.html">benchmark.go</a></li>
<li><a href="/gostd/testing/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/testing/cover.go.html">cover.go</a></li>
<li><a href="/gostd/testing/example.go.html">example.go</a></li>
<li><a href="/gostd/testing/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/testing/testing.go.html">testing.go</a></li>
<li><a href="/gostd/testing/testing_test.go.html">testing_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5959786">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5959841">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5959895">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5959946">package</span>&nbsp;<span class="ident" id="5959954">testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5959963">import</span>&nbsp;<span class="op" id="5959970">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5959973">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5959982">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5959989">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5959995">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5960001">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5960012">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="5960019">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="5960022">type</span>&nbsp;<span class="ident" id="5960027">InternalExample</span>&nbsp;<span class="keyword" id="5960043">struct</span>&nbsp;<span class="op" id="5960050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960053">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5960060">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960068">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5960075">func</span><span class="op" id="5960079">(</span><span class="op" id="5960080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960083">Output</span>&nbsp;<span class="builtintype" id="5960090">string</span><br>
<span class="lineno">20</span><span class="op" id="5960097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960100">func</span>&nbsp;<span class="ident" id="5960105">RunExamples</span><span class="op" id="5960116">(</span><span class="ident" id="5960117">matchString</span>&nbsp;<span class="keyword" id="5960129">func</span><span class="op" id="5960133">(</span><span class="ident" id="5960134">pat</span><span class="op" id="5960137">,</span>&nbsp;<span class="ident" id="5960139">str</span>&nbsp;<span class="builtintype" id="5960143">string</span><span class="op" id="5960149">)</span>&nbsp;<span class="op" id="5960151">(</span><span class="builtintype" id="5960152">bool</span><span class="op" id="5960156">,</span>&nbsp;<span class="builtintype" id="5960158">error</span><span class="op" id="5960163">)</span><span class="op" id="5960164">,</span>&nbsp;<span class="ident" id="5960166">examples</span>&nbsp;<span class="op" id="5960175">[</span><span class="op" id="5960176">]</span><span class="ident" id="5960177">InternalExample</span><span class="op" id="5960192">)</span>&nbsp;<span class="op" id="5960194">(</span><span class="ident" id="5960195">ok</span>&nbsp;<span class="builtintype" id="5960198">bool</span><span class="op" id="5960202">)</span>&nbsp;<span class="op" id="5960204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960207">ok</span>&nbsp;<span class="op" id="5960210">=</span>&nbsp;<span class="builtintype" id="5960212">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960219">var</span>&nbsp;<span class="ident" id="5960223">eg</span>&nbsp;<span class="ident" id="5960226">InternalExample</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960244">for</span>&nbsp;<span class="ident" id="5960248">_</span><span class="op" id="5960249">,</span>&nbsp;<span class="ident" id="5960251">eg</span>&nbsp;<span class="op" id="5960254">=</span>&nbsp;<span class="keyword" id="5960256">range</span>&nbsp;<span class="ident" id="5960262">examples</span>&nbsp;<span class="op" id="5960271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960275">matched</span><span class="op" id="5960282">,</span>&nbsp;<span class="ident" id="5960284">err</span>&nbsp;<span class="op" id="5960288">:=</span>&nbsp;<span class="ident" id="5960291">matchString</span><span class="op" id="5960302">(</span><span class="op" id="5960303">*</span><span class="ident" id="5960304">match</span><span class="op" id="5960309">,</span>&nbsp;<span class="ident" id="5960311">eg</span><span class="op" id="5960313">.</span><span class="ident" id="5960314">Name</span><span class="op" id="5960318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960322">if</span>&nbsp;<span class="ident" id="5960325">err</span>&nbsp;<span class="op" id="5960329">!=</span>&nbsp;<span class="ident" id="5960332">nil</span>&nbsp;<span class="op" id="5960336">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960341">fmt</span><span class="op" id="5960344">.</span><span class="ident" id="5960345">Fprintf</span><span class="op" id="5960352">(</span><span class="ident" id="5960353">os</span><span class="op" id="5960355">.</span><span class="ident" id="5960356">Stderr</span><span class="op" id="5960362">,</span>&nbsp;<span class="string" id="5960364">&#34;testing:&nbsp;invalid&nbsp;regexp&nbsp;for&nbsp;-test.run:&nbsp;%s\n&#34;</span><span class="op" id="5960409">,</span>&nbsp;<span class="ident" id="5960411">err</span><span class="op" id="5960414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960419">os</span><span class="op" id="5960421">.</span><span class="ident" id="5960422">Exit</span><span class="op" id="5960426">(</span><span class="num" id="5960427">1</span><span class="op" id="5960428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960436">if</span>&nbsp;<span class="op" id="5960439">!</span><span class="ident" id="5960440">matched</span>&nbsp;<span class="op" id="5960448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960453">continue</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960468">if</span>&nbsp;<span class="op" id="5960471">!</span><span class="ident" id="5960472">runExample</span><span class="op" id="5960482">(</span><span class="ident" id="5960483">eg</span><span class="op" id="5960485">)</span>&nbsp;<span class="op" id="5960487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960492">ok</span>&nbsp;<span class="op" id="5960495">=</span>&nbsp;<span class="builtintype" id="5960497">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960508">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960512">return</span><br>
<span class="lineno"></span><span class="op" id="5960519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960522">func</span>&nbsp;<span class="ident" id="5960527">runExample</span><span class="op" id="5960537">(</span><span class="ident" id="5960538">eg</span>&nbsp;<span class="ident" id="5960541">InternalExample</span><span class="op" id="5960556">)</span>&nbsp;<span class="op" id="5960558">(</span><span class="ident" id="5960559">ok</span>&nbsp;<span class="builtintype" id="5960562">bool</span><span class="op" id="5960566">)</span>&nbsp;<span class="op" id="5960568">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960571">if</span>&nbsp;<span class="op" id="5960574">*</span><span class="ident" id="5960575">chatty</span>&nbsp;<span class="op" id="5960582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960586">fmt</span><span class="op" id="5960589">.</span><span class="ident" id="5960590">Printf</span><span class="op" id="5960596">(</span><span class="string" id="5960597">&#34;===&nbsp;RUN:&nbsp;%s\n&#34;</span><span class="op" id="5960612">,</span>&nbsp;<span class="ident" id="5960614">eg</span><span class="op" id="5960616">.</span><span class="ident" id="5960617">Name</span><span class="op" id="5960621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5960628">//&nbsp;Capture&nbsp;stdout.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960648">stdout</span>&nbsp;<span class="op" id="5960655">:=</span>&nbsp;<span class="ident" id="5960658">os</span><span class="op" id="5960660">.</span><span class="ident" id="5960661">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960669">r</span><span class="op" id="5960670">,</span>&nbsp;<span class="ident" id="5960672">w</span><span class="op" id="5960673">,</span>&nbsp;<span class="ident" id="5960675">err</span>&nbsp;<span class="op" id="5960679">:=</span>&nbsp;<span class="ident" id="5960682">os</span><span class="op" id="5960684">.</span><span class="ident" id="5960685">Pipe</span><span class="op" id="5960689">(</span><span class="op" id="5960690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960693">if</span>&nbsp;<span class="ident" id="5960696">err</span>&nbsp;<span class="op" id="5960700">!=</span>&nbsp;<span class="ident" id="5960703">nil</span>&nbsp;<span class="op" id="5960707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960711">fmt</span><span class="op" id="5960714">.</span><span class="ident" id="5960715">Fprintln</span><span class="op" id="5960723">(</span><span class="ident" id="5960724">os</span><span class="op" id="5960726">.</span><span class="ident" id="5960727">Stderr</span><span class="op" id="5960733">,</span>&nbsp;<span class="ident" id="5960735">err</span><span class="op" id="5960738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960742">os</span><span class="op" id="5960744">.</span><span class="ident" id="5960745">Exit</span><span class="op" id="5960749">(</span><span class="num" id="5960750">1</span><span class="op" id="5960751">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960757">os</span><span class="op" id="5960759">.</span><span class="ident" id="5960760">Stdout</span>&nbsp;<span class="op" id="5960767">=</span>&nbsp;<span class="ident" id="5960769">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960772">outC</span>&nbsp;<span class="op" id="5960777">:=</span>&nbsp;<span class="builtinfunc" id="5960780">make</span><span class="op" id="5960784">(</span><span class="keyword" id="5960785">chan</span>&nbsp;<span class="builtintype" id="5960790">string</span><span class="op" id="5960796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960799">go</span>&nbsp;<span class="keyword" id="5960802">func</span><span class="op" id="5960806">(</span><span class="op" id="5960807">)</span>&nbsp;<span class="op" id="5960809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960813">buf</span>&nbsp;<span class="op" id="5960817">:=</span>&nbsp;<span class="builtinfunc" id="5960820">new</span><span class="op" id="5960823">(</span><span class="ident" id="5960824">bytes</span><span class="op" id="5960829">.</span><span class="ident" id="5960830">Buffer</span><span class="op" id="5960836">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960840">_</span><span class="op" id="5960841">,</span>&nbsp;<span class="ident" id="5960843">err</span>&nbsp;<span class="op" id="5960847">:=</span>&nbsp;<span class="ident" id="5960850">io</span><span class="op" id="5960852">.</span><span class="ident" id="5960853">Copy</span><span class="op" id="5960857">(</span><span class="ident" id="5960858">buf</span><span class="op" id="5960861">,</span>&nbsp;<span class="ident" id="5960863">r</span><span class="op" id="5960864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960868">r</span><span class="op" id="5960869">.</span><span class="ident" id="5960870">Close</span><span class="op" id="5960875">(</span><span class="op" id="5960876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5960880">if</span>&nbsp;<span class="ident" id="5960883">err</span>&nbsp;<span class="op" id="5960887">!=</span>&nbsp;<span class="ident" id="5960890">nil</span>&nbsp;<span class="op" id="5960894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960899">fmt</span><span class="op" id="5960902">.</span><span class="ident" id="5960903">Fprintf</span><span class="op" id="5960910">(</span><span class="ident" id="5960911">os</span><span class="op" id="5960913">.</span><span class="ident" id="5960914">Stderr</span><span class="op" id="5960920">,</span>&nbsp;<span class="string" id="5960922">&#34;testing:&nbsp;copying&nbsp;pipe:&nbsp;%v\n&#34;</span><span class="op" id="5960951">,</span>&nbsp;<span class="ident" id="5960953">err</span><span class="op" id="5960956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960961">os</span><span class="op" id="5960963">.</span><span class="ident" id="5960964">Exit</span><span class="op" id="5960968">(</span><span class="num" id="5960969">1</span><span class="op" id="5960970">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5960974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5960978">outC</span>&nbsp;<span class="op" id="5960983">&lt;-</span>&nbsp;<span class="ident" id="5960986">buf</span><span class="op" id="5960989">.</span><span class="ident" id="5960990">String</span><span class="op" id="5960996">(</span><span class="op" id="5960997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961000">}</span><span class="op" id="5961001">(</span><span class="op" id="5961002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961006">start</span>&nbsp;<span class="op" id="5961012">:=</span>&nbsp;<span class="ident" id="5961015">time</span><span class="op" id="5961019">.</span><span class="ident" id="5961020">Now</span><span class="op" id="5961023">(</span><span class="op" id="5961024">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961027">ok</span>&nbsp;<span class="op" id="5961030">=</span>&nbsp;<span class="builtintype" id="5961032">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961039">//&nbsp;Clean&nbsp;up&nbsp;in&nbsp;a&nbsp;deferred&nbsp;call&nbsp;so&nbsp;we&nbsp;can&nbsp;recover&nbsp;if&nbsp;the&nbsp;example&nbsp;panics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961112">defer</span>&nbsp;<span class="keyword" id="5961118">func</span><span class="op" id="5961122">(</span><span class="op" id="5961123">)</span>&nbsp;<span class="op" id="5961125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961129">dstr</span>&nbsp;<span class="op" id="5961134">:=</span>&nbsp;<span class="ident" id="5961137">fmtDuration</span><span class="op" id="5961148">(</span><span class="ident" id="5961149">time</span><span class="op" id="5961153">.</span><span class="ident" id="5961154">Now</span><span class="op" id="5961157">(</span><span class="op" id="5961158">)</span><span class="op" id="5961159">.</span><span class="ident" id="5961160">Sub</span><span class="op" id="5961163">(</span><span class="ident" id="5961164">start</span><span class="op" id="5961169">)</span><span class="op" id="5961170">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961175">//&nbsp;Close&nbsp;pipe,&nbsp;restore&nbsp;stdout,&nbsp;get&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961220">w</span><span class="op" id="5961221">.</span><span class="ident" id="5961222">Close</span><span class="op" id="5961227">(</span><span class="op" id="5961228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961232">os</span><span class="op" id="5961234">.</span><span class="ident" id="5961235">Stdout</span>&nbsp;<span class="op" id="5961242">=</span>&nbsp;<span class="ident" id="5961244">stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961253">out</span>&nbsp;<span class="op" id="5961257">:=</span>&nbsp;<span class="op" id="5961260">&lt;-</span><span class="ident" id="5961262">outC</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961270">var</span>&nbsp;<span class="ident" id="5961274">fail</span>&nbsp;<span class="builtintype" id="5961279">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961288">err</span>&nbsp;<span class="op" id="5961292">:=</span>&nbsp;<span class="builtinfunc" id="5961295">recover</span><span class="op" id="5961302">(</span><span class="op" id="5961303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961307">if</span>&nbsp;<span class="ident" id="5961310">g</span><span class="op" id="5961311">,</span>&nbsp;<span class="ident" id="5961313">e</span>&nbsp;<span class="op" id="5961315">:=</span>&nbsp;<span class="ident" id="5961318">strings</span><span class="op" id="5961325">.</span><span class="ident" id="5961326">TrimSpace</span><span class="op" id="5961335">(</span><span class="ident" id="5961336">out</span><span class="op" id="5961339">)</span><span class="op" id="5961340">,</span>&nbsp;<span class="ident" id="5961342">strings</span><span class="op" id="5961349">.</span><span class="ident" id="5961350">TrimSpace</span><span class="op" id="5961359">(</span><span class="ident" id="5961360">eg</span><span class="op" id="5961362">.</span><span class="ident" id="5961363">Output</span><span class="op" id="5961369">)</span><span class="op" id="5961370">;</span>&nbsp;<span class="ident" id="5961372">g</span>&nbsp;<span class="op" id="5961374">!=</span>&nbsp;<span class="ident" id="5961377">e</span>&nbsp;<span class="op" id="5961379">&amp;&amp;</span>&nbsp;<span class="ident" id="5961382">err</span>&nbsp;<span class="op" id="5961386">==</span>&nbsp;<span class="ident" id="5961389">nil</span>&nbsp;<span class="op" id="5961393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961398">fail</span>&nbsp;<span class="op" id="5961403">=</span>&nbsp;<span class="ident" id="5961405">fmt</span><span class="op" id="5961408">.</span><span class="ident" id="5961409">Sprintf</span><span class="op" id="5961416">(</span><span class="string" id="5961417">&#34;got:\n%s\nwant:\n%s\n&#34;</span><span class="op" id="5961440">,</span>&nbsp;<span class="ident" id="5961442">g</span><span class="op" id="5961443">,</span>&nbsp;<span class="ident" id="5961445">e</span><span class="op" id="5961446">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961454">if</span>&nbsp;<span class="ident" id="5961457">fail</span>&nbsp;<span class="op" id="5961462">!=</span>&nbsp;<span class="string" id="5961465">&#34;&#34;</span>&nbsp;<span class="op" id="5961468">||</span>&nbsp;<span class="ident" id="5961471">err</span>&nbsp;<span class="op" id="5961475">!=</span>&nbsp;<span class="ident" id="5961478">nil</span>&nbsp;<span class="op" id="5961482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961487">fmt</span><span class="op" id="5961490">.</span><span class="ident" id="5961491">Printf</span><span class="op" id="5961497">(</span><span class="string" id="5961498">&#34;---&nbsp;FAIL:&nbsp;%s&nbsp;(%s)\n%s&#34;</span><span class="op" id="5961521">,</span>&nbsp;<span class="ident" id="5961523">eg</span><span class="op" id="5961525">.</span><span class="ident" id="5961526">Name</span><span class="op" id="5961530">,</span>&nbsp;<span class="ident" id="5961532">dstr</span><span class="op" id="5961536">,</span>&nbsp;<span class="ident" id="5961538">fail</span><span class="op" id="5961542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961547">ok</span>&nbsp;<span class="op" id="5961550">=</span>&nbsp;<span class="builtintype" id="5961552">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961560">}</span>&nbsp;<span class="keyword" id="5961562">else</span>&nbsp;<span class="keyword" id="5961567">if</span>&nbsp;<span class="op" id="5961570">*</span><span class="ident" id="5961571">chatty</span>&nbsp;<span class="op" id="5961578">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961583">fmt</span><span class="op" id="5961586">.</span><span class="ident" id="5961587">Printf</span><span class="op" id="5961593">(</span><span class="string" id="5961594">&#34;---&nbsp;PASS:&nbsp;%s&nbsp;(%s)\n&#34;</span><span class="op" id="5961615">,</span>&nbsp;<span class="ident" id="5961617">eg</span><span class="op" id="5961619">.</span><span class="ident" id="5961620">Name</span><span class="op" id="5961624">,</span>&nbsp;<span class="ident" id="5961626">dstr</span><span class="op" id="5961630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961638">if</span>&nbsp;<span class="ident" id="5961641">err</span>&nbsp;<span class="op" id="5961645">!=</span>&nbsp;<span class="ident" id="5961648">nil</span>&nbsp;<span class="op" id="5961652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5961657">panic</span><span class="op" id="5961662">(</span><span class="ident" id="5961663">err</span><span class="op" id="5961666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961670">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5961673">}</span><span class="op" id="5961674">(</span><span class="op" id="5961675">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5961679">//&nbsp;Run&nbsp;example.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5961696">eg</span><span class="op" id="5961698">.</span><span class="ident" id="5961699">F</span><span class="op" id="5961700">(</span><span class="op" id="5961701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5961704">return</span><br>
<span class="lineno">100</span><span class="op" id="5961711">}</span>
</div>
</body>
</html>
