<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6514278">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6514334">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6514388">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6514439">//&nbsp;Large&nbsp;data&nbsp;benchmark.</span><br>
<span class="lineno"></span><span class="comment" id="6514464">//&nbsp;The&nbsp;JSON&nbsp;data&nbsp;is&nbsp;a&nbsp;summary&nbsp;of&nbsp;agl&#39;s&nbsp;changes&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6514518">//&nbsp;go,&nbsp;webkit,&nbsp;and&nbsp;chromium&nbsp;open&nbsp;source&nbsp;projects.</span><br>
<span class="lineno"></span><span class="comment" id="6514568">//&nbsp;We&nbsp;benchmark&nbsp;converting&nbsp;between&nbsp;the&nbsp;JSON&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="6514617">//&nbsp;and&nbsp;in-memory&nbsp;data&nbsp;structures.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6514652">package</span>&nbsp;<span class="ident" id="6514660">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6514666">import</span>&nbsp;<span class="op" id="6514673">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6514676">&#34;bytes&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6514685">&#34;compress/gzip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6514702">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6514715">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6514721">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6514731">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6514734">type</span>&nbsp;<span class="ident" id="6514739">codeResponse</span>&nbsp;<span class="keyword" id="6514752">struct</span>&nbsp;<span class="op" id="6514759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6514762">Tree</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514771">*</span><span class="ident" id="6514772">codeNode</span>&nbsp;<span class="string" id="6514781">`json:&#34;tree&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6514796">Username</span>&nbsp;<span class="builtintype" id="6514805">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6514815">`json:&#34;username&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6514833">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6514836">type</span>&nbsp;<span class="ident" id="6514841">codeNode</span>&nbsp;<span class="keyword" id="6514850">struct</span>&nbsp;<span class="op" id="6514857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6514860">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6514869">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6514881">`json:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6514896">Kids</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6514905">[</span><span class="op" id="6514906">]</span><span class="op" id="6514907">*</span><span class="ident" id="6514908">codeNode</span>&nbsp;<span class="string" id="6514917">`json:&#34;kids&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6514932">CLWeight</span>&nbsp;<span class="builtintype" id="6514941">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6514953">`json:&#34;cl_weight&#34;`</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6514973">Touches</span>&nbsp;&nbsp;<span class="builtintype" id="6514982">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6514994">`json:&#34;touches&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6515012">MinT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6515021">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6515033">`json:&#34;min_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6515049">MaxT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6515058">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6515070">`json:&#34;max_t&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6515086">MeanT</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6515095">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6515107">`json:&#34;mean_t&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6515123">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6515126">var</span>&nbsp;<span class="ident" id="6515130">codeJSON</span>&nbsp;<span class="op" id="6515139">[</span><span class="op" id="6515140">]</span><span class="builtintype" id="6515141">byte</span><br>
<span class="lineno"></span><span class="keyword" id="6515146">var</span>&nbsp;<span class="ident" id="6515150">codeStruct</span>&nbsp;<span class="ident" id="6515161">codeResponse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6515175">func</span>&nbsp;<span class="ident" id="6515180">codeInit</span><span class="op" id="6515188">(</span><span class="op" id="6515189">)</span>&nbsp;<span class="op" id="6515191">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6515194">f</span><span class="op" id="6515195">,</span>&nbsp;<span class="ident" id="6515197">err</span>&nbsp;<span class="op" id="6515201">:=</span>&nbsp;<span class="ident" id="6515204">os</span><span class="op" id="6515206">.</span><span class="ident" id="6515207">Open</span><span class="op" id="6515211">(</span><span class="string" id="6515212">&#34;testdata/code.json.gz&#34;</span><span class="op" id="6515235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515238">if</span>&nbsp;<span class="ident" id="6515241">err</span>&nbsp;<span class="op" id="6515245">!=</span>&nbsp;<span class="ident" id="6515248">nil</span>&nbsp;<span class="op" id="6515252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515256">panic</span><span class="op" id="6515261">(</span><span class="ident" id="6515262">err</span><span class="op" id="6515265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6515268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515271">defer</span>&nbsp;<span class="ident" id="6515277">f</span><span class="op" id="6515278">.</span><span class="ident" id="6515279">Close</span><span class="op" id="6515284">(</span><span class="op" id="6515285">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6515288">gz</span><span class="op" id="6515290">,</span>&nbsp;<span class="ident" id="6515292">err</span>&nbsp;<span class="op" id="6515296">:=</span>&nbsp;<span class="ident" id="6515299">gzip</span><span class="op" id="6515303">.</span><span class="ident" id="6515304">NewReader</span><span class="op" id="6515313">(</span><span class="ident" id="6515314">f</span><span class="op" id="6515315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515318">if</span>&nbsp;<span class="ident" id="6515321">err</span>&nbsp;<span class="op" id="6515325">!=</span>&nbsp;<span class="ident" id="6515328">nil</span>&nbsp;<span class="op" id="6515332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515336">panic</span><span class="op" id="6515341">(</span><span class="ident" id="6515342">err</span><span class="op" id="6515345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6515348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6515351">data</span><span class="op" id="6515355">,</span>&nbsp;<span class="ident" id="6515357">err</span>&nbsp;<span class="op" id="6515361">:=</span>&nbsp;<span class="ident" id="6515364">ioutil</span><span class="op" id="6515370">.</span><span class="ident" id="6515371">ReadAll</span><span class="op" id="6515378">(</span><span class="ident" id="6515379">gz</span><span class="op" id="6515381">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515384">if</span>&nbsp;<span class="ident" id="6515387">err</span>&nbsp;<span class="op" id="6515391">!=</span>&nbsp;<span class="ident" id="6515394">nil</span>&nbsp;<span class="op" id="6515398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515402">panic</span><span class="op" id="6515407">(</span><span class="ident" id="6515408">err</span><span class="op" id="6515411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6515414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6515418">codeJSON</span>&nbsp;<span class="op" id="6515427">=</span>&nbsp;<span class="ident" id="6515429">data</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515436">if</span>&nbsp;<span class="ident" id="6515439">err</span>&nbsp;<span class="op" id="6515443">:=</span>&nbsp;<span class="ident" id="6515446">Unmarshal</span><span class="op" id="6515455">(</span><span class="ident" id="6515456">codeJSON</span><span class="op" id="6515464">,</span>&nbsp;<span class="op" id="6515466">&amp;</span><span class="ident" id="6515467">codeStruct</span><span class="op" id="6515477">)</span><span class="op" id="6515478">;</span>&nbsp;<span class="ident" id="6515480">err</span>&nbsp;<span class="op" id="6515484">!=</span>&nbsp;<span class="ident" id="6515487">nil</span>&nbsp;<span class="op" id="6515491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515495">panic</span><span class="op" id="6515500">(</span><span class="string" id="6515501">&#34;unmarshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="6515525">+</span>&nbsp;<span class="ident" id="6515527">err</span><span class="op" id="6515530">.</span><span class="ident" id="6515531">Error</span><span class="op" id="6515536">(</span><span class="op" id="6515537">)</span><span class="op" id="6515538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6515541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515545">if</span>&nbsp;<span class="ident" id="6515548">data</span><span class="op" id="6515552">,</span>&nbsp;<span class="ident" id="6515554">err</span>&nbsp;<span class="op" id="6515558">=</span>&nbsp;<span class="ident" id="6515560">Marshal</span><span class="op" id="6515567">(</span><span class="op" id="6515568">&amp;</span><span class="ident" id="6515569">codeStruct</span><span class="op" id="6515579">)</span><span class="op" id="6515580">;</span>&nbsp;<span class="ident" id="6515582">err</span>&nbsp;<span class="op" id="6515586">!=</span>&nbsp;<span class="ident" id="6515589">nil</span>&nbsp;<span class="op" id="6515593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515597">panic</span><span class="op" id="6515602">(</span><span class="string" id="6515603">&#34;marshal&nbsp;code.json:&nbsp;&#34;</span>&nbsp;<span class="op" id="6515625">+</span>&nbsp;<span class="ident" id="6515627">err</span><span class="op" id="6515630">.</span><span class="ident" id="6515631">Error</span><span class="op" id="6515636">(</span><span class="op" id="6515637">)</span><span class="op" id="6515638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6515641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515645">if</span>&nbsp;<span class="op" id="6515648">!</span><span class="ident" id="6515649">bytes</span><span class="op" id="6515654">.</span><span class="ident" id="6515655">Equal</span><span class="op" id="6515660">(</span><span class="ident" id="6515661">data</span><span class="op" id="6515665">,</span>&nbsp;<span class="ident" id="6515667">codeJSON</span><span class="op" id="6515675">)</span>&nbsp;<span class="op" id="6515677">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515681">println</span><span class="op" id="6515688">(</span><span class="string" id="6515689">&#34;different&nbsp;lengths&#34;</span><span class="op" id="6515708">,</span>&nbsp;<span class="builtinfunc" id="6515710">len</span><span class="op" id="6515713">(</span><span class="ident" id="6515714">data</span><span class="op" id="6515718">)</span><span class="op" id="6515719">,</span>&nbsp;<span class="builtinfunc" id="6515721">len</span><span class="op" id="6515724">(</span><span class="ident" id="6515725">codeJSON</span><span class="op" id="6515733">)</span><span class="op" id="6515734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515738">for</span>&nbsp;<span class="ident" id="6515742">i</span>&nbsp;<span class="op" id="6515744">:=</span>&nbsp;<span class="num" id="6515747">0</span><span class="op" id="6515748">;</span>&nbsp;<span class="ident" id="6515750">i</span>&nbsp;<span class="op" id="6515752">&lt;</span>&nbsp;<span class="builtinfunc" id="6515754">len</span><span class="op" id="6515757">(</span><span class="ident" id="6515758">data</span><span class="op" id="6515762">)</span>&nbsp;<span class="op" id="6515764">&amp;&amp;</span>&nbsp;<span class="ident" id="6515767">i</span>&nbsp;<span class="op" id="6515769">&lt;</span>&nbsp;<span class="builtinfunc" id="6515771">len</span><span class="op" id="6515774">(</span><span class="ident" id="6515775">codeJSON</span><span class="op" id="6515783">)</span><span class="op" id="6515784">;</span>&nbsp;<span class="ident" id="6515786">i</span><span class="op" id="6515787">++</span>&nbsp;<span class="op" id="6515790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515795">if</span>&nbsp;<span class="ident" id="6515798">data</span><span class="op" id="6515802">[</span><span class="ident" id="6515803">i</span><span class="op" id="6515804">]</span>&nbsp;<span class="op" id="6515806">!=</span>&nbsp;<span class="ident" id="6515809">codeJSON</span><span class="op" id="6515817">[</span><span class="ident" id="6515818">i</span><span class="op" id="6515819">]</span>&nbsp;<span class="op" id="6515821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515827">println</span><span class="op" id="6515834">(</span><span class="string" id="6515835">&#34;re-marshal:&nbsp;changed&nbsp;at&nbsp;byte&#34;</span><span class="op" id="6515864">,</span>&nbsp;<span class="ident" id="6515866">i</span><span class="op" id="6515867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515873">println</span><span class="op" id="6515880">(</span><span class="string" id="6515881">&#34;orig:&nbsp;&#34;</span><span class="op" id="6515889">,</span>&nbsp;<span class="builtintype" id="6515891">string</span><span class="op" id="6515897">(</span><span class="ident" id="6515898">codeJSON</span><span class="op" id="6515906">[</span><span class="ident" id="6515907">i</span><span class="op" id="6515908">-</span><span class="num" id="6515909">10</span><span class="op" id="6515911">:</span><span class="ident" id="6515912">i</span><span class="op" id="6515913">+</span><span class="num" id="6515914">10</span><span class="op" id="6515916">]</span><span class="op" id="6515917">)</span><span class="op" id="6515918">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515924">println</span><span class="op" id="6515931">(</span><span class="string" id="6515932">&#34;new:&nbsp;&#34;</span><span class="op" id="6515939">,</span>&nbsp;<span class="builtintype" id="6515941">string</span><span class="op" id="6515947">(</span><span class="ident" id="6515948">data</span><span class="op" id="6515952">[</span><span class="ident" id="6515953">i</span><span class="op" id="6515954">-</span><span class="num" id="6515955">10</span><span class="op" id="6515957">:</span><span class="ident" id="6515958">i</span><span class="op" id="6515959">+</span><span class="num" id="6515960">10</span><span class="op" id="6515962">]</span><span class="op" id="6515963">)</span><span class="op" id="6515964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6515970">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6515979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6515983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6515987">panic</span><span class="op" id="6515992">(</span><span class="string" id="6515993">&#34;re-marshal&nbsp;code.json:&nbsp;different&nbsp;result&#34;</span><span class="op" id="6516033">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516036">}</span><br>
<span class="lineno"></span><span class="op" id="6516038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6516041">func</span>&nbsp;<span class="ident" id="6516046">BenchmarkCodeEncoder</span><span class="op" id="6516066">(</span><span class="ident" id="6516067">b</span>&nbsp;<span class="op" id="6516069">*</span><span class="ident" id="6516070">testing</span><span class="op" id="6516077">.</span><span class="ident" id="6516078">B</span><span class="op" id="6516079">)</span>&nbsp;<span class="op" id="6516081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516084">if</span>&nbsp;<span class="ident" id="6516087">codeJSON</span>&nbsp;<span class="op" id="6516096">==</span>&nbsp;<span class="ident" id="6516099">nil</span>&nbsp;<span class="op" id="6516103">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516107">b</span><span class="op" id="6516108">.</span><span class="ident" id="6516109">StopTimer</span><span class="op" id="6516118">(</span><span class="op" id="6516119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516123">codeInit</span><span class="op" id="6516131">(</span><span class="op" id="6516132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516136">b</span><span class="op" id="6516137">.</span><span class="ident" id="6516138">StartTimer</span><span class="op" id="6516148">(</span><span class="op" id="6516149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516155">enc</span>&nbsp;<span class="op" id="6516159">:=</span>&nbsp;<span class="ident" id="6516162">NewEncoder</span><span class="op" id="6516172">(</span><span class="ident" id="6516173">ioutil</span><span class="op" id="6516179">.</span><span class="ident" id="6516180">Discard</span><span class="op" id="6516187">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516190">for</span>&nbsp;<span class="ident" id="6516194">i</span>&nbsp;<span class="op" id="6516196">:=</span>&nbsp;<span class="num" id="6516199">0</span><span class="op" id="6516200">;</span>&nbsp;<span class="ident" id="6516202">i</span>&nbsp;<span class="op" id="6516204">&lt;</span>&nbsp;<span class="ident" id="6516206">b</span><span class="op" id="6516207">.</span><span class="ident" id="6516208">N</span><span class="op" id="6516209">;</span>&nbsp;<span class="ident" id="6516211">i</span><span class="op" id="6516212">++</span>&nbsp;<span class="op" id="6516215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516219">if</span>&nbsp;<span class="ident" id="6516222">err</span>&nbsp;<span class="op" id="6516226">:=</span>&nbsp;<span class="ident" id="6516229">enc</span><span class="op" id="6516232">.</span><span class="ident" id="6516233">Encode</span><span class="op" id="6516239">(</span><span class="op" id="6516240">&amp;</span><span class="ident" id="6516241">codeStruct</span><span class="op" id="6516251">)</span><span class="op" id="6516252">;</span>&nbsp;<span class="ident" id="6516254">err</span>&nbsp;<span class="op" id="6516258">!=</span>&nbsp;<span class="ident" id="6516261">nil</span>&nbsp;<span class="op" id="6516265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516270">b</span><span class="op" id="6516271">.</span><span class="ident" id="6516272">Fatal</span><span class="op" id="6516277">(</span><span class="string" id="6516278">&#34;Encode:&#34;</span><span class="op" id="6516287">,</span>&nbsp;<span class="ident" id="6516289">err</span><span class="op" id="6516292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516299">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516302">b</span><span class="op" id="6516303">.</span><span class="ident" id="6516304">SetBytes</span><span class="op" id="6516312">(</span><span class="ident" id="6516313">int64</span><span class="op" id="6516318">(</span><span class="builtinfunc" id="6516319">len</span><span class="op" id="6516322">(</span><span class="ident" id="6516323">codeJSON</span><span class="op" id="6516331">)</span><span class="op" id="6516332">)</span><span class="op" id="6516333">)</span><br>
<span class="lineno"></span><span class="op" id="6516335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6516338">func</span>&nbsp;<span class="ident" id="6516343">BenchmarkCodeMarshal</span><span class="op" id="6516363">(</span><span class="ident" id="6516364">b</span>&nbsp;<span class="op" id="6516366">*</span><span class="ident" id="6516367">testing</span><span class="op" id="6516374">.</span><span class="ident" id="6516375">B</span><span class="op" id="6516376">)</span>&nbsp;<span class="op" id="6516378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516381">if</span>&nbsp;<span class="ident" id="6516384">codeJSON</span>&nbsp;<span class="op" id="6516393">==</span>&nbsp;<span class="ident" id="6516396">nil</span>&nbsp;<span class="op" id="6516400">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516404">b</span><span class="op" id="6516405">.</span><span class="ident" id="6516406">StopTimer</span><span class="op" id="6516415">(</span><span class="op" id="6516416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516420">codeInit</span><span class="op" id="6516428">(</span><span class="op" id="6516429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516433">b</span><span class="op" id="6516434">.</span><span class="ident" id="6516435">StartTimer</span><span class="op" id="6516445">(</span><span class="op" id="6516446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516452">for</span>&nbsp;<span class="ident" id="6516456">i</span>&nbsp;<span class="op" id="6516458">:=</span>&nbsp;<span class="num" id="6516461">0</span><span class="op" id="6516462">;</span>&nbsp;<span class="ident" id="6516464">i</span>&nbsp;<span class="op" id="6516466">&lt;</span>&nbsp;<span class="ident" id="6516468">b</span><span class="op" id="6516469">.</span><span class="ident" id="6516470">N</span><span class="op" id="6516471">;</span>&nbsp;<span class="ident" id="6516473">i</span><span class="op" id="6516474">++</span>&nbsp;<span class="op" id="6516477">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516481">if</span>&nbsp;<span class="ident" id="6516484">_</span><span class="op" id="6516485">,</span>&nbsp;<span class="ident" id="6516487">err</span>&nbsp;<span class="op" id="6516491">:=</span>&nbsp;<span class="ident" id="6516494">Marshal</span><span class="op" id="6516501">(</span><span class="op" id="6516502">&amp;</span><span class="ident" id="6516503">codeStruct</span><span class="op" id="6516513">)</span><span class="op" id="6516514">;</span>&nbsp;<span class="ident" id="6516516">err</span>&nbsp;<span class="op" id="6516520">!=</span>&nbsp;<span class="ident" id="6516523">nil</span>&nbsp;<span class="op" id="6516527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516532">b</span><span class="op" id="6516533">.</span><span class="ident" id="6516534">Fatal</span><span class="op" id="6516539">(</span><span class="string" id="6516540">&#34;Marshal:&#34;</span><span class="op" id="6516550">,</span>&nbsp;<span class="ident" id="6516552">err</span><span class="op" id="6516555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516565">b</span><span class="op" id="6516566">.</span><span class="ident" id="6516567">SetBytes</span><span class="op" id="6516575">(</span><span class="ident" id="6516576">int64</span><span class="op" id="6516581">(</span><span class="builtinfunc" id="6516582">len</span><span class="op" id="6516585">(</span><span class="ident" id="6516586">codeJSON</span><span class="op" id="6516594">)</span><span class="op" id="6516595">)</span><span class="op" id="6516596">)</span><br>
<span class="lineno">105</span><span class="op" id="6516598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6516601">func</span>&nbsp;<span class="ident" id="6516606">BenchmarkCodeDecoder</span><span class="op" id="6516626">(</span><span class="ident" id="6516627">b</span>&nbsp;<span class="op" id="6516629">*</span><span class="ident" id="6516630">testing</span><span class="op" id="6516637">.</span><span class="ident" id="6516638">B</span><span class="op" id="6516639">)</span>&nbsp;<span class="op" id="6516641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516644">if</span>&nbsp;<span class="ident" id="6516647">codeJSON</span>&nbsp;<span class="op" id="6516656">==</span>&nbsp;<span class="ident" id="6516659">nil</span>&nbsp;<span class="op" id="6516663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516667">b</span><span class="op" id="6516668">.</span><span class="ident" id="6516669">StopTimer</span><span class="op" id="6516678">(</span><span class="op" id="6516679">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516683">codeInit</span><span class="op" id="6516691">(</span><span class="op" id="6516692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516696">b</span><span class="op" id="6516697">.</span><span class="ident" id="6516698">StartTimer</span><span class="op" id="6516708">(</span><span class="op" id="6516709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516715">var</span>&nbsp;<span class="ident" id="6516719">buf</span>&nbsp;<span class="ident" id="6516723">bytes</span><span class="op" id="6516728">.</span><span class="ident" id="6516729">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516737">dec</span>&nbsp;<span class="op" id="6516741">:=</span>&nbsp;<span class="ident" id="6516744">NewDecoder</span><span class="op" id="6516754">(</span><span class="op" id="6516755">&amp;</span><span class="ident" id="6516756">buf</span><span class="op" id="6516759">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516762">var</span>&nbsp;<span class="ident" id="6516766">r</span>&nbsp;<span class="ident" id="6516768">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516782">for</span>&nbsp;<span class="ident" id="6516786">i</span>&nbsp;<span class="op" id="6516788">:=</span>&nbsp;<span class="num" id="6516791">0</span><span class="op" id="6516792">;</span>&nbsp;<span class="ident" id="6516794">i</span>&nbsp;<span class="op" id="6516796">&lt;</span>&nbsp;<span class="ident" id="6516798">b</span><span class="op" id="6516799">.</span><span class="ident" id="6516800">N</span><span class="op" id="6516801">;</span>&nbsp;<span class="ident" id="6516803">i</span><span class="op" id="6516804">++</span>&nbsp;<span class="op" id="6516807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516811">buf</span><span class="op" id="6516814">.</span><span class="ident" id="6516815">Write</span><span class="op" id="6516820">(</span><span class="ident" id="6516821">codeJSON</span><span class="op" id="6516829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6516833">//&nbsp;hide&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516847">buf</span><span class="op" id="6516850">.</span><span class="ident" id="6516851">WriteByte</span><span class="op" id="6516860">(</span><span class="string" id="6516861">&#39;\n&#39;</span><span class="op" id="6516865">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516869">buf</span><span class="op" id="6516872">.</span><span class="ident" id="6516873">WriteByte</span><span class="op" id="6516882">(</span><span class="string" id="6516883">&#39;\n&#39;</span><span class="op" id="6516887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516891">buf</span><span class="op" id="6516894">.</span><span class="ident" id="6516895">WriteByte</span><span class="op" id="6516904">(</span><span class="string" id="6516905">&#39;\n&#39;</span><span class="op" id="6516909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6516913">if</span>&nbsp;<span class="ident" id="6516916">err</span>&nbsp;<span class="op" id="6516920">:=</span>&nbsp;<span class="ident" id="6516923">dec</span><span class="op" id="6516926">.</span><span class="ident" id="6516927">Decode</span><span class="op" id="6516933">(</span><span class="op" id="6516934">&amp;</span><span class="ident" id="6516935">r</span><span class="op" id="6516936">)</span><span class="op" id="6516937">;</span>&nbsp;<span class="ident" id="6516939">err</span>&nbsp;<span class="op" id="6516943">!=</span>&nbsp;<span class="ident" id="6516946">nil</span>&nbsp;<span class="op" id="6516950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516955">b</span><span class="op" id="6516956">.</span><span class="ident" id="6516957">Fatal</span><span class="op" id="6516962">(</span><span class="string" id="6516963">&#34;Decode:&#34;</span><span class="op" id="6516972">,</span>&nbsp;<span class="ident" id="6516974">err</span><span class="op" id="6516977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516981">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6516984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6516987">b</span><span class="op" id="6516988">.</span><span class="ident" id="6516989">SetBytes</span><span class="op" id="6516997">(</span><span class="ident" id="6516998">int64</span><span class="op" id="6517003">(</span><span class="builtinfunc" id="6517004">len</span><span class="op" id="6517007">(</span><span class="ident" id="6517008">codeJSON</span><span class="op" id="6517016">)</span><span class="op" id="6517017">)</span><span class="op" id="6517018">)</span><br>
<span class="lineno"></span><span class="op" id="6517020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6517023">func</span>&nbsp;<span class="ident" id="6517028">BenchmarkCodeUnmarshal</span><span class="op" id="6517050">(</span><span class="ident" id="6517051">b</span>&nbsp;<span class="op" id="6517053">*</span><span class="ident" id="6517054">testing</span><span class="op" id="6517061">.</span><span class="ident" id="6517062">B</span><span class="op" id="6517063">)</span>&nbsp;<span class="op" id="6517065">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517068">if</span>&nbsp;<span class="ident" id="6517071">codeJSON</span>&nbsp;<span class="op" id="6517080">==</span>&nbsp;<span class="ident" id="6517083">nil</span>&nbsp;<span class="op" id="6517087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517091">b</span><span class="op" id="6517092">.</span><span class="ident" id="6517093">StopTimer</span><span class="op" id="6517102">(</span><span class="op" id="6517103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517107">codeInit</span><span class="op" id="6517115">(</span><span class="op" id="6517116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517120">b</span><span class="op" id="6517121">.</span><span class="ident" id="6517122">StartTimer</span><span class="op" id="6517132">(</span><span class="op" id="6517133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517136">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517139">for</span>&nbsp;<span class="ident" id="6517143">i</span>&nbsp;<span class="op" id="6517145">:=</span>&nbsp;<span class="num" id="6517148">0</span><span class="op" id="6517149">;</span>&nbsp;<span class="ident" id="6517151">i</span>&nbsp;<span class="op" id="6517153">&lt;</span>&nbsp;<span class="ident" id="6517155">b</span><span class="op" id="6517156">.</span><span class="ident" id="6517157">N</span><span class="op" id="6517158">;</span>&nbsp;<span class="ident" id="6517160">i</span><span class="op" id="6517161">++</span>&nbsp;<span class="op" id="6517164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517168">var</span>&nbsp;<span class="ident" id="6517172">r</span>&nbsp;<span class="ident" id="6517174">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517189">if</span>&nbsp;<span class="ident" id="6517192">err</span>&nbsp;<span class="op" id="6517196">:=</span>&nbsp;<span class="ident" id="6517199">Unmarshal</span><span class="op" id="6517208">(</span><span class="ident" id="6517209">codeJSON</span><span class="op" id="6517217">,</span>&nbsp;<span class="op" id="6517219">&amp;</span><span class="ident" id="6517220">r</span><span class="op" id="6517221">)</span><span class="op" id="6517222">;</span>&nbsp;<span class="ident" id="6517224">err</span>&nbsp;<span class="op" id="6517228">!=</span>&nbsp;<span class="ident" id="6517231">nil</span>&nbsp;<span class="op" id="6517235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517240">b</span><span class="op" id="6517241">.</span><span class="ident" id="6517242">Fatal</span><span class="op" id="6517247">(</span><span class="string" id="6517248">&#34;Unmmarshal:&#34;</span><span class="op" id="6517261">,</span>&nbsp;<span class="ident" id="6517263">err</span><span class="op" id="6517266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517270">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517276">b</span><span class="op" id="6517277">.</span><span class="ident" id="6517278">SetBytes</span><span class="op" id="6517286">(</span><span class="ident" id="6517287">int64</span><span class="op" id="6517292">(</span><span class="builtinfunc" id="6517293">len</span><span class="op" id="6517296">(</span><span class="ident" id="6517297">codeJSON</span><span class="op" id="6517305">)</span><span class="op" id="6517306">)</span><span class="op" id="6517307">)</span><br>
<span class="lineno"></span><span class="op" id="6517309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6517312">func</span>&nbsp;<span class="ident" id="6517317">BenchmarkCodeUnmarshalReuse</span><span class="op" id="6517344">(</span><span class="ident" id="6517345">b</span>&nbsp;<span class="op" id="6517347">*</span><span class="ident" id="6517348">testing</span><span class="op" id="6517355">.</span><span class="ident" id="6517356">B</span><span class="op" id="6517357">)</span>&nbsp;<span class="op" id="6517359">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517362">if</span>&nbsp;<span class="ident" id="6517365">codeJSON</span>&nbsp;<span class="op" id="6517374">==</span>&nbsp;<span class="ident" id="6517377">nil</span>&nbsp;<span class="op" id="6517381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517385">b</span><span class="op" id="6517386">.</span><span class="ident" id="6517387">StopTimer</span><span class="op" id="6517396">(</span><span class="op" id="6517397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517401">codeInit</span><span class="op" id="6517409">(</span><span class="op" id="6517410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517414">b</span><span class="op" id="6517415">.</span><span class="ident" id="6517416">StartTimer</span><span class="op" id="6517426">(</span><span class="op" id="6517427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517430">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517433">var</span>&nbsp;<span class="ident" id="6517437">r</span>&nbsp;<span class="ident" id="6517439">codeResponse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517453">for</span>&nbsp;<span class="ident" id="6517457">i</span>&nbsp;<span class="op" id="6517459">:=</span>&nbsp;<span class="num" id="6517462">0</span><span class="op" id="6517463">;</span>&nbsp;<span class="ident" id="6517465">i</span>&nbsp;<span class="op" id="6517467">&lt;</span>&nbsp;<span class="ident" id="6517469">b</span><span class="op" id="6517470">.</span><span class="ident" id="6517471">N</span><span class="op" id="6517472">;</span>&nbsp;<span class="ident" id="6517474">i</span><span class="op" id="6517475">++</span>&nbsp;<span class="op" id="6517478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517482">if</span>&nbsp;<span class="ident" id="6517485">err</span>&nbsp;<span class="op" id="6517489">:=</span>&nbsp;<span class="ident" id="6517492">Unmarshal</span><span class="op" id="6517501">(</span><span class="ident" id="6517502">codeJSON</span><span class="op" id="6517510">,</span>&nbsp;<span class="op" id="6517512">&amp;</span><span class="ident" id="6517513">r</span><span class="op" id="6517514">)</span><span class="op" id="6517515">;</span>&nbsp;<span class="ident" id="6517517">err</span>&nbsp;<span class="op" id="6517521">!=</span>&nbsp;<span class="ident" id="6517524">nil</span>&nbsp;<span class="op" id="6517528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517533">b</span><span class="op" id="6517534">.</span><span class="ident" id="6517535">Fatal</span><span class="op" id="6517540">(</span><span class="string" id="6517541">&#34;Unmmarshal:&#34;</span><span class="op" id="6517554">,</span>&nbsp;<span class="ident" id="6517556">err</span><span class="op" id="6517559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517563">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517566">}</span><br>
<span class="lineno"></span><span class="op" id="6517568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6517571">func</span>&nbsp;<span class="ident" id="6517576">BenchmarkUnmarshalString</span><span class="op" id="6517600">(</span><span class="ident" id="6517601">b</span>&nbsp;<span class="op" id="6517603">*</span><span class="ident" id="6517604">testing</span><span class="op" id="6517611">.</span><span class="ident" id="6517612">B</span><span class="op" id="6517613">)</span>&nbsp;<span class="op" id="6517615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517618">data</span>&nbsp;<span class="op" id="6517623">:=</span>&nbsp;<span class="op" id="6517626">[</span><span class="op" id="6517627">]</span><span class="builtintype" id="6517628">byte</span><span class="op" id="6517632">(</span><span class="string" id="6517633">`&#34;hello,&nbsp;world&#34;`</span><span class="op" id="6517649">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517652">var</span>&nbsp;<span class="ident" id="6517656">s</span>&nbsp;<span class="builtintype" id="6517658">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517667">for</span>&nbsp;<span class="ident" id="6517671">i</span>&nbsp;<span class="op" id="6517673">:=</span>&nbsp;<span class="num" id="6517676">0</span><span class="op" id="6517677">;</span>&nbsp;<span class="ident" id="6517679">i</span>&nbsp;<span class="op" id="6517681">&lt;</span>&nbsp;<span class="ident" id="6517683">b</span><span class="op" id="6517684">.</span><span class="ident" id="6517685">N</span><span class="op" id="6517686">;</span>&nbsp;<span class="ident" id="6517688">i</span><span class="op" id="6517689">++</span>&nbsp;<span class="op" id="6517692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517696">if</span>&nbsp;<span class="ident" id="6517699">err</span>&nbsp;<span class="op" id="6517703">:=</span>&nbsp;<span class="ident" id="6517706">Unmarshal</span><span class="op" id="6517715">(</span><span class="ident" id="6517716">data</span><span class="op" id="6517720">,</span>&nbsp;<span class="op" id="6517722">&amp;</span><span class="ident" id="6517723">s</span><span class="op" id="6517724">)</span><span class="op" id="6517725">;</span>&nbsp;<span class="ident" id="6517727">err</span>&nbsp;<span class="op" id="6517731">!=</span>&nbsp;<span class="ident" id="6517734">nil</span>&nbsp;<span class="op" id="6517738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517743">b</span><span class="op" id="6517744">.</span><span class="ident" id="6517745">Fatal</span><span class="op" id="6517750">(</span><span class="string" id="6517751">&#34;Unmarshal:&#34;</span><span class="op" id="6517763">,</span>&nbsp;<span class="ident" id="6517765">err</span><span class="op" id="6517768">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517775">}</span><br>
<span class="lineno"></span><span class="op" id="6517777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6517780">func</span>&nbsp;<span class="ident" id="6517785">BenchmarkUnmarshalFloat64</span><span class="op" id="6517810">(</span><span class="ident" id="6517811">b</span>&nbsp;<span class="op" id="6517813">*</span><span class="ident" id="6517814">testing</span><span class="op" id="6517821">.</span><span class="ident" id="6517822">B</span><span class="op" id="6517823">)</span>&nbsp;<span class="op" id="6517825">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517828">var</span>&nbsp;<span class="ident" id="6517832">f</span>&nbsp;<span class="builtintype" id="6517834">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517843">data</span>&nbsp;<span class="op" id="6517848">:=</span>&nbsp;<span class="op" id="6517851">[</span><span class="op" id="6517852">]</span><span class="builtintype" id="6517853">byte</span><span class="op" id="6517857">(</span><span class="string" id="6517858">`3.14`</span><span class="op" id="6517864">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517868">for</span>&nbsp;<span class="ident" id="6517872">i</span>&nbsp;<span class="op" id="6517874">:=</span>&nbsp;<span class="num" id="6517877">0</span><span class="op" id="6517878">;</span>&nbsp;<span class="ident" id="6517880">i</span>&nbsp;<span class="op" id="6517882">&lt;</span>&nbsp;<span class="ident" id="6517884">b</span><span class="op" id="6517885">.</span><span class="ident" id="6517886">N</span><span class="op" id="6517887">;</span>&nbsp;<span class="ident" id="6517889">i</span><span class="op" id="6517890">++</span>&nbsp;<span class="op" id="6517893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6517897">if</span>&nbsp;<span class="ident" id="6517900">err</span>&nbsp;<span class="op" id="6517904">:=</span>&nbsp;<span class="ident" id="6517907">Unmarshal</span><span class="op" id="6517916">(</span><span class="ident" id="6517917">data</span><span class="op" id="6517921">,</span>&nbsp;<span class="op" id="6517923">&amp;</span><span class="ident" id="6517924">f</span><span class="op" id="6517925">)</span><span class="op" id="6517926">;</span>&nbsp;<span class="ident" id="6517928">err</span>&nbsp;<span class="op" id="6517932">!=</span>&nbsp;<span class="ident" id="6517935">nil</span>&nbsp;<span class="op" id="6517939">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6517944">b</span><span class="op" id="6517945">.</span><span class="ident" id="6517946">Fatal</span><span class="op" id="6517951">(</span><span class="string" id="6517952">&#34;Unmarshal:&#34;</span><span class="op" id="6517964">,</span>&nbsp;<span class="ident" id="6517966">err</span><span class="op" id="6517969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6517976">}</span><br>
<span class="lineno"></span><span class="op" id="6517978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="6517981">func</span>&nbsp;<span class="ident" id="6517986">BenchmarkUnmarshalInt64</span><span class="op" id="6518009">(</span><span class="ident" id="6518010">b</span>&nbsp;<span class="op" id="6518012">*</span><span class="ident" id="6518013">testing</span><span class="op" id="6518020">.</span><span class="ident" id="6518021">B</span><span class="op" id="6518022">)</span>&nbsp;<span class="op" id="6518024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518027">var</span>&nbsp;<span class="ident" id="6518031">x</span>&nbsp;<span class="ident" id="6518033">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518040">data</span>&nbsp;<span class="op" id="6518045">:=</span>&nbsp;<span class="op" id="6518048">[</span><span class="op" id="6518049">]</span><span class="builtintype" id="6518050">byte</span><span class="op" id="6518054">(</span><span class="string" id="6518055">`3`</span><span class="op" id="6518058">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518062">for</span>&nbsp;<span class="ident" id="6518066">i</span>&nbsp;<span class="op" id="6518068">:=</span>&nbsp;<span class="num" id="6518071">0</span><span class="op" id="6518072">;</span>&nbsp;<span class="ident" id="6518074">i</span>&nbsp;<span class="op" id="6518076">&lt;</span>&nbsp;<span class="ident" id="6518078">b</span><span class="op" id="6518079">.</span><span class="ident" id="6518080">N</span><span class="op" id="6518081">;</span>&nbsp;<span class="ident" id="6518083">i</span><span class="op" id="6518084">++</span>&nbsp;<span class="op" id="6518087">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6518091">if</span>&nbsp;<span class="ident" id="6518094">err</span>&nbsp;<span class="op" id="6518098">:=</span>&nbsp;<span class="ident" id="6518101">Unmarshal</span><span class="op" id="6518110">(</span><span class="ident" id="6518111">data</span><span class="op" id="6518115">,</span>&nbsp;<span class="op" id="6518117">&amp;</span><span class="ident" id="6518118">x</span><span class="op" id="6518119">)</span><span class="op" id="6518120">;</span>&nbsp;<span class="ident" id="6518122">err</span>&nbsp;<span class="op" id="6518126">!=</span>&nbsp;<span class="ident" id="6518129">nil</span>&nbsp;<span class="op" id="6518133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6518138">b</span><span class="op" id="6518139">.</span><span class="ident" id="6518140">Fatal</span><span class="op" id="6518145">(</span><span class="string" id="6518146">&#34;Unmarshal:&#34;</span><span class="op" id="6518158">,</span>&nbsp;<span class="ident" id="6518160">err</span><span class="op" id="6518163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6518170">}</span><br>
<span class="lineno"></span><span class="op" id="6518172">}</span>
</div>
</body>
</html>
