<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>syscall</h2>
<ul>
<li><a href="/gostd/syscall/creds_test.go.html">creds_test.go</a></li>
<li><a href="/gostd/syscall/env_unix.go.html">env_unix.go</a></li>
<li><a href="/gostd/syscall/exec_linux.go.html">exec_linux.go</a></li>
<li><a href="/gostd/syscall/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/syscall/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/syscall/flock.go.html">flock.go</a></li>
<li><a href="/gostd/syscall/lsf_linux.go.html">lsf_linux.go</a></li>
<li><a href="/gostd/syscall/mmap_unix_test.go.html">mmap_unix_test.go</a></li>
<li><a href="/gostd/syscall/netlink_linux.go.html">netlink_linux.go</a></li>
<li><a href="/gostd/syscall/race0.go.html">race0.go</a></li>
<li><a href="/gostd/syscall/sockcmsg_linux.go.html">sockcmsg_linux.go</a></li>
<li><a href="/gostd/syscall/sockcmsg_unix.go.html">sockcmsg_unix.go</a></li>
<li><a href="/gostd/syscall/str.go.html">str.go</a></li>
<li><a href="/gostd/syscall/syscall.go.html">syscall.go</a></li>
<li><a href="/gostd/syscall/syscall_linux.go.html">syscall_linux.go</a></li>
<li><a href="/gostd/syscall/syscall_linux_amd64.go.html">syscall_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/syscall_test.go.html">syscall_test.go</a></li>
<li><a href="/gostd/syscall/syscall_unix.go.html">syscall_unix.go</a></li>
<li><a href="/gostd/syscall/syscall_unix_test.go.html">syscall_unix_test.go</a></li>
<li><a href="/gostd/syscall/zerrors_linux_amd64.go.html">zerrors_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/zsyscall_linux_amd64.go.html">zsyscall_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/zsysnum_linux_amd64.go.html">zsysnum_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/ztypes_linux_amd64.go.html">ztypes_linux_amd64.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2530483">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2530538">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2530592">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2530643">//&nbsp;Package&nbsp;syscall&nbsp;contains&nbsp;an&nbsp;interface&nbsp;to&nbsp;the&nbsp;low-level&nbsp;operating&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2530718">//&nbsp;primitives.&nbsp;&nbsp;The&nbsp;details&nbsp;vary&nbsp;depending&nbsp;on&nbsp;the&nbsp;underlying&nbsp;system,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2530791">//&nbsp;by&nbsp;default,&nbsp;godoc&nbsp;will&nbsp;display&nbsp;the&nbsp;syscall&nbsp;documentation&nbsp;for&nbsp;the&nbsp;current</span><br>
<span class="lineno"></span><span class="comment" id="2530867">//&nbsp;system.&nbsp;&nbsp;If&nbsp;you&nbsp;want&nbsp;godoc&nbsp;to&nbsp;display&nbsp;syscall&nbsp;documentation&nbsp;for&nbsp;another</span><br>
<span class="lineno"></span><span class="comment" id="2530942">//&nbsp;system,&nbsp;set&nbsp;$GOOS&nbsp;and&nbsp;$GOARCH&nbsp;to&nbsp;the&nbsp;desired&nbsp;system.&nbsp;&nbsp;For&nbsp;example,&nbsp;if</span><br>
<span class="lineno">10</span><span class="comment" id="2531015">//&nbsp;you&nbsp;want&nbsp;to&nbsp;view&nbsp;documentation&nbsp;for&nbsp;freebsd/arm&nbsp;on&nbsp;linux/amd64,&nbsp;set&nbsp;$GOOS</span><br>
<span class="lineno"></span><span class="comment" id="2531091">//&nbsp;to&nbsp;freebsd&nbsp;and&nbsp;$GOARCH&nbsp;to&nbsp;arm.</span><br>
<span class="lineno"></span><span class="comment" id="2531125">//&nbsp;The&nbsp;primary&nbsp;use&nbsp;of&nbsp;syscall&nbsp;is&nbsp;inside&nbsp;other&nbsp;packages&nbsp;that&nbsp;provide&nbsp;a&nbsp;more</span><br>
<span class="lineno"></span><span class="comment" id="2531200">//&nbsp;portable&nbsp;interface&nbsp;to&nbsp;the&nbsp;system,&nbsp;such&nbsp;as&nbsp;&#34;os&#34;,&nbsp;&#34;time&#34;&nbsp;and&nbsp;&#34;net&#34;.&nbsp;&nbsp;Use</span><br>
<span class="lineno"></span><span class="comment" id="2531274">//&nbsp;those&nbsp;packages&nbsp;rather&nbsp;than&nbsp;this&nbsp;one&nbsp;if&nbsp;you&nbsp;can.</span><br>
<span class="lineno">15</span><span class="comment" id="2531325">//&nbsp;For&nbsp;details&nbsp;of&nbsp;the&nbsp;functions&nbsp;and&nbsp;data&nbsp;types&nbsp;in&nbsp;this&nbsp;package&nbsp;consult</span><br>
<span class="lineno"></span><span class="comment" id="2531396">//&nbsp;the&nbsp;manuals&nbsp;for&nbsp;the&nbsp;appropriate&nbsp;operating&nbsp;system.</span><br>
<span class="lineno"></span><span class="comment" id="2531449">//&nbsp;These&nbsp;calls&nbsp;return&nbsp;err&nbsp;==&nbsp;nil&nbsp;to&nbsp;indicate&nbsp;success;&nbsp;otherwise</span><br>
<span class="lineno"></span><span class="comment" id="2531513">//&nbsp;err&nbsp;is&nbsp;an&nbsp;operating&nbsp;system&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="comment" id="2531573">//&nbsp;On&nbsp;most&nbsp;systems,&nbsp;that&nbsp;error&nbsp;has&nbsp;type&nbsp;syscall.Errno.</span><br>
<span class="lineno">20</span><span class="comment" id="2531628">//</span><br>
<span class="lineno"></span><span class="comment" id="2531631">//&nbsp;NOTE:&nbsp;This&nbsp;package&nbsp;is&nbsp;locked&nbsp;down.&nbsp;Code&nbsp;outside&nbsp;the&nbsp;standard</span><br>
<span class="lineno"></span><span class="comment" id="2531695">//&nbsp;Go&nbsp;repository&nbsp;should&nbsp;be&nbsp;migrated&nbsp;to&nbsp;use&nbsp;the&nbsp;corresponding</span><br>
<span class="lineno"></span><span class="comment" id="2531756">//&nbsp;package&nbsp;in&nbsp;the&nbsp;go.sys&nbsp;subrepository.&nbsp;That&nbsp;is&nbsp;also&nbsp;where&nbsp;updates</span><br>
<span class="lineno"></span><span class="comment" id="2531823">//&nbsp;required&nbsp;by&nbsp;new&nbsp;systems&nbsp;or&nbsp;versions&nbsp;should&nbsp;be&nbsp;applied.</span><br>
<span class="lineno">25</span><span class="comment" id="2531881">//&nbsp;See&nbsp;https://golang.org/s/go1.4-syscall&nbsp;for&nbsp;more&nbsp;information.</span><br>
<span class="lineno"></span><span class="comment" id="2531945">//</span><br>
<span class="lineno"></span><span class="keyword" id="2531948">package</span>&nbsp;<span class="ident" id="2531956">syscall</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2531965">import</span>&nbsp;<span class="string" id="2531972">&#34;unsafe&#34;</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="comment" id="2531982">//&nbsp;StringByteSlice&nbsp;is&nbsp;deprecated.&nbsp;Use&nbsp;ByteSliceFromString&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="2532049">//&nbsp;If&nbsp;s&nbsp;contains&nbsp;a&nbsp;NUL&nbsp;byte&nbsp;this&nbsp;function&nbsp;panics&nbsp;instead&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2532109">//&nbsp;returning&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2532132">func</span>&nbsp;<span class="ident" id="2532137">StringByteSlice</span><span class="op" id="2532152">(</span><span class="ident" id="2532153">s</span>&nbsp;<span class="builtintype" id="2532155">string</span><span class="op" id="2532161">)</span>&nbsp;<span class="op" id="2532163">[</span><span class="op" id="2532164">]</span><span class="builtintype" id="2532165">byte</span>&nbsp;<span class="op" id="2532170">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2532173">a</span><span class="op" id="2532174">,</span>&nbsp;<span class="ident" id="2532176">err</span>&nbsp;<span class="op" id="2532180">:=</span>&nbsp;<span class="ident" id="2532183">ByteSliceFromString</span><span class="op" id="2532202">(</span><span class="ident" id="2532203">s</span><span class="op" id="2532204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2532207">if</span>&nbsp;<span class="ident" id="2532210">err</span>&nbsp;<span class="op" id="2532214">!=</span>&nbsp;<span class="ident" id="2532217">nil</span>&nbsp;<span class="op" id="2532221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2532225">panic</span><span class="op" id="2532230">(</span><span class="string" id="2532231">&#34;syscall:&nbsp;string&nbsp;with&nbsp;NUL&nbsp;passed&nbsp;to&nbsp;StringByteSlice&#34;</span><span class="op" id="2532283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2532286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2532289">return</span>&nbsp;<span class="ident" id="2532296">a</span><br>
<span class="lineno">40</span><span class="op" id="2532298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2532301">//&nbsp;ByteSliceFromString&nbsp;returns&nbsp;a&nbsp;NUL-terminated&nbsp;slice&nbsp;of&nbsp;bytes</span><br>
<span class="lineno"></span><span class="comment" id="2532364">//&nbsp;containing&nbsp;the&nbsp;text&nbsp;of&nbsp;s.&nbsp;If&nbsp;s&nbsp;contains&nbsp;a&nbsp;NUL&nbsp;byte&nbsp;at&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="2532425">//&nbsp;location,&nbsp;it&nbsp;returns&nbsp;(nil,&nbsp;EINVAL).</span><br>
<span class="lineno">45</span><span class="keyword" id="2532464">func</span>&nbsp;<span class="ident" id="2532469">ByteSliceFromString</span><span class="op" id="2532488">(</span><span class="ident" id="2532489">s</span>&nbsp;<span class="builtintype" id="2532491">string</span><span class="op" id="2532497">)</span>&nbsp;<span class="op" id="2532499">(</span><span class="op" id="2532500">[</span><span class="op" id="2532501">]</span><span class="builtintype" id="2532502">byte</span><span class="op" id="2532506">,</span>&nbsp;<span class="builtintype" id="2532508">error</span><span class="op" id="2532513">)</span>&nbsp;<span class="op" id="2532515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2532518">for</span>&nbsp;<span class="ident" id="2532522">i</span>&nbsp;<span class="op" id="2532524">:=</span>&nbsp;<span class="num" id="2532527">0</span><span class="op" id="2532528">;</span>&nbsp;<span class="ident" id="2532530">i</span>&nbsp;<span class="op" id="2532532">&lt;</span>&nbsp;<span class="builtinfunc" id="2532534">len</span><span class="op" id="2532537">(</span><span class="ident" id="2532538">s</span><span class="op" id="2532539">)</span><span class="op" id="2532540">;</span>&nbsp;<span class="ident" id="2532542">i</span><span class="op" id="2532543">++</span>&nbsp;<span class="op" id="2532546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2532550">if</span>&nbsp;<span class="ident" id="2532553">s</span><span class="op" id="2532554">[</span><span class="ident" id="2532555">i</span><span class="op" id="2532556">]</span>&nbsp;<span class="op" id="2532558">==</span>&nbsp;<span class="num" id="2532561">0</span>&nbsp;<span class="op" id="2532563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2532568">return</span>&nbsp;<span class="ident" id="2532575">nil</span><span class="op" id="2532578">,</span>&nbsp;<span class="ident" id="2532580">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2532589">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2532592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2532595">a</span>&nbsp;<span class="op" id="2532597">:=</span>&nbsp;<span class="builtinfunc" id="2532600">make</span><span class="op" id="2532604">(</span><span class="op" id="2532605">[</span><span class="op" id="2532606">]</span><span class="builtintype" id="2532607">byte</span><span class="op" id="2532611">,</span>&nbsp;<span class="builtinfunc" id="2532613">len</span><span class="op" id="2532616">(</span><span class="ident" id="2532617">s</span><span class="op" id="2532618">)</span><span class="op" id="2532619">+</span><span class="num" id="2532620">1</span><span class="op" id="2532621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2532624">copy</span><span class="op" id="2532628">(</span><span class="ident" id="2532629">a</span><span class="op" id="2532630">,</span>&nbsp;<span class="ident" id="2532632">s</span><span class="op" id="2532633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2532636">return</span>&nbsp;<span class="ident" id="2532643">a</span><span class="op" id="2532644">,</span>&nbsp;<span class="ident" id="2532646">nil</span><br>
<span class="lineno"></span><span class="op" id="2532650">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="2532653">//&nbsp;StringBytePtr&nbsp;is&nbsp;deprecated.&nbsp;Use&nbsp;BytePtrFromString&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="2532716">//&nbsp;If&nbsp;s&nbsp;contains&nbsp;a&nbsp;NUL&nbsp;byte&nbsp;this&nbsp;function&nbsp;panics&nbsp;instead&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2532776">//&nbsp;returning&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2532799">func</span>&nbsp;<span class="ident" id="2532804">StringBytePtr</span><span class="op" id="2532817">(</span><span class="ident" id="2532818">s</span>&nbsp;<span class="builtintype" id="2532820">string</span><span class="op" id="2532826">)</span>&nbsp;<span class="op" id="2532828">*</span><span class="builtintype" id="2532829">byte</span>&nbsp;<span class="op" id="2532834">{</span>&nbsp;<span class="keyword" id="2532836">return</span>&nbsp;<span class="op" id="2532843">&amp;</span><span class="ident" id="2532844">StringByteSlice</span><span class="op" id="2532859">(</span><span class="ident" id="2532860">s</span><span class="op" id="2532861">)</span><span class="op" id="2532862">[</span><span class="num" id="2532863">0</span><span class="op" id="2532864">]</span>&nbsp;<span class="op" id="2532866">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="2532869">//&nbsp;BytePtrFromString&nbsp;returns&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;NUL-terminated&nbsp;array&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2532937">//&nbsp;bytes&nbsp;containing&nbsp;the&nbsp;text&nbsp;of&nbsp;s.&nbsp;If&nbsp;s&nbsp;contains&nbsp;a&nbsp;NUL&nbsp;byte&nbsp;at&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="2533004">//&nbsp;location,&nbsp;it&nbsp;returns&nbsp;(nil,&nbsp;EINVAL).</span><br>
<span class="lineno"></span><span class="keyword" id="2533043">func</span>&nbsp;<span class="ident" id="2533048">BytePtrFromString</span><span class="op" id="2533065">(</span><span class="ident" id="2533066">s</span>&nbsp;<span class="builtintype" id="2533068">string</span><span class="op" id="2533074">)</span>&nbsp;<span class="op" id="2533076">(</span><span class="op" id="2533077">*</span><span class="builtintype" id="2533078">byte</span><span class="op" id="2533082">,</span>&nbsp;<span class="builtintype" id="2533084">error</span><span class="op" id="2533089">)</span>&nbsp;<span class="op" id="2533091">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2533094">a</span><span class="op" id="2533095">,</span>&nbsp;<span class="ident" id="2533097">err</span>&nbsp;<span class="op" id="2533101">:=</span>&nbsp;<span class="ident" id="2533104">ByteSliceFromString</span><span class="op" id="2533123">(</span><span class="ident" id="2533124">s</span><span class="op" id="2533125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2533128">if</span>&nbsp;<span class="ident" id="2533131">err</span>&nbsp;<span class="op" id="2533135">!=</span>&nbsp;<span class="ident" id="2533138">nil</span>&nbsp;<span class="op" id="2533142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2533146">return</span>&nbsp;<span class="ident" id="2533153">nil</span><span class="op" id="2533156">,</span>&nbsp;<span class="ident" id="2533158">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2533163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2533166">return</span>&nbsp;<span class="op" id="2533173">&amp;</span><span class="ident" id="2533174">a</span><span class="op" id="2533175">[</span><span class="num" id="2533176">0</span><span class="op" id="2533177">]</span><span class="op" id="2533178">,</span>&nbsp;<span class="ident" id="2533180">nil</span><br>
<span class="lineno">70</span><span class="op" id="2533184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2533187">//&nbsp;Single-word&nbsp;zero&nbsp;for&nbsp;use&nbsp;when&nbsp;we&nbsp;need&nbsp;a&nbsp;valid&nbsp;pointer&nbsp;to&nbsp;0&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="comment" id="2533256">//&nbsp;See&nbsp;mksyscall.pl.</span><br>
<span class="lineno"></span><span class="keyword" id="2533277">var</span>&nbsp;<span class="ident" id="2533281">_zero</span>&nbsp;<span class="builtintype" id="2533287">uintptr</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="2533296">func</span>&nbsp;<span class="op" id="2533301">(</span><span class="ident" id="2533302">ts</span>&nbsp;<span class="op" id="2533305">*</span><span class="ident" id="2533306">Timespec</span><span class="op" id="2533314">)</span>&nbsp;<span class="ident" id="2533316">Unix</span><span class="op" id="2533320">(</span><span class="op" id="2533321">)</span>&nbsp;<span class="op" id="2533323">(</span><span class="ident" id="2533324">sec</span>&nbsp;<span class="ident" id="2533328">int64</span><span class="op" id="2533333">,</span>&nbsp;<span class="ident" id="2533335">nsec</span>&nbsp;<span class="ident" id="2533340">int64</span><span class="op" id="2533345">)</span>&nbsp;<span class="op" id="2533347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2533350">return</span>&nbsp;<span class="ident" id="2533357">int64</span><span class="op" id="2533362">(</span><span class="ident" id="2533363">ts</span><span class="op" id="2533365">.</span><span class="ident" id="2533366">Sec</span><span class="op" id="2533369">)</span><span class="op" id="2533370">,</span>&nbsp;<span class="ident" id="2533372">int64</span><span class="op" id="2533377">(</span><span class="ident" id="2533378">ts</span><span class="op" id="2533380">.</span><span class="ident" id="2533381">Nsec</span><span class="op" id="2533385">)</span><br>
<span class="lineno"></span><span class="op" id="2533387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="2533390">func</span>&nbsp;<span class="op" id="2533395">(</span><span class="ident" id="2533396">tv</span>&nbsp;<span class="op" id="2533399">*</span><span class="ident" id="2533400">Timeval</span><span class="op" id="2533407">)</span>&nbsp;<span class="ident" id="2533409">Unix</span><span class="op" id="2533413">(</span><span class="op" id="2533414">)</span>&nbsp;<span class="op" id="2533416">(</span><span class="ident" id="2533417">sec</span>&nbsp;<span class="ident" id="2533421">int64</span><span class="op" id="2533426">,</span>&nbsp;<span class="ident" id="2533428">nsec</span>&nbsp;<span class="ident" id="2533433">int64</span><span class="op" id="2533438">)</span>&nbsp;<span class="op" id="2533440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2533443">return</span>&nbsp;<span class="ident" id="2533450">int64</span><span class="op" id="2533455">(</span><span class="ident" id="2533456">tv</span><span class="op" id="2533458">.</span><span class="ident" id="2533459">Sec</span><span class="op" id="2533462">)</span><span class="op" id="2533463">,</span>&nbsp;<span class="ident" id="2533465">int64</span><span class="op" id="2533470">(</span><span class="ident" id="2533471">tv</span><span class="op" id="2533473">.</span><span class="ident" id="2533474">Usec</span><span class="op" id="2533478">)</span>&nbsp;<span class="op" id="2533480">*</span>&nbsp;<span class="num" id="2533482">1000</span><br>
<span class="lineno"></span><span class="op" id="2533487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2533490">func</span>&nbsp;<span class="op" id="2533495">(</span><span class="ident" id="2533496">ts</span>&nbsp;<span class="op" id="2533499">*</span><span class="ident" id="2533500">Timespec</span><span class="op" id="2533508">)</span>&nbsp;<span class="ident" id="2533510">Nano</span><span class="op" id="2533514">(</span><span class="op" id="2533515">)</span>&nbsp;<span class="ident" id="2533517">int64</span>&nbsp;<span class="op" id="2533523">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2533526">return</span>&nbsp;<span class="ident" id="2533533">int64</span><span class="op" id="2533538">(</span><span class="ident" id="2533539">ts</span><span class="op" id="2533541">.</span><span class="ident" id="2533542">Sec</span><span class="op" id="2533545">)</span><span class="op" id="2533546">*</span><span class="num" id="2533547">1e9</span>&nbsp;<span class="op" id="2533551">+</span>&nbsp;<span class="ident" id="2533553">int64</span><span class="op" id="2533558">(</span><span class="ident" id="2533559">ts</span><span class="op" id="2533561">.</span><span class="ident" id="2533562">Nsec</span><span class="op" id="2533566">)</span><br>
<span class="lineno"></span><span class="op" id="2533568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2533571">func</span>&nbsp;<span class="op" id="2533576">(</span><span class="ident" id="2533577">tv</span>&nbsp;<span class="op" id="2533580">*</span><span class="ident" id="2533581">Timeval</span><span class="op" id="2533588">)</span>&nbsp;<span class="ident" id="2533590">Nano</span><span class="op" id="2533594">(</span><span class="op" id="2533595">)</span>&nbsp;<span class="ident" id="2533597">int64</span>&nbsp;<span class="op" id="2533603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2533606">return</span>&nbsp;<span class="ident" id="2533613">int64</span><span class="op" id="2533618">(</span><span class="ident" id="2533619">tv</span><span class="op" id="2533621">.</span><span class="ident" id="2533622">Sec</span><span class="op" id="2533625">)</span><span class="op" id="2533626">*</span><span class="num" id="2533627">1e9</span>&nbsp;<span class="op" id="2533631">+</span>&nbsp;<span class="ident" id="2533633">int64</span><span class="op" id="2533638">(</span><span class="ident" id="2533639">tv</span><span class="op" id="2533641">.</span><span class="ident" id="2533642">Usec</span><span class="op" id="2533646">)</span><span class="op" id="2533647">*</span><span class="num" id="2533648">1000</span><br>
<span class="lineno">90</span><span class="op" id="2533653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2533656">//&nbsp;use&nbsp;is&nbsp;a&nbsp;no-op,&nbsp;but&nbsp;the&nbsp;compiler&nbsp;cannot&nbsp;see&nbsp;that&nbsp;it&nbsp;is.</span><br>
<span class="lineno"></span><span class="comment" id="2533715">//&nbsp;Calling&nbsp;use(p)&nbsp;ensures&nbsp;that&nbsp;p&nbsp;is&nbsp;kept&nbsp;live&nbsp;until&nbsp;that&nbsp;point.</span><br>
<span class="lineno"></span><span class="comment" id="2533779">//go:noescape</span><br>
<span class="lineno">95</span><span class="keyword" id="2533793">func</span>&nbsp;<span class="ident" id="2533798">use</span><span class="op" id="2533801">(</span><span class="ident" id="2533802">p</span>&nbsp;<span class="ident" id="2533804">unsafe</span><span class="op" id="2533810">.</span><span class="ident" id="2533811">Pointer</span><span class="op" id="2533818">)</span>
</div>
</body>
</html>
