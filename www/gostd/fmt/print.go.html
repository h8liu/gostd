<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html" class="current">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2028114">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2028169">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2028223">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2028274">package</span>&nbsp;<span class="ident" id="2028282">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2028287">import</span>&nbsp;<span class="op" id="2028294">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2028297">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2028307">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2028313">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2028319">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2028330">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2028338">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2028353">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2028356">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2028422">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2028459">var</span>&nbsp;<span class="op" id="2028463">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028466">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2028483">=</span>&nbsp;<span class="op" id="2028485">[</span><span class="op" id="2028486">]</span><span class="builtintype" id="2028487">byte</span><span class="op" id="2028491">(</span><span class="string" id="2028492">&#34;,&nbsp;&#34;</span><span class="op" id="2028496">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028499">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028516">=</span>&nbsp;<span class="op" id="2028518">[</span><span class="op" id="2028519">]</span><span class="builtintype" id="2028520">byte</span><span class="op" id="2028524">(</span><span class="string" id="2028525">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2028532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028535">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028552">=</span>&nbsp;<span class="op" id="2028554">[</span><span class="op" id="2028555">]</span><span class="builtintype" id="2028556">byte</span><span class="op" id="2028560">(</span><span class="string" id="2028561">&#34;(nil)&#34;</span><span class="op" id="2028568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028571">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028588">=</span>&nbsp;<span class="op" id="2028590">[</span><span class="op" id="2028591">]</span><span class="builtintype" id="2028592">byte</span><span class="op" id="2028596">(</span><span class="string" id="2028597">&#34;nil&#34;</span><span class="op" id="2028602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028605">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028622">=</span>&nbsp;<span class="op" id="2028624">[</span><span class="op" id="2028625">]</span><span class="builtintype" id="2028626">byte</span><span class="op" id="2028630">(</span><span class="string" id="2028631">&#34;map[&#34;</span><span class="op" id="2028637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028640">percentBangBytes</span>&nbsp;<span class="op" id="2028657">=</span>&nbsp;<span class="op" id="2028659">[</span><span class="op" id="2028660">]</span><span class="builtintype" id="2028661">byte</span><span class="op" id="2028665">(</span><span class="string" id="2028666">&#34;%!&#34;</span><span class="op" id="2028670">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028673">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028690">=</span>&nbsp;<span class="op" id="2028692">[</span><span class="op" id="2028693">]</span><span class="builtintype" id="2028694">byte</span><span class="op" id="2028698">(</span><span class="string" id="2028699">&#34;(MISSING)&#34;</span><span class="op" id="2028710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028713">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028730">=</span>&nbsp;<span class="op" id="2028732">[</span><span class="op" id="2028733">]</span><span class="builtintype" id="2028734">byte</span><span class="op" id="2028738">(</span><span class="string" id="2028739">&#34;(BADINDEX)&#34;</span><span class="op" id="2028751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028754">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028771">=</span>&nbsp;<span class="op" id="2028773">[</span><span class="op" id="2028774">]</span><span class="builtintype" id="2028775">byte</span><span class="op" id="2028779">(</span><span class="string" id="2028780">&#34;(PANIC=&#34;</span><span class="op" id="2028789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028792">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028809">=</span>&nbsp;<span class="op" id="2028811">[</span><span class="op" id="2028812">]</span><span class="builtintype" id="2028813">byte</span><span class="op" id="2028817">(</span><span class="string" id="2028818">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2028829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028832">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028849">=</span>&nbsp;<span class="op" id="2028851">[</span><span class="op" id="2028852">]</span><span class="builtintype" id="2028853">byte</span><span class="op" id="2028857">(</span><span class="string" id="2028858">&#34;i)&#34;</span><span class="op" id="2028862">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028865">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028882">=</span>&nbsp;<span class="op" id="2028884">[</span><span class="op" id="2028885">]</span><span class="builtintype" id="2028886">byte</span><span class="op" id="2028890">(</span><span class="string" id="2028891">&#34;[]byte{&#34;</span><span class="op" id="2028900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028903">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028920">=</span>&nbsp;<span class="op" id="2028922">[</span><span class="op" id="2028923">]</span><span class="builtintype" id="2028924">byte</span><span class="op" id="2028928">(</span><span class="string" id="2028929">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2028943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028946">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2028963">=</span>&nbsp;<span class="op" id="2028965">[</span><span class="op" id="2028966">]</span><span class="builtintype" id="2028967">byte</span><span class="op" id="2028971">(</span><span class="string" id="2028972">&#34;%!(BADPREC)&#34;</span><span class="op" id="2028985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028988">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2029005">=</span>&nbsp;<span class="op" id="2029007">[</span><span class="op" id="2029008">]</span><span class="builtintype" id="2029009">byte</span><span class="op" id="2029013">(</span><span class="string" id="2029014">&#34;%!(NOVERB)&#34;</span><span class="op" id="2029026">)</span><br>
<span class="lineno"></span><span class="op" id="2029028">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2029031">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2029098">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2029170">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2029231">type</span>&nbsp;<span class="ident" id="2029236">State</span>&nbsp;<span class="keyword" id="2029242">interface</span>&nbsp;<span class="op" id="2029252">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2029255">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029329">Write</span><span class="op" id="2029334">(</span><span class="ident" id="2029335">b</span>&nbsp;<span class="op" id="2029337">[</span><span class="op" id="2029338">]</span><span class="builtintype" id="2029339">byte</span><span class="op" id="2029343">)</span>&nbsp;<span class="op" id="2029345">(</span><span class="ident" id="2029346">ret</span>&nbsp;<span class="builtintype" id="2029350">int</span><span class="op" id="2029353">,</span>&nbsp;<span class="ident" id="2029355">err</span>&nbsp;<span class="builtintype" id="2029359">error</span><span class="op" id="2029364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2029367">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029444">Width</span><span class="op" id="2029449">(</span><span class="op" id="2029450">)</span>&nbsp;<span class="op" id="2029452">(</span><span class="ident" id="2029453">wid</span>&nbsp;<span class="builtintype" id="2029457">int</span><span class="op" id="2029460">,</span>&nbsp;<span class="ident" id="2029462">ok</span>&nbsp;<span class="builtintype" id="2029465">bool</span><span class="op" id="2029469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2029472">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029557">Precision</span><span class="op" id="2029566">(</span><span class="op" id="2029567">)</span>&nbsp;<span class="op" id="2029569">(</span><span class="ident" id="2029570">prec</span>&nbsp;<span class="builtintype" id="2029575">int</span><span class="op" id="2029578">,</span>&nbsp;<span class="ident" id="2029580">ok</span>&nbsp;<span class="builtintype" id="2029583">bool</span><span class="op" id="2029587">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2029591">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029655">Flag</span><span class="op" id="2029659">(</span><span class="ident" id="2029660">c</span>&nbsp;<span class="builtintype" id="2029662">int</span><span class="op" id="2029665">)</span>&nbsp;<span class="builtintype" id="2029667">bool</span><br>
<span class="lineno"></span><span class="op" id="2029672">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2029675">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2029752">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2029821">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2029848">type</span>&nbsp;<span class="ident" id="2029853">Formatter</span>&nbsp;<span class="keyword" id="2029863">interface</span>&nbsp;<span class="op" id="2029873">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029876">Format</span><span class="op" id="2029882">(</span><span class="ident" id="2029883">f</span>&nbsp;<span class="ident" id="2029885">State</span><span class="op" id="2029890">,</span>&nbsp;<span class="ident" id="2029892">c</span>&nbsp;<span class="builtintype" id="2029894">rune</span><span class="op" id="2029898">)</span><br>
<span class="lineno"></span><span class="op" id="2029900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2029903">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2029969">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2030024">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2030090">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2030158">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2030176">type</span>&nbsp;<span class="ident" id="2030181">Stringer</span>&nbsp;<span class="keyword" id="2030190">interface</span>&nbsp;<span class="op" id="2030200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030203">String</span><span class="op" id="2030209">(</span><span class="op" id="2030210">)</span>&nbsp;<span class="builtintype" id="2030212">string</span><br>
<span class="lineno">65</span><span class="op" id="2030219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2030222">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2030292">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2030339">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2030407">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2030427">type</span>&nbsp;<span class="ident" id="2030432">GoStringer</span>&nbsp;<span class="keyword" id="2030443">interface</span>&nbsp;<span class="op" id="2030453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030456">GoString</span><span class="op" id="2030464">(</span><span class="op" id="2030465">)</span>&nbsp;<span class="builtintype" id="2030467">string</span><br>
<span class="lineno"></span><span class="op" id="2030474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2030477">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2030549">type</span>&nbsp;<span class="ident" id="2030554">buffer</span>&nbsp;<span class="op" id="2030561">[</span><span class="op" id="2030562">]</span><span class="builtintype" id="2030563">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2030569">func</span>&nbsp;<span class="op" id="2030574">(</span><span class="ident" id="2030575">b</span>&nbsp;<span class="op" id="2030577">*</span><span class="ident" id="2030578">buffer</span><span class="op" id="2030584">)</span>&nbsp;<span class="ident" id="2030586">Write</span><span class="op" id="2030591">(</span><span class="ident" id="2030592">p</span>&nbsp;<span class="op" id="2030594">[</span><span class="op" id="2030595">]</span><span class="builtintype" id="2030596">byte</span><span class="op" id="2030600">)</span>&nbsp;<span class="op" id="2030602">(</span><span class="ident" id="2030603">n</span>&nbsp;<span class="builtintype" id="2030605">int</span><span class="op" id="2030608">,</span>&nbsp;<span class="ident" id="2030610">err</span>&nbsp;<span class="builtintype" id="2030614">error</span><span class="op" id="2030619">)</span>&nbsp;<span class="op" id="2030621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030624">*</span><span class="ident" id="2030625">b</span>&nbsp;<span class="op" id="2030627">=</span>&nbsp;<span class="builtinfunc" id="2030629">append</span><span class="op" id="2030635">(</span><span class="op" id="2030636">*</span><span class="ident" id="2030637">b</span><span class="op" id="2030638">,</span>&nbsp;<span class="ident" id="2030640">p</span><span class="op" id="2030641">...</span><span class="op" id="2030644">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030647">return</span>&nbsp;<span class="builtinfunc" id="2030654">len</span><span class="op" id="2030657">(</span><span class="ident" id="2030658">p</span><span class="op" id="2030659">)</span><span class="op" id="2030660">,</span>&nbsp;<span class="ident" id="2030662">nil</span><br>
<span class="lineno"></span><span class="op" id="2030666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2030669">func</span>&nbsp;<span class="op" id="2030674">(</span><span class="ident" id="2030675">b</span>&nbsp;<span class="op" id="2030677">*</span><span class="ident" id="2030678">buffer</span><span class="op" id="2030684">)</span>&nbsp;<span class="ident" id="2030686">WriteString</span><span class="op" id="2030697">(</span><span class="ident" id="2030698">s</span>&nbsp;<span class="builtintype" id="2030700">string</span><span class="op" id="2030706">)</span>&nbsp;<span class="op" id="2030708">(</span><span class="ident" id="2030709">n</span>&nbsp;<span class="builtintype" id="2030711">int</span><span class="op" id="2030714">,</span>&nbsp;<span class="ident" id="2030716">err</span>&nbsp;<span class="builtintype" id="2030720">error</span><span class="op" id="2030725">)</span>&nbsp;<span class="op" id="2030727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030730">*</span><span class="ident" id="2030731">b</span>&nbsp;<span class="op" id="2030733">=</span>&nbsp;<span class="builtinfunc" id="2030735">append</span><span class="op" id="2030741">(</span><span class="op" id="2030742">*</span><span class="ident" id="2030743">b</span><span class="op" id="2030744">,</span>&nbsp;<span class="ident" id="2030746">s</span><span class="op" id="2030747">...</span><span class="op" id="2030750">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030753">return</span>&nbsp;<span class="builtinfunc" id="2030760">len</span><span class="op" id="2030763">(</span><span class="ident" id="2030764">s</span><span class="op" id="2030765">)</span><span class="op" id="2030766">,</span>&nbsp;<span class="ident" id="2030768">nil</span><br>
<span class="lineno"></span><span class="op" id="2030772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2030775">func</span>&nbsp;<span class="op" id="2030780">(</span><span class="ident" id="2030781">b</span>&nbsp;<span class="op" id="2030783">*</span><span class="ident" id="2030784">buffer</span><span class="op" id="2030790">)</span>&nbsp;<span class="ident" id="2030792">WriteByte</span><span class="op" id="2030801">(</span><span class="ident" id="2030802">c</span>&nbsp;<span class="builtintype" id="2030804">byte</span><span class="op" id="2030808">)</span>&nbsp;<span class="builtintype" id="2030810">error</span>&nbsp;<span class="op" id="2030816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030819">*</span><span class="ident" id="2030820">b</span>&nbsp;<span class="op" id="2030822">=</span>&nbsp;<span class="builtinfunc" id="2030824">append</span><span class="op" id="2030830">(</span><span class="op" id="2030831">*</span><span class="ident" id="2030832">b</span><span class="op" id="2030833">,</span>&nbsp;<span class="ident" id="2030835">c</span><span class="op" id="2030836">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030839">return</span>&nbsp;<span class="ident" id="2030846">nil</span><br>
<span class="lineno"></span><span class="op" id="2030850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2030853">func</span>&nbsp;<span class="op" id="2030858">(</span><span class="ident" id="2030859">bp</span>&nbsp;<span class="op" id="2030862">*</span><span class="ident" id="2030863">buffer</span><span class="op" id="2030869">)</span>&nbsp;<span class="ident" id="2030871">WriteRune</span><span class="op" id="2030880">(</span><span class="ident" id="2030881">r</span>&nbsp;<span class="builtintype" id="2030883">rune</span><span class="op" id="2030887">)</span>&nbsp;<span class="builtintype" id="2030889">error</span>&nbsp;<span class="op" id="2030895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030898">if</span>&nbsp;<span class="ident" id="2030901">r</span>&nbsp;<span class="op" id="2030903">&lt;</span>&nbsp;<span class="ident" id="2030905">utf8</span><span class="op" id="2030909">.</span><span class="ident" id="2030910">RuneSelf</span>&nbsp;<span class="op" id="2030919">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030923">*</span><span class="ident" id="2030924">bp</span>&nbsp;<span class="op" id="2030927">=</span>&nbsp;<span class="builtinfunc" id="2030929">append</span><span class="op" id="2030935">(</span><span class="op" id="2030936">*</span><span class="ident" id="2030937">bp</span><span class="op" id="2030939">,</span>&nbsp;<span class="builtintype" id="2030941">byte</span><span class="op" id="2030945">(</span><span class="ident" id="2030946">r</span><span class="op" id="2030947">)</span><span class="op" id="2030948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030952">return</span>&nbsp;<span class="ident" id="2030959">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030968">b</span>&nbsp;<span class="op" id="2030970">:=</span>&nbsp;<span class="op" id="2030973">*</span><span class="ident" id="2030974">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030978">n</span>&nbsp;<span class="op" id="2030980">:=</span>&nbsp;<span class="builtinfunc" id="2030983">len</span><span class="op" id="2030986">(</span><span class="ident" id="2030987">b</span><span class="op" id="2030988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030991">for</span>&nbsp;<span class="ident" id="2030995">n</span><span class="op" id="2030996">+</span><span class="ident" id="2030997">utf8</span><span class="op" id="2031001">.</span><span class="ident" id="2031002">UTFMax</span>&nbsp;<span class="op" id="2031009">&gt;</span>&nbsp;<span class="builtinfunc" id="2031011">cap</span><span class="op" id="2031014">(</span><span class="ident" id="2031015">b</span><span class="op" id="2031016">)</span>&nbsp;<span class="op" id="2031018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031022">b</span>&nbsp;<span class="op" id="2031024">=</span>&nbsp;<span class="builtinfunc" id="2031026">append</span><span class="op" id="2031032">(</span><span class="ident" id="2031033">b</span><span class="op" id="2031034">,</span>&nbsp;<span class="num" id="2031036">0</span><span class="op" id="2031037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2031040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031043">w</span>&nbsp;<span class="op" id="2031045">:=</span>&nbsp;<span class="ident" id="2031048">utf8</span><span class="op" id="2031052">.</span><span class="ident" id="2031053">EncodeRune</span><span class="op" id="2031063">(</span><span class="ident" id="2031064">b</span><span class="op" id="2031065">[</span><span class="ident" id="2031066">n</span><span class="op" id="2031067">:</span><span class="ident" id="2031068">n</span><span class="op" id="2031069">+</span><span class="ident" id="2031070">utf8</span><span class="op" id="2031074">.</span><span class="ident" id="2031075">UTFMax</span><span class="op" id="2031081">]</span><span class="op" id="2031082">,</span>&nbsp;<span class="ident" id="2031084">r</span><span class="op" id="2031085">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2031088">*</span><span class="ident" id="2031089">bp</span>&nbsp;<span class="op" id="2031092">=</span>&nbsp;<span class="ident" id="2031094">b</span><span class="op" id="2031095">[</span><span class="op" id="2031096">:</span><span class="ident" id="2031097">n</span><span class="op" id="2031098">+</span><span class="ident" id="2031099">w</span><span class="op" id="2031100">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031103">return</span>&nbsp;<span class="ident" id="2031110">nil</span><br>
<span class="lineno"></span><span class="op" id="2031114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2031117">type</span>&nbsp;<span class="ident" id="2031122">pp</span>&nbsp;<span class="keyword" id="2031125">struct</span>&nbsp;<span class="op" id="2031132">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031135">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2031145">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031150">panicking</span>&nbsp;<span class="builtintype" id="2031160">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031166">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2031176">bool</span>&nbsp;<span class="comment" id="2031181">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031213">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2031223">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2031231">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031282">arg</span>&nbsp;<span class="keyword" id="2031286">interface</span><span class="op" id="2031295">{</span><span class="op" id="2031296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2031299">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2031365">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031420">value</span>&nbsp;<span class="ident" id="2031426">reflect</span><span class="op" id="2031433">.</span><span class="ident" id="2031434">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2031441">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031515">reordered</span>&nbsp;<span class="builtintype" id="2031525">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2031531">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031610">goodArgNum</span>&nbsp;<span class="builtintype" id="2031621">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031627">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2031638">[</span><span class="ident" id="2031639">utf8</span><span class="op" id="2031643">.</span><span class="ident" id="2031644">UTFMax</span><span class="op" id="2031650">]</span><span class="builtintype" id="2031651">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031657">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2031668">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2031672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2031675">var</span>&nbsp;<span class="ident" id="2031679">ppFree</span>&nbsp;<span class="op" id="2031686">=</span>&nbsp;<span class="ident" id="2031688">sync</span><span class="op" id="2031692">.</span><span class="ident" id="2031693">Pool</span><span class="op" id="2031697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031700">New</span><span class="op" id="2031703">:</span>&nbsp;<span class="keyword" id="2031705">func</span><span class="op" id="2031709">(</span><span class="op" id="2031710">)</span>&nbsp;<span class="keyword" id="2031712">interface</span><span class="op" id="2031721">{</span><span class="op" id="2031722">}</span>&nbsp;<span class="op" id="2031724">{</span>&nbsp;<span class="keyword" id="2031726">return</span>&nbsp;<span class="builtinfunc" id="2031733">new</span><span class="op" id="2031736">(</span><span class="ident" id="2031737">pp</span><span class="op" id="2031739">)</span>&nbsp;<span class="op" id="2031741">}</span><span class="op" id="2031742">,</span><br>
<span class="lineno"></span><span class="op" id="2031744">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2031747">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2031810">func</span>&nbsp;<span class="ident" id="2031815">newPrinter</span><span class="op" id="2031825">(</span><span class="op" id="2031826">)</span>&nbsp;<span class="op" id="2031828">*</span><span class="ident" id="2031829">pp</span>&nbsp;<span class="op" id="2031832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031835">p</span>&nbsp;<span class="op" id="2031837">:=</span>&nbsp;<span class="ident" id="2031840">ppFree</span><span class="op" id="2031846">.</span><span class="ident" id="2031847">Get</span><span class="op" id="2031850">(</span><span class="op" id="2031851">)</span><span class="op" id="2031852">.</span><span class="op" id="2031853">(</span><span class="op" id="2031854">*</span><span class="ident" id="2031855">pp</span><span class="op" id="2031857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031860">p</span><span class="op" id="2031861">.</span><span class="ident" id="2031862">panicking</span>&nbsp;<span class="op" id="2031872">=</span>&nbsp;<span class="builtintype" id="2031874">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031881">p</span><span class="op" id="2031882">.</span><span class="ident" id="2031883">erroring</span>&nbsp;<span class="op" id="2031892">=</span>&nbsp;<span class="builtintype" id="2031894">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031901">p</span><span class="op" id="2031902">.</span><span class="ident" id="2031903">fmt</span><span class="op" id="2031906">.</span><span class="ident" id="2031907">init</span><span class="op" id="2031911">(</span><span class="op" id="2031912">&amp;</span><span class="ident" id="2031913">p</span><span class="op" id="2031914">.</span><span class="ident" id="2031915">buf</span><span class="op" id="2031918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031921">return</span>&nbsp;<span class="ident" id="2031928">p</span><br>
<span class="lineno"></span><span class="op" id="2031930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2031933">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2032011">func</span>&nbsp;<span class="op" id="2032016">(</span><span class="ident" id="2032017">p</span>&nbsp;<span class="op" id="2032019">*</span><span class="ident" id="2032020">pp</span><span class="op" id="2032022">)</span>&nbsp;<span class="ident" id="2032024">free</span><span class="op" id="2032028">(</span><span class="op" id="2032029">)</span>&nbsp;<span class="op" id="2032031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2032034">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032086">if</span>&nbsp;<span class="builtinfunc" id="2032089">cap</span><span class="op" id="2032092">(</span><span class="ident" id="2032093">p</span><span class="op" id="2032094">.</span><span class="ident" id="2032095">buf</span><span class="op" id="2032098">)</span>&nbsp;<span class="op" id="2032100">&gt;</span>&nbsp;<span class="num" id="2032102">1024</span>&nbsp;<span class="op" id="2032107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032111">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2032119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032122">p</span><span class="op" id="2032123">.</span><span class="ident" id="2032124">buf</span>&nbsp;<span class="op" id="2032128">=</span>&nbsp;<span class="ident" id="2032130">p</span><span class="op" id="2032131">.</span><span class="ident" id="2032132">buf</span><span class="op" id="2032135">[</span><span class="op" id="2032136">:</span><span class="num" id="2032137">0</span><span class="op" id="2032138">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032141">p</span><span class="op" id="2032142">.</span><span class="ident" id="2032143">arg</span>&nbsp;<span class="op" id="2032147">=</span>&nbsp;<span class="ident" id="2032149">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032154">p</span><span class="op" id="2032155">.</span><span class="ident" id="2032156">value</span>&nbsp;<span class="op" id="2032162">=</span>&nbsp;<span class="ident" id="2032164">reflect</span><span class="op" id="2032171">.</span><span class="ident" id="2032172">Value</span><span class="op" id="2032177">{</span><span class="op" id="2032178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032181">ppFree</span><span class="op" id="2032187">.</span><span class="ident" id="2032188">Put</span><span class="op" id="2032191">(</span><span class="ident" id="2032192">p</span><span class="op" id="2032193">)</span><br>
<span class="lineno">150</span><span class="op" id="2032195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2032198">func</span>&nbsp;<span class="op" id="2032203">(</span><span class="ident" id="2032204">p</span>&nbsp;<span class="op" id="2032206">*</span><span class="ident" id="2032207">pp</span><span class="op" id="2032209">)</span>&nbsp;<span class="ident" id="2032211">Width</span><span class="op" id="2032216">(</span><span class="op" id="2032217">)</span>&nbsp;<span class="op" id="2032219">(</span><span class="ident" id="2032220">wid</span>&nbsp;<span class="builtintype" id="2032224">int</span><span class="op" id="2032227">,</span>&nbsp;<span class="ident" id="2032229">ok</span>&nbsp;<span class="builtintype" id="2032232">bool</span><span class="op" id="2032236">)</span>&nbsp;<span class="op" id="2032238">{</span>&nbsp;<span class="keyword" id="2032240">return</span>&nbsp;<span class="ident" id="2032247">p</span><span class="op" id="2032248">.</span><span class="ident" id="2032249">fmt</span><span class="op" id="2032252">.</span><span class="ident" id="2032253">wid</span><span class="op" id="2032256">,</span>&nbsp;<span class="ident" id="2032258">p</span><span class="op" id="2032259">.</span><span class="ident" id="2032260">fmt</span><span class="op" id="2032263">.</span><span class="ident" id="2032264">widPresent</span>&nbsp;<span class="op" id="2032275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2032278">func</span>&nbsp;<span class="op" id="2032283">(</span><span class="ident" id="2032284">p</span>&nbsp;<span class="op" id="2032286">*</span><span class="ident" id="2032287">pp</span><span class="op" id="2032289">)</span>&nbsp;<span class="ident" id="2032291">Precision</span><span class="op" id="2032300">(</span><span class="op" id="2032301">)</span>&nbsp;<span class="op" id="2032303">(</span><span class="ident" id="2032304">prec</span>&nbsp;<span class="builtintype" id="2032309">int</span><span class="op" id="2032312">,</span>&nbsp;<span class="ident" id="2032314">ok</span>&nbsp;<span class="builtintype" id="2032317">bool</span><span class="op" id="2032321">)</span>&nbsp;<span class="op" id="2032323">{</span>&nbsp;<span class="keyword" id="2032325">return</span>&nbsp;<span class="ident" id="2032332">p</span><span class="op" id="2032333">.</span><span class="ident" id="2032334">fmt</span><span class="op" id="2032337">.</span><span class="ident" id="2032338">prec</span><span class="op" id="2032342">,</span>&nbsp;<span class="ident" id="2032344">p</span><span class="op" id="2032345">.</span><span class="ident" id="2032346">fmt</span><span class="op" id="2032349">.</span><span class="ident" id="2032350">precPresent</span>&nbsp;<span class="op" id="2032362">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2032365">func</span>&nbsp;<span class="op" id="2032370">(</span><span class="ident" id="2032371">p</span>&nbsp;<span class="op" id="2032373">*</span><span class="ident" id="2032374">pp</span><span class="op" id="2032376">)</span>&nbsp;<span class="ident" id="2032378">Flag</span><span class="op" id="2032382">(</span><span class="ident" id="2032383">b</span>&nbsp;<span class="builtintype" id="2032385">int</span><span class="op" id="2032388">)</span>&nbsp;<span class="builtintype" id="2032390">bool</span>&nbsp;<span class="op" id="2032395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032398">switch</span>&nbsp;<span class="ident" id="2032405">b</span>&nbsp;<span class="op" id="2032407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032410">case</span>&nbsp;<span class="string" id="2032415">&#39;-&#39;</span><span class="op" id="2032418">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032422">return</span>&nbsp;<span class="ident" id="2032429">p</span><span class="op" id="2032430">.</span><span class="ident" id="2032431">fmt</span><span class="op" id="2032434">.</span><span class="ident" id="2032435">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032442">case</span>&nbsp;<span class="string" id="2032447">&#39;+&#39;</span><span class="op" id="2032450">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032454">return</span>&nbsp;<span class="ident" id="2032461">p</span><span class="op" id="2032462">.</span><span class="ident" id="2032463">fmt</span><span class="op" id="2032466">.</span><span class="ident" id="2032467">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032473">case</span>&nbsp;<span class="string" id="2032478">&#39;#&#39;</span><span class="op" id="2032481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032485">return</span>&nbsp;<span class="ident" id="2032492">p</span><span class="op" id="2032493">.</span><span class="ident" id="2032494">fmt</span><span class="op" id="2032497">.</span><span class="ident" id="2032498">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032505">case</span>&nbsp;<span class="string" id="2032510">&#39;&nbsp;&#39;</span><span class="op" id="2032513">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032517">return</span>&nbsp;<span class="ident" id="2032524">p</span><span class="op" id="2032525">.</span><span class="ident" id="2032526">fmt</span><span class="op" id="2032529">.</span><span class="ident" id="2032530">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032537">case</span>&nbsp;<span class="string" id="2032542">&#39;0&#39;</span><span class="op" id="2032545">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032549">return</span>&nbsp;<span class="ident" id="2032556">p</span><span class="op" id="2032557">.</span><span class="ident" id="2032558">fmt</span><span class="op" id="2032561">.</span><span class="ident" id="2032562">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2032568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032571">return</span>&nbsp;<span class="builtintype" id="2032578">false</span><br>
<span class="lineno">170</span><span class="op" id="2032584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2032587">func</span>&nbsp;<span class="op" id="2032592">(</span><span class="ident" id="2032593">p</span>&nbsp;<span class="op" id="2032595">*</span><span class="ident" id="2032596">pp</span><span class="op" id="2032598">)</span>&nbsp;<span class="ident" id="2032600">add</span><span class="op" id="2032603">(</span><span class="ident" id="2032604">c</span>&nbsp;<span class="builtintype" id="2032606">rune</span><span class="op" id="2032610">)</span>&nbsp;<span class="op" id="2032612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032615">p</span><span class="op" id="2032616">.</span><span class="ident" id="2032617">buf</span><span class="op" id="2032620">.</span><span class="ident" id="2032621">WriteRune</span><span class="op" id="2032630">(</span><span class="ident" id="2032631">c</span><span class="op" id="2032632">)</span><br>
<span class="lineno"></span><span class="op" id="2032634">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2032637">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2032708">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2032742">func</span>&nbsp;<span class="op" id="2032747">(</span><span class="ident" id="2032748">p</span>&nbsp;<span class="op" id="2032750">*</span><span class="ident" id="2032751">pp</span><span class="op" id="2032753">)</span>&nbsp;<span class="ident" id="2032755">Write</span><span class="op" id="2032760">(</span><span class="ident" id="2032761">b</span>&nbsp;<span class="op" id="2032763">[</span><span class="op" id="2032764">]</span><span class="builtintype" id="2032765">byte</span><span class="op" id="2032769">)</span>&nbsp;<span class="op" id="2032771">(</span><span class="ident" id="2032772">ret</span>&nbsp;<span class="builtintype" id="2032776">int</span><span class="op" id="2032779">,</span>&nbsp;<span class="ident" id="2032781">err</span>&nbsp;<span class="builtintype" id="2032785">error</span><span class="op" id="2032790">)</span>&nbsp;<span class="op" id="2032792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032795">return</span>&nbsp;<span class="ident" id="2032802">p</span><span class="op" id="2032803">.</span><span class="ident" id="2032804">buf</span><span class="op" id="2032807">.</span><span class="ident" id="2032808">Write</span><span class="op" id="2032813">(</span><span class="ident" id="2032814">b</span><span class="op" id="2032815">)</span><br>
<span class="lineno">180</span><span class="op" id="2032817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2032820">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2032876">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2032944">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2033019">func</span>&nbsp;<span class="ident" id="2033024">Fprintf</span><span class="op" id="2033031">(</span><span class="ident" id="2033032">w</span>&nbsp;<span class="ident" id="2033034">io</span><span class="op" id="2033036">.</span><span class="ident" id="2033037">Writer</span><span class="op" id="2033043">,</span>&nbsp;<span class="ident" id="2033045">format</span>&nbsp;<span class="builtintype" id="2033052">string</span><span class="op" id="2033058">,</span>&nbsp;<span class="ident" id="2033060">a</span>&nbsp;<span class="op" id="2033062">...</span><span class="keyword" id="2033065">interface</span><span class="op" id="2033074">{</span><span class="op" id="2033075">}</span><span class="op" id="2033076">)</span>&nbsp;<span class="op" id="2033078">(</span><span class="ident" id="2033079">n</span>&nbsp;<span class="builtintype" id="2033081">int</span><span class="op" id="2033084">,</span>&nbsp;<span class="ident" id="2033086">err</span>&nbsp;<span class="builtintype" id="2033090">error</span><span class="op" id="2033095">)</span>&nbsp;<span class="op" id="2033097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033100">p</span>&nbsp;<span class="op" id="2033102">:=</span>&nbsp;<span class="ident" id="2033105">newPrinter</span><span class="op" id="2033115">(</span><span class="op" id="2033116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033119">p</span><span class="op" id="2033120">.</span><span class="ident" id="2033121">doPrintf</span><span class="op" id="2033129">(</span><span class="ident" id="2033130">format</span><span class="op" id="2033136">,</span>&nbsp;<span class="ident" id="2033138">a</span><span class="op" id="2033139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033142">n</span><span class="op" id="2033143">,</span>&nbsp;<span class="ident" id="2033145">err</span>&nbsp;<span class="op" id="2033149">=</span>&nbsp;<span class="ident" id="2033151">w</span><span class="op" id="2033152">.</span><span class="ident" id="2033153">Write</span><span class="op" id="2033158">(</span><span class="ident" id="2033159">p</span><span class="op" id="2033160">.</span><span class="ident" id="2033161">buf</span><span class="op" id="2033164">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033167">p</span><span class="op" id="2033168">.</span><span class="ident" id="2033169">free</span><span class="op" id="2033173">(</span><span class="op" id="2033174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033177">return</span><br>
<span class="lineno"></span><span class="op" id="2033184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2033187">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2033268">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2033343">func</span>&nbsp;<span class="ident" id="2033348">Printf</span><span class="op" id="2033354">(</span><span class="ident" id="2033355">format</span>&nbsp;<span class="builtintype" id="2033362">string</span><span class="op" id="2033368">,</span>&nbsp;<span class="ident" id="2033370">a</span>&nbsp;<span class="op" id="2033372">...</span><span class="keyword" id="2033375">interface</span><span class="op" id="2033384">{</span><span class="op" id="2033385">}</span><span class="op" id="2033386">)</span>&nbsp;<span class="op" id="2033388">(</span><span class="ident" id="2033389">n</span>&nbsp;<span class="builtintype" id="2033391">int</span><span class="op" id="2033394">,</span>&nbsp;<span class="ident" id="2033396">err</span>&nbsp;<span class="builtintype" id="2033400">error</span><span class="op" id="2033405">)</span>&nbsp;<span class="op" id="2033407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033410">return</span>&nbsp;<span class="ident" id="2033417">Fprintf</span><span class="op" id="2033424">(</span><span class="ident" id="2033425">os</span><span class="op" id="2033427">.</span><span class="ident" id="2033428">Stdout</span><span class="op" id="2033434">,</span>&nbsp;<span class="ident" id="2033436">format</span><span class="op" id="2033442">,</span>&nbsp;<span class="ident" id="2033444">a</span><span class="op" id="2033445">...</span><span class="op" id="2033448">)</span><br>
<span class="lineno"></span><span class="op" id="2033450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2033453">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2033538">func</span>&nbsp;<span class="ident" id="2033543">Sprintf</span><span class="op" id="2033550">(</span><span class="ident" id="2033551">format</span>&nbsp;<span class="builtintype" id="2033558">string</span><span class="op" id="2033564">,</span>&nbsp;<span class="ident" id="2033566">a</span>&nbsp;<span class="op" id="2033568">...</span><span class="keyword" id="2033571">interface</span><span class="op" id="2033580">{</span><span class="op" id="2033581">}</span><span class="op" id="2033582">)</span>&nbsp;<span class="builtintype" id="2033584">string</span>&nbsp;<span class="op" id="2033591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033594">p</span>&nbsp;<span class="op" id="2033596">:=</span>&nbsp;<span class="ident" id="2033599">newPrinter</span><span class="op" id="2033609">(</span><span class="op" id="2033610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033613">p</span><span class="op" id="2033614">.</span><span class="ident" id="2033615">doPrintf</span><span class="op" id="2033623">(</span><span class="ident" id="2033624">format</span><span class="op" id="2033630">,</span>&nbsp;<span class="ident" id="2033632">a</span><span class="op" id="2033633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033636">s</span>&nbsp;<span class="op" id="2033638">:=</span>&nbsp;<span class="builtintype" id="2033641">string</span><span class="op" id="2033647">(</span><span class="ident" id="2033648">p</span><span class="op" id="2033649">.</span><span class="ident" id="2033650">buf</span><span class="op" id="2033653">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033656">p</span><span class="op" id="2033657">.</span><span class="ident" id="2033658">free</span><span class="op" id="2033662">(</span><span class="op" id="2033663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033666">return</span>&nbsp;<span class="ident" id="2033673">s</span><br>
<span class="lineno"></span><span class="op" id="2033675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2033678">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2033751">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2033787">func</span>&nbsp;<span class="ident" id="2033792">Errorf</span><span class="op" id="2033798">(</span><span class="ident" id="2033799">format</span>&nbsp;<span class="builtintype" id="2033806">string</span><span class="op" id="2033812">,</span>&nbsp;<span class="ident" id="2033814">a</span>&nbsp;<span class="op" id="2033816">...</span><span class="keyword" id="2033819">interface</span><span class="op" id="2033828">{</span><span class="op" id="2033829">}</span><span class="op" id="2033830">)</span>&nbsp;<span class="builtintype" id="2033832">error</span>&nbsp;<span class="op" id="2033838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033841">return</span>&nbsp;<span class="ident" id="2033848">errors</span><span class="op" id="2033854">.</span><span class="ident" id="2033855">New</span><span class="op" id="2033858">(</span><span class="ident" id="2033859">Sprintf</span><span class="op" id="2033866">(</span><span class="ident" id="2033867">format</span><span class="op" id="2033873">,</span>&nbsp;<span class="ident" id="2033875">a</span><span class="op" id="2033876">...</span><span class="op" id="2033879">)</span><span class="op" id="2033880">)</span><br>
<span class="lineno"></span><span class="op" id="2033882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2033885">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2033932">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2034010">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2034073">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2034148">func</span>&nbsp;<span class="ident" id="2034153">Fprint</span><span class="op" id="2034159">(</span><span class="ident" id="2034160">w</span>&nbsp;<span class="ident" id="2034162">io</span><span class="op" id="2034164">.</span><span class="ident" id="2034165">Writer</span><span class="op" id="2034171">,</span>&nbsp;<span class="ident" id="2034173">a</span>&nbsp;<span class="op" id="2034175">...</span><span class="keyword" id="2034178">interface</span><span class="op" id="2034187">{</span><span class="op" id="2034188">}</span><span class="op" id="2034189">)</span>&nbsp;<span class="op" id="2034191">(</span><span class="ident" id="2034192">n</span>&nbsp;<span class="builtintype" id="2034194">int</span><span class="op" id="2034197">,</span>&nbsp;<span class="ident" id="2034199">err</span>&nbsp;<span class="builtintype" id="2034203">error</span><span class="op" id="2034208">)</span>&nbsp;<span class="op" id="2034210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034213">p</span>&nbsp;<span class="op" id="2034215">:=</span>&nbsp;<span class="ident" id="2034218">newPrinter</span><span class="op" id="2034228">(</span><span class="op" id="2034229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034232">p</span><span class="op" id="2034233">.</span><span class="ident" id="2034234">doPrint</span><span class="op" id="2034241">(</span><span class="ident" id="2034242">a</span><span class="op" id="2034243">,</span>&nbsp;<span class="builtintype" id="2034245">false</span><span class="op" id="2034250">,</span>&nbsp;<span class="builtintype" id="2034252">false</span><span class="op" id="2034257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034260">n</span><span class="op" id="2034261">,</span>&nbsp;<span class="ident" id="2034263">err</span>&nbsp;<span class="op" id="2034267">=</span>&nbsp;<span class="ident" id="2034269">w</span><span class="op" id="2034270">.</span><span class="ident" id="2034271">Write</span><span class="op" id="2034276">(</span><span class="ident" id="2034277">p</span><span class="op" id="2034278">.</span><span class="ident" id="2034279">buf</span><span class="op" id="2034282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034285">p</span><span class="op" id="2034286">.</span><span class="ident" id="2034287">free</span><span class="op" id="2034291">(</span><span class="op" id="2034292">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034295">return</span><br>
<span class="lineno"></span><span class="op" id="2034302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2034305">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2034396">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2034459">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2034534">func</span>&nbsp;<span class="ident" id="2034539">Print</span><span class="op" id="2034544">(</span><span class="ident" id="2034545">a</span>&nbsp;<span class="op" id="2034547">...</span><span class="keyword" id="2034550">interface</span><span class="op" id="2034559">{</span><span class="op" id="2034560">}</span><span class="op" id="2034561">)</span>&nbsp;<span class="op" id="2034563">(</span><span class="ident" id="2034564">n</span>&nbsp;<span class="builtintype" id="2034566">int</span><span class="op" id="2034569">,</span>&nbsp;<span class="ident" id="2034571">err</span>&nbsp;<span class="builtintype" id="2034575">error</span><span class="op" id="2034580">)</span>&nbsp;<span class="op" id="2034582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034585">return</span>&nbsp;<span class="ident" id="2034592">Fprint</span><span class="op" id="2034598">(</span><span class="ident" id="2034599">os</span><span class="op" id="2034601">.</span><span class="ident" id="2034602">Stdout</span><span class="op" id="2034608">,</span>&nbsp;<span class="ident" id="2034610">a</span><span class="op" id="2034611">...</span><span class="op" id="2034614">)</span><br>
<span class="lineno"></span><span class="op" id="2034616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2034619">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2034714">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2034777">func</span>&nbsp;<span class="ident" id="2034782">Sprint</span><span class="op" id="2034788">(</span><span class="ident" id="2034789">a</span>&nbsp;<span class="op" id="2034791">...</span><span class="keyword" id="2034794">interface</span><span class="op" id="2034803">{</span><span class="op" id="2034804">}</span><span class="op" id="2034805">)</span>&nbsp;<span class="builtintype" id="2034807">string</span>&nbsp;<span class="op" id="2034814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034817">p</span>&nbsp;<span class="op" id="2034819">:=</span>&nbsp;<span class="ident" id="2034822">newPrinter</span><span class="op" id="2034832">(</span><span class="op" id="2034833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034836">p</span><span class="op" id="2034837">.</span><span class="ident" id="2034838">doPrint</span><span class="op" id="2034845">(</span><span class="ident" id="2034846">a</span><span class="op" id="2034847">,</span>&nbsp;<span class="builtintype" id="2034849">false</span><span class="op" id="2034854">,</span>&nbsp;<span class="builtintype" id="2034856">false</span><span class="op" id="2034861">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034864">s</span>&nbsp;<span class="op" id="2034866">:=</span>&nbsp;<span class="builtintype" id="2034869">string</span><span class="op" id="2034875">(</span><span class="ident" id="2034876">p</span><span class="op" id="2034877">.</span><span class="ident" id="2034878">buf</span><span class="op" id="2034881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034884">p</span><span class="op" id="2034885">.</span><span class="ident" id="2034886">free</span><span class="op" id="2034890">(</span><span class="op" id="2034891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034894">return</span>&nbsp;<span class="ident" id="2034901">s</span><br>
<span class="lineno"></span><span class="op" id="2034903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2034906">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2034966">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2035023">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2035051">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2035131">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2035202">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2035277">func</span>&nbsp;<span class="ident" id="2035282">Fprintln</span><span class="op" id="2035290">(</span><span class="ident" id="2035291">w</span>&nbsp;<span class="ident" id="2035293">io</span><span class="op" id="2035295">.</span><span class="ident" id="2035296">Writer</span><span class="op" id="2035302">,</span>&nbsp;<span class="ident" id="2035304">a</span>&nbsp;<span class="op" id="2035306">...</span><span class="keyword" id="2035309">interface</span><span class="op" id="2035318">{</span><span class="op" id="2035319">}</span><span class="op" id="2035320">)</span>&nbsp;<span class="op" id="2035322">(</span><span class="ident" id="2035323">n</span>&nbsp;<span class="builtintype" id="2035325">int</span><span class="op" id="2035328">,</span>&nbsp;<span class="ident" id="2035330">err</span>&nbsp;<span class="builtintype" id="2035334">error</span><span class="op" id="2035339">)</span>&nbsp;<span class="op" id="2035341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035344">p</span>&nbsp;<span class="op" id="2035346">:=</span>&nbsp;<span class="ident" id="2035349">newPrinter</span><span class="op" id="2035359">(</span><span class="op" id="2035360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035363">p</span><span class="op" id="2035364">.</span><span class="ident" id="2035365">doPrint</span><span class="op" id="2035372">(</span><span class="ident" id="2035373">a</span><span class="op" id="2035374">,</span>&nbsp;<span class="builtintype" id="2035376">true</span><span class="op" id="2035380">,</span>&nbsp;<span class="builtintype" id="2035382">true</span><span class="op" id="2035386">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035389">n</span><span class="op" id="2035390">,</span>&nbsp;<span class="ident" id="2035392">err</span>&nbsp;<span class="op" id="2035396">=</span>&nbsp;<span class="ident" id="2035398">w</span><span class="op" id="2035399">.</span><span class="ident" id="2035400">Write</span><span class="op" id="2035405">(</span><span class="ident" id="2035406">p</span><span class="op" id="2035407">.</span><span class="ident" id="2035408">buf</span><span class="op" id="2035411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035414">p</span><span class="op" id="2035415">.</span><span class="ident" id="2035416">free</span><span class="op" id="2035420">(</span><span class="op" id="2035421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035424">return</span><br>
<span class="lineno"></span><span class="op" id="2035431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2035434">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2035527">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2035598">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2035673">func</span>&nbsp;<span class="ident" id="2035678">Println</span><span class="op" id="2035685">(</span><span class="ident" id="2035686">a</span>&nbsp;<span class="op" id="2035688">...</span><span class="keyword" id="2035691">interface</span><span class="op" id="2035700">{</span><span class="op" id="2035701">}</span><span class="op" id="2035702">)</span>&nbsp;<span class="op" id="2035704">(</span><span class="ident" id="2035705">n</span>&nbsp;<span class="builtintype" id="2035707">int</span><span class="op" id="2035710">,</span>&nbsp;<span class="ident" id="2035712">err</span>&nbsp;<span class="builtintype" id="2035716">error</span><span class="op" id="2035721">)</span>&nbsp;<span class="op" id="2035723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035726">return</span>&nbsp;<span class="ident" id="2035733">Fprintln</span><span class="op" id="2035741">(</span><span class="ident" id="2035742">os</span><span class="op" id="2035744">.</span><span class="ident" id="2035745">Stdout</span><span class="op" id="2035751">,</span>&nbsp;<span class="ident" id="2035753">a</span><span class="op" id="2035754">...</span><span class="op" id="2035757">)</span><br>
<span class="lineno">265</span><span class="op" id="2035759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2035762">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2035859">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2035930">func</span>&nbsp;<span class="ident" id="2035935">Sprintln</span><span class="op" id="2035943">(</span><span class="ident" id="2035944">a</span>&nbsp;<span class="op" id="2035946">...</span><span class="keyword" id="2035949">interface</span><span class="op" id="2035958">{</span><span class="op" id="2035959">}</span><span class="op" id="2035960">)</span>&nbsp;<span class="builtintype" id="2035962">string</span>&nbsp;<span class="op" id="2035969">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035972">p</span>&nbsp;<span class="op" id="2035974">:=</span>&nbsp;<span class="ident" id="2035977">newPrinter</span><span class="op" id="2035987">(</span><span class="op" id="2035988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035991">p</span><span class="op" id="2035992">.</span><span class="ident" id="2035993">doPrint</span><span class="op" id="2036000">(</span><span class="ident" id="2036001">a</span><span class="op" id="2036002">,</span>&nbsp;<span class="builtintype" id="2036004">true</span><span class="op" id="2036008">,</span>&nbsp;<span class="builtintype" id="2036010">true</span><span class="op" id="2036014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036017">s</span>&nbsp;<span class="op" id="2036019">:=</span>&nbsp;<span class="builtintype" id="2036022">string</span><span class="op" id="2036028">(</span><span class="ident" id="2036029">p</span><span class="op" id="2036030">.</span><span class="ident" id="2036031">buf</span><span class="op" id="2036034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036037">p</span><span class="op" id="2036038">.</span><span class="ident" id="2036039">free</span><span class="op" id="2036043">(</span><span class="op" id="2036044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036047">return</span>&nbsp;<span class="ident" id="2036054">s</span><br>
<span class="lineno">275</span><span class="op" id="2036056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2036059">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2036112">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2036174">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2036235">func</span>&nbsp;<span class="ident" id="2036240">getField</span><span class="op" id="2036248">(</span><span class="ident" id="2036249">v</span>&nbsp;<span class="ident" id="2036251">reflect</span><span class="op" id="2036258">.</span><span class="ident" id="2036259">Value</span><span class="op" id="2036264">,</span>&nbsp;<span class="ident" id="2036266">i</span>&nbsp;<span class="builtintype" id="2036268">int</span><span class="op" id="2036271">)</span>&nbsp;<span class="ident" id="2036273">reflect</span><span class="op" id="2036280">.</span><span class="ident" id="2036281">Value</span>&nbsp;<span class="op" id="2036287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036290">val</span>&nbsp;<span class="op" id="2036294">:=</span>&nbsp;<span class="ident" id="2036297">v</span><span class="op" id="2036298">.</span><span class="ident" id="2036299">Field</span><span class="op" id="2036304">(</span><span class="ident" id="2036305">i</span><span class="op" id="2036306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036309">if</span>&nbsp;<span class="ident" id="2036312">val</span><span class="op" id="2036315">.</span><span class="ident" id="2036316">Kind</span><span class="op" id="2036320">(</span><span class="op" id="2036321">)</span>&nbsp;<span class="op" id="2036323">==</span>&nbsp;<span class="ident" id="2036326">reflect</span><span class="op" id="2036333">.</span><span class="ident" id="2036334">Interface</span>&nbsp;<span class="op" id="2036344">&amp;&amp;</span>&nbsp;<span class="op" id="2036347">!</span><span class="ident" id="2036348">val</span><span class="op" id="2036351">.</span><span class="ident" id="2036352">IsNil</span><span class="op" id="2036357">(</span><span class="op" id="2036358">)</span>&nbsp;<span class="op" id="2036360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036364">val</span>&nbsp;<span class="op" id="2036368">=</span>&nbsp;<span class="ident" id="2036370">val</span><span class="op" id="2036373">.</span><span class="ident" id="2036374">Elem</span><span class="op" id="2036378">(</span><span class="op" id="2036379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2036382">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036385">return</span>&nbsp;<span class="ident" id="2036392">val</span><br>
<span class="lineno"></span><span class="op" id="2036396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2036399">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2036491">func</span>&nbsp;<span class="ident" id="2036496">parsenum</span><span class="op" id="2036504">(</span><span class="ident" id="2036505">s</span>&nbsp;<span class="builtintype" id="2036507">string</span><span class="op" id="2036513">,</span>&nbsp;<span class="ident" id="2036515">start</span><span class="op" id="2036520">,</span>&nbsp;<span class="ident" id="2036522">end</span>&nbsp;<span class="builtintype" id="2036526">int</span><span class="op" id="2036529">)</span>&nbsp;<span class="op" id="2036531">(</span><span class="ident" id="2036532">num</span>&nbsp;<span class="builtintype" id="2036536">int</span><span class="op" id="2036539">,</span>&nbsp;<span class="ident" id="2036541">isnum</span>&nbsp;<span class="builtintype" id="2036547">bool</span><span class="op" id="2036551">,</span>&nbsp;<span class="ident" id="2036553">newi</span>&nbsp;<span class="builtintype" id="2036558">int</span><span class="op" id="2036561">)</span>&nbsp;<span class="op" id="2036563">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036566">if</span>&nbsp;<span class="ident" id="2036569">start</span>&nbsp;<span class="op" id="2036575">&gt;=</span>&nbsp;<span class="ident" id="2036578">end</span>&nbsp;<span class="op" id="2036582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036586">return</span>&nbsp;<span class="num" id="2036593">0</span><span class="op" id="2036594">,</span>&nbsp;<span class="builtintype" id="2036596">false</span><span class="op" id="2036601">,</span>&nbsp;<span class="ident" id="2036603">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2036608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036611">for</span>&nbsp;<span class="ident" id="2036615">newi</span>&nbsp;<span class="op" id="2036620">=</span>&nbsp;<span class="ident" id="2036622">start</span><span class="op" id="2036627">;</span>&nbsp;<span class="ident" id="2036629">newi</span>&nbsp;<span class="op" id="2036634">&lt;</span>&nbsp;<span class="ident" id="2036636">end</span>&nbsp;<span class="op" id="2036640">&amp;&amp;</span>&nbsp;<span class="string" id="2036643">&#39;0&#39;</span>&nbsp;<span class="op" id="2036647">&lt;=</span>&nbsp;<span class="ident" id="2036650">s</span><span class="op" id="2036651">[</span><span class="ident" id="2036652">newi</span><span class="op" id="2036656">]</span>&nbsp;<span class="op" id="2036658">&amp;&amp;</span>&nbsp;<span class="ident" id="2036661">s</span><span class="op" id="2036662">[</span><span class="ident" id="2036663">newi</span><span class="op" id="2036667">]</span>&nbsp;<span class="op" id="2036669">&lt;=</span>&nbsp;<span class="string" id="2036672">&#39;9&#39;</span><span class="op" id="2036675">;</span>&nbsp;<span class="ident" id="2036677">newi</span><span class="op" id="2036681">++</span>&nbsp;<span class="op" id="2036684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036688">num</span>&nbsp;<span class="op" id="2036692">=</span>&nbsp;<span class="ident" id="2036694">num</span><span class="op" id="2036697">*</span><span class="num" id="2036698">10</span>&nbsp;<span class="op" id="2036701">+</span>&nbsp;<span class="builtintype" id="2036703">int</span><span class="op" id="2036706">(</span><span class="ident" id="2036707">s</span><span class="op" id="2036708">[</span><span class="ident" id="2036709">newi</span><span class="op" id="2036713">]</span><span class="op" id="2036714">-</span><span class="string" id="2036715">&#39;0&#39;</span><span class="op" id="2036718">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036722">isnum</span>&nbsp;<span class="op" id="2036728">=</span>&nbsp;<span class="builtintype" id="2036730">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2036736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036739">return</span><br>
<span class="lineno"></span><span class="op" id="2036746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2036749">func</span>&nbsp;<span class="op" id="2036754">(</span><span class="ident" id="2036755">p</span>&nbsp;<span class="op" id="2036757">*</span><span class="ident" id="2036758">pp</span><span class="op" id="2036760">)</span>&nbsp;<span class="ident" id="2036762">unknownType</span><span class="op" id="2036773">(</span><span class="ident" id="2036774">v</span>&nbsp;<span class="ident" id="2036776">reflect</span><span class="op" id="2036783">.</span><span class="ident" id="2036784">Value</span><span class="op" id="2036789">)</span>&nbsp;<span class="op" id="2036791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036794">if</span>&nbsp;<span class="op" id="2036797">!</span><span class="ident" id="2036798">v</span><span class="op" id="2036799">.</span><span class="ident" id="2036800">IsValid</span><span class="op" id="2036807">(</span><span class="op" id="2036808">)</span>&nbsp;<span class="op" id="2036810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036814">p</span><span class="op" id="2036815">.</span><span class="ident" id="2036816">buf</span><span class="op" id="2036819">.</span><span class="ident" id="2036820">Write</span><span class="op" id="2036825">(</span><span class="ident" id="2036826">nilAngleBytes</span><span class="op" id="2036839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036843">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2036851">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036854">p</span><span class="op" id="2036855">.</span><span class="ident" id="2036856">buf</span><span class="op" id="2036859">.</span><span class="ident" id="2036860">WriteByte</span><span class="op" id="2036869">(</span><span class="string" id="2036870">&#39;?&#39;</span><span class="op" id="2036873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036876">p</span><span class="op" id="2036877">.</span><span class="ident" id="2036878">buf</span><span class="op" id="2036881">.</span><span class="ident" id="2036882">WriteString</span><span class="op" id="2036893">(</span><span class="ident" id="2036894">v</span><span class="op" id="2036895">.</span><span class="ident" id="2036896">Type</span><span class="op" id="2036900">(</span><span class="op" id="2036901">)</span><span class="op" id="2036902">.</span><span class="ident" id="2036903">String</span><span class="op" id="2036909">(</span><span class="op" id="2036910">)</span><span class="op" id="2036911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036914">p</span><span class="op" id="2036915">.</span><span class="ident" id="2036916">buf</span><span class="op" id="2036919">.</span><span class="ident" id="2036920">WriteByte</span><span class="op" id="2036929">(</span><span class="string" id="2036930">&#39;?&#39;</span><span class="op" id="2036933">)</span><br>
<span class="lineno"></span><span class="op" id="2036935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2036938">func</span>&nbsp;<span class="op" id="2036943">(</span><span class="ident" id="2036944">p</span>&nbsp;<span class="op" id="2036946">*</span><span class="ident" id="2036947">pp</span><span class="op" id="2036949">)</span>&nbsp;<span class="ident" id="2036951">badVerb</span><span class="op" id="2036958">(</span><span class="ident" id="2036959">verb</span>&nbsp;<span class="builtintype" id="2036964">rune</span><span class="op" id="2036968">)</span>&nbsp;<span class="op" id="2036970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036973">p</span><span class="op" id="2036974">.</span><span class="ident" id="2036975">erroring</span>&nbsp;<span class="op" id="2036984">=</span>&nbsp;<span class="builtintype" id="2036986">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036992">p</span><span class="op" id="2036993">.</span><span class="ident" id="2036994">add</span><span class="op" id="2036997">(</span><span class="string" id="2036998">&#39;%&#39;</span><span class="op" id="2037001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037004">p</span><span class="op" id="2037005">.</span><span class="ident" id="2037006">add</span><span class="op" id="2037009">(</span><span class="string" id="2037010">&#39;!&#39;</span><span class="op" id="2037013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037016">p</span><span class="op" id="2037017">.</span><span class="ident" id="2037018">add</span><span class="op" id="2037021">(</span><span class="ident" id="2037022">verb</span><span class="op" id="2037026">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037029">p</span><span class="op" id="2037030">.</span><span class="ident" id="2037031">add</span><span class="op" id="2037034">(</span><span class="string" id="2037035">&#39;(&#39;</span><span class="op" id="2037038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037041">switch</span>&nbsp;<span class="op" id="2037048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037051">case</span>&nbsp;<span class="ident" id="2037056">p</span><span class="op" id="2037057">.</span><span class="ident" id="2037058">arg</span>&nbsp;<span class="op" id="2037062">!=</span>&nbsp;<span class="ident" id="2037065">nil</span><span class="op" id="2037068">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037072">p</span><span class="op" id="2037073">.</span><span class="ident" id="2037074">buf</span><span class="op" id="2037077">.</span><span class="ident" id="2037078">WriteString</span><span class="op" id="2037089">(</span><span class="ident" id="2037090">reflect</span><span class="op" id="2037097">.</span><span class="ident" id="2037098">TypeOf</span><span class="op" id="2037104">(</span><span class="ident" id="2037105">p</span><span class="op" id="2037106">.</span><span class="ident" id="2037107">arg</span><span class="op" id="2037110">)</span><span class="op" id="2037111">.</span><span class="ident" id="2037112">String</span><span class="op" id="2037118">(</span><span class="op" id="2037119">)</span><span class="op" id="2037120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037124">p</span><span class="op" id="2037125">.</span><span class="ident" id="2037126">add</span><span class="op" id="2037129">(</span><span class="string" id="2037130">&#39;=&#39;</span><span class="op" id="2037133">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037137">p</span><span class="op" id="2037138">.</span><span class="ident" id="2037139">printArg</span><span class="op" id="2037147">(</span><span class="ident" id="2037148">p</span><span class="op" id="2037149">.</span><span class="ident" id="2037150">arg</span><span class="op" id="2037153">,</span>&nbsp;<span class="string" id="2037155">&#39;v&#39;</span><span class="op" id="2037158">,</span>&nbsp;<span class="num" id="2037160">0</span><span class="op" id="2037161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037164">case</span>&nbsp;<span class="ident" id="2037169">p</span><span class="op" id="2037170">.</span><span class="ident" id="2037171">value</span><span class="op" id="2037176">.</span><span class="ident" id="2037177">IsValid</span><span class="op" id="2037184">(</span><span class="op" id="2037185">)</span><span class="op" id="2037186">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037190">p</span><span class="op" id="2037191">.</span><span class="ident" id="2037192">buf</span><span class="op" id="2037195">.</span><span class="ident" id="2037196">WriteString</span><span class="op" id="2037207">(</span><span class="ident" id="2037208">p</span><span class="op" id="2037209">.</span><span class="ident" id="2037210">value</span><span class="op" id="2037215">.</span><span class="ident" id="2037216">Type</span><span class="op" id="2037220">(</span><span class="op" id="2037221">)</span><span class="op" id="2037222">.</span><span class="ident" id="2037223">String</span><span class="op" id="2037229">(</span><span class="op" id="2037230">)</span><span class="op" id="2037231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037235">p</span><span class="op" id="2037236">.</span><span class="ident" id="2037237">add</span><span class="op" id="2037240">(</span><span class="string" id="2037241">&#39;=&#39;</span><span class="op" id="2037244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037248">p</span><span class="op" id="2037249">.</span><span class="ident" id="2037250">printValue</span><span class="op" id="2037260">(</span><span class="ident" id="2037261">p</span><span class="op" id="2037262">.</span><span class="ident" id="2037263">value</span><span class="op" id="2037268">,</span>&nbsp;<span class="string" id="2037270">&#39;v&#39;</span><span class="op" id="2037273">,</span>&nbsp;<span class="num" id="2037275">0</span><span class="op" id="2037276">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037279">default</span><span class="op" id="2037286">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037290">p</span><span class="op" id="2037291">.</span><span class="ident" id="2037292">buf</span><span class="op" id="2037295">.</span><span class="ident" id="2037296">Write</span><span class="op" id="2037301">(</span><span class="ident" id="2037302">nilAngleBytes</span><span class="op" id="2037315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037321">p</span><span class="op" id="2037322">.</span><span class="ident" id="2037323">add</span><span class="op" id="2037326">(</span><span class="string" id="2037327">&#39;)&#39;</span><span class="op" id="2037330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037333">p</span><span class="op" id="2037334">.</span><span class="ident" id="2037335">erroring</span>&nbsp;<span class="op" id="2037344">=</span>&nbsp;<span class="builtintype" id="2037346">false</span><br>
<span class="lineno">330</span><span class="op" id="2037352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2037355">func</span>&nbsp;<span class="op" id="2037360">(</span><span class="ident" id="2037361">p</span>&nbsp;<span class="op" id="2037363">*</span><span class="ident" id="2037364">pp</span><span class="op" id="2037366">)</span>&nbsp;<span class="ident" id="2037368">fmtBool</span><span class="op" id="2037375">(</span><span class="ident" id="2037376">v</span>&nbsp;<span class="builtintype" id="2037378">bool</span><span class="op" id="2037382">,</span>&nbsp;<span class="ident" id="2037384">verb</span>&nbsp;<span class="builtintype" id="2037389">rune</span><span class="op" id="2037393">)</span>&nbsp;<span class="op" id="2037395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037398">switch</span>&nbsp;<span class="ident" id="2037405">verb</span>&nbsp;<span class="op" id="2037410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037413">case</span>&nbsp;<span class="string" id="2037418">&#39;t&#39;</span><span class="op" id="2037421">,</span>&nbsp;<span class="string" id="2037423">&#39;v&#39;</span><span class="op" id="2037426">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037430">p</span><span class="op" id="2037431">.</span><span class="ident" id="2037432">fmt</span><span class="op" id="2037435">.</span><span class="ident" id="2037436">fmt_boolean</span><span class="op" id="2037447">(</span><span class="ident" id="2037448">v</span><span class="op" id="2037449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037452">default</span><span class="op" id="2037459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037463">p</span><span class="op" id="2037464">.</span><span class="ident" id="2037465">badVerb</span><span class="op" id="2037472">(</span><span class="ident" id="2037473">verb</span><span class="op" id="2037477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037480">}</span><br>
<span class="lineno"></span><span class="op" id="2037482">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2037485">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2037528">func</span>&nbsp;<span class="op" id="2037533">(</span><span class="ident" id="2037534">p</span>&nbsp;<span class="op" id="2037536">*</span><span class="ident" id="2037537">pp</span><span class="op" id="2037539">)</span>&nbsp;<span class="ident" id="2037541">fmtC</span><span class="op" id="2037545">(</span><span class="ident" id="2037546">c</span>&nbsp;<span class="ident" id="2037548">int64</span><span class="op" id="2037553">)</span>&nbsp;<span class="op" id="2037555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037558">r</span>&nbsp;<span class="op" id="2037560">:=</span>&nbsp;<span class="builtintype" id="2037563">rune</span><span class="op" id="2037567">(</span><span class="ident" id="2037568">c</span><span class="op" id="2037569">)</span>&nbsp;<span class="comment" id="2037571">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037595">if</span>&nbsp;<span class="ident" id="2037598">int64</span><span class="op" id="2037603">(</span><span class="ident" id="2037604">r</span><span class="op" id="2037605">)</span>&nbsp;<span class="op" id="2037607">!=</span>&nbsp;<span class="ident" id="2037610">c</span>&nbsp;<span class="op" id="2037612">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037616">r</span>&nbsp;<span class="op" id="2037618">=</span>&nbsp;<span class="ident" id="2037620">utf8</span><span class="op" id="2037624">.</span><span class="ident" id="2037625">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037639">w</span>&nbsp;<span class="op" id="2037641">:=</span>&nbsp;<span class="ident" id="2037644">utf8</span><span class="op" id="2037648">.</span><span class="ident" id="2037649">EncodeRune</span><span class="op" id="2037659">(</span><span class="ident" id="2037660">p</span><span class="op" id="2037661">.</span><span class="ident" id="2037662">runeBuf</span><span class="op" id="2037669">[</span><span class="num" id="2037670">0</span><span class="op" id="2037671">:</span><span class="ident" id="2037672">utf8</span><span class="op" id="2037676">.</span><span class="ident" id="2037677">UTFMax</span><span class="op" id="2037683">]</span><span class="op" id="2037684">,</span>&nbsp;<span class="ident" id="2037686">r</span><span class="op" id="2037687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037690">p</span><span class="op" id="2037691">.</span><span class="ident" id="2037692">fmt</span><span class="op" id="2037695">.</span><span class="ident" id="2037696">pad</span><span class="op" id="2037699">(</span><span class="ident" id="2037700">p</span><span class="op" id="2037701">.</span><span class="ident" id="2037702">runeBuf</span><span class="op" id="2037709">[</span><span class="num" id="2037710">0</span><span class="op" id="2037711">:</span><span class="ident" id="2037712">w</span><span class="op" id="2037713">]</span><span class="op" id="2037714">)</span><br>
<span class="lineno"></span><span class="op" id="2037716">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2037719">func</span>&nbsp;<span class="op" id="2037724">(</span><span class="ident" id="2037725">p</span>&nbsp;<span class="op" id="2037727">*</span><span class="ident" id="2037728">pp</span><span class="op" id="2037730">)</span>&nbsp;<span class="ident" id="2037732">fmtInt64</span><span class="op" id="2037740">(</span><span class="ident" id="2037741">v</span>&nbsp;<span class="ident" id="2037743">int64</span><span class="op" id="2037748">,</span>&nbsp;<span class="ident" id="2037750">verb</span>&nbsp;<span class="builtintype" id="2037755">rune</span><span class="op" id="2037759">)</span>&nbsp;<span class="op" id="2037761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037764">switch</span>&nbsp;<span class="ident" id="2037771">verb</span>&nbsp;<span class="op" id="2037776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037779">case</span>&nbsp;<span class="string" id="2037784">&#39;b&#39;</span><span class="op" id="2037787">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037791">p</span><span class="op" id="2037792">.</span><span class="ident" id="2037793">fmt</span><span class="op" id="2037796">.</span><span class="ident" id="2037797">integer</span><span class="op" id="2037804">(</span><span class="ident" id="2037805">v</span><span class="op" id="2037806">,</span>&nbsp;<span class="num" id="2037808">2</span><span class="op" id="2037809">,</span>&nbsp;<span class="ident" id="2037811">signed</span><span class="op" id="2037817">,</span>&nbsp;<span class="ident" id="2037819">ldigits</span><span class="op" id="2037826">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037829">case</span>&nbsp;<span class="string" id="2037834">&#39;c&#39;</span><span class="op" id="2037837">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037841">p</span><span class="op" id="2037842">.</span><span class="ident" id="2037843">fmtC</span><span class="op" id="2037847">(</span><span class="ident" id="2037848">v</span><span class="op" id="2037849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037852">case</span>&nbsp;<span class="string" id="2037857">&#39;d&#39;</span><span class="op" id="2037860">,</span>&nbsp;<span class="string" id="2037862">&#39;v&#39;</span><span class="op" id="2037865">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037869">p</span><span class="op" id="2037870">.</span><span class="ident" id="2037871">fmt</span><span class="op" id="2037874">.</span><span class="ident" id="2037875">integer</span><span class="op" id="2037882">(</span><span class="ident" id="2037883">v</span><span class="op" id="2037884">,</span>&nbsp;<span class="num" id="2037886">10</span><span class="op" id="2037888">,</span>&nbsp;<span class="ident" id="2037890">signed</span><span class="op" id="2037896">,</span>&nbsp;<span class="ident" id="2037898">ldigits</span><span class="op" id="2037905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037908">case</span>&nbsp;<span class="string" id="2037913">&#39;o&#39;</span><span class="op" id="2037916">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037920">p</span><span class="op" id="2037921">.</span><span class="ident" id="2037922">fmt</span><span class="op" id="2037925">.</span><span class="ident" id="2037926">integer</span><span class="op" id="2037933">(</span><span class="ident" id="2037934">v</span><span class="op" id="2037935">,</span>&nbsp;<span class="num" id="2037937">8</span><span class="op" id="2037938">,</span>&nbsp;<span class="ident" id="2037940">signed</span><span class="op" id="2037946">,</span>&nbsp;<span class="ident" id="2037948">ldigits</span><span class="op" id="2037955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037958">case</span>&nbsp;<span class="string" id="2037963">&#39;q&#39;</span><span class="op" id="2037966">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037970">if</span>&nbsp;<span class="num" id="2037973">0</span>&nbsp;<span class="op" id="2037975">&lt;=</span>&nbsp;<span class="ident" id="2037978">v</span>&nbsp;<span class="op" id="2037980">&amp;&amp;</span>&nbsp;<span class="ident" id="2037983">v</span>&nbsp;<span class="op" id="2037985">&lt;=</span>&nbsp;<span class="ident" id="2037988">utf8</span><span class="op" id="2037992">.</span><span class="ident" id="2037993">MaxRune</span>&nbsp;<span class="op" id="2038001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038006">p</span><span class="op" id="2038007">.</span><span class="ident" id="2038008">fmt</span><span class="op" id="2038011">.</span><span class="ident" id="2038012">fmt_qc</span><span class="op" id="2038018">(</span><span class="ident" id="2038019">v</span><span class="op" id="2038020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038024">}</span>&nbsp;<span class="keyword" id="2038026">else</span>&nbsp;<span class="op" id="2038031">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038036">p</span><span class="op" id="2038037">.</span><span class="ident" id="2038038">badVerb</span><span class="op" id="2038045">(</span><span class="ident" id="2038046">verb</span><span class="op" id="2038050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038057">case</span>&nbsp;<span class="string" id="2038062">&#39;x&#39;</span><span class="op" id="2038065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038069">p</span><span class="op" id="2038070">.</span><span class="ident" id="2038071">fmt</span><span class="op" id="2038074">.</span><span class="ident" id="2038075">integer</span><span class="op" id="2038082">(</span><span class="ident" id="2038083">v</span><span class="op" id="2038084">,</span>&nbsp;<span class="num" id="2038086">16</span><span class="op" id="2038088">,</span>&nbsp;<span class="ident" id="2038090">signed</span><span class="op" id="2038096">,</span>&nbsp;<span class="ident" id="2038098">ldigits</span><span class="op" id="2038105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038108">case</span>&nbsp;<span class="string" id="2038113">&#39;U&#39;</span><span class="op" id="2038116">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038120">p</span><span class="op" id="2038121">.</span><span class="ident" id="2038122">fmtUnicode</span><span class="op" id="2038132">(</span><span class="ident" id="2038133">v</span><span class="op" id="2038134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038137">case</span>&nbsp;<span class="string" id="2038142">&#39;X&#39;</span><span class="op" id="2038145">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038149">p</span><span class="op" id="2038150">.</span><span class="ident" id="2038151">fmt</span><span class="op" id="2038154">.</span><span class="ident" id="2038155">integer</span><span class="op" id="2038162">(</span><span class="ident" id="2038163">v</span><span class="op" id="2038164">,</span>&nbsp;<span class="num" id="2038166">16</span><span class="op" id="2038168">,</span>&nbsp;<span class="ident" id="2038170">signed</span><span class="op" id="2038176">,</span>&nbsp;<span class="ident" id="2038178">udigits</span><span class="op" id="2038185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038188">default</span><span class="op" id="2038195">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038199">p</span><span class="op" id="2038200">.</span><span class="ident" id="2038201">badVerb</span><span class="op" id="2038208">(</span><span class="ident" id="2038209">verb</span><span class="op" id="2038213">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038216">}</span><br>
<span class="lineno"></span><span class="op" id="2038218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2038221">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2038291">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2038352">func</span>&nbsp;<span class="op" id="2038357">(</span><span class="ident" id="2038358">p</span>&nbsp;<span class="op" id="2038360">*</span><span class="ident" id="2038361">pp</span><span class="op" id="2038363">)</span>&nbsp;<span class="ident" id="2038365">fmt0x64</span><span class="op" id="2038372">(</span><span class="ident" id="2038373">v</span>&nbsp;<span class="ident" id="2038375">uint64</span><span class="op" id="2038381">,</span>&nbsp;<span class="ident" id="2038383">leading0x</span>&nbsp;<span class="builtintype" id="2038393">bool</span><span class="op" id="2038397">)</span>&nbsp;<span class="op" id="2038399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038402">sharp</span>&nbsp;<span class="op" id="2038408">:=</span>&nbsp;<span class="ident" id="2038411">p</span><span class="op" id="2038412">.</span><span class="ident" id="2038413">fmt</span><span class="op" id="2038416">.</span><span class="ident" id="2038417">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038424">p</span><span class="op" id="2038425">.</span><span class="ident" id="2038426">fmt</span><span class="op" id="2038429">.</span><span class="ident" id="2038430">sharp</span>&nbsp;<span class="op" id="2038436">=</span>&nbsp;<span class="ident" id="2038438">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038449">p</span><span class="op" id="2038450">.</span><span class="ident" id="2038451">fmt</span><span class="op" id="2038454">.</span><span class="ident" id="2038455">integer</span><span class="op" id="2038462">(</span><span class="ident" id="2038463">int64</span><span class="op" id="2038468">(</span><span class="ident" id="2038469">v</span><span class="op" id="2038470">)</span><span class="op" id="2038471">,</span>&nbsp;<span class="num" id="2038473">16</span><span class="op" id="2038475">,</span>&nbsp;<span class="ident" id="2038477">unsigned</span><span class="op" id="2038485">,</span>&nbsp;<span class="ident" id="2038487">ldigits</span><span class="op" id="2038494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038497">p</span><span class="op" id="2038498">.</span><span class="ident" id="2038499">fmt</span><span class="op" id="2038502">.</span><span class="ident" id="2038503">sharp</span>&nbsp;<span class="op" id="2038509">=</span>&nbsp;<span class="ident" id="2038511">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2038517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2038520">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2038569">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2038640">func</span>&nbsp;<span class="op" id="2038645">(</span><span class="ident" id="2038646">p</span>&nbsp;<span class="op" id="2038648">*</span><span class="ident" id="2038649">pp</span><span class="op" id="2038651">)</span>&nbsp;<span class="ident" id="2038653">fmtUnicode</span><span class="op" id="2038663">(</span><span class="ident" id="2038664">v</span>&nbsp;<span class="ident" id="2038666">int64</span><span class="op" id="2038671">)</span>&nbsp;<span class="op" id="2038673">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038676">precPresent</span>&nbsp;<span class="op" id="2038688">:=</span>&nbsp;<span class="ident" id="2038691">p</span><span class="op" id="2038692">.</span><span class="ident" id="2038693">fmt</span><span class="op" id="2038696">.</span><span class="ident" id="2038697">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038710">sharp</span>&nbsp;<span class="op" id="2038716">:=</span>&nbsp;<span class="ident" id="2038719">p</span><span class="op" id="2038720">.</span><span class="ident" id="2038721">fmt</span><span class="op" id="2038724">.</span><span class="ident" id="2038725">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038732">p</span><span class="op" id="2038733">.</span><span class="ident" id="2038734">fmt</span><span class="op" id="2038737">.</span><span class="ident" id="2038738">sharp</span>&nbsp;<span class="op" id="2038744">=</span>&nbsp;<span class="builtintype" id="2038746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038753">prec</span>&nbsp;<span class="op" id="2038758">:=</span>&nbsp;<span class="ident" id="2038761">p</span><span class="op" id="2038762">.</span><span class="ident" id="2038763">fmt</span><span class="op" id="2038766">.</span><span class="ident" id="2038767">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038773">if</span>&nbsp;<span class="op" id="2038776">!</span><span class="ident" id="2038777">precPresent</span>&nbsp;<span class="op" id="2038789">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038793">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038862">p</span><span class="op" id="2038863">.</span><span class="ident" id="2038864">fmt</span><span class="op" id="2038867">.</span><span class="ident" id="2038868">prec</span>&nbsp;<span class="op" id="2038873">=</span>&nbsp;<span class="num" id="2038875">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038879">p</span><span class="op" id="2038880">.</span><span class="ident" id="2038881">fmt</span><span class="op" id="2038884">.</span><span class="ident" id="2038885">precPresent</span>&nbsp;<span class="op" id="2038897">=</span>&nbsp;<span class="builtintype" id="2038899">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038908">p</span><span class="op" id="2038909">.</span><span class="ident" id="2038910">fmt</span><span class="op" id="2038913">.</span><span class="ident" id="2038914">unicode</span>&nbsp;<span class="op" id="2038922">=</span>&nbsp;<span class="builtintype" id="2038924">true</span>&nbsp;<span class="comment" id="2038929">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038944">p</span><span class="op" id="2038945">.</span><span class="ident" id="2038946">fmt</span><span class="op" id="2038949">.</span><span class="ident" id="2038950">uniQuote</span>&nbsp;<span class="op" id="2038959">=</span>&nbsp;<span class="ident" id="2038961">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038968">p</span><span class="op" id="2038969">.</span><span class="ident" id="2038970">fmt</span><span class="op" id="2038973">.</span><span class="ident" id="2038974">integer</span><span class="op" id="2038981">(</span><span class="ident" id="2038982">int64</span><span class="op" id="2038987">(</span><span class="ident" id="2038988">v</span><span class="op" id="2038989">)</span><span class="op" id="2038990">,</span>&nbsp;<span class="num" id="2038992">16</span><span class="op" id="2038994">,</span>&nbsp;<span class="ident" id="2038996">unsigned</span><span class="op" id="2039004">,</span>&nbsp;<span class="ident" id="2039006">udigits</span><span class="op" id="2039013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039016">p</span><span class="op" id="2039017">.</span><span class="ident" id="2039018">fmt</span><span class="op" id="2039021">.</span><span class="ident" id="2039022">unicode</span>&nbsp;<span class="op" id="2039030">=</span>&nbsp;<span class="builtintype" id="2039032">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039039">p</span><span class="op" id="2039040">.</span><span class="ident" id="2039041">fmt</span><span class="op" id="2039044">.</span><span class="ident" id="2039045">uniQuote</span>&nbsp;<span class="op" id="2039054">=</span>&nbsp;<span class="builtintype" id="2039056">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039063">p</span><span class="op" id="2039064">.</span><span class="ident" id="2039065">fmt</span><span class="op" id="2039068">.</span><span class="ident" id="2039069">prec</span>&nbsp;<span class="op" id="2039074">=</span>&nbsp;<span class="ident" id="2039076">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039082">p</span><span class="op" id="2039083">.</span><span class="ident" id="2039084">fmt</span><span class="op" id="2039087">.</span><span class="ident" id="2039088">precPresent</span>&nbsp;<span class="op" id="2039100">=</span>&nbsp;<span class="ident" id="2039102">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039115">p</span><span class="op" id="2039116">.</span><span class="ident" id="2039117">fmt</span><span class="op" id="2039120">.</span><span class="ident" id="2039121">sharp</span>&nbsp;<span class="op" id="2039127">=</span>&nbsp;<span class="ident" id="2039129">sharp</span><br>
<span class="lineno"></span><span class="op" id="2039135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2039138">func</span>&nbsp;<span class="op" id="2039143">(</span><span class="ident" id="2039144">p</span>&nbsp;<span class="op" id="2039146">*</span><span class="ident" id="2039147">pp</span><span class="op" id="2039149">)</span>&nbsp;<span class="ident" id="2039151">fmtUint64</span><span class="op" id="2039160">(</span><span class="ident" id="2039161">v</span>&nbsp;<span class="ident" id="2039163">uint64</span><span class="op" id="2039169">,</span>&nbsp;<span class="ident" id="2039171">verb</span>&nbsp;<span class="builtintype" id="2039176">rune</span><span class="op" id="2039180">)</span>&nbsp;<span class="op" id="2039182">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039185">switch</span>&nbsp;<span class="ident" id="2039192">verb</span>&nbsp;<span class="op" id="2039197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039200">case</span>&nbsp;<span class="string" id="2039205">&#39;b&#39;</span><span class="op" id="2039208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039212">p</span><span class="op" id="2039213">.</span><span class="ident" id="2039214">fmt</span><span class="op" id="2039217">.</span><span class="ident" id="2039218">integer</span><span class="op" id="2039225">(</span><span class="ident" id="2039226">int64</span><span class="op" id="2039231">(</span><span class="ident" id="2039232">v</span><span class="op" id="2039233">)</span><span class="op" id="2039234">,</span>&nbsp;<span class="num" id="2039236">2</span><span class="op" id="2039237">,</span>&nbsp;<span class="ident" id="2039239">unsigned</span><span class="op" id="2039247">,</span>&nbsp;<span class="ident" id="2039249">ldigits</span><span class="op" id="2039256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039259">case</span>&nbsp;<span class="string" id="2039264">&#39;c&#39;</span><span class="op" id="2039267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039271">p</span><span class="op" id="2039272">.</span><span class="ident" id="2039273">fmtC</span><span class="op" id="2039277">(</span><span class="ident" id="2039278">int64</span><span class="op" id="2039283">(</span><span class="ident" id="2039284">v</span><span class="op" id="2039285">)</span><span class="op" id="2039286">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039289">case</span>&nbsp;<span class="string" id="2039294">&#39;d&#39;</span><span class="op" id="2039297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039301">p</span><span class="op" id="2039302">.</span><span class="ident" id="2039303">fmt</span><span class="op" id="2039306">.</span><span class="ident" id="2039307">integer</span><span class="op" id="2039314">(</span><span class="ident" id="2039315">int64</span><span class="op" id="2039320">(</span><span class="ident" id="2039321">v</span><span class="op" id="2039322">)</span><span class="op" id="2039323">,</span>&nbsp;<span class="num" id="2039325">10</span><span class="op" id="2039327">,</span>&nbsp;<span class="ident" id="2039329">unsigned</span><span class="op" id="2039337">,</span>&nbsp;<span class="ident" id="2039339">ldigits</span><span class="op" id="2039346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039349">case</span>&nbsp;<span class="string" id="2039354">&#39;v&#39;</span><span class="op" id="2039357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039361">if</span>&nbsp;<span class="ident" id="2039364">p</span><span class="op" id="2039365">.</span><span class="ident" id="2039366">fmt</span><span class="op" id="2039369">.</span><span class="ident" id="2039370">sharpV</span>&nbsp;<span class="op" id="2039377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039382">p</span><span class="op" id="2039383">.</span><span class="ident" id="2039384">fmt0x64</span><span class="op" id="2039391">(</span><span class="ident" id="2039392">v</span><span class="op" id="2039393">,</span>&nbsp;<span class="builtintype" id="2039395">true</span><span class="op" id="2039399">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039403">}</span>&nbsp;<span class="keyword" id="2039405">else</span>&nbsp;<span class="op" id="2039410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039415">p</span><span class="op" id="2039416">.</span><span class="ident" id="2039417">fmt</span><span class="op" id="2039420">.</span><span class="ident" id="2039421">integer</span><span class="op" id="2039428">(</span><span class="ident" id="2039429">int64</span><span class="op" id="2039434">(</span><span class="ident" id="2039435">v</span><span class="op" id="2039436">)</span><span class="op" id="2039437">,</span>&nbsp;<span class="num" id="2039439">10</span><span class="op" id="2039441">,</span>&nbsp;<span class="ident" id="2039443">unsigned</span><span class="op" id="2039451">,</span>&nbsp;<span class="ident" id="2039453">ldigits</span><span class="op" id="2039460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039467">case</span>&nbsp;<span class="string" id="2039472">&#39;o&#39;</span><span class="op" id="2039475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039479">p</span><span class="op" id="2039480">.</span><span class="ident" id="2039481">fmt</span><span class="op" id="2039484">.</span><span class="ident" id="2039485">integer</span><span class="op" id="2039492">(</span><span class="ident" id="2039493">int64</span><span class="op" id="2039498">(</span><span class="ident" id="2039499">v</span><span class="op" id="2039500">)</span><span class="op" id="2039501">,</span>&nbsp;<span class="num" id="2039503">8</span><span class="op" id="2039504">,</span>&nbsp;<span class="ident" id="2039506">unsigned</span><span class="op" id="2039514">,</span>&nbsp;<span class="ident" id="2039516">ldigits</span><span class="op" id="2039523">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039526">case</span>&nbsp;<span class="string" id="2039531">&#39;q&#39;</span><span class="op" id="2039534">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039538">if</span>&nbsp;<span class="num" id="2039541">0</span>&nbsp;<span class="op" id="2039543">&lt;=</span>&nbsp;<span class="ident" id="2039546">v</span>&nbsp;<span class="op" id="2039548">&amp;&amp;</span>&nbsp;<span class="ident" id="2039551">v</span>&nbsp;<span class="op" id="2039553">&lt;=</span>&nbsp;<span class="ident" id="2039556">utf8</span><span class="op" id="2039560">.</span><span class="ident" id="2039561">MaxRune</span>&nbsp;<span class="op" id="2039569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039574">p</span><span class="op" id="2039575">.</span><span class="ident" id="2039576">fmt</span><span class="op" id="2039579">.</span><span class="ident" id="2039580">fmt_qc</span><span class="op" id="2039586">(</span><span class="ident" id="2039587">int64</span><span class="op" id="2039592">(</span><span class="ident" id="2039593">v</span><span class="op" id="2039594">)</span><span class="op" id="2039595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039599">}</span>&nbsp;<span class="keyword" id="2039601">else</span>&nbsp;<span class="op" id="2039606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039611">p</span><span class="op" id="2039612">.</span><span class="ident" id="2039613">badVerb</span><span class="op" id="2039620">(</span><span class="ident" id="2039621">verb</span><span class="op" id="2039625">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039632">case</span>&nbsp;<span class="string" id="2039637">&#39;x&#39;</span><span class="op" id="2039640">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039644">p</span><span class="op" id="2039645">.</span><span class="ident" id="2039646">fmt</span><span class="op" id="2039649">.</span><span class="ident" id="2039650">integer</span><span class="op" id="2039657">(</span><span class="ident" id="2039658">int64</span><span class="op" id="2039663">(</span><span class="ident" id="2039664">v</span><span class="op" id="2039665">)</span><span class="op" id="2039666">,</span>&nbsp;<span class="num" id="2039668">16</span><span class="op" id="2039670">,</span>&nbsp;<span class="ident" id="2039672">unsigned</span><span class="op" id="2039680">,</span>&nbsp;<span class="ident" id="2039682">ldigits</span><span class="op" id="2039689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039692">case</span>&nbsp;<span class="string" id="2039697">&#39;X&#39;</span><span class="op" id="2039700">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039704">p</span><span class="op" id="2039705">.</span><span class="ident" id="2039706">fmt</span><span class="op" id="2039709">.</span><span class="ident" id="2039710">integer</span><span class="op" id="2039717">(</span><span class="ident" id="2039718">int64</span><span class="op" id="2039723">(</span><span class="ident" id="2039724">v</span><span class="op" id="2039725">)</span><span class="op" id="2039726">,</span>&nbsp;<span class="num" id="2039728">16</span><span class="op" id="2039730">,</span>&nbsp;<span class="ident" id="2039732">unsigned</span><span class="op" id="2039740">,</span>&nbsp;<span class="ident" id="2039742">udigits</span><span class="op" id="2039749">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039752">case</span>&nbsp;<span class="string" id="2039757">&#39;U&#39;</span><span class="op" id="2039760">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039764">p</span><span class="op" id="2039765">.</span><span class="ident" id="2039766">fmtUnicode</span><span class="op" id="2039776">(</span><span class="ident" id="2039777">int64</span><span class="op" id="2039782">(</span><span class="ident" id="2039783">v</span><span class="op" id="2039784">)</span><span class="op" id="2039785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039788">default</span><span class="op" id="2039795">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039799">p</span><span class="op" id="2039800">.</span><span class="ident" id="2039801">badVerb</span><span class="op" id="2039808">(</span><span class="ident" id="2039809">verb</span><span class="op" id="2039813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039816">}</span><br>
<span class="lineno">440</span><span class="op" id="2039818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2039821">func</span>&nbsp;<span class="op" id="2039826">(</span><span class="ident" id="2039827">p</span>&nbsp;<span class="op" id="2039829">*</span><span class="ident" id="2039830">pp</span><span class="op" id="2039832">)</span>&nbsp;<span class="ident" id="2039834">fmtFloat32</span><span class="op" id="2039844">(</span><span class="ident" id="2039845">v</span>&nbsp;<span class="builtintype" id="2039847">float32</span><span class="op" id="2039854">,</span>&nbsp;<span class="ident" id="2039856">verb</span>&nbsp;<span class="builtintype" id="2039861">rune</span><span class="op" id="2039865">)</span>&nbsp;<span class="op" id="2039867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039870">switch</span>&nbsp;<span class="ident" id="2039877">verb</span>&nbsp;<span class="op" id="2039882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039885">case</span>&nbsp;<span class="string" id="2039890">&#39;b&#39;</span><span class="op" id="2039893">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039897">p</span><span class="op" id="2039898">.</span><span class="ident" id="2039899">fmt</span><span class="op" id="2039902">.</span><span class="ident" id="2039903">fmt_fb32</span><span class="op" id="2039911">(</span><span class="ident" id="2039912">v</span><span class="op" id="2039913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039916">case</span>&nbsp;<span class="string" id="2039921">&#39;e&#39;</span><span class="op" id="2039924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039928">p</span><span class="op" id="2039929">.</span><span class="ident" id="2039930">fmt</span><span class="op" id="2039933">.</span><span class="ident" id="2039934">fmt_e32</span><span class="op" id="2039941">(</span><span class="ident" id="2039942">v</span><span class="op" id="2039943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039946">case</span>&nbsp;<span class="string" id="2039951">&#39;E&#39;</span><span class="op" id="2039954">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039958">p</span><span class="op" id="2039959">.</span><span class="ident" id="2039960">fmt</span><span class="op" id="2039963">.</span><span class="ident" id="2039964">fmt_E32</span><span class="op" id="2039971">(</span><span class="ident" id="2039972">v</span><span class="op" id="2039973">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039976">case</span>&nbsp;<span class="string" id="2039981">&#39;f&#39;</span><span class="op" id="2039984">,</span>&nbsp;<span class="string" id="2039986">&#39;F&#39;</span><span class="op" id="2039989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039993">p</span><span class="op" id="2039994">.</span><span class="ident" id="2039995">fmt</span><span class="op" id="2039998">.</span><span class="ident" id="2039999">fmt_f32</span><span class="op" id="2040006">(</span><span class="ident" id="2040007">v</span><span class="op" id="2040008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040011">case</span>&nbsp;<span class="string" id="2040016">&#39;g&#39;</span><span class="op" id="2040019">,</span>&nbsp;<span class="string" id="2040021">&#39;v&#39;</span><span class="op" id="2040024">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040028">p</span><span class="op" id="2040029">.</span><span class="ident" id="2040030">fmt</span><span class="op" id="2040033">.</span><span class="ident" id="2040034">fmt_g32</span><span class="op" id="2040041">(</span><span class="ident" id="2040042">v</span><span class="op" id="2040043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040046">case</span>&nbsp;<span class="string" id="2040051">&#39;G&#39;</span><span class="op" id="2040054">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040058">p</span><span class="op" id="2040059">.</span><span class="ident" id="2040060">fmt</span><span class="op" id="2040063">.</span><span class="ident" id="2040064">fmt_G32</span><span class="op" id="2040071">(</span><span class="ident" id="2040072">v</span><span class="op" id="2040073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040076">default</span><span class="op" id="2040083">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040087">p</span><span class="op" id="2040088">.</span><span class="ident" id="2040089">badVerb</span><span class="op" id="2040096">(</span><span class="ident" id="2040097">verb</span><span class="op" id="2040101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040104">}</span><br>
<span class="lineno"></span><span class="op" id="2040106">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2040109">func</span>&nbsp;<span class="op" id="2040114">(</span><span class="ident" id="2040115">p</span>&nbsp;<span class="op" id="2040117">*</span><span class="ident" id="2040118">pp</span><span class="op" id="2040120">)</span>&nbsp;<span class="ident" id="2040122">fmtFloat64</span><span class="op" id="2040132">(</span><span class="ident" id="2040133">v</span>&nbsp;<span class="builtintype" id="2040135">float64</span><span class="op" id="2040142">,</span>&nbsp;<span class="ident" id="2040144">verb</span>&nbsp;<span class="builtintype" id="2040149">rune</span><span class="op" id="2040153">)</span>&nbsp;<span class="op" id="2040155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040158">switch</span>&nbsp;<span class="ident" id="2040165">verb</span>&nbsp;<span class="op" id="2040170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040173">case</span>&nbsp;<span class="string" id="2040178">&#39;b&#39;</span><span class="op" id="2040181">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040185">p</span><span class="op" id="2040186">.</span><span class="ident" id="2040187">fmt</span><span class="op" id="2040190">.</span><span class="ident" id="2040191">fmt_fb64</span><span class="op" id="2040199">(</span><span class="ident" id="2040200">v</span><span class="op" id="2040201">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040204">case</span>&nbsp;<span class="string" id="2040209">&#39;e&#39;</span><span class="op" id="2040212">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040216">p</span><span class="op" id="2040217">.</span><span class="ident" id="2040218">fmt</span><span class="op" id="2040221">.</span><span class="ident" id="2040222">fmt_e64</span><span class="op" id="2040229">(</span><span class="ident" id="2040230">v</span><span class="op" id="2040231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040234">case</span>&nbsp;<span class="string" id="2040239">&#39;E&#39;</span><span class="op" id="2040242">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040246">p</span><span class="op" id="2040247">.</span><span class="ident" id="2040248">fmt</span><span class="op" id="2040251">.</span><span class="ident" id="2040252">fmt_E64</span><span class="op" id="2040259">(</span><span class="ident" id="2040260">v</span><span class="op" id="2040261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040264">case</span>&nbsp;<span class="string" id="2040269">&#39;f&#39;</span><span class="op" id="2040272">,</span>&nbsp;<span class="string" id="2040274">&#39;F&#39;</span><span class="op" id="2040277">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040281">p</span><span class="op" id="2040282">.</span><span class="ident" id="2040283">fmt</span><span class="op" id="2040286">.</span><span class="ident" id="2040287">fmt_f64</span><span class="op" id="2040294">(</span><span class="ident" id="2040295">v</span><span class="op" id="2040296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040299">case</span>&nbsp;<span class="string" id="2040304">&#39;g&#39;</span><span class="op" id="2040307">,</span>&nbsp;<span class="string" id="2040309">&#39;v&#39;</span><span class="op" id="2040312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040316">p</span><span class="op" id="2040317">.</span><span class="ident" id="2040318">fmt</span><span class="op" id="2040321">.</span><span class="ident" id="2040322">fmt_g64</span><span class="op" id="2040329">(</span><span class="ident" id="2040330">v</span><span class="op" id="2040331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040334">case</span>&nbsp;<span class="string" id="2040339">&#39;G&#39;</span><span class="op" id="2040342">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040346">p</span><span class="op" id="2040347">.</span><span class="ident" id="2040348">fmt</span><span class="op" id="2040351">.</span><span class="ident" id="2040352">fmt_G64</span><span class="op" id="2040359">(</span><span class="ident" id="2040360">v</span><span class="op" id="2040361">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040364">default</span><span class="op" id="2040371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040375">p</span><span class="op" id="2040376">.</span><span class="ident" id="2040377">badVerb</span><span class="op" id="2040384">(</span><span class="ident" id="2040385">verb</span><span class="op" id="2040389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040392">}</span><br>
<span class="lineno"></span><span class="op" id="2040394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2040397">func</span>&nbsp;<span class="op" id="2040402">(</span><span class="ident" id="2040403">p</span>&nbsp;<span class="op" id="2040405">*</span><span class="ident" id="2040406">pp</span><span class="op" id="2040408">)</span>&nbsp;<span class="ident" id="2040410">fmtComplex64</span><span class="op" id="2040422">(</span><span class="ident" id="2040423">v</span>&nbsp;<span class="builtintype" id="2040425">complex64</span><span class="op" id="2040434">,</span>&nbsp;<span class="ident" id="2040436">verb</span>&nbsp;<span class="builtintype" id="2040441">rune</span><span class="op" id="2040445">)</span>&nbsp;<span class="op" id="2040447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040450">switch</span>&nbsp;<span class="ident" id="2040457">verb</span>&nbsp;<span class="op" id="2040462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040465">case</span>&nbsp;<span class="string" id="2040470">&#39;b&#39;</span><span class="op" id="2040473">,</span>&nbsp;<span class="string" id="2040475">&#39;e&#39;</span><span class="op" id="2040478">,</span>&nbsp;<span class="string" id="2040480">&#39;E&#39;</span><span class="op" id="2040483">,</span>&nbsp;<span class="string" id="2040485">&#39;f&#39;</span><span class="op" id="2040488">,</span>&nbsp;<span class="string" id="2040490">&#39;F&#39;</span><span class="op" id="2040493">,</span>&nbsp;<span class="string" id="2040495">&#39;g&#39;</span><span class="op" id="2040498">,</span>&nbsp;<span class="string" id="2040500">&#39;G&#39;</span><span class="op" id="2040503">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040507">p</span><span class="op" id="2040508">.</span><span class="ident" id="2040509">fmt</span><span class="op" id="2040512">.</span><span class="ident" id="2040513">fmt_c64</span><span class="op" id="2040520">(</span><span class="ident" id="2040521">v</span><span class="op" id="2040522">,</span>&nbsp;<span class="ident" id="2040524">verb</span><span class="op" id="2040528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040531">case</span>&nbsp;<span class="string" id="2040536">&#39;v&#39;</span><span class="op" id="2040539">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040543">p</span><span class="op" id="2040544">.</span><span class="ident" id="2040545">fmt</span><span class="op" id="2040548">.</span><span class="ident" id="2040549">fmt_c64</span><span class="op" id="2040556">(</span><span class="ident" id="2040557">v</span><span class="op" id="2040558">,</span>&nbsp;<span class="string" id="2040560">&#39;g&#39;</span><span class="op" id="2040563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040566">default</span><span class="op" id="2040573">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040577">p</span><span class="op" id="2040578">.</span><span class="ident" id="2040579">badVerb</span><span class="op" id="2040586">(</span><span class="ident" id="2040587">verb</span><span class="op" id="2040591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040594">}</span><br>
<span class="lineno"></span><span class="op" id="2040596">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2040599">func</span>&nbsp;<span class="op" id="2040604">(</span><span class="ident" id="2040605">p</span>&nbsp;<span class="op" id="2040607">*</span><span class="ident" id="2040608">pp</span><span class="op" id="2040610">)</span>&nbsp;<span class="ident" id="2040612">fmtComplex128</span><span class="op" id="2040625">(</span><span class="ident" id="2040626">v</span>&nbsp;<span class="builtintype" id="2040628">complex128</span><span class="op" id="2040638">,</span>&nbsp;<span class="ident" id="2040640">verb</span>&nbsp;<span class="builtintype" id="2040645">rune</span><span class="op" id="2040649">)</span>&nbsp;<span class="op" id="2040651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040654">switch</span>&nbsp;<span class="ident" id="2040661">verb</span>&nbsp;<span class="op" id="2040666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040669">case</span>&nbsp;<span class="string" id="2040674">&#39;b&#39;</span><span class="op" id="2040677">,</span>&nbsp;<span class="string" id="2040679">&#39;e&#39;</span><span class="op" id="2040682">,</span>&nbsp;<span class="string" id="2040684">&#39;E&#39;</span><span class="op" id="2040687">,</span>&nbsp;<span class="string" id="2040689">&#39;f&#39;</span><span class="op" id="2040692">,</span>&nbsp;<span class="string" id="2040694">&#39;F&#39;</span><span class="op" id="2040697">,</span>&nbsp;<span class="string" id="2040699">&#39;g&#39;</span><span class="op" id="2040702">,</span>&nbsp;<span class="string" id="2040704">&#39;G&#39;</span><span class="op" id="2040707">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040711">p</span><span class="op" id="2040712">.</span><span class="ident" id="2040713">fmt</span><span class="op" id="2040716">.</span><span class="ident" id="2040717">fmt_c128</span><span class="op" id="2040725">(</span><span class="ident" id="2040726">v</span><span class="op" id="2040727">,</span>&nbsp;<span class="ident" id="2040729">verb</span><span class="op" id="2040733">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040736">case</span>&nbsp;<span class="string" id="2040741">&#39;v&#39;</span><span class="op" id="2040744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040748">p</span><span class="op" id="2040749">.</span><span class="ident" id="2040750">fmt</span><span class="op" id="2040753">.</span><span class="ident" id="2040754">fmt_c128</span><span class="op" id="2040762">(</span><span class="ident" id="2040763">v</span><span class="op" id="2040764">,</span>&nbsp;<span class="string" id="2040766">&#39;g&#39;</span><span class="op" id="2040769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040772">default</span><span class="op" id="2040779">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040783">p</span><span class="op" id="2040784">.</span><span class="ident" id="2040785">badVerb</span><span class="op" id="2040792">(</span><span class="ident" id="2040793">verb</span><span class="op" id="2040797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040800">}</span><br>
<span class="lineno">500</span><span class="op" id="2040802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2040805">func</span>&nbsp;<span class="op" id="2040810">(</span><span class="ident" id="2040811">p</span>&nbsp;<span class="op" id="2040813">*</span><span class="ident" id="2040814">pp</span><span class="op" id="2040816">)</span>&nbsp;<span class="ident" id="2040818">fmtString</span><span class="op" id="2040827">(</span><span class="ident" id="2040828">v</span>&nbsp;<span class="builtintype" id="2040830">string</span><span class="op" id="2040836">,</span>&nbsp;<span class="ident" id="2040838">verb</span>&nbsp;<span class="builtintype" id="2040843">rune</span><span class="op" id="2040847">)</span>&nbsp;<span class="op" id="2040849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040852">switch</span>&nbsp;<span class="ident" id="2040859">verb</span>&nbsp;<span class="op" id="2040864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040867">case</span>&nbsp;<span class="string" id="2040872">&#39;v&#39;</span><span class="op" id="2040875">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040879">if</span>&nbsp;<span class="ident" id="2040882">p</span><span class="op" id="2040883">.</span><span class="ident" id="2040884">fmt</span><span class="op" id="2040887">.</span><span class="ident" id="2040888">sharpV</span>&nbsp;<span class="op" id="2040895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040900">p</span><span class="op" id="2040901">.</span><span class="ident" id="2040902">fmt</span><span class="op" id="2040905">.</span><span class="ident" id="2040906">fmt_q</span><span class="op" id="2040911">(</span><span class="ident" id="2040912">v</span><span class="op" id="2040913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040917">}</span>&nbsp;<span class="keyword" id="2040919">else</span>&nbsp;<span class="op" id="2040924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040929">p</span><span class="op" id="2040930">.</span><span class="ident" id="2040931">fmt</span><span class="op" id="2040934">.</span><span class="ident" id="2040935">fmt_s</span><span class="op" id="2040940">(</span><span class="ident" id="2040941">v</span><span class="op" id="2040942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040946">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040949">case</span>&nbsp;<span class="string" id="2040954">&#39;s&#39;</span><span class="op" id="2040957">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040961">p</span><span class="op" id="2040962">.</span><span class="ident" id="2040963">fmt</span><span class="op" id="2040966">.</span><span class="ident" id="2040967">fmt_s</span><span class="op" id="2040972">(</span><span class="ident" id="2040973">v</span><span class="op" id="2040974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040977">case</span>&nbsp;<span class="string" id="2040982">&#39;x&#39;</span><span class="op" id="2040985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040989">p</span><span class="op" id="2040990">.</span><span class="ident" id="2040991">fmt</span><span class="op" id="2040994">.</span><span class="ident" id="2040995">fmt_sx</span><span class="op" id="2041001">(</span><span class="ident" id="2041002">v</span><span class="op" id="2041003">,</span>&nbsp;<span class="ident" id="2041005">ldigits</span><span class="op" id="2041012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041015">case</span>&nbsp;<span class="string" id="2041020">&#39;X&#39;</span><span class="op" id="2041023">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041027">p</span><span class="op" id="2041028">.</span><span class="ident" id="2041029">fmt</span><span class="op" id="2041032">.</span><span class="ident" id="2041033">fmt_sx</span><span class="op" id="2041039">(</span><span class="ident" id="2041040">v</span><span class="op" id="2041041">,</span>&nbsp;<span class="ident" id="2041043">udigits</span><span class="op" id="2041050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041053">case</span>&nbsp;<span class="string" id="2041058">&#39;q&#39;</span><span class="op" id="2041061">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041065">p</span><span class="op" id="2041066">.</span><span class="ident" id="2041067">fmt</span><span class="op" id="2041070">.</span><span class="ident" id="2041071">fmt_q</span><span class="op" id="2041076">(</span><span class="ident" id="2041077">v</span><span class="op" id="2041078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041081">default</span><span class="op" id="2041088">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041092">p</span><span class="op" id="2041093">.</span><span class="ident" id="2041094">badVerb</span><span class="op" id="2041101">(</span><span class="ident" id="2041102">verb</span><span class="op" id="2041106">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041109">}</span><br>
<span class="lineno"></span><span class="op" id="2041111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2041114">func</span>&nbsp;<span class="op" id="2041119">(</span><span class="ident" id="2041120">p</span>&nbsp;<span class="op" id="2041122">*</span><span class="ident" id="2041123">pp</span><span class="op" id="2041125">)</span>&nbsp;<span class="ident" id="2041127">fmtBytes</span><span class="op" id="2041135">(</span><span class="ident" id="2041136">v</span>&nbsp;<span class="op" id="2041138">[</span><span class="op" id="2041139">]</span><span class="builtintype" id="2041140">byte</span><span class="op" id="2041144">,</span>&nbsp;<span class="ident" id="2041146">verb</span>&nbsp;<span class="builtintype" id="2041151">rune</span><span class="op" id="2041155">,</span>&nbsp;<span class="ident" id="2041157">typ</span>&nbsp;<span class="ident" id="2041161">reflect</span><span class="op" id="2041168">.</span><span class="ident" id="2041169">Type</span><span class="op" id="2041173">,</span>&nbsp;<span class="ident" id="2041175">depth</span>&nbsp;<span class="builtintype" id="2041181">int</span><span class="op" id="2041184">)</span>&nbsp;<span class="op" id="2041186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041189">if</span>&nbsp;<span class="ident" id="2041192">verb</span>&nbsp;<span class="op" id="2041197">==</span>&nbsp;<span class="string" id="2041200">&#39;v&#39;</span>&nbsp;<span class="op" id="2041204">||</span>&nbsp;<span class="ident" id="2041207">verb</span>&nbsp;<span class="op" id="2041212">==</span>&nbsp;<span class="string" id="2041215">&#39;d&#39;</span>&nbsp;<span class="op" id="2041219">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041223">if</span>&nbsp;<span class="ident" id="2041226">p</span><span class="op" id="2041227">.</span><span class="ident" id="2041228">fmt</span><span class="op" id="2041231">.</span><span class="ident" id="2041232">sharpV</span>&nbsp;<span class="op" id="2041239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041244">if</span>&nbsp;<span class="ident" id="2041247">v</span>&nbsp;<span class="op" id="2041249">==</span>&nbsp;<span class="ident" id="2041252">nil</span>&nbsp;<span class="op" id="2041256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041262">if</span>&nbsp;<span class="ident" id="2041265">typ</span>&nbsp;<span class="op" id="2041269">==</span>&nbsp;<span class="ident" id="2041272">nil</span>&nbsp;<span class="op" id="2041276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041283">p</span><span class="op" id="2041284">.</span><span class="ident" id="2041285">buf</span><span class="op" id="2041288">.</span><span class="ident" id="2041289">WriteString</span><span class="op" id="2041300">(</span><span class="string" id="2041301">&#34;[]byte(nil)&#34;</span><span class="op" id="2041314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041320">}</span>&nbsp;<span class="keyword" id="2041322">else</span>&nbsp;<span class="op" id="2041327">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041334">p</span><span class="op" id="2041335">.</span><span class="ident" id="2041336">buf</span><span class="op" id="2041339">.</span><span class="ident" id="2041340">WriteString</span><span class="op" id="2041351">(</span><span class="ident" id="2041352">typ</span><span class="op" id="2041355">.</span><span class="ident" id="2041356">String</span><span class="op" id="2041362">(</span><span class="op" id="2041363">)</span><span class="op" id="2041364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041371">p</span><span class="op" id="2041372">.</span><span class="ident" id="2041373">buf</span><span class="op" id="2041376">.</span><span class="ident" id="2041377">Write</span><span class="op" id="2041382">(</span><span class="ident" id="2041383">nilParenBytes</span><span class="op" id="2041396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041408">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041418">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041423">if</span>&nbsp;<span class="ident" id="2041426">typ</span>&nbsp;<span class="op" id="2041430">==</span>&nbsp;<span class="ident" id="2041433">nil</span>&nbsp;<span class="op" id="2041437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041443">p</span><span class="op" id="2041444">.</span><span class="ident" id="2041445">buf</span><span class="op" id="2041448">.</span><span class="ident" id="2041449">Write</span><span class="op" id="2041454">(</span><span class="ident" id="2041455">bytesBytes</span><span class="op" id="2041465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041470">}</span>&nbsp;<span class="keyword" id="2041472">else</span>&nbsp;<span class="op" id="2041477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041483">p</span><span class="op" id="2041484">.</span><span class="ident" id="2041485">buf</span><span class="op" id="2041488">.</span><span class="ident" id="2041489">WriteString</span><span class="op" id="2041500">(</span><span class="ident" id="2041501">typ</span><span class="op" id="2041504">.</span><span class="ident" id="2041505">String</span><span class="op" id="2041511">(</span><span class="op" id="2041512">)</span><span class="op" id="2041513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041519">p</span><span class="op" id="2041520">.</span><span class="ident" id="2041521">buf</span><span class="op" id="2041524">.</span><span class="ident" id="2041525">WriteByte</span><span class="op" id="2041534">(</span><span class="string" id="2041535">&#39;{&#39;</span><span class="op" id="2041538">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041547">}</span>&nbsp;<span class="keyword" id="2041549">else</span>&nbsp;<span class="op" id="2041554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041559">p</span><span class="op" id="2041560">.</span><span class="ident" id="2041561">buf</span><span class="op" id="2041564">.</span><span class="ident" id="2041565">WriteByte</span><span class="op" id="2041574">(</span><span class="string" id="2041575">&#39;[&#39;</span><span class="op" id="2041578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041586">for</span>&nbsp;<span class="ident" id="2041590">i</span><span class="op" id="2041591">,</span>&nbsp;<span class="ident" id="2041593">c</span>&nbsp;<span class="op" id="2041595">:=</span>&nbsp;<span class="keyword" id="2041598">range</span>&nbsp;<span class="ident" id="2041604">v</span>&nbsp;<span class="op" id="2041606">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041611">if</span>&nbsp;<span class="ident" id="2041614">i</span>&nbsp;<span class="op" id="2041616">&gt;</span>&nbsp;<span class="num" id="2041618">0</span>&nbsp;<span class="op" id="2041620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041626">if</span>&nbsp;<span class="ident" id="2041629">p</span><span class="op" id="2041630">.</span><span class="ident" id="2041631">fmt</span><span class="op" id="2041634">.</span><span class="ident" id="2041635">sharpV</span>&nbsp;<span class="op" id="2041642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041649">p</span><span class="op" id="2041650">.</span><span class="ident" id="2041651">buf</span><span class="op" id="2041654">.</span><span class="ident" id="2041655">Write</span><span class="op" id="2041660">(</span><span class="ident" id="2041661">commaSpaceBytes</span><span class="op" id="2041676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041682">}</span>&nbsp;<span class="keyword" id="2041684">else</span>&nbsp;<span class="op" id="2041689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041696">p</span><span class="op" id="2041697">.</span><span class="ident" id="2041698">buf</span><span class="op" id="2041701">.</span><span class="ident" id="2041702">WriteByte</span><span class="op" id="2041711">(</span><span class="string" id="2041712">&#39;&nbsp;&#39;</span><span class="op" id="2041715">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041731">p</span><span class="op" id="2041732">.</span><span class="ident" id="2041733">printArg</span><span class="op" id="2041741">(</span><span class="ident" id="2041742">c</span><span class="op" id="2041743">,</span>&nbsp;<span class="string" id="2041745">&#39;v&#39;</span><span class="op" id="2041748">,</span>&nbsp;<span class="ident" id="2041750">depth</span><span class="op" id="2041755">+</span><span class="num" id="2041756">1</span><span class="op" id="2041757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041765">if</span>&nbsp;<span class="ident" id="2041768">p</span><span class="op" id="2041769">.</span><span class="ident" id="2041770">fmt</span><span class="op" id="2041773">.</span><span class="ident" id="2041774">sharpV</span>&nbsp;<span class="op" id="2041781">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041786">p</span><span class="op" id="2041787">.</span><span class="ident" id="2041788">buf</span><span class="op" id="2041791">.</span><span class="ident" id="2041792">WriteByte</span><span class="op" id="2041801">(</span><span class="string" id="2041802">&#39;}&#39;</span><span class="op" id="2041805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041809">}</span>&nbsp;<span class="keyword" id="2041811">else</span>&nbsp;<span class="op" id="2041816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041821">p</span><span class="op" id="2041822">.</span><span class="ident" id="2041823">buf</span><span class="op" id="2041826">.</span><span class="ident" id="2041827">WriteByte</span><span class="op" id="2041836">(</span><span class="string" id="2041837">&#39;]&#39;</span><span class="op" id="2041840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041848">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041859">switch</span>&nbsp;<span class="ident" id="2041866">verb</span>&nbsp;<span class="op" id="2041871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041874">case</span>&nbsp;<span class="string" id="2041879">&#39;s&#39;</span><span class="op" id="2041882">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041886">p</span><span class="op" id="2041887">.</span><span class="ident" id="2041888">fmt</span><span class="op" id="2041891">.</span><span class="ident" id="2041892">fmt_s</span><span class="op" id="2041897">(</span><span class="builtintype" id="2041898">string</span><span class="op" id="2041904">(</span><span class="ident" id="2041905">v</span><span class="op" id="2041906">)</span><span class="op" id="2041907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041910">case</span>&nbsp;<span class="string" id="2041915">&#39;x&#39;</span><span class="op" id="2041918">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041922">p</span><span class="op" id="2041923">.</span><span class="ident" id="2041924">fmt</span><span class="op" id="2041927">.</span><span class="ident" id="2041928">fmt_bx</span><span class="op" id="2041934">(</span><span class="ident" id="2041935">v</span><span class="op" id="2041936">,</span>&nbsp;<span class="ident" id="2041938">ldigits</span><span class="op" id="2041945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041948">case</span>&nbsp;<span class="string" id="2041953">&#39;X&#39;</span><span class="op" id="2041956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041960">p</span><span class="op" id="2041961">.</span><span class="ident" id="2041962">fmt</span><span class="op" id="2041965">.</span><span class="ident" id="2041966">fmt_bx</span><span class="op" id="2041972">(</span><span class="ident" id="2041973">v</span><span class="op" id="2041974">,</span>&nbsp;<span class="ident" id="2041976">udigits</span><span class="op" id="2041983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041986">case</span>&nbsp;<span class="string" id="2041991">&#39;q&#39;</span><span class="op" id="2041994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041998">p</span><span class="op" id="2041999">.</span><span class="ident" id="2042000">fmt</span><span class="op" id="2042003">.</span><span class="ident" id="2042004">fmt_q</span><span class="op" id="2042009">(</span><span class="builtintype" id="2042010">string</span><span class="op" id="2042016">(</span><span class="ident" id="2042017">v</span><span class="op" id="2042018">)</span><span class="op" id="2042019">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042022">default</span><span class="op" id="2042029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042033">p</span><span class="op" id="2042034">.</span><span class="ident" id="2042035">badVerb</span><span class="op" id="2042042">(</span><span class="ident" id="2042043">verb</span><span class="op" id="2042047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042050">}</span><br>
<span class="lineno"></span><span class="op" id="2042052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2042055">func</span>&nbsp;<span class="op" id="2042060">(</span><span class="ident" id="2042061">p</span>&nbsp;<span class="op" id="2042063">*</span><span class="ident" id="2042064">pp</span><span class="op" id="2042066">)</span>&nbsp;<span class="ident" id="2042068">fmtPointer</span><span class="op" id="2042078">(</span><span class="ident" id="2042079">value</span>&nbsp;<span class="ident" id="2042085">reflect</span><span class="op" id="2042092">.</span><span class="ident" id="2042093">Value</span><span class="op" id="2042098">,</span>&nbsp;<span class="ident" id="2042100">verb</span>&nbsp;<span class="builtintype" id="2042105">rune</span><span class="op" id="2042109">)</span>&nbsp;<span class="op" id="2042111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042114">use0x64</span>&nbsp;<span class="op" id="2042122">:=</span>&nbsp;<span class="builtintype" id="2042125">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042131">switch</span>&nbsp;<span class="ident" id="2042138">verb</span>&nbsp;<span class="op" id="2042143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042146">case</span>&nbsp;<span class="string" id="2042151">&#39;p&#39;</span><span class="op" id="2042154">,</span>&nbsp;<span class="string" id="2042156">&#39;v&#39;</span><span class="op" id="2042159">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2042163">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042170">case</span>&nbsp;<span class="string" id="2042175">&#39;b&#39;</span><span class="op" id="2042178">,</span>&nbsp;<span class="string" id="2042180">&#39;d&#39;</span><span class="op" id="2042183">,</span>&nbsp;<span class="string" id="2042185">&#39;o&#39;</span><span class="op" id="2042188">,</span>&nbsp;<span class="string" id="2042190">&#39;x&#39;</span><span class="op" id="2042193">,</span>&nbsp;<span class="string" id="2042195">&#39;X&#39;</span><span class="op" id="2042198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042202">use0x64</span>&nbsp;<span class="op" id="2042210">=</span>&nbsp;<span class="builtintype" id="2042212">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2042220">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042227">default</span><span class="op" id="2042234">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042238">p</span><span class="op" id="2042239">.</span><span class="ident" id="2042240">badVerb</span><span class="op" id="2042247">(</span><span class="ident" id="2042248">verb</span><span class="op" id="2042252">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042256">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042268">var</span>&nbsp;<span class="ident" id="2042272">u</span>&nbsp;<span class="builtintype" id="2042274">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042283">switch</span>&nbsp;<span class="ident" id="2042290">value</span><span class="op" id="2042295">.</span><span class="ident" id="2042296">Kind</span><span class="op" id="2042300">(</span><span class="op" id="2042301">)</span>&nbsp;<span class="op" id="2042303">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042306">case</span>&nbsp;<span class="ident" id="2042311">reflect</span><span class="op" id="2042318">.</span><span class="ident" id="2042319">Chan</span><span class="op" id="2042323">,</span>&nbsp;<span class="ident" id="2042325">reflect</span><span class="op" id="2042332">.</span><span class="ident" id="2042333">Func</span><span class="op" id="2042337">,</span>&nbsp;<span class="ident" id="2042339">reflect</span><span class="op" id="2042346">.</span><span class="ident" id="2042347">Map</span><span class="op" id="2042350">,</span>&nbsp;<span class="ident" id="2042352">reflect</span><span class="op" id="2042359">.</span><span class="ident" id="2042360">Ptr</span><span class="op" id="2042363">,</span>&nbsp;<span class="ident" id="2042365">reflect</span><span class="op" id="2042372">.</span><span class="ident" id="2042373">Slice</span><span class="op" id="2042378">,</span>&nbsp;<span class="ident" id="2042380">reflect</span><span class="op" id="2042387">.</span><span class="ident" id="2042388">UnsafePointer</span><span class="op" id="2042401">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042405">u</span>&nbsp;<span class="op" id="2042407">=</span>&nbsp;<span class="ident" id="2042409">value</span><span class="op" id="2042414">.</span><span class="ident" id="2042415">Pointer</span><span class="op" id="2042422">(</span><span class="op" id="2042423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042426">default</span><span class="op" id="2042433">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042437">p</span><span class="op" id="2042438">.</span><span class="ident" id="2042439">badVerb</span><span class="op" id="2042446">(</span><span class="ident" id="2042447">verb</span><span class="op" id="2042451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042455">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042467">if</span>&nbsp;<span class="ident" id="2042470">p</span><span class="op" id="2042471">.</span><span class="ident" id="2042472">fmt</span><span class="op" id="2042475">.</span><span class="ident" id="2042476">sharpV</span>&nbsp;<span class="op" id="2042483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042487">p</span><span class="op" id="2042488">.</span><span class="ident" id="2042489">add</span><span class="op" id="2042492">(</span><span class="string" id="2042493">&#39;(&#39;</span><span class="op" id="2042496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042500">p</span><span class="op" id="2042501">.</span><span class="ident" id="2042502">buf</span><span class="op" id="2042505">.</span><span class="ident" id="2042506">WriteString</span><span class="op" id="2042517">(</span><span class="ident" id="2042518">value</span><span class="op" id="2042523">.</span><span class="ident" id="2042524">Type</span><span class="op" id="2042528">(</span><span class="op" id="2042529">)</span><span class="op" id="2042530">.</span><span class="ident" id="2042531">String</span><span class="op" id="2042537">(</span><span class="op" id="2042538">)</span><span class="op" id="2042539">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042543">p</span><span class="op" id="2042544">.</span><span class="ident" id="2042545">add</span><span class="op" id="2042548">(</span><span class="string" id="2042549">&#39;)&#39;</span><span class="op" id="2042552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042556">p</span><span class="op" id="2042557">.</span><span class="ident" id="2042558">add</span><span class="op" id="2042561">(</span><span class="string" id="2042562">&#39;(&#39;</span><span class="op" id="2042565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042569">if</span>&nbsp;<span class="ident" id="2042572">u</span>&nbsp;<span class="op" id="2042574">==</span>&nbsp;<span class="num" id="2042577">0</span>&nbsp;<span class="op" id="2042579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042584">p</span><span class="op" id="2042585">.</span><span class="ident" id="2042586">buf</span><span class="op" id="2042589">.</span><span class="ident" id="2042590">Write</span><span class="op" id="2042595">(</span><span class="ident" id="2042596">nilBytes</span><span class="op" id="2042604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042608">}</span>&nbsp;<span class="keyword" id="2042610">else</span>&nbsp;<span class="op" id="2042615">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042620">p</span><span class="op" id="2042621">.</span><span class="ident" id="2042622">fmt0x64</span><span class="op" id="2042629">(</span><span class="ident" id="2042630">uint64</span><span class="op" id="2042636">(</span><span class="ident" id="2042637">u</span><span class="op" id="2042638">)</span><span class="op" id="2042639">,</span>&nbsp;<span class="builtintype" id="2042641">true</span><span class="op" id="2042645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042653">p</span><span class="op" id="2042654">.</span><span class="ident" id="2042655">add</span><span class="op" id="2042658">(</span><span class="string" id="2042659">&#39;)&#39;</span><span class="op" id="2042662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042665">}</span>&nbsp;<span class="keyword" id="2042667">else</span>&nbsp;<span class="keyword" id="2042672">if</span>&nbsp;<span class="ident" id="2042675">verb</span>&nbsp;<span class="op" id="2042680">==</span>&nbsp;<span class="string" id="2042683">&#39;v&#39;</span>&nbsp;<span class="op" id="2042687">&amp;&amp;</span>&nbsp;<span class="ident" id="2042690">u</span>&nbsp;<span class="op" id="2042692">==</span>&nbsp;<span class="num" id="2042695">0</span>&nbsp;<span class="op" id="2042697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042701">p</span><span class="op" id="2042702">.</span><span class="ident" id="2042703">buf</span><span class="op" id="2042706">.</span><span class="ident" id="2042707">Write</span><span class="op" id="2042712">(</span><span class="ident" id="2042713">nilAngleBytes</span><span class="op" id="2042726">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042729">}</span>&nbsp;<span class="keyword" id="2042731">else</span>&nbsp;<span class="op" id="2042736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042740">if</span>&nbsp;<span class="ident" id="2042743">use0x64</span>&nbsp;<span class="op" id="2042751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042756">p</span><span class="op" id="2042757">.</span><span class="ident" id="2042758">fmt0x64</span><span class="op" id="2042765">(</span><span class="ident" id="2042766">uint64</span><span class="op" id="2042772">(</span><span class="ident" id="2042773">u</span><span class="op" id="2042774">)</span><span class="op" id="2042775">,</span>&nbsp;<span class="op" id="2042777">!</span><span class="ident" id="2042778">p</span><span class="op" id="2042779">.</span><span class="ident" id="2042780">fmt</span><span class="op" id="2042783">.</span><span class="ident" id="2042784">sharp</span><span class="op" id="2042789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042793">}</span>&nbsp;<span class="keyword" id="2042795">else</span>&nbsp;<span class="op" id="2042800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042805">p</span><span class="op" id="2042806">.</span><span class="ident" id="2042807">fmtUint64</span><span class="op" id="2042816">(</span><span class="ident" id="2042817">uint64</span><span class="op" id="2042823">(</span><span class="ident" id="2042824">u</span><span class="op" id="2042825">)</span><span class="op" id="2042826">,</span>&nbsp;<span class="ident" id="2042828">verb</span><span class="op" id="2042832">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042839">}</span><br>
<span class="lineno"></span><span class="op" id="2042841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2042844">var</span>&nbsp;<span class="op" id="2042848">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042851">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2042863">=</span>&nbsp;<span class="ident" id="2042865">reflect</span><span class="op" id="2042872">.</span><span class="ident" id="2042873">TypeOf</span><span class="op" id="2042879">(</span><span class="num" id="2042880">0</span><span class="op" id="2042881">)</span><span class="op" id="2042882">.</span><span class="ident" id="2042883">Bits</span><span class="op" id="2042887">(</span><span class="op" id="2042888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042891">uintptrBits</span>&nbsp;<span class="op" id="2042903">=</span>&nbsp;<span class="ident" id="2042905">reflect</span><span class="op" id="2042912">.</span><span class="ident" id="2042913">TypeOf</span><span class="op" id="2042919">(</span><span class="builtintype" id="2042920">uintptr</span><span class="op" id="2042927">(</span><span class="num" id="2042928">0</span><span class="op" id="2042929">)</span><span class="op" id="2042930">)</span><span class="op" id="2042931">.</span><span class="ident" id="2042932">Bits</span><span class="op" id="2042936">(</span><span class="op" id="2042937">)</span><br>
<span class="lineno"></span><span class="op" id="2042939">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2042942">func</span>&nbsp;<span class="op" id="2042947">(</span><span class="ident" id="2042948">p</span>&nbsp;<span class="op" id="2042950">*</span><span class="ident" id="2042951">pp</span><span class="op" id="2042953">)</span>&nbsp;<span class="ident" id="2042955">catchPanic</span><span class="op" id="2042965">(</span><span class="ident" id="2042966">arg</span>&nbsp;<span class="keyword" id="2042970">interface</span><span class="op" id="2042979">{</span><span class="op" id="2042980">}</span><span class="op" id="2042981">,</span>&nbsp;<span class="ident" id="2042983">verb</span>&nbsp;<span class="builtintype" id="2042988">rune</span><span class="op" id="2042992">)</span>&nbsp;<span class="op" id="2042994">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042997">if</span>&nbsp;<span class="ident" id="2043000">err</span>&nbsp;<span class="op" id="2043004">:=</span>&nbsp;<span class="builtinfunc" id="2043007">recover</span><span class="op" id="2043014">(</span><span class="op" id="2043015">)</span><span class="op" id="2043016">;</span>&nbsp;<span class="ident" id="2043018">err</span>&nbsp;<span class="op" id="2043022">!=</span>&nbsp;<span class="ident" id="2043025">nil</span>&nbsp;<span class="op" id="2043029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043033">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043106">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043175">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043242">if</span>&nbsp;<span class="ident" id="2043245">v</span>&nbsp;<span class="op" id="2043247">:=</span>&nbsp;<span class="ident" id="2043250">reflect</span><span class="op" id="2043257">.</span><span class="ident" id="2043258">ValueOf</span><span class="op" id="2043265">(</span><span class="ident" id="2043266">arg</span><span class="op" id="2043269">)</span><span class="op" id="2043270">;</span>&nbsp;<span class="ident" id="2043272">v</span><span class="op" id="2043273">.</span><span class="ident" id="2043274">Kind</span><span class="op" id="2043278">(</span><span class="op" id="2043279">)</span>&nbsp;<span class="op" id="2043281">==</span>&nbsp;<span class="ident" id="2043284">reflect</span><span class="op" id="2043291">.</span><span class="ident" id="2043292">Ptr</span>&nbsp;<span class="op" id="2043296">&amp;&amp;</span>&nbsp;<span class="ident" id="2043299">v</span><span class="op" id="2043300">.</span><span class="ident" id="2043301">IsNil</span><span class="op" id="2043306">(</span><span class="op" id="2043307">)</span>&nbsp;<span class="op" id="2043309">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043314">p</span><span class="op" id="2043315">.</span><span class="ident" id="2043316">buf</span><span class="op" id="2043319">.</span><span class="ident" id="2043320">Write</span><span class="op" id="2043325">(</span><span class="ident" id="2043326">nilAngleBytes</span><span class="op" id="2043339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043344">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043357">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043430">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043467">if</span>&nbsp;<span class="ident" id="2043470">p</span><span class="op" id="2043471">.</span><span class="ident" id="2043472">panicking</span>&nbsp;<span class="op" id="2043482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043487">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2043550">panic</span><span class="op" id="2043555">(</span><span class="ident" id="2043556">err</span><span class="op" id="2043559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043567">p</span><span class="op" id="2043568">.</span><span class="ident" id="2043569">fmt</span><span class="op" id="2043572">.</span><span class="ident" id="2043573">clearflags</span><span class="op" id="2043583">(</span><span class="op" id="2043584">)</span>&nbsp;<span class="comment" id="2043586">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043650">p</span><span class="op" id="2043651">.</span><span class="ident" id="2043652">buf</span><span class="op" id="2043655">.</span><span class="ident" id="2043656">Write</span><span class="op" id="2043661">(</span><span class="ident" id="2043662">percentBangBytes</span><span class="op" id="2043678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043682">p</span><span class="op" id="2043683">.</span><span class="ident" id="2043684">add</span><span class="op" id="2043687">(</span><span class="ident" id="2043688">verb</span><span class="op" id="2043692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043696">p</span><span class="op" id="2043697">.</span><span class="ident" id="2043698">buf</span><span class="op" id="2043701">.</span><span class="ident" id="2043702">Write</span><span class="op" id="2043707">(</span><span class="ident" id="2043708">panicBytes</span><span class="op" id="2043718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043722">p</span><span class="op" id="2043723">.</span><span class="ident" id="2043724">panicking</span>&nbsp;<span class="op" id="2043734">=</span>&nbsp;<span class="builtintype" id="2043736">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043743">p</span><span class="op" id="2043744">.</span><span class="ident" id="2043745">printArg</span><span class="op" id="2043753">(</span><span class="ident" id="2043754">err</span><span class="op" id="2043757">,</span>&nbsp;<span class="string" id="2043759">&#39;v&#39;</span><span class="op" id="2043762">,</span>&nbsp;<span class="num" id="2043764">0</span><span class="op" id="2043765">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043769">p</span><span class="op" id="2043770">.</span><span class="ident" id="2043771">panicking</span>&nbsp;<span class="op" id="2043781">=</span>&nbsp;<span class="builtintype" id="2043783">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043791">p</span><span class="op" id="2043792">.</span><span class="ident" id="2043793">buf</span><span class="op" id="2043796">.</span><span class="ident" id="2043797">WriteByte</span><span class="op" id="2043806">(</span><span class="string" id="2043807">&#39;)&#39;</span><span class="op" id="2043810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043813">}</span><br>
<span class="lineno"></span><span class="op" id="2043815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2043818">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2043907">func</span>&nbsp;<span class="op" id="2043912">(</span><span class="ident" id="2043913">p</span>&nbsp;<span class="op" id="2043915">*</span><span class="ident" id="2043916">pp</span><span class="op" id="2043918">)</span>&nbsp;<span class="ident" id="2043920">clearSpecialFlags</span><span class="op" id="2043937">(</span><span class="op" id="2043938">)</span>&nbsp;<span class="op" id="2043940">(</span><span class="ident" id="2043941">plusV</span><span class="op" id="2043946">,</span>&nbsp;<span class="ident" id="2043948">sharpV</span>&nbsp;<span class="builtintype" id="2043955">bool</span><span class="op" id="2043959">)</span>&nbsp;<span class="op" id="2043961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043964">plusV</span>&nbsp;<span class="op" id="2043970">=</span>&nbsp;<span class="ident" id="2043972">p</span><span class="op" id="2043973">.</span><span class="ident" id="2043974">fmt</span><span class="op" id="2043977">.</span><span class="ident" id="2043978">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043985">if</span>&nbsp;<span class="ident" id="2043988">plusV</span>&nbsp;<span class="op" id="2043994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043998">p</span><span class="op" id="2043999">.</span><span class="ident" id="2044000">fmt</span><span class="op" id="2044003">.</span><span class="ident" id="2044004">plus</span>&nbsp;<span class="op" id="2044009">=</span>&nbsp;<span class="builtintype" id="2044011">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044018">p</span><span class="op" id="2044019">.</span><span class="ident" id="2044020">fmt</span><span class="op" id="2044023">.</span><span class="ident" id="2044024">plusV</span>&nbsp;<span class="op" id="2044030">=</span>&nbsp;<span class="builtintype" id="2044032">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044042">sharpV</span>&nbsp;<span class="op" id="2044049">=</span>&nbsp;<span class="ident" id="2044051">p</span><span class="op" id="2044052">.</span><span class="ident" id="2044053">fmt</span><span class="op" id="2044056">.</span><span class="ident" id="2044057">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044065">if</span>&nbsp;<span class="ident" id="2044068">sharpV</span>&nbsp;<span class="op" id="2044075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044079">p</span><span class="op" id="2044080">.</span><span class="ident" id="2044081">fmt</span><span class="op" id="2044084">.</span><span class="ident" id="2044085">sharp</span>&nbsp;<span class="op" id="2044091">=</span>&nbsp;<span class="builtintype" id="2044093">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044100">p</span><span class="op" id="2044101">.</span><span class="ident" id="2044102">fmt</span><span class="op" id="2044105">.</span><span class="ident" id="2044106">sharpV</span>&nbsp;<span class="op" id="2044113">=</span>&nbsp;<span class="builtintype" id="2044115">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044125">return</span><br>
<span class="lineno"></span><span class="op" id="2044132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2044135">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2044213">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2044268">func</span>&nbsp;<span class="op" id="2044273">(</span><span class="ident" id="2044274">p</span>&nbsp;<span class="op" id="2044276">*</span><span class="ident" id="2044277">pp</span><span class="op" id="2044279">)</span>&nbsp;<span class="ident" id="2044281">restoreSpecialFlags</span><span class="op" id="2044300">(</span><span class="ident" id="2044301">plusV</span><span class="op" id="2044306">,</span>&nbsp;<span class="ident" id="2044308">sharpV</span>&nbsp;<span class="builtintype" id="2044315">bool</span><span class="op" id="2044319">)</span>&nbsp;<span class="op" id="2044321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044324">if</span>&nbsp;<span class="ident" id="2044327">plusV</span>&nbsp;<span class="op" id="2044333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044337">p</span><span class="op" id="2044338">.</span><span class="ident" id="2044339">fmt</span><span class="op" id="2044342">.</span><span class="ident" id="2044343">plus</span>&nbsp;<span class="op" id="2044348">=</span>&nbsp;<span class="builtintype" id="2044350">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044358">p</span><span class="op" id="2044359">.</span><span class="ident" id="2044360">fmt</span><span class="op" id="2044363">.</span><span class="ident" id="2044364">plusV</span>&nbsp;<span class="op" id="2044370">=</span>&nbsp;<span class="builtintype" id="2044372">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044381">if</span>&nbsp;<span class="ident" id="2044384">sharpV</span>&nbsp;<span class="op" id="2044391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044395">p</span><span class="op" id="2044396">.</span><span class="ident" id="2044397">fmt</span><span class="op" id="2044400">.</span><span class="ident" id="2044401">sharp</span>&nbsp;<span class="op" id="2044407">=</span>&nbsp;<span class="builtintype" id="2044409">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044417">p</span><span class="op" id="2044418">.</span><span class="ident" id="2044419">fmt</span><span class="op" id="2044422">.</span><span class="ident" id="2044423">sharpV</span>&nbsp;<span class="op" id="2044430">=</span>&nbsp;<span class="builtintype" id="2044432">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044438">}</span><br>
<span class="lineno"></span><span class="op" id="2044440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2044443">func</span>&nbsp;<span class="op" id="2044448">(</span><span class="ident" id="2044449">p</span>&nbsp;<span class="op" id="2044451">*</span><span class="ident" id="2044452">pp</span><span class="op" id="2044454">)</span>&nbsp;<span class="ident" id="2044456">handleMethods</span><span class="op" id="2044469">(</span><span class="ident" id="2044470">verb</span>&nbsp;<span class="builtintype" id="2044475">rune</span><span class="op" id="2044479">,</span>&nbsp;<span class="ident" id="2044481">depth</span>&nbsp;<span class="builtintype" id="2044487">int</span><span class="op" id="2044490">)</span>&nbsp;<span class="op" id="2044492">(</span><span class="ident" id="2044493">handled</span>&nbsp;<span class="builtintype" id="2044501">bool</span><span class="op" id="2044505">)</span>&nbsp;<span class="op" id="2044507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044510">if</span>&nbsp;<span class="ident" id="2044513">p</span><span class="op" id="2044514">.</span><span class="ident" id="2044515">erroring</span>&nbsp;<span class="op" id="2044524">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044528">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2044539">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044562">if</span>&nbsp;<span class="ident" id="2044565">formatter</span><span class="op" id="2044574">,</span>&nbsp;<span class="ident" id="2044576">ok</span>&nbsp;<span class="op" id="2044579">:=</span>&nbsp;<span class="ident" id="2044582">p</span><span class="op" id="2044583">.</span><span class="ident" id="2044584">arg</span><span class="op" id="2044587">.</span><span class="op" id="2044588">(</span><span class="ident" id="2044589">Formatter</span><span class="op" id="2044598">)</span><span class="op" id="2044599">;</span>&nbsp;<span class="ident" id="2044601">ok</span>&nbsp;<span class="op" id="2044604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044608">handled</span>&nbsp;<span class="op" id="2044616">=</span>&nbsp;<span class="builtintype" id="2044618">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044625">defer</span>&nbsp;<span class="ident" id="2044631">p</span><span class="op" id="2044632">.</span><span class="ident" id="2044633">restoreSpecialFlags</span><span class="op" id="2044652">(</span><span class="ident" id="2044653">p</span><span class="op" id="2044654">.</span><span class="ident" id="2044655">clearSpecialFlags</span><span class="op" id="2044672">(</span><span class="op" id="2044673">)</span><span class="op" id="2044674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044678">defer</span>&nbsp;<span class="ident" id="2044684">p</span><span class="op" id="2044685">.</span><span class="ident" id="2044686">catchPanic</span><span class="op" id="2044696">(</span><span class="ident" id="2044697">p</span><span class="op" id="2044698">.</span><span class="ident" id="2044699">arg</span><span class="op" id="2044702">,</span>&nbsp;<span class="ident" id="2044704">verb</span><span class="op" id="2044708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044712">formatter</span><span class="op" id="2044721">.</span><span class="ident" id="2044722">Format</span><span class="op" id="2044728">(</span><span class="ident" id="2044729">p</span><span class="op" id="2044730">,</span>&nbsp;<span class="ident" id="2044732">verb</span><span class="op" id="2044736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044740">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044748">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2044752">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044843">if</span>&nbsp;<span class="ident" id="2044846">p</span><span class="op" id="2044847">.</span><span class="ident" id="2044848">fmt</span><span class="op" id="2044851">.</span><span class="ident" id="2044852">sharpV</span>&nbsp;<span class="op" id="2044859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044863">if</span>&nbsp;<span class="ident" id="2044866">stringer</span><span class="op" id="2044874">,</span>&nbsp;<span class="ident" id="2044876">ok</span>&nbsp;<span class="op" id="2044879">:=</span>&nbsp;<span class="ident" id="2044882">p</span><span class="op" id="2044883">.</span><span class="ident" id="2044884">arg</span><span class="op" id="2044887">.</span><span class="op" id="2044888">(</span><span class="ident" id="2044889">GoStringer</span><span class="op" id="2044899">)</span><span class="op" id="2044900">;</span>&nbsp;<span class="ident" id="2044902">ok</span>&nbsp;<span class="op" id="2044905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044910">handled</span>&nbsp;<span class="op" id="2044918">=</span>&nbsp;<span class="builtintype" id="2044920">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044928">defer</span>&nbsp;<span class="ident" id="2044934">p</span><span class="op" id="2044935">.</span><span class="ident" id="2044936">catchPanic</span><span class="op" id="2044946">(</span><span class="ident" id="2044947">p</span><span class="op" id="2044948">.</span><span class="ident" id="2044949">arg</span><span class="op" id="2044952">,</span>&nbsp;<span class="ident" id="2044954">verb</span><span class="op" id="2044958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2044963">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045009">p</span><span class="op" id="2045010">.</span><span class="ident" id="2045011">fmt</span><span class="op" id="2045014">.</span><span class="ident" id="2045015">fmt_s</span><span class="op" id="2045020">(</span><span class="ident" id="2045021">stringer</span><span class="op" id="2045029">.</span><span class="ident" id="2045030">GoString</span><span class="op" id="2045038">(</span><span class="op" id="2045039">)</span><span class="op" id="2045040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045045">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045054">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045057">}</span>&nbsp;<span class="keyword" id="2045059">else</span>&nbsp;<span class="op" id="2045064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045068">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045131">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045193">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045250">switch</span>&nbsp;<span class="ident" id="2045257">verb</span>&nbsp;<span class="op" id="2045262">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045266">case</span>&nbsp;<span class="string" id="2045271">&#39;v&#39;</span><span class="op" id="2045274">,</span>&nbsp;<span class="string" id="2045276">&#39;s&#39;</span><span class="op" id="2045279">,</span>&nbsp;<span class="string" id="2045281">&#39;x&#39;</span><span class="op" id="2045284">,</span>&nbsp;<span class="string" id="2045286">&#39;X&#39;</span><span class="op" id="2045289">,</span>&nbsp;<span class="string" id="2045291">&#39;q&#39;</span><span class="op" id="2045294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045299">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045333">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045383">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045430">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045475">switch</span>&nbsp;<span class="ident" id="2045482">v</span>&nbsp;<span class="op" id="2045484">:=</span>&nbsp;<span class="ident" id="2045487">p</span><span class="op" id="2045488">.</span><span class="ident" id="2045489">arg</span><span class="op" id="2045492">.</span><span class="op" id="2045493">(</span><span class="keyword" id="2045494">type</span><span class="op" id="2045498">)</span>&nbsp;<span class="op" id="2045500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045505">case</span>&nbsp;<span class="builtintype" id="2045510">error</span><span class="op" id="2045515">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045521">handled</span>&nbsp;<span class="op" id="2045529">=</span>&nbsp;<span class="builtintype" id="2045531">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045540">defer</span>&nbsp;<span class="ident" id="2045546">p</span><span class="op" id="2045547">.</span><span class="ident" id="2045548">catchPanic</span><span class="op" id="2045558">(</span><span class="ident" id="2045559">p</span><span class="op" id="2045560">.</span><span class="ident" id="2045561">arg</span><span class="op" id="2045564">,</span>&nbsp;<span class="ident" id="2045566">verb</span><span class="op" id="2045570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045576">p</span><span class="op" id="2045577">.</span><span class="ident" id="2045578">printArg</span><span class="op" id="2045586">(</span><span class="ident" id="2045587">v</span><span class="op" id="2045588">.</span><span class="ident" id="2045589">Error</span><span class="op" id="2045594">(</span><span class="op" id="2045595">)</span><span class="op" id="2045596">,</span>&nbsp;<span class="ident" id="2045598">verb</span><span class="op" id="2045602">,</span>&nbsp;<span class="ident" id="2045604">depth</span><span class="op" id="2045609">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045615">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045626">case</span>&nbsp;<span class="ident" id="2045631">Stringer</span><span class="op" id="2045639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045645">handled</span>&nbsp;<span class="op" id="2045653">=</span>&nbsp;<span class="builtintype" id="2045655">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045664">defer</span>&nbsp;<span class="ident" id="2045670">p</span><span class="op" id="2045671">.</span><span class="ident" id="2045672">catchPanic</span><span class="op" id="2045682">(</span><span class="ident" id="2045683">p</span><span class="op" id="2045684">.</span><span class="ident" id="2045685">arg</span><span class="op" id="2045688">,</span>&nbsp;<span class="ident" id="2045690">verb</span><span class="op" id="2045694">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045700">p</span><span class="op" id="2045701">.</span><span class="ident" id="2045702">printArg</span><span class="op" id="2045710">(</span><span class="ident" id="2045711">v</span><span class="op" id="2045712">.</span><span class="ident" id="2045713">String</span><span class="op" id="2045719">(</span><span class="op" id="2045720">)</span><span class="op" id="2045721">,</span>&nbsp;<span class="ident" id="2045723">verb</span><span class="op" id="2045727">,</span>&nbsp;<span class="ident" id="2045729">depth</span><span class="op" id="2045734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045740">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045757">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045760">return</span>&nbsp;<span class="builtintype" id="2045767">false</span><br>
<span class="lineno"></span><span class="op" id="2045773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2045776">func</span>&nbsp;<span class="op" id="2045781">(</span><span class="ident" id="2045782">p</span>&nbsp;<span class="op" id="2045784">*</span><span class="ident" id="2045785">pp</span><span class="op" id="2045787">)</span>&nbsp;<span class="ident" id="2045789">printArg</span><span class="op" id="2045797">(</span><span class="ident" id="2045798">arg</span>&nbsp;<span class="keyword" id="2045802">interface</span><span class="op" id="2045811">{</span><span class="op" id="2045812">}</span><span class="op" id="2045813">,</span>&nbsp;<span class="ident" id="2045815">verb</span>&nbsp;<span class="builtintype" id="2045820">rune</span><span class="op" id="2045824">,</span>&nbsp;<span class="ident" id="2045826">depth</span>&nbsp;<span class="builtintype" id="2045832">int</span><span class="op" id="2045835">)</span>&nbsp;<span class="op" id="2045837">(</span><span class="ident" id="2045838">wasString</span>&nbsp;<span class="builtintype" id="2045848">bool</span><span class="op" id="2045852">)</span>&nbsp;<span class="op" id="2045854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045857">p</span><span class="op" id="2045858">.</span><span class="ident" id="2045859">arg</span>&nbsp;<span class="op" id="2045863">=</span>&nbsp;<span class="ident" id="2045865">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045870">p</span><span class="op" id="2045871">.</span><span class="ident" id="2045872">value</span>&nbsp;<span class="op" id="2045878">=</span>&nbsp;<span class="ident" id="2045880">reflect</span><span class="op" id="2045887">.</span><span class="ident" id="2045888">Value</span><span class="op" id="2045893">{</span><span class="op" id="2045894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045898">if</span>&nbsp;<span class="ident" id="2045901">arg</span>&nbsp;<span class="op" id="2045905">==</span>&nbsp;<span class="ident" id="2045908">nil</span>&nbsp;<span class="op" id="2045912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045916">if</span>&nbsp;<span class="ident" id="2045919">verb</span>&nbsp;<span class="op" id="2045924">==</span>&nbsp;<span class="string" id="2045927">&#39;T&#39;</span>&nbsp;<span class="op" id="2045931">||</span>&nbsp;<span class="ident" id="2045934">verb</span>&nbsp;<span class="op" id="2045939">==</span>&nbsp;<span class="string" id="2045942">&#39;v&#39;</span>&nbsp;<span class="op" id="2045946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045951">p</span><span class="op" id="2045952">.</span><span class="ident" id="2045953">fmt</span><span class="op" id="2045956">.</span><span class="ident" id="2045957">pad</span><span class="op" id="2045960">(</span><span class="ident" id="2045961">nilAngleBytes</span><span class="op" id="2045974">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045978">}</span>&nbsp;<span class="keyword" id="2045980">else</span>&nbsp;<span class="op" id="2045985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045990">p</span><span class="op" id="2045991">.</span><span class="ident" id="2045992">badVerb</span><span class="op" id="2045999">(</span><span class="ident" id="2046000">verb</span><span class="op" id="2046004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2046008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046012">return</span>&nbsp;<span class="builtintype" id="2046019">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2046026">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2046030">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2046069">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046154">switch</span>&nbsp;<span class="ident" id="2046161">verb</span>&nbsp;<span class="op" id="2046166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046169">case</span>&nbsp;<span class="string" id="2046174">&#39;T&#39;</span><span class="op" id="2046177">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046181">p</span><span class="op" id="2046182">.</span><span class="ident" id="2046183">printArg</span><span class="op" id="2046191">(</span><span class="ident" id="2046192">reflect</span><span class="op" id="2046199">.</span><span class="ident" id="2046200">TypeOf</span><span class="op" id="2046206">(</span><span class="ident" id="2046207">arg</span><span class="op" id="2046210">)</span><span class="op" id="2046211">.</span><span class="ident" id="2046212">String</span><span class="op" id="2046218">(</span><span class="op" id="2046219">)</span><span class="op" id="2046220">,</span>&nbsp;<span class="string" id="2046222">&#39;s&#39;</span><span class="op" id="2046225">,</span>&nbsp;<span class="num" id="2046227">0</span><span class="op" id="2046228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046232">return</span>&nbsp;<span class="builtintype" id="2046239">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046246">case</span>&nbsp;<span class="string" id="2046251">&#39;p&#39;</span><span class="op" id="2046254">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046258">p</span><span class="op" id="2046259">.</span><span class="ident" id="2046260">fmtPointer</span><span class="op" id="2046270">(</span><span class="ident" id="2046271">reflect</span><span class="op" id="2046278">.</span><span class="ident" id="2046279">ValueOf</span><span class="op" id="2046286">(</span><span class="ident" id="2046287">arg</span><span class="op" id="2046290">)</span><span class="op" id="2046291">,</span>&nbsp;<span class="ident" id="2046293">verb</span><span class="op" id="2046297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046301">return</span>&nbsp;<span class="builtintype" id="2046308">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2046315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2046319">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046366">switch</span>&nbsp;<span class="ident" id="2046373">f</span>&nbsp;<span class="op" id="2046375">:=</span>&nbsp;<span class="ident" id="2046378">arg</span><span class="op" id="2046381">.</span><span class="op" id="2046382">(</span><span class="keyword" id="2046383">type</span><span class="op" id="2046387">)</span>&nbsp;<span class="op" id="2046389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046392">case</span>&nbsp;<span class="builtintype" id="2046397">bool</span><span class="op" id="2046401">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046405">p</span><span class="op" id="2046406">.</span><span class="ident" id="2046407">fmtBool</span><span class="op" id="2046414">(</span><span class="ident" id="2046415">f</span><span class="op" id="2046416">,</span>&nbsp;<span class="ident" id="2046418">verb</span><span class="op" id="2046422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046425">case</span>&nbsp;<span class="builtintype" id="2046430">float32</span><span class="op" id="2046437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046441">p</span><span class="op" id="2046442">.</span><span class="ident" id="2046443">fmtFloat32</span><span class="op" id="2046453">(</span><span class="ident" id="2046454">f</span><span class="op" id="2046455">,</span>&nbsp;<span class="ident" id="2046457">verb</span><span class="op" id="2046461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046464">case</span>&nbsp;<span class="builtintype" id="2046469">float64</span><span class="op" id="2046476">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046480">p</span><span class="op" id="2046481">.</span><span class="ident" id="2046482">fmtFloat64</span><span class="op" id="2046492">(</span><span class="ident" id="2046493">f</span><span class="op" id="2046494">,</span>&nbsp;<span class="ident" id="2046496">verb</span><span class="op" id="2046500">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046503">case</span>&nbsp;<span class="builtintype" id="2046508">complex64</span><span class="op" id="2046517">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046521">p</span><span class="op" id="2046522">.</span><span class="ident" id="2046523">fmtComplex64</span><span class="op" id="2046535">(</span><span class="ident" id="2046536">f</span><span class="op" id="2046537">,</span>&nbsp;<span class="ident" id="2046539">verb</span><span class="op" id="2046543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046546">case</span>&nbsp;<span class="builtintype" id="2046551">complex128</span><span class="op" id="2046561">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046565">p</span><span class="op" id="2046566">.</span><span class="ident" id="2046567">fmtComplex128</span><span class="op" id="2046580">(</span><span class="ident" id="2046581">f</span><span class="op" id="2046582">,</span>&nbsp;<span class="ident" id="2046584">verb</span><span class="op" id="2046588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046591">case</span>&nbsp;<span class="builtintype" id="2046596">int</span><span class="op" id="2046599">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046603">p</span><span class="op" id="2046604">.</span><span class="ident" id="2046605">fmtInt64</span><span class="op" id="2046613">(</span><span class="ident" id="2046614">int64</span><span class="op" id="2046619">(</span><span class="ident" id="2046620">f</span><span class="op" id="2046621">)</span><span class="op" id="2046622">,</span>&nbsp;<span class="ident" id="2046624">verb</span><span class="op" id="2046628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046631">case</span>&nbsp;<span class="builtintype" id="2046636">int8</span><span class="op" id="2046640">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046644">p</span><span class="op" id="2046645">.</span><span class="ident" id="2046646">fmtInt64</span><span class="op" id="2046654">(</span><span class="ident" id="2046655">int64</span><span class="op" id="2046660">(</span><span class="ident" id="2046661">f</span><span class="op" id="2046662">)</span><span class="op" id="2046663">,</span>&nbsp;<span class="ident" id="2046665">verb</span><span class="op" id="2046669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046672">case</span>&nbsp;<span class="builtintype" id="2046677">int16</span><span class="op" id="2046682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046686">p</span><span class="op" id="2046687">.</span><span class="ident" id="2046688">fmtInt64</span><span class="op" id="2046696">(</span><span class="ident" id="2046697">int64</span><span class="op" id="2046702">(</span><span class="ident" id="2046703">f</span><span class="op" id="2046704">)</span><span class="op" id="2046705">,</span>&nbsp;<span class="ident" id="2046707">verb</span><span class="op" id="2046711">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046714">case</span>&nbsp;<span class="builtintype" id="2046719">int32</span><span class="op" id="2046724">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046728">p</span><span class="op" id="2046729">.</span><span class="ident" id="2046730">fmtInt64</span><span class="op" id="2046738">(</span><span class="ident" id="2046739">int64</span><span class="op" id="2046744">(</span><span class="ident" id="2046745">f</span><span class="op" id="2046746">)</span><span class="op" id="2046747">,</span>&nbsp;<span class="ident" id="2046749">verb</span><span class="op" id="2046753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046756">case</span>&nbsp;<span class="ident" id="2046761">int64</span><span class="op" id="2046766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046770">p</span><span class="op" id="2046771">.</span><span class="ident" id="2046772">fmtInt64</span><span class="op" id="2046780">(</span><span class="ident" id="2046781">f</span><span class="op" id="2046782">,</span>&nbsp;<span class="ident" id="2046784">verb</span><span class="op" id="2046788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046791">case</span>&nbsp;<span class="builtintype" id="2046796">uint</span><span class="op" id="2046800">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046804">p</span><span class="op" id="2046805">.</span><span class="ident" id="2046806">fmtUint64</span><span class="op" id="2046815">(</span><span class="ident" id="2046816">uint64</span><span class="op" id="2046822">(</span><span class="ident" id="2046823">f</span><span class="op" id="2046824">)</span><span class="op" id="2046825">,</span>&nbsp;<span class="ident" id="2046827">verb</span><span class="op" id="2046831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046834">case</span>&nbsp;<span class="builtintype" id="2046839">uint8</span><span class="op" id="2046844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046848">p</span><span class="op" id="2046849">.</span><span class="ident" id="2046850">fmtUint64</span><span class="op" id="2046859">(</span><span class="ident" id="2046860">uint64</span><span class="op" id="2046866">(</span><span class="ident" id="2046867">f</span><span class="op" id="2046868">)</span><span class="op" id="2046869">,</span>&nbsp;<span class="ident" id="2046871">verb</span><span class="op" id="2046875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046878">case</span>&nbsp;<span class="builtintype" id="2046883">uint16</span><span class="op" id="2046889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046893">p</span><span class="op" id="2046894">.</span><span class="ident" id="2046895">fmtUint64</span><span class="op" id="2046904">(</span><span class="ident" id="2046905">uint64</span><span class="op" id="2046911">(</span><span class="ident" id="2046912">f</span><span class="op" id="2046913">)</span><span class="op" id="2046914">,</span>&nbsp;<span class="ident" id="2046916">verb</span><span class="op" id="2046920">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046923">case</span>&nbsp;<span class="builtintype" id="2046928">uint32</span><span class="op" id="2046934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046938">p</span><span class="op" id="2046939">.</span><span class="ident" id="2046940">fmtUint64</span><span class="op" id="2046949">(</span><span class="ident" id="2046950">uint64</span><span class="op" id="2046956">(</span><span class="ident" id="2046957">f</span><span class="op" id="2046958">)</span><span class="op" id="2046959">,</span>&nbsp;<span class="ident" id="2046961">verb</span><span class="op" id="2046965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046968">case</span>&nbsp;<span class="ident" id="2046973">uint64</span><span class="op" id="2046979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046983">p</span><span class="op" id="2046984">.</span><span class="ident" id="2046985">fmtUint64</span><span class="op" id="2046994">(</span><span class="ident" id="2046995">f</span><span class="op" id="2046996">,</span>&nbsp;<span class="ident" id="2046998">verb</span><span class="op" id="2047002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047005">case</span>&nbsp;<span class="builtintype" id="2047010">uintptr</span><span class="op" id="2047017">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047021">p</span><span class="op" id="2047022">.</span><span class="ident" id="2047023">fmtUint64</span><span class="op" id="2047032">(</span><span class="ident" id="2047033">uint64</span><span class="op" id="2047039">(</span><span class="ident" id="2047040">f</span><span class="op" id="2047041">)</span><span class="op" id="2047042">,</span>&nbsp;<span class="ident" id="2047044">verb</span><span class="op" id="2047048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047051">case</span>&nbsp;<span class="builtintype" id="2047056">string</span><span class="op" id="2047062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047066">p</span><span class="op" id="2047067">.</span><span class="ident" id="2047068">fmtString</span><span class="op" id="2047077">(</span><span class="ident" id="2047078">f</span><span class="op" id="2047079">,</span>&nbsp;<span class="ident" id="2047081">verb</span><span class="op" id="2047085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047089">wasString</span>&nbsp;<span class="op" id="2047099">=</span>&nbsp;<span class="ident" id="2047101">verb</span>&nbsp;<span class="op" id="2047106">==</span>&nbsp;<span class="string" id="2047109">&#39;s&#39;</span>&nbsp;<span class="op" id="2047113">||</span>&nbsp;<span class="ident" id="2047116">verb</span>&nbsp;<span class="op" id="2047121">==</span>&nbsp;<span class="string" id="2047124">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047129">case</span>&nbsp;<span class="op" id="2047134">[</span><span class="op" id="2047135">]</span><span class="builtintype" id="2047136">byte</span><span class="op" id="2047140">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047144">p</span><span class="op" id="2047145">.</span><span class="ident" id="2047146">fmtBytes</span><span class="op" id="2047154">(</span><span class="ident" id="2047155">f</span><span class="op" id="2047156">,</span>&nbsp;<span class="ident" id="2047158">verb</span><span class="op" id="2047162">,</span>&nbsp;<span class="ident" id="2047164">nil</span><span class="op" id="2047167">,</span>&nbsp;<span class="ident" id="2047169">depth</span><span class="op" id="2047174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047178">wasString</span>&nbsp;<span class="op" id="2047188">=</span>&nbsp;<span class="ident" id="2047190">verb</span>&nbsp;<span class="op" id="2047195">==</span>&nbsp;<span class="string" id="2047198">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047203">default</span><span class="op" id="2047210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2047214">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047269">if</span>&nbsp;<span class="ident" id="2047272">handled</span>&nbsp;<span class="op" id="2047280">:=</span>&nbsp;<span class="ident" id="2047283">p</span><span class="op" id="2047284">.</span><span class="ident" id="2047285">handleMethods</span><span class="op" id="2047298">(</span><span class="ident" id="2047299">verb</span><span class="op" id="2047303">,</span>&nbsp;<span class="ident" id="2047305">depth</span><span class="op" id="2047310">)</span><span class="op" id="2047311">;</span>&nbsp;<span class="ident" id="2047313">handled</span>&nbsp;<span class="op" id="2047321">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047326">return</span>&nbsp;<span class="builtintype" id="2047333">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2047345">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047373">return</span>&nbsp;<span class="ident" id="2047380">p</span><span class="op" id="2047381">.</span><span class="ident" id="2047382">printReflectValue</span><span class="op" id="2047399">(</span><span class="ident" id="2047400">reflect</span><span class="op" id="2047407">.</span><span class="ident" id="2047408">ValueOf</span><span class="op" id="2047415">(</span><span class="ident" id="2047416">arg</span><span class="op" id="2047419">)</span><span class="op" id="2047420">,</span>&nbsp;<span class="ident" id="2047422">verb</span><span class="op" id="2047426">,</span>&nbsp;<span class="ident" id="2047428">depth</span><span class="op" id="2047433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047436">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047439">p</span><span class="op" id="2047440">.</span><span class="ident" id="2047441">arg</span>&nbsp;<span class="op" id="2047445">=</span>&nbsp;<span class="ident" id="2047447">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047452">return</span><br>
<span class="lineno"></span><span class="op" id="2047459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2047462">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2047552">func</span>&nbsp;<span class="op" id="2047557">(</span><span class="ident" id="2047558">p</span>&nbsp;<span class="op" id="2047560">*</span><span class="ident" id="2047561">pp</span><span class="op" id="2047563">)</span>&nbsp;<span class="ident" id="2047565">printValue</span><span class="op" id="2047575">(</span><span class="ident" id="2047576">value</span>&nbsp;<span class="ident" id="2047582">reflect</span><span class="op" id="2047589">.</span><span class="ident" id="2047590">Value</span><span class="op" id="2047595">,</span>&nbsp;<span class="ident" id="2047597">verb</span>&nbsp;<span class="builtintype" id="2047602">rune</span><span class="op" id="2047606">,</span>&nbsp;<span class="ident" id="2047608">depth</span>&nbsp;<span class="builtintype" id="2047614">int</span><span class="op" id="2047617">)</span>&nbsp;<span class="op" id="2047619">(</span><span class="ident" id="2047620">wasString</span>&nbsp;<span class="builtintype" id="2047630">bool</span><span class="op" id="2047634">)</span>&nbsp;<span class="op" id="2047636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047639">if</span>&nbsp;<span class="op" id="2047642">!</span><span class="ident" id="2047643">value</span><span class="op" id="2047648">.</span><span class="ident" id="2047649">IsValid</span><span class="op" id="2047656">(</span><span class="op" id="2047657">)</span>&nbsp;<span class="op" id="2047659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047663">if</span>&nbsp;<span class="ident" id="2047666">verb</span>&nbsp;<span class="op" id="2047671">==</span>&nbsp;<span class="string" id="2047674">&#39;T&#39;</span>&nbsp;<span class="op" id="2047678">||</span>&nbsp;<span class="ident" id="2047681">verb</span>&nbsp;<span class="op" id="2047686">==</span>&nbsp;<span class="string" id="2047689">&#39;v&#39;</span>&nbsp;<span class="op" id="2047693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047698">p</span><span class="op" id="2047699">.</span><span class="ident" id="2047700">buf</span><span class="op" id="2047703">.</span><span class="ident" id="2047704">Write</span><span class="op" id="2047709">(</span><span class="ident" id="2047710">nilAngleBytes</span><span class="op" id="2047723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047727">}</span>&nbsp;<span class="keyword" id="2047729">else</span>&nbsp;<span class="op" id="2047734">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047739">p</span><span class="op" id="2047740">.</span><span class="ident" id="2047741">badVerb</span><span class="op" id="2047748">(</span><span class="ident" id="2047749">verb</span><span class="op" id="2047753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047761">return</span>&nbsp;<span class="builtintype" id="2047768">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2047779">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2047818">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047903">switch</span>&nbsp;<span class="ident" id="2047910">verb</span>&nbsp;<span class="op" id="2047915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047918">case</span>&nbsp;<span class="string" id="2047923">&#39;T&#39;</span><span class="op" id="2047926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047930">p</span><span class="op" id="2047931">.</span><span class="ident" id="2047932">printArg</span><span class="op" id="2047940">(</span><span class="ident" id="2047941">value</span><span class="op" id="2047946">.</span><span class="ident" id="2047947">Type</span><span class="op" id="2047951">(</span><span class="op" id="2047952">)</span><span class="op" id="2047953">.</span><span class="ident" id="2047954">String</span><span class="op" id="2047960">(</span><span class="op" id="2047961">)</span><span class="op" id="2047962">,</span>&nbsp;<span class="string" id="2047964">&#39;s&#39;</span><span class="op" id="2047967">,</span>&nbsp;<span class="num" id="2047969">0</span><span class="op" id="2047970">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047974">return</span>&nbsp;<span class="builtintype" id="2047981">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047988">case</span>&nbsp;<span class="string" id="2047993">&#39;p&#39;</span><span class="op" id="2047996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048000">p</span><span class="op" id="2048001">.</span><span class="ident" id="2048002">fmtPointer</span><span class="op" id="2048012">(</span><span class="ident" id="2048013">value</span><span class="op" id="2048018">,</span>&nbsp;<span class="ident" id="2048020">verb</span><span class="op" id="2048024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048028">return</span>&nbsp;<span class="builtintype" id="2048035">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048042">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2048046">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2048086">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048173">p</span><span class="op" id="2048174">.</span><span class="ident" id="2048175">arg</span>&nbsp;<span class="op" id="2048179">=</span>&nbsp;<span class="ident" id="2048181">nil</span>&nbsp;<span class="comment" id="2048185">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048225">if</span>&nbsp;<span class="ident" id="2048228">value</span><span class="op" id="2048233">.</span><span class="ident" id="2048234">CanInterface</span><span class="op" id="2048246">(</span><span class="op" id="2048247">)</span>&nbsp;<span class="op" id="2048249">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048253">p</span><span class="op" id="2048254">.</span><span class="ident" id="2048255">arg</span>&nbsp;<span class="op" id="2048259">=</span>&nbsp;<span class="ident" id="2048261">value</span><span class="op" id="2048266">.</span><span class="ident" id="2048267">Interface</span><span class="op" id="2048276">(</span><span class="op" id="2048277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048283">if</span>&nbsp;<span class="ident" id="2048286">handled</span>&nbsp;<span class="op" id="2048294">:=</span>&nbsp;<span class="ident" id="2048297">p</span><span class="op" id="2048298">.</span><span class="ident" id="2048299">handleMethods</span><span class="op" id="2048312">(</span><span class="ident" id="2048313">verb</span><span class="op" id="2048317">,</span>&nbsp;<span class="ident" id="2048319">depth</span><span class="op" id="2048324">)</span><span class="op" id="2048325">;</span>&nbsp;<span class="ident" id="2048327">handled</span>&nbsp;<span class="op" id="2048335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048339">return</span>&nbsp;<span class="builtintype" id="2048346">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048353">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048357">return</span>&nbsp;<span class="ident" id="2048364">p</span><span class="op" id="2048365">.</span><span class="ident" id="2048366">printReflectValue</span><span class="op" id="2048383">(</span><span class="ident" id="2048384">value</span><span class="op" id="2048389">,</span>&nbsp;<span class="ident" id="2048391">verb</span><span class="op" id="2048395">,</span>&nbsp;<span class="ident" id="2048397">depth</span><span class="op" id="2048402">)</span><br>
<span class="lineno"></span><span class="op" id="2048404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2048407">var</span>&nbsp;<span class="ident" id="2048411">byteType</span>&nbsp;<span class="op" id="2048420">=</span>&nbsp;<span class="ident" id="2048422">reflect</span><span class="op" id="2048429">.</span><span class="ident" id="2048430">TypeOf</span><span class="op" id="2048436">(</span><span class="builtintype" id="2048437">byte</span><span class="op" id="2048441">(</span><span class="num" id="2048442">0</span><span class="op" id="2048443">)</span><span class="op" id="2048444">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2048447">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2048518">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2048557">func</span>&nbsp;<span class="op" id="2048562">(</span><span class="ident" id="2048563">p</span>&nbsp;<span class="op" id="2048565">*</span><span class="ident" id="2048566">pp</span><span class="op" id="2048568">)</span>&nbsp;<span class="ident" id="2048570">printReflectValue</span><span class="op" id="2048587">(</span><span class="ident" id="2048588">value</span>&nbsp;<span class="ident" id="2048594">reflect</span><span class="op" id="2048601">.</span><span class="ident" id="2048602">Value</span><span class="op" id="2048607">,</span>&nbsp;<span class="ident" id="2048609">verb</span>&nbsp;<span class="builtintype" id="2048614">rune</span><span class="op" id="2048618">,</span>&nbsp;<span class="ident" id="2048620">depth</span>&nbsp;<span class="builtintype" id="2048626">int</span><span class="op" id="2048629">)</span>&nbsp;<span class="op" id="2048631">(</span><span class="ident" id="2048632">wasString</span>&nbsp;<span class="builtintype" id="2048642">bool</span><span class="op" id="2048646">)</span>&nbsp;<span class="op" id="2048648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048651">oldValue</span>&nbsp;<span class="op" id="2048660">:=</span>&nbsp;<span class="ident" id="2048663">p</span><span class="op" id="2048664">.</span><span class="ident" id="2048665">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048672">p</span><span class="op" id="2048673">.</span><span class="ident" id="2048674">value</span>&nbsp;<span class="op" id="2048680">=</span>&nbsp;<span class="ident" id="2048682">value</span><br>
<span class="lineno"></span><span class="ident" id="2048688">BigSwitch</span><span class="op" id="2048697">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048700">switch</span>&nbsp;<span class="ident" id="2048707">f</span>&nbsp;<span class="op" id="2048709">:=</span>&nbsp;<span class="ident" id="2048712">value</span><span class="op" id="2048717">;</span>&nbsp;<span class="ident" id="2048719">f</span><span class="op" id="2048720">.</span><span class="ident" id="2048721">Kind</span><span class="op" id="2048725">(</span><span class="op" id="2048726">)</span>&nbsp;<span class="op" id="2048728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048731">case</span>&nbsp;<span class="ident" id="2048736">reflect</span><span class="op" id="2048743">.</span><span class="ident" id="2048744">Bool</span><span class="op" id="2048748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048752">p</span><span class="op" id="2048753">.</span><span class="ident" id="2048754">fmtBool</span><span class="op" id="2048761">(</span><span class="ident" id="2048762">f</span><span class="op" id="2048763">.</span><span class="ident" id="2048764">Bool</span><span class="op" id="2048768">(</span><span class="op" id="2048769">)</span><span class="op" id="2048770">,</span>&nbsp;<span class="ident" id="2048772">verb</span><span class="op" id="2048776">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048779">case</span>&nbsp;<span class="ident" id="2048784">reflect</span><span class="op" id="2048791">.</span><span class="ident" id="2048792">Int</span><span class="op" id="2048795">,</span>&nbsp;<span class="ident" id="2048797">reflect</span><span class="op" id="2048804">.</span><span class="ident" id="2048805">Int8</span><span class="op" id="2048809">,</span>&nbsp;<span class="ident" id="2048811">reflect</span><span class="op" id="2048818">.</span><span class="ident" id="2048819">Int16</span><span class="op" id="2048824">,</span>&nbsp;<span class="ident" id="2048826">reflect</span><span class="op" id="2048833">.</span><span class="ident" id="2048834">Int32</span><span class="op" id="2048839">,</span>&nbsp;<span class="ident" id="2048841">reflect</span><span class="op" id="2048848">.</span><span class="ident" id="2048849">Int64</span><span class="op" id="2048854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048858">p</span><span class="op" id="2048859">.</span><span class="ident" id="2048860">fmtInt64</span><span class="op" id="2048868">(</span><span class="ident" id="2048869">f</span><span class="op" id="2048870">.</span><span class="ident" id="2048871">Int</span><span class="op" id="2048874">(</span><span class="op" id="2048875">)</span><span class="op" id="2048876">,</span>&nbsp;<span class="ident" id="2048878">verb</span><span class="op" id="2048882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048885">case</span>&nbsp;<span class="ident" id="2048890">reflect</span><span class="op" id="2048897">.</span><span class="ident" id="2048898">Uint</span><span class="op" id="2048902">,</span>&nbsp;<span class="ident" id="2048904">reflect</span><span class="op" id="2048911">.</span><span class="ident" id="2048912">Uint8</span><span class="op" id="2048917">,</span>&nbsp;<span class="ident" id="2048919">reflect</span><span class="op" id="2048926">.</span><span class="ident" id="2048927">Uint16</span><span class="op" id="2048933">,</span>&nbsp;<span class="ident" id="2048935">reflect</span><span class="op" id="2048942">.</span><span class="ident" id="2048943">Uint32</span><span class="op" id="2048949">,</span>&nbsp;<span class="ident" id="2048951">reflect</span><span class="op" id="2048958">.</span><span class="ident" id="2048959">Uint64</span><span class="op" id="2048965">,</span>&nbsp;<span class="ident" id="2048967">reflect</span><span class="op" id="2048974">.</span><span class="ident" id="2048975">Uintptr</span><span class="op" id="2048982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048986">p</span><span class="op" id="2048987">.</span><span class="ident" id="2048988">fmtUint64</span><span class="op" id="2048997">(</span><span class="ident" id="2048998">f</span><span class="op" id="2048999">.</span><span class="ident" id="2049000">Uint</span><span class="op" id="2049004">(</span><span class="op" id="2049005">)</span><span class="op" id="2049006">,</span>&nbsp;<span class="ident" id="2049008">verb</span><span class="op" id="2049012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049015">case</span>&nbsp;<span class="ident" id="2049020">reflect</span><span class="op" id="2049027">.</span><span class="ident" id="2049028">Float32</span><span class="op" id="2049035">,</span>&nbsp;<span class="ident" id="2049037">reflect</span><span class="op" id="2049044">.</span><span class="ident" id="2049045">Float64</span><span class="op" id="2049052">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049056">if</span>&nbsp;<span class="ident" id="2049059">f</span><span class="op" id="2049060">.</span><span class="ident" id="2049061">Type</span><span class="op" id="2049065">(</span><span class="op" id="2049066">)</span><span class="op" id="2049067">.</span><span class="ident" id="2049068">Size</span><span class="op" id="2049072">(</span><span class="op" id="2049073">)</span>&nbsp;<span class="op" id="2049075">==</span>&nbsp;<span class="num" id="2049078">4</span>&nbsp;<span class="op" id="2049080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049085">p</span><span class="op" id="2049086">.</span><span class="ident" id="2049087">fmtFloat32</span><span class="op" id="2049097">(</span><span class="builtintype" id="2049098">float32</span><span class="op" id="2049105">(</span><span class="ident" id="2049106">f</span><span class="op" id="2049107">.</span><span class="ident" id="2049108">Float</span><span class="op" id="2049113">(</span><span class="op" id="2049114">)</span><span class="op" id="2049115">)</span><span class="op" id="2049116">,</span>&nbsp;<span class="ident" id="2049118">verb</span><span class="op" id="2049122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049126">}</span>&nbsp;<span class="keyword" id="2049128">else</span>&nbsp;<span class="op" id="2049133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049138">p</span><span class="op" id="2049139">.</span><span class="ident" id="2049140">fmtFloat64</span><span class="op" id="2049150">(</span><span class="ident" id="2049151">f</span><span class="op" id="2049152">.</span><span class="ident" id="2049153">Float</span><span class="op" id="2049158">(</span><span class="op" id="2049159">)</span><span class="op" id="2049160">,</span>&nbsp;<span class="ident" id="2049162">verb</span><span class="op" id="2049166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049170">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049173">case</span>&nbsp;<span class="ident" id="2049178">reflect</span><span class="op" id="2049185">.</span><span class="ident" id="2049186">Complex64</span><span class="op" id="2049195">,</span>&nbsp;<span class="ident" id="2049197">reflect</span><span class="op" id="2049204">.</span><span class="ident" id="2049205">Complex128</span><span class="op" id="2049215">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049219">if</span>&nbsp;<span class="ident" id="2049222">f</span><span class="op" id="2049223">.</span><span class="ident" id="2049224">Type</span><span class="op" id="2049228">(</span><span class="op" id="2049229">)</span><span class="op" id="2049230">.</span><span class="ident" id="2049231">Size</span><span class="op" id="2049235">(</span><span class="op" id="2049236">)</span>&nbsp;<span class="op" id="2049238">==</span>&nbsp;<span class="num" id="2049241">8</span>&nbsp;<span class="op" id="2049243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049248">p</span><span class="op" id="2049249">.</span><span class="ident" id="2049250">fmtComplex64</span><span class="op" id="2049262">(</span><span class="builtintype" id="2049263">complex64</span><span class="op" id="2049272">(</span><span class="ident" id="2049273">f</span><span class="op" id="2049274">.</span><span class="ident" id="2049275">Complex</span><span class="op" id="2049282">(</span><span class="op" id="2049283">)</span><span class="op" id="2049284">)</span><span class="op" id="2049285">,</span>&nbsp;<span class="ident" id="2049287">verb</span><span class="op" id="2049291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049295">}</span>&nbsp;<span class="keyword" id="2049297">else</span>&nbsp;<span class="op" id="2049302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049307">p</span><span class="op" id="2049308">.</span><span class="ident" id="2049309">fmtComplex128</span><span class="op" id="2049322">(</span><span class="ident" id="2049323">f</span><span class="op" id="2049324">.</span><span class="ident" id="2049325">Complex</span><span class="op" id="2049332">(</span><span class="op" id="2049333">)</span><span class="op" id="2049334">,</span>&nbsp;<span class="ident" id="2049336">verb</span><span class="op" id="2049340">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049347">case</span>&nbsp;<span class="ident" id="2049352">reflect</span><span class="op" id="2049359">.</span><span class="ident" id="2049360">String</span><span class="op" id="2049366">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049370">p</span><span class="op" id="2049371">.</span><span class="ident" id="2049372">fmtString</span><span class="op" id="2049381">(</span><span class="ident" id="2049382">f</span><span class="op" id="2049383">.</span><span class="ident" id="2049384">String</span><span class="op" id="2049390">(</span><span class="op" id="2049391">)</span><span class="op" id="2049392">,</span>&nbsp;<span class="ident" id="2049394">verb</span><span class="op" id="2049398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049401">case</span>&nbsp;<span class="ident" id="2049406">reflect</span><span class="op" id="2049413">.</span><span class="ident" id="2049414">Map</span><span class="op" id="2049417">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049421">if</span>&nbsp;<span class="ident" id="2049424">p</span><span class="op" id="2049425">.</span><span class="ident" id="2049426">fmt</span><span class="op" id="2049429">.</span><span class="ident" id="2049430">sharpV</span>&nbsp;<span class="op" id="2049437">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049442">p</span><span class="op" id="2049443">.</span><span class="ident" id="2049444">buf</span><span class="op" id="2049447">.</span><span class="ident" id="2049448">WriteString</span><span class="op" id="2049459">(</span><span class="ident" id="2049460">f</span><span class="op" id="2049461">.</span><span class="ident" id="2049462">Type</span><span class="op" id="2049466">(</span><span class="op" id="2049467">)</span><span class="op" id="2049468">.</span><span class="ident" id="2049469">String</span><span class="op" id="2049475">(</span><span class="op" id="2049476">)</span><span class="op" id="2049477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049482">if</span>&nbsp;<span class="ident" id="2049485">f</span><span class="op" id="2049486">.</span><span class="ident" id="2049487">IsNil</span><span class="op" id="2049492">(</span><span class="op" id="2049493">)</span>&nbsp;<span class="op" id="2049495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049501">p</span><span class="op" id="2049502">.</span><span class="ident" id="2049503">buf</span><span class="op" id="2049506">.</span><span class="ident" id="2049507">WriteString</span><span class="op" id="2049518">(</span><span class="string" id="2049519">&#34;(nil)&#34;</span><span class="op" id="2049526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049532">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049541">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049546">p</span><span class="op" id="2049547">.</span><span class="ident" id="2049548">buf</span><span class="op" id="2049551">.</span><span class="ident" id="2049552">WriteByte</span><span class="op" id="2049561">(</span><span class="string" id="2049562">&#39;{&#39;</span><span class="op" id="2049565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049569">}</span>&nbsp;<span class="keyword" id="2049571">else</span>&nbsp;<span class="op" id="2049576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049581">p</span><span class="op" id="2049582">.</span><span class="ident" id="2049583">buf</span><span class="op" id="2049586">.</span><span class="ident" id="2049587">Write</span><span class="op" id="2049592">(</span><span class="ident" id="2049593">mapBytes</span><span class="op" id="2049601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049609">keys</span>&nbsp;<span class="op" id="2049614">:=</span>&nbsp;<span class="ident" id="2049617">f</span><span class="op" id="2049618">.</span><span class="ident" id="2049619">MapKeys</span><span class="op" id="2049626">(</span><span class="op" id="2049627">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049631">for</span>&nbsp;<span class="ident" id="2049635">i</span><span class="op" id="2049636">,</span>&nbsp;<span class="ident" id="2049638">key</span>&nbsp;<span class="op" id="2049642">:=</span>&nbsp;<span class="keyword" id="2049645">range</span>&nbsp;<span class="ident" id="2049651">keys</span>&nbsp;<span class="op" id="2049656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049661">if</span>&nbsp;<span class="ident" id="2049664">i</span>&nbsp;<span class="op" id="2049666">&gt;</span>&nbsp;<span class="num" id="2049668">0</span>&nbsp;<span class="op" id="2049670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049676">if</span>&nbsp;<span class="ident" id="2049679">p</span><span class="op" id="2049680">.</span><span class="ident" id="2049681">fmt</span><span class="op" id="2049684">.</span><span class="ident" id="2049685">sharpV</span>&nbsp;<span class="op" id="2049692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049699">p</span><span class="op" id="2049700">.</span><span class="ident" id="2049701">buf</span><span class="op" id="2049704">.</span><span class="ident" id="2049705">Write</span><span class="op" id="2049710">(</span><span class="ident" id="2049711">commaSpaceBytes</span><span class="op" id="2049726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049732">}</span>&nbsp;<span class="keyword" id="2049734">else</span>&nbsp;<span class="op" id="2049739">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049746">p</span><span class="op" id="2049747">.</span><span class="ident" id="2049748">buf</span><span class="op" id="2049751">.</span><span class="ident" id="2049752">WriteByte</span><span class="op" id="2049761">(</span><span class="string" id="2049762">&#39;&nbsp;&#39;</span><span class="op" id="2049765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049781">p</span><span class="op" id="2049782">.</span><span class="ident" id="2049783">printValue</span><span class="op" id="2049793">(</span><span class="ident" id="2049794">key</span><span class="op" id="2049797">,</span>&nbsp;<span class="ident" id="2049799">verb</span><span class="op" id="2049803">,</span>&nbsp;<span class="ident" id="2049805">depth</span><span class="op" id="2049810">+</span><span class="num" id="2049811">1</span><span class="op" id="2049812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049817">p</span><span class="op" id="2049818">.</span><span class="ident" id="2049819">buf</span><span class="op" id="2049822">.</span><span class="ident" id="2049823">WriteByte</span><span class="op" id="2049832">(</span><span class="string" id="2049833">&#39;:&#39;</span><span class="op" id="2049836">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049841">p</span><span class="op" id="2049842">.</span><span class="ident" id="2049843">printValue</span><span class="op" id="2049853">(</span><span class="ident" id="2049854">f</span><span class="op" id="2049855">.</span><span class="ident" id="2049856">MapIndex</span><span class="op" id="2049864">(</span><span class="ident" id="2049865">key</span><span class="op" id="2049868">)</span><span class="op" id="2049869">,</span>&nbsp;<span class="ident" id="2049871">verb</span><span class="op" id="2049875">,</span>&nbsp;<span class="ident" id="2049877">depth</span><span class="op" id="2049882">+</span><span class="num" id="2049883">1</span><span class="op" id="2049884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049892">if</span>&nbsp;<span class="ident" id="2049895">p</span><span class="op" id="2049896">.</span><span class="ident" id="2049897">fmt</span><span class="op" id="2049900">.</span><span class="ident" id="2049901">sharpV</span>&nbsp;<span class="op" id="2049908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049913">p</span><span class="op" id="2049914">.</span><span class="ident" id="2049915">buf</span><span class="op" id="2049918">.</span><span class="ident" id="2049919">WriteByte</span><span class="op" id="2049928">(</span><span class="string" id="2049929">&#39;}&#39;</span><span class="op" id="2049932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049936">}</span>&nbsp;<span class="keyword" id="2049938">else</span>&nbsp;<span class="op" id="2049943">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049948">p</span><span class="op" id="2049949">.</span><span class="ident" id="2049950">buf</span><span class="op" id="2049953">.</span><span class="ident" id="2049954">WriteByte</span><span class="op" id="2049963">(</span><span class="string" id="2049964">&#39;]&#39;</span><span class="op" id="2049967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049974">case</span>&nbsp;<span class="ident" id="2049979">reflect</span><span class="op" id="2049986">.</span><span class="ident" id="2049987">Struct</span><span class="op" id="2049993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049997">if</span>&nbsp;<span class="ident" id="2050000">p</span><span class="op" id="2050001">.</span><span class="ident" id="2050002">fmt</span><span class="op" id="2050005">.</span><span class="ident" id="2050006">sharpV</span>&nbsp;<span class="op" id="2050013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050018">p</span><span class="op" id="2050019">.</span><span class="ident" id="2050020">buf</span><span class="op" id="2050023">.</span><span class="ident" id="2050024">WriteString</span><span class="op" id="2050035">(</span><span class="ident" id="2050036">value</span><span class="op" id="2050041">.</span><span class="ident" id="2050042">Type</span><span class="op" id="2050046">(</span><span class="op" id="2050047">)</span><span class="op" id="2050048">.</span><span class="ident" id="2050049">String</span><span class="op" id="2050055">(</span><span class="op" id="2050056">)</span><span class="op" id="2050057">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050065">p</span><span class="op" id="2050066">.</span><span class="ident" id="2050067">add</span><span class="op" id="2050070">(</span><span class="string" id="2050071">&#39;{&#39;</span><span class="op" id="2050074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050078">v</span>&nbsp;<span class="op" id="2050080">:=</span>&nbsp;<span class="ident" id="2050083">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050087">t</span>&nbsp;<span class="op" id="2050089">:=</span>&nbsp;<span class="ident" id="2050092">v</span><span class="op" id="2050093">.</span><span class="ident" id="2050094">Type</span><span class="op" id="2050098">(</span><span class="op" id="2050099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050103">for</span>&nbsp;<span class="ident" id="2050107">i</span>&nbsp;<span class="op" id="2050109">:=</span>&nbsp;<span class="num" id="2050112">0</span><span class="op" id="2050113">;</span>&nbsp;<span class="ident" id="2050115">i</span>&nbsp;<span class="op" id="2050117">&lt;</span>&nbsp;<span class="ident" id="2050119">v</span><span class="op" id="2050120">.</span><span class="ident" id="2050121">NumField</span><span class="op" id="2050129">(</span><span class="op" id="2050130">)</span><span class="op" id="2050131">;</span>&nbsp;<span class="ident" id="2050133">i</span><span class="op" id="2050134">++</span>&nbsp;<span class="op" id="2050137">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050142">if</span>&nbsp;<span class="ident" id="2050145">i</span>&nbsp;<span class="op" id="2050147">&gt;</span>&nbsp;<span class="num" id="2050149">0</span>&nbsp;<span class="op" id="2050151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050157">if</span>&nbsp;<span class="ident" id="2050160">p</span><span class="op" id="2050161">.</span><span class="ident" id="2050162">fmt</span><span class="op" id="2050165">.</span><span class="ident" id="2050166">sharpV</span>&nbsp;<span class="op" id="2050173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050180">p</span><span class="op" id="2050181">.</span><span class="ident" id="2050182">buf</span><span class="op" id="2050185">.</span><span class="ident" id="2050186">Write</span><span class="op" id="2050191">(</span><span class="ident" id="2050192">commaSpaceBytes</span><span class="op" id="2050207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050213">}</span>&nbsp;<span class="keyword" id="2050215">else</span>&nbsp;<span class="op" id="2050220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050227">p</span><span class="op" id="2050228">.</span><span class="ident" id="2050229">buf</span><span class="op" id="2050232">.</span><span class="ident" id="2050233">WriteByte</span><span class="op" id="2050242">(</span><span class="string" id="2050243">&#39;&nbsp;&#39;</span><span class="op" id="2050246">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050262">if</span>&nbsp;<span class="ident" id="2050265">p</span><span class="op" id="2050266">.</span><span class="ident" id="2050267">fmt</span><span class="op" id="2050270">.</span><span class="ident" id="2050271">plusV</span>&nbsp;<span class="op" id="2050277">||</span>&nbsp;<span class="ident" id="2050280">p</span><span class="op" id="2050281">.</span><span class="ident" id="2050282">fmt</span><span class="op" id="2050285">.</span><span class="ident" id="2050286">sharpV</span>&nbsp;<span class="op" id="2050293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050299">if</span>&nbsp;<span class="ident" id="2050302">f</span>&nbsp;<span class="op" id="2050304">:=</span>&nbsp;<span class="ident" id="2050307">t</span><span class="op" id="2050308">.</span><span class="ident" id="2050309">Field</span><span class="op" id="2050314">(</span><span class="ident" id="2050315">i</span><span class="op" id="2050316">)</span><span class="op" id="2050317">;</span>&nbsp;<span class="ident" id="2050319">f</span><span class="op" id="2050320">.</span><span class="ident" id="2050321">Name</span>&nbsp;<span class="op" id="2050326">!=</span>&nbsp;<span class="string" id="2050329">&#34;&#34;</span>&nbsp;<span class="op" id="2050332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050339">p</span><span class="op" id="2050340">.</span><span class="ident" id="2050341">buf</span><span class="op" id="2050344">.</span><span class="ident" id="2050345">WriteString</span><span class="op" id="2050356">(</span><span class="ident" id="2050357">f</span><span class="op" id="2050358">.</span><span class="ident" id="2050359">Name</span><span class="op" id="2050363">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050370">p</span><span class="op" id="2050371">.</span><span class="ident" id="2050372">buf</span><span class="op" id="2050375">.</span><span class="ident" id="2050376">WriteByte</span><span class="op" id="2050385">(</span><span class="string" id="2050386">&#39;:&#39;</span><span class="op" id="2050389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050405">p</span><span class="op" id="2050406">.</span><span class="ident" id="2050407">printValue</span><span class="op" id="2050417">(</span><span class="ident" id="2050418">getField</span><span class="op" id="2050426">(</span><span class="ident" id="2050427">v</span><span class="op" id="2050428">,</span>&nbsp;<span class="ident" id="2050430">i</span><span class="op" id="2050431">)</span><span class="op" id="2050432">,</span>&nbsp;<span class="ident" id="2050434">verb</span><span class="op" id="2050438">,</span>&nbsp;<span class="ident" id="2050440">depth</span><span class="op" id="2050445">+</span><span class="num" id="2050446">1</span><span class="op" id="2050447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050451">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050455">p</span><span class="op" id="2050456">.</span><span class="ident" id="2050457">buf</span><span class="op" id="2050460">.</span><span class="ident" id="2050461">WriteByte</span><span class="op" id="2050470">(</span><span class="string" id="2050471">&#39;}&#39;</span><span class="op" id="2050474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050477">case</span>&nbsp;<span class="ident" id="2050482">reflect</span><span class="op" id="2050489">.</span><span class="ident" id="2050490">Interface</span><span class="op" id="2050499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050503">value</span>&nbsp;<span class="op" id="2050509">:=</span>&nbsp;<span class="ident" id="2050512">f</span><span class="op" id="2050513">.</span><span class="ident" id="2050514">Elem</span><span class="op" id="2050518">(</span><span class="op" id="2050519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050523">if</span>&nbsp;<span class="op" id="2050526">!</span><span class="ident" id="2050527">value</span><span class="op" id="2050532">.</span><span class="ident" id="2050533">IsValid</span><span class="op" id="2050540">(</span><span class="op" id="2050541">)</span>&nbsp;<span class="op" id="2050543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050548">if</span>&nbsp;<span class="ident" id="2050551">p</span><span class="op" id="2050552">.</span><span class="ident" id="2050553">fmt</span><span class="op" id="2050556">.</span><span class="ident" id="2050557">sharpV</span>&nbsp;<span class="op" id="2050564">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050570">p</span><span class="op" id="2050571">.</span><span class="ident" id="2050572">buf</span><span class="op" id="2050575">.</span><span class="ident" id="2050576">WriteString</span><span class="op" id="2050587">(</span><span class="ident" id="2050588">f</span><span class="op" id="2050589">.</span><span class="ident" id="2050590">Type</span><span class="op" id="2050594">(</span><span class="op" id="2050595">)</span><span class="op" id="2050596">.</span><span class="ident" id="2050597">String</span><span class="op" id="2050603">(</span><span class="op" id="2050604">)</span><span class="op" id="2050605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050611">p</span><span class="op" id="2050612">.</span><span class="ident" id="2050613">buf</span><span class="op" id="2050616">.</span><span class="ident" id="2050617">Write</span><span class="op" id="2050622">(</span><span class="ident" id="2050623">nilParenBytes</span><span class="op" id="2050636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050641">}</span>&nbsp;<span class="keyword" id="2050643">else</span>&nbsp;<span class="op" id="2050648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050654">p</span><span class="op" id="2050655">.</span><span class="ident" id="2050656">buf</span><span class="op" id="2050659">.</span><span class="ident" id="2050660">Write</span><span class="op" id="2050665">(</span><span class="ident" id="2050666">nilAngleBytes</span><span class="op" id="2050679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050684">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050688">}</span>&nbsp;<span class="keyword" id="2050690">else</span>&nbsp;<span class="op" id="2050695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050700">wasString</span>&nbsp;<span class="op" id="2050710">=</span>&nbsp;<span class="ident" id="2050712">p</span><span class="op" id="2050713">.</span><span class="ident" id="2050714">printValue</span><span class="op" id="2050724">(</span><span class="ident" id="2050725">value</span><span class="op" id="2050730">,</span>&nbsp;<span class="ident" id="2050732">verb</span><span class="op" id="2050736">,</span>&nbsp;<span class="ident" id="2050738">depth</span><span class="op" id="2050743">+</span><span class="num" id="2050744">1</span><span class="op" id="2050745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050752">case</span>&nbsp;<span class="ident" id="2050757">reflect</span><span class="op" id="2050764">.</span><span class="ident" id="2050765">Array</span><span class="op" id="2050770">,</span>&nbsp;<span class="ident" id="2050772">reflect</span><span class="op" id="2050779">.</span><span class="ident" id="2050780">Slice</span><span class="op" id="2050785">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050789">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050819">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050868">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050936">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050999">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051060">if</span>&nbsp;<span class="ident" id="2051063">typ</span>&nbsp;<span class="op" id="2051067">:=</span>&nbsp;<span class="ident" id="2051070">f</span><span class="op" id="2051071">.</span><span class="ident" id="2051072">Type</span><span class="op" id="2051076">(</span><span class="op" id="2051077">)</span><span class="op" id="2051078">;</span>&nbsp;<span class="ident" id="2051080">typ</span><span class="op" id="2051083">.</span><span class="ident" id="2051084">Elem</span><span class="op" id="2051088">(</span><span class="op" id="2051089">)</span><span class="op" id="2051090">.</span><span class="ident" id="2051091">Kind</span><span class="op" id="2051095">(</span><span class="op" id="2051096">)</span>&nbsp;<span class="op" id="2051098">==</span>&nbsp;<span class="ident" id="2051101">reflect</span><span class="op" id="2051108">.</span><span class="ident" id="2051109">Uint8</span>&nbsp;<span class="op" id="2051115">&amp;&amp;</span>&nbsp;<span class="op" id="2051118">(</span><span class="ident" id="2051119">typ</span><span class="op" id="2051122">.</span><span class="ident" id="2051123">Elem</span><span class="op" id="2051127">(</span><span class="op" id="2051128">)</span>&nbsp;<span class="op" id="2051130">==</span>&nbsp;<span class="ident" id="2051133">byteType</span>&nbsp;<span class="op" id="2051142">||</span>&nbsp;<span class="ident" id="2051145">verb</span>&nbsp;<span class="op" id="2051150">==</span>&nbsp;<span class="string" id="2051153">&#39;s&#39;</span>&nbsp;<span class="op" id="2051157">||</span>&nbsp;<span class="ident" id="2051160">verb</span>&nbsp;<span class="op" id="2051165">==</span>&nbsp;<span class="string" id="2051168">&#39;q&#39;</span>&nbsp;<span class="op" id="2051172">||</span>&nbsp;<span class="ident" id="2051175">verb</span>&nbsp;<span class="op" id="2051180">==</span>&nbsp;<span class="string" id="2051183">&#39;x&#39;</span><span class="op" id="2051186">)</span>&nbsp;<span class="op" id="2051188">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051193">var</span>&nbsp;<span class="ident" id="2051197">bytes</span>&nbsp;<span class="op" id="2051203">[</span><span class="op" id="2051204">]</span><span class="builtintype" id="2051205">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051213">if</span>&nbsp;<span class="ident" id="2051216">f</span><span class="op" id="2051217">.</span><span class="ident" id="2051218">Kind</span><span class="op" id="2051222">(</span><span class="op" id="2051223">)</span>&nbsp;<span class="op" id="2051225">==</span>&nbsp;<span class="ident" id="2051228">reflect</span><span class="op" id="2051235">.</span><span class="ident" id="2051236">Slice</span>&nbsp;<span class="op" id="2051242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051248">bytes</span>&nbsp;<span class="op" id="2051254">=</span>&nbsp;<span class="ident" id="2051256">f</span><span class="op" id="2051257">.</span><span class="ident" id="2051258">Bytes</span><span class="op" id="2051263">(</span><span class="op" id="2051264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051269">}</span>&nbsp;<span class="keyword" id="2051271">else</span>&nbsp;<span class="keyword" id="2051276">if</span>&nbsp;<span class="ident" id="2051279">f</span><span class="op" id="2051280">.</span><span class="ident" id="2051281">CanAddr</span><span class="op" id="2051288">(</span><span class="op" id="2051289">)</span>&nbsp;<span class="op" id="2051291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051297">bytes</span>&nbsp;<span class="op" id="2051303">=</span>&nbsp;<span class="ident" id="2051305">f</span><span class="op" id="2051306">.</span><span class="ident" id="2051307">Slice</span><span class="op" id="2051312">(</span><span class="num" id="2051313">0</span><span class="op" id="2051314">,</span>&nbsp;<span class="ident" id="2051316">f</span><span class="op" id="2051317">.</span><span class="ident" id="2051318">Len</span><span class="op" id="2051321">(</span><span class="op" id="2051322">)</span><span class="op" id="2051323">)</span><span class="op" id="2051324">.</span><span class="ident" id="2051325">Bytes</span><span class="op" id="2051330">(</span><span class="op" id="2051331">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051336">}</span>&nbsp;<span class="keyword" id="2051338">else</span>&nbsp;<span class="op" id="2051343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2051349">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2051421">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2051498">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051545">bytes</span>&nbsp;<span class="op" id="2051551">=</span>&nbsp;<span class="builtinfunc" id="2051553">make</span><span class="op" id="2051557">(</span><span class="op" id="2051558">[</span><span class="op" id="2051559">]</span><span class="builtintype" id="2051560">byte</span><span class="op" id="2051564">,</span>&nbsp;<span class="ident" id="2051566">f</span><span class="op" id="2051567">.</span><span class="ident" id="2051568">Len</span><span class="op" id="2051571">(</span><span class="op" id="2051572">)</span><span class="op" id="2051573">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051579">for</span>&nbsp;<span class="ident" id="2051583">i</span>&nbsp;<span class="op" id="2051585">:=</span>&nbsp;<span class="keyword" id="2051588">range</span>&nbsp;<span class="ident" id="2051594">bytes</span>&nbsp;<span class="op" id="2051600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051607">bytes</span><span class="op" id="2051612">[</span><span class="ident" id="2051613">i</span><span class="op" id="2051614">]</span>&nbsp;<span class="op" id="2051616">=</span>&nbsp;<span class="builtintype" id="2051618">byte</span><span class="op" id="2051622">(</span><span class="ident" id="2051623">f</span><span class="op" id="2051624">.</span><span class="ident" id="2051625">Index</span><span class="op" id="2051630">(</span><span class="ident" id="2051631">i</span><span class="op" id="2051632">)</span><span class="op" id="2051633">.</span><span class="ident" id="2051634">Uint</span><span class="op" id="2051638">(</span><span class="op" id="2051639">)</span><span class="op" id="2051640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051656">p</span><span class="op" id="2051657">.</span><span class="ident" id="2051658">fmtBytes</span><span class="op" id="2051666">(</span><span class="ident" id="2051667">bytes</span><span class="op" id="2051672">,</span>&nbsp;<span class="ident" id="2051674">verb</span><span class="op" id="2051678">,</span>&nbsp;<span class="ident" id="2051680">typ</span><span class="op" id="2051683">,</span>&nbsp;<span class="ident" id="2051685">depth</span><span class="op" id="2051690">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051695">wasString</span>&nbsp;<span class="op" id="2051705">=</span>&nbsp;<span class="ident" id="2051707">verb</span>&nbsp;<span class="op" id="2051712">==</span>&nbsp;<span class="string" id="2051715">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051722">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051734">if</span>&nbsp;<span class="ident" id="2051737">p</span><span class="op" id="2051738">.</span><span class="ident" id="2051739">fmt</span><span class="op" id="2051742">.</span><span class="ident" id="2051743">sharpV</span>&nbsp;<span class="op" id="2051750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051755">p</span><span class="op" id="2051756">.</span><span class="ident" id="2051757">buf</span><span class="op" id="2051760">.</span><span class="ident" id="2051761">WriteString</span><span class="op" id="2051772">(</span><span class="ident" id="2051773">value</span><span class="op" id="2051778">.</span><span class="ident" id="2051779">Type</span><span class="op" id="2051783">(</span><span class="op" id="2051784">)</span><span class="op" id="2051785">.</span><span class="ident" id="2051786">String</span><span class="op" id="2051792">(</span><span class="op" id="2051793">)</span><span class="op" id="2051794">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051799">if</span>&nbsp;<span class="ident" id="2051802">f</span><span class="op" id="2051803">.</span><span class="ident" id="2051804">Kind</span><span class="op" id="2051808">(</span><span class="op" id="2051809">)</span>&nbsp;<span class="op" id="2051811">==</span>&nbsp;<span class="ident" id="2051814">reflect</span><span class="op" id="2051821">.</span><span class="ident" id="2051822">Slice</span>&nbsp;<span class="op" id="2051828">&amp;&amp;</span>&nbsp;<span class="ident" id="2051831">f</span><span class="op" id="2051832">.</span><span class="ident" id="2051833">IsNil</span><span class="op" id="2051838">(</span><span class="op" id="2051839">)</span>&nbsp;<span class="op" id="2051841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051847">p</span><span class="op" id="2051848">.</span><span class="ident" id="2051849">buf</span><span class="op" id="2051852">.</span><span class="ident" id="2051853">WriteString</span><span class="op" id="2051864">(</span><span class="string" id="2051865">&#34;(nil)&#34;</span><span class="op" id="2051872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051878">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051892">p</span><span class="op" id="2051893">.</span><span class="ident" id="2051894">buf</span><span class="op" id="2051897">.</span><span class="ident" id="2051898">WriteByte</span><span class="op" id="2051907">(</span><span class="string" id="2051908">&#39;{&#39;</span><span class="op" id="2051911">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051915">}</span>&nbsp;<span class="keyword" id="2051917">else</span>&nbsp;<span class="op" id="2051922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051927">p</span><span class="op" id="2051928">.</span><span class="ident" id="2051929">buf</span><span class="op" id="2051932">.</span><span class="ident" id="2051933">WriteByte</span><span class="op" id="2051942">(</span><span class="string" id="2051943">&#39;[&#39;</span><span class="op" id="2051946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051954">for</span>&nbsp;<span class="ident" id="2051958">i</span>&nbsp;<span class="op" id="2051960">:=</span>&nbsp;<span class="num" id="2051963">0</span><span class="op" id="2051964">;</span>&nbsp;<span class="ident" id="2051966">i</span>&nbsp;<span class="op" id="2051968">&lt;</span>&nbsp;<span class="ident" id="2051970">f</span><span class="op" id="2051971">.</span><span class="ident" id="2051972">Len</span><span class="op" id="2051975">(</span><span class="op" id="2051976">)</span><span class="op" id="2051977">;</span>&nbsp;<span class="ident" id="2051979">i</span><span class="op" id="2051980">++</span>&nbsp;<span class="op" id="2051983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051988">if</span>&nbsp;<span class="ident" id="2051991">i</span>&nbsp;<span class="op" id="2051993">&gt;</span>&nbsp;<span class="num" id="2051995">0</span>&nbsp;<span class="op" id="2051997">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052003">if</span>&nbsp;<span class="ident" id="2052006">p</span><span class="op" id="2052007">.</span><span class="ident" id="2052008">fmt</span><span class="op" id="2052011">.</span><span class="ident" id="2052012">sharpV</span>&nbsp;<span class="op" id="2052019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052026">p</span><span class="op" id="2052027">.</span><span class="ident" id="2052028">buf</span><span class="op" id="2052031">.</span><span class="ident" id="2052032">Write</span><span class="op" id="2052037">(</span><span class="ident" id="2052038">commaSpaceBytes</span><span class="op" id="2052053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052059">}</span>&nbsp;<span class="keyword" id="2052061">else</span>&nbsp;<span class="op" id="2052066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052073">p</span><span class="op" id="2052074">.</span><span class="ident" id="2052075">buf</span><span class="op" id="2052078">.</span><span class="ident" id="2052079">WriteByte</span><span class="op" id="2052088">(</span><span class="string" id="2052089">&#39;&nbsp;&#39;</span><span class="op" id="2052092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052098">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052108">p</span><span class="op" id="2052109">.</span><span class="ident" id="2052110">printValue</span><span class="op" id="2052120">(</span><span class="ident" id="2052121">f</span><span class="op" id="2052122">.</span><span class="ident" id="2052123">Index</span><span class="op" id="2052128">(</span><span class="ident" id="2052129">i</span><span class="op" id="2052130">)</span><span class="op" id="2052131">,</span>&nbsp;<span class="ident" id="2052133">verb</span><span class="op" id="2052137">,</span>&nbsp;<span class="ident" id="2052139">depth</span><span class="op" id="2052144">+</span><span class="num" id="2052145">1</span><span class="op" id="2052146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052154">if</span>&nbsp;<span class="ident" id="2052157">p</span><span class="op" id="2052158">.</span><span class="ident" id="2052159">fmt</span><span class="op" id="2052162">.</span><span class="ident" id="2052163">sharpV</span>&nbsp;<span class="op" id="2052170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052175">p</span><span class="op" id="2052176">.</span><span class="ident" id="2052177">buf</span><span class="op" id="2052180">.</span><span class="ident" id="2052181">WriteByte</span><span class="op" id="2052190">(</span><span class="string" id="2052191">&#39;}&#39;</span><span class="op" id="2052194">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052198">}</span>&nbsp;<span class="keyword" id="2052200">else</span>&nbsp;<span class="op" id="2052205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052210">p</span><span class="op" id="2052211">.</span><span class="ident" id="2052212">buf</span><span class="op" id="2052215">.</span><span class="ident" id="2052216">WriteByte</span><span class="op" id="2052225">(</span><span class="string" id="2052226">&#39;]&#39;</span><span class="op" id="2052229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052236">case</span>&nbsp;<span class="ident" id="2052241">reflect</span><span class="op" id="2052248">.</span><span class="ident" id="2052249">Ptr</span><span class="op" id="2052252">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052256">v</span>&nbsp;<span class="op" id="2052258">:=</span>&nbsp;<span class="ident" id="2052261">f</span><span class="op" id="2052262">.</span><span class="ident" id="2052263">Pointer</span><span class="op" id="2052270">(</span><span class="op" id="2052271">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2052275">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2052334">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052370">if</span>&nbsp;<span class="ident" id="2052373">v</span>&nbsp;<span class="op" id="2052375">!=</span>&nbsp;<span class="num" id="2052378">0</span>&nbsp;<span class="op" id="2052380">&amp;&amp;</span>&nbsp;<span class="ident" id="2052383">depth</span>&nbsp;<span class="op" id="2052389">==</span>&nbsp;<span class="num" id="2052392">0</span>&nbsp;<span class="op" id="2052394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052399">switch</span>&nbsp;<span class="ident" id="2052406">a</span>&nbsp;<span class="op" id="2052408">:=</span>&nbsp;<span class="ident" id="2052411">f</span><span class="op" id="2052412">.</span><span class="ident" id="2052413">Elem</span><span class="op" id="2052417">(</span><span class="op" id="2052418">)</span><span class="op" id="2052419">;</span>&nbsp;<span class="ident" id="2052421">a</span><span class="op" id="2052422">.</span><span class="ident" id="2052423">Kind</span><span class="op" id="2052427">(</span><span class="op" id="2052428">)</span>&nbsp;<span class="op" id="2052430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052435">case</span>&nbsp;<span class="ident" id="2052440">reflect</span><span class="op" id="2052447">.</span><span class="ident" id="2052448">Array</span><span class="op" id="2052453">,</span>&nbsp;<span class="ident" id="2052455">reflect</span><span class="op" id="2052462">.</span><span class="ident" id="2052463">Slice</span><span class="op" id="2052468">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052474">p</span><span class="op" id="2052475">.</span><span class="ident" id="2052476">buf</span><span class="op" id="2052479">.</span><span class="ident" id="2052480">WriteByte</span><span class="op" id="2052489">(</span><span class="string" id="2052490">&#39;&amp;&#39;</span><span class="op" id="2052493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052499">p</span><span class="op" id="2052500">.</span><span class="ident" id="2052501">printValue</span><span class="op" id="2052511">(</span><span class="ident" id="2052512">a</span><span class="op" id="2052513">,</span>&nbsp;<span class="ident" id="2052515">verb</span><span class="op" id="2052519">,</span>&nbsp;<span class="ident" id="2052521">depth</span><span class="op" id="2052526">+</span><span class="num" id="2052527">1</span><span class="op" id="2052528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052534">break</span>&nbsp;<span class="ident" id="2052540">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052553">case</span>&nbsp;<span class="ident" id="2052558">reflect</span><span class="op" id="2052565">.</span><span class="ident" id="2052566">Struct</span><span class="op" id="2052572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052578">p</span><span class="op" id="2052579">.</span><span class="ident" id="2052580">buf</span><span class="op" id="2052583">.</span><span class="ident" id="2052584">WriteByte</span><span class="op" id="2052593">(</span><span class="string" id="2052594">&#39;&amp;&#39;</span><span class="op" id="2052597">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052603">p</span><span class="op" id="2052604">.</span><span class="ident" id="2052605">printValue</span><span class="op" id="2052615">(</span><span class="ident" id="2052616">a</span><span class="op" id="2052617">,</span>&nbsp;<span class="ident" id="2052619">verb</span><span class="op" id="2052623">,</span>&nbsp;<span class="ident" id="2052625">depth</span><span class="op" id="2052630">+</span><span class="num" id="2052631">1</span><span class="op" id="2052632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052638">break</span>&nbsp;<span class="ident" id="2052644">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052657">case</span>&nbsp;<span class="ident" id="2052662">reflect</span><span class="op" id="2052669">.</span><span class="ident" id="2052670">Map</span><span class="op" id="2052673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052679">p</span><span class="op" id="2052680">.</span><span class="ident" id="2052681">buf</span><span class="op" id="2052684">.</span><span class="ident" id="2052685">WriteByte</span><span class="op" id="2052694">(</span><span class="string" id="2052695">&#39;&amp;&#39;</span><span class="op" id="2052698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052704">p</span><span class="op" id="2052705">.</span><span class="ident" id="2052706">printValue</span><span class="op" id="2052716">(</span><span class="ident" id="2052717">a</span><span class="op" id="2052718">,</span>&nbsp;<span class="ident" id="2052720">verb</span><span class="op" id="2052724">,</span>&nbsp;<span class="ident" id="2052726">depth</span><span class="op" id="2052731">+</span><span class="num" id="2052732">1</span><span class="op" id="2052733">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052739">break</span>&nbsp;<span class="ident" id="2052745">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052766">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052779">case</span>&nbsp;<span class="ident" id="2052784">reflect</span><span class="op" id="2052791">.</span><span class="ident" id="2052792">Chan</span><span class="op" id="2052796">,</span>&nbsp;<span class="ident" id="2052798">reflect</span><span class="op" id="2052805">.</span><span class="ident" id="2052806">Func</span><span class="op" id="2052810">,</span>&nbsp;<span class="ident" id="2052812">reflect</span><span class="op" id="2052819">.</span><span class="ident" id="2052820">UnsafePointer</span><span class="op" id="2052833">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052837">p</span><span class="op" id="2052838">.</span><span class="ident" id="2052839">fmtPointer</span><span class="op" id="2052849">(</span><span class="ident" id="2052850">value</span><span class="op" id="2052855">,</span>&nbsp;<span class="ident" id="2052857">verb</span><span class="op" id="2052861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052864">default</span><span class="op" id="2052871">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052875">p</span><span class="op" id="2052876">.</span><span class="ident" id="2052877">unknownType</span><span class="op" id="2052888">(</span><span class="ident" id="2052889">f</span><span class="op" id="2052890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052896">p</span><span class="op" id="2052897">.</span><span class="ident" id="2052898">value</span>&nbsp;<span class="op" id="2052904">=</span>&nbsp;<span class="ident" id="2052906">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052916">return</span>&nbsp;<span class="ident" id="2052923">wasString</span><br>
<span class="lineno"></span><span class="op" id="2052933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2052936">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2053042">func</span>&nbsp;<span class="ident" id="2053047">intFromArg</span><span class="op" id="2053057">(</span><span class="ident" id="2053058">a</span>&nbsp;<span class="op" id="2053060">[</span><span class="op" id="2053061">]</span><span class="keyword" id="2053062">interface</span><span class="op" id="2053071">{</span><span class="op" id="2053072">}</span><span class="op" id="2053073">,</span>&nbsp;<span class="ident" id="2053075">argNum</span>&nbsp;<span class="builtintype" id="2053082">int</span><span class="op" id="2053085">)</span>&nbsp;<span class="op" id="2053087">(</span><span class="ident" id="2053088">num</span>&nbsp;<span class="builtintype" id="2053092">int</span><span class="op" id="2053095">,</span>&nbsp;<span class="ident" id="2053097">isInt</span>&nbsp;<span class="builtintype" id="2053103">bool</span><span class="op" id="2053107">,</span>&nbsp;<span class="ident" id="2053109">newArgNum</span>&nbsp;<span class="builtintype" id="2053119">int</span><span class="op" id="2053122">)</span>&nbsp;<span class="op" id="2053124">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053127">newArgNum</span>&nbsp;<span class="op" id="2053137">=</span>&nbsp;<span class="ident" id="2053139">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053147">if</span>&nbsp;<span class="ident" id="2053150">argNum</span>&nbsp;<span class="op" id="2053157">&lt;</span>&nbsp;<span class="builtinfunc" id="2053159">len</span><span class="op" id="2053162">(</span><span class="ident" id="2053163">a</span><span class="op" id="2053164">)</span>&nbsp;<span class="op" id="2053166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053170">num</span><span class="op" id="2053173">,</span>&nbsp;<span class="ident" id="2053175">isInt</span>&nbsp;<span class="op" id="2053181">=</span>&nbsp;<span class="ident" id="2053183">a</span><span class="op" id="2053184">[</span><span class="ident" id="2053185">argNum</span><span class="op" id="2053191">]</span><span class="op" id="2053192">.</span><span class="op" id="2053193">(</span><span class="builtintype" id="2053194">int</span><span class="op" id="2053197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053201">newArgNum</span>&nbsp;<span class="op" id="2053211">=</span>&nbsp;<span class="ident" id="2053213">argNum</span>&nbsp;<span class="op" id="2053220">+</span>&nbsp;<span class="num" id="2053222">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053225">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053228">return</span><br>
<span class="lineno"></span><span class="op" id="2053235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2053238">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2053307">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2053380">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2053440">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2053509">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2053579">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2053649">func</span>&nbsp;<span class="ident" id="2053654">parseArgNumber</span><span class="op" id="2053668">(</span><span class="ident" id="2053669">format</span>&nbsp;<span class="builtintype" id="2053676">string</span><span class="op" id="2053682">)</span>&nbsp;<span class="op" id="2053684">(</span><span class="ident" id="2053685">index</span>&nbsp;<span class="builtintype" id="2053691">int</span><span class="op" id="2053694">,</span>&nbsp;<span class="ident" id="2053696">wid</span>&nbsp;<span class="builtintype" id="2053700">int</span><span class="op" id="2053703">,</span>&nbsp;<span class="ident" id="2053705">ok</span>&nbsp;<span class="builtintype" id="2053708">bool</span><span class="op" id="2053712">)</span>&nbsp;<span class="op" id="2053714">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2053717">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053743">for</span>&nbsp;<span class="ident" id="2053747">i</span>&nbsp;<span class="op" id="2053749">:=</span>&nbsp;<span class="num" id="2053752">1</span><span class="op" id="2053753">;</span>&nbsp;<span class="ident" id="2053755">i</span>&nbsp;<span class="op" id="2053757">&lt;</span>&nbsp;<span class="builtinfunc" id="2053759">len</span><span class="op" id="2053762">(</span><span class="ident" id="2053763">format</span><span class="op" id="2053769">)</span><span class="op" id="2053770">;</span>&nbsp;<span class="ident" id="2053772">i</span><span class="op" id="2053773">++</span>&nbsp;<span class="op" id="2053776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053780">if</span>&nbsp;<span class="ident" id="2053783">format</span><span class="op" id="2053789">[</span><span class="ident" id="2053790">i</span><span class="op" id="2053791">]</span>&nbsp;<span class="op" id="2053793">==</span>&nbsp;<span class="string" id="2053796">&#39;]&#39;</span>&nbsp;<span class="op" id="2053800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053805">width</span><span class="op" id="2053810">,</span>&nbsp;<span class="ident" id="2053812">ok</span><span class="op" id="2053814">,</span>&nbsp;<span class="ident" id="2053816">newi</span>&nbsp;<span class="op" id="2053821">:=</span>&nbsp;<span class="ident" id="2053824">parsenum</span><span class="op" id="2053832">(</span><span class="ident" id="2053833">format</span><span class="op" id="2053839">,</span>&nbsp;<span class="num" id="2053841">1</span><span class="op" id="2053842">,</span>&nbsp;<span class="ident" id="2053844">i</span><span class="op" id="2053845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053850">if</span>&nbsp;<span class="op" id="2053853">!</span><span class="ident" id="2053854">ok</span>&nbsp;<span class="op" id="2053857">||</span>&nbsp;<span class="ident" id="2053860">newi</span>&nbsp;<span class="op" id="2053865">!=</span>&nbsp;<span class="ident" id="2053868">i</span>&nbsp;<span class="op" id="2053870">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053876">return</span>&nbsp;<span class="num" id="2053883">0</span><span class="op" id="2053884">,</span>&nbsp;<span class="ident" id="2053886">i</span>&nbsp;<span class="op" id="2053888">+</span>&nbsp;<span class="num" id="2053890">1</span><span class="op" id="2053891">,</span>&nbsp;<span class="builtintype" id="2053893">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053907">return</span>&nbsp;<span class="ident" id="2053914">width</span>&nbsp;<span class="op" id="2053920">-</span>&nbsp;<span class="num" id="2053922">1</span><span class="op" id="2053923">,</span>&nbsp;<span class="ident" id="2053925">i</span>&nbsp;<span class="op" id="2053927">+</span>&nbsp;<span class="num" id="2053929">1</span><span class="op" id="2053930">,</span>&nbsp;<span class="builtintype" id="2053932">true</span>&nbsp;<span class="comment" id="2053937">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053989">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053992">return</span>&nbsp;<span class="num" id="2053999">0</span><span class="op" id="2054000">,</span>&nbsp;<span class="num" id="2054002">1</span><span class="op" id="2054003">,</span>&nbsp;<span class="builtintype" id="2054005">false</span><br>
<span class="lineno"></span><span class="op" id="2054011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2054014">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2054109">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2054197">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2054282">func</span>&nbsp;<span class="op" id="2054287">(</span><span class="ident" id="2054288">p</span>&nbsp;<span class="op" id="2054290">*</span><span class="ident" id="2054291">pp</span><span class="op" id="2054293">)</span>&nbsp;<span class="ident" id="2054295">argNumber</span><span class="op" id="2054304">(</span><span class="ident" id="2054305">argNum</span>&nbsp;<span class="builtintype" id="2054312">int</span><span class="op" id="2054315">,</span>&nbsp;<span class="ident" id="2054317">format</span>&nbsp;<span class="builtintype" id="2054324">string</span><span class="op" id="2054330">,</span>&nbsp;<span class="ident" id="2054332">i</span>&nbsp;<span class="builtintype" id="2054334">int</span><span class="op" id="2054337">,</span>&nbsp;<span class="ident" id="2054339">numArgs</span>&nbsp;<span class="builtintype" id="2054347">int</span><span class="op" id="2054350">)</span>&nbsp;<span class="op" id="2054352">(</span><span class="ident" id="2054353">newArgNum</span><span class="op" id="2054362">,</span>&nbsp;<span class="ident" id="2054364">newi</span>&nbsp;<span class="builtintype" id="2054369">int</span><span class="op" id="2054372">,</span>&nbsp;<span class="ident" id="2054374">found</span>&nbsp;<span class="builtintype" id="2054380">bool</span><span class="op" id="2054384">)</span>&nbsp;<span class="op" id="2054386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054389">if</span>&nbsp;<span class="builtinfunc" id="2054392">len</span><span class="op" id="2054395">(</span><span class="ident" id="2054396">format</span><span class="op" id="2054402">)</span>&nbsp;<span class="op" id="2054404">&lt;=</span>&nbsp;<span class="ident" id="2054407">i</span>&nbsp;<span class="op" id="2054409">||</span>&nbsp;<span class="ident" id="2054412">format</span><span class="op" id="2054418">[</span><span class="ident" id="2054419">i</span><span class="op" id="2054420">]</span>&nbsp;<span class="op" id="2054422">!=</span>&nbsp;<span class="string" id="2054425">&#39;[&#39;</span>&nbsp;<span class="op" id="2054429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054433">return</span>&nbsp;<span class="ident" id="2054440">argNum</span><span class="op" id="2054446">,</span>&nbsp;<span class="ident" id="2054448">i</span><span class="op" id="2054449">,</span>&nbsp;<span class="builtintype" id="2054451">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054458">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054461">p</span><span class="op" id="2054462">.</span><span class="ident" id="2054463">reordered</span>&nbsp;<span class="op" id="2054473">=</span>&nbsp;<span class="builtintype" id="2054475">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054481">index</span><span class="op" id="2054486">,</span>&nbsp;<span class="ident" id="2054488">wid</span><span class="op" id="2054491">,</span>&nbsp;<span class="ident" id="2054493">ok</span>&nbsp;<span class="op" id="2054496">:=</span>&nbsp;<span class="ident" id="2054499">parseArgNumber</span><span class="op" id="2054513">(</span><span class="ident" id="2054514">format</span><span class="op" id="2054520">[</span><span class="ident" id="2054521">i</span><span class="op" id="2054522">:</span><span class="op" id="2054523">]</span><span class="op" id="2054524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054527">if</span>&nbsp;<span class="ident" id="2054530">ok</span>&nbsp;<span class="op" id="2054533">&amp;&amp;</span>&nbsp;<span class="num" id="2054536">0</span>&nbsp;<span class="op" id="2054538">&lt;=</span>&nbsp;<span class="ident" id="2054541">index</span>&nbsp;<span class="op" id="2054547">&amp;&amp;</span>&nbsp;<span class="ident" id="2054550">index</span>&nbsp;<span class="op" id="2054556">&lt;</span>&nbsp;<span class="ident" id="2054558">numArgs</span>&nbsp;<span class="op" id="2054566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054570">return</span>&nbsp;<span class="ident" id="2054577">index</span><span class="op" id="2054582">,</span>&nbsp;<span class="ident" id="2054584">i</span>&nbsp;<span class="op" id="2054586">+</span>&nbsp;<span class="ident" id="2054588">wid</span><span class="op" id="2054591">,</span>&nbsp;<span class="builtintype" id="2054593">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054599">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054602">p</span><span class="op" id="2054603">.</span><span class="ident" id="2054604">goodArgNum</span>&nbsp;<span class="op" id="2054615">=</span>&nbsp;<span class="builtintype" id="2054617">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054624">return</span>&nbsp;<span class="ident" id="2054631">argNum</span><span class="op" id="2054637">,</span>&nbsp;<span class="ident" id="2054639">i</span>&nbsp;<span class="op" id="2054641">+</span>&nbsp;<span class="ident" id="2054643">wid</span><span class="op" id="2054646">,</span>&nbsp;<span class="builtintype" id="2054648">true</span><br>
<span class="lineno"></span><span class="op" id="2054653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2054656">func</span>&nbsp;<span class="op" id="2054661">(</span><span class="ident" id="2054662">p</span>&nbsp;<span class="op" id="2054664">*</span><span class="ident" id="2054665">pp</span><span class="op" id="2054667">)</span>&nbsp;<span class="ident" id="2054669">doPrintf</span><span class="op" id="2054677">(</span><span class="ident" id="2054678">format</span>&nbsp;<span class="builtintype" id="2054685">string</span><span class="op" id="2054691">,</span>&nbsp;<span class="ident" id="2054693">a</span>&nbsp;<span class="op" id="2054695">[</span><span class="op" id="2054696">]</span><span class="keyword" id="2054697">interface</span><span class="op" id="2054706">{</span><span class="op" id="2054707">}</span><span class="op" id="2054708">)</span>&nbsp;<span class="op" id="2054710">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054713">end</span>&nbsp;<span class="op" id="2054717">:=</span>&nbsp;<span class="builtinfunc" id="2054720">len</span><span class="op" id="2054723">(</span><span class="ident" id="2054724">format</span><span class="op" id="2054730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054733">argNum</span>&nbsp;<span class="op" id="2054740">:=</span>&nbsp;<span class="num" id="2054743">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2054753">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054804">afterIndex</span>&nbsp;<span class="op" id="2054815">:=</span>&nbsp;<span class="builtintype" id="2054818">false</span>&nbsp;<span class="comment" id="2054824">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054875">p</span><span class="op" id="2054876">.</span><span class="ident" id="2054877">reordered</span>&nbsp;<span class="op" id="2054887">=</span>&nbsp;<span class="builtintype" id="2054889">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054896">for</span>&nbsp;<span class="ident" id="2054900">i</span>&nbsp;<span class="op" id="2054902">:=</span>&nbsp;<span class="num" id="2054905">0</span><span class="op" id="2054906">;</span>&nbsp;<span class="ident" id="2054908">i</span>&nbsp;<span class="op" id="2054910">&lt;</span>&nbsp;<span class="ident" id="2054912">end</span><span class="op" id="2054915">;</span>&nbsp;<span class="op" id="2054917">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054921">p</span><span class="op" id="2054922">.</span><span class="ident" id="2054923">goodArgNum</span>&nbsp;<span class="op" id="2054934">=</span>&nbsp;<span class="builtintype" id="2054936">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054943">lasti</span>&nbsp;<span class="op" id="2054949">:=</span>&nbsp;<span class="ident" id="2054952">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054956">for</span>&nbsp;<span class="ident" id="2054960">i</span>&nbsp;<span class="op" id="2054962">&lt;</span>&nbsp;<span class="ident" id="2054964">end</span>&nbsp;<span class="op" id="2054968">&amp;&amp;</span>&nbsp;<span class="ident" id="2054971">format</span><span class="op" id="2054977">[</span><span class="ident" id="2054978">i</span><span class="op" id="2054979">]</span>&nbsp;<span class="op" id="2054981">!=</span>&nbsp;<span class="string" id="2054984">&#39;%&#39;</span>&nbsp;<span class="op" id="2054988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054993">i</span><span class="op" id="2054994">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054999">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055003">if</span>&nbsp;<span class="ident" id="2055006">i</span>&nbsp;<span class="op" id="2055008">&gt;</span>&nbsp;<span class="ident" id="2055010">lasti</span>&nbsp;<span class="op" id="2055016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055021">p</span><span class="op" id="2055022">.</span><span class="ident" id="2055023">buf</span><span class="op" id="2055026">.</span><span class="ident" id="2055027">WriteString</span><span class="op" id="2055038">(</span><span class="ident" id="2055039">format</span><span class="op" id="2055045">[</span><span class="ident" id="2055046">lasti</span><span class="op" id="2055051">:</span><span class="ident" id="2055052">i</span><span class="op" id="2055053">]</span><span class="op" id="2055054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055062">if</span>&nbsp;<span class="ident" id="2055065">i</span>&nbsp;<span class="op" id="2055067">&gt;=</span>&nbsp;<span class="ident" id="2055070">end</span>&nbsp;<span class="op" id="2055074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055079">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055115">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055128">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055150">i</span><span class="op" id="2055151">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055157">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055180">p</span><span class="op" id="2055181">.</span><span class="ident" id="2055182">fmt</span><span class="op" id="2055185">.</span><span class="ident" id="2055186">clearflags</span><span class="op" id="2055196">(</span><span class="op" id="2055197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055200">F</span><span class="op" id="2055201">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055205">for</span>&nbsp;<span class="op" id="2055209">;</span>&nbsp;<span class="ident" id="2055211">i</span>&nbsp;<span class="op" id="2055213">&lt;</span>&nbsp;<span class="ident" id="2055215">end</span><span class="op" id="2055218">;</span>&nbsp;<span class="ident" id="2055220">i</span><span class="op" id="2055221">++</span>&nbsp;<span class="op" id="2055224">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055229">switch</span>&nbsp;<span class="ident" id="2055236">format</span><span class="op" id="2055242">[</span><span class="ident" id="2055243">i</span><span class="op" id="2055244">]</span>&nbsp;<span class="op" id="2055246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055251">case</span>&nbsp;<span class="string" id="2055256">&#39;#&#39;</span><span class="op" id="2055259">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055265">p</span><span class="op" id="2055266">.</span><span class="ident" id="2055267">fmt</span><span class="op" id="2055270">.</span><span class="ident" id="2055271">sharp</span>&nbsp;<span class="op" id="2055277">=</span>&nbsp;<span class="builtintype" id="2055279">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055287">case</span>&nbsp;<span class="string" id="2055292">&#39;0&#39;</span><span class="op" id="2055295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055301">p</span><span class="op" id="2055302">.</span><span class="ident" id="2055303">fmt</span><span class="op" id="2055306">.</span><span class="ident" id="2055307">zero</span>&nbsp;<span class="op" id="2055312">=</span>&nbsp;<span class="builtintype" id="2055314">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055322">case</span>&nbsp;<span class="string" id="2055327">&#39;+&#39;</span><span class="op" id="2055330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055336">p</span><span class="op" id="2055337">.</span><span class="ident" id="2055338">fmt</span><span class="op" id="2055341">.</span><span class="ident" id="2055342">plus</span>&nbsp;<span class="op" id="2055347">=</span>&nbsp;<span class="builtintype" id="2055349">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055357">case</span>&nbsp;<span class="string" id="2055362">&#39;-&#39;</span><span class="op" id="2055365">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055371">p</span><span class="op" id="2055372">.</span><span class="ident" id="2055373">fmt</span><span class="op" id="2055376">.</span><span class="ident" id="2055377">minus</span>&nbsp;<span class="op" id="2055383">=</span>&nbsp;<span class="builtintype" id="2055385">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055393">case</span>&nbsp;<span class="string" id="2055398">&#39;&nbsp;&#39;</span><span class="op" id="2055401">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055407">p</span><span class="op" id="2055408">.</span><span class="ident" id="2055409">fmt</span><span class="op" id="2055412">.</span><span class="ident" id="2055413">space</span>&nbsp;<span class="op" id="2055419">=</span>&nbsp;<span class="builtintype" id="2055421">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055429">default</span><span class="op" id="2055436">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055442">break</span>&nbsp;<span class="ident" id="2055448">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055457">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055462">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055506">argNum</span><span class="op" id="2055512">,</span>&nbsp;<span class="ident" id="2055514">i</span><span class="op" id="2055515">,</span>&nbsp;<span class="ident" id="2055517">afterIndex</span>&nbsp;<span class="op" id="2055528">=</span>&nbsp;<span class="ident" id="2055530">p</span><span class="op" id="2055531">.</span><span class="ident" id="2055532">argNumber</span><span class="op" id="2055541">(</span><span class="ident" id="2055542">argNum</span><span class="op" id="2055548">,</span>&nbsp;<span class="ident" id="2055550">format</span><span class="op" id="2055556">,</span>&nbsp;<span class="ident" id="2055558">i</span><span class="op" id="2055559">,</span>&nbsp;<span class="builtinfunc" id="2055561">len</span><span class="op" id="2055564">(</span><span class="ident" id="2055565">a</span><span class="op" id="2055566">)</span><span class="op" id="2055567">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055572">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055595">if</span>&nbsp;<span class="ident" id="2055598">i</span>&nbsp;<span class="op" id="2055600">&lt;</span>&nbsp;<span class="ident" id="2055602">end</span>&nbsp;<span class="op" id="2055606">&amp;&amp;</span>&nbsp;<span class="ident" id="2055609">format</span><span class="op" id="2055615">[</span><span class="ident" id="2055616">i</span><span class="op" id="2055617">]</span>&nbsp;<span class="op" id="2055619">==</span>&nbsp;<span class="string" id="2055622">&#39;*&#39;</span>&nbsp;<span class="op" id="2055626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055631">i</span><span class="op" id="2055632">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055638">p</span><span class="op" id="2055639">.</span><span class="ident" id="2055640">fmt</span><span class="op" id="2055643">.</span><span class="ident" id="2055644">wid</span><span class="op" id="2055647">,</span>&nbsp;<span class="ident" id="2055649">p</span><span class="op" id="2055650">.</span><span class="ident" id="2055651">fmt</span><span class="op" id="2055654">.</span><span class="ident" id="2055655">widPresent</span><span class="op" id="2055665">,</span>&nbsp;<span class="ident" id="2055667">argNum</span>&nbsp;<span class="op" id="2055674">=</span>&nbsp;<span class="ident" id="2055676">intFromArg</span><span class="op" id="2055686">(</span><span class="ident" id="2055687">a</span><span class="op" id="2055688">,</span>&nbsp;<span class="ident" id="2055690">argNum</span><span class="op" id="2055696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055701">if</span>&nbsp;<span class="op" id="2055704">!</span><span class="ident" id="2055705">p</span><span class="op" id="2055706">.</span><span class="ident" id="2055707">fmt</span><span class="op" id="2055710">.</span><span class="ident" id="2055711">widPresent</span>&nbsp;<span class="op" id="2055722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055728">p</span><span class="op" id="2055729">.</span><span class="ident" id="2055730">buf</span><span class="op" id="2055733">.</span><span class="ident" id="2055734">Write</span><span class="op" id="2055739">(</span><span class="ident" id="2055740">badWidthBytes</span><span class="op" id="2055753">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055763">afterIndex</span>&nbsp;<span class="op" id="2055774">=</span>&nbsp;<span class="builtintype" id="2055776">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055784">}</span>&nbsp;<span class="keyword" id="2055786">else</span>&nbsp;<span class="op" id="2055791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055796">p</span><span class="op" id="2055797">.</span><span class="ident" id="2055798">fmt</span><span class="op" id="2055801">.</span><span class="ident" id="2055802">wid</span><span class="op" id="2055805">,</span>&nbsp;<span class="ident" id="2055807">p</span><span class="op" id="2055808">.</span><span class="ident" id="2055809">fmt</span><span class="op" id="2055812">.</span><span class="ident" id="2055813">widPresent</span><span class="op" id="2055823">,</span>&nbsp;<span class="ident" id="2055825">i</span>&nbsp;<span class="op" id="2055827">=</span>&nbsp;<span class="ident" id="2055829">parsenum</span><span class="op" id="2055837">(</span><span class="ident" id="2055838">format</span><span class="op" id="2055844">,</span>&nbsp;<span class="ident" id="2055846">i</span><span class="op" id="2055847">,</span>&nbsp;<span class="ident" id="2055849">end</span><span class="op" id="2055852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055857">if</span>&nbsp;<span class="ident" id="2055860">afterIndex</span>&nbsp;<span class="op" id="2055871">&amp;&amp;</span>&nbsp;<span class="ident" id="2055874">p</span><span class="op" id="2055875">.</span><span class="ident" id="2055876">fmt</span><span class="op" id="2055879">.</span><span class="ident" id="2055880">widPresent</span>&nbsp;<span class="op" id="2055891">{</span>&nbsp;<span class="comment" id="2055893">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055909">p</span><span class="op" id="2055910">.</span><span class="ident" id="2055911">goodArgNum</span>&nbsp;<span class="op" id="2055922">=</span>&nbsp;<span class="builtintype" id="2055924">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055942">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055969">if</span>&nbsp;<span class="ident" id="2055972">i</span><span class="op" id="2055973">+</span><span class="num" id="2055974">1</span>&nbsp;<span class="op" id="2055976">&lt;</span>&nbsp;<span class="ident" id="2055978">end</span>&nbsp;<span class="op" id="2055982">&amp;&amp;</span>&nbsp;<span class="ident" id="2055985">format</span><span class="op" id="2055991">[</span><span class="ident" id="2055992">i</span><span class="op" id="2055993">]</span>&nbsp;<span class="op" id="2055995">==</span>&nbsp;<span class="string" id="2055998">&#39;.&#39;</span>&nbsp;<span class="op" id="2056002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056007">i</span><span class="op" id="2056008">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056014">if</span>&nbsp;<span class="ident" id="2056017">afterIndex</span>&nbsp;<span class="op" id="2056028">{</span>&nbsp;<span class="comment" id="2056030">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056047">p</span><span class="op" id="2056048">.</span><span class="ident" id="2056049">goodArgNum</span>&nbsp;<span class="op" id="2056060">=</span>&nbsp;<span class="builtintype" id="2056062">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056071">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056076">argNum</span><span class="op" id="2056082">,</span>&nbsp;<span class="ident" id="2056084">i</span><span class="op" id="2056085">,</span>&nbsp;<span class="ident" id="2056087">afterIndex</span>&nbsp;<span class="op" id="2056098">=</span>&nbsp;<span class="ident" id="2056100">p</span><span class="op" id="2056101">.</span><span class="ident" id="2056102">argNumber</span><span class="op" id="2056111">(</span><span class="ident" id="2056112">argNum</span><span class="op" id="2056118">,</span>&nbsp;<span class="ident" id="2056120">format</span><span class="op" id="2056126">,</span>&nbsp;<span class="ident" id="2056128">i</span><span class="op" id="2056129">,</span>&nbsp;<span class="builtinfunc" id="2056131">len</span><span class="op" id="2056134">(</span><span class="ident" id="2056135">a</span><span class="op" id="2056136">)</span><span class="op" id="2056137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056142">if</span>&nbsp;<span class="ident" id="2056145">format</span><span class="op" id="2056151">[</span><span class="ident" id="2056152">i</span><span class="op" id="2056153">]</span>&nbsp;<span class="op" id="2056155">==</span>&nbsp;<span class="string" id="2056158">&#39;*&#39;</span>&nbsp;<span class="op" id="2056162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056168">i</span><span class="op" id="2056169">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056176">p</span><span class="op" id="2056177">.</span><span class="ident" id="2056178">fmt</span><span class="op" id="2056181">.</span><span class="ident" id="2056182">prec</span><span class="op" id="2056186">,</span>&nbsp;<span class="ident" id="2056188">p</span><span class="op" id="2056189">.</span><span class="ident" id="2056190">fmt</span><span class="op" id="2056193">.</span><span class="ident" id="2056194">precPresent</span><span class="op" id="2056205">,</span>&nbsp;<span class="ident" id="2056207">argNum</span>&nbsp;<span class="op" id="2056214">=</span>&nbsp;<span class="ident" id="2056216">intFromArg</span><span class="op" id="2056226">(</span><span class="ident" id="2056227">a</span><span class="op" id="2056228">,</span>&nbsp;<span class="ident" id="2056230">argNum</span><span class="op" id="2056236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056242">if</span>&nbsp;<span class="op" id="2056245">!</span><span class="ident" id="2056246">p</span><span class="op" id="2056247">.</span><span class="ident" id="2056248">fmt</span><span class="op" id="2056251">.</span><span class="ident" id="2056252">precPresent</span>&nbsp;<span class="op" id="2056264">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056271">p</span><span class="op" id="2056272">.</span><span class="ident" id="2056273">buf</span><span class="op" id="2056276">.</span><span class="ident" id="2056277">Write</span><span class="op" id="2056282">(</span><span class="ident" id="2056283">badPrecBytes</span><span class="op" id="2056295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056307">afterIndex</span>&nbsp;<span class="op" id="2056318">=</span>&nbsp;<span class="builtintype" id="2056320">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056329">}</span>&nbsp;<span class="keyword" id="2056331">else</span>&nbsp;<span class="op" id="2056336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056342">p</span><span class="op" id="2056343">.</span><span class="ident" id="2056344">fmt</span><span class="op" id="2056347">.</span><span class="ident" id="2056348">prec</span><span class="op" id="2056352">,</span>&nbsp;<span class="ident" id="2056354">p</span><span class="op" id="2056355">.</span><span class="ident" id="2056356">fmt</span><span class="op" id="2056359">.</span><span class="ident" id="2056360">precPresent</span><span class="op" id="2056371">,</span>&nbsp;<span class="ident" id="2056373">i</span>&nbsp;<span class="op" id="2056375">=</span>&nbsp;<span class="ident" id="2056377">parsenum</span><span class="op" id="2056385">(</span><span class="ident" id="2056386">format</span><span class="op" id="2056392">,</span>&nbsp;<span class="ident" id="2056394">i</span><span class="op" id="2056395">,</span>&nbsp;<span class="ident" id="2056397">end</span><span class="op" id="2056400">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056406">if</span>&nbsp;<span class="op" id="2056409">!</span><span class="ident" id="2056410">p</span><span class="op" id="2056411">.</span><span class="ident" id="2056412">fmt</span><span class="op" id="2056415">.</span><span class="ident" id="2056416">precPresent</span>&nbsp;<span class="op" id="2056428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056435">p</span><span class="op" id="2056436">.</span><span class="ident" id="2056437">fmt</span><span class="op" id="2056440">.</span><span class="ident" id="2056441">prec</span>&nbsp;<span class="op" id="2056446">=</span>&nbsp;<span class="num" id="2056448">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056455">p</span><span class="op" id="2056456">.</span><span class="ident" id="2056457">fmt</span><span class="op" id="2056460">.</span><span class="ident" id="2056461">precPresent</span>&nbsp;<span class="op" id="2056473">=</span>&nbsp;<span class="builtintype" id="2056475">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056489">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056498">if</span>&nbsp;<span class="op" id="2056501">!</span><span class="ident" id="2056502">afterIndex</span>&nbsp;<span class="op" id="2056513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056518">argNum</span><span class="op" id="2056524">,</span>&nbsp;<span class="ident" id="2056526">i</span><span class="op" id="2056527">,</span>&nbsp;<span class="ident" id="2056529">afterIndex</span>&nbsp;<span class="op" id="2056540">=</span>&nbsp;<span class="ident" id="2056542">p</span><span class="op" id="2056543">.</span><span class="ident" id="2056544">argNumber</span><span class="op" id="2056553">(</span><span class="ident" id="2056554">argNum</span><span class="op" id="2056560">,</span>&nbsp;<span class="ident" id="2056562">format</span><span class="op" id="2056568">,</span>&nbsp;<span class="ident" id="2056570">i</span><span class="op" id="2056571">,</span>&nbsp;<span class="builtinfunc" id="2056573">len</span><span class="op" id="2056576">(</span><span class="ident" id="2056577">a</span><span class="op" id="2056578">)</span><span class="op" id="2056579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056583">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056588">if</span>&nbsp;<span class="ident" id="2056591">i</span>&nbsp;<span class="op" id="2056593">&gt;=</span>&nbsp;<span class="ident" id="2056596">end</span>&nbsp;<span class="op" id="2056600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056605">p</span><span class="op" id="2056606">.</span><span class="ident" id="2056607">buf</span><span class="op" id="2056610">.</span><span class="ident" id="2056611">Write</span><span class="op" id="2056616">(</span><span class="ident" id="2056617">noVerbBytes</span><span class="op" id="2056628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056633">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056644">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056648">c</span><span class="op" id="2056649">,</span>&nbsp;<span class="ident" id="2056651">w</span>&nbsp;<span class="op" id="2056653">:=</span>&nbsp;<span class="ident" id="2056656">utf8</span><span class="op" id="2056660">.</span><span class="ident" id="2056661">DecodeRuneInString</span><span class="op" id="2056679">(</span><span class="ident" id="2056680">format</span><span class="op" id="2056686">[</span><span class="ident" id="2056687">i</span><span class="op" id="2056688">:</span><span class="op" id="2056689">]</span><span class="op" id="2056690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056694">i</span>&nbsp;<span class="op" id="2056696">+=</span>&nbsp;<span class="ident" id="2056699">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2056703">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056748">if</span>&nbsp;<span class="ident" id="2056751">c</span>&nbsp;<span class="op" id="2056753">==</span>&nbsp;<span class="string" id="2056756">&#39;%&#39;</span>&nbsp;<span class="op" id="2056760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056765">p</span><span class="op" id="2056766">.</span><span class="ident" id="2056767">buf</span><span class="op" id="2056770">.</span><span class="ident" id="2056771">WriteByte</span><span class="op" id="2056780">(</span><span class="string" id="2056781">&#39;%&#39;</span><span class="op" id="2056784">)</span>&nbsp;<span class="comment" id="2056786">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056818">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056833">if</span>&nbsp;<span class="op" id="2056836">!</span><span class="ident" id="2056837">p</span><span class="op" id="2056838">.</span><span class="ident" id="2056839">goodArgNum</span>&nbsp;<span class="op" id="2056850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056855">p</span><span class="op" id="2056856">.</span><span class="ident" id="2056857">buf</span><span class="op" id="2056860">.</span><span class="ident" id="2056861">Write</span><span class="op" id="2056866">(</span><span class="ident" id="2056867">percentBangBytes</span><span class="op" id="2056883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056888">p</span><span class="op" id="2056889">.</span><span class="ident" id="2056890">add</span><span class="op" id="2056893">(</span><span class="ident" id="2056894">c</span><span class="op" id="2056895">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056900">p</span><span class="op" id="2056901">.</span><span class="ident" id="2056902">buf</span><span class="op" id="2056905">.</span><span class="ident" id="2056906">Write</span><span class="op" id="2056911">(</span><span class="ident" id="2056912">badIndexBytes</span><span class="op" id="2056925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056930">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056941">}</span>&nbsp;<span class="keyword" id="2056943">else</span>&nbsp;<span class="keyword" id="2056948">if</span>&nbsp;<span class="ident" id="2056951">argNum</span>&nbsp;<span class="op" id="2056958">&gt;=</span>&nbsp;<span class="builtinfunc" id="2056961">len</span><span class="op" id="2056964">(</span><span class="ident" id="2056965">a</span><span class="op" id="2056966">)</span>&nbsp;<span class="op" id="2056968">{</span>&nbsp;<span class="comment" id="2056970">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056992">p</span><span class="op" id="2056993">.</span><span class="ident" id="2056994">buf</span><span class="op" id="2056997">.</span><span class="ident" id="2056998">Write</span><span class="op" id="2057003">(</span><span class="ident" id="2057004">percentBangBytes</span><span class="op" id="2057020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057025">p</span><span class="op" id="2057026">.</span><span class="ident" id="2057027">add</span><span class="op" id="2057030">(</span><span class="ident" id="2057031">c</span><span class="op" id="2057032">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057037">p</span><span class="op" id="2057038">.</span><span class="ident" id="2057039">buf</span><span class="op" id="2057042">.</span><span class="ident" id="2057043">Write</span><span class="op" id="2057048">(</span><span class="ident" id="2057049">missingBytes</span><span class="op" id="2057061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057066">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057081">arg</span>&nbsp;<span class="op" id="2057085">:=</span>&nbsp;<span class="ident" id="2057088">a</span><span class="op" id="2057089">[</span><span class="ident" id="2057090">argNum</span><span class="op" id="2057096">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057100">argNum</span><span class="op" id="2057106">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057112">if</span>&nbsp;<span class="ident" id="2057115">c</span>&nbsp;<span class="op" id="2057117">==</span>&nbsp;<span class="string" id="2057120">&#39;v&#39;</span>&nbsp;<span class="op" id="2057124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057129">if</span>&nbsp;<span class="ident" id="2057132">p</span><span class="op" id="2057133">.</span><span class="ident" id="2057134">fmt</span><span class="op" id="2057137">.</span><span class="ident" id="2057138">sharp</span>&nbsp;<span class="op" id="2057144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2057150">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057218">p</span><span class="op" id="2057219">.</span><span class="ident" id="2057220">fmt</span><span class="op" id="2057223">.</span><span class="ident" id="2057224">sharp</span>&nbsp;<span class="op" id="2057230">=</span>&nbsp;<span class="builtintype" id="2057232">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057242">p</span><span class="op" id="2057243">.</span><span class="ident" id="2057244">fmt</span><span class="op" id="2057247">.</span><span class="ident" id="2057248">sharpV</span>&nbsp;<span class="op" id="2057255">=</span>&nbsp;<span class="builtintype" id="2057257">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057270">if</span>&nbsp;<span class="ident" id="2057273">p</span><span class="op" id="2057274">.</span><span class="ident" id="2057275">fmt</span><span class="op" id="2057278">.</span><span class="ident" id="2057279">plus</span>&nbsp;<span class="op" id="2057284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2057290">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057367">p</span><span class="op" id="2057368">.</span><span class="ident" id="2057369">fmt</span><span class="op" id="2057372">.</span><span class="ident" id="2057373">plus</span>&nbsp;<span class="op" id="2057378">=</span>&nbsp;<span class="builtintype" id="2057380">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057390">p</span><span class="op" id="2057391">.</span><span class="ident" id="2057392">fmt</span><span class="op" id="2057395">.</span><span class="ident" id="2057396">plusV</span>&nbsp;<span class="op" id="2057402">=</span>&nbsp;<span class="builtintype" id="2057404">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057420">p</span><span class="op" id="2057421">.</span><span class="ident" id="2057422">printArg</span><span class="op" id="2057430">(</span><span class="ident" id="2057431">arg</span><span class="op" id="2057434">,</span>&nbsp;<span class="ident" id="2057436">c</span><span class="op" id="2057437">,</span>&nbsp;<span class="num" id="2057439">0</span><span class="op" id="2057440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057443">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2057447">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2057516">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2057592">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057638">if</span>&nbsp;<span class="op" id="2057641">!</span><span class="ident" id="2057642">p</span><span class="op" id="2057643">.</span><span class="ident" id="2057644">reordered</span>&nbsp;<span class="op" id="2057654">&amp;&amp;</span>&nbsp;<span class="ident" id="2057657">argNum</span>&nbsp;<span class="op" id="2057664">&lt;</span>&nbsp;<span class="builtinfunc" id="2057666">len</span><span class="op" id="2057669">(</span><span class="ident" id="2057670">a</span><span class="op" id="2057671">)</span>&nbsp;<span class="op" id="2057673">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057677">p</span><span class="op" id="2057678">.</span><span class="ident" id="2057679">buf</span><span class="op" id="2057682">.</span><span class="ident" id="2057683">Write</span><span class="op" id="2057688">(</span><span class="ident" id="2057689">extraBytes</span><span class="op" id="2057699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057703">for</span>&nbsp;<span class="op" id="2057707">;</span>&nbsp;<span class="ident" id="2057709">argNum</span>&nbsp;<span class="op" id="2057716">&lt;</span>&nbsp;<span class="builtinfunc" id="2057718">len</span><span class="op" id="2057721">(</span><span class="ident" id="2057722">a</span><span class="op" id="2057723">)</span><span class="op" id="2057724">;</span>&nbsp;<span class="ident" id="2057726">argNum</span><span class="op" id="2057732">++</span>&nbsp;<span class="op" id="2057735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057740">arg</span>&nbsp;<span class="op" id="2057744">:=</span>&nbsp;<span class="ident" id="2057747">a</span><span class="op" id="2057748">[</span><span class="ident" id="2057749">argNum</span><span class="op" id="2057755">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057760">if</span>&nbsp;<span class="ident" id="2057763">arg</span>&nbsp;<span class="op" id="2057767">!=</span>&nbsp;<span class="ident" id="2057770">nil</span>&nbsp;<span class="op" id="2057774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057780">p</span><span class="op" id="2057781">.</span><span class="ident" id="2057782">buf</span><span class="op" id="2057785">.</span><span class="ident" id="2057786">WriteString</span><span class="op" id="2057797">(</span><span class="ident" id="2057798">reflect</span><span class="op" id="2057805">.</span><span class="ident" id="2057806">TypeOf</span><span class="op" id="2057812">(</span><span class="ident" id="2057813">arg</span><span class="op" id="2057816">)</span><span class="op" id="2057817">.</span><span class="ident" id="2057818">String</span><span class="op" id="2057824">(</span><span class="op" id="2057825">)</span><span class="op" id="2057826">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057832">p</span><span class="op" id="2057833">.</span><span class="ident" id="2057834">buf</span><span class="op" id="2057837">.</span><span class="ident" id="2057838">WriteByte</span><span class="op" id="2057847">(</span><span class="string" id="2057848">&#39;=&#39;</span><span class="op" id="2057851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057861">p</span><span class="op" id="2057862">.</span><span class="ident" id="2057863">printArg</span><span class="op" id="2057871">(</span><span class="ident" id="2057872">arg</span><span class="op" id="2057875">,</span>&nbsp;<span class="string" id="2057877">&#39;v&#39;</span><span class="op" id="2057880">,</span>&nbsp;<span class="num" id="2057882">0</span><span class="op" id="2057883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057888">if</span>&nbsp;<span class="ident" id="2057891">argNum</span><span class="op" id="2057897">+</span><span class="num" id="2057898">1</span>&nbsp;<span class="op" id="2057900">&lt;</span>&nbsp;<span class="builtinfunc" id="2057902">len</span><span class="op" id="2057905">(</span><span class="ident" id="2057906">a</span><span class="op" id="2057907">)</span>&nbsp;<span class="op" id="2057909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057915">p</span><span class="op" id="2057916">.</span><span class="ident" id="2057917">buf</span><span class="op" id="2057920">.</span><span class="ident" id="2057921">Write</span><span class="op" id="2057926">(</span><span class="ident" id="2057927">commaSpaceBytes</span><span class="op" id="2057942">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057955">p</span><span class="op" id="2057956">.</span><span class="ident" id="2057957">buf</span><span class="op" id="2057960">.</span><span class="ident" id="2057961">WriteByte</span><span class="op" id="2057970">(</span><span class="string" id="2057971">&#39;)&#39;</span><span class="op" id="2057974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057977">}</span><br>
<span class="lineno"></span><span class="op" id="2057979">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2057982">func</span>&nbsp;<span class="op" id="2057987">(</span><span class="ident" id="2057988">p</span>&nbsp;<span class="op" id="2057990">*</span><span class="ident" id="2057991">pp</span><span class="op" id="2057993">)</span>&nbsp;<span class="ident" id="2057995">doPrint</span><span class="op" id="2058002">(</span><span class="ident" id="2058003">a</span>&nbsp;<span class="op" id="2058005">[</span><span class="op" id="2058006">]</span><span class="keyword" id="2058007">interface</span><span class="op" id="2058016">{</span><span class="op" id="2058017">}</span><span class="op" id="2058018">,</span>&nbsp;<span class="ident" id="2058020">addspace</span><span class="op" id="2058028">,</span>&nbsp;<span class="ident" id="2058030">addnewline</span>&nbsp;<span class="builtintype" id="2058041">bool</span><span class="op" id="2058045">)</span>&nbsp;<span class="op" id="2058047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058050">prevString</span>&nbsp;<span class="op" id="2058061">:=</span>&nbsp;<span class="builtintype" id="2058064">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058071">for</span>&nbsp;<span class="ident" id="2058075">argNum</span>&nbsp;<span class="op" id="2058082">:=</span>&nbsp;<span class="num" id="2058085">0</span><span class="op" id="2058086">;</span>&nbsp;<span class="ident" id="2058088">argNum</span>&nbsp;<span class="op" id="2058095">&lt;</span>&nbsp;<span class="builtinfunc" id="2058097">len</span><span class="op" id="2058100">(</span><span class="ident" id="2058101">a</span><span class="op" id="2058102">)</span><span class="op" id="2058103">;</span>&nbsp;<span class="ident" id="2058105">argNum</span><span class="op" id="2058111">++</span>&nbsp;<span class="op" id="2058114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058118">p</span><span class="op" id="2058119">.</span><span class="ident" id="2058120">fmt</span><span class="op" id="2058123">.</span><span class="ident" id="2058124">clearflags</span><span class="op" id="2058134">(</span><span class="op" id="2058135">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2058139">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058185">arg</span>&nbsp;<span class="op" id="2058189">:=</span>&nbsp;<span class="ident" id="2058192">a</span><span class="op" id="2058193">[</span><span class="ident" id="2058194">argNum</span><span class="op" id="2058200">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058204">if</span>&nbsp;<span class="ident" id="2058207">argNum</span>&nbsp;<span class="op" id="2058214">&gt;</span>&nbsp;<span class="num" id="2058216">0</span>&nbsp;<span class="op" id="2058218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058223">isString</span>&nbsp;<span class="op" id="2058232">:=</span>&nbsp;<span class="ident" id="2058235">arg</span>&nbsp;<span class="op" id="2058239">!=</span>&nbsp;<span class="ident" id="2058242">nil</span>&nbsp;<span class="op" id="2058246">&amp;&amp;</span>&nbsp;<span class="ident" id="2058249">reflect</span><span class="op" id="2058256">.</span><span class="ident" id="2058257">TypeOf</span><span class="op" id="2058263">(</span><span class="ident" id="2058264">arg</span><span class="op" id="2058267">)</span><span class="op" id="2058268">.</span><span class="ident" id="2058269">Kind</span><span class="op" id="2058273">(</span><span class="op" id="2058274">)</span>&nbsp;<span class="op" id="2058276">==</span>&nbsp;<span class="ident" id="2058279">reflect</span><span class="op" id="2058286">.</span><span class="ident" id="2058287">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058297">if</span>&nbsp;<span class="ident" id="2058300">addspace</span>&nbsp;<span class="op" id="2058309">||</span>&nbsp;<span class="op" id="2058312">!</span><span class="ident" id="2058313">isString</span>&nbsp;<span class="op" id="2058322">&amp;&amp;</span>&nbsp;<span class="op" id="2058325">!</span><span class="ident" id="2058326">prevString</span>&nbsp;<span class="op" id="2058337">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058343">p</span><span class="op" id="2058344">.</span><span class="ident" id="2058345">buf</span><span class="op" id="2058348">.</span><span class="ident" id="2058349">WriteByte</span><span class="op" id="2058358">(</span><span class="string" id="2058359">&#39;&nbsp;&#39;</span><span class="op" id="2058362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058375">prevString</span>&nbsp;<span class="op" id="2058386">=</span>&nbsp;<span class="ident" id="2058388">p</span><span class="op" id="2058389">.</span><span class="ident" id="2058390">printArg</span><span class="op" id="2058398">(</span><span class="ident" id="2058399">arg</span><span class="op" id="2058402">,</span>&nbsp;<span class="string" id="2058404">&#39;v&#39;</span><span class="op" id="2058407">,</span>&nbsp;<span class="num" id="2058409">0</span><span class="op" id="2058410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058413">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058416">if</span>&nbsp;<span class="ident" id="2058419">addnewline</span>&nbsp;<span class="op" id="2058430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058434">p</span><span class="op" id="2058435">.</span><span class="ident" id="2058436">buf</span><span class="op" id="2058439">.</span><span class="ident" id="2058440">WriteByte</span><span class="op" id="2058449">(</span><span class="string" id="2058450">&#39;\n&#39;</span><span class="op" id="2058454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058457">}</span><br>
<span class="lineno"></span><span class="op" id="2058459">}</span>
</div>
</body>
</html>
