<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html" class="current">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5153610">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5153665">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5153719">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5153770">//&nbsp;Package&nbsp;image&nbsp;implements&nbsp;a&nbsp;basic&nbsp;2-D&nbsp;image&nbsp;library.</span><br>
<span class="lineno"></span><span class="comment" id="5153825">//</span><br>
<span class="lineno"></span><span class="comment" id="5153828">//&nbsp;The&nbsp;fundamental&nbsp;interface&nbsp;is&nbsp;called&nbsp;Image.&nbsp;An&nbsp;Image&nbsp;contains&nbsp;colors,&nbsp;which</span><br>
<span class="lineno"></span><span class="comment" id="5153906">//&nbsp;are&nbsp;described&nbsp;in&nbsp;the&nbsp;image/color&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="5153951">//</span><br>
<span class="lineno">10</span><span class="comment" id="5153954">//&nbsp;Values&nbsp;of&nbsp;the&nbsp;Image&nbsp;interface&nbsp;are&nbsp;created&nbsp;either&nbsp;by&nbsp;calling&nbsp;functions&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="5154032">//&nbsp;as&nbsp;NewRGBA&nbsp;and&nbsp;NewPaletted,&nbsp;or&nbsp;by&nbsp;calling&nbsp;Decode&nbsp;on&nbsp;an&nbsp;io.Reader&nbsp;containing</span><br>
<span class="lineno"></span><span class="comment" id="5154111">//&nbsp;image&nbsp;data&nbsp;in&nbsp;a&nbsp;format&nbsp;such&nbsp;as&nbsp;GIF,&nbsp;JPEG&nbsp;or&nbsp;PNG.&nbsp;Decoding&nbsp;any&nbsp;particular</span><br>
<span class="lineno"></span><span class="comment" id="5154187">//&nbsp;image&nbsp;format&nbsp;requires&nbsp;the&nbsp;prior&nbsp;registration&nbsp;of&nbsp;a&nbsp;decoder&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="5154258">//&nbsp;Registration&nbsp;is&nbsp;typically&nbsp;automatic&nbsp;as&nbsp;a&nbsp;side&nbsp;effect&nbsp;of&nbsp;initializing&nbsp;that</span><br>
<span class="lineno">15</span><span class="comment" id="5154335">//&nbsp;format&#39;s&nbsp;package&nbsp;so&nbsp;that,&nbsp;to&nbsp;decode&nbsp;a&nbsp;PNG&nbsp;image,&nbsp;it&nbsp;suffices&nbsp;to&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="5154407">//&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;_&nbsp;&#34;image/png&#34;</span><br>
<span class="lineno"></span><span class="comment" id="5154431">//&nbsp;in&nbsp;a&nbsp;program&#39;s&nbsp;main&nbsp;package.&nbsp;The&nbsp;_&nbsp;means&nbsp;to&nbsp;import&nbsp;a&nbsp;package&nbsp;purely&nbsp;for&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="5154510">//&nbsp;initialization&nbsp;side&nbsp;effects.</span><br>
<span class="lineno"></span><span class="comment" id="5154542">//</span><br>
<span class="lineno">20</span><span class="comment" id="5154545">//&nbsp;See&nbsp;&#34;The&nbsp;Go&nbsp;image&nbsp;package&#34;&nbsp;for&nbsp;more&nbsp;details:</span><br>
<span class="lineno"></span><span class="comment" id="5154593">//&nbsp;http://golang.org/doc/articles/image_package.html</span><br>
<span class="lineno"></span><span class="keyword" id="5154646">package</span>&nbsp;<span class="ident" id="5154654">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5154661">import</span>&nbsp;<span class="op" id="5154668">(</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5154671">&#34;image/color&#34;</span><br>
<span class="lineno"></span><span class="op" id="5154685">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5154688">//&nbsp;Config&nbsp;holds&nbsp;an&nbsp;image&#39;s&nbsp;color&nbsp;model&nbsp;and&nbsp;dimensions.</span><br>
<span class="lineno"></span><span class="keyword" id="5154743">type</span>&nbsp;<span class="ident" id="5154748">Config</span>&nbsp;<span class="keyword" id="5154755">struct</span>&nbsp;<span class="op" id="5154762">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5154765">ColorModel</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5154779"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5154784">.</span><span class="ident" id="5154785"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5154792">Width</span><span class="op" id="5154797">,</span>&nbsp;<span class="ident" id="5154799">Height</span>&nbsp;<span class="builtintype" id="5154806">int</span><br>
<span class="lineno"></span><span class="op" id="5154810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5154813">//&nbsp;Image&nbsp;is&nbsp;a&nbsp;finite&nbsp;rectangular&nbsp;grid&nbsp;of&nbsp;color.Color&nbsp;values&nbsp;taken&nbsp;from&nbsp;a&nbsp;color</span><br>
<span class="lineno">35</span><span class="comment" id="5154892">//&nbsp;model.</span><br>
<span class="lineno"></span><span class="keyword" id="5154902">type</span>&nbsp;<span class="ident" id="5154907">Image</span>&nbsp;<span class="keyword" id="5154913">interface</span>&nbsp;<span class="op" id="5154923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5154926">//&nbsp;ColorModel&nbsp;returns&nbsp;the&nbsp;Image&#39;s&nbsp;color&nbsp;model.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5154974">ColorModel</span><span class="op" id="5154984">(</span><span class="op" id="5154985">)</span>&nbsp;<span class="ident" id="5154987"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5154992">.</span><span class="ident" id="5154993"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155000">//&nbsp;Bounds&nbsp;returns&nbsp;the&nbsp;domain&nbsp;for&nbsp;which&nbsp;At&nbsp;can&nbsp;return&nbsp;non-zero&nbsp;color.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155070">//&nbsp;The&nbsp;bounds&nbsp;do&nbsp;not&nbsp;necessarily&nbsp;contain&nbsp;the&nbsp;point&nbsp;(0,&nbsp;0).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5155130">Bounds</span><span class="op" id="5155136">(</span><span class="op" id="5155137">)</span>&nbsp;<span class="ident" id="5155139"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155150">//&nbsp;At&nbsp;returns&nbsp;the&nbsp;color&nbsp;of&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155199">//&nbsp;At(Bounds().Min.X,&nbsp;Bounds().Min.Y)&nbsp;returns&nbsp;the&nbsp;upper-left&nbsp;pixel&nbsp;of&nbsp;the&nbsp;grid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155280">//&nbsp;At(Bounds().Max.X-1,&nbsp;Bounds().Max.Y-1)&nbsp;returns&nbsp;the&nbsp;lower-right&nbsp;one.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5155352">At</span><span class="op" id="5155354">(</span><span class="ident" id="5155355">x</span><span class="op" id="5155356">,</span>&nbsp;<span class="ident" id="5155358">y</span>&nbsp;<span class="builtintype" id="5155360">int</span><span class="op" id="5155363">)</span>&nbsp;<span class="ident" id="5155365"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5155370">.</span><span class="ident" id="5155371"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><br>
<span class="lineno"></span><span class="op" id="5155377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5155380">//&nbsp;PalettedImage&nbsp;is&nbsp;an&nbsp;image&nbsp;whose&nbsp;colors&nbsp;may&nbsp;come&nbsp;from&nbsp;a&nbsp;limited&nbsp;palette.</span><br>
<span class="lineno"></span><span class="comment" id="5155455">//&nbsp;If&nbsp;m&nbsp;is&nbsp;a&nbsp;PalettedImage&nbsp;and&nbsp;m.ColorModel()&nbsp;returns&nbsp;a&nbsp;PalettedColorModel&nbsp;p,</span><br>
<span class="lineno">50</span><span class="comment" id="5155533">//&nbsp;then&nbsp;m.At(x,&nbsp;y)&nbsp;should&nbsp;be&nbsp;equivalent&nbsp;to&nbsp;p[m.ColorIndexAt(x,&nbsp;y)].&nbsp;If&nbsp;m&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5155608">//&nbsp;color&nbsp;model&nbsp;is&nbsp;not&nbsp;a&nbsp;PalettedColorModel,&nbsp;then&nbsp;ColorIndexAt&#39;s&nbsp;behavior&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5155684">//&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="5155698">type</span>&nbsp;<span class="ident" id="5155703">PalettedImage</span>&nbsp;<span class="keyword" id="5155717">interface</span>&nbsp;<span class="op" id="5155727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155730">//&nbsp;ColorIndexAt&nbsp;returns&nbsp;the&nbsp;palette&nbsp;index&nbsp;of&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5155797">ColorIndexAt</span><span class="op" id="5155809">(</span><span class="ident" id="5155810">x</span><span class="op" id="5155811">,</span>&nbsp;<span class="ident" id="5155813">y</span>&nbsp;<span class="builtintype" id="5155815">int</span><span class="op" id="5155818">)</span>&nbsp;<span class="builtintype" id="5155820">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5155827"><a href="/gostd/image/image.go.html#5154907">Image</a></span><br>
<span class="lineno"></span><span class="op" id="5155833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5155836">//&nbsp;RGBA&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.RGBA&nbsp;values.</span><br>
<span class="lineno">60</span><span class="keyword" id="5155909">type</span>&nbsp;<span class="ident" id="5155914">RGBA</span>&nbsp;<span class="keyword" id="5155919">struct</span>&nbsp;<span class="op" id="5155926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155929">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;in&nbsp;R,&nbsp;G,&nbsp;B,&nbsp;A&nbsp;order.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5155997">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*4].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156065">Pix</span>&nbsp;<span class="op" id="5156069">[</span><span class="op" id="5156070">]</span><span class="builtintype" id="5156071">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5156078">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156154">Stride</span>&nbsp;<span class="builtintype" id="5156161">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5156166">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156198">Rect</span>&nbsp;<span class="ident" id="5156203"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span><span class="op" id="5156213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="5156216">func</span>&nbsp;<span class="op" id="5156221">(</span><span class="ident" id="5156222">p</span>&nbsp;<span class="op" id="5156224">*</span><span class="ident" id="5156225"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5156229">)</span>&nbsp;<span class="ident" id="5156231">ColorModel</span><span class="op" id="5156241">(</span><span class="op" id="5156242">)</span>&nbsp;<span class="ident" id="5156244"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156249">.</span><span class="ident" id="5156250"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5156256">{</span>&nbsp;<span class="keyword" id="5156258">return</span>&nbsp;<span class="ident" id="5156265"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156270">.</span><span class="ident" id="5156271"><a href="/gostd/image/color/color.go.html#5188187">RGBAModel</a></span>&nbsp;<span class="op" id="5156281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5156284">func</span>&nbsp;<span class="op" id="5156289">(</span><span class="ident" id="5156290">p</span>&nbsp;<span class="op" id="5156292">*</span><span class="ident" id="5156293"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5156297">)</span>&nbsp;<span class="ident" id="5156299">Bounds</span><span class="op" id="5156305">(</span><span class="op" id="5156306">)</span>&nbsp;<span class="ident" id="5156308"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5156318">{</span>&nbsp;<span class="keyword" id="5156320">return</span>&nbsp;<span class="ident" id="5156327"><a href="/gostd/image/image.go.html#5156290">p</a></span><span class="op" id="5156328">.</span><span class="ident" id="5156329"><a href="/gostd/image/image.go.html#5156198">Rect</a></span>&nbsp;<span class="op" id="5156334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5156337">func</span>&nbsp;<span class="op" id="5156342">(</span><span class="ident" id="5156343">p</span>&nbsp;<span class="op" id="5156345">*</span><span class="ident" id="5156346"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5156350">)</span>&nbsp;<span class="ident" id="5156352">At</span><span class="op" id="5156354">(</span><span class="ident" id="5156355">x</span><span class="op" id="5156356">,</span>&nbsp;<span class="ident" id="5156358">y</span>&nbsp;<span class="builtintype" id="5156360">int</span><span class="op" id="5156363">)</span>&nbsp;<span class="ident" id="5156365"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156370">.</span><span class="ident" id="5156371"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5156377">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5156380">return</span>&nbsp;<span class="ident" id="5156387"><a href="/gostd/image/image.go.html#5156343">p</a></span><span class="op" id="5156388">.</span><span class="ident" id="5156389"><a href="/gostd/image/image.go.html#5156420">RGBAAt</a></span><span class="op" id="5156395">(</span><span class="ident" id="5156396"><a href="/gostd/image/image.go.html#5156355">x</a></span><span class="op" id="5156397">,</span>&nbsp;<span class="ident" id="5156399"><a href="/gostd/image/image.go.html#5156358">y</a></span><span class="op" id="5156400">)</span><br>
<span class="lineno"></span><span class="op" id="5156402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5156405">func</span>&nbsp;<span class="op" id="5156410">(</span><span class="ident" id="5156411">p</span>&nbsp;<span class="op" id="5156413">*</span><span class="ident" id="5156414"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5156418">)</span>&nbsp;<span class="ident" id="5156420">RGBAAt</span><span class="op" id="5156426">(</span><span class="ident" id="5156427">x</span><span class="op" id="5156428">,</span>&nbsp;<span class="ident" id="5156430">y</span>&nbsp;<span class="builtintype" id="5156432">int</span><span class="op" id="5156435">)</span>&nbsp;<span class="ident" id="5156437"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156442">.</span><span class="ident" id="5156443"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span>&nbsp;<span class="op" id="5156448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5156451">if</span>&nbsp;<span class="op" id="5156454">!</span><span class="op" id="5156455">(</span><span class="ident" id="5156456"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5156461">{</span><span class="ident" id="5156462"><a href="/gostd/image/image.go.html#5156427">x</a></span><span class="op" id="5156463">,</span>&nbsp;<span class="ident" id="5156465"><a href="/gostd/image/image.go.html#5156430">y</a></span><span class="op" id="5156466">}</span><span class="op" id="5156467">.</span><span class="ident" id="5156468"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5156470">(</span><span class="ident" id="5156471"><a href="/gostd/image/image.go.html#5156411">p</a></span><span class="op" id="5156472">.</span><span class="ident" id="5156473"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5156477">)</span><span class="op" id="5156478">)</span>&nbsp;<span class="op" id="5156480">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5156484">return</span>&nbsp;<span class="ident" id="5156491"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156496">.</span><span class="ident" id="5156497"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="5156501">{</span><span class="op" id="5156502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5156505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156508">i</span>&nbsp;<span class="op" id="5156510">:=</span>&nbsp;<span class="ident" id="5156513"><a href="/gostd/image/image.go.html#5156411">p</a></span><span class="op" id="5156514">.</span><span class="ident" id="5156515"><a href="/gostd/image/image.go.html#5156719">PixOffset</a></span><span class="op" id="5156524">(</span><span class="ident" id="5156525"><a href="/gostd/image/image.go.html#5156427">x</a></span><span class="op" id="5156526">,</span>&nbsp;<span class="ident" id="5156528"><a href="/gostd/image/image.go.html#5156430">y</a></span><span class="op" id="5156529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5156532">return</span>&nbsp;<span class="ident" id="5156539"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156544">.</span><span class="ident" id="5156545"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="5156549">{</span><span class="ident" id="5156550"><a href="/gostd/image/image.go.html#5156411">p</a></span><span class="op" id="5156551">.</span><span class="ident" id="5156552"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5156555">[</span><span class="ident" id="5156556"><a href="/gostd/image/image.go.html#5156508">i</a></span><span class="op" id="5156557">+</span><span class="num" id="5156558">0</span><span class="op" id="5156559">]</span><span class="op" id="5156560">,</span>&nbsp;<span class="ident" id="5156562"><a href="/gostd/image/image.go.html#5156411">p</a></span><span class="op" id="5156563">.</span><span class="ident" id="5156564"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5156567">[</span><span class="ident" id="5156568"><a href="/gostd/image/image.go.html#5156508">i</a></span><span class="op" id="5156569">+</span><span class="num" id="5156570">1</span><span class="op" id="5156571">]</span><span class="op" id="5156572">,</span>&nbsp;<span class="ident" id="5156574"><a href="/gostd/image/image.go.html#5156411">p</a></span><span class="op" id="5156575">.</span><span class="ident" id="5156576"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5156579">[</span><span class="ident" id="5156580"><a href="/gostd/image/image.go.html#5156508">i</a></span><span class="op" id="5156581">+</span><span class="num" id="5156582">2</span><span class="op" id="5156583">]</span><span class="op" id="5156584">,</span>&nbsp;<span class="ident" id="5156586"><a href="/gostd/image/image.go.html#5156411">p</a></span><span class="op" id="5156587">.</span><span class="ident" id="5156588"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5156591">[</span><span class="ident" id="5156592"><a href="/gostd/image/image.go.html#5156508">i</a></span><span class="op" id="5156593">+</span><span class="num" id="5156594">3</span><span class="op" id="5156595">]</span><span class="op" id="5156596">}</span><br>
<span class="lineno"></span><span class="op" id="5156598">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="5156601">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5156680">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5156704">func</span>&nbsp;<span class="op" id="5156709">(</span><span class="ident" id="5156710">p</span>&nbsp;<span class="op" id="5156712">*</span><span class="ident" id="5156713"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5156717">)</span>&nbsp;<span class="ident" id="5156719">PixOffset</span><span class="op" id="5156728">(</span><span class="ident" id="5156729">x</span><span class="op" id="5156730">,</span>&nbsp;<span class="ident" id="5156732">y</span>&nbsp;<span class="builtintype" id="5156734">int</span><span class="op" id="5156737">)</span>&nbsp;<span class="builtintype" id="5156739">int</span>&nbsp;<span class="op" id="5156743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5156746">return</span>&nbsp;<span class="op" id="5156753">(</span><span class="ident" id="5156754"><a href="/gostd/image/image.go.html#5156732">y</a></span><span class="op" id="5156755">-</span><span class="ident" id="5156756"><a href="/gostd/image/image.go.html#5156710">p</a></span><span class="op" id="5156757">.</span><span class="ident" id="5156758"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5156762">.</span><span class="ident" id="5156763"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5156766">.</span><span class="ident" id="5156767"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5156768">)</span><span class="op" id="5156769">*</span><span class="ident" id="5156770"><a href="/gostd/image/image.go.html#5156710">p</a></span><span class="op" id="5156771">.</span><span class="ident" id="5156772"><a href="/gostd/image/image.go.html#5156154">Stride</a></span>&nbsp;<span class="op" id="5156779">+</span>&nbsp;<span class="op" id="5156781">(</span><span class="ident" id="5156782"><a href="/gostd/image/image.go.html#5156729">x</a></span><span class="op" id="5156783">-</span><span class="ident" id="5156784"><a href="/gostd/image/image.go.html#5156710">p</a></span><span class="op" id="5156785">.</span><span class="ident" id="5156786"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5156790">.</span><span class="ident" id="5156791"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5156794">.</span><span class="ident" id="5156795"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5156796">)</span><span class="op" id="5156797">*</span><span class="num" id="5156798">4</span><br>
<span class="lineno">90</span><span class="op" id="5156800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5156803">func</span>&nbsp;<span class="op" id="5156808">(</span><span class="ident" id="5156809">p</span>&nbsp;<span class="op" id="5156811">*</span><span class="ident" id="5156812"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5156816">)</span>&nbsp;<span class="ident" id="5156818">Set</span><span class="op" id="5156821">(</span><span class="ident" id="5156822">x</span><span class="op" id="5156823">,</span>&nbsp;<span class="ident" id="5156825">y</span>&nbsp;<span class="builtintype" id="5156827">int</span><span class="op" id="5156830">,</span>&nbsp;<span class="ident" id="5156832">c</span>&nbsp;<span class="ident" id="5156834"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156839">.</span><span class="ident" id="5156840"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5156845">)</span>&nbsp;<span class="op" id="5156847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5156850">if</span>&nbsp;<span class="op" id="5156853">!</span><span class="op" id="5156854">(</span><span class="ident" id="5156855"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5156860">{</span><span class="ident" id="5156861"><a href="/gostd/image/image.go.html#5156822">x</a></span><span class="op" id="5156862">,</span>&nbsp;<span class="ident" id="5156864"><a href="/gostd/image/image.go.html#5156825">y</a></span><span class="op" id="5156865">}</span><span class="op" id="5156866">.</span><span class="ident" id="5156867"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5156869">(</span><span class="ident" id="5156870"><a href="/gostd/image/image.go.html#5156809">p</a></span><span class="op" id="5156871">.</span><span class="ident" id="5156872"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5156876">)</span><span class="op" id="5156877">)</span>&nbsp;<span class="op" id="5156879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5156883">return</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5156891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156894">i</span>&nbsp;<span class="op" id="5156896">:=</span>&nbsp;<span class="ident" id="5156899"><a href="/gostd/image/image.go.html#5156809">p</a></span><span class="op" id="5156900">.</span><span class="ident" id="5156901"><a href="/gostd/image/image.go.html#5156719">PixOffset</a></span><span class="op" id="5156910">(</span><span class="ident" id="5156911"><a href="/gostd/image/image.go.html#5156822">x</a></span><span class="op" id="5156912">,</span>&nbsp;<span class="ident" id="5156914"><a href="/gostd/image/image.go.html#5156825">y</a></span><span class="op" id="5156915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156918">c1</span>&nbsp;<span class="op" id="5156921">:=</span>&nbsp;<span class="ident" id="5156924"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156929">.</span><span class="ident" id="5156930"><a href="/gostd/image/color/color.go.html#5188187">RGBAModel</a></span><span class="op" id="5156939">.</span><span class="ident" id="5156940"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5156947">(</span><span class="ident" id="5156948"><a href="/gostd/image/image.go.html#5156832">c</a></span><span class="op" id="5156949">)</span><span class="op" id="5156950">.</span><span class="op" id="5156951">(</span><span class="ident" id="5156952"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5156957">.</span><span class="ident" id="5156958"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="5156962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156965"><a href="/gostd/image/image.go.html#5156809">p</a></span><span class="op" id="5156966">.</span><span class="ident" id="5156967"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5156970">[</span><span class="ident" id="5156971"><a href="/gostd/image/image.go.html#5156894">i</a></span><span class="op" id="5156972">+</span><span class="num" id="5156973">0</span><span class="op" id="5156974">]</span>&nbsp;<span class="op" id="5156976">=</span>&nbsp;<span class="ident" id="5156978"><a href="/gostd/image/image.go.html#5156918">c1</a></span><span class="op" id="5156980">.</span><span class="ident" id="5156981"><a href="/gostd/image/color/color.go.html#5185627">R</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5156984"><a href="/gostd/image/image.go.html#5156809">p</a></span><span class="op" id="5156985">.</span><span class="ident" id="5156986"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5156989">[</span><span class="ident" id="5156990"><a href="/gostd/image/image.go.html#5156894">i</a></span><span class="op" id="5156991">+</span><span class="num" id="5156992">1</span><span class="op" id="5156993">]</span>&nbsp;<span class="op" id="5156995">=</span>&nbsp;<span class="ident" id="5156997"><a href="/gostd/image/image.go.html#5156918">c1</a></span><span class="op" id="5156999">.</span><span class="ident" id="5157000"><a href="/gostd/image/color/color.go.html#5185630">G</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157003"><a href="/gostd/image/image.go.html#5156809">p</a></span><span class="op" id="5157004">.</span><span class="ident" id="5157005"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157008">[</span><span class="ident" id="5157009"><a href="/gostd/image/image.go.html#5156894">i</a></span><span class="op" id="5157010">+</span><span class="num" id="5157011">2</span><span class="op" id="5157012">]</span>&nbsp;<span class="op" id="5157014">=</span>&nbsp;<span class="ident" id="5157016"><a href="/gostd/image/image.go.html#5156918">c1</a></span><span class="op" id="5157018">.</span><span class="ident" id="5157019"><a href="/gostd/image/color/color.go.html#5185633">B</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157022"><a href="/gostd/image/image.go.html#5156809">p</a></span><span class="op" id="5157023">.</span><span class="ident" id="5157024"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157027">[</span><span class="ident" id="5157028"><a href="/gostd/image/image.go.html#5156894">i</a></span><span class="op" id="5157029">+</span><span class="num" id="5157030">3</span><span class="op" id="5157031">]</span>&nbsp;<span class="op" id="5157033">=</span>&nbsp;<span class="ident" id="5157035"><a href="/gostd/image/image.go.html#5156918">c1</a></span><span class="op" id="5157037">.</span><span class="ident" id="5157038"><a href="/gostd/image/color/color.go.html#5185636">A</a></span><br>
<span class="lineno"></span><span class="op" id="5157040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5157043">func</span>&nbsp;<span class="op" id="5157048">(</span><span class="ident" id="5157049">p</span>&nbsp;<span class="op" id="5157051">*</span><span class="ident" id="5157052"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5157056">)</span>&nbsp;<span class="ident" id="5157058">SetRGBA</span><span class="op" id="5157065">(</span><span class="ident" id="5157066">x</span><span class="op" id="5157067">,</span>&nbsp;<span class="ident" id="5157069">y</span>&nbsp;<span class="builtintype" id="5157071">int</span><span class="op" id="5157074">,</span>&nbsp;<span class="ident" id="5157076">c</span>&nbsp;<span class="ident" id="5157078"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5157083">.</span><span class="ident" id="5157084"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="5157088">)</span>&nbsp;<span class="op" id="5157090">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157093">if</span>&nbsp;<span class="op" id="5157096">!</span><span class="op" id="5157097">(</span><span class="ident" id="5157098"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5157103">{</span><span class="ident" id="5157104"><a href="/gostd/image/image.go.html#5157066">x</a></span><span class="op" id="5157105">,</span>&nbsp;<span class="ident" id="5157107"><a href="/gostd/image/image.go.html#5157069">y</a></span><span class="op" id="5157108">}</span><span class="op" id="5157109">.</span><span class="ident" id="5157110"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5157112">(</span><span class="ident" id="5157113"><a href="/gostd/image/image.go.html#5157049">p</a></span><span class="op" id="5157114">.</span><span class="ident" id="5157115"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5157119">)</span><span class="op" id="5157120">)</span>&nbsp;<span class="op" id="5157122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157126">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5157134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157137">i</span>&nbsp;<span class="op" id="5157139">:=</span>&nbsp;<span class="ident" id="5157142"><a href="/gostd/image/image.go.html#5157049">p</a></span><span class="op" id="5157143">.</span><span class="ident" id="5157144"><a href="/gostd/image/image.go.html#5156719">PixOffset</a></span><span class="op" id="5157153">(</span><span class="ident" id="5157154"><a href="/gostd/image/image.go.html#5157066">x</a></span><span class="op" id="5157155">,</span>&nbsp;<span class="ident" id="5157157"><a href="/gostd/image/image.go.html#5157069">y</a></span><span class="op" id="5157158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157161"><a href="/gostd/image/image.go.html#5157049">p</a></span><span class="op" id="5157162">.</span><span class="ident" id="5157163"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157166">[</span><span class="ident" id="5157167"><a href="/gostd/image/image.go.html#5157137">i</a></span><span class="op" id="5157168">+</span><span class="num" id="5157169">0</span><span class="op" id="5157170">]</span>&nbsp;<span class="op" id="5157172">=</span>&nbsp;<span class="ident" id="5157174"><a href="/gostd/image/image.go.html#5157076">c</a></span><span class="op" id="5157175">.</span><span class="ident" id="5157176"><a href="/gostd/image/color/color.go.html#5185627">R</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157179"><a href="/gostd/image/image.go.html#5157049">p</a></span><span class="op" id="5157180">.</span><span class="ident" id="5157181"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157184">[</span><span class="ident" id="5157185"><a href="/gostd/image/image.go.html#5157137">i</a></span><span class="op" id="5157186">+</span><span class="num" id="5157187">1</span><span class="op" id="5157188">]</span>&nbsp;<span class="op" id="5157190">=</span>&nbsp;<span class="ident" id="5157192"><a href="/gostd/image/image.go.html#5157076">c</a></span><span class="op" id="5157193">.</span><span class="ident" id="5157194"><a href="/gostd/image/color/color.go.html#5185630">G</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157197"><a href="/gostd/image/image.go.html#5157049">p</a></span><span class="op" id="5157198">.</span><span class="ident" id="5157199"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157202">[</span><span class="ident" id="5157203"><a href="/gostd/image/image.go.html#5157137">i</a></span><span class="op" id="5157204">+</span><span class="num" id="5157205">2</span><span class="op" id="5157206">]</span>&nbsp;<span class="op" id="5157208">=</span>&nbsp;<span class="ident" id="5157210"><a href="/gostd/image/image.go.html#5157076">c</a></span><span class="op" id="5157211">.</span><span class="ident" id="5157212"><a href="/gostd/image/color/color.go.html#5185633">B</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157215"><a href="/gostd/image/image.go.html#5157049">p</a></span><span class="op" id="5157216">.</span><span class="ident" id="5157217"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157220">[</span><span class="ident" id="5157221"><a href="/gostd/image/image.go.html#5157137">i</a></span><span class="op" id="5157222">+</span><span class="num" id="5157223">3</span><span class="op" id="5157224">]</span>&nbsp;<span class="op" id="5157226">=</span>&nbsp;<span class="ident" id="5157228"><a href="/gostd/image/image.go.html#5157076">c</a></span><span class="op" id="5157229">.</span><span class="ident" id="5157230"><a href="/gostd/image/color/color.go.html#5185636">A</a></span><br>
<span class="lineno"></span><span class="op" id="5157232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="5157235">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5157312">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5157384">func</span>&nbsp;<span class="op" id="5157389">(</span><span class="ident" id="5157390">p</span>&nbsp;<span class="op" id="5157392">*</span><span class="ident" id="5157393"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5157397">)</span>&nbsp;<span class="ident" id="5157399">SubImage</span><span class="op" id="5157407">(</span><span class="ident" id="5157408">r</span>&nbsp;<span class="ident" id="5157410"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5157419">)</span>&nbsp;<span class="ident" id="5157421"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5157427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157430"><a href="/gostd/image/image.go.html#5157408">r</a></span>&nbsp;<span class="op" id="5157432">=</span>&nbsp;<span class="ident" id="5157434"><a href="/gostd/image/image.go.html#5157408">r</a></span><span class="op" id="5157435">.</span><span class="ident" id="5157436"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5157445">(</span><span class="ident" id="5157446"><a href="/gostd/image/image.go.html#5157390">p</a></span><span class="op" id="5157447">.</span><span class="ident" id="5157448"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5157452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5157455">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5157536">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5157618">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157668">if</span>&nbsp;<span class="ident" id="5157671"><a href="/gostd/image/image.go.html#5157408">r</a></span><span class="op" id="5157672">.</span><span class="ident" id="5157673"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5157678">(</span><span class="op" id="5157679">)</span>&nbsp;<span class="op" id="5157681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157685">return</span>&nbsp;<span class="op" id="5157692">&amp;</span><span class="ident" id="5157693"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5157697">{</span><span class="op" id="5157698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5157701">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157704">i</span>&nbsp;<span class="op" id="5157706">:=</span>&nbsp;<span class="ident" id="5157709"><a href="/gostd/image/image.go.html#5157390">p</a></span><span class="op" id="5157710">.</span><span class="ident" id="5157711"><a href="/gostd/image/image.go.html#5156719">PixOffset</a></span><span class="op" id="5157720">(</span><span class="ident" id="5157721"><a href="/gostd/image/image.go.html#5157408">r</a></span><span class="op" id="5157722">.</span><span class="ident" id="5157723"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5157726">.</span><span class="ident" id="5157727"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5157728">,</span>&nbsp;<span class="ident" id="5157730"><a href="/gostd/image/image.go.html#5157408">r</a></span><span class="op" id="5157731">.</span><span class="ident" id="5157732"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5157735">.</span><span class="ident" id="5157736"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5157737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157740">return</span>&nbsp;<span class="op" id="5157747">&amp;</span><span class="ident" id="5157748"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5157752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157756"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157759">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157764"><a href="/gostd/image/image.go.html#5157390">p</a></span><span class="op" id="5157765">.</span><span class="ident" id="5157766"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5157769">[</span><span class="ident" id="5157770"><a href="/gostd/image/image.go.html#5157704">i</a></span><span class="op" id="5157771">:</span><span class="op" id="5157772">]</span><span class="op" id="5157773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157777"><a href="/gostd/image/image.go.html#5156154">Stride</a></span><span class="op" id="5157783">:</span>&nbsp;<span class="ident" id="5157785"><a href="/gostd/image/image.go.html#5157390">p</a></span><span class="op" id="5157786">.</span><span class="ident" id="5157787"><a href="/gostd/image/image.go.html#5156154">Stride</a></span><span class="op" id="5157793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157797"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5157801">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5157805"><a href="/gostd/image/image.go.html#5157408">r</a></span><span class="op" id="5157806">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5157809">}</span><br>
<span class="lineno"></span><span class="op" id="5157811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5157814">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5157887">func</span>&nbsp;<span class="op" id="5157892">(</span><span class="ident" id="5157893">p</span>&nbsp;<span class="op" id="5157895">*</span><span class="ident" id="5157896"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5157900">)</span>&nbsp;<span class="ident" id="5157902">Opaque</span><span class="op" id="5157908">(</span><span class="op" id="5157909">)</span>&nbsp;<span class="builtintype" id="5157911">bool</span>&nbsp;<span class="op" id="5157916">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157919">if</span>&nbsp;<span class="ident" id="5157922"><a href="/gostd/image/image.go.html#5157893">p</a></span><span class="op" id="5157923">.</span><span class="ident" id="5157924"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5157928">.</span><span class="ident" id="5157929"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5157934">(</span><span class="op" id="5157935">)</span>&nbsp;<span class="op" id="5157937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157941">return</span>&nbsp;<span class="builtintype" id="5157948">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5157954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5157957">i0</span><span class="op" id="5157959">,</span>&nbsp;<span class="ident" id="5157961">i1</span>&nbsp;<span class="op" id="5157964">:=</span>&nbsp;<span class="num" id="5157967">3</span><span class="op" id="5157968">,</span>&nbsp;<span class="ident" id="5157970"><a href="/gostd/image/image.go.html#5157893">p</a></span><span class="op" id="5157971">.</span><span class="ident" id="5157972"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5157976">.</span><span class="ident" id="5157977"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5157979">(</span><span class="op" id="5157980">)</span><span class="op" id="5157981">*</span><span class="num" id="5157982">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5157985">for</span>&nbsp;<span class="ident" id="5157989">y</span>&nbsp;<span class="op" id="5157991">:=</span>&nbsp;<span class="ident" id="5157994"><a href="/gostd/image/image.go.html#5157893">p</a></span><span class="op" id="5157995">.</span><span class="ident" id="5157996"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5158000">.</span><span class="ident" id="5158001"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5158004">.</span><span class="ident" id="5158005"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5158006">;</span>&nbsp;<span class="ident" id="5158008"><a href="/gostd/image/image.go.html#5157989">y</a></span>&nbsp;<span class="op" id="5158010">&lt;</span>&nbsp;<span class="ident" id="5158012"><a href="/gostd/image/image.go.html#5157893">p</a></span><span class="op" id="5158013">.</span><span class="ident" id="5158014"><a href="/gostd/image/image.go.html#5156198">Rect</a></span><span class="op" id="5158018">.</span><span class="ident" id="5158019"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="5158022">.</span><span class="ident" id="5158023"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5158024">;</span>&nbsp;<span class="ident" id="5158026"><a href="/gostd/image/image.go.html#5157989">y</a></span><span class="op" id="5158027">++</span>&nbsp;<span class="op" id="5158030">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5158034">for</span>&nbsp;<span class="ident" id="5158038">i</span>&nbsp;<span class="op" id="5158040">:=</span>&nbsp;<span class="ident" id="5158043"><a href="/gostd/image/image.go.html#5157957">i0</a></span><span class="op" id="5158045">;</span>&nbsp;<span class="ident" id="5158047"><a href="/gostd/image/image.go.html#5158038">i</a></span>&nbsp;<span class="op" id="5158049">&lt;</span>&nbsp;<span class="ident" id="5158051"><a href="/gostd/image/image.go.html#5157961">i1</a></span><span class="op" id="5158053">;</span>&nbsp;<span class="ident" id="5158055"><a href="/gostd/image/image.go.html#5158038">i</a></span>&nbsp;<span class="op" id="5158057">+=</span>&nbsp;<span class="num" id="5158060">4</span>&nbsp;<span class="op" id="5158062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5158067">if</span>&nbsp;<span class="ident" id="5158070"><a href="/gostd/image/image.go.html#5157893">p</a></span><span class="op" id="5158071">.</span><span class="ident" id="5158072"><a href="/gostd/image/image.go.html#5156065">Pix</a></span><span class="op" id="5158075">[</span><span class="ident" id="5158076"><a href="/gostd/image/image.go.html#5158038">i</a></span><span class="op" id="5158077">]</span>&nbsp;<span class="op" id="5158079">!=</span>&nbsp;<span class="num" id="5158082">0xff</span>&nbsp;<span class="op" id="5158087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5158093">return</span>&nbsp;<span class="builtintype" id="5158100">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5158109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5158113">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5158117"><a href="/gostd/image/image.go.html#5157957">i0</a></span>&nbsp;<span class="op" id="5158120">+=</span>&nbsp;<span class="ident" id="5158123"><a href="/gostd/image/image.go.html#5157893">p</a></span><span class="op" id="5158124">.</span><span class="ident" id="5158125"><a href="/gostd/image/image.go.html#5156154">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5158134"><a href="/gostd/image/image.go.html#5157961">i1</a></span>&nbsp;<span class="op" id="5158137">+=</span>&nbsp;<span class="ident" id="5158140"><a href="/gostd/image/image.go.html#5157893">p</a></span><span class="op" id="5158141">.</span><span class="ident" id="5158142"><a href="/gostd/image/image.go.html#5156154">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5158150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5158153">return</span>&nbsp;<span class="builtintype" id="5158160">true</span><br>
<span class="lineno"></span><span class="op" id="5158165">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="5158168">//&nbsp;NewRGBA&nbsp;returns&nbsp;a&nbsp;new&nbsp;RGBA&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="5158221">func</span>&nbsp;<span class="ident" id="5158226">NewRGBA</span><span class="op" id="5158233">(</span><span class="ident" id="5158234">r</span>&nbsp;<span class="ident" id="5158236"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5158245">)</span>&nbsp;<span class="op" id="5158247">*</span><span class="ident" id="5158248"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span>&nbsp;<span class="op" id="5158253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5158256">w</span><span class="op" id="5158257">,</span>&nbsp;<span class="ident" id="5158259">h</span>&nbsp;<span class="op" id="5158261">:=</span>&nbsp;<span class="ident" id="5158264"><a href="/gostd/image/image.go.html#5158234">r</a></span><span class="op" id="5158265">.</span><span class="ident" id="5158266"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5158268">(</span><span class="op" id="5158269">)</span><span class="op" id="5158270">,</span>&nbsp;<span class="ident" id="5158272"><a href="/gostd/image/image.go.html#5158234">r</a></span><span class="op" id="5158273">.</span><span class="ident" id="5158274"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5158276">(</span><span class="op" id="5158277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5158280">buf</span>&nbsp;<span class="op" id="5158284">:=</span>&nbsp;<span class="builtinfunc" id="5158287">make</span><span class="op" id="5158291">(</span><span class="op" id="5158292">[</span><span class="op" id="5158293">]</span><span class="builtintype" id="5158294">uint8</span><span class="op" id="5158299">,</span>&nbsp;<span class="num" id="5158301">4</span><span class="op" id="5158302">*</span><span class="ident" id="5158303"><a href="/gostd/image/image.go.html#5158256">w</a></span><span class="op" id="5158304">*</span><span class="ident" id="5158305"><a href="/gostd/image/image.go.html#5158259">h</a></span><span class="op" id="5158306">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5158309">return</span>&nbsp;<span class="op" id="5158316">&amp;</span><span class="ident" id="5158317"><a href="/gostd/image/image.go.html#5155914">RGBA</a></span><span class="op" id="5158321">{</span><span class="ident" id="5158322"><a href="/gostd/image/image.go.html#5158280">buf</a></span><span class="op" id="5158325">,</span>&nbsp;<span class="num" id="5158327">4</span>&nbsp;<span class="op" id="5158329">*</span>&nbsp;<span class="ident" id="5158331"><a href="/gostd/image/image.go.html#5158256">w</a></span><span class="op" id="5158332">,</span>&nbsp;<span class="ident" id="5158334"><a href="/gostd/image/image.go.html#5158234">r</a></span><span class="op" id="5158335">}</span><br>
<span class="lineno"></span><span class="op" id="5158337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5158340">//&nbsp;RGBA64&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.RGBA64&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5158417">type</span>&nbsp;<span class="ident" id="5158422">RGBA64</span>&nbsp;<span class="keyword" id="5158429">struct</span>&nbsp;<span class="op" id="5158436">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5158439">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;in&nbsp;R,&nbsp;G,&nbsp;B,&nbsp;A&nbsp;order&nbsp;and&nbsp;big-endian&nbsp;format.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5158529">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*8].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5158597">Pix</span>&nbsp;<span class="op" id="5158601">[</span><span class="op" id="5158602">]</span><span class="builtintype" id="5158603">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5158610">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5158686">Stride</span>&nbsp;<span class="builtintype" id="5158693">int</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5158698">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5158730">Rect</span>&nbsp;<span class="ident" id="5158735"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span><span class="op" id="5158745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5158748">func</span>&nbsp;<span class="op" id="5158753">(</span><span class="ident" id="5158754">p</span>&nbsp;<span class="op" id="5158756">*</span><span class="ident" id="5158757"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5158763">)</span>&nbsp;<span class="ident" id="5158765">ColorModel</span><span class="op" id="5158775">(</span><span class="op" id="5158776">)</span>&nbsp;<span class="ident" id="5158778"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5158783">.</span><span class="ident" id="5158784"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5158790">{</span>&nbsp;<span class="keyword" id="5158792">return</span>&nbsp;<span class="ident" id="5158799"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5158804">.</span><span class="ident" id="5158805"><a href="/gostd/image/color/color.go.html#5188230">RGBA64Model</a></span>&nbsp;<span class="op" id="5158817">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="5158820">func</span>&nbsp;<span class="op" id="5158825">(</span><span class="ident" id="5158826">p</span>&nbsp;<span class="op" id="5158828">*</span><span class="ident" id="5158829"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5158835">)</span>&nbsp;<span class="ident" id="5158837">Bounds</span><span class="op" id="5158843">(</span><span class="op" id="5158844">)</span>&nbsp;<span class="ident" id="5158846"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5158856">{</span>&nbsp;<span class="keyword" id="5158858">return</span>&nbsp;<span class="ident" id="5158865"><a href="/gostd/image/image.go.html#5158826">p</a></span><span class="op" id="5158866">.</span><span class="ident" id="5158867"><a href="/gostd/image/image.go.html#5158730">Rect</a></span>&nbsp;<span class="op" id="5158872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5158875">func</span>&nbsp;<span class="op" id="5158880">(</span><span class="ident" id="5158881">p</span>&nbsp;<span class="op" id="5158883">*</span><span class="ident" id="5158884"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5158890">)</span>&nbsp;<span class="ident" id="5158892">At</span><span class="op" id="5158894">(</span><span class="ident" id="5158895">x</span><span class="op" id="5158896">,</span>&nbsp;<span class="ident" id="5158898">y</span>&nbsp;<span class="builtintype" id="5158900">int</span><span class="op" id="5158903">)</span>&nbsp;<span class="ident" id="5158905"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5158910">.</span><span class="ident" id="5158911"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5158917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5158920">return</span>&nbsp;<span class="ident" id="5158927"><a href="/gostd/image/image.go.html#5158881">p</a></span><span class="op" id="5158928">.</span><span class="ident" id="5158929"><a href="/gostd/image/image.go.html#5158964">RGBA64At</a></span><span class="op" id="5158937">(</span><span class="ident" id="5158938"><a href="/gostd/image/image.go.html#5158895">x</a></span><span class="op" id="5158939">,</span>&nbsp;<span class="ident" id="5158941"><a href="/gostd/image/image.go.html#5158898">y</a></span><span class="op" id="5158942">)</span><br>
<span class="lineno">175</span><span class="op" id="5158944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5158947">func</span>&nbsp;<span class="op" id="5158952">(</span><span class="ident" id="5158953">p</span>&nbsp;<span class="op" id="5158955">*</span><span class="ident" id="5158956"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5158962">)</span>&nbsp;<span class="ident" id="5158964">RGBA64At</span><span class="op" id="5158972">(</span><span class="ident" id="5158973">x</span><span class="op" id="5158974">,</span>&nbsp;<span class="ident" id="5158976">y</span>&nbsp;<span class="builtintype" id="5158978">int</span><span class="op" id="5158981">)</span>&nbsp;<span class="ident" id="5158983"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5158988">.</span><span class="ident" id="5158989"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span>&nbsp;<span class="op" id="5158996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5158999">if</span>&nbsp;<span class="op" id="5159002">!</span><span class="op" id="5159003">(</span><span class="ident" id="5159004"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5159009">{</span><span class="ident" id="5159010"><a href="/gostd/image/image.go.html#5158973">x</a></span><span class="op" id="5159011">,</span>&nbsp;<span class="ident" id="5159013"><a href="/gostd/image/image.go.html#5158976">y</a></span><span class="op" id="5159014">}</span><span class="op" id="5159015">.</span><span class="ident" id="5159016"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5159018">(</span><span class="ident" id="5159019"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159020">.</span><span class="ident" id="5159021"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5159025">)</span><span class="op" id="5159026">)</span>&nbsp;<span class="op" id="5159028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5159032">return</span>&nbsp;<span class="ident" id="5159039"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5159044">.</span><span class="ident" id="5159045"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span><span class="op" id="5159051">{</span><span class="op" id="5159052">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5159055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159058">i</span>&nbsp;<span class="op" id="5159060">:=</span>&nbsp;<span class="ident" id="5159063"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159064">.</span><span class="ident" id="5159065"><a href="/gostd/image/image.go.html#5159413">PixOffset</a></span><span class="op" id="5159074">(</span><span class="ident" id="5159075"><a href="/gostd/image/image.go.html#5158973">x</a></span><span class="op" id="5159076">,</span>&nbsp;<span class="ident" id="5159078"><a href="/gostd/image/image.go.html#5158976">y</a></span><span class="op" id="5159079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5159082">return</span>&nbsp;<span class="ident" id="5159089"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5159094">.</span><span class="ident" id="5159095"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span><span class="op" id="5159101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5159105">uint16</span><span class="op" id="5159111">(</span><span class="ident" id="5159112"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159113">.</span><span class="ident" id="5159114"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159117">[</span><span class="ident" id="5159118"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159119">+</span><span class="num" id="5159120">0</span><span class="op" id="5159121">]</span><span class="op" id="5159122">)</span><span class="op" id="5159123">&lt;&lt;</span><span class="num" id="5159125">8</span>&nbsp;<span class="op" id="5159127">|</span>&nbsp;<span class="builtintype" id="5159129">uint16</span><span class="op" id="5159135">(</span><span class="ident" id="5159136"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159137">.</span><span class="ident" id="5159138"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159141">[</span><span class="ident" id="5159142"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159143">+</span><span class="num" id="5159144">1</span><span class="op" id="5159145">]</span><span class="op" id="5159146">)</span><span class="op" id="5159147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5159151">uint16</span><span class="op" id="5159157">(</span><span class="ident" id="5159158"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159159">.</span><span class="ident" id="5159160"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159163">[</span><span class="ident" id="5159164"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159165">+</span><span class="num" id="5159166">2</span><span class="op" id="5159167">]</span><span class="op" id="5159168">)</span><span class="op" id="5159169">&lt;&lt;</span><span class="num" id="5159171">8</span>&nbsp;<span class="op" id="5159173">|</span>&nbsp;<span class="builtintype" id="5159175">uint16</span><span class="op" id="5159181">(</span><span class="ident" id="5159182"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159183">.</span><span class="ident" id="5159184"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159187">[</span><span class="ident" id="5159188"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159189">+</span><span class="num" id="5159190">3</span><span class="op" id="5159191">]</span><span class="op" id="5159192">)</span><span class="op" id="5159193">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5159197">uint16</span><span class="op" id="5159203">(</span><span class="ident" id="5159204"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159205">.</span><span class="ident" id="5159206"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159209">[</span><span class="ident" id="5159210"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159211">+</span><span class="num" id="5159212">4</span><span class="op" id="5159213">]</span><span class="op" id="5159214">)</span><span class="op" id="5159215">&lt;&lt;</span><span class="num" id="5159217">8</span>&nbsp;<span class="op" id="5159219">|</span>&nbsp;<span class="builtintype" id="5159221">uint16</span><span class="op" id="5159227">(</span><span class="ident" id="5159228"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159229">.</span><span class="ident" id="5159230"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159233">[</span><span class="ident" id="5159234"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159235">+</span><span class="num" id="5159236">5</span><span class="op" id="5159237">]</span><span class="op" id="5159238">)</span><span class="op" id="5159239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5159243">uint16</span><span class="op" id="5159249">(</span><span class="ident" id="5159250"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159251">.</span><span class="ident" id="5159252"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159255">[</span><span class="ident" id="5159256"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159257">+</span><span class="num" id="5159258">6</span><span class="op" id="5159259">]</span><span class="op" id="5159260">)</span><span class="op" id="5159261">&lt;&lt;</span><span class="num" id="5159263">8</span>&nbsp;<span class="op" id="5159265">|</span>&nbsp;<span class="builtintype" id="5159267">uint16</span><span class="op" id="5159273">(</span><span class="ident" id="5159274"><a href="/gostd/image/image.go.html#5158953">p</a></span><span class="op" id="5159275">.</span><span class="ident" id="5159276"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159279">[</span><span class="ident" id="5159280"><a href="/gostd/image/image.go.html#5159058">i</a></span><span class="op" id="5159281">+</span><span class="num" id="5159282">7</span><span class="op" id="5159283">]</span><span class="op" id="5159284">)</span><span class="op" id="5159285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5159288">}</span><br>
<span class="lineno"></span><span class="op" id="5159290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="5159293">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5159372">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5159396">func</span>&nbsp;<span class="op" id="5159401">(</span><span class="ident" id="5159402">p</span>&nbsp;<span class="op" id="5159404">*</span><span class="ident" id="5159405"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5159411">)</span>&nbsp;<span class="ident" id="5159413">PixOffset</span><span class="op" id="5159422">(</span><span class="ident" id="5159423">x</span><span class="op" id="5159424">,</span>&nbsp;<span class="ident" id="5159426">y</span>&nbsp;<span class="builtintype" id="5159428">int</span><span class="op" id="5159431">)</span>&nbsp;<span class="builtintype" id="5159433">int</span>&nbsp;<span class="op" id="5159437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5159440">return</span>&nbsp;<span class="op" id="5159447">(</span><span class="ident" id="5159448"><a href="/gostd/image/image.go.html#5159426">y</a></span><span class="op" id="5159449">-</span><span class="ident" id="5159450"><a href="/gostd/image/image.go.html#5159402">p</a></span><span class="op" id="5159451">.</span><span class="ident" id="5159452"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5159456">.</span><span class="ident" id="5159457"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5159460">.</span><span class="ident" id="5159461"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5159462">)</span><span class="op" id="5159463">*</span><span class="ident" id="5159464"><a href="/gostd/image/image.go.html#5159402">p</a></span><span class="op" id="5159465">.</span><span class="ident" id="5159466"><a href="/gostd/image/image.go.html#5158686">Stride</a></span>&nbsp;<span class="op" id="5159473">+</span>&nbsp;<span class="op" id="5159475">(</span><span class="ident" id="5159476"><a href="/gostd/image/image.go.html#5159423">x</a></span><span class="op" id="5159477">-</span><span class="ident" id="5159478"><a href="/gostd/image/image.go.html#5159402">p</a></span><span class="op" id="5159479">.</span><span class="ident" id="5159480"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5159484">.</span><span class="ident" id="5159485"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5159488">.</span><span class="ident" id="5159489"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5159490">)</span><span class="op" id="5159491">*</span><span class="num" id="5159492">8</span><br>
<span class="lineno"></span><span class="op" id="5159494">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="5159497">func</span>&nbsp;<span class="op" id="5159502">(</span><span class="ident" id="5159503">p</span>&nbsp;<span class="op" id="5159505">*</span><span class="ident" id="5159506"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5159512">)</span>&nbsp;<span class="ident" id="5159514">Set</span><span class="op" id="5159517">(</span><span class="ident" id="5159518">x</span><span class="op" id="5159519">,</span>&nbsp;<span class="ident" id="5159521">y</span>&nbsp;<span class="builtintype" id="5159523">int</span><span class="op" id="5159526">,</span>&nbsp;<span class="ident" id="5159528">c</span>&nbsp;<span class="ident" id="5159530"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5159535">.</span><span class="ident" id="5159536"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5159541">)</span>&nbsp;<span class="op" id="5159543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5159546">if</span>&nbsp;<span class="op" id="5159549">!</span><span class="op" id="5159550">(</span><span class="ident" id="5159551"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5159556">{</span><span class="ident" id="5159557"><a href="/gostd/image/image.go.html#5159518">x</a></span><span class="op" id="5159558">,</span>&nbsp;<span class="ident" id="5159560"><a href="/gostd/image/image.go.html#5159521">y</a></span><span class="op" id="5159561">}</span><span class="op" id="5159562">.</span><span class="ident" id="5159563"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5159565">(</span><span class="ident" id="5159566"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159567">.</span><span class="ident" id="5159568"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5159572">)</span><span class="op" id="5159573">)</span>&nbsp;<span class="op" id="5159575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5159579">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5159587">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159590">i</span>&nbsp;<span class="op" id="5159592">:=</span>&nbsp;<span class="ident" id="5159595"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159596">.</span><span class="ident" id="5159597"><a href="/gostd/image/image.go.html#5159413">PixOffset</a></span><span class="op" id="5159606">(</span><span class="ident" id="5159607"><a href="/gostd/image/image.go.html#5159518">x</a></span><span class="op" id="5159608">,</span>&nbsp;<span class="ident" id="5159610"><a href="/gostd/image/image.go.html#5159521">y</a></span><span class="op" id="5159611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159614">c1</span>&nbsp;<span class="op" id="5159617">:=</span>&nbsp;<span class="ident" id="5159620"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5159625">.</span><span class="ident" id="5159626"><a href="/gostd/image/color/color.go.html#5188230">RGBA64Model</a></span><span class="op" id="5159637">.</span><span class="ident" id="5159638"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5159645">(</span><span class="ident" id="5159646"><a href="/gostd/image/image.go.html#5159528">c</a></span><span class="op" id="5159647">)</span><span class="op" id="5159648">.</span><span class="op" id="5159649">(</span><span class="ident" id="5159650"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5159655">.</span><span class="ident" id="5159656"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span><span class="op" id="5159662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159665"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159666">.</span><span class="ident" id="5159667"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159670">[</span><span class="ident" id="5159671"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159672">+</span><span class="num" id="5159673">0</span><span class="op" id="5159674">]</span>&nbsp;<span class="op" id="5159676">=</span>&nbsp;<span class="builtintype" id="5159678">uint8</span><span class="op" id="5159683">(</span><span class="ident" id="5159684"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159686">.</span><span class="ident" id="5159687"><a href="/gostd/image/color/color.go.html#5185958">R</a></span>&nbsp;<span class="op" id="5159689">&gt;&gt;</span>&nbsp;<span class="num" id="5159692">8</span><span class="op" id="5159693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159696"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159697">.</span><span class="ident" id="5159698"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159701">[</span><span class="ident" id="5159702"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159703">+</span><span class="num" id="5159704">1</span><span class="op" id="5159705">]</span>&nbsp;<span class="op" id="5159707">=</span>&nbsp;<span class="builtintype" id="5159709">uint8</span><span class="op" id="5159714">(</span><span class="ident" id="5159715"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159717">.</span><span class="ident" id="5159718"><a href="/gostd/image/color/color.go.html#5185958">R</a></span><span class="op" id="5159719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159722"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159723">.</span><span class="ident" id="5159724"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159727">[</span><span class="ident" id="5159728"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159729">+</span><span class="num" id="5159730">2</span><span class="op" id="5159731">]</span>&nbsp;<span class="op" id="5159733">=</span>&nbsp;<span class="builtintype" id="5159735">uint8</span><span class="op" id="5159740">(</span><span class="ident" id="5159741"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159743">.</span><span class="ident" id="5159744"><a href="/gostd/image/color/color.go.html#5185961">G</a></span>&nbsp;<span class="op" id="5159746">&gt;&gt;</span>&nbsp;<span class="num" id="5159749">8</span><span class="op" id="5159750">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159753"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159754">.</span><span class="ident" id="5159755"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159758">[</span><span class="ident" id="5159759"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159760">+</span><span class="num" id="5159761">3</span><span class="op" id="5159762">]</span>&nbsp;<span class="op" id="5159764">=</span>&nbsp;<span class="builtintype" id="5159766">uint8</span><span class="op" id="5159771">(</span><span class="ident" id="5159772"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159774">.</span><span class="ident" id="5159775"><a href="/gostd/image/color/color.go.html#5185961">G</a></span><span class="op" id="5159776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159779"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159780">.</span><span class="ident" id="5159781"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159784">[</span><span class="ident" id="5159785"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159786">+</span><span class="num" id="5159787">4</span><span class="op" id="5159788">]</span>&nbsp;<span class="op" id="5159790">=</span>&nbsp;<span class="builtintype" id="5159792">uint8</span><span class="op" id="5159797">(</span><span class="ident" id="5159798"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159800">.</span><span class="ident" id="5159801"><a href="/gostd/image/color/color.go.html#5185964">B</a></span>&nbsp;<span class="op" id="5159803">&gt;&gt;</span>&nbsp;<span class="num" id="5159806">8</span><span class="op" id="5159807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159810"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159811">.</span><span class="ident" id="5159812"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159815">[</span><span class="ident" id="5159816"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159817">+</span><span class="num" id="5159818">5</span><span class="op" id="5159819">]</span>&nbsp;<span class="op" id="5159821">=</span>&nbsp;<span class="builtintype" id="5159823">uint8</span><span class="op" id="5159828">(</span><span class="ident" id="5159829"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159831">.</span><span class="ident" id="5159832"><a href="/gostd/image/color/color.go.html#5185964">B</a></span><span class="op" id="5159833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159836"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159837">.</span><span class="ident" id="5159838"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159841">[</span><span class="ident" id="5159842"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159843">+</span><span class="num" id="5159844">6</span><span class="op" id="5159845">]</span>&nbsp;<span class="op" id="5159847">=</span>&nbsp;<span class="builtintype" id="5159849">uint8</span><span class="op" id="5159854">(</span><span class="ident" id="5159855"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159857">.</span><span class="ident" id="5159858"><a href="/gostd/image/color/color.go.html#5185967">A</a></span>&nbsp;<span class="op" id="5159860">&gt;&gt;</span>&nbsp;<span class="num" id="5159863">8</span><span class="op" id="5159864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159867"><a href="/gostd/image/image.go.html#5159503">p</a></span><span class="op" id="5159868">.</span><span class="ident" id="5159869"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5159872">[</span><span class="ident" id="5159873"><a href="/gostd/image/image.go.html#5159590">i</a></span><span class="op" id="5159874">+</span><span class="num" id="5159875">7</span><span class="op" id="5159876">]</span>&nbsp;<span class="op" id="5159878">=</span>&nbsp;<span class="builtintype" id="5159880">uint8</span><span class="op" id="5159885">(</span><span class="ident" id="5159886"><a href="/gostd/image/image.go.html#5159614">c1</a></span><span class="op" id="5159888">.</span><span class="ident" id="5159889"><a href="/gostd/image/color/color.go.html#5185967">A</a></span><span class="op" id="5159890">)</span><br>
<span class="lineno">210</span><span class="op" id="5159892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5159895">func</span>&nbsp;<span class="op" id="5159900">(</span><span class="ident" id="5159901">p</span>&nbsp;<span class="op" id="5159903">*</span><span class="ident" id="5159904"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5159910">)</span>&nbsp;<span class="ident" id="5159912">SetRGBA64</span><span class="op" id="5159921">(</span><span class="ident" id="5159922">x</span><span class="op" id="5159923">,</span>&nbsp;<span class="ident" id="5159925">y</span>&nbsp;<span class="builtintype" id="5159927">int</span><span class="op" id="5159930">,</span>&nbsp;<span class="ident" id="5159932">c</span>&nbsp;<span class="ident" id="5159934"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5159939">.</span><span class="ident" id="5159940"><a href="/gostd/image/color/color.go.html#5185941">RGBA64</a></span><span class="op" id="5159946">)</span>&nbsp;<span class="op" id="5159948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5159951">if</span>&nbsp;<span class="op" id="5159954">!</span><span class="op" id="5159955">(</span><span class="ident" id="5159956"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5159961">{</span><span class="ident" id="5159962"><a href="/gostd/image/image.go.html#5159922">x</a></span><span class="op" id="5159963">,</span>&nbsp;<span class="ident" id="5159965"><a href="/gostd/image/image.go.html#5159925">y</a></span><span class="op" id="5159966">}</span><span class="op" id="5159967">.</span><span class="ident" id="5159968"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5159970">(</span><span class="ident" id="5159971"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5159972">.</span><span class="ident" id="5159973"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5159977">)</span><span class="op" id="5159978">)</span>&nbsp;<span class="op" id="5159980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5159984">return</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5159992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5159995">i</span>&nbsp;<span class="op" id="5159997">:=</span>&nbsp;<span class="ident" id="5160000"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160001">.</span><span class="ident" id="5160002"><a href="/gostd/image/image.go.html#5159413">PixOffset</a></span><span class="op" id="5160011">(</span><span class="ident" id="5160012"><a href="/gostd/image/image.go.html#5159922">x</a></span><span class="op" id="5160013">,</span>&nbsp;<span class="ident" id="5160015"><a href="/gostd/image/image.go.html#5159925">y</a></span><span class="op" id="5160016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160019"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160020">.</span><span class="ident" id="5160021"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160024">[</span><span class="ident" id="5160025"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160026">+</span><span class="num" id="5160027">0</span><span class="op" id="5160028">]</span>&nbsp;<span class="op" id="5160030">=</span>&nbsp;<span class="builtintype" id="5160032">uint8</span><span class="op" id="5160037">(</span><span class="ident" id="5160038"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160039">.</span><span class="ident" id="5160040"><a href="/gostd/image/color/color.go.html#5185958">R</a></span>&nbsp;<span class="op" id="5160042">&gt;&gt;</span>&nbsp;<span class="num" id="5160045">8</span><span class="op" id="5160046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160049"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160050">.</span><span class="ident" id="5160051"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160054">[</span><span class="ident" id="5160055"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160056">+</span><span class="num" id="5160057">1</span><span class="op" id="5160058">]</span>&nbsp;<span class="op" id="5160060">=</span>&nbsp;<span class="builtintype" id="5160062">uint8</span><span class="op" id="5160067">(</span><span class="ident" id="5160068"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160069">.</span><span class="ident" id="5160070"><a href="/gostd/image/color/color.go.html#5185958">R</a></span><span class="op" id="5160071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160074"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160075">.</span><span class="ident" id="5160076"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160079">[</span><span class="ident" id="5160080"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160081">+</span><span class="num" id="5160082">2</span><span class="op" id="5160083">]</span>&nbsp;<span class="op" id="5160085">=</span>&nbsp;<span class="builtintype" id="5160087">uint8</span><span class="op" id="5160092">(</span><span class="ident" id="5160093"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160094">.</span><span class="ident" id="5160095"><a href="/gostd/image/color/color.go.html#5185961">G</a></span>&nbsp;<span class="op" id="5160097">&gt;&gt;</span>&nbsp;<span class="num" id="5160100">8</span><span class="op" id="5160101">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160104"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160105">.</span><span class="ident" id="5160106"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160109">[</span><span class="ident" id="5160110"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160111">+</span><span class="num" id="5160112">3</span><span class="op" id="5160113">]</span>&nbsp;<span class="op" id="5160115">=</span>&nbsp;<span class="builtintype" id="5160117">uint8</span><span class="op" id="5160122">(</span><span class="ident" id="5160123"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160124">.</span><span class="ident" id="5160125"><a href="/gostd/image/color/color.go.html#5185961">G</a></span><span class="op" id="5160126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160129"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160130">.</span><span class="ident" id="5160131"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160134">[</span><span class="ident" id="5160135"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160136">+</span><span class="num" id="5160137">4</span><span class="op" id="5160138">]</span>&nbsp;<span class="op" id="5160140">=</span>&nbsp;<span class="builtintype" id="5160142">uint8</span><span class="op" id="5160147">(</span><span class="ident" id="5160148"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160149">.</span><span class="ident" id="5160150"><a href="/gostd/image/color/color.go.html#5185964">B</a></span>&nbsp;<span class="op" id="5160152">&gt;&gt;</span>&nbsp;<span class="num" id="5160155">8</span><span class="op" id="5160156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160159"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160160">.</span><span class="ident" id="5160161"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160164">[</span><span class="ident" id="5160165"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160166">+</span><span class="num" id="5160167">5</span><span class="op" id="5160168">]</span>&nbsp;<span class="op" id="5160170">=</span>&nbsp;<span class="builtintype" id="5160172">uint8</span><span class="op" id="5160177">(</span><span class="ident" id="5160178"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160179">.</span><span class="ident" id="5160180"><a href="/gostd/image/color/color.go.html#5185964">B</a></span><span class="op" id="5160181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160184"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160185">.</span><span class="ident" id="5160186"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160189">[</span><span class="ident" id="5160190"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160191">+</span><span class="num" id="5160192">6</span><span class="op" id="5160193">]</span>&nbsp;<span class="op" id="5160195">=</span>&nbsp;<span class="builtintype" id="5160197">uint8</span><span class="op" id="5160202">(</span><span class="ident" id="5160203"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160204">.</span><span class="ident" id="5160205"><a href="/gostd/image/color/color.go.html#5185967">A</a></span>&nbsp;<span class="op" id="5160207">&gt;&gt;</span>&nbsp;<span class="num" id="5160210">8</span><span class="op" id="5160211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160214"><a href="/gostd/image/image.go.html#5159901">p</a></span><span class="op" id="5160215">.</span><span class="ident" id="5160216"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160219">[</span><span class="ident" id="5160220"><a href="/gostd/image/image.go.html#5159995">i</a></span><span class="op" id="5160221">+</span><span class="num" id="5160222">7</span><span class="op" id="5160223">]</span>&nbsp;<span class="op" id="5160225">=</span>&nbsp;<span class="builtintype" id="5160227">uint8</span><span class="op" id="5160232">(</span><span class="ident" id="5160233"><a href="/gostd/image/image.go.html#5159932">c</a></span><span class="op" id="5160234">.</span><span class="ident" id="5160235"><a href="/gostd/image/color/color.go.html#5185967">A</a></span><span class="op" id="5160236">)</span><br>
<span class="lineno">225</span><span class="op" id="5160238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5160241">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5160318">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5160390">func</span>&nbsp;<span class="op" id="5160395">(</span><span class="ident" id="5160396">p</span>&nbsp;<span class="op" id="5160398">*</span><span class="ident" id="5160399"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5160405">)</span>&nbsp;<span class="ident" id="5160407">SubImage</span><span class="op" id="5160415">(</span><span class="ident" id="5160416">r</span>&nbsp;<span class="ident" id="5160418"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5160427">)</span>&nbsp;<span class="ident" id="5160429"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5160435">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160438"><a href="/gostd/image/image.go.html#5160416">r</a></span>&nbsp;<span class="op" id="5160440">=</span>&nbsp;<span class="ident" id="5160442"><a href="/gostd/image/image.go.html#5160416">r</a></span><span class="op" id="5160443">.</span><span class="ident" id="5160444"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5160453">(</span><span class="ident" id="5160454"><a href="/gostd/image/image.go.html#5160396">p</a></span><span class="op" id="5160455">.</span><span class="ident" id="5160456"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5160460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5160463">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5160544">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5160626">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5160676">if</span>&nbsp;<span class="ident" id="5160679"><a href="/gostd/image/image.go.html#5160416">r</a></span><span class="op" id="5160680">.</span><span class="ident" id="5160681"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5160686">(</span><span class="op" id="5160687">)</span>&nbsp;<span class="op" id="5160689">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5160693">return</span>&nbsp;<span class="op" id="5160700">&amp;</span><span class="ident" id="5160701"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5160707">{</span><span class="op" id="5160708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5160711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160714">i</span>&nbsp;<span class="op" id="5160716">:=</span>&nbsp;<span class="ident" id="5160719"><a href="/gostd/image/image.go.html#5160396">p</a></span><span class="op" id="5160720">.</span><span class="ident" id="5160721"><a href="/gostd/image/image.go.html#5159413">PixOffset</a></span><span class="op" id="5160730">(</span><span class="ident" id="5160731"><a href="/gostd/image/image.go.html#5160416">r</a></span><span class="op" id="5160732">.</span><span class="ident" id="5160733"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5160736">.</span><span class="ident" id="5160737"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5160738">,</span>&nbsp;<span class="ident" id="5160740"><a href="/gostd/image/image.go.html#5160416">r</a></span><span class="op" id="5160741">.</span><span class="ident" id="5160742"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5160745">.</span><span class="ident" id="5160746"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5160747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5160750">return</span>&nbsp;<span class="op" id="5160757">&amp;</span><span class="ident" id="5160758"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5160764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160768"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160771">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160776"><a href="/gostd/image/image.go.html#5160396">p</a></span><span class="op" id="5160777">.</span><span class="ident" id="5160778"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5160781">[</span><span class="ident" id="5160782"><a href="/gostd/image/image.go.html#5160714">i</a></span><span class="op" id="5160783">:</span><span class="op" id="5160784">]</span><span class="op" id="5160785">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160789"><a href="/gostd/image/image.go.html#5158686">Stride</a></span><span class="op" id="5160795">:</span>&nbsp;<span class="ident" id="5160797"><a href="/gostd/image/image.go.html#5160396">p</a></span><span class="op" id="5160798">.</span><span class="ident" id="5160799"><a href="/gostd/image/image.go.html#5158686">Stride</a></span><span class="op" id="5160805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160809"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5160813">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5160817"><a href="/gostd/image/image.go.html#5160416">r</a></span><span class="op" id="5160818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5160821">}</span><br>
<span class="lineno"></span><span class="op" id="5160823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="5160826">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5160899">func</span>&nbsp;<span class="op" id="5160904">(</span><span class="ident" id="5160905">p</span>&nbsp;<span class="op" id="5160907">*</span><span class="ident" id="5160908"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5160914">)</span>&nbsp;<span class="ident" id="5160916">Opaque</span><span class="op" id="5160922">(</span><span class="op" id="5160923">)</span>&nbsp;<span class="builtintype" id="5160925">bool</span>&nbsp;<span class="op" id="5160930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5160933">if</span>&nbsp;<span class="ident" id="5160936"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5160937">.</span><span class="ident" id="5160938"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5160942">.</span><span class="ident" id="5160943"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5160948">(</span><span class="op" id="5160949">)</span>&nbsp;<span class="op" id="5160951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5160955">return</span>&nbsp;<span class="builtintype" id="5160962">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5160968">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5160971">i0</span><span class="op" id="5160973">,</span>&nbsp;<span class="ident" id="5160975">i1</span>&nbsp;<span class="op" id="5160978">:=</span>&nbsp;<span class="num" id="5160981">6</span><span class="op" id="5160982">,</span>&nbsp;<span class="ident" id="5160984"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5160985">.</span><span class="ident" id="5160986"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5160990">.</span><span class="ident" id="5160991"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5160993">(</span><span class="op" id="5160994">)</span><span class="op" id="5160995">*</span><span class="num" id="5160996">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5160999">for</span>&nbsp;<span class="ident" id="5161003">y</span>&nbsp;<span class="op" id="5161005">:=</span>&nbsp;<span class="ident" id="5161008"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5161009">.</span><span class="ident" id="5161010"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5161014">.</span><span class="ident" id="5161015"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5161018">.</span><span class="ident" id="5161019"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5161020">;</span>&nbsp;<span class="ident" id="5161022"><a href="/gostd/image/image.go.html#5161003">y</a></span>&nbsp;<span class="op" id="5161024">&lt;</span>&nbsp;<span class="ident" id="5161026"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5161027">.</span><span class="ident" id="5161028"><a href="/gostd/image/image.go.html#5158730">Rect</a></span><span class="op" id="5161032">.</span><span class="ident" id="5161033"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="5161036">.</span><span class="ident" id="5161037"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5161038">;</span>&nbsp;<span class="ident" id="5161040"><a href="/gostd/image/image.go.html#5161003">y</a></span><span class="op" id="5161041">++</span>&nbsp;<span class="op" id="5161044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5161048">for</span>&nbsp;<span class="ident" id="5161052">i</span>&nbsp;<span class="op" id="5161054">:=</span>&nbsp;<span class="ident" id="5161057"><a href="/gostd/image/image.go.html#5160971">i0</a></span><span class="op" id="5161059">;</span>&nbsp;<span class="ident" id="5161061"><a href="/gostd/image/image.go.html#5161052">i</a></span>&nbsp;<span class="op" id="5161063">&lt;</span>&nbsp;<span class="ident" id="5161065"><a href="/gostd/image/image.go.html#5160975">i1</a></span><span class="op" id="5161067">;</span>&nbsp;<span class="ident" id="5161069"><a href="/gostd/image/image.go.html#5161052">i</a></span>&nbsp;<span class="op" id="5161071">+=</span>&nbsp;<span class="num" id="5161074">8</span>&nbsp;<span class="op" id="5161076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5161081">if</span>&nbsp;<span class="ident" id="5161084"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5161085">.</span><span class="ident" id="5161086"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5161089">[</span><span class="ident" id="5161090"><a href="/gostd/image/image.go.html#5161052">i</a></span><span class="op" id="5161091">+</span><span class="num" id="5161092">0</span><span class="op" id="5161093">]</span>&nbsp;<span class="op" id="5161095">!=</span>&nbsp;<span class="num" id="5161098">0xff</span>&nbsp;<span class="op" id="5161103">||</span>&nbsp;<span class="ident" id="5161106"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5161107">.</span><span class="ident" id="5161108"><a href="/gostd/image/image.go.html#5158597">Pix</a></span><span class="op" id="5161111">[</span><span class="ident" id="5161112"><a href="/gostd/image/image.go.html#5161052">i</a></span><span class="op" id="5161113">+</span><span class="num" id="5161114">1</span><span class="op" id="5161115">]</span>&nbsp;<span class="op" id="5161117">!=</span>&nbsp;<span class="num" id="5161120">0xff</span>&nbsp;<span class="op" id="5161125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5161131">return</span>&nbsp;<span class="builtintype" id="5161138">false</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5161147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5161151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5161155"><a href="/gostd/image/image.go.html#5160971">i0</a></span>&nbsp;<span class="op" id="5161158">+=</span>&nbsp;<span class="ident" id="5161161"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5161162">.</span><span class="ident" id="5161163"><a href="/gostd/image/image.go.html#5158686">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5161172"><a href="/gostd/image/image.go.html#5160975">i1</a></span>&nbsp;<span class="op" id="5161175">+=</span>&nbsp;<span class="ident" id="5161178"><a href="/gostd/image/image.go.html#5160905">p</a></span><span class="op" id="5161179">.</span><span class="ident" id="5161180"><a href="/gostd/image/image.go.html#5158686">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5161188">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5161191">return</span>&nbsp;<span class="builtintype" id="5161198">true</span><br>
<span class="lineno"></span><span class="op" id="5161203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5161206">//&nbsp;NewRGBA64&nbsp;returns&nbsp;a&nbsp;new&nbsp;RGBA64&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="5161263">func</span>&nbsp;<span class="ident" id="5161268">NewRGBA64</span><span class="op" id="5161277">(</span><span class="ident" id="5161278">r</span>&nbsp;<span class="ident" id="5161280"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5161289">)</span>&nbsp;<span class="op" id="5161291">*</span><span class="ident" id="5161292"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span>&nbsp;<span class="op" id="5161299">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5161302">w</span><span class="op" id="5161303">,</span>&nbsp;<span class="ident" id="5161305">h</span>&nbsp;<span class="op" id="5161307">:=</span>&nbsp;<span class="ident" id="5161310"><a href="/gostd/image/image.go.html#5161278">r</a></span><span class="op" id="5161311">.</span><span class="ident" id="5161312"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5161314">(</span><span class="op" id="5161315">)</span><span class="op" id="5161316">,</span>&nbsp;<span class="ident" id="5161318"><a href="/gostd/image/image.go.html#5161278">r</a></span><span class="op" id="5161319">.</span><span class="ident" id="5161320"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5161322">(</span><span class="op" id="5161323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5161326">pix</span>&nbsp;<span class="op" id="5161330">:=</span>&nbsp;<span class="builtinfunc" id="5161333">make</span><span class="op" id="5161337">(</span><span class="op" id="5161338">[</span><span class="op" id="5161339">]</span><span class="builtintype" id="5161340">uint8</span><span class="op" id="5161345">,</span>&nbsp;<span class="num" id="5161347">8</span><span class="op" id="5161348">*</span><span class="ident" id="5161349"><a href="/gostd/image/image.go.html#5161302">w</a></span><span class="op" id="5161350">*</span><span class="ident" id="5161351"><a href="/gostd/image/image.go.html#5161305">h</a></span><span class="op" id="5161352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5161355">return</span>&nbsp;<span class="op" id="5161362">&amp;</span><span class="ident" id="5161363"><a href="/gostd/image/image.go.html#5158422">RGBA64</a></span><span class="op" id="5161369">{</span><span class="ident" id="5161370"><a href="/gostd/image/image.go.html#5161326">pix</a></span><span class="op" id="5161373">,</span>&nbsp;<span class="num" id="5161375">8</span>&nbsp;<span class="op" id="5161377">*</span>&nbsp;<span class="ident" id="5161379"><a href="/gostd/image/image.go.html#5161302">w</a></span><span class="op" id="5161380">,</span>&nbsp;<span class="ident" id="5161382"><a href="/gostd/image/image.go.html#5161278">r</a></span><span class="op" id="5161383">}</span><br>
<span class="lineno"></span><span class="op" id="5161385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="comment" id="5161388">//&nbsp;NRGBA&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.NRGBA&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5161463">type</span>&nbsp;<span class="ident" id="5161468">NRGBA</span>&nbsp;<span class="keyword" id="5161474">struct</span>&nbsp;<span class="op" id="5161481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5161484">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;in&nbsp;R,&nbsp;G,&nbsp;B,&nbsp;A&nbsp;order.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5161552">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*4].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5161620">Pix</span>&nbsp;<span class="op" id="5161624">[</span><span class="op" id="5161625">]</span><span class="builtintype" id="5161626">uint8</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5161633">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5161709">Stride</span>&nbsp;<span class="builtintype" id="5161716">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5161721">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5161753">Rect</span>&nbsp;<span class="ident" id="5161758"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span><span class="op" id="5161768">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="5161771">func</span>&nbsp;<span class="op" id="5161776">(</span><span class="ident" id="5161777">p</span>&nbsp;<span class="op" id="5161779">*</span><span class="ident" id="5161780"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5161785">)</span>&nbsp;<span class="ident" id="5161787">ColorModel</span><span class="op" id="5161797">(</span><span class="op" id="5161798">)</span>&nbsp;<span class="ident" id="5161800"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5161805">.</span><span class="ident" id="5161806"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5161812">{</span>&nbsp;<span class="keyword" id="5161814">return</span>&nbsp;<span class="ident" id="5161821"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5161826">.</span><span class="ident" id="5161827"><a href="/gostd/image/color/color.go.html#5188275">NRGBAModel</a></span>&nbsp;<span class="op" id="5161838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5161841">func</span>&nbsp;<span class="op" id="5161846">(</span><span class="ident" id="5161847">p</span>&nbsp;<span class="op" id="5161849">*</span><span class="ident" id="5161850"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5161855">)</span>&nbsp;<span class="ident" id="5161857">Bounds</span><span class="op" id="5161863">(</span><span class="op" id="5161864">)</span>&nbsp;<span class="ident" id="5161866"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5161876">{</span>&nbsp;<span class="keyword" id="5161878">return</span>&nbsp;<span class="ident" id="5161885"><a href="/gostd/image/image.go.html#5161847">p</a></span><span class="op" id="5161886">.</span><span class="ident" id="5161887"><a href="/gostd/image/image.go.html#5161753">Rect</a></span>&nbsp;<span class="op" id="5161892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="5161895">func</span>&nbsp;<span class="op" id="5161900">(</span><span class="ident" id="5161901">p</span>&nbsp;<span class="op" id="5161903">*</span><span class="ident" id="5161904"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5161909">)</span>&nbsp;<span class="ident" id="5161911">At</span><span class="op" id="5161913">(</span><span class="ident" id="5161914">x</span><span class="op" id="5161915">,</span>&nbsp;<span class="ident" id="5161917">y</span>&nbsp;<span class="builtintype" id="5161919">int</span><span class="op" id="5161922">)</span>&nbsp;<span class="ident" id="5161924"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5161929">.</span><span class="ident" id="5161930"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5161936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5161939">return</span>&nbsp;<span class="ident" id="5161946"><a href="/gostd/image/image.go.html#5161901">p</a></span><span class="op" id="5161947">.</span><span class="ident" id="5161948"><a href="/gostd/image/image.go.html#5161981">NRGBAAt</a></span><span class="op" id="5161955">(</span><span class="ident" id="5161956"><a href="/gostd/image/image.go.html#5161914">x</a></span><span class="op" id="5161957">,</span>&nbsp;<span class="ident" id="5161959"><a href="/gostd/image/image.go.html#5161917">y</a></span><span class="op" id="5161960">)</span><br>
<span class="lineno"></span><span class="op" id="5161962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5161965">func</span>&nbsp;<span class="op" id="5161970">(</span><span class="ident" id="5161971">p</span>&nbsp;<span class="op" id="5161973">*</span><span class="ident" id="5161974"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5161979">)</span>&nbsp;<span class="ident" id="5161981">NRGBAAt</span><span class="op" id="5161988">(</span><span class="ident" id="5161989">x</span><span class="op" id="5161990">,</span>&nbsp;<span class="ident" id="5161992">y</span>&nbsp;<span class="builtintype" id="5161994">int</span><span class="op" id="5161997">)</span>&nbsp;<span class="ident" id="5161999"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5162004">.</span><span class="ident" id="5162005"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span>&nbsp;<span class="op" id="5162011">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162014">if</span>&nbsp;<span class="op" id="5162017">!</span><span class="op" id="5162018">(</span><span class="ident" id="5162019"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5162024">{</span><span class="ident" id="5162025"><a href="/gostd/image/image.go.html#5161989">x</a></span><span class="op" id="5162026">,</span>&nbsp;<span class="ident" id="5162028"><a href="/gostd/image/image.go.html#5161992">y</a></span><span class="op" id="5162029">}</span><span class="op" id="5162030">.</span><span class="ident" id="5162031"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5162033">(</span><span class="ident" id="5162034"><a href="/gostd/image/image.go.html#5161971">p</a></span><span class="op" id="5162035">.</span><span class="ident" id="5162036"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5162040">)</span><span class="op" id="5162041">)</span>&nbsp;<span class="op" id="5162043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162047">return</span>&nbsp;<span class="ident" id="5162054"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5162059">.</span><span class="ident" id="5162060"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5162065">{</span><span class="op" id="5162066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5162069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162072">i</span>&nbsp;<span class="op" id="5162074">:=</span>&nbsp;<span class="ident" id="5162077"><a href="/gostd/image/image.go.html#5161971">p</a></span><span class="op" id="5162078">.</span><span class="ident" id="5162079"><a href="/gostd/image/image.go.html#5162285">PixOffset</a></span><span class="op" id="5162088">(</span><span class="ident" id="5162089"><a href="/gostd/image/image.go.html#5161989">x</a></span><span class="op" id="5162090">,</span>&nbsp;<span class="ident" id="5162092"><a href="/gostd/image/image.go.html#5161992">y</a></span><span class="op" id="5162093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162096">return</span>&nbsp;<span class="ident" id="5162103"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5162108">.</span><span class="ident" id="5162109"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5162114">{</span><span class="ident" id="5162115"><a href="/gostd/image/image.go.html#5161971">p</a></span><span class="op" id="5162116">.</span><span class="ident" id="5162117"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162120">[</span><span class="ident" id="5162121"><a href="/gostd/image/image.go.html#5162072">i</a></span><span class="op" id="5162122">+</span><span class="num" id="5162123">0</span><span class="op" id="5162124">]</span><span class="op" id="5162125">,</span>&nbsp;<span class="ident" id="5162127"><a href="/gostd/image/image.go.html#5161971">p</a></span><span class="op" id="5162128">.</span><span class="ident" id="5162129"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162132">[</span><span class="ident" id="5162133"><a href="/gostd/image/image.go.html#5162072">i</a></span><span class="op" id="5162134">+</span><span class="num" id="5162135">1</span><span class="op" id="5162136">]</span><span class="op" id="5162137">,</span>&nbsp;<span class="ident" id="5162139"><a href="/gostd/image/image.go.html#5161971">p</a></span><span class="op" id="5162140">.</span><span class="ident" id="5162141"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162144">[</span><span class="ident" id="5162145"><a href="/gostd/image/image.go.html#5162072">i</a></span><span class="op" id="5162146">+</span><span class="num" id="5162147">2</span><span class="op" id="5162148">]</span><span class="op" id="5162149">,</span>&nbsp;<span class="ident" id="5162151"><a href="/gostd/image/image.go.html#5161971">p</a></span><span class="op" id="5162152">.</span><span class="ident" id="5162153"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162156">[</span><span class="ident" id="5162157"><a href="/gostd/image/image.go.html#5162072">i</a></span><span class="op" id="5162158">+</span><span class="num" id="5162159">3</span><span class="op" id="5162160">]</span><span class="op" id="5162161">}</span><br>
<span class="lineno">295</span><span class="op" id="5162163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5162166">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5162245">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5162269">func</span>&nbsp;<span class="op" id="5162274">(</span><span class="ident" id="5162275">p</span>&nbsp;<span class="op" id="5162277">*</span><span class="ident" id="5162278"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5162283">)</span>&nbsp;<span class="ident" id="5162285">PixOffset</span><span class="op" id="5162294">(</span><span class="ident" id="5162295">x</span><span class="op" id="5162296">,</span>&nbsp;<span class="ident" id="5162298">y</span>&nbsp;<span class="builtintype" id="5162300">int</span><span class="op" id="5162303">)</span>&nbsp;<span class="builtintype" id="5162305">int</span>&nbsp;<span class="op" id="5162309">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162312">return</span>&nbsp;<span class="op" id="5162319">(</span><span class="ident" id="5162320"><a href="/gostd/image/image.go.html#5162298">y</a></span><span class="op" id="5162321">-</span><span class="ident" id="5162322"><a href="/gostd/image/image.go.html#5162275">p</a></span><span class="op" id="5162323">.</span><span class="ident" id="5162324"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5162328">.</span><span class="ident" id="5162329"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5162332">.</span><span class="ident" id="5162333"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5162334">)</span><span class="op" id="5162335">*</span><span class="ident" id="5162336"><a href="/gostd/image/image.go.html#5162275">p</a></span><span class="op" id="5162337">.</span><span class="ident" id="5162338"><a href="/gostd/image/image.go.html#5161709">Stride</a></span>&nbsp;<span class="op" id="5162345">+</span>&nbsp;<span class="op" id="5162347">(</span><span class="ident" id="5162348"><a href="/gostd/image/image.go.html#5162295">x</a></span><span class="op" id="5162349">-</span><span class="ident" id="5162350"><a href="/gostd/image/image.go.html#5162275">p</a></span><span class="op" id="5162351">.</span><span class="ident" id="5162352"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5162356">.</span><span class="ident" id="5162357"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5162360">.</span><span class="ident" id="5162361"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5162362">)</span><span class="op" id="5162363">*</span><span class="num" id="5162364">4</span><br>
<span class="lineno"></span><span class="op" id="5162366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5162369">func</span>&nbsp;<span class="op" id="5162374">(</span><span class="ident" id="5162375">p</span>&nbsp;<span class="op" id="5162377">*</span><span class="ident" id="5162378"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5162383">)</span>&nbsp;<span class="ident" id="5162385">Set</span><span class="op" id="5162388">(</span><span class="ident" id="5162389">x</span><span class="op" id="5162390">,</span>&nbsp;<span class="ident" id="5162392">y</span>&nbsp;<span class="builtintype" id="5162394">int</span><span class="op" id="5162397">,</span>&nbsp;<span class="ident" id="5162399">c</span>&nbsp;<span class="ident" id="5162401"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5162406">.</span><span class="ident" id="5162407"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5162412">)</span>&nbsp;<span class="op" id="5162414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162417">if</span>&nbsp;<span class="op" id="5162420">!</span><span class="op" id="5162421">(</span><span class="ident" id="5162422"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5162427">{</span><span class="ident" id="5162428"><a href="/gostd/image/image.go.html#5162389">x</a></span><span class="op" id="5162429">,</span>&nbsp;<span class="ident" id="5162431"><a href="/gostd/image/image.go.html#5162392">y</a></span><span class="op" id="5162432">}</span><span class="op" id="5162433">.</span><span class="ident" id="5162434"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5162436">(</span><span class="ident" id="5162437"><a href="/gostd/image/image.go.html#5162375">p</a></span><span class="op" id="5162438">.</span><span class="ident" id="5162439"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5162443">)</span><span class="op" id="5162444">)</span>&nbsp;<span class="op" id="5162446">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162450">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5162458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162461">i</span>&nbsp;<span class="op" id="5162463">:=</span>&nbsp;<span class="ident" id="5162466"><a href="/gostd/image/image.go.html#5162375">p</a></span><span class="op" id="5162467">.</span><span class="ident" id="5162468"><a href="/gostd/image/image.go.html#5162285">PixOffset</a></span><span class="op" id="5162477">(</span><span class="ident" id="5162478"><a href="/gostd/image/image.go.html#5162389">x</a></span><span class="op" id="5162479">,</span>&nbsp;<span class="ident" id="5162481"><a href="/gostd/image/image.go.html#5162392">y</a></span><span class="op" id="5162482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162485">c1</span>&nbsp;<span class="op" id="5162488">:=</span>&nbsp;<span class="ident" id="5162491"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5162496">.</span><span class="ident" id="5162497"><a href="/gostd/image/color/color.go.html#5188275">NRGBAModel</a></span><span class="op" id="5162507">.</span><span class="ident" id="5162508"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5162515">(</span><span class="ident" id="5162516"><a href="/gostd/image/image.go.html#5162399">c</a></span><span class="op" id="5162517">)</span><span class="op" id="5162518">.</span><span class="op" id="5162519">(</span><span class="ident" id="5162520"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5162525">.</span><span class="ident" id="5162526"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5162531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162534"><a href="/gostd/image/image.go.html#5162375">p</a></span><span class="op" id="5162535">.</span><span class="ident" id="5162536"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162539">[</span><span class="ident" id="5162540"><a href="/gostd/image/image.go.html#5162461">i</a></span><span class="op" id="5162541">+</span><span class="num" id="5162542">0</span><span class="op" id="5162543">]</span>&nbsp;<span class="op" id="5162545">=</span>&nbsp;<span class="ident" id="5162547"><a href="/gostd/image/image.go.html#5162485">c1</a></span><span class="op" id="5162549">.</span><span class="ident" id="5162550"><a href="/gostd/image/color/color.go.html#5186167">R</a></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162553"><a href="/gostd/image/image.go.html#5162375">p</a></span><span class="op" id="5162554">.</span><span class="ident" id="5162555"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162558">[</span><span class="ident" id="5162559"><a href="/gostd/image/image.go.html#5162461">i</a></span><span class="op" id="5162560">+</span><span class="num" id="5162561">1</span><span class="op" id="5162562">]</span>&nbsp;<span class="op" id="5162564">=</span>&nbsp;<span class="ident" id="5162566"><a href="/gostd/image/image.go.html#5162485">c1</a></span><span class="op" id="5162568">.</span><span class="ident" id="5162569"><a href="/gostd/image/color/color.go.html#5186170">G</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162572"><a href="/gostd/image/image.go.html#5162375">p</a></span><span class="op" id="5162573">.</span><span class="ident" id="5162574"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162577">[</span><span class="ident" id="5162578"><a href="/gostd/image/image.go.html#5162461">i</a></span><span class="op" id="5162579">+</span><span class="num" id="5162580">2</span><span class="op" id="5162581">]</span>&nbsp;<span class="op" id="5162583">=</span>&nbsp;<span class="ident" id="5162585"><a href="/gostd/image/image.go.html#5162485">c1</a></span><span class="op" id="5162587">.</span><span class="ident" id="5162588"><a href="/gostd/image/color/color.go.html#5186173">B</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162591"><a href="/gostd/image/image.go.html#5162375">p</a></span><span class="op" id="5162592">.</span><span class="ident" id="5162593"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162596">[</span><span class="ident" id="5162597"><a href="/gostd/image/image.go.html#5162461">i</a></span><span class="op" id="5162598">+</span><span class="num" id="5162599">3</span><span class="op" id="5162600">]</span>&nbsp;<span class="op" id="5162602">=</span>&nbsp;<span class="ident" id="5162604"><a href="/gostd/image/image.go.html#5162485">c1</a></span><span class="op" id="5162606">.</span><span class="ident" id="5162607"><a href="/gostd/image/color/color.go.html#5186176">A</a></span><br>
<span class="lineno"></span><span class="op" id="5162609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="5162612">func</span>&nbsp;<span class="op" id="5162617">(</span><span class="ident" id="5162618">p</span>&nbsp;<span class="op" id="5162620">*</span><span class="ident" id="5162621"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5162626">)</span>&nbsp;<span class="ident" id="5162628">SetNRGBA</span><span class="op" id="5162636">(</span><span class="ident" id="5162637">x</span><span class="op" id="5162638">,</span>&nbsp;<span class="ident" id="5162640">y</span>&nbsp;<span class="builtintype" id="5162642">int</span><span class="op" id="5162645">,</span>&nbsp;<span class="ident" id="5162647">c</span>&nbsp;<span class="ident" id="5162649"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5162654">.</span><span class="ident" id="5162655"><a href="/gostd/image/color/color.go.html#5186151">NRGBA</a></span><span class="op" id="5162660">)</span>&nbsp;<span class="op" id="5162662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162665">if</span>&nbsp;<span class="op" id="5162668">!</span><span class="op" id="5162669">(</span><span class="ident" id="5162670"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5162675">{</span><span class="ident" id="5162676"><a href="/gostd/image/image.go.html#5162637">x</a></span><span class="op" id="5162677">,</span>&nbsp;<span class="ident" id="5162679"><a href="/gostd/image/image.go.html#5162640">y</a></span><span class="op" id="5162680">}</span><span class="op" id="5162681">.</span><span class="ident" id="5162682"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5162684">(</span><span class="ident" id="5162685"><a href="/gostd/image/image.go.html#5162618">p</a></span><span class="op" id="5162686">.</span><span class="ident" id="5162687"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5162691">)</span><span class="op" id="5162692">)</span>&nbsp;<span class="op" id="5162694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5162698">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5162706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162709">i</span>&nbsp;<span class="op" id="5162711">:=</span>&nbsp;<span class="ident" id="5162714"><a href="/gostd/image/image.go.html#5162618">p</a></span><span class="op" id="5162715">.</span><span class="ident" id="5162716"><a href="/gostd/image/image.go.html#5162285">PixOffset</a></span><span class="op" id="5162725">(</span><span class="ident" id="5162726"><a href="/gostd/image/image.go.html#5162637">x</a></span><span class="op" id="5162727">,</span>&nbsp;<span class="ident" id="5162729"><a href="/gostd/image/image.go.html#5162640">y</a></span><span class="op" id="5162730">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162733"><a href="/gostd/image/image.go.html#5162618">p</a></span><span class="op" id="5162734">.</span><span class="ident" id="5162735"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162738">[</span><span class="ident" id="5162739"><a href="/gostd/image/image.go.html#5162709">i</a></span><span class="op" id="5162740">+</span><span class="num" id="5162741">0</span><span class="op" id="5162742">]</span>&nbsp;<span class="op" id="5162744">=</span>&nbsp;<span class="ident" id="5162746"><a href="/gostd/image/image.go.html#5162647">c</a></span><span class="op" id="5162747">.</span><span class="ident" id="5162748"><a href="/gostd/image/color/color.go.html#5186167">R</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162751"><a href="/gostd/image/image.go.html#5162618">p</a></span><span class="op" id="5162752">.</span><span class="ident" id="5162753"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162756">[</span><span class="ident" id="5162757"><a href="/gostd/image/image.go.html#5162709">i</a></span><span class="op" id="5162758">+</span><span class="num" id="5162759">1</span><span class="op" id="5162760">]</span>&nbsp;<span class="op" id="5162762">=</span>&nbsp;<span class="ident" id="5162764"><a href="/gostd/image/image.go.html#5162647">c</a></span><span class="op" id="5162765">.</span><span class="ident" id="5162766"><a href="/gostd/image/color/color.go.html#5186170">G</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162769"><a href="/gostd/image/image.go.html#5162618">p</a></span><span class="op" id="5162770">.</span><span class="ident" id="5162771"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162774">[</span><span class="ident" id="5162775"><a href="/gostd/image/image.go.html#5162709">i</a></span><span class="op" id="5162776">+</span><span class="num" id="5162777">2</span><span class="op" id="5162778">]</span>&nbsp;<span class="op" id="5162780">=</span>&nbsp;<span class="ident" id="5162782"><a href="/gostd/image/image.go.html#5162647">c</a></span><span class="op" id="5162783">.</span><span class="ident" id="5162784"><a href="/gostd/image/color/color.go.html#5186173">B</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5162787"><a href="/gostd/image/image.go.html#5162618">p</a></span><span class="op" id="5162788">.</span><span class="ident" id="5162789"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5162792">[</span><span class="ident" id="5162793"><a href="/gostd/image/image.go.html#5162709">i</a></span><span class="op" id="5162794">+</span><span class="num" id="5162795">3</span><span class="op" id="5162796">]</span>&nbsp;<span class="op" id="5162798">=</span>&nbsp;<span class="ident" id="5162800"><a href="/gostd/image/image.go.html#5162647">c</a></span><span class="op" id="5162801">.</span><span class="ident" id="5162802"><a href="/gostd/image/color/color.go.html#5186176">A</a></span><br>
<span class="lineno"></span><span class="op" id="5162804">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="comment" id="5162807">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5162884">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5162956">func</span>&nbsp;<span class="op" id="5162961">(</span><span class="ident" id="5162962">p</span>&nbsp;<span class="op" id="5162964">*</span><span class="ident" id="5162965"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5162970">)</span>&nbsp;<span class="ident" id="5162972">SubImage</span><span class="op" id="5162980">(</span><span class="ident" id="5162981">r</span>&nbsp;<span class="ident" id="5162983"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5162992">)</span>&nbsp;<span class="ident" id="5162994"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5163000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163003"><a href="/gostd/image/image.go.html#5162981">r</a></span>&nbsp;<span class="op" id="5163005">=</span>&nbsp;<span class="ident" id="5163007"><a href="/gostd/image/image.go.html#5162981">r</a></span><span class="op" id="5163008">.</span><span class="ident" id="5163009"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5163018">(</span><span class="ident" id="5163019"><a href="/gostd/image/image.go.html#5162962">p</a></span><span class="op" id="5163020">.</span><span class="ident" id="5163021"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5163025">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5163028">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5163109">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5163191">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163241">if</span>&nbsp;<span class="ident" id="5163244"><a href="/gostd/image/image.go.html#5162981">r</a></span><span class="op" id="5163245">.</span><span class="ident" id="5163246"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5163251">(</span><span class="op" id="5163252">)</span>&nbsp;<span class="op" id="5163254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163258">return</span>&nbsp;<span class="op" id="5163265">&amp;</span><span class="ident" id="5163266"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5163271">{</span><span class="op" id="5163272">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5163275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163278">i</span>&nbsp;<span class="op" id="5163280">:=</span>&nbsp;<span class="ident" id="5163283"><a href="/gostd/image/image.go.html#5162962">p</a></span><span class="op" id="5163284">.</span><span class="ident" id="5163285"><a href="/gostd/image/image.go.html#5162285">PixOffset</a></span><span class="op" id="5163294">(</span><span class="ident" id="5163295"><a href="/gostd/image/image.go.html#5162981">r</a></span><span class="op" id="5163296">.</span><span class="ident" id="5163297"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5163300">.</span><span class="ident" id="5163301"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5163302">,</span>&nbsp;<span class="ident" id="5163304"><a href="/gostd/image/image.go.html#5162981">r</a></span><span class="op" id="5163305">.</span><span class="ident" id="5163306"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5163309">.</span><span class="ident" id="5163310"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5163311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163314">return</span>&nbsp;<span class="op" id="5163321">&amp;</span><span class="ident" id="5163322"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5163327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163331"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5163334">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163339"><a href="/gostd/image/image.go.html#5162962">p</a></span><span class="op" id="5163340">.</span><span class="ident" id="5163341"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5163344">[</span><span class="ident" id="5163345"><a href="/gostd/image/image.go.html#5163278">i</a></span><span class="op" id="5163346">:</span><span class="op" id="5163347">]</span><span class="op" id="5163348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163352"><a href="/gostd/image/image.go.html#5161709">Stride</a></span><span class="op" id="5163358">:</span>&nbsp;<span class="ident" id="5163360"><a href="/gostd/image/image.go.html#5162962">p</a></span><span class="op" id="5163361">.</span><span class="ident" id="5163362"><a href="/gostd/image/image.go.html#5161709">Stride</a></span><span class="op" id="5163368">,</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163372"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5163376">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5163380"><a href="/gostd/image/image.go.html#5162981">r</a></span><span class="op" id="5163381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5163384">}</span><br>
<span class="lineno"></span><span class="op" id="5163386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5163389">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno">345</span><span class="keyword" id="5163462">func</span>&nbsp;<span class="op" id="5163467">(</span><span class="ident" id="5163468">p</span>&nbsp;<span class="op" id="5163470">*</span><span class="ident" id="5163471"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5163476">)</span>&nbsp;<span class="ident" id="5163478">Opaque</span><span class="op" id="5163484">(</span><span class="op" id="5163485">)</span>&nbsp;<span class="builtintype" id="5163487">bool</span>&nbsp;<span class="op" id="5163492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163495">if</span>&nbsp;<span class="ident" id="5163498"><a href="/gostd/image/image.go.html#5163468">p</a></span><span class="op" id="5163499">.</span><span class="ident" id="5163500"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5163504">.</span><span class="ident" id="5163505"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5163510">(</span><span class="op" id="5163511">)</span>&nbsp;<span class="op" id="5163513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163517">return</span>&nbsp;<span class="builtintype" id="5163524">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5163530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163533">i0</span><span class="op" id="5163535">,</span>&nbsp;<span class="ident" id="5163537">i1</span>&nbsp;<span class="op" id="5163540">:=</span>&nbsp;<span class="num" id="5163543">3</span><span class="op" id="5163544">,</span>&nbsp;<span class="ident" id="5163546"><a href="/gostd/image/image.go.html#5163468">p</a></span><span class="op" id="5163547">.</span><span class="ident" id="5163548"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5163552">.</span><span class="ident" id="5163553"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5163555">(</span><span class="op" id="5163556">)</span><span class="op" id="5163557">*</span><span class="num" id="5163558">4</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163561">for</span>&nbsp;<span class="ident" id="5163565">y</span>&nbsp;<span class="op" id="5163567">:=</span>&nbsp;<span class="ident" id="5163570"><a href="/gostd/image/image.go.html#5163468">p</a></span><span class="op" id="5163571">.</span><span class="ident" id="5163572"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5163576">.</span><span class="ident" id="5163577"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5163580">.</span><span class="ident" id="5163581"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5163582">;</span>&nbsp;<span class="ident" id="5163584"><a href="/gostd/image/image.go.html#5163565">y</a></span>&nbsp;<span class="op" id="5163586">&lt;</span>&nbsp;<span class="ident" id="5163588"><a href="/gostd/image/image.go.html#5163468">p</a></span><span class="op" id="5163589">.</span><span class="ident" id="5163590"><a href="/gostd/image/image.go.html#5161753">Rect</a></span><span class="op" id="5163594">.</span><span class="ident" id="5163595"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="5163598">.</span><span class="ident" id="5163599"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5163600">;</span>&nbsp;<span class="ident" id="5163602"><a href="/gostd/image/image.go.html#5163565">y</a></span><span class="op" id="5163603">++</span>&nbsp;<span class="op" id="5163606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163610">for</span>&nbsp;<span class="ident" id="5163614">i</span>&nbsp;<span class="op" id="5163616">:=</span>&nbsp;<span class="ident" id="5163619"><a href="/gostd/image/image.go.html#5163533">i0</a></span><span class="op" id="5163621">;</span>&nbsp;<span class="ident" id="5163623"><a href="/gostd/image/image.go.html#5163614">i</a></span>&nbsp;<span class="op" id="5163625">&lt;</span>&nbsp;<span class="ident" id="5163627"><a href="/gostd/image/image.go.html#5163537">i1</a></span><span class="op" id="5163629">;</span>&nbsp;<span class="ident" id="5163631"><a href="/gostd/image/image.go.html#5163614">i</a></span>&nbsp;<span class="op" id="5163633">+=</span>&nbsp;<span class="num" id="5163636">4</span>&nbsp;<span class="op" id="5163638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163643">if</span>&nbsp;<span class="ident" id="5163646"><a href="/gostd/image/image.go.html#5163468">p</a></span><span class="op" id="5163647">.</span><span class="ident" id="5163648"><a href="/gostd/image/image.go.html#5161620">Pix</a></span><span class="op" id="5163651">[</span><span class="ident" id="5163652"><a href="/gostd/image/image.go.html#5163614">i</a></span><span class="op" id="5163653">]</span>&nbsp;<span class="op" id="5163655">!=</span>&nbsp;<span class="num" id="5163658">0xff</span>&nbsp;<span class="op" id="5163663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163669">return</span>&nbsp;<span class="builtintype" id="5163676">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5163685">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5163689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163693"><a href="/gostd/image/image.go.html#5163533">i0</a></span>&nbsp;<span class="op" id="5163696">+=</span>&nbsp;<span class="ident" id="5163699"><a href="/gostd/image/image.go.html#5163468">p</a></span><span class="op" id="5163700">.</span><span class="ident" id="5163701"><a href="/gostd/image/image.go.html#5161709">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163710"><a href="/gostd/image/image.go.html#5163537">i1</a></span>&nbsp;<span class="op" id="5163713">+=</span>&nbsp;<span class="ident" id="5163716"><a href="/gostd/image/image.go.html#5163468">p</a></span><span class="op" id="5163717">.</span><span class="ident" id="5163718"><a href="/gostd/image/image.go.html#5161709">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5163726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163729">return</span>&nbsp;<span class="builtintype" id="5163736">true</span><br>
<span class="lineno">360</span><span class="op" id="5163741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5163744">//&nbsp;NewNRGBA&nbsp;returns&nbsp;a&nbsp;new&nbsp;NRGBA&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="5163799">func</span>&nbsp;<span class="ident" id="5163804">NewNRGBA</span><span class="op" id="5163812">(</span><span class="ident" id="5163813">r</span>&nbsp;<span class="ident" id="5163815"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5163824">)</span>&nbsp;<span class="op" id="5163826">*</span><span class="ident" id="5163827"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span>&nbsp;<span class="op" id="5163833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163836">w</span><span class="op" id="5163837">,</span>&nbsp;<span class="ident" id="5163839">h</span>&nbsp;<span class="op" id="5163841">:=</span>&nbsp;<span class="ident" id="5163844"><a href="/gostd/image/image.go.html#5163813">r</a></span><span class="op" id="5163845">.</span><span class="ident" id="5163846"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5163848">(</span><span class="op" id="5163849">)</span><span class="op" id="5163850">,</span>&nbsp;<span class="ident" id="5163852"><a href="/gostd/image/image.go.html#5163813">r</a></span><span class="op" id="5163853">.</span><span class="ident" id="5163854"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5163856">(</span><span class="op" id="5163857">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5163860">pix</span>&nbsp;<span class="op" id="5163864">:=</span>&nbsp;<span class="builtinfunc" id="5163867">make</span><span class="op" id="5163871">(</span><span class="op" id="5163872">[</span><span class="op" id="5163873">]</span><span class="builtintype" id="5163874">uint8</span><span class="op" id="5163879">,</span>&nbsp;<span class="num" id="5163881">4</span><span class="op" id="5163882">*</span><span class="ident" id="5163883"><a href="/gostd/image/image.go.html#5163836">w</a></span><span class="op" id="5163884">*</span><span class="ident" id="5163885"><a href="/gostd/image/image.go.html#5163839">h</a></span><span class="op" id="5163886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5163889">return</span>&nbsp;<span class="op" id="5163896">&amp;</span><span class="ident" id="5163897"><a href="/gostd/image/image.go.html#5161468">NRGBA</a></span><span class="op" id="5163902">{</span><span class="ident" id="5163903"><a href="/gostd/image/image.go.html#5163860">pix</a></span><span class="op" id="5163906">,</span>&nbsp;<span class="num" id="5163908">4</span>&nbsp;<span class="op" id="5163910">*</span>&nbsp;<span class="ident" id="5163912"><a href="/gostd/image/image.go.html#5163836">w</a></span><span class="op" id="5163913">,</span>&nbsp;<span class="ident" id="5163915"><a href="/gostd/image/image.go.html#5163813">r</a></span><span class="op" id="5163916">}</span><br>
<span class="lineno"></span><span class="op" id="5163918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5163921">//&nbsp;NRGBA64&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.NRGBA64&nbsp;values.</span><br>
<span class="lineno">370</span><span class="keyword" id="5164000">type</span>&nbsp;<span class="ident" id="5164005">NRGBA64</span>&nbsp;<span class="keyword" id="5164013">struct</span>&nbsp;<span class="op" id="5164020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5164023">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;in&nbsp;R,&nbsp;G,&nbsp;B,&nbsp;A&nbsp;order&nbsp;and&nbsp;big-endian&nbsp;format.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5164113">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*8].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5164181">Pix</span>&nbsp;<span class="op" id="5164185">[</span><span class="op" id="5164186">]</span><span class="builtintype" id="5164187">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5164194">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5164270">Stride</span>&nbsp;<span class="builtintype" id="5164277">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5164282">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5164314">Rect</span>&nbsp;<span class="ident" id="5164319"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span><span class="op" id="5164329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="5164332">func</span>&nbsp;<span class="op" id="5164337">(</span><span class="ident" id="5164338">p</span>&nbsp;<span class="op" id="5164340">*</span><span class="ident" id="5164341"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5164348">)</span>&nbsp;<span class="ident" id="5164350">ColorModel</span><span class="op" id="5164360">(</span><span class="op" id="5164361">)</span>&nbsp;<span class="ident" id="5164363"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5164368">.</span><span class="ident" id="5164369"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5164375">{</span>&nbsp;<span class="keyword" id="5164377">return</span>&nbsp;<span class="ident" id="5164384"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5164389">.</span><span class="ident" id="5164390"><a href="/gostd/image/color/color.go.html#5188319">NRGBA64Model</a></span>&nbsp;<span class="op" id="5164403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5164406">func</span>&nbsp;<span class="op" id="5164411">(</span><span class="ident" id="5164412">p</span>&nbsp;<span class="op" id="5164414">*</span><span class="ident" id="5164415"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5164422">)</span>&nbsp;<span class="ident" id="5164424">Bounds</span><span class="op" id="5164430">(</span><span class="op" id="5164431">)</span>&nbsp;<span class="ident" id="5164433"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5164443">{</span>&nbsp;<span class="keyword" id="5164445">return</span>&nbsp;<span class="ident" id="5164452"><a href="/gostd/image/image.go.html#5164412">p</a></span><span class="op" id="5164453">.</span><span class="ident" id="5164454"><a href="/gostd/image/image.go.html#5164314">Rect</a></span>&nbsp;<span class="op" id="5164459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5164462">func</span>&nbsp;<span class="op" id="5164467">(</span><span class="ident" id="5164468">p</span>&nbsp;<span class="op" id="5164470">*</span><span class="ident" id="5164471"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5164478">)</span>&nbsp;<span class="ident" id="5164480">At</span><span class="op" id="5164482">(</span><span class="ident" id="5164483">x</span><span class="op" id="5164484">,</span>&nbsp;<span class="ident" id="5164486">y</span>&nbsp;<span class="builtintype" id="5164488">int</span><span class="op" id="5164491">)</span>&nbsp;<span class="ident" id="5164493"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5164498">.</span><span class="ident" id="5164499"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5164505">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5164508">return</span>&nbsp;<span class="ident" id="5164515"><a href="/gostd/image/image.go.html#5164468">p</a></span><span class="op" id="5164516">.</span><span class="ident" id="5164517"><a href="/gostd/image/image.go.html#5164554">NRGBA64At</a></span><span class="op" id="5164526">(</span><span class="ident" id="5164527"><a href="/gostd/image/image.go.html#5164483">x</a></span><span class="op" id="5164528">,</span>&nbsp;<span class="ident" id="5164530"><a href="/gostd/image/image.go.html#5164486">y</a></span><span class="op" id="5164531">)</span><br>
<span class="lineno"></span><span class="op" id="5164533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5164536">func</span>&nbsp;<span class="op" id="5164541">(</span><span class="ident" id="5164542">p</span>&nbsp;<span class="op" id="5164544">*</span><span class="ident" id="5164545"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5164552">)</span>&nbsp;<span class="ident" id="5164554">NRGBA64At</span><span class="op" id="5164563">(</span><span class="ident" id="5164564">x</span><span class="op" id="5164565">,</span>&nbsp;<span class="ident" id="5164567">y</span>&nbsp;<span class="builtintype" id="5164569">int</span><span class="op" id="5164572">)</span>&nbsp;<span class="ident" id="5164574"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5164579">.</span><span class="ident" id="5164580"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span>&nbsp;<span class="op" id="5164588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5164591">if</span>&nbsp;<span class="op" id="5164594">!</span><span class="op" id="5164595">(</span><span class="ident" id="5164596"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5164601">{</span><span class="ident" id="5164602"><a href="/gostd/image/image.go.html#5164564">x</a></span><span class="op" id="5164603">,</span>&nbsp;<span class="ident" id="5164605"><a href="/gostd/image/image.go.html#5164567">y</a></span><span class="op" id="5164606">}</span><span class="op" id="5164607">.</span><span class="ident" id="5164608"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5164610">(</span><span class="ident" id="5164611"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164612">.</span><span class="ident" id="5164613"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5164617">)</span><span class="op" id="5164618">)</span>&nbsp;<span class="op" id="5164620">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5164624">return</span>&nbsp;<span class="ident" id="5164631"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5164636">.</span><span class="ident" id="5164637"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5164644">{</span><span class="op" id="5164645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5164648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5164651">i</span>&nbsp;<span class="op" id="5164653">:=</span>&nbsp;<span class="ident" id="5164656"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164657">.</span><span class="ident" id="5164658"><a href="/gostd/image/image.go.html#5165008">PixOffset</a></span><span class="op" id="5164667">(</span><span class="ident" id="5164668"><a href="/gostd/image/image.go.html#5164564">x</a></span><span class="op" id="5164669">,</span>&nbsp;<span class="ident" id="5164671"><a href="/gostd/image/image.go.html#5164567">y</a></span><span class="op" id="5164672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5164675">return</span>&nbsp;<span class="ident" id="5164682"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5164687">.</span><span class="ident" id="5164688"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5164695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5164699">uint16</span><span class="op" id="5164705">(</span><span class="ident" id="5164706"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164707">.</span><span class="ident" id="5164708"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164711">[</span><span class="ident" id="5164712"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164713">+</span><span class="num" id="5164714">0</span><span class="op" id="5164715">]</span><span class="op" id="5164716">)</span><span class="op" id="5164717">&lt;&lt;</span><span class="num" id="5164719">8</span>&nbsp;<span class="op" id="5164721">|</span>&nbsp;<span class="builtintype" id="5164723">uint16</span><span class="op" id="5164729">(</span><span class="ident" id="5164730"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164731">.</span><span class="ident" id="5164732"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164735">[</span><span class="ident" id="5164736"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164737">+</span><span class="num" id="5164738">1</span><span class="op" id="5164739">]</span><span class="op" id="5164740">)</span><span class="op" id="5164741">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5164745">uint16</span><span class="op" id="5164751">(</span><span class="ident" id="5164752"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164753">.</span><span class="ident" id="5164754"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164757">[</span><span class="ident" id="5164758"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164759">+</span><span class="num" id="5164760">2</span><span class="op" id="5164761">]</span><span class="op" id="5164762">)</span><span class="op" id="5164763">&lt;&lt;</span><span class="num" id="5164765">8</span>&nbsp;<span class="op" id="5164767">|</span>&nbsp;<span class="builtintype" id="5164769">uint16</span><span class="op" id="5164775">(</span><span class="ident" id="5164776"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164777">.</span><span class="ident" id="5164778"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164781">[</span><span class="ident" id="5164782"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164783">+</span><span class="num" id="5164784">3</span><span class="op" id="5164785">]</span><span class="op" id="5164786">)</span><span class="op" id="5164787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5164791">uint16</span><span class="op" id="5164797">(</span><span class="ident" id="5164798"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164799">.</span><span class="ident" id="5164800"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164803">[</span><span class="ident" id="5164804"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164805">+</span><span class="num" id="5164806">4</span><span class="op" id="5164807">]</span><span class="op" id="5164808">)</span><span class="op" id="5164809">&lt;&lt;</span><span class="num" id="5164811">8</span>&nbsp;<span class="op" id="5164813">|</span>&nbsp;<span class="builtintype" id="5164815">uint16</span><span class="op" id="5164821">(</span><span class="ident" id="5164822"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164823">.</span><span class="ident" id="5164824"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164827">[</span><span class="ident" id="5164828"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164829">+</span><span class="num" id="5164830">5</span><span class="op" id="5164831">]</span><span class="op" id="5164832">)</span><span class="op" id="5164833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5164837">uint16</span><span class="op" id="5164843">(</span><span class="ident" id="5164844"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164845">.</span><span class="ident" id="5164846"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164849">[</span><span class="ident" id="5164850"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164851">+</span><span class="num" id="5164852">6</span><span class="op" id="5164853">]</span><span class="op" id="5164854">)</span><span class="op" id="5164855">&lt;&lt;</span><span class="num" id="5164857">8</span>&nbsp;<span class="op" id="5164859">|</span>&nbsp;<span class="builtintype" id="5164861">uint16</span><span class="op" id="5164867">(</span><span class="ident" id="5164868"><a href="/gostd/image/image.go.html#5164542">p</a></span><span class="op" id="5164869">.</span><span class="ident" id="5164870"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5164873">[</span><span class="ident" id="5164874"><a href="/gostd/image/image.go.html#5164651">i</a></span><span class="op" id="5164875">+</span><span class="num" id="5164876">7</span><span class="op" id="5164877">]</span><span class="op" id="5164878">)</span><span class="op" id="5164879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5164882">}</span><br>
<span class="lineno"></span><span class="op" id="5164884">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="comment" id="5164887">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5164966">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5164990">func</span>&nbsp;<span class="op" id="5164995">(</span><span class="ident" id="5164996">p</span>&nbsp;<span class="op" id="5164998">*</span><span class="ident" id="5164999"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5165006">)</span>&nbsp;<span class="ident" id="5165008">PixOffset</span><span class="op" id="5165017">(</span><span class="ident" id="5165018">x</span><span class="op" id="5165019">,</span>&nbsp;<span class="ident" id="5165021">y</span>&nbsp;<span class="builtintype" id="5165023">int</span><span class="op" id="5165026">)</span>&nbsp;<span class="builtintype" id="5165028">int</span>&nbsp;<span class="op" id="5165032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5165035">return</span>&nbsp;<span class="op" id="5165042">(</span><span class="ident" id="5165043"><a href="/gostd/image/image.go.html#5165021">y</a></span><span class="op" id="5165044">-</span><span class="ident" id="5165045"><a href="/gostd/image/image.go.html#5164996">p</a></span><span class="op" id="5165046">.</span><span class="ident" id="5165047"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5165051">.</span><span class="ident" id="5165052"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5165055">.</span><span class="ident" id="5165056"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5165057">)</span><span class="op" id="5165058">*</span><span class="ident" id="5165059"><a href="/gostd/image/image.go.html#5164996">p</a></span><span class="op" id="5165060">.</span><span class="ident" id="5165061"><a href="/gostd/image/image.go.html#5164270">Stride</a></span>&nbsp;<span class="op" id="5165068">+</span>&nbsp;<span class="op" id="5165070">(</span><span class="ident" id="5165071"><a href="/gostd/image/image.go.html#5165018">x</a></span><span class="op" id="5165072">-</span><span class="ident" id="5165073"><a href="/gostd/image/image.go.html#5164996">p</a></span><span class="op" id="5165074">.</span><span class="ident" id="5165075"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5165079">.</span><span class="ident" id="5165080"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5165083">.</span><span class="ident" id="5165084"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5165085">)</span><span class="op" id="5165086">*</span><span class="num" id="5165087">8</span><br>
<span class="lineno">405</span><span class="op" id="5165089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5165092">func</span>&nbsp;<span class="op" id="5165097">(</span><span class="ident" id="5165098">p</span>&nbsp;<span class="op" id="5165100">*</span><span class="ident" id="5165101"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5165108">)</span>&nbsp;<span class="ident" id="5165110">Set</span><span class="op" id="5165113">(</span><span class="ident" id="5165114">x</span><span class="op" id="5165115">,</span>&nbsp;<span class="ident" id="5165117">y</span>&nbsp;<span class="builtintype" id="5165119">int</span><span class="op" id="5165122">,</span>&nbsp;<span class="ident" id="5165124">c</span>&nbsp;<span class="ident" id="5165126"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5165131">.</span><span class="ident" id="5165132"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5165137">)</span>&nbsp;<span class="op" id="5165139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5165142">if</span>&nbsp;<span class="op" id="5165145">!</span><span class="op" id="5165146">(</span><span class="ident" id="5165147"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5165152">{</span><span class="ident" id="5165153"><a href="/gostd/image/image.go.html#5165114">x</a></span><span class="op" id="5165154">,</span>&nbsp;<span class="ident" id="5165156"><a href="/gostd/image/image.go.html#5165117">y</a></span><span class="op" id="5165157">}</span><span class="op" id="5165158">.</span><span class="ident" id="5165159"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5165161">(</span><span class="ident" id="5165162"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165163">.</span><span class="ident" id="5165164"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5165168">)</span><span class="op" id="5165169">)</span>&nbsp;<span class="op" id="5165171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5165175">return</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5165183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165186">i</span>&nbsp;<span class="op" id="5165188">:=</span>&nbsp;<span class="ident" id="5165191"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165192">.</span><span class="ident" id="5165193"><a href="/gostd/image/image.go.html#5165008">PixOffset</a></span><span class="op" id="5165202">(</span><span class="ident" id="5165203"><a href="/gostd/image/image.go.html#5165114">x</a></span><span class="op" id="5165204">,</span>&nbsp;<span class="ident" id="5165206"><a href="/gostd/image/image.go.html#5165117">y</a></span><span class="op" id="5165207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165210">c1</span>&nbsp;<span class="op" id="5165213">:=</span>&nbsp;<span class="ident" id="5165216"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5165221">.</span><span class="ident" id="5165222"><a href="/gostd/image/color/color.go.html#5188319">NRGBA64Model</a></span><span class="op" id="5165234">.</span><span class="ident" id="5165235"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5165242">(</span><span class="ident" id="5165243"><a href="/gostd/image/image.go.html#5165124">c</a></span><span class="op" id="5165244">)</span><span class="op" id="5165245">.</span><span class="op" id="5165246">(</span><span class="ident" id="5165247"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5165252">.</span><span class="ident" id="5165253"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5165260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165263"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165264">.</span><span class="ident" id="5165265"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165268">[</span><span class="ident" id="5165269"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165270">+</span><span class="num" id="5165271">0</span><span class="op" id="5165272">]</span>&nbsp;<span class="op" id="5165274">=</span>&nbsp;<span class="builtintype" id="5165276">uint8</span><span class="op" id="5165281">(</span><span class="ident" id="5165282"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165284">.</span><span class="ident" id="5165285"><a href="/gostd/image/color/color.go.html#5186592">R</a></span>&nbsp;<span class="op" id="5165287">&gt;&gt;</span>&nbsp;<span class="num" id="5165290">8</span><span class="op" id="5165291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165294"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165295">.</span><span class="ident" id="5165296"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165299">[</span><span class="ident" id="5165300"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165301">+</span><span class="num" id="5165302">1</span><span class="op" id="5165303">]</span>&nbsp;<span class="op" id="5165305">=</span>&nbsp;<span class="builtintype" id="5165307">uint8</span><span class="op" id="5165312">(</span><span class="ident" id="5165313"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165315">.</span><span class="ident" id="5165316"><a href="/gostd/image/color/color.go.html#5186592">R</a></span><span class="op" id="5165317">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165320"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165321">.</span><span class="ident" id="5165322"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165325">[</span><span class="ident" id="5165326"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165327">+</span><span class="num" id="5165328">2</span><span class="op" id="5165329">]</span>&nbsp;<span class="op" id="5165331">=</span>&nbsp;<span class="builtintype" id="5165333">uint8</span><span class="op" id="5165338">(</span><span class="ident" id="5165339"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165341">.</span><span class="ident" id="5165342"><a href="/gostd/image/color/color.go.html#5186595">G</a></span>&nbsp;<span class="op" id="5165344">&gt;&gt;</span>&nbsp;<span class="num" id="5165347">8</span><span class="op" id="5165348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165351"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165352">.</span><span class="ident" id="5165353"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165356">[</span><span class="ident" id="5165357"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165358">+</span><span class="num" id="5165359">3</span><span class="op" id="5165360">]</span>&nbsp;<span class="op" id="5165362">=</span>&nbsp;<span class="builtintype" id="5165364">uint8</span><span class="op" id="5165369">(</span><span class="ident" id="5165370"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165372">.</span><span class="ident" id="5165373"><a href="/gostd/image/color/color.go.html#5186595">G</a></span><span class="op" id="5165374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165377"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165378">.</span><span class="ident" id="5165379"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165382">[</span><span class="ident" id="5165383"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165384">+</span><span class="num" id="5165385">4</span><span class="op" id="5165386">]</span>&nbsp;<span class="op" id="5165388">=</span>&nbsp;<span class="builtintype" id="5165390">uint8</span><span class="op" id="5165395">(</span><span class="ident" id="5165396"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165398">.</span><span class="ident" id="5165399"><a href="/gostd/image/color/color.go.html#5186598">B</a></span>&nbsp;<span class="op" id="5165401">&gt;&gt;</span>&nbsp;<span class="num" id="5165404">8</span><span class="op" id="5165405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165408"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165409">.</span><span class="ident" id="5165410"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165413">[</span><span class="ident" id="5165414"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165415">+</span><span class="num" id="5165416">5</span><span class="op" id="5165417">]</span>&nbsp;<span class="op" id="5165419">=</span>&nbsp;<span class="builtintype" id="5165421">uint8</span><span class="op" id="5165426">(</span><span class="ident" id="5165427"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165429">.</span><span class="ident" id="5165430"><a href="/gostd/image/color/color.go.html#5186598">B</a></span><span class="op" id="5165431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165434"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165435">.</span><span class="ident" id="5165436"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165439">[</span><span class="ident" id="5165440"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165441">+</span><span class="num" id="5165442">6</span><span class="op" id="5165443">]</span>&nbsp;<span class="op" id="5165445">=</span>&nbsp;<span class="builtintype" id="5165447">uint8</span><span class="op" id="5165452">(</span><span class="ident" id="5165453"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165455">.</span><span class="ident" id="5165456"><a href="/gostd/image/color/color.go.html#5186601">A</a></span>&nbsp;<span class="op" id="5165458">&gt;&gt;</span>&nbsp;<span class="num" id="5165461">8</span><span class="op" id="5165462">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165465"><a href="/gostd/image/image.go.html#5165098">p</a></span><span class="op" id="5165466">.</span><span class="ident" id="5165467"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165470">[</span><span class="ident" id="5165471"><a href="/gostd/image/image.go.html#5165186">i</a></span><span class="op" id="5165472">+</span><span class="num" id="5165473">7</span><span class="op" id="5165474">]</span>&nbsp;<span class="op" id="5165476">=</span>&nbsp;<span class="builtintype" id="5165478">uint8</span><span class="op" id="5165483">(</span><span class="ident" id="5165484"><a href="/gostd/image/image.go.html#5165210">c1</a></span><span class="op" id="5165486">.</span><span class="ident" id="5165487"><a href="/gostd/image/color/color.go.html#5186601">A</a></span><span class="op" id="5165488">)</span><br>
<span class="lineno"></span><span class="op" id="5165490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5165493">func</span>&nbsp;<span class="op" id="5165498">(</span><span class="ident" id="5165499">p</span>&nbsp;<span class="op" id="5165501">*</span><span class="ident" id="5165502"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5165509">)</span>&nbsp;<span class="ident" id="5165511">SetNRGBA64</span><span class="op" id="5165521">(</span><span class="ident" id="5165522">x</span><span class="op" id="5165523">,</span>&nbsp;<span class="ident" id="5165525">y</span>&nbsp;<span class="builtintype" id="5165527">int</span><span class="op" id="5165530">,</span>&nbsp;<span class="ident" id="5165532">c</span>&nbsp;<span class="ident" id="5165534"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5165539">.</span><span class="ident" id="5165540"><a href="/gostd/image/color/color.go.html#5186574">NRGBA64</a></span><span class="op" id="5165547">)</span>&nbsp;<span class="op" id="5165549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5165552">if</span>&nbsp;<span class="op" id="5165555">!</span><span class="op" id="5165556">(</span><span class="ident" id="5165557"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5165562">{</span><span class="ident" id="5165563"><a href="/gostd/image/image.go.html#5165522">x</a></span><span class="op" id="5165564">,</span>&nbsp;<span class="ident" id="5165566"><a href="/gostd/image/image.go.html#5165525">y</a></span><span class="op" id="5165567">}</span><span class="op" id="5165568">.</span><span class="ident" id="5165569"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5165571">(</span><span class="ident" id="5165572"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165573">.</span><span class="ident" id="5165574"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5165578">)</span><span class="op" id="5165579">)</span>&nbsp;<span class="op" id="5165581">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5165585">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5165593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165596">i</span>&nbsp;<span class="op" id="5165598">:=</span>&nbsp;<span class="ident" id="5165601"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165602">.</span><span class="ident" id="5165603"><a href="/gostd/image/image.go.html#5165008">PixOffset</a></span><span class="op" id="5165612">(</span><span class="ident" id="5165613"><a href="/gostd/image/image.go.html#5165522">x</a></span><span class="op" id="5165614">,</span>&nbsp;<span class="ident" id="5165616"><a href="/gostd/image/image.go.html#5165525">y</a></span><span class="op" id="5165617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165620"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165621">.</span><span class="ident" id="5165622"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165625">[</span><span class="ident" id="5165626"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165627">+</span><span class="num" id="5165628">0</span><span class="op" id="5165629">]</span>&nbsp;<span class="op" id="5165631">=</span>&nbsp;<span class="builtintype" id="5165633">uint8</span><span class="op" id="5165638">(</span><span class="ident" id="5165639"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165640">.</span><span class="ident" id="5165641"><a href="/gostd/image/color/color.go.html#5186592">R</a></span>&nbsp;<span class="op" id="5165643">&gt;&gt;</span>&nbsp;<span class="num" id="5165646">8</span><span class="op" id="5165647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165650"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165651">.</span><span class="ident" id="5165652"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165655">[</span><span class="ident" id="5165656"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165657">+</span><span class="num" id="5165658">1</span><span class="op" id="5165659">]</span>&nbsp;<span class="op" id="5165661">=</span>&nbsp;<span class="builtintype" id="5165663">uint8</span><span class="op" id="5165668">(</span><span class="ident" id="5165669"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165670">.</span><span class="ident" id="5165671"><a href="/gostd/image/color/color.go.html#5186592">R</a></span><span class="op" id="5165672">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165675"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165676">.</span><span class="ident" id="5165677"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165680">[</span><span class="ident" id="5165681"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165682">+</span><span class="num" id="5165683">2</span><span class="op" id="5165684">]</span>&nbsp;<span class="op" id="5165686">=</span>&nbsp;<span class="builtintype" id="5165688">uint8</span><span class="op" id="5165693">(</span><span class="ident" id="5165694"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165695">.</span><span class="ident" id="5165696"><a href="/gostd/image/color/color.go.html#5186595">G</a></span>&nbsp;<span class="op" id="5165698">&gt;&gt;</span>&nbsp;<span class="num" id="5165701">8</span><span class="op" id="5165702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165705"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165706">.</span><span class="ident" id="5165707"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165710">[</span><span class="ident" id="5165711"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165712">+</span><span class="num" id="5165713">3</span><span class="op" id="5165714">]</span>&nbsp;<span class="op" id="5165716">=</span>&nbsp;<span class="builtintype" id="5165718">uint8</span><span class="op" id="5165723">(</span><span class="ident" id="5165724"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165725">.</span><span class="ident" id="5165726"><a href="/gostd/image/color/color.go.html#5186595">G</a></span><span class="op" id="5165727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165730"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165731">.</span><span class="ident" id="5165732"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165735">[</span><span class="ident" id="5165736"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165737">+</span><span class="num" id="5165738">4</span><span class="op" id="5165739">]</span>&nbsp;<span class="op" id="5165741">=</span>&nbsp;<span class="builtintype" id="5165743">uint8</span><span class="op" id="5165748">(</span><span class="ident" id="5165749"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165750">.</span><span class="ident" id="5165751"><a href="/gostd/image/color/color.go.html#5186598">B</a></span>&nbsp;<span class="op" id="5165753">&gt;&gt;</span>&nbsp;<span class="num" id="5165756">8</span><span class="op" id="5165757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165760"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165761">.</span><span class="ident" id="5165762"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165765">[</span><span class="ident" id="5165766"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165767">+</span><span class="num" id="5165768">5</span><span class="op" id="5165769">]</span>&nbsp;<span class="op" id="5165771">=</span>&nbsp;<span class="builtintype" id="5165773">uint8</span><span class="op" id="5165778">(</span><span class="ident" id="5165779"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165780">.</span><span class="ident" id="5165781"><a href="/gostd/image/color/color.go.html#5186598">B</a></span><span class="op" id="5165782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165785"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165786">.</span><span class="ident" id="5165787"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165790">[</span><span class="ident" id="5165791"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165792">+</span><span class="num" id="5165793">6</span><span class="op" id="5165794">]</span>&nbsp;<span class="op" id="5165796">=</span>&nbsp;<span class="builtintype" id="5165798">uint8</span><span class="op" id="5165803">(</span><span class="ident" id="5165804"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165805">.</span><span class="ident" id="5165806"><a href="/gostd/image/color/color.go.html#5186601">A</a></span>&nbsp;<span class="op" id="5165808">&gt;&gt;</span>&nbsp;<span class="num" id="5165811">8</span><span class="op" id="5165812">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5165815"><a href="/gostd/image/image.go.html#5165499">p</a></span><span class="op" id="5165816">.</span><span class="ident" id="5165817"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5165820">[</span><span class="ident" id="5165821"><a href="/gostd/image/image.go.html#5165596">i</a></span><span class="op" id="5165822">+</span><span class="num" id="5165823">7</span><span class="op" id="5165824">]</span>&nbsp;<span class="op" id="5165826">=</span>&nbsp;<span class="builtintype" id="5165828">uint8</span><span class="op" id="5165833">(</span><span class="ident" id="5165834"><a href="/gostd/image/image.go.html#5165532">c</a></span><span class="op" id="5165835">.</span><span class="ident" id="5165836"><a href="/gostd/image/color/color.go.html#5186601">A</a></span><span class="op" id="5165837">)</span><br>
<span class="lineno"></span><span class="op" id="5165839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5165842">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5165919">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno">440</span><span class="keyword" id="5165991">func</span>&nbsp;<span class="op" id="5165996">(</span><span class="ident" id="5165997">p</span>&nbsp;<span class="op" id="5165999">*</span><span class="ident" id="5166000"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5166007">)</span>&nbsp;<span class="ident" id="5166009">SubImage</span><span class="op" id="5166017">(</span><span class="ident" id="5166018">r</span>&nbsp;<span class="ident" id="5166020"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5166029">)</span>&nbsp;<span class="ident" id="5166031"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5166037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166040"><a href="/gostd/image/image.go.html#5166018">r</a></span>&nbsp;<span class="op" id="5166042">=</span>&nbsp;<span class="ident" id="5166044"><a href="/gostd/image/image.go.html#5166018">r</a></span><span class="op" id="5166045">.</span><span class="ident" id="5166046"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5166055">(</span><span class="ident" id="5166056"><a href="/gostd/image/image.go.html#5165997">p</a></span><span class="op" id="5166057">.</span><span class="ident" id="5166058"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5166062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5166065">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5166146">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5166228">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166278">if</span>&nbsp;<span class="ident" id="5166281"><a href="/gostd/image/image.go.html#5166018">r</a></span><span class="op" id="5166282">.</span><span class="ident" id="5166283"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5166288">(</span><span class="op" id="5166289">)</span>&nbsp;<span class="op" id="5166291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166295">return</span>&nbsp;<span class="op" id="5166302">&amp;</span><span class="ident" id="5166303"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5166310">{</span><span class="op" id="5166311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5166314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166317">i</span>&nbsp;<span class="op" id="5166319">:=</span>&nbsp;<span class="ident" id="5166322"><a href="/gostd/image/image.go.html#5165997">p</a></span><span class="op" id="5166323">.</span><span class="ident" id="5166324"><a href="/gostd/image/image.go.html#5165008">PixOffset</a></span><span class="op" id="5166333">(</span><span class="ident" id="5166334"><a href="/gostd/image/image.go.html#5166018">r</a></span><span class="op" id="5166335">.</span><span class="ident" id="5166336"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5166339">.</span><span class="ident" id="5166340"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5166341">,</span>&nbsp;<span class="ident" id="5166343"><a href="/gostd/image/image.go.html#5166018">r</a></span><span class="op" id="5166344">.</span><span class="ident" id="5166345"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5166348">.</span><span class="ident" id="5166349"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5166350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166353">return</span>&nbsp;<span class="op" id="5166360">&amp;</span><span class="ident" id="5166361"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5166368">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166372"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5166375">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166380"><a href="/gostd/image/image.go.html#5165997">p</a></span><span class="op" id="5166381">.</span><span class="ident" id="5166382"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5166385">[</span><span class="ident" id="5166386"><a href="/gostd/image/image.go.html#5166317">i</a></span><span class="op" id="5166387">:</span><span class="op" id="5166388">]</span><span class="op" id="5166389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166393"><a href="/gostd/image/image.go.html#5164270">Stride</a></span><span class="op" id="5166399">:</span>&nbsp;<span class="ident" id="5166401"><a href="/gostd/image/image.go.html#5165997">p</a></span><span class="op" id="5166402">.</span><span class="ident" id="5166403"><a href="/gostd/image/image.go.html#5164270">Stride</a></span><span class="op" id="5166409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166413"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5166417">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5166421"><a href="/gostd/image/image.go.html#5166018">r</a></span><span class="op" id="5166422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5166425">}</span><br>
<span class="lineno"></span><span class="op" id="5166427">}</span><br>
<span class="lineno">455</span><br>
<span class="lineno"></span><span class="comment" id="5166430">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5166503">func</span>&nbsp;<span class="op" id="5166508">(</span><span class="ident" id="5166509">p</span>&nbsp;<span class="op" id="5166511">*</span><span class="ident" id="5166512"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5166519">)</span>&nbsp;<span class="ident" id="5166521">Opaque</span><span class="op" id="5166527">(</span><span class="op" id="5166528">)</span>&nbsp;<span class="builtintype" id="5166530">bool</span>&nbsp;<span class="op" id="5166535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166538">if</span>&nbsp;<span class="ident" id="5166541"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166542">.</span><span class="ident" id="5166543"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5166547">.</span><span class="ident" id="5166548"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5166553">(</span><span class="op" id="5166554">)</span>&nbsp;<span class="op" id="5166556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166560">return</span>&nbsp;<span class="builtintype" id="5166567">true</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5166573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166576">i0</span><span class="op" id="5166578">,</span>&nbsp;<span class="ident" id="5166580">i1</span>&nbsp;<span class="op" id="5166583">:=</span>&nbsp;<span class="num" id="5166586">6</span><span class="op" id="5166587">,</span>&nbsp;<span class="ident" id="5166589"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166590">.</span><span class="ident" id="5166591"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5166595">.</span><span class="ident" id="5166596"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5166598">(</span><span class="op" id="5166599">)</span><span class="op" id="5166600">*</span><span class="num" id="5166601">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166604">for</span>&nbsp;<span class="ident" id="5166608">y</span>&nbsp;<span class="op" id="5166610">:=</span>&nbsp;<span class="ident" id="5166613"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166614">.</span><span class="ident" id="5166615"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5166619">.</span><span class="ident" id="5166620"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5166623">.</span><span class="ident" id="5166624"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5166625">;</span>&nbsp;<span class="ident" id="5166627"><a href="/gostd/image/image.go.html#5166608">y</a></span>&nbsp;<span class="op" id="5166629">&lt;</span>&nbsp;<span class="ident" id="5166631"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166632">.</span><span class="ident" id="5166633"><a href="/gostd/image/image.go.html#5164314">Rect</a></span><span class="op" id="5166637">.</span><span class="ident" id="5166638"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="5166641">.</span><span class="ident" id="5166642"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5166643">;</span>&nbsp;<span class="ident" id="5166645"><a href="/gostd/image/image.go.html#5166608">y</a></span><span class="op" id="5166646">++</span>&nbsp;<span class="op" id="5166649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166653">for</span>&nbsp;<span class="ident" id="5166657">i</span>&nbsp;<span class="op" id="5166659">:=</span>&nbsp;<span class="ident" id="5166662"><a href="/gostd/image/image.go.html#5166576">i0</a></span><span class="op" id="5166664">;</span>&nbsp;<span class="ident" id="5166666"><a href="/gostd/image/image.go.html#5166657">i</a></span>&nbsp;<span class="op" id="5166668">&lt;</span>&nbsp;<span class="ident" id="5166670"><a href="/gostd/image/image.go.html#5166580">i1</a></span><span class="op" id="5166672">;</span>&nbsp;<span class="ident" id="5166674"><a href="/gostd/image/image.go.html#5166657">i</a></span>&nbsp;<span class="op" id="5166676">+=</span>&nbsp;<span class="num" id="5166679">8</span>&nbsp;<span class="op" id="5166681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166686">if</span>&nbsp;<span class="ident" id="5166689"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166690">.</span><span class="ident" id="5166691"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5166694">[</span><span class="ident" id="5166695"><a href="/gostd/image/image.go.html#5166657">i</a></span><span class="op" id="5166696">+</span><span class="num" id="5166697">0</span><span class="op" id="5166698">]</span>&nbsp;<span class="op" id="5166700">!=</span>&nbsp;<span class="num" id="5166703">0xff</span>&nbsp;<span class="op" id="5166708">||</span>&nbsp;<span class="ident" id="5166711"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166712">.</span><span class="ident" id="5166713"><a href="/gostd/image/image.go.html#5164181">Pix</a></span><span class="op" id="5166716">[</span><span class="ident" id="5166717"><a href="/gostd/image/image.go.html#5166657">i</a></span><span class="op" id="5166718">+</span><span class="num" id="5166719">1</span><span class="op" id="5166720">]</span>&nbsp;<span class="op" id="5166722">!=</span>&nbsp;<span class="num" id="5166725">0xff</span>&nbsp;<span class="op" id="5166730">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166736">return</span>&nbsp;<span class="builtintype" id="5166743">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5166752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5166756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166760"><a href="/gostd/image/image.go.html#5166576">i0</a></span>&nbsp;<span class="op" id="5166763">+=</span>&nbsp;<span class="ident" id="5166766"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166767">.</span><span class="ident" id="5166768"><a href="/gostd/image/image.go.html#5164270">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166777"><a href="/gostd/image/image.go.html#5166580">i1</a></span>&nbsp;<span class="op" id="5166780">+=</span>&nbsp;<span class="ident" id="5166783"><a href="/gostd/image/image.go.html#5166509">p</a></span><span class="op" id="5166784">.</span><span class="ident" id="5166785"><a href="/gostd/image/image.go.html#5164270">Stride</a></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5166793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166796">return</span>&nbsp;<span class="builtintype" id="5166803">true</span><br>
<span class="lineno"></span><span class="op" id="5166808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5166811">//&nbsp;NewNRGBA64&nbsp;returns&nbsp;a&nbsp;new&nbsp;NRGBA64&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno">475</span><span class="keyword" id="5166870">func</span>&nbsp;<span class="ident" id="5166875">NewNRGBA64</span><span class="op" id="5166885">(</span><span class="ident" id="5166886">r</span>&nbsp;<span class="ident" id="5166888"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5166897">)</span>&nbsp;<span class="op" id="5166899">*</span><span class="ident" id="5166900"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span>&nbsp;<span class="op" id="5166908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166911">w</span><span class="op" id="5166912">,</span>&nbsp;<span class="ident" id="5166914">h</span>&nbsp;<span class="op" id="5166916">:=</span>&nbsp;<span class="ident" id="5166919"><a href="/gostd/image/image.go.html#5166886">r</a></span><span class="op" id="5166920">.</span><span class="ident" id="5166921"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5166923">(</span><span class="op" id="5166924">)</span><span class="op" id="5166925">,</span>&nbsp;<span class="ident" id="5166927"><a href="/gostd/image/image.go.html#5166886">r</a></span><span class="op" id="5166928">.</span><span class="ident" id="5166929"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5166931">(</span><span class="op" id="5166932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5166935">pix</span>&nbsp;<span class="op" id="5166939">:=</span>&nbsp;<span class="builtinfunc" id="5166942">make</span><span class="op" id="5166946">(</span><span class="op" id="5166947">[</span><span class="op" id="5166948">]</span><span class="builtintype" id="5166949">uint8</span><span class="op" id="5166954">,</span>&nbsp;<span class="num" id="5166956">8</span><span class="op" id="5166957">*</span><span class="ident" id="5166958"><a href="/gostd/image/image.go.html#5166911">w</a></span><span class="op" id="5166959">*</span><span class="ident" id="5166960"><a href="/gostd/image/image.go.html#5166914">h</a></span><span class="op" id="5166961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5166964">return</span>&nbsp;<span class="op" id="5166971">&amp;</span><span class="ident" id="5166972"><a href="/gostd/image/image.go.html#5164005">NRGBA64</a></span><span class="op" id="5166979">{</span><span class="ident" id="5166980"><a href="/gostd/image/image.go.html#5166935">pix</a></span><span class="op" id="5166983">,</span>&nbsp;<span class="num" id="5166985">8</span>&nbsp;<span class="op" id="5166987">*</span>&nbsp;<span class="ident" id="5166989"><a href="/gostd/image/image.go.html#5166911">w</a></span><span class="op" id="5166990">,</span>&nbsp;<span class="ident" id="5166992"><a href="/gostd/image/image.go.html#5166886">r</a></span><span class="op" id="5166993">}</span><br>
<span class="lineno"></span><span class="op" id="5166995">}</span><br>
<span class="lineno">480</span><br>
<span class="lineno"></span><span class="comment" id="5166998">//&nbsp;Alpha&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.Alpha&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5167073">type</span>&nbsp;<span class="ident" id="5167078">Alpha</span>&nbsp;<span class="keyword" id="5167084">struct</span>&nbsp;<span class="op" id="5167091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5167094">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;as&nbsp;alpha&nbsp;values.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5167158">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*1].</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5167226">Pix</span>&nbsp;<span class="op" id="5167230">[</span><span class="op" id="5167231">]</span><span class="builtintype" id="5167232">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5167239">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5167315">Stride</span>&nbsp;<span class="builtintype" id="5167322">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5167327">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5167359">Rect</span>&nbsp;<span class="ident" id="5167364"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno">490</span><span class="op" id="5167374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5167377">func</span>&nbsp;<span class="op" id="5167382">(</span><span class="ident" id="5167383">p</span>&nbsp;<span class="op" id="5167385">*</span><span class="ident" id="5167386"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5167391">)</span>&nbsp;<span class="ident" id="5167393">ColorModel</span><span class="op" id="5167403">(</span><span class="op" id="5167404">)</span>&nbsp;<span class="ident" id="5167406"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5167411">.</span><span class="ident" id="5167412"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5167418">{</span>&nbsp;<span class="keyword" id="5167420">return</span>&nbsp;<span class="ident" id="5167427"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5167432">.</span><span class="ident" id="5167433"><a href="/gostd/image/color/color.go.html#5188365">AlphaModel</a></span>&nbsp;<span class="op" id="5167444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5167447">func</span>&nbsp;<span class="op" id="5167452">(</span><span class="ident" id="5167453">p</span>&nbsp;<span class="op" id="5167455">*</span><span class="ident" id="5167456"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5167461">)</span>&nbsp;<span class="ident" id="5167463">Bounds</span><span class="op" id="5167469">(</span><span class="op" id="5167470">)</span>&nbsp;<span class="ident" id="5167472"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5167482">{</span>&nbsp;<span class="keyword" id="5167484">return</span>&nbsp;<span class="ident" id="5167491"><a href="/gostd/image/image.go.html#5167453">p</a></span><span class="op" id="5167492">.</span><span class="ident" id="5167493"><a href="/gostd/image/image.go.html#5167359">Rect</a></span>&nbsp;<span class="op" id="5167498">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="5167501">func</span>&nbsp;<span class="op" id="5167506">(</span><span class="ident" id="5167507">p</span>&nbsp;<span class="op" id="5167509">*</span><span class="ident" id="5167510"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5167515">)</span>&nbsp;<span class="ident" id="5167517">At</span><span class="op" id="5167519">(</span><span class="ident" id="5167520">x</span><span class="op" id="5167521">,</span>&nbsp;<span class="ident" id="5167523">y</span>&nbsp;<span class="builtintype" id="5167525">int</span><span class="op" id="5167528">)</span>&nbsp;<span class="ident" id="5167530"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5167535">.</span><span class="ident" id="5167536"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5167542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5167545">return</span>&nbsp;<span class="ident" id="5167552"><a href="/gostd/image/image.go.html#5167507">p</a></span><span class="op" id="5167553">.</span><span class="ident" id="5167554"><a href="/gostd/image/image.go.html#5167587">AlphaAt</a></span><span class="op" id="5167561">(</span><span class="ident" id="5167562"><a href="/gostd/image/image.go.html#5167520">x</a></span><span class="op" id="5167563">,</span>&nbsp;<span class="ident" id="5167565"><a href="/gostd/image/image.go.html#5167523">y</a></span><span class="op" id="5167566">)</span><br>
<span class="lineno"></span><span class="op" id="5167568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="5167571">func</span>&nbsp;<span class="op" id="5167576">(</span><span class="ident" id="5167577">p</span>&nbsp;<span class="op" id="5167579">*</span><span class="ident" id="5167580"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5167585">)</span>&nbsp;<span class="ident" id="5167587">AlphaAt</span><span class="op" id="5167594">(</span><span class="ident" id="5167595">x</span><span class="op" id="5167596">,</span>&nbsp;<span class="ident" id="5167598">y</span>&nbsp;<span class="builtintype" id="5167600">int</span><span class="op" id="5167603">)</span>&nbsp;<span class="ident" id="5167605"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5167610">.</span><span class="ident" id="5167611"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span>&nbsp;<span class="op" id="5167617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5167620">if</span>&nbsp;<span class="op" id="5167623">!</span><span class="op" id="5167624">(</span><span class="ident" id="5167625"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5167630">{</span><span class="ident" id="5167631"><a href="/gostd/image/image.go.html#5167595">x</a></span><span class="op" id="5167632">,</span>&nbsp;<span class="ident" id="5167634"><a href="/gostd/image/image.go.html#5167598">y</a></span><span class="op" id="5167635">}</span><span class="op" id="5167636">.</span><span class="ident" id="5167637"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5167639">(</span><span class="ident" id="5167640"><a href="/gostd/image/image.go.html#5167577">p</a></span><span class="op" id="5167641">.</span><span class="ident" id="5167642"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5167646">)</span><span class="op" id="5167647">)</span>&nbsp;<span class="op" id="5167649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5167653">return</span>&nbsp;<span class="ident" id="5167660"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5167665">.</span><span class="ident" id="5167666"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span><span class="op" id="5167671">{</span><span class="op" id="5167672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5167675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5167678">i</span>&nbsp;<span class="op" id="5167680">:=</span>&nbsp;<span class="ident" id="5167683"><a href="/gostd/image/image.go.html#5167577">p</a></span><span class="op" id="5167684">.</span><span class="ident" id="5167685"><a href="/gostd/image/image.go.html#5167853">PixOffset</a></span><span class="op" id="5167694">(</span><span class="ident" id="5167695"><a href="/gostd/image/image.go.html#5167595">x</a></span><span class="op" id="5167696">,</span>&nbsp;<span class="ident" id="5167698"><a href="/gostd/image/image.go.html#5167598">y</a></span><span class="op" id="5167699">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5167702">return</span>&nbsp;<span class="ident" id="5167709"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5167714">.</span><span class="ident" id="5167715"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span><span class="op" id="5167720">{</span><span class="ident" id="5167721"><a href="/gostd/image/image.go.html#5167577">p</a></span><span class="op" id="5167722">.</span><span class="ident" id="5167723"><a href="/gostd/image/image.go.html#5167226">Pix</a></span><span class="op" id="5167726">[</span><span class="ident" id="5167727"><a href="/gostd/image/image.go.html#5167678">i</a></span><span class="op" id="5167728">]</span><span class="op" id="5167729">}</span><br>
<span class="lineno"></span><span class="op" id="5167731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5167734">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5167813">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno">510</span><span class="keyword" id="5167837">func</span>&nbsp;<span class="op" id="5167842">(</span><span class="ident" id="5167843">p</span>&nbsp;<span class="op" id="5167845">*</span><span class="ident" id="5167846"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5167851">)</span>&nbsp;<span class="ident" id="5167853">PixOffset</span><span class="op" id="5167862">(</span><span class="ident" id="5167863">x</span><span class="op" id="5167864">,</span>&nbsp;<span class="ident" id="5167866">y</span>&nbsp;<span class="builtintype" id="5167868">int</span><span class="op" id="5167871">)</span>&nbsp;<span class="builtintype" id="5167873">int</span>&nbsp;<span class="op" id="5167877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5167880">return</span>&nbsp;<span class="op" id="5167887">(</span><span class="ident" id="5167888"><a href="/gostd/image/image.go.html#5167866">y</a></span><span class="op" id="5167889">-</span><span class="ident" id="5167890"><a href="/gostd/image/image.go.html#5167843">p</a></span><span class="op" id="5167891">.</span><span class="ident" id="5167892"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5167896">.</span><span class="ident" id="5167897"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5167900">.</span><span class="ident" id="5167901"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5167902">)</span><span class="op" id="5167903">*</span><span class="ident" id="5167904"><a href="/gostd/image/image.go.html#5167843">p</a></span><span class="op" id="5167905">.</span><span class="ident" id="5167906"><a href="/gostd/image/image.go.html#5167315">Stride</a></span>&nbsp;<span class="op" id="5167913">+</span>&nbsp;<span class="op" id="5167915">(</span><span class="ident" id="5167916"><a href="/gostd/image/image.go.html#5167863">x</a></span><span class="op" id="5167917">-</span><span class="ident" id="5167918"><a href="/gostd/image/image.go.html#5167843">p</a></span><span class="op" id="5167919">.</span><span class="ident" id="5167920"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5167924">.</span><span class="ident" id="5167925"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5167928">.</span><span class="ident" id="5167929"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5167930">)</span><span class="op" id="5167931">*</span><span class="num" id="5167932">1</span><br>
<span class="lineno"></span><span class="op" id="5167934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5167937">func</span>&nbsp;<span class="op" id="5167942">(</span><span class="ident" id="5167943">p</span>&nbsp;<span class="op" id="5167945">*</span><span class="ident" id="5167946"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5167951">)</span>&nbsp;<span class="ident" id="5167953">Set</span><span class="op" id="5167956">(</span><span class="ident" id="5167957">x</span><span class="op" id="5167958">,</span>&nbsp;<span class="ident" id="5167960">y</span>&nbsp;<span class="builtintype" id="5167962">int</span><span class="op" id="5167965">,</span>&nbsp;<span class="ident" id="5167967">c</span>&nbsp;<span class="ident" id="5167969"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5167974">.</span><span class="ident" id="5167975"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5167980">)</span>&nbsp;<span class="op" id="5167982">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5167985">if</span>&nbsp;<span class="op" id="5167988">!</span><span class="op" id="5167989">(</span><span class="ident" id="5167990"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5167995">{</span><span class="ident" id="5167996"><a href="/gostd/image/image.go.html#5167957">x</a></span><span class="op" id="5167997">,</span>&nbsp;<span class="ident" id="5167999"><a href="/gostd/image/image.go.html#5167960">y</a></span><span class="op" id="5168000">}</span><span class="op" id="5168001">.</span><span class="ident" id="5168002"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5168004">(</span><span class="ident" id="5168005"><a href="/gostd/image/image.go.html#5167943">p</a></span><span class="op" id="5168006">.</span><span class="ident" id="5168007"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5168011">)</span><span class="op" id="5168012">)</span>&nbsp;<span class="op" id="5168014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168018">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5168026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168029">i</span>&nbsp;<span class="op" id="5168031">:=</span>&nbsp;<span class="ident" id="5168034"><a href="/gostd/image/image.go.html#5167943">p</a></span><span class="op" id="5168035">.</span><span class="ident" id="5168036"><a href="/gostd/image/image.go.html#5167853">PixOffset</a></span><span class="op" id="5168045">(</span><span class="ident" id="5168046"><a href="/gostd/image/image.go.html#5167957">x</a></span><span class="op" id="5168047">,</span>&nbsp;<span class="ident" id="5168049"><a href="/gostd/image/image.go.html#5167960">y</a></span><span class="op" id="5168050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168053"><a href="/gostd/image/image.go.html#5167943">p</a></span><span class="op" id="5168054">.</span><span class="ident" id="5168055"><a href="/gostd/image/image.go.html#5167226">Pix</a></span><span class="op" id="5168058">[</span><span class="ident" id="5168059"><a href="/gostd/image/image.go.html#5168029">i</a></span><span class="op" id="5168060">]</span>&nbsp;<span class="op" id="5168062">=</span>&nbsp;<span class="ident" id="5168064"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5168069">.</span><span class="ident" id="5168070"><a href="/gostd/image/color/color.go.html#5188365">AlphaModel</a></span><span class="op" id="5168080">.</span><span class="ident" id="5168081"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5168088">(</span><span class="ident" id="5168089"><a href="/gostd/image/image.go.html#5167967">c</a></span><span class="op" id="5168090">)</span><span class="op" id="5168091">.</span><span class="op" id="5168092">(</span><span class="ident" id="5168093"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5168098">.</span><span class="ident" id="5168099"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span><span class="op" id="5168104">)</span><span class="op" id="5168105">.</span><span class="ident" id="5168106"><a href="/gostd/image/color/color.go.html#5186894">A</a></span><br>
<span class="lineno">520</span><span class="op" id="5168108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5168111">func</span>&nbsp;<span class="op" id="5168116">(</span><span class="ident" id="5168117">p</span>&nbsp;<span class="op" id="5168119">*</span><span class="ident" id="5168120"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5168125">)</span>&nbsp;<span class="ident" id="5168127">SetAlpha</span><span class="op" id="5168135">(</span><span class="ident" id="5168136">x</span><span class="op" id="5168137">,</span>&nbsp;<span class="ident" id="5168139">y</span>&nbsp;<span class="builtintype" id="5168141">int</span><span class="op" id="5168144">,</span>&nbsp;<span class="ident" id="5168146">c</span>&nbsp;<span class="ident" id="5168148"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5168153">.</span><span class="ident" id="5168154"><a href="/gostd/image/color/color.go.html#5186878">Alpha</a></span><span class="op" id="5168159">)</span>&nbsp;<span class="op" id="5168161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168164">if</span>&nbsp;<span class="op" id="5168167">!</span><span class="op" id="5168168">(</span><span class="ident" id="5168169"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5168174">{</span><span class="ident" id="5168175"><a href="/gostd/image/image.go.html#5168136">x</a></span><span class="op" id="5168176">,</span>&nbsp;<span class="ident" id="5168178"><a href="/gostd/image/image.go.html#5168139">y</a></span><span class="op" id="5168179">}</span><span class="op" id="5168180">.</span><span class="ident" id="5168181"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5168183">(</span><span class="ident" id="5168184"><a href="/gostd/image/image.go.html#5168117">p</a></span><span class="op" id="5168185">.</span><span class="ident" id="5168186"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5168190">)</span><span class="op" id="5168191">)</span>&nbsp;<span class="op" id="5168193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168197">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5168205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168208">i</span>&nbsp;<span class="op" id="5168210">:=</span>&nbsp;<span class="ident" id="5168213"><a href="/gostd/image/image.go.html#5168117">p</a></span><span class="op" id="5168214">.</span><span class="ident" id="5168215"><a href="/gostd/image/image.go.html#5167853">PixOffset</a></span><span class="op" id="5168224">(</span><span class="ident" id="5168225"><a href="/gostd/image/image.go.html#5168136">x</a></span><span class="op" id="5168226">,</span>&nbsp;<span class="ident" id="5168228"><a href="/gostd/image/image.go.html#5168139">y</a></span><span class="op" id="5168229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168232"><a href="/gostd/image/image.go.html#5168117">p</a></span><span class="op" id="5168233">.</span><span class="ident" id="5168234"><a href="/gostd/image/image.go.html#5167226">Pix</a></span><span class="op" id="5168237">[</span><span class="ident" id="5168238"><a href="/gostd/image/image.go.html#5168208">i</a></span><span class="op" id="5168239">]</span>&nbsp;<span class="op" id="5168241">=</span>&nbsp;<span class="ident" id="5168243"><a href="/gostd/image/image.go.html#5168146">c</a></span><span class="op" id="5168244">.</span><span class="ident" id="5168245"><a href="/gostd/image/color/color.go.html#5186894">A</a></span><br>
<span class="lineno"></span><span class="op" id="5168247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span><span class="comment" id="5168250">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5168327">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5168399">func</span>&nbsp;<span class="op" id="5168404">(</span><span class="ident" id="5168405">p</span>&nbsp;<span class="op" id="5168407">*</span><span class="ident" id="5168408"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5168413">)</span>&nbsp;<span class="ident" id="5168415">SubImage</span><span class="op" id="5168423">(</span><span class="ident" id="5168424">r</span>&nbsp;<span class="ident" id="5168426"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5168435">)</span>&nbsp;<span class="ident" id="5168437"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5168443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168446"><a href="/gostd/image/image.go.html#5168424">r</a></span>&nbsp;<span class="op" id="5168448">=</span>&nbsp;<span class="ident" id="5168450"><a href="/gostd/image/image.go.html#5168424">r</a></span><span class="op" id="5168451">.</span><span class="ident" id="5168452"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5168461">(</span><span class="ident" id="5168462"><a href="/gostd/image/image.go.html#5168405">p</a></span><span class="op" id="5168463">.</span><span class="ident" id="5168464"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5168468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5168471">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5168552">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5168634">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168684">if</span>&nbsp;<span class="ident" id="5168687"><a href="/gostd/image/image.go.html#5168424">r</a></span><span class="op" id="5168688">.</span><span class="ident" id="5168689"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5168694">(</span><span class="op" id="5168695">)</span>&nbsp;<span class="op" id="5168697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168701">return</span>&nbsp;<span class="op" id="5168708">&amp;</span><span class="ident" id="5168709"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5168714">{</span><span class="op" id="5168715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5168718">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168721">i</span>&nbsp;<span class="op" id="5168723">:=</span>&nbsp;<span class="ident" id="5168726"><a href="/gostd/image/image.go.html#5168405">p</a></span><span class="op" id="5168727">.</span><span class="ident" id="5168728"><a href="/gostd/image/image.go.html#5167853">PixOffset</a></span><span class="op" id="5168737">(</span><span class="ident" id="5168738"><a href="/gostd/image/image.go.html#5168424">r</a></span><span class="op" id="5168739">.</span><span class="ident" id="5168740"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5168743">.</span><span class="ident" id="5168744"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5168745">,</span>&nbsp;<span class="ident" id="5168747"><a href="/gostd/image/image.go.html#5168424">r</a></span><span class="op" id="5168748">.</span><span class="ident" id="5168749"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5168752">.</span><span class="ident" id="5168753"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5168754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168757">return</span>&nbsp;<span class="op" id="5168764">&amp;</span><span class="ident" id="5168765"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5168770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168774"><a href="/gostd/image/image.go.html#5167226">Pix</a></span><span class="op" id="5168777">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168782"><a href="/gostd/image/image.go.html#5168405">p</a></span><span class="op" id="5168783">.</span><span class="ident" id="5168784"><a href="/gostd/image/image.go.html#5167226">Pix</a></span><span class="op" id="5168787">[</span><span class="ident" id="5168788"><a href="/gostd/image/image.go.html#5168721">i</a></span><span class="op" id="5168789">:</span><span class="op" id="5168790">]</span><span class="op" id="5168791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168795"><a href="/gostd/image/image.go.html#5167315">Stride</a></span><span class="op" id="5168801">:</span>&nbsp;<span class="ident" id="5168803"><a href="/gostd/image/image.go.html#5168405">p</a></span><span class="op" id="5168804">.</span><span class="ident" id="5168805"><a href="/gostd/image/image.go.html#5167315">Stride</a></span><span class="op" id="5168811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168815"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5168819">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5168823"><a href="/gostd/image/image.go.html#5168424">r</a></span><span class="op" id="5168824">,</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5168827">}</span><br>
<span class="lineno"></span><span class="op" id="5168829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5168832">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5168905">func</span>&nbsp;<span class="op" id="5168910">(</span><span class="ident" id="5168911">p</span>&nbsp;<span class="op" id="5168913">*</span><span class="ident" id="5168914"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5168919">)</span>&nbsp;<span class="ident" id="5168921">Opaque</span><span class="op" id="5168927">(</span><span class="op" id="5168928">)</span>&nbsp;<span class="builtintype" id="5168930">bool</span>&nbsp;<span class="op" id="5168935">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168938">if</span>&nbsp;<span class="ident" id="5168941"><a href="/gostd/image/image.go.html#5168911">p</a></span><span class="op" id="5168942">.</span><span class="ident" id="5168943"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5168947">.</span><span class="ident" id="5168948"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5168953">(</span><span class="op" id="5168954">)</span>&nbsp;<span class="op" id="5168956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5168960">return</span>&nbsp;<span class="builtintype" id="5168967">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5168973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5168976">i0</span><span class="op" id="5168978">,</span>&nbsp;<span class="ident" id="5168980">i1</span>&nbsp;<span class="op" id="5168983">:=</span>&nbsp;<span class="num" id="5168986">0</span><span class="op" id="5168987">,</span>&nbsp;<span class="ident" id="5168989"><a href="/gostd/image/image.go.html#5168911">p</a></span><span class="op" id="5168990">.</span><span class="ident" id="5168991"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5168995">.</span><span class="ident" id="5168996"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5168998">(</span><span class="op" id="5168999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5169002">for</span>&nbsp;<span class="ident" id="5169006">y</span>&nbsp;<span class="op" id="5169008">:=</span>&nbsp;<span class="ident" id="5169011"><a href="/gostd/image/image.go.html#5168911">p</a></span><span class="op" id="5169012">.</span><span class="ident" id="5169013"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5169017">.</span><span class="ident" id="5169018"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5169021">.</span><span class="ident" id="5169022"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5169023">;</span>&nbsp;<span class="ident" id="5169025"><a href="/gostd/image/image.go.html#5169006">y</a></span>&nbsp;<span class="op" id="5169027">&lt;</span>&nbsp;<span class="ident" id="5169029"><a href="/gostd/image/image.go.html#5168911">p</a></span><span class="op" id="5169030">.</span><span class="ident" id="5169031"><a href="/gostd/image/image.go.html#5167359">Rect</a></span><span class="op" id="5169035">.</span><span class="ident" id="5169036"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="5169039">.</span><span class="ident" id="5169040"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5169041">;</span>&nbsp;<span class="ident" id="5169043"><a href="/gostd/image/image.go.html#5169006">y</a></span><span class="op" id="5169044">++</span>&nbsp;<span class="op" id="5169047">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5169051">for</span>&nbsp;<span class="ident" id="5169055">i</span>&nbsp;<span class="op" id="5169057">:=</span>&nbsp;<span class="ident" id="5169060"><a href="/gostd/image/image.go.html#5168976">i0</a></span><span class="op" id="5169062">;</span>&nbsp;<span class="ident" id="5169064"><a href="/gostd/image/image.go.html#5169055">i</a></span>&nbsp;<span class="op" id="5169066">&lt;</span>&nbsp;<span class="ident" id="5169068"><a href="/gostd/image/image.go.html#5168980">i1</a></span><span class="op" id="5169070">;</span>&nbsp;<span class="ident" id="5169072"><a href="/gostd/image/image.go.html#5169055">i</a></span><span class="op" id="5169073">++</span>&nbsp;<span class="op" id="5169076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5169081">if</span>&nbsp;<span class="ident" id="5169084"><a href="/gostd/image/image.go.html#5168911">p</a></span><span class="op" id="5169085">.</span><span class="ident" id="5169086"><a href="/gostd/image/image.go.html#5167226">Pix</a></span><span class="op" id="5169089">[</span><span class="ident" id="5169090"><a href="/gostd/image/image.go.html#5169055">i</a></span><span class="op" id="5169091">]</span>&nbsp;<span class="op" id="5169093">!=</span>&nbsp;<span class="num" id="5169096">0xff</span>&nbsp;<span class="op" id="5169101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5169107">return</span>&nbsp;<span class="builtintype" id="5169114">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5169123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5169127">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5169131"><a href="/gostd/image/image.go.html#5168976">i0</a></span>&nbsp;<span class="op" id="5169134">+=</span>&nbsp;<span class="ident" id="5169137"><a href="/gostd/image/image.go.html#5168911">p</a></span><span class="op" id="5169138">.</span><span class="ident" id="5169139"><a href="/gostd/image/image.go.html#5167315">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5169148"><a href="/gostd/image/image.go.html#5168980">i1</a></span>&nbsp;<span class="op" id="5169151">+=</span>&nbsp;<span class="ident" id="5169154"><a href="/gostd/image/image.go.html#5168911">p</a></span><span class="op" id="5169155">.</span><span class="ident" id="5169156"><a href="/gostd/image/image.go.html#5167315">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5169164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5169167">return</span>&nbsp;<span class="builtintype" id="5169174">true</span><br>
<span class="lineno"></span><span class="op" id="5169179">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span><span class="comment" id="5169182">//&nbsp;NewAlpha&nbsp;returns&nbsp;a&nbsp;new&nbsp;Alpha&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="5169237">func</span>&nbsp;<span class="ident" id="5169242">NewAlpha</span><span class="op" id="5169250">(</span><span class="ident" id="5169251">r</span>&nbsp;<span class="ident" id="5169253"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5169262">)</span>&nbsp;<span class="op" id="5169264">*</span><span class="ident" id="5169265"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span>&nbsp;<span class="op" id="5169271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5169274">w</span><span class="op" id="5169275">,</span>&nbsp;<span class="ident" id="5169277">h</span>&nbsp;<span class="op" id="5169279">:=</span>&nbsp;<span class="ident" id="5169282"><a href="/gostd/image/image.go.html#5169251">r</a></span><span class="op" id="5169283">.</span><span class="ident" id="5169284"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5169286">(</span><span class="op" id="5169287">)</span><span class="op" id="5169288">,</span>&nbsp;<span class="ident" id="5169290"><a href="/gostd/image/image.go.html#5169251">r</a></span><span class="op" id="5169291">.</span><span class="ident" id="5169292"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5169294">(</span><span class="op" id="5169295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5169298">pix</span>&nbsp;<span class="op" id="5169302">:=</span>&nbsp;<span class="builtinfunc" id="5169305">make</span><span class="op" id="5169309">(</span><span class="op" id="5169310">[</span><span class="op" id="5169311">]</span><span class="builtintype" id="5169312">uint8</span><span class="op" id="5169317">,</span>&nbsp;<span class="num" id="5169319">1</span><span class="op" id="5169320">*</span><span class="ident" id="5169321"><a href="/gostd/image/image.go.html#5169274">w</a></span><span class="op" id="5169322">*</span><span class="ident" id="5169323"><a href="/gostd/image/image.go.html#5169277">h</a></span><span class="op" id="5169324">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5169327">return</span>&nbsp;<span class="op" id="5169334">&amp;</span><span class="ident" id="5169335"><a href="/gostd/image/image.go.html#5167078">Alpha</a></span><span class="op" id="5169340">{</span><span class="ident" id="5169341"><a href="/gostd/image/image.go.html#5169298">pix</a></span><span class="op" id="5169344">,</span>&nbsp;<span class="num" id="5169346">1</span>&nbsp;<span class="op" id="5169348">*</span>&nbsp;<span class="ident" id="5169350"><a href="/gostd/image/image.go.html#5169274">w</a></span><span class="op" id="5169351">,</span>&nbsp;<span class="ident" id="5169353"><a href="/gostd/image/image.go.html#5169251">r</a></span><span class="op" id="5169354">}</span><br>
<span class="lineno"></span><span class="op" id="5169356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5169359">//&nbsp;Alpha16&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.Alpha64&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5169438">type</span>&nbsp;<span class="ident" id="5169443">Alpha16</span>&nbsp;<span class="keyword" id="5169451">struct</span>&nbsp;<span class="op" id="5169458">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5169461">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;as&nbsp;alpha&nbsp;values&nbsp;in&nbsp;big-endian&nbsp;format.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5169546">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*2].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5169614">Pix</span>&nbsp;<span class="op" id="5169618">[</span><span class="op" id="5169619">]</span><span class="builtintype" id="5169620">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5169627">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5169703">Stride</span>&nbsp;<span class="builtintype" id="5169710">int</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5169715">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5169747">Rect</span>&nbsp;<span class="ident" id="5169752"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span><span class="op" id="5169762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5169765">func</span>&nbsp;<span class="op" id="5169770">(</span><span class="ident" id="5169771">p</span>&nbsp;<span class="op" id="5169773">*</span><span class="ident" id="5169774"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5169781">)</span>&nbsp;<span class="ident" id="5169783">ColorModel</span><span class="op" id="5169793">(</span><span class="op" id="5169794">)</span>&nbsp;<span class="ident" id="5169796"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5169801">.</span><span class="ident" id="5169802"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5169808">{</span>&nbsp;<span class="keyword" id="5169810">return</span>&nbsp;<span class="ident" id="5169817"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5169822">.</span><span class="ident" id="5169823"><a href="/gostd/image/color/color.go.html#5188409">Alpha16Model</a></span>&nbsp;<span class="op" id="5169836">}</span><br>
<span class="lineno">585</span><br>
<span class="lineno"></span><span class="keyword" id="5169839">func</span>&nbsp;<span class="op" id="5169844">(</span><span class="ident" id="5169845">p</span>&nbsp;<span class="op" id="5169847">*</span><span class="ident" id="5169848"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5169855">)</span>&nbsp;<span class="ident" id="5169857">Bounds</span><span class="op" id="5169863">(</span><span class="op" id="5169864">)</span>&nbsp;<span class="ident" id="5169866"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5169876">{</span>&nbsp;<span class="keyword" id="5169878">return</span>&nbsp;<span class="ident" id="5169885"><a href="/gostd/image/image.go.html#5169845">p</a></span><span class="op" id="5169886">.</span><span class="ident" id="5169887"><a href="/gostd/image/image.go.html#5169747">Rect</a></span>&nbsp;<span class="op" id="5169892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5169895">func</span>&nbsp;<span class="op" id="5169900">(</span><span class="ident" id="5169901">p</span>&nbsp;<span class="op" id="5169903">*</span><span class="ident" id="5169904"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5169911">)</span>&nbsp;<span class="ident" id="5169913">At</span><span class="op" id="5169915">(</span><span class="ident" id="5169916">x</span><span class="op" id="5169917">,</span>&nbsp;<span class="ident" id="5169919">y</span>&nbsp;<span class="builtintype" id="5169921">int</span><span class="op" id="5169924">)</span>&nbsp;<span class="ident" id="5169926"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5169931">.</span><span class="ident" id="5169932"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5169938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5169941">return</span>&nbsp;<span class="ident" id="5169948"><a href="/gostd/image/image.go.html#5169901">p</a></span><span class="op" id="5169949">.</span><span class="ident" id="5169950"><a href="/gostd/image/image.go.html#5169987">Alpha16At</a></span><span class="op" id="5169959">(</span><span class="ident" id="5169960"><a href="/gostd/image/image.go.html#5169916">x</a></span><span class="op" id="5169961">,</span>&nbsp;<span class="ident" id="5169963"><a href="/gostd/image/image.go.html#5169919">y</a></span><span class="op" id="5169964">)</span><br>
<span class="lineno">590</span><span class="op" id="5169966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5169969">func</span>&nbsp;<span class="op" id="5169974">(</span><span class="ident" id="5169975">p</span>&nbsp;<span class="op" id="5169977">*</span><span class="ident" id="5169978"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5169985">)</span>&nbsp;<span class="ident" id="5169987">Alpha16At</span><span class="op" id="5169996">(</span><span class="ident" id="5169997">x</span><span class="op" id="5169998">,</span>&nbsp;<span class="ident" id="5170000">y</span>&nbsp;<span class="builtintype" id="5170002">int</span><span class="op" id="5170005">)</span>&nbsp;<span class="ident" id="5170007"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5170012">.</span><span class="ident" id="5170013"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span>&nbsp;<span class="op" id="5170021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170024">if</span>&nbsp;<span class="op" id="5170027">!</span><span class="op" id="5170028">(</span><span class="ident" id="5170029"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5170034">{</span><span class="ident" id="5170035"><a href="/gostd/image/image.go.html#5169997">x</a></span><span class="op" id="5170036">,</span>&nbsp;<span class="ident" id="5170038"><a href="/gostd/image/image.go.html#5170000">y</a></span><span class="op" id="5170039">}</span><span class="op" id="5170040">.</span><span class="ident" id="5170041"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5170043">(</span><span class="ident" id="5170044"><a href="/gostd/image/image.go.html#5169975">p</a></span><span class="op" id="5170045">.</span><span class="ident" id="5170046"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5170050">)</span><span class="op" id="5170051">)</span>&nbsp;<span class="op" id="5170053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170057">return</span>&nbsp;<span class="ident" id="5170064"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5170069">.</span><span class="ident" id="5170070"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5170077">{</span><span class="op" id="5170078">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5170081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170084">i</span>&nbsp;<span class="op" id="5170086">:=</span>&nbsp;<span class="ident" id="5170089"><a href="/gostd/image/image.go.html#5169975">p</a></span><span class="op" id="5170090">.</span><span class="ident" id="5170091"><a href="/gostd/image/image.go.html#5170297">PixOffset</a></span><span class="op" id="5170100">(</span><span class="ident" id="5170101"><a href="/gostd/image/image.go.html#5169997">x</a></span><span class="op" id="5170102">,</span>&nbsp;<span class="ident" id="5170104"><a href="/gostd/image/image.go.html#5170000">y</a></span><span class="op" id="5170105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170108">return</span>&nbsp;<span class="ident" id="5170115"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5170120">.</span><span class="ident" id="5170121"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5170128">{</span><span class="builtintype" id="5170129">uint16</span><span class="op" id="5170135">(</span><span class="ident" id="5170136"><a href="/gostd/image/image.go.html#5169975">p</a></span><span class="op" id="5170137">.</span><span class="ident" id="5170138"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5170141">[</span><span class="ident" id="5170142"><a href="/gostd/image/image.go.html#5170084">i</a></span><span class="op" id="5170143">+</span><span class="num" id="5170144">0</span><span class="op" id="5170145">]</span><span class="op" id="5170146">)</span><span class="op" id="5170147">&lt;&lt;</span><span class="num" id="5170149">8</span>&nbsp;<span class="op" id="5170151">|</span>&nbsp;<span class="builtintype" id="5170153">uint16</span><span class="op" id="5170159">(</span><span class="ident" id="5170160"><a href="/gostd/image/image.go.html#5169975">p</a></span><span class="op" id="5170161">.</span><span class="ident" id="5170162"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5170165">[</span><span class="ident" id="5170166"><a href="/gostd/image/image.go.html#5170084">i</a></span><span class="op" id="5170167">+</span><span class="num" id="5170168">1</span><span class="op" id="5170169">]</span><span class="op" id="5170170">)</span><span class="op" id="5170171">}</span><br>
<span class="lineno"></span><span class="op" id="5170173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="comment" id="5170176">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5170255">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5170279">func</span>&nbsp;<span class="op" id="5170284">(</span><span class="ident" id="5170285">p</span>&nbsp;<span class="op" id="5170287">*</span><span class="ident" id="5170288"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5170295">)</span>&nbsp;<span class="ident" id="5170297">PixOffset</span><span class="op" id="5170306">(</span><span class="ident" id="5170307">x</span><span class="op" id="5170308">,</span>&nbsp;<span class="ident" id="5170310">y</span>&nbsp;<span class="builtintype" id="5170312">int</span><span class="op" id="5170315">)</span>&nbsp;<span class="builtintype" id="5170317">int</span>&nbsp;<span class="op" id="5170321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170324">return</span>&nbsp;<span class="op" id="5170331">(</span><span class="ident" id="5170332"><a href="/gostd/image/image.go.html#5170310">y</a></span><span class="op" id="5170333">-</span><span class="ident" id="5170334"><a href="/gostd/image/image.go.html#5170285">p</a></span><span class="op" id="5170335">.</span><span class="ident" id="5170336"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5170340">.</span><span class="ident" id="5170341"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5170344">.</span><span class="ident" id="5170345"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5170346">)</span><span class="op" id="5170347">*</span><span class="ident" id="5170348"><a href="/gostd/image/image.go.html#5170285">p</a></span><span class="op" id="5170349">.</span><span class="ident" id="5170350"><a href="/gostd/image/image.go.html#5169703">Stride</a></span>&nbsp;<span class="op" id="5170357">+</span>&nbsp;<span class="op" id="5170359">(</span><span class="ident" id="5170360"><a href="/gostd/image/image.go.html#5170307">x</a></span><span class="op" id="5170361">-</span><span class="ident" id="5170362"><a href="/gostd/image/image.go.html#5170285">p</a></span><span class="op" id="5170363">.</span><span class="ident" id="5170364"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5170368">.</span><span class="ident" id="5170369"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5170372">.</span><span class="ident" id="5170373"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5170374">)</span><span class="op" id="5170375">*</span><span class="num" id="5170376">2</span><br>
<span class="lineno"></span><span class="op" id="5170378">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span><span class="keyword" id="5170381">func</span>&nbsp;<span class="op" id="5170386">(</span><span class="ident" id="5170387">p</span>&nbsp;<span class="op" id="5170389">*</span><span class="ident" id="5170390"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5170397">)</span>&nbsp;<span class="ident" id="5170399">Set</span><span class="op" id="5170402">(</span><span class="ident" id="5170403">x</span><span class="op" id="5170404">,</span>&nbsp;<span class="ident" id="5170406">y</span>&nbsp;<span class="builtintype" id="5170408">int</span><span class="op" id="5170411">,</span>&nbsp;<span class="ident" id="5170413">c</span>&nbsp;<span class="ident" id="5170415"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5170420">.</span><span class="ident" id="5170421"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5170426">)</span>&nbsp;<span class="op" id="5170428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170431">if</span>&nbsp;<span class="op" id="5170434">!</span><span class="op" id="5170435">(</span><span class="ident" id="5170436"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5170441">{</span><span class="ident" id="5170442"><a href="/gostd/image/image.go.html#5170403">x</a></span><span class="op" id="5170443">,</span>&nbsp;<span class="ident" id="5170445"><a href="/gostd/image/image.go.html#5170406">y</a></span><span class="op" id="5170446">}</span><span class="op" id="5170447">.</span><span class="ident" id="5170448"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5170450">(</span><span class="ident" id="5170451"><a href="/gostd/image/image.go.html#5170387">p</a></span><span class="op" id="5170452">.</span><span class="ident" id="5170453"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5170457">)</span><span class="op" id="5170458">)</span>&nbsp;<span class="op" id="5170460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170464">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5170472">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170475">i</span>&nbsp;<span class="op" id="5170477">:=</span>&nbsp;<span class="ident" id="5170480"><a href="/gostd/image/image.go.html#5170387">p</a></span><span class="op" id="5170481">.</span><span class="ident" id="5170482"><a href="/gostd/image/image.go.html#5170297">PixOffset</a></span><span class="op" id="5170491">(</span><span class="ident" id="5170492"><a href="/gostd/image/image.go.html#5170403">x</a></span><span class="op" id="5170493">,</span>&nbsp;<span class="ident" id="5170495"><a href="/gostd/image/image.go.html#5170406">y</a></span><span class="op" id="5170496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170499">c1</span>&nbsp;<span class="op" id="5170502">:=</span>&nbsp;<span class="ident" id="5170505"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5170510">.</span><span class="ident" id="5170511"><a href="/gostd/image/color/color.go.html#5188409">Alpha16Model</a></span><span class="op" id="5170523">.</span><span class="ident" id="5170524"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5170531">(</span><span class="ident" id="5170532"><a href="/gostd/image/image.go.html#5170413">c</a></span><span class="op" id="5170533">)</span><span class="op" id="5170534">.</span><span class="op" id="5170535">(</span><span class="ident" id="5170536"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5170541">.</span><span class="ident" id="5170542"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5170549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170552"><a href="/gostd/image/image.go.html#5170387">p</a></span><span class="op" id="5170553">.</span><span class="ident" id="5170554"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5170557">[</span><span class="ident" id="5170558"><a href="/gostd/image/image.go.html#5170475">i</a></span><span class="op" id="5170559">+</span><span class="num" id="5170560">0</span><span class="op" id="5170561">]</span>&nbsp;<span class="op" id="5170563">=</span>&nbsp;<span class="builtintype" id="5170565">uint8</span><span class="op" id="5170570">(</span><span class="ident" id="5170571"><a href="/gostd/image/image.go.html#5170499">c1</a></span><span class="op" id="5170573">.</span><span class="ident" id="5170574"><a href="/gostd/image/color/color.go.html#5187068">A</a></span>&nbsp;<span class="op" id="5170576">&gt;&gt;</span>&nbsp;<span class="num" id="5170579">8</span><span class="op" id="5170580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170583"><a href="/gostd/image/image.go.html#5170387">p</a></span><span class="op" id="5170584">.</span><span class="ident" id="5170585"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5170588">[</span><span class="ident" id="5170589"><a href="/gostd/image/image.go.html#5170475">i</a></span><span class="op" id="5170590">+</span><span class="num" id="5170591">1</span><span class="op" id="5170592">]</span>&nbsp;<span class="op" id="5170594">=</span>&nbsp;<span class="builtintype" id="5170596">uint8</span><span class="op" id="5170601">(</span><span class="ident" id="5170602"><a href="/gostd/image/image.go.html#5170499">c1</a></span><span class="op" id="5170604">.</span><span class="ident" id="5170605"><a href="/gostd/image/color/color.go.html#5187068">A</a></span><span class="op" id="5170606">)</span><br>
<span class="lineno"></span><span class="op" id="5170608">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span><span class="keyword" id="5170611">func</span>&nbsp;<span class="op" id="5170616">(</span><span class="ident" id="5170617">p</span>&nbsp;<span class="op" id="5170619">*</span><span class="ident" id="5170620"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5170627">)</span>&nbsp;<span class="ident" id="5170629">SetAlpha16</span><span class="op" id="5170639">(</span><span class="ident" id="5170640">x</span><span class="op" id="5170641">,</span>&nbsp;<span class="ident" id="5170643">y</span>&nbsp;<span class="builtintype" id="5170645">int</span><span class="op" id="5170648">,</span>&nbsp;<span class="ident" id="5170650">c</span>&nbsp;<span class="ident" id="5170652"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5170657">.</span><span class="ident" id="5170658"><a href="/gostd/image/color/color.go.html#5187050">Alpha16</a></span><span class="op" id="5170665">)</span>&nbsp;<span class="op" id="5170667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170670">if</span>&nbsp;<span class="op" id="5170673">!</span><span class="op" id="5170674">(</span><span class="ident" id="5170675"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5170680">{</span><span class="ident" id="5170681"><a href="/gostd/image/image.go.html#5170640">x</a></span><span class="op" id="5170682">,</span>&nbsp;<span class="ident" id="5170684"><a href="/gostd/image/image.go.html#5170643">y</a></span><span class="op" id="5170685">}</span><span class="op" id="5170686">.</span><span class="ident" id="5170687"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5170689">(</span><span class="ident" id="5170690"><a href="/gostd/image/image.go.html#5170617">p</a></span><span class="op" id="5170691">.</span><span class="ident" id="5170692"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5170696">)</span><span class="op" id="5170697">)</span>&nbsp;<span class="op" id="5170699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5170703">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5170711">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170714">i</span>&nbsp;<span class="op" id="5170716">:=</span>&nbsp;<span class="ident" id="5170719"><a href="/gostd/image/image.go.html#5170617">p</a></span><span class="op" id="5170720">.</span><span class="ident" id="5170721"><a href="/gostd/image/image.go.html#5170297">PixOffset</a></span><span class="op" id="5170730">(</span><span class="ident" id="5170731"><a href="/gostd/image/image.go.html#5170640">x</a></span><span class="op" id="5170732">,</span>&nbsp;<span class="ident" id="5170734"><a href="/gostd/image/image.go.html#5170643">y</a></span><span class="op" id="5170735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170738"><a href="/gostd/image/image.go.html#5170617">p</a></span><span class="op" id="5170739">.</span><span class="ident" id="5170740"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5170743">[</span><span class="ident" id="5170744"><a href="/gostd/image/image.go.html#5170714">i</a></span><span class="op" id="5170745">+</span><span class="num" id="5170746">0</span><span class="op" id="5170747">]</span>&nbsp;<span class="op" id="5170749">=</span>&nbsp;<span class="builtintype" id="5170751">uint8</span><span class="op" id="5170756">(</span><span class="ident" id="5170757"><a href="/gostd/image/image.go.html#5170650">c</a></span><span class="op" id="5170758">.</span><span class="ident" id="5170759"><a href="/gostd/image/color/color.go.html#5187068">A</a></span>&nbsp;<span class="op" id="5170761">&gt;&gt;</span>&nbsp;<span class="num" id="5170764">8</span><span class="op" id="5170765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170768"><a href="/gostd/image/image.go.html#5170617">p</a></span><span class="op" id="5170769">.</span><span class="ident" id="5170770"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5170773">[</span><span class="ident" id="5170774"><a href="/gostd/image/image.go.html#5170714">i</a></span><span class="op" id="5170775">+</span><span class="num" id="5170776">1</span><span class="op" id="5170777">]</span>&nbsp;<span class="op" id="5170779">=</span>&nbsp;<span class="builtintype" id="5170781">uint8</span><span class="op" id="5170786">(</span><span class="ident" id="5170787"><a href="/gostd/image/image.go.html#5170650">c</a></span><span class="op" id="5170788">.</span><span class="ident" id="5170789"><a href="/gostd/image/color/color.go.html#5187068">A</a></span><span class="op" id="5170790">)</span><br>
<span class="lineno"></span><span class="op" id="5170792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span><span class="comment" id="5170795">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5170872">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5170944">func</span>&nbsp;<span class="op" id="5170949">(</span><span class="ident" id="5170950">p</span>&nbsp;<span class="op" id="5170952">*</span><span class="ident" id="5170953"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5170960">)</span>&nbsp;<span class="ident" id="5170962">SubImage</span><span class="op" id="5170970">(</span><span class="ident" id="5170971">r</span>&nbsp;<span class="ident" id="5170973"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5170982">)</span>&nbsp;<span class="ident" id="5170984"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5170990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5170993"><a href="/gostd/image/image.go.html#5170971">r</a></span>&nbsp;<span class="op" id="5170995">=</span>&nbsp;<span class="ident" id="5170997"><a href="/gostd/image/image.go.html#5170971">r</a></span><span class="op" id="5170998">.</span><span class="ident" id="5170999"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5171008">(</span><span class="ident" id="5171009"><a href="/gostd/image/image.go.html#5170950">p</a></span><span class="op" id="5171010">.</span><span class="ident" id="5171011"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5171015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5171018">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5171099">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5171181">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171231">if</span>&nbsp;<span class="ident" id="5171234"><a href="/gostd/image/image.go.html#5170971">r</a></span><span class="op" id="5171235">.</span><span class="ident" id="5171236"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5171241">(</span><span class="op" id="5171242">)</span>&nbsp;<span class="op" id="5171244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171248">return</span>&nbsp;<span class="op" id="5171255">&amp;</span><span class="ident" id="5171256"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5171263">{</span><span class="op" id="5171264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5171267">}</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171270">i</span>&nbsp;<span class="op" id="5171272">:=</span>&nbsp;<span class="ident" id="5171275"><a href="/gostd/image/image.go.html#5170950">p</a></span><span class="op" id="5171276">.</span><span class="ident" id="5171277"><a href="/gostd/image/image.go.html#5170297">PixOffset</a></span><span class="op" id="5171286">(</span><span class="ident" id="5171287"><a href="/gostd/image/image.go.html#5170971">r</a></span><span class="op" id="5171288">.</span><span class="ident" id="5171289"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5171292">.</span><span class="ident" id="5171293"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5171294">,</span>&nbsp;<span class="ident" id="5171296"><a href="/gostd/image/image.go.html#5170971">r</a></span><span class="op" id="5171297">.</span><span class="ident" id="5171298"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5171301">.</span><span class="ident" id="5171302"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5171303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171306">return</span>&nbsp;<span class="op" id="5171313">&amp;</span><span class="ident" id="5171314"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5171321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171325"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5171328">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171333"><a href="/gostd/image/image.go.html#5170950">p</a></span><span class="op" id="5171334">.</span><span class="ident" id="5171335"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5171338">[</span><span class="ident" id="5171339"><a href="/gostd/image/image.go.html#5171270">i</a></span><span class="op" id="5171340">:</span><span class="op" id="5171341">]</span><span class="op" id="5171342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171346"><a href="/gostd/image/image.go.html#5169703">Stride</a></span><span class="op" id="5171352">:</span>&nbsp;<span class="ident" id="5171354"><a href="/gostd/image/image.go.html#5170950">p</a></span><span class="op" id="5171355">.</span><span class="ident" id="5171356"><a href="/gostd/image/image.go.html#5169703">Stride</a></span><span class="op" id="5171362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171366"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5171370">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5171374"><a href="/gostd/image/image.go.html#5170971">r</a></span><span class="op" id="5171375">,</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5171378">}</span><br>
<span class="lineno"></span><span class="op" id="5171380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5171383">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5171456">func</span>&nbsp;<span class="op" id="5171461">(</span><span class="ident" id="5171462">p</span>&nbsp;<span class="op" id="5171464">*</span><span class="ident" id="5171465"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5171472">)</span>&nbsp;<span class="ident" id="5171474">Opaque</span><span class="op" id="5171480">(</span><span class="op" id="5171481">)</span>&nbsp;<span class="builtintype" id="5171483">bool</span>&nbsp;<span class="op" id="5171488">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171491">if</span>&nbsp;<span class="ident" id="5171494"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171495">.</span><span class="ident" id="5171496"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5171500">.</span><span class="ident" id="5171501"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5171506">(</span><span class="op" id="5171507">)</span>&nbsp;<span class="op" id="5171509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171513">return</span>&nbsp;<span class="builtintype" id="5171520">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5171526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171529">i0</span><span class="op" id="5171531">,</span>&nbsp;<span class="ident" id="5171533">i1</span>&nbsp;<span class="op" id="5171536">:=</span>&nbsp;<span class="num" id="5171539">0</span><span class="op" id="5171540">,</span>&nbsp;<span class="ident" id="5171542"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171543">.</span><span class="ident" id="5171544"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5171548">.</span><span class="ident" id="5171549"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5171551">(</span><span class="op" id="5171552">)</span><span class="op" id="5171553">*</span><span class="num" id="5171554">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171557">for</span>&nbsp;<span class="ident" id="5171561">y</span>&nbsp;<span class="op" id="5171563">:=</span>&nbsp;<span class="ident" id="5171566"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171567">.</span><span class="ident" id="5171568"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5171572">.</span><span class="ident" id="5171573"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5171576">.</span><span class="ident" id="5171577"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5171578">;</span>&nbsp;<span class="ident" id="5171580"><a href="/gostd/image/image.go.html#5171561">y</a></span>&nbsp;<span class="op" id="5171582">&lt;</span>&nbsp;<span class="ident" id="5171584"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171585">.</span><span class="ident" id="5171586"><a href="/gostd/image/image.go.html#5169747">Rect</a></span><span class="op" id="5171590">.</span><span class="ident" id="5171591"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="5171594">.</span><span class="ident" id="5171595"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5171596">;</span>&nbsp;<span class="ident" id="5171598"><a href="/gostd/image/image.go.html#5171561">y</a></span><span class="op" id="5171599">++</span>&nbsp;<span class="op" id="5171602">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171606">for</span>&nbsp;<span class="ident" id="5171610">i</span>&nbsp;<span class="op" id="5171612">:=</span>&nbsp;<span class="ident" id="5171615"><a href="/gostd/image/image.go.html#5171529">i0</a></span><span class="op" id="5171617">;</span>&nbsp;<span class="ident" id="5171619"><a href="/gostd/image/image.go.html#5171610">i</a></span>&nbsp;<span class="op" id="5171621">&lt;</span>&nbsp;<span class="ident" id="5171623"><a href="/gostd/image/image.go.html#5171533">i1</a></span><span class="op" id="5171625">;</span>&nbsp;<span class="ident" id="5171627"><a href="/gostd/image/image.go.html#5171610">i</a></span>&nbsp;<span class="op" id="5171629">+=</span>&nbsp;<span class="num" id="5171632">2</span>&nbsp;<span class="op" id="5171634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171639">if</span>&nbsp;<span class="ident" id="5171642"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171643">.</span><span class="ident" id="5171644"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5171647">[</span><span class="ident" id="5171648"><a href="/gostd/image/image.go.html#5171610">i</a></span><span class="op" id="5171649">+</span><span class="num" id="5171650">0</span><span class="op" id="5171651">]</span>&nbsp;<span class="op" id="5171653">!=</span>&nbsp;<span class="num" id="5171656">0xff</span>&nbsp;<span class="op" id="5171661">||</span>&nbsp;<span class="ident" id="5171664"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171665">.</span><span class="ident" id="5171666"><a href="/gostd/image/image.go.html#5169614">Pix</a></span><span class="op" id="5171669">[</span><span class="ident" id="5171670"><a href="/gostd/image/image.go.html#5171610">i</a></span><span class="op" id="5171671">+</span><span class="num" id="5171672">1</span><span class="op" id="5171673">]</span>&nbsp;<span class="op" id="5171675">!=</span>&nbsp;<span class="num" id="5171678">0xff</span>&nbsp;<span class="op" id="5171683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171689">return</span>&nbsp;<span class="builtintype" id="5171696">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5171705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5171709">}</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171713"><a href="/gostd/image/image.go.html#5171529">i0</a></span>&nbsp;<span class="op" id="5171716">+=</span>&nbsp;<span class="ident" id="5171719"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171720">.</span><span class="ident" id="5171721"><a href="/gostd/image/image.go.html#5169703">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171730"><a href="/gostd/image/image.go.html#5171533">i1</a></span>&nbsp;<span class="op" id="5171733">+=</span>&nbsp;<span class="ident" id="5171736"><a href="/gostd/image/image.go.html#5171462">p</a></span><span class="op" id="5171737">.</span><span class="ident" id="5171738"><a href="/gostd/image/image.go.html#5169703">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5171746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171749">return</span>&nbsp;<span class="builtintype" id="5171756">true</span><br>
<span class="lineno"></span><span class="op" id="5171761">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="comment" id="5171764">//&nbsp;NewAlpha16&nbsp;returns&nbsp;a&nbsp;new&nbsp;Alpha16&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="5171823">func</span>&nbsp;<span class="ident" id="5171828">NewAlpha16</span><span class="op" id="5171838">(</span><span class="ident" id="5171839">r</span>&nbsp;<span class="ident" id="5171841"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5171850">)</span>&nbsp;<span class="op" id="5171852">*</span><span class="ident" id="5171853"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span>&nbsp;<span class="op" id="5171861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171864">w</span><span class="op" id="5171865">,</span>&nbsp;<span class="ident" id="5171867">h</span>&nbsp;<span class="op" id="5171869">:=</span>&nbsp;<span class="ident" id="5171872"><a href="/gostd/image/image.go.html#5171839">r</a></span><span class="op" id="5171873">.</span><span class="ident" id="5171874"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5171876">(</span><span class="op" id="5171877">)</span><span class="op" id="5171878">,</span>&nbsp;<span class="ident" id="5171880"><a href="/gostd/image/image.go.html#5171839">r</a></span><span class="op" id="5171881">.</span><span class="ident" id="5171882"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5171884">(</span><span class="op" id="5171885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5171888">pix</span>&nbsp;<span class="op" id="5171892">:=</span>&nbsp;<span class="builtinfunc" id="5171895">make</span><span class="op" id="5171899">(</span><span class="op" id="5171900">[</span><span class="op" id="5171901">]</span><span class="builtintype" id="5171902">uint8</span><span class="op" id="5171907">,</span>&nbsp;<span class="num" id="5171909">2</span><span class="op" id="5171910">*</span><span class="ident" id="5171911"><a href="/gostd/image/image.go.html#5171864">w</a></span><span class="op" id="5171912">*</span><span class="ident" id="5171913"><a href="/gostd/image/image.go.html#5171867">h</a></span><span class="op" id="5171914">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5171917">return</span>&nbsp;<span class="op" id="5171924">&amp;</span><span class="ident" id="5171925"><a href="/gostd/image/image.go.html#5169443">Alpha16</a></span><span class="op" id="5171932">{</span><span class="ident" id="5171933"><a href="/gostd/image/image.go.html#5171888">pix</a></span><span class="op" id="5171936">,</span>&nbsp;<span class="num" id="5171938">2</span>&nbsp;<span class="op" id="5171940">*</span>&nbsp;<span class="ident" id="5171942"><a href="/gostd/image/image.go.html#5171864">w</a></span><span class="op" id="5171943">,</span>&nbsp;<span class="ident" id="5171945"><a href="/gostd/image/image.go.html#5171839">r</a></span><span class="op" id="5171946">}</span><br>
<span class="lineno"></span><span class="op" id="5171948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5171951">//&nbsp;Gray&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.Gray&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5172024">type</span>&nbsp;<span class="ident" id="5172029">Gray</span>&nbsp;<span class="keyword" id="5172034">struct</span>&nbsp;<span class="op" id="5172041">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5172044">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;as&nbsp;gray&nbsp;values.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5172107">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*1].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5172175">Pix</span>&nbsp;<span class="op" id="5172179">[</span><span class="op" id="5172180">]</span><span class="builtintype" id="5172181">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5172188">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5172264">Stride</span>&nbsp;<span class="builtintype" id="5172271">int</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5172276">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5172308">Rect</span>&nbsp;<span class="ident" id="5172313"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span><span class="op" id="5172323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5172326">func</span>&nbsp;<span class="op" id="5172331">(</span><span class="ident" id="5172332">p</span>&nbsp;<span class="op" id="5172334">*</span><span class="ident" id="5172335"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5172339">)</span>&nbsp;<span class="ident" id="5172341">ColorModel</span><span class="op" id="5172351">(</span><span class="op" id="5172352">)</span>&nbsp;<span class="ident" id="5172354"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5172359">.</span><span class="ident" id="5172360"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5172366">{</span>&nbsp;<span class="keyword" id="5172368">return</span>&nbsp;<span class="ident" id="5172375"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5172380">.</span><span class="ident" id="5172381"><a href="/gostd/image/color/color.go.html#5188455">GrayModel</a></span>&nbsp;<span class="op" id="5172391">}</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="5172394">func</span>&nbsp;<span class="op" id="5172399">(</span><span class="ident" id="5172400">p</span>&nbsp;<span class="op" id="5172402">*</span><span class="ident" id="5172403"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5172407">)</span>&nbsp;<span class="ident" id="5172409">Bounds</span><span class="op" id="5172415">(</span><span class="op" id="5172416">)</span>&nbsp;<span class="ident" id="5172418"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5172428">{</span>&nbsp;<span class="keyword" id="5172430">return</span>&nbsp;<span class="ident" id="5172437"><a href="/gostd/image/image.go.html#5172400">p</a></span><span class="op" id="5172438">.</span><span class="ident" id="5172439"><a href="/gostd/image/image.go.html#5172308">Rect</a></span>&nbsp;<span class="op" id="5172444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5172447">func</span>&nbsp;<span class="op" id="5172452">(</span><span class="ident" id="5172453">p</span>&nbsp;<span class="op" id="5172455">*</span><span class="ident" id="5172456"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5172460">)</span>&nbsp;<span class="ident" id="5172462">At</span><span class="op" id="5172464">(</span><span class="ident" id="5172465">x</span><span class="op" id="5172466">,</span>&nbsp;<span class="ident" id="5172468">y</span>&nbsp;<span class="builtintype" id="5172470">int</span><span class="op" id="5172473">)</span>&nbsp;<span class="ident" id="5172475"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5172480">.</span><span class="ident" id="5172481"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5172487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5172490">return</span>&nbsp;<span class="ident" id="5172497"><a href="/gostd/image/image.go.html#5172453">p</a></span><span class="op" id="5172498">.</span><span class="ident" id="5172499"><a href="/gostd/image/image.go.html#5172530">GrayAt</a></span><span class="op" id="5172505">(</span><span class="ident" id="5172506"><a href="/gostd/image/image.go.html#5172465">x</a></span><span class="op" id="5172507">,</span>&nbsp;<span class="ident" id="5172509"><a href="/gostd/image/image.go.html#5172468">y</a></span><span class="op" id="5172510">)</span><br>
<span class="lineno">685</span><span class="op" id="5172512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5172515">func</span>&nbsp;<span class="op" id="5172520">(</span><span class="ident" id="5172521">p</span>&nbsp;<span class="op" id="5172523">*</span><span class="ident" id="5172524"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5172528">)</span>&nbsp;<span class="ident" id="5172530">GrayAt</span><span class="op" id="5172536">(</span><span class="ident" id="5172537">x</span><span class="op" id="5172538">,</span>&nbsp;<span class="ident" id="5172540">y</span>&nbsp;<span class="builtintype" id="5172542">int</span><span class="op" id="5172545">)</span>&nbsp;<span class="ident" id="5172547"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5172552">.</span><span class="ident" id="5172553"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span>&nbsp;<span class="op" id="5172558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5172561">if</span>&nbsp;<span class="op" id="5172564">!</span><span class="op" id="5172565">(</span><span class="ident" id="5172566"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5172571">{</span><span class="ident" id="5172572"><a href="/gostd/image/image.go.html#5172537">x</a></span><span class="op" id="5172573">,</span>&nbsp;<span class="ident" id="5172575"><a href="/gostd/image/image.go.html#5172540">y</a></span><span class="op" id="5172576">}</span><span class="op" id="5172577">.</span><span class="ident" id="5172578"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5172580">(</span><span class="ident" id="5172581"><a href="/gostd/image/image.go.html#5172521">p</a></span><span class="op" id="5172582">.</span><span class="ident" id="5172583"><a href="/gostd/image/image.go.html#5172308">Rect</a></span><span class="op" id="5172587">)</span><span class="op" id="5172588">)</span>&nbsp;<span class="op" id="5172590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5172594">return</span>&nbsp;<span class="ident" id="5172601"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5172606">.</span><span class="ident" id="5172607"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span><span class="op" id="5172611">{</span><span class="op" id="5172612">}</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5172615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5172618">i</span>&nbsp;<span class="op" id="5172620">:=</span>&nbsp;<span class="ident" id="5172623"><a href="/gostd/image/image.go.html#5172521">p</a></span><span class="op" id="5172624">.</span><span class="ident" id="5172625"><a href="/gostd/image/image.go.html#5172791">PixOffset</a></span><span class="op" id="5172634">(</span><span class="ident" id="5172635"><a href="/gostd/image/image.go.html#5172537">x</a></span><span class="op" id="5172636">,</span>&nbsp;<span class="ident" id="5172638"><a href="/gostd/image/image.go.html#5172540">y</a></span><span class="op" id="5172639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5172642">return</span>&nbsp;<span class="ident" id="5172649"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5172654">.</span><span class="ident" id="5172655"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span><span class="op" id="5172659">{</span><span class="ident" id="5172660"><a href="/gostd/image/image.go.html#5172521">p</a></span><span class="op" id="5172661">.</span><span class="ident" id="5172662"><a href="/gostd/image/image.go.html#5172175">Pix</a></span><span class="op" id="5172665">[</span><span class="ident" id="5172666"><a href="/gostd/image/image.go.html#5172618">i</a></span><span class="op" id="5172667">]</span><span class="op" id="5172668">}</span><br>
<span class="lineno"></span><span class="op" id="5172670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="5172673">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5172752">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5172776">func</span>&nbsp;<span class="op" id="5172781">(</span><span class="ident" id="5172782">p</span>&nbsp;<span class="op" id="5172784">*</span><span class="ident" id="5172785"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5172789">)</span>&nbsp;<span class="ident" id="5172791">PixOffset</span><span class="op" id="5172800">(</span><span class="ident" id="5172801">x</span><span class="op" id="5172802">,</span>&nbsp;<span class="ident" id="5172804">y</span>&nbsp;<span class="builtintype" id="5172806">int</span><span class="op" id="5172809">)</span>&nbsp;<span class="builtintype" id="5172811">int</span>&nbsp;<span class="op" id="5172815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5172818">return</span>&nbsp;<span class="op" id="5172825">(</span><span class="ident" id="5172826"><a href="/gostd/image/image.go.html#5172804">y</a></span><span class="op" id="5172827">-</span><span class="ident" id="5172828"><a href="/gostd/image/image.go.html#5172782">p</a></span><span class="op" id="5172829">.</span><span class="ident" id="5172830"><a href="/gostd/image/image.go.html#5172308">Rect</a></span><span class="op" id="5172834">.</span><span class="ident" id="5172835"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5172838">.</span><span class="ident" id="5172839"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5172840">)</span><span class="op" id="5172841">*</span><span class="ident" id="5172842"><a href="/gostd/image/image.go.html#5172782">p</a></span><span class="op" id="5172843">.</span><span class="ident" id="5172844"><a href="/gostd/image/image.go.html#5172264">Stride</a></span>&nbsp;<span class="op" id="5172851">+</span>&nbsp;<span class="op" id="5172853">(</span><span class="ident" id="5172854"><a href="/gostd/image/image.go.html#5172801">x</a></span><span class="op" id="5172855">-</span><span class="ident" id="5172856"><a href="/gostd/image/image.go.html#5172782">p</a></span><span class="op" id="5172857">.</span><span class="ident" id="5172858"><a href="/gostd/image/image.go.html#5172308">Rect</a></span><span class="op" id="5172862">.</span><span class="ident" id="5172863"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5172866">.</span><span class="ident" id="5172867"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5172868">)</span><span class="op" id="5172869">*</span><span class="num" id="5172870">1</span><br>
<span class="lineno"></span><span class="op" id="5172872">}</span><br>
<span class="lineno">700</span><br>
<span class="lineno"></span><span class="keyword" id="5172875">func</span>&nbsp;<span class="op" id="5172880">(</span><span class="ident" id="5172881">p</span>&nbsp;<span class="op" id="5172883">*</span><span class="ident" id="5172884"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5172888">)</span>&nbsp;<span class="ident" id="5172890">Set</span><span class="op" id="5172893">(</span><span class="ident" id="5172894">x</span><span class="op" id="5172895">,</span>&nbsp;<span class="ident" id="5172897">y</span>&nbsp;<span class="builtintype" id="5172899">int</span><span class="op" id="5172902">,</span>&nbsp;<span class="ident" id="5172904">c</span>&nbsp;<span class="ident" id="5172906"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5172911">.</span><span class="ident" id="5172912"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5172917">)</span>&nbsp;<span class="op" id="5172919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5172922">if</span>&nbsp;<span class="op" id="5172925">!</span><span class="op" id="5172926">(</span><span class="ident" id="5172927"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5172932">{</span><span class="ident" id="5172933"><a href="/gostd/image/image.go.html#5172894">x</a></span><span class="op" id="5172934">,</span>&nbsp;<span class="ident" id="5172936"><a href="/gostd/image/image.go.html#5172897">y</a></span><span class="op" id="5172937">}</span><span class="op" id="5172938">.</span><span class="ident" id="5172939"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5172941">(</span><span class="ident" id="5172942"><a href="/gostd/image/image.go.html#5172881">p</a></span><span class="op" id="5172943">.</span><span class="ident" id="5172944"><a href="/gostd/image/image.go.html#5172308">Rect</a></span><span class="op" id="5172948">)</span><span class="op" id="5172949">)</span>&nbsp;<span class="op" id="5172951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5172955">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5172963">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5172966">i</span>&nbsp;<span class="op" id="5172968">:=</span>&nbsp;<span class="ident" id="5172971"><a href="/gostd/image/image.go.html#5172881">p</a></span><span class="op" id="5172972">.</span><span class="ident" id="5172973"><a href="/gostd/image/image.go.html#5172791">PixOffset</a></span><span class="op" id="5172982">(</span><span class="ident" id="5172983"><a href="/gostd/image/image.go.html#5172894">x</a></span><span class="op" id="5172984">,</span>&nbsp;<span class="ident" id="5172986"><a href="/gostd/image/image.go.html#5172897">y</a></span><span class="op" id="5172987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5172990"><a href="/gostd/image/image.go.html#5172881">p</a></span><span class="op" id="5172991">.</span><span class="ident" id="5172992"><a href="/gostd/image/image.go.html#5172175">Pix</a></span><span class="op" id="5172995">[</span><span class="ident" id="5172996"><a href="/gostd/image/image.go.html#5172966">i</a></span><span class="op" id="5172997">]</span>&nbsp;<span class="op" id="5172999">=</span>&nbsp;<span class="ident" id="5173001"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5173006">.</span><span class="ident" id="5173007"><a href="/gostd/image/color/color.go.html#5188455">GrayModel</a></span><span class="op" id="5173016">.</span><span class="ident" id="5173017"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5173024">(</span><span class="ident" id="5173025"><a href="/gostd/image/image.go.html#5172904">c</a></span><span class="op" id="5173026">)</span><span class="op" id="5173027">.</span><span class="op" id="5173028">(</span><span class="ident" id="5173029"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5173034">.</span><span class="ident" id="5173035"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span><span class="op" id="5173039">)</span><span class="op" id="5173040">.</span><span class="ident" id="5173041"><a href="/gostd/image/color/color.go.html#5187230">Y</a></span><br>
<span class="lineno"></span><span class="op" id="5173043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5173046">func</span>&nbsp;<span class="op" id="5173051">(</span><span class="ident" id="5173052">p</span>&nbsp;<span class="op" id="5173054">*</span><span class="ident" id="5173055"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5173059">)</span>&nbsp;<span class="ident" id="5173061">SetGray</span><span class="op" id="5173068">(</span><span class="ident" id="5173069">x</span><span class="op" id="5173070">,</span>&nbsp;<span class="ident" id="5173072">y</span>&nbsp;<span class="builtintype" id="5173074">int</span><span class="op" id="5173077">,</span>&nbsp;<span class="ident" id="5173079">c</span>&nbsp;<span class="ident" id="5173081"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5173086">.</span><span class="ident" id="5173087"><a href="/gostd/image/color/color.go.html#5187215">Gray</a></span><span class="op" id="5173091">)</span>&nbsp;<span class="op" id="5173093">{</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5173096">if</span>&nbsp;<span class="op" id="5173099">!</span><span class="op" id="5173100">(</span><span class="ident" id="5173101"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5173106">{</span><span class="ident" id="5173107"><a href="/gostd/image/image.go.html#5173069">x</a></span><span class="op" id="5173108">,</span>&nbsp;<span class="ident" id="5173110"><a href="/gostd/image/image.go.html#5173072">y</a></span><span class="op" id="5173111">}</span><span class="op" id="5173112">.</span><span class="ident" id="5173113"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5173115">(</span><span class="ident" id="5173116"><a href="/gostd/image/image.go.html#5173052">p</a></span><span class="op" id="5173117">.</span><span class="ident" id="5173118"><a href="/gostd/image/image.go.html#5172308">Rect</a></span><span class="op" id="5173122">)</span><span class="op" id="5173123">)</span>&nbsp;<span class="op" id="5173125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5173129">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5173137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173140">i</span>&nbsp;<span class="op" id="5173142">:=</span>&nbsp;<span class="ident" id="5173145"><a href="/gostd/image/image.go.html#5173052">p</a></span><span class="op" id="5173146">.</span><span class="ident" id="5173147"><a href="/gostd/image/image.go.html#5172791">PixOffset</a></span><span class="op" id="5173156">(</span><span class="ident" id="5173157"><a href="/gostd/image/image.go.html#5173069">x</a></span><span class="op" id="5173158">,</span>&nbsp;<span class="ident" id="5173160"><a href="/gostd/image/image.go.html#5173072">y</a></span><span class="op" id="5173161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173164"><a href="/gostd/image/image.go.html#5173052">p</a></span><span class="op" id="5173165">.</span><span class="ident" id="5173166"><a href="/gostd/image/image.go.html#5172175">Pix</a></span><span class="op" id="5173169">[</span><span class="ident" id="5173170"><a href="/gostd/image/image.go.html#5173140">i</a></span><span class="op" id="5173171">]</span>&nbsp;<span class="op" id="5173173">=</span>&nbsp;<span class="ident" id="5173175"><a href="/gostd/image/image.go.html#5173079">c</a></span><span class="op" id="5173176">.</span><span class="ident" id="5173177"><a href="/gostd/image/color/color.go.html#5187230">Y</a></span><br>
<span class="lineno">715</span><span class="op" id="5173179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5173182">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5173259">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5173331">func</span>&nbsp;<span class="op" id="5173336">(</span><span class="ident" id="5173337">p</span>&nbsp;<span class="op" id="5173339">*</span><span class="ident" id="5173340"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5173344">)</span>&nbsp;<span class="ident" id="5173346">SubImage</span><span class="op" id="5173354">(</span><span class="ident" id="5173355">r</span>&nbsp;<span class="ident" id="5173357"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5173366">)</span>&nbsp;<span class="ident" id="5173368"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5173374">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173377"><a href="/gostd/image/image.go.html#5173355">r</a></span>&nbsp;<span class="op" id="5173379">=</span>&nbsp;<span class="ident" id="5173381"><a href="/gostd/image/image.go.html#5173355">r</a></span><span class="op" id="5173382">.</span><span class="ident" id="5173383"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5173392">(</span><span class="ident" id="5173393"><a href="/gostd/image/image.go.html#5173337">p</a></span><span class="op" id="5173394">.</span><span class="ident" id="5173395"><a href="/gostd/image/image.go.html#5172308">Rect</a></span><span class="op" id="5173399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5173402">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5173483">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5173565">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5173615">if</span>&nbsp;<span class="ident" id="5173618"><a href="/gostd/image/image.go.html#5173355">r</a></span><span class="op" id="5173619">.</span><span class="ident" id="5173620"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5173625">(</span><span class="op" id="5173626">)</span>&nbsp;<span class="op" id="5173628">{</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5173632">return</span>&nbsp;<span class="op" id="5173639">&amp;</span><span class="ident" id="5173640"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5173644">{</span><span class="op" id="5173645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5173648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173651">i</span>&nbsp;<span class="op" id="5173653">:=</span>&nbsp;<span class="ident" id="5173656"><a href="/gostd/image/image.go.html#5173337">p</a></span><span class="op" id="5173657">.</span><span class="ident" id="5173658"><a href="/gostd/image/image.go.html#5172791">PixOffset</a></span><span class="op" id="5173667">(</span><span class="ident" id="5173668"><a href="/gostd/image/image.go.html#5173355">r</a></span><span class="op" id="5173669">.</span><span class="ident" id="5173670"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5173673">.</span><span class="ident" id="5173674"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5173675">,</span>&nbsp;<span class="ident" id="5173677"><a href="/gostd/image/image.go.html#5173355">r</a></span><span class="op" id="5173678">.</span><span class="ident" id="5173679"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5173682">.</span><span class="ident" id="5173683"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5173684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5173687">return</span>&nbsp;<span class="op" id="5173694">&amp;</span><span class="ident" id="5173695"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5173699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173703"><a href="/gostd/image/image.go.html#5172175">Pix</a></span><span class="op" id="5173706">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173711"><a href="/gostd/image/image.go.html#5173337">p</a></span><span class="op" id="5173712">.</span><span class="ident" id="5173713"><a href="/gostd/image/image.go.html#5172175">Pix</a></span><span class="op" id="5173716">[</span><span class="ident" id="5173717"><a href="/gostd/image/image.go.html#5173651">i</a></span><span class="op" id="5173718">:</span><span class="op" id="5173719">]</span><span class="op" id="5173720">,</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173724"><a href="/gostd/image/image.go.html#5172264">Stride</a></span><span class="op" id="5173730">:</span>&nbsp;<span class="ident" id="5173732"><a href="/gostd/image/image.go.html#5173337">p</a></span><span class="op" id="5173733">.</span><span class="ident" id="5173734"><a href="/gostd/image/image.go.html#5172264">Stride</a></span><span class="op" id="5173740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173744"><a href="/gostd/image/image.go.html#5172308">Rect</a></span><span class="op" id="5173748">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5173752"><a href="/gostd/image/image.go.html#5173355">r</a></span><span class="op" id="5173753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5173756">}</span><br>
<span class="lineno"></span><span class="op" id="5173758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span><span class="comment" id="5173761">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5173834">func</span>&nbsp;<span class="op" id="5173839">(</span><span class="ident" id="5173840">p</span>&nbsp;<span class="op" id="5173842">*</span><span class="ident" id="5173843"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5173847">)</span>&nbsp;<span class="ident" id="5173849">Opaque</span><span class="op" id="5173855">(</span><span class="op" id="5173856">)</span>&nbsp;<span class="builtintype" id="5173858">bool</span>&nbsp;<span class="op" id="5173863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5173866">return</span>&nbsp;<span class="builtintype" id="5173873">true</span><br>
<span class="lineno"></span><span class="op" id="5173878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">740</span><span class="comment" id="5173881">//&nbsp;NewGray&nbsp;returns&nbsp;a&nbsp;new&nbsp;Gray&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="5173934">func</span>&nbsp;<span class="ident" id="5173939">NewGray</span><span class="op" id="5173946">(</span><span class="ident" id="5173947">r</span>&nbsp;<span class="ident" id="5173949"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5173958">)</span>&nbsp;<span class="op" id="5173960">*</span><span class="ident" id="5173961"><a href="/gostd/image/image.go.html#5172029">Gray</a></span>&nbsp;<span class="op" id="5173966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173969">w</span><span class="op" id="5173970">,</span>&nbsp;<span class="ident" id="5173972">h</span>&nbsp;<span class="op" id="5173974">:=</span>&nbsp;<span class="ident" id="5173977"><a href="/gostd/image/image.go.html#5173947">r</a></span><span class="op" id="5173978">.</span><span class="ident" id="5173979"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5173981">(</span><span class="op" id="5173982">)</span><span class="op" id="5173983">,</span>&nbsp;<span class="ident" id="5173985"><a href="/gostd/image/image.go.html#5173947">r</a></span><span class="op" id="5173986">.</span><span class="ident" id="5173987"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5173989">(</span><span class="op" id="5173990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5173993">pix</span>&nbsp;<span class="op" id="5173997">:=</span>&nbsp;<span class="builtinfunc" id="5174000">make</span><span class="op" id="5174004">(</span><span class="op" id="5174005">[</span><span class="op" id="5174006">]</span><span class="builtintype" id="5174007">uint8</span><span class="op" id="5174012">,</span>&nbsp;<span class="num" id="5174014">1</span><span class="op" id="5174015">*</span><span class="ident" id="5174016"><a href="/gostd/image/image.go.html#5173969">w</a></span><span class="op" id="5174017">*</span><span class="ident" id="5174018"><a href="/gostd/image/image.go.html#5173972">h</a></span><span class="op" id="5174019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5174022">return</span>&nbsp;<span class="op" id="5174029">&amp;</span><span class="ident" id="5174030"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="5174034">{</span><span class="ident" id="5174035"><a href="/gostd/image/image.go.html#5173993">pix</a></span><span class="op" id="5174038">,</span>&nbsp;<span class="num" id="5174040">1</span>&nbsp;<span class="op" id="5174042">*</span>&nbsp;<span class="ident" id="5174044"><a href="/gostd/image/image.go.html#5173969">w</a></span><span class="op" id="5174045">,</span>&nbsp;<span class="ident" id="5174047"><a href="/gostd/image/image.go.html#5173947">r</a></span><span class="op" id="5174048">}</span><br>
<span class="lineno">745</span><span class="op" id="5174050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5174053">//&nbsp;Gray16&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;whose&nbsp;At&nbsp;method&nbsp;returns&nbsp;color.Gray16&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="5174130">type</span>&nbsp;<span class="ident" id="5174135">Gray16</span>&nbsp;<span class="keyword" id="5174142">struct</span>&nbsp;<span class="op" id="5174149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5174152">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;as&nbsp;gray&nbsp;values&nbsp;in&nbsp;big-endian&nbsp;format.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5174236">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*2].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5174304">Pix</span>&nbsp;<span class="op" id="5174308">[</span><span class="op" id="5174309">]</span><span class="builtintype" id="5174310">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5174317">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5174393">Stride</span>&nbsp;<span class="builtintype" id="5174400">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5174405">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5174437">Rect</span>&nbsp;<span class="ident" id="5174442"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span><span class="op" id="5174452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5174455">func</span>&nbsp;<span class="op" id="5174460">(</span><span class="ident" id="5174461">p</span>&nbsp;<span class="op" id="5174463">*</span><span class="ident" id="5174464"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5174470">)</span>&nbsp;<span class="ident" id="5174472">ColorModel</span><span class="op" id="5174482">(</span><span class="op" id="5174483">)</span>&nbsp;<span class="ident" id="5174485"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5174490">.</span><span class="ident" id="5174491"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5174497">{</span>&nbsp;<span class="keyword" id="5174499">return</span>&nbsp;<span class="ident" id="5174506"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5174511">.</span><span class="ident" id="5174512"><a href="/gostd/image/color/color.go.html#5188498">Gray16Model</a></span>&nbsp;<span class="op" id="5174524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">760</span><span class="keyword" id="5174527">func</span>&nbsp;<span class="op" id="5174532">(</span><span class="ident" id="5174533">p</span>&nbsp;<span class="op" id="5174535">*</span><span class="ident" id="5174536"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5174542">)</span>&nbsp;<span class="ident" id="5174544">Bounds</span><span class="op" id="5174550">(</span><span class="op" id="5174551">)</span>&nbsp;<span class="ident" id="5174553"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5174563">{</span>&nbsp;<span class="keyword" id="5174565">return</span>&nbsp;<span class="ident" id="5174572"><a href="/gostd/image/image.go.html#5174533">p</a></span><span class="op" id="5174573">.</span><span class="ident" id="5174574"><a href="/gostd/image/image.go.html#5174437">Rect</a></span>&nbsp;<span class="op" id="5174579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5174582">func</span>&nbsp;<span class="op" id="5174587">(</span><span class="ident" id="5174588">p</span>&nbsp;<span class="op" id="5174590">*</span><span class="ident" id="5174591"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5174597">)</span>&nbsp;<span class="ident" id="5174599">At</span><span class="op" id="5174601">(</span><span class="ident" id="5174602">x</span><span class="op" id="5174603">,</span>&nbsp;<span class="ident" id="5174605">y</span>&nbsp;<span class="builtintype" id="5174607">int</span><span class="op" id="5174610">)</span>&nbsp;<span class="ident" id="5174612"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5174617">.</span><span class="ident" id="5174618"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5174624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5174627">return</span>&nbsp;<span class="ident" id="5174634"><a href="/gostd/image/image.go.html#5174588">p</a></span><span class="op" id="5174635">.</span><span class="ident" id="5174636"><a href="/gostd/image/image.go.html#5174671">Gray16At</a></span><span class="op" id="5174644">(</span><span class="ident" id="5174645"><a href="/gostd/image/image.go.html#5174602">x</a></span><span class="op" id="5174646">,</span>&nbsp;<span class="ident" id="5174648"><a href="/gostd/image/image.go.html#5174605">y</a></span><span class="op" id="5174649">)</span><br>
<span class="lineno"></span><span class="op" id="5174651">}</span><br>
<span class="lineno">765</span><br>
<span class="lineno"></span><span class="keyword" id="5174654">func</span>&nbsp;<span class="op" id="5174659">(</span><span class="ident" id="5174660">p</span>&nbsp;<span class="op" id="5174662">*</span><span class="ident" id="5174663"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5174669">)</span>&nbsp;<span class="ident" id="5174671">Gray16At</span><span class="op" id="5174679">(</span><span class="ident" id="5174680">x</span><span class="op" id="5174681">,</span>&nbsp;<span class="ident" id="5174683">y</span>&nbsp;<span class="builtintype" id="5174685">int</span><span class="op" id="5174688">)</span>&nbsp;<span class="ident" id="5174690"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5174695">.</span><span class="ident" id="5174696"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span>&nbsp;<span class="op" id="5174703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5174706">if</span>&nbsp;<span class="op" id="5174709">!</span><span class="op" id="5174710">(</span><span class="ident" id="5174711"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5174716">{</span><span class="ident" id="5174717"><a href="/gostd/image/image.go.html#5174680">x</a></span><span class="op" id="5174718">,</span>&nbsp;<span class="ident" id="5174720"><a href="/gostd/image/image.go.html#5174683">y</a></span><span class="op" id="5174721">}</span><span class="op" id="5174722">.</span><span class="ident" id="5174723"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5174725">(</span><span class="ident" id="5174726"><a href="/gostd/image/image.go.html#5174660">p</a></span><span class="op" id="5174727">.</span><span class="ident" id="5174728"><a href="/gostd/image/image.go.html#5174437">Rect</a></span><span class="op" id="5174732">)</span><span class="op" id="5174733">)</span>&nbsp;<span class="op" id="5174735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5174739">return</span>&nbsp;<span class="ident" id="5174746"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5174751">.</span><span class="ident" id="5174752"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5174758">{</span><span class="op" id="5174759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5174762">}</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5174765">i</span>&nbsp;<span class="op" id="5174767">:=</span>&nbsp;<span class="ident" id="5174770"><a href="/gostd/image/image.go.html#5174660">p</a></span><span class="op" id="5174771">.</span><span class="ident" id="5174772"><a href="/gostd/image/image.go.html#5174976">PixOffset</a></span><span class="op" id="5174781">(</span><span class="ident" id="5174782"><a href="/gostd/image/image.go.html#5174680">x</a></span><span class="op" id="5174783">,</span>&nbsp;<span class="ident" id="5174785"><a href="/gostd/image/image.go.html#5174683">y</a></span><span class="op" id="5174786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5174789">return</span>&nbsp;<span class="ident" id="5174796"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5174801">.</span><span class="ident" id="5174802"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5174808">{</span><span class="builtintype" id="5174809">uint16</span><span class="op" id="5174815">(</span><span class="ident" id="5174816"><a href="/gostd/image/image.go.html#5174660">p</a></span><span class="op" id="5174817">.</span><span class="ident" id="5174818"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5174821">[</span><span class="ident" id="5174822"><a href="/gostd/image/image.go.html#5174765">i</a></span><span class="op" id="5174823">+</span><span class="num" id="5174824">0</span><span class="op" id="5174825">]</span><span class="op" id="5174826">)</span><span class="op" id="5174827">&lt;&lt;</span><span class="num" id="5174829">8</span>&nbsp;<span class="op" id="5174831">|</span>&nbsp;<span class="builtintype" id="5174833">uint16</span><span class="op" id="5174839">(</span><span class="ident" id="5174840"><a href="/gostd/image/image.go.html#5174660">p</a></span><span class="op" id="5174841">.</span><span class="ident" id="5174842"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5174845">[</span><span class="ident" id="5174846"><a href="/gostd/image/image.go.html#5174765">i</a></span><span class="op" id="5174847">+</span><span class="num" id="5174848">1</span><span class="op" id="5174849">]</span><span class="op" id="5174850">)</span><span class="op" id="5174851">}</span><br>
<span class="lineno"></span><span class="op" id="5174853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5174856">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno">775</span><span class="comment" id="5174935">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5174959">func</span>&nbsp;<span class="op" id="5174964">(</span><span class="ident" id="5174965">p</span>&nbsp;<span class="op" id="5174967">*</span><span class="ident" id="5174968"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5174974">)</span>&nbsp;<span class="ident" id="5174976">PixOffset</span><span class="op" id="5174985">(</span><span class="ident" id="5174986">x</span><span class="op" id="5174987">,</span>&nbsp;<span class="ident" id="5174989">y</span>&nbsp;<span class="builtintype" id="5174991">int</span><span class="op" id="5174994">)</span>&nbsp;<span class="builtintype" id="5174996">int</span>&nbsp;<span class="op" id="5175000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175003">return</span>&nbsp;<span class="op" id="5175010">(</span><span class="ident" id="5175011"><a href="/gostd/image/image.go.html#5174989">y</a></span><span class="op" id="5175012">-</span><span class="ident" id="5175013"><a href="/gostd/image/image.go.html#5174965">p</a></span><span class="op" id="5175014">.</span><span class="ident" id="5175015"><a href="/gostd/image/image.go.html#5174437">Rect</a></span><span class="op" id="5175019">.</span><span class="ident" id="5175020"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5175023">.</span><span class="ident" id="5175024"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5175025">)</span><span class="op" id="5175026">*</span><span class="ident" id="5175027"><a href="/gostd/image/image.go.html#5174965">p</a></span><span class="op" id="5175028">.</span><span class="ident" id="5175029"><a href="/gostd/image/image.go.html#5174393">Stride</a></span>&nbsp;<span class="op" id="5175036">+</span>&nbsp;<span class="op" id="5175038">(</span><span class="ident" id="5175039"><a href="/gostd/image/image.go.html#5174986">x</a></span><span class="op" id="5175040">-</span><span class="ident" id="5175041"><a href="/gostd/image/image.go.html#5174965">p</a></span><span class="op" id="5175042">.</span><span class="ident" id="5175043"><a href="/gostd/image/image.go.html#5174437">Rect</a></span><span class="op" id="5175047">.</span><span class="ident" id="5175048"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5175051">.</span><span class="ident" id="5175052"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5175053">)</span><span class="op" id="5175054">*</span><span class="num" id="5175055">2</span><br>
<span class="lineno"></span><span class="op" id="5175057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">780</span><span class="keyword" id="5175060">func</span>&nbsp;<span class="op" id="5175065">(</span><span class="ident" id="5175066">p</span>&nbsp;<span class="op" id="5175068">*</span><span class="ident" id="5175069"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5175075">)</span>&nbsp;<span class="ident" id="5175077">Set</span><span class="op" id="5175080">(</span><span class="ident" id="5175081">x</span><span class="op" id="5175082">,</span>&nbsp;<span class="ident" id="5175084">y</span>&nbsp;<span class="builtintype" id="5175086">int</span><span class="op" id="5175089">,</span>&nbsp;<span class="ident" id="5175091">c</span>&nbsp;<span class="ident" id="5175093"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5175098">.</span><span class="ident" id="5175099"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5175104">)</span>&nbsp;<span class="op" id="5175106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175109">if</span>&nbsp;<span class="op" id="5175112">!</span><span class="op" id="5175113">(</span><span class="ident" id="5175114"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5175119">{</span><span class="ident" id="5175120"><a href="/gostd/image/image.go.html#5175081">x</a></span><span class="op" id="5175121">,</span>&nbsp;<span class="ident" id="5175123"><a href="/gostd/image/image.go.html#5175084">y</a></span><span class="op" id="5175124">}</span><span class="op" id="5175125">.</span><span class="ident" id="5175126"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5175128">(</span><span class="ident" id="5175129"><a href="/gostd/image/image.go.html#5175066">p</a></span><span class="op" id="5175130">.</span><span class="ident" id="5175131"><a href="/gostd/image/image.go.html#5174437">Rect</a></span><span class="op" id="5175135">)</span><span class="op" id="5175136">)</span>&nbsp;<span class="op" id="5175138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175142">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5175150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175153">i</span>&nbsp;<span class="op" id="5175155">:=</span>&nbsp;<span class="ident" id="5175158"><a href="/gostd/image/image.go.html#5175066">p</a></span><span class="op" id="5175159">.</span><span class="ident" id="5175160"><a href="/gostd/image/image.go.html#5174976">PixOffset</a></span><span class="op" id="5175169">(</span><span class="ident" id="5175170"><a href="/gostd/image/image.go.html#5175081">x</a></span><span class="op" id="5175171">,</span>&nbsp;<span class="ident" id="5175173"><a href="/gostd/image/image.go.html#5175084">y</a></span><span class="op" id="5175174">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175177">c1</span>&nbsp;<span class="op" id="5175180">:=</span>&nbsp;<span class="ident" id="5175183"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5175188">.</span><span class="ident" id="5175189"><a href="/gostd/image/color/color.go.html#5188498">Gray16Model</a></span><span class="op" id="5175200">.</span><span class="ident" id="5175201"><a href="/gostd/image/color/color.go.html#5187633">Convert</a></span><span class="op" id="5175208">(</span><span class="ident" id="5175209"><a href="/gostd/image/image.go.html#5175091">c</a></span><span class="op" id="5175210">)</span><span class="op" id="5175211">.</span><span class="op" id="5175212">(</span><span class="ident" id="5175213"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5175218">.</span><span class="ident" id="5175219"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5175225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175228"><a href="/gostd/image/image.go.html#5175066">p</a></span><span class="op" id="5175229">.</span><span class="ident" id="5175230"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5175233">[</span><span class="ident" id="5175234"><a href="/gostd/image/image.go.html#5175153">i</a></span><span class="op" id="5175235">+</span><span class="num" id="5175236">0</span><span class="op" id="5175237">]</span>&nbsp;<span class="op" id="5175239">=</span>&nbsp;<span class="builtintype" id="5175241">uint8</span><span class="op" id="5175246">(</span><span class="ident" id="5175247"><a href="/gostd/image/image.go.html#5175177">c1</a></span><span class="op" id="5175249">.</span><span class="ident" id="5175250"><a href="/gostd/image/color/color.go.html#5187411">Y</a></span>&nbsp;<span class="op" id="5175252">&gt;&gt;</span>&nbsp;<span class="num" id="5175255">8</span><span class="op" id="5175256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175259"><a href="/gostd/image/image.go.html#5175066">p</a></span><span class="op" id="5175260">.</span><span class="ident" id="5175261"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5175264">[</span><span class="ident" id="5175265"><a href="/gostd/image/image.go.html#5175153">i</a></span><span class="op" id="5175266">+</span><span class="num" id="5175267">1</span><span class="op" id="5175268">]</span>&nbsp;<span class="op" id="5175270">=</span>&nbsp;<span class="builtintype" id="5175272">uint8</span><span class="op" id="5175277">(</span><span class="ident" id="5175278"><a href="/gostd/image/image.go.html#5175177">c1</a></span><span class="op" id="5175280">.</span><span class="ident" id="5175281"><a href="/gostd/image/color/color.go.html#5187411">Y</a></span><span class="op" id="5175282">)</span><br>
<span class="lineno"></span><span class="op" id="5175284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span><span class="keyword" id="5175287">func</span>&nbsp;<span class="op" id="5175292">(</span><span class="ident" id="5175293">p</span>&nbsp;<span class="op" id="5175295">*</span><span class="ident" id="5175296"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5175302">)</span>&nbsp;<span class="ident" id="5175304">SetGray16</span><span class="op" id="5175313">(</span><span class="ident" id="5175314">x</span><span class="op" id="5175315">,</span>&nbsp;<span class="ident" id="5175317">y</span>&nbsp;<span class="builtintype" id="5175319">int</span><span class="op" id="5175322">,</span>&nbsp;<span class="ident" id="5175324">c</span>&nbsp;<span class="ident" id="5175326"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5175331">.</span><span class="ident" id="5175332"><a href="/gostd/image/color/color.go.html#5187394">Gray16</a></span><span class="op" id="5175338">)</span>&nbsp;<span class="op" id="5175340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175343">if</span>&nbsp;<span class="op" id="5175346">!</span><span class="op" id="5175347">(</span><span class="ident" id="5175348"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5175353">{</span><span class="ident" id="5175354"><a href="/gostd/image/image.go.html#5175314">x</a></span><span class="op" id="5175355">,</span>&nbsp;<span class="ident" id="5175357"><a href="/gostd/image/image.go.html#5175317">y</a></span><span class="op" id="5175358">}</span><span class="op" id="5175359">.</span><span class="ident" id="5175360"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5175362">(</span><span class="ident" id="5175363"><a href="/gostd/image/image.go.html#5175293">p</a></span><span class="op" id="5175364">.</span><span class="ident" id="5175365"><a href="/gostd/image/image.go.html#5174437">Rect</a></span><span class="op" id="5175369">)</span><span class="op" id="5175370">)</span>&nbsp;<span class="op" id="5175372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175376">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5175384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175387">i</span>&nbsp;<span class="op" id="5175389">:=</span>&nbsp;<span class="ident" id="5175392"><a href="/gostd/image/image.go.html#5175293">p</a></span><span class="op" id="5175393">.</span><span class="ident" id="5175394"><a href="/gostd/image/image.go.html#5174976">PixOffset</a></span><span class="op" id="5175403">(</span><span class="ident" id="5175404"><a href="/gostd/image/image.go.html#5175314">x</a></span><span class="op" id="5175405">,</span>&nbsp;<span class="ident" id="5175407"><a href="/gostd/image/image.go.html#5175317">y</a></span><span class="op" id="5175408">)</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175411"><a href="/gostd/image/image.go.html#5175293">p</a></span><span class="op" id="5175412">.</span><span class="ident" id="5175413"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5175416">[</span><span class="ident" id="5175417"><a href="/gostd/image/image.go.html#5175387">i</a></span><span class="op" id="5175418">+</span><span class="num" id="5175419">0</span><span class="op" id="5175420">]</span>&nbsp;<span class="op" id="5175422">=</span>&nbsp;<span class="builtintype" id="5175424">uint8</span><span class="op" id="5175429">(</span><span class="ident" id="5175430"><a href="/gostd/image/image.go.html#5175324">c</a></span><span class="op" id="5175431">.</span><span class="ident" id="5175432"><a href="/gostd/image/color/color.go.html#5187411">Y</a></span>&nbsp;<span class="op" id="5175434">&gt;&gt;</span>&nbsp;<span class="num" id="5175437">8</span><span class="op" id="5175438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175441"><a href="/gostd/image/image.go.html#5175293">p</a></span><span class="op" id="5175442">.</span><span class="ident" id="5175443"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5175446">[</span><span class="ident" id="5175447"><a href="/gostd/image/image.go.html#5175387">i</a></span><span class="op" id="5175448">+</span><span class="num" id="5175449">1</span><span class="op" id="5175450">]</span>&nbsp;<span class="op" id="5175452">=</span>&nbsp;<span class="builtintype" id="5175454">uint8</span><span class="op" id="5175459">(</span><span class="ident" id="5175460"><a href="/gostd/image/image.go.html#5175324">c</a></span><span class="op" id="5175461">.</span><span class="ident" id="5175462"><a href="/gostd/image/color/color.go.html#5187411">Y</a></span><span class="op" id="5175463">)</span><br>
<span class="lineno"></span><span class="op" id="5175465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5175468">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno">800</span><span class="comment" id="5175545">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5175617">func</span>&nbsp;<span class="op" id="5175622">(</span><span class="ident" id="5175623">p</span>&nbsp;<span class="op" id="5175625">*</span><span class="ident" id="5175626"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5175632">)</span>&nbsp;<span class="ident" id="5175634">SubImage</span><span class="op" id="5175642">(</span><span class="ident" id="5175643">r</span>&nbsp;<span class="ident" id="5175645"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5175654">)</span>&nbsp;<span class="ident" id="5175656"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5175662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175665"><a href="/gostd/image/image.go.html#5175643">r</a></span>&nbsp;<span class="op" id="5175667">=</span>&nbsp;<span class="ident" id="5175669"><a href="/gostd/image/image.go.html#5175643">r</a></span><span class="op" id="5175670">.</span><span class="ident" id="5175671"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5175680">(</span><span class="ident" id="5175681"><a href="/gostd/image/image.go.html#5175623">p</a></span><span class="op" id="5175682">.</span><span class="ident" id="5175683"><a href="/gostd/image/image.go.html#5174437">Rect</a></span><span class="op" id="5175687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5175690">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5175771">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5175853">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175903">if</span>&nbsp;<span class="ident" id="5175906"><a href="/gostd/image/image.go.html#5175643">r</a></span><span class="op" id="5175907">.</span><span class="ident" id="5175908"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5175913">(</span><span class="op" id="5175914">)</span>&nbsp;<span class="op" id="5175916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175920">return</span>&nbsp;<span class="op" id="5175927">&amp;</span><span class="ident" id="5175928"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5175934">{</span><span class="op" id="5175935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5175938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175941">i</span>&nbsp;<span class="op" id="5175943">:=</span>&nbsp;<span class="ident" id="5175946"><a href="/gostd/image/image.go.html#5175623">p</a></span><span class="op" id="5175947">.</span><span class="ident" id="5175948"><a href="/gostd/image/image.go.html#5174976">PixOffset</a></span><span class="op" id="5175957">(</span><span class="ident" id="5175958"><a href="/gostd/image/image.go.html#5175643">r</a></span><span class="op" id="5175959">.</span><span class="ident" id="5175960"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5175963">.</span><span class="ident" id="5175964"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5175965">,</span>&nbsp;<span class="ident" id="5175967"><a href="/gostd/image/image.go.html#5175643">r</a></span><span class="op" id="5175968">.</span><span class="ident" id="5175969"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5175972">.</span><span class="ident" id="5175973"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5175974">)</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5175977">return</span>&nbsp;<span class="op" id="5175984">&amp;</span><span class="ident" id="5175985"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5175991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5175995"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5175998">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176003"><a href="/gostd/image/image.go.html#5175623">p</a></span><span class="op" id="5176004">.</span><span class="ident" id="5176005"><a href="/gostd/image/image.go.html#5174304">Pix</a></span><span class="op" id="5176008">[</span><span class="ident" id="5176009"><a href="/gostd/image/image.go.html#5175941">i</a></span><span class="op" id="5176010">:</span><span class="op" id="5176011">]</span><span class="op" id="5176012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176016"><a href="/gostd/image/image.go.html#5174393">Stride</a></span><span class="op" id="5176022">:</span>&nbsp;<span class="ident" id="5176024"><a href="/gostd/image/image.go.html#5175623">p</a></span><span class="op" id="5176025">.</span><span class="ident" id="5176026"><a href="/gostd/image/image.go.html#5174393">Stride</a></span><span class="op" id="5176032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176036"><a href="/gostd/image/image.go.html#5174437">Rect</a></span><span class="op" id="5176040">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5176044"><a href="/gostd/image/image.go.html#5175643">r</a></span><span class="op" id="5176045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5176048">}</span><br>
<span class="lineno">815</span><span class="op" id="5176050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5176053">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5176126">func</span>&nbsp;<span class="op" id="5176131">(</span><span class="ident" id="5176132">p</span>&nbsp;<span class="op" id="5176134">*</span><span class="ident" id="5176135"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5176141">)</span>&nbsp;<span class="ident" id="5176143">Opaque</span><span class="op" id="5176149">(</span><span class="op" id="5176150">)</span>&nbsp;<span class="builtintype" id="5176152">bool</span>&nbsp;<span class="op" id="5176157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5176160">return</span>&nbsp;<span class="builtintype" id="5176167">true</span><br>
<span class="lineno">820</span><span class="op" id="5176172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5176175">//&nbsp;NewGray16&nbsp;returns&nbsp;a&nbsp;new&nbsp;Gray16&nbsp;with&nbsp;the&nbsp;given&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="5176232">func</span>&nbsp;<span class="ident" id="5176237">NewGray16</span><span class="op" id="5176246">(</span><span class="ident" id="5176247">r</span>&nbsp;<span class="ident" id="5176249"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5176258">)</span>&nbsp;<span class="op" id="5176260">*</span><span class="ident" id="5176261"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span>&nbsp;<span class="op" id="5176268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176271">w</span><span class="op" id="5176272">,</span>&nbsp;<span class="ident" id="5176274">h</span>&nbsp;<span class="op" id="5176276">:=</span>&nbsp;<span class="ident" id="5176279"><a href="/gostd/image/image.go.html#5176247">r</a></span><span class="op" id="5176280">.</span><span class="ident" id="5176281"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5176283">(</span><span class="op" id="5176284">)</span><span class="op" id="5176285">,</span>&nbsp;<span class="ident" id="5176287"><a href="/gostd/image/image.go.html#5176247">r</a></span><span class="op" id="5176288">.</span><span class="ident" id="5176289"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5176291">(</span><span class="op" id="5176292">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176295">pix</span>&nbsp;<span class="op" id="5176299">:=</span>&nbsp;<span class="builtinfunc" id="5176302">make</span><span class="op" id="5176306">(</span><span class="op" id="5176307">[</span><span class="op" id="5176308">]</span><span class="builtintype" id="5176309">uint8</span><span class="op" id="5176314">,</span>&nbsp;<span class="num" id="5176316">2</span><span class="op" id="5176317">*</span><span class="ident" id="5176318"><a href="/gostd/image/image.go.html#5176271">w</a></span><span class="op" id="5176319">*</span><span class="ident" id="5176320"><a href="/gostd/image/image.go.html#5176274">h</a></span><span class="op" id="5176321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5176324">return</span>&nbsp;<span class="op" id="5176331">&amp;</span><span class="ident" id="5176332"><a href="/gostd/image/image.go.html#5174135">Gray16</a></span><span class="op" id="5176338">{</span><span class="ident" id="5176339"><a href="/gostd/image/image.go.html#5176295">pix</a></span><span class="op" id="5176342">,</span>&nbsp;<span class="num" id="5176344">2</span>&nbsp;<span class="op" id="5176346">*</span>&nbsp;<span class="ident" id="5176348"><a href="/gostd/image/image.go.html#5176271">w</a></span><span class="op" id="5176349">,</span>&nbsp;<span class="ident" id="5176351"><a href="/gostd/image/image.go.html#5176247">r</a></span><span class="op" id="5176352">}</span><br>
<span class="lineno"></span><span class="op" id="5176354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5176357">//&nbsp;Paletted&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;image&nbsp;of&nbsp;uint8&nbsp;indices&nbsp;into&nbsp;a&nbsp;given&nbsp;palette.</span><br>
<span class="lineno">830</span><span class="keyword" id="5176430">type</span>&nbsp;<span class="ident" id="5176435">Paletted</span>&nbsp;<span class="keyword" id="5176444">struct</span>&nbsp;<span class="op" id="5176451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5176454">//&nbsp;Pix&nbsp;holds&nbsp;the&nbsp;image&#39;s&nbsp;pixels,&nbsp;as&nbsp;palette&nbsp;indices.&nbsp;The&nbsp;pixel&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5176521">//&nbsp;(x,&nbsp;y)&nbsp;starts&nbsp;at&nbsp;Pix[(y-Rect.Min.Y)*Stride&nbsp;+&nbsp;(x-Rect.Min.X)*1].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176589">Pix</span>&nbsp;<span class="op" id="5176593">[</span><span class="op" id="5176594">]</span><span class="builtintype" id="5176595">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5176602">//&nbsp;Stride&nbsp;is&nbsp;the&nbsp;Pix&nbsp;stride&nbsp;(in&nbsp;bytes)&nbsp;between&nbsp;vertically&nbsp;adjacent&nbsp;pixels.</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176678">Stride</span>&nbsp;<span class="builtintype" id="5176685">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5176690">//&nbsp;Rect&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;bounds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176722">Rect</span>&nbsp;<span class="ident" id="5176727"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5176738">//&nbsp;Palette&nbsp;is&nbsp;the&nbsp;image&#39;s&nbsp;palette.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5176774">Palette</span>&nbsp;<span class="ident" id="5176782"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5176787">.</span><span class="ident" id="5176788"><a href="/gostd/image/color/color.go.html#5190467">Palette</a></span><br>
<span class="lineno">840</span><span class="op" id="5176796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5176799">func</span>&nbsp;<span class="op" id="5176804">(</span><span class="ident" id="5176805">p</span>&nbsp;<span class="op" id="5176807">*</span><span class="ident" id="5176808"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5176816">)</span>&nbsp;<span class="ident" id="5176818">ColorModel</span><span class="op" id="5176828">(</span><span class="op" id="5176829">)</span>&nbsp;<span class="ident" id="5176831"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5176836">.</span><span class="ident" id="5176837"><a href="/gostd/image/color/color.go.html#5187614">Model</a></span>&nbsp;<span class="op" id="5176843">{</span>&nbsp;<span class="keyword" id="5176845">return</span>&nbsp;<span class="ident" id="5176852"><a href="/gostd/image/image.go.html#5176805">p</a></span><span class="op" id="5176853">.</span><span class="ident" id="5176854"><a href="/gostd/image/image.go.html#5176774">Palette</a></span>&nbsp;<span class="op" id="5176862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5176865">func</span>&nbsp;<span class="op" id="5176870">(</span><span class="ident" id="5176871">p</span>&nbsp;<span class="op" id="5176873">*</span><span class="ident" id="5176874"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5176882">)</span>&nbsp;<span class="ident" id="5176884">Bounds</span><span class="op" id="5176890">(</span><span class="op" id="5176891">)</span>&nbsp;<span class="ident" id="5176893"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span>&nbsp;<span class="op" id="5176903">{</span>&nbsp;<span class="keyword" id="5176905">return</span>&nbsp;<span class="ident" id="5176912"><a href="/gostd/image/image.go.html#5176871">p</a></span><span class="op" id="5176913">.</span><span class="ident" id="5176914"><a href="/gostd/image/image.go.html#5176722">Rect</a></span>&nbsp;<span class="op" id="5176919">}</span><br>
<span class="lineno">845</span><br>
<span class="lineno"></span><span class="keyword" id="5176922">func</span>&nbsp;<span class="op" id="5176927">(</span><span class="ident" id="5176928">p</span>&nbsp;<span class="op" id="5176930">*</span><span class="ident" id="5176931"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5176939">)</span>&nbsp;<span class="ident" id="5176941">At</span><span class="op" id="5176943">(</span><span class="ident" id="5176944">x</span><span class="op" id="5176945">,</span>&nbsp;<span class="ident" id="5176947">y</span>&nbsp;<span class="builtintype" id="5176949">int</span><span class="op" id="5176952">)</span>&nbsp;<span class="ident" id="5176954"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5176959">.</span><span class="ident" id="5176960"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span>&nbsp;<span class="op" id="5176966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5176969">if</span>&nbsp;<span class="builtinfunc" id="5176972">len</span><span class="op" id="5176975">(</span><span class="ident" id="5176976"><a href="/gostd/image/image.go.html#5176928">p</a></span><span class="op" id="5176977">.</span><span class="ident" id="5176978"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5176985">)</span>&nbsp;<span class="op" id="5176987">==</span>&nbsp;<span class="num" id="5176990">0</span>&nbsp;<span class="op" id="5176992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5176996">return</span>&nbsp;<span class="builtintype" id="5177003">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5177008">}</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177011">if</span>&nbsp;<span class="op" id="5177014">!</span><span class="op" id="5177015">(</span><span class="ident" id="5177016"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5177021">{</span><span class="ident" id="5177022"><a href="/gostd/image/image.go.html#5176944">x</a></span><span class="op" id="5177023">,</span>&nbsp;<span class="ident" id="5177025"><a href="/gostd/image/image.go.html#5176947">y</a></span><span class="op" id="5177026">}</span><span class="op" id="5177027">.</span><span class="ident" id="5177028"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5177030">(</span><span class="ident" id="5177031"><a href="/gostd/image/image.go.html#5176928">p</a></span><span class="op" id="5177032">.</span><span class="ident" id="5177033"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5177037">)</span><span class="op" id="5177038">)</span>&nbsp;<span class="op" id="5177040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177044">return</span>&nbsp;<span class="ident" id="5177051"><a href="/gostd/image/image.go.html#5176928">p</a></span><span class="op" id="5177052">.</span><span class="ident" id="5177053"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5177060">[</span><span class="num" id="5177061">0</span><span class="op" id="5177062">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5177065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5177068">i</span>&nbsp;<span class="op" id="5177070">:=</span>&nbsp;<span class="ident" id="5177073"><a href="/gostd/image/image.go.html#5176928">p</a></span><span class="op" id="5177074">.</span><span class="ident" id="5177075"><a href="/gostd/image/image.go.html#5177244">PixOffset</a></span><span class="op" id="5177084">(</span><span class="ident" id="5177085"><a href="/gostd/image/image.go.html#5176944">x</a></span><span class="op" id="5177086">,</span>&nbsp;<span class="ident" id="5177088"><a href="/gostd/image/image.go.html#5176947">y</a></span><span class="op" id="5177089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177092">return</span>&nbsp;<span class="ident" id="5177099"><a href="/gostd/image/image.go.html#5176928">p</a></span><span class="op" id="5177100">.</span><span class="ident" id="5177101"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5177108">[</span><span class="ident" id="5177109"><a href="/gostd/image/image.go.html#5176928">p</a></span><span class="op" id="5177110">.</span><span class="ident" id="5177111"><a href="/gostd/image/image.go.html#5176589">Pix</a></span><span class="op" id="5177114">[</span><span class="ident" id="5177115"><a href="/gostd/image/image.go.html#5177068">i</a></span><span class="op" id="5177116">]</span><span class="op" id="5177117">]</span><br>
<span class="lineno">855</span><span class="op" id="5177119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5177122">//&nbsp;PixOffset&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;Pix&nbsp;that&nbsp;corresponds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5177201">//&nbsp;the&nbsp;pixel&nbsp;at&nbsp;(x,&nbsp;y).</span><br>
<span class="lineno"></span><span class="keyword" id="5177225">func</span>&nbsp;<span class="op" id="5177230">(</span><span class="ident" id="5177231">p</span>&nbsp;<span class="op" id="5177233">*</span><span class="ident" id="5177234"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5177242">)</span>&nbsp;<span class="ident" id="5177244">PixOffset</span><span class="op" id="5177253">(</span><span class="ident" id="5177254">x</span><span class="op" id="5177255">,</span>&nbsp;<span class="ident" id="5177257">y</span>&nbsp;<span class="builtintype" id="5177259">int</span><span class="op" id="5177262">)</span>&nbsp;<span class="builtintype" id="5177264">int</span>&nbsp;<span class="op" id="5177268">{</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177271">return</span>&nbsp;<span class="op" id="5177278">(</span><span class="ident" id="5177279"><a href="/gostd/image/image.go.html#5177257">y</a></span><span class="op" id="5177280">-</span><span class="ident" id="5177281"><a href="/gostd/image/image.go.html#5177231">p</a></span><span class="op" id="5177282">.</span><span class="ident" id="5177283"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5177287">.</span><span class="ident" id="5177288"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5177291">.</span><span class="ident" id="5177292"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5177293">)</span><span class="op" id="5177294">*</span><span class="ident" id="5177295"><a href="/gostd/image/image.go.html#5177231">p</a></span><span class="op" id="5177296">.</span><span class="ident" id="5177297"><a href="/gostd/image/image.go.html#5176678">Stride</a></span>&nbsp;<span class="op" id="5177304">+</span>&nbsp;<span class="op" id="5177306">(</span><span class="ident" id="5177307"><a href="/gostd/image/image.go.html#5177254">x</a></span><span class="op" id="5177308">-</span><span class="ident" id="5177309"><a href="/gostd/image/image.go.html#5177231">p</a></span><span class="op" id="5177310">.</span><span class="ident" id="5177311"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5177315">.</span><span class="ident" id="5177316"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5177319">.</span><span class="ident" id="5177320"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5177321">)</span><span class="op" id="5177322">*</span><span class="num" id="5177323">1</span><br>
<span class="lineno"></span><span class="op" id="5177325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5177328">func</span>&nbsp;<span class="op" id="5177333">(</span><span class="ident" id="5177334">p</span>&nbsp;<span class="op" id="5177336">*</span><span class="ident" id="5177337"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5177345">)</span>&nbsp;<span class="ident" id="5177347">Set</span><span class="op" id="5177350">(</span><span class="ident" id="5177351">x</span><span class="op" id="5177352">,</span>&nbsp;<span class="ident" id="5177354">y</span>&nbsp;<span class="builtintype" id="5177356">int</span><span class="op" id="5177359">,</span>&nbsp;<span class="ident" id="5177361">c</span>&nbsp;<span class="ident" id="5177363"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5177368">.</span><span class="ident" id="5177369"><a href="/gostd/image/color/color.go.html#5185193">Color</a></span><span class="op" id="5177374">)</span>&nbsp;<span class="op" id="5177376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177379">if</span>&nbsp;<span class="op" id="5177382">!</span><span class="op" id="5177383">(</span><span class="ident" id="5177384"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5177389">{</span><span class="ident" id="5177390"><a href="/gostd/image/image.go.html#5177351">x</a></span><span class="op" id="5177391">,</span>&nbsp;<span class="ident" id="5177393"><a href="/gostd/image/image.go.html#5177354">y</a></span><span class="op" id="5177394">}</span><span class="op" id="5177395">.</span><span class="ident" id="5177396"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5177398">(</span><span class="ident" id="5177399"><a href="/gostd/image/image.go.html#5177334">p</a></span><span class="op" id="5177400">.</span><span class="ident" id="5177401"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5177405">)</span><span class="op" id="5177406">)</span>&nbsp;<span class="op" id="5177408">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177412">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5177420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5177423">i</span>&nbsp;<span class="op" id="5177425">:=</span>&nbsp;<span class="ident" id="5177428"><a href="/gostd/image/image.go.html#5177334">p</a></span><span class="op" id="5177429">.</span><span class="ident" id="5177430"><a href="/gostd/image/image.go.html#5177244">PixOffset</a></span><span class="op" id="5177439">(</span><span class="ident" id="5177440"><a href="/gostd/image/image.go.html#5177351">x</a></span><span class="op" id="5177441">,</span>&nbsp;<span class="ident" id="5177443"><a href="/gostd/image/image.go.html#5177354">y</a></span><span class="op" id="5177444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5177447"><a href="/gostd/image/image.go.html#5177334">p</a></span><span class="op" id="5177448">.</span><span class="ident" id="5177449"><a href="/gostd/image/image.go.html#5176589">Pix</a></span><span class="op" id="5177452">[</span><span class="ident" id="5177453"><a href="/gostd/image/image.go.html#5177423">i</a></span><span class="op" id="5177454">]</span>&nbsp;<span class="op" id="5177456">=</span>&nbsp;<span class="builtintype" id="5177458">uint8</span><span class="op" id="5177463">(</span><span class="ident" id="5177464"><a href="/gostd/image/image.go.html#5177334">p</a></span><span class="op" id="5177465">.</span><span class="ident" id="5177466"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5177473">.</span><span class="ident" id="5177474"><a href="/gostd/image/color/color.go.html#5190768">Index</a></span><span class="op" id="5177479">(</span><span class="ident" id="5177480"><a href="/gostd/image/image.go.html#5177361">c</a></span><span class="op" id="5177481">)</span><span class="op" id="5177482">)</span><br>
<span class="lineno"></span><span class="op" id="5177484">}</span><br>
<span class="lineno">870</span><br>
<span class="lineno"></span><span class="keyword" id="5177487">func</span>&nbsp;<span class="op" id="5177492">(</span><span class="ident" id="5177493">p</span>&nbsp;<span class="op" id="5177495">*</span><span class="ident" id="5177496"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5177504">)</span>&nbsp;<span class="ident" id="5177506">ColorIndexAt</span><span class="op" id="5177518">(</span><span class="ident" id="5177519">x</span><span class="op" id="5177520">,</span>&nbsp;<span class="ident" id="5177522">y</span>&nbsp;<span class="builtintype" id="5177524">int</span><span class="op" id="5177527">)</span>&nbsp;<span class="builtintype" id="5177529">uint8</span>&nbsp;<span class="op" id="5177535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177538">if</span>&nbsp;<span class="op" id="5177541">!</span><span class="op" id="5177542">(</span><span class="ident" id="5177543"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5177548">{</span><span class="ident" id="5177549"><a href="/gostd/image/image.go.html#5177519">x</a></span><span class="op" id="5177550">,</span>&nbsp;<span class="ident" id="5177552"><a href="/gostd/image/image.go.html#5177522">y</a></span><span class="op" id="5177553">}</span><span class="op" id="5177554">.</span><span class="ident" id="5177555"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5177557">(</span><span class="ident" id="5177558"><a href="/gostd/image/image.go.html#5177493">p</a></span><span class="op" id="5177559">.</span><span class="ident" id="5177560"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5177564">)</span><span class="op" id="5177565">)</span>&nbsp;<span class="op" id="5177567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177571">return</span>&nbsp;<span class="num" id="5177578">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5177581">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5177584">i</span>&nbsp;<span class="op" id="5177586">:=</span>&nbsp;<span class="ident" id="5177589"><a href="/gostd/image/image.go.html#5177493">p</a></span><span class="op" id="5177590">.</span><span class="ident" id="5177591"><a href="/gostd/image/image.go.html#5177244">PixOffset</a></span><span class="op" id="5177600">(</span><span class="ident" id="5177601"><a href="/gostd/image/image.go.html#5177519">x</a></span><span class="op" id="5177602">,</span>&nbsp;<span class="ident" id="5177604"><a href="/gostd/image/image.go.html#5177522">y</a></span><span class="op" id="5177605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177608">return</span>&nbsp;<span class="ident" id="5177615"><a href="/gostd/image/image.go.html#5177493">p</a></span><span class="op" id="5177616">.</span><span class="ident" id="5177617"><a href="/gostd/image/image.go.html#5176589">Pix</a></span><span class="op" id="5177620">[</span><span class="ident" id="5177621"><a href="/gostd/image/image.go.html#5177584">i</a></span><span class="op" id="5177622">]</span><br>
<span class="lineno"></span><span class="op" id="5177624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5177627">func</span>&nbsp;<span class="op" id="5177632">(</span><span class="ident" id="5177633">p</span>&nbsp;<span class="op" id="5177635">*</span><span class="ident" id="5177636"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5177644">)</span>&nbsp;<span class="ident" id="5177646">SetColorIndex</span><span class="op" id="5177659">(</span><span class="ident" id="5177660">x</span><span class="op" id="5177661">,</span>&nbsp;<span class="ident" id="5177663">y</span>&nbsp;<span class="builtintype" id="5177665">int</span><span class="op" id="5177668">,</span>&nbsp;<span class="ident" id="5177670">index</span>&nbsp;<span class="builtintype" id="5177676">uint8</span><span class="op" id="5177681">)</span>&nbsp;<span class="op" id="5177683">{</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177686">if</span>&nbsp;<span class="op" id="5177689">!</span><span class="op" id="5177690">(</span><span class="ident" id="5177691"><a href="/gostd/image/geom.go.html#5148435">Point</a></span><span class="op" id="5177696">{</span><span class="ident" id="5177697"><a href="/gostd/image/image.go.html#5177660">x</a></span><span class="op" id="5177698">,</span>&nbsp;<span class="ident" id="5177700"><a href="/gostd/image/image.go.html#5177663">y</a></span><span class="op" id="5177701">}</span><span class="op" id="5177702">.</span><span class="ident" id="5177703"><a href="/gostd/image/geom.go.html#5149084">In</a></span><span class="op" id="5177705">(</span><span class="ident" id="5177706"><a href="/gostd/image/image.go.html#5177633">p</a></span><span class="op" id="5177707">.</span><span class="ident" id="5177708"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5177712">)</span><span class="op" id="5177713">)</span>&nbsp;<span class="op" id="5177715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5177719">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5177727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5177730">i</span>&nbsp;<span class="op" id="5177732">:=</span>&nbsp;<span class="ident" id="5177735"><a href="/gostd/image/image.go.html#5177633">p</a></span><span class="op" id="5177736">.</span><span class="ident" id="5177737"><a href="/gostd/image/image.go.html#5177244">PixOffset</a></span><span class="op" id="5177746">(</span><span class="ident" id="5177747"><a href="/gostd/image/image.go.html#5177660">x</a></span><span class="op" id="5177748">,</span>&nbsp;<span class="ident" id="5177750"><a href="/gostd/image/image.go.html#5177663">y</a></span><span class="op" id="5177751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5177754"><a href="/gostd/image/image.go.html#5177633">p</a></span><span class="op" id="5177755">.</span><span class="ident" id="5177756"><a href="/gostd/image/image.go.html#5176589">Pix</a></span><span class="op" id="5177759">[</span><span class="ident" id="5177760"><a href="/gostd/image/image.go.html#5177730">i</a></span><span class="op" id="5177761">]</span>&nbsp;<span class="op" id="5177763">=</span>&nbsp;<span class="ident" id="5177765"><a href="/gostd/image/image.go.html#5177670">index</a></span><br>
<span class="lineno">885</span><span class="op" id="5177771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5177774">//&nbsp;SubImage&nbsp;returns&nbsp;an&nbsp;image&nbsp;representing&nbsp;the&nbsp;portion&nbsp;of&nbsp;the&nbsp;image&nbsp;p&nbsp;visible</span><br>
<span class="lineno"></span><span class="comment" id="5177851">//&nbsp;through&nbsp;r.&nbsp;The&nbsp;returned&nbsp;value&nbsp;shares&nbsp;pixels&nbsp;with&nbsp;the&nbsp;original&nbsp;image.</span><br>
<span class="lineno"></span><span class="keyword" id="5177923">func</span>&nbsp;<span class="op" id="5177928">(</span><span class="ident" id="5177929">p</span>&nbsp;<span class="op" id="5177931">*</span><span class="ident" id="5177932"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5177940">)</span>&nbsp;<span class="ident" id="5177942">SubImage</span><span class="op" id="5177950">(</span><span class="ident" id="5177951">r</span>&nbsp;<span class="ident" id="5177953"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5177962">)</span>&nbsp;<span class="ident" id="5177964"><a href="/gostd/image/image.go.html#5154907">Image</a></span>&nbsp;<span class="op" id="5177970">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5177973"><a href="/gostd/image/image.go.html#5177951">r</a></span>&nbsp;<span class="op" id="5177975">=</span>&nbsp;<span class="ident" id="5177977"><a href="/gostd/image/image.go.html#5177951">r</a></span><span class="op" id="5177978">.</span><span class="ident" id="5177979"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5177988">(</span><span class="ident" id="5177989"><a href="/gostd/image/image.go.html#5177929">p</a></span><span class="op" id="5177990">.</span><span class="ident" id="5177991"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5177995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5177998">//&nbsp;If&nbsp;r1&nbsp;and&nbsp;r2&nbsp;are&nbsp;Rectangles,&nbsp;r1.Intersect(r2)&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;inside</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5178079">//&nbsp;either&nbsp;r1&nbsp;or&nbsp;r2&nbsp;if&nbsp;the&nbsp;intersection&nbsp;is&nbsp;empty.&nbsp;Without&nbsp;explicitly&nbsp;checking&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5178161">//&nbsp;this,&nbsp;the&nbsp;Pix[i:]&nbsp;expression&nbsp;below&nbsp;can&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178211">if</span>&nbsp;<span class="ident" id="5178214"><a href="/gostd/image/image.go.html#5177951">r</a></span><span class="op" id="5178215">.</span><span class="ident" id="5178216"><a href="/gostd/image/geom.go.html#5152221">Empty</a></span><span class="op" id="5178221">(</span><span class="op" id="5178222">)</span>&nbsp;<span class="op" id="5178224">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178228">return</span>&nbsp;<span class="op" id="5178235">&amp;</span><span class="ident" id="5178236"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5178244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178249"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5178256">:</span>&nbsp;<span class="ident" id="5178258"><a href="/gostd/image/image.go.html#5177929">p</a></span><span class="op" id="5178259">.</span><span class="ident" id="5178260"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5178267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178277">i</span>&nbsp;<span class="op" id="5178279">:=</span>&nbsp;<span class="ident" id="5178282"><a href="/gostd/image/image.go.html#5177929">p</a></span><span class="op" id="5178283">.</span><span class="ident" id="5178284"><a href="/gostd/image/image.go.html#5177244">PixOffset</a></span><span class="op" id="5178293">(</span><span class="ident" id="5178294"><a href="/gostd/image/image.go.html#5177951">r</a></span><span class="op" id="5178295">.</span><span class="ident" id="5178296"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5178299">.</span><span class="ident" id="5178300"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="5178301">,</span>&nbsp;<span class="ident" id="5178303"><a href="/gostd/image/image.go.html#5177951">r</a></span><span class="op" id="5178304">.</span><span class="ident" id="5178305"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5178308">.</span><span class="ident" id="5178309"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5178310">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178313">return</span>&nbsp;<span class="op" id="5178320">&amp;</span><span class="ident" id="5178321"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5178329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178333"><a href="/gostd/image/image.go.html#5176589">Pix</a></span><span class="op" id="5178336">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178342"><a href="/gostd/image/image.go.html#5177929">p</a></span><span class="op" id="5178343">.</span><span class="ident" id="5178344"><a href="/gostd/image/image.go.html#5176589">Pix</a></span><span class="op" id="5178347">[</span><span class="ident" id="5178348"><a href="/gostd/image/image.go.html#5178277">i</a></span><span class="op" id="5178349">:</span><span class="op" id="5178350">]</span><span class="op" id="5178351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178355"><a href="/gostd/image/image.go.html#5176678">Stride</a></span><span class="op" id="5178361">:</span>&nbsp;&nbsp;<span class="ident" id="5178364"><a href="/gostd/image/image.go.html#5177929">p</a></span><span class="op" id="5178365">.</span><span class="ident" id="5178366"><a href="/gostd/image/image.go.html#5176678">Stride</a></span><span class="op" id="5178372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178376"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5178380">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178385"><a href="/gostd/image/image.go.html#5177929">p</a></span><span class="op" id="5178386">.</span><span class="ident" id="5178387"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5178391">.</span><span class="ident" id="5178392"><a href="/gostd/image/geom.go.html#5151528">Intersect</a></span><span class="op" id="5178401">(</span><span class="ident" id="5178402"><a href="/gostd/image/image.go.html#5177951">r</a></span><span class="op" id="5178403">)</span><span class="op" id="5178404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178408"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5178415">:</span>&nbsp;<span class="ident" id="5178417"><a href="/gostd/image/image.go.html#5177929">p</a></span><span class="op" id="5178418">.</span><span class="ident" id="5178419"><a href="/gostd/image/image.go.html#5176774">Palette</a></span><span class="op" id="5178426">,</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178429">}</span><br>
<span class="lineno"></span><span class="op" id="5178431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5178434">//&nbsp;Opaque&nbsp;scans&nbsp;the&nbsp;entire&nbsp;image&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;fully&nbsp;opaque.</span><br>
<span class="lineno"></span><span class="keyword" id="5178507">func</span>&nbsp;<span class="op" id="5178512">(</span><span class="ident" id="5178513">p</span>&nbsp;<span class="op" id="5178515">*</span><span class="ident" id="5178516"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5178524">)</span>&nbsp;<span class="ident" id="5178526">Opaque</span><span class="op" id="5178532">(</span><span class="op" id="5178533">)</span>&nbsp;<span class="builtintype" id="5178535">bool</span>&nbsp;<span class="op" id="5178540">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178543">var</span>&nbsp;<span class="ident" id="5178547">present</span>&nbsp;<span class="op" id="5178555">[</span><span class="num" id="5178556">256</span><span class="op" id="5178559">]</span><span class="builtintype" id="5178560">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178566">i0</span><span class="op" id="5178568">,</span>&nbsp;<span class="ident" id="5178570">i1</span>&nbsp;<span class="op" id="5178573">:=</span>&nbsp;<span class="num" id="5178576">0</span><span class="op" id="5178577">,</span>&nbsp;<span class="ident" id="5178579"><a href="/gostd/image/image.go.html#5178513">p</a></span><span class="op" id="5178580">.</span><span class="ident" id="5178581"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5178585">.</span><span class="ident" id="5178586"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5178588">(</span><span class="op" id="5178589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178592">for</span>&nbsp;<span class="ident" id="5178596">y</span>&nbsp;<span class="op" id="5178598">:=</span>&nbsp;<span class="ident" id="5178601"><a href="/gostd/image/image.go.html#5178513">p</a></span><span class="op" id="5178602">.</span><span class="ident" id="5178603"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5178607">.</span><span class="ident" id="5178608"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="5178611">.</span><span class="ident" id="5178612"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5178613">;</span>&nbsp;<span class="ident" id="5178615"><a href="/gostd/image/image.go.html#5178596">y</a></span>&nbsp;<span class="op" id="5178617">&lt;</span>&nbsp;<span class="ident" id="5178619"><a href="/gostd/image/image.go.html#5178513">p</a></span><span class="op" id="5178620">.</span><span class="ident" id="5178621"><a href="/gostd/image/image.go.html#5176722">Rect</a></span><span class="op" id="5178625">.</span><span class="ident" id="5178626"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="5178629">.</span><span class="ident" id="5178630"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="5178631">;</span>&nbsp;<span class="ident" id="5178633"><a href="/gostd/image/image.go.html#5178596">y</a></span><span class="op" id="5178634">++</span>&nbsp;<span class="op" id="5178637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178641">for</span>&nbsp;<span class="ident" id="5178645">_</span><span class="op" id="5178646">,</span>&nbsp;<span class="ident" id="5178648">c</span>&nbsp;<span class="op" id="5178650">:=</span>&nbsp;<span class="keyword" id="5178653">range</span>&nbsp;<span class="ident" id="5178659"><a href="/gostd/image/image.go.html#5178513">p</a></span><span class="op" id="5178660">.</span><span class="ident" id="5178661"><a href="/gostd/image/image.go.html#5176589">Pix</a></span><span class="op" id="5178664">[</span><span class="ident" id="5178665"><a href="/gostd/image/image.go.html#5178566">i0</a></span><span class="op" id="5178667">:</span><span class="ident" id="5178668"><a href="/gostd/image/image.go.html#5178570">i1</a></span><span class="op" id="5178670">]</span>&nbsp;<span class="op" id="5178672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178677"><a href="/gostd/image/image.go.html#5178547">present</a></span><span class="op" id="5178684">[</span><span class="ident" id="5178685"><a href="/gostd/image/image.go.html#5178648">c</a></span><span class="op" id="5178686">]</span>&nbsp;<span class="op" id="5178688">=</span>&nbsp;<span class="builtintype" id="5178690">true</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178701"><a href="/gostd/image/image.go.html#5178566">i0</a></span>&nbsp;<span class="op" id="5178704">+=</span>&nbsp;<span class="ident" id="5178707"><a href="/gostd/image/image.go.html#5178513">p</a></span><span class="op" id="5178708">.</span><span class="ident" id="5178709"><a href="/gostd/image/image.go.html#5176678">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178718"><a href="/gostd/image/image.go.html#5178570">i1</a></span>&nbsp;<span class="op" id="5178721">+=</span>&nbsp;<span class="ident" id="5178724"><a href="/gostd/image/image.go.html#5178513">p</a></span><span class="op" id="5178725">.</span><span class="ident" id="5178726"><a href="/gostd/image/image.go.html#5176678">Stride</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178737">for</span>&nbsp;<span class="ident" id="5178741">i</span><span class="op" id="5178742">,</span>&nbsp;<span class="ident" id="5178744">c</span>&nbsp;<span class="op" id="5178746">:=</span>&nbsp;<span class="keyword" id="5178749">range</span>&nbsp;<span class="ident" id="5178755"><a href="/gostd/image/image.go.html#5178513">p</a></span><span class="op" id="5178756">.</span><span class="ident" id="5178757"><a href="/gostd/image/image.go.html#5176774">Palette</a></span>&nbsp;<span class="op" id="5178765">{</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178769">if</span>&nbsp;<span class="op" id="5178772">!</span><span class="ident" id="5178773"><a href="/gostd/image/image.go.html#5178547">present</a></span><span class="op" id="5178780">[</span><span class="ident" id="5178781"><a href="/gostd/image/image.go.html#5178741">i</a></span><span class="op" id="5178782">]</span>&nbsp;<span class="op" id="5178784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178789">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5178804">_</span><span class="op" id="5178805">,</span>&nbsp;<span class="ident" id="5178807">_</span><span class="op" id="5178808">,</span>&nbsp;<span class="ident" id="5178810">_</span><span class="op" id="5178811">,</span>&nbsp;<span class="ident" id="5178813">a</span>&nbsp;<span class="op" id="5178815">:=</span>&nbsp;<span class="ident" id="5178818"><a href="/gostd/image/image.go.html#5178744">c</a></span><span class="op" id="5178819">.</span><span class="ident" id="5178820"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="5178824">(</span><span class="op" id="5178825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178829">if</span>&nbsp;<span class="ident" id="5178832"><a href="/gostd/image/image.go.html#5178813">a</a></span>&nbsp;<span class="op" id="5178834">!=</span>&nbsp;<span class="num" id="5178837">0xffff</span>&nbsp;<span class="op" id="5178844">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178849">return</span>&nbsp;<span class="builtintype" id="5178856">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5178867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5178870">return</span>&nbsp;<span class="builtintype" id="5178877">true</span><br>
<span class="lineno"></span><span class="op" id="5178882">}</span><br>
<span class="lineno">930</span><br>
<span class="lineno"></span><span class="comment" id="5178885">//&nbsp;NewPaletted&nbsp;returns&nbsp;a&nbsp;new&nbsp;Paletted&nbsp;with&nbsp;the&nbsp;given&nbsp;width,&nbsp;height&nbsp;and&nbsp;palette.</span><br>
<span class="lineno"></span><span class="keyword" id="5178965">func</span>&nbsp;<span class="ident" id="5178970">NewPaletted</span><span class="op" id="5178981">(</span><span class="ident" id="5178982">r</span>&nbsp;<span class="ident" id="5178984"><a href="/gostd/image/geom.go.html#5149996">Rectangle</a></span><span class="op" id="5178993">,</span>&nbsp;<span class="ident" id="5178995">p</span>&nbsp;<span class="ident" id="5178997"><a href="/gostd/image/image.go.html#5154671">color</a></span><span class="op" id="5179002">.</span><span class="ident" id="5179003"><a href="/gostd/image/color/color.go.html#5190467">Palette</a></span><span class="op" id="5179010">)</span>&nbsp;<span class="op" id="5179012">*</span><span class="ident" id="5179013"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span>&nbsp;<span class="op" id="5179022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5179025">w</span><span class="op" id="5179026">,</span>&nbsp;<span class="ident" id="5179028">h</span>&nbsp;<span class="op" id="5179030">:=</span>&nbsp;<span class="ident" id="5179033"><a href="/gostd/image/image.go.html#5178982">r</a></span><span class="op" id="5179034">.</span><span class="ident" id="5179035"><a href="/gostd/image/geom.go.html#5150231">Dx</a></span><span class="op" id="5179037">(</span><span class="op" id="5179038">)</span><span class="op" id="5179039">,</span>&nbsp;<span class="ident" id="5179041"><a href="/gostd/image/image.go.html#5178982">r</a></span><span class="op" id="5179042">.</span><span class="ident" id="5179043"><a href="/gostd/image/geom.go.html#5150316">Dy</a></span><span class="op" id="5179045">(</span><span class="op" id="5179046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5179049">pix</span>&nbsp;<span class="op" id="5179053">:=</span>&nbsp;<span class="builtinfunc" id="5179056">make</span><span class="op" id="5179060">(</span><span class="op" id="5179061">[</span><span class="op" id="5179062">]</span><span class="builtintype" id="5179063">uint8</span><span class="op" id="5179068">,</span>&nbsp;<span class="num" id="5179070">1</span><span class="op" id="5179071">*</span><span class="ident" id="5179072"><a href="/gostd/image/image.go.html#5179025">w</a></span><span class="op" id="5179073">*</span><span class="ident" id="5179074"><a href="/gostd/image/image.go.html#5179028">h</a></span><span class="op" id="5179075">)</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5179078">return</span>&nbsp;<span class="op" id="5179085">&amp;</span><span class="ident" id="5179086"><a href="/gostd/image/image.go.html#5176435">Paletted</a></span><span class="op" id="5179094">{</span><span class="ident" id="5179095"><a href="/gostd/image/image.go.html#5179049">pix</a></span><span class="op" id="5179098">,</span>&nbsp;<span class="num" id="5179100">1</span>&nbsp;<span class="op" id="5179102">*</span>&nbsp;<span class="ident" id="5179104"><a href="/gostd/image/image.go.html#5179025">w</a></span><span class="op" id="5179105">,</span>&nbsp;<span class="ident" id="5179107"><a href="/gostd/image/image.go.html#5178982">r</a></span><span class="op" id="5179108">,</span>&nbsp;<span class="ident" id="5179110"><a href="/gostd/image/image.go.html#5178995">p</a></span><span class="op" id="5179111">}</span><br>
<span class="lineno"></span><span class="op" id="5179113">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
