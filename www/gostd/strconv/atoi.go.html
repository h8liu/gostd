<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strconv</h2>
<ul>
<li><a href="/gostd/strconv/atob.go.html">atob.go</a></li>
<li><a href="/gostd/strconv/atob_test.go.html">atob_test.go</a></li>
<li><a href="/gostd/strconv/atof.go.html">atof.go</a></li>
<li><a href="/gostd/strconv/atof_test.go.html">atof_test.go</a></li>
<li><a href="/gostd/strconv/atoi.go.html" class="current">atoi.go</a></li>
<li><a href="/gostd/strconv/atoi_test.go.html">atoi_test.go</a></li>
<li><a href="/gostd/strconv/decimal.go.html">decimal.go</a></li>
<li><a href="/gostd/strconv/decimal_test.go.html">decimal_test.go</a></li>
<li><a href="/gostd/strconv/extfloat.go.html">extfloat.go</a></li>
<li><a href="/gostd/strconv/fp_test.go.html">fp_test.go</a></li>
<li><a href="/gostd/strconv/ftoa.go.html">ftoa.go</a></li>
<li><a href="/gostd/strconv/ftoa_test.go.html">ftoa_test.go</a></li>
<li><a href="/gostd/strconv/internal_test.go.html">internal_test.go</a></li>
<li><a href="/gostd/strconv/isprint.go.html">isprint.go</a></li>
<li><a href="/gostd/strconv/itoa.go.html">itoa.go</a></li>
<li><a href="/gostd/strconv/itoa_test.go.html">itoa_test.go</a></li>
<li><a href="/gostd/strconv/quote.go.html">quote.go</a></li>
<li><a href="/gostd/strconv/quote_example_test.go.html">quote_example_test.go</a></li>
<li><a href="/gostd/strconv/quote_test.go.html">quote_test.go</a></li>
<li><a href="/gostd/strconv/strconv_test.go.html">strconv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2246313">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2246368">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2246422">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2246473">package</span>&nbsp;<span class="ident" id="2246481">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2246490">import</span>&nbsp;<span class="string" id="2246497">&#34;errors&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2246507">//&nbsp;ErrRange&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno">10</span><span class="keyword" id="2246579">var</span>&nbsp;<span class="ident" id="2246583">ErrRange</span>&nbsp;<span class="op" id="2246592">=</span>&nbsp;<span class="ident" id="2246594">errors</span><span class="op" id="2246600">.</span><span class="ident" id="2246601">New</span><span class="op" id="2246604">(</span><span class="string" id="2246605">&#34;value&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2246625">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2246628">//&nbsp;ErrSyntax&nbsp;indicates&nbsp;that&nbsp;a&nbsp;value&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;right&nbsp;syntax&nbsp;for&nbsp;the&nbsp;target&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2246716">var</span>&nbsp;<span class="ident" id="2246720">ErrSyntax</span>&nbsp;<span class="op" id="2246730">=</span>&nbsp;<span class="ident" id="2246732">errors</span><span class="op" id="2246738">.</span><span class="ident" id="2246739">New</span><span class="op" id="2246742">(</span><span class="string" id="2246743">&#34;invalid&nbsp;syntax&#34;</span><span class="op" id="2246759">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2246762">//&nbsp;A&nbsp;NumError&nbsp;records&nbsp;a&nbsp;failed&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="keyword" id="2246805">type</span>&nbsp;<span class="ident" id="2246810">NumError</span>&nbsp;<span class="keyword" id="2246819">struct</span>&nbsp;<span class="op" id="2246826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2246829">Func</span>&nbsp;<span class="builtintype" id="2246834">string</span>&nbsp;<span class="comment" id="2246841">//&nbsp;the&nbsp;failing&nbsp;function&nbsp;(ParseBool,&nbsp;ParseInt,&nbsp;ParseUint,&nbsp;ParseFloat)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2246911">Num</span>&nbsp;&nbsp;<span class="builtintype" id="2246916">string</span>&nbsp;<span class="comment" id="2246923">//&nbsp;the&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2246937">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2246942">error</span>&nbsp;&nbsp;<span class="comment" id="2246949">//&nbsp;the&nbsp;reason&nbsp;the&nbsp;conversion&nbsp;failed&nbsp;(ErrRange,&nbsp;ErrSyntax)</span><br>
<span class="lineno">20</span><span class="op" id="2247007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2247010">func</span>&nbsp;<span class="op" id="2247015">(</span><span class="ident" id="2247016">e</span>&nbsp;<span class="op" id="2247018">*</span><span class="ident" id="2247019">NumError</span><span class="op" id="2247027">)</span>&nbsp;<span class="ident" id="2247029">Error</span><span class="op" id="2247034">(</span><span class="op" id="2247035">)</span>&nbsp;<span class="builtintype" id="2247037">string</span>&nbsp;<span class="op" id="2247044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247047">return</span>&nbsp;<span class="string" id="2247054">&#34;strconv.&#34;</span>&nbsp;<span class="op" id="2247065">+</span>&nbsp;<span class="ident" id="2247067">e</span><span class="op" id="2247068">.</span><span class="ident" id="2247069">Func</span>&nbsp;<span class="op" id="2247074">+</span>&nbsp;<span class="string" id="2247076">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2247081">+</span>&nbsp;<span class="string" id="2247083">&#34;parsing&nbsp;&#34;</span>&nbsp;<span class="op" id="2247094">+</span>&nbsp;<span class="ident" id="2247096">Quote</span><span class="op" id="2247101">(</span><span class="ident" id="2247102">e</span><span class="op" id="2247103">.</span><span class="ident" id="2247104">Num</span><span class="op" id="2247107">)</span>&nbsp;<span class="op" id="2247109">+</span>&nbsp;<span class="string" id="2247111">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2247116">+</span>&nbsp;<span class="ident" id="2247118">e</span><span class="op" id="2247119">.</span><span class="ident" id="2247120">Err</span><span class="op" id="2247123">.</span><span class="ident" id="2247124">Error</span><span class="op" id="2247129">(</span><span class="op" id="2247130">)</span><br>
<span class="lineno"></span><span class="op" id="2247132">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2247135">func</span>&nbsp;<span class="ident" id="2247140">syntaxError</span><span class="op" id="2247151">(</span><span class="ident" id="2247152">fn</span><span class="op" id="2247154">,</span>&nbsp;<span class="ident" id="2247156">str</span>&nbsp;<span class="builtintype" id="2247160">string</span><span class="op" id="2247166">)</span>&nbsp;<span class="op" id="2247168">*</span><span class="ident" id="2247169">NumError</span>&nbsp;<span class="op" id="2247178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247181">return</span>&nbsp;<span class="op" id="2247188">&amp;</span><span class="ident" id="2247189">NumError</span><span class="op" id="2247197">{</span><span class="ident" id="2247198">fn</span><span class="op" id="2247200">,</span>&nbsp;<span class="ident" id="2247202">str</span><span class="op" id="2247205">,</span>&nbsp;<span class="ident" id="2247207">ErrSyntax</span><span class="op" id="2247216">}</span><br>
<span class="lineno"></span><span class="op" id="2247218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="2247221">func</span>&nbsp;<span class="ident" id="2247226">rangeError</span><span class="op" id="2247236">(</span><span class="ident" id="2247237">fn</span><span class="op" id="2247239">,</span>&nbsp;<span class="ident" id="2247241">str</span>&nbsp;<span class="builtintype" id="2247245">string</span><span class="op" id="2247251">)</span>&nbsp;<span class="op" id="2247253">*</span><span class="ident" id="2247254">NumError</span>&nbsp;<span class="op" id="2247263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247266">return</span>&nbsp;<span class="op" id="2247273">&amp;</span><span class="ident" id="2247274">NumError</span><span class="op" id="2247282">{</span><span class="ident" id="2247283">fn</span><span class="op" id="2247285">,</span>&nbsp;<span class="ident" id="2247287">str</span><span class="op" id="2247290">,</span>&nbsp;<span class="ident" id="2247292">ErrRange</span><span class="op" id="2247300">}</span><br>
<span class="lineno"></span><span class="op" id="2247302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2247305">const</span>&nbsp;<span class="ident" id="2247311">intSize</span>&nbsp;<span class="op" id="2247319">=</span>&nbsp;<span class="num" id="2247321">32</span>&nbsp;<span class="op" id="2247324">&lt;&lt;</span>&nbsp;<span class="op" id="2247327">(</span><span class="op" id="2247328">^</span><span class="builtintype" id="2247329">uint</span><span class="op" id="2247333">(</span><span class="num" id="2247334">0</span><span class="op" id="2247335">)</span>&nbsp;<span class="op" id="2247337">&gt;&gt;</span>&nbsp;<span class="num" id="2247340">63</span><span class="op" id="2247342">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2247345">//&nbsp;IntSize&nbsp;is&nbsp;the&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;an&nbsp;int&nbsp;or&nbsp;uint&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2247401">const</span>&nbsp;<span class="ident" id="2247407">IntSize</span>&nbsp;<span class="op" id="2247415">=</span>&nbsp;<span class="ident" id="2247417">intSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2247426">//&nbsp;Return&nbsp;the&nbsp;first&nbsp;number&nbsp;n&nbsp;such&nbsp;that&nbsp;n*base&nbsp;&gt;=&nbsp;1&lt;&lt;64.</span><br>
<span class="lineno">40</span><span class="keyword" id="2247482">func</span>&nbsp;<span class="ident" id="2247487">cutoff64</span><span class="op" id="2247495">(</span><span class="ident" id="2247496">base</span>&nbsp;<span class="builtintype" id="2247501">int</span><span class="op" id="2247504">)</span>&nbsp;<span class="ident" id="2247506">uint64</span>&nbsp;<span class="op" id="2247513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247516">if</span>&nbsp;<span class="ident" id="2247519">base</span>&nbsp;<span class="op" id="2247524">&lt;</span>&nbsp;<span class="num" id="2247526">2</span>&nbsp;<span class="op" id="2247528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247532">return</span>&nbsp;<span class="num" id="2247539">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2247542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247545">return</span>&nbsp;<span class="op" id="2247552">(</span><span class="num" id="2247553">1</span><span class="op" id="2247554">&lt;&lt;</span><span class="num" id="2247556">64</span><span class="op" id="2247558">-</span><span class="num" id="2247559">1</span><span class="op" id="2247560">)</span><span class="op" id="2247561">/</span><span class="ident" id="2247562">uint64</span><span class="op" id="2247568">(</span><span class="ident" id="2247569">base</span><span class="op" id="2247573">)</span>&nbsp;<span class="op" id="2247575">+</span>&nbsp;<span class="num" id="2247577">1</span><br>
<span class="lineno">45</span><span class="op" id="2247579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2247582">//&nbsp;ParseUint&nbsp;is&nbsp;like&nbsp;ParseInt&nbsp;but&nbsp;for&nbsp;unsigned&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="2247638">func</span>&nbsp;<span class="ident" id="2247643">ParseUint</span><span class="op" id="2247652">(</span><span class="ident" id="2247653">s</span>&nbsp;<span class="builtintype" id="2247655">string</span><span class="op" id="2247661">,</span>&nbsp;<span class="ident" id="2247663">base</span>&nbsp;<span class="builtintype" id="2247668">int</span><span class="op" id="2247671">,</span>&nbsp;<span class="ident" id="2247673">bitSize</span>&nbsp;<span class="builtintype" id="2247681">int</span><span class="op" id="2247684">)</span>&nbsp;<span class="op" id="2247686">(</span><span class="ident" id="2247687">n</span>&nbsp;<span class="ident" id="2247689">uint64</span><span class="op" id="2247695">,</span>&nbsp;<span class="ident" id="2247697">err</span>&nbsp;<span class="builtintype" id="2247701">error</span><span class="op" id="2247706">)</span>&nbsp;<span class="op" id="2247708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247711">var</span>&nbsp;<span class="ident" id="2247715">cutoff</span><span class="op" id="2247721">,</span>&nbsp;<span class="ident" id="2247723">maxVal</span>&nbsp;<span class="ident" id="2247730">uint64</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247739">if</span>&nbsp;<span class="ident" id="2247742">bitSize</span>&nbsp;<span class="op" id="2247750">==</span>&nbsp;<span class="num" id="2247753">0</span>&nbsp;<span class="op" id="2247755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2247759">bitSize</span>&nbsp;<span class="op" id="2247767">=</span>&nbsp;<span class="builtintype" id="2247769">int</span><span class="op" id="2247772">(</span><span class="ident" id="2247773">IntSize</span><span class="op" id="2247780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2247783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2247787">s0</span>&nbsp;<span class="op" id="2247790">:=</span>&nbsp;<span class="ident" id="2247793">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247796">switch</span>&nbsp;<span class="op" id="2247803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247806">case</span>&nbsp;<span class="builtinfunc" id="2247811">len</span><span class="op" id="2247814">(</span><span class="ident" id="2247815">s</span><span class="op" id="2247816">)</span>&nbsp;<span class="op" id="2247818">&lt;</span>&nbsp;<span class="num" id="2247820">1</span><span class="op" id="2247821">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2247825">err</span>&nbsp;<span class="op" id="2247829">=</span>&nbsp;<span class="ident" id="2247831">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247843">goto</span>&nbsp;<span class="ident" id="2247848">Error</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247856">case</span>&nbsp;<span class="num" id="2247861">2</span>&nbsp;<span class="op" id="2247863">&lt;=</span>&nbsp;<span class="ident" id="2247866">base</span>&nbsp;<span class="op" id="2247871">&amp;&amp;</span>&nbsp;<span class="ident" id="2247874">base</span>&nbsp;<span class="op" id="2247879">&lt;=</span>&nbsp;<span class="num" id="2247882">36</span><span class="op" id="2247884">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2247888">//&nbsp;valid&nbsp;base;&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247919">case</span>&nbsp;<span class="ident" id="2247924">base</span>&nbsp;<span class="op" id="2247929">==</span>&nbsp;<span class="num" id="2247932">0</span><span class="op" id="2247933">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2247937">//&nbsp;Look&nbsp;for&nbsp;octal,&nbsp;hex&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247970">switch</span>&nbsp;<span class="op" id="2247977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2247981">case</span>&nbsp;<span class="ident" id="2247986">s</span><span class="op" id="2247987">[</span><span class="num" id="2247988">0</span><span class="op" id="2247989">]</span>&nbsp;<span class="op" id="2247991">==</span>&nbsp;<span class="string" id="2247994">&#39;0&#39;</span>&nbsp;<span class="op" id="2247998">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2248001">len</span><span class="op" id="2248004">(</span><span class="ident" id="2248005">s</span><span class="op" id="2248006">)</span>&nbsp;<span class="op" id="2248008">&gt;</span>&nbsp;<span class="num" id="2248010">1</span>&nbsp;<span class="op" id="2248012">&amp;&amp;</span>&nbsp;<span class="op" id="2248015">(</span><span class="ident" id="2248016">s</span><span class="op" id="2248017">[</span><span class="num" id="2248018">1</span><span class="op" id="2248019">]</span>&nbsp;<span class="op" id="2248021">==</span>&nbsp;<span class="string" id="2248024">&#39;x&#39;</span>&nbsp;<span class="op" id="2248028">||</span>&nbsp;<span class="ident" id="2248031">s</span><span class="op" id="2248032">[</span><span class="num" id="2248033">1</span><span class="op" id="2248034">]</span>&nbsp;<span class="op" id="2248036">==</span>&nbsp;<span class="string" id="2248039">&#39;X&#39;</span><span class="op" id="2248042">)</span><span class="op" id="2248043">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248048">base</span>&nbsp;<span class="op" id="2248053">=</span>&nbsp;<span class="num" id="2248055">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248061">s</span>&nbsp;<span class="op" id="2248063">=</span>&nbsp;<span class="ident" id="2248065">s</span><span class="op" id="2248066">[</span><span class="num" id="2248067">2</span><span class="op" id="2248068">:</span><span class="op" id="2248069">]</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248074">if</span>&nbsp;<span class="builtinfunc" id="2248077">len</span><span class="op" id="2248080">(</span><span class="ident" id="2248081">s</span><span class="op" id="2248082">)</span>&nbsp;<span class="op" id="2248084">&lt;</span>&nbsp;<span class="num" id="2248086">1</span>&nbsp;<span class="op" id="2248088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248094">err</span>&nbsp;<span class="op" id="2248098">=</span>&nbsp;<span class="ident" id="2248100">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248114">goto</span>&nbsp;<span class="ident" id="2248119">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248132">case</span>&nbsp;<span class="ident" id="2248137">s</span><span class="op" id="2248138">[</span><span class="num" id="2248139">0</span><span class="op" id="2248140">]</span>&nbsp;<span class="op" id="2248142">==</span>&nbsp;<span class="string" id="2248145">&#39;0&#39;</span><span class="op" id="2248148">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248153">base</span>&nbsp;<span class="op" id="2248158">=</span>&nbsp;<span class="num" id="2248160">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248164">default</span><span class="op" id="2248171">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248176">base</span>&nbsp;<span class="op" id="2248181">=</span>&nbsp;<span class="num" id="2248183">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248192">default</span><span class="op" id="2248199">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248203">err</span>&nbsp;<span class="op" id="2248207">=</span>&nbsp;<span class="ident" id="2248209">errors</span><span class="op" id="2248215">.</span><span class="ident" id="2248216">New</span><span class="op" id="2248219">(</span><span class="string" id="2248220">&#34;invalid&nbsp;base&nbsp;&#34;</span>&nbsp;<span class="op" id="2248236">+</span>&nbsp;<span class="ident" id="2248238">Itoa</span><span class="op" id="2248242">(</span><span class="ident" id="2248243">base</span><span class="op" id="2248247">)</span><span class="op" id="2248248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248252">goto</span>&nbsp;<span class="ident" id="2248257">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248268">n</span>&nbsp;<span class="op" id="2248270">=</span>&nbsp;<span class="num" id="2248272">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248275">cutoff</span>&nbsp;<span class="op" id="2248282">=</span>&nbsp;<span class="ident" id="2248284">cutoff64</span><span class="op" id="2248292">(</span><span class="ident" id="2248293">base</span><span class="op" id="2248297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248300">maxVal</span>&nbsp;<span class="op" id="2248307">=</span>&nbsp;<span class="num" id="2248309">1</span><span class="op" id="2248310">&lt;&lt;</span><span class="builtintype" id="2248312">uint</span><span class="op" id="2248316">(</span><span class="ident" id="2248317">bitSize</span><span class="op" id="2248324">)</span>&nbsp;<span class="op" id="2248326">-</span>&nbsp;<span class="num" id="2248328">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248332">for</span>&nbsp;<span class="ident" id="2248336">i</span>&nbsp;<span class="op" id="2248338">:=</span>&nbsp;<span class="num" id="2248341">0</span><span class="op" id="2248342">;</span>&nbsp;<span class="ident" id="2248344">i</span>&nbsp;<span class="op" id="2248346">&lt;</span>&nbsp;<span class="builtinfunc" id="2248348">len</span><span class="op" id="2248351">(</span><span class="ident" id="2248352">s</span><span class="op" id="2248353">)</span><span class="op" id="2248354">;</span>&nbsp;<span class="ident" id="2248356">i</span><span class="op" id="2248357">++</span>&nbsp;<span class="op" id="2248360">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248364">var</span>&nbsp;<span class="ident" id="2248368">v</span>&nbsp;<span class="builtintype" id="2248370">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248377">d</span>&nbsp;<span class="op" id="2248379">:=</span>&nbsp;<span class="ident" id="2248382">s</span><span class="op" id="2248383">[</span><span class="ident" id="2248384">i</span><span class="op" id="2248385">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248389">switch</span>&nbsp;<span class="op" id="2248396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248400">case</span>&nbsp;<span class="string" id="2248405">&#39;0&#39;</span>&nbsp;<span class="op" id="2248409">&lt;=</span>&nbsp;<span class="ident" id="2248412">d</span>&nbsp;<span class="op" id="2248414">&amp;&amp;</span>&nbsp;<span class="ident" id="2248417">d</span>&nbsp;<span class="op" id="2248419">&lt;=</span>&nbsp;<span class="string" id="2248422">&#39;9&#39;</span><span class="op" id="2248425">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248430">v</span>&nbsp;<span class="op" id="2248432">=</span>&nbsp;<span class="ident" id="2248434">d</span>&nbsp;<span class="op" id="2248436">-</span>&nbsp;<span class="string" id="2248438">&#39;0&#39;</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248444">case</span>&nbsp;<span class="string" id="2248449">&#39;a&#39;</span>&nbsp;<span class="op" id="2248453">&lt;=</span>&nbsp;<span class="ident" id="2248456">d</span>&nbsp;<span class="op" id="2248458">&amp;&amp;</span>&nbsp;<span class="ident" id="2248461">d</span>&nbsp;<span class="op" id="2248463">&lt;=</span>&nbsp;<span class="string" id="2248466">&#39;z&#39;</span><span class="op" id="2248469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248474">v</span>&nbsp;<span class="op" id="2248476">=</span>&nbsp;<span class="ident" id="2248478">d</span>&nbsp;<span class="op" id="2248480">-</span>&nbsp;<span class="string" id="2248482">&#39;a&#39;</span>&nbsp;<span class="op" id="2248486">+</span>&nbsp;<span class="num" id="2248488">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248493">case</span>&nbsp;<span class="string" id="2248498">&#39;A&#39;</span>&nbsp;<span class="op" id="2248502">&lt;=</span>&nbsp;<span class="ident" id="2248505">d</span>&nbsp;<span class="op" id="2248507">&amp;&amp;</span>&nbsp;<span class="ident" id="2248510">d</span>&nbsp;<span class="op" id="2248512">&lt;=</span>&nbsp;<span class="string" id="2248515">&#39;Z&#39;</span><span class="op" id="2248518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248523">v</span>&nbsp;<span class="op" id="2248525">=</span>&nbsp;<span class="ident" id="2248527">d</span>&nbsp;<span class="op" id="2248529">-</span>&nbsp;<span class="string" id="2248531">&#39;A&#39;</span>&nbsp;<span class="op" id="2248535">+</span>&nbsp;<span class="num" id="2248537">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248542">default</span><span class="op" id="2248549">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248554">n</span>&nbsp;<span class="op" id="2248556">=</span>&nbsp;<span class="num" id="2248558">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248563">err</span>&nbsp;<span class="op" id="2248567">=</span>&nbsp;<span class="ident" id="2248569">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248582">goto</span>&nbsp;<span class="ident" id="2248587">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248599">if</span>&nbsp;<span class="builtintype" id="2248602">int</span><span class="op" id="2248605">(</span><span class="ident" id="2248606">v</span><span class="op" id="2248607">)</span>&nbsp;<span class="op" id="2248609">&gt;=</span>&nbsp;<span class="ident" id="2248612">base</span>&nbsp;<span class="op" id="2248617">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248622">n</span>&nbsp;<span class="op" id="2248624">=</span>&nbsp;<span class="num" id="2248626">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248631">err</span>&nbsp;<span class="op" id="2248635">=</span>&nbsp;<span class="ident" id="2248637">ErrSyntax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248650">goto</span>&nbsp;<span class="ident" id="2248655">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248668">if</span>&nbsp;<span class="ident" id="2248671">n</span>&nbsp;<span class="op" id="2248673">&gt;=</span>&nbsp;<span class="ident" id="2248676">cutoff</span>&nbsp;<span class="op" id="2248683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2248688">//&nbsp;n*base&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248711">n</span>&nbsp;<span class="op" id="2248713">=</span>&nbsp;<span class="num" id="2248715">1</span><span class="op" id="2248716">&lt;&lt;</span><span class="num" id="2248718">64</span>&nbsp;<span class="op" id="2248721">-</span>&nbsp;<span class="num" id="2248723">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248728">err</span>&nbsp;<span class="op" id="2248732">=</span>&nbsp;<span class="ident" id="2248734">ErrRange</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248746">goto</span>&nbsp;<span class="ident" id="2248751">Error</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248763">n</span>&nbsp;<span class="op" id="2248765">*=</span>&nbsp;<span class="ident" id="2248768">uint64</span><span class="op" id="2248774">(</span><span class="ident" id="2248775">base</span><span class="op" id="2248779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248784">n1</span>&nbsp;<span class="op" id="2248787">:=</span>&nbsp;<span class="ident" id="2248790">n</span>&nbsp;<span class="op" id="2248792">+</span>&nbsp;<span class="ident" id="2248794">uint64</span><span class="op" id="2248800">(</span><span class="ident" id="2248801">v</span><span class="op" id="2248802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248806">if</span>&nbsp;<span class="ident" id="2248809">n1</span>&nbsp;<span class="op" id="2248812">&lt;</span>&nbsp;<span class="ident" id="2248814">n</span>&nbsp;<span class="op" id="2248816">||</span>&nbsp;<span class="ident" id="2248819">n1</span>&nbsp;<span class="op" id="2248822">&gt;</span>&nbsp;<span class="ident" id="2248824">maxVal</span>&nbsp;<span class="op" id="2248831">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2248836">//&nbsp;n+v&nbsp;overflows</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248856">n</span>&nbsp;<span class="op" id="2248858">=</span>&nbsp;<span class="num" id="2248860">1</span><span class="op" id="2248861">&lt;&lt;</span><span class="num" id="2248863">64</span>&nbsp;<span class="op" id="2248866">-</span>&nbsp;<span class="num" id="2248868">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248873">err</span>&nbsp;<span class="op" id="2248877">=</span>&nbsp;<span class="ident" id="2248879">ErrRange</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248891">goto</span>&nbsp;<span class="ident" id="2248896">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248904">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2248908">n</span>&nbsp;<span class="op" id="2248910">=</span>&nbsp;<span class="ident" id="2248912">n1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2248916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248920">return</span>&nbsp;<span class="ident" id="2248927">n</span><span class="op" id="2248928">,</span>&nbsp;<span class="builtintype" id="2248930">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="ident" id="2248935">Error</span><span class="op" id="2248940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2248943">return</span>&nbsp;<span class="ident" id="2248950">n</span><span class="op" id="2248951">,</span>&nbsp;<span class="op" id="2248953">&amp;</span><span class="ident" id="2248954">NumError</span><span class="op" id="2248962">{</span><span class="string" id="2248963">&#34;ParseUint&#34;</span><span class="op" id="2248974">,</span>&nbsp;<span class="ident" id="2248976">s0</span><span class="op" id="2248978">,</span>&nbsp;<span class="ident" id="2248980">err</span><span class="op" id="2248983">}</span><br>
<span class="lineno"></span><span class="op" id="2248985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2248988">//&nbsp;ParseInt&nbsp;interprets&nbsp;a&nbsp;string&nbsp;s&nbsp;in&nbsp;the&nbsp;given&nbsp;base&nbsp;(2&nbsp;to&nbsp;36)&nbsp;and</span><br>
<span class="lineno">135</span><span class="comment" id="2249054">//&nbsp;returns&nbsp;the&nbsp;corresponding&nbsp;value&nbsp;i.&nbsp;&nbsp;If&nbsp;base&nbsp;==&nbsp;0,&nbsp;the&nbsp;base&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2249119">//&nbsp;implied&nbsp;by&nbsp;the&nbsp;string&#39;s&nbsp;prefix:&nbsp;base&nbsp;16&nbsp;for&nbsp;&#34;0x&#34;,&nbsp;base&nbsp;8&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2249183">//&nbsp;&#34;0&#34;,&nbsp;and&nbsp;base&nbsp;10&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="2249214">//</span><br>
<span class="lineno"></span><span class="comment" id="2249217">//&nbsp;The&nbsp;bitSize&nbsp;argument&nbsp;specifies&nbsp;the&nbsp;integer&nbsp;type</span><br>
<span class="lineno">140</span><span class="comment" id="2249268">//&nbsp;that&nbsp;the&nbsp;result&nbsp;must&nbsp;fit&nbsp;into.&nbsp;&nbsp;Bit&nbsp;sizes&nbsp;0,&nbsp;8,&nbsp;16,&nbsp;32,&nbsp;and&nbsp;64</span><br>
<span class="lineno"></span><span class="comment" id="2249334">//&nbsp;correspond&nbsp;to&nbsp;int,&nbsp;int8,&nbsp;int16,&nbsp;int32,&nbsp;and&nbsp;int64.</span><br>
<span class="lineno"></span><span class="comment" id="2249387">//</span><br>
<span class="lineno"></span><span class="comment" id="2249390">//&nbsp;The&nbsp;errors&nbsp;that&nbsp;ParseInt&nbsp;returns&nbsp;have&nbsp;concrete&nbsp;type&nbsp;*NumError</span><br>
<span class="lineno"></span><span class="comment" id="2249455">//&nbsp;and&nbsp;include&nbsp;err.Num&nbsp;=&nbsp;s.&nbsp;&nbsp;If&nbsp;s&nbsp;is&nbsp;empty&nbsp;or&nbsp;contains&nbsp;invalid</span><br>
<span class="lineno">145</span><span class="comment" id="2249518">//&nbsp;digits,&nbsp;err.Err&nbsp;=&nbsp;ErrSyntax&nbsp;and&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;0;</span><br>
<span class="lineno"></span><span class="comment" id="2249578">//&nbsp;if&nbsp;the&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;s&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2249640">//&nbsp;signed&nbsp;integer&nbsp;of&nbsp;the&nbsp;given&nbsp;size,&nbsp;err.Err&nbsp;=&nbsp;ErrRange&nbsp;and&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2249704">//&nbsp;returned&nbsp;value&nbsp;is&nbsp;the&nbsp;maximum&nbsp;magnitude&nbsp;integer&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2249762">//&nbsp;appropriate&nbsp;bitSize&nbsp;and&nbsp;sign.</span><br>
<span class="lineno">150</span><span class="keyword" id="2249795">func</span>&nbsp;<span class="ident" id="2249800">ParseInt</span><span class="op" id="2249808">(</span><span class="ident" id="2249809">s</span>&nbsp;<span class="builtintype" id="2249811">string</span><span class="op" id="2249817">,</span>&nbsp;<span class="ident" id="2249819">base</span>&nbsp;<span class="builtintype" id="2249824">int</span><span class="op" id="2249827">,</span>&nbsp;<span class="ident" id="2249829">bitSize</span>&nbsp;<span class="builtintype" id="2249837">int</span><span class="op" id="2249840">)</span>&nbsp;<span class="op" id="2249842">(</span><span class="ident" id="2249843">i</span>&nbsp;<span class="ident" id="2249845">int64</span><span class="op" id="2249850">,</span>&nbsp;<span class="ident" id="2249852">err</span>&nbsp;<span class="builtintype" id="2249856">error</span><span class="op" id="2249861">)</span>&nbsp;<span class="op" id="2249863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2249866">const</span>&nbsp;<span class="ident" id="2249872">fnParseInt</span>&nbsp;<span class="op" id="2249883">=</span>&nbsp;<span class="string" id="2249885">&#34;ParseInt&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2249898">if</span>&nbsp;<span class="ident" id="2249901">bitSize</span>&nbsp;<span class="op" id="2249909">==</span>&nbsp;<span class="num" id="2249912">0</span>&nbsp;<span class="op" id="2249914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2249918">bitSize</span>&nbsp;<span class="op" id="2249926">=</span>&nbsp;<span class="builtintype" id="2249928">int</span><span class="op" id="2249931">(</span><span class="ident" id="2249932">IntSize</span><span class="op" id="2249939">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2249942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2249946">//&nbsp;Empty&nbsp;string&nbsp;bad.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2249968">if</span>&nbsp;<span class="builtinfunc" id="2249971">len</span><span class="op" id="2249974">(</span><span class="ident" id="2249975">s</span><span class="op" id="2249976">)</span>&nbsp;<span class="op" id="2249978">==</span>&nbsp;<span class="num" id="2249981">0</span>&nbsp;<span class="op" id="2249983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2249987">return</span>&nbsp;<span class="num" id="2249994">0</span><span class="op" id="2249995">,</span>&nbsp;<span class="ident" id="2249997">syntaxError</span><span class="op" id="2250008">(</span><span class="ident" id="2250009">fnParseInt</span><span class="op" id="2250019">,</span>&nbsp;<span class="ident" id="2250021">s</span><span class="op" id="2250022">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2250025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2250029">//&nbsp;Pick&nbsp;off&nbsp;leading&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250056">s0</span>&nbsp;<span class="op" id="2250059">:=</span>&nbsp;<span class="ident" id="2250062">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250065">neg</span>&nbsp;<span class="op" id="2250069">:=</span>&nbsp;<span class="builtintype" id="2250072">false</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250079">if</span>&nbsp;<span class="ident" id="2250082">s</span><span class="op" id="2250083">[</span><span class="num" id="2250084">0</span><span class="op" id="2250085">]</span>&nbsp;<span class="op" id="2250087">==</span>&nbsp;<span class="string" id="2250090">&#39;+&#39;</span>&nbsp;<span class="op" id="2250094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250098">s</span>&nbsp;<span class="op" id="2250100">=</span>&nbsp;<span class="ident" id="2250102">s</span><span class="op" id="2250103">[</span><span class="num" id="2250104">1</span><span class="op" id="2250105">:</span><span class="op" id="2250106">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2250109">}</span>&nbsp;<span class="keyword" id="2250111">else</span>&nbsp;<span class="keyword" id="2250116">if</span>&nbsp;<span class="ident" id="2250119">s</span><span class="op" id="2250120">[</span><span class="num" id="2250121">0</span><span class="op" id="2250122">]</span>&nbsp;<span class="op" id="2250124">==</span>&nbsp;<span class="string" id="2250127">&#39;-&#39;</span>&nbsp;<span class="op" id="2250131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250135">neg</span>&nbsp;<span class="op" id="2250139">=</span>&nbsp;<span class="builtintype" id="2250141">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250148">s</span>&nbsp;<span class="op" id="2250150">=</span>&nbsp;<span class="ident" id="2250152">s</span><span class="op" id="2250153">[</span><span class="num" id="2250154">1</span><span class="op" id="2250155">:</span><span class="op" id="2250156">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2250159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2250163">//&nbsp;Convert&nbsp;unsigned&nbsp;and&nbsp;check&nbsp;range.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250201">var</span>&nbsp;<span class="ident" id="2250205">un</span>&nbsp;<span class="ident" id="2250208">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250216">un</span><span class="op" id="2250218">,</span>&nbsp;<span class="ident" id="2250220">err</span>&nbsp;<span class="op" id="2250224">=</span>&nbsp;<span class="ident" id="2250226">ParseUint</span><span class="op" id="2250235">(</span><span class="ident" id="2250236">s</span><span class="op" id="2250237">,</span>&nbsp;<span class="ident" id="2250239">base</span><span class="op" id="2250243">,</span>&nbsp;<span class="ident" id="2250245">bitSize</span><span class="op" id="2250252">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250255">if</span>&nbsp;<span class="ident" id="2250258">err</span>&nbsp;<span class="op" id="2250262">!=</span>&nbsp;<span class="builtintype" id="2250265">nil</span>&nbsp;<span class="op" id="2250269">&amp;&amp;</span>&nbsp;<span class="ident" id="2250272">err</span><span class="op" id="2250275">.</span><span class="op" id="2250276">(</span><span class="op" id="2250277">*</span><span class="ident" id="2250278">NumError</span><span class="op" id="2250286">)</span><span class="op" id="2250287">.</span><span class="ident" id="2250288">Err</span>&nbsp;<span class="op" id="2250292">!=</span>&nbsp;<span class="ident" id="2250295">ErrRange</span>&nbsp;<span class="op" id="2250304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250308">err</span><span class="op" id="2250311">.</span><span class="op" id="2250312">(</span><span class="op" id="2250313">*</span><span class="ident" id="2250314">NumError</span><span class="op" id="2250322">)</span><span class="op" id="2250323">.</span><span class="ident" id="2250324">Func</span>&nbsp;<span class="op" id="2250329">=</span>&nbsp;<span class="ident" id="2250331">fnParseInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250344">err</span><span class="op" id="2250347">.</span><span class="op" id="2250348">(</span><span class="op" id="2250349">*</span><span class="ident" id="2250350">NumError</span><span class="op" id="2250358">)</span><span class="op" id="2250359">.</span><span class="ident" id="2250360">Num</span>&nbsp;<span class="op" id="2250364">=</span>&nbsp;<span class="ident" id="2250366">s0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250371">return</span>&nbsp;<span class="num" id="2250378">0</span><span class="op" id="2250379">,</span>&nbsp;<span class="ident" id="2250381">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2250386">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250389">cutoff</span>&nbsp;<span class="op" id="2250396">:=</span>&nbsp;<span class="ident" id="2250399">uint64</span><span class="op" id="2250405">(</span><span class="num" id="2250406">1</span>&nbsp;<span class="op" id="2250408">&lt;&lt;</span>&nbsp;<span class="builtintype" id="2250411">uint</span><span class="op" id="2250415">(</span><span class="ident" id="2250416">bitSize</span><span class="op" id="2250423">-</span><span class="num" id="2250424">1</span><span class="op" id="2250425">)</span><span class="op" id="2250426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250429">if</span>&nbsp;<span class="op" id="2250432">!</span><span class="ident" id="2250433">neg</span>&nbsp;<span class="op" id="2250437">&amp;&amp;</span>&nbsp;<span class="ident" id="2250440">un</span>&nbsp;<span class="op" id="2250443">&gt;=</span>&nbsp;<span class="ident" id="2250446">cutoff</span>&nbsp;<span class="op" id="2250453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250457">return</span>&nbsp;<span class="ident" id="2250464">int64</span><span class="op" id="2250469">(</span><span class="ident" id="2250470">cutoff</span>&nbsp;<span class="op" id="2250477">-</span>&nbsp;<span class="num" id="2250479">1</span><span class="op" id="2250480">)</span><span class="op" id="2250481">,</span>&nbsp;<span class="ident" id="2250483">rangeError</span><span class="op" id="2250493">(</span><span class="ident" id="2250494">fnParseInt</span><span class="op" id="2250504">,</span>&nbsp;<span class="ident" id="2250506">s0</span><span class="op" id="2250508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2250511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250514">if</span>&nbsp;<span class="ident" id="2250517">neg</span>&nbsp;<span class="op" id="2250521">&amp;&amp;</span>&nbsp;<span class="ident" id="2250524">un</span>&nbsp;<span class="op" id="2250527">&gt;</span>&nbsp;<span class="ident" id="2250529">cutoff</span>&nbsp;<span class="op" id="2250536">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250540">return</span>&nbsp;<span class="op" id="2250547">-</span><span class="ident" id="2250548">int64</span><span class="op" id="2250553">(</span><span class="ident" id="2250554">cutoff</span><span class="op" id="2250560">)</span><span class="op" id="2250561">,</span>&nbsp;<span class="ident" id="2250563">rangeError</span><span class="op" id="2250573">(</span><span class="ident" id="2250574">fnParseInt</span><span class="op" id="2250584">,</span>&nbsp;<span class="ident" id="2250586">s0</span><span class="op" id="2250588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2250591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250594">n</span>&nbsp;<span class="op" id="2250596">:=</span>&nbsp;<span class="ident" id="2250599">int64</span><span class="op" id="2250604">(</span><span class="ident" id="2250605">un</span><span class="op" id="2250607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250610">if</span>&nbsp;<span class="ident" id="2250613">neg</span>&nbsp;<span class="op" id="2250617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250621">n</span>&nbsp;<span class="op" id="2250623">=</span>&nbsp;<span class="op" id="2250625">-</span><span class="ident" id="2250626">n</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2250629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250632">return</span>&nbsp;<span class="ident" id="2250639">n</span><span class="op" id="2250640">,</span>&nbsp;<span class="builtintype" id="2250642">nil</span><br>
<span class="lineno"></span><span class="op" id="2250646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2250649">//&nbsp;Atoi&nbsp;is&nbsp;shorthand&nbsp;for&nbsp;ParseInt(s,&nbsp;10,&nbsp;0).</span><br>
<span class="lineno">195</span><span class="keyword" id="2250694">func</span>&nbsp;<span class="ident" id="2250699">Atoi</span><span class="op" id="2250703">(</span><span class="ident" id="2250704">s</span>&nbsp;<span class="builtintype" id="2250706">string</span><span class="op" id="2250712">)</span>&nbsp;<span class="op" id="2250714">(</span><span class="ident" id="2250715">i</span>&nbsp;<span class="builtintype" id="2250717">int</span><span class="op" id="2250720">,</span>&nbsp;<span class="ident" id="2250722">err</span>&nbsp;<span class="builtintype" id="2250726">error</span><span class="op" id="2250731">)</span>&nbsp;<span class="op" id="2250733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2250736">i64</span><span class="op" id="2250739">,</span>&nbsp;<span class="ident" id="2250741">err</span>&nbsp;<span class="op" id="2250745">:=</span>&nbsp;<span class="ident" id="2250748">ParseInt</span><span class="op" id="2250756">(</span><span class="ident" id="2250757">s</span><span class="op" id="2250758">,</span>&nbsp;<span class="num" id="2250760">10</span><span class="op" id="2250762">,</span>&nbsp;<span class="num" id="2250764">0</span><span class="op" id="2250765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2250768">return</span>&nbsp;<span class="builtintype" id="2250775">int</span><span class="op" id="2250778">(</span><span class="ident" id="2250779">i64</span><span class="op" id="2250782">)</span><span class="op" id="2250783">,</span>&nbsp;<span class="ident" id="2250785">err</span><br>
<span class="lineno"></span><span class="op" id="2250789">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
