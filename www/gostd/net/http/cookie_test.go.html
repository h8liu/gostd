<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html" class="current">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7493183">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7493239">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7493293">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7493344">package</span>&nbsp;<span class="ident" id="7493352">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7493358">import</span>&nbsp;<span class="op" id="7493365">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493368">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493377">&#34;encoding/json&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493394">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493401">&#34;log&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493408">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493414">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493425">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493436">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493447">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7493454">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7493457">var</span>&nbsp;<span class="ident" id="7493461">writeSetCookiesTests</span>&nbsp;<span class="op" id="7493482">=</span>&nbsp;<span class="op" id="7493484">[</span><span class="op" id="7493485">]</span><span class="keyword" id="7493486">struct</span>&nbsp;<span class="op" id="7493493">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493496">Cookie</span>&nbsp;<span class="op" id="7493503">*</span><span class="ident" id="7493504"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493512">Raw</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7493519">string</span><br>
<span class="lineno"></span><span class="op" id="7493526">}</span><span class="op" id="7493527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493534">&amp;</span><span class="ident" id="7493535"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7493541">{</span><span class="ident" id="7493542"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7493546">:</span>&nbsp;<span class="string" id="7493548">&#34;cookie-1&#34;</span><span class="op" id="7493558">,</span>&nbsp;<span class="ident" id="7493560"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7493565">:</span>&nbsp;<span class="string" id="7493567">&#34;v$1&#34;</span><span class="op" id="7493572">}</span><span class="op" id="7493573">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493577">&#34;cookie-1=v$1&#34;</span><span class="op" id="7493591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493594">}</span><span class="op" id="7493595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493602">&amp;</span><span class="ident" id="7493603"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7493609">{</span><span class="ident" id="7493610"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7493614">:</span>&nbsp;<span class="string" id="7493616">&#34;cookie-2&#34;</span><span class="op" id="7493626">,</span>&nbsp;<span class="ident" id="7493628"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7493633">:</span>&nbsp;<span class="string" id="7493635">&#34;two&#34;</span><span class="op" id="7493640">,</span>&nbsp;<span class="ident" id="7493642"><a href="/gostd/net/http/cookie.go.html#4096315">MaxAge</a></span><span class="op" id="7493648">:</span>&nbsp;<span class="num" id="7493650">3600</span><span class="op" id="7493654">}</span><span class="op" id="7493655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493659">&#34;cookie-2=two;&nbsp;Max-Age=3600&#34;</span><span class="op" id="7493687">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493690">}</span><span class="op" id="7493691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493698">&amp;</span><span class="ident" id="7493699"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7493705">{</span><span class="ident" id="7493706"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7493710">:</span>&nbsp;<span class="string" id="7493712">&#34;cookie-3&#34;</span><span class="op" id="7493722">,</span>&nbsp;<span class="ident" id="7493724"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7493729">:</span>&nbsp;<span class="string" id="7493731">&#34;three&#34;</span><span class="op" id="7493738">,</span>&nbsp;<span class="ident" id="7493740"><a href="/gostd/net/http/cookie.go.html#4096071">Domain</a></span><span class="op" id="7493746">:</span>&nbsp;<span class="string" id="7493748">&#34;.example.com&#34;</span><span class="op" id="7493762">}</span><span class="op" id="7493763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493767">&#34;cookie-3=three;&nbsp;Domain=example.com&#34;</span><span class="op" id="7493803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493806">}</span><span class="op" id="7493807">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493814">&amp;</span><span class="ident" id="7493815"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7493821">{</span><span class="ident" id="7493822"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7493826">:</span>&nbsp;<span class="string" id="7493828">&#34;cookie-4&#34;</span><span class="op" id="7493838">,</span>&nbsp;<span class="ident" id="7493840"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7493845">:</span>&nbsp;<span class="string" id="7493847">&#34;four&#34;</span><span class="op" id="7493853">,</span>&nbsp;<span class="ident" id="7493855"><a href="/gostd/net/http/cookie.go.html#4096052">Path</a></span><span class="op" id="7493859">:</span>&nbsp;<span class="string" id="7493861">&#34;/restricted/&#34;</span><span class="op" id="7493875">}</span><span class="op" id="7493876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493880">&#34;cookie-4=four;&nbsp;Path=/restricted/&#34;</span><span class="op" id="7493914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493917">}</span><span class="op" id="7493918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493921">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493925">&amp;</span><span class="ident" id="7493926"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7493932">{</span><span class="ident" id="7493933"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7493937">:</span>&nbsp;<span class="string" id="7493939">&#34;cookie-5&#34;</span><span class="op" id="7493949">,</span>&nbsp;<span class="ident" id="7493951"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7493956">:</span>&nbsp;<span class="string" id="7493958">&#34;five&#34;</span><span class="op" id="7493964">,</span>&nbsp;<span class="ident" id="7493966"><a href="/gostd/net/http/cookie.go.html#4096071">Domain</a></span><span class="op" id="7493972">:</span>&nbsp;<span class="string" id="7493974">&#34;wrong;bad.abc&#34;</span><span class="op" id="7493989">}</span><span class="op" id="7493990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493994">&#34;cookie-5=five&#34;</span><span class="op" id="7494009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494012">}</span><span class="op" id="7494013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494020">&amp;</span><span class="ident" id="7494021"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494027">{</span><span class="ident" id="7494028"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494032">:</span>&nbsp;<span class="string" id="7494034">&#34;cookie-6&#34;</span><span class="op" id="7494044">,</span>&nbsp;<span class="ident" id="7494046"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494051">:</span>&nbsp;<span class="string" id="7494053">&#34;six&#34;</span><span class="op" id="7494058">,</span>&nbsp;<span class="ident" id="7494060"><a href="/gostd/net/http/cookie.go.html#4096071">Domain</a></span><span class="op" id="7494066">:</span>&nbsp;<span class="string" id="7494068">&#34;bad-.abc&#34;</span><span class="op" id="7494078">}</span><span class="op" id="7494079">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494083">&#34;cookie-6=six&#34;</span><span class="op" id="7494097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494100">}</span><span class="op" id="7494101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494108">&amp;</span><span class="ident" id="7494109"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494115">{</span><span class="ident" id="7494116"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494120">:</span>&nbsp;<span class="string" id="7494122">&#34;cookie-7&#34;</span><span class="op" id="7494132">,</span>&nbsp;<span class="ident" id="7494134"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494139">:</span>&nbsp;<span class="string" id="7494141">&#34;seven&#34;</span><span class="op" id="7494148">,</span>&nbsp;<span class="ident" id="7494150"><a href="/gostd/net/http/cookie.go.html#4096071">Domain</a></span><span class="op" id="7494156">:</span>&nbsp;<span class="string" id="7494158">&#34;127.0.0.1&#34;</span><span class="op" id="7494169">}</span><span class="op" id="7494170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494174">&#34;cookie-7=seven;&nbsp;Domain=127.0.0.1&#34;</span><span class="op" id="7494208">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494211">}</span><span class="op" id="7494212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494219">&amp;</span><span class="ident" id="7494220"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494226">{</span><span class="ident" id="7494227"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494231">:</span>&nbsp;<span class="string" id="7494233">&#34;cookie-8&#34;</span><span class="op" id="7494243">,</span>&nbsp;<span class="ident" id="7494245"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494250">:</span>&nbsp;<span class="string" id="7494252">&#34;eight&#34;</span><span class="op" id="7494259">,</span>&nbsp;<span class="ident" id="7494261"><a href="/gostd/net/http/cookie.go.html#4096071">Domain</a></span><span class="op" id="7494267">:</span>&nbsp;<span class="string" id="7494269">&#34;::1&#34;</span><span class="op" id="7494274">}</span><span class="op" id="7494275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494279">&#34;cookie-8=eight&#34;</span><span class="op" id="7494295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494298">}</span><span class="op" id="7494299">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7494302">//&nbsp;The&nbsp;&#34;special&#34;&nbsp;cookies&nbsp;have&nbsp;values&nbsp;containing&nbsp;commas&nbsp;or&nbsp;spaces&nbsp;which</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7494374">//&nbsp;are&nbsp;disallowed&nbsp;by&nbsp;RFC&nbsp;6265&nbsp;but&nbsp;are&nbsp;common&nbsp;in&nbsp;the&nbsp;wild.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494437">&amp;</span><span class="ident" id="7494438"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494444">{</span><span class="ident" id="7494445"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494449">:</span>&nbsp;<span class="string" id="7494451">&#34;special-1&#34;</span><span class="op" id="7494462">,</span>&nbsp;<span class="ident" id="7494464"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494469">:</span>&nbsp;<span class="string" id="7494471">&#34;a&nbsp;z&#34;</span><span class="op" id="7494476">}</span><span class="op" id="7494477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494481">`special-1=a&nbsp;z`</span><span class="op" id="7494496">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494499">}</span><span class="op" id="7494500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494507">&amp;</span><span class="ident" id="7494508"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494514">{</span><span class="ident" id="7494515"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494519">:</span>&nbsp;<span class="string" id="7494521">&#34;special-2&#34;</span><span class="op" id="7494532">,</span>&nbsp;<span class="ident" id="7494534"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494539">:</span>&nbsp;<span class="string" id="7494541">&#34;&nbsp;z&#34;</span><span class="op" id="7494545">}</span><span class="op" id="7494546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494550">`special-2=&#34;&nbsp;z&#34;`</span><span class="op" id="7494566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494569">}</span><span class="op" id="7494570">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494577">&amp;</span><span class="ident" id="7494578"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494584">{</span><span class="ident" id="7494585"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494589">:</span>&nbsp;<span class="string" id="7494591">&#34;special-3&#34;</span><span class="op" id="7494602">,</span>&nbsp;<span class="ident" id="7494604"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494609">:</span>&nbsp;<span class="string" id="7494611">&#34;a&nbsp;&#34;</span><span class="op" id="7494615">}</span><span class="op" id="7494616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494620">`special-3=&#34;a&nbsp;&#34;`</span><span class="op" id="7494636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494639">}</span><span class="op" id="7494640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494643">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494647">&amp;</span><span class="ident" id="7494648"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494654">{</span><span class="ident" id="7494655"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494659">:</span>&nbsp;<span class="string" id="7494661">&#34;special-4&#34;</span><span class="op" id="7494672">,</span>&nbsp;<span class="ident" id="7494674"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494679">:</span>&nbsp;<span class="string" id="7494681">&#34;&nbsp;&#34;</span><span class="op" id="7494684">}</span><span class="op" id="7494685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494689">`special-4=&#34;&nbsp;&#34;`</span><span class="op" id="7494704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494707">}</span><span class="op" id="7494708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494715">&amp;</span><span class="ident" id="7494716"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494722">{</span><span class="ident" id="7494723"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494727">:</span>&nbsp;<span class="string" id="7494729">&#34;special-5&#34;</span><span class="op" id="7494740">,</span>&nbsp;<span class="ident" id="7494742"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494747">:</span>&nbsp;<span class="string" id="7494749">&#34;a,z&#34;</span><span class="op" id="7494754">}</span><span class="op" id="7494755">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494759">`special-5=a,z`</span><span class="op" id="7494774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494777">}</span><span class="op" id="7494778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494785">&amp;</span><span class="ident" id="7494786"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494792">{</span><span class="ident" id="7494793"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494797">:</span>&nbsp;<span class="string" id="7494799">&#34;special-6&#34;</span><span class="op" id="7494810">,</span>&nbsp;<span class="ident" id="7494812"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494817">:</span>&nbsp;<span class="string" id="7494819">&#34;,z&#34;</span><span class="op" id="7494823">}</span><span class="op" id="7494824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494828">`special-6=&#34;,z&#34;`</span><span class="op" id="7494844">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494847">}</span><span class="op" id="7494848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494855">&amp;</span><span class="ident" id="7494856"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494862">{</span><span class="ident" id="7494863"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494867">:</span>&nbsp;<span class="string" id="7494869">&#34;special-7&#34;</span><span class="op" id="7494880">,</span>&nbsp;<span class="ident" id="7494882"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494887">:</span>&nbsp;<span class="string" id="7494889">&#34;a,&#34;</span><span class="op" id="7494893">}</span><span class="op" id="7494894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494898">`special-7=&#34;a,&#34;`</span><span class="op" id="7494914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494917">}</span><span class="op" id="7494918">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494925">&amp;</span><span class="ident" id="7494926"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7494932">{</span><span class="ident" id="7494933"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7494937">:</span>&nbsp;<span class="string" id="7494939">&#34;special-8&#34;</span><span class="op" id="7494950">,</span>&nbsp;<span class="ident" id="7494952"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7494957">:</span>&nbsp;<span class="string" id="7494959">&#34;,&#34;</span><span class="op" id="7494962">}</span><span class="op" id="7494963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494967">`special-8=&#34;,&#34;`</span><span class="op" id="7494982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494985">}</span><span class="op" id="7494986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494989">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494993">&amp;</span><span class="ident" id="7494994"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7495000">{</span><span class="ident" id="7495001"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7495005">:</span>&nbsp;<span class="string" id="7495007">&#34;empty-value&#34;</span><span class="op" id="7495020">,</span>&nbsp;<span class="ident" id="7495022"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7495027">:</span>&nbsp;<span class="string" id="7495029">&#34;&#34;</span><span class="op" id="7495031">}</span><span class="op" id="7495032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7495036">`empty-value=`</span><span class="op" id="7495050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495053">}</span><span class="op" id="7495054">,</span><br>
<span class="lineno"></span><span class="op" id="7495056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7495059">func</span>&nbsp;<span class="ident" id="7495064">TestWriteSetCookies</span><span class="op" id="7495083">(</span><span class="ident" id="7495084">t</span>&nbsp;<span class="op" id="7495086">*</span><span class="ident" id="7495087"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7495094">.</span><span class="ident" id="7495095"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7495096">)</span>&nbsp;<span class="op" id="7495098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495101">defer</span>&nbsp;<span class="ident" id="7495107"><a href="/gostd/net/http/cookie_test.go.html#7493401">log</a></span><span class="op" id="7495110">.</span><span class="ident" id="7495111"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="7495120">(</span><span class="ident" id="7495121"><a href="/gostd/net/http/cookie_test.go.html#7493408">os</a></span><span class="op" id="7495123">.</span><span class="ident" id="7495124"><a href="/gostd/os/file.go.html#2441872">Stderr</a></span><span class="op" id="7495130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495133">var</span>&nbsp;<span class="ident" id="7495137">logbuf</span>&nbsp;<span class="ident" id="7495144"><a href="/gostd/net/http/cookie_test.go.html#7493368">bytes</a></span><span class="op" id="7495149">.</span><span class="ident" id="7495150"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495158"><a href="/gostd/net/http/cookie_test.go.html#7493401">log</a></span><span class="op" id="7495161">.</span><span class="ident" id="7495162"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="7495171">(</span><span class="op" id="7495172">&amp;</span><span class="ident" id="7495173"><a href="/gostd/net/http/cookie_test.go.html#7495137">logbuf</a></span><span class="op" id="7495179">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495183">for</span>&nbsp;<span class="ident" id="7495187">i</span><span class="op" id="7495188">,</span>&nbsp;<span class="ident" id="7495190">tt</span>&nbsp;<span class="op" id="7495193">:=</span>&nbsp;<span class="keyword" id="7495196">range</span>&nbsp;<span class="ident" id="7495202"><a href="/gostd/net/http/cookie_test.go.html#7493461">writeSetCookiesTests</a></span>&nbsp;<span class="op" id="7495223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495227">if</span>&nbsp;<span class="ident" id="7495230">g</span><span class="op" id="7495231">,</span>&nbsp;<span class="ident" id="7495233">e</span>&nbsp;<span class="op" id="7495235">:=</span>&nbsp;<span class="ident" id="7495238"><a href="/gostd/net/http/cookie_test.go.html#7495190">tt</a></span><span class="op" id="7495240">.</span><span class="ident" id="7495241"><a href="/gostd/net/http/cookie_test.go.html#7493496">Cookie</a></span><span class="op" id="7495247">.</span><span class="ident" id="7495248"><a href="/gostd/net/http/cookie.go.html#4098750">String</a></span><span class="op" id="7495254">(</span><span class="op" id="7495255">)</span><span class="op" id="7495256">,</span>&nbsp;<span class="ident" id="7495258"><a href="/gostd/net/http/cookie_test.go.html#7495190">tt</a></span><span class="op" id="7495260">.</span><span class="ident" id="7495261"><a href="/gostd/net/http/cookie_test.go.html#7493512">Raw</a></span><span class="op" id="7495264">;</span>&nbsp;<span class="ident" id="7495266"><a href="/gostd/net/http/cookie_test.go.html#7495230">g</a></span>&nbsp;<span class="op" id="7495268">!=</span>&nbsp;<span class="ident" id="7495271"><a href="/gostd/net/http/cookie_test.go.html#7495233">e</a></span>&nbsp;<span class="op" id="7495273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495278"><a href="/gostd/net/http/cookie_test.go.html#7495084">t</a></span><span class="op" id="7495279">.</span><span class="ident" id="7495280"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7495286">(</span><span class="string" id="7495287">&#34;Test&nbsp;%d,&nbsp;expecting:\n%s\nGot:\n%s\n&#34;</span><span class="op" id="7495324">,</span>&nbsp;<span class="ident" id="7495326"><a href="/gostd/net/http/cookie_test.go.html#7495187">i</a></span><span class="op" id="7495327">,</span>&nbsp;<span class="ident" id="7495329"><a href="/gostd/net/http/cookie_test.go.html#7495233">e</a></span><span class="op" id="7495330">,</span>&nbsp;<span class="ident" id="7495332"><a href="/gostd/net/http/cookie_test.go.html#7495230">g</a></span><span class="op" id="7495333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495338">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495349">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495356">if</span>&nbsp;<span class="ident" id="7495359">got</span><span class="op" id="7495362">,</span>&nbsp;<span class="ident" id="7495364">sub</span>&nbsp;<span class="op" id="7495368">:=</span>&nbsp;<span class="ident" id="7495371"><a href="/gostd/net/http/cookie_test.go.html#7495137">logbuf</a></span><span class="op" id="7495377">.</span><span class="ident" id="7495378"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7495384">(</span><span class="op" id="7495385">)</span><span class="op" id="7495386">,</span>&nbsp;<span class="string" id="7495388">&#34;dropping&nbsp;domain&nbsp;attribute&#34;</span><span class="op" id="7495415">;</span>&nbsp;<span class="op" id="7495417">!</span><span class="ident" id="7495418"><a href="/gostd/net/http/cookie_test.go.html#7493425">strings</a></span><span class="op" id="7495425">.</span><span class="ident" id="7495426"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7495434">(</span><span class="ident" id="7495435"><a href="/gostd/net/http/cookie_test.go.html#7495359">got</a></span><span class="op" id="7495438">,</span>&nbsp;<span class="ident" id="7495440"><a href="/gostd/net/http/cookie_test.go.html#7495364">sub</a></span><span class="op" id="7495443">)</span>&nbsp;<span class="op" id="7495445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495449"><a href="/gostd/net/http/cookie_test.go.html#7495084">t</a></span><span class="op" id="7495450">.</span><span class="ident" id="7495451"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7495457">(</span><span class="string" id="7495458">&#34;Expected&nbsp;substring&nbsp;%q&nbsp;in&nbsp;log&nbsp;output.&nbsp;Got:\n%s&#34;</span><span class="op" id="7495505">,</span>&nbsp;<span class="ident" id="7495507"><a href="/gostd/net/http/cookie_test.go.html#7495364">sub</a></span><span class="op" id="7495510">,</span>&nbsp;<span class="ident" id="7495512"><a href="/gostd/net/http/cookie_test.go.html#7495359">got</a></span><span class="op" id="7495515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495518">}</span><br>
<span class="lineno">110</span><span class="op" id="7495520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495523">type</span>&nbsp;<span class="ident" id="7495528">headerOnlyResponseWriter</span>&nbsp;<span class="ident" id="7495553"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495561">func</span>&nbsp;<span class="op" id="7495566">(</span><span class="ident" id="7495567">ho</span>&nbsp;<span class="ident" id="7495570"><a href="/gostd/net/http/cookie_test.go.html#7495528">headerOnlyResponseWriter</a></span><span class="op" id="7495594">)</span>&nbsp;<span class="ident" id="7495596">Header</span><span class="op" id="7495602">(</span><span class="op" id="7495603">)</span>&nbsp;<span class="ident" id="7495605"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span>&nbsp;<span class="op" id="7495612">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495615">return</span>&nbsp;<span class="ident" id="7495622"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7495628">(</span><span class="ident" id="7495629"><a href="/gostd/net/http/cookie_test.go.html#7495567">ho</a></span><span class="op" id="7495631">)</span><br>
<span class="lineno"></span><span class="op" id="7495633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495636">func</span>&nbsp;<span class="op" id="7495641">(</span><span class="ident" id="7495642">ho</span>&nbsp;<span class="ident" id="7495645"><a href="/gostd/net/http/cookie_test.go.html#7495528">headerOnlyResponseWriter</a></span><span class="op" id="7495669">)</span>&nbsp;<span class="ident" id="7495671">Write</span><span class="op" id="7495676">(</span><span class="op" id="7495677">[</span><span class="op" id="7495678">]</span><span class="builtintype" id="7495679">byte</span><span class="op" id="7495683">)</span>&nbsp;<span class="op" id="7495685">(</span><span class="builtintype" id="7495686">int</span><span class="op" id="7495689">,</span>&nbsp;<span class="builtintype" id="7495691">error</span><span class="op" id="7495696">)</span>&nbsp;<span class="op" id="7495698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7495701">panic</span><span class="op" id="7495706">(</span><span class="string" id="7495707">&#34;NOIMPL&#34;</span><span class="op" id="7495715">)</span><br>
<span class="lineno">120</span><span class="op" id="7495717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495720">func</span>&nbsp;<span class="op" id="7495725">(</span><span class="ident" id="7495726">ho</span>&nbsp;<span class="ident" id="7495729"><a href="/gostd/net/http/cookie_test.go.html#7495528">headerOnlyResponseWriter</a></span><span class="op" id="7495753">)</span>&nbsp;<span class="ident" id="7495755">WriteHeader</span><span class="op" id="7495766">(</span><span class="builtintype" id="7495767">int</span><span class="op" id="7495770">)</span>&nbsp;<span class="op" id="7495772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7495775">panic</span><span class="op" id="7495780">(</span><span class="string" id="7495781">&#34;NOIMPL&#34;</span><span class="op" id="7495789">)</span><br>
<span class="lineno"></span><span class="op" id="7495791">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="7495794">func</span>&nbsp;<span class="ident" id="7495799">TestSetCookie</span><span class="op" id="7495812">(</span><span class="ident" id="7495813">t</span>&nbsp;<span class="op" id="7495815">*</span><span class="ident" id="7495816"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7495823">.</span><span class="ident" id="7495824"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7495825">)</span>&nbsp;<span class="op" id="7495827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495830">m</span>&nbsp;<span class="op" id="7495832">:=</span>&nbsp;<span class="builtinfunc" id="7495835">make</span><span class="op" id="7495839">(</span><span class="ident" id="7495840"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7495846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495849"><a href="/gostd/net/http/cookie.go.html#4098462">SetCookie</a></span><span class="op" id="7495858">(</span><span class="ident" id="7495859"><a href="/gostd/net/http/cookie_test.go.html#7495528">headerOnlyResponseWriter</a></span><span class="op" id="7495883">(</span><span class="ident" id="7495884"><a href="/gostd/net/http/cookie_test.go.html#7495830">m</a></span><span class="op" id="7495885">)</span><span class="op" id="7495886">,</span>&nbsp;<span class="op" id="7495888">&amp;</span><span class="ident" id="7495889"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7495895">{</span><span class="ident" id="7495896"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7495900">:</span>&nbsp;<span class="string" id="7495902">&#34;cookie-1&#34;</span><span class="op" id="7495912">,</span>&nbsp;<span class="ident" id="7495914"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7495919">:</span>&nbsp;<span class="string" id="7495921">&#34;one&#34;</span><span class="op" id="7495926">,</span>&nbsp;<span class="ident" id="7495928"><a href="/gostd/net/http/cookie.go.html#4096052">Path</a></span><span class="op" id="7495932">:</span>&nbsp;<span class="string" id="7495934">&#34;/restricted/&#34;</span><span class="op" id="7495948">}</span><span class="op" id="7495949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495952"><a href="/gostd/net/http/cookie.go.html#4098462">SetCookie</a></span><span class="op" id="7495961">(</span><span class="ident" id="7495962"><a href="/gostd/net/http/cookie_test.go.html#7495528">headerOnlyResponseWriter</a></span><span class="op" id="7495986">(</span><span class="ident" id="7495987"><a href="/gostd/net/http/cookie_test.go.html#7495830">m</a></span><span class="op" id="7495988">)</span><span class="op" id="7495989">,</span>&nbsp;<span class="op" id="7495991">&amp;</span><span class="ident" id="7495992"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7495998">{</span><span class="ident" id="7495999"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7496003">:</span>&nbsp;<span class="string" id="7496005">&#34;cookie-2&#34;</span><span class="op" id="7496015">,</span>&nbsp;<span class="ident" id="7496017"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7496022">:</span>&nbsp;<span class="string" id="7496024">&#34;two&#34;</span><span class="op" id="7496029">,</span>&nbsp;<span class="ident" id="7496031"><a href="/gostd/net/http/cookie.go.html#4096315">MaxAge</a></span><span class="op" id="7496037">:</span>&nbsp;<span class="num" id="7496039">3600</span><span class="op" id="7496043">}</span><span class="op" id="7496044">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7496047">if</span>&nbsp;<span class="ident" id="7496050">l</span>&nbsp;<span class="op" id="7496052">:=</span>&nbsp;<span class="builtinfunc" id="7496055">len</span><span class="op" id="7496058">(</span><span class="ident" id="7496059"><a href="/gostd/net/http/cookie_test.go.html#7495830">m</a></span><span class="op" id="7496060">[</span><span class="string" id="7496061">&#34;Set-Cookie&#34;</span><span class="op" id="7496073">]</span><span class="op" id="7496074">)</span><span class="op" id="7496075">;</span>&nbsp;<span class="ident" id="7496077"><a href="/gostd/net/http/cookie_test.go.html#7496050">l</a></span>&nbsp;<span class="op" id="7496079">!=</span>&nbsp;<span class="num" id="7496082">2</span>&nbsp;<span class="op" id="7496084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496088"><a href="/gostd/net/http/cookie_test.go.html#7495813">t</a></span><span class="op" id="7496089">.</span><span class="ident" id="7496090"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7496096">(</span><span class="string" id="7496097">&#34;expected&nbsp;%d&nbsp;cookies,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7496126">,</span>&nbsp;<span class="num" id="7496128">2</span><span class="op" id="7496129">,</span>&nbsp;<span class="ident" id="7496131"><a href="/gostd/net/http/cookie_test.go.html#7496050">l</a></span><span class="op" id="7496132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7496138">if</span>&nbsp;<span class="ident" id="7496141">g</span><span class="op" id="7496142">,</span>&nbsp;<span class="ident" id="7496144">e</span>&nbsp;<span class="op" id="7496146">:=</span>&nbsp;<span class="ident" id="7496149"><a href="/gostd/net/http/cookie_test.go.html#7495830">m</a></span><span class="op" id="7496150">[</span><span class="string" id="7496151">&#34;Set-Cookie&#34;</span><span class="op" id="7496163">]</span><span class="op" id="7496164">[</span><span class="num" id="7496165">0</span><span class="op" id="7496166">]</span><span class="op" id="7496167">,</span>&nbsp;<span class="string" id="7496169">&#34;cookie-1=one;&nbsp;Path=/restricted/&#34;</span><span class="op" id="7496202">;</span>&nbsp;<span class="ident" id="7496204"><a href="/gostd/net/http/cookie_test.go.html#7496141">g</a></span>&nbsp;<span class="op" id="7496206">!=</span>&nbsp;<span class="ident" id="7496209"><a href="/gostd/net/http/cookie_test.go.html#7496144">e</a></span>&nbsp;<span class="op" id="7496211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496215"><a href="/gostd/net/http/cookie_test.go.html#7495813">t</a></span><span class="op" id="7496216">.</span><span class="ident" id="7496217"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7496223">(</span><span class="string" id="7496224">&#34;cookie&nbsp;#1:&nbsp;want&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7496252">,</span>&nbsp;<span class="ident" id="7496254"><a href="/gostd/net/http/cookie_test.go.html#7496144">e</a></span><span class="op" id="7496255">,</span>&nbsp;<span class="ident" id="7496257"><a href="/gostd/net/http/cookie_test.go.html#7496141">g</a></span><span class="op" id="7496258">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7496264">if</span>&nbsp;<span class="ident" id="7496267">g</span><span class="op" id="7496268">,</span>&nbsp;<span class="ident" id="7496270">e</span>&nbsp;<span class="op" id="7496272">:=</span>&nbsp;<span class="ident" id="7496275"><a href="/gostd/net/http/cookie_test.go.html#7495830">m</a></span><span class="op" id="7496276">[</span><span class="string" id="7496277">&#34;Set-Cookie&#34;</span><span class="op" id="7496289">]</span><span class="op" id="7496290">[</span><span class="num" id="7496291">1</span><span class="op" id="7496292">]</span><span class="op" id="7496293">,</span>&nbsp;<span class="string" id="7496295">&#34;cookie-2=two;&nbsp;Max-Age=3600&#34;</span><span class="op" id="7496323">;</span>&nbsp;<span class="ident" id="7496325"><a href="/gostd/net/http/cookie_test.go.html#7496267">g</a></span>&nbsp;<span class="op" id="7496327">!=</span>&nbsp;<span class="ident" id="7496330"><a href="/gostd/net/http/cookie_test.go.html#7496270">e</a></span>&nbsp;<span class="op" id="7496332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496336"><a href="/gostd/net/http/cookie_test.go.html#7495813">t</a></span><span class="op" id="7496337">.</span><span class="ident" id="7496338"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7496344">(</span><span class="string" id="7496345">&#34;cookie&nbsp;#2:&nbsp;want&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7496373">,</span>&nbsp;<span class="ident" id="7496375"><a href="/gostd/net/http/cookie_test.go.html#7496270">e</a></span><span class="op" id="7496376">,</span>&nbsp;<span class="ident" id="7496378"><a href="/gostd/net/http/cookie_test.go.html#7496267">g</a></span><span class="op" id="7496379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496382">}</span><br>
<span class="lineno"></span><span class="op" id="7496384">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="7496387">var</span>&nbsp;<span class="ident" id="7496391">addCookieTests</span>&nbsp;<span class="op" id="7496406">=</span>&nbsp;<span class="op" id="7496408">[</span><span class="op" id="7496409">]</span><span class="keyword" id="7496410">struct</span>&nbsp;<span class="op" id="7496417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496420">Cookies</span>&nbsp;<span class="op" id="7496428">[</span><span class="op" id="7496429">]</span><span class="op" id="7496430">*</span><span class="ident" id="7496431"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496439">Raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7496447">string</span><br>
<span class="lineno"></span><span class="op" id="7496454">}</span><span class="op" id="7496455">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496462">[</span><span class="op" id="7496463">]</span><span class="op" id="7496464">*</span><span class="ident" id="7496465"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7496471">{</span><span class="op" id="7496472">}</span><span class="op" id="7496473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7496477">&#34;&#34;</span><span class="op" id="7496479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496482">}</span><span class="op" id="7496483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496486">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496490">[</span><span class="op" id="7496491">]</span><span class="op" id="7496492">*</span><span class="ident" id="7496493"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7496499">{</span><span class="op" id="7496500">{</span><span class="ident" id="7496501"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7496505">:</span>&nbsp;<span class="string" id="7496507">&#34;cookie-1&#34;</span><span class="op" id="7496517">,</span>&nbsp;<span class="ident" id="7496519"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7496524">:</span>&nbsp;<span class="string" id="7496526">&#34;v$1&#34;</span><span class="op" id="7496531">}</span><span class="op" id="7496532">}</span><span class="op" id="7496533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7496537">&#34;cookie-1=v$1&#34;</span><span class="op" id="7496551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496554">}</span><span class="op" id="7496555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496562">[</span><span class="op" id="7496563">]</span><span class="op" id="7496564">*</span><span class="ident" id="7496565"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7496571">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496576">{</span><span class="ident" id="7496577"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7496581">:</span>&nbsp;<span class="string" id="7496583">&#34;cookie-1&#34;</span><span class="op" id="7496593">,</span>&nbsp;<span class="ident" id="7496595"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7496600">:</span>&nbsp;<span class="string" id="7496602">&#34;v$1&#34;</span><span class="op" id="7496607">}</span><span class="op" id="7496608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496613">{</span><span class="ident" id="7496614"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7496618">:</span>&nbsp;<span class="string" id="7496620">&#34;cookie-2&#34;</span><span class="op" id="7496630">,</span>&nbsp;<span class="ident" id="7496632"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7496637">:</span>&nbsp;<span class="string" id="7496639">&#34;v$2&#34;</span><span class="op" id="7496644">}</span><span class="op" id="7496645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496650">{</span><span class="ident" id="7496651"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7496655">:</span>&nbsp;<span class="string" id="7496657">&#34;cookie-3&#34;</span><span class="op" id="7496667">,</span>&nbsp;<span class="ident" id="7496669"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7496674">:</span>&nbsp;<span class="string" id="7496676">&#34;v$3&#34;</span><span class="op" id="7496681">}</span><span class="op" id="7496682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496686">}</span><span class="op" id="7496687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7496691">&#34;cookie-1=v$1;&nbsp;cookie-2=v$2;&nbsp;cookie-3=v$3&#34;</span><span class="op" id="7496733">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496736">}</span><span class="op" id="7496737">,</span><br>
<span class="lineno"></span><span class="op" id="7496739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7496742">func</span>&nbsp;<span class="ident" id="7496747">TestAddCookie</span><span class="op" id="7496760">(</span><span class="ident" id="7496761">t</span>&nbsp;<span class="op" id="7496763">*</span><span class="ident" id="7496764"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7496771">.</span><span class="ident" id="7496772"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7496773">)</span>&nbsp;<span class="op" id="7496775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7496778">for</span>&nbsp;<span class="ident" id="7496782">i</span><span class="op" id="7496783">,</span>&nbsp;<span class="ident" id="7496785">tt</span>&nbsp;<span class="op" id="7496788">:=</span>&nbsp;<span class="keyword" id="7496791">range</span>&nbsp;<span class="ident" id="7496797"><a href="/gostd/net/http/cookie_test.go.html#7496391">addCookieTests</a></span>&nbsp;<span class="op" id="7496812">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496816">req</span><span class="op" id="7496819">,</span>&nbsp;<span class="ident" id="7496821">_</span>&nbsp;<span class="op" id="7496823">:=</span>&nbsp;<span class="ident" id="7496826"><a href="/gostd/net/http/request.go.html#4149529">NewRequest</a></span><span class="op" id="7496836">(</span><span class="string" id="7496837">&#34;GET&#34;</span><span class="op" id="7496842">,</span>&nbsp;<span class="string" id="7496844">&#34;http://example.com/&#34;</span><span class="op" id="7496865">,</span>&nbsp;<span class="builtintype" id="7496867">nil</span><span class="op" id="7496870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7496874">for</span>&nbsp;<span class="ident" id="7496878">_</span><span class="op" id="7496879">,</span>&nbsp;<span class="ident" id="7496881">c</span>&nbsp;<span class="op" id="7496883">:=</span>&nbsp;<span class="keyword" id="7496886">range</span>&nbsp;<span class="ident" id="7496892"><a href="/gostd/net/http/cookie_test.go.html#7496785">tt</a></span><span class="op" id="7496894">.</span><span class="ident" id="7496895"><a href="/gostd/net/http/cookie_test.go.html#7496420">Cookies</a></span>&nbsp;<span class="op" id="7496903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496908"><a href="/gostd/net/http/cookie_test.go.html#7496816">req</a></span><span class="op" id="7496911">.</span><span class="ident" id="7496912"><a href="/gostd/net/http/request.go.html#4142973">AddCookie</a></span><span class="op" id="7496921">(</span><span class="ident" id="7496922"><a href="/gostd/net/http/cookie_test.go.html#7496881">c</a></span><span class="op" id="7496923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7496927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7496931">if</span>&nbsp;<span class="ident" id="7496934">g</span>&nbsp;<span class="op" id="7496936">:=</span>&nbsp;<span class="ident" id="7496939"><a href="/gostd/net/http/cookie_test.go.html#7496816">req</a></span><span class="op" id="7496942">.</span><span class="ident" id="7496943"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7496949">.</span><span class="ident" id="7496950"><a href="/gostd/net/http/header.go.html#4126793">Get</a></span><span class="op" id="7496953">(</span><span class="string" id="7496954">&#34;Cookie&#34;</span><span class="op" id="7496962">)</span><span class="op" id="7496963">;</span>&nbsp;<span class="ident" id="7496965"><a href="/gostd/net/http/cookie_test.go.html#7496934">g</a></span>&nbsp;<span class="op" id="7496967">!=</span>&nbsp;<span class="ident" id="7496970"><a href="/gostd/net/http/cookie_test.go.html#7496785">tt</a></span><span class="op" id="7496972">.</span><span class="ident" id="7496973"><a href="/gostd/net/http/cookie_test.go.html#7496439">Raw</a></span>&nbsp;<span class="op" id="7496977">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7496982"><a href="/gostd/net/http/cookie_test.go.html#7496761">t</a></span><span class="op" id="7496983">.</span><span class="ident" id="7496984"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7496990">(</span><span class="string" id="7496991">&#34;Test&nbsp;%d:\nwant:&nbsp;%s\n&nbsp;got:&nbsp;%s\n&#34;</span><span class="op" id="7497023">,</span>&nbsp;<span class="ident" id="7497025"><a href="/gostd/net/http/cookie_test.go.html#7496782">i</a></span><span class="op" id="7497026">,</span>&nbsp;<span class="ident" id="7497028"><a href="/gostd/net/http/cookie_test.go.html#7496785">tt</a></span><span class="op" id="7497030">.</span><span class="ident" id="7497031"><a href="/gostd/net/http/cookie_test.go.html#7496439">Raw</a></span><span class="op" id="7497034">,</span>&nbsp;<span class="ident" id="7497036"><a href="/gostd/net/http/cookie_test.go.html#7496934">g</a></span><span class="op" id="7497037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7497042">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497056">}</span><br>
<span class="lineno"></span><span class="op" id="7497058">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="7497061">var</span>&nbsp;<span class="ident" id="7497065">readSetCookiesTests</span>&nbsp;<span class="op" id="7497085">=</span>&nbsp;<span class="op" id="7497087">[</span><span class="op" id="7497088">]</span><span class="keyword" id="7497089">struct</span>&nbsp;<span class="op" id="7497096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497099">Header</span>&nbsp;&nbsp;<span class="ident" id="7497107"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497115">Cookies</span>&nbsp;<span class="op" id="7497123">[</span><span class="op" id="7497124">]</span><span class="op" id="7497125">*</span><span class="ident" id="7497126"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><br>
<span class="lineno"></span><span class="op" id="7497133">}</span><span class="op" id="7497134">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497141"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7497147">{</span><span class="string" id="7497148">&#34;Set-Cookie&#34;</span><span class="op" id="7497160">:</span>&nbsp;<span class="op" id="7497162">{</span><span class="string" id="7497163">&#34;Cookie-1=v$1&#34;</span><span class="op" id="7497177">}</span><span class="op" id="7497178">}</span><span class="op" id="7497179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497183">[</span><span class="op" id="7497184">]</span><span class="op" id="7497185">*</span><span class="ident" id="7497186"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7497192">{</span><span class="op" id="7497193">{</span><span class="ident" id="7497194"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7497198">:</span>&nbsp;<span class="string" id="7497200">&#34;Cookie-1&#34;</span><span class="op" id="7497210">,</span>&nbsp;<span class="ident" id="7497212"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7497217">:</span>&nbsp;<span class="string" id="7497219">&#34;v$1&#34;</span><span class="op" id="7497224">,</span>&nbsp;<span class="ident" id="7497226"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7497229">:</span>&nbsp;<span class="string" id="7497231">&#34;Cookie-1=v$1&#34;</span><span class="op" id="7497245">}</span><span class="op" id="7497246">}</span><span class="op" id="7497247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497250">}</span><span class="op" id="7497251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497254">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497258"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7497264">{</span><span class="string" id="7497265">&#34;Set-Cookie&#34;</span><span class="op" id="7497277">:</span>&nbsp;<span class="op" id="7497279">{</span><span class="string" id="7497280">&#34;NID=99=YsDT5i3E-CXax-;&nbsp;expires=Wed,&nbsp;23-Nov-2011&nbsp;01:05:03&nbsp;GMT;&nbsp;path=/;&nbsp;domain=.google.ch;&nbsp;HttpOnly&#34;</span><span class="op" id="7497379">}</span><span class="op" id="7497380">}</span><span class="op" id="7497381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497385">[</span><span class="op" id="7497386">]</span><span class="op" id="7497387">*</span><span class="ident" id="7497388"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7497394">{</span><span class="op" id="7497395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497400"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7497404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497412">&#34;NID&#34;</span><span class="op" id="7497417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497422"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7497427">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497434">&#34;99=YsDT5i3E-CXax-&#34;</span><span class="op" id="7497453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497458"><a href="/gostd/net/http/cookie.go.html#4096052">Path</a></span><span class="op" id="7497462">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497470">&#34;/&#34;</span><span class="op" id="7497473">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497478"><a href="/gostd/net/http/cookie.go.html#4096071">Domain</a></span><span class="op" id="7497484">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497490">&#34;.google.ch&#34;</span><span class="op" id="7497502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497507"><a href="/gostd/net/http/cookie.go.html#4096344">HttpOnly</a></span><span class="op" id="7497515">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7497519">true</span><span class="op" id="7497523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497528"><a href="/gostd/net/http/cookie.go.html#4096090">Expires</a></span><span class="op" id="7497535">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497540"><a href="/gostd/net/http/cookie_test.go.html#7493447">time</a></span><span class="op" id="7497544">.</span><span class="ident" id="7497545"><a href="/gostd/time/time.go.html#2750075">Date</a></span><span class="op" id="7497549">(</span><span class="num" id="7497550">2011</span><span class="op" id="7497554">,</span>&nbsp;<span class="num" id="7497556">11</span><span class="op" id="7497558">,</span>&nbsp;<span class="num" id="7497560">23</span><span class="op" id="7497562">,</span>&nbsp;<span class="num" id="7497564">1</span><span class="op" id="7497565">,</span>&nbsp;<span class="num" id="7497567">5</span><span class="op" id="7497568">,</span>&nbsp;<span class="num" id="7497570">3</span><span class="op" id="7497571">,</span>&nbsp;<span class="num" id="7497573">0</span><span class="op" id="7497574">,</span>&nbsp;<span class="ident" id="7497576"><a href="/gostd/net/http/cookie_test.go.html#7493447">time</a></span><span class="op" id="7497580">.</span><span class="ident" id="7497581"><a href="/gostd/time/zoneinfo.go.html#2756102">UTC</a></span><span class="op" id="7497584">)</span><span class="op" id="7497585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497590"><a href="/gostd/net/http/cookie.go.html#4096112">RawExpires</a></span><span class="op" id="7497600">:</span>&nbsp;<span class="string" id="7497602">&#34;Wed,&nbsp;23-Nov-2011&nbsp;01:05:03&nbsp;GMT&#34;</span><span class="op" id="7497633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497638"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7497641">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497650">&#34;NID=99=YsDT5i3E-CXax-;&nbsp;expires=Wed,&nbsp;23-Nov-2011&nbsp;01:05:03&nbsp;GMT;&nbsp;path=/;&nbsp;domain=.google.ch;&nbsp;HttpOnly&#34;</span><span class="op" id="7497749">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497753">}</span><span class="op" id="7497754">}</span><span class="op" id="7497755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497758">}</span><span class="op" id="7497759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497766"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7497772">{</span><span class="string" id="7497773">&#34;Set-Cookie&#34;</span><span class="op" id="7497785">:</span>&nbsp;<span class="op" id="7497787">{</span><span class="string" id="7497788">&#34;.ASPXAUTH=7E3AA;&nbsp;expires=Wed,&nbsp;07-Mar-2012&nbsp;14:25:06&nbsp;GMT;&nbsp;path=/;&nbsp;HttpOnly&#34;</span><span class="op" id="7497862">}</span><span class="op" id="7497863">}</span><span class="op" id="7497864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7497868">[</span><span class="op" id="7497869">]</span><span class="op" id="7497870">*</span><span class="ident" id="7497871"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7497877">{</span><span class="op" id="7497878">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497883"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7497887">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497895">&#34;.ASPXAUTH&#34;</span><span class="op" id="7497906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497911"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7497916">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497923">&#34;7E3AA&#34;</span><span class="op" id="7497930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497935"><a href="/gostd/net/http/cookie.go.html#4096052">Path</a></span><span class="op" id="7497939">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7497947">&#34;/&#34;</span><span class="op" id="7497950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497955"><a href="/gostd/net/http/cookie.go.html#4096090">Expires</a></span><span class="op" id="7497962">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7497967"><a href="/gostd/net/http/cookie_test.go.html#7493447">time</a></span><span class="op" id="7497971">.</span><span class="ident" id="7497972"><a href="/gostd/time/time.go.html#2750075">Date</a></span><span class="op" id="7497976">(</span><span class="num" id="7497977">2012</span><span class="op" id="7497981">,</span>&nbsp;<span class="num" id="7497983">3</span><span class="op" id="7497984">,</span>&nbsp;<span class="num" id="7497986">7</span><span class="op" id="7497987">,</span>&nbsp;<span class="num" id="7497989">14</span><span class="op" id="7497991">,</span>&nbsp;<span class="num" id="7497993">25</span><span class="op" id="7497995">,</span>&nbsp;<span class="num" id="7497997">6</span><span class="op" id="7497998">,</span>&nbsp;<span class="num" id="7498000">0</span><span class="op" id="7498001">,</span>&nbsp;<span class="ident" id="7498003"><a href="/gostd/net/http/cookie_test.go.html#7493447">time</a></span><span class="op" id="7498007">.</span><span class="ident" id="7498008"><a href="/gostd/time/zoneinfo.go.html#2756102">UTC</a></span><span class="op" id="7498011">)</span><span class="op" id="7498012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498017"><a href="/gostd/net/http/cookie.go.html#4096112">RawExpires</a></span><span class="op" id="7498027">:</span>&nbsp;<span class="string" id="7498029">&#34;Wed,&nbsp;07-Mar-2012&nbsp;14:25:06&nbsp;GMT&#34;</span><span class="op" id="7498060">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498065"><a href="/gostd/net/http/cookie.go.html#4096344">HttpOnly</a></span><span class="op" id="7498073">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7498077">true</span><span class="op" id="7498081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498086"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7498089">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7498098">&#34;.ASPXAUTH=7E3AA;&nbsp;expires=Wed,&nbsp;07-Mar-2012&nbsp;14:25:06&nbsp;GMT;&nbsp;path=/;&nbsp;HttpOnly&#34;</span><span class="op" id="7498172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498176">}</span><span class="op" id="7498177">}</span><span class="op" id="7498178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498181">}</span><span class="op" id="7498182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498185">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498189"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7498195">{</span><span class="string" id="7498196">&#34;Set-Cookie&#34;</span><span class="op" id="7498208">:</span>&nbsp;<span class="op" id="7498210">{</span><span class="string" id="7498211">&#34;ASP.NET_SessionId=foo;&nbsp;path=/;&nbsp;HttpOnly&#34;</span><span class="op" id="7498252">}</span><span class="op" id="7498253">}</span><span class="op" id="7498254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498258">[</span><span class="op" id="7498259">]</span><span class="op" id="7498260">*</span><span class="ident" id="7498261"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7498267">{</span><span class="op" id="7498268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498273"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7498277">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7498283">&#34;ASP.NET_SessionId&#34;</span><span class="op" id="7498302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498307"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7498312">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7498317">&#34;foo&#34;</span><span class="op" id="7498322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498327"><a href="/gostd/net/http/cookie.go.html#4096052">Path</a></span><span class="op" id="7498331">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7498337">&#34;/&#34;</span><span class="op" id="7498340">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498345"><a href="/gostd/net/http/cookie.go.html#4096344">HttpOnly</a></span><span class="op" id="7498353">:</span>&nbsp;<span class="builtintype" id="7498355">true</span><span class="op" id="7498359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498364"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7498367">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7498374">&#34;ASP.NET_SessionId=foo;&nbsp;path=/;&nbsp;HttpOnly&#34;</span><span class="op" id="7498415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498419">}</span><span class="op" id="7498420">}</span><span class="op" id="7498421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498424">}</span><span class="op" id="7498425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7498428">//&nbsp;Make&nbsp;sure&nbsp;we&nbsp;can&nbsp;properly&nbsp;read&nbsp;back&nbsp;the&nbsp;Set-Cookie&nbsp;headers&nbsp;we&nbsp;create</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7498501">//&nbsp;for&nbsp;values&nbsp;containing&nbsp;spaces&nbsp;or&nbsp;commas:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498549"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7498555">{</span><span class="string" id="7498556">&#34;Set-Cookie&#34;</span><span class="op" id="7498568">:</span>&nbsp;<span class="op" id="7498570">{</span><span class="string" id="7498571">`special-1=a&nbsp;z`</span><span class="op" id="7498586">}</span><span class="op" id="7498587">}</span><span class="op" id="7498588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498592">[</span><span class="op" id="7498593">]</span><span class="op" id="7498594">*</span><span class="ident" id="7498595"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7498601">{</span><span class="op" id="7498602">{</span><span class="ident" id="7498603"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7498607">:</span>&nbsp;<span class="string" id="7498609">&#34;special-1&#34;</span><span class="op" id="7498620">,</span>&nbsp;<span class="ident" id="7498622"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7498627">:</span>&nbsp;<span class="string" id="7498629">&#34;a&nbsp;z&#34;</span><span class="op" id="7498634">,</span>&nbsp;<span class="ident" id="7498636"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7498639">:</span>&nbsp;<span class="string" id="7498641">`special-1=a&nbsp;z`</span><span class="op" id="7498656">}</span><span class="op" id="7498657">}</span><span class="op" id="7498658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498661">}</span><span class="op" id="7498662">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498669"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7498675">{</span><span class="string" id="7498676">&#34;Set-Cookie&#34;</span><span class="op" id="7498688">:</span>&nbsp;<span class="op" id="7498690">{</span><span class="string" id="7498691">`special-2=&#34;&nbsp;z&#34;`</span><span class="op" id="7498707">}</span><span class="op" id="7498708">}</span><span class="op" id="7498709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498713">[</span><span class="op" id="7498714">]</span><span class="op" id="7498715">*</span><span class="ident" id="7498716"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7498722">{</span><span class="op" id="7498723">{</span><span class="ident" id="7498724"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7498728">:</span>&nbsp;<span class="string" id="7498730">&#34;special-2&#34;</span><span class="op" id="7498741">,</span>&nbsp;<span class="ident" id="7498743"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7498748">:</span>&nbsp;<span class="string" id="7498750">&#34;&nbsp;z&#34;</span><span class="op" id="7498754">,</span>&nbsp;<span class="ident" id="7498756"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7498759">:</span>&nbsp;<span class="string" id="7498761">`special-2=&#34;&nbsp;z&#34;`</span><span class="op" id="7498777">}</span><span class="op" id="7498778">}</span><span class="op" id="7498779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498782">}</span><span class="op" id="7498783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498786">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498790"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7498796">{</span><span class="string" id="7498797">&#34;Set-Cookie&#34;</span><span class="op" id="7498809">:</span>&nbsp;<span class="op" id="7498811">{</span><span class="string" id="7498812">`special-3=&#34;a&nbsp;&#34;`</span><span class="op" id="7498828">}</span><span class="op" id="7498829">}</span><span class="op" id="7498830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498834">[</span><span class="op" id="7498835">]</span><span class="op" id="7498836">*</span><span class="ident" id="7498837"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7498843">{</span><span class="op" id="7498844">{</span><span class="ident" id="7498845"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7498849">:</span>&nbsp;<span class="string" id="7498851">&#34;special-3&#34;</span><span class="op" id="7498862">,</span>&nbsp;<span class="ident" id="7498864"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7498869">:</span>&nbsp;<span class="string" id="7498871">&#34;a&nbsp;&#34;</span><span class="op" id="7498875">,</span>&nbsp;<span class="ident" id="7498877"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7498880">:</span>&nbsp;<span class="string" id="7498882">`special-3=&#34;a&nbsp;&#34;`</span><span class="op" id="7498898">}</span><span class="op" id="7498899">}</span><span class="op" id="7498900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498903">}</span><span class="op" id="7498904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7498911"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7498917">{</span><span class="string" id="7498918">&#34;Set-Cookie&#34;</span><span class="op" id="7498930">:</span>&nbsp;<span class="op" id="7498932">{</span><span class="string" id="7498933">`special-4=&#34;&nbsp;&#34;`</span><span class="op" id="7498948">}</span><span class="op" id="7498949">}</span><span class="op" id="7498950">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7498954">[</span><span class="op" id="7498955">]</span><span class="op" id="7498956">*</span><span class="ident" id="7498957"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7498963">{</span><span class="op" id="7498964">{</span><span class="ident" id="7498965"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7498969">:</span>&nbsp;<span class="string" id="7498971">&#34;special-4&#34;</span><span class="op" id="7498982">,</span>&nbsp;<span class="ident" id="7498984"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7498989">:</span>&nbsp;<span class="string" id="7498991">&#34;&nbsp;&#34;</span><span class="op" id="7498994">,</span>&nbsp;<span class="ident" id="7498996"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7498999">:</span>&nbsp;<span class="string" id="7499001">`special-4=&#34;&nbsp;&#34;`</span><span class="op" id="7499016">}</span><span class="op" id="7499017">}</span><span class="op" id="7499018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499021">}</span><span class="op" id="7499022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7499029"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7499035">{</span><span class="string" id="7499036">&#34;Set-Cookie&#34;</span><span class="op" id="7499048">:</span>&nbsp;<span class="op" id="7499050">{</span><span class="string" id="7499051">`special-5=a,z`</span><span class="op" id="7499066">}</span><span class="op" id="7499067">}</span><span class="op" id="7499068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499072">[</span><span class="op" id="7499073">]</span><span class="op" id="7499074">*</span><span class="ident" id="7499075"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7499081">{</span><span class="op" id="7499082">{</span><span class="ident" id="7499083"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7499087">:</span>&nbsp;<span class="string" id="7499089">&#34;special-5&#34;</span><span class="op" id="7499100">,</span>&nbsp;<span class="ident" id="7499102"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7499107">:</span>&nbsp;<span class="string" id="7499109">&#34;a,z&#34;</span><span class="op" id="7499114">,</span>&nbsp;<span class="ident" id="7499116"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7499119">:</span>&nbsp;<span class="string" id="7499121">`special-5=a,z`</span><span class="op" id="7499136">}</span><span class="op" id="7499137">}</span><span class="op" id="7499138">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499141">}</span><span class="op" id="7499142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7499149"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7499155">{</span><span class="string" id="7499156">&#34;Set-Cookie&#34;</span><span class="op" id="7499168">:</span>&nbsp;<span class="op" id="7499170">{</span><span class="string" id="7499171">`special-6=&#34;,z&#34;`</span><span class="op" id="7499187">}</span><span class="op" id="7499188">}</span><span class="op" id="7499189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499193">[</span><span class="op" id="7499194">]</span><span class="op" id="7499195">*</span><span class="ident" id="7499196"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7499202">{</span><span class="op" id="7499203">{</span><span class="ident" id="7499204"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7499208">:</span>&nbsp;<span class="string" id="7499210">&#34;special-6&#34;</span><span class="op" id="7499221">,</span>&nbsp;<span class="ident" id="7499223"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7499228">:</span>&nbsp;<span class="string" id="7499230">&#34;,z&#34;</span><span class="op" id="7499234">,</span>&nbsp;<span class="ident" id="7499236"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7499239">:</span>&nbsp;<span class="string" id="7499241">`special-6=&#34;,z&#34;`</span><span class="op" id="7499257">}</span><span class="op" id="7499258">}</span><span class="op" id="7499259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499262">}</span><span class="op" id="7499263">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7499270"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7499276">{</span><span class="string" id="7499277">&#34;Set-Cookie&#34;</span><span class="op" id="7499289">:</span>&nbsp;<span class="op" id="7499291">{</span><span class="string" id="7499292">`special-7=a,`</span><span class="op" id="7499306">}</span><span class="op" id="7499307">}</span><span class="op" id="7499308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499312">[</span><span class="op" id="7499313">]</span><span class="op" id="7499314">*</span><span class="ident" id="7499315"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7499321">{</span><span class="op" id="7499322">{</span><span class="ident" id="7499323"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7499327">:</span>&nbsp;<span class="string" id="7499329">&#34;special-7&#34;</span><span class="op" id="7499340">,</span>&nbsp;<span class="ident" id="7499342"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7499347">:</span>&nbsp;<span class="string" id="7499349">&#34;a,&#34;</span><span class="op" id="7499353">,</span>&nbsp;<span class="ident" id="7499355"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7499358">:</span>&nbsp;<span class="string" id="7499360">`special-7=a,`</span><span class="op" id="7499374">}</span><span class="op" id="7499375">}</span><span class="op" id="7499376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499379">}</span><span class="op" id="7499380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499383">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7499387"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7499393">{</span><span class="string" id="7499394">&#34;Set-Cookie&#34;</span><span class="op" id="7499406">:</span>&nbsp;<span class="op" id="7499408">{</span><span class="string" id="7499409">`special-8=&#34;,&#34;`</span><span class="op" id="7499424">}</span><span class="op" id="7499425">}</span><span class="op" id="7499426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499430">[</span><span class="op" id="7499431">]</span><span class="op" id="7499432">*</span><span class="ident" id="7499433"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7499439">{</span><span class="op" id="7499440">{</span><span class="ident" id="7499441"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7499445">:</span>&nbsp;<span class="string" id="7499447">&#34;special-8&#34;</span><span class="op" id="7499458">,</span>&nbsp;<span class="ident" id="7499460"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7499465">:</span>&nbsp;<span class="string" id="7499467">&#34;,&#34;</span><span class="op" id="7499470">,</span>&nbsp;<span class="ident" id="7499472"><a href="/gostd/net/http/cookie.go.html#4096359">Raw</a></span><span class="op" id="7499475">:</span>&nbsp;<span class="string" id="7499477">`special-8=&#34;,&#34;`</span><span class="op" id="7499492">}</span><span class="op" id="7499493">}</span><span class="op" id="7499494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499497">}</span><span class="op" id="7499498">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7499502">//&nbsp;TODO(bradfitz):&nbsp;users&nbsp;have&nbsp;reported&nbsp;seeing&nbsp;this&nbsp;in&nbsp;the</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7499561">//&nbsp;wild,&nbsp;but&nbsp;do&nbsp;browsers&nbsp;handle&nbsp;it?&nbsp;RFC&nbsp;6265&nbsp;just&nbsp;says&nbsp;&#34;don&#39;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7499624">//&nbsp;do&nbsp;that&#34;&nbsp;(section&nbsp;3)&nbsp;and&nbsp;then&nbsp;never&nbsp;mentions&nbsp;header&nbsp;folding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7499688">//&nbsp;again.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7499699">//&nbsp;Header{&#34;Set-Cookie&#34;:&nbsp;{&#34;ASP.NET_SessionId=foo;&nbsp;path=/;&nbsp;HttpOnly,&nbsp;.ASPXAUTH=7E3AA;&nbsp;expires=Wed,&nbsp;07-Mar-2012&nbsp;14:25:06&nbsp;GMT;&nbsp;path=/;&nbsp;HttpOnly&#34;}},</span><br>
<span class="lineno"></span><span class="op" id="7499843">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="7499846">func</span>&nbsp;<span class="ident" id="7499851">toJSON</span><span class="op" id="7499857">(</span><span class="ident" id="7499858">v</span>&nbsp;<span class="keyword" id="7499860">interface</span><span class="op" id="7499869">{</span><span class="op" id="7499870">}</span><span class="op" id="7499871">)</span>&nbsp;<span class="builtintype" id="7499873">string</span>&nbsp;<span class="op" id="7499880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7499883">b</span><span class="op" id="7499884">,</span>&nbsp;<span class="ident" id="7499886">err</span>&nbsp;<span class="op" id="7499890">:=</span>&nbsp;<span class="ident" id="7499893"><a href="/gostd/net/http/cookie_test.go.html#7493377">json</a></span><span class="op" id="7499897">.</span><span class="ident" id="7499898"><a href="/gostd/encoding/json/encode.go.html#3995033">Marshal</a></span><span class="op" id="7499905">(</span><span class="ident" id="7499906"><a href="/gostd/net/http/cookie_test.go.html#7499858">v</a></span><span class="op" id="7499907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7499910">if</span>&nbsp;<span class="ident" id="7499913"><a href="/gostd/net/http/cookie_test.go.html#7499886">err</a></span>&nbsp;<span class="op" id="7499917">!=</span>&nbsp;<span class="builtintype" id="7499920">nil</span>&nbsp;<span class="op" id="7499924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7499928">return</span>&nbsp;<span class="ident" id="7499935"><a href="/gostd/net/http/cookie_test.go.html#7493394">fmt</a></span><span class="op" id="7499938">.</span><span class="ident" id="7499939"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="7499946">(</span><span class="string" id="7499947">&#34;%#v&#34;</span><span class="op" id="7499952">,</span>&nbsp;<span class="ident" id="7499954"><a href="/gostd/net/http/cookie_test.go.html#7499858">v</a></span><span class="op" id="7499955">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7499961">return</span>&nbsp;<span class="builtintype" id="7499968">string</span><span class="op" id="7499974">(</span><span class="ident" id="7499975"><a href="/gostd/net/http/cookie_test.go.html#7499883">b</a></span><span class="op" id="7499976">)</span><br>
<span class="lineno"></span><span class="op" id="7499978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7499981">func</span>&nbsp;<span class="ident" id="7499986">TestReadSetCookies</span><span class="op" id="7500004">(</span><span class="ident" id="7500005">t</span>&nbsp;<span class="op" id="7500007">*</span><span class="ident" id="7500008"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7500015">.</span><span class="ident" id="7500016"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7500017">)</span>&nbsp;<span class="op" id="7500019">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7500022">for</span>&nbsp;<span class="ident" id="7500026">i</span><span class="op" id="7500027">,</span>&nbsp;<span class="ident" id="7500029">tt</span>&nbsp;<span class="op" id="7500032">:=</span>&nbsp;<span class="keyword" id="7500035">range</span>&nbsp;<span class="ident" id="7500041"><a href="/gostd/net/http/cookie_test.go.html#7497065">readSetCookiesTests</a></span>&nbsp;<span class="op" id="7500061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7500065">for</span>&nbsp;<span class="ident" id="7500069">n</span>&nbsp;<span class="op" id="7500071">:=</span>&nbsp;<span class="num" id="7500074">0</span><span class="op" id="7500075">;</span>&nbsp;<span class="ident" id="7500077"><a href="/gostd/net/http/cookie_test.go.html#7500069">n</a></span>&nbsp;<span class="op" id="7500079">&lt;</span>&nbsp;<span class="num" id="7500081">2</span><span class="op" id="7500082">;</span>&nbsp;<span class="ident" id="7500084"><a href="/gostd/net/http/cookie_test.go.html#7500069">n</a></span><span class="op" id="7500085">++</span>&nbsp;<span class="op" id="7500088">{</span>&nbsp;<span class="comment" id="7500090">//&nbsp;to&nbsp;verify&nbsp;readSetCookies&nbsp;doesn&#39;t&nbsp;mutate&nbsp;its&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500146">c</span>&nbsp;<span class="op" id="7500148">:=</span>&nbsp;<span class="ident" id="7500151"><a href="/gostd/net/http/cookie.go.html#4096563">readSetCookies</a></span><span class="op" id="7500165">(</span><span class="ident" id="7500166"><a href="/gostd/net/http/cookie_test.go.html#7500029">tt</a></span><span class="op" id="7500168">.</span><span class="ident" id="7500169"><a href="/gostd/net/http/cookie_test.go.html#7497099">Header</a></span><span class="op" id="7500175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7500180">if</span>&nbsp;<span class="op" id="7500183">!</span><span class="ident" id="7500184"><a href="/gostd/net/http/cookie_test.go.html#7493414">reflect</a></span><span class="op" id="7500191">.</span><span class="ident" id="7500192"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7500201">(</span><span class="ident" id="7500202"><a href="/gostd/net/http/cookie_test.go.html#7500146">c</a></span><span class="op" id="7500203">,</span>&nbsp;<span class="ident" id="7500205"><a href="/gostd/net/http/cookie_test.go.html#7500029">tt</a></span><span class="op" id="7500207">.</span><span class="ident" id="7500208"><a href="/gostd/net/http/cookie_test.go.html#7497115">Cookies</a></span><span class="op" id="7500215">)</span>&nbsp;<span class="op" id="7500217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500223"><a href="/gostd/net/http/cookie_test.go.html#7500005">t</a></span><span class="op" id="7500224">.</span><span class="ident" id="7500225"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7500231">(</span><span class="string" id="7500232">&#34;#%d&nbsp;readSetCookies:&nbsp;have\n%s\nwant\n%s\n&#34;</span><span class="op" id="7500274">,</span>&nbsp;<span class="ident" id="7500276"><a href="/gostd/net/http/cookie_test.go.html#7500026">i</a></span><span class="op" id="7500277">,</span>&nbsp;<span class="ident" id="7500279"><a href="/gostd/net/http/cookie_test.go.html#7499851">toJSON</a></span><span class="op" id="7500285">(</span><span class="ident" id="7500286"><a href="/gostd/net/http/cookie_test.go.html#7500146">c</a></span><span class="op" id="7500287">)</span><span class="op" id="7500288">,</span>&nbsp;<span class="ident" id="7500290"><a href="/gostd/net/http/cookie_test.go.html#7499851">toJSON</a></span><span class="op" id="7500296">(</span><span class="ident" id="7500297"><a href="/gostd/net/http/cookie_test.go.html#7500029">tt</a></span><span class="op" id="7500299">.</span><span class="ident" id="7500300"><a href="/gostd/net/http/cookie_test.go.html#7497115">Cookies</a></span><span class="op" id="7500307">)</span><span class="op" id="7500308">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7500314">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500333">}</span><br>
<span class="lineno"></span><span class="op" id="7500335">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7500338">var</span>&nbsp;<span class="ident" id="7500342">readCookiesTests</span>&nbsp;<span class="op" id="7500359">=</span>&nbsp;<span class="op" id="7500361">[</span><span class="op" id="7500362">]</span><span class="keyword" id="7500363">struct</span>&nbsp;<span class="op" id="7500370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500373">Header</span>&nbsp;&nbsp;<span class="ident" id="7500381"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500389">Filter</span>&nbsp;&nbsp;<span class="builtintype" id="7500397">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500405">Cookies</span>&nbsp;<span class="op" id="7500413">[</span><span class="op" id="7500414">]</span><span class="op" id="7500415">*</span><span class="ident" id="7500416"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><br>
<span class="lineno">285</span><span class="op" id="7500423">}</span><span class="op" id="7500424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500431"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7500437">{</span><span class="string" id="7500438">&#34;Cookie&#34;</span><span class="op" id="7500446">:</span>&nbsp;<span class="op" id="7500448">{</span><span class="string" id="7500449">&#34;Cookie-1=v$1&#34;</span><span class="op" id="7500463">,</span>&nbsp;<span class="string" id="7500465">&#34;c2=v2&#34;</span><span class="op" id="7500472">}</span><span class="op" id="7500473">}</span><span class="op" id="7500474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500478">&#34;&#34;</span><span class="op" id="7500480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500484">[</span><span class="op" id="7500485">]</span><span class="op" id="7500486">*</span><span class="ident" id="7500487"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7500493">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500498">{</span><span class="ident" id="7500499"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7500503">:</span>&nbsp;<span class="string" id="7500505">&#34;Cookie-1&#34;</span><span class="op" id="7500515">,</span>&nbsp;<span class="ident" id="7500517"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7500522">:</span>&nbsp;<span class="string" id="7500524">&#34;v$1&#34;</span><span class="op" id="7500529">}</span><span class="op" id="7500530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500535">{</span><span class="ident" id="7500536"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7500540">:</span>&nbsp;<span class="string" id="7500542">&#34;c2&#34;</span><span class="op" id="7500546">,</span>&nbsp;<span class="ident" id="7500548"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7500553">:</span>&nbsp;<span class="string" id="7500555">&#34;v2&#34;</span><span class="op" id="7500559">}</span><span class="op" id="7500560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500564">}</span><span class="op" id="7500565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500568">}</span><span class="op" id="7500569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500572">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500576"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7500582">{</span><span class="string" id="7500583">&#34;Cookie&#34;</span><span class="op" id="7500591">:</span>&nbsp;<span class="op" id="7500593">{</span><span class="string" id="7500594">&#34;Cookie-1=v$1&#34;</span><span class="op" id="7500608">,</span>&nbsp;<span class="string" id="7500610">&#34;c2=v2&#34;</span><span class="op" id="7500617">}</span><span class="op" id="7500618">}</span><span class="op" id="7500619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500623">&#34;c2&#34;</span><span class="op" id="7500627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500631">[</span><span class="op" id="7500632">]</span><span class="op" id="7500633">*</span><span class="ident" id="7500634"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7500640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500645">{</span><span class="ident" id="7500646"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7500650">:</span>&nbsp;<span class="string" id="7500652">&#34;c2&#34;</span><span class="op" id="7500656">,</span>&nbsp;<span class="ident" id="7500658"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7500663">:</span>&nbsp;<span class="string" id="7500665">&#34;v2&#34;</span><span class="op" id="7500669">}</span><span class="op" id="7500670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500674">}</span><span class="op" id="7500675">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500678">}</span><span class="op" id="7500679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500686"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7500692">{</span><span class="string" id="7500693">&#34;Cookie&#34;</span><span class="op" id="7500701">:</span>&nbsp;<span class="op" id="7500703">{</span><span class="string" id="7500704">&#34;Cookie-1=v$1;&nbsp;c2=v2&#34;</span><span class="op" id="7500725">}</span><span class="op" id="7500726">}</span><span class="op" id="7500727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500731">&#34;&#34;</span><span class="op" id="7500733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500737">[</span><span class="op" id="7500738">]</span><span class="op" id="7500739">*</span><span class="ident" id="7500740"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7500746">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500751">{</span><span class="ident" id="7500752"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7500756">:</span>&nbsp;<span class="string" id="7500758">&#34;Cookie-1&#34;</span><span class="op" id="7500768">,</span>&nbsp;<span class="ident" id="7500770"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7500775">:</span>&nbsp;<span class="string" id="7500777">&#34;v$1&#34;</span><span class="op" id="7500782">}</span><span class="op" id="7500783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500788">{</span><span class="ident" id="7500789"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7500793">:</span>&nbsp;<span class="string" id="7500795">&#34;c2&#34;</span><span class="op" id="7500799">,</span>&nbsp;<span class="ident" id="7500801"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7500806">:</span>&nbsp;<span class="string" id="7500808">&#34;v2&#34;</span><span class="op" id="7500812">}</span><span class="op" id="7500813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500817">}</span><span class="op" id="7500818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500821">}</span><span class="op" id="7500822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500825">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500829"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7500835">{</span><span class="string" id="7500836">&#34;Cookie&#34;</span><span class="op" id="7500844">:</span>&nbsp;<span class="op" id="7500846">{</span><span class="string" id="7500847">&#34;Cookie-1=v$1;&nbsp;c2=v2&#34;</span><span class="op" id="7500868">}</span><span class="op" id="7500869">}</span><span class="op" id="7500870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500874">&#34;c2&#34;</span><span class="op" id="7500878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500882">[</span><span class="op" id="7500883">]</span><span class="op" id="7500884">*</span><span class="ident" id="7500885"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7500891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500896">{</span><span class="ident" id="7500897"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7500901">:</span>&nbsp;<span class="string" id="7500903">&#34;c2&#34;</span><span class="op" id="7500907">,</span>&nbsp;<span class="ident" id="7500909"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7500914">:</span>&nbsp;<span class="string" id="7500916">&#34;v2&#34;</span><span class="op" id="7500920">}</span><span class="op" id="7500921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500925">}</span><span class="op" id="7500926">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500929">}</span><span class="op" id="7500930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7500937"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7500943">{</span><span class="string" id="7500944">&#34;Cookie&#34;</span><span class="op" id="7500952">:</span>&nbsp;<span class="op" id="7500954">{</span><span class="string" id="7500955">`Cookie-1=&#34;v$1&#34;;&nbsp;c2=&#34;v2&#34;`</span><span class="op" id="7500980">}</span><span class="op" id="7500981">}</span><span class="op" id="7500982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500986">&#34;&#34;</span><span class="op" id="7500988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7500992">[</span><span class="op" id="7500993">]</span><span class="op" id="7500994">*</span><span class="ident" id="7500995"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7501001">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501006">{</span><span class="ident" id="7501007"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7501011">:</span>&nbsp;<span class="string" id="7501013">&#34;Cookie-1&#34;</span><span class="op" id="7501023">,</span>&nbsp;<span class="ident" id="7501025"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7501030">:</span>&nbsp;<span class="string" id="7501032">&#34;v$1&#34;</span><span class="op" id="7501037">}</span><span class="op" id="7501038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501043">{</span><span class="ident" id="7501044"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7501048">:</span>&nbsp;<span class="string" id="7501050">&#34;c2&#34;</span><span class="op" id="7501054">,</span>&nbsp;<span class="ident" id="7501056"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7501061">:</span>&nbsp;<span class="string" id="7501063">&#34;v2&#34;</span><span class="op" id="7501067">}</span><span class="op" id="7501068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501072">}</span><span class="op" id="7501073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501076">}</span><span class="op" id="7501077">,</span><br>
<span class="lineno"></span><span class="op" id="7501079">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="7501082">func</span>&nbsp;<span class="ident" id="7501087">TestReadCookies</span><span class="op" id="7501102">(</span><span class="ident" id="7501103">t</span>&nbsp;<span class="op" id="7501105">*</span><span class="ident" id="7501106"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7501113">.</span><span class="ident" id="7501114"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7501115">)</span>&nbsp;<span class="op" id="7501117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7501120">for</span>&nbsp;<span class="ident" id="7501124">i</span><span class="op" id="7501125">,</span>&nbsp;<span class="ident" id="7501127">tt</span>&nbsp;<span class="op" id="7501130">:=</span>&nbsp;<span class="keyword" id="7501133">range</span>&nbsp;<span class="ident" id="7501139"><a href="/gostd/net/http/cookie_test.go.html#7500342">readCookiesTests</a></span>&nbsp;<span class="op" id="7501156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7501160">for</span>&nbsp;<span class="ident" id="7501164">n</span>&nbsp;<span class="op" id="7501166">:=</span>&nbsp;<span class="num" id="7501169">0</span><span class="op" id="7501170">;</span>&nbsp;<span class="ident" id="7501172"><a href="/gostd/net/http/cookie_test.go.html#7501164">n</a></span>&nbsp;<span class="op" id="7501174">&lt;</span>&nbsp;<span class="num" id="7501176">2</span><span class="op" id="7501177">;</span>&nbsp;<span class="ident" id="7501179"><a href="/gostd/net/http/cookie_test.go.html#7501164">n</a></span><span class="op" id="7501180">++</span>&nbsp;<span class="op" id="7501183">{</span>&nbsp;<span class="comment" id="7501185">//&nbsp;to&nbsp;verify&nbsp;readCookies&nbsp;doesn&#39;t&nbsp;mutate&nbsp;its&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501238">c</span>&nbsp;<span class="op" id="7501240">:=</span>&nbsp;<span class="ident" id="7501243"><a href="/gostd/net/http/cookie.go.html#4099939">readCookies</a></span><span class="op" id="7501254">(</span><span class="ident" id="7501255"><a href="/gostd/net/http/cookie_test.go.html#7501127">tt</a></span><span class="op" id="7501257">.</span><span class="ident" id="7501258"><a href="/gostd/net/http/cookie_test.go.html#7500373">Header</a></span><span class="op" id="7501264">,</span>&nbsp;<span class="ident" id="7501266"><a href="/gostd/net/http/cookie_test.go.html#7501127">tt</a></span><span class="op" id="7501268">.</span><span class="ident" id="7501269"><a href="/gostd/net/http/cookie_test.go.html#7500389">Filter</a></span><span class="op" id="7501275">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7501280">if</span>&nbsp;<span class="op" id="7501283">!</span><span class="ident" id="7501284"><a href="/gostd/net/http/cookie_test.go.html#7493414">reflect</a></span><span class="op" id="7501291">.</span><span class="ident" id="7501292"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7501301">(</span><span class="ident" id="7501302"><a href="/gostd/net/http/cookie_test.go.html#7501238">c</a></span><span class="op" id="7501303">,</span>&nbsp;<span class="ident" id="7501305"><a href="/gostd/net/http/cookie_test.go.html#7501127">tt</a></span><span class="op" id="7501307">.</span><span class="ident" id="7501308"><a href="/gostd/net/http/cookie_test.go.html#7500405">Cookies</a></span><span class="op" id="7501315">)</span>&nbsp;<span class="op" id="7501317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501323"><a href="/gostd/net/http/cookie_test.go.html#7501103">t</a></span><span class="op" id="7501324">.</span><span class="ident" id="7501325"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7501331">(</span><span class="string" id="7501332">&#34;#%d&nbsp;readCookies:\nhave:&nbsp;%s\nwant:&nbsp;%s\n&#34;</span><span class="op" id="7501372">,</span>&nbsp;<span class="ident" id="7501374"><a href="/gostd/net/http/cookie_test.go.html#7501124">i</a></span><span class="op" id="7501375">,</span>&nbsp;<span class="ident" id="7501377"><a href="/gostd/net/http/cookie_test.go.html#7499851">toJSON</a></span><span class="op" id="7501383">(</span><span class="ident" id="7501384"><a href="/gostd/net/http/cookie_test.go.html#7501238">c</a></span><span class="op" id="7501385">)</span><span class="op" id="7501386">,</span>&nbsp;<span class="ident" id="7501388"><a href="/gostd/net/http/cookie_test.go.html#7499851">toJSON</a></span><span class="op" id="7501394">(</span><span class="ident" id="7501395"><a href="/gostd/net/http/cookie_test.go.html#7501127">tt</a></span><span class="op" id="7501397">.</span><span class="ident" id="7501398"><a href="/gostd/net/http/cookie_test.go.html#7500405">Cookies</a></span><span class="op" id="7501405">)</span><span class="op" id="7501406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7501412">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501428">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501431">}</span><br>
<span class="lineno"></span><span class="op" id="7501433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7501436">func</span>&nbsp;<span class="ident" id="7501441">TestSetCookieDoubleQuotes</span><span class="op" id="7501466">(</span><span class="ident" id="7501467">t</span>&nbsp;<span class="op" id="7501469">*</span><span class="ident" id="7501470"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7501477">.</span><span class="ident" id="7501478"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7501479">)</span>&nbsp;<span class="op" id="7501481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501484">res</span>&nbsp;<span class="op" id="7501488">:=</span>&nbsp;<span class="op" id="7501491">&amp;</span><span class="ident" id="7501492"><a href="/gostd/net/http/response.go.html#4161509">Response</a></span><span class="op" id="7501500">{</span><span class="ident" id="7501501"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7501507">:</span>&nbsp;<span class="ident" id="7501509"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7501515">{</span><span class="op" id="7501516">}</span><span class="op" id="7501517">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501520"><a href="/gostd/net/http/cookie_test.go.html#7501484">res</a></span><span class="op" id="7501523">.</span><span class="ident" id="7501524"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7501530">.</span><span class="ident" id="7501531"><a href="/gostd/net/http/header.go.html#4126266">Add</a></span><span class="op" id="7501534">(</span><span class="string" id="7501535">&#34;Set-Cookie&#34;</span><span class="op" id="7501547">,</span>&nbsp;<span class="string" id="7501549">`quoted0=none;&nbsp;max-age=30`</span><span class="op" id="7501575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501578"><a href="/gostd/net/http/cookie_test.go.html#7501484">res</a></span><span class="op" id="7501581">.</span><span class="ident" id="7501582"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7501588">.</span><span class="ident" id="7501589"><a href="/gostd/net/http/header.go.html#4126266">Add</a></span><span class="op" id="7501592">(</span><span class="string" id="7501593">&#34;Set-Cookie&#34;</span><span class="op" id="7501605">,</span>&nbsp;<span class="string" id="7501607">`quoted1=&#34;cookieValue&#34;;&nbsp;max-age=31`</span><span class="op" id="7501642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501645"><a href="/gostd/net/http/cookie_test.go.html#7501484">res</a></span><span class="op" id="7501648">.</span><span class="ident" id="7501649"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7501655">.</span><span class="ident" id="7501656"><a href="/gostd/net/http/header.go.html#4126266">Add</a></span><span class="op" id="7501659">(</span><span class="string" id="7501660">&#34;Set-Cookie&#34;</span><span class="op" id="7501672">,</span>&nbsp;<span class="string" id="7501674">`quoted2=cookieAV;&nbsp;max-age=&#34;32&#34;`</span><span class="op" id="7501706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501709"><a href="/gostd/net/http/cookie_test.go.html#7501484">res</a></span><span class="op" id="7501712">.</span><span class="ident" id="7501713"><a href="/gostd/net/http/response.go.html#4162137">Header</a></span><span class="op" id="7501719">.</span><span class="ident" id="7501720"><a href="/gostd/net/http/header.go.html#4126266">Add</a></span><span class="op" id="7501723">(</span><span class="string" id="7501724">&#34;Set-Cookie&#34;</span><span class="op" id="7501736">,</span>&nbsp;<span class="string" id="7501738">`quoted3=&#34;both&#34;;&nbsp;max-age=&#34;33&#34;`</span><span class="op" id="7501768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501771">got</span>&nbsp;<span class="op" id="7501775">:=</span>&nbsp;<span class="ident" id="7501778"><a href="/gostd/net/http/cookie_test.go.html#7501484">res</a></span><span class="op" id="7501781">.</span><span class="ident" id="7501782"><a href="/gostd/net/http/response.go.html#4163756">Cookies</a></span><span class="op" id="7501789">(</span><span class="op" id="7501790">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7501793">want</span>&nbsp;<span class="op" id="7501798">:=</span>&nbsp;<span class="op" id="7501801">[</span><span class="op" id="7501802">]</span><span class="op" id="7501803">*</span><span class="ident" id="7501804"><a href="/gostd/net/http/cookie.go.html#4095997">Cookie</a></span><span class="op" id="7501810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501814">{</span><span class="ident" id="7501815"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7501819">:</span>&nbsp;<span class="string" id="7501821">&#34;quoted0&#34;</span><span class="op" id="7501830">,</span>&nbsp;<span class="ident" id="7501832"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7501837">:</span>&nbsp;<span class="string" id="7501839">&#34;none&#34;</span><span class="op" id="7501845">,</span>&nbsp;<span class="ident" id="7501847"><a href="/gostd/net/http/cookie.go.html#4096315">MaxAge</a></span><span class="op" id="7501853">:</span>&nbsp;<span class="num" id="7501855">30</span><span class="op" id="7501857">}</span><span class="op" id="7501858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501862">{</span><span class="ident" id="7501863"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7501867">:</span>&nbsp;<span class="string" id="7501869">&#34;quoted1&#34;</span><span class="op" id="7501878">,</span>&nbsp;<span class="ident" id="7501880"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7501885">:</span>&nbsp;<span class="string" id="7501887">&#34;cookieValue&#34;</span><span class="op" id="7501900">,</span>&nbsp;<span class="ident" id="7501902"><a href="/gostd/net/http/cookie.go.html#4096315">MaxAge</a></span><span class="op" id="7501908">:</span>&nbsp;<span class="num" id="7501910">31</span><span class="op" id="7501912">}</span><span class="op" id="7501913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501917">{</span><span class="ident" id="7501918"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7501922">:</span>&nbsp;<span class="string" id="7501924">&#34;quoted2&#34;</span><span class="op" id="7501933">,</span>&nbsp;<span class="ident" id="7501935"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7501940">:</span>&nbsp;<span class="string" id="7501942">&#34;cookieAV&#34;</span><span class="op" id="7501952">}</span><span class="op" id="7501953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501957">{</span><span class="ident" id="7501958"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span><span class="op" id="7501962">:</span>&nbsp;<span class="string" id="7501964">&#34;quoted3&#34;</span><span class="op" id="7501973">,</span>&nbsp;<span class="ident" id="7501975"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span><span class="op" id="7501980">:</span>&nbsp;<span class="string" id="7501982">&#34;both&#34;</span><span class="op" id="7501988">}</span><span class="op" id="7501989">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7501992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7501995">if</span>&nbsp;<span class="builtinfunc" id="7501998">len</span><span class="op" id="7502001">(</span><span class="ident" id="7502002"><a href="/gostd/net/http/cookie_test.go.html#7501771">got</a></span><span class="op" id="7502005">)</span>&nbsp;<span class="op" id="7502007">!=</span>&nbsp;<span class="builtinfunc" id="7502010">len</span><span class="op" id="7502013">(</span><span class="ident" id="7502014"><a href="/gostd/net/http/cookie_test.go.html#7501793">want</a></span><span class="op" id="7502018">)</span>&nbsp;<span class="op" id="7502020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502024"><a href="/gostd/net/http/cookie_test.go.html#7501467">t</a></span><span class="op" id="7502025">.</span><span class="ident" id="7502026"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7502031">(</span><span class="string" id="7502032">&#34;got&nbsp;%d&nbsp;cookies,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7502057">,</span>&nbsp;<span class="builtinfunc" id="7502059">len</span><span class="op" id="7502062">(</span><span class="ident" id="7502063"><a href="/gostd/net/http/cookie_test.go.html#7501771">got</a></span><span class="op" id="7502066">)</span><span class="op" id="7502067">,</span>&nbsp;<span class="builtinfunc" id="7502069">len</span><span class="op" id="7502072">(</span><span class="ident" id="7502073"><a href="/gostd/net/http/cookie_test.go.html#7501793">want</a></span><span class="op" id="7502077">)</span><span class="op" id="7502078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7502084">for</span>&nbsp;<span class="ident" id="7502088">i</span><span class="op" id="7502089">,</span>&nbsp;<span class="ident" id="7502091">w</span>&nbsp;<span class="op" id="7502093">:=</span>&nbsp;<span class="keyword" id="7502096">range</span>&nbsp;<span class="ident" id="7502102"><a href="/gostd/net/http/cookie_test.go.html#7501793">want</a></span>&nbsp;<span class="op" id="7502107">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502111">g</span>&nbsp;<span class="op" id="7502113">:=</span>&nbsp;<span class="ident" id="7502116"><a href="/gostd/net/http/cookie_test.go.html#7501771">got</a></span><span class="op" id="7502119">[</span><span class="ident" id="7502120"><a href="/gostd/net/http/cookie_test.go.html#7502088">i</a></span><span class="op" id="7502121">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7502125">if</span>&nbsp;<span class="ident" id="7502128"><a href="/gostd/net/http/cookie_test.go.html#7502111">g</a></span><span class="op" id="7502129">.</span><span class="ident" id="7502130"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span>&nbsp;<span class="op" id="7502135">!=</span>&nbsp;<span class="ident" id="7502138"><a href="/gostd/net/http/cookie_test.go.html#7502091">w</a></span><span class="op" id="7502139">.</span><span class="ident" id="7502140"><a href="/gostd/net/http/cookie.go.html#4096014">Name</a></span>&nbsp;<span class="op" id="7502145">||</span>&nbsp;<span class="ident" id="7502148"><a href="/gostd/net/http/cookie_test.go.html#7502111">g</a></span><span class="op" id="7502149">.</span><span class="ident" id="7502150"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span>&nbsp;<span class="op" id="7502156">!=</span>&nbsp;<span class="ident" id="7502159"><a href="/gostd/net/http/cookie_test.go.html#7502091">w</a></span><span class="op" id="7502160">.</span><span class="ident" id="7502161"><a href="/gostd/net/http/cookie.go.html#4096033">Value</a></span>&nbsp;<span class="op" id="7502167">||</span>&nbsp;<span class="ident" id="7502170"><a href="/gostd/net/http/cookie_test.go.html#7502111">g</a></span><span class="op" id="7502171">.</span><span class="ident" id="7502172"><a href="/gostd/net/http/cookie.go.html#4096315">MaxAge</a></span>&nbsp;<span class="op" id="7502179">!=</span>&nbsp;<span class="ident" id="7502182"><a href="/gostd/net/http/cookie_test.go.html#7502091">w</a></span><span class="op" id="7502183">.</span><span class="ident" id="7502184"><a href="/gostd/net/http/cookie.go.html#4096315">MaxAge</a></span>&nbsp;<span class="op" id="7502191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502196"><a href="/gostd/net/http/cookie_test.go.html#7501467">t</a></span><span class="op" id="7502197">.</span><span class="ident" id="7502198"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7502204">(</span><span class="string" id="7502205">&#34;cookie&nbsp;#%d:\ngot&nbsp;&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="7502236">,</span>&nbsp;<span class="ident" id="7502238"><a href="/gostd/net/http/cookie_test.go.html#7502088">i</a></span><span class="op" id="7502239">,</span>&nbsp;<span class="ident" id="7502241"><a href="/gostd/net/http/cookie_test.go.html#7502111">g</a></span><span class="op" id="7502242">,</span>&nbsp;<span class="ident" id="7502244"><a href="/gostd/net/http/cookie_test.go.html#7502091">w</a></span><span class="op" id="7502245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502252">}</span><br>
<span class="lineno">360</span><span class="op" id="7502254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7502257">func</span>&nbsp;<span class="ident" id="7502262">TestCookieSanitizeValue</span><span class="op" id="7502285">(</span><span class="ident" id="7502286">t</span>&nbsp;<span class="op" id="7502288">*</span><span class="ident" id="7502289"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7502296">.</span><span class="ident" id="7502297"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7502298">)</span>&nbsp;<span class="op" id="7502300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7502303">defer</span>&nbsp;<span class="ident" id="7502309"><a href="/gostd/net/http/cookie_test.go.html#7493401">log</a></span><span class="op" id="7502312">.</span><span class="ident" id="7502313"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="7502322">(</span><span class="ident" id="7502323"><a href="/gostd/net/http/cookie_test.go.html#7493408">os</a></span><span class="op" id="7502325">.</span><span class="ident" id="7502326"><a href="/gostd/os/file.go.html#2441872">Stderr</a></span><span class="op" id="7502332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7502335">var</span>&nbsp;<span class="ident" id="7502339">logbuf</span>&nbsp;<span class="ident" id="7502346"><a href="/gostd/net/http/cookie_test.go.html#7493368">bytes</a></span><span class="op" id="7502351">.</span><span class="ident" id="7502352"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502360"><a href="/gostd/net/http/cookie_test.go.html#7493401">log</a></span><span class="op" id="7502363">.</span><span class="ident" id="7502364"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="7502373">(</span><span class="op" id="7502374">&amp;</span><span class="ident" id="7502375"><a href="/gostd/net/http/cookie_test.go.html#7502339">logbuf</a></span><span class="op" id="7502381">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502385">tests</span>&nbsp;<span class="op" id="7502391">:=</span>&nbsp;<span class="op" id="7502394">[</span><span class="op" id="7502395">]</span><span class="keyword" id="7502396">struct</span>&nbsp;<span class="op" id="7502403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502407">in</span><span class="op" id="7502409">,</span>&nbsp;<span class="ident" id="7502411">want</span>&nbsp;<span class="builtintype" id="7502416">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502424">}</span><span class="op" id="7502425">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502429">{</span><span class="string" id="7502430">&#34;foo&#34;</span><span class="op" id="7502435">,</span>&nbsp;<span class="string" id="7502437">&#34;foo&#34;</span><span class="op" id="7502442">}</span><span class="op" id="7502443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502447">{</span><span class="string" id="7502448">&#34;foo;bar&#34;</span><span class="op" id="7502457">,</span>&nbsp;<span class="string" id="7502459">&#34;foobar&#34;</span><span class="op" id="7502467">}</span><span class="op" id="7502468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502472">{</span><span class="string" id="7502473">&#34;foo\\bar&#34;</span><span class="op" id="7502483">,</span>&nbsp;<span class="string" id="7502485">&#34;foobar&#34;</span><span class="op" id="7502493">}</span><span class="op" id="7502494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502498">{</span><span class="string" id="7502499">&#34;foo\&#34;bar&#34;</span><span class="op" id="7502509">,</span>&nbsp;<span class="string" id="7502511">&#34;foobar&#34;</span><span class="op" id="7502519">}</span><span class="op" id="7502520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502524">{</span><span class="string" id="7502525">&#34;\x00\x7e\x7f\x80&#34;</span><span class="op" id="7502543">,</span>&nbsp;<span class="string" id="7502545">&#34;\x7e&#34;</span><span class="op" id="7502551">}</span><span class="op" id="7502552">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502556">{</span><span class="string" id="7502557">`&#34;withquotes&#34;`</span><span class="op" id="7502571">,</span>&nbsp;<span class="string" id="7502573">&#34;withquotes&#34;</span><span class="op" id="7502585">}</span><span class="op" id="7502586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502590">{</span><span class="string" id="7502591">&#34;a&nbsp;z&#34;</span><span class="op" id="7502596">,</span>&nbsp;<span class="string" id="7502598">&#34;a&nbsp;z&#34;</span><span class="op" id="7502603">}</span><span class="op" id="7502604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502608">{</span><span class="string" id="7502609">&#34;&nbsp;z&#34;</span><span class="op" id="7502613">,</span>&nbsp;<span class="string" id="7502615">`&#34;&nbsp;z&#34;`</span><span class="op" id="7502621">}</span><span class="op" id="7502622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502626">{</span><span class="string" id="7502627">&#34;a&nbsp;&#34;</span><span class="op" id="7502631">,</span>&nbsp;<span class="string" id="7502633">`&#34;a&nbsp;&#34;`</span><span class="op" id="7502639">}</span><span class="op" id="7502640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502643">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7502646">for</span>&nbsp;<span class="ident" id="7502650">_</span><span class="op" id="7502651">,</span>&nbsp;<span class="ident" id="7502653">tt</span>&nbsp;<span class="op" id="7502656">:=</span>&nbsp;<span class="keyword" id="7502659">range</span>&nbsp;<span class="ident" id="7502665"><a href="/gostd/net/http/cookie_test.go.html#7502385">tests</a></span>&nbsp;<span class="op" id="7502671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7502675">if</span>&nbsp;<span class="ident" id="7502678">got</span>&nbsp;<span class="op" id="7502682">:=</span>&nbsp;<span class="ident" id="7502685"><a href="/gostd/net/http/cookie.go.html#4102855">sanitizeCookieValue</a></span><span class="op" id="7502704">(</span><span class="ident" id="7502705"><a href="/gostd/net/http/cookie_test.go.html#7502653">tt</a></span><span class="op" id="7502707">.</span><span class="ident" id="7502708"><a href="/gostd/net/http/cookie_test.go.html#7502407">in</a></span><span class="op" id="7502710">)</span><span class="op" id="7502711">;</span>&nbsp;<span class="ident" id="7502713"><a href="/gostd/net/http/cookie_test.go.html#7502678">got</a></span>&nbsp;<span class="op" id="7502717">!=</span>&nbsp;<span class="ident" id="7502720"><a href="/gostd/net/http/cookie_test.go.html#7502653">tt</a></span><span class="op" id="7502722">.</span><span class="ident" id="7502723"><a href="/gostd/net/http/cookie_test.go.html#7502411">want</a></span>&nbsp;<span class="op" id="7502728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502733"><a href="/gostd/net/http/cookie_test.go.html#7502286">t</a></span><span class="op" id="7502734">.</span><span class="ident" id="7502735"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7502741">(</span><span class="string" id="7502742">&#34;sanitizeCookieValue(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7502781">,</span>&nbsp;<span class="ident" id="7502783"><a href="/gostd/net/http/cookie_test.go.html#7502653">tt</a></span><span class="op" id="7502785">.</span><span class="ident" id="7502786"><a href="/gostd/net/http/cookie_test.go.html#7502407">in</a></span><span class="op" id="7502788">,</span>&nbsp;<span class="ident" id="7502790"><a href="/gostd/net/http/cookie_test.go.html#7502678">got</a></span><span class="op" id="7502793">,</span>&nbsp;<span class="ident" id="7502795"><a href="/gostd/net/http/cookie_test.go.html#7502653">tt</a></span><span class="op" id="7502797">.</span><span class="ident" id="7502798"><a href="/gostd/net/http/cookie_test.go.html#7502411">want</a></span><span class="op" id="7502802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502809">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7502813">if</span>&nbsp;<span class="ident" id="7502816">got</span><span class="op" id="7502819">,</span>&nbsp;<span class="ident" id="7502821">sub</span>&nbsp;<span class="op" id="7502825">:=</span>&nbsp;<span class="ident" id="7502828"><a href="/gostd/net/http/cookie_test.go.html#7502339">logbuf</a></span><span class="op" id="7502834">.</span><span class="ident" id="7502835"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7502841">(</span><span class="op" id="7502842">)</span><span class="op" id="7502843">,</span>&nbsp;<span class="string" id="7502845">&#34;dropping&nbsp;invalid&nbsp;bytes&#34;</span><span class="op" id="7502869">;</span>&nbsp;<span class="op" id="7502871">!</span><span class="ident" id="7502872"><a href="/gostd/net/http/cookie_test.go.html#7493425">strings</a></span><span class="op" id="7502879">.</span><span class="ident" id="7502880"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7502888">(</span><span class="ident" id="7502889"><a href="/gostd/net/http/cookie_test.go.html#7502816">got</a></span><span class="op" id="7502892">,</span>&nbsp;<span class="ident" id="7502894"><a href="/gostd/net/http/cookie_test.go.html#7502821">sub</a></span><span class="op" id="7502897">)</span>&nbsp;<span class="op" id="7502899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7502903"><a href="/gostd/net/http/cookie_test.go.html#7502286">t</a></span><span class="op" id="7502904">.</span><span class="ident" id="7502905"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7502911">(</span><span class="string" id="7502912">&#34;Expected&nbsp;substring&nbsp;%q&nbsp;in&nbsp;log&nbsp;output.&nbsp;Got:\n%s&#34;</span><span class="op" id="7502959">,</span>&nbsp;<span class="ident" id="7502961"><a href="/gostd/net/http/cookie_test.go.html#7502821">sub</a></span><span class="op" id="7502964">,</span>&nbsp;<span class="ident" id="7502966"><a href="/gostd/net/http/cookie_test.go.html#7502816">got</a></span><span class="op" id="7502969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7502972">}</span><br>
<span class="lineno"></span><span class="op" id="7502974">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="keyword" id="7502977">func</span>&nbsp;<span class="ident" id="7502982">TestCookieSanitizePath</span><span class="op" id="7503004">(</span><span class="ident" id="7503005">t</span>&nbsp;<span class="op" id="7503007">*</span><span class="ident" id="7503008"><a href="/gostd/net/http/cookie_test.go.html#7493436">testing</a></span><span class="op" id="7503015">.</span><span class="ident" id="7503016"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7503017">)</span>&nbsp;<span class="op" id="7503019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7503022">defer</span>&nbsp;<span class="ident" id="7503028"><a href="/gostd/net/http/cookie_test.go.html#7493401">log</a></span><span class="op" id="7503031">.</span><span class="ident" id="7503032"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="7503041">(</span><span class="ident" id="7503042"><a href="/gostd/net/http/cookie_test.go.html#7493408">os</a></span><span class="op" id="7503044">.</span><span class="ident" id="7503045"><a href="/gostd/os/file.go.html#2441872">Stderr</a></span><span class="op" id="7503051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7503054">var</span>&nbsp;<span class="ident" id="7503058">logbuf</span>&nbsp;<span class="ident" id="7503065"><a href="/gostd/net/http/cookie_test.go.html#7493368">bytes</a></span><span class="op" id="7503070">.</span><span class="ident" id="7503071"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7503079"><a href="/gostd/net/http/cookie_test.go.html#7493401">log</a></span><span class="op" id="7503082">.</span><span class="ident" id="7503083"><a href="/gostd/log/log.go.html#4077809">SetOutput</a></span><span class="op" id="7503092">(</span><span class="op" id="7503093">&amp;</span><span class="ident" id="7503094"><a href="/gostd/net/http/cookie_test.go.html#7503058">logbuf</a></span><span class="op" id="7503100">)</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7503104">tests</span>&nbsp;<span class="op" id="7503110">:=</span>&nbsp;<span class="op" id="7503113">[</span><span class="op" id="7503114">]</span><span class="keyword" id="7503115">struct</span>&nbsp;<span class="op" id="7503122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7503126">in</span><span class="op" id="7503128">,</span>&nbsp;<span class="ident" id="7503130">want</span>&nbsp;<span class="builtintype" id="7503135">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503143">}</span><span class="op" id="7503144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503148">{</span><span class="string" id="7503149">&#34;/path&#34;</span><span class="op" id="7503156">,</span>&nbsp;<span class="string" id="7503158">&#34;/path&#34;</span><span class="op" id="7503165">}</span><span class="op" id="7503166">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503170">{</span><span class="string" id="7503171">&#34;/path&nbsp;with&nbsp;space/&#34;</span><span class="op" id="7503190">,</span>&nbsp;<span class="string" id="7503192">&#34;/path&nbsp;with&nbsp;space/&#34;</span><span class="op" id="7503211">}</span><span class="op" id="7503212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503216">{</span><span class="string" id="7503217">&#34;/just;no;semicolon\x00orstuff/&#34;</span><span class="op" id="7503249">,</span>&nbsp;<span class="string" id="7503251">&#34;/justnosemicolonorstuff/&#34;</span><span class="op" id="7503277">}</span><span class="op" id="7503278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7503284">for</span>&nbsp;<span class="ident" id="7503288">_</span><span class="op" id="7503289">,</span>&nbsp;<span class="ident" id="7503291">tt</span>&nbsp;<span class="op" id="7503294">:=</span>&nbsp;<span class="keyword" id="7503297">range</span>&nbsp;<span class="ident" id="7503303"><a href="/gostd/net/http/cookie_test.go.html#7503104">tests</a></span>&nbsp;<span class="op" id="7503309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7503313">if</span>&nbsp;<span class="ident" id="7503316">got</span>&nbsp;<span class="op" id="7503320">:=</span>&nbsp;<span class="ident" id="7503323"><a href="/gostd/net/http/cookie.go.html#4103314">sanitizeCookiePath</a></span><span class="op" id="7503341">(</span><span class="ident" id="7503342"><a href="/gostd/net/http/cookie_test.go.html#7503291">tt</a></span><span class="op" id="7503344">.</span><span class="ident" id="7503345"><a href="/gostd/net/http/cookie_test.go.html#7503126">in</a></span><span class="op" id="7503347">)</span><span class="op" id="7503348">;</span>&nbsp;<span class="ident" id="7503350"><a href="/gostd/net/http/cookie_test.go.html#7503316">got</a></span>&nbsp;<span class="op" id="7503354">!=</span>&nbsp;<span class="ident" id="7503357"><a href="/gostd/net/http/cookie_test.go.html#7503291">tt</a></span><span class="op" id="7503359">.</span><span class="ident" id="7503360"><a href="/gostd/net/http/cookie_test.go.html#7503130">want</a></span>&nbsp;<span class="op" id="7503365">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7503370"><a href="/gostd/net/http/cookie_test.go.html#7503005">t</a></span><span class="op" id="7503371">.</span><span class="ident" id="7503372"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7503378">(</span><span class="string" id="7503379">&#34;sanitizeCookiePath(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7503417">,</span>&nbsp;<span class="ident" id="7503419"><a href="/gostd/net/http/cookie_test.go.html#7503291">tt</a></span><span class="op" id="7503421">.</span><span class="ident" id="7503422"><a href="/gostd/net/http/cookie_test.go.html#7503126">in</a></span><span class="op" id="7503424">,</span>&nbsp;<span class="ident" id="7503426"><a href="/gostd/net/http/cookie_test.go.html#7503316">got</a></span><span class="op" id="7503429">,</span>&nbsp;<span class="ident" id="7503431"><a href="/gostd/net/http/cookie_test.go.html#7503291">tt</a></span><span class="op" id="7503433">.</span><span class="ident" id="7503434"><a href="/gostd/net/http/cookie_test.go.html#7503130">want</a></span><span class="op" id="7503438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7503449">if</span>&nbsp;<span class="ident" id="7503452">got</span><span class="op" id="7503455">,</span>&nbsp;<span class="ident" id="7503457">sub</span>&nbsp;<span class="op" id="7503461">:=</span>&nbsp;<span class="ident" id="7503464"><a href="/gostd/net/http/cookie_test.go.html#7503058">logbuf</a></span><span class="op" id="7503470">.</span><span class="ident" id="7503471"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7503477">(</span><span class="op" id="7503478">)</span><span class="op" id="7503479">,</span>&nbsp;<span class="string" id="7503481">&#34;dropping&nbsp;invalid&nbsp;bytes&#34;</span><span class="op" id="7503505">;</span>&nbsp;<span class="op" id="7503507">!</span><span class="ident" id="7503508"><a href="/gostd/net/http/cookie_test.go.html#7493425">strings</a></span><span class="op" id="7503515">.</span><span class="ident" id="7503516"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7503524">(</span><span class="ident" id="7503525"><a href="/gostd/net/http/cookie_test.go.html#7503452">got</a></span><span class="op" id="7503528">,</span>&nbsp;<span class="ident" id="7503530"><a href="/gostd/net/http/cookie_test.go.html#7503457">sub</a></span><span class="op" id="7503533">)</span>&nbsp;<span class="op" id="7503535">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7503539"><a href="/gostd/net/http/cookie_test.go.html#7503005">t</a></span><span class="op" id="7503540">.</span><span class="ident" id="7503541"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7503547">(</span><span class="string" id="7503548">&#34;Expected&nbsp;substring&nbsp;%q&nbsp;in&nbsp;log&nbsp;output.&nbsp;Got:\n%s&#34;</span><span class="op" id="7503595">,</span>&nbsp;<span class="ident" id="7503597"><a href="/gostd/net/http/cookie_test.go.html#7503457">sub</a></span><span class="op" id="7503600">,</span>&nbsp;<span class="ident" id="7503602"><a href="/gostd/net/http/cookie_test.go.html#7503452">got</a></span><span class="op" id="7503605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503608">}</span><br>
<span class="lineno"></span><span class="op" id="7503610">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
