<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8061568">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8061623">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8061677">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8061728">package</span>&nbsp;<span class="ident" id="8061736">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8061741">import</span>&nbsp;<span class="op" id="8061748">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061751">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061760">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061770">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061778">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061786">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061799">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061810">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061821">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8061832">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8061839">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8061842">var</span>&nbsp;<span class="ident" id="8061846">doFuzzTests</span>&nbsp;<span class="op" id="8061858">=</span>&nbsp;<span class="ident" id="8061860">flag</span><span class="op" id="8061864">.</span><span class="ident" id="8061865">Bool</span><span class="op" id="8061869">(</span><span class="string" id="8061870">&#34;gob.fuzz&#34;</span><span class="op" id="8061880">,</span>&nbsp;<span class="builtintype" id="8061882">false</span><span class="op" id="8061887">,</span>&nbsp;<span class="string" id="8061889">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="8061940">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8061943">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="8062023">type</span>&nbsp;<span class="ident" id="8062028">EncodeT</span>&nbsp;<span class="keyword" id="8062036">struct</span>&nbsp;<span class="op" id="8062043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8062046">x</span>&nbsp;<span class="ident" id="8062048">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8062056">b</span>&nbsp;<span class="op" id="8062058">[</span><span class="op" id="8062059">]</span><span class="builtintype" id="8062060">byte</span><br>
<span class="lineno">25</span><span class="op" id="8062065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8062068">var</span>&nbsp;<span class="ident" id="8062072">encodeT</span>&nbsp;<span class="op" id="8062080">=</span>&nbsp;<span class="op" id="8062082">[</span><span class="op" id="8062083">]</span><span class="ident" id="8062084">EncodeT</span><span class="op" id="8062091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062094">{</span><span class="num" id="8062095">0x00</span><span class="op" id="8062099">,</span>&nbsp;<span class="op" id="8062101">[</span><span class="op" id="8062102">]</span><span class="builtintype" id="8062103">byte</span><span class="op" id="8062107">{</span><span class="num" id="8062108">0x00</span><span class="op" id="8062112">}</span><span class="op" id="8062113">}</span><span class="op" id="8062114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062117">{</span><span class="num" id="8062118">0x0F</span><span class="op" id="8062122">,</span>&nbsp;<span class="op" id="8062124">[</span><span class="op" id="8062125">]</span><span class="builtintype" id="8062126">byte</span><span class="op" id="8062130">{</span><span class="num" id="8062131">0x0F</span><span class="op" id="8062135">}</span><span class="op" id="8062136">}</span><span class="op" id="8062137">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062140">{</span><span class="num" id="8062141">0xFF</span><span class="op" id="8062145">,</span>&nbsp;<span class="op" id="8062147">[</span><span class="op" id="8062148">]</span><span class="builtintype" id="8062149">byte</span><span class="op" id="8062153">{</span><span class="num" id="8062154">0xFF</span><span class="op" id="8062158">,</span>&nbsp;<span class="num" id="8062160">0xFF</span><span class="op" id="8062164">}</span><span class="op" id="8062165">}</span><span class="op" id="8062166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062169">{</span><span class="num" id="8062170">0xFFFF</span><span class="op" id="8062176">,</span>&nbsp;<span class="op" id="8062178">[</span><span class="op" id="8062179">]</span><span class="builtintype" id="8062180">byte</span><span class="op" id="8062184">{</span><span class="num" id="8062185">0xFE</span><span class="op" id="8062189">,</span>&nbsp;<span class="num" id="8062191">0xFF</span><span class="op" id="8062195">,</span>&nbsp;<span class="num" id="8062197">0xFF</span><span class="op" id="8062201">}</span><span class="op" id="8062202">}</span><span class="op" id="8062203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062206">{</span><span class="num" id="8062207">0xFFFFFF</span><span class="op" id="8062215">,</span>&nbsp;<span class="op" id="8062217">[</span><span class="op" id="8062218">]</span><span class="builtintype" id="8062219">byte</span><span class="op" id="8062223">{</span><span class="num" id="8062224">0xFD</span><span class="op" id="8062228">,</span>&nbsp;<span class="num" id="8062230">0xFF</span><span class="op" id="8062234">,</span>&nbsp;<span class="num" id="8062236">0xFF</span><span class="op" id="8062240">,</span>&nbsp;<span class="num" id="8062242">0xFF</span><span class="op" id="8062246">}</span><span class="op" id="8062247">}</span><span class="op" id="8062248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062251">{</span><span class="num" id="8062252">0xFFFFFFFF</span><span class="op" id="8062262">,</span>&nbsp;<span class="op" id="8062264">[</span><span class="op" id="8062265">]</span><span class="builtintype" id="8062266">byte</span><span class="op" id="8062270">{</span><span class="num" id="8062271">0xFC</span><span class="op" id="8062275">,</span>&nbsp;<span class="num" id="8062277">0xFF</span><span class="op" id="8062281">,</span>&nbsp;<span class="num" id="8062283">0xFF</span><span class="op" id="8062287">,</span>&nbsp;<span class="num" id="8062289">0xFF</span><span class="op" id="8062293">,</span>&nbsp;<span class="num" id="8062295">0xFF</span><span class="op" id="8062299">}</span><span class="op" id="8062300">}</span><span class="op" id="8062301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062304">{</span><span class="num" id="8062305">0xFFFFFFFFFF</span><span class="op" id="8062317">,</span>&nbsp;<span class="op" id="8062319">[</span><span class="op" id="8062320">]</span><span class="builtintype" id="8062321">byte</span><span class="op" id="8062325">{</span><span class="num" id="8062326">0xFB</span><span class="op" id="8062330">,</span>&nbsp;<span class="num" id="8062332">0xFF</span><span class="op" id="8062336">,</span>&nbsp;<span class="num" id="8062338">0xFF</span><span class="op" id="8062342">,</span>&nbsp;<span class="num" id="8062344">0xFF</span><span class="op" id="8062348">,</span>&nbsp;<span class="num" id="8062350">0xFF</span><span class="op" id="8062354">,</span>&nbsp;<span class="num" id="8062356">0xFF</span><span class="op" id="8062360">}</span><span class="op" id="8062361">}</span><span class="op" id="8062362">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062365">{</span><span class="num" id="8062366">0xFFFFFFFFFFFF</span><span class="op" id="8062380">,</span>&nbsp;<span class="op" id="8062382">[</span><span class="op" id="8062383">]</span><span class="builtintype" id="8062384">byte</span><span class="op" id="8062388">{</span><span class="num" id="8062389">0xFA</span><span class="op" id="8062393">,</span>&nbsp;<span class="num" id="8062395">0xFF</span><span class="op" id="8062399">,</span>&nbsp;<span class="num" id="8062401">0xFF</span><span class="op" id="8062405">,</span>&nbsp;<span class="num" id="8062407">0xFF</span><span class="op" id="8062411">,</span>&nbsp;<span class="num" id="8062413">0xFF</span><span class="op" id="8062417">,</span>&nbsp;<span class="num" id="8062419">0xFF</span><span class="op" id="8062423">,</span>&nbsp;<span class="num" id="8062425">0xFF</span><span class="op" id="8062429">}</span><span class="op" id="8062430">}</span><span class="op" id="8062431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062434">{</span><span class="num" id="8062435">0xFFFFFFFFFFFFFF</span><span class="op" id="8062451">,</span>&nbsp;<span class="op" id="8062453">[</span><span class="op" id="8062454">]</span><span class="builtintype" id="8062455">byte</span><span class="op" id="8062459">{</span><span class="num" id="8062460">0xF9</span><span class="op" id="8062464">,</span>&nbsp;<span class="num" id="8062466">0xFF</span><span class="op" id="8062470">,</span>&nbsp;<span class="num" id="8062472">0xFF</span><span class="op" id="8062476">,</span>&nbsp;<span class="num" id="8062478">0xFF</span><span class="op" id="8062482">,</span>&nbsp;<span class="num" id="8062484">0xFF</span><span class="op" id="8062488">,</span>&nbsp;<span class="num" id="8062490">0xFF</span><span class="op" id="8062494">,</span>&nbsp;<span class="num" id="8062496">0xFF</span><span class="op" id="8062500">,</span>&nbsp;<span class="num" id="8062502">0xFF</span><span class="op" id="8062506">}</span><span class="op" id="8062507">}</span><span class="op" id="8062508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062511">{</span><span class="num" id="8062512">0xFFFFFFFFFFFFFFFF</span><span class="op" id="8062530">,</span>&nbsp;<span class="op" id="8062532">[</span><span class="op" id="8062533">]</span><span class="builtintype" id="8062534">byte</span><span class="op" id="8062538">{</span><span class="num" id="8062539">0xF8</span><span class="op" id="8062543">,</span>&nbsp;<span class="num" id="8062545">0xFF</span><span class="op" id="8062549">,</span>&nbsp;<span class="num" id="8062551">0xFF</span><span class="op" id="8062555">,</span>&nbsp;<span class="num" id="8062557">0xFF</span><span class="op" id="8062561">,</span>&nbsp;<span class="num" id="8062563">0xFF</span><span class="op" id="8062567">,</span>&nbsp;<span class="num" id="8062569">0xFF</span><span class="op" id="8062573">,</span>&nbsp;<span class="num" id="8062575">0xFF</span><span class="op" id="8062579">,</span>&nbsp;<span class="num" id="8062581">0xFF</span><span class="op" id="8062585">,</span>&nbsp;<span class="num" id="8062587">0xFF</span><span class="op" id="8062591">}</span><span class="op" id="8062592">}</span><span class="op" id="8062593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062596">{</span><span class="num" id="8062597">0x1111</span><span class="op" id="8062603">,</span>&nbsp;<span class="op" id="8062605">[</span><span class="op" id="8062606">]</span><span class="builtintype" id="8062607">byte</span><span class="op" id="8062611">{</span><span class="num" id="8062612">0xFE</span><span class="op" id="8062616">,</span>&nbsp;<span class="num" id="8062618">0x11</span><span class="op" id="8062622">,</span>&nbsp;<span class="num" id="8062624">0x11</span><span class="op" id="8062628">}</span><span class="op" id="8062629">}</span><span class="op" id="8062630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062633">{</span><span class="num" id="8062634">0x1111111111111111</span><span class="op" id="8062652">,</span>&nbsp;<span class="op" id="8062654">[</span><span class="op" id="8062655">]</span><span class="builtintype" id="8062656">byte</span><span class="op" id="8062660">{</span><span class="num" id="8062661">0xF8</span><span class="op" id="8062665">,</span>&nbsp;<span class="num" id="8062667">0x11</span><span class="op" id="8062671">,</span>&nbsp;<span class="num" id="8062673">0x11</span><span class="op" id="8062677">,</span>&nbsp;<span class="num" id="8062679">0x11</span><span class="op" id="8062683">,</span>&nbsp;<span class="num" id="8062685">0x11</span><span class="op" id="8062689">,</span>&nbsp;<span class="num" id="8062691">0x11</span><span class="op" id="8062695">,</span>&nbsp;<span class="num" id="8062697">0x11</span><span class="op" id="8062701">,</span>&nbsp;<span class="num" id="8062703">0x11</span><span class="op" id="8062707">,</span>&nbsp;<span class="num" id="8062709">0x11</span><span class="op" id="8062713">}</span><span class="op" id="8062714">}</span><span class="op" id="8062715">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062718">{</span><span class="num" id="8062719">0x8888888888888888</span><span class="op" id="8062737">,</span>&nbsp;<span class="op" id="8062739">[</span><span class="op" id="8062740">]</span><span class="builtintype" id="8062741">byte</span><span class="op" id="8062745">{</span><span class="num" id="8062746">0xF8</span><span class="op" id="8062750">,</span>&nbsp;<span class="num" id="8062752">0x88</span><span class="op" id="8062756">,</span>&nbsp;<span class="num" id="8062758">0x88</span><span class="op" id="8062762">,</span>&nbsp;<span class="num" id="8062764">0x88</span><span class="op" id="8062768">,</span>&nbsp;<span class="num" id="8062770">0x88</span><span class="op" id="8062774">,</span>&nbsp;<span class="num" id="8062776">0x88</span><span class="op" id="8062780">,</span>&nbsp;<span class="num" id="8062782">0x88</span><span class="op" id="8062786">,</span>&nbsp;<span class="num" id="8062788">0x88</span><span class="op" id="8062792">,</span>&nbsp;<span class="num" id="8062794">0x88</span><span class="op" id="8062798">}</span><span class="op" id="8062799">}</span><span class="op" id="8062800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8062803">{</span><span class="num" id="8062804">1</span>&nbsp;<span class="op" id="8062806">&lt;&lt;</span>&nbsp;<span class="num" id="8062809">63</span><span class="op" id="8062811">,</span>&nbsp;<span class="op" id="8062813">[</span><span class="op" id="8062814">]</span><span class="builtintype" id="8062815">byte</span><span class="op" id="8062819">{</span><span class="num" id="8062820">0xF8</span><span class="op" id="8062824">,</span>&nbsp;<span class="num" id="8062826">0x80</span><span class="op" id="8062830">,</span>&nbsp;<span class="num" id="8062832">0x00</span><span class="op" id="8062836">,</span>&nbsp;<span class="num" id="8062838">0x00</span><span class="op" id="8062842">,</span>&nbsp;<span class="num" id="8062844">0x00</span><span class="op" id="8062848">,</span>&nbsp;<span class="num" id="8062850">0x00</span><span class="op" id="8062854">,</span>&nbsp;<span class="num" id="8062856">0x00</span><span class="op" id="8062860">,</span>&nbsp;<span class="num" id="8062862">0x00</span><span class="op" id="8062866">,</span>&nbsp;<span class="num" id="8062868">0x00</span><span class="op" id="8062872">}</span><span class="op" id="8062873">}</span><span class="op" id="8062874">,</span><br>
<span class="lineno"></span><span class="op" id="8062876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8062879">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="8062968">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="8062994">func</span>&nbsp;<span class="ident" id="8062999">testError</span><span class="op" id="8063008">(</span><span class="ident" id="8063009">t</span>&nbsp;<span class="op" id="8063011">*</span><span class="ident" id="8063012">testing</span><span class="op" id="8063019">.</span><span class="ident" id="8063020">T</span><span class="op" id="8063021">)</span>&nbsp;<span class="op" id="8063023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063026">if</span>&nbsp;<span class="ident" id="8063029">e</span>&nbsp;<span class="op" id="8063031">:=</span>&nbsp;<span class="builtinfunc" id="8063034">recover</span><span class="op" id="8063041">(</span><span class="op" id="8063042">)</span><span class="op" id="8063043">;</span>&nbsp;<span class="ident" id="8063045">e</span>&nbsp;<span class="op" id="8063047">!=</span>&nbsp;<span class="ident" id="8063050">nil</span>&nbsp;<span class="op" id="8063054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063058">t</span><span class="op" id="8063059">.</span><span class="ident" id="8063060">Error</span><span class="op" id="8063065">(</span><span class="ident" id="8063066">e</span><span class="op" id="8063067">.</span><span class="op" id="8063068">(</span><span class="ident" id="8063069">gobError</span><span class="op" id="8063077">)</span><span class="op" id="8063078">.</span><span class="ident" id="8063079">err</span><span class="op" id="8063082">)</span>&nbsp;<span class="comment" id="8063084">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8063153">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063156">return</span><br>
<span class="lineno"></span><span class="op" id="8063163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8063166">func</span>&nbsp;<span class="ident" id="8063171">newDecBuffer</span><span class="op" id="8063183">(</span><span class="ident" id="8063184">data</span>&nbsp;<span class="op" id="8063189">[</span><span class="op" id="8063190">]</span><span class="builtintype" id="8063191">byte</span><span class="op" id="8063195">)</span>&nbsp;<span class="op" id="8063197">*</span><span class="ident" id="8063198">decBuffer</span>&nbsp;<span class="op" id="8063208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063211">return</span>&nbsp;<span class="op" id="8063218">&amp;</span><span class="ident" id="8063219">decBuffer</span><span class="op" id="8063228">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063232">data</span><span class="op" id="8063236">:</span>&nbsp;<span class="ident" id="8063238">data</span><span class="op" id="8063242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8063245">}</span><br>
<span class="lineno"></span><span class="op" id="8063247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8063250">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="8063309">func</span>&nbsp;<span class="ident" id="8063314">TestUintCodec</span><span class="op" id="8063327">(</span><span class="ident" id="8063328">t</span>&nbsp;<span class="op" id="8063330">*</span><span class="ident" id="8063331">testing</span><span class="op" id="8063338">.</span><span class="ident" id="8063339">T</span><span class="op" id="8063340">)</span>&nbsp;<span class="op" id="8063342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063345">defer</span>&nbsp;<span class="ident" id="8063351">testError</span><span class="op" id="8063360">(</span><span class="ident" id="8063361">t</span><span class="op" id="8063362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063365">b</span>&nbsp;<span class="op" id="8063367">:=</span>&nbsp;<span class="builtinfunc" id="8063370">new</span><span class="op" id="8063373">(</span><span class="ident" id="8063374">encBuffer</span><span class="op" id="8063383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063386">encState</span>&nbsp;<span class="op" id="8063395">:=</span>&nbsp;<span class="ident" id="8063398">newEncoderState</span><span class="op" id="8063413">(</span><span class="ident" id="8063414">b</span><span class="op" id="8063415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063418">for</span>&nbsp;<span class="ident" id="8063422">_</span><span class="op" id="8063423">,</span>&nbsp;<span class="ident" id="8063425">tt</span>&nbsp;<span class="op" id="8063428">:=</span>&nbsp;<span class="keyword" id="8063431">range</span>&nbsp;<span class="ident" id="8063437">encodeT</span>&nbsp;<span class="op" id="8063445">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063449">b</span><span class="op" id="8063450">.</span><span class="ident" id="8063451">Reset</span><span class="op" id="8063456">(</span><span class="op" id="8063457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063461">encState</span><span class="op" id="8063469">.</span><span class="ident" id="8063470">encodeUint</span><span class="op" id="8063480">(</span><span class="ident" id="8063481">tt</span><span class="op" id="8063483">.</span><span class="ident" id="8063484">x</span><span class="op" id="8063485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063489">if</span>&nbsp;<span class="op" id="8063492">!</span><span class="ident" id="8063493">bytes</span><span class="op" id="8063498">.</span><span class="ident" id="8063499">Equal</span><span class="op" id="8063504">(</span><span class="ident" id="8063505">tt</span><span class="op" id="8063507">.</span><span class="ident" id="8063508">b</span><span class="op" id="8063509">,</span>&nbsp;<span class="ident" id="8063511">b</span><span class="op" id="8063512">.</span><span class="ident" id="8063513">Bytes</span><span class="op" id="8063518">(</span><span class="op" id="8063519">)</span><span class="op" id="8063520">)</span>&nbsp;<span class="op" id="8063522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063527">t</span><span class="op" id="8063528">.</span><span class="ident" id="8063529">Errorf</span><span class="op" id="8063535">(</span><span class="string" id="8063536">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8063582">,</span>&nbsp;<span class="ident" id="8063584">tt</span><span class="op" id="8063586">.</span><span class="ident" id="8063587">x</span><span class="op" id="8063588">,</span>&nbsp;<span class="ident" id="8063590">tt</span><span class="op" id="8063592">.</span><span class="ident" id="8063593">b</span><span class="op" id="8063594">,</span>&nbsp;<span class="ident" id="8063596">b</span><span class="op" id="8063597">.</span><span class="ident" id="8063598">Bytes</span><span class="op" id="8063603">(</span><span class="op" id="8063604">)</span><span class="op" id="8063605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8063609">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8063612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063615">for</span>&nbsp;<span class="ident" id="8063619">u</span>&nbsp;<span class="op" id="8063621">:=</span>&nbsp;<span class="ident" id="8063624">uint64</span><span class="op" id="8063630">(</span><span class="num" id="8063631">0</span><span class="op" id="8063632">)</span><span class="op" id="8063633">;</span>&nbsp;<span class="op" id="8063635">;</span>&nbsp;<span class="ident" id="8063637">u</span>&nbsp;<span class="op" id="8063639">=</span>&nbsp;<span class="op" id="8063641">(</span><span class="ident" id="8063642">u</span>&nbsp;<span class="op" id="8063644">+</span>&nbsp;<span class="num" id="8063646">1</span><span class="op" id="8063647">)</span>&nbsp;<span class="op" id="8063649">*</span>&nbsp;<span class="num" id="8063651">7</span>&nbsp;<span class="op" id="8063653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063657">b</span><span class="op" id="8063658">.</span><span class="ident" id="8063659">Reset</span><span class="op" id="8063664">(</span><span class="op" id="8063665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063669">encState</span><span class="op" id="8063677">.</span><span class="ident" id="8063678">encodeUint</span><span class="op" id="8063688">(</span><span class="ident" id="8063689">u</span><span class="op" id="8063690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063694">decState</span>&nbsp;<span class="op" id="8063703">:=</span>&nbsp;<span class="ident" id="8063706">newDecodeState</span><span class="op" id="8063720">(</span><span class="ident" id="8063721">newDecBuffer</span><span class="op" id="8063733">(</span><span class="ident" id="8063734">b</span><span class="op" id="8063735">.</span><span class="ident" id="8063736">Bytes</span><span class="op" id="8063741">(</span><span class="op" id="8063742">)</span><span class="op" id="8063743">)</span><span class="op" id="8063744">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063748">v</span>&nbsp;<span class="op" id="8063750">:=</span>&nbsp;<span class="ident" id="8063753">decState</span><span class="op" id="8063761">.</span><span class="ident" id="8063762">decodeUint</span><span class="op" id="8063772">(</span><span class="op" id="8063773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063777">if</span>&nbsp;<span class="ident" id="8063780">u</span>&nbsp;<span class="op" id="8063782">!=</span>&nbsp;<span class="ident" id="8063785">v</span>&nbsp;<span class="op" id="8063787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063792">t</span><span class="op" id="8063793">.</span><span class="ident" id="8063794">Errorf</span><span class="op" id="8063800">(</span><span class="string" id="8063801">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8063839">,</span>&nbsp;<span class="ident" id="8063841">u</span><span class="op" id="8063842">,</span>&nbsp;<span class="ident" id="8063844">v</span><span class="op" id="8063845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8063849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063853">if</span>&nbsp;<span class="ident" id="8063856">u</span><span class="op" id="8063857">&amp;</span><span class="op" id="8063858">(</span><span class="num" id="8063859">1</span><span class="op" id="8063860">&lt;&lt;</span><span class="num" id="8063862">63</span><span class="op" id="8063864">)</span>&nbsp;<span class="op" id="8063866">!=</span>&nbsp;<span class="num" id="8063869">0</span>&nbsp;<span class="op" id="8063871">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063876">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8063884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8063887">}</span><br>
<span class="lineno"></span><span class="op" id="8063889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8063892">func</span>&nbsp;<span class="ident" id="8063897">verifyInt</span><span class="op" id="8063906">(</span><span class="ident" id="8063907">i</span>&nbsp;<span class="ident" id="8063909">int64</span><span class="op" id="8063914">,</span>&nbsp;<span class="ident" id="8063916">t</span>&nbsp;<span class="op" id="8063918">*</span><span class="ident" id="8063919">testing</span><span class="op" id="8063926">.</span><span class="ident" id="8063927">T</span><span class="op" id="8063928">)</span>&nbsp;<span class="op" id="8063930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063933">defer</span>&nbsp;<span class="ident" id="8063939">testError</span><span class="op" id="8063948">(</span><span class="ident" id="8063949">t</span><span class="op" id="8063950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8063953">var</span>&nbsp;<span class="ident" id="8063957">b</span>&nbsp;<span class="op" id="8063959">=</span>&nbsp;<span class="builtinfunc" id="8063961">new</span><span class="op" id="8063964">(</span><span class="ident" id="8063965">encBuffer</span><span class="op" id="8063974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8063977">encState</span>&nbsp;<span class="op" id="8063986">:=</span>&nbsp;<span class="ident" id="8063989">newEncoderState</span><span class="op" id="8064004">(</span><span class="ident" id="8064005">b</span><span class="op" id="8064006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064009">encState</span><span class="op" id="8064017">.</span><span class="ident" id="8064018">encodeInt</span><span class="op" id="8064027">(</span><span class="ident" id="8064028">i</span><span class="op" id="8064029">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064032">decState</span>&nbsp;<span class="op" id="8064041">:=</span>&nbsp;<span class="ident" id="8064044">newDecodeState</span><span class="op" id="8064058">(</span><span class="ident" id="8064059">newDecBuffer</span><span class="op" id="8064071">(</span><span class="ident" id="8064072">b</span><span class="op" id="8064073">.</span><span class="ident" id="8064074">Bytes</span><span class="op" id="8064079">(</span><span class="op" id="8064080">)</span><span class="op" id="8064081">)</span><span class="op" id="8064082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064085">decState</span><span class="op" id="8064093">.</span><span class="ident" id="8064094">buf</span>&nbsp;<span class="op" id="8064098">=</span>&nbsp;<span class="builtinfunc" id="8064100">make</span><span class="op" id="8064104">(</span><span class="op" id="8064105">[</span><span class="op" id="8064106">]</span><span class="builtintype" id="8064107">byte</span><span class="op" id="8064111">,</span>&nbsp;<span class="num" id="8064113">8</span><span class="op" id="8064114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064117">j</span>&nbsp;<span class="op" id="8064119">:=</span>&nbsp;<span class="ident" id="8064122">decState</span><span class="op" id="8064130">.</span><span class="ident" id="8064131">decodeInt</span><span class="op" id="8064140">(</span><span class="op" id="8064141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8064144">if</span>&nbsp;<span class="ident" id="8064147">i</span>&nbsp;<span class="op" id="8064149">!=</span>&nbsp;<span class="ident" id="8064152">j</span>&nbsp;<span class="op" id="8064154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064158">t</span><span class="op" id="8064159">.</span><span class="ident" id="8064160">Errorf</span><span class="op" id="8064166">(</span><span class="string" id="8064167">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8064205">,</span>&nbsp;<span class="ident" id="8064207">uint64</span><span class="op" id="8064213">(</span><span class="ident" id="8064214">i</span><span class="op" id="8064215">)</span><span class="op" id="8064216">,</span>&nbsp;<span class="ident" id="8064218">uint64</span><span class="op" id="8064224">(</span><span class="ident" id="8064225">j</span><span class="op" id="8064226">)</span><span class="op" id="8064227">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8064230">}</span><br>
<span class="lineno"></span><span class="op" id="8064232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8064235">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="8064292">func</span>&nbsp;<span class="ident" id="8064297">TestIntCodec</span><span class="op" id="8064309">(</span><span class="ident" id="8064310">t</span>&nbsp;<span class="op" id="8064312">*</span><span class="ident" id="8064313">testing</span><span class="op" id="8064320">.</span><span class="ident" id="8064321">T</span><span class="op" id="8064322">)</span>&nbsp;<span class="op" id="8064324">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8064327">for</span>&nbsp;<span class="ident" id="8064331">u</span>&nbsp;<span class="op" id="8064333">:=</span>&nbsp;<span class="ident" id="8064336">uint64</span><span class="op" id="8064342">(</span><span class="num" id="8064343">0</span><span class="op" id="8064344">)</span><span class="op" id="8064345">;</span>&nbsp;<span class="op" id="8064347">;</span>&nbsp;<span class="ident" id="8064349">u</span>&nbsp;<span class="op" id="8064351">=</span>&nbsp;<span class="op" id="8064353">(</span><span class="ident" id="8064354">u</span>&nbsp;<span class="op" id="8064356">+</span>&nbsp;<span class="num" id="8064358">1</span><span class="op" id="8064359">)</span>&nbsp;<span class="op" id="8064361">*</span>&nbsp;<span class="num" id="8064363">7</span>&nbsp;<span class="op" id="8064365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8064369">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064406">i</span>&nbsp;<span class="op" id="8064408">:=</span>&nbsp;<span class="ident" id="8064411">int64</span><span class="op" id="8064416">(</span><span class="ident" id="8064417">u</span><span class="op" id="8064418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064422">verifyInt</span><span class="op" id="8064431">(</span><span class="ident" id="8064432">i</span><span class="op" id="8064433">,</span>&nbsp;<span class="ident" id="8064435">t</span><span class="op" id="8064436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064440">verifyInt</span><span class="op" id="8064449">(</span><span class="op" id="8064450">-</span><span class="ident" id="8064451">i</span><span class="op" id="8064452">,</span>&nbsp;<span class="ident" id="8064454">t</span><span class="op" id="8064455">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064459">verifyInt</span><span class="op" id="8064468">(</span><span class="op" id="8064469">^</span><span class="ident" id="8064470">i</span><span class="op" id="8064471">,</span>&nbsp;<span class="ident" id="8064473">t</span><span class="op" id="8064474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8064478">if</span>&nbsp;<span class="ident" id="8064481">u</span><span class="op" id="8064482">&amp;</span><span class="op" id="8064483">(</span><span class="num" id="8064484">1</span><span class="op" id="8064485">&lt;&lt;</span><span class="num" id="8064487">63</span><span class="op" id="8064489">)</span>&nbsp;<span class="op" id="8064491">!=</span>&nbsp;<span class="num" id="8064494">0</span>&nbsp;<span class="op" id="8064496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8064501">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8064509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8064512">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8064515">verifyInt</span><span class="op" id="8064524">(</span><span class="op" id="8064525">-</span><span class="num" id="8064526">1</span><span class="op" id="8064527">&lt;&lt;</span><span class="num" id="8064529">63</span><span class="op" id="8064531">,</span>&nbsp;<span class="ident" id="8064533">t</span><span class="op" id="8064534">)</span>&nbsp;<span class="comment" id="8064536">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="8064553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8064556">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8064617">var</span>&nbsp;<span class="ident" id="8064621">boolResult</span>&nbsp;<span class="op" id="8064632">=</span>&nbsp;<span class="op" id="8064634">[</span><span class="op" id="8064635">]</span><span class="builtintype" id="8064636">byte</span><span class="op" id="8064640">{</span><span class="num" id="8064641">0x07</span><span class="op" id="8064645">,</span>&nbsp;<span class="num" id="8064647">0x01</span><span class="op" id="8064651">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="8064654">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8064712">var</span>&nbsp;<span class="ident" id="8064716">signedResult</span>&nbsp;<span class="op" id="8064729">=</span>&nbsp;<span class="op" id="8064731">[</span><span class="op" id="8064732">]</span><span class="builtintype" id="8064733">byte</span><span class="op" id="8064737">{</span><span class="num" id="8064738">0x07</span><span class="op" id="8064742">,</span>&nbsp;<span class="num" id="8064744">2</span>&nbsp;<span class="op" id="8064746">*</span>&nbsp;<span class="num" id="8064748">17</span><span class="op" id="8064750">}</span><br>
<span class="lineno"></span><span class="keyword" id="8064752">var</span>&nbsp;<span class="ident" id="8064756">unsignedResult</span>&nbsp;<span class="op" id="8064771">=</span>&nbsp;<span class="op" id="8064773">[</span><span class="op" id="8064774">]</span><span class="builtintype" id="8064775">byte</span><span class="op" id="8064779">{</span><span class="num" id="8064780">0x07</span><span class="op" id="8064784">,</span>&nbsp;<span class="num" id="8064786">17</span><span class="op" id="8064788">}</span><br>
<span class="lineno"></span><span class="keyword" id="8064790">var</span>&nbsp;<span class="ident" id="8064794">floatResult</span>&nbsp;<span class="op" id="8064806">=</span>&nbsp;<span class="op" id="8064808">[</span><span class="op" id="8064809">]</span><span class="builtintype" id="8064810">byte</span><span class="op" id="8064814">{</span><span class="num" id="8064815">0x07</span><span class="op" id="8064819">,</span>&nbsp;<span class="num" id="8064821">0xFE</span><span class="op" id="8064825">,</span>&nbsp;<span class="num" id="8064827">0x31</span><span class="op" id="8064831">,</span>&nbsp;<span class="num" id="8064833">0x40</span><span class="op" id="8064837">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="8064840">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8064902">var</span>&nbsp;<span class="ident" id="8064906">complexResult</span>&nbsp;<span class="op" id="8064920">=</span>&nbsp;<span class="op" id="8064922">[</span><span class="op" id="8064923">]</span><span class="builtintype" id="8064924">byte</span><span class="op" id="8064928">{</span><span class="num" id="8064929">0x07</span><span class="op" id="8064933">,</span>&nbsp;<span class="num" id="8064935">0xFE</span><span class="op" id="8064939">,</span>&nbsp;<span class="num" id="8064941">0x31</span><span class="op" id="8064945">,</span>&nbsp;<span class="num" id="8064947">0x40</span><span class="op" id="8064951">,</span>&nbsp;<span class="num" id="8064953">0xFE</span><span class="op" id="8064957">,</span>&nbsp;<span class="num" id="8064959">0x33</span><span class="op" id="8064963">,</span>&nbsp;<span class="num" id="8064965">0x40</span><span class="op" id="8064969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8064972">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="8065026">var</span>&nbsp;<span class="ident" id="8065030">bytesResult</span>&nbsp;<span class="op" id="8065042">=</span>&nbsp;<span class="op" id="8065044">[</span><span class="op" id="8065045">]</span><span class="builtintype" id="8065046">byte</span><span class="op" id="8065050">{</span><span class="num" id="8065051">0x07</span><span class="op" id="8065055">,</span>&nbsp;<span class="num" id="8065057">0x05</span><span class="op" id="8065061">,</span>&nbsp;<span class="string" id="8065063">&#39;h&#39;</span><span class="op" id="8065066">,</span>&nbsp;<span class="string" id="8065068">&#39;e&#39;</span><span class="op" id="8065071">,</span>&nbsp;<span class="string" id="8065073">&#39;l&#39;</span><span class="op" id="8065076">,</span>&nbsp;<span class="string" id="8065078">&#39;l&#39;</span><span class="op" id="8065081">,</span>&nbsp;<span class="string" id="8065083">&#39;o&#39;</span><span class="op" id="8065086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8065089">func</span>&nbsp;<span class="ident" id="8065094">newDecodeState</span><span class="op" id="8065108">(</span><span class="ident" id="8065109">buf</span>&nbsp;<span class="op" id="8065113">*</span><span class="ident" id="8065114">decBuffer</span><span class="op" id="8065123">)</span>&nbsp;<span class="op" id="8065125">*</span><span class="ident" id="8065126">decoderState</span>&nbsp;<span class="op" id="8065139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065142">d</span>&nbsp;<span class="op" id="8065144">:=</span>&nbsp;<span class="builtinfunc" id="8065147">new</span><span class="op" id="8065150">(</span><span class="ident" id="8065151">decoderState</span><span class="op" id="8065163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065166">d</span><span class="op" id="8065167">.</span><span class="ident" id="8065168">b</span>&nbsp;<span class="op" id="8065170">=</span>&nbsp;<span class="ident" id="8065172">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065177">d</span><span class="op" id="8065178">.</span><span class="ident" id="8065179">buf</span>&nbsp;<span class="op" id="8065183">=</span>&nbsp;<span class="builtinfunc" id="8065185">make</span><span class="op" id="8065189">(</span><span class="op" id="8065190">[</span><span class="op" id="8065191">]</span><span class="builtintype" id="8065192">byte</span><span class="op" id="8065196">,</span>&nbsp;<span class="ident" id="8065198">uint64Size</span><span class="op" id="8065208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8065211">return</span>&nbsp;<span class="ident" id="8065218">d</span><br>
<span class="lineno"></span><span class="op" id="8065220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8065223">func</span>&nbsp;<span class="ident" id="8065228">newEncoderState</span><span class="op" id="8065243">(</span><span class="ident" id="8065244">b</span>&nbsp;<span class="op" id="8065246">*</span><span class="ident" id="8065247">encBuffer</span><span class="op" id="8065256">)</span>&nbsp;<span class="op" id="8065258">*</span><span class="ident" id="8065259">encoderState</span>&nbsp;<span class="op" id="8065272">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065275">b</span><span class="op" id="8065276">.</span><span class="ident" id="8065277">Reset</span><span class="op" id="8065282">(</span><span class="op" id="8065283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065286">state</span>&nbsp;<span class="op" id="8065292">:=</span>&nbsp;<span class="op" id="8065295">&amp;</span><span class="ident" id="8065296">encoderState</span><span class="op" id="8065308">{</span><span class="ident" id="8065309">enc</span><span class="op" id="8065312">:</span>&nbsp;<span class="ident" id="8065314">nil</span><span class="op" id="8065317">,</span>&nbsp;<span class="ident" id="8065319">b</span><span class="op" id="8065320">:</span>&nbsp;<span class="ident" id="8065322">b</span><span class="op" id="8065323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065326">state</span><span class="op" id="8065331">.</span><span class="ident" id="8065332">fieldnum</span>&nbsp;<span class="op" id="8065341">=</span>&nbsp;<span class="op" id="8065343">-</span><span class="num" id="8065344">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8065347">return</span>&nbsp;<span class="ident" id="8065354">state</span><br>
<span class="lineno"></span><span class="op" id="8065360">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="8065363">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="8065407">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="8065490">func</span>&nbsp;<span class="ident" id="8065495">TestScalarEncInstructions</span><span class="op" id="8065520">(</span><span class="ident" id="8065521">t</span>&nbsp;<span class="op" id="8065523">*</span><span class="ident" id="8065524">testing</span><span class="op" id="8065531">.</span><span class="ident" id="8065532">T</span><span class="op" id="8065533">)</span>&nbsp;<span class="op" id="8065535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8065538">var</span>&nbsp;<span class="ident" id="8065542">b</span>&nbsp;<span class="op" id="8065544">=</span>&nbsp;<span class="builtinfunc" id="8065546">new</span><span class="op" id="8065549">(</span><span class="ident" id="8065550">encBuffer</span><span class="op" id="8065559">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8065563">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8065572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8065576">var</span>&nbsp;<span class="ident" id="8065580">data</span>&nbsp;<span class="builtintype" id="8065585">bool</span>&nbsp;<span class="op" id="8065590">=</span>&nbsp;<span class="builtintype" id="8065592">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065599">instr</span>&nbsp;<span class="op" id="8065605">:=</span>&nbsp;<span class="op" id="8065608">&amp;</span><span class="ident" id="8065609">encInstr</span><span class="op" id="8065617">{</span><span class="ident" id="8065618">encBool</span><span class="op" id="8065625">,</span>&nbsp;<span class="num" id="8065627">6</span><span class="op" id="8065628">,</span>&nbsp;<span class="ident" id="8065630">nil</span><span class="op" id="8065633">,</span>&nbsp;<span class="num" id="8065635">0</span><span class="op" id="8065636">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065640">state</span>&nbsp;<span class="op" id="8065646">:=</span>&nbsp;<span class="ident" id="8065649">newEncoderState</span><span class="op" id="8065664">(</span><span class="ident" id="8065665">b</span><span class="op" id="8065666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065670">instr</span><span class="op" id="8065675">.</span><span class="ident" id="8065676">op</span><span class="op" id="8065678">(</span><span class="ident" id="8065679">instr</span><span class="op" id="8065684">,</span>&nbsp;<span class="ident" id="8065686">state</span><span class="op" id="8065691">,</span>&nbsp;<span class="ident" id="8065693">reflect</span><span class="op" id="8065700">.</span><span class="ident" id="8065701">ValueOf</span><span class="op" id="8065708">(</span><span class="ident" id="8065709">data</span><span class="op" id="8065713">)</span><span class="op" id="8065714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8065718">if</span>&nbsp;<span class="op" id="8065721">!</span><span class="ident" id="8065722">bytes</span><span class="op" id="8065727">.</span><span class="ident" id="8065728">Equal</span><span class="op" id="8065733">(</span><span class="ident" id="8065734">boolResult</span><span class="op" id="8065744">,</span>&nbsp;<span class="ident" id="8065746">b</span><span class="op" id="8065747">.</span><span class="ident" id="8065748">Bytes</span><span class="op" id="8065753">(</span><span class="op" id="8065754">)</span><span class="op" id="8065755">)</span>&nbsp;<span class="op" id="8065757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065762">t</span><span class="op" id="8065763">.</span><span class="ident" id="8065764">Errorf</span><span class="op" id="8065770">(</span><span class="string" id="8065771">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8065816">,</span>&nbsp;<span class="ident" id="8065818">boolResult</span><span class="op" id="8065828">,</span>&nbsp;<span class="ident" id="8065830">b</span><span class="op" id="8065831">.</span><span class="ident" id="8065832">Bytes</span><span class="op" id="8065837">(</span><span class="op" id="8065838">)</span><span class="op" id="8065839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8065843">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8065846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8065850">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8065858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065862">b</span><span class="op" id="8065863">.</span><span class="ident" id="8065864">Reset</span><span class="op" id="8065869">(</span><span class="op" id="8065870">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8065874">var</span>&nbsp;<span class="ident" id="8065878">data</span>&nbsp;<span class="builtintype" id="8065883">int</span>&nbsp;<span class="op" id="8065887">=</span>&nbsp;<span class="num" id="8065889">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065894">instr</span>&nbsp;<span class="op" id="8065900">:=</span>&nbsp;<span class="op" id="8065903">&amp;</span><span class="ident" id="8065904">encInstr</span><span class="op" id="8065912">{</span><span class="ident" id="8065913">encInt</span><span class="op" id="8065919">,</span>&nbsp;<span class="num" id="8065921">6</span><span class="op" id="8065922">,</span>&nbsp;<span class="ident" id="8065924">nil</span><span class="op" id="8065927">,</span>&nbsp;<span class="num" id="8065929">0</span><span class="op" id="8065930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065934">state</span>&nbsp;<span class="op" id="8065940">:=</span>&nbsp;<span class="ident" id="8065943">newEncoderState</span><span class="op" id="8065958">(</span><span class="ident" id="8065959">b</span><span class="op" id="8065960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8065964">instr</span><span class="op" id="8065969">.</span><span class="ident" id="8065970">op</span><span class="op" id="8065972">(</span><span class="ident" id="8065973">instr</span><span class="op" id="8065978">,</span>&nbsp;<span class="ident" id="8065980">state</span><span class="op" id="8065985">,</span>&nbsp;<span class="ident" id="8065987">reflect</span><span class="op" id="8065994">.</span><span class="ident" id="8065995">ValueOf</span><span class="op" id="8066002">(</span><span class="ident" id="8066003">data</span><span class="op" id="8066007">)</span><span class="op" id="8066008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8066012">if</span>&nbsp;<span class="op" id="8066015">!</span><span class="ident" id="8066016">bytes</span><span class="op" id="8066021">.</span><span class="ident" id="8066022">Equal</span><span class="op" id="8066027">(</span><span class="ident" id="8066028">signedResult</span><span class="op" id="8066040">,</span>&nbsp;<span class="ident" id="8066042">b</span><span class="op" id="8066043">.</span><span class="ident" id="8066044">Bytes</span><span class="op" id="8066049">(</span><span class="op" id="8066050">)</span><span class="op" id="8066051">)</span>&nbsp;<span class="op" id="8066053">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066058">t</span><span class="op" id="8066059">.</span><span class="ident" id="8066060">Errorf</span><span class="op" id="8066066">(</span><span class="string" id="8066067">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8066111">,</span>&nbsp;<span class="ident" id="8066113">signedResult</span><span class="op" id="8066125">,</span>&nbsp;<span class="ident" id="8066127">b</span><span class="op" id="8066128">.</span><span class="ident" id="8066129">Bytes</span><span class="op" id="8066134">(</span><span class="op" id="8066135">)</span><span class="op" id="8066136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8066147">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066160">b</span><span class="op" id="8066161">.</span><span class="ident" id="8066162">Reset</span><span class="op" id="8066167">(</span><span class="op" id="8066168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8066172">var</span>&nbsp;<span class="ident" id="8066176">data</span>&nbsp;<span class="builtintype" id="8066181">uint</span>&nbsp;<span class="op" id="8066186">=</span>&nbsp;<span class="num" id="8066188">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066193">instr</span>&nbsp;<span class="op" id="8066199">:=</span>&nbsp;<span class="op" id="8066202">&amp;</span><span class="ident" id="8066203">encInstr</span><span class="op" id="8066211">{</span><span class="ident" id="8066212">encUint</span><span class="op" id="8066219">,</span>&nbsp;<span class="num" id="8066221">6</span><span class="op" id="8066222">,</span>&nbsp;<span class="ident" id="8066224">nil</span><span class="op" id="8066227">,</span>&nbsp;<span class="num" id="8066229">0</span><span class="op" id="8066230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066234">state</span>&nbsp;<span class="op" id="8066240">:=</span>&nbsp;<span class="ident" id="8066243">newEncoderState</span><span class="op" id="8066258">(</span><span class="ident" id="8066259">b</span><span class="op" id="8066260">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066264">instr</span><span class="op" id="8066269">.</span><span class="ident" id="8066270">op</span><span class="op" id="8066272">(</span><span class="ident" id="8066273">instr</span><span class="op" id="8066278">,</span>&nbsp;<span class="ident" id="8066280">state</span><span class="op" id="8066285">,</span>&nbsp;<span class="ident" id="8066287">reflect</span><span class="op" id="8066294">.</span><span class="ident" id="8066295">ValueOf</span><span class="op" id="8066302">(</span><span class="ident" id="8066303">data</span><span class="op" id="8066307">)</span><span class="op" id="8066308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8066312">if</span>&nbsp;<span class="op" id="8066315">!</span><span class="ident" id="8066316">bytes</span><span class="op" id="8066321">.</span><span class="ident" id="8066322">Equal</span><span class="op" id="8066327">(</span><span class="ident" id="8066328">unsignedResult</span><span class="op" id="8066342">,</span>&nbsp;<span class="ident" id="8066344">b</span><span class="op" id="8066345">.</span><span class="ident" id="8066346">Bytes</span><span class="op" id="8066351">(</span><span class="op" id="8066352">)</span><span class="op" id="8066353">)</span>&nbsp;<span class="op" id="8066355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066360">t</span><span class="op" id="8066361">.</span><span class="ident" id="8066362">Errorf</span><span class="op" id="8066368">(</span><span class="string" id="8066369">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8066414">,</span>&nbsp;<span class="ident" id="8066416">unsignedResult</span><span class="op" id="8066430">,</span>&nbsp;<span class="ident" id="8066432">b</span><span class="op" id="8066433">.</span><span class="ident" id="8066434">Bytes</span><span class="op" id="8066439">(</span><span class="op" id="8066440">)</span><span class="op" id="8066441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066448">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8066452">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066465">b</span><span class="op" id="8066466">.</span><span class="ident" id="8066467">Reset</span><span class="op" id="8066472">(</span><span class="op" id="8066473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8066477">var</span>&nbsp;<span class="ident" id="8066481">data</span>&nbsp;<span class="builtintype" id="8066486">int8</span>&nbsp;<span class="op" id="8066491">=</span>&nbsp;<span class="num" id="8066493">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066498">instr</span>&nbsp;<span class="op" id="8066504">:=</span>&nbsp;<span class="op" id="8066507">&amp;</span><span class="ident" id="8066508">encInstr</span><span class="op" id="8066516">{</span><span class="ident" id="8066517">encInt</span><span class="op" id="8066523">,</span>&nbsp;<span class="num" id="8066525">6</span><span class="op" id="8066526">,</span>&nbsp;<span class="ident" id="8066528">nil</span><span class="op" id="8066531">,</span>&nbsp;<span class="num" id="8066533">0</span><span class="op" id="8066534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066538">state</span>&nbsp;<span class="op" id="8066544">:=</span>&nbsp;<span class="ident" id="8066547">newEncoderState</span><span class="op" id="8066562">(</span><span class="ident" id="8066563">b</span><span class="op" id="8066564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066568">instr</span><span class="op" id="8066573">.</span><span class="ident" id="8066574">op</span><span class="op" id="8066576">(</span><span class="ident" id="8066577">instr</span><span class="op" id="8066582">,</span>&nbsp;<span class="ident" id="8066584">state</span><span class="op" id="8066589">,</span>&nbsp;<span class="ident" id="8066591">reflect</span><span class="op" id="8066598">.</span><span class="ident" id="8066599">ValueOf</span><span class="op" id="8066606">(</span><span class="ident" id="8066607">data</span><span class="op" id="8066611">)</span><span class="op" id="8066612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8066616">if</span>&nbsp;<span class="op" id="8066619">!</span><span class="ident" id="8066620">bytes</span><span class="op" id="8066625">.</span><span class="ident" id="8066626">Equal</span><span class="op" id="8066631">(</span><span class="ident" id="8066632">signedResult</span><span class="op" id="8066644">,</span>&nbsp;<span class="ident" id="8066646">b</span><span class="op" id="8066647">.</span><span class="ident" id="8066648">Bytes</span><span class="op" id="8066653">(</span><span class="op" id="8066654">)</span><span class="op" id="8066655">)</span>&nbsp;<span class="op" id="8066657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066662">t</span><span class="op" id="8066663">.</span><span class="ident" id="8066664">Errorf</span><span class="op" id="8066670">(</span><span class="string" id="8066671">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8066716">,</span>&nbsp;<span class="ident" id="8066718">signedResult</span><span class="op" id="8066730">,</span>&nbsp;<span class="ident" id="8066732">b</span><span class="op" id="8066733">.</span><span class="ident" id="8066734">Bytes</span><span class="op" id="8066739">(</span><span class="op" id="8066740">)</span><span class="op" id="8066741">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8066752">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8066762">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066766">b</span><span class="op" id="8066767">.</span><span class="ident" id="8066768">Reset</span><span class="op" id="8066773">(</span><span class="op" id="8066774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8066778">var</span>&nbsp;<span class="ident" id="8066782">data</span>&nbsp;<span class="builtintype" id="8066787">uint8</span>&nbsp;<span class="op" id="8066793">=</span>&nbsp;<span class="num" id="8066795">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066800">instr</span>&nbsp;<span class="op" id="8066806">:=</span>&nbsp;<span class="op" id="8066809">&amp;</span><span class="ident" id="8066810">encInstr</span><span class="op" id="8066818">{</span><span class="ident" id="8066819">encUint</span><span class="op" id="8066826">,</span>&nbsp;<span class="num" id="8066828">6</span><span class="op" id="8066829">,</span>&nbsp;<span class="ident" id="8066831">nil</span><span class="op" id="8066834">,</span>&nbsp;<span class="num" id="8066836">0</span><span class="op" id="8066837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066841">state</span>&nbsp;<span class="op" id="8066847">:=</span>&nbsp;<span class="ident" id="8066850">newEncoderState</span><span class="op" id="8066865">(</span><span class="ident" id="8066866">b</span><span class="op" id="8066867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066871">instr</span><span class="op" id="8066876">.</span><span class="ident" id="8066877">op</span><span class="op" id="8066879">(</span><span class="ident" id="8066880">instr</span><span class="op" id="8066885">,</span>&nbsp;<span class="ident" id="8066887">state</span><span class="op" id="8066892">,</span>&nbsp;<span class="ident" id="8066894">reflect</span><span class="op" id="8066901">.</span><span class="ident" id="8066902">ValueOf</span><span class="op" id="8066909">(</span><span class="ident" id="8066910">data</span><span class="op" id="8066914">)</span><span class="op" id="8066915">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8066919">if</span>&nbsp;<span class="op" id="8066922">!</span><span class="ident" id="8066923">bytes</span><span class="op" id="8066928">.</span><span class="ident" id="8066929">Equal</span><span class="op" id="8066934">(</span><span class="ident" id="8066935">unsignedResult</span><span class="op" id="8066949">,</span>&nbsp;<span class="ident" id="8066951">b</span><span class="op" id="8066952">.</span><span class="ident" id="8066953">Bytes</span><span class="op" id="8066958">(</span><span class="op" id="8066959">)</span><span class="op" id="8066960">)</span>&nbsp;<span class="op" id="8066962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8066967">t</span><span class="op" id="8066968">.</span><span class="ident" id="8066969">Errorf</span><span class="op" id="8066975">(</span><span class="string" id="8066976">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8067022">,</span>&nbsp;<span class="ident" id="8067024">unsignedResult</span><span class="op" id="8067038">,</span>&nbsp;<span class="ident" id="8067040">b</span><span class="op" id="8067041">.</span><span class="ident" id="8067042">Bytes</span><span class="op" id="8067047">(</span><span class="op" id="8067048">)</span><span class="op" id="8067049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8067060">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067074">b</span><span class="op" id="8067075">.</span><span class="ident" id="8067076">Reset</span><span class="op" id="8067081">(</span><span class="op" id="8067082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8067086">var</span>&nbsp;<span class="ident" id="8067090">data</span>&nbsp;<span class="builtintype" id="8067095">int16</span>&nbsp;<span class="op" id="8067101">=</span>&nbsp;<span class="num" id="8067103">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067108">instr</span>&nbsp;<span class="op" id="8067114">:=</span>&nbsp;<span class="op" id="8067117">&amp;</span><span class="ident" id="8067118">encInstr</span><span class="op" id="8067126">{</span><span class="ident" id="8067127">encInt</span><span class="op" id="8067133">,</span>&nbsp;<span class="num" id="8067135">6</span><span class="op" id="8067136">,</span>&nbsp;<span class="ident" id="8067138">nil</span><span class="op" id="8067141">,</span>&nbsp;<span class="num" id="8067143">0</span><span class="op" id="8067144">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067148">state</span>&nbsp;<span class="op" id="8067154">:=</span>&nbsp;<span class="ident" id="8067157">newEncoderState</span><span class="op" id="8067172">(</span><span class="ident" id="8067173">b</span><span class="op" id="8067174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067178">instr</span><span class="op" id="8067183">.</span><span class="ident" id="8067184">op</span><span class="op" id="8067186">(</span><span class="ident" id="8067187">instr</span><span class="op" id="8067192">,</span>&nbsp;<span class="ident" id="8067194">state</span><span class="op" id="8067199">,</span>&nbsp;<span class="ident" id="8067201">reflect</span><span class="op" id="8067208">.</span><span class="ident" id="8067209">ValueOf</span><span class="op" id="8067216">(</span><span class="ident" id="8067217">data</span><span class="op" id="8067221">)</span><span class="op" id="8067222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8067226">if</span>&nbsp;<span class="op" id="8067229">!</span><span class="ident" id="8067230">bytes</span><span class="op" id="8067235">.</span><span class="ident" id="8067236">Equal</span><span class="op" id="8067241">(</span><span class="ident" id="8067242">signedResult</span><span class="op" id="8067254">,</span>&nbsp;<span class="ident" id="8067256">b</span><span class="op" id="8067257">.</span><span class="ident" id="8067258">Bytes</span><span class="op" id="8067263">(</span><span class="op" id="8067264">)</span><span class="op" id="8067265">)</span>&nbsp;<span class="op" id="8067267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067272">t</span><span class="op" id="8067273">.</span><span class="ident" id="8067274">Errorf</span><span class="op" id="8067280">(</span><span class="string" id="8067281">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8067327">,</span>&nbsp;<span class="ident" id="8067329">signedResult</span><span class="op" id="8067341">,</span>&nbsp;<span class="ident" id="8067343">b</span><span class="op" id="8067344">.</span><span class="ident" id="8067345">Bytes</span><span class="op" id="8067350">(</span><span class="op" id="8067351">)</span><span class="op" id="8067352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067356">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8067363">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067378">b</span><span class="op" id="8067379">.</span><span class="ident" id="8067380">Reset</span><span class="op" id="8067385">(</span><span class="op" id="8067386">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8067390">var</span>&nbsp;<span class="ident" id="8067394">data</span>&nbsp;<span class="builtintype" id="8067399">uint16</span>&nbsp;<span class="op" id="8067406">=</span>&nbsp;<span class="num" id="8067408">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067413">instr</span>&nbsp;<span class="op" id="8067419">:=</span>&nbsp;<span class="op" id="8067422">&amp;</span><span class="ident" id="8067423">encInstr</span><span class="op" id="8067431">{</span><span class="ident" id="8067432">encUint</span><span class="op" id="8067439">,</span>&nbsp;<span class="num" id="8067441">6</span><span class="op" id="8067442">,</span>&nbsp;<span class="ident" id="8067444">nil</span><span class="op" id="8067447">,</span>&nbsp;<span class="num" id="8067449">0</span><span class="op" id="8067450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067454">state</span>&nbsp;<span class="op" id="8067460">:=</span>&nbsp;<span class="ident" id="8067463">newEncoderState</span><span class="op" id="8067478">(</span><span class="ident" id="8067479">b</span><span class="op" id="8067480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067484">instr</span><span class="op" id="8067489">.</span><span class="ident" id="8067490">op</span><span class="op" id="8067492">(</span><span class="ident" id="8067493">instr</span><span class="op" id="8067498">,</span>&nbsp;<span class="ident" id="8067500">state</span><span class="op" id="8067505">,</span>&nbsp;<span class="ident" id="8067507">reflect</span><span class="op" id="8067514">.</span><span class="ident" id="8067515">ValueOf</span><span class="op" id="8067522">(</span><span class="ident" id="8067523">data</span><span class="op" id="8067527">)</span><span class="op" id="8067528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8067532">if</span>&nbsp;<span class="op" id="8067535">!</span><span class="ident" id="8067536">bytes</span><span class="op" id="8067541">.</span><span class="ident" id="8067542">Equal</span><span class="op" id="8067547">(</span><span class="ident" id="8067548">unsignedResult</span><span class="op" id="8067562">,</span>&nbsp;<span class="ident" id="8067564">b</span><span class="op" id="8067565">.</span><span class="ident" id="8067566">Bytes</span><span class="op" id="8067571">(</span><span class="op" id="8067572">)</span><span class="op" id="8067573">)</span>&nbsp;<span class="op" id="8067575">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067580">t</span><span class="op" id="8067581">.</span><span class="ident" id="8067582">Errorf</span><span class="op" id="8067588">(</span><span class="string" id="8067589">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8067636">,</span>&nbsp;<span class="ident" id="8067638">unsignedResult</span><span class="op" id="8067652">,</span>&nbsp;<span class="ident" id="8067654">b</span><span class="op" id="8067655">.</span><span class="ident" id="8067656">Bytes</span><span class="op" id="8067661">(</span><span class="op" id="8067662">)</span><span class="op" id="8067663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8067674">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067688">b</span><span class="op" id="8067689">.</span><span class="ident" id="8067690">Reset</span><span class="op" id="8067695">(</span><span class="op" id="8067696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8067700">var</span>&nbsp;<span class="ident" id="8067704">data</span>&nbsp;<span class="builtintype" id="8067709">int32</span>&nbsp;<span class="op" id="8067715">=</span>&nbsp;<span class="num" id="8067717">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067722">instr</span>&nbsp;<span class="op" id="8067728">:=</span>&nbsp;<span class="op" id="8067731">&amp;</span><span class="ident" id="8067732">encInstr</span><span class="op" id="8067740">{</span><span class="ident" id="8067741">encInt</span><span class="op" id="8067747">,</span>&nbsp;<span class="num" id="8067749">6</span><span class="op" id="8067750">,</span>&nbsp;<span class="ident" id="8067752">nil</span><span class="op" id="8067755">,</span>&nbsp;<span class="num" id="8067757">0</span><span class="op" id="8067758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067762">state</span>&nbsp;<span class="op" id="8067768">:=</span>&nbsp;<span class="ident" id="8067771">newEncoderState</span><span class="op" id="8067786">(</span><span class="ident" id="8067787">b</span><span class="op" id="8067788">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067792">instr</span><span class="op" id="8067797">.</span><span class="ident" id="8067798">op</span><span class="op" id="8067800">(</span><span class="ident" id="8067801">instr</span><span class="op" id="8067806">,</span>&nbsp;<span class="ident" id="8067808">state</span><span class="op" id="8067813">,</span>&nbsp;<span class="ident" id="8067815">reflect</span><span class="op" id="8067822">.</span><span class="ident" id="8067823">ValueOf</span><span class="op" id="8067830">(</span><span class="ident" id="8067831">data</span><span class="op" id="8067835">)</span><span class="op" id="8067836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8067840">if</span>&nbsp;<span class="op" id="8067843">!</span><span class="ident" id="8067844">bytes</span><span class="op" id="8067849">.</span><span class="ident" id="8067850">Equal</span><span class="op" id="8067855">(</span><span class="ident" id="8067856">signedResult</span><span class="op" id="8067868">,</span>&nbsp;<span class="ident" id="8067870">b</span><span class="op" id="8067871">.</span><span class="ident" id="8067872">Bytes</span><span class="op" id="8067877">(</span><span class="op" id="8067878">)</span><span class="op" id="8067879">)</span>&nbsp;<span class="op" id="8067881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067886">t</span><span class="op" id="8067887">.</span><span class="ident" id="8067888">Errorf</span><span class="op" id="8067894">(</span><span class="string" id="8067895">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8067941">,</span>&nbsp;<span class="ident" id="8067943">signedResult</span><span class="op" id="8067955">,</span>&nbsp;<span class="ident" id="8067957">b</span><span class="op" id="8067958">.</span><span class="ident" id="8067959">Bytes</span><span class="op" id="8067964">(</span><span class="op" id="8067965">)</span><span class="op" id="8067966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067973">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8067977">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8067988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8067992">b</span><span class="op" id="8067993">.</span><span class="ident" id="8067994">Reset</span><span class="op" id="8067999">(</span><span class="op" id="8068000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8068004">var</span>&nbsp;<span class="ident" id="8068008">data</span>&nbsp;<span class="builtintype" id="8068013">uint32</span>&nbsp;<span class="op" id="8068020">=</span>&nbsp;<span class="num" id="8068022">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068027">instr</span>&nbsp;<span class="op" id="8068033">:=</span>&nbsp;<span class="op" id="8068036">&amp;</span><span class="ident" id="8068037">encInstr</span><span class="op" id="8068045">{</span><span class="ident" id="8068046">encUint</span><span class="op" id="8068053">,</span>&nbsp;<span class="num" id="8068055">6</span><span class="op" id="8068056">,</span>&nbsp;<span class="ident" id="8068058">nil</span><span class="op" id="8068061">,</span>&nbsp;<span class="num" id="8068063">0</span><span class="op" id="8068064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068068">state</span>&nbsp;<span class="op" id="8068074">:=</span>&nbsp;<span class="ident" id="8068077">newEncoderState</span><span class="op" id="8068092">(</span><span class="ident" id="8068093">b</span><span class="op" id="8068094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068098">instr</span><span class="op" id="8068103">.</span><span class="ident" id="8068104">op</span><span class="op" id="8068106">(</span><span class="ident" id="8068107">instr</span><span class="op" id="8068112">,</span>&nbsp;<span class="ident" id="8068114">state</span><span class="op" id="8068119">,</span>&nbsp;<span class="ident" id="8068121">reflect</span><span class="op" id="8068128">.</span><span class="ident" id="8068129">ValueOf</span><span class="op" id="8068136">(</span><span class="ident" id="8068137">data</span><span class="op" id="8068141">)</span><span class="op" id="8068142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8068146">if</span>&nbsp;<span class="op" id="8068149">!</span><span class="ident" id="8068150">bytes</span><span class="op" id="8068155">.</span><span class="ident" id="8068156">Equal</span><span class="op" id="8068161">(</span><span class="ident" id="8068162">unsignedResult</span><span class="op" id="8068176">,</span>&nbsp;<span class="ident" id="8068178">b</span><span class="op" id="8068179">.</span><span class="ident" id="8068180">Bytes</span><span class="op" id="8068185">(</span><span class="op" id="8068186">)</span><span class="op" id="8068187">)</span>&nbsp;<span class="op" id="8068189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068194">t</span><span class="op" id="8068195">.</span><span class="ident" id="8068196">Errorf</span><span class="op" id="8068202">(</span><span class="string" id="8068203">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8068250">,</span>&nbsp;<span class="ident" id="8068252">unsignedResult</span><span class="op" id="8068266">,</span>&nbsp;<span class="ident" id="8068268">b</span><span class="op" id="8068269">.</span><span class="ident" id="8068270">Bytes</span><span class="op" id="8068275">(</span><span class="op" id="8068276">)</span><span class="op" id="8068277">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8068288">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068298">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068302">b</span><span class="op" id="8068303">.</span><span class="ident" id="8068304">Reset</span><span class="op" id="8068309">(</span><span class="op" id="8068310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8068314">var</span>&nbsp;<span class="ident" id="8068318">data</span>&nbsp;<span class="ident" id="8068323">int64</span>&nbsp;<span class="op" id="8068329">=</span>&nbsp;<span class="num" id="8068331">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068336">instr</span>&nbsp;<span class="op" id="8068342">:=</span>&nbsp;<span class="op" id="8068345">&amp;</span><span class="ident" id="8068346">encInstr</span><span class="op" id="8068354">{</span><span class="ident" id="8068355">encInt</span><span class="op" id="8068361">,</span>&nbsp;<span class="num" id="8068363">6</span><span class="op" id="8068364">,</span>&nbsp;<span class="ident" id="8068366">nil</span><span class="op" id="8068369">,</span>&nbsp;<span class="num" id="8068371">0</span><span class="op" id="8068372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068376">state</span>&nbsp;<span class="op" id="8068382">:=</span>&nbsp;<span class="ident" id="8068385">newEncoderState</span><span class="op" id="8068400">(</span><span class="ident" id="8068401">b</span><span class="op" id="8068402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068406">instr</span><span class="op" id="8068411">.</span><span class="ident" id="8068412">op</span><span class="op" id="8068414">(</span><span class="ident" id="8068415">instr</span><span class="op" id="8068420">,</span>&nbsp;<span class="ident" id="8068422">state</span><span class="op" id="8068427">,</span>&nbsp;<span class="ident" id="8068429">reflect</span><span class="op" id="8068436">.</span><span class="ident" id="8068437">ValueOf</span><span class="op" id="8068444">(</span><span class="ident" id="8068445">data</span><span class="op" id="8068449">)</span><span class="op" id="8068450">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8068454">if</span>&nbsp;<span class="op" id="8068457">!</span><span class="ident" id="8068458">bytes</span><span class="op" id="8068463">.</span><span class="ident" id="8068464">Equal</span><span class="op" id="8068469">(</span><span class="ident" id="8068470">signedResult</span><span class="op" id="8068482">,</span>&nbsp;<span class="ident" id="8068484">b</span><span class="op" id="8068485">.</span><span class="ident" id="8068486">Bytes</span><span class="op" id="8068491">(</span><span class="op" id="8068492">)</span><span class="op" id="8068493">)</span>&nbsp;<span class="op" id="8068495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068500">t</span><span class="op" id="8068501">.</span><span class="ident" id="8068502">Errorf</span><span class="op" id="8068508">(</span><span class="string" id="8068509">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8068555">,</span>&nbsp;<span class="ident" id="8068557">signedResult</span><span class="op" id="8068569">,</span>&nbsp;<span class="ident" id="8068571">b</span><span class="op" id="8068572">.</span><span class="ident" id="8068573">Bytes</span><span class="op" id="8068578">(</span><span class="op" id="8068579">)</span><span class="op" id="8068580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8068591">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068606">b</span><span class="op" id="8068607">.</span><span class="ident" id="8068608">Reset</span><span class="op" id="8068613">(</span><span class="op" id="8068614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8068618">var</span>&nbsp;<span class="ident" id="8068622">data</span>&nbsp;<span class="ident" id="8068627">uint64</span>&nbsp;<span class="op" id="8068634">=</span>&nbsp;<span class="num" id="8068636">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068641">instr</span>&nbsp;<span class="op" id="8068647">:=</span>&nbsp;<span class="op" id="8068650">&amp;</span><span class="ident" id="8068651">encInstr</span><span class="op" id="8068659">{</span><span class="ident" id="8068660">encUint</span><span class="op" id="8068667">,</span>&nbsp;<span class="num" id="8068669">6</span><span class="op" id="8068670">,</span>&nbsp;<span class="ident" id="8068672">nil</span><span class="op" id="8068675">,</span>&nbsp;<span class="num" id="8068677">0</span><span class="op" id="8068678">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068682">state</span>&nbsp;<span class="op" id="8068688">:=</span>&nbsp;<span class="ident" id="8068691">newEncoderState</span><span class="op" id="8068706">(</span><span class="ident" id="8068707">b</span><span class="op" id="8068708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068712">instr</span><span class="op" id="8068717">.</span><span class="ident" id="8068718">op</span><span class="op" id="8068720">(</span><span class="ident" id="8068721">instr</span><span class="op" id="8068726">,</span>&nbsp;<span class="ident" id="8068728">state</span><span class="op" id="8068733">,</span>&nbsp;<span class="ident" id="8068735">reflect</span><span class="op" id="8068742">.</span><span class="ident" id="8068743">ValueOf</span><span class="op" id="8068750">(</span><span class="ident" id="8068751">data</span><span class="op" id="8068755">)</span><span class="op" id="8068756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8068760">if</span>&nbsp;<span class="op" id="8068763">!</span><span class="ident" id="8068764">bytes</span><span class="op" id="8068769">.</span><span class="ident" id="8068770">Equal</span><span class="op" id="8068775">(</span><span class="ident" id="8068776">unsignedResult</span><span class="op" id="8068790">,</span>&nbsp;<span class="ident" id="8068792">b</span><span class="op" id="8068793">.</span><span class="ident" id="8068794">Bytes</span><span class="op" id="8068799">(</span><span class="op" id="8068800">)</span><span class="op" id="8068801">)</span>&nbsp;<span class="op" id="8068803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068808">t</span><span class="op" id="8068809">.</span><span class="ident" id="8068810">Errorf</span><span class="op" id="8068816">(</span><span class="string" id="8068817">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8068864">,</span>&nbsp;<span class="ident" id="8068866">unsignedResult</span><span class="op" id="8068880">,</span>&nbsp;<span class="ident" id="8068882">b</span><span class="op" id="8068883">.</span><span class="ident" id="8068884">Bytes</span><span class="op" id="8068889">(</span><span class="op" id="8068890">)</span><span class="op" id="8068891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068895">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8068902">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8068914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068918">b</span><span class="op" id="8068919">.</span><span class="ident" id="8068920">Reset</span><span class="op" id="8068925">(</span><span class="op" id="8068926">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8068930">var</span>&nbsp;<span class="ident" id="8068934">data</span>&nbsp;<span class="builtintype" id="8068939">float32</span>&nbsp;<span class="op" id="8068947">=</span>&nbsp;<span class="num" id="8068949">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068954">instr</span>&nbsp;<span class="op" id="8068960">:=</span>&nbsp;<span class="op" id="8068963">&amp;</span><span class="ident" id="8068964">encInstr</span><span class="op" id="8068972">{</span><span class="ident" id="8068973">encFloat</span><span class="op" id="8068981">,</span>&nbsp;<span class="num" id="8068983">6</span><span class="op" id="8068984">,</span>&nbsp;<span class="ident" id="8068986">nil</span><span class="op" id="8068989">,</span>&nbsp;<span class="num" id="8068991">0</span><span class="op" id="8068992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8068996">state</span>&nbsp;<span class="op" id="8069002">:=</span>&nbsp;<span class="ident" id="8069005">newEncoderState</span><span class="op" id="8069020">(</span><span class="ident" id="8069021">b</span><span class="op" id="8069022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069026">instr</span><span class="op" id="8069031">.</span><span class="ident" id="8069032">op</span><span class="op" id="8069034">(</span><span class="ident" id="8069035">instr</span><span class="op" id="8069040">,</span>&nbsp;<span class="ident" id="8069042">state</span><span class="op" id="8069047">,</span>&nbsp;<span class="ident" id="8069049">reflect</span><span class="op" id="8069056">.</span><span class="ident" id="8069057">ValueOf</span><span class="op" id="8069064">(</span><span class="ident" id="8069065">data</span><span class="op" id="8069069">)</span><span class="op" id="8069070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8069074">if</span>&nbsp;<span class="op" id="8069077">!</span><span class="ident" id="8069078">bytes</span><span class="op" id="8069083">.</span><span class="ident" id="8069084">Equal</span><span class="op" id="8069089">(</span><span class="ident" id="8069090">floatResult</span><span class="op" id="8069101">,</span>&nbsp;<span class="ident" id="8069103">b</span><span class="op" id="8069104">.</span><span class="ident" id="8069105">Bytes</span><span class="op" id="8069110">(</span><span class="op" id="8069111">)</span><span class="op" id="8069112">)</span>&nbsp;<span class="op" id="8069114">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069119">t</span><span class="op" id="8069120">.</span><span class="ident" id="8069121">Errorf</span><span class="op" id="8069127">(</span><span class="string" id="8069128">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8069176">,</span>&nbsp;<span class="ident" id="8069178">floatResult</span><span class="op" id="8069189">,</span>&nbsp;<span class="ident" id="8069191">b</span><span class="op" id="8069192">.</span><span class="ident" id="8069193">Bytes</span><span class="op" id="8069198">(</span><span class="op" id="8069199">)</span><span class="op" id="8069200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8069211">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069227">b</span><span class="op" id="8069228">.</span><span class="ident" id="8069229">Reset</span><span class="op" id="8069234">(</span><span class="op" id="8069235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8069239">var</span>&nbsp;<span class="ident" id="8069243">data</span>&nbsp;<span class="builtintype" id="8069248">float64</span>&nbsp;<span class="op" id="8069256">=</span>&nbsp;<span class="num" id="8069258">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069263">instr</span>&nbsp;<span class="op" id="8069269">:=</span>&nbsp;<span class="op" id="8069272">&amp;</span><span class="ident" id="8069273">encInstr</span><span class="op" id="8069281">{</span><span class="ident" id="8069282">encFloat</span><span class="op" id="8069290">,</span>&nbsp;<span class="num" id="8069292">6</span><span class="op" id="8069293">,</span>&nbsp;<span class="ident" id="8069295">nil</span><span class="op" id="8069298">,</span>&nbsp;<span class="num" id="8069300">0</span><span class="op" id="8069301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069305">state</span>&nbsp;<span class="op" id="8069311">:=</span>&nbsp;<span class="ident" id="8069314">newEncoderState</span><span class="op" id="8069329">(</span><span class="ident" id="8069330">b</span><span class="op" id="8069331">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069335">instr</span><span class="op" id="8069340">.</span><span class="ident" id="8069341">op</span><span class="op" id="8069343">(</span><span class="ident" id="8069344">instr</span><span class="op" id="8069349">,</span>&nbsp;<span class="ident" id="8069351">state</span><span class="op" id="8069356">,</span>&nbsp;<span class="ident" id="8069358">reflect</span><span class="op" id="8069365">.</span><span class="ident" id="8069366">ValueOf</span><span class="op" id="8069373">(</span><span class="ident" id="8069374">data</span><span class="op" id="8069378">)</span><span class="op" id="8069379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8069383">if</span>&nbsp;<span class="op" id="8069386">!</span><span class="ident" id="8069387">bytes</span><span class="op" id="8069392">.</span><span class="ident" id="8069393">Equal</span><span class="op" id="8069398">(</span><span class="ident" id="8069399">floatResult</span><span class="op" id="8069410">,</span>&nbsp;<span class="ident" id="8069412">b</span><span class="op" id="8069413">.</span><span class="ident" id="8069414">Bytes</span><span class="op" id="8069419">(</span><span class="op" id="8069420">)</span><span class="op" id="8069421">)</span>&nbsp;<span class="op" id="8069423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069428">t</span><span class="op" id="8069429">.</span><span class="ident" id="8069430">Errorf</span><span class="op" id="8069436">(</span><span class="string" id="8069437">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8069485">,</span>&nbsp;<span class="ident" id="8069487">floatResult</span><span class="op" id="8069498">,</span>&nbsp;<span class="ident" id="8069500">b</span><span class="op" id="8069501">.</span><span class="ident" id="8069502">Bytes</span><span class="op" id="8069507">(</span><span class="op" id="8069508">)</span><span class="op" id="8069509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069516">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8069520">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069545">b</span><span class="op" id="8069546">.</span><span class="ident" id="8069547">Reset</span><span class="op" id="8069552">(</span><span class="op" id="8069553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069557">data</span>&nbsp;<span class="op" id="8069562">:=</span>&nbsp;<span class="op" id="8069565">[</span><span class="op" id="8069566">]</span><span class="builtintype" id="8069567">byte</span><span class="op" id="8069571">(</span><span class="string" id="8069572">&#34;hello&#34;</span><span class="op" id="8069579">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069583">instr</span>&nbsp;<span class="op" id="8069589">:=</span>&nbsp;<span class="op" id="8069592">&amp;</span><span class="ident" id="8069593">encInstr</span><span class="op" id="8069601">{</span><span class="ident" id="8069602">encUint8Array</span><span class="op" id="8069615">,</span>&nbsp;<span class="num" id="8069617">6</span><span class="op" id="8069618">,</span>&nbsp;<span class="ident" id="8069620">nil</span><span class="op" id="8069623">,</span>&nbsp;<span class="num" id="8069625">0</span><span class="op" id="8069626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069630">state</span>&nbsp;<span class="op" id="8069636">:=</span>&nbsp;<span class="ident" id="8069639">newEncoderState</span><span class="op" id="8069654">(</span><span class="ident" id="8069655">b</span><span class="op" id="8069656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069660">instr</span><span class="op" id="8069665">.</span><span class="ident" id="8069666">op</span><span class="op" id="8069668">(</span><span class="ident" id="8069669">instr</span><span class="op" id="8069674">,</span>&nbsp;<span class="ident" id="8069676">state</span><span class="op" id="8069681">,</span>&nbsp;<span class="ident" id="8069683">reflect</span><span class="op" id="8069690">.</span><span class="ident" id="8069691">ValueOf</span><span class="op" id="8069698">(</span><span class="ident" id="8069699">data</span><span class="op" id="8069703">)</span><span class="op" id="8069704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8069708">if</span>&nbsp;<span class="op" id="8069711">!</span><span class="ident" id="8069712">bytes</span><span class="op" id="8069717">.</span><span class="ident" id="8069718">Equal</span><span class="op" id="8069723">(</span><span class="ident" id="8069724">bytesResult</span><span class="op" id="8069735">,</span>&nbsp;<span class="ident" id="8069737">b</span><span class="op" id="8069738">.</span><span class="ident" id="8069739">Bytes</span><span class="op" id="8069744">(</span><span class="op" id="8069745">)</span><span class="op" id="8069746">)</span>&nbsp;<span class="op" id="8069748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069753">t</span><span class="op" id="8069754">.</span><span class="ident" id="8069755">Errorf</span><span class="op" id="8069761">(</span><span class="string" id="8069762">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8069808">,</span>&nbsp;<span class="ident" id="8069810">bytesResult</span><span class="op" id="8069821">,</span>&nbsp;<span class="ident" id="8069823">b</span><span class="op" id="8069824">.</span><span class="ident" id="8069825">Bytes</span><span class="op" id="8069830">(</span><span class="op" id="8069831">)</span><span class="op" id="8069832">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8069843">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8069854">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069858">b</span><span class="op" id="8069859">.</span><span class="ident" id="8069860">Reset</span><span class="op" id="8069865">(</span><span class="op" id="8069866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8069870">var</span>&nbsp;<span class="ident" id="8069874">data</span>&nbsp;<span class="builtintype" id="8069879">string</span>&nbsp;<span class="op" id="8069886">=</span>&nbsp;<span class="string" id="8069888">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069898">instr</span>&nbsp;<span class="op" id="8069904">:=</span>&nbsp;<span class="op" id="8069907">&amp;</span><span class="ident" id="8069908">encInstr</span><span class="op" id="8069916">{</span><span class="ident" id="8069917">encString</span><span class="op" id="8069926">,</span>&nbsp;<span class="num" id="8069928">6</span><span class="op" id="8069929">,</span>&nbsp;<span class="ident" id="8069931">nil</span><span class="op" id="8069934">,</span>&nbsp;<span class="num" id="8069936">0</span><span class="op" id="8069937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069941">state</span>&nbsp;<span class="op" id="8069947">:=</span>&nbsp;<span class="ident" id="8069950">newEncoderState</span><span class="op" id="8069965">(</span><span class="ident" id="8069966">b</span><span class="op" id="8069967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8069971">instr</span><span class="op" id="8069976">.</span><span class="ident" id="8069977">op</span><span class="op" id="8069979">(</span><span class="ident" id="8069980">instr</span><span class="op" id="8069985">,</span>&nbsp;<span class="ident" id="8069987">state</span><span class="op" id="8069992">,</span>&nbsp;<span class="ident" id="8069994">reflect</span><span class="op" id="8070001">.</span><span class="ident" id="8070002">ValueOf</span><span class="op" id="8070009">(</span><span class="ident" id="8070010">data</span><span class="op" id="8070014">)</span><span class="op" id="8070015">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8070019">if</span>&nbsp;<span class="op" id="8070022">!</span><span class="ident" id="8070023">bytes</span><span class="op" id="8070028">.</span><span class="ident" id="8070029">Equal</span><span class="op" id="8070034">(</span><span class="ident" id="8070035">bytesResult</span><span class="op" id="8070046">,</span>&nbsp;<span class="ident" id="8070048">b</span><span class="op" id="8070049">.</span><span class="ident" id="8070050">Bytes</span><span class="op" id="8070055">(</span><span class="op" id="8070056">)</span><span class="op" id="8070057">)</span>&nbsp;<span class="op" id="8070059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070064">t</span><span class="op" id="8070065">.</span><span class="ident" id="8070066">Errorf</span><span class="op" id="8070072">(</span><span class="string" id="8070073">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8070120">,</span>&nbsp;<span class="ident" id="8070122">bytesResult</span><span class="op" id="8070133">,</span>&nbsp;<span class="ident" id="8070135">b</span><span class="op" id="8070136">.</span><span class="ident" id="8070137">Bytes</span><span class="op" id="8070142">(</span><span class="op" id="8070143">)</span><span class="op" id="8070144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8070148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8070151">}</span><br>
<span class="lineno"></span><span class="op" id="8070153">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="8070156">func</span>&nbsp;<span class="ident" id="8070161">execDec</span><span class="op" id="8070168">(</span><span class="ident" id="8070169">typ</span>&nbsp;<span class="builtintype" id="8070173">string</span><span class="op" id="8070179">,</span>&nbsp;<span class="ident" id="8070181">instr</span>&nbsp;<span class="op" id="8070187">*</span><span class="ident" id="8070188">decInstr</span><span class="op" id="8070196">,</span>&nbsp;<span class="ident" id="8070198">state</span>&nbsp;<span class="op" id="8070204">*</span><span class="ident" id="8070205">decoderState</span><span class="op" id="8070217">,</span>&nbsp;<span class="ident" id="8070219">t</span>&nbsp;<span class="op" id="8070221">*</span><span class="ident" id="8070222">testing</span><span class="op" id="8070229">.</span><span class="ident" id="8070230">T</span><span class="op" id="8070231">,</span>&nbsp;<span class="ident" id="8070233">value</span>&nbsp;<span class="ident" id="8070239">reflect</span><span class="op" id="8070246">.</span><span class="ident" id="8070247">Value</span><span class="op" id="8070252">)</span>&nbsp;<span class="op" id="8070254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8070257">defer</span>&nbsp;<span class="ident" id="8070263">testError</span><span class="op" id="8070272">(</span><span class="ident" id="8070273">t</span><span class="op" id="8070274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070277">v</span>&nbsp;<span class="op" id="8070279">:=</span>&nbsp;<span class="builtintype" id="8070282">int</span><span class="op" id="8070285">(</span><span class="ident" id="8070286">state</span><span class="op" id="8070291">.</span><span class="ident" id="8070292">decodeUint</span><span class="op" id="8070302">(</span><span class="op" id="8070303">)</span><span class="op" id="8070304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8070307">if</span>&nbsp;<span class="ident" id="8070310">v</span><span class="op" id="8070311">+</span><span class="ident" id="8070312">state</span><span class="op" id="8070317">.</span><span class="ident" id="8070318">fieldnum</span>&nbsp;<span class="op" id="8070327">!=</span>&nbsp;<span class="num" id="8070330">6</span>&nbsp;<span class="op" id="8070332">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070336">t</span><span class="op" id="8070337">.</span><span class="ident" id="8070338">Fatalf</span><span class="op" id="8070344">(</span><span class="string" id="8070345">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8070379">,</span>&nbsp;<span class="num" id="8070381">6</span><span class="op" id="8070382">,</span>&nbsp;<span class="ident" id="8070384">v</span><span class="op" id="8070385">+</span><span class="ident" id="8070386">state</span><span class="op" id="8070391">.</span><span class="ident" id="8070392">fieldnum</span><span class="op" id="8070400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8070403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070406">instr</span><span class="op" id="8070411">.</span><span class="ident" id="8070412">op</span><span class="op" id="8070414">(</span><span class="ident" id="8070415">instr</span><span class="op" id="8070420">,</span>&nbsp;<span class="ident" id="8070422">state</span><span class="op" id="8070427">,</span>&nbsp;<span class="ident" id="8070429">value</span><span class="op" id="8070434">.</span><span class="ident" id="8070435">Elem</span><span class="op" id="8070439">(</span><span class="op" id="8070440">)</span><span class="op" id="8070441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070444">state</span><span class="op" id="8070449">.</span><span class="ident" id="8070450">fieldnum</span>&nbsp;<span class="op" id="8070459">=</span>&nbsp;<span class="num" id="8070461">6</span><br>
<span class="lineno"></span><span class="op" id="8070463">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="8070466">func</span>&nbsp;<span class="ident" id="8070471">newDecodeStateFromData</span><span class="op" id="8070493">(</span><span class="ident" id="8070494">data</span>&nbsp;<span class="op" id="8070499">[</span><span class="op" id="8070500">]</span><span class="builtintype" id="8070501">byte</span><span class="op" id="8070505">)</span>&nbsp;<span class="op" id="8070507">*</span><span class="ident" id="8070508">decoderState</span>&nbsp;<span class="op" id="8070521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070524">b</span>&nbsp;<span class="op" id="8070526">:=</span>&nbsp;<span class="ident" id="8070529">newDecBuffer</span><span class="op" id="8070541">(</span><span class="ident" id="8070542">data</span><span class="op" id="8070546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070549">state</span>&nbsp;<span class="op" id="8070555">:=</span>&nbsp;<span class="ident" id="8070558">newDecodeState</span><span class="op" id="8070572">(</span><span class="ident" id="8070573">b</span><span class="op" id="8070574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070577">state</span><span class="op" id="8070582">.</span><span class="ident" id="8070583">fieldnum</span>&nbsp;<span class="op" id="8070592">=</span>&nbsp;<span class="op" id="8070594">-</span><span class="num" id="8070595">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8070598">return</span>&nbsp;<span class="ident" id="8070605">state</span><br>
<span class="lineno"></span><span class="op" id="8070611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8070614">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="8070658">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="8070741">func</span>&nbsp;<span class="ident" id="8070746">TestScalarDecInstructions</span><span class="op" id="8070771">(</span><span class="ident" id="8070772">t</span>&nbsp;<span class="op" id="8070774">*</span><span class="ident" id="8070775">testing</span><span class="op" id="8070782">.</span><span class="ident" id="8070783">T</span><span class="op" id="8070784">)</span>&nbsp;<span class="op" id="8070786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070789">ovfl</span>&nbsp;<span class="op" id="8070794">:=</span>&nbsp;<span class="ident" id="8070797">errors</span><span class="op" id="8070803">.</span><span class="ident" id="8070804">New</span><span class="op" id="8070807">(</span><span class="string" id="8070808">&#34;overflow&#34;</span><span class="op" id="8070818">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8070822">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8070831">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8070835">var</span>&nbsp;<span class="ident" id="8070839">data</span>&nbsp;<span class="builtintype" id="8070844">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070851">instr</span>&nbsp;<span class="op" id="8070857">:=</span>&nbsp;<span class="op" id="8070860">&amp;</span><span class="ident" id="8070861">decInstr</span><span class="op" id="8070869">{</span><span class="ident" id="8070870">decBool</span><span class="op" id="8070877">,</span>&nbsp;<span class="num" id="8070879">6</span><span class="op" id="8070880">,</span>&nbsp;<span class="ident" id="8070882">nil</span><span class="op" id="8070885">,</span>&nbsp;<span class="ident" id="8070887">ovfl</span><span class="op" id="8070891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070895">state</span>&nbsp;<span class="op" id="8070901">:=</span>&nbsp;<span class="ident" id="8070904">newDecodeStateFromData</span><span class="op" id="8070926">(</span><span class="ident" id="8070927">boolResult</span><span class="op" id="8070937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8070941">execDec</span><span class="op" id="8070948">(</span><span class="string" id="8070949">&#34;bool&#34;</span><span class="op" id="8070955">,</span>&nbsp;<span class="ident" id="8070957">instr</span><span class="op" id="8070962">,</span>&nbsp;<span class="ident" id="8070964">state</span><span class="op" id="8070969">,</span>&nbsp;<span class="ident" id="8070971">t</span><span class="op" id="8070972">,</span>&nbsp;<span class="ident" id="8070974">reflect</span><span class="op" id="8070981">.</span><span class="ident" id="8070982">ValueOf</span><span class="op" id="8070989">(</span><span class="op" id="8070990">&amp;</span><span class="ident" id="8070991">data</span><span class="op" id="8070995">)</span><span class="op" id="8070996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071000">if</span>&nbsp;<span class="ident" id="8071003">data</span>&nbsp;<span class="op" id="8071008">!=</span>&nbsp;<span class="builtintype" id="8071011">true</span>&nbsp;<span class="op" id="8071016">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071021">t</span><span class="op" id="8071022">.</span><span class="ident" id="8071023">Errorf</span><span class="op" id="8071029">(</span><span class="string" id="8071030">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="8071052">,</span>&nbsp;<span class="ident" id="8071054">data</span><span class="op" id="8071058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8071068">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071076">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071080">var</span>&nbsp;<span class="ident" id="8071084">data</span>&nbsp;<span class="builtintype" id="8071089">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071095">instr</span>&nbsp;<span class="op" id="8071101">:=</span>&nbsp;<span class="op" id="8071104">&amp;</span><span class="ident" id="8071105">decInstr</span><span class="op" id="8071113">{</span><span class="ident" id="8071114">decOpTable</span><span class="op" id="8071124">[</span><span class="ident" id="8071125">reflect</span><span class="op" id="8071132">.</span><span class="ident" id="8071133">Int</span><span class="op" id="8071136">]</span><span class="op" id="8071137">,</span>&nbsp;<span class="num" id="8071139">6</span><span class="op" id="8071140">,</span>&nbsp;<span class="ident" id="8071142">nil</span><span class="op" id="8071145">,</span>&nbsp;<span class="ident" id="8071147">ovfl</span><span class="op" id="8071151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071155">state</span>&nbsp;<span class="op" id="8071161">:=</span>&nbsp;<span class="ident" id="8071164">newDecodeStateFromData</span><span class="op" id="8071186">(</span><span class="ident" id="8071187">signedResult</span><span class="op" id="8071199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071203">execDec</span><span class="op" id="8071210">(</span><span class="string" id="8071211">&#34;int&#34;</span><span class="op" id="8071216">,</span>&nbsp;<span class="ident" id="8071218">instr</span><span class="op" id="8071223">,</span>&nbsp;<span class="ident" id="8071225">state</span><span class="op" id="8071230">,</span>&nbsp;<span class="ident" id="8071232">t</span><span class="op" id="8071233">,</span>&nbsp;<span class="ident" id="8071235">reflect</span><span class="op" id="8071242">.</span><span class="ident" id="8071243">ValueOf</span><span class="op" id="8071250">(</span><span class="op" id="8071251">&amp;</span><span class="ident" id="8071252">data</span><span class="op" id="8071256">)</span><span class="op" id="8071257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071261">if</span>&nbsp;<span class="ident" id="8071264">data</span>&nbsp;<span class="op" id="8071269">!=</span>&nbsp;<span class="num" id="8071272">17</span>&nbsp;<span class="op" id="8071275">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071280">t</span><span class="op" id="8071281">.</span><span class="ident" id="8071282">Errorf</span><span class="op" id="8071288">(</span><span class="string" id="8071289">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8071308">,</span>&nbsp;<span class="ident" id="8071310">data</span><span class="op" id="8071314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8071325">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071338">var</span>&nbsp;<span class="ident" id="8071342">data</span>&nbsp;<span class="builtintype" id="8071347">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071354">instr</span>&nbsp;<span class="op" id="8071360">:=</span>&nbsp;<span class="op" id="8071363">&amp;</span><span class="ident" id="8071364">decInstr</span><span class="op" id="8071372">{</span><span class="ident" id="8071373">decOpTable</span><span class="op" id="8071383">[</span><span class="ident" id="8071384">reflect</span><span class="op" id="8071391">.</span><span class="ident" id="8071392">Uint</span><span class="op" id="8071396">]</span><span class="op" id="8071397">,</span>&nbsp;<span class="num" id="8071399">6</span><span class="op" id="8071400">,</span>&nbsp;<span class="ident" id="8071402">nil</span><span class="op" id="8071405">,</span>&nbsp;<span class="ident" id="8071407">ovfl</span><span class="op" id="8071411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071415">state</span>&nbsp;<span class="op" id="8071421">:=</span>&nbsp;<span class="ident" id="8071424">newDecodeStateFromData</span><span class="op" id="8071446">(</span><span class="ident" id="8071447">unsignedResult</span><span class="op" id="8071461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071465">execDec</span><span class="op" id="8071472">(</span><span class="string" id="8071473">&#34;uint&#34;</span><span class="op" id="8071479">,</span>&nbsp;<span class="ident" id="8071481">instr</span><span class="op" id="8071486">,</span>&nbsp;<span class="ident" id="8071488">state</span><span class="op" id="8071493">,</span>&nbsp;<span class="ident" id="8071495">t</span><span class="op" id="8071496">,</span>&nbsp;<span class="ident" id="8071498">reflect</span><span class="op" id="8071505">.</span><span class="ident" id="8071506">ValueOf</span><span class="op" id="8071513">(</span><span class="op" id="8071514">&amp;</span><span class="ident" id="8071515">data</span><span class="op" id="8071519">)</span><span class="op" id="8071520">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071524">if</span>&nbsp;<span class="ident" id="8071527">data</span>&nbsp;<span class="op" id="8071532">!=</span>&nbsp;<span class="num" id="8071535">17</span>&nbsp;<span class="op" id="8071538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071543">t</span><span class="op" id="8071544">.</span><span class="ident" id="8071545">Errorf</span><span class="op" id="8071551">(</span><span class="string" id="8071552">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8071572">,</span>&nbsp;<span class="ident" id="8071574">data</span><span class="op" id="8071578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8071589">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071602">var</span>&nbsp;<span class="ident" id="8071606">data</span>&nbsp;<span class="builtintype" id="8071611">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071618">instr</span>&nbsp;<span class="op" id="8071624">:=</span>&nbsp;<span class="op" id="8071627">&amp;</span><span class="ident" id="8071628">decInstr</span><span class="op" id="8071636">{</span><span class="ident" id="8071637">decInt8</span><span class="op" id="8071644">,</span>&nbsp;<span class="num" id="8071646">6</span><span class="op" id="8071647">,</span>&nbsp;<span class="ident" id="8071649">nil</span><span class="op" id="8071652">,</span>&nbsp;<span class="ident" id="8071654">ovfl</span><span class="op" id="8071658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071662">state</span>&nbsp;<span class="op" id="8071668">:=</span>&nbsp;<span class="ident" id="8071671">newDecodeStateFromData</span><span class="op" id="8071693">(</span><span class="ident" id="8071694">signedResult</span><span class="op" id="8071706">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071710">execDec</span><span class="op" id="8071717">(</span><span class="string" id="8071718">&#34;int8&#34;</span><span class="op" id="8071724">,</span>&nbsp;<span class="ident" id="8071726">instr</span><span class="op" id="8071731">,</span>&nbsp;<span class="ident" id="8071733">state</span><span class="op" id="8071738">,</span>&nbsp;<span class="ident" id="8071740">t</span><span class="op" id="8071741">,</span>&nbsp;<span class="ident" id="8071743">reflect</span><span class="op" id="8071750">.</span><span class="ident" id="8071751">ValueOf</span><span class="op" id="8071758">(</span><span class="op" id="8071759">&amp;</span><span class="ident" id="8071760">data</span><span class="op" id="8071764">)</span><span class="op" id="8071765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071769">if</span>&nbsp;<span class="ident" id="8071772">data</span>&nbsp;<span class="op" id="8071777">!=</span>&nbsp;<span class="num" id="8071780">17</span>&nbsp;<span class="op" id="8071783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071788">t</span><span class="op" id="8071789">.</span><span class="ident" id="8071790">Errorf</span><span class="op" id="8071796">(</span><span class="string" id="8071797">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8071817">,</span>&nbsp;<span class="ident" id="8071819">data</span><span class="op" id="8071823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071830">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8071834">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8071844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8071848">var</span>&nbsp;<span class="ident" id="8071852">data</span>&nbsp;<span class="builtintype" id="8071857">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071865">instr</span>&nbsp;<span class="op" id="8071871">:=</span>&nbsp;<span class="op" id="8071874">&amp;</span><span class="ident" id="8071875">decInstr</span><span class="op" id="8071883">{</span><span class="ident" id="8071884">decUint8</span><span class="op" id="8071892">,</span>&nbsp;<span class="num" id="8071894">6</span><span class="op" id="8071895">,</span>&nbsp;<span class="ident" id="8071897">nil</span><span class="op" id="8071900">,</span>&nbsp;<span class="ident" id="8071902">ovfl</span><span class="op" id="8071906">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071910">state</span>&nbsp;<span class="op" id="8071916">:=</span>&nbsp;<span class="ident" id="8071919">newDecodeStateFromData</span><span class="op" id="8071941">(</span><span class="ident" id="8071942">unsignedResult</span><span class="op" id="8071956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8071960">execDec</span><span class="op" id="8071967">(</span><span class="string" id="8071968">&#34;uint8&#34;</span><span class="op" id="8071975">,</span>&nbsp;<span class="ident" id="8071977">instr</span><span class="op" id="8071982">,</span>&nbsp;<span class="ident" id="8071984">state</span><span class="op" id="8071989">,</span>&nbsp;<span class="ident" id="8071991">t</span><span class="op" id="8071992">,</span>&nbsp;<span class="ident" id="8071994">reflect</span><span class="op" id="8072001">.</span><span class="ident" id="8072002">ValueOf</span><span class="op" id="8072009">(</span><span class="op" id="8072010">&amp;</span><span class="ident" id="8072011">data</span><span class="op" id="8072015">)</span><span class="op" id="8072016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072020">if</span>&nbsp;<span class="ident" id="8072023">data</span>&nbsp;<span class="op" id="8072028">!=</span>&nbsp;<span class="num" id="8072031">17</span>&nbsp;<span class="op" id="8072034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072039">t</span><span class="op" id="8072040">.</span><span class="ident" id="8072041">Errorf</span><span class="op" id="8072047">(</span><span class="string" id="8072048">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8072069">,</span>&nbsp;<span class="ident" id="8072071">data</span><span class="op" id="8072075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072079">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8072086">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072100">var</span>&nbsp;<span class="ident" id="8072104">data</span>&nbsp;<span class="builtintype" id="8072109">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072117">instr</span>&nbsp;<span class="op" id="8072123">:=</span>&nbsp;<span class="op" id="8072126">&amp;</span><span class="ident" id="8072127">decInstr</span><span class="op" id="8072135">{</span><span class="ident" id="8072136">decInt16</span><span class="op" id="8072144">,</span>&nbsp;<span class="num" id="8072146">6</span><span class="op" id="8072147">,</span>&nbsp;<span class="ident" id="8072149">nil</span><span class="op" id="8072152">,</span>&nbsp;<span class="ident" id="8072154">ovfl</span><span class="op" id="8072158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072162">state</span>&nbsp;<span class="op" id="8072168">:=</span>&nbsp;<span class="ident" id="8072171">newDecodeStateFromData</span><span class="op" id="8072193">(</span><span class="ident" id="8072194">signedResult</span><span class="op" id="8072206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072210">execDec</span><span class="op" id="8072217">(</span><span class="string" id="8072218">&#34;int16&#34;</span><span class="op" id="8072225">,</span>&nbsp;<span class="ident" id="8072227">instr</span><span class="op" id="8072232">,</span>&nbsp;<span class="ident" id="8072234">state</span><span class="op" id="8072239">,</span>&nbsp;<span class="ident" id="8072241">t</span><span class="op" id="8072242">,</span>&nbsp;<span class="ident" id="8072244">reflect</span><span class="op" id="8072251">.</span><span class="ident" id="8072252">ValueOf</span><span class="op" id="8072259">(</span><span class="op" id="8072260">&amp;</span><span class="ident" id="8072261">data</span><span class="op" id="8072265">)</span><span class="op" id="8072266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072270">if</span>&nbsp;<span class="ident" id="8072273">data</span>&nbsp;<span class="op" id="8072278">!=</span>&nbsp;<span class="num" id="8072281">17</span>&nbsp;<span class="op" id="8072284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072289">t</span><span class="op" id="8072290">.</span><span class="ident" id="8072291">Errorf</span><span class="op" id="8072297">(</span><span class="string" id="8072298">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8072319">,</span>&nbsp;<span class="ident" id="8072321">data</span><span class="op" id="8072325">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8072336">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072347">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072351">var</span>&nbsp;<span class="ident" id="8072355">data</span>&nbsp;<span class="builtintype" id="8072360">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072369">instr</span>&nbsp;<span class="op" id="8072375">:=</span>&nbsp;<span class="op" id="8072378">&amp;</span><span class="ident" id="8072379">decInstr</span><span class="op" id="8072387">{</span><span class="ident" id="8072388">decUint16</span><span class="op" id="8072397">,</span>&nbsp;<span class="num" id="8072399">6</span><span class="op" id="8072400">,</span>&nbsp;<span class="ident" id="8072402">nil</span><span class="op" id="8072405">,</span>&nbsp;<span class="ident" id="8072407">ovfl</span><span class="op" id="8072411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072415">state</span>&nbsp;<span class="op" id="8072421">:=</span>&nbsp;<span class="ident" id="8072424">newDecodeStateFromData</span><span class="op" id="8072446">(</span><span class="ident" id="8072447">unsignedResult</span><span class="op" id="8072461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072465">execDec</span><span class="op" id="8072472">(</span><span class="string" id="8072473">&#34;uint16&#34;</span><span class="op" id="8072481">,</span>&nbsp;<span class="ident" id="8072483">instr</span><span class="op" id="8072488">,</span>&nbsp;<span class="ident" id="8072490">state</span><span class="op" id="8072495">,</span>&nbsp;<span class="ident" id="8072497">t</span><span class="op" id="8072498">,</span>&nbsp;<span class="ident" id="8072500">reflect</span><span class="op" id="8072507">.</span><span class="ident" id="8072508">ValueOf</span><span class="op" id="8072515">(</span><span class="op" id="8072516">&amp;</span><span class="ident" id="8072517">data</span><span class="op" id="8072521">)</span><span class="op" id="8072522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072526">if</span>&nbsp;<span class="ident" id="8072529">data</span>&nbsp;<span class="op" id="8072534">!=</span>&nbsp;<span class="num" id="8072537">17</span>&nbsp;<span class="op" id="8072540">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072545">t</span><span class="op" id="8072546">.</span><span class="ident" id="8072547">Errorf</span><span class="op" id="8072553">(</span><span class="string" id="8072554">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8072576">,</span>&nbsp;<span class="ident" id="8072578">data</span><span class="op" id="8072582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8072593">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072607">var</span>&nbsp;<span class="ident" id="8072611">data</span>&nbsp;<span class="builtintype" id="8072616">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072624">instr</span>&nbsp;<span class="op" id="8072630">:=</span>&nbsp;<span class="op" id="8072633">&amp;</span><span class="ident" id="8072634">decInstr</span><span class="op" id="8072642">{</span><span class="ident" id="8072643">decInt32</span><span class="op" id="8072651">,</span>&nbsp;<span class="num" id="8072653">6</span><span class="op" id="8072654">,</span>&nbsp;<span class="ident" id="8072656">nil</span><span class="op" id="8072659">,</span>&nbsp;<span class="ident" id="8072661">ovfl</span><span class="op" id="8072665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072669">state</span>&nbsp;<span class="op" id="8072675">:=</span>&nbsp;<span class="ident" id="8072678">newDecodeStateFromData</span><span class="op" id="8072700">(</span><span class="ident" id="8072701">signedResult</span><span class="op" id="8072713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072717">execDec</span><span class="op" id="8072724">(</span><span class="string" id="8072725">&#34;int32&#34;</span><span class="op" id="8072732">,</span>&nbsp;<span class="ident" id="8072734">instr</span><span class="op" id="8072739">,</span>&nbsp;<span class="ident" id="8072741">state</span><span class="op" id="8072746">,</span>&nbsp;<span class="ident" id="8072748">t</span><span class="op" id="8072749">,</span>&nbsp;<span class="ident" id="8072751">reflect</span><span class="op" id="8072758">.</span><span class="ident" id="8072759">ValueOf</span><span class="op" id="8072766">(</span><span class="op" id="8072767">&amp;</span><span class="ident" id="8072768">data</span><span class="op" id="8072772">)</span><span class="op" id="8072773">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072777">if</span>&nbsp;<span class="ident" id="8072780">data</span>&nbsp;<span class="op" id="8072785">!=</span>&nbsp;<span class="num" id="8072788">17</span>&nbsp;<span class="op" id="8072791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072796">t</span><span class="op" id="8072797">.</span><span class="ident" id="8072798">Errorf</span><span class="op" id="8072804">(</span><span class="string" id="8072805">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8072826">,</span>&nbsp;<span class="ident" id="8072828">data</span><span class="op" id="8072832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8072843">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8072854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8072858">var</span>&nbsp;<span class="ident" id="8072862">data</span>&nbsp;<span class="builtintype" id="8072867">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072876">instr</span>&nbsp;<span class="op" id="8072882">:=</span>&nbsp;<span class="op" id="8072885">&amp;</span><span class="ident" id="8072886">decInstr</span><span class="op" id="8072894">{</span><span class="ident" id="8072895">decUint32</span><span class="op" id="8072904">,</span>&nbsp;<span class="num" id="8072906">6</span><span class="op" id="8072907">,</span>&nbsp;<span class="ident" id="8072909">nil</span><span class="op" id="8072912">,</span>&nbsp;<span class="ident" id="8072914">ovfl</span><span class="op" id="8072918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072922">state</span>&nbsp;<span class="op" id="8072928">:=</span>&nbsp;<span class="ident" id="8072931">newDecodeStateFromData</span><span class="op" id="8072953">(</span><span class="ident" id="8072954">unsignedResult</span><span class="op" id="8072968">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8072972">execDec</span><span class="op" id="8072979">(</span><span class="string" id="8072980">&#34;uint32&#34;</span><span class="op" id="8072988">,</span>&nbsp;<span class="ident" id="8072990">instr</span><span class="op" id="8072995">,</span>&nbsp;<span class="ident" id="8072997">state</span><span class="op" id="8073002">,</span>&nbsp;<span class="ident" id="8073004">t</span><span class="op" id="8073005">,</span>&nbsp;<span class="ident" id="8073007">reflect</span><span class="op" id="8073014">.</span><span class="ident" id="8073015">ValueOf</span><span class="op" id="8073022">(</span><span class="op" id="8073023">&amp;</span><span class="ident" id="8073024">data</span><span class="op" id="8073028">)</span><span class="op" id="8073029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073033">if</span>&nbsp;<span class="ident" id="8073036">data</span>&nbsp;<span class="op" id="8073041">!=</span>&nbsp;<span class="num" id="8073044">17</span>&nbsp;<span class="op" id="8073047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073052">t</span><span class="op" id="8073053">.</span><span class="ident" id="8073054">Errorf</span><span class="op" id="8073060">(</span><span class="string" id="8073061">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8073083">,</span>&nbsp;<span class="ident" id="8073085">data</span><span class="op" id="8073089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073096">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8073100">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073116">var</span>&nbsp;<span class="ident" id="8073120">data</span>&nbsp;<span class="builtintype" id="8073125">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073135">instr</span>&nbsp;<span class="op" id="8073141">:=</span>&nbsp;<span class="op" id="8073144">&amp;</span><span class="ident" id="8073145">decInstr</span><span class="op" id="8073153">{</span><span class="ident" id="8073154">decOpTable</span><span class="op" id="8073164">[</span><span class="ident" id="8073165">reflect</span><span class="op" id="8073172">.</span><span class="ident" id="8073173">Uintptr</span><span class="op" id="8073180">]</span><span class="op" id="8073181">,</span>&nbsp;<span class="num" id="8073183">6</span><span class="op" id="8073184">,</span>&nbsp;<span class="ident" id="8073186">nil</span><span class="op" id="8073189">,</span>&nbsp;<span class="ident" id="8073191">ovfl</span><span class="op" id="8073195">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073199">state</span>&nbsp;<span class="op" id="8073205">:=</span>&nbsp;<span class="ident" id="8073208">newDecodeStateFromData</span><span class="op" id="8073230">(</span><span class="ident" id="8073231">unsignedResult</span><span class="op" id="8073245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073249">execDec</span><span class="op" id="8073256">(</span><span class="string" id="8073257">&#34;uintptr&#34;</span><span class="op" id="8073266">,</span>&nbsp;<span class="ident" id="8073268">instr</span><span class="op" id="8073273">,</span>&nbsp;<span class="ident" id="8073275">state</span><span class="op" id="8073280">,</span>&nbsp;<span class="ident" id="8073282">t</span><span class="op" id="8073283">,</span>&nbsp;<span class="ident" id="8073285">reflect</span><span class="op" id="8073292">.</span><span class="ident" id="8073293">ValueOf</span><span class="op" id="8073300">(</span><span class="op" id="8073301">&amp;</span><span class="ident" id="8073302">data</span><span class="op" id="8073306">)</span><span class="op" id="8073307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073311">if</span>&nbsp;<span class="ident" id="8073314">data</span>&nbsp;<span class="op" id="8073319">!=</span>&nbsp;<span class="num" id="8073322">17</span>&nbsp;<span class="op" id="8073325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073330">t</span><span class="op" id="8073331">.</span><span class="ident" id="8073332">Errorf</span><span class="op" id="8073338">(</span><span class="string" id="8073339">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8073362">,</span>&nbsp;<span class="ident" id="8073364">data</span><span class="op" id="8073368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073372">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8073379">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073393">var</span>&nbsp;<span class="ident" id="8073397">data</span>&nbsp;<span class="ident" id="8073402">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073410">instr</span>&nbsp;<span class="op" id="8073416">:=</span>&nbsp;<span class="op" id="8073419">&amp;</span><span class="ident" id="8073420">decInstr</span><span class="op" id="8073428">{</span><span class="ident" id="8073429">decInt64</span><span class="op" id="8073437">,</span>&nbsp;<span class="num" id="8073439">6</span><span class="op" id="8073440">,</span>&nbsp;<span class="ident" id="8073442">nil</span><span class="op" id="8073445">,</span>&nbsp;<span class="ident" id="8073447">ovfl</span><span class="op" id="8073451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073455">state</span>&nbsp;<span class="op" id="8073461">:=</span>&nbsp;<span class="ident" id="8073464">newDecodeStateFromData</span><span class="op" id="8073486">(</span><span class="ident" id="8073487">signedResult</span><span class="op" id="8073499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073503">execDec</span><span class="op" id="8073510">(</span><span class="string" id="8073511">&#34;int64&#34;</span><span class="op" id="8073518">,</span>&nbsp;<span class="ident" id="8073520">instr</span><span class="op" id="8073525">,</span>&nbsp;<span class="ident" id="8073527">state</span><span class="op" id="8073532">,</span>&nbsp;<span class="ident" id="8073534">t</span><span class="op" id="8073535">,</span>&nbsp;<span class="ident" id="8073537">reflect</span><span class="op" id="8073544">.</span><span class="ident" id="8073545">ValueOf</span><span class="op" id="8073552">(</span><span class="op" id="8073553">&amp;</span><span class="ident" id="8073554">data</span><span class="op" id="8073558">)</span><span class="op" id="8073559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073563">if</span>&nbsp;<span class="ident" id="8073566">data</span>&nbsp;<span class="op" id="8073571">!=</span>&nbsp;<span class="num" id="8073574">17</span>&nbsp;<span class="op" id="8073577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073582">t</span><span class="op" id="8073583">.</span><span class="ident" id="8073584">Errorf</span><span class="op" id="8073590">(</span><span class="string" id="8073591">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8073612">,</span>&nbsp;<span class="ident" id="8073614">data</span><span class="op" id="8073618">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8073629">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073640">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073644">var</span>&nbsp;<span class="ident" id="8073648">data</span>&nbsp;<span class="ident" id="8073653">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073662">instr</span>&nbsp;<span class="op" id="8073668">:=</span>&nbsp;<span class="op" id="8073671">&amp;</span><span class="ident" id="8073672">decInstr</span><span class="op" id="8073680">{</span><span class="ident" id="8073681">decUint64</span><span class="op" id="8073690">,</span>&nbsp;<span class="num" id="8073692">6</span><span class="op" id="8073693">,</span>&nbsp;<span class="ident" id="8073695">nil</span><span class="op" id="8073698">,</span>&nbsp;<span class="ident" id="8073700">ovfl</span><span class="op" id="8073704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073708">state</span>&nbsp;<span class="op" id="8073714">:=</span>&nbsp;<span class="ident" id="8073717">newDecodeStateFromData</span><span class="op" id="8073739">(</span><span class="ident" id="8073740">unsignedResult</span><span class="op" id="8073754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073758">execDec</span><span class="op" id="8073765">(</span><span class="string" id="8073766">&#34;uint64&#34;</span><span class="op" id="8073774">,</span>&nbsp;<span class="ident" id="8073776">instr</span><span class="op" id="8073781">,</span>&nbsp;<span class="ident" id="8073783">state</span><span class="op" id="8073788">,</span>&nbsp;<span class="ident" id="8073790">t</span><span class="op" id="8073791">,</span>&nbsp;<span class="ident" id="8073793">reflect</span><span class="op" id="8073800">.</span><span class="ident" id="8073801">ValueOf</span><span class="op" id="8073808">(</span><span class="op" id="8073809">&amp;</span><span class="ident" id="8073810">data</span><span class="op" id="8073814">)</span><span class="op" id="8073815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073819">if</span>&nbsp;<span class="ident" id="8073822">data</span>&nbsp;<span class="op" id="8073827">!=</span>&nbsp;<span class="num" id="8073830">17</span>&nbsp;<span class="op" id="8073833">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073838">t</span><span class="op" id="8073839">.</span><span class="ident" id="8073840">Errorf</span><span class="op" id="8073846">(</span><span class="string" id="8073847">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8073869">,</span>&nbsp;<span class="ident" id="8073871">data</span><span class="op" id="8073875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8073886">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8073898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8073902">var</span>&nbsp;<span class="ident" id="8073906">data</span>&nbsp;<span class="builtintype" id="8073911">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073921">instr</span>&nbsp;<span class="op" id="8073927">:=</span>&nbsp;<span class="op" id="8073930">&amp;</span><span class="ident" id="8073931">decInstr</span><span class="op" id="8073939">{</span><span class="ident" id="8073940">decFloat32</span><span class="op" id="8073950">,</span>&nbsp;<span class="num" id="8073952">6</span><span class="op" id="8073953">,</span>&nbsp;<span class="ident" id="8073955">nil</span><span class="op" id="8073958">,</span>&nbsp;<span class="ident" id="8073960">ovfl</span><span class="op" id="8073964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8073968">state</span>&nbsp;<span class="op" id="8073974">:=</span>&nbsp;<span class="ident" id="8073977">newDecodeStateFromData</span><span class="op" id="8073999">(</span><span class="ident" id="8074000">floatResult</span><span class="op" id="8074011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074015">execDec</span><span class="op" id="8074022">(</span><span class="string" id="8074023">&#34;float32&#34;</span><span class="op" id="8074032">,</span>&nbsp;<span class="ident" id="8074034">instr</span><span class="op" id="8074039">,</span>&nbsp;<span class="ident" id="8074041">state</span><span class="op" id="8074046">,</span>&nbsp;<span class="ident" id="8074048">t</span><span class="op" id="8074049">,</span>&nbsp;<span class="ident" id="8074051">reflect</span><span class="op" id="8074058">.</span><span class="ident" id="8074059">ValueOf</span><span class="op" id="8074066">(</span><span class="op" id="8074067">&amp;</span><span class="ident" id="8074068">data</span><span class="op" id="8074072">)</span><span class="op" id="8074073">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8074077">if</span>&nbsp;<span class="ident" id="8074080">data</span>&nbsp;<span class="op" id="8074085">!=</span>&nbsp;<span class="num" id="8074088">17</span>&nbsp;<span class="op" id="8074091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074096">t</span><span class="op" id="8074097">.</span><span class="ident" id="8074098">Errorf</span><span class="op" id="8074104">(</span><span class="string" id="8074105">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8074128">,</span>&nbsp;<span class="ident" id="8074130">data</span><span class="op" id="8074134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8074145">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8074161">var</span>&nbsp;<span class="ident" id="8074165">data</span>&nbsp;<span class="builtintype" id="8074170">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074180">instr</span>&nbsp;<span class="op" id="8074186">:=</span>&nbsp;<span class="op" id="8074189">&amp;</span><span class="ident" id="8074190">decInstr</span><span class="op" id="8074198">{</span><span class="ident" id="8074199">decFloat64</span><span class="op" id="8074209">,</span>&nbsp;<span class="num" id="8074211">6</span><span class="op" id="8074212">,</span>&nbsp;<span class="ident" id="8074214">nil</span><span class="op" id="8074217">,</span>&nbsp;<span class="ident" id="8074219">ovfl</span><span class="op" id="8074223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074227">state</span>&nbsp;<span class="op" id="8074233">:=</span>&nbsp;<span class="ident" id="8074236">newDecodeStateFromData</span><span class="op" id="8074258">(</span><span class="ident" id="8074259">floatResult</span><span class="op" id="8074270">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074274">execDec</span><span class="op" id="8074281">(</span><span class="string" id="8074282">&#34;float64&#34;</span><span class="op" id="8074291">,</span>&nbsp;<span class="ident" id="8074293">instr</span><span class="op" id="8074298">,</span>&nbsp;<span class="ident" id="8074300">state</span><span class="op" id="8074305">,</span>&nbsp;<span class="ident" id="8074307">t</span><span class="op" id="8074308">,</span>&nbsp;<span class="ident" id="8074310">reflect</span><span class="op" id="8074317">.</span><span class="ident" id="8074318">ValueOf</span><span class="op" id="8074325">(</span><span class="op" id="8074326">&amp;</span><span class="ident" id="8074327">data</span><span class="op" id="8074331">)</span><span class="op" id="8074332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8074336">if</span>&nbsp;<span class="ident" id="8074339">data</span>&nbsp;<span class="op" id="8074344">!=</span>&nbsp;<span class="num" id="8074347">17</span>&nbsp;<span class="op" id="8074350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074355">t</span><span class="op" id="8074356">.</span><span class="ident" id="8074357">Errorf</span><span class="op" id="8074363">(</span><span class="string" id="8074364">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8074387">,</span>&nbsp;<span class="ident" id="8074389">data</span><span class="op" id="8074393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074400">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8074404">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8074422">var</span>&nbsp;<span class="ident" id="8074426">data</span>&nbsp;<span class="builtintype" id="8074431">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074443">instr</span>&nbsp;<span class="op" id="8074449">:=</span>&nbsp;<span class="op" id="8074452">&amp;</span><span class="ident" id="8074453">decInstr</span><span class="op" id="8074461">{</span><span class="ident" id="8074462">decOpTable</span><span class="op" id="8074472">[</span><span class="ident" id="8074473">reflect</span><span class="op" id="8074480">.</span><span class="ident" id="8074481">Complex64</span><span class="op" id="8074490">]</span><span class="op" id="8074491">,</span>&nbsp;<span class="num" id="8074493">6</span><span class="op" id="8074494">,</span>&nbsp;<span class="ident" id="8074496">nil</span><span class="op" id="8074499">,</span>&nbsp;<span class="ident" id="8074501">ovfl</span><span class="op" id="8074505">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074509">state</span>&nbsp;<span class="op" id="8074515">:=</span>&nbsp;<span class="ident" id="8074518">newDecodeStateFromData</span><span class="op" id="8074540">(</span><span class="ident" id="8074541">complexResult</span><span class="op" id="8074554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074558">execDec</span><span class="op" id="8074565">(</span><span class="string" id="8074566">&#34;complex&#34;</span><span class="op" id="8074575">,</span>&nbsp;<span class="ident" id="8074577">instr</span><span class="op" id="8074582">,</span>&nbsp;<span class="ident" id="8074584">state</span><span class="op" id="8074589">,</span>&nbsp;<span class="ident" id="8074591">t</span><span class="op" id="8074592">,</span>&nbsp;<span class="ident" id="8074594">reflect</span><span class="op" id="8074601">.</span><span class="ident" id="8074602">ValueOf</span><span class="op" id="8074609">(</span><span class="op" id="8074610">&amp;</span><span class="ident" id="8074611">data</span><span class="op" id="8074615">)</span><span class="op" id="8074616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8074620">if</span>&nbsp;<span class="ident" id="8074623">data</span>&nbsp;<span class="op" id="8074628">!=</span>&nbsp;<span class="num" id="8074631">17</span><span class="op" id="8074633">+</span><span class="num" id="8074634">19i</span>&nbsp;<span class="op" id="8074638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074643">t</span><span class="op" id="8074644">.</span><span class="ident" id="8074645">Errorf</span><span class="op" id="8074651">(</span><span class="string" id="8074652">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8074679">,</span>&nbsp;<span class="ident" id="8074681">data</span><span class="op" id="8074685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074689">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8074696">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8074715">var</span>&nbsp;<span class="ident" id="8074719">data</span>&nbsp;<span class="builtintype" id="8074724">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074737">instr</span>&nbsp;<span class="op" id="8074743">:=</span>&nbsp;<span class="op" id="8074746">&amp;</span><span class="ident" id="8074747">decInstr</span><span class="op" id="8074755">{</span><span class="ident" id="8074756">decOpTable</span><span class="op" id="8074766">[</span><span class="ident" id="8074767">reflect</span><span class="op" id="8074774">.</span><span class="ident" id="8074775">Complex128</span><span class="op" id="8074785">]</span><span class="op" id="8074786">,</span>&nbsp;<span class="num" id="8074788">6</span><span class="op" id="8074789">,</span>&nbsp;<span class="ident" id="8074791">nil</span><span class="op" id="8074794">,</span>&nbsp;<span class="ident" id="8074796">ovfl</span><span class="op" id="8074800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074804">state</span>&nbsp;<span class="op" id="8074810">:=</span>&nbsp;<span class="ident" id="8074813">newDecodeStateFromData</span><span class="op" id="8074835">(</span><span class="ident" id="8074836">complexResult</span><span class="op" id="8074849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074853">execDec</span><span class="op" id="8074860">(</span><span class="string" id="8074861">&#34;complex&#34;</span><span class="op" id="8074870">,</span>&nbsp;<span class="ident" id="8074872">instr</span><span class="op" id="8074877">,</span>&nbsp;<span class="ident" id="8074879">state</span><span class="op" id="8074884">,</span>&nbsp;<span class="ident" id="8074886">t</span><span class="op" id="8074887">,</span>&nbsp;<span class="ident" id="8074889">reflect</span><span class="op" id="8074896">.</span><span class="ident" id="8074897">ValueOf</span><span class="op" id="8074904">(</span><span class="op" id="8074905">&amp;</span><span class="ident" id="8074906">data</span><span class="op" id="8074910">)</span><span class="op" id="8074911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8074915">if</span>&nbsp;<span class="ident" id="8074918">data</span>&nbsp;<span class="op" id="8074923">!=</span>&nbsp;<span class="num" id="8074926">17</span><span class="op" id="8074928">+</span><span class="num" id="8074929">19i</span>&nbsp;<span class="op" id="8074933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8074938">t</span><span class="op" id="8074939">.</span><span class="ident" id="8074940">Errorf</span><span class="op" id="8074946">(</span><span class="string" id="8074947">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8074974">,</span>&nbsp;<span class="ident" id="8074976">data</span><span class="op" id="8074980">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8074987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8074991">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075012">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8075016">var</span>&nbsp;<span class="ident" id="8075020">data</span>&nbsp;<span class="op" id="8075025">[</span><span class="op" id="8075026">]</span><span class="builtintype" id="8075027">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075034">instr</span>&nbsp;<span class="op" id="8075040">:=</span>&nbsp;<span class="op" id="8075043">&amp;</span><span class="ident" id="8075044">decInstr</span><span class="op" id="8075052">{</span><span class="ident" id="8075053">decUint8Slice</span><span class="op" id="8075066">,</span>&nbsp;<span class="num" id="8075068">6</span><span class="op" id="8075069">,</span>&nbsp;<span class="ident" id="8075071">nil</span><span class="op" id="8075074">,</span>&nbsp;<span class="ident" id="8075076">ovfl</span><span class="op" id="8075080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075084">state</span>&nbsp;<span class="op" id="8075090">:=</span>&nbsp;<span class="ident" id="8075093">newDecodeStateFromData</span><span class="op" id="8075115">(</span><span class="ident" id="8075116">bytesResult</span><span class="op" id="8075127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075131">execDec</span><span class="op" id="8075138">(</span><span class="string" id="8075139">&#34;bytes&#34;</span><span class="op" id="8075146">,</span>&nbsp;<span class="ident" id="8075148">instr</span><span class="op" id="8075153">,</span>&nbsp;<span class="ident" id="8075155">state</span><span class="op" id="8075160">,</span>&nbsp;<span class="ident" id="8075162">t</span><span class="op" id="8075163">,</span>&nbsp;<span class="ident" id="8075165">reflect</span><span class="op" id="8075172">.</span><span class="ident" id="8075173">ValueOf</span><span class="op" id="8075180">(</span><span class="op" id="8075181">&amp;</span><span class="ident" id="8075182">data</span><span class="op" id="8075186">)</span><span class="op" id="8075187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8075191">if</span>&nbsp;<span class="builtintype" id="8075194">string</span><span class="op" id="8075200">(</span><span class="ident" id="8075201">data</span><span class="op" id="8075205">)</span>&nbsp;<span class="op" id="8075207">!=</span>&nbsp;<span class="string" id="8075210">&#34;hello&#34;</span>&nbsp;<span class="op" id="8075218">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075223">t</span><span class="op" id="8075224">.</span><span class="ident" id="8075225">Errorf</span><span class="op" id="8075231">(</span><span class="string" id="8075232">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8075258">,</span>&nbsp;<span class="builtintype" id="8075260">string</span><span class="op" id="8075266">(</span><span class="ident" id="8075267">data</span><span class="op" id="8075271">)</span><span class="op" id="8075272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8075283">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8075298">var</span>&nbsp;<span class="ident" id="8075302">data</span>&nbsp;<span class="builtintype" id="8075307">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075316">instr</span>&nbsp;<span class="op" id="8075322">:=</span>&nbsp;<span class="op" id="8075325">&amp;</span><span class="ident" id="8075326">decInstr</span><span class="op" id="8075334">{</span><span class="ident" id="8075335">decString</span><span class="op" id="8075344">,</span>&nbsp;<span class="num" id="8075346">6</span><span class="op" id="8075347">,</span>&nbsp;<span class="ident" id="8075349">nil</span><span class="op" id="8075352">,</span>&nbsp;<span class="ident" id="8075354">ovfl</span><span class="op" id="8075358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075362">state</span>&nbsp;<span class="op" id="8075368">:=</span>&nbsp;<span class="ident" id="8075371">newDecodeStateFromData</span><span class="op" id="8075393">(</span><span class="ident" id="8075394">bytesResult</span><span class="op" id="8075405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075409">execDec</span><span class="op" id="8075416">(</span><span class="string" id="8075417">&#34;bytes&#34;</span><span class="op" id="8075424">,</span>&nbsp;<span class="ident" id="8075426">instr</span><span class="op" id="8075431">,</span>&nbsp;<span class="ident" id="8075433">state</span><span class="op" id="8075438">,</span>&nbsp;<span class="ident" id="8075440">t</span><span class="op" id="8075441">,</span>&nbsp;<span class="ident" id="8075443">reflect</span><span class="op" id="8075450">.</span><span class="ident" id="8075451">ValueOf</span><span class="op" id="8075458">(</span><span class="op" id="8075459">&amp;</span><span class="ident" id="8075460">data</span><span class="op" id="8075464">)</span><span class="op" id="8075465">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8075469">if</span>&nbsp;<span class="ident" id="8075472">data</span>&nbsp;<span class="op" id="8075477">!=</span>&nbsp;<span class="string" id="8075480">&#34;hello&#34;</span>&nbsp;<span class="op" id="8075488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075493">t</span><span class="op" id="8075494">.</span><span class="ident" id="8075495">Errorf</span><span class="op" id="8075501">(</span><span class="string" id="8075502">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8075528">,</span>&nbsp;<span class="ident" id="8075530">data</span><span class="op" id="8075534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075541">}</span><br>
<span class="lineno"></span><span class="op" id="8075543">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="8075546">func</span>&nbsp;<span class="ident" id="8075551">TestEndToEnd</span><span class="op" id="8075563">(</span><span class="ident" id="8075564">t</span>&nbsp;<span class="op" id="8075566">*</span><span class="ident" id="8075567">testing</span><span class="op" id="8075574">.</span><span class="ident" id="8075575">T</span><span class="op" id="8075576">)</span>&nbsp;<span class="op" id="8075578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8075581">type</span>&nbsp;<span class="ident" id="8075586">T2</span>&nbsp;<span class="keyword" id="8075589">struct</span>&nbsp;<span class="op" id="8075596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075600">T</span>&nbsp;<span class="builtintype" id="8075602">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075610">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075613">s1</span>&nbsp;<span class="op" id="8075616">:=</span>&nbsp;<span class="string" id="8075619">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075630">s2</span>&nbsp;<span class="op" id="8075633">:=</span>&nbsp;<span class="string" id="8075636">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8075647">type</span>&nbsp;<span class="ident" id="8075652">T1</span>&nbsp;<span class="keyword" id="8075655">struct</span>&nbsp;<span class="op" id="8075662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075666">A</span><span class="op" id="8075667">,</span>&nbsp;<span class="ident" id="8075669">B</span><span class="op" id="8075670">,</span>&nbsp;<span class="ident" id="8075672">C</span>&nbsp;&nbsp;<span class="builtintype" id="8075675">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075681">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8075690">map</span><span class="op" id="8075693">[</span><span class="builtintype" id="8075694">string</span><span class="op" id="8075700">]</span><span class="op" id="8075701">*</span><span class="builtintype" id="8075702">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075712">EmptyMap</span>&nbsp;<span class="keyword" id="8075721">map</span><span class="op" id="8075724">[</span><span class="builtintype" id="8075725">string</span><span class="op" id="8075731">]</span><span class="builtintype" id="8075732">int</span>&nbsp;<span class="comment" id="8075736">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075781">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8075790">*</span><span class="op" id="8075791">[</span><span class="num" id="8075792">3</span><span class="op" id="8075793">]</span><span class="builtintype" id="8075794">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075804">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8075813">*</span><span class="op" id="8075814">[</span><span class="num" id="8075815">2</span><span class="op" id="8075816">]</span><span class="builtintype" id="8075817">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075826">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8075835">*</span><span class="op" id="8075836">[</span><span class="op" id="8075837">]</span><span class="ident" id="8075838">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075846">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8075855">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075867">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8075876">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075885">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8075894">[</span><span class="op" id="8075895">]</span><span class="builtintype" id="8075896">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075903">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8075912">*</span><span class="ident" id="8075913">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8075917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075920">pi</span>&nbsp;<span class="op" id="8075923">:=</span>&nbsp;<span class="num" id="8075926">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075935">e</span>&nbsp;<span class="op" id="8075937">:=</span>&nbsp;<span class="num" id="8075940">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075949">t1</span>&nbsp;<span class="op" id="8075952">:=</span>&nbsp;<span class="op" id="8075955">&amp;</span><span class="ident" id="8075956">T1</span><span class="op" id="8075958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075962">A</span><span class="op" id="8075963">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8075972">17</span><span class="op" id="8075974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075978">B</span><span class="op" id="8075979">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8075988">18</span><span class="op" id="8075990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8075994">C</span><span class="op" id="8075995">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8076004">-</span><span class="num" id="8076005">5</span><span class="op" id="8076006">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076010">M</span><span class="op" id="8076011">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8076020">map</span><span class="op" id="8076023">[</span><span class="builtintype" id="8076024">string</span><span class="op" id="8076030">]</span><span class="op" id="8076031">*</span><span class="builtintype" id="8076032">float64</span><span class="op" id="8076039">{</span><span class="string" id="8076040">&#34;pi&#34;</span><span class="op" id="8076044">:</span>&nbsp;<span class="op" id="8076046">&amp;</span><span class="ident" id="8076047">pi</span><span class="op" id="8076049">,</span>&nbsp;<span class="string" id="8076051">&#34;e&#34;</span><span class="op" id="8076054">:</span>&nbsp;<span class="op" id="8076056">&amp;</span><span class="ident" id="8076057">e</span><span class="op" id="8076058">}</span><span class="op" id="8076059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076063">EmptyMap</span><span class="op" id="8076071">:</span>&nbsp;<span class="builtinfunc" id="8076073">make</span><span class="op" id="8076077">(</span><span class="keyword" id="8076078">map</span><span class="op" id="8076081">[</span><span class="builtintype" id="8076082">string</span><span class="op" id="8076088">]</span><span class="builtintype" id="8076089">int</span><span class="op" id="8076092">)</span><span class="op" id="8076093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076097">N</span><span class="op" id="8076098">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8076107">&amp;</span><span class="op" id="8076108">[</span><span class="num" id="8076109">3</span><span class="op" id="8076110">]</span><span class="builtintype" id="8076111">float64</span><span class="op" id="8076118">{</span><span class="num" id="8076119">1.5</span><span class="op" id="8076122">,</span>&nbsp;<span class="num" id="8076124">2.5</span><span class="op" id="8076127">,</span>&nbsp;<span class="num" id="8076129">3.5</span><span class="op" id="8076132">}</span><span class="op" id="8076133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076137">Strs</span><span class="op" id="8076141">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8076147">&amp;</span><span class="op" id="8076148">[</span><span class="num" id="8076149">2</span><span class="op" id="8076150">]</span><span class="builtintype" id="8076151">string</span><span class="op" id="8076157">{</span><span class="ident" id="8076158">s1</span><span class="op" id="8076160">,</span>&nbsp;<span class="ident" id="8076162">s2</span><span class="op" id="8076164">}</span><span class="op" id="8076165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076169">Int64s</span><span class="op" id="8076175">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8076179">&amp;</span><span class="op" id="8076180">[</span><span class="op" id="8076181">]</span><span class="ident" id="8076182">int64</span><span class="op" id="8076187">{</span><span class="num" id="8076188">77</span><span class="op" id="8076190">,</span>&nbsp;<span class="num" id="8076192">89</span><span class="op" id="8076194">,</span>&nbsp;<span class="num" id="8076196">123412342134</span><span class="op" id="8076208">}</span><span class="op" id="8076209">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076213">RI</span><span class="op" id="8076215">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8076223">17</span>&nbsp;<span class="op" id="8076226">-</span>&nbsp;<span class="num" id="8076228">23i</span><span class="op" id="8076231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076235">S</span><span class="op" id="8076236">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8076245">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8076262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076266">Y</span><span class="op" id="8076267">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8076276">[</span><span class="op" id="8076277">]</span><span class="builtintype" id="8076278">byte</span><span class="op" id="8076282">(</span><span class="string" id="8076283">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="8076298">)</span><span class="op" id="8076299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076303">T</span><span class="op" id="8076304">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8076313">&amp;</span><span class="ident" id="8076314">T2</span><span class="op" id="8076316">{</span><span class="string" id="8076317">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="8076329">}</span><span class="op" id="8076330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8076333">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076336">b</span>&nbsp;<span class="op" id="8076338">:=</span>&nbsp;<span class="builtinfunc" id="8076341">new</span><span class="op" id="8076344">(</span><span class="ident" id="8076345">bytes</span><span class="op" id="8076350">.</span><span class="ident" id="8076351">Buffer</span><span class="op" id="8076357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076360">err</span>&nbsp;<span class="op" id="8076364">:=</span>&nbsp;<span class="ident" id="8076367">NewEncoder</span><span class="op" id="8076377">(</span><span class="ident" id="8076378">b</span><span class="op" id="8076379">)</span><span class="op" id="8076380">.</span><span class="ident" id="8076381">Encode</span><span class="op" id="8076387">(</span><span class="ident" id="8076388">t1</span><span class="op" id="8076390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076393">if</span>&nbsp;<span class="ident" id="8076396">err</span>&nbsp;<span class="op" id="8076400">!=</span>&nbsp;<span class="ident" id="8076403">nil</span>&nbsp;<span class="op" id="8076407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076411">t</span><span class="op" id="8076412">.</span><span class="ident" id="8076413">Error</span><span class="op" id="8076418">(</span><span class="string" id="8076419">&#34;encode:&#34;</span><span class="op" id="8076428">,</span>&nbsp;<span class="ident" id="8076430">err</span><span class="op" id="8076433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8076436">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076439">var</span>&nbsp;<span class="ident" id="8076443">_t1</span>&nbsp;<span class="ident" id="8076447">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076451">err</span>&nbsp;<span class="op" id="8076455">=</span>&nbsp;<span class="ident" id="8076457">NewDecoder</span><span class="op" id="8076467">(</span><span class="ident" id="8076468">b</span><span class="op" id="8076469">)</span><span class="op" id="8076470">.</span><span class="ident" id="8076471">Decode</span><span class="op" id="8076477">(</span><span class="op" id="8076478">&amp;</span><span class="ident" id="8076479">_t1</span><span class="op" id="8076482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076485">if</span>&nbsp;<span class="ident" id="8076488">err</span>&nbsp;<span class="op" id="8076492">!=</span>&nbsp;<span class="ident" id="8076495">nil</span>&nbsp;<span class="op" id="8076499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076503">t</span><span class="op" id="8076504">.</span><span class="ident" id="8076505">Fatal</span><span class="op" id="8076510">(</span><span class="string" id="8076511">&#34;decode:&#34;</span><span class="op" id="8076520">,</span>&nbsp;<span class="ident" id="8076522">err</span><span class="op" id="8076525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8076528">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076531">if</span>&nbsp;<span class="op" id="8076534">!</span><span class="ident" id="8076535">reflect</span><span class="op" id="8076542">.</span><span class="ident" id="8076543">DeepEqual</span><span class="op" id="8076552">(</span><span class="ident" id="8076553">t1</span><span class="op" id="8076555">,</span>&nbsp;<span class="op" id="8076557">&amp;</span><span class="ident" id="8076558">_t1</span><span class="op" id="8076561">)</span>&nbsp;<span class="op" id="8076563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076567">t</span><span class="op" id="8076568">.</span><span class="ident" id="8076569">Errorf</span><span class="op" id="8076575">(</span><span class="string" id="8076576">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8076603">,</span>&nbsp;<span class="op" id="8076605">*</span><span class="ident" id="8076606">t1</span><span class="op" id="8076608">,</span>&nbsp;<span class="ident" id="8076610">_t1</span><span class="op" id="8076613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8076616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8076619">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076671">if</span>&nbsp;<span class="ident" id="8076674">t1</span><span class="op" id="8076676">.</span><span class="ident" id="8076677">EmptyMap</span>&nbsp;<span class="op" id="8076686">==</span>&nbsp;<span class="ident" id="8076689">nil</span>&nbsp;<span class="op" id="8076693">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076697">t</span><span class="op" id="8076698">.</span><span class="ident" id="8076699">Errorf</span><span class="op" id="8076705">(</span><span class="string" id="8076706">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="8076720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8076723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076726">if</span>&nbsp;<span class="ident" id="8076729">_t1</span><span class="op" id="8076732">.</span><span class="ident" id="8076733">EmptyMap</span>&nbsp;<span class="op" id="8076742">==</span>&nbsp;<span class="ident" id="8076745">nil</span>&nbsp;<span class="op" id="8076749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076753">t</span><span class="op" id="8076754">.</span><span class="ident" id="8076755">Errorf</span><span class="op" id="8076761">(</span><span class="string" id="8076762">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="8076780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8076783">}</span><br>
<span class="lineno">600</span><span class="op" id="8076785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8076788">func</span>&nbsp;<span class="ident" id="8076793">TestOverflow</span><span class="op" id="8076805">(</span><span class="ident" id="8076806">t</span>&nbsp;<span class="op" id="8076808">*</span><span class="ident" id="8076809">testing</span><span class="op" id="8076816">.</span><span class="ident" id="8076817">T</span><span class="op" id="8076818">)</span>&nbsp;<span class="op" id="8076820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076823">type</span>&nbsp;<span class="ident" id="8076828">inputT</span>&nbsp;<span class="keyword" id="8076835">struct</span>&nbsp;<span class="op" id="8076842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076846">Maxi</span>&nbsp;<span class="ident" id="8076851">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076859">Mini</span>&nbsp;<span class="ident" id="8076864">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076872">Maxu</span>&nbsp;<span class="ident" id="8076877">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076886">Maxf</span>&nbsp;<span class="builtintype" id="8076891">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076901">Minf</span>&nbsp;<span class="builtintype" id="8076906">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076916">Maxc</span>&nbsp;<span class="builtintype" id="8076921">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076934">Minc</span>&nbsp;<span class="builtintype" id="8076939">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8076951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076954">var</span>&nbsp;<span class="ident" id="8076958">it</span>&nbsp;<span class="ident" id="8076961">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8076969">var</span>&nbsp;<span class="ident" id="8076973">err</span>&nbsp;<span class="builtintype" id="8076977">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8076984">b</span>&nbsp;<span class="op" id="8076986">:=</span>&nbsp;<span class="builtinfunc" id="8076989">new</span><span class="op" id="8076992">(</span><span class="ident" id="8076993">bytes</span><span class="op" id="8076998">.</span><span class="ident" id="8076999">Buffer</span><span class="op" id="8077005">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077008">enc</span>&nbsp;<span class="op" id="8077012">:=</span>&nbsp;<span class="ident" id="8077015">NewEncoder</span><span class="op" id="8077025">(</span><span class="ident" id="8077026">b</span><span class="op" id="8077027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077030">dec</span>&nbsp;<span class="op" id="8077034">:=</span>&nbsp;<span class="ident" id="8077037">NewDecoder</span><span class="op" id="8077047">(</span><span class="ident" id="8077048">b</span><span class="op" id="8077049">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8077053">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077062">b</span><span class="op" id="8077063">.</span><span class="ident" id="8077064">Reset</span><span class="op" id="8077069">(</span><span class="op" id="8077070">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077073">it</span>&nbsp;<span class="op" id="8077076">=</span>&nbsp;<span class="ident" id="8077078">inputT</span><span class="op" id="8077084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077088">Maxi</span><span class="op" id="8077092">:</span>&nbsp;<span class="ident" id="8077094">math</span><span class="op" id="8077098">.</span><span class="ident" id="8077099">MaxInt8</span>&nbsp;<span class="op" id="8077107">+</span>&nbsp;<span class="num" id="8077109">1</span><span class="op" id="8077110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077116">type</span>&nbsp;<span class="ident" id="8077121">outi8</span>&nbsp;<span class="keyword" id="8077127">struct</span>&nbsp;<span class="op" id="8077134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077138">Maxi</span>&nbsp;<span class="builtintype" id="8077143">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077150">Mini</span>&nbsp;<span class="builtintype" id="8077155">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077164">var</span>&nbsp;<span class="ident" id="8077168">o1</span>&nbsp;<span class="ident" id="8077171">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077178">enc</span><span class="op" id="8077181">.</span><span class="ident" id="8077182">Encode</span><span class="op" id="8077188">(</span><span class="ident" id="8077189">it</span><span class="op" id="8077191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077194">err</span>&nbsp;<span class="op" id="8077198">=</span>&nbsp;<span class="ident" id="8077200">dec</span><span class="op" id="8077203">.</span><span class="ident" id="8077204">Decode</span><span class="op" id="8077210">(</span><span class="op" id="8077211">&amp;</span><span class="ident" id="8077212">o1</span><span class="op" id="8077214">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077217">if</span>&nbsp;<span class="ident" id="8077220">err</span>&nbsp;<span class="op" id="8077224">==</span>&nbsp;<span class="ident" id="8077227">nil</span>&nbsp;<span class="op" id="8077231">||</span>&nbsp;<span class="ident" id="8077234">err</span><span class="op" id="8077237">.</span><span class="ident" id="8077238">Error</span><span class="op" id="8077243">(</span><span class="op" id="8077244">)</span>&nbsp;<span class="op" id="8077246">!=</span>&nbsp;<span class="string" id="8077249">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8077281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077285">t</span><span class="op" id="8077286">.</span><span class="ident" id="8077287">Error</span><span class="op" id="8077292">(</span><span class="string" id="8077293">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8077325">,</span>&nbsp;<span class="ident" id="8077327">err</span><span class="op" id="8077330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077336">it</span>&nbsp;<span class="op" id="8077339">=</span>&nbsp;<span class="ident" id="8077341">inputT</span><span class="op" id="8077347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077351">Mini</span><span class="op" id="8077355">:</span>&nbsp;<span class="ident" id="8077357">math</span><span class="op" id="8077361">.</span><span class="ident" id="8077362">MinInt8</span>&nbsp;<span class="op" id="8077370">-</span>&nbsp;<span class="num" id="8077372">1</span><span class="op" id="8077373">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077379">b</span><span class="op" id="8077380">.</span><span class="ident" id="8077381">Reset</span><span class="op" id="8077386">(</span><span class="op" id="8077387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077390">enc</span><span class="op" id="8077393">.</span><span class="ident" id="8077394">Encode</span><span class="op" id="8077400">(</span><span class="ident" id="8077401">it</span><span class="op" id="8077403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077406">err</span>&nbsp;<span class="op" id="8077410">=</span>&nbsp;<span class="ident" id="8077412">dec</span><span class="op" id="8077415">.</span><span class="ident" id="8077416">Decode</span><span class="op" id="8077422">(</span><span class="op" id="8077423">&amp;</span><span class="ident" id="8077424">o1</span><span class="op" id="8077426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077429">if</span>&nbsp;<span class="ident" id="8077432">err</span>&nbsp;<span class="op" id="8077436">==</span>&nbsp;<span class="ident" id="8077439">nil</span>&nbsp;<span class="op" id="8077443">||</span>&nbsp;<span class="ident" id="8077446">err</span><span class="op" id="8077449">.</span><span class="ident" id="8077450">Error</span><span class="op" id="8077455">(</span><span class="op" id="8077456">)</span>&nbsp;<span class="op" id="8077458">!=</span>&nbsp;<span class="string" id="8077461">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8077493">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077497">t</span><span class="op" id="8077498">.</span><span class="ident" id="8077499">Error</span><span class="op" id="8077504">(</span><span class="string" id="8077505">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8077538">,</span>&nbsp;<span class="ident" id="8077540">err</span><span class="op" id="8077543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8077550">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077560">b</span><span class="op" id="8077561">.</span><span class="ident" id="8077562">Reset</span><span class="op" id="8077567">(</span><span class="op" id="8077568">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077571">it</span>&nbsp;<span class="op" id="8077574">=</span>&nbsp;<span class="ident" id="8077576">inputT</span><span class="op" id="8077582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077586">Maxi</span><span class="op" id="8077590">:</span>&nbsp;<span class="ident" id="8077592">math</span><span class="op" id="8077596">.</span><span class="ident" id="8077597">MaxInt16</span>&nbsp;<span class="op" id="8077606">+</span>&nbsp;<span class="num" id="8077608">1</span><span class="op" id="8077609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077615">type</span>&nbsp;<span class="ident" id="8077620">outi16</span>&nbsp;<span class="keyword" id="8077627">struct</span>&nbsp;<span class="op" id="8077634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077638">Maxi</span>&nbsp;<span class="builtintype" id="8077643">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077651">Mini</span>&nbsp;<span class="builtintype" id="8077656">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077666">var</span>&nbsp;<span class="ident" id="8077670">o2</span>&nbsp;<span class="ident" id="8077673">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077681">enc</span><span class="op" id="8077684">.</span><span class="ident" id="8077685">Encode</span><span class="op" id="8077691">(</span><span class="ident" id="8077692">it</span><span class="op" id="8077694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077697">err</span>&nbsp;<span class="op" id="8077701">=</span>&nbsp;<span class="ident" id="8077703">dec</span><span class="op" id="8077706">.</span><span class="ident" id="8077707">Decode</span><span class="op" id="8077713">(</span><span class="op" id="8077714">&amp;</span><span class="ident" id="8077715">o2</span><span class="op" id="8077717">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077720">if</span>&nbsp;<span class="ident" id="8077723">err</span>&nbsp;<span class="op" id="8077727">==</span>&nbsp;<span class="ident" id="8077730">nil</span>&nbsp;<span class="op" id="8077734">||</span>&nbsp;<span class="ident" id="8077737">err</span><span class="op" id="8077740">.</span><span class="ident" id="8077741">Error</span><span class="op" id="8077746">(</span><span class="op" id="8077747">)</span>&nbsp;<span class="op" id="8077749">!=</span>&nbsp;<span class="string" id="8077752">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8077784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077788">t</span><span class="op" id="8077789">.</span><span class="ident" id="8077790">Error</span><span class="op" id="8077795">(</span><span class="string" id="8077796">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8077829">,</span>&nbsp;<span class="ident" id="8077831">err</span><span class="op" id="8077834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077840">it</span>&nbsp;<span class="op" id="8077843">=</span>&nbsp;<span class="ident" id="8077845">inputT</span><span class="op" id="8077851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077855">Mini</span><span class="op" id="8077859">:</span>&nbsp;<span class="ident" id="8077861">math</span><span class="op" id="8077865">.</span><span class="ident" id="8077866">MinInt16</span>&nbsp;<span class="op" id="8077875">-</span>&nbsp;<span class="num" id="8077877">1</span><span class="op" id="8077878">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8077881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077884">b</span><span class="op" id="8077885">.</span><span class="ident" id="8077886">Reset</span><span class="op" id="8077891">(</span><span class="op" id="8077892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077895">enc</span><span class="op" id="8077898">.</span><span class="ident" id="8077899">Encode</span><span class="op" id="8077905">(</span><span class="ident" id="8077906">it</span><span class="op" id="8077908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8077911">err</span>&nbsp;<span class="op" id="8077915">=</span>&nbsp;<span class="ident" id="8077917">dec</span><span class="op" id="8077920">.</span><span class="ident" id="8077921">Decode</span><span class="op" id="8077927">(</span><span class="op" id="8077928">&amp;</span><span class="ident" id="8077929">o2</span><span class="op" id="8077931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8077934">if</span>&nbsp;<span class="ident" id="8077937">err</span>&nbsp;<span class="op" id="8077941">==</span>&nbsp;<span class="ident" id="8077944">nil</span>&nbsp;<span class="op" id="8077948">||</span>&nbsp;<span class="ident" id="8077951">err</span><span class="op" id="8077954">.</span><span class="ident" id="8077955">Error</span><span class="op" id="8077960">(</span><span class="op" id="8077961">)</span>&nbsp;<span class="op" id="8077963">!=</span>&nbsp;<span class="string" id="8077966">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8077998">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078002">t</span><span class="op" id="8078003">.</span><span class="ident" id="8078004">Error</span><span class="op" id="8078009">(</span><span class="string" id="8078010">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8078044">,</span>&nbsp;<span class="ident" id="8078046">err</span><span class="op" id="8078049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8078056">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078066">b</span><span class="op" id="8078067">.</span><span class="ident" id="8078068">Reset</span><span class="op" id="8078073">(</span><span class="op" id="8078074">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078077">it</span>&nbsp;<span class="op" id="8078080">=</span>&nbsp;<span class="ident" id="8078082">inputT</span><span class="op" id="8078088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078092">Maxi</span><span class="op" id="8078096">:</span>&nbsp;<span class="ident" id="8078098">math</span><span class="op" id="8078102">.</span><span class="ident" id="8078103">MaxInt32</span>&nbsp;<span class="op" id="8078112">+</span>&nbsp;<span class="num" id="8078114">1</span><span class="op" id="8078115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078121">type</span>&nbsp;<span class="ident" id="8078126">outi32</span>&nbsp;<span class="keyword" id="8078133">struct</span>&nbsp;<span class="op" id="8078140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078144">Maxi</span>&nbsp;<span class="builtintype" id="8078149">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078157">Mini</span>&nbsp;<span class="builtintype" id="8078162">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078172">var</span>&nbsp;<span class="ident" id="8078176">o3</span>&nbsp;<span class="ident" id="8078179">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078187">enc</span><span class="op" id="8078190">.</span><span class="ident" id="8078191">Encode</span><span class="op" id="8078197">(</span><span class="ident" id="8078198">it</span><span class="op" id="8078200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078203">err</span>&nbsp;<span class="op" id="8078207">=</span>&nbsp;<span class="ident" id="8078209">dec</span><span class="op" id="8078212">.</span><span class="ident" id="8078213">Decode</span><span class="op" id="8078219">(</span><span class="op" id="8078220">&amp;</span><span class="ident" id="8078221">o3</span><span class="op" id="8078223">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078226">if</span>&nbsp;<span class="ident" id="8078229">err</span>&nbsp;<span class="op" id="8078233">==</span>&nbsp;<span class="ident" id="8078236">nil</span>&nbsp;<span class="op" id="8078240">||</span>&nbsp;<span class="ident" id="8078243">err</span><span class="op" id="8078246">.</span><span class="ident" id="8078247">Error</span><span class="op" id="8078252">(</span><span class="op" id="8078253">)</span>&nbsp;<span class="op" id="8078255">!=</span>&nbsp;<span class="string" id="8078258">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8078290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078294">t</span><span class="op" id="8078295">.</span><span class="ident" id="8078296">Error</span><span class="op" id="8078301">(</span><span class="string" id="8078302">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8078335">,</span>&nbsp;<span class="ident" id="8078337">err</span><span class="op" id="8078340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078346">it</span>&nbsp;<span class="op" id="8078349">=</span>&nbsp;<span class="ident" id="8078351">inputT</span><span class="op" id="8078357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078361">Mini</span><span class="op" id="8078365">:</span>&nbsp;<span class="ident" id="8078367">math</span><span class="op" id="8078371">.</span><span class="ident" id="8078372">MinInt32</span>&nbsp;<span class="op" id="8078381">-</span>&nbsp;<span class="num" id="8078383">1</span><span class="op" id="8078384">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078390">b</span><span class="op" id="8078391">.</span><span class="ident" id="8078392">Reset</span><span class="op" id="8078397">(</span><span class="op" id="8078398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078401">enc</span><span class="op" id="8078404">.</span><span class="ident" id="8078405">Encode</span><span class="op" id="8078411">(</span><span class="ident" id="8078412">it</span><span class="op" id="8078414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078417">err</span>&nbsp;<span class="op" id="8078421">=</span>&nbsp;<span class="ident" id="8078423">dec</span><span class="op" id="8078426">.</span><span class="ident" id="8078427">Decode</span><span class="op" id="8078433">(</span><span class="op" id="8078434">&amp;</span><span class="ident" id="8078435">o3</span><span class="op" id="8078437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078440">if</span>&nbsp;<span class="ident" id="8078443">err</span>&nbsp;<span class="op" id="8078447">==</span>&nbsp;<span class="ident" id="8078450">nil</span>&nbsp;<span class="op" id="8078454">||</span>&nbsp;<span class="ident" id="8078457">err</span><span class="op" id="8078460">.</span><span class="ident" id="8078461">Error</span><span class="op" id="8078466">(</span><span class="op" id="8078467">)</span>&nbsp;<span class="op" id="8078469">!=</span>&nbsp;<span class="string" id="8078472">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8078504">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078508">t</span><span class="op" id="8078509">.</span><span class="ident" id="8078510">Error</span><span class="op" id="8078515">(</span><span class="string" id="8078516">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8078550">,</span>&nbsp;<span class="ident" id="8078552">err</span><span class="op" id="8078555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8078562">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078572">b</span><span class="op" id="8078573">.</span><span class="ident" id="8078574">Reset</span><span class="op" id="8078579">(</span><span class="op" id="8078580">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078583">it</span>&nbsp;<span class="op" id="8078586">=</span>&nbsp;<span class="ident" id="8078588">inputT</span><span class="op" id="8078594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078598">Maxu</span><span class="op" id="8078602">:</span>&nbsp;<span class="ident" id="8078604">math</span><span class="op" id="8078608">.</span><span class="ident" id="8078609">MaxUint8</span>&nbsp;<span class="op" id="8078618">+</span>&nbsp;<span class="num" id="8078620">1</span><span class="op" id="8078621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078627">type</span>&nbsp;<span class="ident" id="8078632">outu8</span>&nbsp;<span class="keyword" id="8078638">struct</span>&nbsp;<span class="op" id="8078645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078649">Maxu</span>&nbsp;<span class="builtintype" id="8078654">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078664">var</span>&nbsp;<span class="ident" id="8078668">o4</span>&nbsp;<span class="ident" id="8078671">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078678">enc</span><span class="op" id="8078681">.</span><span class="ident" id="8078682">Encode</span><span class="op" id="8078688">(</span><span class="ident" id="8078689">it</span><span class="op" id="8078691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078694">err</span>&nbsp;<span class="op" id="8078698">=</span>&nbsp;<span class="ident" id="8078700">dec</span><span class="op" id="8078703">.</span><span class="ident" id="8078704">Decode</span><span class="op" id="8078710">(</span><span class="op" id="8078711">&amp;</span><span class="ident" id="8078712">o4</span><span class="op" id="8078714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078717">if</span>&nbsp;<span class="ident" id="8078720">err</span>&nbsp;<span class="op" id="8078724">==</span>&nbsp;<span class="ident" id="8078727">nil</span>&nbsp;<span class="op" id="8078731">||</span>&nbsp;<span class="ident" id="8078734">err</span><span class="op" id="8078737">.</span><span class="ident" id="8078738">Error</span><span class="op" id="8078743">(</span><span class="op" id="8078744">)</span>&nbsp;<span class="op" id="8078746">!=</span>&nbsp;<span class="string" id="8078749">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8078781">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078785">t</span><span class="op" id="8078786">.</span><span class="ident" id="8078787">Error</span><span class="op" id="8078792">(</span><span class="string" id="8078793">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="8078826">,</span>&nbsp;<span class="ident" id="8078828">err</span><span class="op" id="8078831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8078838">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078849">b</span><span class="op" id="8078850">.</span><span class="ident" id="8078851">Reset</span><span class="op" id="8078856">(</span><span class="op" id="8078857">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078860">it</span>&nbsp;<span class="op" id="8078863">=</span>&nbsp;<span class="ident" id="8078865">inputT</span><span class="op" id="8078871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078875">Maxu</span><span class="op" id="8078879">:</span>&nbsp;<span class="ident" id="8078881">math</span><span class="op" id="8078885">.</span><span class="ident" id="8078886">MaxUint16</span>&nbsp;<span class="op" id="8078896">+</span>&nbsp;<span class="num" id="8078898">1</span><span class="op" id="8078899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078905">type</span>&nbsp;<span class="ident" id="8078910">outu16</span>&nbsp;<span class="keyword" id="8078917">struct</span>&nbsp;<span class="op" id="8078924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078928">Maxu</span>&nbsp;<span class="builtintype" id="8078933">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8078941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078944">var</span>&nbsp;<span class="ident" id="8078948">o5</span>&nbsp;<span class="ident" id="8078951">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078959">enc</span><span class="op" id="8078962">.</span><span class="ident" id="8078963">Encode</span><span class="op" id="8078969">(</span><span class="ident" id="8078970">it</span><span class="op" id="8078972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8078975">err</span>&nbsp;<span class="op" id="8078979">=</span>&nbsp;<span class="ident" id="8078981">dec</span><span class="op" id="8078984">.</span><span class="ident" id="8078985">Decode</span><span class="op" id="8078991">(</span><span class="op" id="8078992">&amp;</span><span class="ident" id="8078993">o5</span><span class="op" id="8078995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8078998">if</span>&nbsp;<span class="ident" id="8079001">err</span>&nbsp;<span class="op" id="8079005">==</span>&nbsp;<span class="ident" id="8079008">nil</span>&nbsp;<span class="op" id="8079012">||</span>&nbsp;<span class="ident" id="8079015">err</span><span class="op" id="8079018">.</span><span class="ident" id="8079019">Error</span><span class="op" id="8079024">(</span><span class="op" id="8079025">)</span>&nbsp;<span class="op" id="8079027">!=</span>&nbsp;<span class="string" id="8079030">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8079062">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079066">t</span><span class="op" id="8079067">.</span><span class="ident" id="8079068">Error</span><span class="op" id="8079073">(</span><span class="string" id="8079074">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="8079108">,</span>&nbsp;<span class="ident" id="8079110">err</span><span class="op" id="8079113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8079120">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079131">b</span><span class="op" id="8079132">.</span><span class="ident" id="8079133">Reset</span><span class="op" id="8079138">(</span><span class="op" id="8079139">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079142">it</span>&nbsp;<span class="op" id="8079145">=</span>&nbsp;<span class="ident" id="8079147">inputT</span><span class="op" id="8079153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079157">Maxu</span><span class="op" id="8079161">:</span>&nbsp;<span class="ident" id="8079163">math</span><span class="op" id="8079167">.</span><span class="ident" id="8079168">MaxUint32</span>&nbsp;<span class="op" id="8079178">+</span>&nbsp;<span class="num" id="8079180">1</span><span class="op" id="8079181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079187">type</span>&nbsp;<span class="ident" id="8079192">outu32</span>&nbsp;<span class="keyword" id="8079199">struct</span>&nbsp;<span class="op" id="8079206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079210">Maxu</span>&nbsp;<span class="builtintype" id="8079215">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079226">var</span>&nbsp;<span class="ident" id="8079230">o6</span>&nbsp;<span class="ident" id="8079233">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079241">enc</span><span class="op" id="8079244">.</span><span class="ident" id="8079245">Encode</span><span class="op" id="8079251">(</span><span class="ident" id="8079252">it</span><span class="op" id="8079254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079257">err</span>&nbsp;<span class="op" id="8079261">=</span>&nbsp;<span class="ident" id="8079263">dec</span><span class="op" id="8079266">.</span><span class="ident" id="8079267">Decode</span><span class="op" id="8079273">(</span><span class="op" id="8079274">&amp;</span><span class="ident" id="8079275">o6</span><span class="op" id="8079277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079280">if</span>&nbsp;<span class="ident" id="8079283">err</span>&nbsp;<span class="op" id="8079287">==</span>&nbsp;<span class="ident" id="8079290">nil</span>&nbsp;<span class="op" id="8079294">||</span>&nbsp;<span class="ident" id="8079297">err</span><span class="op" id="8079300">.</span><span class="ident" id="8079301">Error</span><span class="op" id="8079306">(</span><span class="op" id="8079307">)</span>&nbsp;<span class="op" id="8079309">!=</span>&nbsp;<span class="string" id="8079312">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8079344">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079348">t</span><span class="op" id="8079349">.</span><span class="ident" id="8079350">Error</span><span class="op" id="8079355">(</span><span class="string" id="8079356">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="8079390">,</span>&nbsp;<span class="ident" id="8079392">err</span><span class="op" id="8079395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8079402">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079414">b</span><span class="op" id="8079415">.</span><span class="ident" id="8079416">Reset</span><span class="op" id="8079421">(</span><span class="op" id="8079422">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079425">it</span>&nbsp;<span class="op" id="8079428">=</span>&nbsp;<span class="ident" id="8079430">inputT</span><span class="op" id="8079436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079440">Maxf</span><span class="op" id="8079444">:</span>&nbsp;<span class="ident" id="8079446">math</span><span class="op" id="8079450">.</span><span class="ident" id="8079451">MaxFloat32</span>&nbsp;<span class="op" id="8079462">*</span>&nbsp;<span class="num" id="8079464">2</span><span class="op" id="8079465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079471">type</span>&nbsp;<span class="ident" id="8079476">outf32</span>&nbsp;<span class="keyword" id="8079483">struct</span>&nbsp;<span class="op" id="8079490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079494">Maxf</span>&nbsp;<span class="builtintype" id="8079499">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079509">Minf</span>&nbsp;<span class="builtintype" id="8079514">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079526">var</span>&nbsp;<span class="ident" id="8079530">o7</span>&nbsp;<span class="ident" id="8079533">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079541">enc</span><span class="op" id="8079544">.</span><span class="ident" id="8079545">Encode</span><span class="op" id="8079551">(</span><span class="ident" id="8079552">it</span><span class="op" id="8079554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079557">err</span>&nbsp;<span class="op" id="8079561">=</span>&nbsp;<span class="ident" id="8079563">dec</span><span class="op" id="8079566">.</span><span class="ident" id="8079567">Decode</span><span class="op" id="8079573">(</span><span class="op" id="8079574">&amp;</span><span class="ident" id="8079575">o7</span><span class="op" id="8079577">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079580">if</span>&nbsp;<span class="ident" id="8079583">err</span>&nbsp;<span class="op" id="8079587">==</span>&nbsp;<span class="ident" id="8079590">nil</span>&nbsp;<span class="op" id="8079594">||</span>&nbsp;<span class="ident" id="8079597">err</span><span class="op" id="8079600">.</span><span class="ident" id="8079601">Error</span><span class="op" id="8079606">(</span><span class="op" id="8079607">)</span>&nbsp;<span class="op" id="8079609">!=</span>&nbsp;<span class="string" id="8079612">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8079644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079648">t</span><span class="op" id="8079649">.</span><span class="ident" id="8079650">Error</span><span class="op" id="8079655">(</span><span class="string" id="8079656">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="8079691">,</span>&nbsp;<span class="ident" id="8079693">err</span><span class="op" id="8079696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8079703">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079717">b</span><span class="op" id="8079718">.</span><span class="ident" id="8079719">Reset</span><span class="op" id="8079724">(</span><span class="op" id="8079725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079728">it</span>&nbsp;<span class="op" id="8079731">=</span>&nbsp;<span class="ident" id="8079733">inputT</span><span class="op" id="8079739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079743">Maxc</span><span class="op" id="8079747">:</span>&nbsp;<span class="builtinfunc" id="8079749">complex</span><span class="op" id="8079756">(</span><span class="ident" id="8079757">math</span><span class="op" id="8079761">.</span><span class="ident" id="8079762">MaxFloat32</span><span class="op" id="8079772">*</span><span class="num" id="8079773">2</span><span class="op" id="8079774">,</span>&nbsp;<span class="ident" id="8079776">math</span><span class="op" id="8079780">.</span><span class="ident" id="8079781">MaxFloat32</span><span class="op" id="8079791">*</span><span class="num" id="8079792">2</span><span class="op" id="8079793">)</span><span class="op" id="8079794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079800">type</span>&nbsp;<span class="ident" id="8079805">outc64</span>&nbsp;<span class="keyword" id="8079812">struct</span>&nbsp;<span class="op" id="8079819">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079823">Maxc</span>&nbsp;<span class="builtintype" id="8079828">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079840">Minc</span>&nbsp;<span class="builtintype" id="8079845">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8079856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079859">var</span>&nbsp;<span class="ident" id="8079863">o8</span>&nbsp;<span class="ident" id="8079866">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079874">enc</span><span class="op" id="8079877">.</span><span class="ident" id="8079878">Encode</span><span class="op" id="8079884">(</span><span class="ident" id="8079885">it</span><span class="op" id="8079887">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079890">err</span>&nbsp;<span class="op" id="8079894">=</span>&nbsp;<span class="ident" id="8079896">dec</span><span class="op" id="8079899">.</span><span class="ident" id="8079900">Decode</span><span class="op" id="8079906">(</span><span class="op" id="8079907">&amp;</span><span class="ident" id="8079908">o8</span><span class="op" id="8079910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8079913">if</span>&nbsp;<span class="ident" id="8079916">err</span>&nbsp;<span class="op" id="8079920">==</span>&nbsp;<span class="ident" id="8079923">nil</span>&nbsp;<span class="op" id="8079927">||</span>&nbsp;<span class="ident" id="8079930">err</span><span class="op" id="8079933">.</span><span class="ident" id="8079934">Error</span><span class="op" id="8079939">(</span><span class="op" id="8079940">)</span>&nbsp;<span class="op" id="8079942">!=</span>&nbsp;<span class="string" id="8079945">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8079977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8079981">t</span><span class="op" id="8079982">.</span><span class="ident" id="8079983">Error</span><span class="op" id="8079988">(</span><span class="string" id="8079989">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="8080026">,</span>&nbsp;<span class="ident" id="8080028">err</span><span class="op" id="8080031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080034">}</span><br>
<span class="lineno"></span><span class="op" id="8080036">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="8080039">func</span>&nbsp;<span class="ident" id="8080044">TestNesting</span><span class="op" id="8080055">(</span><span class="ident" id="8080056">t</span>&nbsp;<span class="op" id="8080058">*</span><span class="ident" id="8080059">testing</span><span class="op" id="8080066">.</span><span class="ident" id="8080067">T</span><span class="op" id="8080068">)</span>&nbsp;<span class="op" id="8080070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8080073">type</span>&nbsp;<span class="ident" id="8080078">RT</span>&nbsp;<span class="keyword" id="8080081">struct</span>&nbsp;<span class="op" id="8080088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080092">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8080097">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080106">Next</span>&nbsp;<span class="op" id="8080111">*</span><span class="ident" id="8080112">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080119">rt</span>&nbsp;<span class="op" id="8080122">:=</span>&nbsp;<span class="builtinfunc" id="8080125">new</span><span class="op" id="8080128">(</span><span class="ident" id="8080129">RT</span><span class="op" id="8080131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080134">rt</span><span class="op" id="8080136">.</span><span class="ident" id="8080137">A</span>&nbsp;<span class="op" id="8080139">=</span>&nbsp;<span class="string" id="8080141">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080151">rt</span><span class="op" id="8080153">.</span><span class="ident" id="8080154">Next</span>&nbsp;<span class="op" id="8080159">=</span>&nbsp;<span class="builtinfunc" id="8080161">new</span><span class="op" id="8080164">(</span><span class="ident" id="8080165">RT</span><span class="op" id="8080167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080170">rt</span><span class="op" id="8080172">.</span><span class="ident" id="8080173">Next</span><span class="op" id="8080177">.</span><span class="ident" id="8080178">A</span>&nbsp;<span class="op" id="8080180">=</span>&nbsp;<span class="string" id="8080182">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080192">b</span>&nbsp;<span class="op" id="8080194">:=</span>&nbsp;<span class="builtinfunc" id="8080197">new</span><span class="op" id="8080200">(</span><span class="ident" id="8080201">bytes</span><span class="op" id="8080206">.</span><span class="ident" id="8080207">Buffer</span><span class="op" id="8080213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080216">NewEncoder</span><span class="op" id="8080226">(</span><span class="ident" id="8080227">b</span><span class="op" id="8080228">)</span><span class="op" id="8080229">.</span><span class="ident" id="8080230">Encode</span><span class="op" id="8080236">(</span><span class="ident" id="8080237">rt</span><span class="op" id="8080239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8080242">var</span>&nbsp;<span class="ident" id="8080246">drt</span>&nbsp;<span class="ident" id="8080250">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080254">dec</span>&nbsp;<span class="op" id="8080258">:=</span>&nbsp;<span class="ident" id="8080261">NewDecoder</span><span class="op" id="8080271">(</span><span class="ident" id="8080272">b</span><span class="op" id="8080273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080276">err</span>&nbsp;<span class="op" id="8080280">:=</span>&nbsp;<span class="ident" id="8080283">dec</span><span class="op" id="8080286">.</span><span class="ident" id="8080287">Decode</span><span class="op" id="8080293">(</span><span class="op" id="8080294">&amp;</span><span class="ident" id="8080295">drt</span><span class="op" id="8080298">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8080301">if</span>&nbsp;<span class="ident" id="8080304">err</span>&nbsp;<span class="op" id="8080308">!=</span>&nbsp;<span class="ident" id="8080311">nil</span>&nbsp;<span class="op" id="8080315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080319">t</span><span class="op" id="8080320">.</span><span class="ident" id="8080321">Fatal</span><span class="op" id="8080326">(</span><span class="string" id="8080327">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="8080343">,</span>&nbsp;<span class="ident" id="8080345">err</span><span class="op" id="8080348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8080354">if</span>&nbsp;<span class="ident" id="8080357">drt</span><span class="op" id="8080360">.</span><span class="ident" id="8080361">A</span>&nbsp;<span class="op" id="8080363">!=</span>&nbsp;<span class="ident" id="8080366">rt</span><span class="op" id="8080368">.</span><span class="ident" id="8080369">A</span>&nbsp;<span class="op" id="8080371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080375">t</span><span class="op" id="8080376">.</span><span class="ident" id="8080377">Errorf</span><span class="op" id="8080383">(</span><span class="string" id="8080384">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8080420">,</span>&nbsp;<span class="op" id="8080422">*</span><span class="ident" id="8080423">rt</span><span class="op" id="8080425">,</span>&nbsp;<span class="ident" id="8080427">drt</span><span class="op" id="8080430">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8080436">if</span>&nbsp;<span class="ident" id="8080439">drt</span><span class="op" id="8080442">.</span><span class="ident" id="8080443">Next</span>&nbsp;<span class="op" id="8080448">==</span>&nbsp;<span class="ident" id="8080451">nil</span>&nbsp;<span class="op" id="8080455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080459">t</span><span class="op" id="8080460">.</span><span class="ident" id="8080461">Errorf</span><span class="op" id="8080467">(</span><span class="string" id="8080468">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="8080495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8080501">if</span>&nbsp;<span class="ident" id="8080504">drt</span><span class="op" id="8080507">.</span><span class="ident" id="8080508">Next</span><span class="op" id="8080512">.</span><span class="ident" id="8080513">A</span>&nbsp;<span class="op" id="8080515">!=</span>&nbsp;<span class="ident" id="8080518">rt</span><span class="op" id="8080520">.</span><span class="ident" id="8080521">Next</span><span class="op" id="8080525">.</span><span class="ident" id="8080526">A</span>&nbsp;<span class="op" id="8080528">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080532">t</span><span class="op" id="8080533">.</span><span class="ident" id="8080534">Errorf</span><span class="op" id="8080540">(</span><span class="string" id="8080541">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8080577">,</span>&nbsp;<span class="op" id="8080579">*</span><span class="ident" id="8080580">rt</span><span class="op" id="8080582">.</span><span class="ident" id="8080583">Next</span><span class="op" id="8080587">,</span>&nbsp;<span class="op" id="8080589">*</span><span class="ident" id="8080590">drt</span><span class="op" id="8080593">.</span><span class="ident" id="8080594">Next</span><span class="op" id="8080598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080601">}</span><br>
<span class="lineno"></span><span class="op" id="8080603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8080606">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="8080679">type</span>&nbsp;<span class="ident" id="8080684">T0</span>&nbsp;<span class="keyword" id="8080687">struct</span>&nbsp;<span class="op" id="8080694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080697">A</span>&nbsp;<span class="builtintype" id="8080699">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080704">B</span>&nbsp;<span class="builtintype" id="8080706">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080711">C</span>&nbsp;<span class="builtintype" id="8080713">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080718">D</span>&nbsp;<span class="builtintype" id="8080720">int</span><br>
<span class="lineno">805</span><span class="op" id="8080724">}</span><br>
<span class="lineno"></span><span class="keyword" id="8080726">type</span>&nbsp;<span class="ident" id="8080731">T1</span>&nbsp;<span class="keyword" id="8080734">struct</span>&nbsp;<span class="op" id="8080741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080744">A</span>&nbsp;<span class="builtintype" id="8080746">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080751">B</span>&nbsp;<span class="op" id="8080753">*</span><span class="builtintype" id="8080754">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080759">C</span>&nbsp;<span class="op" id="8080761">*</span><span class="op" id="8080762">*</span><span class="builtintype" id="8080763">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080768">D</span>&nbsp;<span class="op" id="8080770">*</span><span class="op" id="8080771">*</span><span class="op" id="8080772">*</span><span class="builtintype" id="8080773">int</span><br>
<span class="lineno"></span><span class="op" id="8080777">}</span><br>
<span class="lineno"></span><span class="keyword" id="8080779">type</span>&nbsp;<span class="ident" id="8080784">T2</span>&nbsp;<span class="keyword" id="8080787">struct</span>&nbsp;<span class="op" id="8080794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080797">A</span>&nbsp;<span class="op" id="8080799">*</span><span class="op" id="8080800">*</span><span class="op" id="8080801">*</span><span class="builtintype" id="8080802">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080807">B</span>&nbsp;<span class="op" id="8080809">*</span><span class="op" id="8080810">*</span><span class="builtintype" id="8080811">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080816">C</span>&nbsp;<span class="op" id="8080818">*</span><span class="builtintype" id="8080819">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080824">D</span>&nbsp;<span class="builtintype" id="8080826">int</span><br>
<span class="lineno"></span><span class="op" id="8080830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8080833">func</span>&nbsp;<span class="ident" id="8080838">TestAutoIndirection</span><span class="op" id="8080857">(</span><span class="ident" id="8080858">t</span>&nbsp;<span class="op" id="8080860">*</span><span class="ident" id="8080861">testing</span><span class="op" id="8080868">.</span><span class="ident" id="8080869">T</span><span class="op" id="8080870">)</span>&nbsp;<span class="op" id="8080872">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8080875">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8080905">var</span>&nbsp;<span class="ident" id="8080909">t1</span>&nbsp;<span class="ident" id="8080912">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080916">t1</span><span class="op" id="8080918">.</span><span class="ident" id="8080919">A</span>&nbsp;<span class="op" id="8080921">=</span>&nbsp;<span class="num" id="8080923">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080927">t1</span><span class="op" id="8080929">.</span><span class="ident" id="8080930">B</span>&nbsp;<span class="op" id="8080932">=</span>&nbsp;<span class="builtinfunc" id="8080934">new</span><span class="op" id="8080937">(</span><span class="builtintype" id="8080938">int</span><span class="op" id="8080941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080944">*</span><span class="ident" id="8080945">t1</span><span class="op" id="8080947">.</span><span class="ident" id="8080948">B</span>&nbsp;<span class="op" id="8080950">=</span>&nbsp;<span class="num" id="8080952">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8080957">t1</span><span class="op" id="8080959">.</span><span class="ident" id="8080960">C</span>&nbsp;<span class="op" id="8080962">=</span>&nbsp;<span class="builtinfunc" id="8080964">new</span><span class="op" id="8080967">(</span><span class="op" id="8080968">*</span><span class="builtintype" id="8080969">int</span><span class="op" id="8080972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080975">*</span><span class="ident" id="8080976">t1</span><span class="op" id="8080978">.</span><span class="ident" id="8080979">C</span>&nbsp;<span class="op" id="8080981">=</span>&nbsp;<span class="builtinfunc" id="8080983">new</span><span class="op" id="8080986">(</span><span class="builtintype" id="8080987">int</span><span class="op" id="8080990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8080993">*</span><span class="op" id="8080994">*</span><span class="ident" id="8080995">t1</span><span class="op" id="8080997">.</span><span class="ident" id="8080998">C</span>&nbsp;<span class="op" id="8081000">=</span>&nbsp;<span class="num" id="8081002">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081008">t1</span><span class="op" id="8081010">.</span><span class="ident" id="8081011">D</span>&nbsp;<span class="op" id="8081013">=</span>&nbsp;<span class="builtinfunc" id="8081015">new</span><span class="op" id="8081018">(</span><span class="op" id="8081019">*</span><span class="op" id="8081020">*</span><span class="builtintype" id="8081021">int</span><span class="op" id="8081024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081027">*</span><span class="ident" id="8081028">t1</span><span class="op" id="8081030">.</span><span class="ident" id="8081031">D</span>&nbsp;<span class="op" id="8081033">=</span>&nbsp;<span class="builtinfunc" id="8081035">new</span><span class="op" id="8081038">(</span><span class="op" id="8081039">*</span><span class="builtintype" id="8081040">int</span><span class="op" id="8081043">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081046">*</span><span class="op" id="8081047">*</span><span class="ident" id="8081048">t1</span><span class="op" id="8081050">.</span><span class="ident" id="8081051">D</span>&nbsp;<span class="op" id="8081053">=</span>&nbsp;<span class="builtinfunc" id="8081055">new</span><span class="op" id="8081058">(</span><span class="builtintype" id="8081059">int</span><span class="op" id="8081062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081065">*</span><span class="op" id="8081066">*</span><span class="op" id="8081067">*</span><span class="ident" id="8081068">t1</span><span class="op" id="8081070">.</span><span class="ident" id="8081071">D</span>&nbsp;<span class="op" id="8081073">=</span>&nbsp;<span class="num" id="8081075">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081082">b</span>&nbsp;<span class="op" id="8081084">:=</span>&nbsp;<span class="builtinfunc" id="8081087">new</span><span class="op" id="8081090">(</span><span class="ident" id="8081091">bytes</span><span class="op" id="8081096">.</span><span class="ident" id="8081097">Buffer</span><span class="op" id="8081103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081106">enc</span>&nbsp;<span class="op" id="8081110">:=</span>&nbsp;<span class="ident" id="8081113">NewEncoder</span><span class="op" id="8081123">(</span><span class="ident" id="8081124">b</span><span class="op" id="8081125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081128">enc</span><span class="op" id="8081131">.</span><span class="ident" id="8081132">Encode</span><span class="op" id="8081138">(</span><span class="ident" id="8081139">t1</span><span class="op" id="8081141">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081144">dec</span>&nbsp;<span class="op" id="8081148">:=</span>&nbsp;<span class="ident" id="8081151">NewDecoder</span><span class="op" id="8081161">(</span><span class="ident" id="8081162">b</span><span class="op" id="8081163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8081166">var</span>&nbsp;<span class="ident" id="8081170">t0</span>&nbsp;<span class="ident" id="8081173">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081177">dec</span><span class="op" id="8081180">.</span><span class="ident" id="8081181">Decode</span><span class="op" id="8081187">(</span><span class="op" id="8081188">&amp;</span><span class="ident" id="8081189">t0</span><span class="op" id="8081191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8081194">if</span>&nbsp;<span class="ident" id="8081197">t0</span><span class="op" id="8081199">.</span><span class="ident" id="8081200">A</span>&nbsp;<span class="op" id="8081202">!=</span>&nbsp;<span class="num" id="8081205">17</span>&nbsp;<span class="op" id="8081208">||</span>&nbsp;<span class="ident" id="8081211">t0</span><span class="op" id="8081213">.</span><span class="ident" id="8081214">B</span>&nbsp;<span class="op" id="8081216">!=</span>&nbsp;<span class="num" id="8081219">177</span>&nbsp;<span class="op" id="8081223">||</span>&nbsp;<span class="ident" id="8081226">t0</span><span class="op" id="8081228">.</span><span class="ident" id="8081229">C</span>&nbsp;<span class="op" id="8081231">!=</span>&nbsp;<span class="num" id="8081234">1777</span>&nbsp;<span class="op" id="8081239">||</span>&nbsp;<span class="ident" id="8081242">t0</span><span class="op" id="8081244">.</span><span class="ident" id="8081245">D</span>&nbsp;<span class="op" id="8081247">!=</span>&nbsp;<span class="num" id="8081250">17777</span>&nbsp;<span class="op" id="8081256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081260">t</span><span class="op" id="8081261">.</span><span class="ident" id="8081262">Errorf</span><span class="op" id="8081268">(</span><span class="string" id="8081269">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8081315">,</span>&nbsp;<span class="ident" id="8081317">t0</span><span class="op" id="8081319">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8081326">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8081354">var</span>&nbsp;<span class="ident" id="8081358">t2</span>&nbsp;<span class="ident" id="8081361">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081365">t2</span><span class="op" id="8081367">.</span><span class="ident" id="8081368">D</span>&nbsp;<span class="op" id="8081370">=</span>&nbsp;<span class="num" id="8081372">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081379">t2</span><span class="op" id="8081381">.</span><span class="ident" id="8081382">C</span>&nbsp;<span class="op" id="8081384">=</span>&nbsp;<span class="builtinfunc" id="8081386">new</span><span class="op" id="8081389">(</span><span class="builtintype" id="8081390">int</span><span class="op" id="8081393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081396">*</span><span class="ident" id="8081397">t2</span><span class="op" id="8081399">.</span><span class="ident" id="8081400">C</span>&nbsp;<span class="op" id="8081402">=</span>&nbsp;<span class="num" id="8081404">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081410">t2</span><span class="op" id="8081412">.</span><span class="ident" id="8081413">B</span>&nbsp;<span class="op" id="8081415">=</span>&nbsp;<span class="builtinfunc" id="8081417">new</span><span class="op" id="8081420">(</span><span class="op" id="8081421">*</span><span class="builtintype" id="8081422">int</span><span class="op" id="8081425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081428">*</span><span class="ident" id="8081429">t2</span><span class="op" id="8081431">.</span><span class="ident" id="8081432">B</span>&nbsp;<span class="op" id="8081434">=</span>&nbsp;<span class="builtinfunc" id="8081436">new</span><span class="op" id="8081439">(</span><span class="builtintype" id="8081440">int</span><span class="op" id="8081443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081446">*</span><span class="op" id="8081447">*</span><span class="ident" id="8081448">t2</span><span class="op" id="8081450">.</span><span class="ident" id="8081451">B</span>&nbsp;<span class="op" id="8081453">=</span>&nbsp;<span class="num" id="8081455">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081460">t2</span><span class="op" id="8081462">.</span><span class="ident" id="8081463">A</span>&nbsp;<span class="op" id="8081465">=</span>&nbsp;<span class="builtinfunc" id="8081467">new</span><span class="op" id="8081470">(</span><span class="op" id="8081471">*</span><span class="op" id="8081472">*</span><span class="builtintype" id="8081473">int</span><span class="op" id="8081476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081479">*</span><span class="ident" id="8081480">t2</span><span class="op" id="8081482">.</span><span class="ident" id="8081483">A</span>&nbsp;<span class="op" id="8081485">=</span>&nbsp;<span class="builtinfunc" id="8081487">new</span><span class="op" id="8081490">(</span><span class="op" id="8081491">*</span><span class="builtintype" id="8081492">int</span><span class="op" id="8081495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081498">*</span><span class="op" id="8081499">*</span><span class="ident" id="8081500">t2</span><span class="op" id="8081502">.</span><span class="ident" id="8081503">A</span>&nbsp;<span class="op" id="8081505">=</span>&nbsp;<span class="builtinfunc" id="8081507">new</span><span class="op" id="8081510">(</span><span class="builtintype" id="8081511">int</span><span class="op" id="8081514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081517">*</span><span class="op" id="8081518">*</span><span class="op" id="8081519">*</span><span class="ident" id="8081520">t2</span><span class="op" id="8081522">.</span><span class="ident" id="8081523">A</span>&nbsp;<span class="op" id="8081525">=</span>&nbsp;<span class="num" id="8081527">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081531">b</span><span class="op" id="8081532">.</span><span class="ident" id="8081533">Reset</span><span class="op" id="8081538">(</span><span class="op" id="8081539">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081542">enc</span><span class="op" id="8081545">.</span><span class="ident" id="8081546">Encode</span><span class="op" id="8081552">(</span><span class="ident" id="8081553">t2</span><span class="op" id="8081555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081558">t0</span>&nbsp;<span class="op" id="8081561">=</span>&nbsp;<span class="ident" id="8081563">T0</span><span class="op" id="8081565">{</span><span class="op" id="8081566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081569">dec</span><span class="op" id="8081572">.</span><span class="ident" id="8081573">Decode</span><span class="op" id="8081579">(</span><span class="op" id="8081580">&amp;</span><span class="ident" id="8081581">t0</span><span class="op" id="8081583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8081586">if</span>&nbsp;<span class="ident" id="8081589">t0</span><span class="op" id="8081591">.</span><span class="ident" id="8081592">A</span>&nbsp;<span class="op" id="8081594">!=</span>&nbsp;<span class="num" id="8081597">17</span>&nbsp;<span class="op" id="8081600">||</span>&nbsp;<span class="ident" id="8081603">t0</span><span class="op" id="8081605">.</span><span class="ident" id="8081606">B</span>&nbsp;<span class="op" id="8081608">!=</span>&nbsp;<span class="num" id="8081611">177</span>&nbsp;<span class="op" id="8081615">||</span>&nbsp;<span class="ident" id="8081618">t0</span><span class="op" id="8081620">.</span><span class="ident" id="8081621">C</span>&nbsp;<span class="op" id="8081623">!=</span>&nbsp;<span class="num" id="8081626">1777</span>&nbsp;<span class="op" id="8081631">||</span>&nbsp;<span class="ident" id="8081634">t0</span><span class="op" id="8081636">.</span><span class="ident" id="8081637">D</span>&nbsp;<span class="op" id="8081639">!=</span>&nbsp;<span class="num" id="8081642">17777</span>&nbsp;<span class="op" id="8081648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081652">t</span><span class="op" id="8081653">.</span><span class="ident" id="8081654">Errorf</span><span class="op" id="8081660">(</span><span class="string" id="8081661">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8081706">,</span>&nbsp;<span class="ident" id="8081708">t0</span><span class="op" id="8081710">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8081713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8081717">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081745">t0</span>&nbsp;<span class="op" id="8081748">=</span>&nbsp;<span class="ident" id="8081750">T0</span><span class="op" id="8081752">{</span><span class="num" id="8081753">17</span><span class="op" id="8081755">,</span>&nbsp;<span class="num" id="8081757">177</span><span class="op" id="8081760">,</span>&nbsp;<span class="num" id="8081762">1777</span><span class="op" id="8081766">,</span>&nbsp;<span class="num" id="8081768">17777</span><span class="op" id="8081773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081776">b</span><span class="op" id="8081777">.</span><span class="ident" id="8081778">Reset</span><span class="op" id="8081783">(</span><span class="op" id="8081784">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081787">enc</span><span class="op" id="8081790">.</span><span class="ident" id="8081791">Encode</span><span class="op" id="8081797">(</span><span class="ident" id="8081798">t0</span><span class="op" id="8081800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081803">t1</span>&nbsp;<span class="op" id="8081806">=</span>&nbsp;<span class="ident" id="8081808">T1</span><span class="op" id="8081810">{</span><span class="op" id="8081811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081814">dec</span><span class="op" id="8081817">.</span><span class="ident" id="8081818">Decode</span><span class="op" id="8081824">(</span><span class="op" id="8081825">&amp;</span><span class="ident" id="8081826">t1</span><span class="op" id="8081828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8081831">if</span>&nbsp;<span class="ident" id="8081834">t1</span><span class="op" id="8081836">.</span><span class="ident" id="8081837">A</span>&nbsp;<span class="op" id="8081839">!=</span>&nbsp;<span class="num" id="8081842">17</span>&nbsp;<span class="op" id="8081845">||</span>&nbsp;<span class="op" id="8081848">*</span><span class="ident" id="8081849">t1</span><span class="op" id="8081851">.</span><span class="ident" id="8081852">B</span>&nbsp;<span class="op" id="8081854">!=</span>&nbsp;<span class="num" id="8081857">177</span>&nbsp;<span class="op" id="8081861">||</span>&nbsp;<span class="op" id="8081864">*</span><span class="op" id="8081865">*</span><span class="ident" id="8081866">t1</span><span class="op" id="8081868">.</span><span class="ident" id="8081869">C</span>&nbsp;<span class="op" id="8081871">!=</span>&nbsp;<span class="num" id="8081874">1777</span>&nbsp;<span class="op" id="8081879">||</span>&nbsp;<span class="op" id="8081882">*</span><span class="op" id="8081883">*</span><span class="op" id="8081884">*</span><span class="ident" id="8081885">t1</span><span class="op" id="8081887">.</span><span class="ident" id="8081888">D</span>&nbsp;<span class="op" id="8081890">!=</span>&nbsp;<span class="num" id="8081893">17777</span>&nbsp;<span class="op" id="8081899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081903">t</span><span class="op" id="8081904">.</span><span class="ident" id="8081905">Errorf</span><span class="op" id="8081911">(</span><span class="string" id="8081912">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8081968">,</span>&nbsp;<span class="ident" id="8081970">t1</span><span class="op" id="8081972">.</span><span class="ident" id="8081973">A</span><span class="op" id="8081974">,</span>&nbsp;<span class="op" id="8081976">*</span><span class="ident" id="8081977">t1</span><span class="op" id="8081979">.</span><span class="ident" id="8081980">B</span><span class="op" id="8081981">,</span>&nbsp;<span class="op" id="8081983">*</span><span class="op" id="8081984">*</span><span class="ident" id="8081985">t1</span><span class="op" id="8081987">.</span><span class="ident" id="8081988">C</span><span class="op" id="8081989">,</span>&nbsp;<span class="op" id="8081991">*</span><span class="op" id="8081992">*</span><span class="op" id="8081993">*</span><span class="ident" id="8081994">t1</span><span class="op" id="8081996">.</span><span class="ident" id="8081997">D</span><span class="op" id="8081998">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8082001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8082005">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082033">b</span><span class="op" id="8082034">.</span><span class="ident" id="8082035">Reset</span><span class="op" id="8082040">(</span><span class="op" id="8082041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082044">enc</span><span class="op" id="8082047">.</span><span class="ident" id="8082048">Encode</span><span class="op" id="8082054">(</span><span class="ident" id="8082055">t0</span><span class="op" id="8082057">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082060">t2</span>&nbsp;<span class="op" id="8082063">=</span>&nbsp;<span class="ident" id="8082065">T2</span><span class="op" id="8082067">{</span><span class="op" id="8082068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082071">dec</span><span class="op" id="8082074">.</span><span class="ident" id="8082075">Decode</span><span class="op" id="8082081">(</span><span class="op" id="8082082">&amp;</span><span class="ident" id="8082083">t2</span><span class="op" id="8082085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8082088">if</span>&nbsp;<span class="op" id="8082091">*</span><span class="op" id="8082092">*</span><span class="op" id="8082093">*</span><span class="ident" id="8082094">t2</span><span class="op" id="8082096">.</span><span class="ident" id="8082097">A</span>&nbsp;<span class="op" id="8082099">!=</span>&nbsp;<span class="num" id="8082102">17</span>&nbsp;<span class="op" id="8082105">||</span>&nbsp;<span class="op" id="8082108">*</span><span class="op" id="8082109">*</span><span class="ident" id="8082110">t2</span><span class="op" id="8082112">.</span><span class="ident" id="8082113">B</span>&nbsp;<span class="op" id="8082115">!=</span>&nbsp;<span class="num" id="8082118">177</span>&nbsp;<span class="op" id="8082122">||</span>&nbsp;<span class="op" id="8082125">*</span><span class="ident" id="8082126">t2</span><span class="op" id="8082128">.</span><span class="ident" id="8082129">C</span>&nbsp;<span class="op" id="8082131">!=</span>&nbsp;<span class="num" id="8082134">1777</span>&nbsp;<span class="op" id="8082139">||</span>&nbsp;<span class="ident" id="8082142">t2</span><span class="op" id="8082144">.</span><span class="ident" id="8082145">D</span>&nbsp;<span class="op" id="8082147">!=</span>&nbsp;<span class="num" id="8082150">17777</span>&nbsp;<span class="op" id="8082156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082160">t</span><span class="op" id="8082161">.</span><span class="ident" id="8082162">Errorf</span><span class="op" id="8082168">(</span><span class="string" id="8082169">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8082225">,</span>&nbsp;<span class="op" id="8082227">*</span><span class="op" id="8082228">*</span><span class="op" id="8082229">*</span><span class="ident" id="8082230">t2</span><span class="op" id="8082232">.</span><span class="ident" id="8082233">A</span><span class="op" id="8082234">,</span>&nbsp;<span class="op" id="8082236">*</span><span class="op" id="8082237">*</span><span class="ident" id="8082238">t2</span><span class="op" id="8082240">.</span><span class="ident" id="8082241">B</span><span class="op" id="8082242">,</span>&nbsp;<span class="op" id="8082244">*</span><span class="ident" id="8082245">t2</span><span class="op" id="8082247">.</span><span class="ident" id="8082248">C</span><span class="op" id="8082249">,</span>&nbsp;<span class="ident" id="8082251">t2</span><span class="op" id="8082253">.</span><span class="ident" id="8082254">D</span><span class="op" id="8082255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8082258">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8082262">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082318">b</span><span class="op" id="8082319">.</span><span class="ident" id="8082320">Reset</span><span class="op" id="8082325">(</span><span class="op" id="8082326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082329">enc</span><span class="op" id="8082332">.</span><span class="ident" id="8082333">Encode</span><span class="op" id="8082339">(</span><span class="ident" id="8082340">t0</span><span class="op" id="8082342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8082345">*</span><span class="op" id="8082346">*</span><span class="op" id="8082347">*</span><span class="ident" id="8082348">t2</span><span class="op" id="8082350">.</span><span class="ident" id="8082351">A</span>&nbsp;<span class="op" id="8082353">=</span>&nbsp;<span class="num" id="8082355">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8082358">*</span><span class="op" id="8082359">*</span><span class="ident" id="8082360">t2</span><span class="op" id="8082362">.</span><span class="ident" id="8082363">B</span>&nbsp;<span class="op" id="8082365">=</span>&nbsp;<span class="num" id="8082367">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8082370">*</span><span class="ident" id="8082371">t2</span><span class="op" id="8082373">.</span><span class="ident" id="8082374">C</span>&nbsp;<span class="op" id="8082376">=</span>&nbsp;<span class="num" id="8082378">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082381">t2</span><span class="op" id="8082383">.</span><span class="ident" id="8082384">D</span>&nbsp;<span class="op" id="8082386">=</span>&nbsp;<span class="num" id="8082388">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082391">dec</span><span class="op" id="8082394">.</span><span class="ident" id="8082395">Decode</span><span class="op" id="8082401">(</span><span class="op" id="8082402">&amp;</span><span class="ident" id="8082403">t2</span><span class="op" id="8082405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8082408">if</span>&nbsp;<span class="op" id="8082411">*</span><span class="op" id="8082412">*</span><span class="op" id="8082413">*</span><span class="ident" id="8082414">t2</span><span class="op" id="8082416">.</span><span class="ident" id="8082417">A</span>&nbsp;<span class="op" id="8082419">!=</span>&nbsp;<span class="num" id="8082422">17</span>&nbsp;<span class="op" id="8082425">||</span>&nbsp;<span class="op" id="8082428">*</span><span class="op" id="8082429">*</span><span class="ident" id="8082430">t2</span><span class="op" id="8082432">.</span><span class="ident" id="8082433">B</span>&nbsp;<span class="op" id="8082435">!=</span>&nbsp;<span class="num" id="8082438">177</span>&nbsp;<span class="op" id="8082442">||</span>&nbsp;<span class="op" id="8082445">*</span><span class="ident" id="8082446">t2</span><span class="op" id="8082448">.</span><span class="ident" id="8082449">C</span>&nbsp;<span class="op" id="8082451">!=</span>&nbsp;<span class="num" id="8082454">1777</span>&nbsp;<span class="op" id="8082459">||</span>&nbsp;<span class="ident" id="8082462">t2</span><span class="op" id="8082464">.</span><span class="ident" id="8082465">D</span>&nbsp;<span class="op" id="8082467">!=</span>&nbsp;<span class="num" id="8082470">17777</span>&nbsp;<span class="op" id="8082476">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082480">t</span><span class="op" id="8082481">.</span><span class="ident" id="8082482">Errorf</span><span class="op" id="8082488">(</span><span class="string" id="8082489">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8082545">,</span>&nbsp;<span class="op" id="8082547">*</span><span class="op" id="8082548">*</span><span class="op" id="8082549">*</span><span class="ident" id="8082550">t2</span><span class="op" id="8082552">.</span><span class="ident" id="8082553">A</span><span class="op" id="8082554">,</span>&nbsp;<span class="op" id="8082556">*</span><span class="op" id="8082557">*</span><span class="ident" id="8082558">t2</span><span class="op" id="8082560">.</span><span class="ident" id="8082561">B</span><span class="op" id="8082562">,</span>&nbsp;<span class="op" id="8082564">*</span><span class="ident" id="8082565">t2</span><span class="op" id="8082567">.</span><span class="ident" id="8082568">C</span><span class="op" id="8082569">,</span>&nbsp;<span class="ident" id="8082571">t2</span><span class="op" id="8082573">.</span><span class="ident" id="8082574">D</span><span class="op" id="8082575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8082578">}</span><br>
<span class="lineno"></span><span class="op" id="8082580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082583">type</span>&nbsp;<span class="ident" id="8082588">RT0</span>&nbsp;<span class="keyword" id="8082592">struct</span>&nbsp;<span class="op" id="8082599">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082602">A</span>&nbsp;<span class="builtintype" id="8082604">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082609">B</span>&nbsp;<span class="builtintype" id="8082611">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082619">C</span>&nbsp;<span class="builtintype" id="8082621">float64</span><br>
<span class="lineno"></span><span class="op" id="8082629">}</span><br>
<span class="lineno"></span><span class="keyword" id="8082631">type</span>&nbsp;<span class="ident" id="8082636">RT1</span>&nbsp;<span class="keyword" id="8082640">struct</span>&nbsp;<span class="op" id="8082647">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082650">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8082657">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082666">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8082673">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082681">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8082688">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082693">NotSet</span>&nbsp;<span class="builtintype" id="8082700">string</span><br>
<span class="lineno"></span><span class="op" id="8082707">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="8082710">func</span>&nbsp;<span class="ident" id="8082715">TestReorderedFields</span><span class="op" id="8082734">(</span><span class="ident" id="8082735">t</span>&nbsp;<span class="op" id="8082737">*</span><span class="ident" id="8082738">testing</span><span class="op" id="8082745">.</span><span class="ident" id="8082746">T</span><span class="op" id="8082747">)</span>&nbsp;<span class="op" id="8082749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8082752">var</span>&nbsp;<span class="ident" id="8082756">rt0</span>&nbsp;<span class="ident" id="8082760">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082765">rt0</span><span class="op" id="8082768">.</span><span class="ident" id="8082769">A</span>&nbsp;<span class="op" id="8082771">=</span>&nbsp;<span class="num" id="8082773">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082777">rt0</span><span class="op" id="8082780">.</span><span class="ident" id="8082781">B</span>&nbsp;<span class="op" id="8082783">=</span>&nbsp;<span class="string" id="8082785">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082794">rt0</span><span class="op" id="8082797">.</span><span class="ident" id="8082798">C</span>&nbsp;<span class="op" id="8082800">=</span>&nbsp;<span class="num" id="8082802">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082811">b</span>&nbsp;<span class="op" id="8082813">:=</span>&nbsp;<span class="builtinfunc" id="8082816">new</span><span class="op" id="8082819">(</span><span class="ident" id="8082820">bytes</span><span class="op" id="8082825">.</span><span class="ident" id="8082826">Buffer</span><span class="op" id="8082832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082835">NewEncoder</span><span class="op" id="8082845">(</span><span class="ident" id="8082846">b</span><span class="op" id="8082847">)</span><span class="op" id="8082848">.</span><span class="ident" id="8082849">Encode</span><span class="op" id="8082855">(</span><span class="ident" id="8082856">rt0</span><span class="op" id="8082859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082862">dec</span>&nbsp;<span class="op" id="8082866">:=</span>&nbsp;<span class="ident" id="8082869">NewDecoder</span><span class="op" id="8082879">(</span><span class="ident" id="8082880">b</span><span class="op" id="8082881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8082884">var</span>&nbsp;<span class="ident" id="8082888">rt1</span>&nbsp;<span class="ident" id="8082892">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8082897">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082938">err</span>&nbsp;<span class="op" id="8082942">:=</span>&nbsp;<span class="ident" id="8082945">dec</span><span class="op" id="8082948">.</span><span class="ident" id="8082949">Decode</span><span class="op" id="8082955">(</span><span class="op" id="8082956">&amp;</span><span class="ident" id="8082957">rt1</span><span class="op" id="8082960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8082963">if</span>&nbsp;<span class="ident" id="8082966">err</span>&nbsp;<span class="op" id="8082970">!=</span>&nbsp;<span class="ident" id="8082973">nil</span>&nbsp;<span class="op" id="8082977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082981">t</span><span class="op" id="8082982">.</span><span class="ident" id="8082983">Fatal</span><span class="op" id="8082988">(</span><span class="string" id="8082989">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8083004">,</span>&nbsp;<span class="ident" id="8083006">err</span><span class="op" id="8083009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8083012">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8083015">if</span>&nbsp;<span class="ident" id="8083018">rt0</span><span class="op" id="8083021">.</span><span class="ident" id="8083022">A</span>&nbsp;<span class="op" id="8083024">!=</span>&nbsp;<span class="ident" id="8083027">rt1</span><span class="op" id="8083030">.</span><span class="ident" id="8083031">A</span>&nbsp;<span class="op" id="8083033">||</span>&nbsp;<span class="ident" id="8083036">rt0</span><span class="op" id="8083039">.</span><span class="ident" id="8083040">B</span>&nbsp;<span class="op" id="8083042">!=</span>&nbsp;<span class="ident" id="8083045">rt1</span><span class="op" id="8083048">.</span><span class="ident" id="8083049">B</span>&nbsp;<span class="op" id="8083051">||</span>&nbsp;<span class="ident" id="8083054">rt0</span><span class="op" id="8083057">.</span><span class="ident" id="8083058">C</span>&nbsp;<span class="op" id="8083060">!=</span>&nbsp;<span class="ident" id="8083063">rt1</span><span class="op" id="8083066">.</span><span class="ident" id="8083067">C</span>&nbsp;<span class="op" id="8083069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083073">t</span><span class="op" id="8083074">.</span><span class="ident" id="8083075">Errorf</span><span class="op" id="8083081">(</span><span class="string" id="8083082">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8083113">,</span>&nbsp;<span class="ident" id="8083115">rt0</span><span class="op" id="8083118">,</span>&nbsp;<span class="ident" id="8083120">rt1</span><span class="op" id="8083123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8083126">}</span><br>
<span class="lineno"></span><span class="op" id="8083128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="8083131">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="8083195">type</span>&nbsp;<span class="ident" id="8083200">IT0</span>&nbsp;<span class="keyword" id="8083204">struct</span>&nbsp;<span class="op" id="8083211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083214">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8083223">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083230">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8083239">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083247">Ignore_d</span>&nbsp;<span class="op" id="8083256">[</span><span class="op" id="8083257">]</span><span class="builtintype" id="8083258">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083263">Ignore_e</span>&nbsp;<span class="op" id="8083272">[</span><span class="num" id="8083273">3</span><span class="op" id="8083274">]</span><span class="builtintype" id="8083275">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083284">Ignore_f</span>&nbsp;<span class="builtintype" id="8083293">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083299">Ignore_g</span>&nbsp;<span class="builtintype" id="8083308">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083316">Ignore_h</span>&nbsp;<span class="op" id="8083325">[</span><span class="op" id="8083326">]</span><span class="builtintype" id="8083327">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083333">Ignore_i</span>&nbsp;<span class="op" id="8083342">*</span><span class="ident" id="8083343">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083348">Ignore_m</span>&nbsp;<span class="keyword" id="8083357">map</span><span class="op" id="8083360">[</span><span class="builtintype" id="8083361">string</span><span class="op" id="8083367">]</span><span class="builtintype" id="8083368">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083373">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8083382">float64</span><br>
<span class="lineno"></span><span class="op" id="8083390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8083393">func</span>&nbsp;<span class="ident" id="8083398">TestIgnoredFields</span><span class="op" id="8083415">(</span><span class="ident" id="8083416">t</span>&nbsp;<span class="op" id="8083418">*</span><span class="ident" id="8083419">testing</span><span class="op" id="8083426">.</span><span class="ident" id="8083427">T</span><span class="op" id="8083428">)</span>&nbsp;<span class="op" id="8083430">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8083433">var</span>&nbsp;<span class="ident" id="8083437">it0</span>&nbsp;<span class="ident" id="8083441">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083446">it0</span><span class="op" id="8083449">.</span><span class="ident" id="8083450">A</span>&nbsp;<span class="op" id="8083452">=</span>&nbsp;<span class="num" id="8083454">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083458">it0</span><span class="op" id="8083461">.</span><span class="ident" id="8083462">B</span>&nbsp;<span class="op" id="8083464">=</span>&nbsp;<span class="string" id="8083466">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083475">it0</span><span class="op" id="8083478">.</span><span class="ident" id="8083479">C</span>&nbsp;<span class="op" id="8083481">=</span>&nbsp;<span class="num" id="8083483">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083492">it0</span><span class="op" id="8083495">.</span><span class="ident" id="8083496">Ignore_d</span>&nbsp;<span class="op" id="8083505">=</span>&nbsp;<span class="op" id="8083507">[</span><span class="op" id="8083508">]</span><span class="builtintype" id="8083509">int</span><span class="op" id="8083512">{</span><span class="num" id="8083513">1</span><span class="op" id="8083514">,</span>&nbsp;<span class="num" id="8083516">2</span><span class="op" id="8083517">,</span>&nbsp;<span class="num" id="8083519">3</span><span class="op" id="8083520">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083523">it0</span><span class="op" id="8083526">.</span><span class="ident" id="8083527">Ignore_e</span><span class="op" id="8083535">[</span><span class="num" id="8083536">0</span><span class="op" id="8083537">]</span>&nbsp;<span class="op" id="8083539">=</span>&nbsp;<span class="num" id="8083541">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083546">it0</span><span class="op" id="8083549">.</span><span class="ident" id="8083550">Ignore_e</span><span class="op" id="8083558">[</span><span class="num" id="8083559">1</span><span class="op" id="8083560">]</span>&nbsp;<span class="op" id="8083562">=</span>&nbsp;<span class="num" id="8083564">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083569">it0</span><span class="op" id="8083572">.</span><span class="ident" id="8083573">Ignore_e</span><span class="op" id="8083581">[</span><span class="num" id="8083582">2</span><span class="op" id="8083583">]</span>&nbsp;<span class="op" id="8083585">=</span>&nbsp;<span class="num" id="8083587">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083592">it0</span><span class="op" id="8083595">.</span><span class="ident" id="8083596">Ignore_f</span>&nbsp;<span class="op" id="8083605">=</span>&nbsp;<span class="builtintype" id="8083607">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083613">it0</span><span class="op" id="8083616">.</span><span class="ident" id="8083617">Ignore_g</span>&nbsp;<span class="op" id="8083626">=</span>&nbsp;<span class="string" id="8083628">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083648">it0</span><span class="op" id="8083651">.</span><span class="ident" id="8083652">Ignore_h</span>&nbsp;<span class="op" id="8083661">=</span>&nbsp;<span class="op" id="8083663">[</span><span class="op" id="8083664">]</span><span class="builtintype" id="8083665">byte</span><span class="op" id="8083669">(</span><span class="string" id="8083670">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="8083686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083689">it0</span><span class="op" id="8083692">.</span><span class="ident" id="8083693">Ignore_i</span>&nbsp;<span class="op" id="8083702">=</span>&nbsp;<span class="op" id="8083704">&amp;</span><span class="ident" id="8083705">RT1</span><span class="op" id="8083708">{</span><span class="num" id="8083709">3.1</span><span class="op" id="8083712">,</span>&nbsp;<span class="string" id="8083714">&#34;hi&#34;</span><span class="op" id="8083718">,</span>&nbsp;<span class="num" id="8083720">7</span><span class="op" id="8083721">,</span>&nbsp;<span class="string" id="8083723">&#34;hello&#34;</span><span class="op" id="8083730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083733">it0</span><span class="op" id="8083736">.</span><span class="ident" id="8083737">Ignore_m</span>&nbsp;<span class="op" id="8083746">=</span>&nbsp;<span class="keyword" id="8083748">map</span><span class="op" id="8083751">[</span><span class="builtintype" id="8083752">string</span><span class="op" id="8083758">]</span><span class="builtintype" id="8083759">int</span><span class="op" id="8083762">{</span><span class="string" id="8083763">&#34;one&#34;</span><span class="op" id="8083768">:</span>&nbsp;<span class="num" id="8083770">1</span><span class="op" id="8083771">,</span>&nbsp;<span class="string" id="8083773">&#34;two&#34;</span><span class="op" id="8083778">:</span>&nbsp;<span class="num" id="8083780">2</span><span class="op" id="8083781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083785">b</span>&nbsp;<span class="op" id="8083787">:=</span>&nbsp;<span class="builtinfunc" id="8083790">new</span><span class="op" id="8083793">(</span><span class="ident" id="8083794">bytes</span><span class="op" id="8083799">.</span><span class="ident" id="8083800">Buffer</span><span class="op" id="8083806">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083809">NewEncoder</span><span class="op" id="8083819">(</span><span class="ident" id="8083820">b</span><span class="op" id="8083821">)</span><span class="op" id="8083822">.</span><span class="ident" id="8083823">Encode</span><span class="op" id="8083829">(</span><span class="ident" id="8083830">it0</span><span class="op" id="8083833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083836">dec</span>&nbsp;<span class="op" id="8083840">:=</span>&nbsp;<span class="ident" id="8083843">NewDecoder</span><span class="op" id="8083853">(</span><span class="ident" id="8083854">b</span><span class="op" id="8083855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8083858">var</span>&nbsp;<span class="ident" id="8083862">rt1</span>&nbsp;<span class="ident" id="8083866">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8083871">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083912">err</span>&nbsp;<span class="op" id="8083916">:=</span>&nbsp;<span class="ident" id="8083919">dec</span><span class="op" id="8083922">.</span><span class="ident" id="8083923">Decode</span><span class="op" id="8083929">(</span><span class="op" id="8083930">&amp;</span><span class="ident" id="8083931">rt1</span><span class="op" id="8083934">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8083937">if</span>&nbsp;<span class="ident" id="8083940">err</span>&nbsp;<span class="op" id="8083944">!=</span>&nbsp;<span class="ident" id="8083947">nil</span>&nbsp;<span class="op" id="8083951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083955">t</span><span class="op" id="8083956">.</span><span class="ident" id="8083957">Error</span><span class="op" id="8083962">(</span><span class="string" id="8083963">&#34;error:&nbsp;&#34;</span><span class="op" id="8083972">,</span>&nbsp;<span class="ident" id="8083974">err</span><span class="op" id="8083977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8083980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8083983">if</span>&nbsp;<span class="builtintype" id="8083986">int</span><span class="op" id="8083989">(</span><span class="ident" id="8083990">it0</span><span class="op" id="8083993">.</span><span class="ident" id="8083994">A</span><span class="op" id="8083995">)</span>&nbsp;<span class="op" id="8083997">!=</span>&nbsp;<span class="ident" id="8084000">rt1</span><span class="op" id="8084003">.</span><span class="ident" id="8084004">A</span>&nbsp;<span class="op" id="8084006">||</span>&nbsp;<span class="ident" id="8084009">it0</span><span class="op" id="8084012">.</span><span class="ident" id="8084013">B</span>&nbsp;<span class="op" id="8084015">!=</span>&nbsp;<span class="ident" id="8084018">rt1</span><span class="op" id="8084021">.</span><span class="ident" id="8084022">B</span>&nbsp;<span class="op" id="8084024">||</span>&nbsp;<span class="ident" id="8084027">it0</span><span class="op" id="8084030">.</span><span class="ident" id="8084031">C</span>&nbsp;<span class="op" id="8084033">!=</span>&nbsp;<span class="ident" id="8084036">rt1</span><span class="op" id="8084039">.</span><span class="ident" id="8084040">C</span>&nbsp;<span class="op" id="8084042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084046">t</span><span class="op" id="8084047">.</span><span class="ident" id="8084048">Errorf</span><span class="op" id="8084054">(</span><span class="string" id="8084055">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8084086">,</span>&nbsp;<span class="ident" id="8084088">it0</span><span class="op" id="8084091">,</span>&nbsp;<span class="ident" id="8084093">rt1</span><span class="op" id="8084096">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084099">}</span><br>
<span class="lineno"></span><span class="op" id="8084101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8084104">func</span>&nbsp;<span class="ident" id="8084109">TestBadRecursiveType</span><span class="op" id="8084129">(</span><span class="ident" id="8084130">t</span>&nbsp;<span class="op" id="8084132">*</span><span class="ident" id="8084133">testing</span><span class="op" id="8084140">.</span><span class="ident" id="8084141">T</span><span class="op" id="8084142">)</span>&nbsp;<span class="op" id="8084144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8084147">type</span>&nbsp;<span class="ident" id="8084152">Rec</span>&nbsp;<span class="op" id="8084156">*</span><span class="op" id="8084157">*</span><span class="op" id="8084158">*</span><span class="ident" id="8084159">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8084164">var</span>&nbsp;<span class="ident" id="8084168">rec</span>&nbsp;<span class="ident" id="8084172">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084177">b</span>&nbsp;<span class="op" id="8084179">:=</span>&nbsp;<span class="builtinfunc" id="8084182">new</span><span class="op" id="8084185">(</span><span class="ident" id="8084186">bytes</span><span class="op" id="8084191">.</span><span class="ident" id="8084192">Buffer</span><span class="op" id="8084198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084201">err</span>&nbsp;<span class="op" id="8084205">:=</span>&nbsp;<span class="ident" id="8084208">NewEncoder</span><span class="op" id="8084218">(</span><span class="ident" id="8084219">b</span><span class="op" id="8084220">)</span><span class="op" id="8084221">.</span><span class="ident" id="8084222">Encode</span><span class="op" id="8084228">(</span><span class="op" id="8084229">&amp;</span><span class="ident" id="8084230">rec</span><span class="op" id="8084233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8084236">if</span>&nbsp;<span class="ident" id="8084239">err</span>&nbsp;<span class="op" id="8084243">==</span>&nbsp;<span class="ident" id="8084246">nil</span>&nbsp;<span class="op" id="8084250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084254">t</span><span class="op" id="8084255">.</span><span class="ident" id="8084256">Error</span><span class="op" id="8084261">(</span><span class="string" id="8084262">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8084288">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084291">}</span>&nbsp;<span class="keyword" id="8084293">else</span>&nbsp;<span class="keyword" id="8084298">if</span>&nbsp;<span class="ident" id="8084301">strings</span><span class="op" id="8084308">.</span><span class="ident" id="8084309">Index</span><span class="op" id="8084314">(</span><span class="ident" id="8084315">err</span><span class="op" id="8084318">.</span><span class="ident" id="8084319">Error</span><span class="op" id="8084324">(</span><span class="op" id="8084325">)</span><span class="op" id="8084326">,</span>&nbsp;<span class="string" id="8084328">&#34;recursive&#34;</span><span class="op" id="8084339">)</span>&nbsp;<span class="op" id="8084341">&lt;</span>&nbsp;<span class="num" id="8084343">0</span>&nbsp;<span class="op" id="8084345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084349">t</span><span class="op" id="8084350">.</span><span class="ident" id="8084351">Error</span><span class="op" id="8084356">(</span><span class="string" id="8084357">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8084393">,</span>&nbsp;<span class="ident" id="8084395">err</span><span class="op" id="8084398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8084404">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="8084496">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="8084499">type</span>&nbsp;<span class="ident" id="8084504">Indirect</span>&nbsp;<span class="keyword" id="8084513">struct</span>&nbsp;<span class="op" id="8084520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084523">A</span>&nbsp;<span class="op" id="8084525">*</span><span class="op" id="8084526">*</span><span class="op" id="8084527">*</span><span class="op" id="8084528">[</span><span class="num" id="8084529">3</span><span class="op" id="8084530">]</span><span class="builtintype" id="8084531">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084536">S</span>&nbsp;<span class="op" id="8084538">*</span><span class="op" id="8084539">*</span><span class="op" id="8084540">*</span><span class="op" id="8084541">[</span><span class="op" id="8084542">]</span><span class="builtintype" id="8084543">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084548">M</span>&nbsp;<span class="op" id="8084550">*</span><span class="op" id="8084551">*</span><span class="op" id="8084552">*</span><span class="op" id="8084553">*</span><span class="keyword" id="8084554">map</span><span class="op" id="8084557">[</span><span class="builtintype" id="8084558">string</span><span class="op" id="8084564">]</span><span class="builtintype" id="8084565">int</span><br>
<span class="lineno">985</span><span class="op" id="8084569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8084572">type</span>&nbsp;<span class="ident" id="8084577">Direct</span>&nbsp;<span class="keyword" id="8084584">struct</span>&nbsp;<span class="op" id="8084591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084594">A</span>&nbsp;<span class="op" id="8084596">[</span><span class="num" id="8084597">3</span><span class="op" id="8084598">]</span><span class="builtintype" id="8084599">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084604">S</span>&nbsp;<span class="op" id="8084606">[</span><span class="op" id="8084607">]</span><span class="builtintype" id="8084608">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084613">M</span>&nbsp;<span class="keyword" id="8084615">map</span><span class="op" id="8084618">[</span><span class="builtintype" id="8084619">string</span><span class="op" id="8084625">]</span><span class="builtintype" id="8084626">int</span><br>
<span class="lineno"></span><span class="op" id="8084630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8084633">func</span>&nbsp;<span class="ident" id="8084638">TestIndirectSliceMapArray</span><span class="op" id="8084663">(</span><span class="ident" id="8084664">t</span>&nbsp;<span class="op" id="8084666">*</span><span class="ident" id="8084667">testing</span><span class="op" id="8084674">.</span><span class="ident" id="8084675">T</span><span class="op" id="8084676">)</span>&nbsp;<span class="op" id="8084678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8084681">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084724">i</span>&nbsp;<span class="op" id="8084726">:=</span>&nbsp;<span class="builtinfunc" id="8084729">new</span><span class="op" id="8084732">(</span><span class="ident" id="8084733">Indirect</span><span class="op" id="8084741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084744">i</span><span class="op" id="8084745">.</span><span class="ident" id="8084746">A</span>&nbsp;<span class="op" id="8084748">=</span>&nbsp;<span class="builtinfunc" id="8084750">new</span><span class="op" id="8084753">(</span><span class="op" id="8084754">*</span><span class="op" id="8084755">*</span><span class="op" id="8084756">[</span><span class="num" id="8084757">3</span><span class="op" id="8084758">]</span><span class="builtintype" id="8084759">int</span><span class="op" id="8084762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084765">*</span><span class="ident" id="8084766">i</span><span class="op" id="8084767">.</span><span class="ident" id="8084768">A</span>&nbsp;<span class="op" id="8084770">=</span>&nbsp;<span class="builtinfunc" id="8084772">new</span><span class="op" id="8084775">(</span><span class="op" id="8084776">*</span><span class="op" id="8084777">[</span><span class="num" id="8084778">3</span><span class="op" id="8084779">]</span><span class="builtintype" id="8084780">int</span><span class="op" id="8084783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084786">*</span><span class="op" id="8084787">*</span><span class="ident" id="8084788">i</span><span class="op" id="8084789">.</span><span class="ident" id="8084790">A</span>&nbsp;<span class="op" id="8084792">=</span>&nbsp;<span class="builtinfunc" id="8084794">new</span><span class="op" id="8084797">(</span><span class="op" id="8084798">[</span><span class="num" id="8084799">3</span><span class="op" id="8084800">]</span><span class="builtintype" id="8084801">int</span><span class="op" id="8084804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084807">*</span><span class="op" id="8084808">*</span><span class="op" id="8084809">*</span><span class="ident" id="8084810">i</span><span class="op" id="8084811">.</span><span class="ident" id="8084812">A</span>&nbsp;<span class="op" id="8084814">=</span>&nbsp;<span class="op" id="8084816">[</span><span class="num" id="8084817">3</span><span class="op" id="8084818">]</span><span class="builtintype" id="8084819">int</span><span class="op" id="8084822">{</span><span class="num" id="8084823">1</span><span class="op" id="8084824">,</span>&nbsp;<span class="num" id="8084826">2</span><span class="op" id="8084827">,</span>&nbsp;<span class="num" id="8084829">3</span><span class="op" id="8084830">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084833">i</span><span class="op" id="8084834">.</span><span class="ident" id="8084835">S</span>&nbsp;<span class="op" id="8084837">=</span>&nbsp;<span class="builtinfunc" id="8084839">new</span><span class="op" id="8084842">(</span><span class="op" id="8084843">*</span><span class="op" id="8084844">*</span><span class="op" id="8084845">[</span><span class="op" id="8084846">]</span><span class="builtintype" id="8084847">int</span><span class="op" id="8084850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084853">*</span><span class="ident" id="8084854">i</span><span class="op" id="8084855">.</span><span class="ident" id="8084856">S</span>&nbsp;<span class="op" id="8084858">=</span>&nbsp;<span class="builtinfunc" id="8084860">new</span><span class="op" id="8084863">(</span><span class="op" id="8084864">*</span><span class="op" id="8084865">[</span><span class="op" id="8084866">]</span><span class="builtintype" id="8084867">int</span><span class="op" id="8084870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084873">*</span><span class="op" id="8084874">*</span><span class="ident" id="8084875">i</span><span class="op" id="8084876">.</span><span class="ident" id="8084877">S</span>&nbsp;<span class="op" id="8084879">=</span>&nbsp;<span class="builtinfunc" id="8084881">new</span><span class="op" id="8084884">(</span><span class="op" id="8084885">[</span><span class="op" id="8084886">]</span><span class="builtintype" id="8084887">int</span><span class="op" id="8084890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084893">*</span><span class="op" id="8084894">*</span><span class="op" id="8084895">*</span><span class="ident" id="8084896">i</span><span class="op" id="8084897">.</span><span class="ident" id="8084898">S</span>&nbsp;<span class="op" id="8084900">=</span>&nbsp;<span class="op" id="8084902">[</span><span class="op" id="8084903">]</span><span class="builtintype" id="8084904">int</span><span class="op" id="8084907">{</span><span class="num" id="8084908">4</span><span class="op" id="8084909">,</span>&nbsp;<span class="num" id="8084911">5</span><span class="op" id="8084912">,</span>&nbsp;<span class="num" id="8084914">6</span><span class="op" id="8084915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084918">i</span><span class="op" id="8084919">.</span><span class="ident" id="8084920">M</span>&nbsp;<span class="op" id="8084922">=</span>&nbsp;<span class="builtinfunc" id="8084924">new</span><span class="op" id="8084927">(</span><span class="op" id="8084928">*</span><span class="op" id="8084929">*</span><span class="op" id="8084930">*</span><span class="keyword" id="8084931">map</span><span class="op" id="8084934">[</span><span class="builtintype" id="8084935">string</span><span class="op" id="8084941">]</span><span class="builtintype" id="8084942">int</span><span class="op" id="8084945">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084948">*</span><span class="ident" id="8084949">i</span><span class="op" id="8084950">.</span><span class="ident" id="8084951">M</span>&nbsp;<span class="op" id="8084953">=</span>&nbsp;<span class="builtinfunc" id="8084955">new</span><span class="op" id="8084958">(</span><span class="op" id="8084959">*</span><span class="op" id="8084960">*</span><span class="keyword" id="8084961">map</span><span class="op" id="8084964">[</span><span class="builtintype" id="8084965">string</span><span class="op" id="8084971">]</span><span class="builtintype" id="8084972">int</span><span class="op" id="8084975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8084978">*</span><span class="op" id="8084979">*</span><span class="ident" id="8084980">i</span><span class="op" id="8084981">.</span><span class="ident" id="8084982">M</span>&nbsp;<span class="op" id="8084984">=</span>&nbsp;<span class="builtinfunc" id="8084986">new</span><span class="op" id="8084989">(</span><span class="op" id="8084990">*</span><span class="keyword" id="8084991">map</span><span class="op" id="8084994">[</span><span class="builtintype" id="8084995">string</span><span class="op" id="8085001">]</span><span class="builtintype" id="8085002">int</span><span class="op" id="8085005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8085008">*</span><span class="op" id="8085009">*</span><span class="op" id="8085010">*</span><span class="ident" id="8085011">i</span><span class="op" id="8085012">.</span><span class="ident" id="8085013">M</span>&nbsp;<span class="op" id="8085015">=</span>&nbsp;<span class="builtinfunc" id="8085017">new</span><span class="op" id="8085020">(</span><span class="keyword" id="8085021">map</span><span class="op" id="8085024">[</span><span class="builtintype" id="8085025">string</span><span class="op" id="8085031">]</span><span class="builtintype" id="8085032">int</span><span class="op" id="8085035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8085038">*</span><span class="op" id="8085039">*</span><span class="op" id="8085040">*</span><span class="op" id="8085041">*</span><span class="ident" id="8085042">i</span><span class="op" id="8085043">.</span><span class="ident" id="8085044">M</span>&nbsp;<span class="op" id="8085046">=</span>&nbsp;<span class="keyword" id="8085048">map</span><span class="op" id="8085051">[</span><span class="builtintype" id="8085052">string</span><span class="op" id="8085058">]</span><span class="builtintype" id="8085059">int</span><span class="op" id="8085062">{</span><span class="string" id="8085063">&#34;one&#34;</span><span class="op" id="8085068">:</span>&nbsp;<span class="num" id="8085070">1</span><span class="op" id="8085071">,</span>&nbsp;<span class="string" id="8085073">&#34;two&#34;</span><span class="op" id="8085078">:</span>&nbsp;<span class="num" id="8085080">2</span><span class="op" id="8085081">,</span>&nbsp;<span class="string" id="8085083">&#34;three&#34;</span><span class="op" id="8085090">:</span>&nbsp;<span class="num" id="8085092">3</span><span class="op" id="8085093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085096">b</span>&nbsp;<span class="op" id="8085098">:=</span>&nbsp;<span class="builtinfunc" id="8085101">new</span><span class="op" id="8085104">(</span><span class="ident" id="8085105">bytes</span><span class="op" id="8085110">.</span><span class="ident" id="8085111">Buffer</span><span class="op" id="8085117">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085120">NewEncoder</span><span class="op" id="8085130">(</span><span class="ident" id="8085131">b</span><span class="op" id="8085132">)</span><span class="op" id="8085133">.</span><span class="ident" id="8085134">Encode</span><span class="op" id="8085140">(</span><span class="ident" id="8085141">i</span><span class="op" id="8085142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085145">dec</span>&nbsp;<span class="op" id="8085149">:=</span>&nbsp;<span class="ident" id="8085152">NewDecoder</span><span class="op" id="8085162">(</span><span class="ident" id="8085163">b</span><span class="op" id="8085164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8085167">var</span>&nbsp;<span class="ident" id="8085171">d</span>&nbsp;<span class="ident" id="8085173">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085181">err</span>&nbsp;<span class="op" id="8085185">:=</span>&nbsp;<span class="ident" id="8085188">dec</span><span class="op" id="8085191">.</span><span class="ident" id="8085192">Decode</span><span class="op" id="8085198">(</span><span class="op" id="8085199">&amp;</span><span class="ident" id="8085200">d</span><span class="op" id="8085201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8085204">if</span>&nbsp;<span class="ident" id="8085207">err</span>&nbsp;<span class="op" id="8085211">!=</span>&nbsp;<span class="ident" id="8085214">nil</span>&nbsp;<span class="op" id="8085218">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085222">t</span><span class="op" id="8085223">.</span><span class="ident" id="8085224">Error</span><span class="op" id="8085229">(</span><span class="string" id="8085230">&#34;error:&nbsp;&#34;</span><span class="op" id="8085239">,</span>&nbsp;<span class="ident" id="8085241">err</span><span class="op" id="8085244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8085247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8085250">if</span>&nbsp;<span class="builtinfunc" id="8085253">len</span><span class="op" id="8085256">(</span><span class="ident" id="8085257">d</span><span class="op" id="8085258">.</span><span class="ident" id="8085259">A</span><span class="op" id="8085260">)</span>&nbsp;<span class="op" id="8085262">!=</span>&nbsp;<span class="num" id="8085265">3</span>&nbsp;<span class="op" id="8085267">||</span>&nbsp;<span class="ident" id="8085270">d</span><span class="op" id="8085271">.</span><span class="ident" id="8085272">A</span><span class="op" id="8085273">[</span><span class="num" id="8085274">0</span><span class="op" id="8085275">]</span>&nbsp;<span class="op" id="8085277">!=</span>&nbsp;<span class="num" id="8085280">1</span>&nbsp;<span class="op" id="8085282">||</span>&nbsp;<span class="ident" id="8085285">d</span><span class="op" id="8085286">.</span><span class="ident" id="8085287">A</span><span class="op" id="8085288">[</span><span class="num" id="8085289">1</span><span class="op" id="8085290">]</span>&nbsp;<span class="op" id="8085292">!=</span>&nbsp;<span class="num" id="8085295">2</span>&nbsp;<span class="op" id="8085297">||</span>&nbsp;<span class="ident" id="8085300">d</span><span class="op" id="8085301">.</span><span class="ident" id="8085302">A</span><span class="op" id="8085303">[</span><span class="num" id="8085304">2</span><span class="op" id="8085305">]</span>&nbsp;<span class="op" id="8085307">!=</span>&nbsp;<span class="num" id="8085310">3</span>&nbsp;<span class="op" id="8085312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085316">t</span><span class="op" id="8085317">.</span><span class="ident" id="8085318">Errorf</span><span class="op" id="8085324">(</span><span class="string" id="8085325">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8085363">,</span>&nbsp;<span class="ident" id="8085365">d</span><span class="op" id="8085366">.</span><span class="ident" id="8085367">A</span><span class="op" id="8085368">,</span>&nbsp;<span class="op" id="8085370">*</span><span class="op" id="8085371">*</span><span class="op" id="8085372">*</span><span class="ident" id="8085373">i</span><span class="op" id="8085374">.</span><span class="ident" id="8085375">A</span><span class="op" id="8085376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8085379">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8085382">if</span>&nbsp;<span class="builtinfunc" id="8085385">len</span><span class="op" id="8085388">(</span><span class="ident" id="8085389">d</span><span class="op" id="8085390">.</span><span class="ident" id="8085391">S</span><span class="op" id="8085392">)</span>&nbsp;<span class="op" id="8085394">!=</span>&nbsp;<span class="num" id="8085397">3</span>&nbsp;<span class="op" id="8085399">||</span>&nbsp;<span class="ident" id="8085402">d</span><span class="op" id="8085403">.</span><span class="ident" id="8085404">S</span><span class="op" id="8085405">[</span><span class="num" id="8085406">0</span><span class="op" id="8085407">]</span>&nbsp;<span class="op" id="8085409">!=</span>&nbsp;<span class="num" id="8085412">4</span>&nbsp;<span class="op" id="8085414">||</span>&nbsp;<span class="ident" id="8085417">d</span><span class="op" id="8085418">.</span><span class="ident" id="8085419">S</span><span class="op" id="8085420">[</span><span class="num" id="8085421">1</span><span class="op" id="8085422">]</span>&nbsp;<span class="op" id="8085424">!=</span>&nbsp;<span class="num" id="8085427">5</span>&nbsp;<span class="op" id="8085429">||</span>&nbsp;<span class="ident" id="8085432">d</span><span class="op" id="8085433">.</span><span class="ident" id="8085434">S</span><span class="op" id="8085435">[</span><span class="num" id="8085436">2</span><span class="op" id="8085437">]</span>&nbsp;<span class="op" id="8085439">!=</span>&nbsp;<span class="num" id="8085442">6</span>&nbsp;<span class="op" id="8085444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085448">t</span><span class="op" id="8085449">.</span><span class="ident" id="8085450">Errorf</span><span class="op" id="8085456">(</span><span class="string" id="8085457">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8085495">,</span>&nbsp;<span class="ident" id="8085497">d</span><span class="op" id="8085498">.</span><span class="ident" id="8085499">S</span><span class="op" id="8085500">,</span>&nbsp;<span class="op" id="8085502">*</span><span class="op" id="8085503">*</span><span class="op" id="8085504">*</span><span class="ident" id="8085505">i</span><span class="op" id="8085506">.</span><span class="ident" id="8085507">S</span><span class="op" id="8085508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8085511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8085514">if</span>&nbsp;<span class="builtinfunc" id="8085517">len</span><span class="op" id="8085520">(</span><span class="ident" id="8085521">d</span><span class="op" id="8085522">.</span><span class="ident" id="8085523">M</span><span class="op" id="8085524">)</span>&nbsp;<span class="op" id="8085526">!=</span>&nbsp;<span class="num" id="8085529">3</span>&nbsp;<span class="op" id="8085531">||</span>&nbsp;<span class="ident" id="8085534">d</span><span class="op" id="8085535">.</span><span class="ident" id="8085536">M</span><span class="op" id="8085537">[</span><span class="string" id="8085538">&#34;one&#34;</span><span class="op" id="8085543">]</span>&nbsp;<span class="op" id="8085545">!=</span>&nbsp;<span class="num" id="8085548">1</span>&nbsp;<span class="op" id="8085550">||</span>&nbsp;<span class="ident" id="8085553">d</span><span class="op" id="8085554">.</span><span class="ident" id="8085555">M</span><span class="op" id="8085556">[</span><span class="string" id="8085557">&#34;two&#34;</span><span class="op" id="8085562">]</span>&nbsp;<span class="op" id="8085564">!=</span>&nbsp;<span class="num" id="8085567">2</span>&nbsp;<span class="op" id="8085569">||</span>&nbsp;<span class="ident" id="8085572">d</span><span class="op" id="8085573">.</span><span class="ident" id="8085574">M</span><span class="op" id="8085575">[</span><span class="string" id="8085576">&#34;three&#34;</span><span class="op" id="8085583">]</span>&nbsp;<span class="op" id="8085585">!=</span>&nbsp;<span class="num" id="8085588">3</span>&nbsp;<span class="op" id="8085590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085594">t</span><span class="op" id="8085595">.</span><span class="ident" id="8085596">Errorf</span><span class="op" id="8085602">(</span><span class="string" id="8085603">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8085641">,</span>&nbsp;<span class="ident" id="8085643">d</span><span class="op" id="8085644">.</span><span class="ident" id="8085645">M</span><span class="op" id="8085646">,</span>&nbsp;<span class="op" id="8085648">*</span><span class="op" id="8085649">*</span><span class="op" id="8085650">*</span><span class="ident" id="8085651">i</span><span class="op" id="8085652">.</span><span class="ident" id="8085653">M</span><span class="op" id="8085654">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8085657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8085660">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085703">d</span><span class="op" id="8085704">.</span><span class="ident" id="8085705">A</span>&nbsp;<span class="op" id="8085707">=</span>&nbsp;<span class="op" id="8085709">[</span><span class="num" id="8085710">3</span><span class="op" id="8085711">]</span><span class="builtintype" id="8085712">int</span><span class="op" id="8085715">{</span><span class="num" id="8085716">11</span><span class="op" id="8085718">,</span>&nbsp;<span class="num" id="8085720">22</span><span class="op" id="8085722">,</span>&nbsp;<span class="num" id="8085724">33</span><span class="op" id="8085726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085729">d</span><span class="op" id="8085730">.</span><span class="ident" id="8085731">S</span>&nbsp;<span class="op" id="8085733">=</span>&nbsp;<span class="op" id="8085735">[</span><span class="op" id="8085736">]</span><span class="builtintype" id="8085737">int</span><span class="op" id="8085740">{</span><span class="num" id="8085741">44</span><span class="op" id="8085743">,</span>&nbsp;<span class="num" id="8085745">55</span><span class="op" id="8085747">,</span>&nbsp;<span class="num" id="8085749">66</span><span class="op" id="8085751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085754">d</span><span class="op" id="8085755">.</span><span class="ident" id="8085756">M</span>&nbsp;<span class="op" id="8085758">=</span>&nbsp;<span class="keyword" id="8085760">map</span><span class="op" id="8085763">[</span><span class="builtintype" id="8085764">string</span><span class="op" id="8085770">]</span><span class="builtintype" id="8085771">int</span><span class="op" id="8085774">{</span><span class="string" id="8085775">&#34;four&#34;</span><span class="op" id="8085781">:</span>&nbsp;<span class="num" id="8085783">4</span><span class="op" id="8085784">,</span>&nbsp;<span class="string" id="8085786">&#34;five&#34;</span><span class="op" id="8085792">:</span>&nbsp;<span class="num" id="8085794">5</span><span class="op" id="8085795">,</span>&nbsp;<span class="string" id="8085797">&#34;six&#34;</span><span class="op" id="8085802">:</span>&nbsp;<span class="num" id="8085804">6</span><span class="op" id="8085805">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085808">i</span>&nbsp;<span class="op" id="8085810">=</span>&nbsp;<span class="builtinfunc" id="8085812">new</span><span class="op" id="8085815">(</span><span class="ident" id="8085816">Indirect</span><span class="op" id="8085824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085827">b</span><span class="op" id="8085828">.</span><span class="ident" id="8085829">Reset</span><span class="op" id="8085834">(</span><span class="op" id="8085835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085838">NewEncoder</span><span class="op" id="8085848">(</span><span class="ident" id="8085849">b</span><span class="op" id="8085850">)</span><span class="op" id="8085851">.</span><span class="ident" id="8085852">Encode</span><span class="op" id="8085858">(</span><span class="ident" id="8085859">d</span><span class="op" id="8085860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085863">dec</span>&nbsp;<span class="op" id="8085867">=</span>&nbsp;<span class="ident" id="8085869">NewDecoder</span><span class="op" id="8085879">(</span><span class="ident" id="8085880">b</span><span class="op" id="8085881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085884">err</span>&nbsp;<span class="op" id="8085888">=</span>&nbsp;<span class="ident" id="8085890">dec</span><span class="op" id="8085893">.</span><span class="ident" id="8085894">Decode</span><span class="op" id="8085900">(</span><span class="op" id="8085901">&amp;</span><span class="ident" id="8085902">i</span><span class="op" id="8085903">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8085906">if</span>&nbsp;<span class="ident" id="8085909">err</span>&nbsp;<span class="op" id="8085913">!=</span>&nbsp;<span class="ident" id="8085916">nil</span>&nbsp;<span class="op" id="8085920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085924">t</span><span class="op" id="8085925">.</span><span class="ident" id="8085926">Fatal</span><span class="op" id="8085931">(</span><span class="string" id="8085932">&#34;error:&nbsp;&#34;</span><span class="op" id="8085941">,</span>&nbsp;<span class="ident" id="8085943">err</span><span class="op" id="8085946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8085949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8085952">if</span>&nbsp;<span class="builtinfunc" id="8085955">len</span><span class="op" id="8085958">(</span><span class="op" id="8085959">*</span><span class="op" id="8085960">*</span><span class="op" id="8085961">*</span><span class="ident" id="8085962">i</span><span class="op" id="8085963">.</span><span class="ident" id="8085964">A</span><span class="op" id="8085965">)</span>&nbsp;<span class="op" id="8085967">!=</span>&nbsp;<span class="num" id="8085970">3</span>&nbsp;<span class="op" id="8085972">||</span>&nbsp;<span class="op" id="8085975">(</span><span class="op" id="8085976">*</span><span class="op" id="8085977">*</span><span class="op" id="8085978">*</span><span class="ident" id="8085979">i</span><span class="op" id="8085980">.</span><span class="ident" id="8085981">A</span><span class="op" id="8085982">)</span><span class="op" id="8085983">[</span><span class="num" id="8085984">0</span><span class="op" id="8085985">]</span>&nbsp;<span class="op" id="8085987">!=</span>&nbsp;<span class="num" id="8085990">11</span>&nbsp;<span class="op" id="8085993">||</span>&nbsp;<span class="op" id="8085996">(</span><span class="op" id="8085997">*</span><span class="op" id="8085998">*</span><span class="op" id="8085999">*</span><span class="ident" id="8086000">i</span><span class="op" id="8086001">.</span><span class="ident" id="8086002">A</span><span class="op" id="8086003">)</span><span class="op" id="8086004">[</span><span class="num" id="8086005">1</span><span class="op" id="8086006">]</span>&nbsp;<span class="op" id="8086008">!=</span>&nbsp;<span class="num" id="8086011">22</span>&nbsp;<span class="op" id="8086014">||</span>&nbsp;<span class="op" id="8086017">(</span><span class="op" id="8086018">*</span><span class="op" id="8086019">*</span><span class="op" id="8086020">*</span><span class="ident" id="8086021">i</span><span class="op" id="8086022">.</span><span class="ident" id="8086023">A</span><span class="op" id="8086024">)</span><span class="op" id="8086025">[</span><span class="num" id="8086026">2</span><span class="op" id="8086027">]</span>&nbsp;<span class="op" id="8086029">!=</span>&nbsp;<span class="num" id="8086032">33</span>&nbsp;<span class="op" id="8086035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086039">t</span><span class="op" id="8086040">.</span><span class="ident" id="8086041">Errorf</span><span class="op" id="8086047">(</span><span class="string" id="8086048">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8086089">,</span>&nbsp;<span class="op" id="8086091">*</span><span class="op" id="8086092">*</span><span class="op" id="8086093">*</span><span class="ident" id="8086094">i</span><span class="op" id="8086095">.</span><span class="ident" id="8086096">A</span><span class="op" id="8086097">,</span>&nbsp;<span class="ident" id="8086099">d</span><span class="op" id="8086100">.</span><span class="ident" id="8086101">A</span><span class="op" id="8086102">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8086105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8086108">if</span>&nbsp;<span class="builtinfunc" id="8086111">len</span><span class="op" id="8086114">(</span><span class="op" id="8086115">*</span><span class="op" id="8086116">*</span><span class="op" id="8086117">*</span><span class="ident" id="8086118">i</span><span class="op" id="8086119">.</span><span class="ident" id="8086120">S</span><span class="op" id="8086121">)</span>&nbsp;<span class="op" id="8086123">!=</span>&nbsp;<span class="num" id="8086126">3</span>&nbsp;<span class="op" id="8086128">||</span>&nbsp;<span class="op" id="8086131">(</span><span class="op" id="8086132">*</span><span class="op" id="8086133">*</span><span class="op" id="8086134">*</span><span class="ident" id="8086135">i</span><span class="op" id="8086136">.</span><span class="ident" id="8086137">S</span><span class="op" id="8086138">)</span><span class="op" id="8086139">[</span><span class="num" id="8086140">0</span><span class="op" id="8086141">]</span>&nbsp;<span class="op" id="8086143">!=</span>&nbsp;<span class="num" id="8086146">44</span>&nbsp;<span class="op" id="8086149">||</span>&nbsp;<span class="op" id="8086152">(</span><span class="op" id="8086153">*</span><span class="op" id="8086154">*</span><span class="op" id="8086155">*</span><span class="ident" id="8086156">i</span><span class="op" id="8086157">.</span><span class="ident" id="8086158">S</span><span class="op" id="8086159">)</span><span class="op" id="8086160">[</span><span class="num" id="8086161">1</span><span class="op" id="8086162">]</span>&nbsp;<span class="op" id="8086164">!=</span>&nbsp;<span class="num" id="8086167">55</span>&nbsp;<span class="op" id="8086170">||</span>&nbsp;<span class="op" id="8086173">(</span><span class="op" id="8086174">*</span><span class="op" id="8086175">*</span><span class="op" id="8086176">*</span><span class="ident" id="8086177">i</span><span class="op" id="8086178">.</span><span class="ident" id="8086179">S</span><span class="op" id="8086180">)</span><span class="op" id="8086181">[</span><span class="num" id="8086182">2</span><span class="op" id="8086183">]</span>&nbsp;<span class="op" id="8086185">!=</span>&nbsp;<span class="num" id="8086188">66</span>&nbsp;<span class="op" id="8086191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086195">t</span><span class="op" id="8086196">.</span><span class="ident" id="8086197">Errorf</span><span class="op" id="8086203">(</span><span class="string" id="8086204">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8086245">,</span>&nbsp;<span class="op" id="8086247">*</span><span class="op" id="8086248">*</span><span class="op" id="8086249">*</span><span class="ident" id="8086250">i</span><span class="op" id="8086251">.</span><span class="ident" id="8086252">S</span><span class="op" id="8086253">,</span>&nbsp;<span class="op" id="8086255">*</span><span class="op" id="8086256">*</span><span class="op" id="8086257">*</span><span class="ident" id="8086258">i</span><span class="op" id="8086259">.</span><span class="ident" id="8086260">S</span><span class="op" id="8086261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8086264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8086267">if</span>&nbsp;<span class="builtinfunc" id="8086270">len</span><span class="op" id="8086273">(</span><span class="op" id="8086274">*</span><span class="op" id="8086275">*</span><span class="op" id="8086276">*</span><span class="op" id="8086277">*</span><span class="ident" id="8086278">i</span><span class="op" id="8086279">.</span><span class="ident" id="8086280">M</span><span class="op" id="8086281">)</span>&nbsp;<span class="op" id="8086283">!=</span>&nbsp;<span class="num" id="8086286">3</span>&nbsp;<span class="op" id="8086288">||</span>&nbsp;<span class="op" id="8086291">(</span><span class="op" id="8086292">*</span><span class="op" id="8086293">*</span><span class="op" id="8086294">*</span><span class="op" id="8086295">*</span><span class="ident" id="8086296">i</span><span class="op" id="8086297">.</span><span class="ident" id="8086298">M</span><span class="op" id="8086299">)</span><span class="op" id="8086300">[</span><span class="string" id="8086301">&#34;four&#34;</span><span class="op" id="8086307">]</span>&nbsp;<span class="op" id="8086309">!=</span>&nbsp;<span class="num" id="8086312">4</span>&nbsp;<span class="op" id="8086314">||</span>&nbsp;<span class="op" id="8086317">(</span><span class="op" id="8086318">*</span><span class="op" id="8086319">*</span><span class="op" id="8086320">*</span><span class="op" id="8086321">*</span><span class="ident" id="8086322">i</span><span class="op" id="8086323">.</span><span class="ident" id="8086324">M</span><span class="op" id="8086325">)</span><span class="op" id="8086326">[</span><span class="string" id="8086327">&#34;five&#34;</span><span class="op" id="8086333">]</span>&nbsp;<span class="op" id="8086335">!=</span>&nbsp;<span class="num" id="8086338">5</span>&nbsp;<span class="op" id="8086340">||</span>&nbsp;<span class="op" id="8086343">(</span><span class="op" id="8086344">*</span><span class="op" id="8086345">*</span><span class="op" id="8086346">*</span><span class="op" id="8086347">*</span><span class="ident" id="8086348">i</span><span class="op" id="8086349">.</span><span class="ident" id="8086350">M</span><span class="op" id="8086351">)</span><span class="op" id="8086352">[</span><span class="string" id="8086353">&#34;six&#34;</span><span class="op" id="8086358">]</span>&nbsp;<span class="op" id="8086360">!=</span>&nbsp;<span class="num" id="8086363">6</span>&nbsp;<span class="op" id="8086365">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086369">t</span><span class="op" id="8086370">.</span><span class="ident" id="8086371">Errorf</span><span class="op" id="8086377">(</span><span class="string" id="8086378">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8086420">,</span>&nbsp;<span class="op" id="8086422">*</span><span class="op" id="8086423">*</span><span class="op" id="8086424">*</span><span class="op" id="8086425">*</span><span class="ident" id="8086426">i</span><span class="op" id="8086427">.</span><span class="ident" id="8086428">M</span><span class="op" id="8086429">,</span>&nbsp;<span class="ident" id="8086431">d</span><span class="op" id="8086432">.</span><span class="ident" id="8086433">M</span><span class="op" id="8086434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8086437">}</span><br>
<span class="lineno"></span><span class="op" id="8086439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8086442">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="8086487">type</span>&nbsp;<span class="ident" id="8086492">Squarer</span>&nbsp;<span class="keyword" id="8086500">interface</span>&nbsp;<span class="op" id="8086510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086513">Square</span><span class="op" id="8086519">(</span><span class="op" id="8086520">)</span>&nbsp;<span class="builtintype" id="8086522">int</span><br>
<span class="lineno"></span><span class="op" id="8086526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086529">type</span>&nbsp;<span class="ident" id="8086534">Int</span>&nbsp;<span class="builtintype" id="8086538">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="8086543">func</span>&nbsp;<span class="op" id="8086548">(</span><span class="ident" id="8086549">i</span>&nbsp;<span class="ident" id="8086551">Int</span><span class="op" id="8086554">)</span>&nbsp;<span class="ident" id="8086556">Square</span><span class="op" id="8086562">(</span><span class="op" id="8086563">)</span>&nbsp;<span class="builtintype" id="8086565">int</span>&nbsp;<span class="op" id="8086569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8086572">return</span>&nbsp;<span class="builtintype" id="8086579">int</span><span class="op" id="8086582">(</span><span class="ident" id="8086583">i</span>&nbsp;<span class="op" id="8086585">*</span>&nbsp;<span class="ident" id="8086587">i</span><span class="op" id="8086588">)</span><br>
<span class="lineno"></span><span class="op" id="8086590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="8086593">type</span>&nbsp;<span class="ident" id="8086598">Float</span>&nbsp;<span class="builtintype" id="8086604">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086613">func</span>&nbsp;<span class="op" id="8086618">(</span><span class="ident" id="8086619">f</span>&nbsp;<span class="ident" id="8086621">Float</span><span class="op" id="8086626">)</span>&nbsp;<span class="ident" id="8086628">Square</span><span class="op" id="8086634">(</span><span class="op" id="8086635">)</span>&nbsp;<span class="builtintype" id="8086637">int</span>&nbsp;<span class="op" id="8086641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8086644">return</span>&nbsp;<span class="builtintype" id="8086651">int</span><span class="op" id="8086654">(</span><span class="ident" id="8086655">f</span>&nbsp;<span class="op" id="8086657">*</span>&nbsp;<span class="ident" id="8086659">f</span><span class="op" id="8086660">)</span><br>
<span class="lineno"></span><span class="op" id="8086662">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="8086665">type</span>&nbsp;<span class="ident" id="8086670">Vector</span>&nbsp;<span class="op" id="8086677">[</span><span class="op" id="8086678">]</span><span class="builtintype" id="8086679">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086684">func</span>&nbsp;<span class="op" id="8086689">(</span><span class="ident" id="8086690">v</span>&nbsp;<span class="ident" id="8086692">Vector</span><span class="op" id="8086698">)</span>&nbsp;<span class="ident" id="8086700">Square</span><span class="op" id="8086706">(</span><span class="op" id="8086707">)</span>&nbsp;<span class="builtintype" id="8086709">int</span>&nbsp;<span class="op" id="8086713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086716">sum</span>&nbsp;<span class="op" id="8086720">:=</span>&nbsp;<span class="num" id="8086723">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8086726">for</span>&nbsp;<span class="ident" id="8086730">_</span><span class="op" id="8086731">,</span>&nbsp;<span class="ident" id="8086733">x</span>&nbsp;<span class="op" id="8086735">:=</span>&nbsp;<span class="keyword" id="8086738">range</span>&nbsp;<span class="ident" id="8086744">v</span>&nbsp;<span class="op" id="8086746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086750">sum</span>&nbsp;<span class="op" id="8086754">+=</span>&nbsp;<span class="ident" id="8086757">x</span>&nbsp;<span class="op" id="8086759">*</span>&nbsp;<span class="ident" id="8086761">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8086764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8086767">return</span>&nbsp;<span class="ident" id="8086774">sum</span><br>
<span class="lineno"></span><span class="op" id="8086778">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="8086781">type</span>&nbsp;<span class="ident" id="8086786">Point</span>&nbsp;<span class="keyword" id="8086792">struct</span>&nbsp;<span class="op" id="8086799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086802">X</span><span class="op" id="8086803">,</span>&nbsp;<span class="ident" id="8086805">Y</span>&nbsp;<span class="builtintype" id="8086807">int</span><br>
<span class="lineno"></span><span class="op" id="8086811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="8086814">func</span>&nbsp;<span class="op" id="8086819">(</span><span class="ident" id="8086820">p</span>&nbsp;<span class="ident" id="8086822">Point</span><span class="op" id="8086827">)</span>&nbsp;<span class="ident" id="8086829">Square</span><span class="op" id="8086835">(</span><span class="op" id="8086836">)</span>&nbsp;<span class="builtintype" id="8086838">int</span>&nbsp;<span class="op" id="8086842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8086845">return</span>&nbsp;<span class="ident" id="8086852">p</span><span class="op" id="8086853">.</span><span class="ident" id="8086854">X</span><span class="op" id="8086855">*</span><span class="ident" id="8086856">p</span><span class="op" id="8086857">.</span><span class="ident" id="8086858">X</span>&nbsp;<span class="op" id="8086860">+</span>&nbsp;<span class="ident" id="8086862">p</span><span class="op" id="8086863">.</span><span class="ident" id="8086864">Y</span><span class="op" id="8086865">*</span><span class="ident" id="8086866">p</span><span class="op" id="8086867">.</span><span class="ident" id="8086868">Y</span><br>
<span class="lineno"></span><span class="op" id="8086870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8086873">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="8086908">type</span>&nbsp;<span class="ident" id="8086913">InterfaceItem</span>&nbsp;<span class="keyword" id="8086927">struct</span>&nbsp;<span class="op" id="8086934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086937">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8086951">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086956">Sq1</span><span class="op" id="8086959">,</span>&nbsp;<span class="ident" id="8086961">Sq2</span><span class="op" id="8086964">,</span>&nbsp;<span class="ident" id="8086966">Sq3</span>&nbsp;<span class="ident" id="8086970">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086979">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8086993">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087002">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8087016">[</span><span class="op" id="8087017">]</span><span class="ident" id="8087018">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="8087026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8087029">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="8087067">type</span>&nbsp;<span class="ident" id="8087072">NoInterfaceItem</span>&nbsp;<span class="keyword" id="8087088">struct</span>&nbsp;<span class="op" id="8087095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087098">I</span>&nbsp;<span class="builtintype" id="8087100">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087105">F</span>&nbsp;<span class="builtintype" id="8087107">float64</span><br>
<span class="lineno"></span><span class="op" id="8087115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087118">func</span>&nbsp;<span class="ident" id="8087123">TestInterface</span><span class="op" id="8087136">(</span><span class="ident" id="8087137">t</span>&nbsp;<span class="op" id="8087139">*</span><span class="ident" id="8087140">testing</span><span class="op" id="8087147">.</span><span class="ident" id="8087148">T</span><span class="op" id="8087149">)</span>&nbsp;<span class="op" id="8087151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087154">iVal</span>&nbsp;<span class="op" id="8087159">:=</span>&nbsp;<span class="ident" id="8087162">Int</span><span class="op" id="8087165">(</span><span class="num" id="8087166">3</span><span class="op" id="8087167">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087170">fVal</span>&nbsp;<span class="op" id="8087175">:=</span>&nbsp;<span class="ident" id="8087178">Float</span><span class="op" id="8087183">(</span><span class="num" id="8087184">5</span><span class="op" id="8087185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8087188">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8087271">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087306">vVal</span>&nbsp;<span class="op" id="8087311">:=</span>&nbsp;<span class="ident" id="8087314">Vector</span><span class="op" id="8087320">{</span><span class="num" id="8087321">1</span><span class="op" id="8087322">,</span>&nbsp;<span class="num" id="8087324">2</span><span class="op" id="8087325">,</span>&nbsp;<span class="num" id="8087327">3</span><span class="op" id="8087328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087331">b</span>&nbsp;<span class="op" id="8087333">:=</span>&nbsp;<span class="builtinfunc" id="8087336">new</span><span class="op" id="8087339">(</span><span class="ident" id="8087340">bytes</span><span class="op" id="8087345">.</span><span class="ident" id="8087346">Buffer</span><span class="op" id="8087352">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087355">item1</span>&nbsp;<span class="op" id="8087361">:=</span>&nbsp;<span class="op" id="8087364">&amp;</span><span class="ident" id="8087365">InterfaceItem</span><span class="op" id="8087378">{</span><span class="num" id="8087379">1</span><span class="op" id="8087380">,</span>&nbsp;<span class="ident" id="8087382">iVal</span><span class="op" id="8087386">,</span>&nbsp;<span class="ident" id="8087388">fVal</span><span class="op" id="8087392">,</span>&nbsp;<span class="ident" id="8087394">vVal</span><span class="op" id="8087398">,</span>&nbsp;<span class="num" id="8087400">11.5</span><span class="op" id="8087404">,</span>&nbsp;<span class="op" id="8087406">[</span><span class="op" id="8087407">]</span><span class="ident" id="8087408">Squarer</span><span class="op" id="8087415">{</span><span class="ident" id="8087416">iVal</span><span class="op" id="8087420">,</span>&nbsp;<span class="ident" id="8087422">fVal</span><span class="op" id="8087426">,</span>&nbsp;<span class="ident" id="8087428">nil</span><span class="op" id="8087431">,</span>&nbsp;<span class="ident" id="8087433">vVal</span><span class="op" id="8087437">}</span><span class="op" id="8087438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8087441">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087465">Register</span><span class="op" id="8087473">(</span><span class="ident" id="8087474">Int</span><span class="op" id="8087477">(</span><span class="num" id="8087478">0</span><span class="op" id="8087479">)</span><span class="op" id="8087480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087483">Register</span><span class="op" id="8087491">(</span><span class="ident" id="8087492">Float</span><span class="op" id="8087497">(</span><span class="num" id="8087498">0</span><span class="op" id="8087499">)</span><span class="op" id="8087500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087503">Register</span><span class="op" id="8087511">(</span><span class="ident" id="8087512">Vector</span><span class="op" id="8087518">{</span><span class="op" id="8087519">}</span><span class="op" id="8087520">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087523">err</span>&nbsp;<span class="op" id="8087527">:=</span>&nbsp;<span class="ident" id="8087530">NewEncoder</span><span class="op" id="8087540">(</span><span class="ident" id="8087541">b</span><span class="op" id="8087542">)</span><span class="op" id="8087543">.</span><span class="ident" id="8087544">Encode</span><span class="op" id="8087550">(</span><span class="ident" id="8087551">item1</span><span class="op" id="8087556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087559">if</span>&nbsp;<span class="ident" id="8087562">err</span>&nbsp;<span class="op" id="8087566">!=</span>&nbsp;<span class="ident" id="8087569">nil</span>&nbsp;<span class="op" id="8087573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087577">t</span><span class="op" id="8087578">.</span><span class="ident" id="8087579">Error</span><span class="op" id="8087584">(</span><span class="string" id="8087585">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8087616">,</span>&nbsp;<span class="ident" id="8087618">err</span><span class="op" id="8087621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8087624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087628">item2</span>&nbsp;<span class="op" id="8087634">:=</span>&nbsp;<span class="ident" id="8087637">InterfaceItem</span><span class="op" id="8087650">{</span><span class="op" id="8087651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087654">err</span>&nbsp;<span class="op" id="8087658">=</span>&nbsp;<span class="ident" id="8087660">NewDecoder</span><span class="op" id="8087670">(</span><span class="ident" id="8087671">b</span><span class="op" id="8087672">)</span><span class="op" id="8087673">.</span><span class="ident" id="8087674">Decode</span><span class="op" id="8087680">(</span><span class="op" id="8087681">&amp;</span><span class="ident" id="8087682">item2</span><span class="op" id="8087687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087690">if</span>&nbsp;<span class="ident" id="8087693">err</span>&nbsp;<span class="op" id="8087697">!=</span>&nbsp;<span class="ident" id="8087700">nil</span>&nbsp;<span class="op" id="8087704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087708">t</span><span class="op" id="8087709">.</span><span class="ident" id="8087710">Fatal</span><span class="op" id="8087715">(</span><span class="string" id="8087716">&#34;decode:&#34;</span><span class="op" id="8087725">,</span>&nbsp;<span class="ident" id="8087727">err</span><span class="op" id="8087730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8087733">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087736">if</span>&nbsp;<span class="ident" id="8087739">item2</span><span class="op" id="8087744">.</span><span class="ident" id="8087745">I</span>&nbsp;<span class="op" id="8087747">!=</span>&nbsp;<span class="ident" id="8087750">item1</span><span class="op" id="8087755">.</span><span class="ident" id="8087756">I</span>&nbsp;<span class="op" id="8087758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087762">t</span><span class="op" id="8087763">.</span><span class="ident" id="8087764">Error</span><span class="op" id="8087769">(</span><span class="string" id="8087770">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8087807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8087810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087813">if</span>&nbsp;<span class="ident" id="8087816">item2</span><span class="op" id="8087821">.</span><span class="ident" id="8087822">Sq1</span>&nbsp;<span class="op" id="8087826">==</span>&nbsp;<span class="ident" id="8087829">nil</span>&nbsp;<span class="op" id="8087833">||</span>&nbsp;<span class="ident" id="8087836">item2</span><span class="op" id="8087841">.</span><span class="ident" id="8087842">Sq1</span><span class="op" id="8087845">.</span><span class="ident" id="8087846">Square</span><span class="op" id="8087852">(</span><span class="op" id="8087853">)</span>&nbsp;<span class="op" id="8087855">!=</span>&nbsp;<span class="ident" id="8087858">iVal</span><span class="op" id="8087862">.</span><span class="ident" id="8087863">Square</span><span class="op" id="8087869">(</span><span class="op" id="8087870">)</span>&nbsp;<span class="op" id="8087872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087876">t</span><span class="op" id="8087877">.</span><span class="ident" id="8087878">Error</span><span class="op" id="8087883">(</span><span class="string" id="8087884">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8087914">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8087917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087920">if</span>&nbsp;<span class="ident" id="8087923">item2</span><span class="op" id="8087928">.</span><span class="ident" id="8087929">Sq2</span>&nbsp;<span class="op" id="8087933">==</span>&nbsp;<span class="ident" id="8087936">nil</span>&nbsp;<span class="op" id="8087940">||</span>&nbsp;<span class="ident" id="8087943">item2</span><span class="op" id="8087948">.</span><span class="ident" id="8087949">Sq2</span><span class="op" id="8087952">.</span><span class="ident" id="8087953">Square</span><span class="op" id="8087959">(</span><span class="op" id="8087960">)</span>&nbsp;<span class="op" id="8087962">!=</span>&nbsp;<span class="ident" id="8087965">fVal</span><span class="op" id="8087969">.</span><span class="ident" id="8087970">Square</span><span class="op" id="8087976">(</span><span class="op" id="8087977">)</span>&nbsp;<span class="op" id="8087979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087983">t</span><span class="op" id="8087984">.</span><span class="ident" id="8087985">Error</span><span class="op" id="8087990">(</span><span class="string" id="8087991">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8088023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8088029">if</span>&nbsp;<span class="ident" id="8088032">item2</span><span class="op" id="8088037">.</span><span class="ident" id="8088038">Sq3</span>&nbsp;<span class="op" id="8088042">==</span>&nbsp;<span class="ident" id="8088045">nil</span>&nbsp;<span class="op" id="8088049">||</span>&nbsp;<span class="ident" id="8088052">item2</span><span class="op" id="8088057">.</span><span class="ident" id="8088058">Sq3</span><span class="op" id="8088061">.</span><span class="ident" id="8088062">Square</span><span class="op" id="8088068">(</span><span class="op" id="8088069">)</span>&nbsp;<span class="op" id="8088071">!=</span>&nbsp;<span class="ident" id="8088074">vVal</span><span class="op" id="8088078">.</span><span class="ident" id="8088079">Square</span><span class="op" id="8088085">(</span><span class="op" id="8088086">)</span>&nbsp;<span class="op" id="8088088">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088092">t</span><span class="op" id="8088093">.</span><span class="ident" id="8088094">Error</span><span class="op" id="8088099">(</span><span class="string" id="8088100">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8088133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8088139">if</span>&nbsp;<span class="ident" id="8088142">item2</span><span class="op" id="8088147">.</span><span class="ident" id="8088148">F</span>&nbsp;<span class="op" id="8088150">!=</span>&nbsp;<span class="ident" id="8088153">item1</span><span class="op" id="8088158">.</span><span class="ident" id="8088159">F</span>&nbsp;<span class="op" id="8088161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088165">t</span><span class="op" id="8088166">.</span><span class="ident" id="8088167">Error</span><span class="op" id="8088172">(</span><span class="string" id="8088173">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8088212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088215">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8088218">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8088304">if</span>&nbsp;<span class="builtinfunc" id="8088307">len</span><span class="op" id="8088310">(</span><span class="ident" id="8088311">item1</span><span class="op" id="8088316">.</span><span class="ident" id="8088317">Sq</span><span class="op" id="8088319">)</span>&nbsp;<span class="op" id="8088321">!=</span>&nbsp;<span class="builtinfunc" id="8088324">len</span><span class="op" id="8088327">(</span><span class="ident" id="8088328">item2</span><span class="op" id="8088333">.</span><span class="ident" id="8088334">Sq</span><span class="op" id="8088336">)</span>&nbsp;<span class="op" id="8088338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088342">t</span><span class="op" id="8088343">.</span><span class="ident" id="8088344">Fatalf</span><span class="op" id="8088350">(</span><span class="string" id="8088351">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8088396">,</span>&nbsp;<span class="builtinfunc" id="8088398">len</span><span class="op" id="8088401">(</span><span class="ident" id="8088402">item2</span><span class="op" id="8088407">.</span><span class="ident" id="8088408">Sq</span><span class="op" id="8088410">)</span><span class="op" id="8088411">,</span>&nbsp;<span class="builtinfunc" id="8088413">len</span><span class="op" id="8088416">(</span><span class="ident" id="8088417">item1</span><span class="op" id="8088422">.</span><span class="ident" id="8088423">Sq</span><span class="op" id="8088425">)</span><span class="op" id="8088426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8088432">for</span>&nbsp;<span class="ident" id="8088436">i</span><span class="op" id="8088437">,</span>&nbsp;<span class="ident" id="8088439">v1</span>&nbsp;<span class="op" id="8088442">:=</span>&nbsp;<span class="keyword" id="8088445">range</span>&nbsp;<span class="ident" id="8088451">item1</span><span class="op" id="8088456">.</span><span class="ident" id="8088457">Sq</span>&nbsp;<span class="op" id="8088460">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088464">v2</span>&nbsp;<span class="op" id="8088467">:=</span>&nbsp;<span class="ident" id="8088470">item2</span><span class="op" id="8088475">.</span><span class="ident" id="8088476">Sq</span><span class="op" id="8088478">[</span><span class="ident" id="8088479">i</span><span class="op" id="8088480">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8088484">if</span>&nbsp;<span class="ident" id="8088487">v1</span>&nbsp;<span class="op" id="8088490">==</span>&nbsp;<span class="ident" id="8088493">nil</span>&nbsp;<span class="op" id="8088497">||</span>&nbsp;<span class="ident" id="8088500">v2</span>&nbsp;<span class="op" id="8088503">==</span>&nbsp;<span class="ident" id="8088506">nil</span>&nbsp;<span class="op" id="8088510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8088515">if</span>&nbsp;<span class="ident" id="8088518">v1</span>&nbsp;<span class="op" id="8088521">!=</span>&nbsp;<span class="ident" id="8088524">nil</span>&nbsp;<span class="op" id="8088528">||</span>&nbsp;<span class="ident" id="8088531">v2</span>&nbsp;<span class="op" id="8088534">!=</span>&nbsp;<span class="ident" id="8088537">nil</span>&nbsp;<span class="op" id="8088541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088547">t</span><span class="op" id="8088548">.</span><span class="ident" id="8088549">Errorf</span><span class="op" id="8088555">(</span><span class="string" id="8088556">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="8088583">,</span>&nbsp;<span class="ident" id="8088585">i</span><span class="op" id="8088586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088591">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088595">}</span>&nbsp;<span class="keyword" id="8088597">else</span>&nbsp;<span class="keyword" id="8088602">if</span>&nbsp;<span class="ident" id="8088605">v1</span><span class="op" id="8088607">.</span><span class="ident" id="8088608">Square</span><span class="op" id="8088614">(</span><span class="op" id="8088615">)</span>&nbsp;<span class="op" id="8088617">!=</span>&nbsp;<span class="ident" id="8088620">v2</span><span class="op" id="8088622">.</span><span class="ident" id="8088623">Square</span><span class="op" id="8088629">(</span><span class="op" id="8088630">)</span>&nbsp;<span class="op" id="8088632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088637">t</span><span class="op" id="8088638">.</span><span class="ident" id="8088639">Errorf</span><span class="op" id="8088645">(</span><span class="string" id="8088646">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="8088682">,</span>&nbsp;<span class="ident" id="8088684">i</span><span class="op" id="8088685">,</span>&nbsp;<span class="ident" id="8088687">v1</span><span class="op" id="8088689">,</span>&nbsp;<span class="ident" id="8088691">v2</span><span class="op" id="8088693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088700">}</span><br>
<span class="lineno"></span><span class="op" id="8088702">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="8088705">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="8088761">type</span>&nbsp;<span class="ident" id="8088766">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="8088785">struct</span>&nbsp;<span class="op" id="8088792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088795">Int</span><span class="op" id="8088798">,</span>&nbsp;<span class="ident" id="8088800">Int8</span><span class="op" id="8088804">,</span>&nbsp;<span class="ident" id="8088806">Int16</span><span class="op" id="8088811">,</span>&nbsp;<span class="ident" id="8088813">Int32</span><span class="op" id="8088818">,</span>&nbsp;<span class="ident" id="8088820">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8088831">interface</span><span class="op" id="8088840">{</span><span class="op" id="8088841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088844">Uint</span><span class="op" id="8088848">,</span>&nbsp;<span class="ident" id="8088850">Uint8</span><span class="op" id="8088855">,</span>&nbsp;<span class="ident" id="8088857">Uint16</span><span class="op" id="8088863">,</span>&nbsp;<span class="ident" id="8088865">Uint32</span><span class="op" id="8088871">,</span>&nbsp;<span class="ident" id="8088873">Uint64</span>&nbsp;<span class="keyword" id="8088880">interface</span><span class="op" id="8088889">{</span><span class="op" id="8088890">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088893">Float32</span><span class="op" id="8088900">,</span>&nbsp;<span class="ident" id="8088902">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8088929">interface</span><span class="op" id="8088938">{</span><span class="op" id="8088939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088942">Complex64</span><span class="op" id="8088951">,</span>&nbsp;<span class="ident" id="8088953">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8088978">interface</span><span class="op" id="8088987">{</span><span class="op" id="8088988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088991">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8089027">interface</span><span class="op" id="8089036">{</span><span class="op" id="8089037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089040">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8089076">interface</span><span class="op" id="8089085">{</span><span class="op" id="8089086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089089">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8089125">interface</span><span class="op" id="8089134">{</span><span class="op" id="8089135">}</span><br>
<span class="lineno">1160</span><span class="op" id="8089137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8089140">func</span>&nbsp;<span class="ident" id="8089145">TestInterfaceBasic</span><span class="op" id="8089163">(</span><span class="ident" id="8089164">t</span>&nbsp;<span class="op" id="8089166">*</span><span class="ident" id="8089167">testing</span><span class="op" id="8089174">.</span><span class="ident" id="8089175">T</span><span class="op" id="8089176">)</span>&nbsp;<span class="op" id="8089178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089181">b</span>&nbsp;<span class="op" id="8089183">:=</span>&nbsp;<span class="builtinfunc" id="8089186">new</span><span class="op" id="8089189">(</span><span class="ident" id="8089190">bytes</span><span class="op" id="8089195">.</span><span class="ident" id="8089196">Buffer</span><span class="op" id="8089202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089205">item1</span>&nbsp;<span class="op" id="8089211">:=</span>&nbsp;<span class="op" id="8089214">&amp;</span><span class="ident" id="8089215">BasicInterfaceItem</span><span class="op" id="8089233">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8089237">int</span><span class="op" id="8089240">(</span><span class="num" id="8089241">1</span><span class="op" id="8089242">)</span><span class="op" id="8089243">,</span>&nbsp;<span class="builtintype" id="8089245">int8</span><span class="op" id="8089249">(</span><span class="num" id="8089250">1</span><span class="op" id="8089251">)</span><span class="op" id="8089252">,</span>&nbsp;<span class="builtintype" id="8089254">int16</span><span class="op" id="8089259">(</span><span class="num" id="8089260">1</span><span class="op" id="8089261">)</span><span class="op" id="8089262">,</span>&nbsp;<span class="builtintype" id="8089264">int32</span><span class="op" id="8089269">(</span><span class="num" id="8089270">1</span><span class="op" id="8089271">)</span><span class="op" id="8089272">,</span>&nbsp;<span class="ident" id="8089274">int64</span><span class="op" id="8089279">(</span><span class="num" id="8089280">1</span><span class="op" id="8089281">)</span><span class="op" id="8089282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8089286">uint</span><span class="op" id="8089290">(</span><span class="num" id="8089291">1</span><span class="op" id="8089292">)</span><span class="op" id="8089293">,</span>&nbsp;<span class="builtintype" id="8089295">uint8</span><span class="op" id="8089300">(</span><span class="num" id="8089301">1</span><span class="op" id="8089302">)</span><span class="op" id="8089303">,</span>&nbsp;<span class="builtintype" id="8089305">uint16</span><span class="op" id="8089311">(</span><span class="num" id="8089312">1</span><span class="op" id="8089313">)</span><span class="op" id="8089314">,</span>&nbsp;<span class="builtintype" id="8089316">uint32</span><span class="op" id="8089322">(</span><span class="num" id="8089323">1</span><span class="op" id="8089324">)</span><span class="op" id="8089325">,</span>&nbsp;<span class="ident" id="8089327">uint64</span><span class="op" id="8089333">(</span><span class="num" id="8089334">1</span><span class="op" id="8089335">)</span><span class="op" id="8089336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8089340">float32</span><span class="op" id="8089347">(</span><span class="num" id="8089348">1</span><span class="op" id="8089349">)</span><span class="op" id="8089350">,</span>&nbsp;<span class="num" id="8089352">1.0</span><span class="op" id="8089355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8089359">complex64</span><span class="op" id="8089368">(</span><span class="num" id="8089369">1i</span><span class="op" id="8089371">)</span><span class="op" id="8089372">,</span>&nbsp;<span class="builtintype" id="8089374">complex128</span><span class="op" id="8089384">(</span><span class="num" id="8089385">1i</span><span class="op" id="8089387">)</span><span class="op" id="8089388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8089392">true</span><span class="op" id="8089396">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8089400">&#34;hello&#34;</span><span class="op" id="8089407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089411">[</span><span class="op" id="8089412">]</span><span class="builtintype" id="8089413">byte</span><span class="op" id="8089417">(</span><span class="string" id="8089418">&#34;sailor&#34;</span><span class="op" id="8089426">)</span><span class="op" id="8089427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089433">err</span>&nbsp;<span class="op" id="8089437">:=</span>&nbsp;<span class="ident" id="8089440">NewEncoder</span><span class="op" id="8089450">(</span><span class="ident" id="8089451">b</span><span class="op" id="8089452">)</span><span class="op" id="8089453">.</span><span class="ident" id="8089454">Encode</span><span class="op" id="8089460">(</span><span class="ident" id="8089461">item1</span><span class="op" id="8089466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8089469">if</span>&nbsp;<span class="ident" id="8089472">err</span>&nbsp;<span class="op" id="8089476">!=</span>&nbsp;<span class="ident" id="8089479">nil</span>&nbsp;<span class="op" id="8089483">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089487">t</span><span class="op" id="8089488">.</span><span class="ident" id="8089489">Error</span><span class="op" id="8089494">(</span><span class="string" id="8089495">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8089526">,</span>&nbsp;<span class="ident" id="8089528">err</span><span class="op" id="8089531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089538">item2</span>&nbsp;<span class="op" id="8089544">:=</span>&nbsp;<span class="op" id="8089547">&amp;</span><span class="ident" id="8089548">BasicInterfaceItem</span><span class="op" id="8089566">{</span><span class="op" id="8089567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089570">err</span>&nbsp;<span class="op" id="8089574">=</span>&nbsp;<span class="ident" id="8089576">NewDecoder</span><span class="op" id="8089586">(</span><span class="ident" id="8089587">b</span><span class="op" id="8089588">)</span><span class="op" id="8089589">.</span><span class="ident" id="8089590">Decode</span><span class="op" id="8089596">(</span><span class="op" id="8089597">&amp;</span><span class="ident" id="8089598">item2</span><span class="op" id="8089603">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8089606">if</span>&nbsp;<span class="ident" id="8089609">err</span>&nbsp;<span class="op" id="8089613">!=</span>&nbsp;<span class="ident" id="8089616">nil</span>&nbsp;<span class="op" id="8089620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089624">t</span><span class="op" id="8089625">.</span><span class="ident" id="8089626">Fatal</span><span class="op" id="8089631">(</span><span class="string" id="8089632">&#34;decode:&#34;</span><span class="op" id="8089641">,</span>&nbsp;<span class="ident" id="8089643">err</span><span class="op" id="8089646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8089652">if</span>&nbsp;<span class="op" id="8089655">!</span><span class="ident" id="8089656">reflect</span><span class="op" id="8089663">.</span><span class="ident" id="8089664">DeepEqual</span><span class="op" id="8089673">(</span><span class="ident" id="8089674">item1</span><span class="op" id="8089679">,</span>&nbsp;<span class="ident" id="8089681">item2</span><span class="op" id="8089686">)</span>&nbsp;<span class="op" id="8089688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089692">t</span><span class="op" id="8089693">.</span><span class="ident" id="8089694">Errorf</span><span class="op" id="8089700">(</span><span class="string" id="8089701">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8089728">,</span>&nbsp;<span class="ident" id="8089730">item1</span><span class="op" id="8089735">,</span>&nbsp;<span class="ident" id="8089737">item2</span><span class="op" id="8089742">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8089748">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8089791">if</span>&nbsp;<span class="ident" id="8089794">v</span><span class="op" id="8089795">,</span>&nbsp;<span class="ident" id="8089797">ok</span>&nbsp;<span class="op" id="8089800">:=</span>&nbsp;<span class="ident" id="8089803">item2</span><span class="op" id="8089808">.</span><span class="ident" id="8089809">Bool</span><span class="op" id="8089813">.</span><span class="op" id="8089814">(</span><span class="builtintype" id="8089815">bool</span><span class="op" id="8089819">)</span><span class="op" id="8089820">;</span>&nbsp;<span class="op" id="8089822">!</span><span class="ident" id="8089823">ok</span>&nbsp;<span class="op" id="8089826">||</span>&nbsp;<span class="op" id="8089829">!</span><span class="ident" id="8089830">v</span>&nbsp;<span class="op" id="8089832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089836">t</span><span class="op" id="8089837">.</span><span class="ident" id="8089838">Error</span><span class="op" id="8089843">(</span><span class="string" id="8089844">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="8089868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089871">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8089874">if</span>&nbsp;<span class="ident" id="8089877">v</span><span class="op" id="8089878">,</span>&nbsp;<span class="ident" id="8089880">ok</span>&nbsp;<span class="op" id="8089883">:=</span>&nbsp;<span class="ident" id="8089886">item2</span><span class="op" id="8089891">.</span><span class="ident" id="8089892">String</span><span class="op" id="8089898">.</span><span class="op" id="8089899">(</span><span class="builtintype" id="8089900">string</span><span class="op" id="8089906">)</span><span class="op" id="8089907">;</span>&nbsp;<span class="op" id="8089909">!</span><span class="ident" id="8089910">ok</span>&nbsp;<span class="op" id="8089913">||</span>&nbsp;<span class="ident" id="8089916">v</span>&nbsp;<span class="op" id="8089918">!=</span>&nbsp;<span class="ident" id="8089921">item1</span><span class="op" id="8089926">.</span><span class="ident" id="8089927">String</span><span class="op" id="8089933">.</span><span class="op" id="8089934">(</span><span class="builtintype" id="8089935">string</span><span class="op" id="8089941">)</span>&nbsp;<span class="op" id="8089943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8089947">t</span><span class="op" id="8089948">.</span><span class="ident" id="8089949">Errorf</span><span class="op" id="8089955">(</span><span class="string" id="8089956">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="8089983">,</span>&nbsp;<span class="ident" id="8089985">item1</span><span class="op" id="8089990">.</span><span class="ident" id="8089991">String</span><span class="op" id="8089997">,</span>&nbsp;<span class="ident" id="8089999">v</span><span class="op" id="8090000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090003">}</span><br>
<span class="lineno"></span><span class="op" id="8090005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="8090008">type</span>&nbsp;<span class="ident" id="8090013">String</span>&nbsp;<span class="builtintype" id="8090020">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8090028">type</span>&nbsp;<span class="ident" id="8090033">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="8090050">struct</span>&nbsp;<span class="op" id="8090057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090060">Str1</span>&nbsp;<span class="keyword" id="8090065">interface</span><span class="op" id="8090074">{</span><span class="op" id="8090075">}</span>&nbsp;<span class="comment" id="8090077">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090087">Str2</span>&nbsp;<span class="keyword" id="8090092">interface</span><span class="op" id="8090101">{</span><span class="op" id="8090102">}</span>&nbsp;<span class="comment" id="8090104">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="8090115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8090118">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="8090165">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="8090215">func</span>&nbsp;<span class="ident" id="8090220">TestInterfacePointer</span><span class="op" id="8090240">(</span><span class="ident" id="8090241">t</span>&nbsp;<span class="op" id="8090243">*</span><span class="ident" id="8090244">testing</span><span class="op" id="8090251">.</span><span class="ident" id="8090252">T</span><span class="op" id="8090253">)</span>&nbsp;<span class="op" id="8090255">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090258">b</span>&nbsp;<span class="op" id="8090260">:=</span>&nbsp;<span class="builtinfunc" id="8090263">new</span><span class="op" id="8090266">(</span><span class="ident" id="8090267">bytes</span><span class="op" id="8090272">.</span><span class="ident" id="8090273">Buffer</span><span class="op" id="8090279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090282">str1</span>&nbsp;<span class="op" id="8090287">:=</span>&nbsp;<span class="string" id="8090290">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090299">str2</span>&nbsp;<span class="op" id="8090304">:=</span>&nbsp;<span class="ident" id="8090307">String</span><span class="op" id="8090313">(</span><span class="string" id="8090314">&#34;kiddo&#34;</span><span class="op" id="8090321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090324">item1</span>&nbsp;<span class="op" id="8090330">:=</span>&nbsp;<span class="op" id="8090333">&amp;</span><span class="ident" id="8090334">PtrInterfaceItem</span><span class="op" id="8090350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090354">&amp;</span><span class="ident" id="8090355">str1</span><span class="op" id="8090359">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090363">&amp;</span><span class="ident" id="8090364">str2</span><span class="op" id="8090368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8090374">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090397">Register</span><span class="op" id="8090405">(</span><span class="ident" id="8090406">str2</span><span class="op" id="8090410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090413">err</span>&nbsp;<span class="op" id="8090417">:=</span>&nbsp;<span class="ident" id="8090420">NewEncoder</span><span class="op" id="8090430">(</span><span class="ident" id="8090431">b</span><span class="op" id="8090432">)</span><span class="op" id="8090433">.</span><span class="ident" id="8090434">Encode</span><span class="op" id="8090440">(</span><span class="ident" id="8090441">item1</span><span class="op" id="8090446">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8090449">if</span>&nbsp;<span class="ident" id="8090452">err</span>&nbsp;<span class="op" id="8090456">!=</span>&nbsp;<span class="ident" id="8090459">nil</span>&nbsp;<span class="op" id="8090463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090467">t</span><span class="op" id="8090468">.</span><span class="ident" id="8090469">Error</span><span class="op" id="8090474">(</span><span class="string" id="8090475">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8090506">,</span>&nbsp;<span class="ident" id="8090508">err</span><span class="op" id="8090511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090518">item2</span>&nbsp;<span class="op" id="8090524">:=</span>&nbsp;<span class="op" id="8090527">&amp;</span><span class="ident" id="8090528">PtrInterfaceItem</span><span class="op" id="8090544">{</span><span class="op" id="8090545">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090548">err</span>&nbsp;<span class="op" id="8090552">=</span>&nbsp;<span class="ident" id="8090554">NewDecoder</span><span class="op" id="8090564">(</span><span class="ident" id="8090565">b</span><span class="op" id="8090566">)</span><span class="op" id="8090567">.</span><span class="ident" id="8090568">Decode</span><span class="op" id="8090574">(</span><span class="op" id="8090575">&amp;</span><span class="ident" id="8090576">item2</span><span class="op" id="8090581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8090584">if</span>&nbsp;<span class="ident" id="8090587">err</span>&nbsp;<span class="op" id="8090591">!=</span>&nbsp;<span class="ident" id="8090594">nil</span>&nbsp;<span class="op" id="8090598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090602">t</span><span class="op" id="8090603">.</span><span class="ident" id="8090604">Fatal</span><span class="op" id="8090609">(</span><span class="string" id="8090610">&#34;decode:&#34;</span><span class="op" id="8090619">,</span>&nbsp;<span class="ident" id="8090621">err</span><span class="op" id="8090624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8090630">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8090674">if</span>&nbsp;<span class="ident" id="8090677">v</span><span class="op" id="8090678">,</span>&nbsp;<span class="ident" id="8090680">ok</span>&nbsp;<span class="op" id="8090683">:=</span>&nbsp;<span class="ident" id="8090686">item2</span><span class="op" id="8090691">.</span><span class="ident" id="8090692">Str1</span><span class="op" id="8090696">.</span><span class="op" id="8090697">(</span><span class="builtintype" id="8090698">string</span><span class="op" id="8090704">)</span><span class="op" id="8090705">;</span>&nbsp;<span class="op" id="8090707">!</span><span class="ident" id="8090708">ok</span>&nbsp;<span class="op" id="8090711">||</span>&nbsp;<span class="ident" id="8090714">v</span>&nbsp;<span class="op" id="8090716">!=</span>&nbsp;<span class="ident" id="8090719">str1</span>&nbsp;<span class="op" id="8090724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090728">t</span><span class="op" id="8090729">.</span><span class="ident" id="8090730">Errorf</span><span class="op" id="8090736">(</span><span class="string" id="8090737">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8090775">,</span>&nbsp;<span class="ident" id="8090777">v</span><span class="op" id="8090778">,</span>&nbsp;<span class="ident" id="8090780">str1</span><span class="op" id="8090784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8090790">if</span>&nbsp;<span class="ident" id="8090793">v</span><span class="op" id="8090794">,</span>&nbsp;<span class="ident" id="8090796">ok</span>&nbsp;<span class="op" id="8090799">:=</span>&nbsp;<span class="ident" id="8090802">item2</span><span class="op" id="8090807">.</span><span class="ident" id="8090808">Str2</span><span class="op" id="8090812">.</span><span class="op" id="8090813">(</span><span class="ident" id="8090814">String</span><span class="op" id="8090820">)</span><span class="op" id="8090821">;</span>&nbsp;<span class="op" id="8090823">!</span><span class="ident" id="8090824">ok</span>&nbsp;<span class="op" id="8090827">||</span>&nbsp;<span class="ident" id="8090830">v</span>&nbsp;<span class="op" id="8090832">!=</span>&nbsp;<span class="ident" id="8090835">str2</span>&nbsp;<span class="op" id="8090840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090844">t</span><span class="op" id="8090845">.</span><span class="ident" id="8090846">Errorf</span><span class="op" id="8090852">(</span><span class="string" id="8090853">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8090898">,</span>&nbsp;<span class="ident" id="8090900">v</span><span class="op" id="8090901">,</span>&nbsp;<span class="ident" id="8090903">str2</span><span class="op" id="8090907">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090910">}</span><br>
<span class="lineno"></span><span class="op" id="8090912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8090915">func</span>&nbsp;<span class="ident" id="8090920">TestIgnoreInterface</span><span class="op" id="8090939">(</span><span class="ident" id="8090940">t</span>&nbsp;<span class="op" id="8090942">*</span><span class="ident" id="8090943">testing</span><span class="op" id="8090950">.</span><span class="ident" id="8090951">T</span><span class="op" id="8090952">)</span>&nbsp;<span class="op" id="8090954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090957">iVal</span>&nbsp;<span class="op" id="8090962">:=</span>&nbsp;<span class="ident" id="8090965">Int</span><span class="op" id="8090968">(</span><span class="num" id="8090969">3</span><span class="op" id="8090970">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090973">fVal</span>&nbsp;<span class="op" id="8090978">:=</span>&nbsp;<span class="ident" id="8090981">Float</span><span class="op" id="8090986">(</span><span class="num" id="8090987">5</span><span class="op" id="8090988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8090991">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8091073">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091108">pVal</span>&nbsp;<span class="op" id="8091113">:=</span>&nbsp;<span class="ident" id="8091116">Point</span><span class="op" id="8091121">{</span><span class="num" id="8091122">2</span><span class="op" id="8091123">,</span>&nbsp;<span class="num" id="8091125">3</span><span class="op" id="8091126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091129">b</span>&nbsp;<span class="op" id="8091131">:=</span>&nbsp;<span class="builtinfunc" id="8091134">new</span><span class="op" id="8091137">(</span><span class="ident" id="8091138">bytes</span><span class="op" id="8091143">.</span><span class="ident" id="8091144">Buffer</span><span class="op" id="8091150">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091153">item1</span>&nbsp;<span class="op" id="8091159">:=</span>&nbsp;<span class="op" id="8091162">&amp;</span><span class="ident" id="8091163">InterfaceItem</span><span class="op" id="8091176">{</span><span class="num" id="8091177">1</span><span class="op" id="8091178">,</span>&nbsp;<span class="ident" id="8091180">iVal</span><span class="op" id="8091184">,</span>&nbsp;<span class="ident" id="8091186">fVal</span><span class="op" id="8091190">,</span>&nbsp;<span class="ident" id="8091192">pVal</span><span class="op" id="8091196">,</span>&nbsp;<span class="num" id="8091198">11.5</span><span class="op" id="8091202">,</span>&nbsp;<span class="ident" id="8091204">nil</span><span class="op" id="8091207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8091210">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091234">Register</span><span class="op" id="8091242">(</span><span class="ident" id="8091243">Int</span><span class="op" id="8091246">(</span><span class="num" id="8091247">0</span><span class="op" id="8091248">)</span><span class="op" id="8091249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091252">Register</span><span class="op" id="8091260">(</span><span class="ident" id="8091261">Float</span><span class="op" id="8091266">(</span><span class="num" id="8091267">0</span><span class="op" id="8091268">)</span><span class="op" id="8091269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091272">Register</span><span class="op" id="8091280">(</span><span class="ident" id="8091281">Point</span><span class="op" id="8091286">{</span><span class="op" id="8091287">}</span><span class="op" id="8091288">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091291">err</span>&nbsp;<span class="op" id="8091295">:=</span>&nbsp;<span class="ident" id="8091298">NewEncoder</span><span class="op" id="8091308">(</span><span class="ident" id="8091309">b</span><span class="op" id="8091310">)</span><span class="op" id="8091311">.</span><span class="ident" id="8091312">Encode</span><span class="op" id="8091318">(</span><span class="ident" id="8091319">item1</span><span class="op" id="8091324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091327">if</span>&nbsp;<span class="ident" id="8091330">err</span>&nbsp;<span class="op" id="8091334">!=</span>&nbsp;<span class="ident" id="8091337">nil</span>&nbsp;<span class="op" id="8091341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091345">t</span><span class="op" id="8091346">.</span><span class="ident" id="8091347">Error</span><span class="op" id="8091352">(</span><span class="string" id="8091353">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8091384">,</span>&nbsp;<span class="ident" id="8091386">err</span><span class="op" id="8091389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091396">item2</span>&nbsp;<span class="op" id="8091402">:=</span>&nbsp;<span class="ident" id="8091405">NoInterfaceItem</span><span class="op" id="8091420">{</span><span class="op" id="8091421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091424">err</span>&nbsp;<span class="op" id="8091428">=</span>&nbsp;<span class="ident" id="8091430">NewDecoder</span><span class="op" id="8091440">(</span><span class="ident" id="8091441">b</span><span class="op" id="8091442">)</span><span class="op" id="8091443">.</span><span class="ident" id="8091444">Decode</span><span class="op" id="8091450">(</span><span class="op" id="8091451">&amp;</span><span class="ident" id="8091452">item2</span><span class="op" id="8091457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091460">if</span>&nbsp;<span class="ident" id="8091463">err</span>&nbsp;<span class="op" id="8091467">!=</span>&nbsp;<span class="ident" id="8091470">nil</span>&nbsp;<span class="op" id="8091474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091478">t</span><span class="op" id="8091479">.</span><span class="ident" id="8091480">Fatal</span><span class="op" id="8091485">(</span><span class="string" id="8091486">&#34;decode:&#34;</span><span class="op" id="8091495">,</span>&nbsp;<span class="ident" id="8091497">err</span><span class="op" id="8091500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091503">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091506">if</span>&nbsp;<span class="ident" id="8091509">item2</span><span class="op" id="8091514">.</span><span class="ident" id="8091515">I</span>&nbsp;<span class="op" id="8091517">!=</span>&nbsp;<span class="ident" id="8091520">item1</span><span class="op" id="8091525">.</span><span class="ident" id="8091526">I</span>&nbsp;<span class="op" id="8091528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091532">t</span><span class="op" id="8091533">.</span><span class="ident" id="8091534">Error</span><span class="op" id="8091539">(</span><span class="string" id="8091540">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8091577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091583">if</span>&nbsp;<span class="ident" id="8091586">item2</span><span class="op" id="8091591">.</span><span class="ident" id="8091592">F</span>&nbsp;<span class="op" id="8091594">!=</span>&nbsp;<span class="ident" id="8091597">item2</span><span class="op" id="8091602">.</span><span class="ident" id="8091603">F</span>&nbsp;<span class="op" id="8091605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091609">t</span><span class="op" id="8091610">.</span><span class="ident" id="8091611">Error</span><span class="op" id="8091616">(</span><span class="string" id="8091617">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8091656">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091659">}</span><br>
<span class="lineno"></span><span class="op" id="8091661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8091664">type</span>&nbsp;<span class="ident" id="8091669">U</span>&nbsp;<span class="keyword" id="8091671">struct</span>&nbsp;<span class="op" id="8091678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091681">A</span>&nbsp;<span class="builtintype" id="8091683">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091688">B</span>&nbsp;<span class="builtintype" id="8091690">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091698">c</span>&nbsp;<span class="builtintype" id="8091700">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091709">D</span>&nbsp;<span class="builtintype" id="8091711">uint</span><br>
<span class="lineno"></span><span class="op" id="8091716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="8091719">func</span>&nbsp;<span class="ident" id="8091724">TestUnexportedFields</span><span class="op" id="8091744">(</span><span class="ident" id="8091745">t</span>&nbsp;<span class="op" id="8091747">*</span><span class="ident" id="8091748">testing</span><span class="op" id="8091755">.</span><span class="ident" id="8091756">T</span><span class="op" id="8091757">)</span>&nbsp;<span class="op" id="8091759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091762">var</span>&nbsp;<span class="ident" id="8091766">u0</span>&nbsp;<span class="ident" id="8091769">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091772">u0</span><span class="op" id="8091774">.</span><span class="ident" id="8091775">A</span>&nbsp;<span class="op" id="8091777">=</span>&nbsp;<span class="num" id="8091779">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091783">u0</span><span class="op" id="8091785">.</span><span class="ident" id="8091786">B</span>&nbsp;<span class="op" id="8091788">=</span>&nbsp;<span class="string" id="8091790">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091799">u0</span><span class="op" id="8091801">.</span><span class="ident" id="8091802">c</span>&nbsp;<span class="op" id="8091804">=</span>&nbsp;<span class="num" id="8091806">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091815">u0</span><span class="op" id="8091817">.</span><span class="ident" id="8091818">D</span>&nbsp;<span class="op" id="8091820">=</span>&nbsp;<span class="num" id="8091822">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091826">b</span>&nbsp;<span class="op" id="8091828">:=</span>&nbsp;<span class="builtinfunc" id="8091831">new</span><span class="op" id="8091834">(</span><span class="ident" id="8091835">bytes</span><span class="op" id="8091840">.</span><span class="ident" id="8091841">Buffer</span><span class="op" id="8091847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091850">NewEncoder</span><span class="op" id="8091860">(</span><span class="ident" id="8091861">b</span><span class="op" id="8091862">)</span><span class="op" id="8091863">.</span><span class="ident" id="8091864">Encode</span><span class="op" id="8091870">(</span><span class="ident" id="8091871">u0</span><span class="op" id="8091873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091876">dec</span>&nbsp;<span class="op" id="8091880">:=</span>&nbsp;<span class="ident" id="8091883">NewDecoder</span><span class="op" id="8091893">(</span><span class="ident" id="8091894">b</span><span class="op" id="8091895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091898">var</span>&nbsp;<span class="ident" id="8091902">u1</span>&nbsp;<span class="ident" id="8091905">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091908">u1</span><span class="op" id="8091910">.</span><span class="ident" id="8091911">c</span>&nbsp;<span class="op" id="8091913">=</span>&nbsp;<span class="num" id="8091915">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091922">err</span>&nbsp;<span class="op" id="8091926">:=</span>&nbsp;<span class="ident" id="8091929">dec</span><span class="op" id="8091932">.</span><span class="ident" id="8091933">Decode</span><span class="op" id="8091939">(</span><span class="op" id="8091940">&amp;</span><span class="ident" id="8091941">u1</span><span class="op" id="8091943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091946">if</span>&nbsp;<span class="ident" id="8091949">err</span>&nbsp;<span class="op" id="8091953">!=</span>&nbsp;<span class="ident" id="8091956">nil</span>&nbsp;<span class="op" id="8091960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091964">t</span><span class="op" id="8091965">.</span><span class="ident" id="8091966">Fatal</span><span class="op" id="8091971">(</span><span class="string" id="8091972">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8091987">,</span>&nbsp;<span class="ident" id="8091989">err</span><span class="op" id="8091992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091995">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8091998">if</span>&nbsp;<span class="ident" id="8092001">u0</span><span class="op" id="8092003">.</span><span class="ident" id="8092004">A</span>&nbsp;<span class="op" id="8092006">!=</span>&nbsp;<span class="ident" id="8092009">u0</span><span class="op" id="8092011">.</span><span class="ident" id="8092012">A</span>&nbsp;<span class="op" id="8092014">||</span>&nbsp;<span class="ident" id="8092017">u0</span><span class="op" id="8092019">.</span><span class="ident" id="8092020">B</span>&nbsp;<span class="op" id="8092022">!=</span>&nbsp;<span class="ident" id="8092025">u1</span><span class="op" id="8092027">.</span><span class="ident" id="8092028">B</span>&nbsp;<span class="op" id="8092030">||</span>&nbsp;<span class="ident" id="8092033">u0</span><span class="op" id="8092035">.</span><span class="ident" id="8092036">D</span>&nbsp;<span class="op" id="8092038">!=</span>&nbsp;<span class="ident" id="8092041">u1</span><span class="op" id="8092043">.</span><span class="ident" id="8092044">D</span>&nbsp;<span class="op" id="8092046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092050">t</span><span class="op" id="8092051">.</span><span class="ident" id="8092052">Errorf</span><span class="op" id="8092058">(</span><span class="string" id="8092059">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8092088">,</span>&nbsp;<span class="ident" id="8092090">u0</span><span class="op" id="8092092">,</span>&nbsp;<span class="ident" id="8092094">u1</span><span class="op" id="8092096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092102">if</span>&nbsp;<span class="ident" id="8092105">u1</span><span class="op" id="8092107">.</span><span class="ident" id="8092108">c</span>&nbsp;<span class="op" id="8092110">!=</span>&nbsp;<span class="num" id="8092113">1234.</span>&nbsp;<span class="op" id="8092119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092123">t</span><span class="op" id="8092124">.</span><span class="ident" id="8092125">Error</span><span class="op" id="8092130">(</span><span class="string" id="8092131">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="8092146">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092149">}</span><br>
<span class="lineno"></span><span class="op" id="8092151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8092154">var</span>&nbsp;<span class="ident" id="8092158">singletons</span>&nbsp;<span class="op" id="8092169">=</span>&nbsp;<span class="op" id="8092171">[</span><span class="op" id="8092172">]</span><span class="keyword" id="8092173">interface</span><span class="op" id="8092182">{</span><span class="op" id="8092183">}</span><span class="op" id="8092184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8092187">true</span><span class="op" id="8092191">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8092194">7</span><span class="op" id="8092195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8092198">3.2</span><span class="op" id="8092201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8092204">&#34;hello&#34;</span><span class="op" id="8092211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092214">[</span><span class="num" id="8092215">3</span><span class="op" id="8092216">]</span><span class="builtintype" id="8092217">int</span><span class="op" id="8092220">{</span><span class="num" id="8092221">11</span><span class="op" id="8092223">,</span>&nbsp;<span class="num" id="8092225">22</span><span class="op" id="8092227">,</span>&nbsp;<span class="num" id="8092229">33</span><span class="op" id="8092231">}</span><span class="op" id="8092232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092235">[</span><span class="op" id="8092236">]</span><span class="builtintype" id="8092237">float32</span><span class="op" id="8092244">{</span><span class="num" id="8092245">0.5</span><span class="op" id="8092248">,</span>&nbsp;<span class="num" id="8092250">0.25</span><span class="op" id="8092254">,</span>&nbsp;<span class="num" id="8092256">0.125</span><span class="op" id="8092261">}</span><span class="op" id="8092262">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092265">map</span><span class="op" id="8092268">[</span><span class="builtintype" id="8092269">string</span><span class="op" id="8092275">]</span><span class="builtintype" id="8092276">int</span><span class="op" id="8092279">{</span><span class="string" id="8092280">&#34;one&#34;</span><span class="op" id="8092285">:</span>&nbsp;<span class="num" id="8092287">1</span><span class="op" id="8092288">,</span>&nbsp;<span class="string" id="8092290">&#34;two&#34;</span><span class="op" id="8092295">:</span>&nbsp;<span class="num" id="8092297">2</span><span class="op" id="8092298">}</span><span class="op" id="8092299">,</span><br>
<span class="lineno"></span><span class="op" id="8092301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8092304">func</span>&nbsp;<span class="ident" id="8092309">TestDebugSingleton</span><span class="op" id="8092327">(</span><span class="ident" id="8092328">t</span>&nbsp;<span class="op" id="8092330">*</span><span class="ident" id="8092331">testing</span><span class="op" id="8092338">.</span><span class="ident" id="8092339">T</span><span class="op" id="8092340">)</span>&nbsp;<span class="op" id="8092342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092345">if</span>&nbsp;<span class="ident" id="8092348">debugFunc</span>&nbsp;<span class="op" id="8092358">==</span>&nbsp;<span class="ident" id="8092361">nil</span>&nbsp;<span class="op" id="8092365">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092369">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092380">b</span>&nbsp;<span class="op" id="8092382">:=</span>&nbsp;<span class="builtinfunc" id="8092385">new</span><span class="op" id="8092388">(</span><span class="ident" id="8092389">bytes</span><span class="op" id="8092394">.</span><span class="ident" id="8092395">Buffer</span><span class="op" id="8092401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8092404">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092470">for</span>&nbsp;<span class="ident" id="8092474">_</span><span class="op" id="8092475">,</span>&nbsp;<span class="ident" id="8092477">x</span>&nbsp;<span class="op" id="8092479">:=</span>&nbsp;<span class="keyword" id="8092482">range</span>&nbsp;<span class="ident" id="8092488">singletons</span>&nbsp;<span class="op" id="8092499">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092503">err</span>&nbsp;<span class="op" id="8092507">:=</span>&nbsp;<span class="ident" id="8092510">NewEncoder</span><span class="op" id="8092520">(</span><span class="ident" id="8092521">b</span><span class="op" id="8092522">)</span><span class="op" id="8092523">.</span><span class="ident" id="8092524">Encode</span><span class="op" id="8092530">(</span><span class="ident" id="8092531">x</span><span class="op" id="8092532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092536">if</span>&nbsp;<span class="ident" id="8092539">err</span>&nbsp;<span class="op" id="8092543">!=</span>&nbsp;<span class="ident" id="8092546">nil</span>&nbsp;<span class="op" id="8092550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092555">t</span><span class="op" id="8092556">.</span><span class="ident" id="8092557">Fatal</span><span class="op" id="8092562">(</span><span class="string" id="8092563">&#34;encode:&#34;</span><span class="op" id="8092572">,</span>&nbsp;<span class="ident" id="8092574">err</span><span class="op" id="8092577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092584">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092587">debugFunc</span><span class="op" id="8092596">(</span><span class="ident" id="8092597">b</span><span class="op" id="8092598">)</span><br>
<span class="lineno"></span><span class="op" id="8092600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8092603">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="8092686">type</span>&nbsp;<span class="ident" id="8092691">OnTheFly</span>&nbsp;<span class="keyword" id="8092700">struct</span>&nbsp;<span class="op" id="8092707">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092710">A</span>&nbsp;<span class="builtintype" id="8092712">int</span><br>
<span class="lineno"></span><span class="op" id="8092716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8092719">type</span>&nbsp;<span class="ident" id="8092724">DT</span>&nbsp;<span class="keyword" id="8092727">struct</span>&nbsp;<span class="op" id="8092734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8092737">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092752">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8092758">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092763">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8092769">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092777">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8092783">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092792">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092798">interface</span><span class="op" id="8092807">{</span><span class="op" id="8092808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092811">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092817">interface</span><span class="op" id="8092826">{</span><span class="op" id="8092827">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092830">I_nil</span>&nbsp;<span class="keyword" id="8092836">interface</span><span class="op" id="8092845">{</span><span class="op" id="8092846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092849">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092855">map</span><span class="op" id="8092858">[</span><span class="builtintype" id="8092859">string</span><span class="op" id="8092865">]</span><span class="builtintype" id="8092866">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092871">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092877">[</span><span class="num" id="8092878">3</span><span class="op" id="8092879">]</span><span class="builtintype" id="8092880">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092885">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092891">[</span><span class="op" id="8092892">]</span><span class="builtintype" id="8092893">string</span><br>
<span class="lineno"></span><span class="op" id="8092900">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="8092903">func</span>&nbsp;<span class="ident" id="8092908">newDT</span><span class="op" id="8092913">(</span><span class="op" id="8092914">)</span>&nbsp;<span class="ident" id="8092916">DT</span>&nbsp;<span class="op" id="8092919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8092922">var</span>&nbsp;<span class="ident" id="8092926">dt</span>&nbsp;<span class="ident" id="8092929">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092933">dt</span><span class="op" id="8092935">.</span><span class="ident" id="8092936">A</span>&nbsp;<span class="op" id="8092938">=</span>&nbsp;<span class="num" id="8092940">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092944">dt</span><span class="op" id="8092946">.</span><span class="ident" id="8092947">B</span>&nbsp;<span class="op" id="8092949">=</span>&nbsp;<span class="string" id="8092951">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092960">dt</span><span class="op" id="8092962">.</span><span class="ident" id="8092963">C</span>&nbsp;<span class="op" id="8092965">=</span>&nbsp;<span class="num" id="8092967">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092976">dt</span><span class="op" id="8092978">.</span><span class="ident" id="8092979">I</span>&nbsp;<span class="op" id="8092981">=</span>&nbsp;<span class="num" id="8092983">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8092991">dt</span><span class="op" id="8092993">.</span><span class="ident" id="8092994">J</span>&nbsp;<span class="op" id="8092996">=</span>&nbsp;<span class="ident" id="8092998">OnTheFly</span><span class="op" id="8093006">{</span><span class="num" id="8093007">3</span><span class="op" id="8093008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093011">dt</span><span class="op" id="8093013">.</span><span class="ident" id="8093014">I_nil</span>&nbsp;<span class="op" id="8093020">=</span>&nbsp;<span class="ident" id="8093022">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093027">dt</span><span class="op" id="8093029">.</span><span class="ident" id="8093030">M</span>&nbsp;<span class="op" id="8093032">=</span>&nbsp;<span class="keyword" id="8093034">map</span><span class="op" id="8093037">[</span><span class="builtintype" id="8093038">string</span><span class="op" id="8093044">]</span><span class="builtintype" id="8093045">int</span><span class="op" id="8093048">{</span><span class="string" id="8093049">&#34;one&#34;</span><span class="op" id="8093054">:</span>&nbsp;<span class="num" id="8093056">1</span><span class="op" id="8093057">,</span>&nbsp;<span class="string" id="8093059">&#34;two&#34;</span><span class="op" id="8093064">:</span>&nbsp;<span class="num" id="8093066">2</span><span class="op" id="8093067">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093070">dt</span><span class="op" id="8093072">.</span><span class="ident" id="8093073">T</span>&nbsp;<span class="op" id="8093075">=</span>&nbsp;<span class="op" id="8093077">[</span><span class="num" id="8093078">3</span><span class="op" id="8093079">]</span><span class="builtintype" id="8093080">int</span><span class="op" id="8093083">{</span><span class="num" id="8093084">11</span><span class="op" id="8093086">,</span>&nbsp;<span class="num" id="8093088">22</span><span class="op" id="8093090">,</span>&nbsp;<span class="num" id="8093092">33</span><span class="op" id="8093094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093097">dt</span><span class="op" id="8093099">.</span><span class="ident" id="8093100">S</span>&nbsp;<span class="op" id="8093102">=</span>&nbsp;<span class="op" id="8093104">[</span><span class="op" id="8093105">]</span><span class="builtintype" id="8093106">string</span><span class="op" id="8093112">{</span><span class="string" id="8093113">&#34;hi&#34;</span><span class="op" id="8093117">,</span>&nbsp;<span class="string" id="8093119">&#34;joe&#34;</span><span class="op" id="8093124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093127">return</span>&nbsp;<span class="ident" id="8093134">dt</span><br>
<span class="lineno"></span><span class="op" id="8093137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="8093140">func</span>&nbsp;<span class="ident" id="8093145">TestDebugStruct</span><span class="op" id="8093160">(</span><span class="ident" id="8093161">t</span>&nbsp;<span class="op" id="8093163">*</span><span class="ident" id="8093164">testing</span><span class="op" id="8093171">.</span><span class="ident" id="8093172">T</span><span class="op" id="8093173">)</span>&nbsp;<span class="op" id="8093175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093178">if</span>&nbsp;<span class="ident" id="8093181">debugFunc</span>&nbsp;<span class="op" id="8093191">==</span>&nbsp;<span class="ident" id="8093194">nil</span>&nbsp;<span class="op" id="8093198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093202">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093213">Register</span><span class="op" id="8093221">(</span><span class="ident" id="8093222">OnTheFly</span><span class="op" id="8093230">{</span><span class="op" id="8093231">}</span><span class="op" id="8093232">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093235">dt</span>&nbsp;<span class="op" id="8093238">:=</span>&nbsp;<span class="ident" id="8093241">newDT</span><span class="op" id="8093246">(</span><span class="op" id="8093247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093250">b</span>&nbsp;<span class="op" id="8093252">:=</span>&nbsp;<span class="builtinfunc" id="8093255">new</span><span class="op" id="8093258">(</span><span class="ident" id="8093259">bytes</span><span class="op" id="8093264">.</span><span class="ident" id="8093265">Buffer</span><span class="op" id="8093271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093274">err</span>&nbsp;<span class="op" id="8093278">:=</span>&nbsp;<span class="ident" id="8093281">NewEncoder</span><span class="op" id="8093291">(</span><span class="ident" id="8093292">b</span><span class="op" id="8093293">)</span><span class="op" id="8093294">.</span><span class="ident" id="8093295">Encode</span><span class="op" id="8093301">(</span><span class="ident" id="8093302">dt</span><span class="op" id="8093304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093307">if</span>&nbsp;<span class="ident" id="8093310">err</span>&nbsp;<span class="op" id="8093314">!=</span>&nbsp;<span class="ident" id="8093317">nil</span>&nbsp;<span class="op" id="8093321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093325">t</span><span class="op" id="8093326">.</span><span class="ident" id="8093327">Fatal</span><span class="op" id="8093332">(</span><span class="string" id="8093333">&#34;encode:&#34;</span><span class="op" id="8093342">,</span>&nbsp;<span class="ident" id="8093344">err</span><span class="op" id="8093347">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093353">debugBuffer</span>&nbsp;<span class="op" id="8093365">:=</span>&nbsp;<span class="ident" id="8093368">bytes</span><span class="op" id="8093373">.</span><span class="ident" id="8093374">NewBuffer</span><span class="op" id="8093383">(</span><span class="ident" id="8093384">b</span><span class="op" id="8093385">.</span><span class="ident" id="8093386">Bytes</span><span class="op" id="8093391">(</span><span class="op" id="8093392">)</span><span class="op" id="8093393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093396">dt2</span>&nbsp;<span class="op" id="8093400">:=</span>&nbsp;<span class="op" id="8093403">&amp;</span><span class="ident" id="8093404">DT</span><span class="op" id="8093406">{</span><span class="op" id="8093407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093410">err</span>&nbsp;<span class="op" id="8093414">=</span>&nbsp;<span class="ident" id="8093416">NewDecoder</span><span class="op" id="8093426">(</span><span class="ident" id="8093427">b</span><span class="op" id="8093428">)</span><span class="op" id="8093429">.</span><span class="ident" id="8093430">Decode</span><span class="op" id="8093436">(</span><span class="op" id="8093437">&amp;</span><span class="ident" id="8093438">dt2</span><span class="op" id="8093441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093444">if</span>&nbsp;<span class="ident" id="8093447">err</span>&nbsp;<span class="op" id="8093451">!=</span>&nbsp;<span class="ident" id="8093454">nil</span>&nbsp;<span class="op" id="8093458">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093462">t</span><span class="op" id="8093463">.</span><span class="ident" id="8093464">Error</span><span class="op" id="8093469">(</span><span class="string" id="8093470">&#34;decode:&#34;</span><span class="op" id="8093479">,</span>&nbsp;<span class="ident" id="8093481">err</span><span class="op" id="8093484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093490">debugFunc</span><span class="op" id="8093499">(</span><span class="ident" id="8093500">debugBuffer</span><span class="op" id="8093511">)</span><br>
<span class="lineno"></span><span class="op" id="8093513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="8093516">func</span>&nbsp;<span class="ident" id="8093521">encFuzzDec</span><span class="op" id="8093531">(</span><span class="ident" id="8093532">rng</span>&nbsp;<span class="op" id="8093536">*</span><span class="ident" id="8093537">rand</span><span class="op" id="8093541">.</span><span class="ident" id="8093542">Rand</span><span class="op" id="8093546">,</span>&nbsp;<span class="ident" id="8093548">in</span>&nbsp;<span class="keyword" id="8093551">interface</span><span class="op" id="8093560">{</span><span class="op" id="8093561">}</span><span class="op" id="8093562">)</span>&nbsp;<span class="builtintype" id="8093564">error</span>&nbsp;<span class="op" id="8093570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093573">buf</span>&nbsp;<span class="op" id="8093577">:=</span>&nbsp;<span class="builtinfunc" id="8093580">new</span><span class="op" id="8093583">(</span><span class="ident" id="8093584">bytes</span><span class="op" id="8093589">.</span><span class="ident" id="8093590">Buffer</span><span class="op" id="8093596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093599">enc</span>&nbsp;<span class="op" id="8093603">:=</span>&nbsp;<span class="ident" id="8093606">NewEncoder</span><span class="op" id="8093616">(</span><span class="ident" id="8093617">buf</span><span class="op" id="8093620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093623">if</span>&nbsp;<span class="ident" id="8093626">err</span>&nbsp;<span class="op" id="8093630">:=</span>&nbsp;<span class="ident" id="8093633">enc</span><span class="op" id="8093636">.</span><span class="ident" id="8093637">Encode</span><span class="op" id="8093643">(</span><span class="op" id="8093644">&amp;</span><span class="ident" id="8093645">in</span><span class="op" id="8093647">)</span><span class="op" id="8093648">;</span>&nbsp;<span class="ident" id="8093650">err</span>&nbsp;<span class="op" id="8093654">!=</span>&nbsp;<span class="ident" id="8093657">nil</span>&nbsp;<span class="op" id="8093661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093665">return</span>&nbsp;<span class="ident" id="8093672">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093681">b</span>&nbsp;<span class="op" id="8093683">:=</span>&nbsp;<span class="ident" id="8093686">buf</span><span class="op" id="8093689">.</span><span class="ident" id="8093690">Bytes</span><span class="op" id="8093695">(</span><span class="op" id="8093696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093699">for</span>&nbsp;<span class="ident" id="8093703">i</span><span class="op" id="8093704">,</span>&nbsp;<span class="ident" id="8093706">bi</span>&nbsp;<span class="op" id="8093709">:=</span>&nbsp;<span class="keyword" id="8093712">range</span>&nbsp;<span class="ident" id="8093718">b</span>&nbsp;<span class="op" id="8093720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093724">if</span>&nbsp;<span class="ident" id="8093727">rng</span><span class="op" id="8093730">.</span><span class="ident" id="8093731">Intn</span><span class="op" id="8093735">(</span><span class="num" id="8093736">10</span><span class="op" id="8093738">)</span>&nbsp;<span class="op" id="8093740">&lt;</span>&nbsp;<span class="num" id="8093742">3</span>&nbsp;<span class="op" id="8093744">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093749">b</span><span class="op" id="8093750">[</span><span class="ident" id="8093751">i</span><span class="op" id="8093752">]</span>&nbsp;<span class="op" id="8093754">=</span>&nbsp;<span class="ident" id="8093756">bi</span>&nbsp;<span class="op" id="8093759">+</span>&nbsp;<span class="builtintype" id="8093761">uint8</span><span class="op" id="8093766">(</span><span class="ident" id="8093767">rng</span><span class="op" id="8093770">.</span><span class="ident" id="8093771">Intn</span><span class="op" id="8093775">(</span><span class="num" id="8093776">256</span><span class="op" id="8093779">)</span><span class="op" id="8093780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093791">dec</span>&nbsp;<span class="op" id="8093795">:=</span>&nbsp;<span class="ident" id="8093798">NewDecoder</span><span class="op" id="8093808">(</span><span class="ident" id="8093809">buf</span><span class="op" id="8093812">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093815">var</span>&nbsp;<span class="ident" id="8093819">e</span>&nbsp;<span class="keyword" id="8093821">interface</span><span class="op" id="8093830">{</span><span class="op" id="8093831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093834">if</span>&nbsp;<span class="ident" id="8093837">err</span>&nbsp;<span class="op" id="8093841">:=</span>&nbsp;<span class="ident" id="8093844">dec</span><span class="op" id="8093847">.</span><span class="ident" id="8093848">Decode</span><span class="op" id="8093854">(</span><span class="op" id="8093855">&amp;</span><span class="ident" id="8093856">e</span><span class="op" id="8093857">)</span><span class="op" id="8093858">;</span>&nbsp;<span class="ident" id="8093860">err</span>&nbsp;<span class="op" id="8093864">!=</span>&nbsp;<span class="ident" id="8093867">nil</span>&nbsp;<span class="op" id="8093871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093875">return</span>&nbsp;<span class="ident" id="8093882">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8093890">return</span>&nbsp;<span class="ident" id="8093897">nil</span><br>
<span class="lineno">1390</span><span class="op" id="8093901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8093904">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="8093989">func</span>&nbsp;<span class="ident" id="8093994">TestFuzz</span><span class="op" id="8094002">(</span><span class="ident" id="8094003">t</span>&nbsp;<span class="op" id="8094005">*</span><span class="ident" id="8094006">testing</span><span class="op" id="8094013">.</span><span class="ident" id="8094014">T</span><span class="op" id="8094015">)</span>&nbsp;<span class="op" id="8094017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094020">if</span>&nbsp;<span class="op" id="8094023">!</span><span class="op" id="8094024">*</span><span class="ident" id="8094025">doFuzzTests</span>&nbsp;<span class="op" id="8094037">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094041">t</span><span class="op" id="8094042">.</span><span class="ident" id="8094043">Logf</span><span class="op" id="8094047">(</span><span class="string" id="8094048">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8094088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094092">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094104">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094128">input</span>&nbsp;<span class="op" id="8094134">:=</span>&nbsp;<span class="op" id="8094137">[</span><span class="op" id="8094138">]</span><span class="keyword" id="8094139">interface</span><span class="op" id="8094148">{</span><span class="op" id="8094149">}</span><span class="op" id="8094150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8094154">new</span><span class="op" id="8094157">(</span><span class="builtintype" id="8094158">int</span><span class="op" id="8094161">)</span><span class="op" id="8094162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8094166">new</span><span class="op" id="8094169">(</span><span class="builtintype" id="8094170">float32</span><span class="op" id="8094177">)</span><span class="op" id="8094178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8094182">new</span><span class="op" id="8094185">(</span><span class="builtintype" id="8094186">float64</span><span class="op" id="8094193">)</span><span class="op" id="8094194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8094198">new</span><span class="op" id="8094201">(</span><span class="builtintype" id="8094202">complex128</span><span class="op" id="8094212">)</span><span class="op" id="8094213">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094217">&amp;</span><span class="ident" id="8094218">ByteStruct</span><span class="op" id="8094228">{</span><span class="num" id="8094229">255</span><span class="op" id="8094232">}</span><span class="op" id="8094233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094237">&amp;</span><span class="ident" id="8094238">ArrayStruct</span><span class="op" id="8094249">{</span><span class="op" id="8094250">}</span><span class="op" id="8094251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094255">&amp;</span><span class="ident" id="8094256">StringStruct</span><span class="op" id="8094268">{</span><span class="string" id="8094269">&#34;hello&#34;</span><span class="op" id="8094276">}</span><span class="op" id="8094277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094281">&amp;</span><span class="ident" id="8094282">GobTest1</span><span class="op" id="8094290">{</span><span class="num" id="8094291">0</span><span class="op" id="8094292">,</span>&nbsp;<span class="op" id="8094294">&amp;</span><span class="ident" id="8094295">StringStruct</span><span class="op" id="8094307">{</span><span class="string" id="8094308">&#34;hello&#34;</span><span class="op" id="8094315">}</span><span class="op" id="8094316">}</span><span class="op" id="8094317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094320">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094323">testFuzz</span><span class="op" id="8094331">(</span><span class="ident" id="8094332">t</span><span class="op" id="8094333">,</span>&nbsp;<span class="ident" id="8094335">time</span><span class="op" id="8094339">.</span><span class="ident" id="8094340">Now</span><span class="op" id="8094343">(</span><span class="op" id="8094344">)</span><span class="op" id="8094345">.</span><span class="ident" id="8094346">UnixNano</span><span class="op" id="8094354">(</span><span class="op" id="8094355">)</span><span class="op" id="8094356">,</span>&nbsp;<span class="num" id="8094358">100</span><span class="op" id="8094361">,</span>&nbsp;<span class="ident" id="8094363">input</span><span class="op" id="8094368">...</span><span class="op" id="8094371">)</span><br>
<span class="lineno"></span><span class="op" id="8094373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8094376">func</span>&nbsp;<span class="ident" id="8094381">TestFuzzRegressions</span><span class="op" id="8094400">(</span><span class="ident" id="8094401">t</span>&nbsp;<span class="op" id="8094403">*</span><span class="ident" id="8094404">testing</span><span class="op" id="8094411">.</span><span class="ident" id="8094412">T</span><span class="op" id="8094413">)</span>&nbsp;<span class="op" id="8094415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094418">if</span>&nbsp;<span class="op" id="8094421">!</span><span class="op" id="8094422">*</span><span class="ident" id="8094423">doFuzzTests</span>&nbsp;<span class="op" id="8094435">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094439">t</span><span class="op" id="8094440">.</span><span class="ident" id="8094441">Logf</span><span class="op" id="8094445">(</span><span class="string" id="8094446">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8094486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094490">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094502">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094560">testFuzz</span><span class="op" id="8094568">(</span><span class="ident" id="8094569">t</span><span class="op" id="8094570">,</span>&nbsp;<span class="num" id="8094572">1328492090837718000</span><span class="op" id="8094591">,</span>&nbsp;<span class="num" id="8094593">100</span><span class="op" id="8094596">,</span>&nbsp;<span class="builtinfunc" id="8094598">new</span><span class="op" id="8094601">(</span><span class="builtintype" id="8094602">float32</span><span class="op" id="8094609">)</span><span class="op" id="8094610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094613">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094663">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094706">testFuzz</span><span class="op" id="8094714">(</span><span class="ident" id="8094715">t</span><span class="op" id="8094716">,</span>&nbsp;<span class="num" id="8094718">1330522872628565000</span><span class="op" id="8094737">,</span>&nbsp;<span class="num" id="8094739">100</span><span class="op" id="8094742">,</span>&nbsp;<span class="builtinfunc" id="8094744">new</span><span class="op" id="8094747">(</span><span class="builtintype" id="8094748">int</span><span class="op" id="8094751">)</span><span class="op" id="8094752">)</span><br>
<span class="lineno"></span><span class="op" id="8094754">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="8094757">func</span>&nbsp;<span class="ident" id="8094762">testFuzz</span><span class="op" id="8094770">(</span><span class="ident" id="8094771">t</span>&nbsp;<span class="op" id="8094773">*</span><span class="ident" id="8094774">testing</span><span class="op" id="8094781">.</span><span class="ident" id="8094782">T</span><span class="op" id="8094783">,</span>&nbsp;<span class="ident" id="8094785">seed</span>&nbsp;<span class="ident" id="8094790">int64</span><span class="op" id="8094795">,</span>&nbsp;<span class="ident" id="8094797">n</span>&nbsp;<span class="builtintype" id="8094799">int</span><span class="op" id="8094802">,</span>&nbsp;<span class="ident" id="8094804">input</span>&nbsp;<span class="op" id="8094810">...</span><span class="keyword" id="8094813">interface</span><span class="op" id="8094822">{</span><span class="op" id="8094823">}</span><span class="op" id="8094824">)</span>&nbsp;<span class="op" id="8094826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094829">for</span>&nbsp;<span class="ident" id="8094833">_</span><span class="op" id="8094834">,</span>&nbsp;<span class="ident" id="8094836">e</span>&nbsp;<span class="op" id="8094838">:=</span>&nbsp;<span class="keyword" id="8094841">range</span>&nbsp;<span class="ident" id="8094847">input</span>&nbsp;<span class="op" id="8094853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094857">t</span><span class="op" id="8094858">.</span><span class="ident" id="8094859">Logf</span><span class="op" id="8094863">(</span><span class="string" id="8094864">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="8094883">,</span>&nbsp;<span class="ident" id="8094885">seed</span><span class="op" id="8094889">,</span>&nbsp;<span class="ident" id="8094891">n</span><span class="op" id="8094892">,</span>&nbsp;<span class="ident" id="8094894">e</span><span class="op" id="8094895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094899">rng</span>&nbsp;<span class="op" id="8094903">:=</span>&nbsp;<span class="ident" id="8094906">rand</span><span class="op" id="8094910">.</span><span class="ident" id="8094911">New</span><span class="op" id="8094914">(</span><span class="ident" id="8094915">rand</span><span class="op" id="8094919">.</span><span class="ident" id="8094920">NewSource</span><span class="op" id="8094929">(</span><span class="ident" id="8094930">seed</span><span class="op" id="8094934">)</span><span class="op" id="8094935">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8094939">for</span>&nbsp;<span class="ident" id="8094943">i</span>&nbsp;<span class="op" id="8094945">:=</span>&nbsp;<span class="num" id="8094948">0</span><span class="op" id="8094949">;</span>&nbsp;<span class="ident" id="8094951">i</span>&nbsp;<span class="op" id="8094953">&lt;</span>&nbsp;<span class="ident" id="8094955">n</span><span class="op" id="8094956">;</span>&nbsp;<span class="ident" id="8094958">i</span><span class="op" id="8094959">++</span>&nbsp;<span class="op" id="8094962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094967">encFuzzDec</span><span class="op" id="8094977">(</span><span class="ident" id="8094978">rng</span><span class="op" id="8094981">,</span>&nbsp;<span class="ident" id="8094983">e</span><span class="op" id="8094984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094991">}</span><br>
<span class="lineno"></span><span class="op" id="8094993">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="8094996">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="8095057">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="8095093">func</span>&nbsp;<span class="ident" id="8095098">TestFuzzOneByte</span><span class="op" id="8095113">(</span><span class="ident" id="8095114">t</span>&nbsp;<span class="op" id="8095116">*</span><span class="ident" id="8095117">testing</span><span class="op" id="8095124">.</span><span class="ident" id="8095125">T</span><span class="op" id="8095126">)</span>&nbsp;<span class="op" id="8095128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095131">buf</span>&nbsp;<span class="op" id="8095135">:=</span>&nbsp;<span class="builtinfunc" id="8095138">new</span><span class="op" id="8095141">(</span><span class="ident" id="8095142">bytes</span><span class="op" id="8095147">.</span><span class="ident" id="8095148">Buffer</span><span class="op" id="8095154">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095157">Register</span><span class="op" id="8095165">(</span><span class="ident" id="8095166">OnTheFly</span><span class="op" id="8095174">{</span><span class="op" id="8095175">}</span><span class="op" id="8095176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095179">dt</span>&nbsp;<span class="op" id="8095182">:=</span>&nbsp;<span class="ident" id="8095185">newDT</span><span class="op" id="8095190">(</span><span class="op" id="8095191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095194">if</span>&nbsp;<span class="ident" id="8095197">err</span>&nbsp;<span class="op" id="8095201">:=</span>&nbsp;<span class="ident" id="8095204">NewEncoder</span><span class="op" id="8095214">(</span><span class="ident" id="8095215">buf</span><span class="op" id="8095218">)</span><span class="op" id="8095219">.</span><span class="ident" id="8095220">Encode</span><span class="op" id="8095226">(</span><span class="ident" id="8095227">dt</span><span class="op" id="8095229">)</span><span class="op" id="8095230">;</span>&nbsp;<span class="ident" id="8095232">err</span>&nbsp;<span class="op" id="8095236">!=</span>&nbsp;<span class="ident" id="8095239">nil</span>&nbsp;<span class="op" id="8095243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095247">t</span><span class="op" id="8095248">.</span><span class="ident" id="8095249">Fatal</span><span class="op" id="8095254">(</span><span class="ident" id="8095255">err</span><span class="op" id="8095258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095261">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095264">s</span>&nbsp;<span class="op" id="8095266">:=</span>&nbsp;<span class="ident" id="8095269">buf</span><span class="op" id="8095272">.</span><span class="ident" id="8095273">String</span><span class="op" id="8095279">(</span><span class="op" id="8095280">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095284">indices</span>&nbsp;<span class="op" id="8095292">:=</span>&nbsp;<span class="builtinfunc" id="8095295">make</span><span class="op" id="8095299">(</span><span class="op" id="8095300">[</span><span class="op" id="8095301">]</span><span class="builtintype" id="8095302">int</span><span class="op" id="8095305">,</span>&nbsp;<span class="num" id="8095307">0</span><span class="op" id="8095308">,</span>&nbsp;<span class="builtinfunc" id="8095310">len</span><span class="op" id="8095313">(</span><span class="ident" id="8095314">s</span><span class="op" id="8095315">)</span><span class="op" id="8095316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095319">for</span>&nbsp;<span class="ident" id="8095323">i</span>&nbsp;<span class="op" id="8095325">:=</span>&nbsp;<span class="num" id="8095328">0</span><span class="op" id="8095329">;</span>&nbsp;<span class="ident" id="8095331">i</span>&nbsp;<span class="op" id="8095333">&lt;</span>&nbsp;<span class="builtinfunc" id="8095335">len</span><span class="op" id="8095338">(</span><span class="ident" id="8095339">s</span><span class="op" id="8095340">)</span><span class="op" id="8095341">;</span>&nbsp;<span class="ident" id="8095343">i</span><span class="op" id="8095344">++</span>&nbsp;<span class="op" id="8095347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095351">switch</span>&nbsp;<span class="ident" id="8095358">i</span>&nbsp;<span class="op" id="8095360">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095364">case</span>&nbsp;<span class="num" id="8095369">14</span><span class="op" id="8095371">,</span>&nbsp;<span class="num" id="8095373">167</span><span class="op" id="8095376">,</span>&nbsp;<span class="num" id="8095378">231</span><span class="op" id="8095381">,</span>&nbsp;<span class="num" id="8095383">265</span><span class="op" id="8095386">:</span>&nbsp;<span class="comment" id="8095388">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095443">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095458">indices</span>&nbsp;<span class="op" id="8095466">=</span>&nbsp;<span class="builtinfunc" id="8095468">append</span><span class="op" id="8095474">(</span><span class="ident" id="8095475">indices</span><span class="op" id="8095482">,</span>&nbsp;<span class="ident" id="8095484">i</span><span class="op" id="8095485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095488">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095491">if</span>&nbsp;<span class="ident" id="8095494">testing</span><span class="op" id="8095501">.</span><span class="ident" id="8095502">Short</span><span class="op" id="8095507">(</span><span class="op" id="8095508">)</span>&nbsp;<span class="op" id="8095510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095514">indices</span>&nbsp;<span class="op" id="8095522">=</span>&nbsp;<span class="op" id="8095524">[</span><span class="op" id="8095525">]</span><span class="builtintype" id="8095526">int</span><span class="op" id="8095529">{</span><span class="num" id="8095530">1</span><span class="op" id="8095531">,</span>&nbsp;<span class="num" id="8095533">111</span><span class="op" id="8095536">,</span>&nbsp;<span class="num" id="8095538">178</span><span class="op" id="8095541">}</span>&nbsp;<span class="comment" id="8095543">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095569">for</span>&nbsp;<span class="ident" id="8095573">_</span><span class="op" id="8095574">,</span>&nbsp;<span class="ident" id="8095576">i</span>&nbsp;<span class="op" id="8095578">:=</span>&nbsp;<span class="keyword" id="8095581">range</span>&nbsp;<span class="ident" id="8095587">indices</span>&nbsp;<span class="op" id="8095595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095599">for</span>&nbsp;<span class="ident" id="8095603">j</span>&nbsp;<span class="op" id="8095605">:=</span>&nbsp;<span class="num" id="8095608">0</span><span class="op" id="8095609">;</span>&nbsp;<span class="ident" id="8095611">j</span>&nbsp;<span class="op" id="8095613">&lt;</span>&nbsp;<span class="num" id="8095615">256</span><span class="op" id="8095618">;</span>&nbsp;<span class="ident" id="8095620">j</span>&nbsp;<span class="op" id="8095622">+=</span>&nbsp;<span class="num" id="8095625">3</span>&nbsp;<span class="op" id="8095627">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095632">b</span>&nbsp;<span class="op" id="8095634">:=</span>&nbsp;<span class="op" id="8095637">[</span><span class="op" id="8095638">]</span><span class="builtintype" id="8095639">byte</span><span class="op" id="8095643">(</span><span class="ident" id="8095644">s</span><span class="op" id="8095645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095650">b</span><span class="op" id="8095651">[</span><span class="ident" id="8095652">i</span><span class="op" id="8095653">]</span>&nbsp;<span class="op" id="8095655">^=</span>&nbsp;<span class="builtintype" id="8095658">byte</span><span class="op" id="8095662">(</span><span class="ident" id="8095663">j</span><span class="op" id="8095664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095669">var</span>&nbsp;<span class="ident" id="8095673">e</span>&nbsp;<span class="ident" id="8095675">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095681">func</span><span class="op" id="8095685">(</span><span class="op" id="8095686">)</span>&nbsp;<span class="op" id="8095688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095694">defer</span>&nbsp;<span class="keyword" id="8095700">func</span><span class="op" id="8095704">(</span><span class="op" id="8095705">)</span>&nbsp;<span class="op" id="8095707">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8095714">if</span>&nbsp;<span class="ident" id="8095717">p</span>&nbsp;<span class="op" id="8095719">:=</span>&nbsp;<span class="builtinfunc" id="8095722">recover</span><span class="op" id="8095729">(</span><span class="op" id="8095730">)</span><span class="op" id="8095731">;</span>&nbsp;<span class="ident" id="8095733">p</span>&nbsp;<span class="op" id="8095735">!=</span>&nbsp;<span class="ident" id="8095738">nil</span>&nbsp;<span class="op" id="8095742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095750">t</span><span class="op" id="8095751">.</span><span class="ident" id="8095752">Errorf</span><span class="op" id="8095758">(</span><span class="string" id="8095759">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="8095784">,</span>&nbsp;<span class="ident" id="8095786">i</span><span class="op" id="8095787">,</span>&nbsp;<span class="ident" id="8095789">j</span><span class="op" id="8095790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8095798">panic</span><span class="op" id="8095803">(</span><span class="ident" id="8095804">p</span><span class="op" id="8095805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095818">}</span><span class="op" id="8095819">(</span><span class="op" id="8095820">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095826">err</span>&nbsp;<span class="op" id="8095830">:=</span>&nbsp;<span class="ident" id="8095833">NewDecoder</span><span class="op" id="8095843">(</span><span class="ident" id="8095844">bytes</span><span class="op" id="8095849">.</span><span class="ident" id="8095850">NewReader</span><span class="op" id="8095859">(</span><span class="ident" id="8095860">b</span><span class="op" id="8095861">)</span><span class="op" id="8095862">)</span><span class="op" id="8095863">.</span><span class="ident" id="8095864">Decode</span><span class="op" id="8095870">(</span><span class="op" id="8095871">&amp;</span><span class="ident" id="8095872">e</span><span class="op" id="8095873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095879">_</span>&nbsp;<span class="op" id="8095881">=</span>&nbsp;<span class="ident" id="8095883">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095890">}</span><span class="op" id="8095891">(</span><span class="op" id="8095892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095899">}</span><br>
<span class="lineno">1475</span><span class="op" id="8095901">}</span>
</div>
</body>
</html>
