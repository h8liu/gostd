<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1513653">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1513708">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1513762">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1513813">package</span>&nbsp;<span class="ident" id="1513821">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1513830">import</span>&nbsp;<span class="string" id="1513837">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1513847">//&nbsp;The&nbsp;Error&nbsp;interface&nbsp;identifies&nbsp;a&nbsp;run&nbsp;time&nbsp;error.</span><br>
<span class="lineno">10</span><span class="keyword" id="1513899">type</span>&nbsp;<span class="ident" id="1513904">Error</span>&nbsp;<span class="keyword" id="1513910">interface</span>&nbsp;<span class="op" id="1513920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1513923">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1513931">//&nbsp;RuntimeError&nbsp;is&nbsp;a&nbsp;no-op&nbsp;function&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1513972">//&nbsp;serves&nbsp;to&nbsp;distinguish&nbsp;types&nbsp;that&nbsp;are&nbsp;runtime</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1514021">//&nbsp;errors&nbsp;from&nbsp;ordinary&nbsp;errors:&nbsp;a&nbsp;type&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1514066">//&nbsp;runtime&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;RuntimeError&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1514117">RuntimeError</span><span class="op" id="1514129">(</span><span class="op" id="1514130">)</span><br>
<span class="lineno"></span><span class="op" id="1514132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1514135">//&nbsp;A&nbsp;TypeAssertionError&nbsp;explains&nbsp;a&nbsp;failed&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span><span class="keyword" id="1514193">type</span>&nbsp;<span class="ident" id="1514198">TypeAssertionError</span>&nbsp;<span class="keyword" id="1514217">struct</span>&nbsp;<span class="op" id="1514224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1514227">interfaceString</span>&nbsp;<span class="builtintype" id="1514243">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1514251">concreteString</span>&nbsp;&nbsp;<span class="builtintype" id="1514267">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1514275">assertedString</span>&nbsp;&nbsp;<span class="builtintype" id="1514291">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1514299">missingMethod</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1514315">string</span>&nbsp;<span class="comment" id="1514322">//&nbsp;one&nbsp;method&nbsp;needed&nbsp;by&nbsp;Interface,&nbsp;missing&nbsp;from&nbsp;Concrete</span><br>
<span class="lineno"></span><span class="op" id="1514379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1514382">func</span>&nbsp;<span class="op" id="1514387">(</span><span class="op" id="1514388">*</span><span class="ident" id="1514389">TypeAssertionError</span><span class="op" id="1514407">)</span>&nbsp;<span class="ident" id="1514409">RuntimeError</span><span class="op" id="1514421">(</span><span class="op" id="1514422">)</span>&nbsp;<span class="op" id="1514424">{</span><span class="op" id="1514425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1514428">func</span>&nbsp;<span class="op" id="1514433">(</span><span class="ident" id="1514434">e</span>&nbsp;<span class="op" id="1514436">*</span><span class="ident" id="1514437">TypeAssertionError</span><span class="op" id="1514455">)</span>&nbsp;<span class="ident" id="1514457">Error</span><span class="op" id="1514462">(</span><span class="op" id="1514463">)</span>&nbsp;<span class="builtintype" id="1514465">string</span>&nbsp;<span class="op" id="1514472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1514475">inter</span>&nbsp;<span class="op" id="1514481">:=</span>&nbsp;<span class="ident" id="1514484">e</span><span class="op" id="1514485">.</span><span class="ident" id="1514486">interfaceString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1514503">if</span>&nbsp;<span class="ident" id="1514506">inter</span>&nbsp;<span class="op" id="1514512">==</span>&nbsp;<span class="string" id="1514515">&#34;&#34;</span>&nbsp;<span class="op" id="1514518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1514522">inter</span>&nbsp;<span class="op" id="1514528">=</span>&nbsp;<span class="string" id="1514530">&#34;interface&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1514543">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1514546">if</span>&nbsp;<span class="ident" id="1514549">e</span><span class="op" id="1514550">.</span><span class="ident" id="1514551">concreteString</span>&nbsp;<span class="op" id="1514566">==</span>&nbsp;<span class="string" id="1514569">&#34;&#34;</span>&nbsp;<span class="op" id="1514572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1514576">return</span>&nbsp;<span class="string" id="1514583">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1514608">+</span>&nbsp;<span class="ident" id="1514610">inter</span>&nbsp;<span class="op" id="1514616">+</span>&nbsp;<span class="string" id="1514618">&#34;&nbsp;is&nbsp;nil,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1514634">+</span>&nbsp;<span class="ident" id="1514636">e</span><span class="op" id="1514637">.</span><span class="ident" id="1514638">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1514654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1514657">if</span>&nbsp;<span class="ident" id="1514660">e</span><span class="op" id="1514661">.</span><span class="ident" id="1514662">missingMethod</span>&nbsp;<span class="op" id="1514676">==</span>&nbsp;<span class="string" id="1514679">&#34;&#34;</span>&nbsp;<span class="op" id="1514682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1514686">return</span>&nbsp;<span class="string" id="1514693">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1514718">+</span>&nbsp;<span class="ident" id="1514720">inter</span>&nbsp;<span class="op" id="1514726">+</span>&nbsp;<span class="string" id="1514728">&#34;&nbsp;is&nbsp;&#34;</span>&nbsp;<span class="op" id="1514735">+</span>&nbsp;<span class="ident" id="1514737">e</span><span class="op" id="1514738">.</span><span class="ident" id="1514739">concreteString</span>&nbsp;<span class="op" id="1514754">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1514759">&#34;,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1514768">+</span>&nbsp;<span class="ident" id="1514770">e</span><span class="op" id="1514771">.</span><span class="ident" id="1514772">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1514788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1514791">return</span>&nbsp;<span class="string" id="1514798">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1514823">+</span>&nbsp;<span class="ident" id="1514825">e</span><span class="op" id="1514826">.</span><span class="ident" id="1514827">concreteString</span>&nbsp;<span class="op" id="1514842">+</span>&nbsp;<span class="string" id="1514844">&#34;&nbsp;is&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1514855">+</span>&nbsp;<span class="ident" id="1514857">e</span><span class="op" id="1514858">.</span><span class="ident" id="1514859">assertedString</span>&nbsp;<span class="op" id="1514874">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1514878">&#34;:&nbsp;missing&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1514898">+</span>&nbsp;<span class="ident" id="1514900">e</span><span class="op" id="1514901">.</span><span class="ident" id="1514902">missingMethod</span><br>
<span class="lineno"></span><span class="op" id="1514916">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1514919">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="keyword" id="1514942">func</span>&nbsp;<span class="ident" id="1514947">newTypeAssertionError</span><span class="op" id="1514968">(</span><span class="ident" id="1514969">ps1</span><span class="op" id="1514972">,</span>&nbsp;<span class="ident" id="1514974">ps2</span><span class="op" id="1514977">,</span>&nbsp;<span class="ident" id="1514979">ps3</span>&nbsp;<span class="op" id="1514983">*</span><span class="builtintype" id="1514984">string</span><span class="op" id="1514990">,</span>&nbsp;<span class="ident" id="1514992">pmeth</span>&nbsp;<span class="op" id="1514998">*</span><span class="builtintype" id="1514999">string</span><span class="op" id="1515005">,</span>&nbsp;<span class="ident" id="1515007">ret</span>&nbsp;<span class="op" id="1515011">*</span><span class="keyword" id="1515012">interface</span><span class="op" id="1515021">{</span><span class="op" id="1515022">}</span><span class="op" id="1515023">)</span>&nbsp;<span class="op" id="1515025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515028">var</span>&nbsp;<span class="ident" id="1515032">s1</span><span class="op" id="1515034">,</span>&nbsp;<span class="ident" id="1515036">s2</span><span class="op" id="1515038">,</span>&nbsp;<span class="ident" id="1515040">s3</span><span class="op" id="1515042">,</span>&nbsp;<span class="ident" id="1515044">meth</span>&nbsp;<span class="builtintype" id="1515049">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515058">if</span>&nbsp;<span class="ident" id="1515061">ps1</span>&nbsp;<span class="op" id="1515065">!=</span>&nbsp;<span class="ident" id="1515068">nil</span>&nbsp;<span class="op" id="1515072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1515076">s1</span>&nbsp;<span class="op" id="1515079">=</span>&nbsp;<span class="op" id="1515081">*</span><span class="ident" id="1515082">ps1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1515087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515090">if</span>&nbsp;<span class="ident" id="1515093">ps2</span>&nbsp;<span class="op" id="1515097">!=</span>&nbsp;<span class="ident" id="1515100">nil</span>&nbsp;<span class="op" id="1515104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1515108">s2</span>&nbsp;<span class="op" id="1515111">=</span>&nbsp;<span class="op" id="1515113">*</span><span class="ident" id="1515114">ps2</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1515119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515122">if</span>&nbsp;<span class="ident" id="1515125">ps3</span>&nbsp;<span class="op" id="1515129">!=</span>&nbsp;<span class="ident" id="1515132">nil</span>&nbsp;<span class="op" id="1515136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1515140">s3</span>&nbsp;<span class="op" id="1515143">=</span>&nbsp;<span class="op" id="1515145">*</span><span class="ident" id="1515146">ps3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1515151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515154">if</span>&nbsp;<span class="ident" id="1515157">pmeth</span>&nbsp;<span class="op" id="1515163">!=</span>&nbsp;<span class="ident" id="1515166">nil</span>&nbsp;<span class="op" id="1515170">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1515174">meth</span>&nbsp;<span class="op" id="1515179">=</span>&nbsp;<span class="op" id="1515181">*</span><span class="ident" id="1515182">pmeth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1515189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1515192">*</span><span class="ident" id="1515193">ret</span>&nbsp;<span class="op" id="1515197">=</span>&nbsp;<span class="op" id="1515199">&amp;</span><span class="ident" id="1515200">TypeAssertionError</span><span class="op" id="1515218">{</span><span class="ident" id="1515219">s1</span><span class="op" id="1515221">,</span>&nbsp;<span class="ident" id="1515223">s2</span><span class="op" id="1515225">,</span>&nbsp;<span class="ident" id="1515227">s3</span><span class="op" id="1515229">,</span>&nbsp;<span class="ident" id="1515231">meth</span><span class="op" id="1515235">}</span><br>
<span class="lineno"></span><span class="op" id="1515237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="1515240">//&nbsp;An&nbsp;errorString&nbsp;represents&nbsp;a&nbsp;runtime&nbsp;error&nbsp;described&nbsp;by&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1515315">type</span>&nbsp;<span class="ident" id="1515320">errorString</span>&nbsp;<span class="builtintype" id="1515332">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1515340">func</span>&nbsp;<span class="op" id="1515345">(</span><span class="ident" id="1515346">e</span>&nbsp;<span class="ident" id="1515348">errorString</span><span class="op" id="1515359">)</span>&nbsp;<span class="ident" id="1515361">RuntimeError</span><span class="op" id="1515373">(</span><span class="op" id="1515374">)</span>&nbsp;<span class="op" id="1515376">{</span><span class="op" id="1515377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1515380">func</span>&nbsp;<span class="op" id="1515385">(</span><span class="ident" id="1515386">e</span>&nbsp;<span class="ident" id="1515388">errorString</span><span class="op" id="1515399">)</span>&nbsp;<span class="ident" id="1515401">Error</span><span class="op" id="1515406">(</span><span class="op" id="1515407">)</span>&nbsp;<span class="builtintype" id="1515409">string</span>&nbsp;<span class="op" id="1515416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515419">return</span>&nbsp;<span class="string" id="1515426">&#34;runtime&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="1515444">+</span>&nbsp;<span class="builtintype" id="1515446">string</span><span class="op" id="1515452">(</span><span class="ident" id="1515453">e</span><span class="op" id="1515454">)</span><br>
<span class="lineno"></span><span class="op" id="1515456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1515459">type</span>&nbsp;<span class="ident" id="1515464">stringer</span>&nbsp;<span class="keyword" id="1515473">interface</span>&nbsp;<span class="op" id="1515483">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1515486">String</span><span class="op" id="1515492">(</span><span class="op" id="1515493">)</span>&nbsp;<span class="builtintype" id="1515495">string</span><br>
<span class="lineno"></span><span class="op" id="1515502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1515505">func</span>&nbsp;<span class="ident" id="1515510">typestring</span><span class="op" id="1515520">(</span><span class="ident" id="1515521">x</span>&nbsp;<span class="keyword" id="1515523">interface</span><span class="op" id="1515532">{</span><span class="op" id="1515533">}</span><span class="op" id="1515534">)</span>&nbsp;<span class="builtintype" id="1515536">string</span>&nbsp;<span class="op" id="1515543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1515546">e</span>&nbsp;<span class="op" id="1515548">:=</span>&nbsp;<span class="op" id="1515551">(</span><span class="op" id="1515552">*</span><span class="ident" id="1515553">eface</span><span class="op" id="1515558">)</span><span class="op" id="1515559">(</span><span class="ident" id="1515560">unsafe</span><span class="op" id="1515566">.</span><span class="ident" id="1515567">Pointer</span><span class="op" id="1515574">(</span><span class="op" id="1515575">&amp;</span><span class="ident" id="1515576">x</span><span class="op" id="1515577">)</span><span class="op" id="1515578">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515581">return</span>&nbsp;<span class="op" id="1515588">*</span><span class="ident" id="1515589">e</span><span class="op" id="1515590">.</span><span class="ident" id="1515591">_type</span><span class="op" id="1515596">.</span><span class="ident" id="1515597">_string</span><br>
<span class="lineno"></span><span class="op" id="1515605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1515608">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="comment" id="1515631">//&nbsp;Prints&nbsp;an&nbsp;argument&nbsp;passed&nbsp;to&nbsp;panic.</span><br>
<span class="lineno">85</span><span class="comment" id="1515670">//&nbsp;There&#39;s&nbsp;room&nbsp;for&nbsp;arbitrary&nbsp;complexity&nbsp;here,&nbsp;but&nbsp;we&nbsp;keep&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1515732">//&nbsp;simple&nbsp;and&nbsp;handle&nbsp;just&nbsp;a&nbsp;few&nbsp;important&nbsp;cases:&nbsp;int,&nbsp;string,&nbsp;and&nbsp;Stringer.</span><br>
<span class="lineno"></span><span class="keyword" id="1515808">func</span>&nbsp;<span class="ident" id="1515813">printany</span><span class="op" id="1515821">(</span><span class="ident" id="1515822">i</span>&nbsp;<span class="keyword" id="1515824">interface</span><span class="op" id="1515833">{</span><span class="op" id="1515834">}</span><span class="op" id="1515835">)</span>&nbsp;<span class="op" id="1515837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515840">switch</span>&nbsp;<span class="ident" id="1515847">v</span>&nbsp;<span class="op" id="1515849">:=</span>&nbsp;<span class="ident" id="1515852">i</span><span class="op" id="1515853">.</span><span class="op" id="1515854">(</span><span class="keyword" id="1515855">type</span><span class="op" id="1515859">)</span>&nbsp;<span class="op" id="1515861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515864">case</span>&nbsp;<span class="ident" id="1515869">nil</span><span class="op" id="1515872">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1515876">print</span><span class="op" id="1515881">(</span><span class="string" id="1515882">&#34;nil&#34;</span><span class="op" id="1515887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515890">case</span>&nbsp;<span class="ident" id="1515895">stringer</span><span class="op" id="1515903">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1515907">print</span><span class="op" id="1515912">(</span><span class="ident" id="1515913">v</span><span class="op" id="1515914">.</span><span class="ident" id="1515915">String</span><span class="op" id="1515921">(</span><span class="op" id="1515922">)</span><span class="op" id="1515923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515926">case</span>&nbsp;<span class="builtintype" id="1515931">error</span><span class="op" id="1515936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1515940">print</span><span class="op" id="1515945">(</span><span class="ident" id="1515946">v</span><span class="op" id="1515947">.</span><span class="ident" id="1515948">Error</span><span class="op" id="1515953">(</span><span class="op" id="1515954">)</span><span class="op" id="1515955">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515958">case</span>&nbsp;<span class="builtintype" id="1515963">int</span><span class="op" id="1515966">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1515970">print</span><span class="op" id="1515975">(</span><span class="ident" id="1515976">v</span><span class="op" id="1515977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1515980">case</span>&nbsp;<span class="builtintype" id="1515985">string</span><span class="op" id="1515991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1515995">print</span><span class="op" id="1516000">(</span><span class="ident" id="1516001">v</span><span class="op" id="1516002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1516005">default</span><span class="op" id="1516012">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1516016">print</span><span class="op" id="1516021">(</span><span class="string" id="1516022">&#34;(&#34;</span><span class="op" id="1516025">,</span>&nbsp;<span class="ident" id="1516027">typestring</span><span class="op" id="1516037">(</span><span class="ident" id="1516038">i</span><span class="op" id="1516039">)</span><span class="op" id="1516040">,</span>&nbsp;<span class="string" id="1516042">&#34;)&nbsp;&#34;</span><span class="op" id="1516046">,</span>&nbsp;<span class="ident" id="1516048">i</span><span class="op" id="1516049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1516052">}</span><br>
<span class="lineno"></span><span class="op" id="1516054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1516057">//&nbsp;called&nbsp;from&nbsp;generated&nbsp;code</span><br>
<span class="lineno">105</span><span class="keyword" id="1516087">func</span>&nbsp;<span class="ident" id="1516092">panicwrap</span><span class="op" id="1516101">(</span><span class="ident" id="1516102">pkg</span><span class="op" id="1516105">,</span>&nbsp;<span class="ident" id="1516107">typ</span><span class="op" id="1516110">,</span>&nbsp;<span class="ident" id="1516112">meth</span>&nbsp;<span class="builtintype" id="1516117">string</span><span class="op" id="1516123">)</span>&nbsp;<span class="op" id="1516125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1516128">panic</span><span class="op" id="1516133">(</span><span class="string" id="1516134">&#34;value&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1516150">+</span>&nbsp;<span class="ident" id="1516152">pkg</span>&nbsp;<span class="op" id="1516156">+</span>&nbsp;<span class="string" id="1516158">&#34;.&#34;</span>&nbsp;<span class="op" id="1516162">+</span>&nbsp;<span class="ident" id="1516164">typ</span>&nbsp;<span class="op" id="1516168">+</span>&nbsp;<span class="string" id="1516170">&#34;.&#34;</span>&nbsp;<span class="op" id="1516174">+</span>&nbsp;<span class="ident" id="1516176">meth</span>&nbsp;<span class="op" id="1516181">+</span>&nbsp;<span class="string" id="1516183">&#34;&nbsp;called&nbsp;using&nbsp;nil&nbsp;*&#34;</span>&nbsp;<span class="op" id="1516205">+</span>&nbsp;<span class="ident" id="1516207">typ</span>&nbsp;<span class="op" id="1516211">+</span>&nbsp;<span class="string" id="1516213">&#34;&nbsp;pointer&#34;</span><span class="op" id="1516223">)</span><br>
<span class="lineno"></span><span class="op" id="1516225">}</span>
</div>
</body>
</html>
