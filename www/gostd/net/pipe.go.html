<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3265739">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3265795">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3265849">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3265900">package</span>&nbsp;<span class="ident" id="3265908">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3265913">import</span>&nbsp;<span class="op" id="3265920">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3265923">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3265933">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3265939">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3265946">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3265949">//&nbsp;Pipe&nbsp;creates&nbsp;a&nbsp;synchronous,&nbsp;in-memory,&nbsp;full&nbsp;duplex</span><br>
<span class="lineno"></span><span class="comment" id="3266003">//&nbsp;network&nbsp;connection;&nbsp;both&nbsp;ends&nbsp;implement&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">15</span><span class="comment" id="3266066">//&nbsp;Reads&nbsp;on&nbsp;one&nbsp;end&nbsp;are&nbsp;matched&nbsp;with&nbsp;writes&nbsp;on&nbsp;the&nbsp;other,</span><br>
<span class="lineno"></span><span class="comment" id="3266124">//&nbsp;copying&nbsp;data&nbsp;directly&nbsp;between&nbsp;the&nbsp;two;&nbsp;there&nbsp;is&nbsp;no&nbsp;internal</span><br>
<span class="lineno"></span><span class="comment" id="3266187">//&nbsp;buffering.</span><br>
<span class="lineno"></span><span class="keyword" id="3266201">func</span>&nbsp;<span class="ident" id="3266206">Pipe</span><span class="op" id="3266210">(</span><span class="op" id="3266211">)</span>&nbsp;<span class="op" id="3266213">(</span><span class="ident" id="3266214">Conn</span><span class="op" id="3266218">,</span>&nbsp;<span class="ident" id="3266220">Conn</span><span class="op" id="3266224">)</span>&nbsp;<span class="op" id="3266226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3266229">r1</span><span class="op" id="3266231">,</span>&nbsp;<span class="ident" id="3266233">w1</span>&nbsp;<span class="op" id="3266236">:=</span>&nbsp;<span class="ident" id="3266239">io</span><span class="op" id="3266241">.</span><span class="ident" id="3266242">Pipe</span><span class="op" id="3266246">(</span><span class="op" id="3266247">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3266250">r2</span><span class="op" id="3266252">,</span>&nbsp;<span class="ident" id="3266254">w2</span>&nbsp;<span class="op" id="3266257">:=</span>&nbsp;<span class="ident" id="3266260">io</span><span class="op" id="3266262">.</span><span class="ident" id="3266263">Pipe</span><span class="op" id="3266267">(</span><span class="op" id="3266268">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266272">return</span>&nbsp;<span class="op" id="3266279">&amp;</span><span class="ident" id="3266280">pipe</span><span class="op" id="3266284">{</span><span class="ident" id="3266285">r1</span><span class="op" id="3266287">,</span>&nbsp;<span class="ident" id="3266289">w2</span><span class="op" id="3266291">}</span><span class="op" id="3266292">,</span>&nbsp;<span class="op" id="3266294">&amp;</span><span class="ident" id="3266295">pipe</span><span class="op" id="3266299">{</span><span class="ident" id="3266300">r2</span><span class="op" id="3266302">,</span>&nbsp;<span class="ident" id="3266304">w1</span><span class="op" id="3266306">}</span><br>
<span class="lineno"></span><span class="op" id="3266308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="3266311">type</span>&nbsp;<span class="ident" id="3266316">pipe</span>&nbsp;<span class="keyword" id="3266321">struct</span>&nbsp;<span class="op" id="3266328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3266331">*</span><span class="ident" id="3266332">io</span><span class="op" id="3266334">.</span><span class="ident" id="3266335">PipeReader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3266347">*</span><span class="ident" id="3266348">io</span><span class="op" id="3266350">.</span><span class="ident" id="3266351">PipeWriter</span><br>
<span class="lineno"></span><span class="op" id="3266362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="3266365">type</span>&nbsp;<span class="ident" id="3266370">pipeAddr</span>&nbsp;<span class="builtintype" id="3266379">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3266384">func</span>&nbsp;<span class="op" id="3266389">(</span><span class="ident" id="3266390">pipeAddr</span><span class="op" id="3266398">)</span>&nbsp;<span class="ident" id="3266400">Network</span><span class="op" id="3266407">(</span><span class="op" id="3266408">)</span>&nbsp;<span class="builtintype" id="3266410">string</span>&nbsp;<span class="op" id="3266417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266420">return</span>&nbsp;<span class="string" id="3266427">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3266434">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="3266437">func</span>&nbsp;<span class="op" id="3266442">(</span><span class="ident" id="3266443">pipeAddr</span><span class="op" id="3266451">)</span>&nbsp;<span class="ident" id="3266453">String</span><span class="op" id="3266459">(</span><span class="op" id="3266460">)</span>&nbsp;<span class="builtintype" id="3266462">string</span>&nbsp;<span class="op" id="3266469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266472">return</span>&nbsp;<span class="string" id="3266479">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3266486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3266489">func</span>&nbsp;<span class="op" id="3266494">(</span><span class="ident" id="3266495">p</span>&nbsp;<span class="op" id="3266497">*</span><span class="ident" id="3266498">pipe</span><span class="op" id="3266502">)</span>&nbsp;<span class="ident" id="3266504">Close</span><span class="op" id="3266509">(</span><span class="op" id="3266510">)</span>&nbsp;<span class="builtintype" id="3266512">error</span>&nbsp;<span class="op" id="3266518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3266521">err</span>&nbsp;<span class="op" id="3266525">:=</span>&nbsp;<span class="ident" id="3266528">p</span><span class="op" id="3266529">.</span><span class="ident" id="3266530">PipeReader</span><span class="op" id="3266540">.</span><span class="ident" id="3266541">Close</span><span class="op" id="3266546">(</span><span class="op" id="3266547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3266550">err1</span>&nbsp;<span class="op" id="3266555">:=</span>&nbsp;<span class="ident" id="3266558">p</span><span class="op" id="3266559">.</span><span class="ident" id="3266560">PipeWriter</span><span class="op" id="3266570">.</span><span class="ident" id="3266571">Close</span><span class="op" id="3266576">(</span><span class="op" id="3266577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266580">if</span>&nbsp;<span class="ident" id="3266583">err</span>&nbsp;<span class="op" id="3266587">==</span>&nbsp;<span class="ident" id="3266590">nil</span>&nbsp;<span class="op" id="3266594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3266598">err</span>&nbsp;<span class="op" id="3266602">=</span>&nbsp;<span class="ident" id="3266604">err1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3266610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266613">return</span>&nbsp;<span class="ident" id="3266620">err</span><br>
<span class="lineno"></span><span class="op" id="3266624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3266627">func</span>&nbsp;<span class="op" id="3266632">(</span><span class="ident" id="3266633">p</span>&nbsp;<span class="op" id="3266635">*</span><span class="ident" id="3266636">pipe</span><span class="op" id="3266640">)</span>&nbsp;<span class="ident" id="3266642">LocalAddr</span><span class="op" id="3266651">(</span><span class="op" id="3266652">)</span>&nbsp;<span class="ident" id="3266654">Addr</span>&nbsp;<span class="op" id="3266659">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266662">return</span>&nbsp;<span class="ident" id="3266669">pipeAddr</span><span class="op" id="3266677">(</span><span class="num" id="3266678">0</span><span class="op" id="3266679">)</span><br>
<span class="lineno"></span><span class="op" id="3266681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3266684">func</span>&nbsp;<span class="op" id="3266689">(</span><span class="ident" id="3266690">p</span>&nbsp;<span class="op" id="3266692">*</span><span class="ident" id="3266693">pipe</span><span class="op" id="3266697">)</span>&nbsp;<span class="ident" id="3266699">RemoteAddr</span><span class="op" id="3266709">(</span><span class="op" id="3266710">)</span>&nbsp;<span class="ident" id="3266712">Addr</span>&nbsp;<span class="op" id="3266717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266720">return</span>&nbsp;<span class="ident" id="3266727">pipeAddr</span><span class="op" id="3266735">(</span><span class="num" id="3266736">0</span><span class="op" id="3266737">)</span><br>
<span class="lineno">55</span><span class="op" id="3266739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3266742">func</span>&nbsp;<span class="op" id="3266747">(</span><span class="ident" id="3266748">p</span>&nbsp;<span class="op" id="3266750">*</span><span class="ident" id="3266751">pipe</span><span class="op" id="3266755">)</span>&nbsp;<span class="ident" id="3266757">SetDeadline</span><span class="op" id="3266768">(</span><span class="ident" id="3266769">t</span>&nbsp;<span class="ident" id="3266771">time</span><span class="op" id="3266775">.</span><span class="ident" id="3266776">Time</span><span class="op" id="3266780">)</span>&nbsp;<span class="builtintype" id="3266782">error</span>&nbsp;<span class="op" id="3266788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266791">return</span>&nbsp;<span class="ident" id="3266798">errors</span><span class="op" id="3266804">.</span><span class="ident" id="3266805">New</span><span class="op" id="3266808">(</span><span class="string" id="3266809">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3266846">)</span><br>
<span class="lineno"></span><span class="op" id="3266848">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="3266851">func</span>&nbsp;<span class="op" id="3266856">(</span><span class="ident" id="3266857">p</span>&nbsp;<span class="op" id="3266859">*</span><span class="ident" id="3266860">pipe</span><span class="op" id="3266864">)</span>&nbsp;<span class="ident" id="3266866">SetReadDeadline</span><span class="op" id="3266881">(</span><span class="ident" id="3266882">t</span>&nbsp;<span class="ident" id="3266884">time</span><span class="op" id="3266888">.</span><span class="ident" id="3266889">Time</span><span class="op" id="3266893">)</span>&nbsp;<span class="builtintype" id="3266895">error</span>&nbsp;<span class="op" id="3266901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3266904">return</span>&nbsp;<span class="ident" id="3266911">errors</span><span class="op" id="3266917">.</span><span class="ident" id="3266918">New</span><span class="op" id="3266921">(</span><span class="string" id="3266922">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3266959">)</span><br>
<span class="lineno"></span><span class="op" id="3266961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3266964">func</span>&nbsp;<span class="op" id="3266969">(</span><span class="ident" id="3266970">p</span>&nbsp;<span class="op" id="3266972">*</span><span class="ident" id="3266973">pipe</span><span class="op" id="3266977">)</span>&nbsp;<span class="ident" id="3266979">SetWriteDeadline</span><span class="op" id="3266995">(</span><span class="ident" id="3266996">t</span>&nbsp;<span class="ident" id="3266998">time</span><span class="op" id="3267002">.</span><span class="ident" id="3267003">Time</span><span class="op" id="3267007">)</span>&nbsp;<span class="builtintype" id="3267009">error</span>&nbsp;<span class="op" id="3267015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3267018">return</span>&nbsp;<span class="ident" id="3267025">errors</span><span class="op" id="3267031">.</span><span class="ident" id="3267032">New</span><span class="op" id="3267035">(</span><span class="string" id="3267036">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3267073">)</span><br>
<span class="lineno"></span><span class="op" id="3267075">}</span>
</div>
</body>
</html>
