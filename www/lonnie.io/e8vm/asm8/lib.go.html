<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6050020">package</span>&nbsp;<span class="ident" id="6050028">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6050034">import</span>&nbsp;<span class="op" id="6050041">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6050044">&#34;lonnie.io/e8vm/link8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="6050067">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6050070">//&nbsp;PkgObj&nbsp;is&nbsp;a&nbsp;package&nbsp;object.</span><br>
<span class="lineno"></span><span class="keyword" id="6050101">type</span>&nbsp;<span class="ident" id="6050106">lib</span>&nbsp;<span class="keyword" id="6050110">struct</span>&nbsp;<span class="op" id="6050117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6050120">*</span><span class="ident" id="6050121"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050044">link8</a></span><span class="op" id="6050126">.</span><span class="ident" id="6050127">Package</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050137">requires</span>&nbsp;<span class="keyword" id="6050146">map</span><span class="op" id="6050149">[</span><span class="builtintype" id="6050150">uint32</span><span class="op" id="6050156">]</span><span class="op" id="6050157">*</span><span class="ident" id="6050158"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050163">symbols</span>&nbsp;&nbsp;<span class="keyword" id="6050172">map</span><span class="op" id="6050175">[</span><span class="builtintype" id="6050176">string</span><span class="op" id="6050182">]</span><span class="op" id="6050183">*</span><span class="ident" id="6050184"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><br>
<span class="lineno"></span><span class="op" id="6050191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6050194">//&nbsp;NewPkgObj&nbsp;creates&nbsp;a&nbsp;new&nbsp;package&nbsp;compile&nbsp;object</span><br>
<span class="lineno"></span><span class="keyword" id="6050244">func</span>&nbsp;<span class="ident" id="6050249">newLib</span><span class="op" id="6050255">(</span><span class="ident" id="6050256">p</span>&nbsp;<span class="builtintype" id="6050258">string</span><span class="op" id="6050264">)</span>&nbsp;<span class="op" id="6050266">*</span><span class="ident" id="6050267"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span>&nbsp;<span class="op" id="6050271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050274">ret</span>&nbsp;<span class="op" id="6050278">:=</span>&nbsp;<span class="builtinfunc" id="6050281">new</span><span class="op" id="6050284">(</span><span class="ident" id="6050285"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6050288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050291"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050274">ret</a></span><span class="op" id="6050294">.</span><span class="ident" id="6050295">Package</span>&nbsp;<span class="op" id="6050303">=</span>&nbsp;<span class="ident" id="6050305"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050044">link8</a></span><span class="op" id="6050310">.</span><span class="ident" id="6050311">NewPackage</span><span class="op" id="6050321">(</span><span class="ident" id="6050322"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050256">p</a></span><span class="op" id="6050323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050327"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050274">ret</a></span><span class="op" id="6050330">.</span><span class="ident" id="6050331">requires</span>&nbsp;<span class="op" id="6050340">=</span>&nbsp;<span class="builtinfunc" id="6050342">make</span><span class="op" id="6050346">(</span><span class="keyword" id="6050347">map</span><span class="op" id="6050350">[</span><span class="builtintype" id="6050351">uint32</span><span class="op" id="6050357">]</span><span class="op" id="6050358">*</span><span class="ident" id="6050359"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6050362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050365"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050274">ret</a></span><span class="op" id="6050368">.</span><span class="ident" id="6050369">symbols</span>&nbsp;<span class="op" id="6050377">=</span>&nbsp;<span class="builtinfunc" id="6050379">make</span><span class="op" id="6050383">(</span><span class="keyword" id="6050384">map</span><span class="op" id="6050387">[</span><span class="builtintype" id="6050388">string</span><span class="op" id="6050394">]</span><span class="op" id="6050395">*</span><span class="ident" id="6050396"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><span class="op" id="6050402">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050406">id</span>&nbsp;<span class="op" id="6050409">:=</span>&nbsp;<span class="ident" id="6050412"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050274">ret</a></span><span class="op" id="6050415">.</span><span class="ident" id="6050416">Require</span><span class="op" id="6050423">(</span><span class="ident" id="6050424"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050274">ret</a></span><span class="op" id="6050427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6050430">if</span>&nbsp;<span class="ident" id="6050433"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050406">id</a></span>&nbsp;<span class="op" id="6050436">!=</span>&nbsp;<span class="num" id="6050439">0</span>&nbsp;<span class="op" id="6050441">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6050445">panic</span><span class="op" id="6050450">(</span><span class="string" id="6050451">&#34;bug&#34;</span><span class="op" id="6050456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6050459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6050463">return</span>&nbsp;<span class="ident" id="6050470"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050274">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6050474">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="comment" id="6050477">//&nbsp;Require&nbsp;imports&nbsp;a&nbsp;package&nbsp;in&nbsp;and&nbsp;grants&nbsp;the&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="6050532">//&nbsp;a&nbsp;import&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="6050551">func</span>&nbsp;<span class="op" id="6050556">(</span><span class="ident" id="6050557">p</span>&nbsp;<span class="op" id="6050559">*</span><span class="ident" id="6050560"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6050563">)</span>&nbsp;<span class="ident" id="6050565">Require</span><span class="op" id="6050572">(</span><span class="ident" id="6050573">req</span>&nbsp;<span class="op" id="6050577">*</span><span class="ident" id="6050578"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6050581">)</span>&nbsp;<span class="builtintype" id="6050583">uint32</span>&nbsp;<span class="op" id="6050590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050593">ret</span>&nbsp;<span class="op" id="6050597">:=</span>&nbsp;<span class="ident" id="6050600"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050557">p</a></span><span class="op" id="6050601">.</span><span class="ident" id="6050602">Package</span><span class="op" id="6050609">.</span><span class="ident" id="6050610">Require</span><span class="op" id="6050617">(</span><span class="ident" id="6050618"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050573">req</a></span><span class="op" id="6050621">.</span><span class="ident" id="6050622">Package</span><span class="op" id="6050629">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050632">_</span><span class="op" id="6050633">,</span>&nbsp;<span class="ident" id="6050635">found</span>&nbsp;<span class="op" id="6050641">:=</span>&nbsp;<span class="ident" id="6050644"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050557">p</a></span><span class="op" id="6050645">.</span><span class="ident" id="6050646">requires</span><span class="op" id="6050654">[</span><span class="ident" id="6050655"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050593">ret</a></span><span class="op" id="6050658">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6050661">if</span>&nbsp;<span class="op" id="6050664">!</span><span class="ident" id="6050665"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050635">found</a></span>&nbsp;<span class="op" id="6050671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050675"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050557">p</a></span><span class="op" id="6050676">.</span><span class="ident" id="6050677">requires</span><span class="op" id="6050685">[</span><span class="ident" id="6050686"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050593">ret</a></span><span class="op" id="6050689">]</span>&nbsp;<span class="op" id="6050691">=</span>&nbsp;<span class="ident" id="6050693"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050573">req</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6050698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6050702">return</span>&nbsp;<span class="ident" id="6050709"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050593">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6050713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6050716">//&nbsp;PkgIndex&nbsp;returns&nbsp;the&nbsp;package&nbsp;import&nbsp;index,&nbsp;consistent&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="6050778">//&nbsp;the&nbsp;underlying&nbsp;link8.Package.</span><br>
<span class="lineno">45</span><span class="keyword" id="6050811">func</span>&nbsp;<span class="op" id="6050816">(</span><span class="ident" id="6050817">p</span>&nbsp;<span class="op" id="6050819">*</span><span class="ident" id="6050820"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6050823">)</span>&nbsp;<span class="ident" id="6050825">LibIndex</span><span class="op" id="6050833">(</span><span class="ident" id="6050834">path</span>&nbsp;<span class="builtintype" id="6050839">string</span><span class="op" id="6050845">)</span>&nbsp;<span class="op" id="6050847">(</span><span class="op" id="6050848">*</span><span class="ident" id="6050849"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6050852">,</span>&nbsp;<span class="builtintype" id="6050854">uint32</span><span class="op" id="6050860">)</span>&nbsp;<span class="op" id="6050862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050865">pkg</span><span class="op" id="6050868">,</span>&nbsp;<span class="ident" id="6050870">index</span>&nbsp;<span class="op" id="6050876">:=</span>&nbsp;<span class="ident" id="6050879"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050817">p</a></span><span class="op" id="6050880">.</span><span class="ident" id="6050881">Package</span><span class="op" id="6050888">.</span><span class="ident" id="6050889">PkgIndex</span><span class="op" id="6050897">(</span><span class="ident" id="6050898"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050834">path</a></span><span class="op" id="6050902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6050905">if</span>&nbsp;<span class="ident" id="6050908"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050865">pkg</a></span>&nbsp;<span class="op" id="6050912">==</span>&nbsp;<span class="ident" id="6050915">nil</span>&nbsp;<span class="op" id="6050919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6050923">return</span>&nbsp;<span class="ident" id="6050930">nil</span><span class="op" id="6050933">,</span>&nbsp;<span class="num" id="6050935">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6050938">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6050942">ret</span><span class="op" id="6050945">,</span>&nbsp;<span class="ident" id="6050947">found</span>&nbsp;<span class="op" id="6050953">:=</span>&nbsp;<span class="ident" id="6050956"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050817">p</a></span><span class="op" id="6050957">.</span><span class="ident" id="6050958">requires</span><span class="op" id="6050966">[</span><span class="ident" id="6050967"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050870">index</a></span><span class="op" id="6050972">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6050975">if</span>&nbsp;<span class="op" id="6050978">!</span><span class="ident" id="6050979"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050947">found</a></span>&nbsp;<span class="op" id="6050985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6050989">panic</span><span class="op" id="6050994">(</span><span class="string" id="6050995">&#34;bug&#34;</span><span class="op" id="6051000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6051003">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051007">return</span>&nbsp;<span class="ident" id="6051014"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050942">ret</a></span><span class="op" id="6051017">,</span>&nbsp;<span class="ident" id="6051019"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050870">index</a></span><br>
<span class="lineno"></span><span class="op" id="6051025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6051028">//&nbsp;Declare&nbsp;declares&nbsp;a&nbsp;symbol&nbsp;inside&nbsp;the&nbsp;package.&nbsp;&nbsp;If&nbsp;the&nbsp;symbol&nbsp;is&nbsp;a&nbsp;function</span><br>
<span class="lineno">60</span><span class="comment" id="6051106">//&nbsp;or&nbsp;variable,&nbsp;it&nbsp;is&nbsp;also&nbsp;declared&nbsp;as&nbsp;an&nbsp;object&nbsp;file&nbsp;symbol&nbsp;in&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="6051185">//&nbsp;link8.Package,&nbsp;and&nbsp;it&nbsp;returns&nbsp;the&nbsp;index.&nbsp;&nbsp;If&nbsp;the&nbsp;symbol&nbsp;is&nbsp;a&nbsp;constant,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="6051262">//&nbsp;returns&nbsp;0&nbsp;after&nbsp;the&nbsp;declaration.&nbsp;Other&nbsp;types&nbsp;will&nbsp;panic.&nbsp;Redeclaration&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="6051341">//&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="6051351">func</span>&nbsp;<span class="op" id="6051356">(</span><span class="ident" id="6051357">p</span>&nbsp;<span class="op" id="6051359">*</span><span class="ident" id="6051360"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6051363">)</span>&nbsp;<span class="ident" id="6051365">Declare</span><span class="op" id="6051372">(</span><span class="ident" id="6051373">s</span>&nbsp;<span class="op" id="6051375">*</span><span class="ident" id="6051376"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><span class="op" id="6051382">)</span>&nbsp;<span class="builtintype" id="6051384">uint32</span>&nbsp;<span class="op" id="6051391">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6051394">_</span><span class="op" id="6051395">,</span>&nbsp;<span class="ident" id="6051397">found</span>&nbsp;<span class="op" id="6051403">:=</span>&nbsp;<span class="ident" id="6051406"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051357">p</a></span><span class="op" id="6051407">.</span><span class="ident" id="6051408">symbols</span><span class="op" id="6051415">[</span><span class="ident" id="6051416"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051373">s</a></span><span class="op" id="6051417">.</span><span class="ident" id="6051418">Name</span><span class="op" id="6051422">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051425">if</span>&nbsp;<span class="ident" id="6051428"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051397">found</a></span>&nbsp;<span class="op" id="6051434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6051438">panic</span><span class="op" id="6051443">(</span><span class="string" id="6051444">&#34;redeclare&#34;</span><span class="op" id="6051455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6051458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6051461"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051357">p</a></span><span class="op" id="6051462">.</span><span class="ident" id="6051463">symbols</span><span class="op" id="6051470">[</span><span class="ident" id="6051471"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051373">s</a></span><span class="op" id="6051472">.</span><span class="ident" id="6051473">Name</span><span class="op" id="6051477">]</span>&nbsp;<span class="op" id="6051479">=</span>&nbsp;<span class="ident" id="6051481"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051373">s</a></span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051485">switch</span>&nbsp;<span class="ident" id="6051492"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051373">s</a></span><span class="op" id="6051493">.</span><span class="ident" id="6051494">Type</span>&nbsp;<span class="op" id="6051499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051502">case</span>&nbsp;<span class="ident" id="6051507"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066231">SymConst</a></span><span class="op" id="6051515">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051519">return</span>&nbsp;<span class="num" id="6051526">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051529">case</span>&nbsp;<span class="ident" id="6051534"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066191">SymFunc</a></span><span class="op" id="6051541">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051545">return</span>&nbsp;<span class="ident" id="6051552"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051357">p</a></span><span class="op" id="6051553">.</span><span class="ident" id="6051554">Package</span><span class="op" id="6051561">.</span><span class="ident" id="6051562">Declare</span><span class="op" id="6051569">(</span><span class="op" id="6051570">&amp;</span><span class="ident" id="6051571"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050044">link8</a></span><span class="op" id="6051576">.</span><span class="ident" id="6051577">Symbol</span><span class="op" id="6051583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6051588">Name</span><span class="op" id="6051592">:</span>&nbsp;<span class="ident" id="6051594"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051373">s</a></span><span class="op" id="6051595">.</span><span class="ident" id="6051596">Name</span><span class="op" id="6051600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6051605">Type</span><span class="op" id="6051609">:</span>&nbsp;<span class="ident" id="6051611"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050044">link8</a></span><span class="op" id="6051616">.</span><span class="ident" id="6051617">SymFunc</span><span class="op" id="6051624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6051628">}</span><span class="op" id="6051629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051632">case</span>&nbsp;<span class="ident" id="6051637"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066272">SymVar</a></span><span class="op" id="6051643">:</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051647">return</span>&nbsp;<span class="ident" id="6051654"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051357">p</a></span><span class="op" id="6051655">.</span><span class="ident" id="6051656">Package</span><span class="op" id="6051663">.</span><span class="ident" id="6051664">Declare</span><span class="op" id="6051671">(</span><span class="op" id="6051672">&amp;</span><span class="ident" id="6051673"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050044">link8</a></span><span class="op" id="6051678">.</span><span class="ident" id="6051679">Symbol</span><span class="op" id="6051685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6051690">Name</span><span class="op" id="6051694">:</span>&nbsp;<span class="ident" id="6051696"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051373">s</a></span><span class="op" id="6051697">.</span><span class="ident" id="6051698">Name</span><span class="op" id="6051702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6051707">Type</span><span class="op" id="6051711">:</span>&nbsp;<span class="ident" id="6051713"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050044">link8</a></span><span class="op" id="6051718">.</span><span class="ident" id="6051719">SymVar</span><span class="op" id="6051725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6051729">}</span><span class="op" id="6051730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6051733">default</span><span class="op" id="6051740">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6051744">panic</span><span class="op" id="6051749">(</span><span class="string" id="6051750">&#34;declare&nbsp;with&nbsp;invalid&nbsp;sym&nbsp;type&#34;</span><span class="op" id="6051781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6051784">}</span><br>
<span class="lineno"></span><span class="op" id="6051786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6051789">//&nbsp;Query&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;declared&nbsp;by&nbsp;name&nbsp;and&nbsp;its&nbsp;symbol&nbsp;index</span><br>
<span class="lineno">90</span><span class="comment" id="6051855">//&nbsp;if&nbsp;the&nbsp;symbol&nbsp;is&nbsp;a&nbsp;function&nbsp;or&nbsp;variable.&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;0&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="6051922">//&nbsp;the&nbsp;symbol&nbsp;of&nbsp;name&nbsp;is&nbsp;not&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6051958">func</span>&nbsp;<span class="op" id="6051963">(</span><span class="ident" id="6051964">p</span>&nbsp;<span class="op" id="6051966">*</span><span class="ident" id="6051967"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6050106">lib</a></span><span class="op" id="6051970">)</span>&nbsp;<span class="ident" id="6051972">Query</span><span class="op" id="6051977">(</span><span class="ident" id="6051978">name</span>&nbsp;<span class="builtintype" id="6051983">string</span><span class="op" id="6051989">)</span>&nbsp;<span class="op" id="6051991">(</span><span class="op" id="6051992">*</span><span class="ident" id="6051993"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6065903">symbol</a></span><span class="op" id="6051999">,</span>&nbsp;<span class="builtintype" id="6052001">uint32</span><span class="op" id="6052007">)</span>&nbsp;<span class="op" id="6052009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6052012">ret</span><span class="op" id="6052015">,</span>&nbsp;<span class="ident" id="6052017">found</span>&nbsp;<span class="op" id="6052023">:=</span>&nbsp;<span class="ident" id="6052026"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051964">p</a></span><span class="op" id="6052027">.</span><span class="ident" id="6052028">symbols</span><span class="op" id="6052035">[</span><span class="ident" id="6052036"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051978">name</a></span><span class="op" id="6052040">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052043">if</span>&nbsp;<span class="op" id="6052046">!</span><span class="ident" id="6052047"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6052017">found</a></span>&nbsp;<span class="op" id="6052053">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052057">return</span>&nbsp;<span class="ident" id="6052064">nil</span><span class="op" id="6052067">,</span>&nbsp;<span class="num" id="6052069">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6052072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052076">switch</span>&nbsp;<span class="ident" id="6052083"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6052012">ret</a></span><span class="op" id="6052086">.</span><span class="ident" id="6052087">Type</span>&nbsp;<span class="op" id="6052092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052095">case</span>&nbsp;<span class="ident" id="6052100"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066231">SymConst</a></span><span class="op" id="6052108">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052112">return</span>&nbsp;<span class="ident" id="6052119"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6052012">ret</a></span><span class="op" id="6052122">,</span>&nbsp;<span class="num" id="6052124">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052127">case</span>&nbsp;<span class="ident" id="6052132"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066191">SymFunc</a></span><span class="op" id="6052139">,</span>&nbsp;<span class="ident" id="6052141"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#6066272">SymVar</a></span><span class="op" id="6052147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6052151">s</span><span class="op" id="6052152">,</span>&nbsp;<span class="ident" id="6052154">index</span>&nbsp;<span class="op" id="6052160">:=</span>&nbsp;<span class="ident" id="6052163"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051964">p</a></span><span class="op" id="6052164">.</span><span class="ident" id="6052165">Package</span><span class="op" id="6052172">.</span><span class="ident" id="6052173">Query</span><span class="op" id="6052178">(</span><span class="ident" id="6052179"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6051978">name</a></span><span class="op" id="6052183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052187">if</span>&nbsp;<span class="ident" id="6052190"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6052151">s</a></span>&nbsp;<span class="op" id="6052192">==</span>&nbsp;<span class="ident" id="6052195">nil</span>&nbsp;<span class="op" id="6052199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6052204">panic</span><span class="op" id="6052209">(</span><span class="string" id="6052210">&#34;symbol&nbsp;missing&#34;</span><span class="op" id="6052226">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6052230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052234">return</span>&nbsp;<span class="ident" id="6052241"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6052012">ret</a></span><span class="op" id="6052244">,</span>&nbsp;<span class="ident" id="6052246"><a href="/lonnie.io/e8vm/asm8/lib.go.html#6052154">index</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6052253">default</span><span class="op" id="6052260">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6052264">panic</span><span class="op" id="6052269">(</span><span class="string" id="6052270">&#34;bug&#34;</span><span class="op" id="6052275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6052278">}</span><br>
<span class="lineno">110</span><span class="op" id="6052280">}</span>
</div>
</body>
</html>
