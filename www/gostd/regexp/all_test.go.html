<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html" class="current">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6606971">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6607026">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6607080">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6607131">package</span>&nbsp;<span class="ident" id="6607139">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6607147">import</span>&nbsp;<span class="op" id="6607154">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607157">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607168">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607185">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607196">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6607206">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6607209">var</span>&nbsp;<span class="ident" id="6607213">good_re</span>&nbsp;<span class="op" id="6607221">=</span>&nbsp;<span class="op" id="6607223">[</span><span class="op" id="6607224">]</span><span class="builtintype" id="6607225">string</span><span class="op" id="6607231">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607234">``</span><span class="op" id="6607236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607239">`.`</span><span class="op" id="6607242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607245">`^.$`</span><span class="op" id="6607250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607253">`a`</span><span class="op" id="6607256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607259">`a*`</span><span class="op" id="6607263">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607266">`a+`</span><span class="op" id="6607270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607273">`a?`</span><span class="op" id="6607277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607280">`a|b`</span><span class="op" id="6607285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607288">`a*|b*`</span><span class="op" id="6607295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607298">`(a*|b)(c*|d)`</span><span class="op" id="6607312">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607315">`[a-z]`</span><span class="op" id="6607322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607325">`[a-abc-c\-\]\[]`</span><span class="op" id="6607342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607345">`[a-z]+`</span><span class="op" id="6607353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607356">`[abc]`</span><span class="op" id="6607363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607366">`[^1234]`</span><span class="op" id="6607375">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607378">`[^\n]`</span><span class="op" id="6607385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6607388">`\!\\`</span><span class="op" id="6607394">,</span><br>
<span class="lineno"></span><span class="op" id="6607396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6607399">type</span>&nbsp;<span class="ident" id="6607404">stringError</span>&nbsp;<span class="keyword" id="6607416">struct</span>&nbsp;<span class="op" id="6607423">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607426">re</span>&nbsp;&nbsp;<span class="builtintype" id="6607430">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607438">err</span>&nbsp;<span class="builtintype" id="6607442">string</span><br>
<span class="lineno"></span><span class="op" id="6607449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6607452">var</span>&nbsp;<span class="ident" id="6607456">bad_re</span>&nbsp;<span class="op" id="6607463">=</span>&nbsp;<span class="op" id="6607465">[</span><span class="op" id="6607466">]</span><span class="ident" id="6607467">stringError</span><span class="op" id="6607478">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607481">{</span><span class="string" id="6607482">`*`</span><span class="op" id="6607485">,</span>&nbsp;<span class="string" id="6607487">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="6607533">}</span><span class="op" id="6607534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607537">{</span><span class="string" id="6607538">`+`</span><span class="op" id="6607541">,</span>&nbsp;<span class="string" id="6607543">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="6607589">}</span><span class="op" id="6607590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607593">{</span><span class="string" id="6607594">`?`</span><span class="op" id="6607597">,</span>&nbsp;<span class="string" id="6607599">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="6607645">}</span><span class="op" id="6607646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607649">{</span><span class="string" id="6607650">`(abc`</span><span class="op" id="6607656">,</span>&nbsp;<span class="string" id="6607658">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="6607685">}</span><span class="op" id="6607686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607689">{</span><span class="string" id="6607690">`abc)`</span><span class="op" id="6607696">,</span>&nbsp;<span class="string" id="6607698">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="6607720">}</span><span class="op" id="6607721">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607724">{</span><span class="string" id="6607725">`x[a-z`</span><span class="op" id="6607732">,</span>&nbsp;<span class="string" id="6607734">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="6607761">}</span><span class="op" id="6607762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607765">{</span><span class="string" id="6607766">`[z-a]`</span><span class="op" id="6607773">,</span>&nbsp;<span class="string" id="6607775">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="6607813">}</span><span class="op" id="6607814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607817">{</span><span class="string" id="6607818">`abc\`</span><span class="op" id="6607824">,</span>&nbsp;<span class="string" id="6607826">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="6607867">}</span><span class="op" id="6607868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607871">{</span><span class="string" id="6607872">`a**`</span><span class="op" id="6607877">,</span>&nbsp;<span class="string" id="6607879">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="6607921">}</span><span class="op" id="6607922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607925">{</span><span class="string" id="6607926">`a*+`</span><span class="op" id="6607931">,</span>&nbsp;<span class="string" id="6607933">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="6607975">}</span><span class="op" id="6607976">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607979">{</span><span class="string" id="6607980">`\x`</span><span class="op" id="6607984">,</span>&nbsp;<span class="string" id="6607986">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="6608018">}</span><span class="op" id="6608019">,</span><br>
<span class="lineno"></span><span class="op" id="6608021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6608024">func</span>&nbsp;<span class="ident" id="6608029">compileTest</span><span class="op" id="6608040">(</span><span class="ident" id="6608041">t</span>&nbsp;<span class="op" id="6608043">*</span><span class="ident" id="6608044">testing</span><span class="op" id="6608051">.</span><span class="ident" id="6608052">T</span><span class="op" id="6608053">,</span>&nbsp;<span class="ident" id="6608055">expr</span>&nbsp;<span class="builtintype" id="6608060">string</span><span class="op" id="6608066">,</span>&nbsp;<span class="builtintype" id="6608068">error</span>&nbsp;<span class="builtintype" id="6608074">string</span><span class="op" id="6608080">)</span>&nbsp;<span class="op" id="6608082">*</span><span class="ident" id="6608083">Regexp</span>&nbsp;<span class="op" id="6608090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608093">re</span><span class="op" id="6608095">,</span>&nbsp;<span class="ident" id="6608097">err</span>&nbsp;<span class="op" id="6608101">:=</span>&nbsp;<span class="ident" id="6608104">Compile</span><span class="op" id="6608111">(</span><span class="ident" id="6608112">expr</span><span class="op" id="6608116">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608119">if</span>&nbsp;<span class="builtintype" id="6608122">error</span>&nbsp;<span class="op" id="6608128">==</span>&nbsp;<span class="string" id="6608131">&#34;&#34;</span>&nbsp;<span class="op" id="6608134">&amp;&amp;</span>&nbsp;<span class="ident" id="6608137">err</span>&nbsp;<span class="op" id="6608141">!=</span>&nbsp;<span class="ident" id="6608144">nil</span>&nbsp;<span class="op" id="6608148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608152">t</span><span class="op" id="6608153">.</span><span class="ident" id="6608154">Error</span><span class="op" id="6608159">(</span><span class="string" id="6608160">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6608173">,</span>&nbsp;<span class="ident" id="6608175">expr</span><span class="op" id="6608179">,</span>&nbsp;<span class="string" id="6608181">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="6608204">,</span>&nbsp;<span class="ident" id="6608206">err</span><span class="op" id="6608209">.</span><span class="ident" id="6608210">Error</span><span class="op" id="6608215">(</span><span class="op" id="6608216">)</span><span class="op" id="6608217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608223">if</span>&nbsp;<span class="builtintype" id="6608226">error</span>&nbsp;<span class="op" id="6608232">!=</span>&nbsp;<span class="string" id="6608235">&#34;&#34;</span>&nbsp;<span class="op" id="6608238">&amp;&amp;</span>&nbsp;<span class="ident" id="6608241">err</span>&nbsp;<span class="op" id="6608245">==</span>&nbsp;<span class="ident" id="6608248">nil</span>&nbsp;<span class="op" id="6608252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608256">t</span><span class="op" id="6608257">.</span><span class="ident" id="6608258">Error</span><span class="op" id="6608263">(</span><span class="string" id="6608264">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6608277">,</span>&nbsp;<span class="ident" id="6608279">expr</span><span class="op" id="6608283">,</span>&nbsp;<span class="string" id="6608285">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="6608303">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608306">}</span>&nbsp;<span class="keyword" id="6608308">else</span>&nbsp;<span class="keyword" id="6608313">if</span>&nbsp;<span class="builtintype" id="6608316">error</span>&nbsp;<span class="op" id="6608322">!=</span>&nbsp;<span class="string" id="6608325">&#34;&#34;</span>&nbsp;<span class="op" id="6608328">&amp;&amp;</span>&nbsp;<span class="op" id="6608331">!</span><span class="ident" id="6608332">strings</span><span class="op" id="6608339">.</span><span class="ident" id="6608340">Contains</span><span class="op" id="6608348">(</span><span class="ident" id="6608349">err</span><span class="op" id="6608352">.</span><span class="ident" id="6608353">Error</span><span class="op" id="6608358">(</span><span class="op" id="6608359">)</span><span class="op" id="6608360">,</span>&nbsp;<span class="builtintype" id="6608362">error</span><span class="op" id="6608367">)</span>&nbsp;<span class="op" id="6608369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608373">t</span><span class="op" id="6608374">.</span><span class="ident" id="6608375">Error</span><span class="op" id="6608380">(</span><span class="string" id="6608381">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6608394">,</span>&nbsp;<span class="ident" id="6608396">expr</span><span class="op" id="6608400">,</span>&nbsp;<span class="string" id="6608402">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="6608420">,</span>&nbsp;<span class="ident" id="6608422">err</span><span class="op" id="6608425">.</span><span class="ident" id="6608426">Error</span><span class="op" id="6608431">(</span><span class="op" id="6608432">)</span><span class="op" id="6608433">,</span>&nbsp;<span class="string" id="6608435">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="6608444">,</span>&nbsp;<span class="builtintype" id="6608446">error</span><span class="op" id="6608451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608457">return</span>&nbsp;<span class="ident" id="6608464">re</span><br>
<span class="lineno"></span><span class="op" id="6608467">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6608470">func</span>&nbsp;<span class="ident" id="6608475">TestGoodCompile</span><span class="op" id="6608490">(</span><span class="ident" id="6608491">t</span>&nbsp;<span class="op" id="6608493">*</span><span class="ident" id="6608494">testing</span><span class="op" id="6608501">.</span><span class="ident" id="6608502">T</span><span class="op" id="6608503">)</span>&nbsp;<span class="op" id="6608505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608508">for</span>&nbsp;<span class="ident" id="6608512">i</span>&nbsp;<span class="op" id="6608514">:=</span>&nbsp;<span class="num" id="6608517">0</span><span class="op" id="6608518">;</span>&nbsp;<span class="ident" id="6608520">i</span>&nbsp;<span class="op" id="6608522">&lt;</span>&nbsp;<span class="builtinfunc" id="6608524">len</span><span class="op" id="6608527">(</span><span class="ident" id="6608528">good_re</span><span class="op" id="6608535">)</span><span class="op" id="6608536">;</span>&nbsp;<span class="ident" id="6608538">i</span><span class="op" id="6608539">++</span>&nbsp;<span class="op" id="6608542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608546">compileTest</span><span class="op" id="6608557">(</span><span class="ident" id="6608558">t</span><span class="op" id="6608559">,</span>&nbsp;<span class="ident" id="6608561">good_re</span><span class="op" id="6608568">[</span><span class="ident" id="6608569">i</span><span class="op" id="6608570">]</span><span class="op" id="6608571">,</span>&nbsp;<span class="string" id="6608573">&#34;&#34;</span><span class="op" id="6608575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608578">}</span><br>
<span class="lineno">70</span><span class="op" id="6608580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6608583">func</span>&nbsp;<span class="ident" id="6608588">TestBadCompile</span><span class="op" id="6608602">(</span><span class="ident" id="6608603">t</span>&nbsp;<span class="op" id="6608605">*</span><span class="ident" id="6608606">testing</span><span class="op" id="6608613">.</span><span class="ident" id="6608614">T</span><span class="op" id="6608615">)</span>&nbsp;<span class="op" id="6608617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608620">for</span>&nbsp;<span class="ident" id="6608624">i</span>&nbsp;<span class="op" id="6608626">:=</span>&nbsp;<span class="num" id="6608629">0</span><span class="op" id="6608630">;</span>&nbsp;<span class="ident" id="6608632">i</span>&nbsp;<span class="op" id="6608634">&lt;</span>&nbsp;<span class="builtinfunc" id="6608636">len</span><span class="op" id="6608639">(</span><span class="ident" id="6608640">bad_re</span><span class="op" id="6608646">)</span><span class="op" id="6608647">;</span>&nbsp;<span class="ident" id="6608649">i</span><span class="op" id="6608650">++</span>&nbsp;<span class="op" id="6608653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608657">compileTest</span><span class="op" id="6608668">(</span><span class="ident" id="6608669">t</span><span class="op" id="6608670">,</span>&nbsp;<span class="ident" id="6608672">bad_re</span><span class="op" id="6608678">[</span><span class="ident" id="6608679">i</span><span class="op" id="6608680">]</span><span class="op" id="6608681">.</span><span class="ident" id="6608682">re</span><span class="op" id="6608684">,</span>&nbsp;<span class="ident" id="6608686">bad_re</span><span class="op" id="6608692">[</span><span class="ident" id="6608693">i</span><span class="op" id="6608694">]</span><span class="op" id="6608695">.</span><span class="ident" id="6608696">err</span><span class="op" id="6608699">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608702">}</span><br>
<span class="lineno"></span><span class="op" id="6608704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6608707">func</span>&nbsp;<span class="ident" id="6608712">matchTest</span><span class="op" id="6608721">(</span><span class="ident" id="6608722">t</span>&nbsp;<span class="op" id="6608724">*</span><span class="ident" id="6608725">testing</span><span class="op" id="6608732">.</span><span class="ident" id="6608733">T</span><span class="op" id="6608734">,</span>&nbsp;<span class="ident" id="6608736">test</span>&nbsp;<span class="op" id="6608741">*</span><span class="ident" id="6608742">FindTest</span><span class="op" id="6608750">)</span>&nbsp;<span class="op" id="6608752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608755">re</span>&nbsp;<span class="op" id="6608758">:=</span>&nbsp;<span class="ident" id="6608761">compileTest</span><span class="op" id="6608772">(</span><span class="ident" id="6608773">t</span><span class="op" id="6608774">,</span>&nbsp;<span class="ident" id="6608776">test</span><span class="op" id="6608780">.</span><span class="ident" id="6608781">pat</span><span class="op" id="6608784">,</span>&nbsp;<span class="string" id="6608786">&#34;&#34;</span><span class="op" id="6608788">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608791">if</span>&nbsp;<span class="ident" id="6608794">re</span>&nbsp;<span class="op" id="6608797">==</span>&nbsp;<span class="ident" id="6608800">nil</span>&nbsp;<span class="op" id="6608804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608808">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608819">m</span>&nbsp;<span class="op" id="6608821">:=</span>&nbsp;<span class="ident" id="6608824">re</span><span class="op" id="6608826">.</span><span class="ident" id="6608827">MatchString</span><span class="op" id="6608838">(</span><span class="ident" id="6608839">test</span><span class="op" id="6608843">.</span><span class="ident" id="6608844">text</span><span class="op" id="6608848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608851">if</span>&nbsp;<span class="ident" id="6608854">m</span>&nbsp;<span class="op" id="6608856">!=</span>&nbsp;<span class="op" id="6608859">(</span><span class="builtinfunc" id="6608860">len</span><span class="op" id="6608863">(</span><span class="ident" id="6608864">test</span><span class="op" id="6608868">.</span><span class="ident" id="6608869">matches</span><span class="op" id="6608876">)</span>&nbsp;<span class="op" id="6608878">&gt;</span>&nbsp;<span class="num" id="6608880">0</span><span class="op" id="6608881">)</span>&nbsp;<span class="op" id="6608883">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608887">t</span><span class="op" id="6608888">.</span><span class="ident" id="6608889">Errorf</span><span class="op" id="6608895">(</span><span class="string" id="6608896">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6608940">,</span>&nbsp;<span class="ident" id="6608942">test</span><span class="op" id="6608946">,</span>&nbsp;<span class="ident" id="6608948">m</span><span class="op" id="6608949">,</span>&nbsp;<span class="builtinfunc" id="6608951">len</span><span class="op" id="6608954">(</span><span class="ident" id="6608955">test</span><span class="op" id="6608959">.</span><span class="ident" id="6608960">matches</span><span class="op" id="6608967">)</span>&nbsp;<span class="op" id="6608969">&gt;</span>&nbsp;<span class="num" id="6608971">0</span><span class="op" id="6608972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6608978">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608996">m</span>&nbsp;<span class="op" id="6608998">=</span>&nbsp;<span class="ident" id="6609000">re</span><span class="op" id="6609002">.</span><span class="ident" id="6609003">Match</span><span class="op" id="6609008">(</span><span class="op" id="6609009">[</span><span class="op" id="6609010">]</span><span class="builtintype" id="6609011">byte</span><span class="op" id="6609015">(</span><span class="ident" id="6609016">test</span><span class="op" id="6609020">.</span><span class="ident" id="6609021">text</span><span class="op" id="6609025">)</span><span class="op" id="6609026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609029">if</span>&nbsp;<span class="ident" id="6609032">m</span>&nbsp;<span class="op" id="6609034">!=</span>&nbsp;<span class="op" id="6609037">(</span><span class="builtinfunc" id="6609038">len</span><span class="op" id="6609041">(</span><span class="ident" id="6609042">test</span><span class="op" id="6609046">.</span><span class="ident" id="6609047">matches</span><span class="op" id="6609054">)</span>&nbsp;<span class="op" id="6609056">&gt;</span>&nbsp;<span class="num" id="6609058">0</span><span class="op" id="6609059">)</span>&nbsp;<span class="op" id="6609061">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609065">t</span><span class="op" id="6609066">.</span><span class="ident" id="6609067">Errorf</span><span class="op" id="6609073">(</span><span class="string" id="6609074">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6609112">,</span>&nbsp;<span class="ident" id="6609114">test</span><span class="op" id="6609118">,</span>&nbsp;<span class="ident" id="6609120">m</span><span class="op" id="6609121">,</span>&nbsp;<span class="builtinfunc" id="6609123">len</span><span class="op" id="6609126">(</span><span class="ident" id="6609127">test</span><span class="op" id="6609131">.</span><span class="ident" id="6609132">matches</span><span class="op" id="6609139">)</span>&nbsp;<span class="op" id="6609141">&gt;</span>&nbsp;<span class="num" id="6609143">0</span><span class="op" id="6609144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609147">}</span><br>
<span class="lineno"></span><span class="op" id="6609149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6609152">func</span>&nbsp;<span class="ident" id="6609157">TestMatch</span><span class="op" id="6609166">(</span><span class="ident" id="6609167">t</span>&nbsp;<span class="op" id="6609169">*</span><span class="ident" id="6609170">testing</span><span class="op" id="6609177">.</span><span class="ident" id="6609178">T</span><span class="op" id="6609179">)</span>&nbsp;<span class="op" id="6609181">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609184">for</span>&nbsp;<span class="ident" id="6609188">_</span><span class="op" id="6609189">,</span>&nbsp;<span class="ident" id="6609191">test</span>&nbsp;<span class="op" id="6609196">:=</span>&nbsp;<span class="keyword" id="6609199">range</span>&nbsp;<span class="ident" id="6609205">findTests</span>&nbsp;<span class="op" id="6609215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609219">matchTest</span><span class="op" id="6609228">(</span><span class="ident" id="6609229">t</span><span class="op" id="6609230">,</span>&nbsp;<span class="op" id="6609232">&amp;</span><span class="ident" id="6609233">test</span><span class="op" id="6609237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609240">}</span><br>
<span class="lineno"></span><span class="op" id="6609242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6609245">func</span>&nbsp;<span class="ident" id="6609250">matchFunctionTest</span><span class="op" id="6609267">(</span><span class="ident" id="6609268">t</span>&nbsp;<span class="op" id="6609270">*</span><span class="ident" id="6609271">testing</span><span class="op" id="6609278">.</span><span class="ident" id="6609279">T</span><span class="op" id="6609280">,</span>&nbsp;<span class="ident" id="6609282">test</span>&nbsp;<span class="op" id="6609287">*</span><span class="ident" id="6609288">FindTest</span><span class="op" id="6609296">)</span>&nbsp;<span class="op" id="6609298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609301">m</span><span class="op" id="6609302">,</span>&nbsp;<span class="ident" id="6609304">err</span>&nbsp;<span class="op" id="6609308">:=</span>&nbsp;<span class="ident" id="6609311">MatchString</span><span class="op" id="6609322">(</span><span class="ident" id="6609323">test</span><span class="op" id="6609327">.</span><span class="ident" id="6609328">pat</span><span class="op" id="6609331">,</span>&nbsp;<span class="ident" id="6609333">test</span><span class="op" id="6609337">.</span><span class="ident" id="6609338">text</span><span class="op" id="6609342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609345">if</span>&nbsp;<span class="ident" id="6609348">err</span>&nbsp;<span class="op" id="6609352">==</span>&nbsp;<span class="ident" id="6609355">nil</span>&nbsp;<span class="op" id="6609359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609363">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609371">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609374">if</span>&nbsp;<span class="ident" id="6609377">m</span>&nbsp;<span class="op" id="6609379">!=</span>&nbsp;<span class="op" id="6609382">(</span><span class="builtinfunc" id="6609383">len</span><span class="op" id="6609386">(</span><span class="ident" id="6609387">test</span><span class="op" id="6609391">.</span><span class="ident" id="6609392">matches</span><span class="op" id="6609399">)</span>&nbsp;<span class="op" id="6609401">&gt;</span>&nbsp;<span class="num" id="6609403">0</span><span class="op" id="6609404">)</span>&nbsp;<span class="op" id="6609406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609410">t</span><span class="op" id="6609411">.</span><span class="ident" id="6609412">Errorf</span><span class="op" id="6609418">(</span><span class="string" id="6609419">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6609457">,</span>&nbsp;<span class="ident" id="6609459">test</span><span class="op" id="6609463">,</span>&nbsp;<span class="ident" id="6609465">m</span><span class="op" id="6609466">,</span>&nbsp;<span class="builtinfunc" id="6609468">len</span><span class="op" id="6609471">(</span><span class="ident" id="6609472">test</span><span class="op" id="6609476">.</span><span class="ident" id="6609477">matches</span><span class="op" id="6609484">)</span>&nbsp;<span class="op" id="6609486">&gt;</span>&nbsp;<span class="num" id="6609488">0</span><span class="op" id="6609489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609492">}</span><br>
<span class="lineno"></span><span class="op" id="6609494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="6609497">func</span>&nbsp;<span class="ident" id="6609502">TestMatchFunction</span><span class="op" id="6609519">(</span><span class="ident" id="6609520">t</span>&nbsp;<span class="op" id="6609522">*</span><span class="ident" id="6609523">testing</span><span class="op" id="6609530">.</span><span class="ident" id="6609531">T</span><span class="op" id="6609532">)</span>&nbsp;<span class="op" id="6609534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6609537">for</span>&nbsp;<span class="ident" id="6609541">_</span><span class="op" id="6609542">,</span>&nbsp;<span class="ident" id="6609544">test</span>&nbsp;<span class="op" id="6609549">:=</span>&nbsp;<span class="keyword" id="6609552">range</span>&nbsp;<span class="ident" id="6609558">findTests</span>&nbsp;<span class="op" id="6609568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609572">matchFunctionTest</span><span class="op" id="6609589">(</span><span class="ident" id="6609590">t</span><span class="op" id="6609591">,</span>&nbsp;<span class="op" id="6609593">&amp;</span><span class="ident" id="6609594">test</span><span class="op" id="6609598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609601">}</span><br>
<span class="lineno"></span><span class="op" id="6609603">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="6609606">type</span>&nbsp;<span class="ident" id="6609611">ReplaceTest</span>&nbsp;<span class="keyword" id="6609623">struct</span>&nbsp;<span class="op" id="6609630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6609633">pattern</span><span class="op" id="6609640">,</span>&nbsp;<span class="ident" id="6609642">replacement</span><span class="op" id="6609653">,</span>&nbsp;<span class="ident" id="6609655">input</span><span class="op" id="6609660">,</span>&nbsp;<span class="ident" id="6609662">output</span>&nbsp;<span class="builtintype" id="6609669">string</span><br>
<span class="lineno"></span><span class="op" id="6609676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6609679">var</span>&nbsp;<span class="ident" id="6609683">replaceTests</span>&nbsp;<span class="op" id="6609696">=</span>&nbsp;<span class="op" id="6609698">[</span><span class="op" id="6609699">]</span><span class="ident" id="6609700">ReplaceTest</span><span class="op" id="6609711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6609714">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609799">{</span><span class="string" id="6609800">&#34;&#34;</span><span class="op" id="6609802">,</span>&nbsp;<span class="string" id="6609804">&#34;&#34;</span><span class="op" id="6609806">,</span>&nbsp;<span class="string" id="6609808">&#34;&#34;</span><span class="op" id="6609810">,</span>&nbsp;<span class="string" id="6609812">&#34;&#34;</span><span class="op" id="6609814">}</span><span class="op" id="6609815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609818">{</span><span class="string" id="6609819">&#34;&#34;</span><span class="op" id="6609821">,</span>&nbsp;<span class="string" id="6609823">&#34;x&#34;</span><span class="op" id="6609826">,</span>&nbsp;<span class="string" id="6609828">&#34;&#34;</span><span class="op" id="6609830">,</span>&nbsp;<span class="string" id="6609832">&#34;x&#34;</span><span class="op" id="6609835">}</span><span class="op" id="6609836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609839">{</span><span class="string" id="6609840">&#34;&#34;</span><span class="op" id="6609842">,</span>&nbsp;<span class="string" id="6609844">&#34;&#34;</span><span class="op" id="6609846">,</span>&nbsp;<span class="string" id="6609848">&#34;abc&#34;</span><span class="op" id="6609853">,</span>&nbsp;<span class="string" id="6609855">&#34;abc&#34;</span><span class="op" id="6609860">}</span><span class="op" id="6609861">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609864">{</span><span class="string" id="6609865">&#34;&#34;</span><span class="op" id="6609867">,</span>&nbsp;<span class="string" id="6609869">&#34;x&#34;</span><span class="op" id="6609872">,</span>&nbsp;<span class="string" id="6609874">&#34;abc&#34;</span><span class="op" id="6609879">,</span>&nbsp;<span class="string" id="6609881">&#34;xaxbxcx&#34;</span><span class="op" id="6609890">}</span><span class="op" id="6609891">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6609895">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6609987">{</span><span class="string" id="6609988">&#34;b&#34;</span><span class="op" id="6609991">,</span>&nbsp;<span class="string" id="6609993">&#34;&#34;</span><span class="op" id="6609995">,</span>&nbsp;<span class="string" id="6609997">&#34;&#34;</span><span class="op" id="6609999">,</span>&nbsp;<span class="string" id="6610001">&#34;&#34;</span><span class="op" id="6610003">}</span><span class="op" id="6610004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610007">{</span><span class="string" id="6610008">&#34;b&#34;</span><span class="op" id="6610011">,</span>&nbsp;<span class="string" id="6610013">&#34;x&#34;</span><span class="op" id="6610016">,</span>&nbsp;<span class="string" id="6610018">&#34;&#34;</span><span class="op" id="6610020">,</span>&nbsp;<span class="string" id="6610022">&#34;&#34;</span><span class="op" id="6610024">}</span><span class="op" id="6610025">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610028">{</span><span class="string" id="6610029">&#34;b&#34;</span><span class="op" id="6610032">,</span>&nbsp;<span class="string" id="6610034">&#34;&#34;</span><span class="op" id="6610036">,</span>&nbsp;<span class="string" id="6610038">&#34;abc&#34;</span><span class="op" id="6610043">,</span>&nbsp;<span class="string" id="6610045">&#34;ac&#34;</span><span class="op" id="6610049">}</span><span class="op" id="6610050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610053">{</span><span class="string" id="6610054">&#34;b&#34;</span><span class="op" id="6610057">,</span>&nbsp;<span class="string" id="6610059">&#34;x&#34;</span><span class="op" id="6610062">,</span>&nbsp;<span class="string" id="6610064">&#34;abc&#34;</span><span class="op" id="6610069">,</span>&nbsp;<span class="string" id="6610071">&#34;axc&#34;</span><span class="op" id="6610076">}</span><span class="op" id="6610077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610080">{</span><span class="string" id="6610081">&#34;y&#34;</span><span class="op" id="6610084">,</span>&nbsp;<span class="string" id="6610086">&#34;&#34;</span><span class="op" id="6610088">,</span>&nbsp;<span class="string" id="6610090">&#34;&#34;</span><span class="op" id="6610092">,</span>&nbsp;<span class="string" id="6610094">&#34;&#34;</span><span class="op" id="6610096">}</span><span class="op" id="6610097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610100">{</span><span class="string" id="6610101">&#34;y&#34;</span><span class="op" id="6610104">,</span>&nbsp;<span class="string" id="6610106">&#34;x&#34;</span><span class="op" id="6610109">,</span>&nbsp;<span class="string" id="6610111">&#34;&#34;</span><span class="op" id="6610113">,</span>&nbsp;<span class="string" id="6610115">&#34;&#34;</span><span class="op" id="6610117">}</span><span class="op" id="6610118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610121">{</span><span class="string" id="6610122">&#34;y&#34;</span><span class="op" id="6610125">,</span>&nbsp;<span class="string" id="6610127">&#34;&#34;</span><span class="op" id="6610129">,</span>&nbsp;<span class="string" id="6610131">&#34;abc&#34;</span><span class="op" id="6610136">,</span>&nbsp;<span class="string" id="6610138">&#34;abc&#34;</span><span class="op" id="6610143">}</span><span class="op" id="6610144">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610147">{</span><span class="string" id="6610148">&#34;y&#34;</span><span class="op" id="6610151">,</span>&nbsp;<span class="string" id="6610153">&#34;x&#34;</span><span class="op" id="6610156">,</span>&nbsp;<span class="string" id="6610158">&#34;abc&#34;</span><span class="op" id="6610163">,</span>&nbsp;<span class="string" id="6610165">&#34;abc&#34;</span><span class="op" id="6610170">}</span><span class="op" id="6610171">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6610175">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6610251">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610271">{</span><span class="string" id="6610272">&#34;[a-c]*&#34;</span><span class="op" id="6610280">,</span>&nbsp;<span class="string" id="6610282">&#34;x&#34;</span><span class="op" id="6610285">,</span>&nbsp;<span class="string" id="6610287">&#34;\u65e5&#34;</span><span class="op" id="6610295">,</span>&nbsp;<span class="string" id="6610297">&#34;x\u65e5x&#34;</span><span class="op" id="6610307">}</span><span class="op" id="6610308">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610311">{</span><span class="string" id="6610312">&#34;[^\u65e5]&#34;</span><span class="op" id="6610323">,</span>&nbsp;<span class="string" id="6610325">&#34;x&#34;</span><span class="op" id="6610328">,</span>&nbsp;<span class="string" id="6610330">&#34;abc\u65e5def&#34;</span><span class="op" id="6610344">,</span>&nbsp;<span class="string" id="6610346">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="6610360">}</span><span class="op" id="6610361">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6610365">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610396">{</span><span class="string" id="6610397">&#34;^[a-c]*&#34;</span><span class="op" id="6610406">,</span>&nbsp;<span class="string" id="6610408">&#34;x&#34;</span><span class="op" id="6610411">,</span>&nbsp;<span class="string" id="6610413">&#34;abcdabc&#34;</span><span class="op" id="6610422">,</span>&nbsp;<span class="string" id="6610424">&#34;xdabc&#34;</span><span class="op" id="6610431">}</span><span class="op" id="6610432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610435">{</span><span class="string" id="6610436">&#34;[a-c]*$&#34;</span><span class="op" id="6610445">,</span>&nbsp;<span class="string" id="6610447">&#34;x&#34;</span><span class="op" id="6610450">,</span>&nbsp;<span class="string" id="6610452">&#34;abcdabc&#34;</span><span class="op" id="6610461">,</span>&nbsp;<span class="string" id="6610463">&#34;abcdx&#34;</span><span class="op" id="6610470">}</span><span class="op" id="6610471">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610474">{</span><span class="string" id="6610475">&#34;^[a-c]*$&#34;</span><span class="op" id="6610485">,</span>&nbsp;<span class="string" id="6610487">&#34;x&#34;</span><span class="op" id="6610490">,</span>&nbsp;<span class="string" id="6610492">&#34;abcdabc&#34;</span><span class="op" id="6610501">,</span>&nbsp;<span class="string" id="6610503">&#34;abcdabc&#34;</span><span class="op" id="6610512">}</span><span class="op" id="6610513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610516">{</span><span class="string" id="6610517">&#34;^[a-c]*&#34;</span><span class="op" id="6610526">,</span>&nbsp;<span class="string" id="6610528">&#34;x&#34;</span><span class="op" id="6610531">,</span>&nbsp;<span class="string" id="6610533">&#34;abc&#34;</span><span class="op" id="6610538">,</span>&nbsp;<span class="string" id="6610540">&#34;x&#34;</span><span class="op" id="6610543">}</span><span class="op" id="6610544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610547">{</span><span class="string" id="6610548">&#34;[a-c]*$&#34;</span><span class="op" id="6610557">,</span>&nbsp;<span class="string" id="6610559">&#34;x&#34;</span><span class="op" id="6610562">,</span>&nbsp;<span class="string" id="6610564">&#34;abc&#34;</span><span class="op" id="6610569">,</span>&nbsp;<span class="string" id="6610571">&#34;x&#34;</span><span class="op" id="6610574">}</span><span class="op" id="6610575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610578">{</span><span class="string" id="6610579">&#34;^[a-c]*$&#34;</span><span class="op" id="6610589">,</span>&nbsp;<span class="string" id="6610591">&#34;x&#34;</span><span class="op" id="6610594">,</span>&nbsp;<span class="string" id="6610596">&#34;abc&#34;</span><span class="op" id="6610601">,</span>&nbsp;<span class="string" id="6610603">&#34;x&#34;</span><span class="op" id="6610606">}</span><span class="op" id="6610607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610610">{</span><span class="string" id="6610611">&#34;^[a-c]*&#34;</span><span class="op" id="6610620">,</span>&nbsp;<span class="string" id="6610622">&#34;x&#34;</span><span class="op" id="6610625">,</span>&nbsp;<span class="string" id="6610627">&#34;dabce&#34;</span><span class="op" id="6610634">,</span>&nbsp;<span class="string" id="6610636">&#34;xdabce&#34;</span><span class="op" id="6610644">}</span><span class="op" id="6610645">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610648">{</span><span class="string" id="6610649">&#34;[a-c]*$&#34;</span><span class="op" id="6610658">,</span>&nbsp;<span class="string" id="6610660">&#34;x&#34;</span><span class="op" id="6610663">,</span>&nbsp;<span class="string" id="6610665">&#34;dabce&#34;</span><span class="op" id="6610672">,</span>&nbsp;<span class="string" id="6610674">&#34;dabcex&#34;</span><span class="op" id="6610682">}</span><span class="op" id="6610683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610686">{</span><span class="string" id="6610687">&#34;^[a-c]*$&#34;</span><span class="op" id="6610697">,</span>&nbsp;<span class="string" id="6610699">&#34;x&#34;</span><span class="op" id="6610702">,</span>&nbsp;<span class="string" id="6610704">&#34;dabce&#34;</span><span class="op" id="6610711">,</span>&nbsp;<span class="string" id="6610713">&#34;dabce&#34;</span><span class="op" id="6610720">}</span><span class="op" id="6610721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610724">{</span><span class="string" id="6610725">&#34;^[a-c]*&#34;</span><span class="op" id="6610734">,</span>&nbsp;<span class="string" id="6610736">&#34;x&#34;</span><span class="op" id="6610739">,</span>&nbsp;<span class="string" id="6610741">&#34;&#34;</span><span class="op" id="6610743">,</span>&nbsp;<span class="string" id="6610745">&#34;x&#34;</span><span class="op" id="6610748">}</span><span class="op" id="6610749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610752">{</span><span class="string" id="6610753">&#34;[a-c]*$&#34;</span><span class="op" id="6610762">,</span>&nbsp;<span class="string" id="6610764">&#34;x&#34;</span><span class="op" id="6610767">,</span>&nbsp;<span class="string" id="6610769">&#34;&#34;</span><span class="op" id="6610771">,</span>&nbsp;<span class="string" id="6610773">&#34;x&#34;</span><span class="op" id="6610776">}</span><span class="op" id="6610777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610780">{</span><span class="string" id="6610781">&#34;^[a-c]*$&#34;</span><span class="op" id="6610791">,</span>&nbsp;<span class="string" id="6610793">&#34;x&#34;</span><span class="op" id="6610796">,</span>&nbsp;<span class="string" id="6610798">&#34;&#34;</span><span class="op" id="6610800">,</span>&nbsp;<span class="string" id="6610802">&#34;x&#34;</span><span class="op" id="6610805">}</span><span class="op" id="6610806">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610810">{</span><span class="string" id="6610811">&#34;^[a-c]+&#34;</span><span class="op" id="6610820">,</span>&nbsp;<span class="string" id="6610822">&#34;x&#34;</span><span class="op" id="6610825">,</span>&nbsp;<span class="string" id="6610827">&#34;abcdabc&#34;</span><span class="op" id="6610836">,</span>&nbsp;<span class="string" id="6610838">&#34;xdabc&#34;</span><span class="op" id="6610845">}</span><span class="op" id="6610846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610849">{</span><span class="string" id="6610850">&#34;[a-c]+$&#34;</span><span class="op" id="6610859">,</span>&nbsp;<span class="string" id="6610861">&#34;x&#34;</span><span class="op" id="6610864">,</span>&nbsp;<span class="string" id="6610866">&#34;abcdabc&#34;</span><span class="op" id="6610875">,</span>&nbsp;<span class="string" id="6610877">&#34;abcdx&#34;</span><span class="op" id="6610884">}</span><span class="op" id="6610885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610888">{</span><span class="string" id="6610889">&#34;^[a-c]+$&#34;</span><span class="op" id="6610899">,</span>&nbsp;<span class="string" id="6610901">&#34;x&#34;</span><span class="op" id="6610904">,</span>&nbsp;<span class="string" id="6610906">&#34;abcdabc&#34;</span><span class="op" id="6610915">,</span>&nbsp;<span class="string" id="6610917">&#34;abcdabc&#34;</span><span class="op" id="6610926">}</span><span class="op" id="6610927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610930">{</span><span class="string" id="6610931">&#34;^[a-c]+&#34;</span><span class="op" id="6610940">,</span>&nbsp;<span class="string" id="6610942">&#34;x&#34;</span><span class="op" id="6610945">,</span>&nbsp;<span class="string" id="6610947">&#34;abc&#34;</span><span class="op" id="6610952">,</span>&nbsp;<span class="string" id="6610954">&#34;x&#34;</span><span class="op" id="6610957">}</span><span class="op" id="6610958">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610961">{</span><span class="string" id="6610962">&#34;[a-c]+$&#34;</span><span class="op" id="6610971">,</span>&nbsp;<span class="string" id="6610973">&#34;x&#34;</span><span class="op" id="6610976">,</span>&nbsp;<span class="string" id="6610978">&#34;abc&#34;</span><span class="op" id="6610983">,</span>&nbsp;<span class="string" id="6610985">&#34;x&#34;</span><span class="op" id="6610988">}</span><span class="op" id="6610989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6610992">{</span><span class="string" id="6610993">&#34;^[a-c]+$&#34;</span><span class="op" id="6611003">,</span>&nbsp;<span class="string" id="6611005">&#34;x&#34;</span><span class="op" id="6611008">,</span>&nbsp;<span class="string" id="6611010">&#34;abc&#34;</span><span class="op" id="6611015">,</span>&nbsp;<span class="string" id="6611017">&#34;x&#34;</span><span class="op" id="6611020">}</span><span class="op" id="6611021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611024">{</span><span class="string" id="6611025">&#34;^[a-c]+&#34;</span><span class="op" id="6611034">,</span>&nbsp;<span class="string" id="6611036">&#34;x&#34;</span><span class="op" id="6611039">,</span>&nbsp;<span class="string" id="6611041">&#34;dabce&#34;</span><span class="op" id="6611048">,</span>&nbsp;<span class="string" id="6611050">&#34;dabce&#34;</span><span class="op" id="6611057">}</span><span class="op" id="6611058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611061">{</span><span class="string" id="6611062">&#34;[a-c]+$&#34;</span><span class="op" id="6611071">,</span>&nbsp;<span class="string" id="6611073">&#34;x&#34;</span><span class="op" id="6611076">,</span>&nbsp;<span class="string" id="6611078">&#34;dabce&#34;</span><span class="op" id="6611085">,</span>&nbsp;<span class="string" id="6611087">&#34;dabce&#34;</span><span class="op" id="6611094">}</span><span class="op" id="6611095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611098">{</span><span class="string" id="6611099">&#34;^[a-c]+$&#34;</span><span class="op" id="6611109">,</span>&nbsp;<span class="string" id="6611111">&#34;x&#34;</span><span class="op" id="6611114">,</span>&nbsp;<span class="string" id="6611116">&#34;dabce&#34;</span><span class="op" id="6611123">,</span>&nbsp;<span class="string" id="6611125">&#34;dabce&#34;</span><span class="op" id="6611132">}</span><span class="op" id="6611133">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611136">{</span><span class="string" id="6611137">&#34;^[a-c]+&#34;</span><span class="op" id="6611146">,</span>&nbsp;<span class="string" id="6611148">&#34;x&#34;</span><span class="op" id="6611151">,</span>&nbsp;<span class="string" id="6611153">&#34;&#34;</span><span class="op" id="6611155">,</span>&nbsp;<span class="string" id="6611157">&#34;&#34;</span><span class="op" id="6611159">}</span><span class="op" id="6611160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611163">{</span><span class="string" id="6611164">&#34;[a-c]+$&#34;</span><span class="op" id="6611173">,</span>&nbsp;<span class="string" id="6611175">&#34;x&#34;</span><span class="op" id="6611178">,</span>&nbsp;<span class="string" id="6611180">&#34;&#34;</span><span class="op" id="6611182">,</span>&nbsp;<span class="string" id="6611184">&#34;&#34;</span><span class="op" id="6611186">}</span><span class="op" id="6611187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611190">{</span><span class="string" id="6611191">&#34;^[a-c]+$&#34;</span><span class="op" id="6611201">,</span>&nbsp;<span class="string" id="6611203">&#34;x&#34;</span><span class="op" id="6611206">,</span>&nbsp;<span class="string" id="6611208">&#34;&#34;</span><span class="op" id="6611210">,</span>&nbsp;<span class="string" id="6611212">&#34;&#34;</span><span class="op" id="6611214">}</span><span class="op" id="6611215">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6611219">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611236">{</span><span class="string" id="6611237">&#34;abc&#34;</span><span class="op" id="6611242">,</span>&nbsp;<span class="string" id="6611244">&#34;def&#34;</span><span class="op" id="6611249">,</span>&nbsp;<span class="string" id="6611251">&#34;abcdefg&#34;</span><span class="op" id="6611260">,</span>&nbsp;<span class="string" id="6611262">&#34;defdefg&#34;</span><span class="op" id="6611271">}</span><span class="op" id="6611272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611275">{</span><span class="string" id="6611276">&#34;bc&#34;</span><span class="op" id="6611280">,</span>&nbsp;<span class="string" id="6611282">&#34;BC&#34;</span><span class="op" id="6611286">,</span>&nbsp;<span class="string" id="6611288">&#34;abcbcdcdedef&#34;</span><span class="op" id="6611302">,</span>&nbsp;<span class="string" id="6611304">&#34;aBCBCdcdedef&#34;</span><span class="op" id="6611318">}</span><span class="op" id="6611319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611322">{</span><span class="string" id="6611323">&#34;abc&#34;</span><span class="op" id="6611328">,</span>&nbsp;<span class="string" id="6611330">&#34;&#34;</span><span class="op" id="6611332">,</span>&nbsp;<span class="string" id="6611334">&#34;abcdabc&#34;</span><span class="op" id="6611343">,</span>&nbsp;<span class="string" id="6611345">&#34;d&#34;</span><span class="op" id="6611348">}</span><span class="op" id="6611349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611352">{</span><span class="string" id="6611353">&#34;x&#34;</span><span class="op" id="6611356">,</span>&nbsp;<span class="string" id="6611358">&#34;xXx&#34;</span><span class="op" id="6611363">,</span>&nbsp;<span class="string" id="6611365">&#34;xxxXxxx&#34;</span><span class="op" id="6611374">,</span>&nbsp;<span class="string" id="6611376">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="6611397">}</span><span class="op" id="6611398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611401">{</span><span class="string" id="6611402">&#34;abc&#34;</span><span class="op" id="6611407">,</span>&nbsp;<span class="string" id="6611409">&#34;d&#34;</span><span class="op" id="6611412">,</span>&nbsp;<span class="string" id="6611414">&#34;&#34;</span><span class="op" id="6611416">,</span>&nbsp;<span class="string" id="6611418">&#34;&#34;</span><span class="op" id="6611420">}</span><span class="op" id="6611421">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611424">{</span><span class="string" id="6611425">&#34;abc&#34;</span><span class="op" id="6611430">,</span>&nbsp;<span class="string" id="6611432">&#34;d&#34;</span><span class="op" id="6611435">,</span>&nbsp;<span class="string" id="6611437">&#34;abc&#34;</span><span class="op" id="6611442">,</span>&nbsp;<span class="string" id="6611444">&#34;d&#34;</span><span class="op" id="6611447">}</span><span class="op" id="6611448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611451">{</span><span class="string" id="6611452">&#34;.+&#34;</span><span class="op" id="6611456">,</span>&nbsp;<span class="string" id="6611458">&#34;x&#34;</span><span class="op" id="6611461">,</span>&nbsp;<span class="string" id="6611463">&#34;abc&#34;</span><span class="op" id="6611468">,</span>&nbsp;<span class="string" id="6611470">&#34;x&#34;</span><span class="op" id="6611473">}</span><span class="op" id="6611474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611477">{</span><span class="string" id="6611478">&#34;[a-c]*&#34;</span><span class="op" id="6611486">,</span>&nbsp;<span class="string" id="6611488">&#34;x&#34;</span><span class="op" id="6611491">,</span>&nbsp;<span class="string" id="6611493">&#34;def&#34;</span><span class="op" id="6611498">,</span>&nbsp;<span class="string" id="6611500">&#34;xdxexfx&#34;</span><span class="op" id="6611509">}</span><span class="op" id="6611510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611513">{</span><span class="string" id="6611514">&#34;[a-c]+&#34;</span><span class="op" id="6611522">,</span>&nbsp;<span class="string" id="6611524">&#34;x&#34;</span><span class="op" id="6611527">,</span>&nbsp;<span class="string" id="6611529">&#34;abcbcdcdedef&#34;</span><span class="op" id="6611543">,</span>&nbsp;<span class="string" id="6611545">&#34;xdxdedef&#34;</span><span class="op" id="6611555">}</span><span class="op" id="6611556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611559">{</span><span class="string" id="6611560">&#34;[a-c]*&#34;</span><span class="op" id="6611568">,</span>&nbsp;<span class="string" id="6611570">&#34;x&#34;</span><span class="op" id="6611573">,</span>&nbsp;<span class="string" id="6611575">&#34;abcbcdcdedef&#34;</span><span class="op" id="6611589">,</span>&nbsp;<span class="string" id="6611591">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="6611606">}</span><span class="op" id="6611607">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6611611">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611629">{</span><span class="string" id="6611630">&#34;a+&#34;</span><span class="op" id="6611634">,</span>&nbsp;<span class="string" id="6611636">&#34;($0)&#34;</span><span class="op" id="6611642">,</span>&nbsp;<span class="string" id="6611644">&#34;banana&#34;</span><span class="op" id="6611652">,</span>&nbsp;<span class="string" id="6611654">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="6611668">}</span><span class="op" id="6611669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611672">{</span><span class="string" id="6611673">&#34;a+&#34;</span><span class="op" id="6611677">,</span>&nbsp;<span class="string" id="6611679">&#34;(${0})&#34;</span><span class="op" id="6611687">,</span>&nbsp;<span class="string" id="6611689">&#34;banana&#34;</span><span class="op" id="6611697">,</span>&nbsp;<span class="string" id="6611699">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="6611713">}</span><span class="op" id="6611714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611717">{</span><span class="string" id="6611718">&#34;a+&#34;</span><span class="op" id="6611722">,</span>&nbsp;<span class="string" id="6611724">&#34;(${0})$0&#34;</span><span class="op" id="6611734">,</span>&nbsp;<span class="string" id="6611736">&#34;banana&#34;</span><span class="op" id="6611744">,</span>&nbsp;<span class="string" id="6611746">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="6611763">}</span><span class="op" id="6611764">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611767">{</span><span class="string" id="6611768">&#34;a+&#34;</span><span class="op" id="6611772">,</span>&nbsp;<span class="string" id="6611774">&#34;(${0})$0&#34;</span><span class="op" id="6611784">,</span>&nbsp;<span class="string" id="6611786">&#34;banana&#34;</span><span class="op" id="6611794">,</span>&nbsp;<span class="string" id="6611796">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="6611813">}</span><span class="op" id="6611814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611817">{</span><span class="string" id="6611818">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6611831">,</span>&nbsp;<span class="string" id="6611833">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6611848">,</span>&nbsp;<span class="string" id="6611850">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6611864">,</span>&nbsp;<span class="string" id="6611866">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6611882">}</span><span class="op" id="6611883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611886">{</span><span class="string" id="6611887">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6611900">,</span>&nbsp;<span class="string" id="6611902">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="6611916">,</span>&nbsp;<span class="string" id="6611918">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6611932">,</span>&nbsp;<span class="string" id="6611934">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="6611945">}</span><span class="op" id="6611946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6611949">{</span><span class="string" id="6611950">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6611963">,</span>&nbsp;<span class="string" id="6611965">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="6611981">,</span>&nbsp;<span class="string" id="6611983">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6611997">,</span>&nbsp;<span class="string" id="6611999">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="6612016">}</span><span class="op" id="6612017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612020">{</span><span class="string" id="6612021">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6612034">,</span>&nbsp;<span class="string" id="6612036">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="6612054">,</span>&nbsp;<span class="string" id="6612056">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6612070">,</span>&nbsp;<span class="string" id="6612072">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="6612099">}</span><span class="op" id="6612100">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612103">{</span><span class="string" id="6612104">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6612125">,</span>&nbsp;<span class="string" id="6612127">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6612144">,</span>&nbsp;<span class="string" id="6612146">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6612160">,</span>&nbsp;<span class="string" id="6612162">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="6612179">}</span><span class="op" id="6612180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612183">{</span><span class="string" id="6612184">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6612205">,</span>&nbsp;<span class="string" id="6612207">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6612225">,</span>&nbsp;<span class="string" id="6612227">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6612241">,</span>&nbsp;<span class="string" id="6612243">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6612259">}</span><span class="op" id="6612260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612263">{</span><span class="string" id="6612264">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6612286">,</span>&nbsp;<span class="string" id="6612288">&#34;$x$x$x&#34;</span><span class="op" id="6612296">,</span>&nbsp;<span class="string" id="6612298">&#34;hi&#34;</span><span class="op" id="6612302">,</span>&nbsp;<span class="string" id="6612304">&#34;hihihi&#34;</span><span class="op" id="6612312">}</span><span class="op" id="6612313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612316">{</span><span class="string" id="6612317">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6612339">,</span>&nbsp;<span class="string" id="6612341">&#34;$x$x$x&#34;</span><span class="op" id="6612349">,</span>&nbsp;<span class="string" id="6612351">&#34;bye&#34;</span><span class="op" id="6612356">,</span>&nbsp;<span class="string" id="6612358">&#34;byebyebye&#34;</span><span class="op" id="6612369">}</span><span class="op" id="6612370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612373">{</span><span class="string" id="6612374">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6612396">,</span>&nbsp;<span class="string" id="6612398">&#34;$xyz&#34;</span><span class="op" id="6612404">,</span>&nbsp;<span class="string" id="6612406">&#34;hi&#34;</span><span class="op" id="6612410">,</span>&nbsp;<span class="string" id="6612412">&#34;&#34;</span><span class="op" id="6612414">}</span><span class="op" id="6612415">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612418">{</span><span class="string" id="6612419">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6612441">,</span>&nbsp;<span class="string" id="6612443">&#34;${x}yz&#34;</span><span class="op" id="6612451">,</span>&nbsp;<span class="string" id="6612453">&#34;hi&#34;</span><span class="op" id="6612457">,</span>&nbsp;<span class="string" id="6612459">&#34;hiyz&#34;</span><span class="op" id="6612465">}</span><span class="op" id="6612466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612469">{</span><span class="string" id="6612470">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6612492">,</span>&nbsp;<span class="string" id="6612494">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6612505">,</span>&nbsp;<span class="string" id="6612507">&#34;hi&#34;</span><span class="op" id="6612511">,</span>&nbsp;<span class="string" id="6612513">&#34;hello&nbsp;$x&#34;</span><span class="op" id="6612523">}</span><span class="op" id="6612524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612527">{</span><span class="string" id="6612528">&#34;a+&#34;</span><span class="op" id="6612532">,</span>&nbsp;<span class="string" id="6612534">&#34;${oops&#34;</span><span class="op" id="6612542">,</span>&nbsp;<span class="string" id="6612544">&#34;aaa&#34;</span><span class="op" id="6612549">,</span>&nbsp;<span class="string" id="6612551">&#34;${oops&#34;</span><span class="op" id="6612559">}</span><span class="op" id="6612560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612563">{</span><span class="string" id="6612564">&#34;a+&#34;</span><span class="op" id="6612568">,</span>&nbsp;<span class="string" id="6612570">&#34;$$&#34;</span><span class="op" id="6612574">,</span>&nbsp;<span class="string" id="6612576">&#34;aaa&#34;</span><span class="op" id="6612581">,</span>&nbsp;<span class="string" id="6612583">&#34;$&#34;</span><span class="op" id="6612586">}</span><span class="op" id="6612587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612590">{</span><span class="string" id="6612591">&#34;a+&#34;</span><span class="op" id="6612595">,</span>&nbsp;<span class="string" id="6612597">&#34;$&#34;</span><span class="op" id="6612600">,</span>&nbsp;<span class="string" id="6612602">&#34;aaa&#34;</span><span class="op" id="6612607">,</span>&nbsp;<span class="string" id="6612609">&#34;$&#34;</span><span class="op" id="6612612">}</span><span class="op" id="6612613">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6612617">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612665">{</span><span class="string" id="6612666">&#34;(x)?&#34;</span><span class="op" id="6612672">,</span>&nbsp;<span class="string" id="6612674">&#34;$1&#34;</span><span class="op" id="6612678">,</span>&nbsp;<span class="string" id="6612680">&#34;123&#34;</span><span class="op" id="6612685">,</span>&nbsp;<span class="string" id="6612687">&#34;123&#34;</span><span class="op" id="6612692">}</span><span class="op" id="6612693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612696">{</span><span class="string" id="6612697">&#34;abc&#34;</span><span class="op" id="6612702">,</span>&nbsp;<span class="string" id="6612704">&#34;$1&#34;</span><span class="op" id="6612708">,</span>&nbsp;<span class="string" id="6612710">&#34;123&#34;</span><span class="op" id="6612715">,</span>&nbsp;<span class="string" id="6612717">&#34;123&#34;</span><span class="op" id="6612722">}</span><span class="op" id="6612723">,</span><br>
<span class="lineno"></span><span class="op" id="6612725">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="6612728">var</span>&nbsp;<span class="ident" id="6612732">replaceLiteralTests</span>&nbsp;<span class="op" id="6612752">=</span>&nbsp;<span class="op" id="6612754">[</span><span class="op" id="6612755">]</span><span class="ident" id="6612756">ReplaceTest</span><span class="op" id="6612767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6612770">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612788">{</span><span class="string" id="6612789">&#34;a+&#34;</span><span class="op" id="6612793">,</span>&nbsp;<span class="string" id="6612795">&#34;($0)&#34;</span><span class="op" id="6612801">,</span>&nbsp;<span class="string" id="6612803">&#34;banana&#34;</span><span class="op" id="6612811">,</span>&nbsp;<span class="string" id="6612813">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="6612830">}</span><span class="op" id="6612831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612834">{</span><span class="string" id="6612835">&#34;a+&#34;</span><span class="op" id="6612839">,</span>&nbsp;<span class="string" id="6612841">&#34;(${0})&#34;</span><span class="op" id="6612849">,</span>&nbsp;<span class="string" id="6612851">&#34;banana&#34;</span><span class="op" id="6612859">,</span>&nbsp;<span class="string" id="6612861">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="6612884">}</span><span class="op" id="6612885">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612888">{</span><span class="string" id="6612889">&#34;a+&#34;</span><span class="op" id="6612893">,</span>&nbsp;<span class="string" id="6612895">&#34;(${0})$0&#34;</span><span class="op" id="6612905">,</span>&nbsp;<span class="string" id="6612907">&#34;banana&#34;</span><span class="op" id="6612915">,</span>&nbsp;<span class="string" id="6612917">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="6612946">}</span><span class="op" id="6612947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6612950">{</span><span class="string" id="6612951">&#34;a+&#34;</span><span class="op" id="6612955">,</span>&nbsp;<span class="string" id="6612957">&#34;(${0})$0&#34;</span><span class="op" id="6612967">,</span>&nbsp;<span class="string" id="6612969">&#34;banana&#34;</span><span class="op" id="6612977">,</span>&nbsp;<span class="string" id="6612979">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="6613008">}</span><span class="op" id="6613009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613012">{</span><span class="string" id="6613013">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6613026">,</span>&nbsp;<span class="string" id="6613028">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6613043">,</span>&nbsp;<span class="string" id="6613045">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6613059">,</span>&nbsp;<span class="string" id="6613061">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6613076">}</span><span class="op" id="6613077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613080">{</span><span class="string" id="6613081">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6613102">,</span>&nbsp;<span class="string" id="6613104">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6613121">,</span>&nbsp;<span class="string" id="6613123">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6613137">,</span>&nbsp;<span class="string" id="6613139">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6613156">}</span><span class="op" id="6613157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613160">{</span><span class="string" id="6613161">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6613182">,</span>&nbsp;<span class="string" id="6613184">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6613202">,</span>&nbsp;<span class="string" id="6613204">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6613218">,</span>&nbsp;<span class="string" id="6613220">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6613238">}</span><span class="op" id="6613239">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613242">{</span><span class="string" id="6613243">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6613265">,</span>&nbsp;<span class="string" id="6613267">&#34;$x$x$x&#34;</span><span class="op" id="6613275">,</span>&nbsp;<span class="string" id="6613277">&#34;hi&#34;</span><span class="op" id="6613281">,</span>&nbsp;<span class="string" id="6613283">&#34;$x$x$x&#34;</span><span class="op" id="6613291">}</span><span class="op" id="6613292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613295">{</span><span class="string" id="6613296">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6613318">,</span>&nbsp;<span class="string" id="6613320">&#34;$x$x$x&#34;</span><span class="op" id="6613328">,</span>&nbsp;<span class="string" id="6613330">&#34;bye&#34;</span><span class="op" id="6613335">,</span>&nbsp;<span class="string" id="6613337">&#34;$x$x$x&#34;</span><span class="op" id="6613345">}</span><span class="op" id="6613346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613349">{</span><span class="string" id="6613350">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6613372">,</span>&nbsp;<span class="string" id="6613374">&#34;$xyz&#34;</span><span class="op" id="6613380">,</span>&nbsp;<span class="string" id="6613382">&#34;hi&#34;</span><span class="op" id="6613386">,</span>&nbsp;<span class="string" id="6613388">&#34;$xyz&#34;</span><span class="op" id="6613394">}</span><span class="op" id="6613395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613398">{</span><span class="string" id="6613399">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6613421">,</span>&nbsp;<span class="string" id="6613423">&#34;${x}yz&#34;</span><span class="op" id="6613431">,</span>&nbsp;<span class="string" id="6613433">&#34;hi&#34;</span><span class="op" id="6613437">,</span>&nbsp;<span class="string" id="6613439">&#34;${x}yz&#34;</span><span class="op" id="6613447">}</span><span class="op" id="6613448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613451">{</span><span class="string" id="6613452">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6613474">,</span>&nbsp;<span class="string" id="6613476">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6613487">,</span>&nbsp;<span class="string" id="6613489">&#34;hi&#34;</span><span class="op" id="6613493">,</span>&nbsp;<span class="string" id="6613495">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6613506">}</span><span class="op" id="6613507">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613510">{</span><span class="string" id="6613511">&#34;a+&#34;</span><span class="op" id="6613515">,</span>&nbsp;<span class="string" id="6613517">&#34;${oops&#34;</span><span class="op" id="6613525">,</span>&nbsp;<span class="string" id="6613527">&#34;aaa&#34;</span><span class="op" id="6613532">,</span>&nbsp;<span class="string" id="6613534">&#34;${oops&#34;</span><span class="op" id="6613542">}</span><span class="op" id="6613543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613546">{</span><span class="string" id="6613547">&#34;a+&#34;</span><span class="op" id="6613551">,</span>&nbsp;<span class="string" id="6613553">&#34;$$&#34;</span><span class="op" id="6613557">,</span>&nbsp;<span class="string" id="6613559">&#34;aaa&#34;</span><span class="op" id="6613564">,</span>&nbsp;<span class="string" id="6613566">&#34;$$&#34;</span><span class="op" id="6613570">}</span><span class="op" id="6613571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613574">{</span><span class="string" id="6613575">&#34;a+&#34;</span><span class="op" id="6613579">,</span>&nbsp;<span class="string" id="6613581">&#34;$&#34;</span><span class="op" id="6613584">,</span>&nbsp;<span class="string" id="6613586">&#34;aaa&#34;</span><span class="op" id="6613591">,</span>&nbsp;<span class="string" id="6613593">&#34;$&#34;</span><span class="op" id="6613596">}</span><span class="op" id="6613597">,</span><br>
<span class="lineno"></span><span class="op" id="6613599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="6613602">type</span>&nbsp;<span class="ident" id="6613607">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="6613623">struct</span>&nbsp;<span class="op" id="6613630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613633">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6613647">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613655">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="6613669">func</span><span class="op" id="6613673">(</span><span class="builtintype" id="6613674">string</span><span class="op" id="6613680">)</span>&nbsp;<span class="builtintype" id="6613682">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6613690">input</span><span class="op" id="6613695">,</span>&nbsp;<span class="ident" id="6613697">output</span>&nbsp;<span class="builtintype" id="6613704">string</span><br>
<span class="lineno"></span><span class="op" id="6613711">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="6613714">var</span>&nbsp;<span class="ident" id="6613718">replaceFuncTests</span>&nbsp;<span class="op" id="6613735">=</span>&nbsp;<span class="op" id="6613737">[</span><span class="op" id="6613738">]</span><span class="ident" id="6613739">ReplaceFuncTest</span><span class="op" id="6613754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613757">{</span><span class="string" id="6613758">&#34;[a-c]&#34;</span><span class="op" id="6613765">,</span>&nbsp;<span class="keyword" id="6613767">func</span><span class="op" id="6613771">(</span><span class="ident" id="6613772">s</span>&nbsp;<span class="builtintype" id="6613774">string</span><span class="op" id="6613780">)</span>&nbsp;<span class="builtintype" id="6613782">string</span>&nbsp;<span class="op" id="6613789">{</span>&nbsp;<span class="keyword" id="6613791">return</span>&nbsp;<span class="string" id="6613798">&#34;x&#34;</span>&nbsp;<span class="op" id="6613802">+</span>&nbsp;<span class="ident" id="6613804">s</span>&nbsp;<span class="op" id="6613806">+</span>&nbsp;<span class="string" id="6613808">&#34;y&#34;</span>&nbsp;<span class="op" id="6613812">}</span><span class="op" id="6613813">,</span>&nbsp;<span class="string" id="6613815">&#34;defabcdef&#34;</span><span class="op" id="6613826">,</span>&nbsp;<span class="string" id="6613828">&#34;defxayxbyxcydef&#34;</span><span class="op" id="6613845">}</span><span class="op" id="6613846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613849">{</span><span class="string" id="6613850">&#34;[a-c]+&#34;</span><span class="op" id="6613858">,</span>&nbsp;<span class="keyword" id="6613860">func</span><span class="op" id="6613864">(</span><span class="ident" id="6613865">s</span>&nbsp;<span class="builtintype" id="6613867">string</span><span class="op" id="6613873">)</span>&nbsp;<span class="builtintype" id="6613875">string</span>&nbsp;<span class="op" id="6613882">{</span>&nbsp;<span class="keyword" id="6613884">return</span>&nbsp;<span class="string" id="6613891">&#34;x&#34;</span>&nbsp;<span class="op" id="6613895">+</span>&nbsp;<span class="ident" id="6613897">s</span>&nbsp;<span class="op" id="6613899">+</span>&nbsp;<span class="string" id="6613901">&#34;y&#34;</span>&nbsp;<span class="op" id="6613905">}</span><span class="op" id="6613906">,</span>&nbsp;<span class="string" id="6613908">&#34;defabcdef&#34;</span><span class="op" id="6613919">,</span>&nbsp;<span class="string" id="6613921">&#34;defxabcydef&#34;</span><span class="op" id="6613934">}</span><span class="op" id="6613935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6613938">{</span><span class="string" id="6613939">&#34;[a-c]*&#34;</span><span class="op" id="6613947">,</span>&nbsp;<span class="keyword" id="6613949">func</span><span class="op" id="6613953">(</span><span class="ident" id="6613954">s</span>&nbsp;<span class="builtintype" id="6613956">string</span><span class="op" id="6613962">)</span>&nbsp;<span class="builtintype" id="6613964">string</span>&nbsp;<span class="op" id="6613971">{</span>&nbsp;<span class="keyword" id="6613973">return</span>&nbsp;<span class="string" id="6613980">&#34;x&#34;</span>&nbsp;<span class="op" id="6613984">+</span>&nbsp;<span class="ident" id="6613986">s</span>&nbsp;<span class="op" id="6613988">+</span>&nbsp;<span class="string" id="6613990">&#34;y&#34;</span>&nbsp;<span class="op" id="6613994">}</span><span class="op" id="6613995">,</span>&nbsp;<span class="string" id="6613997">&#34;defabcdef&#34;</span><span class="op" id="6614008">,</span>&nbsp;<span class="string" id="6614010">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="6614035">}</span><span class="op" id="6614036">,</span><br>
<span class="lineno">235</span><span class="op" id="6614038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6614041">func</span>&nbsp;<span class="ident" id="6614046">TestReplaceAll</span><span class="op" id="6614060">(</span><span class="ident" id="6614061">t</span>&nbsp;<span class="op" id="6614063">*</span><span class="ident" id="6614064">testing</span><span class="op" id="6614071">.</span><span class="ident" id="6614072">T</span><span class="op" id="6614073">)</span>&nbsp;<span class="op" id="6614075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614078">for</span>&nbsp;<span class="ident" id="6614082">_</span><span class="op" id="6614083">,</span>&nbsp;<span class="ident" id="6614085">tc</span>&nbsp;<span class="op" id="6614088">:=</span>&nbsp;<span class="keyword" id="6614091">range</span>&nbsp;<span class="ident" id="6614097">replaceTests</span>&nbsp;<span class="op" id="6614110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614114">re</span><span class="op" id="6614116">,</span>&nbsp;<span class="ident" id="6614118">err</span>&nbsp;<span class="op" id="6614122">:=</span>&nbsp;<span class="ident" id="6614125">Compile</span><span class="op" id="6614132">(</span><span class="ident" id="6614133">tc</span><span class="op" id="6614135">.</span><span class="ident" id="6614136">pattern</span><span class="op" id="6614143">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614147">if</span>&nbsp;<span class="ident" id="6614150">err</span>&nbsp;<span class="op" id="6614154">!=</span>&nbsp;<span class="ident" id="6614157">nil</span>&nbsp;<span class="op" id="6614161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614166">t</span><span class="op" id="6614167">.</span><span class="ident" id="6614168">Errorf</span><span class="op" id="6614174">(</span><span class="string" id="6614175">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6614210">,</span>&nbsp;<span class="ident" id="6614212">tc</span><span class="op" id="6614214">.</span><span class="ident" id="6614215">pattern</span><span class="op" id="6614222">,</span>&nbsp;<span class="ident" id="6614224">err</span><span class="op" id="6614227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614232">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614247">actual</span>&nbsp;<span class="op" id="6614254">:=</span>&nbsp;<span class="ident" id="6614257">re</span><span class="op" id="6614259">.</span><span class="ident" id="6614260">ReplaceAllString</span><span class="op" id="6614276">(</span><span class="ident" id="6614277">tc</span><span class="op" id="6614279">.</span><span class="ident" id="6614280">input</span><span class="op" id="6614285">,</span>&nbsp;<span class="ident" id="6614287">tc</span><span class="op" id="6614289">.</span><span class="ident" id="6614290">replacement</span><span class="op" id="6614301">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614305">if</span>&nbsp;<span class="ident" id="6614308">actual</span>&nbsp;<span class="op" id="6614315">!=</span>&nbsp;<span class="ident" id="6614318">tc</span><span class="op" id="6614320">.</span><span class="ident" id="6614321">output</span>&nbsp;<span class="op" id="6614328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614333">t</span><span class="op" id="6614334">.</span><span class="ident" id="6614335">Errorf</span><span class="op" id="6614341">(</span><span class="string" id="6614342">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6614384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614390">tc</span><span class="op" id="6614392">.</span><span class="ident" id="6614393">pattern</span><span class="op" id="6614400">,</span>&nbsp;<span class="ident" id="6614402">tc</span><span class="op" id="6614404">.</span><span class="ident" id="6614405">input</span><span class="op" id="6614410">,</span>&nbsp;<span class="ident" id="6614412">tc</span><span class="op" id="6614414">.</span><span class="ident" id="6614415">replacement</span><span class="op" id="6614426">,</span>&nbsp;<span class="ident" id="6614428">actual</span><span class="op" id="6614434">,</span>&nbsp;<span class="ident" id="6614436">tc</span><span class="op" id="6614438">.</span><span class="ident" id="6614439">output</span><span class="op" id="6614445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6614453">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614472">actual</span>&nbsp;<span class="op" id="6614479">=</span>&nbsp;<span class="builtintype" id="6614481">string</span><span class="op" id="6614487">(</span><span class="ident" id="6614488">re</span><span class="op" id="6614490">.</span><span class="ident" id="6614491">ReplaceAll</span><span class="op" id="6614501">(</span><span class="op" id="6614502">[</span><span class="op" id="6614503">]</span><span class="builtintype" id="6614504">byte</span><span class="op" id="6614508">(</span><span class="ident" id="6614509">tc</span><span class="op" id="6614511">.</span><span class="ident" id="6614512">input</span><span class="op" id="6614517">)</span><span class="op" id="6614518">,</span>&nbsp;<span class="op" id="6614520">[</span><span class="op" id="6614521">]</span><span class="builtintype" id="6614522">byte</span><span class="op" id="6614526">(</span><span class="ident" id="6614527">tc</span><span class="op" id="6614529">.</span><span class="ident" id="6614530">replacement</span><span class="op" id="6614541">)</span><span class="op" id="6614542">)</span><span class="op" id="6614543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614547">if</span>&nbsp;<span class="ident" id="6614550">actual</span>&nbsp;<span class="op" id="6614557">!=</span>&nbsp;<span class="ident" id="6614560">tc</span><span class="op" id="6614562">.</span><span class="ident" id="6614563">output</span>&nbsp;<span class="op" id="6614570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614575">t</span><span class="op" id="6614576">.</span><span class="ident" id="6614577">Errorf</span><span class="op" id="6614583">(</span><span class="string" id="6614584">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6614620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614626">tc</span><span class="op" id="6614628">.</span><span class="ident" id="6614629">pattern</span><span class="op" id="6614636">,</span>&nbsp;<span class="ident" id="6614638">tc</span><span class="op" id="6614640">.</span><span class="ident" id="6614641">input</span><span class="op" id="6614646">,</span>&nbsp;<span class="ident" id="6614648">tc</span><span class="op" id="6614650">.</span><span class="ident" id="6614651">replacement</span><span class="op" id="6614662">,</span>&nbsp;<span class="ident" id="6614664">actual</span><span class="op" id="6614670">,</span>&nbsp;<span class="ident" id="6614672">tc</span><span class="op" id="6614674">.</span><span class="ident" id="6614675">output</span><span class="op" id="6614681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614685">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614688">}</span><br>
<span class="lineno"></span><span class="op" id="6614690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6614693">func</span>&nbsp;<span class="ident" id="6614698">TestReplaceAllLiteral</span><span class="op" id="6614719">(</span><span class="ident" id="6614720">t</span>&nbsp;<span class="op" id="6614722">*</span><span class="ident" id="6614723">testing</span><span class="op" id="6614730">.</span><span class="ident" id="6614731">T</span><span class="op" id="6614732">)</span>&nbsp;<span class="op" id="6614734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6614737">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614793">for</span>&nbsp;<span class="ident" id="6614797">_</span><span class="op" id="6614798">,</span>&nbsp;<span class="ident" id="6614800">tc</span>&nbsp;<span class="op" id="6614803">:=</span>&nbsp;<span class="keyword" id="6614806">range</span>&nbsp;<span class="ident" id="6614812">replaceTests</span>&nbsp;<span class="op" id="6614825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614829">if</span>&nbsp;<span class="ident" id="6614832">strings</span><span class="op" id="6614839">.</span><span class="ident" id="6614840">Contains</span><span class="op" id="6614848">(</span><span class="ident" id="6614849">tc</span><span class="op" id="6614851">.</span><span class="ident" id="6614852">replacement</span><span class="op" id="6614863">,</span>&nbsp;<span class="string" id="6614865">&#34;$&#34;</span><span class="op" id="6614868">)</span>&nbsp;<span class="op" id="6614870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614875">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6614886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614890">re</span><span class="op" id="6614892">,</span>&nbsp;<span class="ident" id="6614894">err</span>&nbsp;<span class="op" id="6614898">:=</span>&nbsp;<span class="ident" id="6614901">Compile</span><span class="op" id="6614908">(</span><span class="ident" id="6614909">tc</span><span class="op" id="6614911">.</span><span class="ident" id="6614912">pattern</span><span class="op" id="6614919">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6614923">if</span>&nbsp;<span class="ident" id="6614926">err</span>&nbsp;<span class="op" id="6614930">!=</span>&nbsp;<span class="ident" id="6614933">nil</span>&nbsp;<span class="op" id="6614937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6614942">t</span><span class="op" id="6614943">.</span><span class="ident" id="6614944">Errorf</span><span class="op" id="6614950">(</span><span class="string" id="6614951">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6614986">,</span>&nbsp;<span class="ident" id="6614988">tc</span><span class="op" id="6614990">.</span><span class="ident" id="6614991">pattern</span><span class="op" id="6614998">,</span>&nbsp;<span class="ident" id="6615000">err</span><span class="op" id="6615003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615008">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615023">actual</span>&nbsp;<span class="op" id="6615030">:=</span>&nbsp;<span class="ident" id="6615033">re</span><span class="op" id="6615035">.</span><span class="ident" id="6615036">ReplaceAllLiteralString</span><span class="op" id="6615059">(</span><span class="ident" id="6615060">tc</span><span class="op" id="6615062">.</span><span class="ident" id="6615063">input</span><span class="op" id="6615068">,</span>&nbsp;<span class="ident" id="6615070">tc</span><span class="op" id="6615072">.</span><span class="ident" id="6615073">replacement</span><span class="op" id="6615084">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615088">if</span>&nbsp;<span class="ident" id="6615091">actual</span>&nbsp;<span class="op" id="6615098">!=</span>&nbsp;<span class="ident" id="6615101">tc</span><span class="op" id="6615103">.</span><span class="ident" id="6615104">output</span>&nbsp;<span class="op" id="6615111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615116">t</span><span class="op" id="6615117">.</span><span class="ident" id="6615118">Errorf</span><span class="op" id="6615124">(</span><span class="string" id="6615125">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6615174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615180">tc</span><span class="op" id="6615182">.</span><span class="ident" id="6615183">pattern</span><span class="op" id="6615190">,</span>&nbsp;<span class="ident" id="6615192">tc</span><span class="op" id="6615194">.</span><span class="ident" id="6615195">input</span><span class="op" id="6615200">,</span>&nbsp;<span class="ident" id="6615202">tc</span><span class="op" id="6615204">.</span><span class="ident" id="6615205">replacement</span><span class="op" id="6615216">,</span>&nbsp;<span class="ident" id="6615218">actual</span><span class="op" id="6615224">,</span>&nbsp;<span class="ident" id="6615226">tc</span><span class="op" id="6615228">.</span><span class="ident" id="6615229">output</span><span class="op" id="6615235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6615243">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615262">actual</span>&nbsp;<span class="op" id="6615269">=</span>&nbsp;<span class="builtintype" id="6615271">string</span><span class="op" id="6615277">(</span><span class="ident" id="6615278">re</span><span class="op" id="6615280">.</span><span class="ident" id="6615281">ReplaceAllLiteral</span><span class="op" id="6615298">(</span><span class="op" id="6615299">[</span><span class="op" id="6615300">]</span><span class="builtintype" id="6615301">byte</span><span class="op" id="6615305">(</span><span class="ident" id="6615306">tc</span><span class="op" id="6615308">.</span><span class="ident" id="6615309">input</span><span class="op" id="6615314">)</span><span class="op" id="6615315">,</span>&nbsp;<span class="op" id="6615317">[</span><span class="op" id="6615318">]</span><span class="builtintype" id="6615319">byte</span><span class="op" id="6615323">(</span><span class="ident" id="6615324">tc</span><span class="op" id="6615326">.</span><span class="ident" id="6615327">replacement</span><span class="op" id="6615338">)</span><span class="op" id="6615339">)</span><span class="op" id="6615340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615344">if</span>&nbsp;<span class="ident" id="6615347">actual</span>&nbsp;<span class="op" id="6615354">!=</span>&nbsp;<span class="ident" id="6615357">tc</span><span class="op" id="6615359">.</span><span class="ident" id="6615360">output</span>&nbsp;<span class="op" id="6615367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615372">t</span><span class="op" id="6615373">.</span><span class="ident" id="6615374">Errorf</span><span class="op" id="6615380">(</span><span class="string" id="6615381">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6615424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615430">tc</span><span class="op" id="6615432">.</span><span class="ident" id="6615433">pattern</span><span class="op" id="6615440">,</span>&nbsp;<span class="ident" id="6615442">tc</span><span class="op" id="6615444">.</span><span class="ident" id="6615445">input</span><span class="op" id="6615450">,</span>&nbsp;<span class="ident" id="6615452">tc</span><span class="op" id="6615454">.</span><span class="ident" id="6615455">replacement</span><span class="op" id="6615466">,</span>&nbsp;<span class="ident" id="6615468">actual</span><span class="op" id="6615474">,</span>&nbsp;<span class="ident" id="6615476">tc</span><span class="op" id="6615478">.</span><span class="ident" id="6615479">output</span><span class="op" id="6615485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615489">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6615496">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615528">for</span>&nbsp;<span class="ident" id="6615532">_</span><span class="op" id="6615533">,</span>&nbsp;<span class="ident" id="6615535">tc</span>&nbsp;<span class="op" id="6615538">:=</span>&nbsp;<span class="keyword" id="6615541">range</span>&nbsp;<span class="ident" id="6615547">replaceLiteralTests</span>&nbsp;<span class="op" id="6615567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615571">re</span><span class="op" id="6615573">,</span>&nbsp;<span class="ident" id="6615575">err</span>&nbsp;<span class="op" id="6615579">:=</span>&nbsp;<span class="ident" id="6615582">Compile</span><span class="op" id="6615589">(</span><span class="ident" id="6615590">tc</span><span class="op" id="6615592">.</span><span class="ident" id="6615593">pattern</span><span class="op" id="6615600">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615604">if</span>&nbsp;<span class="ident" id="6615607">err</span>&nbsp;<span class="op" id="6615611">!=</span>&nbsp;<span class="ident" id="6615614">nil</span>&nbsp;<span class="op" id="6615618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615623">t</span><span class="op" id="6615624">.</span><span class="ident" id="6615625">Errorf</span><span class="op" id="6615631">(</span><span class="string" id="6615632">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6615667">,</span>&nbsp;<span class="ident" id="6615669">tc</span><span class="op" id="6615671">.</span><span class="ident" id="6615672">pattern</span><span class="op" id="6615679">,</span>&nbsp;<span class="ident" id="6615681">err</span><span class="op" id="6615684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615689">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615704">actual</span>&nbsp;<span class="op" id="6615711">:=</span>&nbsp;<span class="ident" id="6615714">re</span><span class="op" id="6615716">.</span><span class="ident" id="6615717">ReplaceAllLiteralString</span><span class="op" id="6615740">(</span><span class="ident" id="6615741">tc</span><span class="op" id="6615743">.</span><span class="ident" id="6615744">input</span><span class="op" id="6615749">,</span>&nbsp;<span class="ident" id="6615751">tc</span><span class="op" id="6615753">.</span><span class="ident" id="6615754">replacement</span><span class="op" id="6615765">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6615769">if</span>&nbsp;<span class="ident" id="6615772">actual</span>&nbsp;<span class="op" id="6615779">!=</span>&nbsp;<span class="ident" id="6615782">tc</span><span class="op" id="6615784">.</span><span class="ident" id="6615785">output</span>&nbsp;<span class="op" id="6615792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615797">t</span><span class="op" id="6615798">.</span><span class="ident" id="6615799">Errorf</span><span class="op" id="6615805">(</span><span class="string" id="6615806">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6615855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615861">tc</span><span class="op" id="6615863">.</span><span class="ident" id="6615864">pattern</span><span class="op" id="6615871">,</span>&nbsp;<span class="ident" id="6615873">tc</span><span class="op" id="6615875">.</span><span class="ident" id="6615876">input</span><span class="op" id="6615881">,</span>&nbsp;<span class="ident" id="6615883">tc</span><span class="op" id="6615885">.</span><span class="ident" id="6615886">replacement</span><span class="op" id="6615897">,</span>&nbsp;<span class="ident" id="6615899">actual</span><span class="op" id="6615905">,</span>&nbsp;<span class="ident" id="6615907">tc</span><span class="op" id="6615909">.</span><span class="ident" id="6615910">output</span><span class="op" id="6615916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6615920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6615924">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6615943">actual</span>&nbsp;<span class="op" id="6615950">=</span>&nbsp;<span class="builtintype" id="6615952">string</span><span class="op" id="6615958">(</span><span class="ident" id="6615959">re</span><span class="op" id="6615961">.</span><span class="ident" id="6615962">ReplaceAllLiteral</span><span class="op" id="6615979">(</span><span class="op" id="6615980">[</span><span class="op" id="6615981">]</span><span class="builtintype" id="6615982">byte</span><span class="op" id="6615986">(</span><span class="ident" id="6615987">tc</span><span class="op" id="6615989">.</span><span class="ident" id="6615990">input</span><span class="op" id="6615995">)</span><span class="op" id="6615996">,</span>&nbsp;<span class="op" id="6615998">[</span><span class="op" id="6615999">]</span><span class="builtintype" id="6616000">byte</span><span class="op" id="6616004">(</span><span class="ident" id="6616005">tc</span><span class="op" id="6616007">.</span><span class="ident" id="6616008">replacement</span><span class="op" id="6616019">)</span><span class="op" id="6616020">)</span><span class="op" id="6616021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616025">if</span>&nbsp;<span class="ident" id="6616028">actual</span>&nbsp;<span class="op" id="6616035">!=</span>&nbsp;<span class="ident" id="6616038">tc</span><span class="op" id="6616040">.</span><span class="ident" id="6616041">output</span>&nbsp;<span class="op" id="6616048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616053">t</span><span class="op" id="6616054">.</span><span class="ident" id="6616055">Errorf</span><span class="op" id="6616061">(</span><span class="string" id="6616062">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6616105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616111">tc</span><span class="op" id="6616113">.</span><span class="ident" id="6616114">pattern</span><span class="op" id="6616121">,</span>&nbsp;<span class="ident" id="6616123">tc</span><span class="op" id="6616125">.</span><span class="ident" id="6616126">input</span><span class="op" id="6616131">,</span>&nbsp;<span class="ident" id="6616133">tc</span><span class="op" id="6616135">.</span><span class="ident" id="6616136">replacement</span><span class="op" id="6616147">,</span>&nbsp;<span class="ident" id="6616149">actual</span><span class="op" id="6616155">,</span>&nbsp;<span class="ident" id="6616157">tc</span><span class="op" id="6616159">.</span><span class="ident" id="6616160">output</span><span class="op" id="6616166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616170">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616173">}</span><br>
<span class="lineno"></span><span class="op" id="6616175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6616178">func</span>&nbsp;<span class="ident" id="6616183">TestReplaceAllFunc</span><span class="op" id="6616201">(</span><span class="ident" id="6616202">t</span>&nbsp;<span class="op" id="6616204">*</span><span class="ident" id="6616205">testing</span><span class="op" id="6616212">.</span><span class="ident" id="6616213">T</span><span class="op" id="6616214">)</span>&nbsp;<span class="op" id="6616216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616219">for</span>&nbsp;<span class="ident" id="6616223">_</span><span class="op" id="6616224">,</span>&nbsp;<span class="ident" id="6616226">tc</span>&nbsp;<span class="op" id="6616229">:=</span>&nbsp;<span class="keyword" id="6616232">range</span>&nbsp;<span class="ident" id="6616238">replaceFuncTests</span>&nbsp;<span class="op" id="6616255">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616259">re</span><span class="op" id="6616261">,</span>&nbsp;<span class="ident" id="6616263">err</span>&nbsp;<span class="op" id="6616267">:=</span>&nbsp;<span class="ident" id="6616270">Compile</span><span class="op" id="6616277">(</span><span class="ident" id="6616278">tc</span><span class="op" id="6616280">.</span><span class="ident" id="6616281">pattern</span><span class="op" id="6616288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616292">if</span>&nbsp;<span class="ident" id="6616295">err</span>&nbsp;<span class="op" id="6616299">!=</span>&nbsp;<span class="ident" id="6616302">nil</span>&nbsp;<span class="op" id="6616306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616311">t</span><span class="op" id="6616312">.</span><span class="ident" id="6616313">Errorf</span><span class="op" id="6616319">(</span><span class="string" id="6616320">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6616355">,</span>&nbsp;<span class="ident" id="6616357">tc</span><span class="op" id="6616359">.</span><span class="ident" id="6616360">pattern</span><span class="op" id="6616367">,</span>&nbsp;<span class="ident" id="6616369">err</span><span class="op" id="6616372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616377">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616388">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616392">actual</span>&nbsp;<span class="op" id="6616399">:=</span>&nbsp;<span class="ident" id="6616402">re</span><span class="op" id="6616404">.</span><span class="ident" id="6616405">ReplaceAllStringFunc</span><span class="op" id="6616425">(</span><span class="ident" id="6616426">tc</span><span class="op" id="6616428">.</span><span class="ident" id="6616429">input</span><span class="op" id="6616434">,</span>&nbsp;<span class="ident" id="6616436">tc</span><span class="op" id="6616438">.</span><span class="ident" id="6616439">replacement</span><span class="op" id="6616450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616454">if</span>&nbsp;<span class="ident" id="6616457">actual</span>&nbsp;<span class="op" id="6616464">!=</span>&nbsp;<span class="ident" id="6616467">tc</span><span class="op" id="6616469">.</span><span class="ident" id="6616470">output</span>&nbsp;<span class="op" id="6616477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616482">t</span><span class="op" id="6616483">.</span><span class="ident" id="6616484">Errorf</span><span class="op" id="6616490">(</span><span class="string" id="6616491">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6616528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616534">tc</span><span class="op" id="6616536">.</span><span class="ident" id="6616537">pattern</span><span class="op" id="6616544">,</span>&nbsp;<span class="ident" id="6616546">tc</span><span class="op" id="6616548">.</span><span class="ident" id="6616549">input</span><span class="op" id="6616554">,</span>&nbsp;<span class="ident" id="6616556">actual</span><span class="op" id="6616562">,</span>&nbsp;<span class="ident" id="6616564">tc</span><span class="op" id="6616566">.</span><span class="ident" id="6616567">output</span><span class="op" id="6616573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616577">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6616581">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616600">actual</span>&nbsp;<span class="op" id="6616607">=</span>&nbsp;<span class="builtintype" id="6616609">string</span><span class="op" id="6616615">(</span><span class="ident" id="6616616">re</span><span class="op" id="6616618">.</span><span class="ident" id="6616619">ReplaceAllFunc</span><span class="op" id="6616633">(</span><span class="op" id="6616634">[</span><span class="op" id="6616635">]</span><span class="builtintype" id="6616636">byte</span><span class="op" id="6616640">(</span><span class="ident" id="6616641">tc</span><span class="op" id="6616643">.</span><span class="ident" id="6616644">input</span><span class="op" id="6616649">)</span><span class="op" id="6616650">,</span>&nbsp;<span class="keyword" id="6616652">func</span><span class="op" id="6616656">(</span><span class="ident" id="6616657">s</span>&nbsp;<span class="op" id="6616659">[</span><span class="op" id="6616660">]</span><span class="builtintype" id="6616661">byte</span><span class="op" id="6616665">)</span>&nbsp;<span class="op" id="6616667">[</span><span class="op" id="6616668">]</span><span class="builtintype" id="6616669">byte</span>&nbsp;<span class="op" id="6616674">{</span>&nbsp;<span class="keyword" id="6616676">return</span>&nbsp;<span class="op" id="6616683">[</span><span class="op" id="6616684">]</span><span class="builtintype" id="6616685">byte</span><span class="op" id="6616689">(</span><span class="ident" id="6616690">tc</span><span class="op" id="6616692">.</span><span class="ident" id="6616693">replacement</span><span class="op" id="6616704">(</span><span class="builtintype" id="6616705">string</span><span class="op" id="6616711">(</span><span class="ident" id="6616712">s</span><span class="op" id="6616713">)</span><span class="op" id="6616714">)</span><span class="op" id="6616715">)</span>&nbsp;<span class="op" id="6616717">}</span><span class="op" id="6616718">)</span><span class="op" id="6616719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6616723">if</span>&nbsp;<span class="ident" id="6616726">actual</span>&nbsp;<span class="op" id="6616733">!=</span>&nbsp;<span class="ident" id="6616736">tc</span><span class="op" id="6616738">.</span><span class="ident" id="6616739">output</span>&nbsp;<span class="op" id="6616746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616751">t</span><span class="op" id="6616752">.</span><span class="ident" id="6616753">Errorf</span><span class="op" id="6616759">(</span><span class="string" id="6616760">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6616797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616803">tc</span><span class="op" id="6616805">.</span><span class="ident" id="6616806">pattern</span><span class="op" id="6616813">,</span>&nbsp;<span class="ident" id="6616815">tc</span><span class="op" id="6616817">.</span><span class="ident" id="6616818">input</span><span class="op" id="6616823">,</span>&nbsp;<span class="ident" id="6616825">actual</span><span class="op" id="6616831">,</span>&nbsp;<span class="ident" id="6616833">tc</span><span class="op" id="6616835">.</span><span class="ident" id="6616836">output</span><span class="op" id="6616842">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616849">}</span><br>
<span class="lineno"></span><span class="op" id="6616851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6616854">type</span>&nbsp;<span class="ident" id="6616859">MetaTest</span>&nbsp;<span class="keyword" id="6616868">struct</span>&nbsp;<span class="op" id="6616875">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616878">pattern</span><span class="op" id="6616885">,</span>&nbsp;<span class="ident" id="6616887">output</span><span class="op" id="6616893">,</span>&nbsp;<span class="ident" id="6616895">literal</span>&nbsp;<span class="builtintype" id="6616903">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6616911">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6616936">bool</span><br>
<span class="lineno"></span><span class="op" id="6616941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6616944">var</span>&nbsp;<span class="ident" id="6616948">metaTests</span>&nbsp;<span class="op" id="6616958">=</span>&nbsp;<span class="op" id="6616960">[</span><span class="op" id="6616961">]</span><span class="ident" id="6616962">MetaTest</span><span class="op" id="6616970">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616973">{</span><span class="string" id="6616974">``</span><span class="op" id="6616976">,</span>&nbsp;<span class="string" id="6616978">``</span><span class="op" id="6616980">,</span>&nbsp;<span class="string" id="6616982">``</span><span class="op" id="6616984">,</span>&nbsp;<span class="builtintype" id="6616986">true</span><span class="op" id="6616990">}</span><span class="op" id="6616991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6616994">{</span><span class="string" id="6616995">`foo`</span><span class="op" id="6617000">,</span>&nbsp;<span class="string" id="6617002">`foo`</span><span class="op" id="6617007">,</span>&nbsp;<span class="string" id="6617009">`foo`</span><span class="op" id="6617014">,</span>&nbsp;<span class="builtintype" id="6617016">true</span><span class="op" id="6617020">}</span><span class="op" id="6617021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617024">{</span><span class="string" id="6617025">`foo\.\$`</span><span class="op" id="6617034">,</span>&nbsp;<span class="string" id="6617036">`foo\\\.\\\$`</span><span class="op" id="6617049">,</span>&nbsp;<span class="string" id="6617051">`foo.$`</span><span class="op" id="6617058">,</span>&nbsp;<span class="builtintype" id="6617060">true</span><span class="op" id="6617064">}</span><span class="op" id="6617065">,</span>&nbsp;<span class="comment" id="6617067">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617096">{</span><span class="string" id="6617097">`foo.\$`</span><span class="op" id="6617105">,</span>&nbsp;<span class="string" id="6617107">`foo\.\\\$`</span><span class="op" id="6617118">,</span>&nbsp;<span class="string" id="6617120">`foo`</span><span class="op" id="6617125">,</span>&nbsp;<span class="builtintype" id="6617127">false</span><span class="op" id="6617132">}</span><span class="op" id="6617133">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6617139">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617184">{</span><span class="string" id="6617185">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="6617214">,</span>&nbsp;<span class="string" id="6617216">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="6617259">,</span>&nbsp;<span class="string" id="6617261">`!@#`</span><span class="op" id="6617266">,</span>&nbsp;<span class="builtintype" id="6617268">false</span><span class="op" id="6617273">}</span><span class="op" id="6617274">,</span><br>
<span class="lineno">335</span><span class="op" id="6617276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6617279">func</span>&nbsp;<span class="ident" id="6617284">TestQuoteMeta</span><span class="op" id="6617297">(</span><span class="ident" id="6617298">t</span>&nbsp;<span class="op" id="6617300">*</span><span class="ident" id="6617301">testing</span><span class="op" id="6617308">.</span><span class="ident" id="6617309">T</span><span class="op" id="6617310">)</span>&nbsp;<span class="op" id="6617312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617315">for</span>&nbsp;<span class="ident" id="6617319">_</span><span class="op" id="6617320">,</span>&nbsp;<span class="ident" id="6617322">tc</span>&nbsp;<span class="op" id="6617325">:=</span>&nbsp;<span class="keyword" id="6617328">range</span>&nbsp;<span class="ident" id="6617334">metaTests</span>&nbsp;<span class="op" id="6617344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6617348">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617404">quoted</span>&nbsp;<span class="op" id="6617411">:=</span>&nbsp;<span class="ident" id="6617414">QuoteMeta</span><span class="op" id="6617423">(</span><span class="ident" id="6617424">tc</span><span class="op" id="6617426">.</span><span class="ident" id="6617427">pattern</span><span class="op" id="6617434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617438">if</span>&nbsp;<span class="ident" id="6617441">quoted</span>&nbsp;<span class="op" id="6617448">!=</span>&nbsp;<span class="ident" id="6617451">tc</span><span class="op" id="6617453">.</span><span class="ident" id="6617454">output</span>&nbsp;<span class="op" id="6617461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617466">t</span><span class="op" id="6617467">.</span><span class="ident" id="6617468">Errorf</span><span class="op" id="6617474">(</span><span class="string" id="6617475">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6617510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617516">tc</span><span class="op" id="6617518">.</span><span class="ident" id="6617519">pattern</span><span class="op" id="6617526">,</span>&nbsp;<span class="ident" id="6617528">quoted</span><span class="op" id="6617534">,</span>&nbsp;<span class="ident" id="6617536">tc</span><span class="op" id="6617538">.</span><span class="ident" id="6617539">output</span><span class="op" id="6617545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617550">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6617566">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6617632">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617703">if</span>&nbsp;<span class="ident" id="6617706">tc</span><span class="op" id="6617708">.</span><span class="ident" id="6617709">pattern</span>&nbsp;<span class="op" id="6617717">!=</span>&nbsp;<span class="string" id="6617720">&#34;&#34;</span>&nbsp;<span class="op" id="6617723">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617728">re</span><span class="op" id="6617730">,</span>&nbsp;<span class="ident" id="6617732">err</span>&nbsp;<span class="op" id="6617736">:=</span>&nbsp;<span class="ident" id="6617739">Compile</span><span class="op" id="6617746">(</span><span class="ident" id="6617747">quoted</span><span class="op" id="6617753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617758">if</span>&nbsp;<span class="ident" id="6617761">err</span>&nbsp;<span class="op" id="6617765">!=</span>&nbsp;<span class="ident" id="6617768">nil</span>&nbsp;<span class="op" id="6617772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617778">t</span><span class="op" id="6617779">.</span><span class="ident" id="6617780">Errorf</span><span class="op" id="6617786">(</span><span class="string" id="6617787">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="6617835">,</span>&nbsp;<span class="ident" id="6617837">tc</span><span class="op" id="6617839">.</span><span class="ident" id="6617840">pattern</span><span class="op" id="6617847">,</span>&nbsp;<span class="ident" id="6617849">err</span><span class="op" id="6617852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6617858">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6617870">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617875">src</span>&nbsp;<span class="op" id="6617879">:=</span>&nbsp;<span class="string" id="6617882">&#34;abc&#34;</span>&nbsp;<span class="op" id="6617888">+</span>&nbsp;<span class="ident" id="6617890">tc</span><span class="op" id="6617892">.</span><span class="ident" id="6617893">pattern</span>&nbsp;<span class="op" id="6617901">+</span>&nbsp;<span class="string" id="6617903">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617912">repl</span>&nbsp;<span class="op" id="6617917">:=</span>&nbsp;<span class="string" id="6617920">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617929">replaced</span>&nbsp;<span class="op" id="6617938">:=</span>&nbsp;<span class="ident" id="6617941">re</span><span class="op" id="6617943">.</span><span class="ident" id="6617944">ReplaceAllString</span><span class="op" id="6617960">(</span><span class="ident" id="6617961">src</span><span class="op" id="6617964">,</span>&nbsp;<span class="ident" id="6617966">repl</span><span class="op" id="6617970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6617975">expected</span>&nbsp;<span class="op" id="6617984">:=</span>&nbsp;<span class="string" id="6617987">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618002">if</span>&nbsp;<span class="ident" id="6618005">replaced</span>&nbsp;<span class="op" id="6618014">!=</span>&nbsp;<span class="ident" id="6618017">expected</span>&nbsp;<span class="op" id="6618026">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618032">t</span><span class="op" id="6618033">.</span><span class="ident" id="6618034">Errorf</span><span class="op" id="6618040">(</span><span class="string" id="6618041">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6618095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618102">tc</span><span class="op" id="6618104">.</span><span class="ident" id="6618105">pattern</span><span class="op" id="6618112">,</span>&nbsp;<span class="ident" id="6618114">src</span><span class="op" id="6618117">,</span>&nbsp;<span class="ident" id="6618119">repl</span><span class="op" id="6618123">,</span>&nbsp;<span class="ident" id="6618125">replaced</span><span class="op" id="6618133">,</span>&nbsp;<span class="ident" id="6618135">expected</span><span class="op" id="6618143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618155">}</span><br>
<span class="lineno">365</span><span class="op" id="6618157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6618160">func</span>&nbsp;<span class="ident" id="6618165">TestLiteralPrefix</span><span class="op" id="6618182">(</span><span class="ident" id="6618183">t</span>&nbsp;<span class="op" id="6618185">*</span><span class="ident" id="6618186">testing</span><span class="op" id="6618193">.</span><span class="ident" id="6618194">T</span><span class="op" id="6618195">)</span>&nbsp;<span class="op" id="6618197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618200">for</span>&nbsp;<span class="ident" id="6618204">_</span><span class="op" id="6618205">,</span>&nbsp;<span class="ident" id="6618207">tc</span>&nbsp;<span class="op" id="6618210">:=</span>&nbsp;<span class="keyword" id="6618213">range</span>&nbsp;<span class="ident" id="6618219">metaTests</span>&nbsp;<span class="op" id="6618229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6618233">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618280">re</span>&nbsp;<span class="op" id="6618283">:=</span>&nbsp;<span class="ident" id="6618286">MustCompile</span><span class="op" id="6618297">(</span><span class="ident" id="6618298">tc</span><span class="op" id="6618300">.</span><span class="ident" id="6618301">pattern</span><span class="op" id="6618308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618312">str</span><span class="op" id="6618315">,</span>&nbsp;<span class="ident" id="6618317">complete</span>&nbsp;<span class="op" id="6618326">:=</span>&nbsp;<span class="ident" id="6618329">re</span><span class="op" id="6618331">.</span><span class="ident" id="6618332">LiteralPrefix</span><span class="op" id="6618345">(</span><span class="op" id="6618346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618350">if</span>&nbsp;<span class="ident" id="6618353">complete</span>&nbsp;<span class="op" id="6618362">!=</span>&nbsp;<span class="ident" id="6618365">tc</span><span class="op" id="6618367">.</span><span class="ident" id="6618368">isLiteral</span>&nbsp;<span class="op" id="6618378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618383">t</span><span class="op" id="6618384">.</span><span class="ident" id="6618385">Errorf</span><span class="op" id="6618391">(</span><span class="string" id="6618392">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="6618427">,</span>&nbsp;<span class="ident" id="6618429">tc</span><span class="op" id="6618431">.</span><span class="ident" id="6618432">pattern</span><span class="op" id="6618439">,</span>&nbsp;<span class="ident" id="6618441">complete</span><span class="op" id="6618449">,</span>&nbsp;<span class="ident" id="6618451">tc</span><span class="op" id="6618453">.</span><span class="ident" id="6618454">isLiteral</span><span class="op" id="6618463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618467">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6618471">if</span>&nbsp;<span class="ident" id="6618474">str</span>&nbsp;<span class="op" id="6618478">!=</span>&nbsp;<span class="ident" id="6618481">tc</span><span class="op" id="6618483">.</span><span class="ident" id="6618484">literal</span>&nbsp;<span class="op" id="6618492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618497">t</span><span class="op" id="6618498">.</span><span class="ident" id="6618499">Errorf</span><span class="op" id="6618505">(</span><span class="string" id="6618506">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6618545">,</span>&nbsp;<span class="ident" id="6618547">tc</span><span class="op" id="6618549">.</span><span class="ident" id="6618550">pattern</span><span class="op" id="6618557">,</span>&nbsp;<span class="ident" id="6618559">str</span><span class="op" id="6618562">,</span>&nbsp;<span class="ident" id="6618564">tc</span><span class="op" id="6618566">.</span><span class="ident" id="6618567">literal</span><span class="op" id="6618574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618581">}</span><br>
<span class="lineno"></span><span class="op" id="6618583">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="6618586">type</span>&nbsp;<span class="ident" id="6618591">subexpCase</span>&nbsp;<span class="keyword" id="6618602">struct</span>&nbsp;<span class="op" id="6618609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618612">input</span>&nbsp;<span class="builtintype" id="6618618">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618626">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6618632">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6618637">names</span>&nbsp;<span class="op" id="6618643">[</span><span class="op" id="6618644">]</span><span class="builtintype" id="6618645">string</span><br>
<span class="lineno">385</span><span class="op" id="6618652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6618655">var</span>&nbsp;<span class="ident" id="6618659">subexpCases</span>&nbsp;<span class="op" id="6618671">=</span>&nbsp;<span class="op" id="6618673">[</span><span class="op" id="6618674">]</span><span class="ident" id="6618675">subexpCase</span><span class="op" id="6618685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618688">{</span><span class="string" id="6618689">``</span><span class="op" id="6618691">,</span>&nbsp;<span class="num" id="6618693">0</span><span class="op" id="6618694">,</span>&nbsp;<span class="ident" id="6618696">nil</span><span class="op" id="6618699">}</span><span class="op" id="6618700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618703">{</span><span class="string" id="6618704">`.*`</span><span class="op" id="6618708">,</span>&nbsp;<span class="num" id="6618710">0</span><span class="op" id="6618711">,</span>&nbsp;<span class="ident" id="6618713">nil</span><span class="op" id="6618716">}</span><span class="op" id="6618717">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618720">{</span><span class="string" id="6618721">`abba`</span><span class="op" id="6618727">,</span>&nbsp;<span class="num" id="6618729">0</span><span class="op" id="6618730">,</span>&nbsp;<span class="ident" id="6618732">nil</span><span class="op" id="6618735">}</span><span class="op" id="6618736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618739">{</span><span class="string" id="6618740">`ab(b)a`</span><span class="op" id="6618748">,</span>&nbsp;<span class="num" id="6618750">1</span><span class="op" id="6618751">,</span>&nbsp;<span class="op" id="6618753">[</span><span class="op" id="6618754">]</span><span class="builtintype" id="6618755">string</span><span class="op" id="6618761">{</span><span class="string" id="6618762">&#34;&#34;</span><span class="op" id="6618764">,</span>&nbsp;<span class="string" id="6618766">&#34;&#34;</span><span class="op" id="6618768">}</span><span class="op" id="6618769">}</span><span class="op" id="6618770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618773">{</span><span class="string" id="6618774">`ab(.*)a`</span><span class="op" id="6618783">,</span>&nbsp;<span class="num" id="6618785">1</span><span class="op" id="6618786">,</span>&nbsp;<span class="op" id="6618788">[</span><span class="op" id="6618789">]</span><span class="builtintype" id="6618790">string</span><span class="op" id="6618796">{</span><span class="string" id="6618797">&#34;&#34;</span><span class="op" id="6618799">,</span>&nbsp;<span class="string" id="6618801">&#34;&#34;</span><span class="op" id="6618803">}</span><span class="op" id="6618804">}</span><span class="op" id="6618805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618808">{</span><span class="string" id="6618809">`(.*)ab(.*)a`</span><span class="op" id="6618822">,</span>&nbsp;<span class="num" id="6618824">2</span><span class="op" id="6618825">,</span>&nbsp;<span class="op" id="6618827">[</span><span class="op" id="6618828">]</span><span class="builtintype" id="6618829">string</span><span class="op" id="6618835">{</span><span class="string" id="6618836">&#34;&#34;</span><span class="op" id="6618838">,</span>&nbsp;<span class="string" id="6618840">&#34;&#34;</span><span class="op" id="6618842">,</span>&nbsp;<span class="string" id="6618844">&#34;&#34;</span><span class="op" id="6618846">}</span><span class="op" id="6618847">}</span><span class="op" id="6618848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618851">{</span><span class="string" id="6618852">`(.*)(ab)(.*)a`</span><span class="op" id="6618867">,</span>&nbsp;<span class="num" id="6618869">3</span><span class="op" id="6618870">,</span>&nbsp;<span class="op" id="6618872">[</span><span class="op" id="6618873">]</span><span class="builtintype" id="6618874">string</span><span class="op" id="6618880">{</span><span class="string" id="6618881">&#34;&#34;</span><span class="op" id="6618883">,</span>&nbsp;<span class="string" id="6618885">&#34;&#34;</span><span class="op" id="6618887">,</span>&nbsp;<span class="string" id="6618889">&#34;&#34;</span><span class="op" id="6618891">,</span>&nbsp;<span class="string" id="6618893">&#34;&#34;</span><span class="op" id="6618895">}</span><span class="op" id="6618896">}</span><span class="op" id="6618897">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618900">{</span><span class="string" id="6618901">`(.*)((a)b)(.*)a`</span><span class="op" id="6618918">,</span>&nbsp;<span class="num" id="6618920">4</span><span class="op" id="6618921">,</span>&nbsp;<span class="op" id="6618923">[</span><span class="op" id="6618924">]</span><span class="builtintype" id="6618925">string</span><span class="op" id="6618931">{</span><span class="string" id="6618932">&#34;&#34;</span><span class="op" id="6618934">,</span>&nbsp;<span class="string" id="6618936">&#34;&#34;</span><span class="op" id="6618938">,</span>&nbsp;<span class="string" id="6618940">&#34;&#34;</span><span class="op" id="6618942">,</span>&nbsp;<span class="string" id="6618944">&#34;&#34;</span><span class="op" id="6618946">,</span>&nbsp;<span class="string" id="6618948">&#34;&#34;</span><span class="op" id="6618950">}</span><span class="op" id="6618951">}</span><span class="op" id="6618952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6618955">{</span><span class="string" id="6618956">`(.*)(\(ab)(.*)a`</span><span class="op" id="6618973">,</span>&nbsp;<span class="num" id="6618975">3</span><span class="op" id="6618976">,</span>&nbsp;<span class="op" id="6618978">[</span><span class="op" id="6618979">]</span><span class="builtintype" id="6618980">string</span><span class="op" id="6618986">{</span><span class="string" id="6618987">&#34;&#34;</span><span class="op" id="6618989">,</span>&nbsp;<span class="string" id="6618991">&#34;&#34;</span><span class="op" id="6618993">,</span>&nbsp;<span class="string" id="6618995">&#34;&#34;</span><span class="op" id="6618997">,</span>&nbsp;<span class="string" id="6618999">&#34;&#34;</span><span class="op" id="6619001">}</span><span class="op" id="6619002">}</span><span class="op" id="6619003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619006">{</span><span class="string" id="6619007">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="6619026">,</span>&nbsp;<span class="num" id="6619028">3</span><span class="op" id="6619029">,</span>&nbsp;<span class="op" id="6619031">[</span><span class="op" id="6619032">]</span><span class="builtintype" id="6619033">string</span><span class="op" id="6619039">{</span><span class="string" id="6619040">&#34;&#34;</span><span class="op" id="6619042">,</span>&nbsp;<span class="string" id="6619044">&#34;&#34;</span><span class="op" id="6619046">,</span>&nbsp;<span class="string" id="6619048">&#34;&#34;</span><span class="op" id="6619050">,</span>&nbsp;<span class="string" id="6619052">&#34;&#34;</span><span class="op" id="6619054">}</span><span class="op" id="6619055">}</span><span class="op" id="6619056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619059">{</span><span class="string" id="6619060">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="6619098">,</span>&nbsp;<span class="num" id="6619100">4</span><span class="op" id="6619101">,</span>&nbsp;<span class="op" id="6619103">[</span><span class="op" id="6619104">]</span><span class="builtintype" id="6619105">string</span><span class="op" id="6619111">{</span><span class="string" id="6619112">&#34;&#34;</span><span class="op" id="6619114">,</span>&nbsp;<span class="string" id="6619116">&#34;foo&#34;</span><span class="op" id="6619121">,</span>&nbsp;<span class="string" id="6619123">&#34;bar&#34;</span><span class="op" id="6619128">,</span>&nbsp;<span class="string" id="6619130">&#34;&#34;</span><span class="op" id="6619132">,</span>&nbsp;<span class="string" id="6619134">&#34;foo&#34;</span><span class="op" id="6619139">}</span><span class="op" id="6619140">}</span><span class="op" id="6619141">,</span><br>
<span class="lineno"></span><span class="op" id="6619143">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="6619146">func</span>&nbsp;<span class="ident" id="6619151">TestSubexp</span><span class="op" id="6619161">(</span><span class="ident" id="6619162">t</span>&nbsp;<span class="op" id="6619164">*</span><span class="ident" id="6619165">testing</span><span class="op" id="6619172">.</span><span class="ident" id="6619173">T</span><span class="op" id="6619174">)</span>&nbsp;<span class="op" id="6619176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619179">for</span>&nbsp;<span class="ident" id="6619183">_</span><span class="op" id="6619184">,</span>&nbsp;<span class="ident" id="6619186">c</span>&nbsp;<span class="op" id="6619188">:=</span>&nbsp;<span class="keyword" id="6619191">range</span>&nbsp;<span class="ident" id="6619197">subexpCases</span>&nbsp;<span class="op" id="6619209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619213">re</span>&nbsp;<span class="op" id="6619216">:=</span>&nbsp;<span class="ident" id="6619219">MustCompile</span><span class="op" id="6619230">(</span><span class="ident" id="6619231">c</span><span class="op" id="6619232">.</span><span class="ident" id="6619233">input</span><span class="op" id="6619238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619242">n</span>&nbsp;<span class="op" id="6619244">:=</span>&nbsp;<span class="ident" id="6619247">re</span><span class="op" id="6619249">.</span><span class="ident" id="6619250">NumSubexp</span><span class="op" id="6619259">(</span><span class="op" id="6619260">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619264">if</span>&nbsp;<span class="ident" id="6619267">n</span>&nbsp;<span class="op" id="6619269">!=</span>&nbsp;<span class="ident" id="6619272">c</span><span class="op" id="6619273">.</span><span class="ident" id="6619274">num</span>&nbsp;<span class="op" id="6619278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619283">t</span><span class="op" id="6619284">.</span><span class="ident" id="6619285">Errorf</span><span class="op" id="6619291">(</span><span class="string" id="6619292">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6619321">,</span>&nbsp;<span class="ident" id="6619323">c</span><span class="op" id="6619324">.</span><span class="ident" id="6619325">input</span><span class="op" id="6619330">,</span>&nbsp;<span class="ident" id="6619332">n</span><span class="op" id="6619333">,</span>&nbsp;<span class="ident" id="6619335">c</span><span class="op" id="6619336">.</span><span class="ident" id="6619337">num</span><span class="op" id="6619340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619345">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619360">names</span>&nbsp;<span class="op" id="6619366">:=</span>&nbsp;<span class="ident" id="6619369">re</span><span class="op" id="6619371">.</span><span class="ident" id="6619372">SubexpNames</span><span class="op" id="6619383">(</span><span class="op" id="6619384">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619388">if</span>&nbsp;<span class="builtinfunc" id="6619391">len</span><span class="op" id="6619394">(</span><span class="ident" id="6619395">names</span><span class="op" id="6619400">)</span>&nbsp;<span class="op" id="6619402">!=</span>&nbsp;<span class="num" id="6619405">1</span><span class="op" id="6619406">+</span><span class="ident" id="6619407">n</span>&nbsp;<span class="op" id="6619409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619414">t</span><span class="op" id="6619415">.</span><span class="ident" id="6619416">Errorf</span><span class="op" id="6619422">(</span><span class="string" id="6619423">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6619459">,</span>&nbsp;<span class="ident" id="6619461">c</span><span class="op" id="6619462">.</span><span class="ident" id="6619463">input</span><span class="op" id="6619468">,</span>&nbsp;<span class="builtinfunc" id="6619470">len</span><span class="op" id="6619473">(</span><span class="ident" id="6619474">names</span><span class="op" id="6619479">)</span><span class="op" id="6619480">,</span>&nbsp;<span class="ident" id="6619482">n</span><span class="op" id="6619483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619488">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619503">if</span>&nbsp;<span class="ident" id="6619506">c</span><span class="op" id="6619507">.</span><span class="ident" id="6619508">names</span>&nbsp;<span class="op" id="6619514">!=</span>&nbsp;<span class="ident" id="6619517">nil</span>&nbsp;<span class="op" id="6619521">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619526">for</span>&nbsp;<span class="ident" id="6619530">i</span>&nbsp;<span class="op" id="6619532">:=</span>&nbsp;<span class="num" id="6619535">0</span><span class="op" id="6619536">;</span>&nbsp;<span class="ident" id="6619538">i</span>&nbsp;<span class="op" id="6619540">&lt;</span>&nbsp;<span class="num" id="6619542">1</span><span class="op" id="6619543">+</span><span class="ident" id="6619544">n</span><span class="op" id="6619545">;</span>&nbsp;<span class="ident" id="6619547">i</span><span class="op" id="6619548">++</span>&nbsp;<span class="op" id="6619551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6619557">if</span>&nbsp;<span class="ident" id="6619560">names</span><span class="op" id="6619565">[</span><span class="ident" id="6619566">i</span><span class="op" id="6619567">]</span>&nbsp;<span class="op" id="6619569">!=</span>&nbsp;<span class="ident" id="6619572">c</span><span class="op" id="6619573">.</span><span class="ident" id="6619574">names</span><span class="op" id="6619579">[</span><span class="ident" id="6619580">i</span><span class="op" id="6619581">]</span>&nbsp;<span class="op" id="6619583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619590">t</span><span class="op" id="6619591">.</span><span class="ident" id="6619592">Errorf</span><span class="op" id="6619598">(</span><span class="string" id="6619599">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6619634">,</span>&nbsp;<span class="ident" id="6619636">c</span><span class="op" id="6619637">.</span><span class="ident" id="6619638">input</span><span class="op" id="6619643">,</span>&nbsp;<span class="ident" id="6619645">i</span><span class="op" id="6619646">,</span>&nbsp;<span class="ident" id="6619648">names</span><span class="op" id="6619653">[</span><span class="ident" id="6619654">i</span><span class="op" id="6619655">]</span><span class="op" id="6619656">,</span>&nbsp;<span class="ident" id="6619658">c</span><span class="op" id="6619659">.</span><span class="ident" id="6619660">names</span><span class="op" id="6619665">[</span><span class="ident" id="6619666">i</span><span class="op" id="6619667">]</span><span class="op" id="6619668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619679">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619686">}</span><br>
<span class="lineno"></span><span class="op" id="6619688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6619691">var</span>&nbsp;<span class="ident" id="6619695">splitTests</span>&nbsp;<span class="op" id="6619706">=</span>&nbsp;<span class="op" id="6619708">[</span><span class="op" id="6619709">]</span><span class="keyword" id="6619710">struct</span>&nbsp;<span class="op" id="6619717">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619720">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6619724">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619732">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6619736">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619744">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6619748">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6619753">out</span>&nbsp;<span class="op" id="6619757">[</span><span class="op" id="6619758">]</span><span class="builtintype" id="6619759">string</span><br>
<span class="lineno"></span><span class="op" id="6619766">}</span><span class="op" id="6619767">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619770">{</span><span class="string" id="6619771">&#34;foo:and:bar&#34;</span><span class="op" id="6619784">,</span>&nbsp;<span class="string" id="6619786">&#34;:&#34;</span><span class="op" id="6619789">,</span>&nbsp;<span class="op" id="6619791">-</span><span class="num" id="6619792">1</span><span class="op" id="6619793">,</span>&nbsp;<span class="op" id="6619795">[</span><span class="op" id="6619796">]</span><span class="builtintype" id="6619797">string</span><span class="op" id="6619803">{</span><span class="string" id="6619804">&#34;foo&#34;</span><span class="op" id="6619809">,</span>&nbsp;<span class="string" id="6619811">&#34;and&#34;</span><span class="op" id="6619816">,</span>&nbsp;<span class="string" id="6619818">&#34;bar&#34;</span><span class="op" id="6619823">}</span><span class="op" id="6619824">}</span><span class="op" id="6619825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619828">{</span><span class="string" id="6619829">&#34;foo:and:bar&#34;</span><span class="op" id="6619842">,</span>&nbsp;<span class="string" id="6619844">&#34;:&#34;</span><span class="op" id="6619847">,</span>&nbsp;<span class="num" id="6619849">1</span><span class="op" id="6619850">,</span>&nbsp;<span class="op" id="6619852">[</span><span class="op" id="6619853">]</span><span class="builtintype" id="6619854">string</span><span class="op" id="6619860">{</span><span class="string" id="6619861">&#34;foo:and:bar&#34;</span><span class="op" id="6619874">}</span><span class="op" id="6619875">}</span><span class="op" id="6619876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619879">{</span><span class="string" id="6619880">&#34;foo:and:bar&#34;</span><span class="op" id="6619893">,</span>&nbsp;<span class="string" id="6619895">&#34;:&#34;</span><span class="op" id="6619898">,</span>&nbsp;<span class="num" id="6619900">2</span><span class="op" id="6619901">,</span>&nbsp;<span class="op" id="6619903">[</span><span class="op" id="6619904">]</span><span class="builtintype" id="6619905">string</span><span class="op" id="6619911">{</span><span class="string" id="6619912">&#34;foo&#34;</span><span class="op" id="6619917">,</span>&nbsp;<span class="string" id="6619919">&#34;and:bar&#34;</span><span class="op" id="6619928">}</span><span class="op" id="6619929">}</span><span class="op" id="6619930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619933">{</span><span class="string" id="6619934">&#34;foo:and:bar&#34;</span><span class="op" id="6619947">,</span>&nbsp;<span class="string" id="6619949">&#34;foo&#34;</span><span class="op" id="6619954">,</span>&nbsp;<span class="op" id="6619956">-</span><span class="num" id="6619957">1</span><span class="op" id="6619958">,</span>&nbsp;<span class="op" id="6619960">[</span><span class="op" id="6619961">]</span><span class="builtintype" id="6619962">string</span><span class="op" id="6619968">{</span><span class="string" id="6619969">&#34;&#34;</span><span class="op" id="6619971">,</span>&nbsp;<span class="string" id="6619973">&#34;:and:bar&#34;</span><span class="op" id="6619983">}</span><span class="op" id="6619984">}</span><span class="op" id="6619985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6619988">{</span><span class="string" id="6619989">&#34;foo:and:bar&#34;</span><span class="op" id="6620002">,</span>&nbsp;<span class="string" id="6620004">&#34;bar&#34;</span><span class="op" id="6620009">,</span>&nbsp;<span class="op" id="6620011">-</span><span class="num" id="6620012">1</span><span class="op" id="6620013">,</span>&nbsp;<span class="op" id="6620015">[</span><span class="op" id="6620016">]</span><span class="builtintype" id="6620017">string</span><span class="op" id="6620023">{</span><span class="string" id="6620024">&#34;foo:and:&#34;</span><span class="op" id="6620034">,</span>&nbsp;<span class="string" id="6620036">&#34;&#34;</span><span class="op" id="6620038">}</span><span class="op" id="6620039">}</span><span class="op" id="6620040">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620043">{</span><span class="string" id="6620044">&#34;foo:and:bar&#34;</span><span class="op" id="6620057">,</span>&nbsp;<span class="string" id="6620059">&#34;baz&#34;</span><span class="op" id="6620064">,</span>&nbsp;<span class="op" id="6620066">-</span><span class="num" id="6620067">1</span><span class="op" id="6620068">,</span>&nbsp;<span class="op" id="6620070">[</span><span class="op" id="6620071">]</span><span class="builtintype" id="6620072">string</span><span class="op" id="6620078">{</span><span class="string" id="6620079">&#34;foo:and:bar&#34;</span><span class="op" id="6620092">}</span><span class="op" id="6620093">}</span><span class="op" id="6620094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620097">{</span><span class="string" id="6620098">&#34;baabaab&#34;</span><span class="op" id="6620107">,</span>&nbsp;<span class="string" id="6620109">&#34;a&#34;</span><span class="op" id="6620112">,</span>&nbsp;<span class="op" id="6620114">-</span><span class="num" id="6620115">1</span><span class="op" id="6620116">,</span>&nbsp;<span class="op" id="6620118">[</span><span class="op" id="6620119">]</span><span class="builtintype" id="6620120">string</span><span class="op" id="6620126">{</span><span class="string" id="6620127">&#34;b&#34;</span><span class="op" id="6620130">,</span>&nbsp;<span class="string" id="6620132">&#34;&#34;</span><span class="op" id="6620134">,</span>&nbsp;<span class="string" id="6620136">&#34;b&#34;</span><span class="op" id="6620139">,</span>&nbsp;<span class="string" id="6620141">&#34;&#34;</span><span class="op" id="6620143">,</span>&nbsp;<span class="string" id="6620145">&#34;b&#34;</span><span class="op" id="6620148">}</span><span class="op" id="6620149">}</span><span class="op" id="6620150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620153">{</span><span class="string" id="6620154">&#34;baabaab&#34;</span><span class="op" id="6620163">,</span>&nbsp;<span class="string" id="6620165">&#34;a*&#34;</span><span class="op" id="6620169">,</span>&nbsp;<span class="op" id="6620171">-</span><span class="num" id="6620172">1</span><span class="op" id="6620173">,</span>&nbsp;<span class="op" id="6620175">[</span><span class="op" id="6620176">]</span><span class="builtintype" id="6620177">string</span><span class="op" id="6620183">{</span><span class="string" id="6620184">&#34;b&#34;</span><span class="op" id="6620187">,</span>&nbsp;<span class="string" id="6620189">&#34;b&#34;</span><span class="op" id="6620192">,</span>&nbsp;<span class="string" id="6620194">&#34;b&#34;</span><span class="op" id="6620197">}</span><span class="op" id="6620198">}</span><span class="op" id="6620199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620202">{</span><span class="string" id="6620203">&#34;baabaab&#34;</span><span class="op" id="6620212">,</span>&nbsp;<span class="string" id="6620214">&#34;ba*&#34;</span><span class="op" id="6620219">,</span>&nbsp;<span class="op" id="6620221">-</span><span class="num" id="6620222">1</span><span class="op" id="6620223">,</span>&nbsp;<span class="op" id="6620225">[</span><span class="op" id="6620226">]</span><span class="builtintype" id="6620227">string</span><span class="op" id="6620233">{</span><span class="string" id="6620234">&#34;&#34;</span><span class="op" id="6620236">,</span>&nbsp;<span class="string" id="6620238">&#34;&#34;</span><span class="op" id="6620240">,</span>&nbsp;<span class="string" id="6620242">&#34;&#34;</span><span class="op" id="6620244">,</span>&nbsp;<span class="string" id="6620246">&#34;&#34;</span><span class="op" id="6620248">}</span><span class="op" id="6620249">}</span><span class="op" id="6620250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620253">{</span><span class="string" id="6620254">&#34;foobar&#34;</span><span class="op" id="6620262">,</span>&nbsp;<span class="string" id="6620264">&#34;f*b*&#34;</span><span class="op" id="6620270">,</span>&nbsp;<span class="op" id="6620272">-</span><span class="num" id="6620273">1</span><span class="op" id="6620274">,</span>&nbsp;<span class="op" id="6620276">[</span><span class="op" id="6620277">]</span><span class="builtintype" id="6620278">string</span><span class="op" id="6620284">{</span><span class="string" id="6620285">&#34;&#34;</span><span class="op" id="6620287">,</span>&nbsp;<span class="string" id="6620289">&#34;o&#34;</span><span class="op" id="6620292">,</span>&nbsp;<span class="string" id="6620294">&#34;o&#34;</span><span class="op" id="6620297">,</span>&nbsp;<span class="string" id="6620299">&#34;a&#34;</span><span class="op" id="6620302">,</span>&nbsp;<span class="string" id="6620304">&#34;r&#34;</span><span class="op" id="6620307">}</span><span class="op" id="6620308">}</span><span class="op" id="6620309">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620312">{</span><span class="string" id="6620313">&#34;foobar&#34;</span><span class="op" id="6620321">,</span>&nbsp;<span class="string" id="6620323">&#34;f+.*b+&#34;</span><span class="op" id="6620331">,</span>&nbsp;<span class="op" id="6620333">-</span><span class="num" id="6620334">1</span><span class="op" id="6620335">,</span>&nbsp;<span class="op" id="6620337">[</span><span class="op" id="6620338">]</span><span class="builtintype" id="6620339">string</span><span class="op" id="6620345">{</span><span class="string" id="6620346">&#34;&#34;</span><span class="op" id="6620348">,</span>&nbsp;<span class="string" id="6620350">&#34;ar&#34;</span><span class="op" id="6620354">}</span><span class="op" id="6620355">}</span><span class="op" id="6620356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620359">{</span><span class="string" id="6620360">&#34;foobooboar&#34;</span><span class="op" id="6620372">,</span>&nbsp;<span class="string" id="6620374">&#34;o{2}&#34;</span><span class="op" id="6620380">,</span>&nbsp;<span class="op" id="6620382">-</span><span class="num" id="6620383">1</span><span class="op" id="6620384">,</span>&nbsp;<span class="op" id="6620386">[</span><span class="op" id="6620387">]</span><span class="builtintype" id="6620388">string</span><span class="op" id="6620394">{</span><span class="string" id="6620395">&#34;f&#34;</span><span class="op" id="6620398">,</span>&nbsp;<span class="string" id="6620400">&#34;b&#34;</span><span class="op" id="6620403">,</span>&nbsp;<span class="string" id="6620405">&#34;boar&#34;</span><span class="op" id="6620411">}</span><span class="op" id="6620412">}</span><span class="op" id="6620413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620416">{</span><span class="string" id="6620417">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="6620430">,</span>&nbsp;<span class="string" id="6620432">&#34;,&#34;</span><span class="op" id="6620435">,</span>&nbsp;<span class="num" id="6620437">3</span><span class="op" id="6620438">,</span>&nbsp;<span class="op" id="6620440">[</span><span class="op" id="6620441">]</span><span class="builtintype" id="6620442">string</span><span class="op" id="6620448">{</span><span class="string" id="6620449">&#34;a&#34;</span><span class="op" id="6620452">,</span>&nbsp;<span class="string" id="6620454">&#34;b&#34;</span><span class="op" id="6620457">,</span>&nbsp;<span class="string" id="6620459">&#34;c,d,e,f&#34;</span><span class="op" id="6620468">}</span><span class="op" id="6620469">}</span><span class="op" id="6620470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620473">{</span><span class="string" id="6620474">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="6620487">,</span>&nbsp;<span class="string" id="6620489">&#34;,&#34;</span><span class="op" id="6620492">,</span>&nbsp;<span class="num" id="6620494">0</span><span class="op" id="6620495">,</span>&nbsp;<span class="ident" id="6620497">nil</span><span class="op" id="6620500">}</span><span class="op" id="6620501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620504">{</span><span class="string" id="6620505">&#34;,&#34;</span><span class="op" id="6620508">,</span>&nbsp;<span class="string" id="6620510">&#34;,&#34;</span><span class="op" id="6620513">,</span>&nbsp;<span class="op" id="6620515">-</span><span class="num" id="6620516">1</span><span class="op" id="6620517">,</span>&nbsp;<span class="op" id="6620519">[</span><span class="op" id="6620520">]</span><span class="builtintype" id="6620521">string</span><span class="op" id="6620527">{</span><span class="string" id="6620528">&#34;&#34;</span><span class="op" id="6620530">,</span>&nbsp;<span class="string" id="6620532">&#34;&#34;</span><span class="op" id="6620534">}</span><span class="op" id="6620535">}</span><span class="op" id="6620536">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620539">{</span><span class="string" id="6620540">&#34;,,,&#34;</span><span class="op" id="6620545">,</span>&nbsp;<span class="string" id="6620547">&#34;,&#34;</span><span class="op" id="6620550">,</span>&nbsp;<span class="op" id="6620552">-</span><span class="num" id="6620553">1</span><span class="op" id="6620554">,</span>&nbsp;<span class="op" id="6620556">[</span><span class="op" id="6620557">]</span><span class="builtintype" id="6620558">string</span><span class="op" id="6620564">{</span><span class="string" id="6620565">&#34;&#34;</span><span class="op" id="6620567">,</span>&nbsp;<span class="string" id="6620569">&#34;&#34;</span><span class="op" id="6620571">,</span>&nbsp;<span class="string" id="6620573">&#34;&#34;</span><span class="op" id="6620575">,</span>&nbsp;<span class="string" id="6620577">&#34;&#34;</span><span class="op" id="6620579">}</span><span class="op" id="6620580">}</span><span class="op" id="6620581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620584">{</span><span class="string" id="6620585">&#34;&#34;</span><span class="op" id="6620587">,</span>&nbsp;<span class="string" id="6620589">&#34;,&#34;</span><span class="op" id="6620592">,</span>&nbsp;<span class="op" id="6620594">-</span><span class="num" id="6620595">1</span><span class="op" id="6620596">,</span>&nbsp;<span class="op" id="6620598">[</span><span class="op" id="6620599">]</span><span class="builtintype" id="6620600">string</span><span class="op" id="6620606">{</span><span class="string" id="6620607">&#34;&#34;</span><span class="op" id="6620609">}</span><span class="op" id="6620610">}</span><span class="op" id="6620611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620614">{</span><span class="string" id="6620615">&#34;&#34;</span><span class="op" id="6620617">,</span>&nbsp;<span class="string" id="6620619">&#34;.*&#34;</span><span class="op" id="6620623">,</span>&nbsp;<span class="op" id="6620625">-</span><span class="num" id="6620626">1</span><span class="op" id="6620627">,</span>&nbsp;<span class="op" id="6620629">[</span><span class="op" id="6620630">]</span><span class="builtintype" id="6620631">string</span><span class="op" id="6620637">{</span><span class="string" id="6620638">&#34;&#34;</span><span class="op" id="6620640">}</span><span class="op" id="6620641">}</span><span class="op" id="6620642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620645">{</span><span class="string" id="6620646">&#34;&#34;</span><span class="op" id="6620648">,</span>&nbsp;<span class="string" id="6620650">&#34;.+&#34;</span><span class="op" id="6620654">,</span>&nbsp;<span class="op" id="6620656">-</span><span class="num" id="6620657">1</span><span class="op" id="6620658">,</span>&nbsp;<span class="op" id="6620660">[</span><span class="op" id="6620661">]</span><span class="builtintype" id="6620662">string</span><span class="op" id="6620668">{</span><span class="string" id="6620669">&#34;&#34;</span><span class="op" id="6620671">}</span><span class="op" id="6620672">}</span><span class="op" id="6620673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620676">{</span><span class="string" id="6620677">&#34;&#34;</span><span class="op" id="6620679">,</span>&nbsp;<span class="string" id="6620681">&#34;&#34;</span><span class="op" id="6620683">,</span>&nbsp;<span class="op" id="6620685">-</span><span class="num" id="6620686">1</span><span class="op" id="6620687">,</span>&nbsp;<span class="op" id="6620689">[</span><span class="op" id="6620690">]</span><span class="builtintype" id="6620691">string</span><span class="op" id="6620697">{</span><span class="op" id="6620698">}</span><span class="op" id="6620699">}</span><span class="op" id="6620700">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620703">{</span><span class="string" id="6620704">&#34;foobar&#34;</span><span class="op" id="6620712">,</span>&nbsp;<span class="string" id="6620714">&#34;&#34;</span><span class="op" id="6620716">,</span>&nbsp;<span class="op" id="6620718">-</span><span class="num" id="6620719">1</span><span class="op" id="6620720">,</span>&nbsp;<span class="op" id="6620722">[</span><span class="op" id="6620723">]</span><span class="builtintype" id="6620724">string</span><span class="op" id="6620730">{</span><span class="string" id="6620731">&#34;f&#34;</span><span class="op" id="6620734">,</span>&nbsp;<span class="string" id="6620736">&#34;o&#34;</span><span class="op" id="6620739">,</span>&nbsp;<span class="string" id="6620741">&#34;o&#34;</span><span class="op" id="6620744">,</span>&nbsp;<span class="string" id="6620746">&#34;b&#34;</span><span class="op" id="6620749">,</span>&nbsp;<span class="string" id="6620751">&#34;a&#34;</span><span class="op" id="6620754">,</span>&nbsp;<span class="string" id="6620756">&#34;r&#34;</span><span class="op" id="6620759">}</span><span class="op" id="6620760">}</span><span class="op" id="6620761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620764">{</span><span class="string" id="6620765">&#34;abaabaccadaaae&#34;</span><span class="op" id="6620781">,</span>&nbsp;<span class="string" id="6620783">&#34;a*&#34;</span><span class="op" id="6620787">,</span>&nbsp;<span class="num" id="6620789">5</span><span class="op" id="6620790">,</span>&nbsp;<span class="op" id="6620792">[</span><span class="op" id="6620793">]</span><span class="builtintype" id="6620794">string</span><span class="op" id="6620800">{</span><span class="string" id="6620801">&#34;&#34;</span><span class="op" id="6620803">,</span>&nbsp;<span class="string" id="6620805">&#34;b&#34;</span><span class="op" id="6620808">,</span>&nbsp;<span class="string" id="6620810">&#34;b&#34;</span><span class="op" id="6620813">,</span>&nbsp;<span class="string" id="6620815">&#34;c&#34;</span><span class="op" id="6620818">,</span>&nbsp;<span class="string" id="6620820">&#34;cadaaae&#34;</span><span class="op" id="6620829">}</span><span class="op" id="6620830">}</span><span class="op" id="6620831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6620834">{</span><span class="string" id="6620835">&#34;:x:y:z:&#34;</span><span class="op" id="6620844">,</span>&nbsp;<span class="string" id="6620846">&#34;:&#34;</span><span class="op" id="6620849">,</span>&nbsp;<span class="op" id="6620851">-</span><span class="num" id="6620852">1</span><span class="op" id="6620853">,</span>&nbsp;<span class="op" id="6620855">[</span><span class="op" id="6620856">]</span><span class="builtintype" id="6620857">string</span><span class="op" id="6620863">{</span><span class="string" id="6620864">&#34;&#34;</span><span class="op" id="6620866">,</span>&nbsp;<span class="string" id="6620868">&#34;x&#34;</span><span class="op" id="6620871">,</span>&nbsp;<span class="string" id="6620873">&#34;y&#34;</span><span class="op" id="6620876">,</span>&nbsp;<span class="string" id="6620878">&#34;z&#34;</span><span class="op" id="6620881">,</span>&nbsp;<span class="string" id="6620883">&#34;&#34;</span><span class="op" id="6620885">}</span><span class="op" id="6620886">}</span><span class="op" id="6620887">,</span><br>
<span class="lineno"></span><span class="op" id="6620889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6620892">func</span>&nbsp;<span class="ident" id="6620897">TestSplit</span><span class="op" id="6620906">(</span><span class="ident" id="6620907">t</span>&nbsp;<span class="op" id="6620909">*</span><span class="ident" id="6620910">testing</span><span class="op" id="6620917">.</span><span class="ident" id="6620918">T</span><span class="op" id="6620919">)</span>&nbsp;<span class="op" id="6620921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620924">for</span>&nbsp;<span class="ident" id="6620928">i</span><span class="op" id="6620929">,</span>&nbsp;<span class="ident" id="6620931">test</span>&nbsp;<span class="op" id="6620936">:=</span>&nbsp;<span class="keyword" id="6620939">range</span>&nbsp;<span class="ident" id="6620945">splitTests</span>&nbsp;<span class="op" id="6620956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6620960">re</span><span class="op" id="6620962">,</span>&nbsp;<span class="ident" id="6620964">err</span>&nbsp;<span class="op" id="6620968">:=</span>&nbsp;<span class="ident" id="6620971">Compile</span><span class="op" id="6620978">(</span><span class="ident" id="6620979">test</span><span class="op" id="6620983">.</span><span class="ident" id="6620984">r</span><span class="op" id="6620985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6620989">if</span>&nbsp;<span class="ident" id="6620992">err</span>&nbsp;<span class="op" id="6620996">!=</span>&nbsp;<span class="ident" id="6620999">nil</span>&nbsp;<span class="op" id="6621003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621008">t</span><span class="op" id="6621009">.</span><span class="ident" id="6621010">Errorf</span><span class="op" id="6621016">(</span><span class="string" id="6621017">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="6621045">,</span>&nbsp;<span class="ident" id="6621047">i</span><span class="op" id="6621048">,</span>&nbsp;<span class="ident" id="6621050">test</span><span class="op" id="6621054">.</span><span class="ident" id="6621055">r</span><span class="op" id="6621056">,</span>&nbsp;<span class="ident" id="6621058">err</span><span class="op" id="6621061">.</span><span class="ident" id="6621062">Error</span><span class="op" id="6621067">(</span><span class="op" id="6621068">)</span><span class="op" id="6621069">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621074">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621090">split</span>&nbsp;<span class="op" id="6621096">:=</span>&nbsp;<span class="ident" id="6621099">re</span><span class="op" id="6621101">.</span><span class="ident" id="6621102">Split</span><span class="op" id="6621107">(</span><span class="ident" id="6621108">test</span><span class="op" id="6621112">.</span><span class="ident" id="6621113">s</span><span class="op" id="6621114">,</span>&nbsp;<span class="ident" id="6621116">test</span><span class="op" id="6621120">.</span><span class="ident" id="6621121">n</span><span class="op" id="6621122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621126">if</span>&nbsp;<span class="op" id="6621129">!</span><span class="ident" id="6621130">reflect</span><span class="op" id="6621137">.</span><span class="ident" id="6621138">DeepEqual</span><span class="op" id="6621147">(</span><span class="ident" id="6621148">split</span><span class="op" id="6621153">,</span>&nbsp;<span class="ident" id="6621155">test</span><span class="op" id="6621159">.</span><span class="ident" id="6621160">out</span><span class="op" id="6621163">)</span>&nbsp;<span class="op" id="6621165">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621170">t</span><span class="op" id="6621171">.</span><span class="ident" id="6621172">Errorf</span><span class="op" id="6621178">(</span><span class="string" id="6621179">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6621205">,</span>&nbsp;<span class="ident" id="6621207">i</span><span class="op" id="6621208">,</span>&nbsp;<span class="ident" id="6621210">test</span><span class="op" id="6621214">.</span><span class="ident" id="6621215">r</span><span class="op" id="6621216">,</span>&nbsp;<span class="ident" id="6621218">split</span><span class="op" id="6621223">,</span>&nbsp;<span class="ident" id="6621225">test</span><span class="op" id="6621229">.</span><span class="ident" id="6621230">out</span><span class="op" id="6621233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621242">if</span>&nbsp;<span class="ident" id="6621245">QuoteMeta</span><span class="op" id="6621254">(</span><span class="ident" id="6621255">test</span><span class="op" id="6621259">.</span><span class="ident" id="6621260">r</span><span class="op" id="6621261">)</span>&nbsp;<span class="op" id="6621263">==</span>&nbsp;<span class="ident" id="6621266">test</span><span class="op" id="6621270">.</span><span class="ident" id="6621271">r</span>&nbsp;<span class="op" id="6621273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621278">strsplit</span>&nbsp;<span class="op" id="6621287">:=</span>&nbsp;<span class="ident" id="6621290">strings</span><span class="op" id="6621297">.</span><span class="ident" id="6621298">SplitN</span><span class="op" id="6621304">(</span><span class="ident" id="6621305">test</span><span class="op" id="6621309">.</span><span class="ident" id="6621310">s</span><span class="op" id="6621311">,</span>&nbsp;<span class="ident" id="6621313">test</span><span class="op" id="6621317">.</span><span class="ident" id="6621318">r</span><span class="op" id="6621319">,</span>&nbsp;<span class="ident" id="6621321">test</span><span class="op" id="6621325">.</span><span class="ident" id="6621326">n</span><span class="op" id="6621327">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621332">if</span>&nbsp;<span class="op" id="6621335">!</span><span class="ident" id="6621336">reflect</span><span class="op" id="6621343">.</span><span class="ident" id="6621344">DeepEqual</span><span class="op" id="6621353">(</span><span class="ident" id="6621354">split</span><span class="op" id="6621359">,</span>&nbsp;<span class="ident" id="6621361">strsplit</span><span class="op" id="6621369">)</span>&nbsp;<span class="op" id="6621371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621377">t</span><span class="op" id="6621378">.</span><span class="ident" id="6621379">Errorf</span><span class="op" id="6621385">(</span><span class="string" id="6621386">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="6621461">,</span>&nbsp;<span class="ident" id="6621463">i</span><span class="op" id="6621464">,</span>&nbsp;<span class="ident" id="6621466">test</span><span class="op" id="6621470">.</span><span class="ident" id="6621471">s</span><span class="op" id="6621472">,</span>&nbsp;<span class="ident" id="6621474">test</span><span class="op" id="6621478">.</span><span class="ident" id="6621479">r</span><span class="op" id="6621480">,</span>&nbsp;<span class="ident" id="6621482">test</span><span class="op" id="6621486">.</span><span class="ident" id="6621487">n</span><span class="op" id="6621488">,</span>&nbsp;<span class="ident" id="6621490">split</span><span class="op" id="6621495">,</span>&nbsp;<span class="ident" id="6621497">strsplit</span><span class="op" id="6621505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621517">}</span><br>
<span class="lineno">475</span><span class="op" id="6621519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6621522">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="6621566">func</span>&nbsp;<span class="ident" id="6621571">TestOnePassCutoff</span><span class="op" id="6621588">(</span><span class="ident" id="6621589">t</span>&nbsp;<span class="op" id="6621591">*</span><span class="ident" id="6621592">testing</span><span class="op" id="6621599">.</span><span class="ident" id="6621600">T</span><span class="op" id="6621601">)</span>&nbsp;<span class="op" id="6621603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621606">re</span><span class="op" id="6621608">,</span>&nbsp;<span class="ident" id="6621610">err</span>&nbsp;<span class="op" id="6621614">:=</span>&nbsp;<span class="ident" id="6621617">syntax</span><span class="op" id="6621623">.</span><span class="ident" id="6621624">Parse</span><span class="op" id="6621629">(</span><span class="string" id="6621630">`^x{1,1000}y{1,1000}$`</span><span class="op" id="6621652">,</span>&nbsp;<span class="ident" id="6621654">syntax</span><span class="op" id="6621660">.</span><span class="ident" id="6621661">Perl</span><span class="op" id="6621665">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621668">if</span>&nbsp;<span class="ident" id="6621671">err</span>&nbsp;<span class="op" id="6621675">!=</span>&nbsp;<span class="ident" id="6621678">nil</span>&nbsp;<span class="op" id="6621682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621686">t</span><span class="op" id="6621687">.</span><span class="ident" id="6621688">Fatalf</span><span class="op" id="6621694">(</span><span class="string" id="6621695">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="6621706">,</span>&nbsp;<span class="ident" id="6621708">err</span><span class="op" id="6621711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621717">p</span><span class="op" id="6621718">,</span>&nbsp;<span class="ident" id="6621720">err</span>&nbsp;<span class="op" id="6621724">:=</span>&nbsp;<span class="ident" id="6621727">syntax</span><span class="op" id="6621733">.</span><span class="ident" id="6621734">Compile</span><span class="op" id="6621741">(</span><span class="ident" id="6621742">re</span><span class="op" id="6621744">.</span><span class="ident" id="6621745">Simplify</span><span class="op" id="6621753">(</span><span class="op" id="6621754">)</span><span class="op" id="6621755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621758">if</span>&nbsp;<span class="ident" id="6621761">err</span>&nbsp;<span class="op" id="6621765">!=</span>&nbsp;<span class="ident" id="6621768">nil</span>&nbsp;<span class="op" id="6621772">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621776">t</span><span class="op" id="6621777">.</span><span class="ident" id="6621778">Fatalf</span><span class="op" id="6621784">(</span><span class="string" id="6621785">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="6621798">,</span>&nbsp;<span class="ident" id="6621800">err</span><span class="op" id="6621803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6621809">if</span>&nbsp;<span class="ident" id="6621812">compileOnePass</span><span class="op" id="6621826">(</span><span class="ident" id="6621827">p</span><span class="op" id="6621828">)</span>&nbsp;<span class="op" id="6621830">!=</span>&nbsp;<span class="ident" id="6621833">notOnePass</span>&nbsp;<span class="op" id="6621844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621848">t</span><span class="op" id="6621849">.</span><span class="ident" id="6621850">Fatalf</span><span class="op" id="6621856">(</span><span class="string" id="6621857">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="6621899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6621902">}</span><br>
<span class="lineno">490</span><span class="op" id="6621904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6621907">func</span>&nbsp;<span class="ident" id="6621912">BenchmarkLiteral</span><span class="op" id="6621928">(</span><span class="ident" id="6621929">b</span>&nbsp;<span class="op" id="6621931">*</span><span class="ident" id="6621932">testing</span><span class="op" id="6621939">.</span><span class="ident" id="6621940">B</span><span class="op" id="6621941">)</span>&nbsp;<span class="op" id="6621943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621946">x</span>&nbsp;<span class="op" id="6621948">:=</span>&nbsp;<span class="ident" id="6621951">strings</span><span class="op" id="6621958">.</span><span class="ident" id="6621959">Repeat</span><span class="op" id="6621965">(</span><span class="string" id="6621966">&#34;x&#34;</span><span class="op" id="6621969">,</span>&nbsp;<span class="num" id="6621971">50</span><span class="op" id="6621973">)</span>&nbsp;<span class="op" id="6621975">+</span>&nbsp;<span class="string" id="6621977">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621982">b</span><span class="op" id="6621983">.</span><span class="ident" id="6621984">StopTimer</span><span class="op" id="6621993">(</span><span class="op" id="6621994">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6621997">re</span>&nbsp;<span class="op" id="6622000">:=</span>&nbsp;<span class="ident" id="6622003">MustCompile</span><span class="op" id="6622014">(</span><span class="string" id="6622015">&#34;y&#34;</span><span class="op" id="6622018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622021">b</span><span class="op" id="6622022">.</span><span class="ident" id="6622023">StartTimer</span><span class="op" id="6622033">(</span><span class="op" id="6622034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622037">for</span>&nbsp;<span class="ident" id="6622041">i</span>&nbsp;<span class="op" id="6622043">:=</span>&nbsp;<span class="num" id="6622046">0</span><span class="op" id="6622047">;</span>&nbsp;<span class="ident" id="6622049">i</span>&nbsp;<span class="op" id="6622051">&lt;</span>&nbsp;<span class="ident" id="6622053">b</span><span class="op" id="6622054">.</span><span class="ident" id="6622055">N</span><span class="op" id="6622056">;</span>&nbsp;<span class="ident" id="6622058">i</span><span class="op" id="6622059">++</span>&nbsp;<span class="op" id="6622062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622066">if</span>&nbsp;<span class="op" id="6622069">!</span><span class="ident" id="6622070">re</span><span class="op" id="6622072">.</span><span class="ident" id="6622073">MatchString</span><span class="op" id="6622084">(</span><span class="ident" id="6622085">x</span><span class="op" id="6622086">)</span>&nbsp;<span class="op" id="6622088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622093">b</span><span class="op" id="6622094">.</span><span class="ident" id="6622095">Fatalf</span><span class="op" id="6622101">(</span><span class="string" id="6622102">&#34;no&nbsp;match!&#34;</span><span class="op" id="6622113">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622120">}</span><br>
<span class="lineno"></span><span class="op" id="6622122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622125">func</span>&nbsp;<span class="ident" id="6622130">BenchmarkNotLiteral</span><span class="op" id="6622149">(</span><span class="ident" id="6622150">b</span>&nbsp;<span class="op" id="6622152">*</span><span class="ident" id="6622153">testing</span><span class="op" id="6622160">.</span><span class="ident" id="6622161">B</span><span class="op" id="6622162">)</span>&nbsp;<span class="op" id="6622164">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622167">x</span>&nbsp;<span class="op" id="6622169">:=</span>&nbsp;<span class="ident" id="6622172">strings</span><span class="op" id="6622179">.</span><span class="ident" id="6622180">Repeat</span><span class="op" id="6622186">(</span><span class="string" id="6622187">&#34;x&#34;</span><span class="op" id="6622190">,</span>&nbsp;<span class="num" id="6622192">50</span><span class="op" id="6622194">)</span>&nbsp;<span class="op" id="6622196">+</span>&nbsp;<span class="string" id="6622198">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622203">b</span><span class="op" id="6622204">.</span><span class="ident" id="6622205">StopTimer</span><span class="op" id="6622214">(</span><span class="op" id="6622215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622218">re</span>&nbsp;<span class="op" id="6622221">:=</span>&nbsp;<span class="ident" id="6622224">MustCompile</span><span class="op" id="6622235">(</span><span class="string" id="6622236">&#34;.y&#34;</span><span class="op" id="6622240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622243">b</span><span class="op" id="6622244">.</span><span class="ident" id="6622245">StartTimer</span><span class="op" id="6622255">(</span><span class="op" id="6622256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622259">for</span>&nbsp;<span class="ident" id="6622263">i</span>&nbsp;<span class="op" id="6622265">:=</span>&nbsp;<span class="num" id="6622268">0</span><span class="op" id="6622269">;</span>&nbsp;<span class="ident" id="6622271">i</span>&nbsp;<span class="op" id="6622273">&lt;</span>&nbsp;<span class="ident" id="6622275">b</span><span class="op" id="6622276">.</span><span class="ident" id="6622277">N</span><span class="op" id="6622278">;</span>&nbsp;<span class="ident" id="6622280">i</span><span class="op" id="6622281">++</span>&nbsp;<span class="op" id="6622284">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622288">if</span>&nbsp;<span class="op" id="6622291">!</span><span class="ident" id="6622292">re</span><span class="op" id="6622294">.</span><span class="ident" id="6622295">MatchString</span><span class="op" id="6622306">(</span><span class="ident" id="6622307">x</span><span class="op" id="6622308">)</span>&nbsp;<span class="op" id="6622310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622315">b</span><span class="op" id="6622316">.</span><span class="ident" id="6622317">Fatalf</span><span class="op" id="6622323">(</span><span class="string" id="6622324">&#34;no&nbsp;match!&#34;</span><span class="op" id="6622335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622342">}</span><br>
<span class="lineno"></span><span class="op" id="6622344">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="6622347">func</span>&nbsp;<span class="ident" id="6622352">BenchmarkMatchClass</span><span class="op" id="6622371">(</span><span class="ident" id="6622372">b</span>&nbsp;<span class="op" id="6622374">*</span><span class="ident" id="6622375">testing</span><span class="op" id="6622382">.</span><span class="ident" id="6622383">B</span><span class="op" id="6622384">)</span>&nbsp;<span class="op" id="6622386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622389">b</span><span class="op" id="6622390">.</span><span class="ident" id="6622391">StopTimer</span><span class="op" id="6622400">(</span><span class="op" id="6622401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622404">x</span>&nbsp;<span class="op" id="6622406">:=</span>&nbsp;<span class="ident" id="6622409">strings</span><span class="op" id="6622416">.</span><span class="ident" id="6622417">Repeat</span><span class="op" id="6622423">(</span><span class="string" id="6622424">&#34;xxxx&#34;</span><span class="op" id="6622430">,</span>&nbsp;<span class="num" id="6622432">20</span><span class="op" id="6622434">)</span>&nbsp;<span class="op" id="6622436">+</span>&nbsp;<span class="string" id="6622438">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622443">re</span>&nbsp;<span class="op" id="6622446">:=</span>&nbsp;<span class="ident" id="6622449">MustCompile</span><span class="op" id="6622460">(</span><span class="string" id="6622461">&#34;[abcdw]&#34;</span><span class="op" id="6622470">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622473">b</span><span class="op" id="6622474">.</span><span class="ident" id="6622475">StartTimer</span><span class="op" id="6622485">(</span><span class="op" id="6622486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622489">for</span>&nbsp;<span class="ident" id="6622493">i</span>&nbsp;<span class="op" id="6622495">:=</span>&nbsp;<span class="num" id="6622498">0</span><span class="op" id="6622499">;</span>&nbsp;<span class="ident" id="6622501">i</span>&nbsp;<span class="op" id="6622503">&lt;</span>&nbsp;<span class="ident" id="6622505">b</span><span class="op" id="6622506">.</span><span class="ident" id="6622507">N</span><span class="op" id="6622508">;</span>&nbsp;<span class="ident" id="6622510">i</span><span class="op" id="6622511">++</span>&nbsp;<span class="op" id="6622514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622518">if</span>&nbsp;<span class="op" id="6622521">!</span><span class="ident" id="6622522">re</span><span class="op" id="6622524">.</span><span class="ident" id="6622525">MatchString</span><span class="op" id="6622536">(</span><span class="ident" id="6622537">x</span><span class="op" id="6622538">)</span>&nbsp;<span class="op" id="6622540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622545">b</span><span class="op" id="6622546">.</span><span class="ident" id="6622547">Fatalf</span><span class="op" id="6622553">(</span><span class="string" id="6622554">&#34;no&nbsp;match!&#34;</span><span class="op" id="6622565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622569">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622572">}</span><br>
<span class="lineno"></span><span class="op" id="6622574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622577">func</span>&nbsp;<span class="ident" id="6622582">BenchmarkMatchClass_InRange</span><span class="op" id="6622609">(</span><span class="ident" id="6622610">b</span>&nbsp;<span class="op" id="6622612">*</span><span class="ident" id="6622613">testing</span><span class="op" id="6622620">.</span><span class="ident" id="6622621">B</span><span class="op" id="6622622">)</span>&nbsp;<span class="op" id="6622624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622627">b</span><span class="op" id="6622628">.</span><span class="ident" id="6622629">StopTimer</span><span class="op" id="6622638">(</span><span class="op" id="6622639">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6622642">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6622691">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622727">x</span>&nbsp;<span class="op" id="6622729">:=</span>&nbsp;<span class="ident" id="6622732">strings</span><span class="op" id="6622739">.</span><span class="ident" id="6622740">Repeat</span><span class="op" id="6622746">(</span><span class="string" id="6622747">&#34;bbbb&#34;</span><span class="op" id="6622753">,</span>&nbsp;<span class="num" id="6622755">20</span><span class="op" id="6622757">)</span>&nbsp;<span class="op" id="6622759">+</span>&nbsp;<span class="string" id="6622761">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622766">re</span>&nbsp;<span class="op" id="6622769">:=</span>&nbsp;<span class="ident" id="6622772">MustCompile</span><span class="op" id="6622783">(</span><span class="string" id="6622784">&#34;[ac]&#34;</span><span class="op" id="6622790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622793">b</span><span class="op" id="6622794">.</span><span class="ident" id="6622795">StartTimer</span><span class="op" id="6622805">(</span><span class="op" id="6622806">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622809">for</span>&nbsp;<span class="ident" id="6622813">i</span>&nbsp;<span class="op" id="6622815">:=</span>&nbsp;<span class="num" id="6622818">0</span><span class="op" id="6622819">;</span>&nbsp;<span class="ident" id="6622821">i</span>&nbsp;<span class="op" id="6622823">&lt;</span>&nbsp;<span class="ident" id="6622825">b</span><span class="op" id="6622826">.</span><span class="ident" id="6622827">N</span><span class="op" id="6622828">;</span>&nbsp;<span class="ident" id="6622830">i</span><span class="op" id="6622831">++</span>&nbsp;<span class="op" id="6622834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6622838">if</span>&nbsp;<span class="op" id="6622841">!</span><span class="ident" id="6622842">re</span><span class="op" id="6622844">.</span><span class="ident" id="6622845">MatchString</span><span class="op" id="6622856">(</span><span class="ident" id="6622857">x</span><span class="op" id="6622858">)</span>&nbsp;<span class="op" id="6622860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622865">b</span><span class="op" id="6622866">.</span><span class="ident" id="6622867">Fatalf</span><span class="op" id="6622873">(</span><span class="string" id="6622874">&#34;no&nbsp;match!&#34;</span><span class="op" id="6622885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6622892">}</span><br>
<span class="lineno">540</span><span class="op" id="6622894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6622897">func</span>&nbsp;<span class="ident" id="6622902">BenchmarkReplaceAll</span><span class="op" id="6622921">(</span><span class="ident" id="6622922">b</span>&nbsp;<span class="op" id="6622924">*</span><span class="ident" id="6622925">testing</span><span class="op" id="6622932">.</span><span class="ident" id="6622933">B</span><span class="op" id="6622934">)</span>&nbsp;<span class="op" id="6622936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622939">x</span>&nbsp;<span class="op" id="6622941">:=</span>&nbsp;<span class="string" id="6622944">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622974">b</span><span class="op" id="6622975">.</span><span class="ident" id="6622976">StopTimer</span><span class="op" id="6622985">(</span><span class="op" id="6622986">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6622989">re</span>&nbsp;<span class="op" id="6622992">:=</span>&nbsp;<span class="ident" id="6622995">MustCompile</span><span class="op" id="6623006">(</span><span class="string" id="6623007">&#34;[cjrw]&#34;</span><span class="op" id="6623015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623018">b</span><span class="op" id="6623019">.</span><span class="ident" id="6623020">StartTimer</span><span class="op" id="6623030">(</span><span class="op" id="6623031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623034">for</span>&nbsp;<span class="ident" id="6623038">i</span>&nbsp;<span class="op" id="6623040">:=</span>&nbsp;<span class="num" id="6623043">0</span><span class="op" id="6623044">;</span>&nbsp;<span class="ident" id="6623046">i</span>&nbsp;<span class="op" id="6623048">&lt;</span>&nbsp;<span class="ident" id="6623050">b</span><span class="op" id="6623051">.</span><span class="ident" id="6623052">N</span><span class="op" id="6623053">;</span>&nbsp;<span class="ident" id="6623055">i</span><span class="op" id="6623056">++</span>&nbsp;<span class="op" id="6623059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623063">re</span><span class="op" id="6623065">.</span><span class="ident" id="6623066">ReplaceAllString</span><span class="op" id="6623082">(</span><span class="ident" id="6623083">x</span><span class="op" id="6623084">,</span>&nbsp;<span class="string" id="6623086">&#34;&#34;</span><span class="op" id="6623088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623091">}</span><br>
<span class="lineno">550</span><span class="op" id="6623093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6623096">func</span>&nbsp;<span class="ident" id="6623101">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="6623138">(</span><span class="ident" id="6623139">b</span>&nbsp;<span class="op" id="6623141">*</span><span class="ident" id="6623142">testing</span><span class="op" id="6623149">.</span><span class="ident" id="6623150">B</span><span class="op" id="6623151">)</span>&nbsp;<span class="op" id="6623153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623156">b</span><span class="op" id="6623157">.</span><span class="ident" id="6623158">StopTimer</span><span class="op" id="6623167">(</span><span class="op" id="6623168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623171">x</span>&nbsp;<span class="op" id="6623173">:=</span>&nbsp;<span class="op" id="6623176">[</span><span class="op" id="6623177">]</span><span class="builtintype" id="6623178">byte</span><span class="op" id="6623182">(</span><span class="string" id="6623183">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6623211">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623214">re</span>&nbsp;<span class="op" id="6623217">:=</span>&nbsp;<span class="ident" id="6623220">MustCompile</span><span class="op" id="6623231">(</span><span class="string" id="6623232">&#34;^zbc(d|e)&#34;</span><span class="op" id="6623243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623246">b</span><span class="op" id="6623247">.</span><span class="ident" id="6623248">StartTimer</span><span class="op" id="6623258">(</span><span class="op" id="6623259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623262">for</span>&nbsp;<span class="ident" id="6623266">i</span>&nbsp;<span class="op" id="6623268">:=</span>&nbsp;<span class="num" id="6623271">0</span><span class="op" id="6623272">;</span>&nbsp;<span class="ident" id="6623274">i</span>&nbsp;<span class="op" id="6623276">&lt;</span>&nbsp;<span class="ident" id="6623278">b</span><span class="op" id="6623279">.</span><span class="ident" id="6623280">N</span><span class="op" id="6623281">;</span>&nbsp;<span class="ident" id="6623283">i</span><span class="op" id="6623284">++</span>&nbsp;<span class="op" id="6623287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623291">re</span><span class="op" id="6623293">.</span><span class="ident" id="6623294">Match</span><span class="op" id="6623299">(</span><span class="ident" id="6623300">x</span><span class="op" id="6623301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623304">}</span><br>
<span class="lineno">560</span><span class="op" id="6623306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6623309">func</span>&nbsp;<span class="ident" id="6623314">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="6623350">(</span><span class="ident" id="6623351">b</span>&nbsp;<span class="op" id="6623353">*</span><span class="ident" id="6623354">testing</span><span class="op" id="6623361">.</span><span class="ident" id="6623362">B</span><span class="op" id="6623363">)</span>&nbsp;<span class="op" id="6623365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623368">b</span><span class="op" id="6623369">.</span><span class="ident" id="6623370">StopTimer</span><span class="op" id="6623379">(</span><span class="op" id="6623380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623383">x</span>&nbsp;<span class="op" id="6623385">:=</span>&nbsp;<span class="op" id="6623388">[</span><span class="op" id="6623389">]</span><span class="builtintype" id="6623390">byte</span><span class="op" id="6623394">(</span><span class="string" id="6623395">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6623423">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623426">for</span>&nbsp;<span class="ident" id="6623430">i</span>&nbsp;<span class="op" id="6623432">:=</span>&nbsp;<span class="num" id="6623435">0</span><span class="op" id="6623436">;</span>&nbsp;<span class="ident" id="6623438">i</span>&nbsp;<span class="op" id="6623440">&lt;</span>&nbsp;<span class="num" id="6623442">15</span><span class="op" id="6623444">;</span>&nbsp;<span class="ident" id="6623446">i</span><span class="op" id="6623447">++</span>&nbsp;<span class="op" id="6623450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623454">x</span>&nbsp;<span class="op" id="6623456">=</span>&nbsp;<span class="builtinfunc" id="6623458">append</span><span class="op" id="6623464">(</span><span class="ident" id="6623465">x</span><span class="op" id="6623466">,</span>&nbsp;<span class="ident" id="6623468">x</span><span class="op" id="6623469">...</span><span class="op" id="6623472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623478">re</span>&nbsp;<span class="op" id="6623481">:=</span>&nbsp;<span class="ident" id="6623484">MustCompile</span><span class="op" id="6623495">(</span><span class="string" id="6623496">&#34;^zbc(d|e)&#34;</span><span class="op" id="6623507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623510">b</span><span class="op" id="6623511">.</span><span class="ident" id="6623512">StartTimer</span><span class="op" id="6623522">(</span><span class="op" id="6623523">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623526">for</span>&nbsp;<span class="ident" id="6623530">i</span>&nbsp;<span class="op" id="6623532">:=</span>&nbsp;<span class="num" id="6623535">0</span><span class="op" id="6623536">;</span>&nbsp;<span class="ident" id="6623538">i</span>&nbsp;<span class="op" id="6623540">&lt;</span>&nbsp;<span class="ident" id="6623542">b</span><span class="op" id="6623543">.</span><span class="ident" id="6623544">N</span><span class="op" id="6623545">;</span>&nbsp;<span class="ident" id="6623547">i</span><span class="op" id="6623548">++</span>&nbsp;<span class="op" id="6623551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623555">re</span><span class="op" id="6623557">.</span><span class="ident" id="6623558">Match</span><span class="op" id="6623563">(</span><span class="ident" id="6623564">x</span><span class="op" id="6623565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623568">}</span><br>
<span class="lineno"></span><span class="op" id="6623570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="6623573">func</span>&nbsp;<span class="ident" id="6623578">BenchmarkAnchoredShortMatch</span><span class="op" id="6623605">(</span><span class="ident" id="6623606">b</span>&nbsp;<span class="op" id="6623608">*</span><span class="ident" id="6623609">testing</span><span class="op" id="6623616">.</span><span class="ident" id="6623617">B</span><span class="op" id="6623618">)</span>&nbsp;<span class="op" id="6623620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623623">b</span><span class="op" id="6623624">.</span><span class="ident" id="6623625">StopTimer</span><span class="op" id="6623634">(</span><span class="op" id="6623635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623638">x</span>&nbsp;<span class="op" id="6623640">:=</span>&nbsp;<span class="op" id="6623643">[</span><span class="op" id="6623644">]</span><span class="builtintype" id="6623645">byte</span><span class="op" id="6623649">(</span><span class="string" id="6623650">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6623678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623681">re</span>&nbsp;<span class="op" id="6623684">:=</span>&nbsp;<span class="ident" id="6623687">MustCompile</span><span class="op" id="6623698">(</span><span class="string" id="6623699">&#34;^.bc(d|e)&#34;</span><span class="op" id="6623710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623713">b</span><span class="op" id="6623714">.</span><span class="ident" id="6623715">StartTimer</span><span class="op" id="6623725">(</span><span class="op" id="6623726">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623729">for</span>&nbsp;<span class="ident" id="6623733">i</span>&nbsp;<span class="op" id="6623735">:=</span>&nbsp;<span class="num" id="6623738">0</span><span class="op" id="6623739">;</span>&nbsp;<span class="ident" id="6623741">i</span>&nbsp;<span class="op" id="6623743">&lt;</span>&nbsp;<span class="ident" id="6623745">b</span><span class="op" id="6623746">.</span><span class="ident" id="6623747">N</span><span class="op" id="6623748">;</span>&nbsp;<span class="ident" id="6623750">i</span><span class="op" id="6623751">++</span>&nbsp;<span class="op" id="6623754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623758">re</span><span class="op" id="6623760">.</span><span class="ident" id="6623761">Match</span><span class="op" id="6623766">(</span><span class="ident" id="6623767">x</span><span class="op" id="6623768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623771">}</span><br>
<span class="lineno"></span><span class="op" id="6623773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="6623776">func</span>&nbsp;<span class="ident" id="6623781">BenchmarkAnchoredLongMatch</span><span class="op" id="6623807">(</span><span class="ident" id="6623808">b</span>&nbsp;<span class="op" id="6623810">*</span><span class="ident" id="6623811">testing</span><span class="op" id="6623818">.</span><span class="ident" id="6623819">B</span><span class="op" id="6623820">)</span>&nbsp;<span class="op" id="6623822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623825">b</span><span class="op" id="6623826">.</span><span class="ident" id="6623827">StopTimer</span><span class="op" id="6623836">(</span><span class="op" id="6623837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623840">x</span>&nbsp;<span class="op" id="6623842">:=</span>&nbsp;<span class="op" id="6623845">[</span><span class="op" id="6623846">]</span><span class="builtintype" id="6623847">byte</span><span class="op" id="6623851">(</span><span class="string" id="6623852">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6623880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623883">for</span>&nbsp;<span class="ident" id="6623887">i</span>&nbsp;<span class="op" id="6623889">:=</span>&nbsp;<span class="num" id="6623892">0</span><span class="op" id="6623893">;</span>&nbsp;<span class="ident" id="6623895">i</span>&nbsp;<span class="op" id="6623897">&lt;</span>&nbsp;<span class="num" id="6623899">15</span><span class="op" id="6623901">;</span>&nbsp;<span class="ident" id="6623903">i</span><span class="op" id="6623904">++</span>&nbsp;<span class="op" id="6623907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623911">x</span>&nbsp;<span class="op" id="6623913">=</span>&nbsp;<span class="builtinfunc" id="6623915">append</span><span class="op" id="6623921">(</span><span class="ident" id="6623922">x</span><span class="op" id="6623923">,</span>&nbsp;<span class="ident" id="6623925">x</span><span class="op" id="6623926">...</span><span class="op" id="6623929">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6623932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623935">re</span>&nbsp;<span class="op" id="6623938">:=</span>&nbsp;<span class="ident" id="6623941">MustCompile</span><span class="op" id="6623952">(</span><span class="string" id="6623953">&#34;^.bc(d|e)&#34;</span><span class="op" id="6623964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6623967">b</span><span class="op" id="6623968">.</span><span class="ident" id="6623969">StartTimer</span><span class="op" id="6623979">(</span><span class="op" id="6623980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6623983">for</span>&nbsp;<span class="ident" id="6623987">i</span>&nbsp;<span class="op" id="6623989">:=</span>&nbsp;<span class="num" id="6623992">0</span><span class="op" id="6623993">;</span>&nbsp;<span class="ident" id="6623995">i</span>&nbsp;<span class="op" id="6623997">&lt;</span>&nbsp;<span class="ident" id="6623999">b</span><span class="op" id="6624000">.</span><span class="ident" id="6624001">N</span><span class="op" id="6624002">;</span>&nbsp;<span class="ident" id="6624004">i</span><span class="op" id="6624005">++</span>&nbsp;<span class="op" id="6624008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624012">re</span><span class="op" id="6624014">.</span><span class="ident" id="6624015">Match</span><span class="op" id="6624020">(</span><span class="ident" id="6624021">x</span><span class="op" id="6624022">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624025">}</span><br>
<span class="lineno"></span><span class="op" id="6624027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6624030">func</span>&nbsp;<span class="ident" id="6624035">BenchmarkOnePassShortA</span><span class="op" id="6624057">(</span><span class="ident" id="6624058">b</span>&nbsp;<span class="op" id="6624060">*</span><span class="ident" id="6624061">testing</span><span class="op" id="6624068">.</span><span class="ident" id="6624069">B</span><span class="op" id="6624070">)</span>&nbsp;<span class="op" id="6624072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624075">b</span><span class="op" id="6624076">.</span><span class="ident" id="6624077">StopTimer</span><span class="op" id="6624086">(</span><span class="op" id="6624087">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624090">x</span>&nbsp;<span class="op" id="6624092">:=</span>&nbsp;<span class="op" id="6624095">[</span><span class="op" id="6624096">]</span><span class="builtintype" id="6624097">byte</span><span class="op" id="6624101">(</span><span class="string" id="6624102">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6624121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624124">re</span>&nbsp;<span class="op" id="6624127">:=</span>&nbsp;<span class="ident" id="6624130">MustCompile</span><span class="op" id="6624141">(</span><span class="string" id="6624142">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="6624155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624158">b</span><span class="op" id="6624159">.</span><span class="ident" id="6624160">StartTimer</span><span class="op" id="6624170">(</span><span class="op" id="6624171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6624174">for</span>&nbsp;<span class="ident" id="6624178">i</span>&nbsp;<span class="op" id="6624180">:=</span>&nbsp;<span class="num" id="6624183">0</span><span class="op" id="6624184">;</span>&nbsp;<span class="ident" id="6624186">i</span>&nbsp;<span class="op" id="6624188">&lt;</span>&nbsp;<span class="ident" id="6624190">b</span><span class="op" id="6624191">.</span><span class="ident" id="6624192">N</span><span class="op" id="6624193">;</span>&nbsp;<span class="ident" id="6624195">i</span><span class="op" id="6624196">++</span>&nbsp;<span class="op" id="6624199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624203">re</span><span class="op" id="6624205">.</span><span class="ident" id="6624206">Match</span><span class="op" id="6624211">(</span><span class="ident" id="6624212">x</span><span class="op" id="6624213">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624216">}</span><br>
<span class="lineno"></span><span class="op" id="6624218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6624221">func</span>&nbsp;<span class="ident" id="6624226">BenchmarkNotOnePassShortA</span><span class="op" id="6624251">(</span><span class="ident" id="6624252">b</span>&nbsp;<span class="op" id="6624254">*</span><span class="ident" id="6624255">testing</span><span class="op" id="6624262">.</span><span class="ident" id="6624263">B</span><span class="op" id="6624264">)</span>&nbsp;<span class="op" id="6624266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624269">b</span><span class="op" id="6624270">.</span><span class="ident" id="6624271">StopTimer</span><span class="op" id="6624280">(</span><span class="op" id="6624281">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624284">x</span>&nbsp;<span class="op" id="6624286">:=</span>&nbsp;<span class="op" id="6624289">[</span><span class="op" id="6624290">]</span><span class="builtintype" id="6624291">byte</span><span class="op" id="6624295">(</span><span class="string" id="6624296">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6624315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624318">re</span>&nbsp;<span class="op" id="6624321">:=</span>&nbsp;<span class="ident" id="6624324">MustCompile</span><span class="op" id="6624335">(</span><span class="string" id="6624336">&#34;.bc(d|e)*$&#34;</span><span class="op" id="6624348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624351">b</span><span class="op" id="6624352">.</span><span class="ident" id="6624353">StartTimer</span><span class="op" id="6624363">(</span><span class="op" id="6624364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6624367">for</span>&nbsp;<span class="ident" id="6624371">i</span>&nbsp;<span class="op" id="6624373">:=</span>&nbsp;<span class="num" id="6624376">0</span><span class="op" id="6624377">;</span>&nbsp;<span class="ident" id="6624379">i</span>&nbsp;<span class="op" id="6624381">&lt;</span>&nbsp;<span class="ident" id="6624383">b</span><span class="op" id="6624384">.</span><span class="ident" id="6624385">N</span><span class="op" id="6624386">;</span>&nbsp;<span class="ident" id="6624388">i</span><span class="op" id="6624389">++</span>&nbsp;<span class="op" id="6624392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624396">re</span><span class="op" id="6624398">.</span><span class="ident" id="6624399">Match</span><span class="op" id="6624404">(</span><span class="ident" id="6624405">x</span><span class="op" id="6624406">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624409">}</span><br>
<span class="lineno"></span><span class="op" id="6624411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6624414">func</span>&nbsp;<span class="ident" id="6624419">BenchmarkOnePassShortB</span><span class="op" id="6624441">(</span><span class="ident" id="6624442">b</span>&nbsp;<span class="op" id="6624444">*</span><span class="ident" id="6624445">testing</span><span class="op" id="6624452">.</span><span class="ident" id="6624453">B</span><span class="op" id="6624454">)</span>&nbsp;<span class="op" id="6624456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624459">b</span><span class="op" id="6624460">.</span><span class="ident" id="6624461">StopTimer</span><span class="op" id="6624470">(</span><span class="op" id="6624471">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624474">x</span>&nbsp;<span class="op" id="6624476">:=</span>&nbsp;<span class="op" id="6624479">[</span><span class="op" id="6624480">]</span><span class="builtintype" id="6624481">byte</span><span class="op" id="6624485">(</span><span class="string" id="6624486">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6624505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624508">re</span>&nbsp;<span class="op" id="6624511">:=</span>&nbsp;<span class="ident" id="6624514">MustCompile</span><span class="op" id="6624525">(</span><span class="string" id="6624526">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="6624541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624544">b</span><span class="op" id="6624545">.</span><span class="ident" id="6624546">StartTimer</span><span class="op" id="6624556">(</span><span class="op" id="6624557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6624560">for</span>&nbsp;<span class="ident" id="6624564">i</span>&nbsp;<span class="op" id="6624566">:=</span>&nbsp;<span class="num" id="6624569">0</span><span class="op" id="6624570">;</span>&nbsp;<span class="ident" id="6624572">i</span>&nbsp;<span class="op" id="6624574">&lt;</span>&nbsp;<span class="ident" id="6624576">b</span><span class="op" id="6624577">.</span><span class="ident" id="6624578">N</span><span class="op" id="6624579">;</span>&nbsp;<span class="ident" id="6624581">i</span><span class="op" id="6624582">++</span>&nbsp;<span class="op" id="6624585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624589">re</span><span class="op" id="6624591">.</span><span class="ident" id="6624592">Match</span><span class="op" id="6624597">(</span><span class="ident" id="6624598">x</span><span class="op" id="6624599">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624602">}</span><br>
<span class="lineno"></span><span class="op" id="6624604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6624607">func</span>&nbsp;<span class="ident" id="6624612">BenchmarkNotOnePassShortB</span><span class="op" id="6624637">(</span><span class="ident" id="6624638">b</span>&nbsp;<span class="op" id="6624640">*</span><span class="ident" id="6624641">testing</span><span class="op" id="6624648">.</span><span class="ident" id="6624649">B</span><span class="op" id="6624650">)</span>&nbsp;<span class="op" id="6624652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624655">b</span><span class="op" id="6624656">.</span><span class="ident" id="6624657">StopTimer</span><span class="op" id="6624666">(</span><span class="op" id="6624667">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624670">x</span>&nbsp;<span class="op" id="6624672">:=</span>&nbsp;<span class="op" id="6624675">[</span><span class="op" id="6624676">]</span><span class="builtintype" id="6624677">byte</span><span class="op" id="6624681">(</span><span class="string" id="6624682">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6624701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624704">re</span>&nbsp;<span class="op" id="6624707">:=</span>&nbsp;<span class="ident" id="6624710">MustCompile</span><span class="op" id="6624721">(</span><span class="string" id="6624722">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="6624736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624739">b</span><span class="op" id="6624740">.</span><span class="ident" id="6624741">StartTimer</span><span class="op" id="6624751">(</span><span class="op" id="6624752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6624755">for</span>&nbsp;<span class="ident" id="6624759">i</span>&nbsp;<span class="op" id="6624761">:=</span>&nbsp;<span class="num" id="6624764">0</span><span class="op" id="6624765">;</span>&nbsp;<span class="ident" id="6624767">i</span>&nbsp;<span class="op" id="6624769">&lt;</span>&nbsp;<span class="ident" id="6624771">b</span><span class="op" id="6624772">.</span><span class="ident" id="6624773">N</span><span class="op" id="6624774">;</span>&nbsp;<span class="ident" id="6624776">i</span><span class="op" id="6624777">++</span>&nbsp;<span class="op" id="6624780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624784">re</span><span class="op" id="6624786">.</span><span class="ident" id="6624787">Match</span><span class="op" id="6624792">(</span><span class="ident" id="6624793">x</span><span class="op" id="6624794">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6624797">}</span><br>
<span class="lineno"></span><span class="op" id="6624799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6624802">func</span>&nbsp;<span class="ident" id="6624807">BenchmarkOnePassLongPrefix</span><span class="op" id="6624833">(</span><span class="ident" id="6624834">b</span>&nbsp;<span class="op" id="6624836">*</span><span class="ident" id="6624837">testing</span><span class="op" id="6624844">.</span><span class="ident" id="6624845">B</span><span class="op" id="6624846">)</span>&nbsp;<span class="op" id="6624848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624851">b</span><span class="op" id="6624852">.</span><span class="ident" id="6624853">StopTimer</span><span class="op" id="6624862">(</span><span class="op" id="6624863">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624866">x</span>&nbsp;<span class="op" id="6624868">:=</span>&nbsp;<span class="op" id="6624871">[</span><span class="op" id="6624872">]</span><span class="builtintype" id="6624873">byte</span><span class="op" id="6624877">(</span><span class="string" id="6624878">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6624906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624909">re</span>&nbsp;<span class="op" id="6624912">:=</span>&nbsp;<span class="ident" id="6624915">MustCompile</span><span class="op" id="6624926">(</span><span class="string" id="6624927">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="6624959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6624962">b</span><span class="op" id="6624963">.</span><span class="ident" id="6624964">StartTimer</span><span class="op" id="6624974">(</span><span class="op" id="6624975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6624978">for</span>&nbsp;<span class="ident" id="6624982">i</span>&nbsp;<span class="op" id="6624984">:=</span>&nbsp;<span class="num" id="6624987">0</span><span class="op" id="6624988">;</span>&nbsp;<span class="ident" id="6624990">i</span>&nbsp;<span class="op" id="6624992">&lt;</span>&nbsp;<span class="ident" id="6624994">b</span><span class="op" id="6624995">.</span><span class="ident" id="6624996">N</span><span class="op" id="6624997">;</span>&nbsp;<span class="ident" id="6624999">i</span><span class="op" id="6625000">++</span>&nbsp;<span class="op" id="6625003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625007">re</span><span class="op" id="6625009">.</span><span class="ident" id="6625010">Match</span><span class="op" id="6625015">(</span><span class="ident" id="6625016">x</span><span class="op" id="6625017">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625020">}</span><br>
<span class="lineno"></span><span class="op" id="6625022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6625025">func</span>&nbsp;<span class="ident" id="6625030">BenchmarkOnePassLongNotPrefix</span><span class="op" id="6625059">(</span><span class="ident" id="6625060">b</span>&nbsp;<span class="op" id="6625062">*</span><span class="ident" id="6625063">testing</span><span class="op" id="6625070">.</span><span class="ident" id="6625071">B</span><span class="op" id="6625072">)</span>&nbsp;<span class="op" id="6625074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625077">b</span><span class="op" id="6625078">.</span><span class="ident" id="6625079">StopTimer</span><span class="op" id="6625088">(</span><span class="op" id="6625089">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625092">x</span>&nbsp;<span class="op" id="6625094">:=</span>&nbsp;<span class="op" id="6625097">[</span><span class="op" id="6625098">]</span><span class="builtintype" id="6625099">byte</span><span class="op" id="6625103">(</span><span class="string" id="6625104">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6625132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625135">re</span>&nbsp;<span class="op" id="6625138">:=</span>&nbsp;<span class="ident" id="6625141">MustCompile</span><span class="op" id="6625152">(</span><span class="string" id="6625153">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="6625185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625188">b</span><span class="op" id="6625189">.</span><span class="ident" id="6625190">StartTimer</span><span class="op" id="6625200">(</span><span class="op" id="6625201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6625204">for</span>&nbsp;<span class="ident" id="6625208">i</span>&nbsp;<span class="op" id="6625210">:=</span>&nbsp;<span class="num" id="6625213">0</span><span class="op" id="6625214">;</span>&nbsp;<span class="ident" id="6625216">i</span>&nbsp;<span class="op" id="6625218">&lt;</span>&nbsp;<span class="ident" id="6625220">b</span><span class="op" id="6625221">.</span><span class="ident" id="6625222">N</span><span class="op" id="6625223">;</span>&nbsp;<span class="ident" id="6625225">i</span><span class="op" id="6625226">++</span>&nbsp;<span class="op" id="6625229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6625233">re</span><span class="op" id="6625235">.</span><span class="ident" id="6625236">Match</span><span class="op" id="6625241">(</span><span class="ident" id="6625242">x</span><span class="op" id="6625243">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6625246">}</span><br>
<span class="lineno"></span><span class="op" id="6625248">}</span>
</div>
</body>
</html>
