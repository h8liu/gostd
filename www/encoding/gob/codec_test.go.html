<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7298474">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7298529">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7298583">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7298634">package</span>&nbsp;<span class="ident" id="7298642">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7298647">import</span>&nbsp;<span class="op" id="7298654">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298657">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298666">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298676">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298684">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298692">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298705">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298716">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298727">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7298738">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7298745">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7298748">var</span>&nbsp;<span class="ident" id="7298752">doFuzzTests</span>&nbsp;<span class="op" id="7298764">=</span>&nbsp;<span class="ident" id="7298766">flag</span><span class="op" id="7298770">.</span><span class="ident" id="7298771">Bool</span><span class="op" id="7298775">(</span><span class="string" id="7298776">&#34;gob.fuzz&#34;</span><span class="op" id="7298786">,</span>&nbsp;<span class="ident" id="7298788">false</span><span class="op" id="7298793">,</span>&nbsp;<span class="string" id="7298795">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="7298846">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7298849">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="7298929">type</span>&nbsp;<span class="ident" id="7298934">EncodeT</span>&nbsp;<span class="keyword" id="7298942">struct</span>&nbsp;<span class="op" id="7298949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7298952">x</span>&nbsp;<span class="ident" id="7298954">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7298962">b</span>&nbsp;<span class="op" id="7298964">[</span><span class="op" id="7298965">]</span><span class="builtintype" id="7298966">byte</span><br>
<span class="lineno">25</span><span class="op" id="7298971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7298974">var</span>&nbsp;<span class="ident" id="7298978">encodeT</span>&nbsp;<span class="op" id="7298986">=</span>&nbsp;<span class="op" id="7298988">[</span><span class="op" id="7298989">]</span><span class="ident" id="7298990">EncodeT</span><span class="op" id="7298997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299000">{</span><span class="num" id="7299001">0x00</span><span class="op" id="7299005">,</span>&nbsp;<span class="op" id="7299007">[</span><span class="op" id="7299008">]</span><span class="builtintype" id="7299009">byte</span><span class="op" id="7299013">{</span><span class="num" id="7299014">0x00</span><span class="op" id="7299018">}</span><span class="op" id="7299019">}</span><span class="op" id="7299020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299023">{</span><span class="num" id="7299024">0x0F</span><span class="op" id="7299028">,</span>&nbsp;<span class="op" id="7299030">[</span><span class="op" id="7299031">]</span><span class="builtintype" id="7299032">byte</span><span class="op" id="7299036">{</span><span class="num" id="7299037">0x0F</span><span class="op" id="7299041">}</span><span class="op" id="7299042">}</span><span class="op" id="7299043">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299046">{</span><span class="num" id="7299047">0xFF</span><span class="op" id="7299051">,</span>&nbsp;<span class="op" id="7299053">[</span><span class="op" id="7299054">]</span><span class="builtintype" id="7299055">byte</span><span class="op" id="7299059">{</span><span class="num" id="7299060">0xFF</span><span class="op" id="7299064">,</span>&nbsp;<span class="num" id="7299066">0xFF</span><span class="op" id="7299070">}</span><span class="op" id="7299071">}</span><span class="op" id="7299072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299075">{</span><span class="num" id="7299076">0xFFFF</span><span class="op" id="7299082">,</span>&nbsp;<span class="op" id="7299084">[</span><span class="op" id="7299085">]</span><span class="builtintype" id="7299086">byte</span><span class="op" id="7299090">{</span><span class="num" id="7299091">0xFE</span><span class="op" id="7299095">,</span>&nbsp;<span class="num" id="7299097">0xFF</span><span class="op" id="7299101">,</span>&nbsp;<span class="num" id="7299103">0xFF</span><span class="op" id="7299107">}</span><span class="op" id="7299108">}</span><span class="op" id="7299109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299112">{</span><span class="num" id="7299113">0xFFFFFF</span><span class="op" id="7299121">,</span>&nbsp;<span class="op" id="7299123">[</span><span class="op" id="7299124">]</span><span class="builtintype" id="7299125">byte</span><span class="op" id="7299129">{</span><span class="num" id="7299130">0xFD</span><span class="op" id="7299134">,</span>&nbsp;<span class="num" id="7299136">0xFF</span><span class="op" id="7299140">,</span>&nbsp;<span class="num" id="7299142">0xFF</span><span class="op" id="7299146">,</span>&nbsp;<span class="num" id="7299148">0xFF</span><span class="op" id="7299152">}</span><span class="op" id="7299153">}</span><span class="op" id="7299154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299157">{</span><span class="num" id="7299158">0xFFFFFFFF</span><span class="op" id="7299168">,</span>&nbsp;<span class="op" id="7299170">[</span><span class="op" id="7299171">]</span><span class="builtintype" id="7299172">byte</span><span class="op" id="7299176">{</span><span class="num" id="7299177">0xFC</span><span class="op" id="7299181">,</span>&nbsp;<span class="num" id="7299183">0xFF</span><span class="op" id="7299187">,</span>&nbsp;<span class="num" id="7299189">0xFF</span><span class="op" id="7299193">,</span>&nbsp;<span class="num" id="7299195">0xFF</span><span class="op" id="7299199">,</span>&nbsp;<span class="num" id="7299201">0xFF</span><span class="op" id="7299205">}</span><span class="op" id="7299206">}</span><span class="op" id="7299207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299210">{</span><span class="num" id="7299211">0xFFFFFFFFFF</span><span class="op" id="7299223">,</span>&nbsp;<span class="op" id="7299225">[</span><span class="op" id="7299226">]</span><span class="builtintype" id="7299227">byte</span><span class="op" id="7299231">{</span><span class="num" id="7299232">0xFB</span><span class="op" id="7299236">,</span>&nbsp;<span class="num" id="7299238">0xFF</span><span class="op" id="7299242">,</span>&nbsp;<span class="num" id="7299244">0xFF</span><span class="op" id="7299248">,</span>&nbsp;<span class="num" id="7299250">0xFF</span><span class="op" id="7299254">,</span>&nbsp;<span class="num" id="7299256">0xFF</span><span class="op" id="7299260">,</span>&nbsp;<span class="num" id="7299262">0xFF</span><span class="op" id="7299266">}</span><span class="op" id="7299267">}</span><span class="op" id="7299268">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299271">{</span><span class="num" id="7299272">0xFFFFFFFFFFFF</span><span class="op" id="7299286">,</span>&nbsp;<span class="op" id="7299288">[</span><span class="op" id="7299289">]</span><span class="builtintype" id="7299290">byte</span><span class="op" id="7299294">{</span><span class="num" id="7299295">0xFA</span><span class="op" id="7299299">,</span>&nbsp;<span class="num" id="7299301">0xFF</span><span class="op" id="7299305">,</span>&nbsp;<span class="num" id="7299307">0xFF</span><span class="op" id="7299311">,</span>&nbsp;<span class="num" id="7299313">0xFF</span><span class="op" id="7299317">,</span>&nbsp;<span class="num" id="7299319">0xFF</span><span class="op" id="7299323">,</span>&nbsp;<span class="num" id="7299325">0xFF</span><span class="op" id="7299329">,</span>&nbsp;<span class="num" id="7299331">0xFF</span><span class="op" id="7299335">}</span><span class="op" id="7299336">}</span><span class="op" id="7299337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299340">{</span><span class="num" id="7299341">0xFFFFFFFFFFFFFF</span><span class="op" id="7299357">,</span>&nbsp;<span class="op" id="7299359">[</span><span class="op" id="7299360">]</span><span class="builtintype" id="7299361">byte</span><span class="op" id="7299365">{</span><span class="num" id="7299366">0xF9</span><span class="op" id="7299370">,</span>&nbsp;<span class="num" id="7299372">0xFF</span><span class="op" id="7299376">,</span>&nbsp;<span class="num" id="7299378">0xFF</span><span class="op" id="7299382">,</span>&nbsp;<span class="num" id="7299384">0xFF</span><span class="op" id="7299388">,</span>&nbsp;<span class="num" id="7299390">0xFF</span><span class="op" id="7299394">,</span>&nbsp;<span class="num" id="7299396">0xFF</span><span class="op" id="7299400">,</span>&nbsp;<span class="num" id="7299402">0xFF</span><span class="op" id="7299406">,</span>&nbsp;<span class="num" id="7299408">0xFF</span><span class="op" id="7299412">}</span><span class="op" id="7299413">}</span><span class="op" id="7299414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299417">{</span><span class="num" id="7299418">0xFFFFFFFFFFFFFFFF</span><span class="op" id="7299436">,</span>&nbsp;<span class="op" id="7299438">[</span><span class="op" id="7299439">]</span><span class="builtintype" id="7299440">byte</span><span class="op" id="7299444">{</span><span class="num" id="7299445">0xF8</span><span class="op" id="7299449">,</span>&nbsp;<span class="num" id="7299451">0xFF</span><span class="op" id="7299455">,</span>&nbsp;<span class="num" id="7299457">0xFF</span><span class="op" id="7299461">,</span>&nbsp;<span class="num" id="7299463">0xFF</span><span class="op" id="7299467">,</span>&nbsp;<span class="num" id="7299469">0xFF</span><span class="op" id="7299473">,</span>&nbsp;<span class="num" id="7299475">0xFF</span><span class="op" id="7299479">,</span>&nbsp;<span class="num" id="7299481">0xFF</span><span class="op" id="7299485">,</span>&nbsp;<span class="num" id="7299487">0xFF</span><span class="op" id="7299491">,</span>&nbsp;<span class="num" id="7299493">0xFF</span><span class="op" id="7299497">}</span><span class="op" id="7299498">}</span><span class="op" id="7299499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299502">{</span><span class="num" id="7299503">0x1111</span><span class="op" id="7299509">,</span>&nbsp;<span class="op" id="7299511">[</span><span class="op" id="7299512">]</span><span class="builtintype" id="7299513">byte</span><span class="op" id="7299517">{</span><span class="num" id="7299518">0xFE</span><span class="op" id="7299522">,</span>&nbsp;<span class="num" id="7299524">0x11</span><span class="op" id="7299528">,</span>&nbsp;<span class="num" id="7299530">0x11</span><span class="op" id="7299534">}</span><span class="op" id="7299535">}</span><span class="op" id="7299536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299539">{</span><span class="num" id="7299540">0x1111111111111111</span><span class="op" id="7299558">,</span>&nbsp;<span class="op" id="7299560">[</span><span class="op" id="7299561">]</span><span class="builtintype" id="7299562">byte</span><span class="op" id="7299566">{</span><span class="num" id="7299567">0xF8</span><span class="op" id="7299571">,</span>&nbsp;<span class="num" id="7299573">0x11</span><span class="op" id="7299577">,</span>&nbsp;<span class="num" id="7299579">0x11</span><span class="op" id="7299583">,</span>&nbsp;<span class="num" id="7299585">0x11</span><span class="op" id="7299589">,</span>&nbsp;<span class="num" id="7299591">0x11</span><span class="op" id="7299595">,</span>&nbsp;<span class="num" id="7299597">0x11</span><span class="op" id="7299601">,</span>&nbsp;<span class="num" id="7299603">0x11</span><span class="op" id="7299607">,</span>&nbsp;<span class="num" id="7299609">0x11</span><span class="op" id="7299613">,</span>&nbsp;<span class="num" id="7299615">0x11</span><span class="op" id="7299619">}</span><span class="op" id="7299620">}</span><span class="op" id="7299621">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299624">{</span><span class="num" id="7299625">0x8888888888888888</span><span class="op" id="7299643">,</span>&nbsp;<span class="op" id="7299645">[</span><span class="op" id="7299646">]</span><span class="builtintype" id="7299647">byte</span><span class="op" id="7299651">{</span><span class="num" id="7299652">0xF8</span><span class="op" id="7299656">,</span>&nbsp;<span class="num" id="7299658">0x88</span><span class="op" id="7299662">,</span>&nbsp;<span class="num" id="7299664">0x88</span><span class="op" id="7299668">,</span>&nbsp;<span class="num" id="7299670">0x88</span><span class="op" id="7299674">,</span>&nbsp;<span class="num" id="7299676">0x88</span><span class="op" id="7299680">,</span>&nbsp;<span class="num" id="7299682">0x88</span><span class="op" id="7299686">,</span>&nbsp;<span class="num" id="7299688">0x88</span><span class="op" id="7299692">,</span>&nbsp;<span class="num" id="7299694">0x88</span><span class="op" id="7299698">,</span>&nbsp;<span class="num" id="7299700">0x88</span><span class="op" id="7299704">}</span><span class="op" id="7299705">}</span><span class="op" id="7299706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7299709">{</span><span class="num" id="7299710">1</span>&nbsp;<span class="op" id="7299712">&lt;&lt;</span>&nbsp;<span class="num" id="7299715">63</span><span class="op" id="7299717">,</span>&nbsp;<span class="op" id="7299719">[</span><span class="op" id="7299720">]</span><span class="builtintype" id="7299721">byte</span><span class="op" id="7299725">{</span><span class="num" id="7299726">0xF8</span><span class="op" id="7299730">,</span>&nbsp;<span class="num" id="7299732">0x80</span><span class="op" id="7299736">,</span>&nbsp;<span class="num" id="7299738">0x00</span><span class="op" id="7299742">,</span>&nbsp;<span class="num" id="7299744">0x00</span><span class="op" id="7299748">,</span>&nbsp;<span class="num" id="7299750">0x00</span><span class="op" id="7299754">,</span>&nbsp;<span class="num" id="7299756">0x00</span><span class="op" id="7299760">,</span>&nbsp;<span class="num" id="7299762">0x00</span><span class="op" id="7299766">,</span>&nbsp;<span class="num" id="7299768">0x00</span><span class="op" id="7299772">,</span>&nbsp;<span class="num" id="7299774">0x00</span><span class="op" id="7299778">}</span><span class="op" id="7299779">}</span><span class="op" id="7299780">,</span><br>
<span class="lineno"></span><span class="op" id="7299782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7299785">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="7299874">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="7299900">func</span>&nbsp;<span class="ident" id="7299905">testError</span><span class="op" id="7299914">(</span><span class="ident" id="7299915">t</span>&nbsp;<span class="op" id="7299917">*</span><span class="ident" id="7299918">testing</span><span class="op" id="7299925">.</span><span class="ident" id="7299926">T</span><span class="op" id="7299927">)</span>&nbsp;<span class="op" id="7299929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7299932">if</span>&nbsp;<span class="ident" id="7299935">e</span>&nbsp;<span class="op" id="7299937">:=</span>&nbsp;<span class="builtinfunc" id="7299940">recover</span><span class="op" id="7299947">(</span><span class="op" id="7299948">)</span><span class="op" id="7299949">;</span>&nbsp;<span class="ident" id="7299951">e</span>&nbsp;<span class="op" id="7299953">!=</span>&nbsp;<span class="ident" id="7299956">nil</span>&nbsp;<span class="op" id="7299960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7299964">t</span><span class="op" id="7299965">.</span><span class="ident" id="7299966">Error</span><span class="op" id="7299971">(</span><span class="ident" id="7299972">e</span><span class="op" id="7299973">.</span><span class="op" id="7299974">(</span><span class="ident" id="7299975">gobError</span><span class="op" id="7299983">)</span><span class="op" id="7299984">.</span><span class="ident" id="7299985">err</span><span class="op" id="7299988">)</span>&nbsp;<span class="comment" id="7299990">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7300059">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300062">return</span><br>
<span class="lineno"></span><span class="op" id="7300069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7300072">func</span>&nbsp;<span class="ident" id="7300077">newDecBuffer</span><span class="op" id="7300089">(</span><span class="ident" id="7300090">data</span>&nbsp;<span class="op" id="7300095">[</span><span class="op" id="7300096">]</span><span class="builtintype" id="7300097">byte</span><span class="op" id="7300101">)</span>&nbsp;<span class="op" id="7300103">*</span><span class="ident" id="7300104">decBuffer</span>&nbsp;<span class="op" id="7300114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300117">return</span>&nbsp;<span class="op" id="7300124">&amp;</span><span class="ident" id="7300125">decBuffer</span><span class="op" id="7300134">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300138">data</span><span class="op" id="7300142">:</span>&nbsp;<span class="ident" id="7300144">data</span><span class="op" id="7300148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7300151">}</span><br>
<span class="lineno"></span><span class="op" id="7300153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7300156">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="7300215">func</span>&nbsp;<span class="ident" id="7300220">TestUintCodec</span><span class="op" id="7300233">(</span><span class="ident" id="7300234">t</span>&nbsp;<span class="op" id="7300236">*</span><span class="ident" id="7300237">testing</span><span class="op" id="7300244">.</span><span class="ident" id="7300245">T</span><span class="op" id="7300246">)</span>&nbsp;<span class="op" id="7300248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300251">defer</span>&nbsp;<span class="ident" id="7300257">testError</span><span class="op" id="7300266">(</span><span class="ident" id="7300267">t</span><span class="op" id="7300268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300271">b</span>&nbsp;<span class="op" id="7300273">:=</span>&nbsp;<span class="builtinfunc" id="7300276">new</span><span class="op" id="7300279">(</span><span class="ident" id="7300280">encBuffer</span><span class="op" id="7300289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300292">encState</span>&nbsp;<span class="op" id="7300301">:=</span>&nbsp;<span class="ident" id="7300304">newEncoderState</span><span class="op" id="7300319">(</span><span class="ident" id="7300320">b</span><span class="op" id="7300321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300324">for</span>&nbsp;<span class="ident" id="7300328">_</span><span class="op" id="7300329">,</span>&nbsp;<span class="ident" id="7300331">tt</span>&nbsp;<span class="op" id="7300334">:=</span>&nbsp;<span class="keyword" id="7300337">range</span>&nbsp;<span class="ident" id="7300343">encodeT</span>&nbsp;<span class="op" id="7300351">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300355">b</span><span class="op" id="7300356">.</span><span class="ident" id="7300357">Reset</span><span class="op" id="7300362">(</span><span class="op" id="7300363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300367">encState</span><span class="op" id="7300375">.</span><span class="ident" id="7300376">encodeUint</span><span class="op" id="7300386">(</span><span class="ident" id="7300387">tt</span><span class="op" id="7300389">.</span><span class="ident" id="7300390">x</span><span class="op" id="7300391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300395">if</span>&nbsp;<span class="op" id="7300398">!</span><span class="ident" id="7300399">bytes</span><span class="op" id="7300404">.</span><span class="ident" id="7300405">Equal</span><span class="op" id="7300410">(</span><span class="ident" id="7300411">tt</span><span class="op" id="7300413">.</span><span class="ident" id="7300414">b</span><span class="op" id="7300415">,</span>&nbsp;<span class="ident" id="7300417">b</span><span class="op" id="7300418">.</span><span class="ident" id="7300419">Bytes</span><span class="op" id="7300424">(</span><span class="op" id="7300425">)</span><span class="op" id="7300426">)</span>&nbsp;<span class="op" id="7300428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300433">t</span><span class="op" id="7300434">.</span><span class="ident" id="7300435">Errorf</span><span class="op" id="7300441">(</span><span class="string" id="7300442">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7300488">,</span>&nbsp;<span class="ident" id="7300490">tt</span><span class="op" id="7300492">.</span><span class="ident" id="7300493">x</span><span class="op" id="7300494">,</span>&nbsp;<span class="ident" id="7300496">tt</span><span class="op" id="7300498">.</span><span class="ident" id="7300499">b</span><span class="op" id="7300500">,</span>&nbsp;<span class="ident" id="7300502">b</span><span class="op" id="7300503">.</span><span class="ident" id="7300504">Bytes</span><span class="op" id="7300509">(</span><span class="op" id="7300510">)</span><span class="op" id="7300511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7300515">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7300518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300521">for</span>&nbsp;<span class="ident" id="7300525">u</span>&nbsp;<span class="op" id="7300527">:=</span>&nbsp;<span class="ident" id="7300530">uint64</span><span class="op" id="7300536">(</span><span class="num" id="7300537">0</span><span class="op" id="7300538">)</span><span class="op" id="7300539">;</span>&nbsp;<span class="op" id="7300541">;</span>&nbsp;<span class="ident" id="7300543">u</span>&nbsp;<span class="op" id="7300545">=</span>&nbsp;<span class="op" id="7300547">(</span><span class="ident" id="7300548">u</span>&nbsp;<span class="op" id="7300550">+</span>&nbsp;<span class="num" id="7300552">1</span><span class="op" id="7300553">)</span>&nbsp;<span class="op" id="7300555">*</span>&nbsp;<span class="num" id="7300557">7</span>&nbsp;<span class="op" id="7300559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300563">b</span><span class="op" id="7300564">.</span><span class="ident" id="7300565">Reset</span><span class="op" id="7300570">(</span><span class="op" id="7300571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300575">encState</span><span class="op" id="7300583">.</span><span class="ident" id="7300584">encodeUint</span><span class="op" id="7300594">(</span><span class="ident" id="7300595">u</span><span class="op" id="7300596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300600">decState</span>&nbsp;<span class="op" id="7300609">:=</span>&nbsp;<span class="ident" id="7300612">newDecodeState</span><span class="op" id="7300626">(</span><span class="ident" id="7300627">newDecBuffer</span><span class="op" id="7300639">(</span><span class="ident" id="7300640">b</span><span class="op" id="7300641">.</span><span class="ident" id="7300642">Bytes</span><span class="op" id="7300647">(</span><span class="op" id="7300648">)</span><span class="op" id="7300649">)</span><span class="op" id="7300650">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300654">v</span>&nbsp;<span class="op" id="7300656">:=</span>&nbsp;<span class="ident" id="7300659">decState</span><span class="op" id="7300667">.</span><span class="ident" id="7300668">decodeUint</span><span class="op" id="7300678">(</span><span class="op" id="7300679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300683">if</span>&nbsp;<span class="ident" id="7300686">u</span>&nbsp;<span class="op" id="7300688">!=</span>&nbsp;<span class="ident" id="7300691">v</span>&nbsp;<span class="op" id="7300693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300698">t</span><span class="op" id="7300699">.</span><span class="ident" id="7300700">Errorf</span><span class="op" id="7300706">(</span><span class="string" id="7300707">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="7300745">,</span>&nbsp;<span class="ident" id="7300747">u</span><span class="op" id="7300748">,</span>&nbsp;<span class="ident" id="7300750">v</span><span class="op" id="7300751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7300755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300759">if</span>&nbsp;<span class="ident" id="7300762">u</span><span class="op" id="7300763">&amp;</span><span class="op" id="7300764">(</span><span class="num" id="7300765">1</span><span class="op" id="7300766">&lt;&lt;</span><span class="num" id="7300768">63</span><span class="op" id="7300770">)</span>&nbsp;<span class="op" id="7300772">!=</span>&nbsp;<span class="num" id="7300775">0</span>&nbsp;<span class="op" id="7300777">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300782">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7300790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7300793">}</span><br>
<span class="lineno"></span><span class="op" id="7300795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="7300798">func</span>&nbsp;<span class="ident" id="7300803">verifyInt</span><span class="op" id="7300812">(</span><span class="ident" id="7300813">i</span>&nbsp;<span class="ident" id="7300815">int64</span><span class="op" id="7300820">,</span>&nbsp;<span class="ident" id="7300822">t</span>&nbsp;<span class="op" id="7300824">*</span><span class="ident" id="7300825">testing</span><span class="op" id="7300832">.</span><span class="ident" id="7300833">T</span><span class="op" id="7300834">)</span>&nbsp;<span class="op" id="7300836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300839">defer</span>&nbsp;<span class="ident" id="7300845">testError</span><span class="op" id="7300854">(</span><span class="ident" id="7300855">t</span><span class="op" id="7300856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7300859">var</span>&nbsp;<span class="ident" id="7300863">b</span>&nbsp;<span class="op" id="7300865">=</span>&nbsp;<span class="builtinfunc" id="7300867">new</span><span class="op" id="7300870">(</span><span class="ident" id="7300871">encBuffer</span><span class="op" id="7300880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300883">encState</span>&nbsp;<span class="op" id="7300892">:=</span>&nbsp;<span class="ident" id="7300895">newEncoderState</span><span class="op" id="7300910">(</span><span class="ident" id="7300911">b</span><span class="op" id="7300912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300915">encState</span><span class="op" id="7300923">.</span><span class="ident" id="7300924">encodeInt</span><span class="op" id="7300933">(</span><span class="ident" id="7300934">i</span><span class="op" id="7300935">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300938">decState</span>&nbsp;<span class="op" id="7300947">:=</span>&nbsp;<span class="ident" id="7300950">newDecodeState</span><span class="op" id="7300964">(</span><span class="ident" id="7300965">newDecBuffer</span><span class="op" id="7300977">(</span><span class="ident" id="7300978">b</span><span class="op" id="7300979">.</span><span class="ident" id="7300980">Bytes</span><span class="op" id="7300985">(</span><span class="op" id="7300986">)</span><span class="op" id="7300987">)</span><span class="op" id="7300988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7300991">decState</span><span class="op" id="7300999">.</span><span class="ident" id="7301000">buf</span>&nbsp;<span class="op" id="7301004">=</span>&nbsp;<span class="builtinfunc" id="7301006">make</span><span class="op" id="7301010">(</span><span class="op" id="7301011">[</span><span class="op" id="7301012">]</span><span class="builtintype" id="7301013">byte</span><span class="op" id="7301017">,</span>&nbsp;<span class="num" id="7301019">8</span><span class="op" id="7301020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7301023">j</span>&nbsp;<span class="op" id="7301025">:=</span>&nbsp;<span class="ident" id="7301028">decState</span><span class="op" id="7301036">.</span><span class="ident" id="7301037">decodeInt</span><span class="op" id="7301046">(</span><span class="op" id="7301047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7301050">if</span>&nbsp;<span class="ident" id="7301053">i</span>&nbsp;<span class="op" id="7301055">!=</span>&nbsp;<span class="ident" id="7301058">j</span>&nbsp;<span class="op" id="7301060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7301064">t</span><span class="op" id="7301065">.</span><span class="ident" id="7301066">Errorf</span><span class="op" id="7301072">(</span><span class="string" id="7301073">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="7301111">,</span>&nbsp;<span class="ident" id="7301113">uint64</span><span class="op" id="7301119">(</span><span class="ident" id="7301120">i</span><span class="op" id="7301121">)</span><span class="op" id="7301122">,</span>&nbsp;<span class="ident" id="7301124">uint64</span><span class="op" id="7301130">(</span><span class="ident" id="7301131">j</span><span class="op" id="7301132">)</span><span class="op" id="7301133">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7301136">}</span><br>
<span class="lineno"></span><span class="op" id="7301138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7301141">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="7301198">func</span>&nbsp;<span class="ident" id="7301203">TestIntCodec</span><span class="op" id="7301215">(</span><span class="ident" id="7301216">t</span>&nbsp;<span class="op" id="7301218">*</span><span class="ident" id="7301219">testing</span><span class="op" id="7301226">.</span><span class="ident" id="7301227">T</span><span class="op" id="7301228">)</span>&nbsp;<span class="op" id="7301230">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7301233">for</span>&nbsp;<span class="ident" id="7301237">u</span>&nbsp;<span class="op" id="7301239">:=</span>&nbsp;<span class="ident" id="7301242">uint64</span><span class="op" id="7301248">(</span><span class="num" id="7301249">0</span><span class="op" id="7301250">)</span><span class="op" id="7301251">;</span>&nbsp;<span class="op" id="7301253">;</span>&nbsp;<span class="ident" id="7301255">u</span>&nbsp;<span class="op" id="7301257">=</span>&nbsp;<span class="op" id="7301259">(</span><span class="ident" id="7301260">u</span>&nbsp;<span class="op" id="7301262">+</span>&nbsp;<span class="num" id="7301264">1</span><span class="op" id="7301265">)</span>&nbsp;<span class="op" id="7301267">*</span>&nbsp;<span class="num" id="7301269">7</span>&nbsp;<span class="op" id="7301271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7301275">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7301312">i</span>&nbsp;<span class="op" id="7301314">:=</span>&nbsp;<span class="ident" id="7301317">int64</span><span class="op" id="7301322">(</span><span class="ident" id="7301323">u</span><span class="op" id="7301324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7301328">verifyInt</span><span class="op" id="7301337">(</span><span class="ident" id="7301338">i</span><span class="op" id="7301339">,</span>&nbsp;<span class="ident" id="7301341">t</span><span class="op" id="7301342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7301346">verifyInt</span><span class="op" id="7301355">(</span><span class="op" id="7301356">-</span><span class="ident" id="7301357">i</span><span class="op" id="7301358">,</span>&nbsp;<span class="ident" id="7301360">t</span><span class="op" id="7301361">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7301365">verifyInt</span><span class="op" id="7301374">(</span><span class="op" id="7301375">^</span><span class="ident" id="7301376">i</span><span class="op" id="7301377">,</span>&nbsp;<span class="ident" id="7301379">t</span><span class="op" id="7301380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7301384">if</span>&nbsp;<span class="ident" id="7301387">u</span><span class="op" id="7301388">&amp;</span><span class="op" id="7301389">(</span><span class="num" id="7301390">1</span><span class="op" id="7301391">&lt;&lt;</span><span class="num" id="7301393">63</span><span class="op" id="7301395">)</span>&nbsp;<span class="op" id="7301397">!=</span>&nbsp;<span class="num" id="7301400">0</span>&nbsp;<span class="op" id="7301402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7301407">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7301415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7301418">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7301421">verifyInt</span><span class="op" id="7301430">(</span><span class="op" id="7301431">-</span><span class="num" id="7301432">1</span><span class="op" id="7301433">&lt;&lt;</span><span class="num" id="7301435">63</span><span class="op" id="7301437">,</span>&nbsp;<span class="ident" id="7301439">t</span><span class="op" id="7301440">)</span>&nbsp;<span class="comment" id="7301442">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="7301459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7301462">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7301523">var</span>&nbsp;<span class="ident" id="7301527">boolResult</span>&nbsp;<span class="op" id="7301538">=</span>&nbsp;<span class="op" id="7301540">[</span><span class="op" id="7301541">]</span><span class="builtintype" id="7301542">byte</span><span class="op" id="7301546">{</span><span class="num" id="7301547">0x07</span><span class="op" id="7301551">,</span>&nbsp;<span class="num" id="7301553">0x01</span><span class="op" id="7301557">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="7301560">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7301618">var</span>&nbsp;<span class="ident" id="7301622">signedResult</span>&nbsp;<span class="op" id="7301635">=</span>&nbsp;<span class="op" id="7301637">[</span><span class="op" id="7301638">]</span><span class="builtintype" id="7301639">byte</span><span class="op" id="7301643">{</span><span class="num" id="7301644">0x07</span><span class="op" id="7301648">,</span>&nbsp;<span class="num" id="7301650">2</span>&nbsp;<span class="op" id="7301652">*</span>&nbsp;<span class="num" id="7301654">17</span><span class="op" id="7301656">}</span><br>
<span class="lineno"></span><span class="keyword" id="7301658">var</span>&nbsp;<span class="ident" id="7301662">unsignedResult</span>&nbsp;<span class="op" id="7301677">=</span>&nbsp;<span class="op" id="7301679">[</span><span class="op" id="7301680">]</span><span class="builtintype" id="7301681">byte</span><span class="op" id="7301685">{</span><span class="num" id="7301686">0x07</span><span class="op" id="7301690">,</span>&nbsp;<span class="num" id="7301692">17</span><span class="op" id="7301694">}</span><br>
<span class="lineno"></span><span class="keyword" id="7301696">var</span>&nbsp;<span class="ident" id="7301700">floatResult</span>&nbsp;<span class="op" id="7301712">=</span>&nbsp;<span class="op" id="7301714">[</span><span class="op" id="7301715">]</span><span class="builtintype" id="7301716">byte</span><span class="op" id="7301720">{</span><span class="num" id="7301721">0x07</span><span class="op" id="7301725">,</span>&nbsp;<span class="num" id="7301727">0xFE</span><span class="op" id="7301731">,</span>&nbsp;<span class="num" id="7301733">0x31</span><span class="op" id="7301737">,</span>&nbsp;<span class="num" id="7301739">0x40</span><span class="op" id="7301743">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="7301746">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7301808">var</span>&nbsp;<span class="ident" id="7301812">complexResult</span>&nbsp;<span class="op" id="7301826">=</span>&nbsp;<span class="op" id="7301828">[</span><span class="op" id="7301829">]</span><span class="builtintype" id="7301830">byte</span><span class="op" id="7301834">{</span><span class="num" id="7301835">0x07</span><span class="op" id="7301839">,</span>&nbsp;<span class="num" id="7301841">0xFE</span><span class="op" id="7301845">,</span>&nbsp;<span class="num" id="7301847">0x31</span><span class="op" id="7301851">,</span>&nbsp;<span class="num" id="7301853">0x40</span><span class="op" id="7301857">,</span>&nbsp;<span class="num" id="7301859">0xFE</span><span class="op" id="7301863">,</span>&nbsp;<span class="num" id="7301865">0x33</span><span class="op" id="7301869">,</span>&nbsp;<span class="num" id="7301871">0x40</span><span class="op" id="7301875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7301878">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="7301932">var</span>&nbsp;<span class="ident" id="7301936">bytesResult</span>&nbsp;<span class="op" id="7301948">=</span>&nbsp;<span class="op" id="7301950">[</span><span class="op" id="7301951">]</span><span class="builtintype" id="7301952">byte</span><span class="op" id="7301956">{</span><span class="num" id="7301957">0x07</span><span class="op" id="7301961">,</span>&nbsp;<span class="num" id="7301963">0x05</span><span class="op" id="7301967">,</span>&nbsp;<span class="string" id="7301969">&#39;h&#39;</span><span class="op" id="7301972">,</span>&nbsp;<span class="string" id="7301974">&#39;e&#39;</span><span class="op" id="7301977">,</span>&nbsp;<span class="string" id="7301979">&#39;l&#39;</span><span class="op" id="7301982">,</span>&nbsp;<span class="string" id="7301984">&#39;l&#39;</span><span class="op" id="7301987">,</span>&nbsp;<span class="string" id="7301989">&#39;o&#39;</span><span class="op" id="7301992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7301995">func</span>&nbsp;<span class="ident" id="7302000">newDecodeState</span><span class="op" id="7302014">(</span><span class="ident" id="7302015">buf</span>&nbsp;<span class="op" id="7302019">*</span><span class="ident" id="7302020">decBuffer</span><span class="op" id="7302029">)</span>&nbsp;<span class="op" id="7302031">*</span><span class="ident" id="7302032">decoderState</span>&nbsp;<span class="op" id="7302045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302048">d</span>&nbsp;<span class="op" id="7302050">:=</span>&nbsp;<span class="builtinfunc" id="7302053">new</span><span class="op" id="7302056">(</span><span class="ident" id="7302057">decoderState</span><span class="op" id="7302069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302072">d</span><span class="op" id="7302073">.</span><span class="ident" id="7302074">b</span>&nbsp;<span class="op" id="7302076">=</span>&nbsp;<span class="ident" id="7302078">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302083">d</span><span class="op" id="7302084">.</span><span class="ident" id="7302085">buf</span>&nbsp;<span class="op" id="7302089">=</span>&nbsp;<span class="builtinfunc" id="7302091">make</span><span class="op" id="7302095">(</span><span class="op" id="7302096">[</span><span class="op" id="7302097">]</span><span class="builtintype" id="7302098">byte</span><span class="op" id="7302102">,</span>&nbsp;<span class="ident" id="7302104">uint64Size</span><span class="op" id="7302114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7302117">return</span>&nbsp;<span class="ident" id="7302124">d</span><br>
<span class="lineno"></span><span class="op" id="7302126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7302129">func</span>&nbsp;<span class="ident" id="7302134">newEncoderState</span><span class="op" id="7302149">(</span><span class="ident" id="7302150">b</span>&nbsp;<span class="op" id="7302152">*</span><span class="ident" id="7302153">encBuffer</span><span class="op" id="7302162">)</span>&nbsp;<span class="op" id="7302164">*</span><span class="ident" id="7302165">encoderState</span>&nbsp;<span class="op" id="7302178">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302181">b</span><span class="op" id="7302182">.</span><span class="ident" id="7302183">Reset</span><span class="op" id="7302188">(</span><span class="op" id="7302189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302192">state</span>&nbsp;<span class="op" id="7302198">:=</span>&nbsp;<span class="op" id="7302201">&amp;</span><span class="ident" id="7302202">encoderState</span><span class="op" id="7302214">{</span><span class="ident" id="7302215">enc</span><span class="op" id="7302218">:</span>&nbsp;<span class="ident" id="7302220">nil</span><span class="op" id="7302223">,</span>&nbsp;<span class="ident" id="7302225">b</span><span class="op" id="7302226">:</span>&nbsp;<span class="ident" id="7302228">b</span><span class="op" id="7302229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302232">state</span><span class="op" id="7302237">.</span><span class="ident" id="7302238">fieldnum</span>&nbsp;<span class="op" id="7302247">=</span>&nbsp;<span class="op" id="7302249">-</span><span class="num" id="7302250">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7302253">return</span>&nbsp;<span class="ident" id="7302260">state</span><br>
<span class="lineno"></span><span class="op" id="7302266">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="7302269">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="7302313">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="7302396">func</span>&nbsp;<span class="ident" id="7302401">TestScalarEncInstructions</span><span class="op" id="7302426">(</span><span class="ident" id="7302427">t</span>&nbsp;<span class="op" id="7302429">*</span><span class="ident" id="7302430">testing</span><span class="op" id="7302437">.</span><span class="ident" id="7302438">T</span><span class="op" id="7302439">)</span>&nbsp;<span class="op" id="7302441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7302444">var</span>&nbsp;<span class="ident" id="7302448">b</span>&nbsp;<span class="op" id="7302450">=</span>&nbsp;<span class="builtinfunc" id="7302452">new</span><span class="op" id="7302455">(</span><span class="ident" id="7302456">encBuffer</span><span class="op" id="7302465">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7302469">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7302478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7302482">var</span>&nbsp;<span class="ident" id="7302486">data</span>&nbsp;<span class="builtintype" id="7302491">bool</span>&nbsp;<span class="op" id="7302496">=</span>&nbsp;<span class="ident" id="7302498">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302505">instr</span>&nbsp;<span class="op" id="7302511">:=</span>&nbsp;<span class="op" id="7302514">&amp;</span><span class="ident" id="7302515">encInstr</span><span class="op" id="7302523">{</span><span class="ident" id="7302524">encBool</span><span class="op" id="7302531">,</span>&nbsp;<span class="num" id="7302533">6</span><span class="op" id="7302534">,</span>&nbsp;<span class="ident" id="7302536">nil</span><span class="op" id="7302539">,</span>&nbsp;<span class="num" id="7302541">0</span><span class="op" id="7302542">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302546">state</span>&nbsp;<span class="op" id="7302552">:=</span>&nbsp;<span class="ident" id="7302555">newEncoderState</span><span class="op" id="7302570">(</span><span class="ident" id="7302571">b</span><span class="op" id="7302572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302576">instr</span><span class="op" id="7302581">.</span><span class="ident" id="7302582">op</span><span class="op" id="7302584">(</span><span class="ident" id="7302585">instr</span><span class="op" id="7302590">,</span>&nbsp;<span class="ident" id="7302592">state</span><span class="op" id="7302597">,</span>&nbsp;<span class="ident" id="7302599">reflect</span><span class="op" id="7302606">.</span><span class="ident" id="7302607">ValueOf</span><span class="op" id="7302614">(</span><span class="ident" id="7302615">data</span><span class="op" id="7302619">)</span><span class="op" id="7302620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7302624">if</span>&nbsp;<span class="op" id="7302627">!</span><span class="ident" id="7302628">bytes</span><span class="op" id="7302633">.</span><span class="ident" id="7302634">Equal</span><span class="op" id="7302639">(</span><span class="ident" id="7302640">boolResult</span><span class="op" id="7302650">,</span>&nbsp;<span class="ident" id="7302652">b</span><span class="op" id="7302653">.</span><span class="ident" id="7302654">Bytes</span><span class="op" id="7302659">(</span><span class="op" id="7302660">)</span><span class="op" id="7302661">)</span>&nbsp;<span class="op" id="7302663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302668">t</span><span class="op" id="7302669">.</span><span class="ident" id="7302670">Errorf</span><span class="op" id="7302676">(</span><span class="string" id="7302677">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7302722">,</span>&nbsp;<span class="ident" id="7302724">boolResult</span><span class="op" id="7302734">,</span>&nbsp;<span class="ident" id="7302736">b</span><span class="op" id="7302737">.</span><span class="ident" id="7302738">Bytes</span><span class="op" id="7302743">(</span><span class="op" id="7302744">)</span><span class="op" id="7302745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7302749">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7302752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7302756">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7302764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302768">b</span><span class="op" id="7302769">.</span><span class="ident" id="7302770">Reset</span><span class="op" id="7302775">(</span><span class="op" id="7302776">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7302780">var</span>&nbsp;<span class="ident" id="7302784">data</span>&nbsp;<span class="builtintype" id="7302789">int</span>&nbsp;<span class="op" id="7302793">=</span>&nbsp;<span class="num" id="7302795">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302800">instr</span>&nbsp;<span class="op" id="7302806">:=</span>&nbsp;<span class="op" id="7302809">&amp;</span><span class="ident" id="7302810">encInstr</span><span class="op" id="7302818">{</span><span class="ident" id="7302819">encInt</span><span class="op" id="7302825">,</span>&nbsp;<span class="num" id="7302827">6</span><span class="op" id="7302828">,</span>&nbsp;<span class="ident" id="7302830">nil</span><span class="op" id="7302833">,</span>&nbsp;<span class="num" id="7302835">0</span><span class="op" id="7302836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302840">state</span>&nbsp;<span class="op" id="7302846">:=</span>&nbsp;<span class="ident" id="7302849">newEncoderState</span><span class="op" id="7302864">(</span><span class="ident" id="7302865">b</span><span class="op" id="7302866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302870">instr</span><span class="op" id="7302875">.</span><span class="ident" id="7302876">op</span><span class="op" id="7302878">(</span><span class="ident" id="7302879">instr</span><span class="op" id="7302884">,</span>&nbsp;<span class="ident" id="7302886">state</span><span class="op" id="7302891">,</span>&nbsp;<span class="ident" id="7302893">reflect</span><span class="op" id="7302900">.</span><span class="ident" id="7302901">ValueOf</span><span class="op" id="7302908">(</span><span class="ident" id="7302909">data</span><span class="op" id="7302913">)</span><span class="op" id="7302914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7302918">if</span>&nbsp;<span class="op" id="7302921">!</span><span class="ident" id="7302922">bytes</span><span class="op" id="7302927">.</span><span class="ident" id="7302928">Equal</span><span class="op" id="7302933">(</span><span class="ident" id="7302934">signedResult</span><span class="op" id="7302946">,</span>&nbsp;<span class="ident" id="7302948">b</span><span class="op" id="7302949">.</span><span class="ident" id="7302950">Bytes</span><span class="op" id="7302955">(</span><span class="op" id="7302956">)</span><span class="op" id="7302957">)</span>&nbsp;<span class="op" id="7302959">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7302964">t</span><span class="op" id="7302965">.</span><span class="ident" id="7302966">Errorf</span><span class="op" id="7302972">(</span><span class="string" id="7302973">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7303017">,</span>&nbsp;<span class="ident" id="7303019">signedResult</span><span class="op" id="7303031">,</span>&nbsp;<span class="ident" id="7303033">b</span><span class="op" id="7303034">.</span><span class="ident" id="7303035">Bytes</span><span class="op" id="7303040">(</span><span class="op" id="7303041">)</span><span class="op" id="7303042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7303053">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303066">b</span><span class="op" id="7303067">.</span><span class="ident" id="7303068">Reset</span><span class="op" id="7303073">(</span><span class="op" id="7303074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7303078">var</span>&nbsp;<span class="ident" id="7303082">data</span>&nbsp;<span class="builtintype" id="7303087">uint</span>&nbsp;<span class="op" id="7303092">=</span>&nbsp;<span class="num" id="7303094">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303099">instr</span>&nbsp;<span class="op" id="7303105">:=</span>&nbsp;<span class="op" id="7303108">&amp;</span><span class="ident" id="7303109">encInstr</span><span class="op" id="7303117">{</span><span class="ident" id="7303118">encUint</span><span class="op" id="7303125">,</span>&nbsp;<span class="num" id="7303127">6</span><span class="op" id="7303128">,</span>&nbsp;<span class="ident" id="7303130">nil</span><span class="op" id="7303133">,</span>&nbsp;<span class="num" id="7303135">0</span><span class="op" id="7303136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303140">state</span>&nbsp;<span class="op" id="7303146">:=</span>&nbsp;<span class="ident" id="7303149">newEncoderState</span><span class="op" id="7303164">(</span><span class="ident" id="7303165">b</span><span class="op" id="7303166">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303170">instr</span><span class="op" id="7303175">.</span><span class="ident" id="7303176">op</span><span class="op" id="7303178">(</span><span class="ident" id="7303179">instr</span><span class="op" id="7303184">,</span>&nbsp;<span class="ident" id="7303186">state</span><span class="op" id="7303191">,</span>&nbsp;<span class="ident" id="7303193">reflect</span><span class="op" id="7303200">.</span><span class="ident" id="7303201">ValueOf</span><span class="op" id="7303208">(</span><span class="ident" id="7303209">data</span><span class="op" id="7303213">)</span><span class="op" id="7303214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7303218">if</span>&nbsp;<span class="op" id="7303221">!</span><span class="ident" id="7303222">bytes</span><span class="op" id="7303227">.</span><span class="ident" id="7303228">Equal</span><span class="op" id="7303233">(</span><span class="ident" id="7303234">unsignedResult</span><span class="op" id="7303248">,</span>&nbsp;<span class="ident" id="7303250">b</span><span class="op" id="7303251">.</span><span class="ident" id="7303252">Bytes</span><span class="op" id="7303257">(</span><span class="op" id="7303258">)</span><span class="op" id="7303259">)</span>&nbsp;<span class="op" id="7303261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303266">t</span><span class="op" id="7303267">.</span><span class="ident" id="7303268">Errorf</span><span class="op" id="7303274">(</span><span class="string" id="7303275">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7303320">,</span>&nbsp;<span class="ident" id="7303322">unsignedResult</span><span class="op" id="7303336">,</span>&nbsp;<span class="ident" id="7303338">b</span><span class="op" id="7303339">.</span><span class="ident" id="7303340">Bytes</span><span class="op" id="7303345">(</span><span class="op" id="7303346">)</span><span class="op" id="7303347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303354">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7303358">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303371">b</span><span class="op" id="7303372">.</span><span class="ident" id="7303373">Reset</span><span class="op" id="7303378">(</span><span class="op" id="7303379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7303383">var</span>&nbsp;<span class="ident" id="7303387">data</span>&nbsp;<span class="builtintype" id="7303392">int8</span>&nbsp;<span class="op" id="7303397">=</span>&nbsp;<span class="num" id="7303399">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303404">instr</span>&nbsp;<span class="op" id="7303410">:=</span>&nbsp;<span class="op" id="7303413">&amp;</span><span class="ident" id="7303414">encInstr</span><span class="op" id="7303422">{</span><span class="ident" id="7303423">encInt</span><span class="op" id="7303429">,</span>&nbsp;<span class="num" id="7303431">6</span><span class="op" id="7303432">,</span>&nbsp;<span class="ident" id="7303434">nil</span><span class="op" id="7303437">,</span>&nbsp;<span class="num" id="7303439">0</span><span class="op" id="7303440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303444">state</span>&nbsp;<span class="op" id="7303450">:=</span>&nbsp;<span class="ident" id="7303453">newEncoderState</span><span class="op" id="7303468">(</span><span class="ident" id="7303469">b</span><span class="op" id="7303470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303474">instr</span><span class="op" id="7303479">.</span><span class="ident" id="7303480">op</span><span class="op" id="7303482">(</span><span class="ident" id="7303483">instr</span><span class="op" id="7303488">,</span>&nbsp;<span class="ident" id="7303490">state</span><span class="op" id="7303495">,</span>&nbsp;<span class="ident" id="7303497">reflect</span><span class="op" id="7303504">.</span><span class="ident" id="7303505">ValueOf</span><span class="op" id="7303512">(</span><span class="ident" id="7303513">data</span><span class="op" id="7303517">)</span><span class="op" id="7303518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7303522">if</span>&nbsp;<span class="op" id="7303525">!</span><span class="ident" id="7303526">bytes</span><span class="op" id="7303531">.</span><span class="ident" id="7303532">Equal</span><span class="op" id="7303537">(</span><span class="ident" id="7303538">signedResult</span><span class="op" id="7303550">,</span>&nbsp;<span class="ident" id="7303552">b</span><span class="op" id="7303553">.</span><span class="ident" id="7303554">Bytes</span><span class="op" id="7303559">(</span><span class="op" id="7303560">)</span><span class="op" id="7303561">)</span>&nbsp;<span class="op" id="7303563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303568">t</span><span class="op" id="7303569">.</span><span class="ident" id="7303570">Errorf</span><span class="op" id="7303576">(</span><span class="string" id="7303577">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7303622">,</span>&nbsp;<span class="ident" id="7303624">signedResult</span><span class="op" id="7303636">,</span>&nbsp;<span class="ident" id="7303638">b</span><span class="op" id="7303639">.</span><span class="ident" id="7303640">Bytes</span><span class="op" id="7303645">(</span><span class="op" id="7303646">)</span><span class="op" id="7303647">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7303658">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303668">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303672">b</span><span class="op" id="7303673">.</span><span class="ident" id="7303674">Reset</span><span class="op" id="7303679">(</span><span class="op" id="7303680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7303684">var</span>&nbsp;<span class="ident" id="7303688">data</span>&nbsp;<span class="builtintype" id="7303693">uint8</span>&nbsp;<span class="op" id="7303699">=</span>&nbsp;<span class="num" id="7303701">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303706">instr</span>&nbsp;<span class="op" id="7303712">:=</span>&nbsp;<span class="op" id="7303715">&amp;</span><span class="ident" id="7303716">encInstr</span><span class="op" id="7303724">{</span><span class="ident" id="7303725">encUint</span><span class="op" id="7303732">,</span>&nbsp;<span class="num" id="7303734">6</span><span class="op" id="7303735">,</span>&nbsp;<span class="ident" id="7303737">nil</span><span class="op" id="7303740">,</span>&nbsp;<span class="num" id="7303742">0</span><span class="op" id="7303743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303747">state</span>&nbsp;<span class="op" id="7303753">:=</span>&nbsp;<span class="ident" id="7303756">newEncoderState</span><span class="op" id="7303771">(</span><span class="ident" id="7303772">b</span><span class="op" id="7303773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303777">instr</span><span class="op" id="7303782">.</span><span class="ident" id="7303783">op</span><span class="op" id="7303785">(</span><span class="ident" id="7303786">instr</span><span class="op" id="7303791">,</span>&nbsp;<span class="ident" id="7303793">state</span><span class="op" id="7303798">,</span>&nbsp;<span class="ident" id="7303800">reflect</span><span class="op" id="7303807">.</span><span class="ident" id="7303808">ValueOf</span><span class="op" id="7303815">(</span><span class="ident" id="7303816">data</span><span class="op" id="7303820">)</span><span class="op" id="7303821">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7303825">if</span>&nbsp;<span class="op" id="7303828">!</span><span class="ident" id="7303829">bytes</span><span class="op" id="7303834">.</span><span class="ident" id="7303835">Equal</span><span class="op" id="7303840">(</span><span class="ident" id="7303841">unsignedResult</span><span class="op" id="7303855">,</span>&nbsp;<span class="ident" id="7303857">b</span><span class="op" id="7303858">.</span><span class="ident" id="7303859">Bytes</span><span class="op" id="7303864">(</span><span class="op" id="7303865">)</span><span class="op" id="7303866">)</span>&nbsp;<span class="op" id="7303868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303873">t</span><span class="op" id="7303874">.</span><span class="ident" id="7303875">Errorf</span><span class="op" id="7303881">(</span><span class="string" id="7303882">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7303928">,</span>&nbsp;<span class="ident" id="7303930">unsignedResult</span><span class="op" id="7303944">,</span>&nbsp;<span class="ident" id="7303946">b</span><span class="op" id="7303947">.</span><span class="ident" id="7303948">Bytes</span><span class="op" id="7303953">(</span><span class="op" id="7303954">)</span><span class="op" id="7303955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7303966">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7303976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7303980">b</span><span class="op" id="7303981">.</span><span class="ident" id="7303982">Reset</span><span class="op" id="7303987">(</span><span class="op" id="7303988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7303992">var</span>&nbsp;<span class="ident" id="7303996">data</span>&nbsp;<span class="builtintype" id="7304001">int16</span>&nbsp;<span class="op" id="7304007">=</span>&nbsp;<span class="num" id="7304009">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304014">instr</span>&nbsp;<span class="op" id="7304020">:=</span>&nbsp;<span class="op" id="7304023">&amp;</span><span class="ident" id="7304024">encInstr</span><span class="op" id="7304032">{</span><span class="ident" id="7304033">encInt</span><span class="op" id="7304039">,</span>&nbsp;<span class="num" id="7304041">6</span><span class="op" id="7304042">,</span>&nbsp;<span class="ident" id="7304044">nil</span><span class="op" id="7304047">,</span>&nbsp;<span class="num" id="7304049">0</span><span class="op" id="7304050">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304054">state</span>&nbsp;<span class="op" id="7304060">:=</span>&nbsp;<span class="ident" id="7304063">newEncoderState</span><span class="op" id="7304078">(</span><span class="ident" id="7304079">b</span><span class="op" id="7304080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304084">instr</span><span class="op" id="7304089">.</span><span class="ident" id="7304090">op</span><span class="op" id="7304092">(</span><span class="ident" id="7304093">instr</span><span class="op" id="7304098">,</span>&nbsp;<span class="ident" id="7304100">state</span><span class="op" id="7304105">,</span>&nbsp;<span class="ident" id="7304107">reflect</span><span class="op" id="7304114">.</span><span class="ident" id="7304115">ValueOf</span><span class="op" id="7304122">(</span><span class="ident" id="7304123">data</span><span class="op" id="7304127">)</span><span class="op" id="7304128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7304132">if</span>&nbsp;<span class="op" id="7304135">!</span><span class="ident" id="7304136">bytes</span><span class="op" id="7304141">.</span><span class="ident" id="7304142">Equal</span><span class="op" id="7304147">(</span><span class="ident" id="7304148">signedResult</span><span class="op" id="7304160">,</span>&nbsp;<span class="ident" id="7304162">b</span><span class="op" id="7304163">.</span><span class="ident" id="7304164">Bytes</span><span class="op" id="7304169">(</span><span class="op" id="7304170">)</span><span class="op" id="7304171">)</span>&nbsp;<span class="op" id="7304173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304178">t</span><span class="op" id="7304179">.</span><span class="ident" id="7304180">Errorf</span><span class="op" id="7304186">(</span><span class="string" id="7304187">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7304233">,</span>&nbsp;<span class="ident" id="7304235">signedResult</span><span class="op" id="7304247">,</span>&nbsp;<span class="ident" id="7304249">b</span><span class="op" id="7304250">.</span><span class="ident" id="7304251">Bytes</span><span class="op" id="7304256">(</span><span class="op" id="7304257">)</span><span class="op" id="7304258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304262">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7304269">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304284">b</span><span class="op" id="7304285">.</span><span class="ident" id="7304286">Reset</span><span class="op" id="7304291">(</span><span class="op" id="7304292">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7304296">var</span>&nbsp;<span class="ident" id="7304300">data</span>&nbsp;<span class="builtintype" id="7304305">uint16</span>&nbsp;<span class="op" id="7304312">=</span>&nbsp;<span class="num" id="7304314">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304319">instr</span>&nbsp;<span class="op" id="7304325">:=</span>&nbsp;<span class="op" id="7304328">&amp;</span><span class="ident" id="7304329">encInstr</span><span class="op" id="7304337">{</span><span class="ident" id="7304338">encUint</span><span class="op" id="7304345">,</span>&nbsp;<span class="num" id="7304347">6</span><span class="op" id="7304348">,</span>&nbsp;<span class="ident" id="7304350">nil</span><span class="op" id="7304353">,</span>&nbsp;<span class="num" id="7304355">0</span><span class="op" id="7304356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304360">state</span>&nbsp;<span class="op" id="7304366">:=</span>&nbsp;<span class="ident" id="7304369">newEncoderState</span><span class="op" id="7304384">(</span><span class="ident" id="7304385">b</span><span class="op" id="7304386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304390">instr</span><span class="op" id="7304395">.</span><span class="ident" id="7304396">op</span><span class="op" id="7304398">(</span><span class="ident" id="7304399">instr</span><span class="op" id="7304404">,</span>&nbsp;<span class="ident" id="7304406">state</span><span class="op" id="7304411">,</span>&nbsp;<span class="ident" id="7304413">reflect</span><span class="op" id="7304420">.</span><span class="ident" id="7304421">ValueOf</span><span class="op" id="7304428">(</span><span class="ident" id="7304429">data</span><span class="op" id="7304433">)</span><span class="op" id="7304434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7304438">if</span>&nbsp;<span class="op" id="7304441">!</span><span class="ident" id="7304442">bytes</span><span class="op" id="7304447">.</span><span class="ident" id="7304448">Equal</span><span class="op" id="7304453">(</span><span class="ident" id="7304454">unsignedResult</span><span class="op" id="7304468">,</span>&nbsp;<span class="ident" id="7304470">b</span><span class="op" id="7304471">.</span><span class="ident" id="7304472">Bytes</span><span class="op" id="7304477">(</span><span class="op" id="7304478">)</span><span class="op" id="7304479">)</span>&nbsp;<span class="op" id="7304481">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304486">t</span><span class="op" id="7304487">.</span><span class="ident" id="7304488">Errorf</span><span class="op" id="7304494">(</span><span class="string" id="7304495">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7304542">,</span>&nbsp;<span class="ident" id="7304544">unsignedResult</span><span class="op" id="7304558">,</span>&nbsp;<span class="ident" id="7304560">b</span><span class="op" id="7304561">.</span><span class="ident" id="7304562">Bytes</span><span class="op" id="7304567">(</span><span class="op" id="7304568">)</span><span class="op" id="7304569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7304580">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304594">b</span><span class="op" id="7304595">.</span><span class="ident" id="7304596">Reset</span><span class="op" id="7304601">(</span><span class="op" id="7304602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7304606">var</span>&nbsp;<span class="ident" id="7304610">data</span>&nbsp;<span class="builtintype" id="7304615">int32</span>&nbsp;<span class="op" id="7304621">=</span>&nbsp;<span class="num" id="7304623">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304628">instr</span>&nbsp;<span class="op" id="7304634">:=</span>&nbsp;<span class="op" id="7304637">&amp;</span><span class="ident" id="7304638">encInstr</span><span class="op" id="7304646">{</span><span class="ident" id="7304647">encInt</span><span class="op" id="7304653">,</span>&nbsp;<span class="num" id="7304655">6</span><span class="op" id="7304656">,</span>&nbsp;<span class="ident" id="7304658">nil</span><span class="op" id="7304661">,</span>&nbsp;<span class="num" id="7304663">0</span><span class="op" id="7304664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304668">state</span>&nbsp;<span class="op" id="7304674">:=</span>&nbsp;<span class="ident" id="7304677">newEncoderState</span><span class="op" id="7304692">(</span><span class="ident" id="7304693">b</span><span class="op" id="7304694">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304698">instr</span><span class="op" id="7304703">.</span><span class="ident" id="7304704">op</span><span class="op" id="7304706">(</span><span class="ident" id="7304707">instr</span><span class="op" id="7304712">,</span>&nbsp;<span class="ident" id="7304714">state</span><span class="op" id="7304719">,</span>&nbsp;<span class="ident" id="7304721">reflect</span><span class="op" id="7304728">.</span><span class="ident" id="7304729">ValueOf</span><span class="op" id="7304736">(</span><span class="ident" id="7304737">data</span><span class="op" id="7304741">)</span><span class="op" id="7304742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7304746">if</span>&nbsp;<span class="op" id="7304749">!</span><span class="ident" id="7304750">bytes</span><span class="op" id="7304755">.</span><span class="ident" id="7304756">Equal</span><span class="op" id="7304761">(</span><span class="ident" id="7304762">signedResult</span><span class="op" id="7304774">,</span>&nbsp;<span class="ident" id="7304776">b</span><span class="op" id="7304777">.</span><span class="ident" id="7304778">Bytes</span><span class="op" id="7304783">(</span><span class="op" id="7304784">)</span><span class="op" id="7304785">)</span>&nbsp;<span class="op" id="7304787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304792">t</span><span class="op" id="7304793">.</span><span class="ident" id="7304794">Errorf</span><span class="op" id="7304800">(</span><span class="string" id="7304801">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7304847">,</span>&nbsp;<span class="ident" id="7304849">signedResult</span><span class="op" id="7304861">,</span>&nbsp;<span class="ident" id="7304863">b</span><span class="op" id="7304864">.</span><span class="ident" id="7304865">Bytes</span><span class="op" id="7304870">(</span><span class="op" id="7304871">)</span><span class="op" id="7304872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304879">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7304883">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7304894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304898">b</span><span class="op" id="7304899">.</span><span class="ident" id="7304900">Reset</span><span class="op" id="7304905">(</span><span class="op" id="7304906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7304910">var</span>&nbsp;<span class="ident" id="7304914">data</span>&nbsp;<span class="builtintype" id="7304919">uint32</span>&nbsp;<span class="op" id="7304926">=</span>&nbsp;<span class="num" id="7304928">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304933">instr</span>&nbsp;<span class="op" id="7304939">:=</span>&nbsp;<span class="op" id="7304942">&amp;</span><span class="ident" id="7304943">encInstr</span><span class="op" id="7304951">{</span><span class="ident" id="7304952">encUint</span><span class="op" id="7304959">,</span>&nbsp;<span class="num" id="7304961">6</span><span class="op" id="7304962">,</span>&nbsp;<span class="ident" id="7304964">nil</span><span class="op" id="7304967">,</span>&nbsp;<span class="num" id="7304969">0</span><span class="op" id="7304970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7304974">state</span>&nbsp;<span class="op" id="7304980">:=</span>&nbsp;<span class="ident" id="7304983">newEncoderState</span><span class="op" id="7304998">(</span><span class="ident" id="7304999">b</span><span class="op" id="7305000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305004">instr</span><span class="op" id="7305009">.</span><span class="ident" id="7305010">op</span><span class="op" id="7305012">(</span><span class="ident" id="7305013">instr</span><span class="op" id="7305018">,</span>&nbsp;<span class="ident" id="7305020">state</span><span class="op" id="7305025">,</span>&nbsp;<span class="ident" id="7305027">reflect</span><span class="op" id="7305034">.</span><span class="ident" id="7305035">ValueOf</span><span class="op" id="7305042">(</span><span class="ident" id="7305043">data</span><span class="op" id="7305047">)</span><span class="op" id="7305048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7305052">if</span>&nbsp;<span class="op" id="7305055">!</span><span class="ident" id="7305056">bytes</span><span class="op" id="7305061">.</span><span class="ident" id="7305062">Equal</span><span class="op" id="7305067">(</span><span class="ident" id="7305068">unsignedResult</span><span class="op" id="7305082">,</span>&nbsp;<span class="ident" id="7305084">b</span><span class="op" id="7305085">.</span><span class="ident" id="7305086">Bytes</span><span class="op" id="7305091">(</span><span class="op" id="7305092">)</span><span class="op" id="7305093">)</span>&nbsp;<span class="op" id="7305095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305100">t</span><span class="op" id="7305101">.</span><span class="ident" id="7305102">Errorf</span><span class="op" id="7305108">(</span><span class="string" id="7305109">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7305156">,</span>&nbsp;<span class="ident" id="7305158">unsignedResult</span><span class="op" id="7305172">,</span>&nbsp;<span class="ident" id="7305174">b</span><span class="op" id="7305175">.</span><span class="ident" id="7305176">Bytes</span><span class="op" id="7305181">(</span><span class="op" id="7305182">)</span><span class="op" id="7305183">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7305194">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305204">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305208">b</span><span class="op" id="7305209">.</span><span class="ident" id="7305210">Reset</span><span class="op" id="7305215">(</span><span class="op" id="7305216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7305220">var</span>&nbsp;<span class="ident" id="7305224">data</span>&nbsp;<span class="ident" id="7305229">int64</span>&nbsp;<span class="op" id="7305235">=</span>&nbsp;<span class="num" id="7305237">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305242">instr</span>&nbsp;<span class="op" id="7305248">:=</span>&nbsp;<span class="op" id="7305251">&amp;</span><span class="ident" id="7305252">encInstr</span><span class="op" id="7305260">{</span><span class="ident" id="7305261">encInt</span><span class="op" id="7305267">,</span>&nbsp;<span class="num" id="7305269">6</span><span class="op" id="7305270">,</span>&nbsp;<span class="ident" id="7305272">nil</span><span class="op" id="7305275">,</span>&nbsp;<span class="num" id="7305277">0</span><span class="op" id="7305278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305282">state</span>&nbsp;<span class="op" id="7305288">:=</span>&nbsp;<span class="ident" id="7305291">newEncoderState</span><span class="op" id="7305306">(</span><span class="ident" id="7305307">b</span><span class="op" id="7305308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305312">instr</span><span class="op" id="7305317">.</span><span class="ident" id="7305318">op</span><span class="op" id="7305320">(</span><span class="ident" id="7305321">instr</span><span class="op" id="7305326">,</span>&nbsp;<span class="ident" id="7305328">state</span><span class="op" id="7305333">,</span>&nbsp;<span class="ident" id="7305335">reflect</span><span class="op" id="7305342">.</span><span class="ident" id="7305343">ValueOf</span><span class="op" id="7305350">(</span><span class="ident" id="7305351">data</span><span class="op" id="7305355">)</span><span class="op" id="7305356">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7305360">if</span>&nbsp;<span class="op" id="7305363">!</span><span class="ident" id="7305364">bytes</span><span class="op" id="7305369">.</span><span class="ident" id="7305370">Equal</span><span class="op" id="7305375">(</span><span class="ident" id="7305376">signedResult</span><span class="op" id="7305388">,</span>&nbsp;<span class="ident" id="7305390">b</span><span class="op" id="7305391">.</span><span class="ident" id="7305392">Bytes</span><span class="op" id="7305397">(</span><span class="op" id="7305398">)</span><span class="op" id="7305399">)</span>&nbsp;<span class="op" id="7305401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305406">t</span><span class="op" id="7305407">.</span><span class="ident" id="7305408">Errorf</span><span class="op" id="7305414">(</span><span class="string" id="7305415">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7305461">,</span>&nbsp;<span class="ident" id="7305463">signedResult</span><span class="op" id="7305475">,</span>&nbsp;<span class="ident" id="7305477">b</span><span class="op" id="7305478">.</span><span class="ident" id="7305479">Bytes</span><span class="op" id="7305484">(</span><span class="op" id="7305485">)</span><span class="op" id="7305486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7305497">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305512">b</span><span class="op" id="7305513">.</span><span class="ident" id="7305514">Reset</span><span class="op" id="7305519">(</span><span class="op" id="7305520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7305524">var</span>&nbsp;<span class="ident" id="7305528">data</span>&nbsp;<span class="ident" id="7305533">uint64</span>&nbsp;<span class="op" id="7305540">=</span>&nbsp;<span class="num" id="7305542">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305547">instr</span>&nbsp;<span class="op" id="7305553">:=</span>&nbsp;<span class="op" id="7305556">&amp;</span><span class="ident" id="7305557">encInstr</span><span class="op" id="7305565">{</span><span class="ident" id="7305566">encUint</span><span class="op" id="7305573">,</span>&nbsp;<span class="num" id="7305575">6</span><span class="op" id="7305576">,</span>&nbsp;<span class="ident" id="7305578">nil</span><span class="op" id="7305581">,</span>&nbsp;<span class="num" id="7305583">0</span><span class="op" id="7305584">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305588">state</span>&nbsp;<span class="op" id="7305594">:=</span>&nbsp;<span class="ident" id="7305597">newEncoderState</span><span class="op" id="7305612">(</span><span class="ident" id="7305613">b</span><span class="op" id="7305614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305618">instr</span><span class="op" id="7305623">.</span><span class="ident" id="7305624">op</span><span class="op" id="7305626">(</span><span class="ident" id="7305627">instr</span><span class="op" id="7305632">,</span>&nbsp;<span class="ident" id="7305634">state</span><span class="op" id="7305639">,</span>&nbsp;<span class="ident" id="7305641">reflect</span><span class="op" id="7305648">.</span><span class="ident" id="7305649">ValueOf</span><span class="op" id="7305656">(</span><span class="ident" id="7305657">data</span><span class="op" id="7305661">)</span><span class="op" id="7305662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7305666">if</span>&nbsp;<span class="op" id="7305669">!</span><span class="ident" id="7305670">bytes</span><span class="op" id="7305675">.</span><span class="ident" id="7305676">Equal</span><span class="op" id="7305681">(</span><span class="ident" id="7305682">unsignedResult</span><span class="op" id="7305696">,</span>&nbsp;<span class="ident" id="7305698">b</span><span class="op" id="7305699">.</span><span class="ident" id="7305700">Bytes</span><span class="op" id="7305705">(</span><span class="op" id="7305706">)</span><span class="op" id="7305707">)</span>&nbsp;<span class="op" id="7305709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305714">t</span><span class="op" id="7305715">.</span><span class="ident" id="7305716">Errorf</span><span class="op" id="7305722">(</span><span class="string" id="7305723">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7305770">,</span>&nbsp;<span class="ident" id="7305772">unsignedResult</span><span class="op" id="7305786">,</span>&nbsp;<span class="ident" id="7305788">b</span><span class="op" id="7305789">.</span><span class="ident" id="7305790">Bytes</span><span class="op" id="7305795">(</span><span class="op" id="7305796">)</span><span class="op" id="7305797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305801">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7305808">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7305820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305824">b</span><span class="op" id="7305825">.</span><span class="ident" id="7305826">Reset</span><span class="op" id="7305831">(</span><span class="op" id="7305832">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7305836">var</span>&nbsp;<span class="ident" id="7305840">data</span>&nbsp;<span class="builtintype" id="7305845">float32</span>&nbsp;<span class="op" id="7305853">=</span>&nbsp;<span class="num" id="7305855">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305860">instr</span>&nbsp;<span class="op" id="7305866">:=</span>&nbsp;<span class="op" id="7305869">&amp;</span><span class="ident" id="7305870">encInstr</span><span class="op" id="7305878">{</span><span class="ident" id="7305879">encFloat</span><span class="op" id="7305887">,</span>&nbsp;<span class="num" id="7305889">6</span><span class="op" id="7305890">,</span>&nbsp;<span class="ident" id="7305892">nil</span><span class="op" id="7305895">,</span>&nbsp;<span class="num" id="7305897">0</span><span class="op" id="7305898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305902">state</span>&nbsp;<span class="op" id="7305908">:=</span>&nbsp;<span class="ident" id="7305911">newEncoderState</span><span class="op" id="7305926">(</span><span class="ident" id="7305927">b</span><span class="op" id="7305928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7305932">instr</span><span class="op" id="7305937">.</span><span class="ident" id="7305938">op</span><span class="op" id="7305940">(</span><span class="ident" id="7305941">instr</span><span class="op" id="7305946">,</span>&nbsp;<span class="ident" id="7305948">state</span><span class="op" id="7305953">,</span>&nbsp;<span class="ident" id="7305955">reflect</span><span class="op" id="7305962">.</span><span class="ident" id="7305963">ValueOf</span><span class="op" id="7305970">(</span><span class="ident" id="7305971">data</span><span class="op" id="7305975">)</span><span class="op" id="7305976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7305980">if</span>&nbsp;<span class="op" id="7305983">!</span><span class="ident" id="7305984">bytes</span><span class="op" id="7305989">.</span><span class="ident" id="7305990">Equal</span><span class="op" id="7305995">(</span><span class="ident" id="7305996">floatResult</span><span class="op" id="7306007">,</span>&nbsp;<span class="ident" id="7306009">b</span><span class="op" id="7306010">.</span><span class="ident" id="7306011">Bytes</span><span class="op" id="7306016">(</span><span class="op" id="7306017">)</span><span class="op" id="7306018">)</span>&nbsp;<span class="op" id="7306020">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306025">t</span><span class="op" id="7306026">.</span><span class="ident" id="7306027">Errorf</span><span class="op" id="7306033">(</span><span class="string" id="7306034">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7306082">,</span>&nbsp;<span class="ident" id="7306084">floatResult</span><span class="op" id="7306095">,</span>&nbsp;<span class="ident" id="7306097">b</span><span class="op" id="7306098">.</span><span class="ident" id="7306099">Bytes</span><span class="op" id="7306104">(</span><span class="op" id="7306105">)</span><span class="op" id="7306106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7306117">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306133">b</span><span class="op" id="7306134">.</span><span class="ident" id="7306135">Reset</span><span class="op" id="7306140">(</span><span class="op" id="7306141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7306145">var</span>&nbsp;<span class="ident" id="7306149">data</span>&nbsp;<span class="builtintype" id="7306154">float64</span>&nbsp;<span class="op" id="7306162">=</span>&nbsp;<span class="num" id="7306164">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306169">instr</span>&nbsp;<span class="op" id="7306175">:=</span>&nbsp;<span class="op" id="7306178">&amp;</span><span class="ident" id="7306179">encInstr</span><span class="op" id="7306187">{</span><span class="ident" id="7306188">encFloat</span><span class="op" id="7306196">,</span>&nbsp;<span class="num" id="7306198">6</span><span class="op" id="7306199">,</span>&nbsp;<span class="ident" id="7306201">nil</span><span class="op" id="7306204">,</span>&nbsp;<span class="num" id="7306206">0</span><span class="op" id="7306207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306211">state</span>&nbsp;<span class="op" id="7306217">:=</span>&nbsp;<span class="ident" id="7306220">newEncoderState</span><span class="op" id="7306235">(</span><span class="ident" id="7306236">b</span><span class="op" id="7306237">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306241">instr</span><span class="op" id="7306246">.</span><span class="ident" id="7306247">op</span><span class="op" id="7306249">(</span><span class="ident" id="7306250">instr</span><span class="op" id="7306255">,</span>&nbsp;<span class="ident" id="7306257">state</span><span class="op" id="7306262">,</span>&nbsp;<span class="ident" id="7306264">reflect</span><span class="op" id="7306271">.</span><span class="ident" id="7306272">ValueOf</span><span class="op" id="7306279">(</span><span class="ident" id="7306280">data</span><span class="op" id="7306284">)</span><span class="op" id="7306285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7306289">if</span>&nbsp;<span class="op" id="7306292">!</span><span class="ident" id="7306293">bytes</span><span class="op" id="7306298">.</span><span class="ident" id="7306299">Equal</span><span class="op" id="7306304">(</span><span class="ident" id="7306305">floatResult</span><span class="op" id="7306316">,</span>&nbsp;<span class="ident" id="7306318">b</span><span class="op" id="7306319">.</span><span class="ident" id="7306320">Bytes</span><span class="op" id="7306325">(</span><span class="op" id="7306326">)</span><span class="op" id="7306327">)</span>&nbsp;<span class="op" id="7306329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306334">t</span><span class="op" id="7306335">.</span><span class="ident" id="7306336">Errorf</span><span class="op" id="7306342">(</span><span class="string" id="7306343">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7306391">,</span>&nbsp;<span class="ident" id="7306393">floatResult</span><span class="op" id="7306404">,</span>&nbsp;<span class="ident" id="7306406">b</span><span class="op" id="7306407">.</span><span class="ident" id="7306408">Bytes</span><span class="op" id="7306413">(</span><span class="op" id="7306414">)</span><span class="op" id="7306415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306422">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7306426">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306451">b</span><span class="op" id="7306452">.</span><span class="ident" id="7306453">Reset</span><span class="op" id="7306458">(</span><span class="op" id="7306459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306463">data</span>&nbsp;<span class="op" id="7306468">:=</span>&nbsp;<span class="op" id="7306471">[</span><span class="op" id="7306472">]</span><span class="builtintype" id="7306473">byte</span><span class="op" id="7306477">(</span><span class="string" id="7306478">&#34;hello&#34;</span><span class="op" id="7306485">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306489">instr</span>&nbsp;<span class="op" id="7306495">:=</span>&nbsp;<span class="op" id="7306498">&amp;</span><span class="ident" id="7306499">encInstr</span><span class="op" id="7306507">{</span><span class="ident" id="7306508">encUint8Array</span><span class="op" id="7306521">,</span>&nbsp;<span class="num" id="7306523">6</span><span class="op" id="7306524">,</span>&nbsp;<span class="ident" id="7306526">nil</span><span class="op" id="7306529">,</span>&nbsp;<span class="num" id="7306531">0</span><span class="op" id="7306532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306536">state</span>&nbsp;<span class="op" id="7306542">:=</span>&nbsp;<span class="ident" id="7306545">newEncoderState</span><span class="op" id="7306560">(</span><span class="ident" id="7306561">b</span><span class="op" id="7306562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306566">instr</span><span class="op" id="7306571">.</span><span class="ident" id="7306572">op</span><span class="op" id="7306574">(</span><span class="ident" id="7306575">instr</span><span class="op" id="7306580">,</span>&nbsp;<span class="ident" id="7306582">state</span><span class="op" id="7306587">,</span>&nbsp;<span class="ident" id="7306589">reflect</span><span class="op" id="7306596">.</span><span class="ident" id="7306597">ValueOf</span><span class="op" id="7306604">(</span><span class="ident" id="7306605">data</span><span class="op" id="7306609">)</span><span class="op" id="7306610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7306614">if</span>&nbsp;<span class="op" id="7306617">!</span><span class="ident" id="7306618">bytes</span><span class="op" id="7306623">.</span><span class="ident" id="7306624">Equal</span><span class="op" id="7306629">(</span><span class="ident" id="7306630">bytesResult</span><span class="op" id="7306641">,</span>&nbsp;<span class="ident" id="7306643">b</span><span class="op" id="7306644">.</span><span class="ident" id="7306645">Bytes</span><span class="op" id="7306650">(</span><span class="op" id="7306651">)</span><span class="op" id="7306652">)</span>&nbsp;<span class="op" id="7306654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306659">t</span><span class="op" id="7306660">.</span><span class="ident" id="7306661">Errorf</span><span class="op" id="7306667">(</span><span class="string" id="7306668">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7306714">,</span>&nbsp;<span class="ident" id="7306716">bytesResult</span><span class="op" id="7306727">,</span>&nbsp;<span class="ident" id="7306729">b</span><span class="op" id="7306730">.</span><span class="ident" id="7306731">Bytes</span><span class="op" id="7306736">(</span><span class="op" id="7306737">)</span><span class="op" id="7306738">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7306749">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7306760">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306764">b</span><span class="op" id="7306765">.</span><span class="ident" id="7306766">Reset</span><span class="op" id="7306771">(</span><span class="op" id="7306772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7306776">var</span>&nbsp;<span class="ident" id="7306780">data</span>&nbsp;<span class="builtintype" id="7306785">string</span>&nbsp;<span class="op" id="7306792">=</span>&nbsp;<span class="string" id="7306794">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306804">instr</span>&nbsp;<span class="op" id="7306810">:=</span>&nbsp;<span class="op" id="7306813">&amp;</span><span class="ident" id="7306814">encInstr</span><span class="op" id="7306822">{</span><span class="ident" id="7306823">encString</span><span class="op" id="7306832">,</span>&nbsp;<span class="num" id="7306834">6</span><span class="op" id="7306835">,</span>&nbsp;<span class="ident" id="7306837">nil</span><span class="op" id="7306840">,</span>&nbsp;<span class="num" id="7306842">0</span><span class="op" id="7306843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306847">state</span>&nbsp;<span class="op" id="7306853">:=</span>&nbsp;<span class="ident" id="7306856">newEncoderState</span><span class="op" id="7306871">(</span><span class="ident" id="7306872">b</span><span class="op" id="7306873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306877">instr</span><span class="op" id="7306882">.</span><span class="ident" id="7306883">op</span><span class="op" id="7306885">(</span><span class="ident" id="7306886">instr</span><span class="op" id="7306891">,</span>&nbsp;<span class="ident" id="7306893">state</span><span class="op" id="7306898">,</span>&nbsp;<span class="ident" id="7306900">reflect</span><span class="op" id="7306907">.</span><span class="ident" id="7306908">ValueOf</span><span class="op" id="7306915">(</span><span class="ident" id="7306916">data</span><span class="op" id="7306920">)</span><span class="op" id="7306921">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7306925">if</span>&nbsp;<span class="op" id="7306928">!</span><span class="ident" id="7306929">bytes</span><span class="op" id="7306934">.</span><span class="ident" id="7306935">Equal</span><span class="op" id="7306940">(</span><span class="ident" id="7306941">bytesResult</span><span class="op" id="7306952">,</span>&nbsp;<span class="ident" id="7306954">b</span><span class="op" id="7306955">.</span><span class="ident" id="7306956">Bytes</span><span class="op" id="7306961">(</span><span class="op" id="7306962">)</span><span class="op" id="7306963">)</span>&nbsp;<span class="op" id="7306965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7306970">t</span><span class="op" id="7306971">.</span><span class="ident" id="7306972">Errorf</span><span class="op" id="7306978">(</span><span class="string" id="7306979">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7307026">,</span>&nbsp;<span class="ident" id="7307028">bytesResult</span><span class="op" id="7307039">,</span>&nbsp;<span class="ident" id="7307041">b</span><span class="op" id="7307042">.</span><span class="ident" id="7307043">Bytes</span><span class="op" id="7307048">(</span><span class="op" id="7307049">)</span><span class="op" id="7307050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7307054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7307057">}</span><br>
<span class="lineno"></span><span class="op" id="7307059">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="7307062">func</span>&nbsp;<span class="ident" id="7307067">execDec</span><span class="op" id="7307074">(</span><span class="ident" id="7307075">typ</span>&nbsp;<span class="builtintype" id="7307079">string</span><span class="op" id="7307085">,</span>&nbsp;<span class="ident" id="7307087">instr</span>&nbsp;<span class="op" id="7307093">*</span><span class="ident" id="7307094">decInstr</span><span class="op" id="7307102">,</span>&nbsp;<span class="ident" id="7307104">state</span>&nbsp;<span class="op" id="7307110">*</span><span class="ident" id="7307111">decoderState</span><span class="op" id="7307123">,</span>&nbsp;<span class="ident" id="7307125">t</span>&nbsp;<span class="op" id="7307127">*</span><span class="ident" id="7307128">testing</span><span class="op" id="7307135">.</span><span class="ident" id="7307136">T</span><span class="op" id="7307137">,</span>&nbsp;<span class="ident" id="7307139">value</span>&nbsp;<span class="ident" id="7307145">reflect</span><span class="op" id="7307152">.</span><span class="ident" id="7307153">Value</span><span class="op" id="7307158">)</span>&nbsp;<span class="op" id="7307160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7307163">defer</span>&nbsp;<span class="ident" id="7307169">testError</span><span class="op" id="7307178">(</span><span class="ident" id="7307179">t</span><span class="op" id="7307180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307183">v</span>&nbsp;<span class="op" id="7307185">:=</span>&nbsp;<span class="builtintype" id="7307188">int</span><span class="op" id="7307191">(</span><span class="ident" id="7307192">state</span><span class="op" id="7307197">.</span><span class="ident" id="7307198">decodeUint</span><span class="op" id="7307208">(</span><span class="op" id="7307209">)</span><span class="op" id="7307210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7307213">if</span>&nbsp;<span class="ident" id="7307216">v</span><span class="op" id="7307217">+</span><span class="ident" id="7307218">state</span><span class="op" id="7307223">.</span><span class="ident" id="7307224">fieldnum</span>&nbsp;<span class="op" id="7307233">!=</span>&nbsp;<span class="num" id="7307236">6</span>&nbsp;<span class="op" id="7307238">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307242">t</span><span class="op" id="7307243">.</span><span class="ident" id="7307244">Fatalf</span><span class="op" id="7307250">(</span><span class="string" id="7307251">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7307285">,</span>&nbsp;<span class="num" id="7307287">6</span><span class="op" id="7307288">,</span>&nbsp;<span class="ident" id="7307290">v</span><span class="op" id="7307291">+</span><span class="ident" id="7307292">state</span><span class="op" id="7307297">.</span><span class="ident" id="7307298">fieldnum</span><span class="op" id="7307306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7307309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307312">instr</span><span class="op" id="7307317">.</span><span class="ident" id="7307318">op</span><span class="op" id="7307320">(</span><span class="ident" id="7307321">instr</span><span class="op" id="7307326">,</span>&nbsp;<span class="ident" id="7307328">state</span><span class="op" id="7307333">,</span>&nbsp;<span class="ident" id="7307335">value</span><span class="op" id="7307340">.</span><span class="ident" id="7307341">Elem</span><span class="op" id="7307345">(</span><span class="op" id="7307346">)</span><span class="op" id="7307347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307350">state</span><span class="op" id="7307355">.</span><span class="ident" id="7307356">fieldnum</span>&nbsp;<span class="op" id="7307365">=</span>&nbsp;<span class="num" id="7307367">6</span><br>
<span class="lineno"></span><span class="op" id="7307369">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="7307372">func</span>&nbsp;<span class="ident" id="7307377">newDecodeStateFromData</span><span class="op" id="7307399">(</span><span class="ident" id="7307400">data</span>&nbsp;<span class="op" id="7307405">[</span><span class="op" id="7307406">]</span><span class="builtintype" id="7307407">byte</span><span class="op" id="7307411">)</span>&nbsp;<span class="op" id="7307413">*</span><span class="ident" id="7307414">decoderState</span>&nbsp;<span class="op" id="7307427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307430">b</span>&nbsp;<span class="op" id="7307432">:=</span>&nbsp;<span class="ident" id="7307435">newDecBuffer</span><span class="op" id="7307447">(</span><span class="ident" id="7307448">data</span><span class="op" id="7307452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307455">state</span>&nbsp;<span class="op" id="7307461">:=</span>&nbsp;<span class="ident" id="7307464">newDecodeState</span><span class="op" id="7307478">(</span><span class="ident" id="7307479">b</span><span class="op" id="7307480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307483">state</span><span class="op" id="7307488">.</span><span class="ident" id="7307489">fieldnum</span>&nbsp;<span class="op" id="7307498">=</span>&nbsp;<span class="op" id="7307500">-</span><span class="num" id="7307501">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7307504">return</span>&nbsp;<span class="ident" id="7307511">state</span><br>
<span class="lineno"></span><span class="op" id="7307517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7307520">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="7307564">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="7307647">func</span>&nbsp;<span class="ident" id="7307652">TestScalarDecInstructions</span><span class="op" id="7307677">(</span><span class="ident" id="7307678">t</span>&nbsp;<span class="op" id="7307680">*</span><span class="ident" id="7307681">testing</span><span class="op" id="7307688">.</span><span class="ident" id="7307689">T</span><span class="op" id="7307690">)</span>&nbsp;<span class="op" id="7307692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307695">ovfl</span>&nbsp;<span class="op" id="7307700">:=</span>&nbsp;<span class="ident" id="7307703">errors</span><span class="op" id="7307709">.</span><span class="ident" id="7307710">New</span><span class="op" id="7307713">(</span><span class="string" id="7307714">&#34;overflow&#34;</span><span class="op" id="7307724">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7307728">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7307737">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7307741">var</span>&nbsp;<span class="ident" id="7307745">data</span>&nbsp;<span class="builtintype" id="7307750">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307757">instr</span>&nbsp;<span class="op" id="7307763">:=</span>&nbsp;<span class="op" id="7307766">&amp;</span><span class="ident" id="7307767">decInstr</span><span class="op" id="7307775">{</span><span class="ident" id="7307776">decBool</span><span class="op" id="7307783">,</span>&nbsp;<span class="num" id="7307785">6</span><span class="op" id="7307786">,</span>&nbsp;<span class="ident" id="7307788">nil</span><span class="op" id="7307791">,</span>&nbsp;<span class="ident" id="7307793">ovfl</span><span class="op" id="7307797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307801">state</span>&nbsp;<span class="op" id="7307807">:=</span>&nbsp;<span class="ident" id="7307810">newDecodeStateFromData</span><span class="op" id="7307832">(</span><span class="ident" id="7307833">boolResult</span><span class="op" id="7307843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307847">execDec</span><span class="op" id="7307854">(</span><span class="string" id="7307855">&#34;bool&#34;</span><span class="op" id="7307861">,</span>&nbsp;<span class="ident" id="7307863">instr</span><span class="op" id="7307868">,</span>&nbsp;<span class="ident" id="7307870">state</span><span class="op" id="7307875">,</span>&nbsp;<span class="ident" id="7307877">t</span><span class="op" id="7307878">,</span>&nbsp;<span class="ident" id="7307880">reflect</span><span class="op" id="7307887">.</span><span class="ident" id="7307888">ValueOf</span><span class="op" id="7307895">(</span><span class="op" id="7307896">&amp;</span><span class="ident" id="7307897">data</span><span class="op" id="7307901">)</span><span class="op" id="7307902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7307906">if</span>&nbsp;<span class="ident" id="7307909">data</span>&nbsp;<span class="op" id="7307914">!=</span>&nbsp;<span class="ident" id="7307917">true</span>&nbsp;<span class="op" id="7307922">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7307927">t</span><span class="op" id="7307928">.</span><span class="ident" id="7307929">Errorf</span><span class="op" id="7307935">(</span><span class="string" id="7307936">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="7307958">,</span>&nbsp;<span class="ident" id="7307960">data</span><span class="op" id="7307964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7307968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7307971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7307974">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7307982">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7307986">var</span>&nbsp;<span class="ident" id="7307990">data</span>&nbsp;<span class="builtintype" id="7307995">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308001">instr</span>&nbsp;<span class="op" id="7308007">:=</span>&nbsp;<span class="op" id="7308010">&amp;</span><span class="ident" id="7308011">decInstr</span><span class="op" id="7308019">{</span><span class="ident" id="7308020">decOpTable</span><span class="op" id="7308030">[</span><span class="ident" id="7308031">reflect</span><span class="op" id="7308038">.</span><span class="ident" id="7308039">Int</span><span class="op" id="7308042">]</span><span class="op" id="7308043">,</span>&nbsp;<span class="num" id="7308045">6</span><span class="op" id="7308046">,</span>&nbsp;<span class="ident" id="7308048">nil</span><span class="op" id="7308051">,</span>&nbsp;<span class="ident" id="7308053">ovfl</span><span class="op" id="7308057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308061">state</span>&nbsp;<span class="op" id="7308067">:=</span>&nbsp;<span class="ident" id="7308070">newDecodeStateFromData</span><span class="op" id="7308092">(</span><span class="ident" id="7308093">signedResult</span><span class="op" id="7308105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308109">execDec</span><span class="op" id="7308116">(</span><span class="string" id="7308117">&#34;int&#34;</span><span class="op" id="7308122">,</span>&nbsp;<span class="ident" id="7308124">instr</span><span class="op" id="7308129">,</span>&nbsp;<span class="ident" id="7308131">state</span><span class="op" id="7308136">,</span>&nbsp;<span class="ident" id="7308138">t</span><span class="op" id="7308139">,</span>&nbsp;<span class="ident" id="7308141">reflect</span><span class="op" id="7308148">.</span><span class="ident" id="7308149">ValueOf</span><span class="op" id="7308156">(</span><span class="op" id="7308157">&amp;</span><span class="ident" id="7308158">data</span><span class="op" id="7308162">)</span><span class="op" id="7308163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7308167">if</span>&nbsp;<span class="ident" id="7308170">data</span>&nbsp;<span class="op" id="7308175">!=</span>&nbsp;<span class="num" id="7308178">17</span>&nbsp;<span class="op" id="7308181">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308186">t</span><span class="op" id="7308187">.</span><span class="ident" id="7308188">Errorf</span><span class="op" id="7308194">(</span><span class="string" id="7308195">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7308214">,</span>&nbsp;<span class="ident" id="7308216">data</span><span class="op" id="7308220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7308231">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7308244">var</span>&nbsp;<span class="ident" id="7308248">data</span>&nbsp;<span class="builtintype" id="7308253">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308260">instr</span>&nbsp;<span class="op" id="7308266">:=</span>&nbsp;<span class="op" id="7308269">&amp;</span><span class="ident" id="7308270">decInstr</span><span class="op" id="7308278">{</span><span class="ident" id="7308279">decOpTable</span><span class="op" id="7308289">[</span><span class="ident" id="7308290">reflect</span><span class="op" id="7308297">.</span><span class="ident" id="7308298">Uint</span><span class="op" id="7308302">]</span><span class="op" id="7308303">,</span>&nbsp;<span class="num" id="7308305">6</span><span class="op" id="7308306">,</span>&nbsp;<span class="ident" id="7308308">nil</span><span class="op" id="7308311">,</span>&nbsp;<span class="ident" id="7308313">ovfl</span><span class="op" id="7308317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308321">state</span>&nbsp;<span class="op" id="7308327">:=</span>&nbsp;<span class="ident" id="7308330">newDecodeStateFromData</span><span class="op" id="7308352">(</span><span class="ident" id="7308353">unsignedResult</span><span class="op" id="7308367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308371">execDec</span><span class="op" id="7308378">(</span><span class="string" id="7308379">&#34;uint&#34;</span><span class="op" id="7308385">,</span>&nbsp;<span class="ident" id="7308387">instr</span><span class="op" id="7308392">,</span>&nbsp;<span class="ident" id="7308394">state</span><span class="op" id="7308399">,</span>&nbsp;<span class="ident" id="7308401">t</span><span class="op" id="7308402">,</span>&nbsp;<span class="ident" id="7308404">reflect</span><span class="op" id="7308411">.</span><span class="ident" id="7308412">ValueOf</span><span class="op" id="7308419">(</span><span class="op" id="7308420">&amp;</span><span class="ident" id="7308421">data</span><span class="op" id="7308425">)</span><span class="op" id="7308426">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7308430">if</span>&nbsp;<span class="ident" id="7308433">data</span>&nbsp;<span class="op" id="7308438">!=</span>&nbsp;<span class="num" id="7308441">17</span>&nbsp;<span class="op" id="7308444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308449">t</span><span class="op" id="7308450">.</span><span class="ident" id="7308451">Errorf</span><span class="op" id="7308457">(</span><span class="string" id="7308458">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7308478">,</span>&nbsp;<span class="ident" id="7308480">data</span><span class="op" id="7308484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7308495">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7308508">var</span>&nbsp;<span class="ident" id="7308512">data</span>&nbsp;<span class="builtintype" id="7308517">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308524">instr</span>&nbsp;<span class="op" id="7308530">:=</span>&nbsp;<span class="op" id="7308533">&amp;</span><span class="ident" id="7308534">decInstr</span><span class="op" id="7308542">{</span><span class="ident" id="7308543">decInt8</span><span class="op" id="7308550">,</span>&nbsp;<span class="num" id="7308552">6</span><span class="op" id="7308553">,</span>&nbsp;<span class="ident" id="7308555">nil</span><span class="op" id="7308558">,</span>&nbsp;<span class="ident" id="7308560">ovfl</span><span class="op" id="7308564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308568">state</span>&nbsp;<span class="op" id="7308574">:=</span>&nbsp;<span class="ident" id="7308577">newDecodeStateFromData</span><span class="op" id="7308599">(</span><span class="ident" id="7308600">signedResult</span><span class="op" id="7308612">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308616">execDec</span><span class="op" id="7308623">(</span><span class="string" id="7308624">&#34;int8&#34;</span><span class="op" id="7308630">,</span>&nbsp;<span class="ident" id="7308632">instr</span><span class="op" id="7308637">,</span>&nbsp;<span class="ident" id="7308639">state</span><span class="op" id="7308644">,</span>&nbsp;<span class="ident" id="7308646">t</span><span class="op" id="7308647">,</span>&nbsp;<span class="ident" id="7308649">reflect</span><span class="op" id="7308656">.</span><span class="ident" id="7308657">ValueOf</span><span class="op" id="7308664">(</span><span class="op" id="7308665">&amp;</span><span class="ident" id="7308666">data</span><span class="op" id="7308670">)</span><span class="op" id="7308671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7308675">if</span>&nbsp;<span class="ident" id="7308678">data</span>&nbsp;<span class="op" id="7308683">!=</span>&nbsp;<span class="num" id="7308686">17</span>&nbsp;<span class="op" id="7308689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308694">t</span><span class="op" id="7308695">.</span><span class="ident" id="7308696">Errorf</span><span class="op" id="7308702">(</span><span class="string" id="7308703">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7308723">,</span>&nbsp;<span class="ident" id="7308725">data</span><span class="op" id="7308729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308736">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7308740">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7308754">var</span>&nbsp;<span class="ident" id="7308758">data</span>&nbsp;<span class="builtintype" id="7308763">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308771">instr</span>&nbsp;<span class="op" id="7308777">:=</span>&nbsp;<span class="op" id="7308780">&amp;</span><span class="ident" id="7308781">decInstr</span><span class="op" id="7308789">{</span><span class="ident" id="7308790">decUint8</span><span class="op" id="7308798">,</span>&nbsp;<span class="num" id="7308800">6</span><span class="op" id="7308801">,</span>&nbsp;<span class="ident" id="7308803">nil</span><span class="op" id="7308806">,</span>&nbsp;<span class="ident" id="7308808">ovfl</span><span class="op" id="7308812">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308816">state</span>&nbsp;<span class="op" id="7308822">:=</span>&nbsp;<span class="ident" id="7308825">newDecodeStateFromData</span><span class="op" id="7308847">(</span><span class="ident" id="7308848">unsignedResult</span><span class="op" id="7308862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308866">execDec</span><span class="op" id="7308873">(</span><span class="string" id="7308874">&#34;uint8&#34;</span><span class="op" id="7308881">,</span>&nbsp;<span class="ident" id="7308883">instr</span><span class="op" id="7308888">,</span>&nbsp;<span class="ident" id="7308890">state</span><span class="op" id="7308895">,</span>&nbsp;<span class="ident" id="7308897">t</span><span class="op" id="7308898">,</span>&nbsp;<span class="ident" id="7308900">reflect</span><span class="op" id="7308907">.</span><span class="ident" id="7308908">ValueOf</span><span class="op" id="7308915">(</span><span class="op" id="7308916">&amp;</span><span class="ident" id="7308917">data</span><span class="op" id="7308921">)</span><span class="op" id="7308922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7308926">if</span>&nbsp;<span class="ident" id="7308929">data</span>&nbsp;<span class="op" id="7308934">!=</span>&nbsp;<span class="num" id="7308937">17</span>&nbsp;<span class="op" id="7308940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7308945">t</span><span class="op" id="7308946">.</span><span class="ident" id="7308947">Errorf</span><span class="op" id="7308953">(</span><span class="string" id="7308954">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7308975">,</span>&nbsp;<span class="ident" id="7308977">data</span><span class="op" id="7308981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308985">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7308988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7308992">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309006">var</span>&nbsp;<span class="ident" id="7309010">data</span>&nbsp;<span class="builtintype" id="7309015">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309023">instr</span>&nbsp;<span class="op" id="7309029">:=</span>&nbsp;<span class="op" id="7309032">&amp;</span><span class="ident" id="7309033">decInstr</span><span class="op" id="7309041">{</span><span class="ident" id="7309042">decInt16</span><span class="op" id="7309050">,</span>&nbsp;<span class="num" id="7309052">6</span><span class="op" id="7309053">,</span>&nbsp;<span class="ident" id="7309055">nil</span><span class="op" id="7309058">,</span>&nbsp;<span class="ident" id="7309060">ovfl</span><span class="op" id="7309064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309068">state</span>&nbsp;<span class="op" id="7309074">:=</span>&nbsp;<span class="ident" id="7309077">newDecodeStateFromData</span><span class="op" id="7309099">(</span><span class="ident" id="7309100">signedResult</span><span class="op" id="7309112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309116">execDec</span><span class="op" id="7309123">(</span><span class="string" id="7309124">&#34;int16&#34;</span><span class="op" id="7309131">,</span>&nbsp;<span class="ident" id="7309133">instr</span><span class="op" id="7309138">,</span>&nbsp;<span class="ident" id="7309140">state</span><span class="op" id="7309145">,</span>&nbsp;<span class="ident" id="7309147">t</span><span class="op" id="7309148">,</span>&nbsp;<span class="ident" id="7309150">reflect</span><span class="op" id="7309157">.</span><span class="ident" id="7309158">ValueOf</span><span class="op" id="7309165">(</span><span class="op" id="7309166">&amp;</span><span class="ident" id="7309167">data</span><span class="op" id="7309171">)</span><span class="op" id="7309172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309176">if</span>&nbsp;<span class="ident" id="7309179">data</span>&nbsp;<span class="op" id="7309184">!=</span>&nbsp;<span class="num" id="7309187">17</span>&nbsp;<span class="op" id="7309190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309195">t</span><span class="op" id="7309196">.</span><span class="ident" id="7309197">Errorf</span><span class="op" id="7309203">(</span><span class="string" id="7309204">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7309225">,</span>&nbsp;<span class="ident" id="7309227">data</span><span class="op" id="7309231">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7309242">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309253">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309257">var</span>&nbsp;<span class="ident" id="7309261">data</span>&nbsp;<span class="builtintype" id="7309266">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309275">instr</span>&nbsp;<span class="op" id="7309281">:=</span>&nbsp;<span class="op" id="7309284">&amp;</span><span class="ident" id="7309285">decInstr</span><span class="op" id="7309293">{</span><span class="ident" id="7309294">decUint16</span><span class="op" id="7309303">,</span>&nbsp;<span class="num" id="7309305">6</span><span class="op" id="7309306">,</span>&nbsp;<span class="ident" id="7309308">nil</span><span class="op" id="7309311">,</span>&nbsp;<span class="ident" id="7309313">ovfl</span><span class="op" id="7309317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309321">state</span>&nbsp;<span class="op" id="7309327">:=</span>&nbsp;<span class="ident" id="7309330">newDecodeStateFromData</span><span class="op" id="7309352">(</span><span class="ident" id="7309353">unsignedResult</span><span class="op" id="7309367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309371">execDec</span><span class="op" id="7309378">(</span><span class="string" id="7309379">&#34;uint16&#34;</span><span class="op" id="7309387">,</span>&nbsp;<span class="ident" id="7309389">instr</span><span class="op" id="7309394">,</span>&nbsp;<span class="ident" id="7309396">state</span><span class="op" id="7309401">,</span>&nbsp;<span class="ident" id="7309403">t</span><span class="op" id="7309404">,</span>&nbsp;<span class="ident" id="7309406">reflect</span><span class="op" id="7309413">.</span><span class="ident" id="7309414">ValueOf</span><span class="op" id="7309421">(</span><span class="op" id="7309422">&amp;</span><span class="ident" id="7309423">data</span><span class="op" id="7309427">)</span><span class="op" id="7309428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309432">if</span>&nbsp;<span class="ident" id="7309435">data</span>&nbsp;<span class="op" id="7309440">!=</span>&nbsp;<span class="num" id="7309443">17</span>&nbsp;<span class="op" id="7309446">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309451">t</span><span class="op" id="7309452">.</span><span class="ident" id="7309453">Errorf</span><span class="op" id="7309459">(</span><span class="string" id="7309460">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7309482">,</span>&nbsp;<span class="ident" id="7309484">data</span><span class="op" id="7309488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7309499">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309513">var</span>&nbsp;<span class="ident" id="7309517">data</span>&nbsp;<span class="builtintype" id="7309522">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309530">instr</span>&nbsp;<span class="op" id="7309536">:=</span>&nbsp;<span class="op" id="7309539">&amp;</span><span class="ident" id="7309540">decInstr</span><span class="op" id="7309548">{</span><span class="ident" id="7309549">decInt32</span><span class="op" id="7309557">,</span>&nbsp;<span class="num" id="7309559">6</span><span class="op" id="7309560">,</span>&nbsp;<span class="ident" id="7309562">nil</span><span class="op" id="7309565">,</span>&nbsp;<span class="ident" id="7309567">ovfl</span><span class="op" id="7309571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309575">state</span>&nbsp;<span class="op" id="7309581">:=</span>&nbsp;<span class="ident" id="7309584">newDecodeStateFromData</span><span class="op" id="7309606">(</span><span class="ident" id="7309607">signedResult</span><span class="op" id="7309619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309623">execDec</span><span class="op" id="7309630">(</span><span class="string" id="7309631">&#34;int32&#34;</span><span class="op" id="7309638">,</span>&nbsp;<span class="ident" id="7309640">instr</span><span class="op" id="7309645">,</span>&nbsp;<span class="ident" id="7309647">state</span><span class="op" id="7309652">,</span>&nbsp;<span class="ident" id="7309654">t</span><span class="op" id="7309655">,</span>&nbsp;<span class="ident" id="7309657">reflect</span><span class="op" id="7309664">.</span><span class="ident" id="7309665">ValueOf</span><span class="op" id="7309672">(</span><span class="op" id="7309673">&amp;</span><span class="ident" id="7309674">data</span><span class="op" id="7309678">)</span><span class="op" id="7309679">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309683">if</span>&nbsp;<span class="ident" id="7309686">data</span>&nbsp;<span class="op" id="7309691">!=</span>&nbsp;<span class="num" id="7309694">17</span>&nbsp;<span class="op" id="7309697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309702">t</span><span class="op" id="7309703">.</span><span class="ident" id="7309704">Errorf</span><span class="op" id="7309710">(</span><span class="string" id="7309711">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7309732">,</span>&nbsp;<span class="ident" id="7309734">data</span><span class="op" id="7309738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7309749">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309764">var</span>&nbsp;<span class="ident" id="7309768">data</span>&nbsp;<span class="builtintype" id="7309773">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309782">instr</span>&nbsp;<span class="op" id="7309788">:=</span>&nbsp;<span class="op" id="7309791">&amp;</span><span class="ident" id="7309792">decInstr</span><span class="op" id="7309800">{</span><span class="ident" id="7309801">decUint32</span><span class="op" id="7309810">,</span>&nbsp;<span class="num" id="7309812">6</span><span class="op" id="7309813">,</span>&nbsp;<span class="ident" id="7309815">nil</span><span class="op" id="7309818">,</span>&nbsp;<span class="ident" id="7309820">ovfl</span><span class="op" id="7309824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309828">state</span>&nbsp;<span class="op" id="7309834">:=</span>&nbsp;<span class="ident" id="7309837">newDecodeStateFromData</span><span class="op" id="7309859">(</span><span class="ident" id="7309860">unsignedResult</span><span class="op" id="7309874">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309878">execDec</span><span class="op" id="7309885">(</span><span class="string" id="7309886">&#34;uint32&#34;</span><span class="op" id="7309894">,</span>&nbsp;<span class="ident" id="7309896">instr</span><span class="op" id="7309901">,</span>&nbsp;<span class="ident" id="7309903">state</span><span class="op" id="7309908">,</span>&nbsp;<span class="ident" id="7309910">t</span><span class="op" id="7309911">,</span>&nbsp;<span class="ident" id="7309913">reflect</span><span class="op" id="7309920">.</span><span class="ident" id="7309921">ValueOf</span><span class="op" id="7309928">(</span><span class="op" id="7309929">&amp;</span><span class="ident" id="7309930">data</span><span class="op" id="7309934">)</span><span class="op" id="7309935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7309939">if</span>&nbsp;<span class="ident" id="7309942">data</span>&nbsp;<span class="op" id="7309947">!=</span>&nbsp;<span class="num" id="7309950">17</span>&nbsp;<span class="op" id="7309953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7309958">t</span><span class="op" id="7309959">.</span><span class="ident" id="7309960">Errorf</span><span class="op" id="7309966">(</span><span class="string" id="7309967">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7309989">,</span>&nbsp;<span class="ident" id="7309991">data</span><span class="op" id="7309995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7309999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310002">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7310006">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310022">var</span>&nbsp;<span class="ident" id="7310026">data</span>&nbsp;<span class="builtintype" id="7310031">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310041">instr</span>&nbsp;<span class="op" id="7310047">:=</span>&nbsp;<span class="op" id="7310050">&amp;</span><span class="ident" id="7310051">decInstr</span><span class="op" id="7310059">{</span><span class="ident" id="7310060">decOpTable</span><span class="op" id="7310070">[</span><span class="ident" id="7310071">reflect</span><span class="op" id="7310078">.</span><span class="ident" id="7310079">Uintptr</span><span class="op" id="7310086">]</span><span class="op" id="7310087">,</span>&nbsp;<span class="num" id="7310089">6</span><span class="op" id="7310090">,</span>&nbsp;<span class="ident" id="7310092">nil</span><span class="op" id="7310095">,</span>&nbsp;<span class="ident" id="7310097">ovfl</span><span class="op" id="7310101">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310105">state</span>&nbsp;<span class="op" id="7310111">:=</span>&nbsp;<span class="ident" id="7310114">newDecodeStateFromData</span><span class="op" id="7310136">(</span><span class="ident" id="7310137">unsignedResult</span><span class="op" id="7310151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310155">execDec</span><span class="op" id="7310162">(</span><span class="string" id="7310163">&#34;uintptr&#34;</span><span class="op" id="7310172">,</span>&nbsp;<span class="ident" id="7310174">instr</span><span class="op" id="7310179">,</span>&nbsp;<span class="ident" id="7310181">state</span><span class="op" id="7310186">,</span>&nbsp;<span class="ident" id="7310188">t</span><span class="op" id="7310189">,</span>&nbsp;<span class="ident" id="7310191">reflect</span><span class="op" id="7310198">.</span><span class="ident" id="7310199">ValueOf</span><span class="op" id="7310206">(</span><span class="op" id="7310207">&amp;</span><span class="ident" id="7310208">data</span><span class="op" id="7310212">)</span><span class="op" id="7310213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310217">if</span>&nbsp;<span class="ident" id="7310220">data</span>&nbsp;<span class="op" id="7310225">!=</span>&nbsp;<span class="num" id="7310228">17</span>&nbsp;<span class="op" id="7310231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310236">t</span><span class="op" id="7310237">.</span><span class="ident" id="7310238">Errorf</span><span class="op" id="7310244">(</span><span class="string" id="7310245">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7310268">,</span>&nbsp;<span class="ident" id="7310270">data</span><span class="op" id="7310274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310278">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7310285">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310299">var</span>&nbsp;<span class="ident" id="7310303">data</span>&nbsp;<span class="ident" id="7310308">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310316">instr</span>&nbsp;<span class="op" id="7310322">:=</span>&nbsp;<span class="op" id="7310325">&amp;</span><span class="ident" id="7310326">decInstr</span><span class="op" id="7310334">{</span><span class="ident" id="7310335">decInt64</span><span class="op" id="7310343">,</span>&nbsp;<span class="num" id="7310345">6</span><span class="op" id="7310346">,</span>&nbsp;<span class="ident" id="7310348">nil</span><span class="op" id="7310351">,</span>&nbsp;<span class="ident" id="7310353">ovfl</span><span class="op" id="7310357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310361">state</span>&nbsp;<span class="op" id="7310367">:=</span>&nbsp;<span class="ident" id="7310370">newDecodeStateFromData</span><span class="op" id="7310392">(</span><span class="ident" id="7310393">signedResult</span><span class="op" id="7310405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310409">execDec</span><span class="op" id="7310416">(</span><span class="string" id="7310417">&#34;int64&#34;</span><span class="op" id="7310424">,</span>&nbsp;<span class="ident" id="7310426">instr</span><span class="op" id="7310431">,</span>&nbsp;<span class="ident" id="7310433">state</span><span class="op" id="7310438">,</span>&nbsp;<span class="ident" id="7310440">t</span><span class="op" id="7310441">,</span>&nbsp;<span class="ident" id="7310443">reflect</span><span class="op" id="7310450">.</span><span class="ident" id="7310451">ValueOf</span><span class="op" id="7310458">(</span><span class="op" id="7310459">&amp;</span><span class="ident" id="7310460">data</span><span class="op" id="7310464">)</span><span class="op" id="7310465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310469">if</span>&nbsp;<span class="ident" id="7310472">data</span>&nbsp;<span class="op" id="7310477">!=</span>&nbsp;<span class="num" id="7310480">17</span>&nbsp;<span class="op" id="7310483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310488">t</span><span class="op" id="7310489">.</span><span class="ident" id="7310490">Errorf</span><span class="op" id="7310496">(</span><span class="string" id="7310497">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7310518">,</span>&nbsp;<span class="ident" id="7310520">data</span><span class="op" id="7310524">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7310535">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310546">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310550">var</span>&nbsp;<span class="ident" id="7310554">data</span>&nbsp;<span class="ident" id="7310559">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310568">instr</span>&nbsp;<span class="op" id="7310574">:=</span>&nbsp;<span class="op" id="7310577">&amp;</span><span class="ident" id="7310578">decInstr</span><span class="op" id="7310586">{</span><span class="ident" id="7310587">decUint64</span><span class="op" id="7310596">,</span>&nbsp;<span class="num" id="7310598">6</span><span class="op" id="7310599">,</span>&nbsp;<span class="ident" id="7310601">nil</span><span class="op" id="7310604">,</span>&nbsp;<span class="ident" id="7310606">ovfl</span><span class="op" id="7310610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310614">state</span>&nbsp;<span class="op" id="7310620">:=</span>&nbsp;<span class="ident" id="7310623">newDecodeStateFromData</span><span class="op" id="7310645">(</span><span class="ident" id="7310646">unsignedResult</span><span class="op" id="7310660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310664">execDec</span><span class="op" id="7310671">(</span><span class="string" id="7310672">&#34;uint64&#34;</span><span class="op" id="7310680">,</span>&nbsp;<span class="ident" id="7310682">instr</span><span class="op" id="7310687">,</span>&nbsp;<span class="ident" id="7310689">state</span><span class="op" id="7310694">,</span>&nbsp;<span class="ident" id="7310696">t</span><span class="op" id="7310697">,</span>&nbsp;<span class="ident" id="7310699">reflect</span><span class="op" id="7310706">.</span><span class="ident" id="7310707">ValueOf</span><span class="op" id="7310714">(</span><span class="op" id="7310715">&amp;</span><span class="ident" id="7310716">data</span><span class="op" id="7310720">)</span><span class="op" id="7310721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310725">if</span>&nbsp;<span class="ident" id="7310728">data</span>&nbsp;<span class="op" id="7310733">!=</span>&nbsp;<span class="num" id="7310736">17</span>&nbsp;<span class="op" id="7310739">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310744">t</span><span class="op" id="7310745">.</span><span class="ident" id="7310746">Errorf</span><span class="op" id="7310752">(</span><span class="string" id="7310753">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7310775">,</span>&nbsp;<span class="ident" id="7310777">data</span><span class="op" id="7310781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7310792">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7310804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310808">var</span>&nbsp;<span class="ident" id="7310812">data</span>&nbsp;<span class="builtintype" id="7310817">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310827">instr</span>&nbsp;<span class="op" id="7310833">:=</span>&nbsp;<span class="op" id="7310836">&amp;</span><span class="ident" id="7310837">decInstr</span><span class="op" id="7310845">{</span><span class="ident" id="7310846">decFloat32</span><span class="op" id="7310856">,</span>&nbsp;<span class="num" id="7310858">6</span><span class="op" id="7310859">,</span>&nbsp;<span class="ident" id="7310861">nil</span><span class="op" id="7310864">,</span>&nbsp;<span class="ident" id="7310866">ovfl</span><span class="op" id="7310870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310874">state</span>&nbsp;<span class="op" id="7310880">:=</span>&nbsp;<span class="ident" id="7310883">newDecodeStateFromData</span><span class="op" id="7310905">(</span><span class="ident" id="7310906">floatResult</span><span class="op" id="7310917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7310921">execDec</span><span class="op" id="7310928">(</span><span class="string" id="7310929">&#34;float32&#34;</span><span class="op" id="7310938">,</span>&nbsp;<span class="ident" id="7310940">instr</span><span class="op" id="7310945">,</span>&nbsp;<span class="ident" id="7310947">state</span><span class="op" id="7310952">,</span>&nbsp;<span class="ident" id="7310954">t</span><span class="op" id="7310955">,</span>&nbsp;<span class="ident" id="7310957">reflect</span><span class="op" id="7310964">.</span><span class="ident" id="7310965">ValueOf</span><span class="op" id="7310972">(</span><span class="op" id="7310973">&amp;</span><span class="ident" id="7310974">data</span><span class="op" id="7310978">)</span><span class="op" id="7310979">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7310983">if</span>&nbsp;<span class="ident" id="7310986">data</span>&nbsp;<span class="op" id="7310991">!=</span>&nbsp;<span class="num" id="7310994">17</span>&nbsp;<span class="op" id="7310997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311002">t</span><span class="op" id="7311003">.</span><span class="ident" id="7311004">Errorf</span><span class="op" id="7311010">(</span><span class="string" id="7311011">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7311034">,</span>&nbsp;<span class="ident" id="7311036">data</span><span class="op" id="7311040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7311051">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7311067">var</span>&nbsp;<span class="ident" id="7311071">data</span>&nbsp;<span class="builtintype" id="7311076">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311086">instr</span>&nbsp;<span class="op" id="7311092">:=</span>&nbsp;<span class="op" id="7311095">&amp;</span><span class="ident" id="7311096">decInstr</span><span class="op" id="7311104">{</span><span class="ident" id="7311105">decFloat64</span><span class="op" id="7311115">,</span>&nbsp;<span class="num" id="7311117">6</span><span class="op" id="7311118">,</span>&nbsp;<span class="ident" id="7311120">nil</span><span class="op" id="7311123">,</span>&nbsp;<span class="ident" id="7311125">ovfl</span><span class="op" id="7311129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311133">state</span>&nbsp;<span class="op" id="7311139">:=</span>&nbsp;<span class="ident" id="7311142">newDecodeStateFromData</span><span class="op" id="7311164">(</span><span class="ident" id="7311165">floatResult</span><span class="op" id="7311176">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311180">execDec</span><span class="op" id="7311187">(</span><span class="string" id="7311188">&#34;float64&#34;</span><span class="op" id="7311197">,</span>&nbsp;<span class="ident" id="7311199">instr</span><span class="op" id="7311204">,</span>&nbsp;<span class="ident" id="7311206">state</span><span class="op" id="7311211">,</span>&nbsp;<span class="ident" id="7311213">t</span><span class="op" id="7311214">,</span>&nbsp;<span class="ident" id="7311216">reflect</span><span class="op" id="7311223">.</span><span class="ident" id="7311224">ValueOf</span><span class="op" id="7311231">(</span><span class="op" id="7311232">&amp;</span><span class="ident" id="7311233">data</span><span class="op" id="7311237">)</span><span class="op" id="7311238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7311242">if</span>&nbsp;<span class="ident" id="7311245">data</span>&nbsp;<span class="op" id="7311250">!=</span>&nbsp;<span class="num" id="7311253">17</span>&nbsp;<span class="op" id="7311256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311261">t</span><span class="op" id="7311262">.</span><span class="ident" id="7311263">Errorf</span><span class="op" id="7311269">(</span><span class="string" id="7311270">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7311293">,</span>&nbsp;<span class="ident" id="7311295">data</span><span class="op" id="7311299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311306">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7311310">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7311328">var</span>&nbsp;<span class="ident" id="7311332">data</span>&nbsp;<span class="builtintype" id="7311337">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311349">instr</span>&nbsp;<span class="op" id="7311355">:=</span>&nbsp;<span class="op" id="7311358">&amp;</span><span class="ident" id="7311359">decInstr</span><span class="op" id="7311367">{</span><span class="ident" id="7311368">decOpTable</span><span class="op" id="7311378">[</span><span class="ident" id="7311379">reflect</span><span class="op" id="7311386">.</span><span class="ident" id="7311387">Complex64</span><span class="op" id="7311396">]</span><span class="op" id="7311397">,</span>&nbsp;<span class="num" id="7311399">6</span><span class="op" id="7311400">,</span>&nbsp;<span class="ident" id="7311402">nil</span><span class="op" id="7311405">,</span>&nbsp;<span class="ident" id="7311407">ovfl</span><span class="op" id="7311411">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311415">state</span>&nbsp;<span class="op" id="7311421">:=</span>&nbsp;<span class="ident" id="7311424">newDecodeStateFromData</span><span class="op" id="7311446">(</span><span class="ident" id="7311447">complexResult</span><span class="op" id="7311460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311464">execDec</span><span class="op" id="7311471">(</span><span class="string" id="7311472">&#34;complex&#34;</span><span class="op" id="7311481">,</span>&nbsp;<span class="ident" id="7311483">instr</span><span class="op" id="7311488">,</span>&nbsp;<span class="ident" id="7311490">state</span><span class="op" id="7311495">,</span>&nbsp;<span class="ident" id="7311497">t</span><span class="op" id="7311498">,</span>&nbsp;<span class="ident" id="7311500">reflect</span><span class="op" id="7311507">.</span><span class="ident" id="7311508">ValueOf</span><span class="op" id="7311515">(</span><span class="op" id="7311516">&amp;</span><span class="ident" id="7311517">data</span><span class="op" id="7311521">)</span><span class="op" id="7311522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7311526">if</span>&nbsp;<span class="ident" id="7311529">data</span>&nbsp;<span class="op" id="7311534">!=</span>&nbsp;<span class="num" id="7311537">17</span><span class="op" id="7311539">+</span><span class="num" id="7311540">19i</span>&nbsp;<span class="op" id="7311544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311549">t</span><span class="op" id="7311550">.</span><span class="ident" id="7311551">Errorf</span><span class="op" id="7311557">(</span><span class="string" id="7311558">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="7311585">,</span>&nbsp;<span class="ident" id="7311587">data</span><span class="op" id="7311591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311595">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7311602">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7311621">var</span>&nbsp;<span class="ident" id="7311625">data</span>&nbsp;<span class="builtintype" id="7311630">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311643">instr</span>&nbsp;<span class="op" id="7311649">:=</span>&nbsp;<span class="op" id="7311652">&amp;</span><span class="ident" id="7311653">decInstr</span><span class="op" id="7311661">{</span><span class="ident" id="7311662">decOpTable</span><span class="op" id="7311672">[</span><span class="ident" id="7311673">reflect</span><span class="op" id="7311680">.</span><span class="ident" id="7311681">Complex128</span><span class="op" id="7311691">]</span><span class="op" id="7311692">,</span>&nbsp;<span class="num" id="7311694">6</span><span class="op" id="7311695">,</span>&nbsp;<span class="ident" id="7311697">nil</span><span class="op" id="7311700">,</span>&nbsp;<span class="ident" id="7311702">ovfl</span><span class="op" id="7311706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311710">state</span>&nbsp;<span class="op" id="7311716">:=</span>&nbsp;<span class="ident" id="7311719">newDecodeStateFromData</span><span class="op" id="7311741">(</span><span class="ident" id="7311742">complexResult</span><span class="op" id="7311755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311759">execDec</span><span class="op" id="7311766">(</span><span class="string" id="7311767">&#34;complex&#34;</span><span class="op" id="7311776">,</span>&nbsp;<span class="ident" id="7311778">instr</span><span class="op" id="7311783">,</span>&nbsp;<span class="ident" id="7311785">state</span><span class="op" id="7311790">,</span>&nbsp;<span class="ident" id="7311792">t</span><span class="op" id="7311793">,</span>&nbsp;<span class="ident" id="7311795">reflect</span><span class="op" id="7311802">.</span><span class="ident" id="7311803">ValueOf</span><span class="op" id="7311810">(</span><span class="op" id="7311811">&amp;</span><span class="ident" id="7311812">data</span><span class="op" id="7311816">)</span><span class="op" id="7311817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7311821">if</span>&nbsp;<span class="ident" id="7311824">data</span>&nbsp;<span class="op" id="7311829">!=</span>&nbsp;<span class="num" id="7311832">17</span><span class="op" id="7311834">+</span><span class="num" id="7311835">19i</span>&nbsp;<span class="op" id="7311839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311844">t</span><span class="op" id="7311845">.</span><span class="ident" id="7311846">Errorf</span><span class="op" id="7311852">(</span><span class="string" id="7311853">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="7311880">,</span>&nbsp;<span class="ident" id="7311882">data</span><span class="op" id="7311886">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7311897">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7311918">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7311922">var</span>&nbsp;<span class="ident" id="7311926">data</span>&nbsp;<span class="op" id="7311931">[</span><span class="op" id="7311932">]</span><span class="builtintype" id="7311933">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311940">instr</span>&nbsp;<span class="op" id="7311946">:=</span>&nbsp;<span class="op" id="7311949">&amp;</span><span class="ident" id="7311950">decInstr</span><span class="op" id="7311958">{</span><span class="ident" id="7311959">decUint8Slice</span><span class="op" id="7311972">,</span>&nbsp;<span class="num" id="7311974">6</span><span class="op" id="7311975">,</span>&nbsp;<span class="ident" id="7311977">nil</span><span class="op" id="7311980">,</span>&nbsp;<span class="ident" id="7311982">ovfl</span><span class="op" id="7311986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7311990">state</span>&nbsp;<span class="op" id="7311996">:=</span>&nbsp;<span class="ident" id="7311999">newDecodeStateFromData</span><span class="op" id="7312021">(</span><span class="ident" id="7312022">bytesResult</span><span class="op" id="7312033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312037">execDec</span><span class="op" id="7312044">(</span><span class="string" id="7312045">&#34;bytes&#34;</span><span class="op" id="7312052">,</span>&nbsp;<span class="ident" id="7312054">instr</span><span class="op" id="7312059">,</span>&nbsp;<span class="ident" id="7312061">state</span><span class="op" id="7312066">,</span>&nbsp;<span class="ident" id="7312068">t</span><span class="op" id="7312069">,</span>&nbsp;<span class="ident" id="7312071">reflect</span><span class="op" id="7312078">.</span><span class="ident" id="7312079">ValueOf</span><span class="op" id="7312086">(</span><span class="op" id="7312087">&amp;</span><span class="ident" id="7312088">data</span><span class="op" id="7312092">)</span><span class="op" id="7312093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7312097">if</span>&nbsp;<span class="builtintype" id="7312100">string</span><span class="op" id="7312106">(</span><span class="ident" id="7312107">data</span><span class="op" id="7312111">)</span>&nbsp;<span class="op" id="7312113">!=</span>&nbsp;<span class="string" id="7312116">&#34;hello&#34;</span>&nbsp;<span class="op" id="7312124">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312129">t</span><span class="op" id="7312130">.</span><span class="ident" id="7312131">Errorf</span><span class="op" id="7312137">(</span><span class="string" id="7312138">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="7312164">,</span>&nbsp;<span class="builtintype" id="7312166">string</span><span class="op" id="7312172">(</span><span class="ident" id="7312173">data</span><span class="op" id="7312177">)</span><span class="op" id="7312178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7312182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7312185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7312189">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7312200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7312204">var</span>&nbsp;<span class="ident" id="7312208">data</span>&nbsp;<span class="builtintype" id="7312213">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312222">instr</span>&nbsp;<span class="op" id="7312228">:=</span>&nbsp;<span class="op" id="7312231">&amp;</span><span class="ident" id="7312232">decInstr</span><span class="op" id="7312240">{</span><span class="ident" id="7312241">decString</span><span class="op" id="7312250">,</span>&nbsp;<span class="num" id="7312252">6</span><span class="op" id="7312253">,</span>&nbsp;<span class="ident" id="7312255">nil</span><span class="op" id="7312258">,</span>&nbsp;<span class="ident" id="7312260">ovfl</span><span class="op" id="7312264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312268">state</span>&nbsp;<span class="op" id="7312274">:=</span>&nbsp;<span class="ident" id="7312277">newDecodeStateFromData</span><span class="op" id="7312299">(</span><span class="ident" id="7312300">bytesResult</span><span class="op" id="7312311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312315">execDec</span><span class="op" id="7312322">(</span><span class="string" id="7312323">&#34;bytes&#34;</span><span class="op" id="7312330">,</span>&nbsp;<span class="ident" id="7312332">instr</span><span class="op" id="7312337">,</span>&nbsp;<span class="ident" id="7312339">state</span><span class="op" id="7312344">,</span>&nbsp;<span class="ident" id="7312346">t</span><span class="op" id="7312347">,</span>&nbsp;<span class="ident" id="7312349">reflect</span><span class="op" id="7312356">.</span><span class="ident" id="7312357">ValueOf</span><span class="op" id="7312364">(</span><span class="op" id="7312365">&amp;</span><span class="ident" id="7312366">data</span><span class="op" id="7312370">)</span><span class="op" id="7312371">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7312375">if</span>&nbsp;<span class="ident" id="7312378">data</span>&nbsp;<span class="op" id="7312383">!=</span>&nbsp;<span class="string" id="7312386">&#34;hello&#34;</span>&nbsp;<span class="op" id="7312394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312399">t</span><span class="op" id="7312400">.</span><span class="ident" id="7312401">Errorf</span><span class="op" id="7312407">(</span><span class="string" id="7312408">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="7312434">,</span>&nbsp;<span class="ident" id="7312436">data</span><span class="op" id="7312440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7312444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7312447">}</span><br>
<span class="lineno"></span><span class="op" id="7312449">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="7312452">func</span>&nbsp;<span class="ident" id="7312457">TestEndToEnd</span><span class="op" id="7312469">(</span><span class="ident" id="7312470">t</span>&nbsp;<span class="op" id="7312472">*</span><span class="ident" id="7312473">testing</span><span class="op" id="7312480">.</span><span class="ident" id="7312481">T</span><span class="op" id="7312482">)</span>&nbsp;<span class="op" id="7312484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7312487">type</span>&nbsp;<span class="ident" id="7312492">T2</span>&nbsp;<span class="keyword" id="7312495">struct</span>&nbsp;<span class="op" id="7312502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312506">T</span>&nbsp;<span class="builtintype" id="7312508">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7312516">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312519">s1</span>&nbsp;<span class="op" id="7312522">:=</span>&nbsp;<span class="string" id="7312525">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312536">s2</span>&nbsp;<span class="op" id="7312539">:=</span>&nbsp;<span class="string" id="7312542">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7312553">type</span>&nbsp;<span class="ident" id="7312558">T1</span>&nbsp;<span class="keyword" id="7312561">struct</span>&nbsp;<span class="op" id="7312568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312572">A</span><span class="op" id="7312573">,</span>&nbsp;<span class="ident" id="7312575">B</span><span class="op" id="7312576">,</span>&nbsp;<span class="ident" id="7312578">C</span>&nbsp;&nbsp;<span class="builtintype" id="7312581">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312587">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7312596">map</span><span class="op" id="7312599">[</span><span class="builtintype" id="7312600">string</span><span class="op" id="7312606">]</span><span class="op" id="7312607">*</span><span class="builtintype" id="7312608">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312618">EmptyMap</span>&nbsp;<span class="keyword" id="7312627">map</span><span class="op" id="7312630">[</span><span class="builtintype" id="7312631">string</span><span class="op" id="7312637">]</span><span class="builtintype" id="7312638">int</span>&nbsp;<span class="comment" id="7312642">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312687">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7312696">*</span><span class="op" id="7312697">[</span><span class="num" id="7312698">3</span><span class="op" id="7312699">]</span><span class="builtintype" id="7312700">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312710">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7312719">*</span><span class="op" id="7312720">[</span><span class="num" id="7312721">2</span><span class="op" id="7312722">]</span><span class="builtintype" id="7312723">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312732">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7312741">*</span><span class="op" id="7312742">[</span><span class="op" id="7312743">]</span><span class="ident" id="7312744">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312752">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7312761">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312773">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7312782">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312791">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7312800">[</span><span class="op" id="7312801">]</span><span class="builtintype" id="7312802">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312809">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7312818">*</span><span class="ident" id="7312819">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7312823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312826">pi</span>&nbsp;<span class="op" id="7312829">:=</span>&nbsp;<span class="num" id="7312832">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312841">e</span>&nbsp;<span class="op" id="7312843">:=</span>&nbsp;<span class="num" id="7312846">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312855">t1</span>&nbsp;<span class="op" id="7312858">:=</span>&nbsp;<span class="op" id="7312861">&amp;</span><span class="ident" id="7312862">T1</span><span class="op" id="7312864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312868">A</span><span class="op" id="7312869">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7312878">17</span><span class="op" id="7312880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312884">B</span><span class="op" id="7312885">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7312894">18</span><span class="op" id="7312896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312900">C</span><span class="op" id="7312901">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7312910">-</span><span class="num" id="7312911">5</span><span class="op" id="7312912">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312916">M</span><span class="op" id="7312917">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7312926">map</span><span class="op" id="7312929">[</span><span class="builtintype" id="7312930">string</span><span class="op" id="7312936">]</span><span class="op" id="7312937">*</span><span class="builtintype" id="7312938">float64</span><span class="op" id="7312945">{</span><span class="string" id="7312946">&#34;pi&#34;</span><span class="op" id="7312950">:</span>&nbsp;<span class="op" id="7312952">&amp;</span><span class="ident" id="7312953">pi</span><span class="op" id="7312955">,</span>&nbsp;<span class="string" id="7312957">&#34;e&#34;</span><span class="op" id="7312960">:</span>&nbsp;<span class="op" id="7312962">&amp;</span><span class="ident" id="7312963">e</span><span class="op" id="7312964">}</span><span class="op" id="7312965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7312969">EmptyMap</span><span class="op" id="7312977">:</span>&nbsp;<span class="builtinfunc" id="7312979">make</span><span class="op" id="7312983">(</span><span class="keyword" id="7312984">map</span><span class="op" id="7312987">[</span><span class="builtintype" id="7312988">string</span><span class="op" id="7312994">]</span><span class="builtintype" id="7312995">int</span><span class="op" id="7312998">)</span><span class="op" id="7312999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313003">N</span><span class="op" id="7313004">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313013">&amp;</span><span class="op" id="7313014">[</span><span class="num" id="7313015">3</span><span class="op" id="7313016">]</span><span class="builtintype" id="7313017">float64</span><span class="op" id="7313024">{</span><span class="num" id="7313025">1.5</span><span class="op" id="7313028">,</span>&nbsp;<span class="num" id="7313030">2.5</span><span class="op" id="7313033">,</span>&nbsp;<span class="num" id="7313035">3.5</span><span class="op" id="7313038">}</span><span class="op" id="7313039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313043">Strs</span><span class="op" id="7313047">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313053">&amp;</span><span class="op" id="7313054">[</span><span class="num" id="7313055">2</span><span class="op" id="7313056">]</span><span class="builtintype" id="7313057">string</span><span class="op" id="7313063">{</span><span class="ident" id="7313064">s1</span><span class="op" id="7313066">,</span>&nbsp;<span class="ident" id="7313068">s2</span><span class="op" id="7313070">}</span><span class="op" id="7313071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313075">Int64s</span><span class="op" id="7313081">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7313085">&amp;</span><span class="op" id="7313086">[</span><span class="op" id="7313087">]</span><span class="ident" id="7313088">int64</span><span class="op" id="7313093">{</span><span class="num" id="7313094">77</span><span class="op" id="7313096">,</span>&nbsp;<span class="num" id="7313098">89</span><span class="op" id="7313100">,</span>&nbsp;<span class="num" id="7313102">123412342134</span><span class="op" id="7313114">}</span><span class="op" id="7313115">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313119">RI</span><span class="op" id="7313121">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7313129">17</span>&nbsp;<span class="op" id="7313132">-</span>&nbsp;<span class="num" id="7313134">23i</span><span class="op" id="7313137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313141">S</span><span class="op" id="7313142">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7313151">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="7313168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313172">Y</span><span class="op" id="7313173">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313182">[</span><span class="op" id="7313183">]</span><span class="builtintype" id="7313184">byte</span><span class="op" id="7313188">(</span><span class="string" id="7313189">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="7313204">)</span><span class="op" id="7313205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313209">T</span><span class="op" id="7313210">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7313219">&amp;</span><span class="ident" id="7313220">T2</span><span class="op" id="7313222">{</span><span class="string" id="7313223">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="7313235">}</span><span class="op" id="7313236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7313239">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313242">b</span>&nbsp;<span class="op" id="7313244">:=</span>&nbsp;<span class="builtinfunc" id="7313247">new</span><span class="op" id="7313250">(</span><span class="ident" id="7313251">bytes</span><span class="op" id="7313256">.</span><span class="ident" id="7313257">Buffer</span><span class="op" id="7313263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313266">err</span>&nbsp;<span class="op" id="7313270">:=</span>&nbsp;<span class="ident" id="7313273">NewEncoder</span><span class="op" id="7313283">(</span><span class="ident" id="7313284">b</span><span class="op" id="7313285">)</span><span class="op" id="7313286">.</span><span class="ident" id="7313287">Encode</span><span class="op" id="7313293">(</span><span class="ident" id="7313294">t1</span><span class="op" id="7313296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313299">if</span>&nbsp;<span class="ident" id="7313302">err</span>&nbsp;<span class="op" id="7313306">!=</span>&nbsp;<span class="ident" id="7313309">nil</span>&nbsp;<span class="op" id="7313313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313317">t</span><span class="op" id="7313318">.</span><span class="ident" id="7313319">Error</span><span class="op" id="7313324">(</span><span class="string" id="7313325">&#34;encode:&#34;</span><span class="op" id="7313334">,</span>&nbsp;<span class="ident" id="7313336">err</span><span class="op" id="7313339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7313342">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313345">var</span>&nbsp;<span class="ident" id="7313349">_t1</span>&nbsp;<span class="ident" id="7313353">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313357">err</span>&nbsp;<span class="op" id="7313361">=</span>&nbsp;<span class="ident" id="7313363">NewDecoder</span><span class="op" id="7313373">(</span><span class="ident" id="7313374">b</span><span class="op" id="7313375">)</span><span class="op" id="7313376">.</span><span class="ident" id="7313377">Decode</span><span class="op" id="7313383">(</span><span class="op" id="7313384">&amp;</span><span class="ident" id="7313385">_t1</span><span class="op" id="7313388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313391">if</span>&nbsp;<span class="ident" id="7313394">err</span>&nbsp;<span class="op" id="7313398">!=</span>&nbsp;<span class="ident" id="7313401">nil</span>&nbsp;<span class="op" id="7313405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313409">t</span><span class="op" id="7313410">.</span><span class="ident" id="7313411">Fatal</span><span class="op" id="7313416">(</span><span class="string" id="7313417">&#34;decode:&#34;</span><span class="op" id="7313426">,</span>&nbsp;<span class="ident" id="7313428">err</span><span class="op" id="7313431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7313434">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313437">if</span>&nbsp;<span class="op" id="7313440">!</span><span class="ident" id="7313441">reflect</span><span class="op" id="7313448">.</span><span class="ident" id="7313449">DeepEqual</span><span class="op" id="7313458">(</span><span class="ident" id="7313459">t1</span><span class="op" id="7313461">,</span>&nbsp;<span class="op" id="7313463">&amp;</span><span class="ident" id="7313464">_t1</span><span class="op" id="7313467">)</span>&nbsp;<span class="op" id="7313469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313473">t</span><span class="op" id="7313474">.</span><span class="ident" id="7313475">Errorf</span><span class="op" id="7313481">(</span><span class="string" id="7313482">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7313509">,</span>&nbsp;<span class="op" id="7313511">*</span><span class="ident" id="7313512">t1</span><span class="op" id="7313514">,</span>&nbsp;<span class="ident" id="7313516">_t1</span><span class="op" id="7313519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7313522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7313525">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313577">if</span>&nbsp;<span class="ident" id="7313580">t1</span><span class="op" id="7313582">.</span><span class="ident" id="7313583">EmptyMap</span>&nbsp;<span class="op" id="7313592">==</span>&nbsp;<span class="ident" id="7313595">nil</span>&nbsp;<span class="op" id="7313599">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313603">t</span><span class="op" id="7313604">.</span><span class="ident" id="7313605">Errorf</span><span class="op" id="7313611">(</span><span class="string" id="7313612">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="7313626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7313629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313632">if</span>&nbsp;<span class="ident" id="7313635">_t1</span><span class="op" id="7313638">.</span><span class="ident" id="7313639">EmptyMap</span>&nbsp;<span class="op" id="7313648">==</span>&nbsp;<span class="ident" id="7313651">nil</span>&nbsp;<span class="op" id="7313655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313659">t</span><span class="op" id="7313660">.</span><span class="ident" id="7313661">Errorf</span><span class="op" id="7313667">(</span><span class="string" id="7313668">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="7313686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7313689">}</span><br>
<span class="lineno">600</span><span class="op" id="7313691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7313694">func</span>&nbsp;<span class="ident" id="7313699">TestOverflow</span><span class="op" id="7313711">(</span><span class="ident" id="7313712">t</span>&nbsp;<span class="op" id="7313714">*</span><span class="ident" id="7313715">testing</span><span class="op" id="7313722">.</span><span class="ident" id="7313723">T</span><span class="op" id="7313724">)</span>&nbsp;<span class="op" id="7313726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313729">type</span>&nbsp;<span class="ident" id="7313734">inputT</span>&nbsp;<span class="keyword" id="7313741">struct</span>&nbsp;<span class="op" id="7313748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313752">Maxi</span>&nbsp;<span class="ident" id="7313757">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313765">Mini</span>&nbsp;<span class="ident" id="7313770">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313778">Maxu</span>&nbsp;<span class="ident" id="7313783">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313792">Maxf</span>&nbsp;<span class="builtintype" id="7313797">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313807">Minf</span>&nbsp;<span class="builtintype" id="7313812">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313822">Maxc</span>&nbsp;<span class="builtintype" id="7313827">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313840">Minc</span>&nbsp;<span class="builtintype" id="7313845">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7313857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313860">var</span>&nbsp;<span class="ident" id="7313864">it</span>&nbsp;<span class="ident" id="7313867">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7313875">var</span>&nbsp;<span class="ident" id="7313879">err</span>&nbsp;<span class="builtintype" id="7313883">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313890">b</span>&nbsp;<span class="op" id="7313892">:=</span>&nbsp;<span class="builtinfunc" id="7313895">new</span><span class="op" id="7313898">(</span><span class="ident" id="7313899">bytes</span><span class="op" id="7313904">.</span><span class="ident" id="7313905">Buffer</span><span class="op" id="7313911">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313914">enc</span>&nbsp;<span class="op" id="7313918">:=</span>&nbsp;<span class="ident" id="7313921">NewEncoder</span><span class="op" id="7313931">(</span><span class="ident" id="7313932">b</span><span class="op" id="7313933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313936">dec</span>&nbsp;<span class="op" id="7313940">:=</span>&nbsp;<span class="ident" id="7313943">NewDecoder</span><span class="op" id="7313953">(</span><span class="ident" id="7313954">b</span><span class="op" id="7313955">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7313959">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313968">b</span><span class="op" id="7313969">.</span><span class="ident" id="7313970">Reset</span><span class="op" id="7313975">(</span><span class="op" id="7313976">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313979">it</span>&nbsp;<span class="op" id="7313982">=</span>&nbsp;<span class="ident" id="7313984">inputT</span><span class="op" id="7313990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7313994">Maxi</span><span class="op" id="7313998">:</span>&nbsp;<span class="ident" id="7314000">math</span><span class="op" id="7314004">.</span><span class="ident" id="7314005">MaxInt8</span>&nbsp;<span class="op" id="7314013">+</span>&nbsp;<span class="num" id="7314015">1</span><span class="op" id="7314016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314022">type</span>&nbsp;<span class="ident" id="7314027">outi8</span>&nbsp;<span class="keyword" id="7314033">struct</span>&nbsp;<span class="op" id="7314040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314044">Maxi</span>&nbsp;<span class="builtintype" id="7314049">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314056">Mini</span>&nbsp;<span class="builtintype" id="7314061">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314070">var</span>&nbsp;<span class="ident" id="7314074">o1</span>&nbsp;<span class="ident" id="7314077">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314084">enc</span><span class="op" id="7314087">.</span><span class="ident" id="7314088">Encode</span><span class="op" id="7314094">(</span><span class="ident" id="7314095">it</span><span class="op" id="7314097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314100">err</span>&nbsp;<span class="op" id="7314104">=</span>&nbsp;<span class="ident" id="7314106">dec</span><span class="op" id="7314109">.</span><span class="ident" id="7314110">Decode</span><span class="op" id="7314116">(</span><span class="op" id="7314117">&amp;</span><span class="ident" id="7314118">o1</span><span class="op" id="7314120">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314123">if</span>&nbsp;<span class="ident" id="7314126">err</span>&nbsp;<span class="op" id="7314130">==</span>&nbsp;<span class="ident" id="7314133">nil</span>&nbsp;<span class="op" id="7314137">||</span>&nbsp;<span class="ident" id="7314140">err</span><span class="op" id="7314143">.</span><span class="ident" id="7314144">Error</span><span class="op" id="7314149">(</span><span class="op" id="7314150">)</span>&nbsp;<span class="op" id="7314152">!=</span>&nbsp;<span class="string" id="7314155">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7314187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314191">t</span><span class="op" id="7314192">.</span><span class="ident" id="7314193">Error</span><span class="op" id="7314198">(</span><span class="string" id="7314199">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="7314231">,</span>&nbsp;<span class="ident" id="7314233">err</span><span class="op" id="7314236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314242">it</span>&nbsp;<span class="op" id="7314245">=</span>&nbsp;<span class="ident" id="7314247">inputT</span><span class="op" id="7314253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314257">Mini</span><span class="op" id="7314261">:</span>&nbsp;<span class="ident" id="7314263">math</span><span class="op" id="7314267">.</span><span class="ident" id="7314268">MinInt8</span>&nbsp;<span class="op" id="7314276">-</span>&nbsp;<span class="num" id="7314278">1</span><span class="op" id="7314279">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314285">b</span><span class="op" id="7314286">.</span><span class="ident" id="7314287">Reset</span><span class="op" id="7314292">(</span><span class="op" id="7314293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314296">enc</span><span class="op" id="7314299">.</span><span class="ident" id="7314300">Encode</span><span class="op" id="7314306">(</span><span class="ident" id="7314307">it</span><span class="op" id="7314309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314312">err</span>&nbsp;<span class="op" id="7314316">=</span>&nbsp;<span class="ident" id="7314318">dec</span><span class="op" id="7314321">.</span><span class="ident" id="7314322">Decode</span><span class="op" id="7314328">(</span><span class="op" id="7314329">&amp;</span><span class="ident" id="7314330">o1</span><span class="op" id="7314332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314335">if</span>&nbsp;<span class="ident" id="7314338">err</span>&nbsp;<span class="op" id="7314342">==</span>&nbsp;<span class="ident" id="7314345">nil</span>&nbsp;<span class="op" id="7314349">||</span>&nbsp;<span class="ident" id="7314352">err</span><span class="op" id="7314355">.</span><span class="ident" id="7314356">Error</span><span class="op" id="7314361">(</span><span class="op" id="7314362">)</span>&nbsp;<span class="op" id="7314364">!=</span>&nbsp;<span class="string" id="7314367">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7314399">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314403">t</span><span class="op" id="7314404">.</span><span class="ident" id="7314405">Error</span><span class="op" id="7314410">(</span><span class="string" id="7314411">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="7314444">,</span>&nbsp;<span class="ident" id="7314446">err</span><span class="op" id="7314449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7314456">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314466">b</span><span class="op" id="7314467">.</span><span class="ident" id="7314468">Reset</span><span class="op" id="7314473">(</span><span class="op" id="7314474">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314477">it</span>&nbsp;<span class="op" id="7314480">=</span>&nbsp;<span class="ident" id="7314482">inputT</span><span class="op" id="7314488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314492">Maxi</span><span class="op" id="7314496">:</span>&nbsp;<span class="ident" id="7314498">math</span><span class="op" id="7314502">.</span><span class="ident" id="7314503">MaxInt16</span>&nbsp;<span class="op" id="7314512">+</span>&nbsp;<span class="num" id="7314514">1</span><span class="op" id="7314515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314521">type</span>&nbsp;<span class="ident" id="7314526">outi16</span>&nbsp;<span class="keyword" id="7314533">struct</span>&nbsp;<span class="op" id="7314540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314544">Maxi</span>&nbsp;<span class="builtintype" id="7314549">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314557">Mini</span>&nbsp;<span class="builtintype" id="7314562">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314572">var</span>&nbsp;<span class="ident" id="7314576">o2</span>&nbsp;<span class="ident" id="7314579">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314587">enc</span><span class="op" id="7314590">.</span><span class="ident" id="7314591">Encode</span><span class="op" id="7314597">(</span><span class="ident" id="7314598">it</span><span class="op" id="7314600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314603">err</span>&nbsp;<span class="op" id="7314607">=</span>&nbsp;<span class="ident" id="7314609">dec</span><span class="op" id="7314612">.</span><span class="ident" id="7314613">Decode</span><span class="op" id="7314619">(</span><span class="op" id="7314620">&amp;</span><span class="ident" id="7314621">o2</span><span class="op" id="7314623">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314626">if</span>&nbsp;<span class="ident" id="7314629">err</span>&nbsp;<span class="op" id="7314633">==</span>&nbsp;<span class="ident" id="7314636">nil</span>&nbsp;<span class="op" id="7314640">||</span>&nbsp;<span class="ident" id="7314643">err</span><span class="op" id="7314646">.</span><span class="ident" id="7314647">Error</span><span class="op" id="7314652">(</span><span class="op" id="7314653">)</span>&nbsp;<span class="op" id="7314655">!=</span>&nbsp;<span class="string" id="7314658">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7314690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314694">t</span><span class="op" id="7314695">.</span><span class="ident" id="7314696">Error</span><span class="op" id="7314701">(</span><span class="string" id="7314702">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="7314735">,</span>&nbsp;<span class="ident" id="7314737">err</span><span class="op" id="7314740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314746">it</span>&nbsp;<span class="op" id="7314749">=</span>&nbsp;<span class="ident" id="7314751">inputT</span><span class="op" id="7314757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314761">Mini</span><span class="op" id="7314765">:</span>&nbsp;<span class="ident" id="7314767">math</span><span class="op" id="7314771">.</span><span class="ident" id="7314772">MinInt16</span>&nbsp;<span class="op" id="7314781">-</span>&nbsp;<span class="num" id="7314783">1</span><span class="op" id="7314784">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314790">b</span><span class="op" id="7314791">.</span><span class="ident" id="7314792">Reset</span><span class="op" id="7314797">(</span><span class="op" id="7314798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314801">enc</span><span class="op" id="7314804">.</span><span class="ident" id="7314805">Encode</span><span class="op" id="7314811">(</span><span class="ident" id="7314812">it</span><span class="op" id="7314814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314817">err</span>&nbsp;<span class="op" id="7314821">=</span>&nbsp;<span class="ident" id="7314823">dec</span><span class="op" id="7314826">.</span><span class="ident" id="7314827">Decode</span><span class="op" id="7314833">(</span><span class="op" id="7314834">&amp;</span><span class="ident" id="7314835">o2</span><span class="op" id="7314837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7314840">if</span>&nbsp;<span class="ident" id="7314843">err</span>&nbsp;<span class="op" id="7314847">==</span>&nbsp;<span class="ident" id="7314850">nil</span>&nbsp;<span class="op" id="7314854">||</span>&nbsp;<span class="ident" id="7314857">err</span><span class="op" id="7314860">.</span><span class="ident" id="7314861">Error</span><span class="op" id="7314866">(</span><span class="op" id="7314867">)</span>&nbsp;<span class="op" id="7314869">!=</span>&nbsp;<span class="string" id="7314872">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7314904">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314908">t</span><span class="op" id="7314909">.</span><span class="ident" id="7314910">Error</span><span class="op" id="7314915">(</span><span class="string" id="7314916">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="7314950">,</span>&nbsp;<span class="ident" id="7314952">err</span><span class="op" id="7314955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7314958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7314962">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314972">b</span><span class="op" id="7314973">.</span><span class="ident" id="7314974">Reset</span><span class="op" id="7314979">(</span><span class="op" id="7314980">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314983">it</span>&nbsp;<span class="op" id="7314986">=</span>&nbsp;<span class="ident" id="7314988">inputT</span><span class="op" id="7314994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7314998">Maxi</span><span class="op" id="7315002">:</span>&nbsp;<span class="ident" id="7315004">math</span><span class="op" id="7315008">.</span><span class="ident" id="7315009">MaxInt32</span>&nbsp;<span class="op" id="7315018">+</span>&nbsp;<span class="num" id="7315020">1</span><span class="op" id="7315021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315027">type</span>&nbsp;<span class="ident" id="7315032">outi32</span>&nbsp;<span class="keyword" id="7315039">struct</span>&nbsp;<span class="op" id="7315046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315050">Maxi</span>&nbsp;<span class="builtintype" id="7315055">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315063">Mini</span>&nbsp;<span class="builtintype" id="7315068">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315078">var</span>&nbsp;<span class="ident" id="7315082">o3</span>&nbsp;<span class="ident" id="7315085">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315093">enc</span><span class="op" id="7315096">.</span><span class="ident" id="7315097">Encode</span><span class="op" id="7315103">(</span><span class="ident" id="7315104">it</span><span class="op" id="7315106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315109">err</span>&nbsp;<span class="op" id="7315113">=</span>&nbsp;<span class="ident" id="7315115">dec</span><span class="op" id="7315118">.</span><span class="ident" id="7315119">Decode</span><span class="op" id="7315125">(</span><span class="op" id="7315126">&amp;</span><span class="ident" id="7315127">o3</span><span class="op" id="7315129">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315132">if</span>&nbsp;<span class="ident" id="7315135">err</span>&nbsp;<span class="op" id="7315139">==</span>&nbsp;<span class="ident" id="7315142">nil</span>&nbsp;<span class="op" id="7315146">||</span>&nbsp;<span class="ident" id="7315149">err</span><span class="op" id="7315152">.</span><span class="ident" id="7315153">Error</span><span class="op" id="7315158">(</span><span class="op" id="7315159">)</span>&nbsp;<span class="op" id="7315161">!=</span>&nbsp;<span class="string" id="7315164">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7315196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315200">t</span><span class="op" id="7315201">.</span><span class="ident" id="7315202">Error</span><span class="op" id="7315207">(</span><span class="string" id="7315208">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="7315241">,</span>&nbsp;<span class="ident" id="7315243">err</span><span class="op" id="7315246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315252">it</span>&nbsp;<span class="op" id="7315255">=</span>&nbsp;<span class="ident" id="7315257">inputT</span><span class="op" id="7315263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315267">Mini</span><span class="op" id="7315271">:</span>&nbsp;<span class="ident" id="7315273">math</span><span class="op" id="7315277">.</span><span class="ident" id="7315278">MinInt32</span>&nbsp;<span class="op" id="7315287">-</span>&nbsp;<span class="num" id="7315289">1</span><span class="op" id="7315290">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315296">b</span><span class="op" id="7315297">.</span><span class="ident" id="7315298">Reset</span><span class="op" id="7315303">(</span><span class="op" id="7315304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315307">enc</span><span class="op" id="7315310">.</span><span class="ident" id="7315311">Encode</span><span class="op" id="7315317">(</span><span class="ident" id="7315318">it</span><span class="op" id="7315320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315323">err</span>&nbsp;<span class="op" id="7315327">=</span>&nbsp;<span class="ident" id="7315329">dec</span><span class="op" id="7315332">.</span><span class="ident" id="7315333">Decode</span><span class="op" id="7315339">(</span><span class="op" id="7315340">&amp;</span><span class="ident" id="7315341">o3</span><span class="op" id="7315343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315346">if</span>&nbsp;<span class="ident" id="7315349">err</span>&nbsp;<span class="op" id="7315353">==</span>&nbsp;<span class="ident" id="7315356">nil</span>&nbsp;<span class="op" id="7315360">||</span>&nbsp;<span class="ident" id="7315363">err</span><span class="op" id="7315366">.</span><span class="ident" id="7315367">Error</span><span class="op" id="7315372">(</span><span class="op" id="7315373">)</span>&nbsp;<span class="op" id="7315375">!=</span>&nbsp;<span class="string" id="7315378">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7315410">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315414">t</span><span class="op" id="7315415">.</span><span class="ident" id="7315416">Error</span><span class="op" id="7315421">(</span><span class="string" id="7315422">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="7315456">,</span>&nbsp;<span class="ident" id="7315458">err</span><span class="op" id="7315461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7315468">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315478">b</span><span class="op" id="7315479">.</span><span class="ident" id="7315480">Reset</span><span class="op" id="7315485">(</span><span class="op" id="7315486">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315489">it</span>&nbsp;<span class="op" id="7315492">=</span>&nbsp;<span class="ident" id="7315494">inputT</span><span class="op" id="7315500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315504">Maxu</span><span class="op" id="7315508">:</span>&nbsp;<span class="ident" id="7315510">math</span><span class="op" id="7315514">.</span><span class="ident" id="7315515">MaxUint8</span>&nbsp;<span class="op" id="7315524">+</span>&nbsp;<span class="num" id="7315526">1</span><span class="op" id="7315527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315533">type</span>&nbsp;<span class="ident" id="7315538">outu8</span>&nbsp;<span class="keyword" id="7315544">struct</span>&nbsp;<span class="op" id="7315551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315555">Maxu</span>&nbsp;<span class="builtintype" id="7315560">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315570">var</span>&nbsp;<span class="ident" id="7315574">o4</span>&nbsp;<span class="ident" id="7315577">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315584">enc</span><span class="op" id="7315587">.</span><span class="ident" id="7315588">Encode</span><span class="op" id="7315594">(</span><span class="ident" id="7315595">it</span><span class="op" id="7315597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315600">err</span>&nbsp;<span class="op" id="7315604">=</span>&nbsp;<span class="ident" id="7315606">dec</span><span class="op" id="7315609">.</span><span class="ident" id="7315610">Decode</span><span class="op" id="7315616">(</span><span class="op" id="7315617">&amp;</span><span class="ident" id="7315618">o4</span><span class="op" id="7315620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315623">if</span>&nbsp;<span class="ident" id="7315626">err</span>&nbsp;<span class="op" id="7315630">==</span>&nbsp;<span class="ident" id="7315633">nil</span>&nbsp;<span class="op" id="7315637">||</span>&nbsp;<span class="ident" id="7315640">err</span><span class="op" id="7315643">.</span><span class="ident" id="7315644">Error</span><span class="op" id="7315649">(</span><span class="op" id="7315650">)</span>&nbsp;<span class="op" id="7315652">!=</span>&nbsp;<span class="string" id="7315655">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7315687">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315691">t</span><span class="op" id="7315692">.</span><span class="ident" id="7315693">Error</span><span class="op" id="7315698">(</span><span class="string" id="7315699">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="7315732">,</span>&nbsp;<span class="ident" id="7315734">err</span><span class="op" id="7315737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7315744">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315755">b</span><span class="op" id="7315756">.</span><span class="ident" id="7315757">Reset</span><span class="op" id="7315762">(</span><span class="op" id="7315763">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315766">it</span>&nbsp;<span class="op" id="7315769">=</span>&nbsp;<span class="ident" id="7315771">inputT</span><span class="op" id="7315777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315781">Maxu</span><span class="op" id="7315785">:</span>&nbsp;<span class="ident" id="7315787">math</span><span class="op" id="7315791">.</span><span class="ident" id="7315792">MaxUint16</span>&nbsp;<span class="op" id="7315802">+</span>&nbsp;<span class="num" id="7315804">1</span><span class="op" id="7315805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315811">type</span>&nbsp;<span class="ident" id="7315816">outu16</span>&nbsp;<span class="keyword" id="7315823">struct</span>&nbsp;<span class="op" id="7315830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315834">Maxu</span>&nbsp;<span class="builtintype" id="7315839">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7315847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315850">var</span>&nbsp;<span class="ident" id="7315854">o5</span>&nbsp;<span class="ident" id="7315857">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315865">enc</span><span class="op" id="7315868">.</span><span class="ident" id="7315869">Encode</span><span class="op" id="7315875">(</span><span class="ident" id="7315876">it</span><span class="op" id="7315878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315881">err</span>&nbsp;<span class="op" id="7315885">=</span>&nbsp;<span class="ident" id="7315887">dec</span><span class="op" id="7315890">.</span><span class="ident" id="7315891">Decode</span><span class="op" id="7315897">(</span><span class="op" id="7315898">&amp;</span><span class="ident" id="7315899">o5</span><span class="op" id="7315901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7315904">if</span>&nbsp;<span class="ident" id="7315907">err</span>&nbsp;<span class="op" id="7315911">==</span>&nbsp;<span class="ident" id="7315914">nil</span>&nbsp;<span class="op" id="7315918">||</span>&nbsp;<span class="ident" id="7315921">err</span><span class="op" id="7315924">.</span><span class="ident" id="7315925">Error</span><span class="op" id="7315930">(</span><span class="op" id="7315931">)</span>&nbsp;<span class="op" id="7315933">!=</span>&nbsp;<span class="string" id="7315936">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7315968">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7315972">t</span><span class="op" id="7315973">.</span><span class="ident" id="7315974">Error</span><span class="op" id="7315979">(</span><span class="string" id="7315980">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="7316014">,</span>&nbsp;<span class="ident" id="7316016">err</span><span class="op" id="7316019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7316026">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316037">b</span><span class="op" id="7316038">.</span><span class="ident" id="7316039">Reset</span><span class="op" id="7316044">(</span><span class="op" id="7316045">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316048">it</span>&nbsp;<span class="op" id="7316051">=</span>&nbsp;<span class="ident" id="7316053">inputT</span><span class="op" id="7316059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316063">Maxu</span><span class="op" id="7316067">:</span>&nbsp;<span class="ident" id="7316069">math</span><span class="op" id="7316073">.</span><span class="ident" id="7316074">MaxUint32</span>&nbsp;<span class="op" id="7316084">+</span>&nbsp;<span class="num" id="7316086">1</span><span class="op" id="7316087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316093">type</span>&nbsp;<span class="ident" id="7316098">outu32</span>&nbsp;<span class="keyword" id="7316105">struct</span>&nbsp;<span class="op" id="7316112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316116">Maxu</span>&nbsp;<span class="builtintype" id="7316121">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316132">var</span>&nbsp;<span class="ident" id="7316136">o6</span>&nbsp;<span class="ident" id="7316139">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316147">enc</span><span class="op" id="7316150">.</span><span class="ident" id="7316151">Encode</span><span class="op" id="7316157">(</span><span class="ident" id="7316158">it</span><span class="op" id="7316160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316163">err</span>&nbsp;<span class="op" id="7316167">=</span>&nbsp;<span class="ident" id="7316169">dec</span><span class="op" id="7316172">.</span><span class="ident" id="7316173">Decode</span><span class="op" id="7316179">(</span><span class="op" id="7316180">&amp;</span><span class="ident" id="7316181">o6</span><span class="op" id="7316183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316186">if</span>&nbsp;<span class="ident" id="7316189">err</span>&nbsp;<span class="op" id="7316193">==</span>&nbsp;<span class="ident" id="7316196">nil</span>&nbsp;<span class="op" id="7316200">||</span>&nbsp;<span class="ident" id="7316203">err</span><span class="op" id="7316206">.</span><span class="ident" id="7316207">Error</span><span class="op" id="7316212">(</span><span class="op" id="7316213">)</span>&nbsp;<span class="op" id="7316215">!=</span>&nbsp;<span class="string" id="7316218">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7316250">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316254">t</span><span class="op" id="7316255">.</span><span class="ident" id="7316256">Error</span><span class="op" id="7316261">(</span><span class="string" id="7316262">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="7316296">,</span>&nbsp;<span class="ident" id="7316298">err</span><span class="op" id="7316301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7316308">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316320">b</span><span class="op" id="7316321">.</span><span class="ident" id="7316322">Reset</span><span class="op" id="7316327">(</span><span class="op" id="7316328">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316331">it</span>&nbsp;<span class="op" id="7316334">=</span>&nbsp;<span class="ident" id="7316336">inputT</span><span class="op" id="7316342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316346">Maxf</span><span class="op" id="7316350">:</span>&nbsp;<span class="ident" id="7316352">math</span><span class="op" id="7316356">.</span><span class="ident" id="7316357">MaxFloat32</span>&nbsp;<span class="op" id="7316368">*</span>&nbsp;<span class="num" id="7316370">2</span><span class="op" id="7316371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316377">type</span>&nbsp;<span class="ident" id="7316382">outf32</span>&nbsp;<span class="keyword" id="7316389">struct</span>&nbsp;<span class="op" id="7316396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316400">Maxf</span>&nbsp;<span class="builtintype" id="7316405">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316415">Minf</span>&nbsp;<span class="builtintype" id="7316420">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316432">var</span>&nbsp;<span class="ident" id="7316436">o7</span>&nbsp;<span class="ident" id="7316439">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316447">enc</span><span class="op" id="7316450">.</span><span class="ident" id="7316451">Encode</span><span class="op" id="7316457">(</span><span class="ident" id="7316458">it</span><span class="op" id="7316460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316463">err</span>&nbsp;<span class="op" id="7316467">=</span>&nbsp;<span class="ident" id="7316469">dec</span><span class="op" id="7316472">.</span><span class="ident" id="7316473">Decode</span><span class="op" id="7316479">(</span><span class="op" id="7316480">&amp;</span><span class="ident" id="7316481">o7</span><span class="op" id="7316483">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316486">if</span>&nbsp;<span class="ident" id="7316489">err</span>&nbsp;<span class="op" id="7316493">==</span>&nbsp;<span class="ident" id="7316496">nil</span>&nbsp;<span class="op" id="7316500">||</span>&nbsp;<span class="ident" id="7316503">err</span><span class="op" id="7316506">.</span><span class="ident" id="7316507">Error</span><span class="op" id="7316512">(</span><span class="op" id="7316513">)</span>&nbsp;<span class="op" id="7316515">!=</span>&nbsp;<span class="string" id="7316518">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7316550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316554">t</span><span class="op" id="7316555">.</span><span class="ident" id="7316556">Error</span><span class="op" id="7316561">(</span><span class="string" id="7316562">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="7316597">,</span>&nbsp;<span class="ident" id="7316599">err</span><span class="op" id="7316602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7316609">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316623">b</span><span class="op" id="7316624">.</span><span class="ident" id="7316625">Reset</span><span class="op" id="7316630">(</span><span class="op" id="7316631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316634">it</span>&nbsp;<span class="op" id="7316637">=</span>&nbsp;<span class="ident" id="7316639">inputT</span><span class="op" id="7316645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316649">Maxc</span><span class="op" id="7316653">:</span>&nbsp;<span class="builtinfunc" id="7316655">complex</span><span class="op" id="7316662">(</span><span class="ident" id="7316663">math</span><span class="op" id="7316667">.</span><span class="ident" id="7316668">MaxFloat32</span><span class="op" id="7316678">*</span><span class="num" id="7316679">2</span><span class="op" id="7316680">,</span>&nbsp;<span class="ident" id="7316682">math</span><span class="op" id="7316686">.</span><span class="ident" id="7316687">MaxFloat32</span><span class="op" id="7316697">*</span><span class="num" id="7316698">2</span><span class="op" id="7316699">)</span><span class="op" id="7316700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316706">type</span>&nbsp;<span class="ident" id="7316711">outc64</span>&nbsp;<span class="keyword" id="7316718">struct</span>&nbsp;<span class="op" id="7316725">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316729">Maxc</span>&nbsp;<span class="builtintype" id="7316734">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316746">Minc</span>&nbsp;<span class="builtintype" id="7316751">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316765">var</span>&nbsp;<span class="ident" id="7316769">o8</span>&nbsp;<span class="ident" id="7316772">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316780">enc</span><span class="op" id="7316783">.</span><span class="ident" id="7316784">Encode</span><span class="op" id="7316790">(</span><span class="ident" id="7316791">it</span><span class="op" id="7316793">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316796">err</span>&nbsp;<span class="op" id="7316800">=</span>&nbsp;<span class="ident" id="7316802">dec</span><span class="op" id="7316805">.</span><span class="ident" id="7316806">Decode</span><span class="op" id="7316812">(</span><span class="op" id="7316813">&amp;</span><span class="ident" id="7316814">o8</span><span class="op" id="7316816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316819">if</span>&nbsp;<span class="ident" id="7316822">err</span>&nbsp;<span class="op" id="7316826">==</span>&nbsp;<span class="ident" id="7316829">nil</span>&nbsp;<span class="op" id="7316833">||</span>&nbsp;<span class="ident" id="7316836">err</span><span class="op" id="7316839">.</span><span class="ident" id="7316840">Error</span><span class="op" id="7316845">(</span><span class="op" id="7316846">)</span>&nbsp;<span class="op" id="7316848">!=</span>&nbsp;<span class="string" id="7316851">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7316883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316887">t</span><span class="op" id="7316888">.</span><span class="ident" id="7316889">Error</span><span class="op" id="7316894">(</span><span class="string" id="7316895">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="7316932">,</span>&nbsp;<span class="ident" id="7316934">err</span><span class="op" id="7316937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7316940">}</span><br>
<span class="lineno"></span><span class="op" id="7316942">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="7316945">func</span>&nbsp;<span class="ident" id="7316950">TestNesting</span><span class="op" id="7316961">(</span><span class="ident" id="7316962">t</span>&nbsp;<span class="op" id="7316964">*</span><span class="ident" id="7316965">testing</span><span class="op" id="7316972">.</span><span class="ident" id="7316973">T</span><span class="op" id="7316974">)</span>&nbsp;<span class="op" id="7316976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7316979">type</span>&nbsp;<span class="ident" id="7316984">RT</span>&nbsp;<span class="keyword" id="7316987">struct</span>&nbsp;<span class="op" id="7316994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7316998">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7317003">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317012">Next</span>&nbsp;<span class="op" id="7317017">*</span><span class="ident" id="7317018">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317025">rt</span>&nbsp;<span class="op" id="7317028">:=</span>&nbsp;<span class="builtinfunc" id="7317031">new</span><span class="op" id="7317034">(</span><span class="ident" id="7317035">RT</span><span class="op" id="7317037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317040">rt</span><span class="op" id="7317042">.</span><span class="ident" id="7317043">A</span>&nbsp;<span class="op" id="7317045">=</span>&nbsp;<span class="string" id="7317047">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317057">rt</span><span class="op" id="7317059">.</span><span class="ident" id="7317060">Next</span>&nbsp;<span class="op" id="7317065">=</span>&nbsp;<span class="builtinfunc" id="7317067">new</span><span class="op" id="7317070">(</span><span class="ident" id="7317071">RT</span><span class="op" id="7317073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317076">rt</span><span class="op" id="7317078">.</span><span class="ident" id="7317079">Next</span><span class="op" id="7317083">.</span><span class="ident" id="7317084">A</span>&nbsp;<span class="op" id="7317086">=</span>&nbsp;<span class="string" id="7317088">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317098">b</span>&nbsp;<span class="op" id="7317100">:=</span>&nbsp;<span class="builtinfunc" id="7317103">new</span><span class="op" id="7317106">(</span><span class="ident" id="7317107">bytes</span><span class="op" id="7317112">.</span><span class="ident" id="7317113">Buffer</span><span class="op" id="7317119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317122">NewEncoder</span><span class="op" id="7317132">(</span><span class="ident" id="7317133">b</span><span class="op" id="7317134">)</span><span class="op" id="7317135">.</span><span class="ident" id="7317136">Encode</span><span class="op" id="7317142">(</span><span class="ident" id="7317143">rt</span><span class="op" id="7317145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317148">var</span>&nbsp;<span class="ident" id="7317152">drt</span>&nbsp;<span class="ident" id="7317156">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317160">dec</span>&nbsp;<span class="op" id="7317164">:=</span>&nbsp;<span class="ident" id="7317167">NewDecoder</span><span class="op" id="7317177">(</span><span class="ident" id="7317178">b</span><span class="op" id="7317179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317182">err</span>&nbsp;<span class="op" id="7317186">:=</span>&nbsp;<span class="ident" id="7317189">dec</span><span class="op" id="7317192">.</span><span class="ident" id="7317193">Decode</span><span class="op" id="7317199">(</span><span class="op" id="7317200">&amp;</span><span class="ident" id="7317201">drt</span><span class="op" id="7317204">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317207">if</span>&nbsp;<span class="ident" id="7317210">err</span>&nbsp;<span class="op" id="7317214">!=</span>&nbsp;<span class="ident" id="7317217">nil</span>&nbsp;<span class="op" id="7317221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317225">t</span><span class="op" id="7317226">.</span><span class="ident" id="7317227">Fatal</span><span class="op" id="7317232">(</span><span class="string" id="7317233">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="7317249">,</span>&nbsp;<span class="ident" id="7317251">err</span><span class="op" id="7317254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317260">if</span>&nbsp;<span class="ident" id="7317263">drt</span><span class="op" id="7317266">.</span><span class="ident" id="7317267">A</span>&nbsp;<span class="op" id="7317269">!=</span>&nbsp;<span class="ident" id="7317272">rt</span><span class="op" id="7317274">.</span><span class="ident" id="7317275">A</span>&nbsp;<span class="op" id="7317277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317281">t</span><span class="op" id="7317282">.</span><span class="ident" id="7317283">Errorf</span><span class="op" id="7317289">(</span><span class="string" id="7317290">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7317326">,</span>&nbsp;<span class="op" id="7317328">*</span><span class="ident" id="7317329">rt</span><span class="op" id="7317331">,</span>&nbsp;<span class="ident" id="7317333">drt</span><span class="op" id="7317336">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317342">if</span>&nbsp;<span class="ident" id="7317345">drt</span><span class="op" id="7317348">.</span><span class="ident" id="7317349">Next</span>&nbsp;<span class="op" id="7317354">==</span>&nbsp;<span class="ident" id="7317357">nil</span>&nbsp;<span class="op" id="7317361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317365">t</span><span class="op" id="7317366">.</span><span class="ident" id="7317367">Errorf</span><span class="op" id="7317373">(</span><span class="string" id="7317374">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="7317401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317407">if</span>&nbsp;<span class="ident" id="7317410">drt</span><span class="op" id="7317413">.</span><span class="ident" id="7317414">Next</span><span class="op" id="7317418">.</span><span class="ident" id="7317419">A</span>&nbsp;<span class="op" id="7317421">!=</span>&nbsp;<span class="ident" id="7317424">rt</span><span class="op" id="7317426">.</span><span class="ident" id="7317427">Next</span><span class="op" id="7317431">.</span><span class="ident" id="7317432">A</span>&nbsp;<span class="op" id="7317434">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317438">t</span><span class="op" id="7317439">.</span><span class="ident" id="7317440">Errorf</span><span class="op" id="7317446">(</span><span class="string" id="7317447">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7317483">,</span>&nbsp;<span class="op" id="7317485">*</span><span class="ident" id="7317486">rt</span><span class="op" id="7317488">.</span><span class="ident" id="7317489">Next</span><span class="op" id="7317493">,</span>&nbsp;<span class="op" id="7317495">*</span><span class="ident" id="7317496">drt</span><span class="op" id="7317499">.</span><span class="ident" id="7317500">Next</span><span class="op" id="7317504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317507">}</span><br>
<span class="lineno"></span><span class="op" id="7317509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7317512">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="7317585">type</span>&nbsp;<span class="ident" id="7317590">T0</span>&nbsp;<span class="keyword" id="7317593">struct</span>&nbsp;<span class="op" id="7317600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317603">A</span>&nbsp;<span class="builtintype" id="7317605">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317610">B</span>&nbsp;<span class="builtintype" id="7317612">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317617">C</span>&nbsp;<span class="builtintype" id="7317619">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317624">D</span>&nbsp;<span class="builtintype" id="7317626">int</span><br>
<span class="lineno">805</span><span class="op" id="7317630">}</span><br>
<span class="lineno"></span><span class="keyword" id="7317632">type</span>&nbsp;<span class="ident" id="7317637">T1</span>&nbsp;<span class="keyword" id="7317640">struct</span>&nbsp;<span class="op" id="7317647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317650">A</span>&nbsp;<span class="builtintype" id="7317652">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317657">B</span>&nbsp;<span class="op" id="7317659">*</span><span class="builtintype" id="7317660">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317665">C</span>&nbsp;<span class="op" id="7317667">*</span><span class="op" id="7317668">*</span><span class="builtintype" id="7317669">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317674">D</span>&nbsp;<span class="op" id="7317676">*</span><span class="op" id="7317677">*</span><span class="op" id="7317678">*</span><span class="builtintype" id="7317679">int</span><br>
<span class="lineno"></span><span class="op" id="7317683">}</span><br>
<span class="lineno"></span><span class="keyword" id="7317685">type</span>&nbsp;<span class="ident" id="7317690">T2</span>&nbsp;<span class="keyword" id="7317693">struct</span>&nbsp;<span class="op" id="7317700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317703">A</span>&nbsp;<span class="op" id="7317705">*</span><span class="op" id="7317706">*</span><span class="op" id="7317707">*</span><span class="builtintype" id="7317708">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317713">B</span>&nbsp;<span class="op" id="7317715">*</span><span class="op" id="7317716">*</span><span class="builtintype" id="7317717">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317722">C</span>&nbsp;<span class="op" id="7317724">*</span><span class="builtintype" id="7317725">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317730">D</span>&nbsp;<span class="builtintype" id="7317732">int</span><br>
<span class="lineno"></span><span class="op" id="7317736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7317739">func</span>&nbsp;<span class="ident" id="7317744">TestAutoIndirection</span><span class="op" id="7317763">(</span><span class="ident" id="7317764">t</span>&nbsp;<span class="op" id="7317766">*</span><span class="ident" id="7317767">testing</span><span class="op" id="7317774">.</span><span class="ident" id="7317775">T</span><span class="op" id="7317776">)</span>&nbsp;<span class="op" id="7317778">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7317781">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7317811">var</span>&nbsp;<span class="ident" id="7317815">t1</span>&nbsp;<span class="ident" id="7317818">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317822">t1</span><span class="op" id="7317824">.</span><span class="ident" id="7317825">A</span>&nbsp;<span class="op" id="7317827">=</span>&nbsp;<span class="num" id="7317829">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317833">t1</span><span class="op" id="7317835">.</span><span class="ident" id="7317836">B</span>&nbsp;<span class="op" id="7317838">=</span>&nbsp;<span class="builtinfunc" id="7317840">new</span><span class="op" id="7317843">(</span><span class="builtintype" id="7317844">int</span><span class="op" id="7317847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317850">*</span><span class="ident" id="7317851">t1</span><span class="op" id="7317853">.</span><span class="ident" id="7317854">B</span>&nbsp;<span class="op" id="7317856">=</span>&nbsp;<span class="num" id="7317858">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317863">t1</span><span class="op" id="7317865">.</span><span class="ident" id="7317866">C</span>&nbsp;<span class="op" id="7317868">=</span>&nbsp;<span class="builtinfunc" id="7317870">new</span><span class="op" id="7317873">(</span><span class="op" id="7317874">*</span><span class="builtintype" id="7317875">int</span><span class="op" id="7317878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317881">*</span><span class="ident" id="7317882">t1</span><span class="op" id="7317884">.</span><span class="ident" id="7317885">C</span>&nbsp;<span class="op" id="7317887">=</span>&nbsp;<span class="builtinfunc" id="7317889">new</span><span class="op" id="7317892">(</span><span class="builtintype" id="7317893">int</span><span class="op" id="7317896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317899">*</span><span class="op" id="7317900">*</span><span class="ident" id="7317901">t1</span><span class="op" id="7317903">.</span><span class="ident" id="7317904">C</span>&nbsp;<span class="op" id="7317906">=</span>&nbsp;<span class="num" id="7317908">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317914">t1</span><span class="op" id="7317916">.</span><span class="ident" id="7317917">D</span>&nbsp;<span class="op" id="7317919">=</span>&nbsp;<span class="builtinfunc" id="7317921">new</span><span class="op" id="7317924">(</span><span class="op" id="7317925">*</span><span class="op" id="7317926">*</span><span class="builtintype" id="7317927">int</span><span class="op" id="7317930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317933">*</span><span class="ident" id="7317934">t1</span><span class="op" id="7317936">.</span><span class="ident" id="7317937">D</span>&nbsp;<span class="op" id="7317939">=</span>&nbsp;<span class="builtinfunc" id="7317941">new</span><span class="op" id="7317944">(</span><span class="op" id="7317945">*</span><span class="builtintype" id="7317946">int</span><span class="op" id="7317949">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317952">*</span><span class="op" id="7317953">*</span><span class="ident" id="7317954">t1</span><span class="op" id="7317956">.</span><span class="ident" id="7317957">D</span>&nbsp;<span class="op" id="7317959">=</span>&nbsp;<span class="builtinfunc" id="7317961">new</span><span class="op" id="7317964">(</span><span class="builtintype" id="7317965">int</span><span class="op" id="7317968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7317971">*</span><span class="op" id="7317972">*</span><span class="op" id="7317973">*</span><span class="ident" id="7317974">t1</span><span class="op" id="7317976">.</span><span class="ident" id="7317977">D</span>&nbsp;<span class="op" id="7317979">=</span>&nbsp;<span class="num" id="7317981">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7317988">b</span>&nbsp;<span class="op" id="7317990">:=</span>&nbsp;<span class="builtinfunc" id="7317993">new</span><span class="op" id="7317996">(</span><span class="ident" id="7317997">bytes</span><span class="op" id="7318002">.</span><span class="ident" id="7318003">Buffer</span><span class="op" id="7318009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318012">enc</span>&nbsp;<span class="op" id="7318016">:=</span>&nbsp;<span class="ident" id="7318019">NewEncoder</span><span class="op" id="7318029">(</span><span class="ident" id="7318030">b</span><span class="op" id="7318031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318034">enc</span><span class="op" id="7318037">.</span><span class="ident" id="7318038">Encode</span><span class="op" id="7318044">(</span><span class="ident" id="7318045">t1</span><span class="op" id="7318047">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318050">dec</span>&nbsp;<span class="op" id="7318054">:=</span>&nbsp;<span class="ident" id="7318057">NewDecoder</span><span class="op" id="7318067">(</span><span class="ident" id="7318068">b</span><span class="op" id="7318069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318072">var</span>&nbsp;<span class="ident" id="7318076">t0</span>&nbsp;<span class="ident" id="7318079">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318083">dec</span><span class="op" id="7318086">.</span><span class="ident" id="7318087">Decode</span><span class="op" id="7318093">(</span><span class="op" id="7318094">&amp;</span><span class="ident" id="7318095">t0</span><span class="op" id="7318097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318100">if</span>&nbsp;<span class="ident" id="7318103">t0</span><span class="op" id="7318105">.</span><span class="ident" id="7318106">A</span>&nbsp;<span class="op" id="7318108">!=</span>&nbsp;<span class="num" id="7318111">17</span>&nbsp;<span class="op" id="7318114">||</span>&nbsp;<span class="ident" id="7318117">t0</span><span class="op" id="7318119">.</span><span class="ident" id="7318120">B</span>&nbsp;<span class="op" id="7318122">!=</span>&nbsp;<span class="num" id="7318125">177</span>&nbsp;<span class="op" id="7318129">||</span>&nbsp;<span class="ident" id="7318132">t0</span><span class="op" id="7318134">.</span><span class="ident" id="7318135">C</span>&nbsp;<span class="op" id="7318137">!=</span>&nbsp;<span class="num" id="7318140">1777</span>&nbsp;<span class="op" id="7318145">||</span>&nbsp;<span class="ident" id="7318148">t0</span><span class="op" id="7318150">.</span><span class="ident" id="7318151">D</span>&nbsp;<span class="op" id="7318153">!=</span>&nbsp;<span class="num" id="7318156">17777</span>&nbsp;<span class="op" id="7318162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318166">t</span><span class="op" id="7318167">.</span><span class="ident" id="7318168">Errorf</span><span class="op" id="7318174">(</span><span class="string" id="7318175">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7318221">,</span>&nbsp;<span class="ident" id="7318223">t0</span><span class="op" id="7318225">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7318232">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318260">var</span>&nbsp;<span class="ident" id="7318264">t2</span>&nbsp;<span class="ident" id="7318267">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318271">t2</span><span class="op" id="7318273">.</span><span class="ident" id="7318274">D</span>&nbsp;<span class="op" id="7318276">=</span>&nbsp;<span class="num" id="7318278">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318285">t2</span><span class="op" id="7318287">.</span><span class="ident" id="7318288">C</span>&nbsp;<span class="op" id="7318290">=</span>&nbsp;<span class="builtinfunc" id="7318292">new</span><span class="op" id="7318295">(</span><span class="builtintype" id="7318296">int</span><span class="op" id="7318299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318302">*</span><span class="ident" id="7318303">t2</span><span class="op" id="7318305">.</span><span class="ident" id="7318306">C</span>&nbsp;<span class="op" id="7318308">=</span>&nbsp;<span class="num" id="7318310">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318316">t2</span><span class="op" id="7318318">.</span><span class="ident" id="7318319">B</span>&nbsp;<span class="op" id="7318321">=</span>&nbsp;<span class="builtinfunc" id="7318323">new</span><span class="op" id="7318326">(</span><span class="op" id="7318327">*</span><span class="builtintype" id="7318328">int</span><span class="op" id="7318331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318334">*</span><span class="ident" id="7318335">t2</span><span class="op" id="7318337">.</span><span class="ident" id="7318338">B</span>&nbsp;<span class="op" id="7318340">=</span>&nbsp;<span class="builtinfunc" id="7318342">new</span><span class="op" id="7318345">(</span><span class="builtintype" id="7318346">int</span><span class="op" id="7318349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318352">*</span><span class="op" id="7318353">*</span><span class="ident" id="7318354">t2</span><span class="op" id="7318356">.</span><span class="ident" id="7318357">B</span>&nbsp;<span class="op" id="7318359">=</span>&nbsp;<span class="num" id="7318361">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318366">t2</span><span class="op" id="7318368">.</span><span class="ident" id="7318369">A</span>&nbsp;<span class="op" id="7318371">=</span>&nbsp;<span class="builtinfunc" id="7318373">new</span><span class="op" id="7318376">(</span><span class="op" id="7318377">*</span><span class="op" id="7318378">*</span><span class="builtintype" id="7318379">int</span><span class="op" id="7318382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318385">*</span><span class="ident" id="7318386">t2</span><span class="op" id="7318388">.</span><span class="ident" id="7318389">A</span>&nbsp;<span class="op" id="7318391">=</span>&nbsp;<span class="builtinfunc" id="7318393">new</span><span class="op" id="7318396">(</span><span class="op" id="7318397">*</span><span class="builtintype" id="7318398">int</span><span class="op" id="7318401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318404">*</span><span class="op" id="7318405">*</span><span class="ident" id="7318406">t2</span><span class="op" id="7318408">.</span><span class="ident" id="7318409">A</span>&nbsp;<span class="op" id="7318411">=</span>&nbsp;<span class="builtinfunc" id="7318413">new</span><span class="op" id="7318416">(</span><span class="builtintype" id="7318417">int</span><span class="op" id="7318420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318423">*</span><span class="op" id="7318424">*</span><span class="op" id="7318425">*</span><span class="ident" id="7318426">t2</span><span class="op" id="7318428">.</span><span class="ident" id="7318429">A</span>&nbsp;<span class="op" id="7318431">=</span>&nbsp;<span class="num" id="7318433">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318437">b</span><span class="op" id="7318438">.</span><span class="ident" id="7318439">Reset</span><span class="op" id="7318444">(</span><span class="op" id="7318445">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318448">enc</span><span class="op" id="7318451">.</span><span class="ident" id="7318452">Encode</span><span class="op" id="7318458">(</span><span class="ident" id="7318459">t2</span><span class="op" id="7318461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318464">t0</span>&nbsp;<span class="op" id="7318467">=</span>&nbsp;<span class="ident" id="7318469">T0</span><span class="op" id="7318471">{</span><span class="op" id="7318472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318475">dec</span><span class="op" id="7318478">.</span><span class="ident" id="7318479">Decode</span><span class="op" id="7318485">(</span><span class="op" id="7318486">&amp;</span><span class="ident" id="7318487">t0</span><span class="op" id="7318489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318492">if</span>&nbsp;<span class="ident" id="7318495">t0</span><span class="op" id="7318497">.</span><span class="ident" id="7318498">A</span>&nbsp;<span class="op" id="7318500">!=</span>&nbsp;<span class="num" id="7318503">17</span>&nbsp;<span class="op" id="7318506">||</span>&nbsp;<span class="ident" id="7318509">t0</span><span class="op" id="7318511">.</span><span class="ident" id="7318512">B</span>&nbsp;<span class="op" id="7318514">!=</span>&nbsp;<span class="num" id="7318517">177</span>&nbsp;<span class="op" id="7318521">||</span>&nbsp;<span class="ident" id="7318524">t0</span><span class="op" id="7318526">.</span><span class="ident" id="7318527">C</span>&nbsp;<span class="op" id="7318529">!=</span>&nbsp;<span class="num" id="7318532">1777</span>&nbsp;<span class="op" id="7318537">||</span>&nbsp;<span class="ident" id="7318540">t0</span><span class="op" id="7318542">.</span><span class="ident" id="7318543">D</span>&nbsp;<span class="op" id="7318545">!=</span>&nbsp;<span class="num" id="7318548">17777</span>&nbsp;<span class="op" id="7318554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318558">t</span><span class="op" id="7318559">.</span><span class="ident" id="7318560">Errorf</span><span class="op" id="7318566">(</span><span class="string" id="7318567">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7318612">,</span>&nbsp;<span class="ident" id="7318614">t0</span><span class="op" id="7318616">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7318623">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318651">t0</span>&nbsp;<span class="op" id="7318654">=</span>&nbsp;<span class="ident" id="7318656">T0</span><span class="op" id="7318658">{</span><span class="num" id="7318659">17</span><span class="op" id="7318661">,</span>&nbsp;<span class="num" id="7318663">177</span><span class="op" id="7318666">,</span>&nbsp;<span class="num" id="7318668">1777</span><span class="op" id="7318672">,</span>&nbsp;<span class="num" id="7318674">17777</span><span class="op" id="7318679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318682">b</span><span class="op" id="7318683">.</span><span class="ident" id="7318684">Reset</span><span class="op" id="7318689">(</span><span class="op" id="7318690">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318693">enc</span><span class="op" id="7318696">.</span><span class="ident" id="7318697">Encode</span><span class="op" id="7318703">(</span><span class="ident" id="7318704">t0</span><span class="op" id="7318706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318709">t1</span>&nbsp;<span class="op" id="7318712">=</span>&nbsp;<span class="ident" id="7318714">T1</span><span class="op" id="7318716">{</span><span class="op" id="7318717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318720">dec</span><span class="op" id="7318723">.</span><span class="ident" id="7318724">Decode</span><span class="op" id="7318730">(</span><span class="op" id="7318731">&amp;</span><span class="ident" id="7318732">t1</span><span class="op" id="7318734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318737">if</span>&nbsp;<span class="ident" id="7318740">t1</span><span class="op" id="7318742">.</span><span class="ident" id="7318743">A</span>&nbsp;<span class="op" id="7318745">!=</span>&nbsp;<span class="num" id="7318748">17</span>&nbsp;<span class="op" id="7318751">||</span>&nbsp;<span class="op" id="7318754">*</span><span class="ident" id="7318755">t1</span><span class="op" id="7318757">.</span><span class="ident" id="7318758">B</span>&nbsp;<span class="op" id="7318760">!=</span>&nbsp;<span class="num" id="7318763">177</span>&nbsp;<span class="op" id="7318767">||</span>&nbsp;<span class="op" id="7318770">*</span><span class="op" id="7318771">*</span><span class="ident" id="7318772">t1</span><span class="op" id="7318774">.</span><span class="ident" id="7318775">C</span>&nbsp;<span class="op" id="7318777">!=</span>&nbsp;<span class="num" id="7318780">1777</span>&nbsp;<span class="op" id="7318785">||</span>&nbsp;<span class="op" id="7318788">*</span><span class="op" id="7318789">*</span><span class="op" id="7318790">*</span><span class="ident" id="7318791">t1</span><span class="op" id="7318793">.</span><span class="ident" id="7318794">D</span>&nbsp;<span class="op" id="7318796">!=</span>&nbsp;<span class="num" id="7318799">17777</span>&nbsp;<span class="op" id="7318805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318809">t</span><span class="op" id="7318810">.</span><span class="ident" id="7318811">Errorf</span><span class="op" id="7318817">(</span><span class="string" id="7318818">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7318874">,</span>&nbsp;<span class="ident" id="7318876">t1</span><span class="op" id="7318878">.</span><span class="ident" id="7318879">A</span><span class="op" id="7318880">,</span>&nbsp;<span class="op" id="7318882">*</span><span class="ident" id="7318883">t1</span><span class="op" id="7318885">.</span><span class="ident" id="7318886">B</span><span class="op" id="7318887">,</span>&nbsp;<span class="op" id="7318889">*</span><span class="op" id="7318890">*</span><span class="ident" id="7318891">t1</span><span class="op" id="7318893">.</span><span class="ident" id="7318894">C</span><span class="op" id="7318895">,</span>&nbsp;<span class="op" id="7318897">*</span><span class="op" id="7318898">*</span><span class="op" id="7318899">*</span><span class="ident" id="7318900">t1</span><span class="op" id="7318902">.</span><span class="ident" id="7318903">D</span><span class="op" id="7318904">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7318907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7318911">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318939">b</span><span class="op" id="7318940">.</span><span class="ident" id="7318941">Reset</span><span class="op" id="7318946">(</span><span class="op" id="7318947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318950">enc</span><span class="op" id="7318953">.</span><span class="ident" id="7318954">Encode</span><span class="op" id="7318960">(</span><span class="ident" id="7318961">t0</span><span class="op" id="7318963">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318966">t2</span>&nbsp;<span class="op" id="7318969">=</span>&nbsp;<span class="ident" id="7318971">T2</span><span class="op" id="7318973">{</span><span class="op" id="7318974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7318977">dec</span><span class="op" id="7318980">.</span><span class="ident" id="7318981">Decode</span><span class="op" id="7318987">(</span><span class="op" id="7318988">&amp;</span><span class="ident" id="7318989">t2</span><span class="op" id="7318991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7318994">if</span>&nbsp;<span class="op" id="7318997">*</span><span class="op" id="7318998">*</span><span class="op" id="7318999">*</span><span class="ident" id="7319000">t2</span><span class="op" id="7319002">.</span><span class="ident" id="7319003">A</span>&nbsp;<span class="op" id="7319005">!=</span>&nbsp;<span class="num" id="7319008">17</span>&nbsp;<span class="op" id="7319011">||</span>&nbsp;<span class="op" id="7319014">*</span><span class="op" id="7319015">*</span><span class="ident" id="7319016">t2</span><span class="op" id="7319018">.</span><span class="ident" id="7319019">B</span>&nbsp;<span class="op" id="7319021">!=</span>&nbsp;<span class="num" id="7319024">177</span>&nbsp;<span class="op" id="7319028">||</span>&nbsp;<span class="op" id="7319031">*</span><span class="ident" id="7319032">t2</span><span class="op" id="7319034">.</span><span class="ident" id="7319035">C</span>&nbsp;<span class="op" id="7319037">!=</span>&nbsp;<span class="num" id="7319040">1777</span>&nbsp;<span class="op" id="7319045">||</span>&nbsp;<span class="ident" id="7319048">t2</span><span class="op" id="7319050">.</span><span class="ident" id="7319051">D</span>&nbsp;<span class="op" id="7319053">!=</span>&nbsp;<span class="num" id="7319056">17777</span>&nbsp;<span class="op" id="7319062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319066">t</span><span class="op" id="7319067">.</span><span class="ident" id="7319068">Errorf</span><span class="op" id="7319074">(</span><span class="string" id="7319075">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7319131">,</span>&nbsp;<span class="op" id="7319133">*</span><span class="op" id="7319134">*</span><span class="op" id="7319135">*</span><span class="ident" id="7319136">t2</span><span class="op" id="7319138">.</span><span class="ident" id="7319139">A</span><span class="op" id="7319140">,</span>&nbsp;<span class="op" id="7319142">*</span><span class="op" id="7319143">*</span><span class="ident" id="7319144">t2</span><span class="op" id="7319146">.</span><span class="ident" id="7319147">B</span><span class="op" id="7319148">,</span>&nbsp;<span class="op" id="7319150">*</span><span class="ident" id="7319151">t2</span><span class="op" id="7319153">.</span><span class="ident" id="7319154">C</span><span class="op" id="7319155">,</span>&nbsp;<span class="ident" id="7319157">t2</span><span class="op" id="7319159">.</span><span class="ident" id="7319160">D</span><span class="op" id="7319161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319164">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7319168">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319224">b</span><span class="op" id="7319225">.</span><span class="ident" id="7319226">Reset</span><span class="op" id="7319231">(</span><span class="op" id="7319232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319235">enc</span><span class="op" id="7319238">.</span><span class="ident" id="7319239">Encode</span><span class="op" id="7319245">(</span><span class="ident" id="7319246">t0</span><span class="op" id="7319248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319251">*</span><span class="op" id="7319252">*</span><span class="op" id="7319253">*</span><span class="ident" id="7319254">t2</span><span class="op" id="7319256">.</span><span class="ident" id="7319257">A</span>&nbsp;<span class="op" id="7319259">=</span>&nbsp;<span class="num" id="7319261">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319264">*</span><span class="op" id="7319265">*</span><span class="ident" id="7319266">t2</span><span class="op" id="7319268">.</span><span class="ident" id="7319269">B</span>&nbsp;<span class="op" id="7319271">=</span>&nbsp;<span class="num" id="7319273">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319276">*</span><span class="ident" id="7319277">t2</span><span class="op" id="7319279">.</span><span class="ident" id="7319280">C</span>&nbsp;<span class="op" id="7319282">=</span>&nbsp;<span class="num" id="7319284">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319287">t2</span><span class="op" id="7319289">.</span><span class="ident" id="7319290">D</span>&nbsp;<span class="op" id="7319292">=</span>&nbsp;<span class="num" id="7319294">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319297">dec</span><span class="op" id="7319300">.</span><span class="ident" id="7319301">Decode</span><span class="op" id="7319307">(</span><span class="op" id="7319308">&amp;</span><span class="ident" id="7319309">t2</span><span class="op" id="7319311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319314">if</span>&nbsp;<span class="op" id="7319317">*</span><span class="op" id="7319318">*</span><span class="op" id="7319319">*</span><span class="ident" id="7319320">t2</span><span class="op" id="7319322">.</span><span class="ident" id="7319323">A</span>&nbsp;<span class="op" id="7319325">!=</span>&nbsp;<span class="num" id="7319328">17</span>&nbsp;<span class="op" id="7319331">||</span>&nbsp;<span class="op" id="7319334">*</span><span class="op" id="7319335">*</span><span class="ident" id="7319336">t2</span><span class="op" id="7319338">.</span><span class="ident" id="7319339">B</span>&nbsp;<span class="op" id="7319341">!=</span>&nbsp;<span class="num" id="7319344">177</span>&nbsp;<span class="op" id="7319348">||</span>&nbsp;<span class="op" id="7319351">*</span><span class="ident" id="7319352">t2</span><span class="op" id="7319354">.</span><span class="ident" id="7319355">C</span>&nbsp;<span class="op" id="7319357">!=</span>&nbsp;<span class="num" id="7319360">1777</span>&nbsp;<span class="op" id="7319365">||</span>&nbsp;<span class="ident" id="7319368">t2</span><span class="op" id="7319370">.</span><span class="ident" id="7319371">D</span>&nbsp;<span class="op" id="7319373">!=</span>&nbsp;<span class="num" id="7319376">17777</span>&nbsp;<span class="op" id="7319382">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319386">t</span><span class="op" id="7319387">.</span><span class="ident" id="7319388">Errorf</span><span class="op" id="7319394">(</span><span class="string" id="7319395">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7319451">,</span>&nbsp;<span class="op" id="7319453">*</span><span class="op" id="7319454">*</span><span class="op" id="7319455">*</span><span class="ident" id="7319456">t2</span><span class="op" id="7319458">.</span><span class="ident" id="7319459">A</span><span class="op" id="7319460">,</span>&nbsp;<span class="op" id="7319462">*</span><span class="op" id="7319463">*</span><span class="ident" id="7319464">t2</span><span class="op" id="7319466">.</span><span class="ident" id="7319467">B</span><span class="op" id="7319468">,</span>&nbsp;<span class="op" id="7319470">*</span><span class="ident" id="7319471">t2</span><span class="op" id="7319473">.</span><span class="ident" id="7319474">C</span><span class="op" id="7319475">,</span>&nbsp;<span class="ident" id="7319477">t2</span><span class="op" id="7319479">.</span><span class="ident" id="7319480">D</span><span class="op" id="7319481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319484">}</span><br>
<span class="lineno"></span><span class="op" id="7319486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7319489">type</span>&nbsp;<span class="ident" id="7319494">RT0</span>&nbsp;<span class="keyword" id="7319498">struct</span>&nbsp;<span class="op" id="7319505">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319508">A</span>&nbsp;<span class="builtintype" id="7319510">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319515">B</span>&nbsp;<span class="builtintype" id="7319517">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319525">C</span>&nbsp;<span class="builtintype" id="7319527">float64</span><br>
<span class="lineno"></span><span class="op" id="7319535">}</span><br>
<span class="lineno"></span><span class="keyword" id="7319537">type</span>&nbsp;<span class="ident" id="7319542">RT1</span>&nbsp;<span class="keyword" id="7319546">struct</span>&nbsp;<span class="op" id="7319553">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319556">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7319563">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319572">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7319579">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319587">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7319594">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319599">NotSet</span>&nbsp;<span class="builtintype" id="7319606">string</span><br>
<span class="lineno"></span><span class="op" id="7319613">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="7319616">func</span>&nbsp;<span class="ident" id="7319621">TestReorderedFields</span><span class="op" id="7319640">(</span><span class="ident" id="7319641">t</span>&nbsp;<span class="op" id="7319643">*</span><span class="ident" id="7319644">testing</span><span class="op" id="7319651">.</span><span class="ident" id="7319652">T</span><span class="op" id="7319653">)</span>&nbsp;<span class="op" id="7319655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319658">var</span>&nbsp;<span class="ident" id="7319662">rt0</span>&nbsp;<span class="ident" id="7319666">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319671">rt0</span><span class="op" id="7319674">.</span><span class="ident" id="7319675">A</span>&nbsp;<span class="op" id="7319677">=</span>&nbsp;<span class="num" id="7319679">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319683">rt0</span><span class="op" id="7319686">.</span><span class="ident" id="7319687">B</span>&nbsp;<span class="op" id="7319689">=</span>&nbsp;<span class="string" id="7319691">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319700">rt0</span><span class="op" id="7319703">.</span><span class="ident" id="7319704">C</span>&nbsp;<span class="op" id="7319706">=</span>&nbsp;<span class="num" id="7319708">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319717">b</span>&nbsp;<span class="op" id="7319719">:=</span>&nbsp;<span class="builtinfunc" id="7319722">new</span><span class="op" id="7319725">(</span><span class="ident" id="7319726">bytes</span><span class="op" id="7319731">.</span><span class="ident" id="7319732">Buffer</span><span class="op" id="7319738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319741">NewEncoder</span><span class="op" id="7319751">(</span><span class="ident" id="7319752">b</span><span class="op" id="7319753">)</span><span class="op" id="7319754">.</span><span class="ident" id="7319755">Encode</span><span class="op" id="7319761">(</span><span class="ident" id="7319762">rt0</span><span class="op" id="7319765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319768">dec</span>&nbsp;<span class="op" id="7319772">:=</span>&nbsp;<span class="ident" id="7319775">NewDecoder</span><span class="op" id="7319785">(</span><span class="ident" id="7319786">b</span><span class="op" id="7319787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319790">var</span>&nbsp;<span class="ident" id="7319794">rt1</span>&nbsp;<span class="ident" id="7319798">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7319803">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319844">err</span>&nbsp;<span class="op" id="7319848">:=</span>&nbsp;<span class="ident" id="7319851">dec</span><span class="op" id="7319854">.</span><span class="ident" id="7319855">Decode</span><span class="op" id="7319861">(</span><span class="op" id="7319862">&amp;</span><span class="ident" id="7319863">rt1</span><span class="op" id="7319866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319869">if</span>&nbsp;<span class="ident" id="7319872">err</span>&nbsp;<span class="op" id="7319876">!=</span>&nbsp;<span class="ident" id="7319879">nil</span>&nbsp;<span class="op" id="7319883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319887">t</span><span class="op" id="7319888">.</span><span class="ident" id="7319889">Fatal</span><span class="op" id="7319894">(</span><span class="string" id="7319895">&#34;decode&nbsp;error:&#34;</span><span class="op" id="7319910">,</span>&nbsp;<span class="ident" id="7319912">err</span><span class="op" id="7319915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7319918">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7319921">if</span>&nbsp;<span class="ident" id="7319924">rt0</span><span class="op" id="7319927">.</span><span class="ident" id="7319928">A</span>&nbsp;<span class="op" id="7319930">!=</span>&nbsp;<span class="ident" id="7319933">rt1</span><span class="op" id="7319936">.</span><span class="ident" id="7319937">A</span>&nbsp;<span class="op" id="7319939">||</span>&nbsp;<span class="ident" id="7319942">rt0</span><span class="op" id="7319945">.</span><span class="ident" id="7319946">B</span>&nbsp;<span class="op" id="7319948">!=</span>&nbsp;<span class="ident" id="7319951">rt1</span><span class="op" id="7319954">.</span><span class="ident" id="7319955">B</span>&nbsp;<span class="op" id="7319957">||</span>&nbsp;<span class="ident" id="7319960">rt0</span><span class="op" id="7319963">.</span><span class="ident" id="7319964">C</span>&nbsp;<span class="op" id="7319966">!=</span>&nbsp;<span class="ident" id="7319969">rt1</span><span class="op" id="7319972">.</span><span class="ident" id="7319973">C</span>&nbsp;<span class="op" id="7319975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7319979">t</span><span class="op" id="7319980">.</span><span class="ident" id="7319981">Errorf</span><span class="op" id="7319987">(</span><span class="string" id="7319988">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7320019">,</span>&nbsp;<span class="ident" id="7320021">rt0</span><span class="op" id="7320024">,</span>&nbsp;<span class="ident" id="7320026">rt1</span><span class="op" id="7320029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320032">}</span><br>
<span class="lineno"></span><span class="op" id="7320034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="7320037">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="7320101">type</span>&nbsp;<span class="ident" id="7320106">IT0</span>&nbsp;<span class="keyword" id="7320110">struct</span>&nbsp;<span class="op" id="7320117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320120">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320129">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320136">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7320145">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320153">Ignore_d</span>&nbsp;<span class="op" id="7320162">[</span><span class="op" id="7320163">]</span><span class="builtintype" id="7320164">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320169">Ignore_e</span>&nbsp;<span class="op" id="7320178">[</span><span class="num" id="7320179">3</span><span class="op" id="7320180">]</span><span class="builtintype" id="7320181">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320190">Ignore_f</span>&nbsp;<span class="builtintype" id="7320199">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320205">Ignore_g</span>&nbsp;<span class="builtintype" id="7320214">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320222">Ignore_h</span>&nbsp;<span class="op" id="7320231">[</span><span class="op" id="7320232">]</span><span class="builtintype" id="7320233">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320239">Ignore_i</span>&nbsp;<span class="op" id="7320248">*</span><span class="ident" id="7320249">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320254">Ignore_m</span>&nbsp;<span class="keyword" id="7320263">map</span><span class="op" id="7320266">[</span><span class="builtintype" id="7320267">string</span><span class="op" id="7320273">]</span><span class="builtintype" id="7320274">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320279">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7320288">float64</span><br>
<span class="lineno"></span><span class="op" id="7320296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7320299">func</span>&nbsp;<span class="ident" id="7320304">TestIgnoredFields</span><span class="op" id="7320321">(</span><span class="ident" id="7320322">t</span>&nbsp;<span class="op" id="7320324">*</span><span class="ident" id="7320325">testing</span><span class="op" id="7320332">.</span><span class="ident" id="7320333">T</span><span class="op" id="7320334">)</span>&nbsp;<span class="op" id="7320336">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320339">var</span>&nbsp;<span class="ident" id="7320343">it0</span>&nbsp;<span class="ident" id="7320347">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320352">it0</span><span class="op" id="7320355">.</span><span class="ident" id="7320356">A</span>&nbsp;<span class="op" id="7320358">=</span>&nbsp;<span class="num" id="7320360">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320364">it0</span><span class="op" id="7320367">.</span><span class="ident" id="7320368">B</span>&nbsp;<span class="op" id="7320370">=</span>&nbsp;<span class="string" id="7320372">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320381">it0</span><span class="op" id="7320384">.</span><span class="ident" id="7320385">C</span>&nbsp;<span class="op" id="7320387">=</span>&nbsp;<span class="num" id="7320389">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320398">it0</span><span class="op" id="7320401">.</span><span class="ident" id="7320402">Ignore_d</span>&nbsp;<span class="op" id="7320411">=</span>&nbsp;<span class="op" id="7320413">[</span><span class="op" id="7320414">]</span><span class="builtintype" id="7320415">int</span><span class="op" id="7320418">{</span><span class="num" id="7320419">1</span><span class="op" id="7320420">,</span>&nbsp;<span class="num" id="7320422">2</span><span class="op" id="7320423">,</span>&nbsp;<span class="num" id="7320425">3</span><span class="op" id="7320426">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320429">it0</span><span class="op" id="7320432">.</span><span class="ident" id="7320433">Ignore_e</span><span class="op" id="7320441">[</span><span class="num" id="7320442">0</span><span class="op" id="7320443">]</span>&nbsp;<span class="op" id="7320445">=</span>&nbsp;<span class="num" id="7320447">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320452">it0</span><span class="op" id="7320455">.</span><span class="ident" id="7320456">Ignore_e</span><span class="op" id="7320464">[</span><span class="num" id="7320465">1</span><span class="op" id="7320466">]</span>&nbsp;<span class="op" id="7320468">=</span>&nbsp;<span class="num" id="7320470">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320475">it0</span><span class="op" id="7320478">.</span><span class="ident" id="7320479">Ignore_e</span><span class="op" id="7320487">[</span><span class="num" id="7320488">2</span><span class="op" id="7320489">]</span>&nbsp;<span class="op" id="7320491">=</span>&nbsp;<span class="num" id="7320493">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320498">it0</span><span class="op" id="7320501">.</span><span class="ident" id="7320502">Ignore_f</span>&nbsp;<span class="op" id="7320511">=</span>&nbsp;<span class="ident" id="7320513">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320519">it0</span><span class="op" id="7320522">.</span><span class="ident" id="7320523">Ignore_g</span>&nbsp;<span class="op" id="7320532">=</span>&nbsp;<span class="string" id="7320534">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320554">it0</span><span class="op" id="7320557">.</span><span class="ident" id="7320558">Ignore_h</span>&nbsp;<span class="op" id="7320567">=</span>&nbsp;<span class="op" id="7320569">[</span><span class="op" id="7320570">]</span><span class="builtintype" id="7320571">byte</span><span class="op" id="7320575">(</span><span class="string" id="7320576">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="7320592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320595">it0</span><span class="op" id="7320598">.</span><span class="ident" id="7320599">Ignore_i</span>&nbsp;<span class="op" id="7320608">=</span>&nbsp;<span class="op" id="7320610">&amp;</span><span class="ident" id="7320611">RT1</span><span class="op" id="7320614">{</span><span class="num" id="7320615">3.1</span><span class="op" id="7320618">,</span>&nbsp;<span class="string" id="7320620">&#34;hi&#34;</span><span class="op" id="7320624">,</span>&nbsp;<span class="num" id="7320626">7</span><span class="op" id="7320627">,</span>&nbsp;<span class="string" id="7320629">&#34;hello&#34;</span><span class="op" id="7320636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320639">it0</span><span class="op" id="7320642">.</span><span class="ident" id="7320643">Ignore_m</span>&nbsp;<span class="op" id="7320652">=</span>&nbsp;<span class="keyword" id="7320654">map</span><span class="op" id="7320657">[</span><span class="builtintype" id="7320658">string</span><span class="op" id="7320664">]</span><span class="builtintype" id="7320665">int</span><span class="op" id="7320668">{</span><span class="string" id="7320669">&#34;one&#34;</span><span class="op" id="7320674">:</span>&nbsp;<span class="num" id="7320676">1</span><span class="op" id="7320677">,</span>&nbsp;<span class="string" id="7320679">&#34;two&#34;</span><span class="op" id="7320684">:</span>&nbsp;<span class="num" id="7320686">2</span><span class="op" id="7320687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320691">b</span>&nbsp;<span class="op" id="7320693">:=</span>&nbsp;<span class="builtinfunc" id="7320696">new</span><span class="op" id="7320699">(</span><span class="ident" id="7320700">bytes</span><span class="op" id="7320705">.</span><span class="ident" id="7320706">Buffer</span><span class="op" id="7320712">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320715">NewEncoder</span><span class="op" id="7320725">(</span><span class="ident" id="7320726">b</span><span class="op" id="7320727">)</span><span class="op" id="7320728">.</span><span class="ident" id="7320729">Encode</span><span class="op" id="7320735">(</span><span class="ident" id="7320736">it0</span><span class="op" id="7320739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320742">dec</span>&nbsp;<span class="op" id="7320746">:=</span>&nbsp;<span class="ident" id="7320749">NewDecoder</span><span class="op" id="7320759">(</span><span class="ident" id="7320760">b</span><span class="op" id="7320761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320764">var</span>&nbsp;<span class="ident" id="7320768">rt1</span>&nbsp;<span class="ident" id="7320772">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7320777">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320818">err</span>&nbsp;<span class="op" id="7320822">:=</span>&nbsp;<span class="ident" id="7320825">dec</span><span class="op" id="7320828">.</span><span class="ident" id="7320829">Decode</span><span class="op" id="7320835">(</span><span class="op" id="7320836">&amp;</span><span class="ident" id="7320837">rt1</span><span class="op" id="7320840">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320843">if</span>&nbsp;<span class="ident" id="7320846">err</span>&nbsp;<span class="op" id="7320850">!=</span>&nbsp;<span class="ident" id="7320853">nil</span>&nbsp;<span class="op" id="7320857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320861">t</span><span class="op" id="7320862">.</span><span class="ident" id="7320863">Error</span><span class="op" id="7320868">(</span><span class="string" id="7320869">&#34;error:&nbsp;&#34;</span><span class="op" id="7320878">,</span>&nbsp;<span class="ident" id="7320880">err</span><span class="op" id="7320883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7320886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7320889">if</span>&nbsp;<span class="builtintype" id="7320892">int</span><span class="op" id="7320895">(</span><span class="ident" id="7320896">it0</span><span class="op" id="7320899">.</span><span class="ident" id="7320900">A</span><span class="op" id="7320901">)</span>&nbsp;<span class="op" id="7320903">!=</span>&nbsp;<span class="ident" id="7320906">rt1</span><span class="op" id="7320909">.</span><span class="ident" id="7320910">A</span>&nbsp;<span class="op" id="7320912">||</span>&nbsp;<span class="ident" id="7320915">it0</span><span class="op" id="7320918">.</span><span class="ident" id="7320919">B</span>&nbsp;<span class="op" id="7320921">!=</span>&nbsp;<span class="ident" id="7320924">rt1</span><span class="op" id="7320927">.</span><span class="ident" id="7320928">B</span>&nbsp;<span class="op" id="7320930">||</span>&nbsp;<span class="ident" id="7320933">it0</span><span class="op" id="7320936">.</span><span class="ident" id="7320937">C</span>&nbsp;<span class="op" id="7320939">!=</span>&nbsp;<span class="ident" id="7320942">rt1</span><span class="op" id="7320945">.</span><span class="ident" id="7320946">C</span>&nbsp;<span class="op" id="7320948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7320952">t</span><span class="op" id="7320953">.</span><span class="ident" id="7320954">Errorf</span><span class="op" id="7320960">(</span><span class="string" id="7320961">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7320992">,</span>&nbsp;<span class="ident" id="7320994">it0</span><span class="op" id="7320997">,</span>&nbsp;<span class="ident" id="7320999">rt1</span><span class="op" id="7321002">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321005">}</span><br>
<span class="lineno"></span><span class="op" id="7321007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7321010">func</span>&nbsp;<span class="ident" id="7321015">TestBadRecursiveType</span><span class="op" id="7321035">(</span><span class="ident" id="7321036">t</span>&nbsp;<span class="op" id="7321038">*</span><span class="ident" id="7321039">testing</span><span class="op" id="7321046">.</span><span class="ident" id="7321047">T</span><span class="op" id="7321048">)</span>&nbsp;<span class="op" id="7321050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7321053">type</span>&nbsp;<span class="ident" id="7321058">Rec</span>&nbsp;<span class="op" id="7321062">*</span><span class="op" id="7321063">*</span><span class="op" id="7321064">*</span><span class="ident" id="7321065">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7321070">var</span>&nbsp;<span class="ident" id="7321074">rec</span>&nbsp;<span class="ident" id="7321078">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321083">b</span>&nbsp;<span class="op" id="7321085">:=</span>&nbsp;<span class="builtinfunc" id="7321088">new</span><span class="op" id="7321091">(</span><span class="ident" id="7321092">bytes</span><span class="op" id="7321097">.</span><span class="ident" id="7321098">Buffer</span><span class="op" id="7321104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321107">err</span>&nbsp;<span class="op" id="7321111">:=</span>&nbsp;<span class="ident" id="7321114">NewEncoder</span><span class="op" id="7321124">(</span><span class="ident" id="7321125">b</span><span class="op" id="7321126">)</span><span class="op" id="7321127">.</span><span class="ident" id="7321128">Encode</span><span class="op" id="7321134">(</span><span class="op" id="7321135">&amp;</span><span class="ident" id="7321136">rec</span><span class="op" id="7321139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7321142">if</span>&nbsp;<span class="ident" id="7321145">err</span>&nbsp;<span class="op" id="7321149">==</span>&nbsp;<span class="ident" id="7321152">nil</span>&nbsp;<span class="op" id="7321156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321160">t</span><span class="op" id="7321161">.</span><span class="ident" id="7321162">Error</span><span class="op" id="7321167">(</span><span class="string" id="7321168">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7321194">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321197">}</span>&nbsp;<span class="keyword" id="7321199">else</span>&nbsp;<span class="keyword" id="7321204">if</span>&nbsp;<span class="ident" id="7321207">strings</span><span class="op" id="7321214">.</span><span class="ident" id="7321215">Index</span><span class="op" id="7321220">(</span><span class="ident" id="7321221">err</span><span class="op" id="7321224">.</span><span class="ident" id="7321225">Error</span><span class="op" id="7321230">(</span><span class="op" id="7321231">)</span><span class="op" id="7321232">,</span>&nbsp;<span class="string" id="7321234">&#34;recursive&#34;</span><span class="op" id="7321245">)</span>&nbsp;<span class="op" id="7321247">&lt;</span>&nbsp;<span class="num" id="7321249">0</span>&nbsp;<span class="op" id="7321251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321255">t</span><span class="op" id="7321256">.</span><span class="ident" id="7321257">Error</span><span class="op" id="7321262">(</span><span class="string" id="7321263">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7321299">,</span>&nbsp;<span class="ident" id="7321301">err</span><span class="op" id="7321304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7321310">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="7321402">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="7321405">type</span>&nbsp;<span class="ident" id="7321410">Indirect</span>&nbsp;<span class="keyword" id="7321419">struct</span>&nbsp;<span class="op" id="7321426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321429">A</span>&nbsp;<span class="op" id="7321431">*</span><span class="op" id="7321432">*</span><span class="op" id="7321433">*</span><span class="op" id="7321434">[</span><span class="num" id="7321435">3</span><span class="op" id="7321436">]</span><span class="builtintype" id="7321437">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321442">S</span>&nbsp;<span class="op" id="7321444">*</span><span class="op" id="7321445">*</span><span class="op" id="7321446">*</span><span class="op" id="7321447">[</span><span class="op" id="7321448">]</span><span class="builtintype" id="7321449">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321454">M</span>&nbsp;<span class="op" id="7321456">*</span><span class="op" id="7321457">*</span><span class="op" id="7321458">*</span><span class="op" id="7321459">*</span><span class="keyword" id="7321460">map</span><span class="op" id="7321463">[</span><span class="builtintype" id="7321464">string</span><span class="op" id="7321470">]</span><span class="builtintype" id="7321471">int</span><br>
<span class="lineno">985</span><span class="op" id="7321475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7321478">type</span>&nbsp;<span class="ident" id="7321483">Direct</span>&nbsp;<span class="keyword" id="7321490">struct</span>&nbsp;<span class="op" id="7321497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321500">A</span>&nbsp;<span class="op" id="7321502">[</span><span class="num" id="7321503">3</span><span class="op" id="7321504">]</span><span class="builtintype" id="7321505">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321510">S</span>&nbsp;<span class="op" id="7321512">[</span><span class="op" id="7321513">]</span><span class="builtintype" id="7321514">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321519">M</span>&nbsp;<span class="keyword" id="7321521">map</span><span class="op" id="7321524">[</span><span class="builtintype" id="7321525">string</span><span class="op" id="7321531">]</span><span class="builtintype" id="7321532">int</span><br>
<span class="lineno"></span><span class="op" id="7321536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7321539">func</span>&nbsp;<span class="ident" id="7321544">TestIndirectSliceMapArray</span><span class="op" id="7321569">(</span><span class="ident" id="7321570">t</span>&nbsp;<span class="op" id="7321572">*</span><span class="ident" id="7321573">testing</span><span class="op" id="7321580">.</span><span class="ident" id="7321581">T</span><span class="op" id="7321582">)</span>&nbsp;<span class="op" id="7321584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7321587">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321630">i</span>&nbsp;<span class="op" id="7321632">:=</span>&nbsp;<span class="builtinfunc" id="7321635">new</span><span class="op" id="7321638">(</span><span class="ident" id="7321639">Indirect</span><span class="op" id="7321647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321650">i</span><span class="op" id="7321651">.</span><span class="ident" id="7321652">A</span>&nbsp;<span class="op" id="7321654">=</span>&nbsp;<span class="builtinfunc" id="7321656">new</span><span class="op" id="7321659">(</span><span class="op" id="7321660">*</span><span class="op" id="7321661">*</span><span class="op" id="7321662">[</span><span class="num" id="7321663">3</span><span class="op" id="7321664">]</span><span class="builtintype" id="7321665">int</span><span class="op" id="7321668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321671">*</span><span class="ident" id="7321672">i</span><span class="op" id="7321673">.</span><span class="ident" id="7321674">A</span>&nbsp;<span class="op" id="7321676">=</span>&nbsp;<span class="builtinfunc" id="7321678">new</span><span class="op" id="7321681">(</span><span class="op" id="7321682">*</span><span class="op" id="7321683">[</span><span class="num" id="7321684">3</span><span class="op" id="7321685">]</span><span class="builtintype" id="7321686">int</span><span class="op" id="7321689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321692">*</span><span class="op" id="7321693">*</span><span class="ident" id="7321694">i</span><span class="op" id="7321695">.</span><span class="ident" id="7321696">A</span>&nbsp;<span class="op" id="7321698">=</span>&nbsp;<span class="builtinfunc" id="7321700">new</span><span class="op" id="7321703">(</span><span class="op" id="7321704">[</span><span class="num" id="7321705">3</span><span class="op" id="7321706">]</span><span class="builtintype" id="7321707">int</span><span class="op" id="7321710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321713">*</span><span class="op" id="7321714">*</span><span class="op" id="7321715">*</span><span class="ident" id="7321716">i</span><span class="op" id="7321717">.</span><span class="ident" id="7321718">A</span>&nbsp;<span class="op" id="7321720">=</span>&nbsp;<span class="op" id="7321722">[</span><span class="num" id="7321723">3</span><span class="op" id="7321724">]</span><span class="builtintype" id="7321725">int</span><span class="op" id="7321728">{</span><span class="num" id="7321729">1</span><span class="op" id="7321730">,</span>&nbsp;<span class="num" id="7321732">2</span><span class="op" id="7321733">,</span>&nbsp;<span class="num" id="7321735">3</span><span class="op" id="7321736">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321739">i</span><span class="op" id="7321740">.</span><span class="ident" id="7321741">S</span>&nbsp;<span class="op" id="7321743">=</span>&nbsp;<span class="builtinfunc" id="7321745">new</span><span class="op" id="7321748">(</span><span class="op" id="7321749">*</span><span class="op" id="7321750">*</span><span class="op" id="7321751">[</span><span class="op" id="7321752">]</span><span class="builtintype" id="7321753">int</span><span class="op" id="7321756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321759">*</span><span class="ident" id="7321760">i</span><span class="op" id="7321761">.</span><span class="ident" id="7321762">S</span>&nbsp;<span class="op" id="7321764">=</span>&nbsp;<span class="builtinfunc" id="7321766">new</span><span class="op" id="7321769">(</span><span class="op" id="7321770">*</span><span class="op" id="7321771">[</span><span class="op" id="7321772">]</span><span class="builtintype" id="7321773">int</span><span class="op" id="7321776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321779">*</span><span class="op" id="7321780">*</span><span class="ident" id="7321781">i</span><span class="op" id="7321782">.</span><span class="ident" id="7321783">S</span>&nbsp;<span class="op" id="7321785">=</span>&nbsp;<span class="builtinfunc" id="7321787">new</span><span class="op" id="7321790">(</span><span class="op" id="7321791">[</span><span class="op" id="7321792">]</span><span class="builtintype" id="7321793">int</span><span class="op" id="7321796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321799">*</span><span class="op" id="7321800">*</span><span class="op" id="7321801">*</span><span class="ident" id="7321802">i</span><span class="op" id="7321803">.</span><span class="ident" id="7321804">S</span>&nbsp;<span class="op" id="7321806">=</span>&nbsp;<span class="op" id="7321808">[</span><span class="op" id="7321809">]</span><span class="builtintype" id="7321810">int</span><span class="op" id="7321813">{</span><span class="num" id="7321814">4</span><span class="op" id="7321815">,</span>&nbsp;<span class="num" id="7321817">5</span><span class="op" id="7321818">,</span>&nbsp;<span class="num" id="7321820">6</span><span class="op" id="7321821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7321824">i</span><span class="op" id="7321825">.</span><span class="ident" id="7321826">M</span>&nbsp;<span class="op" id="7321828">=</span>&nbsp;<span class="builtinfunc" id="7321830">new</span><span class="op" id="7321833">(</span><span class="op" id="7321834">*</span><span class="op" id="7321835">*</span><span class="op" id="7321836">*</span><span class="keyword" id="7321837">map</span><span class="op" id="7321840">[</span><span class="builtintype" id="7321841">string</span><span class="op" id="7321847">]</span><span class="builtintype" id="7321848">int</span><span class="op" id="7321851">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321854">*</span><span class="ident" id="7321855">i</span><span class="op" id="7321856">.</span><span class="ident" id="7321857">M</span>&nbsp;<span class="op" id="7321859">=</span>&nbsp;<span class="builtinfunc" id="7321861">new</span><span class="op" id="7321864">(</span><span class="op" id="7321865">*</span><span class="op" id="7321866">*</span><span class="keyword" id="7321867">map</span><span class="op" id="7321870">[</span><span class="builtintype" id="7321871">string</span><span class="op" id="7321877">]</span><span class="builtintype" id="7321878">int</span><span class="op" id="7321881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321884">*</span><span class="op" id="7321885">*</span><span class="ident" id="7321886">i</span><span class="op" id="7321887">.</span><span class="ident" id="7321888">M</span>&nbsp;<span class="op" id="7321890">=</span>&nbsp;<span class="builtinfunc" id="7321892">new</span><span class="op" id="7321895">(</span><span class="op" id="7321896">*</span><span class="keyword" id="7321897">map</span><span class="op" id="7321900">[</span><span class="builtintype" id="7321901">string</span><span class="op" id="7321907">]</span><span class="builtintype" id="7321908">int</span><span class="op" id="7321911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321914">*</span><span class="op" id="7321915">*</span><span class="op" id="7321916">*</span><span class="ident" id="7321917">i</span><span class="op" id="7321918">.</span><span class="ident" id="7321919">M</span>&nbsp;<span class="op" id="7321921">=</span>&nbsp;<span class="builtinfunc" id="7321923">new</span><span class="op" id="7321926">(</span><span class="keyword" id="7321927">map</span><span class="op" id="7321930">[</span><span class="builtintype" id="7321931">string</span><span class="op" id="7321937">]</span><span class="builtintype" id="7321938">int</span><span class="op" id="7321941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7321944">*</span><span class="op" id="7321945">*</span><span class="op" id="7321946">*</span><span class="op" id="7321947">*</span><span class="ident" id="7321948">i</span><span class="op" id="7321949">.</span><span class="ident" id="7321950">M</span>&nbsp;<span class="op" id="7321952">=</span>&nbsp;<span class="keyword" id="7321954">map</span><span class="op" id="7321957">[</span><span class="builtintype" id="7321958">string</span><span class="op" id="7321964">]</span><span class="builtintype" id="7321965">int</span><span class="op" id="7321968">{</span><span class="string" id="7321969">&#34;one&#34;</span><span class="op" id="7321974">:</span>&nbsp;<span class="num" id="7321976">1</span><span class="op" id="7321977">,</span>&nbsp;<span class="string" id="7321979">&#34;two&#34;</span><span class="op" id="7321984">:</span>&nbsp;<span class="num" id="7321986">2</span><span class="op" id="7321987">,</span>&nbsp;<span class="string" id="7321989">&#34;three&#34;</span><span class="op" id="7321996">:</span>&nbsp;<span class="num" id="7321998">3</span><span class="op" id="7321999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322002">b</span>&nbsp;<span class="op" id="7322004">:=</span>&nbsp;<span class="builtinfunc" id="7322007">new</span><span class="op" id="7322010">(</span><span class="ident" id="7322011">bytes</span><span class="op" id="7322016">.</span><span class="ident" id="7322017">Buffer</span><span class="op" id="7322023">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322026">NewEncoder</span><span class="op" id="7322036">(</span><span class="ident" id="7322037">b</span><span class="op" id="7322038">)</span><span class="op" id="7322039">.</span><span class="ident" id="7322040">Encode</span><span class="op" id="7322046">(</span><span class="ident" id="7322047">i</span><span class="op" id="7322048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322051">dec</span>&nbsp;<span class="op" id="7322055">:=</span>&nbsp;<span class="ident" id="7322058">NewDecoder</span><span class="op" id="7322068">(</span><span class="ident" id="7322069">b</span><span class="op" id="7322070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322073">var</span>&nbsp;<span class="ident" id="7322077">d</span>&nbsp;<span class="ident" id="7322079">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322087">err</span>&nbsp;<span class="op" id="7322091">:=</span>&nbsp;<span class="ident" id="7322094">dec</span><span class="op" id="7322097">.</span><span class="ident" id="7322098">Decode</span><span class="op" id="7322104">(</span><span class="op" id="7322105">&amp;</span><span class="ident" id="7322106">d</span><span class="op" id="7322107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322110">if</span>&nbsp;<span class="ident" id="7322113">err</span>&nbsp;<span class="op" id="7322117">!=</span>&nbsp;<span class="ident" id="7322120">nil</span>&nbsp;<span class="op" id="7322124">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322128">t</span><span class="op" id="7322129">.</span><span class="ident" id="7322130">Error</span><span class="op" id="7322135">(</span><span class="string" id="7322136">&#34;error:&nbsp;&#34;</span><span class="op" id="7322145">,</span>&nbsp;<span class="ident" id="7322147">err</span><span class="op" id="7322150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322156">if</span>&nbsp;<span class="builtinfunc" id="7322159">len</span><span class="op" id="7322162">(</span><span class="ident" id="7322163">d</span><span class="op" id="7322164">.</span><span class="ident" id="7322165">A</span><span class="op" id="7322166">)</span>&nbsp;<span class="op" id="7322168">!=</span>&nbsp;<span class="num" id="7322171">3</span>&nbsp;<span class="op" id="7322173">||</span>&nbsp;<span class="ident" id="7322176">d</span><span class="op" id="7322177">.</span><span class="ident" id="7322178">A</span><span class="op" id="7322179">[</span><span class="num" id="7322180">0</span><span class="op" id="7322181">]</span>&nbsp;<span class="op" id="7322183">!=</span>&nbsp;<span class="num" id="7322186">1</span>&nbsp;<span class="op" id="7322188">||</span>&nbsp;<span class="ident" id="7322191">d</span><span class="op" id="7322192">.</span><span class="ident" id="7322193">A</span><span class="op" id="7322194">[</span><span class="num" id="7322195">1</span><span class="op" id="7322196">]</span>&nbsp;<span class="op" id="7322198">!=</span>&nbsp;<span class="num" id="7322201">2</span>&nbsp;<span class="op" id="7322203">||</span>&nbsp;<span class="ident" id="7322206">d</span><span class="op" id="7322207">.</span><span class="ident" id="7322208">A</span><span class="op" id="7322209">[</span><span class="num" id="7322210">2</span><span class="op" id="7322211">]</span>&nbsp;<span class="op" id="7322213">!=</span>&nbsp;<span class="num" id="7322216">3</span>&nbsp;<span class="op" id="7322218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322222">t</span><span class="op" id="7322223">.</span><span class="ident" id="7322224">Errorf</span><span class="op" id="7322230">(</span><span class="string" id="7322231">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7322269">,</span>&nbsp;<span class="ident" id="7322271">d</span><span class="op" id="7322272">.</span><span class="ident" id="7322273">A</span><span class="op" id="7322274">,</span>&nbsp;<span class="op" id="7322276">*</span><span class="op" id="7322277">*</span><span class="op" id="7322278">*</span><span class="ident" id="7322279">i</span><span class="op" id="7322280">.</span><span class="ident" id="7322281">A</span><span class="op" id="7322282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322285">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322288">if</span>&nbsp;<span class="builtinfunc" id="7322291">len</span><span class="op" id="7322294">(</span><span class="ident" id="7322295">d</span><span class="op" id="7322296">.</span><span class="ident" id="7322297">S</span><span class="op" id="7322298">)</span>&nbsp;<span class="op" id="7322300">!=</span>&nbsp;<span class="num" id="7322303">3</span>&nbsp;<span class="op" id="7322305">||</span>&nbsp;<span class="ident" id="7322308">d</span><span class="op" id="7322309">.</span><span class="ident" id="7322310">S</span><span class="op" id="7322311">[</span><span class="num" id="7322312">0</span><span class="op" id="7322313">]</span>&nbsp;<span class="op" id="7322315">!=</span>&nbsp;<span class="num" id="7322318">4</span>&nbsp;<span class="op" id="7322320">||</span>&nbsp;<span class="ident" id="7322323">d</span><span class="op" id="7322324">.</span><span class="ident" id="7322325">S</span><span class="op" id="7322326">[</span><span class="num" id="7322327">1</span><span class="op" id="7322328">]</span>&nbsp;<span class="op" id="7322330">!=</span>&nbsp;<span class="num" id="7322333">5</span>&nbsp;<span class="op" id="7322335">||</span>&nbsp;<span class="ident" id="7322338">d</span><span class="op" id="7322339">.</span><span class="ident" id="7322340">S</span><span class="op" id="7322341">[</span><span class="num" id="7322342">2</span><span class="op" id="7322343">]</span>&nbsp;<span class="op" id="7322345">!=</span>&nbsp;<span class="num" id="7322348">6</span>&nbsp;<span class="op" id="7322350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322354">t</span><span class="op" id="7322355">.</span><span class="ident" id="7322356">Errorf</span><span class="op" id="7322362">(</span><span class="string" id="7322363">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7322401">,</span>&nbsp;<span class="ident" id="7322403">d</span><span class="op" id="7322404">.</span><span class="ident" id="7322405">S</span><span class="op" id="7322406">,</span>&nbsp;<span class="op" id="7322408">*</span><span class="op" id="7322409">*</span><span class="op" id="7322410">*</span><span class="ident" id="7322411">i</span><span class="op" id="7322412">.</span><span class="ident" id="7322413">S</span><span class="op" id="7322414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322420">if</span>&nbsp;<span class="builtinfunc" id="7322423">len</span><span class="op" id="7322426">(</span><span class="ident" id="7322427">d</span><span class="op" id="7322428">.</span><span class="ident" id="7322429">M</span><span class="op" id="7322430">)</span>&nbsp;<span class="op" id="7322432">!=</span>&nbsp;<span class="num" id="7322435">3</span>&nbsp;<span class="op" id="7322437">||</span>&nbsp;<span class="ident" id="7322440">d</span><span class="op" id="7322441">.</span><span class="ident" id="7322442">M</span><span class="op" id="7322443">[</span><span class="string" id="7322444">&#34;one&#34;</span><span class="op" id="7322449">]</span>&nbsp;<span class="op" id="7322451">!=</span>&nbsp;<span class="num" id="7322454">1</span>&nbsp;<span class="op" id="7322456">||</span>&nbsp;<span class="ident" id="7322459">d</span><span class="op" id="7322460">.</span><span class="ident" id="7322461">M</span><span class="op" id="7322462">[</span><span class="string" id="7322463">&#34;two&#34;</span><span class="op" id="7322468">]</span>&nbsp;<span class="op" id="7322470">!=</span>&nbsp;<span class="num" id="7322473">2</span>&nbsp;<span class="op" id="7322475">||</span>&nbsp;<span class="ident" id="7322478">d</span><span class="op" id="7322479">.</span><span class="ident" id="7322480">M</span><span class="op" id="7322481">[</span><span class="string" id="7322482">&#34;three&#34;</span><span class="op" id="7322489">]</span>&nbsp;<span class="op" id="7322491">!=</span>&nbsp;<span class="num" id="7322494">3</span>&nbsp;<span class="op" id="7322496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322500">t</span><span class="op" id="7322501">.</span><span class="ident" id="7322502">Errorf</span><span class="op" id="7322508">(</span><span class="string" id="7322509">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7322547">,</span>&nbsp;<span class="ident" id="7322549">d</span><span class="op" id="7322550">.</span><span class="ident" id="7322551">M</span><span class="op" id="7322552">,</span>&nbsp;<span class="op" id="7322554">*</span><span class="op" id="7322555">*</span><span class="op" id="7322556">*</span><span class="ident" id="7322557">i</span><span class="op" id="7322558">.</span><span class="ident" id="7322559">M</span><span class="op" id="7322560">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7322566">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322609">d</span><span class="op" id="7322610">.</span><span class="ident" id="7322611">A</span>&nbsp;<span class="op" id="7322613">=</span>&nbsp;<span class="op" id="7322615">[</span><span class="num" id="7322616">3</span><span class="op" id="7322617">]</span><span class="builtintype" id="7322618">int</span><span class="op" id="7322621">{</span><span class="num" id="7322622">11</span><span class="op" id="7322624">,</span>&nbsp;<span class="num" id="7322626">22</span><span class="op" id="7322628">,</span>&nbsp;<span class="num" id="7322630">33</span><span class="op" id="7322632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322635">d</span><span class="op" id="7322636">.</span><span class="ident" id="7322637">S</span>&nbsp;<span class="op" id="7322639">=</span>&nbsp;<span class="op" id="7322641">[</span><span class="op" id="7322642">]</span><span class="builtintype" id="7322643">int</span><span class="op" id="7322646">{</span><span class="num" id="7322647">44</span><span class="op" id="7322649">,</span>&nbsp;<span class="num" id="7322651">55</span><span class="op" id="7322653">,</span>&nbsp;<span class="num" id="7322655">66</span><span class="op" id="7322657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322660">d</span><span class="op" id="7322661">.</span><span class="ident" id="7322662">M</span>&nbsp;<span class="op" id="7322664">=</span>&nbsp;<span class="keyword" id="7322666">map</span><span class="op" id="7322669">[</span><span class="builtintype" id="7322670">string</span><span class="op" id="7322676">]</span><span class="builtintype" id="7322677">int</span><span class="op" id="7322680">{</span><span class="string" id="7322681">&#34;four&#34;</span><span class="op" id="7322687">:</span>&nbsp;<span class="num" id="7322689">4</span><span class="op" id="7322690">,</span>&nbsp;<span class="string" id="7322692">&#34;five&#34;</span><span class="op" id="7322698">:</span>&nbsp;<span class="num" id="7322700">5</span><span class="op" id="7322701">,</span>&nbsp;<span class="string" id="7322703">&#34;six&#34;</span><span class="op" id="7322708">:</span>&nbsp;<span class="num" id="7322710">6</span><span class="op" id="7322711">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322714">i</span>&nbsp;<span class="op" id="7322716">=</span>&nbsp;<span class="builtinfunc" id="7322718">new</span><span class="op" id="7322721">(</span><span class="ident" id="7322722">Indirect</span><span class="op" id="7322730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322733">b</span><span class="op" id="7322734">.</span><span class="ident" id="7322735">Reset</span><span class="op" id="7322740">(</span><span class="op" id="7322741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322744">NewEncoder</span><span class="op" id="7322754">(</span><span class="ident" id="7322755">b</span><span class="op" id="7322756">)</span><span class="op" id="7322757">.</span><span class="ident" id="7322758">Encode</span><span class="op" id="7322764">(</span><span class="ident" id="7322765">d</span><span class="op" id="7322766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322769">dec</span>&nbsp;<span class="op" id="7322773">=</span>&nbsp;<span class="ident" id="7322775">NewDecoder</span><span class="op" id="7322785">(</span><span class="ident" id="7322786">b</span><span class="op" id="7322787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322790">err</span>&nbsp;<span class="op" id="7322794">=</span>&nbsp;<span class="ident" id="7322796">dec</span><span class="op" id="7322799">.</span><span class="ident" id="7322800">Decode</span><span class="op" id="7322806">(</span><span class="op" id="7322807">&amp;</span><span class="ident" id="7322808">i</span><span class="op" id="7322809">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322812">if</span>&nbsp;<span class="ident" id="7322815">err</span>&nbsp;<span class="op" id="7322819">!=</span>&nbsp;<span class="ident" id="7322822">nil</span>&nbsp;<span class="op" id="7322826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322830">t</span><span class="op" id="7322831">.</span><span class="ident" id="7322832">Fatal</span><span class="op" id="7322837">(</span><span class="string" id="7322838">&#34;error:&nbsp;&#34;</span><span class="op" id="7322847">,</span>&nbsp;<span class="ident" id="7322849">err</span><span class="op" id="7322852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7322855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7322858">if</span>&nbsp;<span class="builtinfunc" id="7322861">len</span><span class="op" id="7322864">(</span><span class="op" id="7322865">*</span><span class="op" id="7322866">*</span><span class="op" id="7322867">*</span><span class="ident" id="7322868">i</span><span class="op" id="7322869">.</span><span class="ident" id="7322870">A</span><span class="op" id="7322871">)</span>&nbsp;<span class="op" id="7322873">!=</span>&nbsp;<span class="num" id="7322876">3</span>&nbsp;<span class="op" id="7322878">||</span>&nbsp;<span class="op" id="7322881">(</span><span class="op" id="7322882">*</span><span class="op" id="7322883">*</span><span class="op" id="7322884">*</span><span class="ident" id="7322885">i</span><span class="op" id="7322886">.</span><span class="ident" id="7322887">A</span><span class="op" id="7322888">)</span><span class="op" id="7322889">[</span><span class="num" id="7322890">0</span><span class="op" id="7322891">]</span>&nbsp;<span class="op" id="7322893">!=</span>&nbsp;<span class="num" id="7322896">11</span>&nbsp;<span class="op" id="7322899">||</span>&nbsp;<span class="op" id="7322902">(</span><span class="op" id="7322903">*</span><span class="op" id="7322904">*</span><span class="op" id="7322905">*</span><span class="ident" id="7322906">i</span><span class="op" id="7322907">.</span><span class="ident" id="7322908">A</span><span class="op" id="7322909">)</span><span class="op" id="7322910">[</span><span class="num" id="7322911">1</span><span class="op" id="7322912">]</span>&nbsp;<span class="op" id="7322914">!=</span>&nbsp;<span class="num" id="7322917">22</span>&nbsp;<span class="op" id="7322920">||</span>&nbsp;<span class="op" id="7322923">(</span><span class="op" id="7322924">*</span><span class="op" id="7322925">*</span><span class="op" id="7322926">*</span><span class="ident" id="7322927">i</span><span class="op" id="7322928">.</span><span class="ident" id="7322929">A</span><span class="op" id="7322930">)</span><span class="op" id="7322931">[</span><span class="num" id="7322932">2</span><span class="op" id="7322933">]</span>&nbsp;<span class="op" id="7322935">!=</span>&nbsp;<span class="num" id="7322938">33</span>&nbsp;<span class="op" id="7322941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7322945">t</span><span class="op" id="7322946">.</span><span class="ident" id="7322947">Errorf</span><span class="op" id="7322953">(</span><span class="string" id="7322954">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7322995">,</span>&nbsp;<span class="op" id="7322997">*</span><span class="op" id="7322998">*</span><span class="op" id="7322999">*</span><span class="ident" id="7323000">i</span><span class="op" id="7323001">.</span><span class="ident" id="7323002">A</span><span class="op" id="7323003">,</span>&nbsp;<span class="ident" id="7323005">d</span><span class="op" id="7323006">.</span><span class="ident" id="7323007">A</span><span class="op" id="7323008">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323014">if</span>&nbsp;<span class="builtinfunc" id="7323017">len</span><span class="op" id="7323020">(</span><span class="op" id="7323021">*</span><span class="op" id="7323022">*</span><span class="op" id="7323023">*</span><span class="ident" id="7323024">i</span><span class="op" id="7323025">.</span><span class="ident" id="7323026">S</span><span class="op" id="7323027">)</span>&nbsp;<span class="op" id="7323029">!=</span>&nbsp;<span class="num" id="7323032">3</span>&nbsp;<span class="op" id="7323034">||</span>&nbsp;<span class="op" id="7323037">(</span><span class="op" id="7323038">*</span><span class="op" id="7323039">*</span><span class="op" id="7323040">*</span><span class="ident" id="7323041">i</span><span class="op" id="7323042">.</span><span class="ident" id="7323043">S</span><span class="op" id="7323044">)</span><span class="op" id="7323045">[</span><span class="num" id="7323046">0</span><span class="op" id="7323047">]</span>&nbsp;<span class="op" id="7323049">!=</span>&nbsp;<span class="num" id="7323052">44</span>&nbsp;<span class="op" id="7323055">||</span>&nbsp;<span class="op" id="7323058">(</span><span class="op" id="7323059">*</span><span class="op" id="7323060">*</span><span class="op" id="7323061">*</span><span class="ident" id="7323062">i</span><span class="op" id="7323063">.</span><span class="ident" id="7323064">S</span><span class="op" id="7323065">)</span><span class="op" id="7323066">[</span><span class="num" id="7323067">1</span><span class="op" id="7323068">]</span>&nbsp;<span class="op" id="7323070">!=</span>&nbsp;<span class="num" id="7323073">55</span>&nbsp;<span class="op" id="7323076">||</span>&nbsp;<span class="op" id="7323079">(</span><span class="op" id="7323080">*</span><span class="op" id="7323081">*</span><span class="op" id="7323082">*</span><span class="ident" id="7323083">i</span><span class="op" id="7323084">.</span><span class="ident" id="7323085">S</span><span class="op" id="7323086">)</span><span class="op" id="7323087">[</span><span class="num" id="7323088">2</span><span class="op" id="7323089">]</span>&nbsp;<span class="op" id="7323091">!=</span>&nbsp;<span class="num" id="7323094">66</span>&nbsp;<span class="op" id="7323097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323101">t</span><span class="op" id="7323102">.</span><span class="ident" id="7323103">Errorf</span><span class="op" id="7323109">(</span><span class="string" id="7323110">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7323151">,</span>&nbsp;<span class="op" id="7323153">*</span><span class="op" id="7323154">*</span><span class="op" id="7323155">*</span><span class="ident" id="7323156">i</span><span class="op" id="7323157">.</span><span class="ident" id="7323158">S</span><span class="op" id="7323159">,</span>&nbsp;<span class="op" id="7323161">*</span><span class="op" id="7323162">*</span><span class="op" id="7323163">*</span><span class="ident" id="7323164">i</span><span class="op" id="7323165">.</span><span class="ident" id="7323166">S</span><span class="op" id="7323167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323173">if</span>&nbsp;<span class="builtinfunc" id="7323176">len</span><span class="op" id="7323179">(</span><span class="op" id="7323180">*</span><span class="op" id="7323181">*</span><span class="op" id="7323182">*</span><span class="op" id="7323183">*</span><span class="ident" id="7323184">i</span><span class="op" id="7323185">.</span><span class="ident" id="7323186">M</span><span class="op" id="7323187">)</span>&nbsp;<span class="op" id="7323189">!=</span>&nbsp;<span class="num" id="7323192">3</span>&nbsp;<span class="op" id="7323194">||</span>&nbsp;<span class="op" id="7323197">(</span><span class="op" id="7323198">*</span><span class="op" id="7323199">*</span><span class="op" id="7323200">*</span><span class="op" id="7323201">*</span><span class="ident" id="7323202">i</span><span class="op" id="7323203">.</span><span class="ident" id="7323204">M</span><span class="op" id="7323205">)</span><span class="op" id="7323206">[</span><span class="string" id="7323207">&#34;four&#34;</span><span class="op" id="7323213">]</span>&nbsp;<span class="op" id="7323215">!=</span>&nbsp;<span class="num" id="7323218">4</span>&nbsp;<span class="op" id="7323220">||</span>&nbsp;<span class="op" id="7323223">(</span><span class="op" id="7323224">*</span><span class="op" id="7323225">*</span><span class="op" id="7323226">*</span><span class="op" id="7323227">*</span><span class="ident" id="7323228">i</span><span class="op" id="7323229">.</span><span class="ident" id="7323230">M</span><span class="op" id="7323231">)</span><span class="op" id="7323232">[</span><span class="string" id="7323233">&#34;five&#34;</span><span class="op" id="7323239">]</span>&nbsp;<span class="op" id="7323241">!=</span>&nbsp;<span class="num" id="7323244">5</span>&nbsp;<span class="op" id="7323246">||</span>&nbsp;<span class="op" id="7323249">(</span><span class="op" id="7323250">*</span><span class="op" id="7323251">*</span><span class="op" id="7323252">*</span><span class="op" id="7323253">*</span><span class="ident" id="7323254">i</span><span class="op" id="7323255">.</span><span class="ident" id="7323256">M</span><span class="op" id="7323257">)</span><span class="op" id="7323258">[</span><span class="string" id="7323259">&#34;six&#34;</span><span class="op" id="7323264">]</span>&nbsp;<span class="op" id="7323266">!=</span>&nbsp;<span class="num" id="7323269">6</span>&nbsp;<span class="op" id="7323271">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323275">t</span><span class="op" id="7323276">.</span><span class="ident" id="7323277">Errorf</span><span class="op" id="7323283">(</span><span class="string" id="7323284">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7323326">,</span>&nbsp;<span class="op" id="7323328">*</span><span class="op" id="7323329">*</span><span class="op" id="7323330">*</span><span class="op" id="7323331">*</span><span class="ident" id="7323332">i</span><span class="op" id="7323333">.</span><span class="ident" id="7323334">M</span><span class="op" id="7323335">,</span>&nbsp;<span class="ident" id="7323337">d</span><span class="op" id="7323338">.</span><span class="ident" id="7323339">M</span><span class="op" id="7323340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323343">}</span><br>
<span class="lineno"></span><span class="op" id="7323345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7323348">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="7323393">type</span>&nbsp;<span class="ident" id="7323398">Squarer</span>&nbsp;<span class="keyword" id="7323406">interface</span>&nbsp;<span class="op" id="7323416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323419">Square</span><span class="op" id="7323425">(</span><span class="op" id="7323426">)</span>&nbsp;<span class="builtintype" id="7323428">int</span><br>
<span class="lineno"></span><span class="op" id="7323432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7323435">type</span>&nbsp;<span class="ident" id="7323440">Int</span>&nbsp;<span class="builtintype" id="7323444">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="7323449">func</span>&nbsp;<span class="op" id="7323454">(</span><span class="ident" id="7323455">i</span>&nbsp;<span class="ident" id="7323457">Int</span><span class="op" id="7323460">)</span>&nbsp;<span class="ident" id="7323462">Square</span><span class="op" id="7323468">(</span><span class="op" id="7323469">)</span>&nbsp;<span class="builtintype" id="7323471">int</span>&nbsp;<span class="op" id="7323475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323478">return</span>&nbsp;<span class="builtintype" id="7323485">int</span><span class="op" id="7323488">(</span><span class="ident" id="7323489">i</span>&nbsp;<span class="op" id="7323491">*</span>&nbsp;<span class="ident" id="7323493">i</span><span class="op" id="7323494">)</span><br>
<span class="lineno"></span><span class="op" id="7323496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="7323499">type</span>&nbsp;<span class="ident" id="7323504">Float</span>&nbsp;<span class="builtintype" id="7323510">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7323519">func</span>&nbsp;<span class="op" id="7323524">(</span><span class="ident" id="7323525">f</span>&nbsp;<span class="ident" id="7323527">Float</span><span class="op" id="7323532">)</span>&nbsp;<span class="ident" id="7323534">Square</span><span class="op" id="7323540">(</span><span class="op" id="7323541">)</span>&nbsp;<span class="builtintype" id="7323543">int</span>&nbsp;<span class="op" id="7323547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323550">return</span>&nbsp;<span class="builtintype" id="7323557">int</span><span class="op" id="7323560">(</span><span class="ident" id="7323561">f</span>&nbsp;<span class="op" id="7323563">*</span>&nbsp;<span class="ident" id="7323565">f</span><span class="op" id="7323566">)</span><br>
<span class="lineno"></span><span class="op" id="7323568">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="7323571">type</span>&nbsp;<span class="ident" id="7323576">Vector</span>&nbsp;<span class="op" id="7323583">[</span><span class="op" id="7323584">]</span><span class="builtintype" id="7323585">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7323590">func</span>&nbsp;<span class="op" id="7323595">(</span><span class="ident" id="7323596">v</span>&nbsp;<span class="ident" id="7323598">Vector</span><span class="op" id="7323604">)</span>&nbsp;<span class="ident" id="7323606">Square</span><span class="op" id="7323612">(</span><span class="op" id="7323613">)</span>&nbsp;<span class="builtintype" id="7323615">int</span>&nbsp;<span class="op" id="7323619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323622">sum</span>&nbsp;<span class="op" id="7323626">:=</span>&nbsp;<span class="num" id="7323629">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323632">for</span>&nbsp;<span class="ident" id="7323636">_</span><span class="op" id="7323637">,</span>&nbsp;<span class="ident" id="7323639">x</span>&nbsp;<span class="op" id="7323641">:=</span>&nbsp;<span class="keyword" id="7323644">range</span>&nbsp;<span class="ident" id="7323650">v</span>&nbsp;<span class="op" id="7323652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323656">sum</span>&nbsp;<span class="op" id="7323660">+=</span>&nbsp;<span class="ident" id="7323663">x</span>&nbsp;<span class="op" id="7323665">*</span>&nbsp;<span class="ident" id="7323667">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7323670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323673">return</span>&nbsp;<span class="ident" id="7323680">sum</span><br>
<span class="lineno"></span><span class="op" id="7323684">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="7323687">type</span>&nbsp;<span class="ident" id="7323692">Point</span>&nbsp;<span class="keyword" id="7323698">struct</span>&nbsp;<span class="op" id="7323705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323708">X</span><span class="op" id="7323709">,</span>&nbsp;<span class="ident" id="7323711">Y</span>&nbsp;<span class="builtintype" id="7323713">int</span><br>
<span class="lineno"></span><span class="op" id="7323717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="7323720">func</span>&nbsp;<span class="op" id="7323725">(</span><span class="ident" id="7323726">p</span>&nbsp;<span class="ident" id="7323728">Point</span><span class="op" id="7323733">)</span>&nbsp;<span class="ident" id="7323735">Square</span><span class="op" id="7323741">(</span><span class="op" id="7323742">)</span>&nbsp;<span class="builtintype" id="7323744">int</span>&nbsp;<span class="op" id="7323748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7323751">return</span>&nbsp;<span class="ident" id="7323758">p</span><span class="op" id="7323759">.</span><span class="ident" id="7323760">X</span><span class="op" id="7323761">*</span><span class="ident" id="7323762">p</span><span class="op" id="7323763">.</span><span class="ident" id="7323764">X</span>&nbsp;<span class="op" id="7323766">+</span>&nbsp;<span class="ident" id="7323768">p</span><span class="op" id="7323769">.</span><span class="ident" id="7323770">Y</span><span class="op" id="7323771">*</span><span class="ident" id="7323772">p</span><span class="op" id="7323773">.</span><span class="ident" id="7323774">Y</span><br>
<span class="lineno"></span><span class="op" id="7323776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7323779">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="7323814">type</span>&nbsp;<span class="ident" id="7323819">InterfaceItem</span>&nbsp;<span class="keyword" id="7323833">struct</span>&nbsp;<span class="op" id="7323840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323843">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7323857">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323862">Sq1</span><span class="op" id="7323865">,</span>&nbsp;<span class="ident" id="7323867">Sq2</span><span class="op" id="7323870">,</span>&nbsp;<span class="ident" id="7323872">Sq3</span>&nbsp;<span class="ident" id="7323876">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323885">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7323899">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7323908">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7323922">[</span><span class="op" id="7323923">]</span><span class="ident" id="7323924">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="7323932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7323935">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="7323973">type</span>&nbsp;<span class="ident" id="7323978">NoInterfaceItem</span>&nbsp;<span class="keyword" id="7323994">struct</span>&nbsp;<span class="op" id="7324001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324004">I</span>&nbsp;<span class="builtintype" id="7324006">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324011">F</span>&nbsp;<span class="builtintype" id="7324013">float64</span><br>
<span class="lineno"></span><span class="op" id="7324021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7324024">func</span>&nbsp;<span class="ident" id="7324029">TestInterface</span><span class="op" id="7324042">(</span><span class="ident" id="7324043">t</span>&nbsp;<span class="op" id="7324045">*</span><span class="ident" id="7324046">testing</span><span class="op" id="7324053">.</span><span class="ident" id="7324054">T</span><span class="op" id="7324055">)</span>&nbsp;<span class="op" id="7324057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324060">iVal</span>&nbsp;<span class="op" id="7324065">:=</span>&nbsp;<span class="ident" id="7324068">Int</span><span class="op" id="7324071">(</span><span class="num" id="7324072">3</span><span class="op" id="7324073">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324076">fVal</span>&nbsp;<span class="op" id="7324081">:=</span>&nbsp;<span class="ident" id="7324084">Float</span><span class="op" id="7324089">(</span><span class="num" id="7324090">5</span><span class="op" id="7324091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7324094">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7324177">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324212">vVal</span>&nbsp;<span class="op" id="7324217">:=</span>&nbsp;<span class="ident" id="7324220">Vector</span><span class="op" id="7324226">{</span><span class="num" id="7324227">1</span><span class="op" id="7324228">,</span>&nbsp;<span class="num" id="7324230">2</span><span class="op" id="7324231">,</span>&nbsp;<span class="num" id="7324233">3</span><span class="op" id="7324234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324237">b</span>&nbsp;<span class="op" id="7324239">:=</span>&nbsp;<span class="builtinfunc" id="7324242">new</span><span class="op" id="7324245">(</span><span class="ident" id="7324246">bytes</span><span class="op" id="7324251">.</span><span class="ident" id="7324252">Buffer</span><span class="op" id="7324258">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324261">item1</span>&nbsp;<span class="op" id="7324267">:=</span>&nbsp;<span class="op" id="7324270">&amp;</span><span class="ident" id="7324271">InterfaceItem</span><span class="op" id="7324284">{</span><span class="num" id="7324285">1</span><span class="op" id="7324286">,</span>&nbsp;<span class="ident" id="7324288">iVal</span><span class="op" id="7324292">,</span>&nbsp;<span class="ident" id="7324294">fVal</span><span class="op" id="7324298">,</span>&nbsp;<span class="ident" id="7324300">vVal</span><span class="op" id="7324304">,</span>&nbsp;<span class="num" id="7324306">11.5</span><span class="op" id="7324310">,</span>&nbsp;<span class="op" id="7324312">[</span><span class="op" id="7324313">]</span><span class="ident" id="7324314">Squarer</span><span class="op" id="7324321">{</span><span class="ident" id="7324322">iVal</span><span class="op" id="7324326">,</span>&nbsp;<span class="ident" id="7324328">fVal</span><span class="op" id="7324332">,</span>&nbsp;<span class="ident" id="7324334">nil</span><span class="op" id="7324337">,</span>&nbsp;<span class="ident" id="7324339">vVal</span><span class="op" id="7324343">}</span><span class="op" id="7324344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7324347">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324371">Register</span><span class="op" id="7324379">(</span><span class="ident" id="7324380">Int</span><span class="op" id="7324383">(</span><span class="num" id="7324384">0</span><span class="op" id="7324385">)</span><span class="op" id="7324386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324389">Register</span><span class="op" id="7324397">(</span><span class="ident" id="7324398">Float</span><span class="op" id="7324403">(</span><span class="num" id="7324404">0</span><span class="op" id="7324405">)</span><span class="op" id="7324406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324409">Register</span><span class="op" id="7324417">(</span><span class="ident" id="7324418">Vector</span><span class="op" id="7324424">{</span><span class="op" id="7324425">}</span><span class="op" id="7324426">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324429">err</span>&nbsp;<span class="op" id="7324433">:=</span>&nbsp;<span class="ident" id="7324436">NewEncoder</span><span class="op" id="7324446">(</span><span class="ident" id="7324447">b</span><span class="op" id="7324448">)</span><span class="op" id="7324449">.</span><span class="ident" id="7324450">Encode</span><span class="op" id="7324456">(</span><span class="ident" id="7324457">item1</span><span class="op" id="7324462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7324465">if</span>&nbsp;<span class="ident" id="7324468">err</span>&nbsp;<span class="op" id="7324472">!=</span>&nbsp;<span class="ident" id="7324475">nil</span>&nbsp;<span class="op" id="7324479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324483">t</span><span class="op" id="7324484">.</span><span class="ident" id="7324485">Error</span><span class="op" id="7324490">(</span><span class="string" id="7324491">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7324522">,</span>&nbsp;<span class="ident" id="7324524">err</span><span class="op" id="7324527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7324530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324534">item2</span>&nbsp;<span class="op" id="7324540">:=</span>&nbsp;<span class="ident" id="7324543">InterfaceItem</span><span class="op" id="7324556">{</span><span class="op" id="7324557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324560">err</span>&nbsp;<span class="op" id="7324564">=</span>&nbsp;<span class="ident" id="7324566">NewDecoder</span><span class="op" id="7324576">(</span><span class="ident" id="7324577">b</span><span class="op" id="7324578">)</span><span class="op" id="7324579">.</span><span class="ident" id="7324580">Decode</span><span class="op" id="7324586">(</span><span class="op" id="7324587">&amp;</span><span class="ident" id="7324588">item2</span><span class="op" id="7324593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7324596">if</span>&nbsp;<span class="ident" id="7324599">err</span>&nbsp;<span class="op" id="7324603">!=</span>&nbsp;<span class="ident" id="7324606">nil</span>&nbsp;<span class="op" id="7324610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324614">t</span><span class="op" id="7324615">.</span><span class="ident" id="7324616">Fatal</span><span class="op" id="7324621">(</span><span class="string" id="7324622">&#34;decode:&#34;</span><span class="op" id="7324631">,</span>&nbsp;<span class="ident" id="7324633">err</span><span class="op" id="7324636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7324639">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7324642">if</span>&nbsp;<span class="ident" id="7324645">item2</span><span class="op" id="7324650">.</span><span class="ident" id="7324651">I</span>&nbsp;<span class="op" id="7324653">!=</span>&nbsp;<span class="ident" id="7324656">item1</span><span class="op" id="7324661">.</span><span class="ident" id="7324662">I</span>&nbsp;<span class="op" id="7324664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324668">t</span><span class="op" id="7324669">.</span><span class="ident" id="7324670">Error</span><span class="op" id="7324675">(</span><span class="string" id="7324676">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7324713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7324716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7324719">if</span>&nbsp;<span class="ident" id="7324722">item2</span><span class="op" id="7324727">.</span><span class="ident" id="7324728">Sq1</span>&nbsp;<span class="op" id="7324732">==</span>&nbsp;<span class="ident" id="7324735">nil</span>&nbsp;<span class="op" id="7324739">||</span>&nbsp;<span class="ident" id="7324742">item2</span><span class="op" id="7324747">.</span><span class="ident" id="7324748">Sq1</span><span class="op" id="7324751">.</span><span class="ident" id="7324752">Square</span><span class="op" id="7324758">(</span><span class="op" id="7324759">)</span>&nbsp;<span class="op" id="7324761">!=</span>&nbsp;<span class="ident" id="7324764">iVal</span><span class="op" id="7324768">.</span><span class="ident" id="7324769">Square</span><span class="op" id="7324775">(</span><span class="op" id="7324776">)</span>&nbsp;<span class="op" id="7324778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324782">t</span><span class="op" id="7324783">.</span><span class="ident" id="7324784">Error</span><span class="op" id="7324789">(</span><span class="string" id="7324790">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7324820">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7324823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7324826">if</span>&nbsp;<span class="ident" id="7324829">item2</span><span class="op" id="7324834">.</span><span class="ident" id="7324835">Sq2</span>&nbsp;<span class="op" id="7324839">==</span>&nbsp;<span class="ident" id="7324842">nil</span>&nbsp;<span class="op" id="7324846">||</span>&nbsp;<span class="ident" id="7324849">item2</span><span class="op" id="7324854">.</span><span class="ident" id="7324855">Sq2</span><span class="op" id="7324858">.</span><span class="ident" id="7324859">Square</span><span class="op" id="7324865">(</span><span class="op" id="7324866">)</span>&nbsp;<span class="op" id="7324868">!=</span>&nbsp;<span class="ident" id="7324871">fVal</span><span class="op" id="7324875">.</span><span class="ident" id="7324876">Square</span><span class="op" id="7324882">(</span><span class="op" id="7324883">)</span>&nbsp;<span class="op" id="7324885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324889">t</span><span class="op" id="7324890">.</span><span class="ident" id="7324891">Error</span><span class="op" id="7324896">(</span><span class="string" id="7324897">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7324929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7324932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7324935">if</span>&nbsp;<span class="ident" id="7324938">item2</span><span class="op" id="7324943">.</span><span class="ident" id="7324944">Sq3</span>&nbsp;<span class="op" id="7324948">==</span>&nbsp;<span class="ident" id="7324951">nil</span>&nbsp;<span class="op" id="7324955">||</span>&nbsp;<span class="ident" id="7324958">item2</span><span class="op" id="7324963">.</span><span class="ident" id="7324964">Sq3</span><span class="op" id="7324967">.</span><span class="ident" id="7324968">Square</span><span class="op" id="7324974">(</span><span class="op" id="7324975">)</span>&nbsp;<span class="op" id="7324977">!=</span>&nbsp;<span class="ident" id="7324980">vVal</span><span class="op" id="7324984">.</span><span class="ident" id="7324985">Square</span><span class="op" id="7324991">(</span><span class="op" id="7324992">)</span>&nbsp;<span class="op" id="7324994">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7324998">t</span><span class="op" id="7324999">.</span><span class="ident" id="7325000">Error</span><span class="op" id="7325005">(</span><span class="string" id="7325006">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7325039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7325042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7325045">if</span>&nbsp;<span class="ident" id="7325048">item2</span><span class="op" id="7325053">.</span><span class="ident" id="7325054">F</span>&nbsp;<span class="op" id="7325056">!=</span>&nbsp;<span class="ident" id="7325059">item1</span><span class="op" id="7325064">.</span><span class="ident" id="7325065">F</span>&nbsp;<span class="op" id="7325067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325071">t</span><span class="op" id="7325072">.</span><span class="ident" id="7325073">Error</span><span class="op" id="7325078">(</span><span class="string" id="7325079">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7325118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7325121">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7325124">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7325210">if</span>&nbsp;<span class="builtinfunc" id="7325213">len</span><span class="op" id="7325216">(</span><span class="ident" id="7325217">item1</span><span class="op" id="7325222">.</span><span class="ident" id="7325223">Sq</span><span class="op" id="7325225">)</span>&nbsp;<span class="op" id="7325227">!=</span>&nbsp;<span class="builtinfunc" id="7325230">len</span><span class="op" id="7325233">(</span><span class="ident" id="7325234">item2</span><span class="op" id="7325239">.</span><span class="ident" id="7325240">Sq</span><span class="op" id="7325242">)</span>&nbsp;<span class="op" id="7325244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325248">t</span><span class="op" id="7325249">.</span><span class="ident" id="7325250">Fatalf</span><span class="op" id="7325256">(</span><span class="string" id="7325257">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7325302">,</span>&nbsp;<span class="builtinfunc" id="7325304">len</span><span class="op" id="7325307">(</span><span class="ident" id="7325308">item2</span><span class="op" id="7325313">.</span><span class="ident" id="7325314">Sq</span><span class="op" id="7325316">)</span><span class="op" id="7325317">,</span>&nbsp;<span class="builtinfunc" id="7325319">len</span><span class="op" id="7325322">(</span><span class="ident" id="7325323">item1</span><span class="op" id="7325328">.</span><span class="ident" id="7325329">Sq</span><span class="op" id="7325331">)</span><span class="op" id="7325332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7325335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7325338">for</span>&nbsp;<span class="ident" id="7325342">i</span><span class="op" id="7325343">,</span>&nbsp;<span class="ident" id="7325345">v1</span>&nbsp;<span class="op" id="7325348">:=</span>&nbsp;<span class="keyword" id="7325351">range</span>&nbsp;<span class="ident" id="7325357">item1</span><span class="op" id="7325362">.</span><span class="ident" id="7325363">Sq</span>&nbsp;<span class="op" id="7325366">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325370">v2</span>&nbsp;<span class="op" id="7325373">:=</span>&nbsp;<span class="ident" id="7325376">item2</span><span class="op" id="7325381">.</span><span class="ident" id="7325382">Sq</span><span class="op" id="7325384">[</span><span class="ident" id="7325385">i</span><span class="op" id="7325386">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7325390">if</span>&nbsp;<span class="ident" id="7325393">v1</span>&nbsp;<span class="op" id="7325396">==</span>&nbsp;<span class="ident" id="7325399">nil</span>&nbsp;<span class="op" id="7325403">||</span>&nbsp;<span class="ident" id="7325406">v2</span>&nbsp;<span class="op" id="7325409">==</span>&nbsp;<span class="ident" id="7325412">nil</span>&nbsp;<span class="op" id="7325416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7325421">if</span>&nbsp;<span class="ident" id="7325424">v1</span>&nbsp;<span class="op" id="7325427">!=</span>&nbsp;<span class="ident" id="7325430">nil</span>&nbsp;<span class="op" id="7325434">||</span>&nbsp;<span class="ident" id="7325437">v2</span>&nbsp;<span class="op" id="7325440">!=</span>&nbsp;<span class="ident" id="7325443">nil</span>&nbsp;<span class="op" id="7325447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325453">t</span><span class="op" id="7325454">.</span><span class="ident" id="7325455">Errorf</span><span class="op" id="7325461">(</span><span class="string" id="7325462">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="7325489">,</span>&nbsp;<span class="ident" id="7325491">i</span><span class="op" id="7325492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7325497">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7325501">}</span>&nbsp;<span class="keyword" id="7325503">else</span>&nbsp;<span class="keyword" id="7325508">if</span>&nbsp;<span class="ident" id="7325511">v1</span><span class="op" id="7325513">.</span><span class="ident" id="7325514">Square</span><span class="op" id="7325520">(</span><span class="op" id="7325521">)</span>&nbsp;<span class="op" id="7325523">!=</span>&nbsp;<span class="ident" id="7325526">v2</span><span class="op" id="7325528">.</span><span class="ident" id="7325529">Square</span><span class="op" id="7325535">(</span><span class="op" id="7325536">)</span>&nbsp;<span class="op" id="7325538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325543">t</span><span class="op" id="7325544">.</span><span class="ident" id="7325545">Errorf</span><span class="op" id="7325551">(</span><span class="string" id="7325552">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="7325588">,</span>&nbsp;<span class="ident" id="7325590">i</span><span class="op" id="7325591">,</span>&nbsp;<span class="ident" id="7325593">v1</span><span class="op" id="7325595">,</span>&nbsp;<span class="ident" id="7325597">v2</span><span class="op" id="7325599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7325603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7325606">}</span><br>
<span class="lineno"></span><span class="op" id="7325608">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="7325611">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="7325667">type</span>&nbsp;<span class="ident" id="7325672">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="7325691">struct</span>&nbsp;<span class="op" id="7325698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325701">Int</span><span class="op" id="7325704">,</span>&nbsp;<span class="ident" id="7325706">Int8</span><span class="op" id="7325710">,</span>&nbsp;<span class="ident" id="7325712">Int16</span><span class="op" id="7325717">,</span>&nbsp;<span class="ident" id="7325719">Int32</span><span class="op" id="7325724">,</span>&nbsp;<span class="ident" id="7325726">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7325737">interface</span><span class="op" id="7325746">{</span><span class="op" id="7325747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325750">Uint</span><span class="op" id="7325754">,</span>&nbsp;<span class="ident" id="7325756">Uint8</span><span class="op" id="7325761">,</span>&nbsp;<span class="ident" id="7325763">Uint16</span><span class="op" id="7325769">,</span>&nbsp;<span class="ident" id="7325771">Uint32</span><span class="op" id="7325777">,</span>&nbsp;<span class="ident" id="7325779">Uint64</span>&nbsp;<span class="keyword" id="7325786">interface</span><span class="op" id="7325795">{</span><span class="op" id="7325796">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325799">Float32</span><span class="op" id="7325806">,</span>&nbsp;<span class="ident" id="7325808">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7325835">interface</span><span class="op" id="7325844">{</span><span class="op" id="7325845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325848">Complex64</span><span class="op" id="7325857">,</span>&nbsp;<span class="ident" id="7325859">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7325884">interface</span><span class="op" id="7325893">{</span><span class="op" id="7325894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325897">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7325933">interface</span><span class="op" id="7325942">{</span><span class="op" id="7325943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325946">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7325982">interface</span><span class="op" id="7325991">{</span><span class="op" id="7325992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7325995">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7326031">interface</span><span class="op" id="7326040">{</span><span class="op" id="7326041">}</span><br>
<span class="lineno">1160</span><span class="op" id="7326043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7326046">func</span>&nbsp;<span class="ident" id="7326051">TestInterfaceBasic</span><span class="op" id="7326069">(</span><span class="ident" id="7326070">t</span>&nbsp;<span class="op" id="7326072">*</span><span class="ident" id="7326073">testing</span><span class="op" id="7326080">.</span><span class="ident" id="7326081">T</span><span class="op" id="7326082">)</span>&nbsp;<span class="op" id="7326084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326087">b</span>&nbsp;<span class="op" id="7326089">:=</span>&nbsp;<span class="builtinfunc" id="7326092">new</span><span class="op" id="7326095">(</span><span class="ident" id="7326096">bytes</span><span class="op" id="7326101">.</span><span class="ident" id="7326102">Buffer</span><span class="op" id="7326108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326111">item1</span>&nbsp;<span class="op" id="7326117">:=</span>&nbsp;<span class="op" id="7326120">&amp;</span><span class="ident" id="7326121">BasicInterfaceItem</span><span class="op" id="7326139">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7326143">int</span><span class="op" id="7326146">(</span><span class="num" id="7326147">1</span><span class="op" id="7326148">)</span><span class="op" id="7326149">,</span>&nbsp;<span class="builtintype" id="7326151">int8</span><span class="op" id="7326155">(</span><span class="num" id="7326156">1</span><span class="op" id="7326157">)</span><span class="op" id="7326158">,</span>&nbsp;<span class="builtintype" id="7326160">int16</span><span class="op" id="7326165">(</span><span class="num" id="7326166">1</span><span class="op" id="7326167">)</span><span class="op" id="7326168">,</span>&nbsp;<span class="builtintype" id="7326170">int32</span><span class="op" id="7326175">(</span><span class="num" id="7326176">1</span><span class="op" id="7326177">)</span><span class="op" id="7326178">,</span>&nbsp;<span class="ident" id="7326180">int64</span><span class="op" id="7326185">(</span><span class="num" id="7326186">1</span><span class="op" id="7326187">)</span><span class="op" id="7326188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7326192">uint</span><span class="op" id="7326196">(</span><span class="num" id="7326197">1</span><span class="op" id="7326198">)</span><span class="op" id="7326199">,</span>&nbsp;<span class="builtintype" id="7326201">uint8</span><span class="op" id="7326206">(</span><span class="num" id="7326207">1</span><span class="op" id="7326208">)</span><span class="op" id="7326209">,</span>&nbsp;<span class="builtintype" id="7326211">uint16</span><span class="op" id="7326217">(</span><span class="num" id="7326218">1</span><span class="op" id="7326219">)</span><span class="op" id="7326220">,</span>&nbsp;<span class="builtintype" id="7326222">uint32</span><span class="op" id="7326228">(</span><span class="num" id="7326229">1</span><span class="op" id="7326230">)</span><span class="op" id="7326231">,</span>&nbsp;<span class="ident" id="7326233">uint64</span><span class="op" id="7326239">(</span><span class="num" id="7326240">1</span><span class="op" id="7326241">)</span><span class="op" id="7326242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7326246">float32</span><span class="op" id="7326253">(</span><span class="num" id="7326254">1</span><span class="op" id="7326255">)</span><span class="op" id="7326256">,</span>&nbsp;<span class="num" id="7326258">1.0</span><span class="op" id="7326261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7326265">complex64</span><span class="op" id="7326274">(</span><span class="num" id="7326275">1i</span><span class="op" id="7326277">)</span><span class="op" id="7326278">,</span>&nbsp;<span class="builtintype" id="7326280">complex128</span><span class="op" id="7326290">(</span><span class="num" id="7326291">1i</span><span class="op" id="7326293">)</span><span class="op" id="7326294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326298">true</span><span class="op" id="7326302">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7326306">&#34;hello&#34;</span><span class="op" id="7326313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7326317">[</span><span class="op" id="7326318">]</span><span class="builtintype" id="7326319">byte</span><span class="op" id="7326323">(</span><span class="string" id="7326324">&#34;sailor&#34;</span><span class="op" id="7326332">)</span><span class="op" id="7326333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7326336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326339">err</span>&nbsp;<span class="op" id="7326343">:=</span>&nbsp;<span class="ident" id="7326346">NewEncoder</span><span class="op" id="7326356">(</span><span class="ident" id="7326357">b</span><span class="op" id="7326358">)</span><span class="op" id="7326359">.</span><span class="ident" id="7326360">Encode</span><span class="op" id="7326366">(</span><span class="ident" id="7326367">item1</span><span class="op" id="7326372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7326375">if</span>&nbsp;<span class="ident" id="7326378">err</span>&nbsp;<span class="op" id="7326382">!=</span>&nbsp;<span class="ident" id="7326385">nil</span>&nbsp;<span class="op" id="7326389">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326393">t</span><span class="op" id="7326394">.</span><span class="ident" id="7326395">Error</span><span class="op" id="7326400">(</span><span class="string" id="7326401">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7326432">,</span>&nbsp;<span class="ident" id="7326434">err</span><span class="op" id="7326437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7326440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326444">item2</span>&nbsp;<span class="op" id="7326450">:=</span>&nbsp;<span class="op" id="7326453">&amp;</span><span class="ident" id="7326454">BasicInterfaceItem</span><span class="op" id="7326472">{</span><span class="op" id="7326473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326476">err</span>&nbsp;<span class="op" id="7326480">=</span>&nbsp;<span class="ident" id="7326482">NewDecoder</span><span class="op" id="7326492">(</span><span class="ident" id="7326493">b</span><span class="op" id="7326494">)</span><span class="op" id="7326495">.</span><span class="ident" id="7326496">Decode</span><span class="op" id="7326502">(</span><span class="op" id="7326503">&amp;</span><span class="ident" id="7326504">item2</span><span class="op" id="7326509">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7326512">if</span>&nbsp;<span class="ident" id="7326515">err</span>&nbsp;<span class="op" id="7326519">!=</span>&nbsp;<span class="ident" id="7326522">nil</span>&nbsp;<span class="op" id="7326526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326530">t</span><span class="op" id="7326531">.</span><span class="ident" id="7326532">Fatal</span><span class="op" id="7326537">(</span><span class="string" id="7326538">&#34;decode:&#34;</span><span class="op" id="7326547">,</span>&nbsp;<span class="ident" id="7326549">err</span><span class="op" id="7326552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7326555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7326558">if</span>&nbsp;<span class="op" id="7326561">!</span><span class="ident" id="7326562">reflect</span><span class="op" id="7326569">.</span><span class="ident" id="7326570">DeepEqual</span><span class="op" id="7326579">(</span><span class="ident" id="7326580">item1</span><span class="op" id="7326585">,</span>&nbsp;<span class="ident" id="7326587">item2</span><span class="op" id="7326592">)</span>&nbsp;<span class="op" id="7326594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326598">t</span><span class="op" id="7326599">.</span><span class="ident" id="7326600">Errorf</span><span class="op" id="7326606">(</span><span class="string" id="7326607">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7326634">,</span>&nbsp;<span class="ident" id="7326636">item1</span><span class="op" id="7326641">,</span>&nbsp;<span class="ident" id="7326643">item2</span><span class="op" id="7326648">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7326651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7326654">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7326697">if</span>&nbsp;<span class="ident" id="7326700">v</span><span class="op" id="7326701">,</span>&nbsp;<span class="ident" id="7326703">ok</span>&nbsp;<span class="op" id="7326706">:=</span>&nbsp;<span class="ident" id="7326709">item2</span><span class="op" id="7326714">.</span><span class="ident" id="7326715">Bool</span><span class="op" id="7326719">.</span><span class="op" id="7326720">(</span><span class="builtintype" id="7326721">bool</span><span class="op" id="7326725">)</span><span class="op" id="7326726">;</span>&nbsp;<span class="op" id="7326728">!</span><span class="ident" id="7326729">ok</span>&nbsp;<span class="op" id="7326732">||</span>&nbsp;<span class="op" id="7326735">!</span><span class="ident" id="7326736">v</span>&nbsp;<span class="op" id="7326738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326742">t</span><span class="op" id="7326743">.</span><span class="ident" id="7326744">Error</span><span class="op" id="7326749">(</span><span class="string" id="7326750">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="7326774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7326777">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7326780">if</span>&nbsp;<span class="ident" id="7326783">v</span><span class="op" id="7326784">,</span>&nbsp;<span class="ident" id="7326786">ok</span>&nbsp;<span class="op" id="7326789">:=</span>&nbsp;<span class="ident" id="7326792">item2</span><span class="op" id="7326797">.</span><span class="ident" id="7326798">String</span><span class="op" id="7326804">.</span><span class="op" id="7326805">(</span><span class="builtintype" id="7326806">string</span><span class="op" id="7326812">)</span><span class="op" id="7326813">;</span>&nbsp;<span class="op" id="7326815">!</span><span class="ident" id="7326816">ok</span>&nbsp;<span class="op" id="7326819">||</span>&nbsp;<span class="ident" id="7326822">v</span>&nbsp;<span class="op" id="7326824">!=</span>&nbsp;<span class="ident" id="7326827">item1</span><span class="op" id="7326832">.</span><span class="ident" id="7326833">String</span><span class="op" id="7326839">.</span><span class="op" id="7326840">(</span><span class="builtintype" id="7326841">string</span><span class="op" id="7326847">)</span>&nbsp;<span class="op" id="7326849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326853">t</span><span class="op" id="7326854">.</span><span class="ident" id="7326855">Errorf</span><span class="op" id="7326861">(</span><span class="string" id="7326862">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="7326889">,</span>&nbsp;<span class="ident" id="7326891">item1</span><span class="op" id="7326896">.</span><span class="ident" id="7326897">String</span><span class="op" id="7326903">,</span>&nbsp;<span class="ident" id="7326905">v</span><span class="op" id="7326906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7326909">}</span><br>
<span class="lineno"></span><span class="op" id="7326911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="7326914">type</span>&nbsp;<span class="ident" id="7326919">String</span>&nbsp;<span class="builtintype" id="7326926">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7326934">type</span>&nbsp;<span class="ident" id="7326939">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="7326956">struct</span>&nbsp;<span class="op" id="7326963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326966">Str1</span>&nbsp;<span class="keyword" id="7326971">interface</span><span class="op" id="7326980">{</span><span class="op" id="7326981">}</span>&nbsp;<span class="comment" id="7326983">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7326993">Str2</span>&nbsp;<span class="keyword" id="7326998">interface</span><span class="op" id="7327007">{</span><span class="op" id="7327008">}</span>&nbsp;<span class="comment" id="7327010">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="7327021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7327024">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="7327071">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="7327121">func</span>&nbsp;<span class="ident" id="7327126">TestInterfacePointer</span><span class="op" id="7327146">(</span><span class="ident" id="7327147">t</span>&nbsp;<span class="op" id="7327149">*</span><span class="ident" id="7327150">testing</span><span class="op" id="7327157">.</span><span class="ident" id="7327158">T</span><span class="op" id="7327159">)</span>&nbsp;<span class="op" id="7327161">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327164">b</span>&nbsp;<span class="op" id="7327166">:=</span>&nbsp;<span class="builtinfunc" id="7327169">new</span><span class="op" id="7327172">(</span><span class="ident" id="7327173">bytes</span><span class="op" id="7327178">.</span><span class="ident" id="7327179">Buffer</span><span class="op" id="7327185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327188">str1</span>&nbsp;<span class="op" id="7327193">:=</span>&nbsp;<span class="string" id="7327196">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327205">str2</span>&nbsp;<span class="op" id="7327210">:=</span>&nbsp;<span class="ident" id="7327213">String</span><span class="op" id="7327219">(</span><span class="string" id="7327220">&#34;kiddo&#34;</span><span class="op" id="7327227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327230">item1</span>&nbsp;<span class="op" id="7327236">:=</span>&nbsp;<span class="op" id="7327239">&amp;</span><span class="ident" id="7327240">PtrInterfaceItem</span><span class="op" id="7327256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7327260">&amp;</span><span class="ident" id="7327261">str1</span><span class="op" id="7327265">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7327269">&amp;</span><span class="ident" id="7327270">str2</span><span class="op" id="7327274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7327277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7327280">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327303">Register</span><span class="op" id="7327311">(</span><span class="ident" id="7327312">str2</span><span class="op" id="7327316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327319">err</span>&nbsp;<span class="op" id="7327323">:=</span>&nbsp;<span class="ident" id="7327326">NewEncoder</span><span class="op" id="7327336">(</span><span class="ident" id="7327337">b</span><span class="op" id="7327338">)</span><span class="op" id="7327339">.</span><span class="ident" id="7327340">Encode</span><span class="op" id="7327346">(</span><span class="ident" id="7327347">item1</span><span class="op" id="7327352">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7327355">if</span>&nbsp;<span class="ident" id="7327358">err</span>&nbsp;<span class="op" id="7327362">!=</span>&nbsp;<span class="ident" id="7327365">nil</span>&nbsp;<span class="op" id="7327369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327373">t</span><span class="op" id="7327374">.</span><span class="ident" id="7327375">Error</span><span class="op" id="7327380">(</span><span class="string" id="7327381">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7327412">,</span>&nbsp;<span class="ident" id="7327414">err</span><span class="op" id="7327417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7327420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327424">item2</span>&nbsp;<span class="op" id="7327430">:=</span>&nbsp;<span class="op" id="7327433">&amp;</span><span class="ident" id="7327434">PtrInterfaceItem</span><span class="op" id="7327450">{</span><span class="op" id="7327451">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327454">err</span>&nbsp;<span class="op" id="7327458">=</span>&nbsp;<span class="ident" id="7327460">NewDecoder</span><span class="op" id="7327470">(</span><span class="ident" id="7327471">b</span><span class="op" id="7327472">)</span><span class="op" id="7327473">.</span><span class="ident" id="7327474">Decode</span><span class="op" id="7327480">(</span><span class="op" id="7327481">&amp;</span><span class="ident" id="7327482">item2</span><span class="op" id="7327487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7327490">if</span>&nbsp;<span class="ident" id="7327493">err</span>&nbsp;<span class="op" id="7327497">!=</span>&nbsp;<span class="ident" id="7327500">nil</span>&nbsp;<span class="op" id="7327504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327508">t</span><span class="op" id="7327509">.</span><span class="ident" id="7327510">Fatal</span><span class="op" id="7327515">(</span><span class="string" id="7327516">&#34;decode:&#34;</span><span class="op" id="7327525">,</span>&nbsp;<span class="ident" id="7327527">err</span><span class="op" id="7327530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7327533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7327536">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7327580">if</span>&nbsp;<span class="ident" id="7327583">v</span><span class="op" id="7327584">,</span>&nbsp;<span class="ident" id="7327586">ok</span>&nbsp;<span class="op" id="7327589">:=</span>&nbsp;<span class="ident" id="7327592">item2</span><span class="op" id="7327597">.</span><span class="ident" id="7327598">Str1</span><span class="op" id="7327602">.</span><span class="op" id="7327603">(</span><span class="builtintype" id="7327604">string</span><span class="op" id="7327610">)</span><span class="op" id="7327611">;</span>&nbsp;<span class="op" id="7327613">!</span><span class="ident" id="7327614">ok</span>&nbsp;<span class="op" id="7327617">||</span>&nbsp;<span class="ident" id="7327620">v</span>&nbsp;<span class="op" id="7327622">!=</span>&nbsp;<span class="ident" id="7327625">str1</span>&nbsp;<span class="op" id="7327630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327634">t</span><span class="op" id="7327635">.</span><span class="ident" id="7327636">Errorf</span><span class="op" id="7327642">(</span><span class="string" id="7327643">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="7327681">,</span>&nbsp;<span class="ident" id="7327683">v</span><span class="op" id="7327684">,</span>&nbsp;<span class="ident" id="7327686">str1</span><span class="op" id="7327690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7327693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7327696">if</span>&nbsp;<span class="ident" id="7327699">v</span><span class="op" id="7327700">,</span>&nbsp;<span class="ident" id="7327702">ok</span>&nbsp;<span class="op" id="7327705">:=</span>&nbsp;<span class="ident" id="7327708">item2</span><span class="op" id="7327713">.</span><span class="ident" id="7327714">Str2</span><span class="op" id="7327718">.</span><span class="op" id="7327719">(</span><span class="ident" id="7327720">String</span><span class="op" id="7327726">)</span><span class="op" id="7327727">;</span>&nbsp;<span class="op" id="7327729">!</span><span class="ident" id="7327730">ok</span>&nbsp;<span class="op" id="7327733">||</span>&nbsp;<span class="ident" id="7327736">v</span>&nbsp;<span class="op" id="7327738">!=</span>&nbsp;<span class="ident" id="7327741">str2</span>&nbsp;<span class="op" id="7327746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327750">t</span><span class="op" id="7327751">.</span><span class="ident" id="7327752">Errorf</span><span class="op" id="7327758">(</span><span class="string" id="7327759">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="7327804">,</span>&nbsp;<span class="ident" id="7327806">v</span><span class="op" id="7327807">,</span>&nbsp;<span class="ident" id="7327809">str2</span><span class="op" id="7327813">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7327816">}</span><br>
<span class="lineno"></span><span class="op" id="7327818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7327821">func</span>&nbsp;<span class="ident" id="7327826">TestIgnoreInterface</span><span class="op" id="7327845">(</span><span class="ident" id="7327846">t</span>&nbsp;<span class="op" id="7327848">*</span><span class="ident" id="7327849">testing</span><span class="op" id="7327856">.</span><span class="ident" id="7327857">T</span><span class="op" id="7327858">)</span>&nbsp;<span class="op" id="7327860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327863">iVal</span>&nbsp;<span class="op" id="7327868">:=</span>&nbsp;<span class="ident" id="7327871">Int</span><span class="op" id="7327874">(</span><span class="num" id="7327875">3</span><span class="op" id="7327876">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7327879">fVal</span>&nbsp;<span class="op" id="7327884">:=</span>&nbsp;<span class="ident" id="7327887">Float</span><span class="op" id="7327892">(</span><span class="num" id="7327893">5</span><span class="op" id="7327894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7327897">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7327979">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328014">pVal</span>&nbsp;<span class="op" id="7328019">:=</span>&nbsp;<span class="ident" id="7328022">Point</span><span class="op" id="7328027">{</span><span class="num" id="7328028">2</span><span class="op" id="7328029">,</span>&nbsp;<span class="num" id="7328031">3</span><span class="op" id="7328032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328035">b</span>&nbsp;<span class="op" id="7328037">:=</span>&nbsp;<span class="builtinfunc" id="7328040">new</span><span class="op" id="7328043">(</span><span class="ident" id="7328044">bytes</span><span class="op" id="7328049">.</span><span class="ident" id="7328050">Buffer</span><span class="op" id="7328056">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328059">item1</span>&nbsp;<span class="op" id="7328065">:=</span>&nbsp;<span class="op" id="7328068">&amp;</span><span class="ident" id="7328069">InterfaceItem</span><span class="op" id="7328082">{</span><span class="num" id="7328083">1</span><span class="op" id="7328084">,</span>&nbsp;<span class="ident" id="7328086">iVal</span><span class="op" id="7328090">,</span>&nbsp;<span class="ident" id="7328092">fVal</span><span class="op" id="7328096">,</span>&nbsp;<span class="ident" id="7328098">pVal</span><span class="op" id="7328102">,</span>&nbsp;<span class="num" id="7328104">11.5</span><span class="op" id="7328108">,</span>&nbsp;<span class="ident" id="7328110">nil</span><span class="op" id="7328113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7328116">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328140">Register</span><span class="op" id="7328148">(</span><span class="ident" id="7328149">Int</span><span class="op" id="7328152">(</span><span class="num" id="7328153">0</span><span class="op" id="7328154">)</span><span class="op" id="7328155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328158">Register</span><span class="op" id="7328166">(</span><span class="ident" id="7328167">Float</span><span class="op" id="7328172">(</span><span class="num" id="7328173">0</span><span class="op" id="7328174">)</span><span class="op" id="7328175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328178">Register</span><span class="op" id="7328186">(</span><span class="ident" id="7328187">Point</span><span class="op" id="7328192">{</span><span class="op" id="7328193">}</span><span class="op" id="7328194">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328197">err</span>&nbsp;<span class="op" id="7328201">:=</span>&nbsp;<span class="ident" id="7328204">NewEncoder</span><span class="op" id="7328214">(</span><span class="ident" id="7328215">b</span><span class="op" id="7328216">)</span><span class="op" id="7328217">.</span><span class="ident" id="7328218">Encode</span><span class="op" id="7328224">(</span><span class="ident" id="7328225">item1</span><span class="op" id="7328230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328233">if</span>&nbsp;<span class="ident" id="7328236">err</span>&nbsp;<span class="op" id="7328240">!=</span>&nbsp;<span class="ident" id="7328243">nil</span>&nbsp;<span class="op" id="7328247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328251">t</span><span class="op" id="7328252">.</span><span class="ident" id="7328253">Error</span><span class="op" id="7328258">(</span><span class="string" id="7328259">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7328290">,</span>&nbsp;<span class="ident" id="7328292">err</span><span class="op" id="7328295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7328298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328302">item2</span>&nbsp;<span class="op" id="7328308">:=</span>&nbsp;<span class="ident" id="7328311">NoInterfaceItem</span><span class="op" id="7328326">{</span><span class="op" id="7328327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328330">err</span>&nbsp;<span class="op" id="7328334">=</span>&nbsp;<span class="ident" id="7328336">NewDecoder</span><span class="op" id="7328346">(</span><span class="ident" id="7328347">b</span><span class="op" id="7328348">)</span><span class="op" id="7328349">.</span><span class="ident" id="7328350">Decode</span><span class="op" id="7328356">(</span><span class="op" id="7328357">&amp;</span><span class="ident" id="7328358">item2</span><span class="op" id="7328363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328366">if</span>&nbsp;<span class="ident" id="7328369">err</span>&nbsp;<span class="op" id="7328373">!=</span>&nbsp;<span class="ident" id="7328376">nil</span>&nbsp;<span class="op" id="7328380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328384">t</span><span class="op" id="7328385">.</span><span class="ident" id="7328386">Fatal</span><span class="op" id="7328391">(</span><span class="string" id="7328392">&#34;decode:&#34;</span><span class="op" id="7328401">,</span>&nbsp;<span class="ident" id="7328403">err</span><span class="op" id="7328406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7328409">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328412">if</span>&nbsp;<span class="ident" id="7328415">item2</span><span class="op" id="7328420">.</span><span class="ident" id="7328421">I</span>&nbsp;<span class="op" id="7328423">!=</span>&nbsp;<span class="ident" id="7328426">item1</span><span class="op" id="7328431">.</span><span class="ident" id="7328432">I</span>&nbsp;<span class="op" id="7328434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328438">t</span><span class="op" id="7328439">.</span><span class="ident" id="7328440">Error</span><span class="op" id="7328445">(</span><span class="string" id="7328446">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7328483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7328486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328489">if</span>&nbsp;<span class="ident" id="7328492">item2</span><span class="op" id="7328497">.</span><span class="ident" id="7328498">F</span>&nbsp;<span class="op" id="7328500">!=</span>&nbsp;<span class="ident" id="7328503">item2</span><span class="op" id="7328508">.</span><span class="ident" id="7328509">F</span>&nbsp;<span class="op" id="7328511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328515">t</span><span class="op" id="7328516">.</span><span class="ident" id="7328517">Error</span><span class="op" id="7328522">(</span><span class="string" id="7328523">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7328562">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7328565">}</span><br>
<span class="lineno"></span><span class="op" id="7328567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7328570">type</span>&nbsp;<span class="ident" id="7328575">U</span>&nbsp;<span class="keyword" id="7328577">struct</span>&nbsp;<span class="op" id="7328584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328587">A</span>&nbsp;<span class="builtintype" id="7328589">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328594">B</span>&nbsp;<span class="builtintype" id="7328596">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328604">c</span>&nbsp;<span class="builtintype" id="7328606">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328615">D</span>&nbsp;<span class="builtintype" id="7328617">uint</span><br>
<span class="lineno"></span><span class="op" id="7328622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="7328625">func</span>&nbsp;<span class="ident" id="7328630">TestUnexportedFields</span><span class="op" id="7328650">(</span><span class="ident" id="7328651">t</span>&nbsp;<span class="op" id="7328653">*</span><span class="ident" id="7328654">testing</span><span class="op" id="7328661">.</span><span class="ident" id="7328662">T</span><span class="op" id="7328663">)</span>&nbsp;<span class="op" id="7328665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328668">var</span>&nbsp;<span class="ident" id="7328672">u0</span>&nbsp;<span class="ident" id="7328675">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328678">u0</span><span class="op" id="7328680">.</span><span class="ident" id="7328681">A</span>&nbsp;<span class="op" id="7328683">=</span>&nbsp;<span class="num" id="7328685">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328689">u0</span><span class="op" id="7328691">.</span><span class="ident" id="7328692">B</span>&nbsp;<span class="op" id="7328694">=</span>&nbsp;<span class="string" id="7328696">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328705">u0</span><span class="op" id="7328707">.</span><span class="ident" id="7328708">c</span>&nbsp;<span class="op" id="7328710">=</span>&nbsp;<span class="num" id="7328712">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328721">u0</span><span class="op" id="7328723">.</span><span class="ident" id="7328724">D</span>&nbsp;<span class="op" id="7328726">=</span>&nbsp;<span class="num" id="7328728">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328732">b</span>&nbsp;<span class="op" id="7328734">:=</span>&nbsp;<span class="builtinfunc" id="7328737">new</span><span class="op" id="7328740">(</span><span class="ident" id="7328741">bytes</span><span class="op" id="7328746">.</span><span class="ident" id="7328747">Buffer</span><span class="op" id="7328753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328756">NewEncoder</span><span class="op" id="7328766">(</span><span class="ident" id="7328767">b</span><span class="op" id="7328768">)</span><span class="op" id="7328769">.</span><span class="ident" id="7328770">Encode</span><span class="op" id="7328776">(</span><span class="ident" id="7328777">u0</span><span class="op" id="7328779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328782">dec</span>&nbsp;<span class="op" id="7328786">:=</span>&nbsp;<span class="ident" id="7328789">NewDecoder</span><span class="op" id="7328799">(</span><span class="ident" id="7328800">b</span><span class="op" id="7328801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328804">var</span>&nbsp;<span class="ident" id="7328808">u1</span>&nbsp;<span class="ident" id="7328811">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328814">u1</span><span class="op" id="7328816">.</span><span class="ident" id="7328817">c</span>&nbsp;<span class="op" id="7328819">=</span>&nbsp;<span class="num" id="7328821">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328828">err</span>&nbsp;<span class="op" id="7328832">:=</span>&nbsp;<span class="ident" id="7328835">dec</span><span class="op" id="7328838">.</span><span class="ident" id="7328839">Decode</span><span class="op" id="7328845">(</span><span class="op" id="7328846">&amp;</span><span class="ident" id="7328847">u1</span><span class="op" id="7328849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328852">if</span>&nbsp;<span class="ident" id="7328855">err</span>&nbsp;<span class="op" id="7328859">!=</span>&nbsp;<span class="ident" id="7328862">nil</span>&nbsp;<span class="op" id="7328866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328870">t</span><span class="op" id="7328871">.</span><span class="ident" id="7328872">Fatal</span><span class="op" id="7328877">(</span><span class="string" id="7328878">&#34;decode&nbsp;error:&#34;</span><span class="op" id="7328893">,</span>&nbsp;<span class="ident" id="7328895">err</span><span class="op" id="7328898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7328901">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7328904">if</span>&nbsp;<span class="ident" id="7328907">u0</span><span class="op" id="7328909">.</span><span class="ident" id="7328910">A</span>&nbsp;<span class="op" id="7328912">!=</span>&nbsp;<span class="ident" id="7328915">u0</span><span class="op" id="7328917">.</span><span class="ident" id="7328918">A</span>&nbsp;<span class="op" id="7328920">||</span>&nbsp;<span class="ident" id="7328923">u0</span><span class="op" id="7328925">.</span><span class="ident" id="7328926">B</span>&nbsp;<span class="op" id="7328928">!=</span>&nbsp;<span class="ident" id="7328931">u1</span><span class="op" id="7328933">.</span><span class="ident" id="7328934">B</span>&nbsp;<span class="op" id="7328936">||</span>&nbsp;<span class="ident" id="7328939">u0</span><span class="op" id="7328941">.</span><span class="ident" id="7328942">D</span>&nbsp;<span class="op" id="7328944">!=</span>&nbsp;<span class="ident" id="7328947">u1</span><span class="op" id="7328949">.</span><span class="ident" id="7328950">D</span>&nbsp;<span class="op" id="7328952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7328956">t</span><span class="op" id="7328957">.</span><span class="ident" id="7328958">Errorf</span><span class="op" id="7328964">(</span><span class="string" id="7328965">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7328994">,</span>&nbsp;<span class="ident" id="7328996">u0</span><span class="op" id="7328998">,</span>&nbsp;<span class="ident" id="7329000">u1</span><span class="op" id="7329002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7329005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7329008">if</span>&nbsp;<span class="ident" id="7329011">u1</span><span class="op" id="7329013">.</span><span class="ident" id="7329014">c</span>&nbsp;<span class="op" id="7329016">!=</span>&nbsp;<span class="num" id="7329019">1234.</span>&nbsp;<span class="op" id="7329025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329029">t</span><span class="op" id="7329030">.</span><span class="ident" id="7329031">Error</span><span class="op" id="7329036">(</span><span class="string" id="7329037">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="7329052">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7329055">}</span><br>
<span class="lineno"></span><span class="op" id="7329057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7329060">var</span>&nbsp;<span class="ident" id="7329064">singletons</span>&nbsp;<span class="op" id="7329075">=</span>&nbsp;<span class="op" id="7329077">[</span><span class="op" id="7329078">]</span><span class="keyword" id="7329079">interface</span><span class="op" id="7329088">{</span><span class="op" id="7329089">}</span><span class="op" id="7329090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329093">true</span><span class="op" id="7329097">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7329100">7</span><span class="op" id="7329101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7329104">3.2</span><span class="op" id="7329107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7329110">&#34;hello&#34;</span><span class="op" id="7329117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7329120">[</span><span class="num" id="7329121">3</span><span class="op" id="7329122">]</span><span class="builtintype" id="7329123">int</span><span class="op" id="7329126">{</span><span class="num" id="7329127">11</span><span class="op" id="7329129">,</span>&nbsp;<span class="num" id="7329131">22</span><span class="op" id="7329133">,</span>&nbsp;<span class="num" id="7329135">33</span><span class="op" id="7329137">}</span><span class="op" id="7329138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7329141">[</span><span class="op" id="7329142">]</span><span class="builtintype" id="7329143">float32</span><span class="op" id="7329150">{</span><span class="num" id="7329151">0.5</span><span class="op" id="7329154">,</span>&nbsp;<span class="num" id="7329156">0.25</span><span class="op" id="7329160">,</span>&nbsp;<span class="num" id="7329162">0.125</span><span class="op" id="7329167">}</span><span class="op" id="7329168">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7329171">map</span><span class="op" id="7329174">[</span><span class="builtintype" id="7329175">string</span><span class="op" id="7329181">]</span><span class="builtintype" id="7329182">int</span><span class="op" id="7329185">{</span><span class="string" id="7329186">&#34;one&#34;</span><span class="op" id="7329191">:</span>&nbsp;<span class="num" id="7329193">1</span><span class="op" id="7329194">,</span>&nbsp;<span class="string" id="7329196">&#34;two&#34;</span><span class="op" id="7329201">:</span>&nbsp;<span class="num" id="7329203">2</span><span class="op" id="7329204">}</span><span class="op" id="7329205">,</span><br>
<span class="lineno"></span><span class="op" id="7329207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7329210">func</span>&nbsp;<span class="ident" id="7329215">TestDebugSingleton</span><span class="op" id="7329233">(</span><span class="ident" id="7329234">t</span>&nbsp;<span class="op" id="7329236">*</span><span class="ident" id="7329237">testing</span><span class="op" id="7329244">.</span><span class="ident" id="7329245">T</span><span class="op" id="7329246">)</span>&nbsp;<span class="op" id="7329248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7329251">if</span>&nbsp;<span class="ident" id="7329254">debugFunc</span>&nbsp;<span class="op" id="7329264">==</span>&nbsp;<span class="ident" id="7329267">nil</span>&nbsp;<span class="op" id="7329271">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7329275">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7329283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329286">b</span>&nbsp;<span class="op" id="7329288">:=</span>&nbsp;<span class="builtinfunc" id="7329291">new</span><span class="op" id="7329294">(</span><span class="ident" id="7329295">bytes</span><span class="op" id="7329300">.</span><span class="ident" id="7329301">Buffer</span><span class="op" id="7329307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7329310">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7329376">for</span>&nbsp;<span class="ident" id="7329380">_</span><span class="op" id="7329381">,</span>&nbsp;<span class="ident" id="7329383">x</span>&nbsp;<span class="op" id="7329385">:=</span>&nbsp;<span class="keyword" id="7329388">range</span>&nbsp;<span class="ident" id="7329394">singletons</span>&nbsp;<span class="op" id="7329405">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329409">err</span>&nbsp;<span class="op" id="7329413">:=</span>&nbsp;<span class="ident" id="7329416">NewEncoder</span><span class="op" id="7329426">(</span><span class="ident" id="7329427">b</span><span class="op" id="7329428">)</span><span class="op" id="7329429">.</span><span class="ident" id="7329430">Encode</span><span class="op" id="7329436">(</span><span class="ident" id="7329437">x</span><span class="op" id="7329438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7329442">if</span>&nbsp;<span class="ident" id="7329445">err</span>&nbsp;<span class="op" id="7329449">!=</span>&nbsp;<span class="ident" id="7329452">nil</span>&nbsp;<span class="op" id="7329456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329461">t</span><span class="op" id="7329462">.</span><span class="ident" id="7329463">Fatal</span><span class="op" id="7329468">(</span><span class="string" id="7329469">&#34;encode:&#34;</span><span class="op" id="7329478">,</span>&nbsp;<span class="ident" id="7329480">err</span><span class="op" id="7329483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7329487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7329490">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329493">debugFunc</span><span class="op" id="7329502">(</span><span class="ident" id="7329503">b</span><span class="op" id="7329504">)</span><br>
<span class="lineno"></span><span class="op" id="7329506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7329509">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="7329592">type</span>&nbsp;<span class="ident" id="7329597">OnTheFly</span>&nbsp;<span class="keyword" id="7329606">struct</span>&nbsp;<span class="op" id="7329613">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329616">A</span>&nbsp;<span class="builtintype" id="7329618">int</span><br>
<span class="lineno"></span><span class="op" id="7329622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7329625">type</span>&nbsp;<span class="ident" id="7329630">DT</span>&nbsp;<span class="keyword" id="7329633">struct</span>&nbsp;<span class="op" id="7329640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7329643">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329658">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7329664">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329669">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7329675">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329683">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7329689">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329698">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7329704">interface</span><span class="op" id="7329713">{</span><span class="op" id="7329714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329717">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7329723">interface</span><span class="op" id="7329732">{</span><span class="op" id="7329733">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329736">I_nil</span>&nbsp;<span class="keyword" id="7329742">interface</span><span class="op" id="7329751">{</span><span class="op" id="7329752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329755">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7329761">map</span><span class="op" id="7329764">[</span><span class="builtintype" id="7329765">string</span><span class="op" id="7329771">]</span><span class="builtintype" id="7329772">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329777">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7329783">[</span><span class="num" id="7329784">3</span><span class="op" id="7329785">]</span><span class="builtintype" id="7329786">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329791">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7329797">[</span><span class="op" id="7329798">]</span><span class="builtintype" id="7329799">string</span><br>
<span class="lineno"></span><span class="op" id="7329806">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="7329809">func</span>&nbsp;<span class="ident" id="7329814">newDT</span><span class="op" id="7329819">(</span><span class="op" id="7329820">)</span>&nbsp;<span class="ident" id="7329822">DT</span>&nbsp;<span class="op" id="7329825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7329828">var</span>&nbsp;<span class="ident" id="7329832">dt</span>&nbsp;<span class="ident" id="7329835">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329839">dt</span><span class="op" id="7329841">.</span><span class="ident" id="7329842">A</span>&nbsp;<span class="op" id="7329844">=</span>&nbsp;<span class="num" id="7329846">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329850">dt</span><span class="op" id="7329852">.</span><span class="ident" id="7329853">B</span>&nbsp;<span class="op" id="7329855">=</span>&nbsp;<span class="string" id="7329857">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329866">dt</span><span class="op" id="7329868">.</span><span class="ident" id="7329869">C</span>&nbsp;<span class="op" id="7329871">=</span>&nbsp;<span class="num" id="7329873">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329882">dt</span><span class="op" id="7329884">.</span><span class="ident" id="7329885">I</span>&nbsp;<span class="op" id="7329887">=</span>&nbsp;<span class="num" id="7329889">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329897">dt</span><span class="op" id="7329899">.</span><span class="ident" id="7329900">J</span>&nbsp;<span class="op" id="7329902">=</span>&nbsp;<span class="ident" id="7329904">OnTheFly</span><span class="op" id="7329912">{</span><span class="num" id="7329913">3</span><span class="op" id="7329914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329917">dt</span><span class="op" id="7329919">.</span><span class="ident" id="7329920">I_nil</span>&nbsp;<span class="op" id="7329926">=</span>&nbsp;<span class="ident" id="7329928">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329933">dt</span><span class="op" id="7329935">.</span><span class="ident" id="7329936">M</span>&nbsp;<span class="op" id="7329938">=</span>&nbsp;<span class="keyword" id="7329940">map</span><span class="op" id="7329943">[</span><span class="builtintype" id="7329944">string</span><span class="op" id="7329950">]</span><span class="builtintype" id="7329951">int</span><span class="op" id="7329954">{</span><span class="string" id="7329955">&#34;one&#34;</span><span class="op" id="7329960">:</span>&nbsp;<span class="num" id="7329962">1</span><span class="op" id="7329963">,</span>&nbsp;<span class="string" id="7329965">&#34;two&#34;</span><span class="op" id="7329970">:</span>&nbsp;<span class="num" id="7329972">2</span><span class="op" id="7329973">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7329976">dt</span><span class="op" id="7329978">.</span><span class="ident" id="7329979">T</span>&nbsp;<span class="op" id="7329981">=</span>&nbsp;<span class="op" id="7329983">[</span><span class="num" id="7329984">3</span><span class="op" id="7329985">]</span><span class="builtintype" id="7329986">int</span><span class="op" id="7329989">{</span><span class="num" id="7329990">11</span><span class="op" id="7329992">,</span>&nbsp;<span class="num" id="7329994">22</span><span class="op" id="7329996">,</span>&nbsp;<span class="num" id="7329998">33</span><span class="op" id="7330000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330003">dt</span><span class="op" id="7330005">.</span><span class="ident" id="7330006">S</span>&nbsp;<span class="op" id="7330008">=</span>&nbsp;<span class="op" id="7330010">[</span><span class="op" id="7330011">]</span><span class="builtintype" id="7330012">string</span><span class="op" id="7330018">{</span><span class="string" id="7330019">&#34;hi&#34;</span><span class="op" id="7330023">,</span>&nbsp;<span class="string" id="7330025">&#34;joe&#34;</span><span class="op" id="7330030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330033">return</span>&nbsp;<span class="ident" id="7330040">dt</span><br>
<span class="lineno"></span><span class="op" id="7330043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="7330046">func</span>&nbsp;<span class="ident" id="7330051">TestDebugStruct</span><span class="op" id="7330066">(</span><span class="ident" id="7330067">t</span>&nbsp;<span class="op" id="7330069">*</span><span class="ident" id="7330070">testing</span><span class="op" id="7330077">.</span><span class="ident" id="7330078">T</span><span class="op" id="7330079">)</span>&nbsp;<span class="op" id="7330081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330084">if</span>&nbsp;<span class="ident" id="7330087">debugFunc</span>&nbsp;<span class="op" id="7330097">==</span>&nbsp;<span class="ident" id="7330100">nil</span>&nbsp;<span class="op" id="7330104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330108">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7330116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330119">Register</span><span class="op" id="7330127">(</span><span class="ident" id="7330128">OnTheFly</span><span class="op" id="7330136">{</span><span class="op" id="7330137">}</span><span class="op" id="7330138">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330141">dt</span>&nbsp;<span class="op" id="7330144">:=</span>&nbsp;<span class="ident" id="7330147">newDT</span><span class="op" id="7330152">(</span><span class="op" id="7330153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330156">b</span>&nbsp;<span class="op" id="7330158">:=</span>&nbsp;<span class="builtinfunc" id="7330161">new</span><span class="op" id="7330164">(</span><span class="ident" id="7330165">bytes</span><span class="op" id="7330170">.</span><span class="ident" id="7330171">Buffer</span><span class="op" id="7330177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330180">err</span>&nbsp;<span class="op" id="7330184">:=</span>&nbsp;<span class="ident" id="7330187">NewEncoder</span><span class="op" id="7330197">(</span><span class="ident" id="7330198">b</span><span class="op" id="7330199">)</span><span class="op" id="7330200">.</span><span class="ident" id="7330201">Encode</span><span class="op" id="7330207">(</span><span class="ident" id="7330208">dt</span><span class="op" id="7330210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330213">if</span>&nbsp;<span class="ident" id="7330216">err</span>&nbsp;<span class="op" id="7330220">!=</span>&nbsp;<span class="ident" id="7330223">nil</span>&nbsp;<span class="op" id="7330227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330231">t</span><span class="op" id="7330232">.</span><span class="ident" id="7330233">Fatal</span><span class="op" id="7330238">(</span><span class="string" id="7330239">&#34;encode:&#34;</span><span class="op" id="7330248">,</span>&nbsp;<span class="ident" id="7330250">err</span><span class="op" id="7330253">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7330256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330259">debugBuffer</span>&nbsp;<span class="op" id="7330271">:=</span>&nbsp;<span class="ident" id="7330274">bytes</span><span class="op" id="7330279">.</span><span class="ident" id="7330280">NewBuffer</span><span class="op" id="7330289">(</span><span class="ident" id="7330290">b</span><span class="op" id="7330291">.</span><span class="ident" id="7330292">Bytes</span><span class="op" id="7330297">(</span><span class="op" id="7330298">)</span><span class="op" id="7330299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330302">dt2</span>&nbsp;<span class="op" id="7330306">:=</span>&nbsp;<span class="op" id="7330309">&amp;</span><span class="ident" id="7330310">DT</span><span class="op" id="7330312">{</span><span class="op" id="7330313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330316">err</span>&nbsp;<span class="op" id="7330320">=</span>&nbsp;<span class="ident" id="7330322">NewDecoder</span><span class="op" id="7330332">(</span><span class="ident" id="7330333">b</span><span class="op" id="7330334">)</span><span class="op" id="7330335">.</span><span class="ident" id="7330336">Decode</span><span class="op" id="7330342">(</span><span class="op" id="7330343">&amp;</span><span class="ident" id="7330344">dt2</span><span class="op" id="7330347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330350">if</span>&nbsp;<span class="ident" id="7330353">err</span>&nbsp;<span class="op" id="7330357">!=</span>&nbsp;<span class="ident" id="7330360">nil</span>&nbsp;<span class="op" id="7330364">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330368">t</span><span class="op" id="7330369">.</span><span class="ident" id="7330370">Error</span><span class="op" id="7330375">(</span><span class="string" id="7330376">&#34;decode:&#34;</span><span class="op" id="7330385">,</span>&nbsp;<span class="ident" id="7330387">err</span><span class="op" id="7330390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7330393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330396">debugFunc</span><span class="op" id="7330405">(</span><span class="ident" id="7330406">debugBuffer</span><span class="op" id="7330417">)</span><br>
<span class="lineno"></span><span class="op" id="7330419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="7330422">func</span>&nbsp;<span class="ident" id="7330427">encFuzzDec</span><span class="op" id="7330437">(</span><span class="ident" id="7330438">rng</span>&nbsp;<span class="op" id="7330442">*</span><span class="ident" id="7330443">rand</span><span class="op" id="7330447">.</span><span class="ident" id="7330448">Rand</span><span class="op" id="7330452">,</span>&nbsp;<span class="ident" id="7330454">in</span>&nbsp;<span class="keyword" id="7330457">interface</span><span class="op" id="7330466">{</span><span class="op" id="7330467">}</span><span class="op" id="7330468">)</span>&nbsp;<span class="builtintype" id="7330470">error</span>&nbsp;<span class="op" id="7330476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330479">buf</span>&nbsp;<span class="op" id="7330483">:=</span>&nbsp;<span class="builtinfunc" id="7330486">new</span><span class="op" id="7330489">(</span><span class="ident" id="7330490">bytes</span><span class="op" id="7330495">.</span><span class="ident" id="7330496">Buffer</span><span class="op" id="7330502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330505">enc</span>&nbsp;<span class="op" id="7330509">:=</span>&nbsp;<span class="ident" id="7330512">NewEncoder</span><span class="op" id="7330522">(</span><span class="ident" id="7330523">buf</span><span class="op" id="7330526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330529">if</span>&nbsp;<span class="ident" id="7330532">err</span>&nbsp;<span class="op" id="7330536">:=</span>&nbsp;<span class="ident" id="7330539">enc</span><span class="op" id="7330542">.</span><span class="ident" id="7330543">Encode</span><span class="op" id="7330549">(</span><span class="op" id="7330550">&amp;</span><span class="ident" id="7330551">in</span><span class="op" id="7330553">)</span><span class="op" id="7330554">;</span>&nbsp;<span class="ident" id="7330556">err</span>&nbsp;<span class="op" id="7330560">!=</span>&nbsp;<span class="ident" id="7330563">nil</span>&nbsp;<span class="op" id="7330567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330571">return</span>&nbsp;<span class="ident" id="7330578">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7330583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330587">b</span>&nbsp;<span class="op" id="7330589">:=</span>&nbsp;<span class="ident" id="7330592">buf</span><span class="op" id="7330595">.</span><span class="ident" id="7330596">Bytes</span><span class="op" id="7330601">(</span><span class="op" id="7330602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330605">for</span>&nbsp;<span class="ident" id="7330609">i</span><span class="op" id="7330610">,</span>&nbsp;<span class="ident" id="7330612">bi</span>&nbsp;<span class="op" id="7330615">:=</span>&nbsp;<span class="keyword" id="7330618">range</span>&nbsp;<span class="ident" id="7330624">b</span>&nbsp;<span class="op" id="7330626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330630">if</span>&nbsp;<span class="ident" id="7330633">rng</span><span class="op" id="7330636">.</span><span class="ident" id="7330637">Intn</span><span class="op" id="7330641">(</span><span class="num" id="7330642">10</span><span class="op" id="7330644">)</span>&nbsp;<span class="op" id="7330646">&lt;</span>&nbsp;<span class="num" id="7330648">3</span>&nbsp;<span class="op" id="7330650">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330655">b</span><span class="op" id="7330656">[</span><span class="ident" id="7330657">i</span><span class="op" id="7330658">]</span>&nbsp;<span class="op" id="7330660">=</span>&nbsp;<span class="ident" id="7330662">bi</span>&nbsp;<span class="op" id="7330665">+</span>&nbsp;<span class="builtintype" id="7330667">uint8</span><span class="op" id="7330672">(</span><span class="ident" id="7330673">rng</span><span class="op" id="7330676">.</span><span class="ident" id="7330677">Intn</span><span class="op" id="7330681">(</span><span class="num" id="7330682">256</span><span class="op" id="7330685">)</span><span class="op" id="7330686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7330690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7330693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330697">dec</span>&nbsp;<span class="op" id="7330701">:=</span>&nbsp;<span class="ident" id="7330704">NewDecoder</span><span class="op" id="7330714">(</span><span class="ident" id="7330715">buf</span><span class="op" id="7330718">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330721">var</span>&nbsp;<span class="ident" id="7330725">e</span>&nbsp;<span class="keyword" id="7330727">interface</span><span class="op" id="7330736">{</span><span class="op" id="7330737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330740">if</span>&nbsp;<span class="ident" id="7330743">err</span>&nbsp;<span class="op" id="7330747">:=</span>&nbsp;<span class="ident" id="7330750">dec</span><span class="op" id="7330753">.</span><span class="ident" id="7330754">Decode</span><span class="op" id="7330760">(</span><span class="op" id="7330761">&amp;</span><span class="ident" id="7330762">e</span><span class="op" id="7330763">)</span><span class="op" id="7330764">;</span>&nbsp;<span class="ident" id="7330766">err</span>&nbsp;<span class="op" id="7330770">!=</span>&nbsp;<span class="ident" id="7330773">nil</span>&nbsp;<span class="op" id="7330777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330781">return</span>&nbsp;<span class="ident" id="7330788">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7330793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330796">return</span>&nbsp;<span class="ident" id="7330803">nil</span><br>
<span class="lineno">1390</span><span class="op" id="7330807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7330810">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="7330895">func</span>&nbsp;<span class="ident" id="7330900">TestFuzz</span><span class="op" id="7330908">(</span><span class="ident" id="7330909">t</span>&nbsp;<span class="op" id="7330911">*</span><span class="ident" id="7330912">testing</span><span class="op" id="7330919">.</span><span class="ident" id="7330920">T</span><span class="op" id="7330921">)</span>&nbsp;<span class="op" id="7330923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330926">if</span>&nbsp;<span class="op" id="7330929">!</span><span class="op" id="7330930">*</span><span class="ident" id="7330931">doFuzzTests</span>&nbsp;<span class="op" id="7330943">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7330947">t</span><span class="op" id="7330948">.</span><span class="ident" id="7330949">Logf</span><span class="op" id="7330953">(</span><span class="string" id="7330954">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="7330994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7330998">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7331010">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331034">input</span>&nbsp;<span class="op" id="7331040">:=</span>&nbsp;<span class="op" id="7331043">[</span><span class="op" id="7331044">]</span><span class="keyword" id="7331045">interface</span><span class="op" id="7331054">{</span><span class="op" id="7331055">}</span><span class="op" id="7331056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7331060">new</span><span class="op" id="7331063">(</span><span class="builtintype" id="7331064">int</span><span class="op" id="7331067">)</span><span class="op" id="7331068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7331072">new</span><span class="op" id="7331075">(</span><span class="builtintype" id="7331076">float32</span><span class="op" id="7331083">)</span><span class="op" id="7331084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7331088">new</span><span class="op" id="7331091">(</span><span class="builtintype" id="7331092">float64</span><span class="op" id="7331099">)</span><span class="op" id="7331100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7331104">new</span><span class="op" id="7331107">(</span><span class="builtintype" id="7331108">complex128</span><span class="op" id="7331118">)</span><span class="op" id="7331119">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331123">&amp;</span><span class="ident" id="7331124">ByteStruct</span><span class="op" id="7331134">{</span><span class="num" id="7331135">255</span><span class="op" id="7331138">}</span><span class="op" id="7331139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331143">&amp;</span><span class="ident" id="7331144">ArrayStruct</span><span class="op" id="7331155">{</span><span class="op" id="7331156">}</span><span class="op" id="7331157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331161">&amp;</span><span class="ident" id="7331162">StringStruct</span><span class="op" id="7331174">{</span><span class="string" id="7331175">&#34;hello&#34;</span><span class="op" id="7331182">}</span><span class="op" id="7331183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331187">&amp;</span><span class="ident" id="7331188">GobTest1</span><span class="op" id="7331196">{</span><span class="num" id="7331197">0</span><span class="op" id="7331198">,</span>&nbsp;<span class="op" id="7331200">&amp;</span><span class="ident" id="7331201">StringStruct</span><span class="op" id="7331213">{</span><span class="string" id="7331214">&#34;hello&#34;</span><span class="op" id="7331221">}</span><span class="op" id="7331222">}</span><span class="op" id="7331223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331226">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331229">testFuzz</span><span class="op" id="7331237">(</span><span class="ident" id="7331238">t</span><span class="op" id="7331239">,</span>&nbsp;<span class="ident" id="7331241">time</span><span class="op" id="7331245">.</span><span class="ident" id="7331246">Now</span><span class="op" id="7331249">(</span><span class="op" id="7331250">)</span><span class="op" id="7331251">.</span><span class="ident" id="7331252">UnixNano</span><span class="op" id="7331260">(</span><span class="op" id="7331261">)</span><span class="op" id="7331262">,</span>&nbsp;<span class="num" id="7331264">100</span><span class="op" id="7331267">,</span>&nbsp;<span class="ident" id="7331269">input</span><span class="op" id="7331274">...</span><span class="op" id="7331277">)</span><br>
<span class="lineno"></span><span class="op" id="7331279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7331282">func</span>&nbsp;<span class="ident" id="7331287">TestFuzzRegressions</span><span class="op" id="7331306">(</span><span class="ident" id="7331307">t</span>&nbsp;<span class="op" id="7331309">*</span><span class="ident" id="7331310">testing</span><span class="op" id="7331317">.</span><span class="ident" id="7331318">T</span><span class="op" id="7331319">)</span>&nbsp;<span class="op" id="7331321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7331324">if</span>&nbsp;<span class="op" id="7331327">!</span><span class="op" id="7331328">*</span><span class="ident" id="7331329">doFuzzTests</span>&nbsp;<span class="op" id="7331341">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331345">t</span><span class="op" id="7331346">.</span><span class="ident" id="7331347">Logf</span><span class="op" id="7331351">(</span><span class="string" id="7331352">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="7331392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7331396">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7331408">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331466">testFuzz</span><span class="op" id="7331474">(</span><span class="ident" id="7331475">t</span><span class="op" id="7331476">,</span>&nbsp;<span class="num" id="7331478">1328492090837718000</span><span class="op" id="7331497">,</span>&nbsp;<span class="num" id="7331499">100</span><span class="op" id="7331502">,</span>&nbsp;<span class="builtinfunc" id="7331504">new</span><span class="op" id="7331507">(</span><span class="builtintype" id="7331508">float32</span><span class="op" id="7331515">)</span><span class="op" id="7331516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7331519">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7331569">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331612">testFuzz</span><span class="op" id="7331620">(</span><span class="ident" id="7331621">t</span><span class="op" id="7331622">,</span>&nbsp;<span class="num" id="7331624">1330522872628565000</span><span class="op" id="7331643">,</span>&nbsp;<span class="num" id="7331645">100</span><span class="op" id="7331648">,</span>&nbsp;<span class="builtinfunc" id="7331650">new</span><span class="op" id="7331653">(</span><span class="builtintype" id="7331654">int</span><span class="op" id="7331657">)</span><span class="op" id="7331658">)</span><br>
<span class="lineno"></span><span class="op" id="7331660">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="7331663">func</span>&nbsp;<span class="ident" id="7331668">testFuzz</span><span class="op" id="7331676">(</span><span class="ident" id="7331677">t</span>&nbsp;<span class="op" id="7331679">*</span><span class="ident" id="7331680">testing</span><span class="op" id="7331687">.</span><span class="ident" id="7331688">T</span><span class="op" id="7331689">,</span>&nbsp;<span class="ident" id="7331691">seed</span>&nbsp;<span class="ident" id="7331696">int64</span><span class="op" id="7331701">,</span>&nbsp;<span class="ident" id="7331703">n</span>&nbsp;<span class="builtintype" id="7331705">int</span><span class="op" id="7331708">,</span>&nbsp;<span class="ident" id="7331710">input</span>&nbsp;<span class="op" id="7331716">...</span><span class="keyword" id="7331719">interface</span><span class="op" id="7331728">{</span><span class="op" id="7331729">}</span><span class="op" id="7331730">)</span>&nbsp;<span class="op" id="7331732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7331735">for</span>&nbsp;<span class="ident" id="7331739">_</span><span class="op" id="7331740">,</span>&nbsp;<span class="ident" id="7331742">e</span>&nbsp;<span class="op" id="7331744">:=</span>&nbsp;<span class="keyword" id="7331747">range</span>&nbsp;<span class="ident" id="7331753">input</span>&nbsp;<span class="op" id="7331759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331763">t</span><span class="op" id="7331764">.</span><span class="ident" id="7331765">Logf</span><span class="op" id="7331769">(</span><span class="string" id="7331770">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="7331789">,</span>&nbsp;<span class="ident" id="7331791">seed</span><span class="op" id="7331795">,</span>&nbsp;<span class="ident" id="7331797">n</span><span class="op" id="7331798">,</span>&nbsp;<span class="ident" id="7331800">e</span><span class="op" id="7331801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331805">rng</span>&nbsp;<span class="op" id="7331809">:=</span>&nbsp;<span class="ident" id="7331812">rand</span><span class="op" id="7331816">.</span><span class="ident" id="7331817">New</span><span class="op" id="7331820">(</span><span class="ident" id="7331821">rand</span><span class="op" id="7331825">.</span><span class="ident" id="7331826">NewSource</span><span class="op" id="7331835">(</span><span class="ident" id="7331836">seed</span><span class="op" id="7331840">)</span><span class="op" id="7331841">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7331845">for</span>&nbsp;<span class="ident" id="7331849">i</span>&nbsp;<span class="op" id="7331851">:=</span>&nbsp;<span class="num" id="7331854">0</span><span class="op" id="7331855">;</span>&nbsp;<span class="ident" id="7331857">i</span>&nbsp;<span class="op" id="7331859">&lt;</span>&nbsp;<span class="ident" id="7331861">n</span><span class="op" id="7331862">;</span>&nbsp;<span class="ident" id="7331864">i</span><span class="op" id="7331865">++</span>&nbsp;<span class="op" id="7331868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7331873">encFuzzDec</span><span class="op" id="7331883">(</span><span class="ident" id="7331884">rng</span><span class="op" id="7331887">,</span>&nbsp;<span class="ident" id="7331889">e</span><span class="op" id="7331890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7331897">}</span><br>
<span class="lineno"></span><span class="op" id="7331899">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="7331902">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="7331963">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="7331999">func</span>&nbsp;<span class="ident" id="7332004">TestFuzzOneByte</span><span class="op" id="7332019">(</span><span class="ident" id="7332020">t</span>&nbsp;<span class="op" id="7332022">*</span><span class="ident" id="7332023">testing</span><span class="op" id="7332030">.</span><span class="ident" id="7332031">T</span><span class="op" id="7332032">)</span>&nbsp;<span class="op" id="7332034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332037">buf</span>&nbsp;<span class="op" id="7332041">:=</span>&nbsp;<span class="builtinfunc" id="7332044">new</span><span class="op" id="7332047">(</span><span class="ident" id="7332048">bytes</span><span class="op" id="7332053">.</span><span class="ident" id="7332054">Buffer</span><span class="op" id="7332060">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332063">Register</span><span class="op" id="7332071">(</span><span class="ident" id="7332072">OnTheFly</span><span class="op" id="7332080">{</span><span class="op" id="7332081">}</span><span class="op" id="7332082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332085">dt</span>&nbsp;<span class="op" id="7332088">:=</span>&nbsp;<span class="ident" id="7332091">newDT</span><span class="op" id="7332096">(</span><span class="op" id="7332097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332100">if</span>&nbsp;<span class="ident" id="7332103">err</span>&nbsp;<span class="op" id="7332107">:=</span>&nbsp;<span class="ident" id="7332110">NewEncoder</span><span class="op" id="7332120">(</span><span class="ident" id="7332121">buf</span><span class="op" id="7332124">)</span><span class="op" id="7332125">.</span><span class="ident" id="7332126">Encode</span><span class="op" id="7332132">(</span><span class="ident" id="7332133">dt</span><span class="op" id="7332135">)</span><span class="op" id="7332136">;</span>&nbsp;<span class="ident" id="7332138">err</span>&nbsp;<span class="op" id="7332142">!=</span>&nbsp;<span class="ident" id="7332145">nil</span>&nbsp;<span class="op" id="7332149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332153">t</span><span class="op" id="7332154">.</span><span class="ident" id="7332155">Fatal</span><span class="op" id="7332160">(</span><span class="ident" id="7332161">err</span><span class="op" id="7332164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332167">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332170">s</span>&nbsp;<span class="op" id="7332172">:=</span>&nbsp;<span class="ident" id="7332175">buf</span><span class="op" id="7332178">.</span><span class="ident" id="7332179">String</span><span class="op" id="7332185">(</span><span class="op" id="7332186">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332190">indices</span>&nbsp;<span class="op" id="7332198">:=</span>&nbsp;<span class="builtinfunc" id="7332201">make</span><span class="op" id="7332205">(</span><span class="op" id="7332206">[</span><span class="op" id="7332207">]</span><span class="builtintype" id="7332208">int</span><span class="op" id="7332211">,</span>&nbsp;<span class="num" id="7332213">0</span><span class="op" id="7332214">,</span>&nbsp;<span class="builtinfunc" id="7332216">len</span><span class="op" id="7332219">(</span><span class="ident" id="7332220">s</span><span class="op" id="7332221">)</span><span class="op" id="7332222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332225">for</span>&nbsp;<span class="ident" id="7332229">i</span>&nbsp;<span class="op" id="7332231">:=</span>&nbsp;<span class="num" id="7332234">0</span><span class="op" id="7332235">;</span>&nbsp;<span class="ident" id="7332237">i</span>&nbsp;<span class="op" id="7332239">&lt;</span>&nbsp;<span class="builtinfunc" id="7332241">len</span><span class="op" id="7332244">(</span><span class="ident" id="7332245">s</span><span class="op" id="7332246">)</span><span class="op" id="7332247">;</span>&nbsp;<span class="ident" id="7332249">i</span><span class="op" id="7332250">++</span>&nbsp;<span class="op" id="7332253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332257">switch</span>&nbsp;<span class="ident" id="7332264">i</span>&nbsp;<span class="op" id="7332266">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332270">case</span>&nbsp;<span class="num" id="7332275">14</span><span class="op" id="7332277">,</span>&nbsp;<span class="num" id="7332279">167</span><span class="op" id="7332282">,</span>&nbsp;<span class="num" id="7332284">231</span><span class="op" id="7332287">,</span>&nbsp;<span class="num" id="7332289">265</span><span class="op" id="7332292">:</span>&nbsp;<span class="comment" id="7332294">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332349">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332364">indices</span>&nbsp;<span class="op" id="7332372">=</span>&nbsp;<span class="builtinfunc" id="7332374">append</span><span class="op" id="7332380">(</span><span class="ident" id="7332381">indices</span><span class="op" id="7332388">,</span>&nbsp;<span class="ident" id="7332390">i</span><span class="op" id="7332391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332394">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332397">if</span>&nbsp;<span class="ident" id="7332400">testing</span><span class="op" id="7332407">.</span><span class="ident" id="7332408">Short</span><span class="op" id="7332413">(</span><span class="op" id="7332414">)</span>&nbsp;<span class="op" id="7332416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332420">indices</span>&nbsp;<span class="op" id="7332428">=</span>&nbsp;<span class="op" id="7332430">[</span><span class="op" id="7332431">]</span><span class="builtintype" id="7332432">int</span><span class="op" id="7332435">{</span><span class="num" id="7332436">1</span><span class="op" id="7332437">,</span>&nbsp;<span class="num" id="7332439">111</span><span class="op" id="7332442">,</span>&nbsp;<span class="num" id="7332444">178</span><span class="op" id="7332447">}</span>&nbsp;<span class="comment" id="7332449">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332475">for</span>&nbsp;<span class="ident" id="7332479">_</span><span class="op" id="7332480">,</span>&nbsp;<span class="ident" id="7332482">i</span>&nbsp;<span class="op" id="7332484">:=</span>&nbsp;<span class="keyword" id="7332487">range</span>&nbsp;<span class="ident" id="7332493">indices</span>&nbsp;<span class="op" id="7332501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332505">for</span>&nbsp;<span class="ident" id="7332509">j</span>&nbsp;<span class="op" id="7332511">:=</span>&nbsp;<span class="num" id="7332514">0</span><span class="op" id="7332515">;</span>&nbsp;<span class="ident" id="7332517">j</span>&nbsp;<span class="op" id="7332519">&lt;</span>&nbsp;<span class="num" id="7332521">256</span><span class="op" id="7332524">;</span>&nbsp;<span class="ident" id="7332526">j</span>&nbsp;<span class="op" id="7332528">+=</span>&nbsp;<span class="num" id="7332531">3</span>&nbsp;<span class="op" id="7332533">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332538">b</span>&nbsp;<span class="op" id="7332540">:=</span>&nbsp;<span class="op" id="7332543">[</span><span class="op" id="7332544">]</span><span class="builtintype" id="7332545">byte</span><span class="op" id="7332549">(</span><span class="ident" id="7332550">s</span><span class="op" id="7332551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332556">b</span><span class="op" id="7332557">[</span><span class="ident" id="7332558">i</span><span class="op" id="7332559">]</span>&nbsp;<span class="op" id="7332561">^=</span>&nbsp;<span class="builtintype" id="7332564">byte</span><span class="op" id="7332568">(</span><span class="ident" id="7332569">j</span><span class="op" id="7332570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332575">var</span>&nbsp;<span class="ident" id="7332579">e</span>&nbsp;<span class="ident" id="7332581">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332587">func</span><span class="op" id="7332591">(</span><span class="op" id="7332592">)</span>&nbsp;<span class="op" id="7332594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332600">defer</span>&nbsp;<span class="keyword" id="7332606">func</span><span class="op" id="7332610">(</span><span class="op" id="7332611">)</span>&nbsp;<span class="op" id="7332613">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7332620">if</span>&nbsp;<span class="ident" id="7332623">p</span>&nbsp;<span class="op" id="7332625">:=</span>&nbsp;<span class="builtinfunc" id="7332628">recover</span><span class="op" id="7332635">(</span><span class="op" id="7332636">)</span><span class="op" id="7332637">;</span>&nbsp;<span class="ident" id="7332639">p</span>&nbsp;<span class="op" id="7332641">!=</span>&nbsp;<span class="ident" id="7332644">nil</span>&nbsp;<span class="op" id="7332648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332656">t</span><span class="op" id="7332657">.</span><span class="ident" id="7332658">Errorf</span><span class="op" id="7332664">(</span><span class="string" id="7332665">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="7332690">,</span>&nbsp;<span class="ident" id="7332692">i</span><span class="op" id="7332693">,</span>&nbsp;<span class="ident" id="7332695">j</span><span class="op" id="7332696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7332704">panic</span><span class="op" id="7332709">(</span><span class="ident" id="7332710">p</span><span class="op" id="7332711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332724">}</span><span class="op" id="7332725">(</span><span class="op" id="7332726">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332732">err</span>&nbsp;<span class="op" id="7332736">:=</span>&nbsp;<span class="ident" id="7332739">NewDecoder</span><span class="op" id="7332749">(</span><span class="ident" id="7332750">bytes</span><span class="op" id="7332755">.</span><span class="ident" id="7332756">NewReader</span><span class="op" id="7332765">(</span><span class="ident" id="7332766">b</span><span class="op" id="7332767">)</span><span class="op" id="7332768">)</span><span class="op" id="7332769">.</span><span class="ident" id="7332770">Decode</span><span class="op" id="7332776">(</span><span class="op" id="7332777">&amp;</span><span class="ident" id="7332778">e</span><span class="op" id="7332779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7332785">_</span>&nbsp;<span class="op" id="7332787">=</span>&nbsp;<span class="ident" id="7332789">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332796">}</span><span class="op" id="7332797">(</span><span class="op" id="7332798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7332805">}</span><br>
<span class="lineno">1475</span><span class="op" id="7332807">}</span>
</div>
</body>
</html>
