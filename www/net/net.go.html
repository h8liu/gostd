<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2651005">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2651060">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2651114">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2651165">/*<br>
<span class="lineno"></span>Package&nbsp;net&nbsp;provides&nbsp;a&nbsp;portable&nbsp;interface&nbsp;for&nbsp;network&nbsp;I/O,&nbsp;including<br>
<span class="lineno"></span>TCP/IP,&nbsp;UDP,&nbsp;domain&nbsp;name&nbsp;resolution,&nbsp;and&nbsp;Unix&nbsp;domain&nbsp;sockets.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Although&nbsp;the&nbsp;package&nbsp;provides&nbsp;access&nbsp;to&nbsp;low-level&nbsp;networking<br>
<span class="lineno">10</span>primitives,&nbsp;most&nbsp;clients&nbsp;will&nbsp;need&nbsp;only&nbsp;the&nbsp;basic&nbsp;interface&nbsp;provided<br>
<span class="lineno"></span>by&nbsp;the&nbsp;Dial,&nbsp;Listen,&nbsp;and&nbsp;Accept&nbsp;functions&nbsp;and&nbsp;the&nbsp;associated<br>
<span class="lineno"></span>Conn&nbsp;and&nbsp;Listener&nbsp;interfaces.&nbsp;The&nbsp;crypto/tls&nbsp;package&nbsp;uses<br>
<span class="lineno"></span>the&nbsp;same&nbsp;interfaces&nbsp;and&nbsp;similar&nbsp;Dial&nbsp;and&nbsp;Listen&nbsp;functions.<br>
<span class="lineno"></span><br>
<span class="lineno">15</span>The&nbsp;Dial&nbsp;function&nbsp;connects&nbsp;to&nbsp;a&nbsp;server:<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspconn,&nbsp;err&nbsp;:=&nbsp;net.Dial(&#34;tcp&#34;,&nbsp;&#34;google.com:80&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;handle&nbsp;error<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfmt.Fprintf(conn,&nbsp;&#34;GET&nbsp;/&nbsp;HTTP/1.0\r\n\r\n&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspstatus,&nbsp;err&nbsp;:=&nbsp;bufio.NewReader(conn).ReadString(&#39;\n&#39;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;...<br>
<span class="lineno"></span><br>
<span class="lineno">25</span>The&nbsp;Listen&nbsp;function&nbsp;creates&nbsp;servers:<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspln,&nbsp;err&nbsp;:=&nbsp;net.Listen(&#34;tcp&#34;,&nbsp;&#34;:8080&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;handle&nbsp;error<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfor&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspconn,&nbsp;err&nbsp;:=&nbsp;ln.Accept()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;handle&nbsp;error<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspgo&nbsp;handleConnection(conn)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno"></span><span class="keyword" id="2652068">package</span>&nbsp;<span class="ident" id="2652076">net</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="2652081">//&nbsp;TODO(rsc):</span><br>
<span class="lineno"></span><span class="comment" id="2652095">//&nbsp;&nbsp;&nbsp;&nbspsupport&nbsp;for&nbsp;raw&nbsp;ethernet&nbsp;sockets</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2652132">import</span>&nbsp;<span class="op" id="2652139">(</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2652142">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2652152">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2652158">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2652164">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2652175">&#34;time&#34;</span><br>
<span class="lineno">50</span><span class="op" id="2652182">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2652185">//&nbsp;Addr&nbsp;represents&nbsp;a&nbsp;network&nbsp;end&nbsp;point&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="2652233">type</span>&nbsp;<span class="ident" id="2652238">Addr</span>&nbsp;<span class="keyword" id="2652243">interface</span>&nbsp;<span class="op" id="2652253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2652256">Network</span><span class="op" id="2652263">(</span><span class="op" id="2652264">)</span>&nbsp;<span class="builtintype" id="2652266">string</span>&nbsp;<span class="comment" id="2652273">//&nbsp;name&nbsp;of&nbsp;the&nbsp;network</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2652297">String</span><span class="op" id="2652303">(</span><span class="op" id="2652304">)</span>&nbsp;<span class="builtintype" id="2652306">string</span>&nbsp;&nbsp;<span class="comment" id="2652314">//&nbsp;string&nbsp;form&nbsp;of&nbsp;address</span><br>
<span class="lineno"></span><span class="op" id="2652340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2652343">//&nbsp;Conn&nbsp;is&nbsp;a&nbsp;generic&nbsp;stream-oriented&nbsp;network&nbsp;connection.</span><br>
<span class="lineno"></span><span class="comment" id="2652400">//</span><br>
<span class="lineno">60</span><span class="comment" id="2652403">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;Conn&nbsp;simultaneously.</span><br>
<span class="lineno"></span><span class="keyword" id="2652471">type</span>&nbsp;<span class="ident" id="2652476">Conn</span>&nbsp;<span class="keyword" id="2652481">interface</span>&nbsp;<span class="op" id="2652491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652494">//&nbsp;Read&nbsp;reads&nbsp;data&nbsp;from&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652535">//&nbsp;Read&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;a&nbsp;Error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652610">//&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetReadDeadline.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2652677">Read</span><span class="op" id="2652681">(</span><span class="ident" id="2652682">b</span>&nbsp;<span class="op" id="2652684">[</span><span class="op" id="2652685">]</span><span class="builtintype" id="2652686">byte</span><span class="op" id="2652690">)</span>&nbsp;<span class="op" id="2652692">(</span><span class="ident" id="2652693">n</span>&nbsp;<span class="builtintype" id="2652695">int</span><span class="op" id="2652698">,</span>&nbsp;<span class="ident" id="2652700">err</span>&nbsp;<span class="builtintype" id="2652704">error</span><span class="op" id="2652709">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652713">//&nbsp;Write&nbsp;writes&nbsp;data&nbsp;to&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652754">//&nbsp;Write&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;a&nbsp;Error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652830">//&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2652898">Write</span><span class="op" id="2652903">(</span><span class="ident" id="2652904">b</span>&nbsp;<span class="op" id="2652906">[</span><span class="op" id="2652907">]</span><span class="builtintype" id="2652908">byte</span><span class="op" id="2652912">)</span>&nbsp;<span class="op" id="2652914">(</span><span class="ident" id="2652915">n</span>&nbsp;<span class="builtintype" id="2652917">int</span><span class="op" id="2652920">,</span>&nbsp;<span class="ident" id="2652922">err</span>&nbsp;<span class="builtintype" id="2652926">error</span><span class="op" id="2652931">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652935">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2652968">//&nbsp;Any&nbsp;blocked&nbsp;Read&nbsp;or&nbsp;Write&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2653046">Close</span><span class="op" id="2653051">(</span><span class="op" id="2653052">)</span>&nbsp;<span class="builtintype" id="2653054">error</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653062">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2653111">LocalAddr</span><span class="op" id="2653120">(</span><span class="op" id="2653121">)</span>&nbsp;<span class="ident" id="2653123"><a href="/net/net.go.html#2652238">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653130">//&nbsp;RemoteAddr&nbsp;returns&nbsp;the&nbsp;remote&nbsp;network&nbsp;address.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2653181">RemoteAddr</span><span class="op" id="2653191">(</span><span class="op" id="2653192">)</span>&nbsp;<span class="ident" id="2653194"><a href="/net/net.go.html#2652238">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653201">//&nbsp;SetDeadline&nbsp;sets&nbsp;the&nbsp;read&nbsp;and&nbsp;write&nbsp;deadlines&nbsp;associated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653262">//&nbsp;with&nbsp;the&nbsp;connection.&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653320">//&nbsp;SetReadDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653362">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653366">//&nbsp;A&nbsp;deadline&nbsp;is&nbsp;an&nbsp;absolute&nbsp;time&nbsp;after&nbsp;which&nbsp;I/O&nbsp;operations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653428">//&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653480">//&nbsp;blocking.&nbsp;The&nbsp;deadline&nbsp;applies&nbsp;to&nbsp;all&nbsp;future&nbsp;I/O,&nbsp;not&nbsp;just</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653543">//&nbsp;the&nbsp;immediately&nbsp;following&nbsp;call&nbsp;to&nbsp;Read&nbsp;or&nbsp;Write.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653596">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653600">//&nbsp;An&nbsp;idle&nbsp;timeout&nbsp;can&nbsp;be&nbsp;implemented&nbsp;by&nbsp;repeatedly&nbsp;extending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653663">//&nbsp;the&nbsp;deadline&nbsp;after&nbsp;successful&nbsp;Read&nbsp;or&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653718">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653722">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;I/O&nbsp;operations&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2653785">SetDeadline</span><span class="op" id="2653796">(</span><span class="ident" id="2653797">t</span>&nbsp;<span class="ident" id="2653799"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2653803">.</span><span class="ident" id="2653804">Time</span><span class="op" id="2653808">)</span>&nbsp;<span class="builtintype" id="2653810">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653818">//&nbsp;SetReadDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Read&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653879">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Read&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2653932">SetReadDeadline</span><span class="op" id="2653947">(</span><span class="ident" id="2653948">t</span>&nbsp;<span class="ident" id="2653950"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2653954">.</span><span class="ident" id="2653955">Time</span><span class="op" id="2653959">)</span>&nbsp;<span class="builtintype" id="2653961">error</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2653969">//&nbsp;SetWriteDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2654032">//&nbsp;Even&nbsp;if&nbsp;write&nbsp;times&nbsp;out,&nbsp;it&nbsp;may&nbsp;return&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2654098">//&nbsp;some&nbsp;of&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;written.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2654145">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Write&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2654199">SetWriteDeadline</span><span class="op" id="2654215">(</span><span class="ident" id="2654216">t</span>&nbsp;<span class="ident" id="2654218"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2654222">.</span><span class="ident" id="2654223">Time</span><span class="op" id="2654227">)</span>&nbsp;<span class="builtintype" id="2654229">error</span><br>
<span class="lineno"></span><span class="op" id="2654235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2654238">type</span>&nbsp;<span class="ident" id="2654243">conn</span>&nbsp;<span class="keyword" id="2654248">struct</span>&nbsp;<span class="op" id="2654255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2654258">fd</span>&nbsp;<span class="op" id="2654261">*</span><span class="ident" id="2654262"><a href="/net/fd_unix.go.html#2575420">netFD</a></span><br>
<span class="lineno">110</span><span class="op" id="2654268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2654271">func</span>&nbsp;<span class="op" id="2654276">(</span><span class="ident" id="2654277">c</span>&nbsp;<span class="op" id="2654279">*</span><span class="ident" id="2654280"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2654284">)</span>&nbsp;<span class="ident" id="2654286">ok</span><span class="op" id="2654288">(</span><span class="op" id="2654289">)</span>&nbsp;<span class="builtintype" id="2654291">bool</span>&nbsp;<span class="op" id="2654296">{</span>&nbsp;<span class="keyword" id="2654298">return</span>&nbsp;<span class="ident" id="2654305"><a href="/net/net.go.html#2654277">c</a></span>&nbsp;<span class="op" id="2654307">!=</span>&nbsp;<span class="ident" id="2654310">nil</span>&nbsp;<span class="op" id="2654314">&amp;&amp;</span>&nbsp;<span class="ident" id="2654317"><a href="/net/net.go.html#2654277">c</a></span><span class="op" id="2654318">.</span><span class="ident" id="2654319">fd</span>&nbsp;<span class="op" id="2654322">!=</span>&nbsp;<span class="ident" id="2654325">nil</span>&nbsp;<span class="op" id="2654329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2654332">//&nbsp;Implementation&nbsp;of&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="2654374">//&nbsp;Read&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;Read&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2654415">func</span>&nbsp;<span class="op" id="2654420">(</span><span class="ident" id="2654421">c</span>&nbsp;<span class="op" id="2654423">*</span><span class="ident" id="2654424"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2654428">)</span>&nbsp;<span class="ident" id="2654430">Read</span><span class="op" id="2654434">(</span><span class="ident" id="2654435">b</span>&nbsp;<span class="op" id="2654437">[</span><span class="op" id="2654438">]</span><span class="builtintype" id="2654439">byte</span><span class="op" id="2654443">)</span>&nbsp;<span class="op" id="2654445">(</span><span class="builtintype" id="2654446">int</span><span class="op" id="2654449">,</span>&nbsp;<span class="builtintype" id="2654451">error</span><span class="op" id="2654456">)</span>&nbsp;<span class="op" id="2654458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654461">if</span>&nbsp;<span class="op" id="2654464">!</span><span class="ident" id="2654465"><a href="/net/net.go.html#2654421">c</a></span><span class="op" id="2654466">.</span><span class="ident" id="2654467">ok</span><span class="op" id="2654469">(</span><span class="op" id="2654470">)</span>&nbsp;<span class="op" id="2654472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654476">return</span>&nbsp;<span class="num" id="2654483">0</span><span class="op" id="2654484">,</span>&nbsp;<span class="ident" id="2654486"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2654493">.</span><span class="ident" id="2654494">EINVAL</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2654502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654505">return</span>&nbsp;<span class="ident" id="2654512"><a href="/net/net.go.html#2654421">c</a></span><span class="op" id="2654513">.</span><span class="ident" id="2654514">fd</span><span class="op" id="2654516">.</span><span class="ident" id="2654517">Read</span><span class="op" id="2654521">(</span><span class="ident" id="2654522"><a href="/net/net.go.html#2654435">b</a></span><span class="op" id="2654523">)</span><br>
<span class="lineno"></span><span class="op" id="2654525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2654528">//&nbsp;Write&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;Write&nbsp;method.</span><br>
<span class="lineno">125</span><span class="keyword" id="2654571">func</span>&nbsp;<span class="op" id="2654576">(</span><span class="ident" id="2654577">c</span>&nbsp;<span class="op" id="2654579">*</span><span class="ident" id="2654580"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2654584">)</span>&nbsp;<span class="ident" id="2654586">Write</span><span class="op" id="2654591">(</span><span class="ident" id="2654592">b</span>&nbsp;<span class="op" id="2654594">[</span><span class="op" id="2654595">]</span><span class="builtintype" id="2654596">byte</span><span class="op" id="2654600">)</span>&nbsp;<span class="op" id="2654602">(</span><span class="builtintype" id="2654603">int</span><span class="op" id="2654606">,</span>&nbsp;<span class="builtintype" id="2654608">error</span><span class="op" id="2654613">)</span>&nbsp;<span class="op" id="2654615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654618">if</span>&nbsp;<span class="op" id="2654621">!</span><span class="ident" id="2654622"><a href="/net/net.go.html#2654577">c</a></span><span class="op" id="2654623">.</span><span class="ident" id="2654624">ok</span><span class="op" id="2654626">(</span><span class="op" id="2654627">)</span>&nbsp;<span class="op" id="2654629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654633">return</span>&nbsp;<span class="num" id="2654640">0</span><span class="op" id="2654641">,</span>&nbsp;<span class="ident" id="2654643"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2654650">.</span><span class="ident" id="2654651">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2654659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654662">return</span>&nbsp;<span class="ident" id="2654669"><a href="/net/net.go.html#2654577">c</a></span><span class="op" id="2654670">.</span><span class="ident" id="2654671">fd</span><span class="op" id="2654673">.</span><span class="ident" id="2654674">Write</span><span class="op" id="2654679">(</span><span class="ident" id="2654680"><a href="/net/net.go.html#2654592">b</a></span><span class="op" id="2654681">)</span><br>
<span class="lineno">130</span><span class="op" id="2654683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2654686">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="2654718">func</span>&nbsp;<span class="op" id="2654723">(</span><span class="ident" id="2654724">c</span>&nbsp;<span class="op" id="2654726">*</span><span class="ident" id="2654727"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2654731">)</span>&nbsp;<span class="ident" id="2654733">Close</span><span class="op" id="2654738">(</span><span class="op" id="2654739">)</span>&nbsp;<span class="builtintype" id="2654741">error</span>&nbsp;<span class="op" id="2654747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654750">if</span>&nbsp;<span class="op" id="2654753">!</span><span class="ident" id="2654754"><a href="/net/net.go.html#2654724">c</a></span><span class="op" id="2654755">.</span><span class="ident" id="2654756">ok</span><span class="op" id="2654758">(</span><span class="op" id="2654759">)</span>&nbsp;<span class="op" id="2654761">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654765">return</span>&nbsp;<span class="ident" id="2654772"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2654779">.</span><span class="ident" id="2654780">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2654788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654791">return</span>&nbsp;<span class="ident" id="2654798"><a href="/net/net.go.html#2654724">c</a></span><span class="op" id="2654799">.</span><span class="ident" id="2654800">fd</span><span class="op" id="2654802">.</span><span class="ident" id="2654803">Close</span><span class="op" id="2654808">(</span><span class="op" id="2654809">)</span><br>
<span class="lineno"></span><span class="op" id="2654811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2654814">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="2654862">func</span>&nbsp;<span class="op" id="2654867">(</span><span class="ident" id="2654868">c</span>&nbsp;<span class="op" id="2654870">*</span><span class="ident" id="2654871"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2654875">)</span>&nbsp;<span class="ident" id="2654877">LocalAddr</span><span class="op" id="2654886">(</span><span class="op" id="2654887">)</span>&nbsp;<span class="ident" id="2654889"><a href="/net/net.go.html#2652238">Addr</a></span>&nbsp;<span class="op" id="2654894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654897">if</span>&nbsp;<span class="op" id="2654900">!</span><span class="ident" id="2654901"><a href="/net/net.go.html#2654868">c</a></span><span class="op" id="2654902">.</span><span class="ident" id="2654903">ok</span><span class="op" id="2654905">(</span><span class="op" id="2654906">)</span>&nbsp;<span class="op" id="2654908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654912">return</span>&nbsp;<span class="ident" id="2654919">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2654924">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2654927">return</span>&nbsp;<span class="ident" id="2654934"><a href="/net/net.go.html#2654868">c</a></span><span class="op" id="2654935">.</span><span class="ident" id="2654936">fd</span><span class="op" id="2654938">.</span><span class="ident" id="2654939">laddr</span><br>
<span class="lineno"></span><span class="op" id="2654945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2654948">//&nbsp;RemoteAddr&nbsp;returns&nbsp;the&nbsp;remote&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="2654998">func</span>&nbsp;<span class="op" id="2655003">(</span><span class="ident" id="2655004">c</span>&nbsp;<span class="op" id="2655006">*</span><span class="ident" id="2655007"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2655011">)</span>&nbsp;<span class="ident" id="2655013">RemoteAddr</span><span class="op" id="2655023">(</span><span class="op" id="2655024">)</span>&nbsp;<span class="ident" id="2655026"><a href="/net/net.go.html#2652238">Addr</a></span>&nbsp;<span class="op" id="2655031">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655034">if</span>&nbsp;<span class="op" id="2655037">!</span><span class="ident" id="2655038"><a href="/net/net.go.html#2655004">c</a></span><span class="op" id="2655039">.</span><span class="ident" id="2655040">ok</span><span class="op" id="2655042">(</span><span class="op" id="2655043">)</span>&nbsp;<span class="op" id="2655045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655049">return</span>&nbsp;<span class="ident" id="2655056">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2655061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655064">return</span>&nbsp;<span class="ident" id="2655071"><a href="/net/net.go.html#2655004">c</a></span><span class="op" id="2655072">.</span><span class="ident" id="2655073">fd</span><span class="op" id="2655075">.</span><span class="ident" id="2655076">raddr</span><br>
<span class="lineno"></span><span class="op" id="2655082">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="2655085">//&nbsp;SetDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetDeadline&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2655140">func</span>&nbsp;<span class="op" id="2655145">(</span><span class="ident" id="2655146">c</span>&nbsp;<span class="op" id="2655148">*</span><span class="ident" id="2655149"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2655153">)</span>&nbsp;<span class="ident" id="2655155">SetDeadline</span><span class="op" id="2655166">(</span><span class="ident" id="2655167">t</span>&nbsp;<span class="ident" id="2655169"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2655173">.</span><span class="ident" id="2655174">Time</span><span class="op" id="2655178">)</span>&nbsp;<span class="builtintype" id="2655180">error</span>&nbsp;<span class="op" id="2655186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655189">if</span>&nbsp;<span class="op" id="2655192">!</span><span class="ident" id="2655193"><a href="/net/net.go.html#2655146">c</a></span><span class="op" id="2655194">.</span><span class="ident" id="2655195">ok</span><span class="op" id="2655197">(</span><span class="op" id="2655198">)</span>&nbsp;<span class="op" id="2655200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655204">return</span>&nbsp;<span class="ident" id="2655211"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2655218">.</span><span class="ident" id="2655219">EINVAL</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2655227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655230">return</span>&nbsp;<span class="ident" id="2655237"><a href="/net/net.go.html#2655146">c</a></span><span class="op" id="2655238">.</span><span class="ident" id="2655239">fd</span><span class="op" id="2655241">.</span><span class="ident" id="2655242">setDeadline</span><span class="op" id="2655253">(</span><span class="ident" id="2655254"><a href="/net/net.go.html#2655167">t</a></span><span class="op" id="2655255">)</span><br>
<span class="lineno"></span><span class="op" id="2655257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2655260">//&nbsp;SetReadDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetReadDeadline&nbsp;method.</span><br>
<span class="lineno">165</span><span class="keyword" id="2655323">func</span>&nbsp;<span class="op" id="2655328">(</span><span class="ident" id="2655329">c</span>&nbsp;<span class="op" id="2655331">*</span><span class="ident" id="2655332"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2655336">)</span>&nbsp;<span class="ident" id="2655338">SetReadDeadline</span><span class="op" id="2655353">(</span><span class="ident" id="2655354">t</span>&nbsp;<span class="ident" id="2655356"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2655360">.</span><span class="ident" id="2655361">Time</span><span class="op" id="2655365">)</span>&nbsp;<span class="builtintype" id="2655367">error</span>&nbsp;<span class="op" id="2655373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655376">if</span>&nbsp;<span class="op" id="2655379">!</span><span class="ident" id="2655380"><a href="/net/net.go.html#2655329">c</a></span><span class="op" id="2655381">.</span><span class="ident" id="2655382">ok</span><span class="op" id="2655384">(</span><span class="op" id="2655385">)</span>&nbsp;<span class="op" id="2655387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655391">return</span>&nbsp;<span class="ident" id="2655398"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2655405">.</span><span class="ident" id="2655406">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2655414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655417">return</span>&nbsp;<span class="ident" id="2655424"><a href="/net/net.go.html#2655329">c</a></span><span class="op" id="2655425">.</span><span class="ident" id="2655426">fd</span><span class="op" id="2655428">.</span><span class="ident" id="2655429">setReadDeadline</span><span class="op" id="2655444">(</span><span class="ident" id="2655445"><a href="/net/net.go.html#2655354">t</a></span><span class="op" id="2655446">)</span><br>
<span class="lineno">170</span><span class="op" id="2655448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2655451">//&nbsp;SetWriteDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetWriteDeadline&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2655516">func</span>&nbsp;<span class="op" id="2655521">(</span><span class="ident" id="2655522">c</span>&nbsp;<span class="op" id="2655524">*</span><span class="ident" id="2655525"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2655529">)</span>&nbsp;<span class="ident" id="2655531">SetWriteDeadline</span><span class="op" id="2655547">(</span><span class="ident" id="2655548">t</span>&nbsp;<span class="ident" id="2655550"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2655554">.</span><span class="ident" id="2655555">Time</span><span class="op" id="2655559">)</span>&nbsp;<span class="builtintype" id="2655561">error</span>&nbsp;<span class="op" id="2655567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655570">if</span>&nbsp;<span class="op" id="2655573">!</span><span class="ident" id="2655574"><a href="/net/net.go.html#2655522">c</a></span><span class="op" id="2655575">.</span><span class="ident" id="2655576">ok</span><span class="op" id="2655578">(</span><span class="op" id="2655579">)</span>&nbsp;<span class="op" id="2655581">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655585">return</span>&nbsp;<span class="ident" id="2655592"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2655599">.</span><span class="ident" id="2655600">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2655608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655611">return</span>&nbsp;<span class="ident" id="2655618"><a href="/net/net.go.html#2655522">c</a></span><span class="op" id="2655619">.</span><span class="ident" id="2655620">fd</span><span class="op" id="2655622">.</span><span class="ident" id="2655623">setWriteDeadline</span><span class="op" id="2655639">(</span><span class="ident" id="2655640"><a href="/net/net.go.html#2655548">t</a></span><span class="op" id="2655641">)</span><br>
<span class="lineno"></span><span class="op" id="2655643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="2655646">//&nbsp;SetReadBuffer&nbsp;sets&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;operating&nbsp;system&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="2655703">//&nbsp;receive&nbsp;buffer&nbsp;associated&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="2655753">func</span>&nbsp;<span class="op" id="2655758">(</span><span class="ident" id="2655759">c</span>&nbsp;<span class="op" id="2655761">*</span><span class="ident" id="2655762"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2655766">)</span>&nbsp;<span class="ident" id="2655768">SetReadBuffer</span><span class="op" id="2655781">(</span><span class="ident" id="2655782">bytes</span>&nbsp;<span class="builtintype" id="2655788">int</span><span class="op" id="2655791">)</span>&nbsp;<span class="builtintype" id="2655793">error</span>&nbsp;<span class="op" id="2655799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655802">if</span>&nbsp;<span class="op" id="2655805">!</span><span class="ident" id="2655806"><a href="/net/net.go.html#2655759">c</a></span><span class="op" id="2655807">.</span><span class="ident" id="2655808">ok</span><span class="op" id="2655810">(</span><span class="op" id="2655811">)</span>&nbsp;<span class="op" id="2655813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655817">return</span>&nbsp;<span class="ident" id="2655824"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2655831">.</span><span class="ident" id="2655832">EINVAL</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2655840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655843">return</span>&nbsp;<span class="ident" id="2655850"><a href="/net/sockopt_posix.go.html#2687712">setReadBuffer</a></span><span class="op" id="2655863">(</span><span class="ident" id="2655864"><a href="/net/net.go.html#2655759">c</a></span><span class="op" id="2655865">.</span><span class="ident" id="2655866">fd</span><span class="op" id="2655868">,</span>&nbsp;<span class="ident" id="2655870"><a href="/net/net.go.html#2655782">bytes</a></span><span class="op" id="2655875">)</span><br>
<span class="lineno"></span><span class="op" id="2655877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2655880">//&nbsp;SetWriteBuffer&nbsp;sets&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;operating&nbsp;system&#39;s</span><br>
<span class="lineno">190</span><span class="comment" id="2655938">//&nbsp;transmit&nbsp;buffer&nbsp;associated&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="2655989">func</span>&nbsp;<span class="op" id="2655994">(</span><span class="ident" id="2655995">c</span>&nbsp;<span class="op" id="2655997">*</span><span class="ident" id="2655998"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2656002">)</span>&nbsp;<span class="ident" id="2656004">SetWriteBuffer</span><span class="op" id="2656018">(</span><span class="ident" id="2656019">bytes</span>&nbsp;<span class="builtintype" id="2656025">int</span><span class="op" id="2656028">)</span>&nbsp;<span class="builtintype" id="2656030">error</span>&nbsp;<span class="op" id="2656036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656039">if</span>&nbsp;<span class="op" id="2656042">!</span><span class="ident" id="2656043"><a href="/net/net.go.html#2655995">c</a></span><span class="op" id="2656044">.</span><span class="ident" id="2656045">ok</span><span class="op" id="2656047">(</span><span class="op" id="2656048">)</span>&nbsp;<span class="op" id="2656050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656054">return</span>&nbsp;<span class="ident" id="2656061"><a href="/net/net.go.html#2652164">syscall</a></span><span class="op" id="2656068">.</span><span class="ident" id="2656069">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656077">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656080">return</span>&nbsp;<span class="ident" id="2656087"><a href="/net/sockopt_posix.go.html#2687956">setWriteBuffer</a></span><span class="op" id="2656101">(</span><span class="ident" id="2656102"><a href="/net/net.go.html#2655995">c</a></span><span class="op" id="2656103">.</span><span class="ident" id="2656104">fd</span><span class="op" id="2656106">,</span>&nbsp;<span class="ident" id="2656108"><a href="/net/net.go.html#2656019">bytes</a></span><span class="op" id="2656113">)</span><br>
<span class="lineno"></span><span class="op" id="2656115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2656118">//&nbsp;File&nbsp;sets&nbsp;the&nbsp;underlying&nbsp;os.File&nbsp;to&nbsp;blocking&nbsp;mode&nbsp;and&nbsp;returns&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span><span class="comment" id="2656191">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;close&nbsp;f&nbsp;when&nbsp;finished.</span><br>
<span class="lineno">200</span><span class="comment" id="2656254">//&nbsp;Closing&nbsp;c&nbsp;does&nbsp;not&nbsp;affect&nbsp;f,&nbsp;and&nbsp;closing&nbsp;f&nbsp;does&nbsp;not&nbsp;affect&nbsp;c.</span><br>
<span class="lineno"></span><span class="comment" id="2656319">//</span><br>
<span class="lineno"></span><span class="comment" id="2656322">//&nbsp;The&nbsp;returned&nbsp;os.File&#39;s&nbsp;file&nbsp;descriptor&nbsp;is&nbsp;different&nbsp;from&nbsp;the&nbsp;connection&#39;s.</span><br>
<span class="lineno"></span><span class="comment" id="2656400">//&nbsp;Attempting&nbsp;to&nbsp;change&nbsp;properties&nbsp;of&nbsp;the&nbsp;original&nbsp;using&nbsp;this&nbsp;duplicate</span><br>
<span class="lineno"></span><span class="comment" id="2656472">//&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;have&nbsp;the&nbsp;desired&nbsp;effect.</span><br>
<span class="lineno">205</span><span class="keyword" id="2656515">func</span>&nbsp;<span class="op" id="2656520">(</span><span class="ident" id="2656521">c</span>&nbsp;<span class="op" id="2656523">*</span><span class="ident" id="2656524"><a href="/net/net.go.html#2654243">conn</a></span><span class="op" id="2656528">)</span>&nbsp;<span class="ident" id="2656530">File</span><span class="op" id="2656534">(</span><span class="op" id="2656535">)</span>&nbsp;<span class="op" id="2656537">(</span><span class="ident" id="2656538">f</span>&nbsp;<span class="op" id="2656540">*</span><span class="ident" id="2656541"><a href="/net/net.go.html#2652158">os</a></span><span class="op" id="2656543">.</span><span class="ident" id="2656544">File</span><span class="op" id="2656548">,</span>&nbsp;<span class="ident" id="2656550">err</span>&nbsp;<span class="builtintype" id="2656554">error</span><span class="op" id="2656559">)</span>&nbsp;<span class="op" id="2656561">{</span>&nbsp;<span class="keyword" id="2656563">return</span>&nbsp;<span class="ident" id="2656570"><a href="/net/net.go.html#2656521">c</a></span><span class="op" id="2656571">.</span><span class="ident" id="2656572">fd</span><span class="op" id="2656574">.</span><span class="ident" id="2656575">dup</span><span class="op" id="2656578">(</span><span class="op" id="2656579">)</span>&nbsp;<span class="op" id="2656581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2656584">//&nbsp;An&nbsp;Error&nbsp;represents&nbsp;a&nbsp;network&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2656624">type</span>&nbsp;<span class="ident" id="2656629">Error</span>&nbsp;<span class="keyword" id="2656635">interface</span>&nbsp;<span class="op" id="2656645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2656648">error</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656655">Timeout</span><span class="op" id="2656662">(</span><span class="op" id="2656663">)</span>&nbsp;<span class="builtintype" id="2656665">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2656672">//&nbsp;Is&nbsp;the&nbsp;error&nbsp;a&nbsp;timeout?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656700">Temporary</span><span class="op" id="2656709">(</span><span class="op" id="2656710">)</span>&nbsp;<span class="builtintype" id="2656712">bool</span>&nbsp;<span class="comment" id="2656717">//&nbsp;Is&nbsp;the&nbsp;error&nbsp;temporary?</span><br>
<span class="lineno"></span><span class="op" id="2656744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2656747">//&nbsp;PacketConn&nbsp;is&nbsp;a&nbsp;generic&nbsp;packet-oriented&nbsp;network&nbsp;connection.</span><br>
<span class="lineno">215</span><span class="comment" id="2656810">//</span><br>
<span class="lineno"></span><span class="comment" id="2656813">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;PacketConn&nbsp;simultaneously.</span><br>
<span class="lineno"></span><span class="keyword" id="2656887">type</span>&nbsp;<span class="ident" id="2656892">PacketConn</span>&nbsp;<span class="keyword" id="2656903">interface</span>&nbsp;<span class="op" id="2656913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2656916">//&nbsp;ReadFrom&nbsp;reads&nbsp;a&nbsp;packet&nbsp;from&nbsp;the&nbsp;connection,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2656965">//&nbsp;copying&nbsp;the&nbsp;payload&nbsp;into&nbsp;b.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657023">//&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;b&nbsp;and&nbsp;the&nbsp;return&nbsp;address&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657075">//&nbsp;was&nbsp;on&nbsp;the&nbsp;packet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657098">//&nbsp;ReadFrom&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657146">//&nbsp;an&nbsp;error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657208">//&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetReadDeadline.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2657249">ReadFrom</span><span class="op" id="2657257">(</span><span class="ident" id="2657258">b</span>&nbsp;<span class="op" id="2657260">[</span><span class="op" id="2657261">]</span><span class="builtintype" id="2657262">byte</span><span class="op" id="2657266">)</span>&nbsp;<span class="op" id="2657268">(</span><span class="ident" id="2657269">n</span>&nbsp;<span class="builtintype" id="2657271">int</span><span class="op" id="2657274">,</span>&nbsp;<span class="ident" id="2657276">addr</span>&nbsp;<span class="ident" id="2657281"><a href="/net/net.go.html#2652238">Addr</a></span><span class="op" id="2657285">,</span>&nbsp;<span class="ident" id="2657287">err</span>&nbsp;<span class="builtintype" id="2657291">error</span><span class="op" id="2657296">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657300">//&nbsp;WriteTo&nbsp;writes&nbsp;a&nbsp;packet&nbsp;with&nbsp;payload&nbsp;b&nbsp;to&nbsp;addr.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657352">//&nbsp;WriteTo&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657399">//&nbsp;an&nbsp;error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657461">//&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657503">//&nbsp;On&nbsp;packet-oriented&nbsp;connections,&nbsp;write&nbsp;timeouts&nbsp;are&nbsp;rare.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2657564">WriteTo</span><span class="op" id="2657571">(</span><span class="ident" id="2657572">b</span>&nbsp;<span class="op" id="2657574">[</span><span class="op" id="2657575">]</span><span class="builtintype" id="2657576">byte</span><span class="op" id="2657580">,</span>&nbsp;<span class="ident" id="2657582">addr</span>&nbsp;<span class="ident" id="2657587"><a href="/net/net.go.html#2652238">Addr</a></span><span class="op" id="2657591">)</span>&nbsp;<span class="op" id="2657593">(</span><span class="ident" id="2657594">n</span>&nbsp;<span class="builtintype" id="2657596">int</span><span class="op" id="2657599">,</span>&nbsp;<span class="ident" id="2657601">err</span>&nbsp;<span class="builtintype" id="2657605">error</span><span class="op" id="2657610">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657614">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657647">//&nbsp;Any&nbsp;blocked&nbsp;ReadFrom&nbsp;or&nbsp;WriteTo&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2657731">Close</span><span class="op" id="2657736">(</span><span class="op" id="2657737">)</span>&nbsp;<span class="builtintype" id="2657739">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657747">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2657796">LocalAddr</span><span class="op" id="2657805">(</span><span class="op" id="2657806">)</span>&nbsp;<span class="ident" id="2657808"><a href="/net/net.go.html#2652238">Addr</a></span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657815">//&nbsp;SetDeadline&nbsp;sets&nbsp;the&nbsp;read&nbsp;and&nbsp;write&nbsp;deadlines&nbsp;associated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657876">//&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2657901">SetDeadline</span><span class="op" id="2657912">(</span><span class="ident" id="2657913">t</span>&nbsp;<span class="ident" id="2657915"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2657919">.</span><span class="ident" id="2657920">Time</span><span class="op" id="2657924">)</span>&nbsp;<span class="builtintype" id="2657926">error</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657934">//&nbsp;SetReadDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Read&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657995">//&nbsp;If&nbsp;the&nbsp;deadline&nbsp;is&nbsp;reached,&nbsp;Read&nbsp;will&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658057">//&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of&nbsp;blocking.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658099">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Read&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2658152">SetReadDeadline</span><span class="op" id="2658167">(</span><span class="ident" id="2658168">t</span>&nbsp;<span class="ident" id="2658170"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2658174">.</span><span class="ident" id="2658175">Time</span><span class="op" id="2658179">)</span>&nbsp;<span class="builtintype" id="2658181">error</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658189">//&nbsp;SetWriteDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658252">//&nbsp;If&nbsp;the&nbsp;deadline&nbsp;is&nbsp;reached,&nbsp;Write&nbsp;will&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658315">//&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of&nbsp;blocking.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658357">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Write&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658411">//&nbsp;Even&nbsp;if&nbsp;write&nbsp;times&nbsp;out,&nbsp;it&nbsp;may&nbsp;return&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658477">//&nbsp;some&nbsp;of&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;written.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2658524">SetWriteDeadline</span><span class="op" id="2658540">(</span><span class="ident" id="2658541">t</span>&nbsp;<span class="ident" id="2658543"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2658547">.</span><span class="ident" id="2658548">Time</span><span class="op" id="2658552">)</span>&nbsp;<span class="builtintype" id="2658554">error</span><br>
<span class="lineno"></span><span class="op" id="2658560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="2658563">var</span>&nbsp;<span class="ident" id="2658567">listenerBacklog</span>&nbsp;<span class="op" id="2658583">=</span>&nbsp;<span class="ident" id="2658585"><a href="/net/sock_linux.go.html#2678439">maxListenerBacklog</a></span><span class="op" id="2658603">(</span><span class="op" id="2658604">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2658607">//&nbsp;A&nbsp;Listener&nbsp;is&nbsp;a&nbsp;generic&nbsp;network&nbsp;listener&nbsp;for&nbsp;stream-oriented&nbsp;protocols.</span><br>
<span class="lineno"></span><span class="comment" id="2658682">//</span><br>
<span class="lineno"></span><span class="comment" id="2658685">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;Listener&nbsp;simultaneously.</span><br>
<span class="lineno">265</span><span class="keyword" id="2658757">type</span>&nbsp;<span class="ident" id="2658762">Listener</span>&nbsp;<span class="keyword" id="2658771">interface</span>&nbsp;<span class="op" id="2658781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658784">//&nbsp;Accept&nbsp;waits&nbsp;for&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;connection&nbsp;to&nbsp;the&nbsp;listener.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2658854">Accept</span><span class="op" id="2658860">(</span><span class="op" id="2658861">)</span>&nbsp;<span class="op" id="2658863">(</span><span class="ident" id="2658864">c</span>&nbsp;<span class="ident" id="2658866"><a href="/net/net.go.html#2652476">Conn</a></span><span class="op" id="2658870">,</span>&nbsp;<span class="ident" id="2658872">err</span>&nbsp;<span class="builtintype" id="2658876">error</span><span class="op" id="2658881">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658885">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;listener.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2658916">//&nbsp;Any&nbsp;blocked&nbsp;Accept&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2658987">Close</span><span class="op" id="2658992">(</span><span class="op" id="2658993">)</span>&nbsp;<span class="builtintype" id="2658995">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659003">//&nbsp;Addr&nbsp;returns&nbsp;the&nbsp;listener&#39;s&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659052">Addr</span><span class="op" id="2659056">(</span><span class="op" id="2659057">)</span>&nbsp;<span class="ident" id="2659059"><a href="/net/net.go.html#2652238">Addr</a></span><br>
<span class="lineno">275</span><span class="op" id="2659064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2659067">//&nbsp;Various&nbsp;errors&nbsp;contained&nbsp;in&nbsp;OpError.</span><br>
<span class="lineno"></span><span class="keyword" id="2659107">var</span>&nbsp;<span class="op" id="2659111">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659114">//&nbsp;For&nbsp;connection&nbsp;setup&nbsp;and&nbsp;write&nbsp;operations.</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659161">errMissingAddress</span>&nbsp;<span class="op" id="2659179">=</span>&nbsp;<span class="ident" id="2659181"><a href="/net/net.go.html#2652142">errors</a></span><span class="op" id="2659187">.</span><span class="ident" id="2659188">New</span><span class="op" id="2659191">(</span><span class="string" id="2659192">&#34;missing&nbsp;address&#34;</span><span class="op" id="2659209">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659213">//&nbsp;For&nbsp;both&nbsp;read&nbsp;and&nbsp;write&nbsp;operations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659253">errTimeout</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2659273">error</span>&nbsp;<span class="op" id="2659279">=</span>&nbsp;<span class="op" id="2659281">&amp;</span><span class="ident" id="2659282"><a href="/net/net.go.html#2660500">timeoutError</a></span><span class="op" id="2659294">{</span><span class="op" id="2659295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659298">errClosing</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2659324">=</span>&nbsp;<span class="ident" id="2659326"><a href="/net/net.go.html#2652142">errors</a></span><span class="op" id="2659332">.</span><span class="ident" id="2659333">New</span><span class="op" id="2659336">(</span><span class="string" id="2659337">&#34;use&nbsp;of&nbsp;closed&nbsp;network&nbsp;connection&#34;</span><span class="op" id="2659371">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659374">ErrWriteToConnected</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2659400">=</span>&nbsp;<span class="ident" id="2659402"><a href="/net/net.go.html#2652142">errors</a></span><span class="op" id="2659408">.</span><span class="ident" id="2659409">New</span><span class="op" id="2659412">(</span><span class="string" id="2659413">&#34;use&nbsp;of&nbsp;WriteTo&nbsp;with&nbsp;pre-connected&nbsp;connection&#34;</span><span class="op" id="2659459">)</span><br>
<span class="lineno"></span><span class="op" id="2659461">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2659464">//&nbsp;OpError&nbsp;is&nbsp;the&nbsp;error&nbsp;type&nbsp;usually&nbsp;returned&nbsp;by&nbsp;functions&nbsp;in&nbsp;the&nbsp;net</span><br>
<span class="lineno"></span><span class="comment" id="2659534">//&nbsp;package.&nbsp;It&nbsp;describes&nbsp;the&nbsp;operation,&nbsp;network&nbsp;type,&nbsp;and&nbsp;address&nbsp;of</span><br>
<span class="lineno">290</span><span class="comment" id="2659603">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2659616">type</span>&nbsp;<span class="ident" id="2659621">OpError</span>&nbsp;<span class="keyword" id="2659629">struct</span>&nbsp;<span class="op" id="2659636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659639">//&nbsp;Op&nbsp;is&nbsp;the&nbsp;operation&nbsp;which&nbsp;caused&nbsp;the&nbsp;error,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659695">//&nbsp;&#34;read&#34;&nbsp;or&nbsp;&#34;write&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659718">Op</span>&nbsp;<span class="builtintype" id="2659721">string</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659730">//&nbsp;Net&nbsp;is&nbsp;the&nbsp;network&nbsp;type&nbsp;on&nbsp;which&nbsp;this&nbsp;error&nbsp;occurred,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659788">//&nbsp;such&nbsp;as&nbsp;&#34;tcp&#34;&nbsp;or&nbsp;&#34;udp6&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659817">Net</span>&nbsp;<span class="builtintype" id="2659821">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659830">//&nbsp;Addr&nbsp;is&nbsp;the&nbsp;network&nbsp;address&nbsp;on&nbsp;which&nbsp;this&nbsp;error&nbsp;occurred.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659892">Addr</span>&nbsp;<span class="ident" id="2659897"><a href="/net/net.go.html#2652238">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2659904">//&nbsp;Err&nbsp;is&nbsp;the&nbsp;error&nbsp;that&nbsp;occurred&nbsp;during&nbsp;the&nbsp;operation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2659961">Err</span>&nbsp;<span class="builtintype" id="2659965">error</span><br>
<span class="lineno">305</span><span class="op" id="2659971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2659974">func</span>&nbsp;<span class="op" id="2659979">(</span><span class="ident" id="2659980">e</span>&nbsp;<span class="op" id="2659982">*</span><span class="ident" id="2659983"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2659990">)</span>&nbsp;<span class="ident" id="2659992">Error</span><span class="op" id="2659997">(</span><span class="op" id="2659998">)</span>&nbsp;<span class="builtintype" id="2660000">string</span>&nbsp;<span class="op" id="2660007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660010">if</span>&nbsp;<span class="ident" id="2660013"><a href="/net/net.go.html#2659980">e</a></span>&nbsp;<span class="op" id="2660015">==</span>&nbsp;<span class="ident" id="2660018">nil</span>&nbsp;<span class="op" id="2660022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660026">return</span>&nbsp;<span class="string" id="2660033">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2660042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660045">s</span>&nbsp;<span class="op" id="2660047">:=</span>&nbsp;<span class="ident" id="2660050"><a href="/net/net.go.html#2659980">e</a></span><span class="op" id="2660051">.</span><span class="ident" id="2660052">Op</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660056">if</span>&nbsp;<span class="ident" id="2660059"><a href="/net/net.go.html#2659980">e</a></span><span class="op" id="2660060">.</span><span class="ident" id="2660061">Net</span>&nbsp;<span class="op" id="2660065">!=</span>&nbsp;<span class="string" id="2660068">&#34;&#34;</span>&nbsp;<span class="op" id="2660071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660075"><a href="/net/net.go.html#2660045">s</a></span>&nbsp;<span class="op" id="2660077">+=</span>&nbsp;<span class="string" id="2660080">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2660084">+</span>&nbsp;<span class="ident" id="2660086"><a href="/net/net.go.html#2659980">e</a></span><span class="op" id="2660087">.</span><span class="ident" id="2660088">Net</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2660093">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660096">if</span>&nbsp;<span class="ident" id="2660099"><a href="/net/net.go.html#2659980">e</a></span><span class="op" id="2660100">.</span><span class="ident" id="2660101">Addr</span>&nbsp;<span class="op" id="2660106">!=</span>&nbsp;<span class="ident" id="2660109">nil</span>&nbsp;<span class="op" id="2660113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660117"><a href="/net/net.go.html#2660045">s</a></span>&nbsp;<span class="op" id="2660119">+=</span>&nbsp;<span class="string" id="2660122">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2660126">+</span>&nbsp;<span class="ident" id="2660128"><a href="/net/net.go.html#2659980">e</a></span><span class="op" id="2660129">.</span><span class="ident" id="2660130">Addr</span><span class="op" id="2660134">.</span><span class="ident" id="2660135">String</span><span class="op" id="2660141">(</span><span class="op" id="2660142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2660145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660148"><a href="/net/net.go.html#2660045">s</a></span>&nbsp;<span class="op" id="2660150">+=</span>&nbsp;<span class="string" id="2660153">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2660158">+</span>&nbsp;<span class="ident" id="2660160"><a href="/net/net.go.html#2659980">e</a></span><span class="op" id="2660161">.</span><span class="ident" id="2660162">Err</span><span class="op" id="2660165">.</span><span class="ident" id="2660166">Error</span><span class="op" id="2660171">(</span><span class="op" id="2660172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660175">return</span>&nbsp;<span class="ident" id="2660182"><a href="/net/net.go.html#2660045">s</a></span><br>
<span class="lineno">320</span><span class="op" id="2660184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660187">type</span>&nbsp;<span class="ident" id="2660192">temporary</span>&nbsp;<span class="keyword" id="2660202">interface</span>&nbsp;<span class="op" id="2660212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660215">Temporary</span><span class="op" id="2660224">(</span><span class="op" id="2660225">)</span>&nbsp;<span class="builtintype" id="2660227">bool</span><br>
<span class="lineno"></span><span class="op" id="2660232">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="2660235">func</span>&nbsp;<span class="op" id="2660240">(</span><span class="ident" id="2660241">e</span>&nbsp;<span class="op" id="2660243">*</span><span class="ident" id="2660244"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2660251">)</span>&nbsp;<span class="ident" id="2660253">Temporary</span><span class="op" id="2660262">(</span><span class="op" id="2660263">)</span>&nbsp;<span class="builtintype" id="2660265">bool</span>&nbsp;<span class="op" id="2660270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660273">t</span><span class="op" id="2660274">,</span>&nbsp;<span class="ident" id="2660276">ok</span>&nbsp;<span class="op" id="2660279">:=</span>&nbsp;<span class="ident" id="2660282"><a href="/net/net.go.html#2660241">e</a></span><span class="op" id="2660283">.</span><span class="ident" id="2660284">Err</span><span class="op" id="2660287">.</span><span class="op" id="2660288">(</span><span class="ident" id="2660289"><a href="/net/net.go.html#2660192">temporary</a></span><span class="op" id="2660298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660301">return</span>&nbsp;<span class="ident" id="2660308"><a href="/net/net.go.html#2660276">ok</a></span>&nbsp;<span class="op" id="2660311">&amp;&amp;</span>&nbsp;<span class="ident" id="2660314"><a href="/net/net.go.html#2660273">t</a></span><span class="op" id="2660315">.</span><span class="ident" id="2660316">Temporary</span><span class="op" id="2660325">(</span><span class="op" id="2660326">)</span><br>
<span class="lineno"></span><span class="op" id="2660328">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="2660331">var</span>&nbsp;<span class="ident" id="2660335">noDeadline</span>&nbsp;<span class="op" id="2660346">=</span>&nbsp;<span class="ident" id="2660348"><a href="/net/net.go.html#2652175">time</a></span><span class="op" id="2660352">.</span><span class="ident" id="2660353">Time</span><span class="op" id="2660357">{</span><span class="op" id="2660358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660361">type</span>&nbsp;<span class="ident" id="2660366">timeout</span>&nbsp;<span class="keyword" id="2660374">interface</span>&nbsp;<span class="op" id="2660384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660387">Timeout</span><span class="op" id="2660394">(</span><span class="op" id="2660395">)</span>&nbsp;<span class="builtintype" id="2660397">bool</span><br>
<span class="lineno">335</span><span class="op" id="2660402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660405">func</span>&nbsp;<span class="op" id="2660410">(</span><span class="ident" id="2660411">e</span>&nbsp;<span class="op" id="2660413">*</span><span class="ident" id="2660414"><a href="/net/net.go.html#2659621">OpError</a></span><span class="op" id="2660421">)</span>&nbsp;<span class="ident" id="2660423">Timeout</span><span class="op" id="2660430">(</span><span class="op" id="2660431">)</span>&nbsp;<span class="builtintype" id="2660433">bool</span>&nbsp;<span class="op" id="2660438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660441">t</span><span class="op" id="2660442">,</span>&nbsp;<span class="ident" id="2660444">ok</span>&nbsp;<span class="op" id="2660447">:=</span>&nbsp;<span class="ident" id="2660450"><a href="/net/net.go.html#2660411">e</a></span><span class="op" id="2660451">.</span><span class="ident" id="2660452">Err</span><span class="op" id="2660455">.</span><span class="op" id="2660456">(</span><span class="ident" id="2660457"><a href="/net/net.go.html#2660366">timeout</a></span><span class="op" id="2660464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660467">return</span>&nbsp;<span class="ident" id="2660474"><a href="/net/net.go.html#2660444">ok</a></span>&nbsp;<span class="op" id="2660477">&amp;&amp;</span>&nbsp;<span class="ident" id="2660480"><a href="/net/net.go.html#2660441">t</a></span><span class="op" id="2660481">.</span><span class="ident" id="2660482">Timeout</span><span class="op" id="2660489">(</span><span class="op" id="2660490">)</span><br>
<span class="lineno">340</span><span class="op" id="2660492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660495">type</span>&nbsp;<span class="ident" id="2660500">timeoutError</span>&nbsp;<span class="keyword" id="2660513">struct</span><span class="op" id="2660519">{</span><span class="op" id="2660520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660523">func</span>&nbsp;<span class="op" id="2660528">(</span><span class="ident" id="2660529">e</span>&nbsp;<span class="op" id="2660531">*</span><span class="ident" id="2660532"><a href="/net/net.go.html#2660500">timeoutError</a></span><span class="op" id="2660544">)</span>&nbsp;<span class="ident" id="2660546">Error</span><span class="op" id="2660551">(</span><span class="op" id="2660552">)</span>&nbsp;<span class="builtintype" id="2660554">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2660563">{</span>&nbsp;<span class="keyword" id="2660565">return</span>&nbsp;<span class="string" id="2660572">&#34;i/o&nbsp;timeout&#34;</span>&nbsp;<span class="op" id="2660586">}</span><br>
<span class="lineno">345</span><span class="keyword" id="2660588">func</span>&nbsp;<span class="op" id="2660593">(</span><span class="ident" id="2660594">e</span>&nbsp;<span class="op" id="2660596">*</span><span class="ident" id="2660597"><a href="/net/net.go.html#2660500">timeoutError</a></span><span class="op" id="2660609">)</span>&nbsp;<span class="ident" id="2660611">Timeout</span><span class="op" id="2660618">(</span><span class="op" id="2660619">)</span>&nbsp;<span class="builtintype" id="2660621">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2660628">{</span>&nbsp;<span class="keyword" id="2660630">return</span>&nbsp;<span class="ident" id="2660637">true</span>&nbsp;<span class="op" id="2660642">}</span><br>
<span class="lineno"></span><span class="keyword" id="2660644">func</span>&nbsp;<span class="op" id="2660649">(</span><span class="ident" id="2660650">e</span>&nbsp;<span class="op" id="2660652">*</span><span class="ident" id="2660653"><a href="/net/net.go.html#2660500">timeoutError</a></span><span class="op" id="2660665">)</span>&nbsp;<span class="ident" id="2660667">Temporary</span><span class="op" id="2660676">(</span><span class="op" id="2660677">)</span>&nbsp;<span class="builtintype" id="2660679">bool</span>&nbsp;<span class="op" id="2660684">{</span>&nbsp;<span class="keyword" id="2660686">return</span>&nbsp;<span class="ident" id="2660693">true</span>&nbsp;<span class="op" id="2660698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660701">type</span>&nbsp;<span class="ident" id="2660706">AddrError</span>&nbsp;<span class="keyword" id="2660716">struct</span>&nbsp;<span class="op" id="2660723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660726">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2660731">string</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660739">Addr</span>&nbsp;<span class="builtintype" id="2660744">string</span><br>
<span class="lineno"></span><span class="op" id="2660751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660754">func</span>&nbsp;<span class="op" id="2660759">(</span><span class="ident" id="2660760">e</span>&nbsp;<span class="op" id="2660762">*</span><span class="ident" id="2660763"><a href="/net/net.go.html#2660706">AddrError</a></span><span class="op" id="2660772">)</span>&nbsp;<span class="ident" id="2660774">Error</span><span class="op" id="2660779">(</span><span class="op" id="2660780">)</span>&nbsp;<span class="builtintype" id="2660782">string</span>&nbsp;<span class="op" id="2660789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660792">if</span>&nbsp;<span class="ident" id="2660795"><a href="/net/net.go.html#2660760">e</a></span>&nbsp;<span class="op" id="2660797">==</span>&nbsp;<span class="ident" id="2660800">nil</span>&nbsp;<span class="op" id="2660804">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660808">return</span>&nbsp;<span class="string" id="2660815">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2660824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660827">s</span>&nbsp;<span class="op" id="2660829">:=</span>&nbsp;<span class="ident" id="2660832"><a href="/net/net.go.html#2660760">e</a></span><span class="op" id="2660833">.</span><span class="ident" id="2660834">Err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660839">if</span>&nbsp;<span class="ident" id="2660842"><a href="/net/net.go.html#2660760">e</a></span><span class="op" id="2660843">.</span><span class="ident" id="2660844">Addr</span>&nbsp;<span class="op" id="2660849">!=</span>&nbsp;<span class="string" id="2660852">&#34;&#34;</span>&nbsp;<span class="op" id="2660855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2660859"><a href="/net/net.go.html#2660827">s</a></span>&nbsp;<span class="op" id="2660861">+=</span>&nbsp;<span class="string" id="2660864">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2660868">+</span>&nbsp;<span class="ident" id="2660870"><a href="/net/net.go.html#2660760">e</a></span><span class="op" id="2660871">.</span><span class="ident" id="2660872">Addr</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2660878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660881">return</span>&nbsp;<span class="ident" id="2660888"><a href="/net/net.go.html#2660827">s</a></span><br>
<span class="lineno"></span><span class="op" id="2660890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660893">func</span>&nbsp;<span class="op" id="2660898">(</span><span class="ident" id="2660899">e</span>&nbsp;<span class="op" id="2660901">*</span><span class="ident" id="2660902"><a href="/net/net.go.html#2660706">AddrError</a></span><span class="op" id="2660911">)</span>&nbsp;<span class="ident" id="2660913">Temporary</span><span class="op" id="2660922">(</span><span class="op" id="2660923">)</span>&nbsp;<span class="builtintype" id="2660925">bool</span>&nbsp;<span class="op" id="2660930">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660933">return</span>&nbsp;<span class="ident" id="2660940">false</span><br>
<span class="lineno"></span><span class="op" id="2660946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2660949">func</span>&nbsp;<span class="op" id="2660954">(</span><span class="ident" id="2660955">e</span>&nbsp;<span class="op" id="2660957">*</span><span class="ident" id="2660958"><a href="/net/net.go.html#2660706">AddrError</a></span><span class="op" id="2660967">)</span>&nbsp;<span class="ident" id="2660969">Timeout</span><span class="op" id="2660976">(</span><span class="op" id="2660977">)</span>&nbsp;<span class="builtintype" id="2660979">bool</span>&nbsp;<span class="op" id="2660984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2660987">return</span>&nbsp;<span class="ident" id="2660994">false</span><br>
<span class="lineno">370</span><span class="op" id="2661000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2661003">type</span>&nbsp;<span class="ident" id="2661008">UnknownNetworkError</span>&nbsp;<span class="builtintype" id="2661028">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2661036">func</span>&nbsp;<span class="op" id="2661041">(</span><span class="ident" id="2661042">e</span>&nbsp;<span class="ident" id="2661044"><a href="/net/net.go.html#2661008">UnknownNetworkError</a></span><span class="op" id="2661063">)</span>&nbsp;<span class="ident" id="2661065">Error</span><span class="op" id="2661070">(</span><span class="op" id="2661071">)</span>&nbsp;<span class="builtintype" id="2661073">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2661082">{</span>&nbsp;<span class="keyword" id="2661084">return</span>&nbsp;<span class="string" id="2661091">&#34;unknown&nbsp;network&nbsp;&#34;</span>&nbsp;<span class="op" id="2661110">+</span>&nbsp;<span class="builtintype" id="2661112">string</span><span class="op" id="2661118">(</span><span class="ident" id="2661119"><a href="/net/net.go.html#2661042">e</a></span><span class="op" id="2661120">)</span>&nbsp;<span class="op" id="2661122">}</span><br>
<span class="lineno">375</span><span class="keyword" id="2661124">func</span>&nbsp;<span class="op" id="2661129">(</span><span class="ident" id="2661130">e</span>&nbsp;<span class="ident" id="2661132"><a href="/net/net.go.html#2661008">UnknownNetworkError</a></span><span class="op" id="2661151">)</span>&nbsp;<span class="ident" id="2661153">Temporary</span><span class="op" id="2661162">(</span><span class="op" id="2661163">)</span>&nbsp;<span class="builtintype" id="2661165">bool</span>&nbsp;<span class="op" id="2661170">{</span>&nbsp;<span class="keyword" id="2661172">return</span>&nbsp;<span class="ident" id="2661179">false</span>&nbsp;<span class="op" id="2661185">}</span><br>
<span class="lineno"></span><span class="keyword" id="2661187">func</span>&nbsp;<span class="op" id="2661192">(</span><span class="ident" id="2661193">e</span>&nbsp;<span class="ident" id="2661195"><a href="/net/net.go.html#2661008">UnknownNetworkError</a></span><span class="op" id="2661214">)</span>&nbsp;<span class="ident" id="2661216">Timeout</span><span class="op" id="2661223">(</span><span class="op" id="2661224">)</span>&nbsp;<span class="builtintype" id="2661226">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2661233">{</span>&nbsp;<span class="keyword" id="2661235">return</span>&nbsp;<span class="ident" id="2661242">false</span>&nbsp;<span class="op" id="2661248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2661251">type</span>&nbsp;<span class="ident" id="2661256">InvalidAddrError</span>&nbsp;<span class="builtintype" id="2661273">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="2661281">func</span>&nbsp;<span class="op" id="2661286">(</span><span class="ident" id="2661287">e</span>&nbsp;<span class="ident" id="2661289"><a href="/net/net.go.html#2661256">InvalidAddrError</a></span><span class="op" id="2661305">)</span>&nbsp;<span class="ident" id="2661307">Error</span><span class="op" id="2661312">(</span><span class="op" id="2661313">)</span>&nbsp;<span class="builtintype" id="2661315">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2661324">{</span>&nbsp;<span class="keyword" id="2661326">return</span>&nbsp;<span class="builtintype" id="2661333">string</span><span class="op" id="2661339">(</span><span class="ident" id="2661340"><a href="/net/net.go.html#2661287">e</a></span><span class="op" id="2661341">)</span>&nbsp;<span class="op" id="2661343">}</span><br>
<span class="lineno"></span><span class="keyword" id="2661345">func</span>&nbsp;<span class="op" id="2661350">(</span><span class="ident" id="2661351">e</span>&nbsp;<span class="ident" id="2661353"><a href="/net/net.go.html#2661256">InvalidAddrError</a></span><span class="op" id="2661369">)</span>&nbsp;<span class="ident" id="2661371">Timeout</span><span class="op" id="2661378">(</span><span class="op" id="2661379">)</span>&nbsp;<span class="builtintype" id="2661381">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2661388">{</span>&nbsp;<span class="keyword" id="2661390">return</span>&nbsp;<span class="ident" id="2661397">false</span>&nbsp;<span class="op" id="2661403">}</span><br>
<span class="lineno"></span><span class="keyword" id="2661405">func</span>&nbsp;<span class="op" id="2661410">(</span><span class="ident" id="2661411">e</span>&nbsp;<span class="ident" id="2661413"><a href="/net/net.go.html#2661256">InvalidAddrError</a></span><span class="op" id="2661429">)</span>&nbsp;<span class="ident" id="2661431">Temporary</span><span class="op" id="2661440">(</span><span class="op" id="2661441">)</span>&nbsp;<span class="builtintype" id="2661443">bool</span>&nbsp;<span class="op" id="2661448">{</span>&nbsp;<span class="keyword" id="2661450">return</span>&nbsp;<span class="ident" id="2661457">false</span>&nbsp;<span class="op" id="2661463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2661466">//&nbsp;DNSConfigError&nbsp;represents&nbsp;an&nbsp;error&nbsp;reading&nbsp;the&nbsp;machine&#39;s&nbsp;DNS&nbsp;configuration.</span><br>
<span class="lineno">385</span><span class="keyword" id="2661545">type</span>&nbsp;<span class="ident" id="2661550">DNSConfigError</span>&nbsp;<span class="keyword" id="2661565">struct</span>&nbsp;<span class="op" id="2661572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2661575">Err</span>&nbsp;<span class="builtintype" id="2661579">error</span><br>
<span class="lineno"></span><span class="op" id="2661585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2661588">func</span>&nbsp;<span class="op" id="2661593">(</span><span class="ident" id="2661594">e</span>&nbsp;<span class="op" id="2661596">*</span><span class="ident" id="2661597"><a href="/net/net.go.html#2661550">DNSConfigError</a></span><span class="op" id="2661611">)</span>&nbsp;<span class="ident" id="2661613">Error</span><span class="op" id="2661618">(</span><span class="op" id="2661619">)</span>&nbsp;<span class="builtintype" id="2661621">string</span>&nbsp;<span class="op" id="2661628">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2661631">return</span>&nbsp;<span class="string" id="2661638">&#34;error&nbsp;reading&nbsp;DNS&nbsp;config:&nbsp;&#34;</span>&nbsp;<span class="op" id="2661667">+</span>&nbsp;<span class="ident" id="2661669"><a href="/net/net.go.html#2661594">e</a></span><span class="op" id="2661670">.</span><span class="ident" id="2661671">Err</span><span class="op" id="2661674">.</span><span class="ident" id="2661675">Error</span><span class="op" id="2661680">(</span><span class="op" id="2661681">)</span><br>
<span class="lineno"></span><span class="op" id="2661683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2661686">func</span>&nbsp;<span class="op" id="2661691">(</span><span class="ident" id="2661692">e</span>&nbsp;<span class="op" id="2661694">*</span><span class="ident" id="2661695"><a href="/net/net.go.html#2661550">DNSConfigError</a></span><span class="op" id="2661709">)</span>&nbsp;<span class="ident" id="2661711">Timeout</span><span class="op" id="2661718">(</span><span class="op" id="2661719">)</span>&nbsp;<span class="builtintype" id="2661721">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2661728">{</span>&nbsp;<span class="keyword" id="2661730">return</span>&nbsp;<span class="ident" id="2661737">false</span>&nbsp;<span class="op" id="2661743">}</span><br>
<span class="lineno"></span><span class="keyword" id="2661745">func</span>&nbsp;<span class="op" id="2661750">(</span><span class="ident" id="2661751">e</span>&nbsp;<span class="op" id="2661753">*</span><span class="ident" id="2661754"><a href="/net/net.go.html#2661550">DNSConfigError</a></span><span class="op" id="2661768">)</span>&nbsp;<span class="ident" id="2661770">Temporary</span><span class="op" id="2661779">(</span><span class="op" id="2661780">)</span>&nbsp;<span class="builtintype" id="2661782">bool</span>&nbsp;<span class="op" id="2661787">{</span>&nbsp;<span class="keyword" id="2661789">return</span>&nbsp;<span class="ident" id="2661796">false</span>&nbsp;<span class="op" id="2661802">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span><span class="keyword" id="2661805">type</span>&nbsp;<span class="ident" id="2661810">writerOnly</span>&nbsp;<span class="keyword" id="2661821">struct</span>&nbsp;<span class="op" id="2661828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2661831"><a href="/net/net.go.html#2652152">io</a></span><span class="op" id="2661833">.</span><span class="ident" id="2661834">Writer</span><br>
<span class="lineno"></span><span class="op" id="2661841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">400</span><span class="comment" id="2661844">//&nbsp;Fallback&nbsp;implementation&nbsp;of&nbsp;io.ReaderFrom&#39;s&nbsp;ReadFrom,&nbsp;when&nbsp;sendfile&nbsp;isn&#39;t</span><br>
<span class="lineno"></span><span class="comment" id="2661920">//&nbsp;applicable.</span><br>
<span class="lineno"></span><span class="keyword" id="2661935">func</span>&nbsp;<span class="ident" id="2661940">genericReadFrom</span><span class="op" id="2661955">(</span><span class="ident" id="2661956">w</span>&nbsp;<span class="ident" id="2661958"><a href="/net/net.go.html#2652152">io</a></span><span class="op" id="2661960">.</span><span class="ident" id="2661961">Writer</span><span class="op" id="2661967">,</span>&nbsp;<span class="ident" id="2661969">r</span>&nbsp;<span class="ident" id="2661971"><a href="/net/net.go.html#2652152">io</a></span><span class="op" id="2661973">.</span><span class="ident" id="2661974">Reader</span><span class="op" id="2661980">)</span>&nbsp;<span class="op" id="2661982">(</span><span class="ident" id="2661983">n</span>&nbsp;<span class="ident" id="2661985">int64</span><span class="op" id="2661990">,</span>&nbsp;<span class="ident" id="2661992">err</span>&nbsp;<span class="builtintype" id="2661996">error</span><span class="op" id="2662001">)</span>&nbsp;<span class="op" id="2662003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2662006">//&nbsp;Use&nbsp;wrapper&nbsp;to&nbsp;hide&nbsp;existing&nbsp;r.ReadFrom&nbsp;from&nbsp;io.Copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2662064">return</span>&nbsp;<span class="ident" id="2662071"><a href="/net/net.go.html#2652152">io</a></span><span class="op" id="2662073">.</span><span class="ident" id="2662074">Copy</span><span class="op" id="2662078">(</span><span class="ident" id="2662079"><a href="/net/net.go.html#2661810">writerOnly</a></span><span class="op" id="2662089">{</span><span class="ident" id="2662090"><a href="/net/net.go.html#2661956">w</a></span><span class="op" id="2662091">}</span><span class="op" id="2662092">,</span>&nbsp;<span class="ident" id="2662094"><a href="/net/net.go.html#2661969">r</a></span><span class="op" id="2662095">)</span><br>
<span class="lineno">405</span><span class="op" id="2662097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2662100">//&nbsp;Limit&nbsp;the&nbsp;number&nbsp;of&nbsp;concurrent&nbsp;cgo-using&nbsp;goroutines,&nbsp;because</span><br>
<span class="lineno"></span><span class="comment" id="2662164">//&nbsp;each&nbsp;will&nbsp;block&nbsp;an&nbsp;entire&nbsp;operating&nbsp;system&nbsp;thread.&nbsp;The&nbsp;usual&nbsp;culprit</span><br>
<span class="lineno"></span><span class="comment" id="2662236">//&nbsp;is&nbsp;resolving&nbsp;many&nbsp;DNS&nbsp;names&nbsp;in&nbsp;separate&nbsp;goroutines&nbsp;but&nbsp;the&nbsp;DNS</span><br>
<span class="lineno">410</span><span class="comment" id="2662302">//&nbsp;server&nbsp;is&nbsp;not&nbsp;responding.&nbsp;Then&nbsp;the&nbsp;many&nbsp;lookups&nbsp;each&nbsp;use&nbsp;a&nbsp;different</span><br>
<span class="lineno"></span><span class="comment" id="2662374">//&nbsp;thread,&nbsp;and&nbsp;the&nbsp;system&nbsp;or&nbsp;the&nbsp;program&nbsp;runs&nbsp;out&nbsp;of&nbsp;threads.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2662437">var</span>&nbsp;<span class="ident" id="2662441">threadLimit</span>&nbsp;<span class="op" id="2662453">=</span>&nbsp;<span class="builtinfunc" id="2662455">make</span><span class="op" id="2662459">(</span><span class="keyword" id="2662460">chan</span>&nbsp;<span class="keyword" id="2662465">struct</span><span class="op" id="2662471">{</span><span class="op" id="2662472">}</span><span class="op" id="2662473">,</span>&nbsp;<span class="num" id="2662475">500</span><span class="op" id="2662478">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">415</span><span class="comment" id="2662481">//&nbsp;Using&nbsp;send&nbsp;for&nbsp;acquire&nbsp;is&nbsp;fine&nbsp;here&nbsp;because&nbsp;we&nbsp;are&nbsp;not&nbsp;using&nbsp;this</span><br>
<span class="lineno"></span><span class="comment" id="2662550">//&nbsp;to&nbsp;protect&nbsp;any&nbsp;memory.&nbsp;All&nbsp;we&nbsp;care&nbsp;about&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;goroutines</span><br>
<span class="lineno"></span><span class="comment" id="2662622">//&nbsp;making&nbsp;calls&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2662650">func</span>&nbsp;<span class="ident" id="2662655">acquireThread</span><span class="op" id="2662668">(</span><span class="op" id="2662669">)</span>&nbsp;<span class="op" id="2662671">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2662674"><a href="/net/net.go.html#2662441">threadLimit</a></span>&nbsp;<span class="op" id="2662686">&lt;-</span>&nbsp;<span class="keyword" id="2662689">struct</span><span class="op" id="2662695">{</span><span class="op" id="2662696">}</span><span class="op" id="2662697">{</span><span class="op" id="2662698">}</span><br>
<span class="lineno"></span><span class="op" id="2662700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2662703">func</span>&nbsp;<span class="ident" id="2662708">releaseThread</span><span class="op" id="2662721">(</span><span class="op" id="2662722">)</span>&nbsp;<span class="op" id="2662724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2662727">&lt;-</span><span class="ident" id="2662729"><a href="/net/net.go.html#2662441">threadLimit</a></span><br>
<span class="lineno">425</span><span class="op" id="2662741">}</span>
</div>
</body>
</html>
