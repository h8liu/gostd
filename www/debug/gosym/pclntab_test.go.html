<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7726381">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7726437">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7726491">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7726542">package</span>&nbsp;<span class="ident" id="7726550">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7726557">import</span>&nbsp;<span class="op" id="7726564">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726567">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726580">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726587">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726600">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726606">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726617">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726634">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726645">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7726656">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7726666">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7726669">var</span>&nbsp;<span class="op" id="7726673">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726676">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7726693">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726701">pclinetestBinary</span>&nbsp;<span class="builtintype" id="7726718">string</span><br>
<span class="lineno"></span><span class="op" id="7726725">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7726728">func</span>&nbsp;<span class="ident" id="7726733">dotest</span><span class="op" id="7726739">(</span><span class="ident" id="7726740">self</span>&nbsp;<span class="builtintype" id="7726745">bool</span><span class="op" id="7726749">)</span>&nbsp;<span class="builtintype" id="7726751">bool</span>&nbsp;<span class="op" id="7726756">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7726759">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7726803">if</span>&nbsp;<span class="ident" id="7726806"><a href="/debug/gosym/pclntab_test.go.html#7726634">runtime</a></span><span class="op" id="7726813">.</span><span class="ident" id="7726814">GOARCH</span>&nbsp;<span class="op" id="7726821">!=</span>&nbsp;<span class="string" id="7726824">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7726832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7726836">return</span>&nbsp;<span class="builtintype" id="7726843">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7726850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7726853">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7726907">if</span>&nbsp;<span class="ident" id="7726910"><a href="/debug/gosym/pclntab_test.go.html#7726740">self</a></span>&nbsp;<span class="op" id="7726915">&amp;&amp;</span>&nbsp;<span class="ident" id="7726918"><a href="/debug/gosym/pclntab_test.go.html#7726634">runtime</a></span><span class="op" id="7726925">.</span><span class="ident" id="7726926">GOOS</span>&nbsp;<span class="op" id="7726931">!=</span>&nbsp;<span class="string" id="7726934">&#34;linux&#34;</span>&nbsp;<span class="op" id="7726942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7726946">return</span>&nbsp;<span class="builtintype" id="7726953">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7726960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7726963">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727004">if</span>&nbsp;<span class="ident" id="7727007"><a href="/debug/gosym/pclntab_test.go.html#7726634">runtime</a></span><span class="op" id="7727014">.</span><span class="ident" id="7727015">GOOS</span>&nbsp;<span class="op" id="7727020">==</span>&nbsp;<span class="string" id="7727023">&#34;windows&#34;</span>&nbsp;<span class="op" id="7727033">||</span>&nbsp;<span class="ident" id="7727036"><a href="/debug/gosym/pclntab_test.go.html#7726634">runtime</a></span><span class="op" id="7727043">.</span><span class="ident" id="7727044">GOOS</span>&nbsp;<span class="op" id="7727049">==</span>&nbsp;<span class="string" id="7727052">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7727060">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727064">return</span>&nbsp;<span class="builtintype" id="7727071">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727081">if</span>&nbsp;<span class="ident" id="7727084"><a href="/debug/gosym/pclntab_test.go.html#7726701">pclinetestBinary</a></span>&nbsp;<span class="op" id="7727101">!=</span>&nbsp;<span class="string" id="7727104">&#34;&#34;</span>&nbsp;<span class="op" id="7727107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727111">return</span>&nbsp;<span class="builtintype" id="7727118">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727124">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727127">var</span>&nbsp;<span class="ident" id="7727131">err</span>&nbsp;<span class="builtintype" id="7727135">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727142"><a href="/debug/gosym/pclntab_test.go.html#7726676">pclineTempDir</a></span><span class="op" id="7727155">,</span>&nbsp;<span class="ident" id="7727157"><a href="/debug/gosym/pclntab_test.go.html#7727131">err</a></span>&nbsp;<span class="op" id="7727161">=</span>&nbsp;<span class="ident" id="7727163"><a href="/debug/gosym/pclntab_test.go.html#7726587">ioutil</a></span><span class="op" id="7727169">.</span><span class="ident" id="7727170">TempDir</span><span class="op" id="7727177">(</span><span class="string" id="7727178">&#34;&#34;</span><span class="op" id="7727180">,</span>&nbsp;<span class="string" id="7727182">&#34;pclinetest&#34;</span><span class="op" id="7727194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727197">if</span>&nbsp;<span class="ident" id="7727200"><a href="/debug/gosym/pclntab_test.go.html#7727131">err</a></span>&nbsp;<span class="op" id="7727204">!=</span>&nbsp;<span class="ident" id="7727207">nil</span>&nbsp;<span class="op" id="7727211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7727215">panic</span><span class="op" id="7727220">(</span><span class="ident" id="7727221"><a href="/debug/gosym/pclntab_test.go.html#7727131">err</a></span><span class="op" id="7727224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727227">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727230">if</span>&nbsp;<span class="ident" id="7727233"><a href="/debug/gosym/pclntab_test.go.html#7726645">strings</a></span><span class="op" id="7727240">.</span><span class="ident" id="7727241">Contains</span><span class="op" id="7727249">(</span><span class="ident" id="7727250"><a href="/debug/gosym/pclntab_test.go.html#7726676">pclineTempDir</a></span><span class="op" id="7727263">,</span>&nbsp;<span class="string" id="7727265">&#34;&nbsp;&#34;</span><span class="op" id="7727268">)</span>&nbsp;<span class="op" id="7727270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7727274">panic</span><span class="op" id="7727279">(</span><span class="string" id="7727280">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="7727309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7727315">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7727371">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7727439">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727500"><a href="/debug/gosym/pclntab_test.go.html#7726701">pclinetestBinary</a></span>&nbsp;<span class="op" id="7727517">=</span>&nbsp;<span class="ident" id="7727519"><a href="/debug/gosym/pclntab_test.go.html#7726617">filepath</a></span><span class="op" id="7727527">.</span><span class="ident" id="7727528">Join</span><span class="op" id="7727532">(</span><span class="ident" id="7727533"><a href="/debug/gosym/pclntab_test.go.html#7726676">pclineTempDir</a></span><span class="op" id="7727546">,</span>&nbsp;<span class="string" id="7727548">&#34;pclinetest&#34;</span><span class="op" id="7727560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727563">command</span>&nbsp;<span class="op" id="7727571">:=</span>&nbsp;<span class="ident" id="7727574"><a href="/debug/gosym/pclntab_test.go.html#7726580">fmt</a></span><span class="op" id="7727577">.</span><span class="ident" id="7727578">Sprintf</span><span class="op" id="7727585">(</span><span class="string" id="7727586">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="7727663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727667"><a href="/debug/gosym/pclntab_test.go.html#7726701">pclinetestBinary</a></span><span class="op" id="7727683">,</span>&nbsp;<span class="ident" id="7727685"><a href="/debug/gosym/pclntab_test.go.html#7726701">pclinetestBinary</a></span><span class="op" id="7727701">,</span>&nbsp;<span class="ident" id="7727703"><a href="/debug/gosym/pclntab_test.go.html#7726701">pclinetestBinary</a></span><span class="op" id="7727719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727722">cmd</span>&nbsp;<span class="op" id="7727726">:=</span>&nbsp;<span class="ident" id="7727729"><a href="/debug/gosym/pclntab_test.go.html#7726606">exec</a></span><span class="op" id="7727733">.</span><span class="ident" id="7727734">Command</span><span class="op" id="7727741">(</span><span class="string" id="7727742">&#34;sh&#34;</span><span class="op" id="7727746">,</span>&nbsp;<span class="string" id="7727748">&#34;-c&#34;</span><span class="op" id="7727752">,</span>&nbsp;<span class="ident" id="7727754"><a href="/debug/gosym/pclntab_test.go.html#7727563">command</a></span><span class="op" id="7727761">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727764"><a href="/debug/gosym/pclntab_test.go.html#7727722">cmd</a></span><span class="op" id="7727767">.</span><span class="ident" id="7727768">Stdout</span>&nbsp;<span class="op" id="7727775">=</span>&nbsp;<span class="ident" id="7727777"><a href="/debug/gosym/pclntab_test.go.html#7726600">os</a></span><span class="op" id="7727779">.</span><span class="ident" id="7727780">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727788"><a href="/debug/gosym/pclntab_test.go.html#7727722">cmd</a></span><span class="op" id="7727791">.</span><span class="ident" id="7727792">Stderr</span>&nbsp;<span class="op" id="7727799">=</span>&nbsp;<span class="ident" id="7727801"><a href="/debug/gosym/pclntab_test.go.html#7726600">os</a></span><span class="op" id="7727803">.</span><span class="ident" id="7727804">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727812">if</span>&nbsp;<span class="ident" id="7727815">err</span>&nbsp;<span class="op" id="7727819">:=</span>&nbsp;<span class="ident" id="7727822"><a href="/debug/gosym/pclntab_test.go.html#7727722">cmd</a></span><span class="op" id="7727825">.</span><span class="ident" id="7727826">Run</span><span class="op" id="7727829">(</span><span class="op" id="7727830">)</span><span class="op" id="7727831">;</span>&nbsp;<span class="ident" id="7727833"><a href="/debug/gosym/pclntab_test.go.html#7727815">err</a></span>&nbsp;<span class="op" id="7727837">!=</span>&nbsp;<span class="ident" id="7727840">nil</span>&nbsp;<span class="op" id="7727844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7727848">panic</span><span class="op" id="7727853">(</span><span class="ident" id="7727854"><a href="/debug/gosym/pclntab_test.go.html#7727815">err</a></span><span class="op" id="7727857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727860">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727863">return</span>&nbsp;<span class="builtintype" id="7727870">true</span><br>
<span class="lineno"></span><span class="op" id="7727875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7727878">func</span>&nbsp;<span class="ident" id="7727883">endtest</span><span class="op" id="7727890">(</span><span class="op" id="7727891">)</span>&nbsp;<span class="op" id="7727893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727896">if</span>&nbsp;<span class="ident" id="7727899"><a href="/debug/gosym/pclntab_test.go.html#7726676">pclineTempDir</a></span>&nbsp;<span class="op" id="7727913">!=</span>&nbsp;<span class="string" id="7727916">&#34;&#34;</span>&nbsp;<span class="op" id="7727919">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727923"><a href="/debug/gosym/pclntab_test.go.html#7726600">os</a></span><span class="op" id="7727925">.</span><span class="ident" id="7727926">RemoveAll</span><span class="op" id="7727935">(</span><span class="ident" id="7727936"><a href="/debug/gosym/pclntab_test.go.html#7726676">pclineTempDir</a></span><span class="op" id="7727949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727953"><a href="/debug/gosym/pclntab_test.go.html#7726676">pclineTempDir</a></span>&nbsp;<span class="op" id="7727967">=</span>&nbsp;<span class="string" id="7727969">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727974"><a href="/debug/gosym/pclntab_test.go.html#7726701">pclinetestBinary</a></span>&nbsp;<span class="op" id="7727991">=</span>&nbsp;<span class="string" id="7727993">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727997">}</span><br>
<span class="lineno"></span><span class="op" id="7727999">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7728002">func</span>&nbsp;<span class="ident" id="7728007">getTable</span><span class="op" id="7728015">(</span><span class="ident" id="7728016">t</span>&nbsp;<span class="op" id="7728018">*</span><span class="ident" id="7728019"><a href="/debug/gosym/pclntab_test.go.html#7726656">testing</a></span><span class="op" id="7728026">.</span><span class="ident" id="7728027">T</span><span class="op" id="7728028">)</span>&nbsp;<span class="op" id="7728030">*</span><span class="ident" id="7728031"><a href="/debug/gosym/symtab.go.html#6412792">Table</a></span>&nbsp;<span class="op" id="7728037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728040">f</span><span class="op" id="7728041">,</span>&nbsp;<span class="ident" id="7728043">tab</span>&nbsp;<span class="op" id="7728047">:=</span>&nbsp;<span class="ident" id="7728050"><a href="/debug/gosym/pclntab_test.go.html#7728102">crack</a></span><span class="op" id="7728055">(</span><span class="ident" id="7728056"><a href="/debug/gosym/pclntab_test.go.html#7726600">os</a></span><span class="op" id="7728058">.</span><span class="ident" id="7728059">Args</span><span class="op" id="7728063">[</span><span class="num" id="7728064">0</span><span class="op" id="7728065">]</span><span class="op" id="7728066">,</span>&nbsp;<span class="ident" id="7728068"><a href="/debug/gosym/pclntab_test.go.html#7728016">t</a></span><span class="op" id="7728069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728072"><a href="/debug/gosym/pclntab_test.go.html#7728040">f</a></span><span class="op" id="7728073">.</span><span class="ident" id="7728074">Close</span><span class="op" id="7728079">(</span><span class="op" id="7728080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728083">return</span>&nbsp;<span class="ident" id="7728090"><a href="/debug/gosym/pclntab_test.go.html#7728043">tab</a></span><br>
<span class="lineno">75</span><span class="op" id="7728094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7728097">func</span>&nbsp;<span class="ident" id="7728102">crack</span><span class="op" id="7728107">(</span><span class="ident" id="7728108">file</span>&nbsp;<span class="builtintype" id="7728113">string</span><span class="op" id="7728119">,</span>&nbsp;<span class="ident" id="7728121">t</span>&nbsp;<span class="op" id="7728123">*</span><span class="ident" id="7728124"><a href="/debug/gosym/pclntab_test.go.html#7726656">testing</a></span><span class="op" id="7728131">.</span><span class="ident" id="7728132">T</span><span class="op" id="7728133">)</span>&nbsp;<span class="op" id="7728135">(</span><span class="op" id="7728136">*</span><span class="ident" id="7728137"><a href="/debug/gosym/pclntab_test.go.html#7726567">elf</a></span><span class="op" id="7728140">.</span><span class="ident" id="7728141">File</span><span class="op" id="7728145">,</span>&nbsp;<span class="op" id="7728147">*</span><span class="ident" id="7728148"><a href="/debug/gosym/symtab.go.html#6412792">Table</a></span><span class="op" id="7728153">)</span>&nbsp;<span class="op" id="7728155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7728158">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728172">f</span><span class="op" id="7728173">,</span>&nbsp;<span class="ident" id="7728175">err</span>&nbsp;<span class="op" id="7728179">:=</span>&nbsp;<span class="ident" id="7728182"><a href="/debug/gosym/pclntab_test.go.html#7726567">elf</a></span><span class="op" id="7728185">.</span><span class="ident" id="7728186">Open</span><span class="op" id="7728190">(</span><span class="ident" id="7728191"><a href="/debug/gosym/pclntab_test.go.html#7728108">file</a></span><span class="op" id="7728195">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728198">if</span>&nbsp;<span class="ident" id="7728201"><a href="/debug/gosym/pclntab_test.go.html#7728175">err</a></span>&nbsp;<span class="op" id="7728205">!=</span>&nbsp;<span class="ident" id="7728208">nil</span>&nbsp;<span class="op" id="7728212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728216"><a href="/debug/gosym/pclntab_test.go.html#7728121">t</a></span><span class="op" id="7728217">.</span><span class="ident" id="7728218">Fatal</span><span class="op" id="7728223">(</span><span class="ident" id="7728224"><a href="/debug/gosym/pclntab_test.go.html#7728175">err</a></span><span class="op" id="7728227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728233">return</span>&nbsp;<span class="ident" id="7728240"><a href="/debug/gosym/pclntab_test.go.html#7728266">parse</a></span><span class="op" id="7728245">(</span><span class="ident" id="7728246"><a href="/debug/gosym/pclntab_test.go.html#7728108">file</a></span><span class="op" id="7728250">,</span>&nbsp;<span class="ident" id="7728252"><a href="/debug/gosym/pclntab_test.go.html#7728172">f</a></span><span class="op" id="7728253">,</span>&nbsp;<span class="ident" id="7728255"><a href="/debug/gosym/pclntab_test.go.html#7728121">t</a></span><span class="op" id="7728256">)</span><br>
<span class="lineno"></span><span class="op" id="7728258">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="7728261">func</span>&nbsp;<span class="ident" id="7728266">parse</span><span class="op" id="7728271">(</span><span class="ident" id="7728272">file</span>&nbsp;<span class="builtintype" id="7728277">string</span><span class="op" id="7728283">,</span>&nbsp;<span class="ident" id="7728285">f</span>&nbsp;<span class="op" id="7728287">*</span><span class="ident" id="7728288"><a href="/debug/gosym/pclntab_test.go.html#7726567">elf</a></span><span class="op" id="7728291">.</span><span class="ident" id="7728292">File</span><span class="op" id="7728296">,</span>&nbsp;<span class="ident" id="7728298">t</span>&nbsp;<span class="op" id="7728300">*</span><span class="ident" id="7728301"><a href="/debug/gosym/pclntab_test.go.html#7726656">testing</a></span><span class="op" id="7728308">.</span><span class="ident" id="7728309">T</span><span class="op" id="7728310">)</span>&nbsp;<span class="op" id="7728312">(</span><span class="op" id="7728313">*</span><span class="ident" id="7728314"><a href="/debug/gosym/pclntab_test.go.html#7726567">elf</a></span><span class="op" id="7728317">.</span><span class="ident" id="7728318">File</span><span class="op" id="7728322">,</span>&nbsp;<span class="op" id="7728324">*</span><span class="ident" id="7728325"><a href="/debug/gosym/symtab.go.html#6412792">Table</a></span><span class="op" id="7728330">)</span>&nbsp;<span class="op" id="7728332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728335">symdat</span><span class="op" id="7728341">,</span>&nbsp;<span class="ident" id="7728343">err</span>&nbsp;<span class="op" id="7728347">:=</span>&nbsp;<span class="ident" id="7728350"><a href="/debug/gosym/pclntab_test.go.html#7728285">f</a></span><span class="op" id="7728351">.</span><span class="ident" id="7728352">Section</span><span class="op" id="7728359">(</span><span class="string" id="7728360">&#34;.gosymtab&#34;</span><span class="op" id="7728371">)</span><span class="op" id="7728372">.</span><span class="ident" id="7728373">Data</span><span class="op" id="7728377">(</span><span class="op" id="7728378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728381">if</span>&nbsp;<span class="ident" id="7728384"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span>&nbsp;<span class="op" id="7728388">!=</span>&nbsp;<span class="ident" id="7728391">nil</span>&nbsp;<span class="op" id="7728395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728399"><a href="/debug/gosym/pclntab_test.go.html#7728285">f</a></span><span class="op" id="7728400">.</span><span class="ident" id="7728401">Close</span><span class="op" id="7728406">(</span><span class="op" id="7728407">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728411"><a href="/debug/gosym/pclntab_test.go.html#7728298">t</a></span><span class="op" id="7728412">.</span><span class="ident" id="7728413">Fatalf</span><span class="op" id="7728419">(</span><span class="string" id="7728420">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7728445">,</span>&nbsp;<span class="ident" id="7728447"><a href="/debug/gosym/pclntab_test.go.html#7728272">file</a></span><span class="op" id="7728451">,</span>&nbsp;<span class="ident" id="7728453"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span><span class="op" id="7728456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728462">pclndat</span><span class="op" id="7728469">,</span>&nbsp;<span class="ident" id="7728471"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span>&nbsp;<span class="op" id="7728475">:=</span>&nbsp;<span class="ident" id="7728478"><a href="/debug/gosym/pclntab_test.go.html#7728285">f</a></span><span class="op" id="7728479">.</span><span class="ident" id="7728480">Section</span><span class="op" id="7728487">(</span><span class="string" id="7728488">&#34;.gopclntab&#34;</span><span class="op" id="7728500">)</span><span class="op" id="7728501">.</span><span class="ident" id="7728502">Data</span><span class="op" id="7728506">(</span><span class="op" id="7728507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728510">if</span>&nbsp;<span class="ident" id="7728513"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span>&nbsp;<span class="op" id="7728517">!=</span>&nbsp;<span class="ident" id="7728520">nil</span>&nbsp;<span class="op" id="7728524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728528"><a href="/debug/gosym/pclntab_test.go.html#7728285">f</a></span><span class="op" id="7728529">.</span><span class="ident" id="7728530">Close</span><span class="op" id="7728535">(</span><span class="op" id="7728536">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728540"><a href="/debug/gosym/pclntab_test.go.html#7728298">t</a></span><span class="op" id="7728541">.</span><span class="ident" id="7728542">Fatalf</span><span class="op" id="7728548">(</span><span class="string" id="7728549">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="7728575">,</span>&nbsp;<span class="ident" id="7728577"><a href="/debug/gosym/pclntab_test.go.html#7728272">file</a></span><span class="op" id="7728581">,</span>&nbsp;<span class="ident" id="7728583"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span><span class="op" id="7728586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728593">pcln</span>&nbsp;<span class="op" id="7728598">:=</span>&nbsp;<span class="ident" id="7728601"><a href="/debug/gosym/pclntab.go.html#6401247">NewLineTable</a></span><span class="op" id="7728613">(</span><span class="ident" id="7728614"><a href="/debug/gosym/pclntab_test.go.html#7728462">pclndat</a></span><span class="op" id="7728621">,</span>&nbsp;<span class="ident" id="7728623"><a href="/debug/gosym/pclntab_test.go.html#7728285">f</a></span><span class="op" id="7728624">.</span><span class="ident" id="7728625">Section</span><span class="op" id="7728632">(</span><span class="string" id="7728633">&#34;.text&#34;</span><span class="op" id="7728640">)</span><span class="op" id="7728641">.</span><span class="ident" id="7728642">Addr</span><span class="op" id="7728646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728649">tab</span><span class="op" id="7728652">,</span>&nbsp;<span class="ident" id="7728654"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span>&nbsp;<span class="op" id="7728658">:=</span>&nbsp;<span class="ident" id="7728661"><a href="/debug/gosym/symtab.go.html#6416413">NewTable</a></span><span class="op" id="7728669">(</span><span class="ident" id="7728670"><a href="/debug/gosym/pclntab_test.go.html#7728335">symdat</a></span><span class="op" id="7728676">,</span>&nbsp;<span class="ident" id="7728678"><a href="/debug/gosym/pclntab_test.go.html#7728593">pcln</a></span><span class="op" id="7728682">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728685">if</span>&nbsp;<span class="ident" id="7728688"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span>&nbsp;<span class="op" id="7728692">!=</span>&nbsp;<span class="ident" id="7728695">nil</span>&nbsp;<span class="op" id="7728699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728703"><a href="/debug/gosym/pclntab_test.go.html#7728285">f</a></span><span class="op" id="7728704">.</span><span class="ident" id="7728705">Close</span><span class="op" id="7728710">(</span><span class="op" id="7728711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728715"><a href="/debug/gosym/pclntab_test.go.html#7728298">t</a></span><span class="op" id="7728716">.</span><span class="ident" id="7728717">Fatalf</span><span class="op" id="7728723">(</span><span class="string" id="7728724">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7728749">,</span>&nbsp;<span class="ident" id="7728751"><a href="/debug/gosym/pclntab_test.go.html#7728272">file</a></span><span class="op" id="7728755">,</span>&nbsp;<span class="ident" id="7728757"><a href="/debug/gosym/pclntab_test.go.html#7728343">err</a></span><span class="op" id="7728760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728767">return</span>&nbsp;<span class="ident" id="7728774"><a href="/debug/gosym/pclntab_test.go.html#7728285">f</a></span><span class="op" id="7728775">,</span>&nbsp;<span class="ident" id="7728777"><a href="/debug/gosym/pclntab_test.go.html#7728649">tab</a></span><br>
<span class="lineno"></span><span class="op" id="7728781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7728784">var</span>&nbsp;<span class="ident" id="7728788">goarch</span>&nbsp;<span class="op" id="7728795">=</span>&nbsp;<span class="ident" id="7728797"><a href="/debug/gosym/pclntab_test.go.html#7726600">os</a></span><span class="op" id="7728799">.</span><span class="ident" id="7728800">Getenv</span><span class="op" id="7728806">(</span><span class="string" id="7728807">&#34;O&#34;</span><span class="op" id="7728810">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7728813">func</span>&nbsp;<span class="ident" id="7728818">TestLineFromAline</span><span class="op" id="7728835">(</span><span class="ident" id="7728836">t</span>&nbsp;<span class="op" id="7728838">*</span><span class="ident" id="7728839"><a href="/debug/gosym/pclntab_test.go.html#7726656">testing</a></span><span class="op" id="7728846">.</span><span class="ident" id="7728847">T</span><span class="op" id="7728848">)</span>&nbsp;<span class="op" id="7728850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728853">if</span>&nbsp;<span class="op" id="7728856">!</span><span class="ident" id="7728857"><a href="/debug/gosym/pclntab_test.go.html#7726733">dotest</a></span><span class="op" id="7728863">(</span><span class="builtintype" id="7728864">true</span><span class="op" id="7728868">)</span>&nbsp;<span class="op" id="7728870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728874">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728885">defer</span>&nbsp;<span class="ident" id="7728891"><a href="/debug/gosym/pclntab_test.go.html#7727883">endtest</a></span><span class="op" id="7728898">(</span><span class="op" id="7728899">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728903">tab</span>&nbsp;<span class="op" id="7728907">:=</span>&nbsp;<span class="ident" id="7728910"><a href="/debug/gosym/pclntab_test.go.html#7728007">getTable</a></span><span class="op" id="7728918">(</span><span class="ident" id="7728919"><a href="/debug/gosym/pclntab_test.go.html#7728836">t</a></span><span class="op" id="7728920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728923">if</span>&nbsp;<span class="ident" id="7728926"><a href="/debug/gosym/pclntab_test.go.html#7728903">tab</a></span><span class="op" id="7728929">.</span><span class="ident" id="7728930">go12line</span>&nbsp;<span class="op" id="7728939">!=</span>&nbsp;<span class="ident" id="7728942">nil</span>&nbsp;<span class="op" id="7728946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7728950">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728996"><a href="/debug/gosym/pclntab_test.go.html#7728836">t</a></span><span class="op" id="7728997">.</span><span class="ident" id="7728998">Skip</span><span class="op" id="7729002">(</span><span class="string" id="7729003">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7729040">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7729047">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729072">pkg</span>&nbsp;<span class="op" id="7729076">:=</span>&nbsp;<span class="ident" id="7729079"><a href="/debug/gosym/pclntab_test.go.html#7728903">tab</a></span><span class="op" id="7729082">.</span><span class="ident" id="7729083">LookupFunc</span><span class="op" id="7729093">(</span><span class="string" id="7729094">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="7729125">)</span><span class="op" id="7729126">.</span><span class="ident" id="7729127">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729132">if</span>&nbsp;<span class="ident" id="7729135"><a href="/debug/gosym/pclntab_test.go.html#7729072">pkg</a></span>&nbsp;<span class="op" id="7729139">==</span>&nbsp;<span class="ident" id="7729142">nil</span>&nbsp;<span class="op" id="7729146">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729150"><a href="/debug/gosym/pclntab_test.go.html#7728836">t</a></span><span class="op" id="7729151">.</span><span class="ident" id="7729152">Fatalf</span><span class="op" id="7729158">(</span><span class="string" id="7729159">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="7729168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7729175">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7729233">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729263">lastline</span>&nbsp;<span class="op" id="7729272">:=</span>&nbsp;<span class="builtinfunc" id="7729275">make</span><span class="op" id="7729279">(</span><span class="keyword" id="7729280">map</span><span class="op" id="7729283">[</span><span class="builtintype" id="7729284">string</span><span class="op" id="7729290">]</span><span class="builtintype" id="7729291">int</span><span class="op" id="7729294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729297">final</span>&nbsp;<span class="op" id="7729303">:=</span>&nbsp;<span class="op" id="7729306">-</span><span class="num" id="7729307">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729310">for</span>&nbsp;<span class="ident" id="7729314">i</span>&nbsp;<span class="op" id="7729316">:=</span>&nbsp;<span class="num" id="7729319">0</span><span class="op" id="7729320">;</span>&nbsp;<span class="ident" id="7729322"><a href="/debug/gosym/pclntab_test.go.html#7729314">i</a></span>&nbsp;<span class="op" id="7729324">&lt;</span>&nbsp;<span class="num" id="7729326">10000</span><span class="op" id="7729331">;</span>&nbsp;<span class="ident" id="7729333"><a href="/debug/gosym/pclntab_test.go.html#7729314">i</a></span><span class="op" id="7729334">++</span>&nbsp;<span class="op" id="7729337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729341">path</span><span class="op" id="7729345">,</span>&nbsp;<span class="ident" id="7729347">line</span>&nbsp;<span class="op" id="7729352">:=</span>&nbsp;<span class="ident" id="7729355"><a href="/debug/gosym/pclntab_test.go.html#7729072">pkg</a></span><span class="op" id="7729358">.</span><span class="ident" id="7729359">lineFromAline</span><span class="op" id="7729372">(</span><span class="ident" id="7729373"><a href="/debug/gosym/pclntab_test.go.html#7729314">i</a></span><span class="op" id="7729374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7729378">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729407">if</span>&nbsp;<span class="ident" id="7729410"><a href="/debug/gosym/pclntab_test.go.html#7729341">path</a></span>&nbsp;<span class="op" id="7729415">==</span>&nbsp;<span class="string" id="7729418">&#34;&#34;</span>&nbsp;<span class="op" id="7729421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729426">if</span>&nbsp;<span class="ident" id="7729429"><a href="/debug/gosym/pclntab_test.go.html#7729297">final</a></span>&nbsp;<span class="op" id="7729435">==</span>&nbsp;<span class="op" id="7729438">-</span><span class="num" id="7729439">1</span>&nbsp;<span class="op" id="7729441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729447"><a href="/debug/gosym/pclntab_test.go.html#7729297">final</a></span>&nbsp;<span class="op" id="7729453">=</span>&nbsp;<span class="ident" id="7729455"><a href="/debug/gosym/pclntab_test.go.html#7729314">i</a></span>&nbsp;<span class="op" id="7729457">-</span>&nbsp;<span class="num" id="7729459">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729469">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729480">}</span>&nbsp;<span class="keyword" id="7729482">else</span>&nbsp;<span class="keyword" id="7729487">if</span>&nbsp;<span class="ident" id="7729490"><a href="/debug/gosym/pclntab_test.go.html#7729297">final</a></span>&nbsp;<span class="op" id="7729496">!=</span>&nbsp;<span class="op" id="7729499">-</span><span class="num" id="7729500">1</span>&nbsp;<span class="op" id="7729502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729507"><a href="/debug/gosym/pclntab_test.go.html#7728836">t</a></span><span class="op" id="7729508">.</span><span class="ident" id="7729509">Fatalf</span><span class="op" id="7729515">(</span><span class="string" id="7729516">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="7729598">,</span>&nbsp;<span class="ident" id="7729600"><a href="/debug/gosym/pclntab_test.go.html#7729297">final</a></span><span class="op" id="7729605">,</span>&nbsp;<span class="ident" id="7729607"><a href="/debug/gosym/pclntab_test.go.html#7729314">i</a></span><span class="op" id="7729608">,</span>&nbsp;<span class="ident" id="7729610"><a href="/debug/gosym/pclntab_test.go.html#7729341">path</a></span><span class="op" id="7729614">,</span>&nbsp;<span class="ident" id="7729616"><a href="/debug/gosym/pclntab_test.go.html#7729347">line</a></span><span class="op" id="7729620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729624">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7729628">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729685">if</span>&nbsp;<span class="ident" id="7729688"><a href="/debug/gosym/pclntab_test.go.html#7729347">line</a></span>&nbsp;<span class="op" id="7729693">==</span>&nbsp;<span class="num" id="7729696">1</span>&nbsp;<span class="op" id="7729698">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729703"><a href="/debug/gosym/pclntab_test.go.html#7729263">lastline</a></span><span class="op" id="7729711">[</span><span class="ident" id="7729712"><a href="/debug/gosym/pclntab_test.go.html#7729341">path</a></span><span class="op" id="7729716">]</span>&nbsp;<span class="op" id="7729718">=</span>&nbsp;<span class="num" id="7729720">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729725">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7729740">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729785">ll</span><span class="op" id="7729787">,</span>&nbsp;<span class="ident" id="7729789">ok</span>&nbsp;<span class="op" id="7729792">:=</span>&nbsp;<span class="ident" id="7729795"><a href="/debug/gosym/pclntab_test.go.html#7729263">lastline</a></span><span class="op" id="7729803">[</span><span class="ident" id="7729804"><a href="/debug/gosym/pclntab_test.go.html#7729341">path</a></span><span class="op" id="7729808">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729812">if</span>&nbsp;<span class="op" id="7729815">!</span><span class="ident" id="7729816"><a href="/debug/gosym/pclntab_test.go.html#7729789">ok</a></span>&nbsp;<span class="op" id="7729819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729824"><a href="/debug/gosym/pclntab_test.go.html#7728836">t</a></span><span class="op" id="7729825">.</span><span class="ident" id="7729826">Errorf</span><span class="op" id="7729832">(</span><span class="string" id="7729833">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="7729860">,</span>&nbsp;<span class="ident" id="7729862"><a href="/debug/gosym/pclntab_test.go.html#7729341">path</a></span><span class="op" id="7729866">,</span>&nbsp;<span class="ident" id="7729868"><a href="/debug/gosym/pclntab_test.go.html#7729347">line</a></span><span class="op" id="7729872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729876">}</span>&nbsp;<span class="keyword" id="7729878">else</span>&nbsp;<span class="keyword" id="7729883">if</span>&nbsp;<span class="ident" id="7729886"><a href="/debug/gosym/pclntab_test.go.html#7729347">line</a></span>&nbsp;<span class="op" id="7729891">!=</span>&nbsp;<span class="ident" id="7729894"><a href="/debug/gosym/pclntab_test.go.html#7729785">ll</a></span><span class="op" id="7729896">+</span><span class="num" id="7729897">1</span>&nbsp;<span class="op" id="7729899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729904"><a href="/debug/gosym/pclntab_test.go.html#7728836">t</a></span><span class="op" id="7729905">.</span><span class="ident" id="7729906">Fatalf</span><span class="op" id="7729912">(</span><span class="string" id="7729913">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7729961">,</span>&nbsp;<span class="ident" id="7729963"><a href="/debug/gosym/pclntab_test.go.html#7729341">path</a></span><span class="op" id="7729967">,</span>&nbsp;<span class="ident" id="7729969"><a href="/debug/gosym/pclntab_test.go.html#7729785">ll</a></span><span class="op" id="7729971">+</span><span class="num" id="7729972">1</span><span class="op" id="7729973">,</span>&nbsp;<span class="ident" id="7729975"><a href="/debug/gosym/pclntab_test.go.html#7729347">line</a></span><span class="op" id="7729979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729983">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729987"><a href="/debug/gosym/pclntab_test.go.html#7729263">lastline</a></span><span class="op" id="7729995">[</span><span class="ident" id="7729996"><a href="/debug/gosym/pclntab_test.go.html#7729341">path</a></span><span class="op" id="7730000">]</span>&nbsp;<span class="op" id="7730002">=</span>&nbsp;<span class="ident" id="7730004"><a href="/debug/gosym/pclntab_test.go.html#7729347">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730013">if</span>&nbsp;<span class="ident" id="7730016"><a href="/debug/gosym/pclntab_test.go.html#7729297">final</a></span>&nbsp;<span class="op" id="7730022">==</span>&nbsp;<span class="op" id="7730025">-</span><span class="num" id="7730026">1</span>&nbsp;<span class="op" id="7730028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730032"><a href="/debug/gosym/pclntab_test.go.html#7728836">t</a></span><span class="op" id="7730033">.</span><span class="ident" id="7730034">Errorf</span><span class="op" id="7730040">(</span><span class="string" id="7730041">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="7730070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730073">}</span><br>
<span class="lineno">160</span><span class="op" id="7730075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7730078">func</span>&nbsp;<span class="ident" id="7730083">TestLineAline</span><span class="op" id="7730096">(</span><span class="ident" id="7730097">t</span>&nbsp;<span class="op" id="7730099">*</span><span class="ident" id="7730100"><a href="/debug/gosym/pclntab_test.go.html#7726656">testing</a></span><span class="op" id="7730107">.</span><span class="ident" id="7730108">T</span><span class="op" id="7730109">)</span>&nbsp;<span class="op" id="7730111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730114">if</span>&nbsp;<span class="op" id="7730117">!</span><span class="ident" id="7730118"><a href="/debug/gosym/pclntab_test.go.html#7726733">dotest</a></span><span class="op" id="7730124">(</span><span class="builtintype" id="7730125">true</span><span class="op" id="7730129">)</span>&nbsp;<span class="op" id="7730131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730135">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730146">defer</span>&nbsp;<span class="ident" id="7730152"><a href="/debug/gosym/pclntab_test.go.html#7727883">endtest</a></span><span class="op" id="7730159">(</span><span class="op" id="7730160">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730164">tab</span>&nbsp;<span class="op" id="7730168">:=</span>&nbsp;<span class="ident" id="7730171"><a href="/debug/gosym/pclntab_test.go.html#7728007">getTable</a></span><span class="op" id="7730179">(</span><span class="ident" id="7730180"><a href="/debug/gosym/pclntab_test.go.html#7730097">t</a></span><span class="op" id="7730181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730184">if</span>&nbsp;<span class="ident" id="7730187"><a href="/debug/gosym/pclntab_test.go.html#7730164">tab</a></span><span class="op" id="7730190">.</span><span class="ident" id="7730191">go12line</span>&nbsp;<span class="op" id="7730200">!=</span>&nbsp;<span class="ident" id="7730203">nil</span>&nbsp;<span class="op" id="7730207">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7730211">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730257"><a href="/debug/gosym/pclntab_test.go.html#7730097">t</a></span><span class="op" id="7730258">.</span><span class="ident" id="7730259">Skip</span><span class="op" id="7730263">(</span><span class="string" id="7730264">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7730301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730308">for</span>&nbsp;<span class="ident" id="7730312">_</span><span class="op" id="7730313">,</span>&nbsp;<span class="ident" id="7730315">o</span>&nbsp;<span class="op" id="7730317">:=</span>&nbsp;<span class="keyword" id="7730320">range</span>&nbsp;<span class="ident" id="7730326"><a href="/debug/gosym/pclntab_test.go.html#7730164">tab</a></span><span class="op" id="7730329">.</span><span class="ident" id="7730330">Files</span>&nbsp;<span class="op" id="7730336">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7730340">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7730390">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7730447">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730501">found</span>&nbsp;<span class="op" id="7730507">:=</span>&nbsp;<span class="builtinfunc" id="7730510">make</span><span class="op" id="7730514">(</span><span class="keyword" id="7730515">map</span><span class="op" id="7730518">[</span><span class="builtintype" id="7730519">string</span><span class="op" id="7730525">]</span><span class="builtintype" id="7730526">int</span><span class="op" id="7730529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730533">for</span>&nbsp;<span class="ident" id="7730537">i</span>&nbsp;<span class="op" id="7730539">:=</span>&nbsp;<span class="num" id="7730542">0</span><span class="op" id="7730543">;</span>&nbsp;<span class="ident" id="7730545"><a href="/debug/gosym/pclntab_test.go.html#7730537">i</a></span>&nbsp;<span class="op" id="7730547">&lt;</span>&nbsp;<span class="num" id="7730549">1000</span><span class="op" id="7730553">;</span>&nbsp;<span class="ident" id="7730555"><a href="/debug/gosym/pclntab_test.go.html#7730537">i</a></span><span class="op" id="7730556">++</span>&nbsp;<span class="op" id="7730559">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730564">path</span><span class="op" id="7730568">,</span>&nbsp;<span class="ident" id="7730570">line</span>&nbsp;<span class="op" id="7730575">:=</span>&nbsp;<span class="ident" id="7730578"><a href="/debug/gosym/pclntab_test.go.html#7730315">o</a></span><span class="op" id="7730579">.</span><span class="ident" id="7730580">lineFromAline</span><span class="op" id="7730593">(</span><span class="ident" id="7730594"><a href="/debug/gosym/pclntab_test.go.html#7730537">i</a></span><span class="op" id="7730595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730600">if</span>&nbsp;<span class="ident" id="7730603"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span>&nbsp;<span class="op" id="7730608">==</span>&nbsp;<span class="string" id="7730611">&#34;&#34;</span>&nbsp;<span class="op" id="7730614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730620">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7730635">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730698">if</span>&nbsp;<span class="builtinfunc" id="7730701">len</span><span class="op" id="7730704">(</span><span class="ident" id="7730705"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7730709">)</span>&nbsp;<span class="op" id="7730711">&gt;</span>&nbsp;<span class="num" id="7730713">4</span>&nbsp;<span class="op" id="7730715">&amp;&amp;</span>&nbsp;<span class="ident" id="7730718"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7730722">[</span><span class="builtinfunc" id="7730723">len</span><span class="op" id="7730726">(</span><span class="ident" id="7730727"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7730731">)</span><span class="op" id="7730732">-</span><span class="num" id="7730733">4</span><span class="op" id="7730734">:</span><span class="op" id="7730735">]</span>&nbsp;<span class="op" id="7730737">==</span>&nbsp;<span class="string" id="7730740">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="7730747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730753">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730771">if</span>&nbsp;<span class="ident" id="7730774">minline</span><span class="op" id="7730781">,</span>&nbsp;<span class="ident" id="7730783">ok</span>&nbsp;<span class="op" id="7730786">:=</span>&nbsp;<span class="ident" id="7730789"><a href="/debug/gosym/pclntab_test.go.html#7730501">found</a></span><span class="op" id="7730794">[</span><span class="ident" id="7730795"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7730799">]</span><span class="op" id="7730800">;</span>&nbsp;<span class="ident" id="7730802"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span>&nbsp;<span class="op" id="7730807">!=</span>&nbsp;<span class="string" id="7730810">&#34;&#34;</span>&nbsp;<span class="op" id="7730813">&amp;&amp;</span>&nbsp;<span class="ident" id="7730816"><a href="/debug/gosym/pclntab_test.go.html#7730783">ok</a></span>&nbsp;<span class="op" id="7730819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730825">if</span>&nbsp;<span class="ident" id="7730828"><a href="/debug/gosym/pclntab_test.go.html#7730774">minline</a></span>&nbsp;<span class="op" id="7730836">&gt;=</span>&nbsp;<span class="ident" id="7730839"><a href="/debug/gosym/pclntab_test.go.html#7730570">line</a></span>&nbsp;<span class="op" id="7730844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7730851">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730891">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730904">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730914"><a href="/debug/gosym/pclntab_test.go.html#7730501">found</a></span><span class="op" id="7730919">[</span><span class="ident" id="7730920"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7730924">]</span>&nbsp;<span class="op" id="7730926">=</span>&nbsp;<span class="ident" id="7730928"><a href="/debug/gosym/pclntab_test.go.html#7730570">line</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730937">a</span><span class="op" id="7730938">,</span>&nbsp;<span class="ident" id="7730940">err</span>&nbsp;<span class="op" id="7730944">:=</span>&nbsp;<span class="ident" id="7730947"><a href="/debug/gosym/pclntab_test.go.html#7730315">o</a></span><span class="op" id="7730948">.</span><span class="ident" id="7730949">alineFromLine</span><span class="op" id="7730962">(</span><span class="ident" id="7730963"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7730967">,</span>&nbsp;<span class="ident" id="7730969"><a href="/debug/gosym/pclntab_test.go.html#7730570">line</a></span><span class="op" id="7730973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730978">if</span>&nbsp;<span class="ident" id="7730981"><a href="/debug/gosym/pclntab_test.go.html#7730940">err</a></span>&nbsp;<span class="op" id="7730985">!=</span>&nbsp;<span class="ident" id="7730988">nil</span>&nbsp;<span class="op" id="7730992">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730998"><a href="/debug/gosym/pclntab_test.go.html#7730097">t</a></span><span class="op" id="7730999">.</span><span class="ident" id="7731000">Errorf</span><span class="op" id="7731006">(</span><span class="string" id="7731007">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7731090">,</span>&nbsp;<span class="ident" id="7731092"><a href="/debug/gosym/pclntab_test.go.html#7730537">i</a></span><span class="op" id="7731093">,</span>&nbsp;<span class="ident" id="7731095"><a href="/debug/gosym/pclntab_test.go.html#7730315">o</a></span><span class="op" id="7731096">.</span><span class="ident" id="7731097">Paths</span><span class="op" id="7731102">[</span><span class="num" id="7731103">0</span><span class="op" id="7731104">]</span><span class="op" id="7731105">.</span><span class="ident" id="7731106">Name</span><span class="op" id="7731110">,</span>&nbsp;<span class="ident" id="7731112"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7731116">,</span>&nbsp;<span class="ident" id="7731118"><a href="/debug/gosym/pclntab_test.go.html#7730570">line</a></span><span class="op" id="7731122">,</span>&nbsp;<span class="ident" id="7731124"><a href="/debug/gosym/pclntab_test.go.html#7730940">err</a></span><span class="op" id="7731127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731132">}</span>&nbsp;<span class="keyword" id="7731134">else</span>&nbsp;<span class="keyword" id="7731139">if</span>&nbsp;<span class="ident" id="7731142"><a href="/debug/gosym/pclntab_test.go.html#7730937">a</a></span>&nbsp;<span class="op" id="7731144">!=</span>&nbsp;<span class="ident" id="7731147"><a href="/debug/gosym/pclntab_test.go.html#7730537">i</a></span>&nbsp;<span class="op" id="7731149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731155"><a href="/debug/gosym/pclntab_test.go.html#7730097">t</a></span><span class="op" id="7731156">.</span><span class="ident" id="7731157">Errorf</span><span class="op" id="7731163">(</span><span class="string" id="7731164">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="7731248">,</span>&nbsp;<span class="ident" id="7731250"><a href="/debug/gosym/pclntab_test.go.html#7730537">i</a></span><span class="op" id="7731251">,</span>&nbsp;<span class="ident" id="7731253"><a href="/debug/gosym/pclntab_test.go.html#7730315">o</a></span><span class="op" id="7731254">.</span><span class="ident" id="7731255">Paths</span><span class="op" id="7731260">[</span><span class="num" id="7731261">0</span><span class="op" id="7731262">]</span><span class="op" id="7731263">.</span><span class="ident" id="7731264">Name</span><span class="op" id="7731268">,</span>&nbsp;<span class="ident" id="7731270"><a href="/debug/gosym/pclntab_test.go.html#7730564">path</a></span><span class="op" id="7731274">,</span>&nbsp;<span class="ident" id="7731276"><a href="/debug/gosym/pclntab_test.go.html#7730570">line</a></span><span class="op" id="7731280">,</span>&nbsp;<span class="ident" id="7731282"><a href="/debug/gosym/pclntab_test.go.html#7730937">a</a></span><span class="op" id="7731283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731292">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731295">}</span><br>
<span class="lineno"></span><span class="op" id="7731297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731300">func</span>&nbsp;<span class="ident" id="7731305">TestPCLine</span><span class="op" id="7731315">(</span><span class="ident" id="7731316">t</span>&nbsp;<span class="op" id="7731318">*</span><span class="ident" id="7731319"><a href="/debug/gosym/pclntab_test.go.html#7726656">testing</a></span><span class="op" id="7731326">.</span><span class="ident" id="7731327">T</span><span class="op" id="7731328">)</span>&nbsp;<span class="op" id="7731330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731333">if</span>&nbsp;<span class="op" id="7731336">!</span><span class="ident" id="7731337"><a href="/debug/gosym/pclntab_test.go.html#7726733">dotest</a></span><span class="op" id="7731343">(</span><span class="builtintype" id="7731344">false</span><span class="op" id="7731349">)</span>&nbsp;<span class="op" id="7731351">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731355">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731366">defer</span>&nbsp;<span class="ident" id="7731372"><a href="/debug/gosym/pclntab_test.go.html#7727883">endtest</a></span><span class="op" id="7731379">(</span><span class="op" id="7731380">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731384">f</span><span class="op" id="7731385">,</span>&nbsp;<span class="ident" id="7731387">tab</span>&nbsp;<span class="op" id="7731391">:=</span>&nbsp;<span class="ident" id="7731394"><a href="/debug/gosym/pclntab_test.go.html#7728102">crack</a></span><span class="op" id="7731399">(</span><span class="ident" id="7731400"><a href="/debug/gosym/pclntab_test.go.html#7726701">pclinetestBinary</a></span><span class="op" id="7731416">,</span>&nbsp;<span class="ident" id="7731418"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7731419">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731422">text</span>&nbsp;<span class="op" id="7731427">:=</span>&nbsp;<span class="ident" id="7731430"><a href="/debug/gosym/pclntab_test.go.html#7731384">f</a></span><span class="op" id="7731431">.</span><span class="ident" id="7731432">Section</span><span class="op" id="7731439">(</span><span class="string" id="7731440">&#34;.text&#34;</span><span class="op" id="7731447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731450">textdat</span><span class="op" id="7731457">,</span>&nbsp;<span class="ident" id="7731459">err</span>&nbsp;<span class="op" id="7731463">:=</span>&nbsp;<span class="ident" id="7731466"><a href="/debug/gosym/pclntab_test.go.html#7731422">text</a></span><span class="op" id="7731470">.</span><span class="ident" id="7731471">Data</span><span class="op" id="7731475">(</span><span class="op" id="7731476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731479">if</span>&nbsp;<span class="ident" id="7731482"><a href="/debug/gosym/pclntab_test.go.html#7731459">err</a></span>&nbsp;<span class="op" id="7731486">!=</span>&nbsp;<span class="ident" id="7731489">nil</span>&nbsp;<span class="op" id="7731493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731497"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7731498">.</span><span class="ident" id="7731499">Fatalf</span><span class="op" id="7731505">(</span><span class="string" id="7731506">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="7731525">,</span>&nbsp;<span class="ident" id="7731527"><a href="/debug/gosym/pclntab_test.go.html#7731459">err</a></span><span class="op" id="7731530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731533">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7731537">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731555">sym</span>&nbsp;<span class="op" id="7731559">:=</span>&nbsp;<span class="ident" id="7731562"><a href="/debug/gosym/pclntab_test.go.html#7731387">tab</a></span><span class="op" id="7731565">.</span><span class="ident" id="7731566">LookupFunc</span><span class="op" id="7731576">(</span><span class="string" id="7731577">&#34;linefrompc&#34;</span><span class="op" id="7731589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731592">wantLine</span>&nbsp;<span class="op" id="7731601">:=</span>&nbsp;<span class="num" id="7731604">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731607">for</span>&nbsp;<span class="ident" id="7731611">pc</span>&nbsp;<span class="op" id="7731614">:=</span>&nbsp;<span class="ident" id="7731617"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span><span class="op" id="7731620">.</span><span class="ident" id="7731621">Entry</span><span class="op" id="7731626">;</span>&nbsp;<span class="ident" id="7731628"><a href="/debug/gosym/pclntab_test.go.html#7731611">pc</a></span>&nbsp;<span class="op" id="7731631">&lt;</span>&nbsp;<span class="ident" id="7731633"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span><span class="op" id="7731636">.</span><span class="ident" id="7731637">End</span><span class="op" id="7731640">;</span>&nbsp;<span class="ident" id="7731642"><a href="/debug/gosym/pclntab_test.go.html#7731611">pc</a></span><span class="op" id="7731644">++</span>&nbsp;<span class="op" id="7731647">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731651">off</span>&nbsp;<span class="op" id="7731655">:=</span>&nbsp;<span class="ident" id="7731658"><a href="/debug/gosym/pclntab_test.go.html#7731611">pc</a></span>&nbsp;<span class="op" id="7731661">-</span>&nbsp;<span class="ident" id="7731663"><a href="/debug/gosym/pclntab_test.go.html#7731422">text</a></span><span class="op" id="7731667">.</span><span class="ident" id="7731668">Addr</span>&nbsp;<span class="comment" id="7731673">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731720">if</span>&nbsp;<span class="ident" id="7731723"><a href="/debug/gosym/pclntab_test.go.html#7731450">textdat</a></span><span class="op" id="7731730">[</span><span class="ident" id="7731731"><a href="/debug/gosym/pclntab_test.go.html#7731651">off</a></span><span class="op" id="7731734">]</span>&nbsp;<span class="op" id="7731736">==</span>&nbsp;<span class="num" id="7731739">255</span>&nbsp;<span class="op" id="7731743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731748">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731760"><a href="/debug/gosym/pclntab_test.go.html#7731592">wantLine</a></span>&nbsp;<span class="op" id="7731769">+=</span>&nbsp;<span class="builtintype" id="7731772">int</span><span class="op" id="7731775">(</span><span class="ident" id="7731776"><a href="/debug/gosym/pclntab_test.go.html#7731450">textdat</a></span><span class="op" id="7731783">[</span><span class="ident" id="7731784"><a href="/debug/gosym/pclntab_test.go.html#7731651">off</a></span><span class="op" id="7731787">]</span><span class="op" id="7731788">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731792"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7731793">.</span><span class="ident" id="7731794">Logf</span><span class="op" id="7731798">(</span><span class="string" id="7731799">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="7731823">,</span>&nbsp;<span class="ident" id="7731825"><a href="/debug/gosym/pclntab_test.go.html#7731651">off</a></span><span class="op" id="7731828">,</span>&nbsp;<span class="ident" id="7731830"><a href="/debug/gosym/pclntab_test.go.html#7731450">textdat</a></span><span class="op" id="7731837">[</span><span class="ident" id="7731838"><a href="/debug/gosym/pclntab_test.go.html#7731651">off</a></span><span class="op" id="7731841">]</span><span class="op" id="7731842">,</span>&nbsp;<span class="ident" id="7731844"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span><span class="op" id="7731847">.</span><span class="ident" id="7731848">End</span><span class="op" id="7731851">-</span><span class="ident" id="7731852"><a href="/debug/gosym/pclntab_test.go.html#7731611">pc</a></span><span class="op" id="7731854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731858">file</span><span class="op" id="7731862">,</span>&nbsp;<span class="ident" id="7731864">line</span><span class="op" id="7731868">,</span>&nbsp;<span class="ident" id="7731870">fn</span>&nbsp;<span class="op" id="7731873">:=</span>&nbsp;<span class="ident" id="7731876"><a href="/debug/gosym/pclntab_test.go.html#7731387">tab</a></span><span class="op" id="7731879">.</span><span class="ident" id="7731880">PCToLine</span><span class="op" id="7731888">(</span><span class="ident" id="7731889"><a href="/debug/gosym/pclntab_test.go.html#7731611">pc</a></span><span class="op" id="7731891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731895">if</span>&nbsp;<span class="ident" id="7731898"><a href="/debug/gosym/pclntab_test.go.html#7731870">fn</a></span>&nbsp;<span class="op" id="7731901">==</span>&nbsp;<span class="ident" id="7731904">nil</span>&nbsp;<span class="op" id="7731908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731913"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7731914">.</span><span class="ident" id="7731915">Errorf</span><span class="op" id="7731921">(</span><span class="string" id="7731922">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="7731952">,</span>&nbsp;<span class="ident" id="7731954"><a href="/debug/gosym/pclntab_test.go.html#7731611">pc</a></span><span class="op" id="7731956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731960">}</span>&nbsp;<span class="keyword" id="7731962">else</span>&nbsp;<span class="keyword" id="7731967">if</span>&nbsp;<span class="op" id="7731970">!</span><span class="ident" id="7731971"><a href="/debug/gosym/pclntab_test.go.html#7726645">strings</a></span><span class="op" id="7731978">.</span><span class="ident" id="7731979">HasSuffix</span><span class="op" id="7731988">(</span><span class="ident" id="7731989"><a href="/debug/gosym/pclntab_test.go.html#7731858">file</a></span><span class="op" id="7731993">,</span>&nbsp;<span class="string" id="7731995">&#34;pclinetest.asm&#34;</span><span class="op" id="7732011">)</span>&nbsp;<span class="op" id="7732013">||</span>&nbsp;<span class="ident" id="7732016"><a href="/debug/gosym/pclntab_test.go.html#7731864">line</a></span>&nbsp;<span class="op" id="7732021">!=</span>&nbsp;<span class="ident" id="7732024"><a href="/debug/gosym/pclntab_test.go.html#7731592">wantLine</a></span>&nbsp;<span class="op" id="7732033">||</span>&nbsp;<span class="ident" id="7732036"><a href="/debug/gosym/pclntab_test.go.html#7731870">fn</a></span>&nbsp;<span class="op" id="7732039">!=</span>&nbsp;<span class="ident" id="7732042"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span>&nbsp;<span class="op" id="7732046">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732051"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7732052">.</span><span class="ident" id="7732053">Errorf</span><span class="op" id="7732059">(</span><span class="string" id="7732060">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="7732105">,</span>&nbsp;<span class="ident" id="7732107"><a href="/debug/gosym/pclntab_test.go.html#7731611">pc</a></span><span class="op" id="7732109">,</span>&nbsp;<span class="ident" id="7732111"><a href="/debug/gosym/pclntab_test.go.html#7731858">file</a></span><span class="op" id="7732115">,</span>&nbsp;<span class="ident" id="7732117"><a href="/debug/gosym/pclntab_test.go.html#7731864">line</a></span><span class="op" id="7732121">,</span>&nbsp;<span class="ident" id="7732123"><a href="/debug/gosym/pclntab_test.go.html#7731870">fn</a></span><span class="op" id="7732125">.</span><span class="ident" id="7732126">Name</span><span class="op" id="7732130">,</span>&nbsp;<span class="string" id="7732132">&#34;pclinetest.asm&#34;</span><span class="op" id="7732148">,</span>&nbsp;<span class="ident" id="7732150"><a href="/debug/gosym/pclntab_test.go.html#7731592">wantLine</a></span><span class="op" id="7732158">,</span>&nbsp;<span class="ident" id="7732160"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span><span class="op" id="7732163">.</span><span class="ident" id="7732164">Name</span><span class="op" id="7732168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7732179">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732197"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span>&nbsp;<span class="op" id="7732201">=</span>&nbsp;<span class="ident" id="7732203"><a href="/debug/gosym/pclntab_test.go.html#7731387">tab</a></span><span class="op" id="7732206">.</span><span class="ident" id="7732207">LookupFunc</span><span class="op" id="7732217">(</span><span class="string" id="7732218">&#34;pcfromline&#34;</span><span class="op" id="7732230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732233">lookupline</span>&nbsp;<span class="op" id="7732244">:=</span>&nbsp;<span class="op" id="7732247">-</span><span class="num" id="7732248">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732251"><a href="/debug/gosym/pclntab_test.go.html#7731592">wantLine</a></span>&nbsp;<span class="op" id="7732260">=</span>&nbsp;<span class="num" id="7732262">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732265">off</span>&nbsp;<span class="op" id="7732269">:=</span>&nbsp;<span class="ident" id="7732272">uint64</span><span class="op" id="7732278">(</span><span class="num" id="7732279">0</span><span class="op" id="7732280">)</span>&nbsp;<span class="comment" id="7732282">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732328">for</span>&nbsp;<span class="ident" id="7732332">pc</span>&nbsp;<span class="op" id="7732335">:=</span>&nbsp;<span class="ident" id="7732338"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span><span class="op" id="7732341">.</span><span class="ident" id="7732342">Value</span><span class="op" id="7732347">;</span>&nbsp;<span class="ident" id="7732349"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span>&nbsp;<span class="op" id="7732352">&lt;</span>&nbsp;<span class="ident" id="7732354"><a href="/debug/gosym/pclntab_test.go.html#7731555">sym</a></span><span class="op" id="7732357">.</span><span class="ident" id="7732358">End</span><span class="op" id="7732361">;</span>&nbsp;<span class="ident" id="7732363"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span>&nbsp;<span class="op" id="7732366">+=</span>&nbsp;<span class="num" id="7732369">2</span>&nbsp;<span class="op" id="7732371">+</span>&nbsp;<span class="ident" id="7732373">uint64</span><span class="op" id="7732379">(</span><span class="ident" id="7732380"><a href="/debug/gosym/pclntab_test.go.html#7731450">textdat</a></span><span class="op" id="7732387">[</span><span class="ident" id="7732388"><a href="/debug/gosym/pclntab_test.go.html#7732265">off</a></span><span class="op" id="7732391">]</span><span class="op" id="7732392">)</span>&nbsp;<span class="op" id="7732394">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732398">file</span><span class="op" id="7732402">,</span>&nbsp;<span class="ident" id="7732404">line</span><span class="op" id="7732408">,</span>&nbsp;<span class="ident" id="7732410">fn</span>&nbsp;<span class="op" id="7732413">:=</span>&nbsp;<span class="ident" id="7732416"><a href="/debug/gosym/pclntab_test.go.html#7731387">tab</a></span><span class="op" id="7732419">.</span><span class="ident" id="7732420">PCToLine</span><span class="op" id="7732428">(</span><span class="ident" id="7732429"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span><span class="op" id="7732431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732435"><a href="/debug/gosym/pclntab_test.go.html#7732265">off</a></span>&nbsp;<span class="op" id="7732439">=</span>&nbsp;<span class="ident" id="7732441"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span>&nbsp;<span class="op" id="7732444">-</span>&nbsp;<span class="ident" id="7732446"><a href="/debug/gosym/pclntab_test.go.html#7731422">text</a></span><span class="op" id="7732450">.</span><span class="ident" id="7732451">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732458">if</span>&nbsp;<span class="ident" id="7732461"><a href="/debug/gosym/pclntab_test.go.html#7731450">textdat</a></span><span class="op" id="7732468">[</span><span class="ident" id="7732469"><a href="/debug/gosym/pclntab_test.go.html#7732265">off</a></span><span class="op" id="7732472">]</span>&nbsp;<span class="op" id="7732474">==</span>&nbsp;<span class="num" id="7732477">255</span>&nbsp;<span class="op" id="7732481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732486">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732494">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732498"><a href="/debug/gosym/pclntab_test.go.html#7731592">wantLine</a></span>&nbsp;<span class="op" id="7732507">+=</span>&nbsp;<span class="builtintype" id="7732510">int</span><span class="op" id="7732513">(</span><span class="ident" id="7732514"><a href="/debug/gosym/pclntab_test.go.html#7731450">textdat</a></span><span class="op" id="7732521">[</span><span class="ident" id="7732522"><a href="/debug/gosym/pclntab_test.go.html#7732265">off</a></span><span class="op" id="7732525">]</span><span class="op" id="7732526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732530">if</span>&nbsp;<span class="ident" id="7732533"><a href="/debug/gosym/pclntab_test.go.html#7732404">line</a></span>&nbsp;<span class="op" id="7732538">!=</span>&nbsp;<span class="ident" id="7732541"><a href="/debug/gosym/pclntab_test.go.html#7731592">wantLine</a></span>&nbsp;<span class="op" id="7732550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732555"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7732556">.</span><span class="ident" id="7732557">Errorf</span><span class="op" id="7732563">(</span><span class="string" id="7732564">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7732614">,</span>&nbsp;<span class="ident" id="7732616"><a href="/debug/gosym/pclntab_test.go.html#7731592">wantLine</a></span><span class="op" id="7732624">,</span>&nbsp;<span class="ident" id="7732626"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span><span class="op" id="7732628">,</span>&nbsp;<span class="ident" id="7732630"><a href="/debug/gosym/pclntab_test.go.html#7732404">line</a></span><span class="op" id="7732634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732639"><a href="/debug/gosym/pclntab_test.go.html#7732265">off</a></span>&nbsp;<span class="op" id="7732643">=</span>&nbsp;<span class="ident" id="7732645"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span>&nbsp;<span class="op" id="7732648">+</span>&nbsp;<span class="num" id="7732650">1</span>&nbsp;<span class="op" id="7732652">-</span>&nbsp;<span class="ident" id="7732654"><a href="/debug/gosym/pclntab_test.go.html#7731422">text</a></span><span class="op" id="7732658">.</span><span class="ident" id="7732659">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732667">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732682">if</span>&nbsp;<span class="ident" id="7732685"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span>&nbsp;<span class="op" id="7732696">==</span>&nbsp;<span class="op" id="7732699">-</span><span class="num" id="7732700">1</span>&nbsp;<span class="op" id="7732702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732707"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span>&nbsp;<span class="op" id="7732718">=</span>&nbsp;<span class="ident" id="7732720"><a href="/debug/gosym/pclntab_test.go.html#7732404">line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732731">for</span>&nbsp;<span class="op" id="7732735">;</span>&nbsp;<span class="ident" id="7732737"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span>&nbsp;<span class="op" id="7732748">&lt;=</span>&nbsp;<span class="ident" id="7732751"><a href="/debug/gosym/pclntab_test.go.html#7732404">line</a></span><span class="op" id="7732755">;</span>&nbsp;<span class="ident" id="7732757"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span><span class="op" id="7732767">++</span>&nbsp;<span class="op" id="7732770">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732775">pc2</span><span class="op" id="7732778">,</span>&nbsp;<span class="ident" id="7732780">fn2</span><span class="op" id="7732783">,</span>&nbsp;<span class="ident" id="7732785">err</span>&nbsp;<span class="op" id="7732789">:=</span>&nbsp;<span class="ident" id="7732792"><a href="/debug/gosym/pclntab_test.go.html#7731387">tab</a></span><span class="op" id="7732795">.</span><span class="ident" id="7732796">LineToPC</span><span class="op" id="7732804">(</span><span class="ident" id="7732805"><a href="/debug/gosym/pclntab_test.go.html#7732398">file</a></span><span class="op" id="7732809">,</span>&nbsp;<span class="ident" id="7732811"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span><span class="op" id="7732821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732826">if</span>&nbsp;<span class="ident" id="7732829"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span>&nbsp;<span class="op" id="7732840">!=</span>&nbsp;<span class="ident" id="7732843"><a href="/debug/gosym/pclntab_test.go.html#7732404">line</a></span>&nbsp;<span class="op" id="7732848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7732854">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7732892">if</span>&nbsp;<span class="ident" id="7732895"><a href="/debug/gosym/pclntab_test.go.html#7732785">err</a></span>&nbsp;<span class="op" id="7732899">==</span>&nbsp;<span class="ident" id="7732902">nil</span>&nbsp;<span class="op" id="7732906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732913"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7732914">.</span><span class="ident" id="7732915">Errorf</span><span class="op" id="7732921">(</span><span class="string" id="7732922">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7732963">,</span>&nbsp;<span class="ident" id="7732965"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span><span class="op" id="7732975">,</span>&nbsp;<span class="ident" id="7732977"><a href="/debug/gosym/pclntab_test.go.html#7732775">pc2</a></span><span class="op" id="7732980">,</span>&nbsp;<span class="ident" id="7732982"><a href="/debug/gosym/pclntab_test.go.html#7732780">fn2</a></span><span class="op" id="7732985">.</span><span class="ident" id="7732986">Name</span><span class="op" id="7732990">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733001">}</span>&nbsp;<span class="keyword" id="7733003">else</span>&nbsp;<span class="keyword" id="7733008">if</span>&nbsp;<span class="ident" id="7733011"><a href="/debug/gosym/pclntab_test.go.html#7732785">err</a></span>&nbsp;<span class="op" id="7733015">!=</span>&nbsp;<span class="ident" id="7733018">nil</span>&nbsp;<span class="op" id="7733022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733028"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7733029">.</span><span class="ident" id="7733030">Errorf</span><span class="op" id="7733036">(</span><span class="string" id="7733037">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7733070">,</span>&nbsp;<span class="ident" id="7733072"><a href="/debug/gosym/pclntab_test.go.html#7732233">lookupline</a></span><span class="op" id="7733082">,</span>&nbsp;<span class="ident" id="7733084"><a href="/debug/gosym/pclntab_test.go.html#7732785">err</a></span><span class="op" id="7733087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733092">}</span>&nbsp;<span class="keyword" id="7733094">else</span>&nbsp;<span class="keyword" id="7733099">if</span>&nbsp;<span class="ident" id="7733102"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span>&nbsp;<span class="op" id="7733105">!=</span>&nbsp;<span class="ident" id="7733108"><a href="/debug/gosym/pclntab_test.go.html#7732775">pc2</a></span>&nbsp;<span class="op" id="7733112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733118"><a href="/debug/gosym/pclntab_test.go.html#7731316">t</a></span><span class="op" id="7733119">.</span><span class="ident" id="7733120">Errorf</span><span class="op" id="7733126">(</span><span class="string" id="7733127">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7733177">,</span>&nbsp;<span class="ident" id="7733179"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span><span class="op" id="7733181">,</span>&nbsp;<span class="ident" id="7733183"><a href="/debug/gosym/pclntab_test.go.html#7732410">fn</a></span><span class="op" id="7733185">.</span><span class="ident" id="7733186">Name</span><span class="op" id="7733190">,</span>&nbsp;<span class="ident" id="7733192"><a href="/debug/gosym/pclntab_test.go.html#7732404">line</a></span><span class="op" id="7733196">,</span>&nbsp;<span class="ident" id="7733198"><a href="/debug/gosym/pclntab_test.go.html#7732775">pc2</a></span><span class="op" id="7733201">,</span>&nbsp;<span class="ident" id="7733203"><a href="/debug/gosym/pclntab_test.go.html#7732780">fn2</a></span><span class="op" id="7733206">.</span><span class="ident" id="7733207">Name</span><span class="op" id="7733211">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733224"><a href="/debug/gosym/pclntab_test.go.html#7732265">off</a></span>&nbsp;<span class="op" id="7733228">=</span>&nbsp;<span class="ident" id="7733230"><a href="/debug/gosym/pclntab_test.go.html#7732332">pc</a></span>&nbsp;<span class="op" id="7733233">+</span>&nbsp;<span class="num" id="7733235">1</span>&nbsp;<span class="op" id="7733237">-</span>&nbsp;<span class="ident" id="7733239"><a href="/debug/gosym/pclntab_test.go.html#7731422">text</a></span><span class="op" id="7733243">.</span><span class="ident" id="7733244">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733250">}</span><br>
<span class="lineno"></span><span class="op" id="7733252">}</span>
</div>
</body>
</html>
