<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1568719">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1568774">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1568828">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1568879">package</span>&nbsp;<span class="ident" id="1568887">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1568893">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspHypot&nbsp;--&nbsp;sqrt(p*p&nbsp;+&nbsp;q*q),&nbsp;but&nbsp;overflows&nbsp;only&nbsp;if&nbsp;the&nbsp;result&nbsp;does.<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="1568966">//&nbsp;Hypot&nbsp;returns&nbsp;Sqrt(p*p&nbsp;+&nbsp;q*q),&nbsp;taking&nbsp;care&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="1569021">//&nbsp;unnecessary&nbsp;overflow&nbsp;and&nbsp;underflow.</span><br>
<span class="lineno"></span><span class="comment" id="1569060">//</span><br>
<span class="lineno"></span><span class="comment" id="1569063">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno">15</span><span class="comment" id="1569085">//&nbsp;&nbsp;&nbsp;&nbspHypot(±Inf,&nbsp;q)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno"></span><span class="comment" id="1569111">//&nbsp;&nbsp;&nbsp;&nbspHypot(p,&nbsp;±Inf)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno"></span><span class="comment" id="1569137">//&nbsp;&nbsp;&nbsp;&nbspHypot(NaN,&nbsp;q)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1569160">//&nbsp;&nbsp;&nbsp;&nbspHypot(p,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1569183">func</span>&nbsp;<span class="ident" id="1569188">Hypot</span><span class="op" id="1569193">(</span><span class="ident" id="1569194">p</span><span class="op" id="1569195">,</span>&nbsp;<span class="ident" id="1569197">q</span>&nbsp;<span class="builtintype" id="1569199">float64</span><span class="op" id="1569206">)</span>&nbsp;<span class="builtintype" id="1569208">float64</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1569217">func</span>&nbsp;<span class="ident" id="1569222">hypot</span><span class="op" id="1569227">(</span><span class="ident" id="1569228">p</span><span class="op" id="1569229">,</span>&nbsp;<span class="ident" id="1569231">q</span>&nbsp;<span class="builtintype" id="1569233">float64</span><span class="op" id="1569240">)</span>&nbsp;<span class="builtintype" id="1569242">float64</span>&nbsp;<span class="op" id="1569250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1569253">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569271">switch</span>&nbsp;<span class="op" id="1569278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569281">case</span>&nbsp;<span class="ident" id="1569286">IsInf</span><span class="op" id="1569291">(</span><span class="ident" id="1569292">p</span><span class="op" id="1569293">,</span>&nbsp;<span class="num" id="1569295">0</span><span class="op" id="1569296">)</span>&nbsp;<span class="op" id="1569298">||</span>&nbsp;<span class="ident" id="1569301">IsInf</span><span class="op" id="1569306">(</span><span class="ident" id="1569307">q</span><span class="op" id="1569308">,</span>&nbsp;<span class="num" id="1569310">0</span><span class="op" id="1569311">)</span><span class="op" id="1569312">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569316">return</span>&nbsp;<span class="ident" id="1569323">Inf</span><span class="op" id="1569326">(</span><span class="num" id="1569327">1</span><span class="op" id="1569328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569331">case</span>&nbsp;<span class="ident" id="1569336">IsNaN</span><span class="op" id="1569341">(</span><span class="ident" id="1569342">p</span><span class="op" id="1569343">)</span>&nbsp;<span class="op" id="1569345">||</span>&nbsp;<span class="ident" id="1569348">IsNaN</span><span class="op" id="1569353">(</span><span class="ident" id="1569354">q</span><span class="op" id="1569355">)</span><span class="op" id="1569356">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569360">return</span>&nbsp;<span class="ident" id="1569367">NaN</span><span class="op" id="1569370">(</span><span class="op" id="1569371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1569374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569377">if</span>&nbsp;<span class="ident" id="1569380">p</span>&nbsp;<span class="op" id="1569382">&lt;</span>&nbsp;<span class="num" id="1569384">0</span>&nbsp;<span class="op" id="1569386">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1569390">p</span>&nbsp;<span class="op" id="1569392">=</span>&nbsp;<span class="op" id="1569394">-</span><span class="ident" id="1569395">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1569398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569401">if</span>&nbsp;<span class="ident" id="1569404">q</span>&nbsp;<span class="op" id="1569406">&lt;</span>&nbsp;<span class="num" id="1569408">0</span>&nbsp;<span class="op" id="1569410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1569414">q</span>&nbsp;<span class="op" id="1569416">=</span>&nbsp;<span class="op" id="1569418">-</span><span class="ident" id="1569419">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1569422">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569425">if</span>&nbsp;<span class="ident" id="1569428">p</span>&nbsp;<span class="op" id="1569430">&lt;</span>&nbsp;<span class="ident" id="1569432">q</span>&nbsp;<span class="op" id="1569434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1569438">p</span><span class="op" id="1569439">,</span>&nbsp;<span class="ident" id="1569441">q</span>&nbsp;<span class="op" id="1569443">=</span>&nbsp;<span class="ident" id="1569445">q</span><span class="op" id="1569446">,</span>&nbsp;<span class="ident" id="1569448">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1569451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569454">if</span>&nbsp;<span class="ident" id="1569457">p</span>&nbsp;<span class="op" id="1569459">==</span>&nbsp;<span class="num" id="1569462">0</span>&nbsp;<span class="op" id="1569464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569468">return</span>&nbsp;<span class="num" id="1569475">0</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1569478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1569481">q</span>&nbsp;<span class="op" id="1569483">=</span>&nbsp;<span class="ident" id="1569485">q</span>&nbsp;<span class="op" id="1569487">/</span>&nbsp;<span class="ident" id="1569489">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1569492">return</span>&nbsp;<span class="ident" id="1569499">p</span>&nbsp;<span class="op" id="1569501">*</span>&nbsp;<span class="ident" id="1569503">Sqrt</span><span class="op" id="1569507">(</span><span class="num" id="1569508">1</span><span class="op" id="1569509">+</span><span class="ident" id="1569510">q</span><span class="op" id="1569511">*</span><span class="ident" id="1569512">q</span><span class="op" id="1569513">)</span><br>
<span class="lineno"></span><span class="op" id="1569515">}</span>
</div>
</body>
</html>
