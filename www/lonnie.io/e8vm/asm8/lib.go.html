<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5343033">package</span>&nbsp;<span class="ident" id="5343041">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5343047">import</span>&nbsp;<span class="op" id="5343054">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5343057">&#34;lonnie.io/e8vm/link8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5343080">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5343083">//&nbsp;PkgObj&nbsp;is&nbsp;a&nbsp;package&nbsp;object.</span><br>
<span class="lineno"></span><span class="keyword" id="5343114">type</span>&nbsp;<span class="ident" id="5343119">lib</span>&nbsp;<span class="keyword" id="5343123">struct</span>&nbsp;<span class="op" id="5343130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5343133">*</span><span class="ident" id="5343134"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343057">link8</a></span><span class="op" id="5343139">.</span><span class="ident" id="5343140">Package</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343150">requires</span>&nbsp;<span class="keyword" id="5343159">map</span><span class="op" id="5343162">[</span><span class="builtintype" id="5343163">uint32</span><span class="op" id="5343169">]</span><span class="op" id="5343170">*</span><span class="ident" id="5343171"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343176">symbols</span>&nbsp;&nbsp;<span class="keyword" id="5343185">map</span><span class="op" id="5343188">[</span><span class="builtintype" id="5343189">string</span><span class="op" id="5343195">]</span><span class="op" id="5343196">*</span><span class="ident" id="5343197"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><br>
<span class="lineno"></span><span class="op" id="5343204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5343207">//&nbsp;NewPkgObj&nbsp;creates&nbsp;a&nbsp;new&nbsp;package&nbsp;compile&nbsp;object</span><br>
<span class="lineno"></span><span class="keyword" id="5343257">func</span>&nbsp;<span class="ident" id="5343262">newLib</span><span class="op" id="5343268">(</span><span class="ident" id="5343269">p</span>&nbsp;<span class="builtintype" id="5343271">string</span><span class="op" id="5343277">)</span>&nbsp;<span class="op" id="5343279">*</span><span class="ident" id="5343280"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span>&nbsp;<span class="op" id="5343284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343287">ret</span>&nbsp;<span class="op" id="5343291">:=</span>&nbsp;<span class="builtinfunc" id="5343294">new</span><span class="op" id="5343297">(</span><span class="ident" id="5343298"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5343301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343304"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343287">ret</a></span><span class="op" id="5343307">.</span><span class="ident" id="5343308">Package</span>&nbsp;<span class="op" id="5343316">=</span>&nbsp;<span class="ident" id="5343318"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343057">link8</a></span><span class="op" id="5343323">.</span><span class="ident" id="5343324">NewPackage</span><span class="op" id="5343334">(</span><span class="ident" id="5343335"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343269">p</a></span><span class="op" id="5343336">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343340"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343287">ret</a></span><span class="op" id="5343343">.</span><span class="ident" id="5343344">requires</span>&nbsp;<span class="op" id="5343353">=</span>&nbsp;<span class="builtinfunc" id="5343355">make</span><span class="op" id="5343359">(</span><span class="keyword" id="5343360">map</span><span class="op" id="5343363">[</span><span class="builtintype" id="5343364">uint32</span><span class="op" id="5343370">]</span><span class="op" id="5343371">*</span><span class="ident" id="5343372"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5343375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343378"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343287">ret</a></span><span class="op" id="5343381">.</span><span class="ident" id="5343382">symbols</span>&nbsp;<span class="op" id="5343390">=</span>&nbsp;<span class="builtinfunc" id="5343392">make</span><span class="op" id="5343396">(</span><span class="keyword" id="5343397">map</span><span class="op" id="5343400">[</span><span class="builtintype" id="5343401">string</span><span class="op" id="5343407">]</span><span class="op" id="5343408">*</span><span class="ident" id="5343409"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><span class="op" id="5343415">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343419">id</span>&nbsp;<span class="op" id="5343422">:=</span>&nbsp;<span class="ident" id="5343425"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343287">ret</a></span><span class="op" id="5343428">.</span><span class="ident" id="5343429">Require</span><span class="op" id="5343436">(</span><span class="ident" id="5343437"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343287">ret</a></span><span class="op" id="5343440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5343443">if</span>&nbsp;<span class="ident" id="5343446"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343419">id</a></span>&nbsp;<span class="op" id="5343449">!=</span>&nbsp;<span class="num" id="5343452">0</span>&nbsp;<span class="op" id="5343454">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5343458">panic</span><span class="op" id="5343463">(</span><span class="string" id="5343464">&#34;bug&#34;</span><span class="op" id="5343469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5343472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5343476">return</span>&nbsp;<span class="ident" id="5343483"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343287">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5343487">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="comment" id="5343490">//&nbsp;Require&nbsp;imports&nbsp;a&nbsp;package&nbsp;in&nbsp;and&nbsp;grants&nbsp;the&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="5343545">//&nbsp;a&nbsp;import&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5343564">func</span>&nbsp;<span class="op" id="5343569">(</span><span class="ident" id="5343570">p</span>&nbsp;<span class="op" id="5343572">*</span><span class="ident" id="5343573"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5343576">)</span>&nbsp;<span class="ident" id="5343578">Require</span><span class="op" id="5343585">(</span><span class="ident" id="5343586">req</span>&nbsp;<span class="op" id="5343590">*</span><span class="ident" id="5343591"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5343594">)</span>&nbsp;<span class="builtintype" id="5343596">uint32</span>&nbsp;<span class="op" id="5343603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343606">ret</span>&nbsp;<span class="op" id="5343610">:=</span>&nbsp;<span class="ident" id="5343613"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343570">p</a></span><span class="op" id="5343614">.</span><span class="ident" id="5343615">Package</span><span class="op" id="5343622">.</span><span class="ident" id="5343623">Require</span><span class="op" id="5343630">(</span><span class="ident" id="5343631"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343586">req</a></span><span class="op" id="5343634">.</span><span class="ident" id="5343635">Package</span><span class="op" id="5343642">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343645">_</span><span class="op" id="5343646">,</span>&nbsp;<span class="ident" id="5343648">found</span>&nbsp;<span class="op" id="5343654">:=</span>&nbsp;<span class="ident" id="5343657"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343570">p</a></span><span class="op" id="5343658">.</span><span class="ident" id="5343659">requires</span><span class="op" id="5343667">[</span><span class="ident" id="5343668"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343606">ret</a></span><span class="op" id="5343671">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5343674">if</span>&nbsp;<span class="op" id="5343677">!</span><span class="ident" id="5343678"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343648">found</a></span>&nbsp;<span class="op" id="5343684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343688"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343570">p</a></span><span class="op" id="5343689">.</span><span class="ident" id="5343690">requires</span><span class="op" id="5343698">[</span><span class="ident" id="5343699"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343606">ret</a></span><span class="op" id="5343702">]</span>&nbsp;<span class="op" id="5343704">=</span>&nbsp;<span class="ident" id="5343706"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343586">req</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5343711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5343715">return</span>&nbsp;<span class="ident" id="5343722"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343606">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5343726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5343729">//&nbsp;PkgIndex&nbsp;returns&nbsp;the&nbsp;package&nbsp;import&nbsp;index,&nbsp;consistent&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5343791">//&nbsp;the&nbsp;underlying&nbsp;link8.Package.</span><br>
<span class="lineno">45</span><span class="keyword" id="5343824">func</span>&nbsp;<span class="op" id="5343829">(</span><span class="ident" id="5343830">p</span>&nbsp;<span class="op" id="5343832">*</span><span class="ident" id="5343833"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5343836">)</span>&nbsp;<span class="ident" id="5343838">LibIndex</span><span class="op" id="5343846">(</span><span class="ident" id="5343847">path</span>&nbsp;<span class="builtintype" id="5343852">string</span><span class="op" id="5343858">)</span>&nbsp;<span class="op" id="5343860">(</span><span class="op" id="5343861">*</span><span class="ident" id="5343862"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5343865">,</span>&nbsp;<span class="builtintype" id="5343867">uint32</span><span class="op" id="5343873">)</span>&nbsp;<span class="op" id="5343875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343878">pkg</span><span class="op" id="5343881">,</span>&nbsp;<span class="ident" id="5343883">index</span>&nbsp;<span class="op" id="5343889">:=</span>&nbsp;<span class="ident" id="5343892"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343830">p</a></span><span class="op" id="5343893">.</span><span class="ident" id="5343894">Package</span><span class="op" id="5343901">.</span><span class="ident" id="5343902">PkgIndex</span><span class="op" id="5343910">(</span><span class="ident" id="5343911"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343847">path</a></span><span class="op" id="5343915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5343918">if</span>&nbsp;<span class="ident" id="5343921"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343878">pkg</a></span>&nbsp;<span class="op" id="5343925">==</span>&nbsp;<span class="ident" id="5343928">nil</span>&nbsp;<span class="op" id="5343932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5343936">return</span>&nbsp;<span class="ident" id="5343943">nil</span><span class="op" id="5343946">,</span>&nbsp;<span class="num" id="5343948">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5343951">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5343955">ret</span><span class="op" id="5343958">,</span>&nbsp;<span class="ident" id="5343960">found</span>&nbsp;<span class="op" id="5343966">:=</span>&nbsp;<span class="ident" id="5343969"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343830">p</a></span><span class="op" id="5343970">.</span><span class="ident" id="5343971">requires</span><span class="op" id="5343979">[</span><span class="ident" id="5343980"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343883">index</a></span><span class="op" id="5343985">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5343988">if</span>&nbsp;<span class="op" id="5343991">!</span><span class="ident" id="5343992"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343960">found</a></span>&nbsp;<span class="op" id="5343998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5344002">panic</span><span class="op" id="5344007">(</span><span class="string" id="5344008">&#34;bug&#34;</span><span class="op" id="5344013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5344016">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344020">return</span>&nbsp;<span class="ident" id="5344027"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343955">ret</a></span><span class="op" id="5344030">,</span>&nbsp;<span class="ident" id="5344032"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343883">index</a></span><br>
<span class="lineno"></span><span class="op" id="5344038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5344041">//&nbsp;Declare&nbsp;declares&nbsp;a&nbsp;symbol&nbsp;inside&nbsp;the&nbsp;package.&nbsp;&nbsp;If&nbsp;the&nbsp;symbol&nbsp;is&nbsp;a&nbsp;function</span><br>
<span class="lineno">60</span><span class="comment" id="5344119">//&nbsp;or&nbsp;variable,&nbsp;it&nbsp;is&nbsp;also&nbsp;declared&nbsp;as&nbsp;an&nbsp;object&nbsp;file&nbsp;symbol&nbsp;in&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="5344198">//&nbsp;link8.Package,&nbsp;and&nbsp;it&nbsp;returns&nbsp;the&nbsp;index.&nbsp;&nbsp;If&nbsp;the&nbsp;symbol&nbsp;is&nbsp;a&nbsp;constant,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5344275">//&nbsp;returns&nbsp;0&nbsp;after&nbsp;the&nbsp;declaration.&nbsp;Other&nbsp;types&nbsp;will&nbsp;panic.&nbsp;Redeclaration&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="5344354">//&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="5344364">func</span>&nbsp;<span class="op" id="5344369">(</span><span class="ident" id="5344370">p</span>&nbsp;<span class="op" id="5344372">*</span><span class="ident" id="5344373"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5344376">)</span>&nbsp;<span class="ident" id="5344378">Declare</span><span class="op" id="5344385">(</span><span class="ident" id="5344386">s</span>&nbsp;<span class="op" id="5344388">*</span><span class="ident" id="5344389"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><span class="op" id="5344395">)</span>&nbsp;<span class="builtintype" id="5344397">uint32</span>&nbsp;<span class="op" id="5344404">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5344407">_</span><span class="op" id="5344408">,</span>&nbsp;<span class="ident" id="5344410">found</span>&nbsp;<span class="op" id="5344416">:=</span>&nbsp;<span class="ident" id="5344419"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344370">p</a></span><span class="op" id="5344420">.</span><span class="ident" id="5344421">symbols</span><span class="op" id="5344428">[</span><span class="ident" id="5344429"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344386">s</a></span><span class="op" id="5344430">.</span><span class="ident" id="5344431">Name</span><span class="op" id="5344435">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344438">if</span>&nbsp;<span class="ident" id="5344441"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344410">found</a></span>&nbsp;<span class="op" id="5344447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5344451">panic</span><span class="op" id="5344456">(</span><span class="string" id="5344457">&#34;redeclare&#34;</span><span class="op" id="5344468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5344471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5344474"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344370">p</a></span><span class="op" id="5344475">.</span><span class="ident" id="5344476">symbols</span><span class="op" id="5344483">[</span><span class="ident" id="5344484"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344386">s</a></span><span class="op" id="5344485">.</span><span class="ident" id="5344486">Name</span><span class="op" id="5344490">]</span>&nbsp;<span class="op" id="5344492">=</span>&nbsp;<span class="ident" id="5344494"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344386">s</a></span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344498">switch</span>&nbsp;<span class="ident" id="5344505"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344386">s</a></span><span class="op" id="5344506">.</span><span class="ident" id="5344507">Type</span>&nbsp;<span class="op" id="5344512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344515">case</span>&nbsp;<span class="ident" id="5344520"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359244">SymConst</a></span><span class="op" id="5344528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344532">return</span>&nbsp;<span class="num" id="5344539">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344542">case</span>&nbsp;<span class="ident" id="5344547"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359204">SymFunc</a></span><span class="op" id="5344554">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344558">return</span>&nbsp;<span class="ident" id="5344565"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344370">p</a></span><span class="op" id="5344566">.</span><span class="ident" id="5344567">Package</span><span class="op" id="5344574">.</span><span class="ident" id="5344575">Declare</span><span class="op" id="5344582">(</span><span class="op" id="5344583">&amp;</span><span class="ident" id="5344584"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343057">link8</a></span><span class="op" id="5344589">.</span><span class="ident" id="5344590">Symbol</span><span class="op" id="5344596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5344601">Name</span><span class="op" id="5344605">:</span>&nbsp;<span class="ident" id="5344607"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344386">s</a></span><span class="op" id="5344608">.</span><span class="ident" id="5344609">Name</span><span class="op" id="5344613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5344618">Type</span><span class="op" id="5344622">:</span>&nbsp;<span class="ident" id="5344624"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343057">link8</a></span><span class="op" id="5344629">.</span><span class="ident" id="5344630">SymFunc</span><span class="op" id="5344637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5344641">}</span><span class="op" id="5344642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344645">case</span>&nbsp;<span class="ident" id="5344650"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359285">SymVar</a></span><span class="op" id="5344656">:</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344660">return</span>&nbsp;<span class="ident" id="5344667"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344370">p</a></span><span class="op" id="5344668">.</span><span class="ident" id="5344669">Package</span><span class="op" id="5344676">.</span><span class="ident" id="5344677">Declare</span><span class="op" id="5344684">(</span><span class="op" id="5344685">&amp;</span><span class="ident" id="5344686"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343057">link8</a></span><span class="op" id="5344691">.</span><span class="ident" id="5344692">Symbol</span><span class="op" id="5344698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5344703">Name</span><span class="op" id="5344707">:</span>&nbsp;<span class="ident" id="5344709"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344386">s</a></span><span class="op" id="5344710">.</span><span class="ident" id="5344711">Name</span><span class="op" id="5344715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5344720">Type</span><span class="op" id="5344724">:</span>&nbsp;<span class="ident" id="5344726"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343057">link8</a></span><span class="op" id="5344731">.</span><span class="ident" id="5344732">SymVar</span><span class="op" id="5344738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5344742">}</span><span class="op" id="5344743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5344746">default</span><span class="op" id="5344753">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5344757">panic</span><span class="op" id="5344762">(</span><span class="string" id="5344763">&#34;declare&nbsp;with&nbsp;invalid&nbsp;sym&nbsp;type&#34;</span><span class="op" id="5344794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5344797">}</span><br>
<span class="lineno"></span><span class="op" id="5344799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5344802">//&nbsp;Query&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;declared&nbsp;by&nbsp;name&nbsp;and&nbsp;its&nbsp;symbol&nbsp;index</span><br>
<span class="lineno">90</span><span class="comment" id="5344868">//&nbsp;if&nbsp;the&nbsp;symbol&nbsp;is&nbsp;a&nbsp;function&nbsp;or&nbsp;variable.&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;0&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="5344935">//&nbsp;the&nbsp;symbol&nbsp;of&nbsp;name&nbsp;is&nbsp;not&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5344971">func</span>&nbsp;<span class="op" id="5344976">(</span><span class="ident" id="5344977">p</span>&nbsp;<span class="op" id="5344979">*</span><span class="ident" id="5344980"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5343119">lib</a></span><span class="op" id="5344983">)</span>&nbsp;<span class="ident" id="5344985">Query</span><span class="op" id="5344990">(</span><span class="ident" id="5344991">name</span>&nbsp;<span class="builtintype" id="5344996">string</span><span class="op" id="5345002">)</span>&nbsp;<span class="op" id="5345004">(</span><span class="op" id="5345005">*</span><span class="ident" id="5345006"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5358916">symbol</a></span><span class="op" id="5345012">,</span>&nbsp;<span class="builtintype" id="5345014">uint32</span><span class="op" id="5345020">)</span>&nbsp;<span class="op" id="5345022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5345025">ret</span><span class="op" id="5345028">,</span>&nbsp;<span class="ident" id="5345030">found</span>&nbsp;<span class="op" id="5345036">:=</span>&nbsp;<span class="ident" id="5345039"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344977">p</a></span><span class="op" id="5345040">.</span><span class="ident" id="5345041">symbols</span><span class="op" id="5345048">[</span><span class="ident" id="5345049"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344991">name</a></span><span class="op" id="5345053">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345056">if</span>&nbsp;<span class="op" id="5345059">!</span><span class="ident" id="5345060"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5345030">found</a></span>&nbsp;<span class="op" id="5345066">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345070">return</span>&nbsp;<span class="ident" id="5345077">nil</span><span class="op" id="5345080">,</span>&nbsp;<span class="num" id="5345082">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5345085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345089">switch</span>&nbsp;<span class="ident" id="5345096"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5345025">ret</a></span><span class="op" id="5345099">.</span><span class="ident" id="5345100">Type</span>&nbsp;<span class="op" id="5345105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345108">case</span>&nbsp;<span class="ident" id="5345113"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359244">SymConst</a></span><span class="op" id="5345121">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345125">return</span>&nbsp;<span class="ident" id="5345132"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5345025">ret</a></span><span class="op" id="5345135">,</span>&nbsp;<span class="num" id="5345137">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345140">case</span>&nbsp;<span class="ident" id="5345145"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359204">SymFunc</a></span><span class="op" id="5345152">,</span>&nbsp;<span class="ident" id="5345154"><a href="/lonnie.io/e8vm/asm8/symbol.go.html#5359285">SymVar</a></span><span class="op" id="5345160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5345164">s</span><span class="op" id="5345165">,</span>&nbsp;<span class="ident" id="5345167">index</span>&nbsp;<span class="op" id="5345173">:=</span>&nbsp;<span class="ident" id="5345176"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344977">p</a></span><span class="op" id="5345177">.</span><span class="ident" id="5345178">Package</span><span class="op" id="5345185">.</span><span class="ident" id="5345186">Query</span><span class="op" id="5345191">(</span><span class="ident" id="5345192"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5344991">name</a></span><span class="op" id="5345196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345200">if</span>&nbsp;<span class="ident" id="5345203"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5345164">s</a></span>&nbsp;<span class="op" id="5345205">==</span>&nbsp;<span class="ident" id="5345208">nil</span>&nbsp;<span class="op" id="5345212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5345217">panic</span><span class="op" id="5345222">(</span><span class="string" id="5345223">&#34;symbol&nbsp;missing&#34;</span><span class="op" id="5345239">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5345243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345247">return</span>&nbsp;<span class="ident" id="5345254"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5345025">ret</a></span><span class="op" id="5345257">,</span>&nbsp;<span class="ident" id="5345259"><a href="/lonnie.io/e8vm/asm8/lib.go.html#5345167">index</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5345266">default</span><span class="op" id="5345273">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5345277">panic</span><span class="op" id="5345282">(</span><span class="string" id="5345283">&#34;bug&#34;</span><span class="op" id="5345288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5345291">}</span><br>
<span class="lineno">110</span><span class="op" id="5345293">}</span>
</div>
</body>
</html>
