<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4791916">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4791971">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4792025">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4792076">package</span>&nbsp;<span class="ident" id="4792084">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4792092">import</span>&nbsp;<span class="op" id="4792099">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792102">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792111">&#34;strconv&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792122">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="4792132">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4792135">//&nbsp;Compiled&nbsp;program.</span><br>
<span class="lineno"></span><span class="comment" id="4792156">//&nbsp;May&nbsp;not&nbsp;belong&nbsp;in&nbsp;this&nbsp;package,&nbsp;but&nbsp;convenient&nbsp;for&nbsp;now.</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="4792216">//&nbsp;A&nbsp;Prog&nbsp;is&nbsp;a&nbsp;compiled&nbsp;regular&nbsp;expression&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="4792268">type</span>&nbsp;<span class="ident" id="4792273">Prog</span>&nbsp;<span class="keyword" id="4792278">struct</span>&nbsp;<span class="op" id="4792285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792288">Inst</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4792295">[</span><span class="op" id="4792296">]</span><span class="ident" id="4792297"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792303">Start</span>&nbsp;&nbsp;<span class="builtintype" id="4792310">int</span>&nbsp;<span class="comment" id="4792314">//&nbsp;index&nbsp;of&nbsp;start&nbsp;instruction</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792345">NumCap</span>&nbsp;<span class="builtintype" id="4792352">int</span>&nbsp;<span class="comment" id="4792356">//&nbsp;number&nbsp;of&nbsp;InstCapture&nbsp;insts&nbsp;in&nbsp;re</span><br>
<span class="lineno"></span><span class="op" id="4792393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4792396">//&nbsp;An&nbsp;InstOp&nbsp;is&nbsp;an&nbsp;instruction&nbsp;opcode.</span><br>
<span class="lineno"></span><span class="keyword" id="4792435">type</span>&nbsp;<span class="ident" id="4792440">InstOp</span>&nbsp;<span class="builtintype" id="4792447">uint8</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="4792454">const</span>&nbsp;<span class="op" id="4792460">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792463">InstAlt</span>&nbsp;<span class="ident" id="4792471"><a href="/regexp/syntax/prog.go.html#4792440">InstOp</a></span>&nbsp;<span class="op" id="4792478">=</span>&nbsp;<span class="ident" id="4792480">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792486">InstAltMatch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792500">InstCapture</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792513">InstEmptyWidth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792529">InstMatch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792540">InstFail</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792550">InstNop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792559">InstRune</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792569">InstRune1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792580">InstRuneAny</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792593">InstRuneAnyNotNL</span><br>
<span class="lineno"></span><span class="op" id="4792610">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="4792613">var</span>&nbsp;<span class="ident" id="4792617">instOpNames</span>&nbsp;<span class="op" id="4792629">=</span>&nbsp;<span class="op" id="4792631">[</span><span class="op" id="4792632">]</span><span class="builtintype" id="4792633">string</span><span class="op" id="4792639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792642">&#34;InstAlt&#34;</span><span class="op" id="4792651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792654">&#34;InstAltMatch&#34;</span><span class="op" id="4792668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792671">&#34;InstCapture&#34;</span><span class="op" id="4792684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792687">&#34;InstEmptyWidth&#34;</span><span class="op" id="4792703">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792706">&#34;InstMatch&#34;</span><span class="op" id="4792717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792720">&#34;InstFail&#34;</span><span class="op" id="4792730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792733">&#34;InstNop&#34;</span><span class="op" id="4792742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792745">&#34;InstRune&#34;</span><span class="op" id="4792755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792758">&#34;InstRune1&#34;</span><span class="op" id="4792769">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792772">&#34;InstRuneAny&#34;</span><span class="op" id="4792785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4792788">&#34;InstRuneAnyNotNL&#34;</span><span class="op" id="4792806">,</span><br>
<span class="lineno"></span><span class="op" id="4792808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4792811">func</span>&nbsp;<span class="op" id="4792816">(</span><span class="ident" id="4792817">i</span>&nbsp;<span class="ident" id="4792819"><a href="/regexp/syntax/prog.go.html#4792440">InstOp</a></span><span class="op" id="4792825">)</span>&nbsp;<span class="ident" id="4792827">String</span><span class="op" id="4792833">(</span><span class="op" id="4792834">)</span>&nbsp;<span class="builtintype" id="4792836">string</span>&nbsp;<span class="op" id="4792843">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792846">if</span>&nbsp;<span class="builtintype" id="4792849">uint</span><span class="op" id="4792853">(</span><span class="ident" id="4792854"><a href="/regexp/syntax/prog.go.html#4792817">i</a></span><span class="op" id="4792855">)</span>&nbsp;<span class="op" id="4792857">&gt;=</span>&nbsp;<span class="builtintype" id="4792860">uint</span><span class="op" id="4792864">(</span><span class="builtinfunc" id="4792865">len</span><span class="op" id="4792868">(</span><span class="ident" id="4792869"><a href="/regexp/syntax/prog.go.html#4792617">instOpNames</a></span><span class="op" id="4792880">)</span><span class="op" id="4792881">)</span>&nbsp;<span class="op" id="4792883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792887">return</span>&nbsp;<span class="string" id="4792894">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792901">return</span>&nbsp;<span class="ident" id="4792908"><a href="/regexp/syntax/prog.go.html#4792617">instOpNames</a></span><span class="op" id="4792919">[</span><span class="ident" id="4792920"><a href="/regexp/syntax/prog.go.html#4792817">i</a></span><span class="op" id="4792921">]</span><br>
<span class="lineno"></span><span class="op" id="4792923">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4792926">//&nbsp;An&nbsp;EmptyOp&nbsp;specifies&nbsp;a&nbsp;kind&nbsp;or&nbsp;mixture&nbsp;of&nbsp;zero-width&nbsp;assertions.</span><br>
<span class="lineno"></span><span class="keyword" id="4792994">type</span>&nbsp;<span class="ident" id="4792999">EmptyOp</span>&nbsp;<span class="builtintype" id="4793007">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4793014">const</span>&nbsp;<span class="op" id="4793020">(</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793023">EmptyBeginLine</span>&nbsp;<span class="ident" id="4793038"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span>&nbsp;<span class="op" id="4793046">=</span>&nbsp;<span class="num" id="4793048">1</span>&nbsp;<span class="op" id="4793050">&lt;&lt;</span>&nbsp;<span class="ident" id="4793053">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793059">EmptyEndLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793073">EmptyBeginText</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793089">EmptyEndText</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793103">EmptyWordBoundary</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793122">EmptyNoWordBoundary</span><br>
<span class="lineno"></span><span class="op" id="4793142">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4793145">//&nbsp;EmptyOpContext&nbsp;returns&nbsp;the&nbsp;zero-width&nbsp;assertions</span><br>
<span class="lineno"></span><span class="comment" id="4793197">//&nbsp;satisfied&nbsp;at&nbsp;the&nbsp;position&nbsp;between&nbsp;the&nbsp;runes&nbsp;r1&nbsp;and&nbsp;r2.</span><br>
<span class="lineno">75</span><span class="comment" id="4793255">//&nbsp;Passing&nbsp;r1&nbsp;==&nbsp;-1&nbsp;indicates&nbsp;that&nbsp;the&nbsp;position&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4793306">//&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;text.</span><br>
<span class="lineno"></span><span class="comment" id="4793339">//&nbsp;Passing&nbsp;r2&nbsp;==&nbsp;-1&nbsp;indicates&nbsp;that&nbsp;the&nbsp;position&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4793390">//&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;text.</span><br>
<span class="lineno"></span><span class="keyword" id="4793417">func</span>&nbsp;<span class="ident" id="4793422">EmptyOpContext</span><span class="op" id="4793436">(</span><span class="ident" id="4793437">r1</span><span class="op" id="4793439">,</span>&nbsp;<span class="ident" id="4793441">r2</span>&nbsp;<span class="builtintype" id="4793444">rune</span><span class="op" id="4793448">)</span>&nbsp;<span class="ident" id="4793450"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span>&nbsp;<span class="op" id="4793458">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793461">var</span>&nbsp;<span class="ident" id="4793465">op</span>&nbsp;<span class="ident" id="4793468"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span>&nbsp;<span class="op" id="4793476">=</span>&nbsp;<span class="ident" id="4793478"><a href="/regexp/syntax/prog.go.html#4793122">EmptyNoWordBoundary</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793499">var</span>&nbsp;<span class="ident" id="4793503">boundary</span>&nbsp;<span class="builtintype" id="4793512">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793518">switch</span>&nbsp;<span class="op" id="4793525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793528">case</span>&nbsp;<span class="ident" id="4793533"><a href="/regexp/syntax/prog.go.html#4794134">IsWordChar</a></span><span class="op" id="4793543">(</span><span class="ident" id="4793544"><a href="/regexp/syntax/prog.go.html#4793437">r1</a></span><span class="op" id="4793546">)</span><span class="op" id="4793547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793551"><a href="/regexp/syntax/prog.go.html#4793503">boundary</a></span>&nbsp;<span class="op" id="4793560">=</span>&nbsp;<span class="num" id="4793562">1</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793565">case</span>&nbsp;<span class="ident" id="4793570"><a href="/regexp/syntax/prog.go.html#4793437">r1</a></span>&nbsp;<span class="op" id="4793573">==</span>&nbsp;<span class="string" id="4793576">&#39;\n&#39;</span><span class="op" id="4793580">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793584"><a href="/regexp/syntax/prog.go.html#4793465">op</a></span>&nbsp;<span class="op" id="4793587">|=</span>&nbsp;<span class="ident" id="4793590"><a href="/regexp/syntax/prog.go.html#4793023">EmptyBeginLine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793606">case</span>&nbsp;<span class="ident" id="4793611"><a href="/regexp/syntax/prog.go.html#4793437">r1</a></span>&nbsp;<span class="op" id="4793614">&lt;</span>&nbsp;<span class="num" id="4793616">0</span><span class="op" id="4793617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793621"><a href="/regexp/syntax/prog.go.html#4793465">op</a></span>&nbsp;<span class="op" id="4793624">|=</span>&nbsp;<span class="ident" id="4793627"><a href="/regexp/syntax/prog.go.html#4793073">EmptyBeginText</a></span>&nbsp;<span class="op" id="4793642">|</span>&nbsp;<span class="ident" id="4793644"><a href="/regexp/syntax/prog.go.html#4793023">EmptyBeginLine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793660">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793663">switch</span>&nbsp;<span class="op" id="4793670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793673">case</span>&nbsp;<span class="ident" id="4793678"><a href="/regexp/syntax/prog.go.html#4794134">IsWordChar</a></span><span class="op" id="4793688">(</span><span class="ident" id="4793689"><a href="/regexp/syntax/prog.go.html#4793441">r2</a></span><span class="op" id="4793691">)</span><span class="op" id="4793692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793696"><a href="/regexp/syntax/prog.go.html#4793503">boundary</a></span>&nbsp;<span class="op" id="4793705">^=</span>&nbsp;<span class="num" id="4793708">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793711">case</span>&nbsp;<span class="ident" id="4793716"><a href="/regexp/syntax/prog.go.html#4793441">r2</a></span>&nbsp;<span class="op" id="4793719">==</span>&nbsp;<span class="string" id="4793722">&#39;\n&#39;</span><span class="op" id="4793726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793730"><a href="/regexp/syntax/prog.go.html#4793465">op</a></span>&nbsp;<span class="op" id="4793733">|=</span>&nbsp;<span class="ident" id="4793736"><a href="/regexp/syntax/prog.go.html#4793059">EmptyEndLine</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793750">case</span>&nbsp;<span class="ident" id="4793755"><a href="/regexp/syntax/prog.go.html#4793441">r2</a></span>&nbsp;<span class="op" id="4793758">&lt;</span>&nbsp;<span class="num" id="4793760">0</span><span class="op" id="4793761">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793765"><a href="/regexp/syntax/prog.go.html#4793465">op</a></span>&nbsp;<span class="op" id="4793768">|=</span>&nbsp;<span class="ident" id="4793771"><a href="/regexp/syntax/prog.go.html#4793089">EmptyEndText</a></span>&nbsp;<span class="op" id="4793784">|</span>&nbsp;<span class="ident" id="4793786"><a href="/regexp/syntax/prog.go.html#4793059">EmptyEndLine</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793803">if</span>&nbsp;<span class="ident" id="4793806"><a href="/regexp/syntax/prog.go.html#4793503">boundary</a></span>&nbsp;<span class="op" id="4793815">!=</span>&nbsp;<span class="num" id="4793818">0</span>&nbsp;<span class="op" id="4793820">{</span>&nbsp;<span class="comment" id="4793822">//&nbsp;IsWordChar(r1)&nbsp;!=&nbsp;IsWordChar(r2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793860"><a href="/regexp/syntax/prog.go.html#4793465">op</a></span>&nbsp;<span class="op" id="4793863">^=</span>&nbsp;<span class="op" id="4793866">(</span><span class="ident" id="4793867"><a href="/regexp/syntax/prog.go.html#4793103">EmptyWordBoundary</a></span>&nbsp;<span class="op" id="4793885">|</span>&nbsp;<span class="ident" id="4793887"><a href="/regexp/syntax/prog.go.html#4793122">EmptyNoWordBoundary</a></span><span class="op" id="4793906">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793912">return</span>&nbsp;<span class="ident" id="4793919"><a href="/regexp/syntax/prog.go.html#4793465">op</a></span><br>
<span class="lineno"></span><span class="op" id="4793922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4793925">//&nbsp;IsWordChar&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;consider&nbsp;a&nbsp;``word&nbsp;character&#39;&#39;</span><br>
<span class="lineno">105</span><span class="comment" id="4793990">//&nbsp;during&nbsp;the&nbsp;evaluation&nbsp;of&nbsp;the&nbsp;\b&nbsp;and&nbsp;\B&nbsp;zero-width&nbsp;assertions.</span><br>
<span class="lineno"></span><span class="comment" id="4794055">//&nbsp;These&nbsp;assertions&nbsp;are&nbsp;ASCII-only:&nbsp;the&nbsp;word&nbsp;characters&nbsp;are&nbsp;[A-Za-z0-9_].</span><br>
<span class="lineno"></span><span class="keyword" id="4794129">func</span>&nbsp;<span class="ident" id="4794134">IsWordChar</span><span class="op" id="4794144">(</span><span class="ident" id="4794145">r</span>&nbsp;<span class="builtintype" id="4794147">rune</span><span class="op" id="4794151">)</span>&nbsp;<span class="builtintype" id="4794153">bool</span>&nbsp;<span class="op" id="4794158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794161">return</span>&nbsp;<span class="string" id="4794168">&#39;A&#39;</span>&nbsp;<span class="op" id="4794172">&lt;=</span>&nbsp;<span class="ident" id="4794175"><a href="/regexp/syntax/prog.go.html#4794145">r</a></span>&nbsp;<span class="op" id="4794177">&amp;&amp;</span>&nbsp;<span class="ident" id="4794180"><a href="/regexp/syntax/prog.go.html#4794145">r</a></span>&nbsp;<span class="op" id="4794182">&lt;=</span>&nbsp;<span class="string" id="4794185">&#39;Z&#39;</span>&nbsp;<span class="op" id="4794189">||</span>&nbsp;<span class="string" id="4794192">&#39;a&#39;</span>&nbsp;<span class="op" id="4794196">&lt;=</span>&nbsp;<span class="ident" id="4794199"><a href="/regexp/syntax/prog.go.html#4794145">r</a></span>&nbsp;<span class="op" id="4794201">&amp;&amp;</span>&nbsp;<span class="ident" id="4794204"><a href="/regexp/syntax/prog.go.html#4794145">r</a></span>&nbsp;<span class="op" id="4794206">&lt;=</span>&nbsp;<span class="string" id="4794209">&#39;z&#39;</span>&nbsp;<span class="op" id="4794213">||</span>&nbsp;<span class="string" id="4794216">&#39;0&#39;</span>&nbsp;<span class="op" id="4794220">&lt;=</span>&nbsp;<span class="ident" id="4794223"><a href="/regexp/syntax/prog.go.html#4794145">r</a></span>&nbsp;<span class="op" id="4794225">&amp;&amp;</span>&nbsp;<span class="ident" id="4794228"><a href="/regexp/syntax/prog.go.html#4794145">r</a></span>&nbsp;<span class="op" id="4794230">&lt;=</span>&nbsp;<span class="string" id="4794233">&#39;9&#39;</span>&nbsp;<span class="op" id="4794237">||</span>&nbsp;<span class="ident" id="4794240"><a href="/regexp/syntax/prog.go.html#4794145">r</a></span>&nbsp;<span class="op" id="4794242">==</span>&nbsp;<span class="string" id="4794245">&#39;_&#39;</span><br>
<span class="lineno"></span><span class="op" id="4794249">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4794252">//&nbsp;An&nbsp;Inst&nbsp;is&nbsp;a&nbsp;single&nbsp;instruction&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="4794320">type</span>&nbsp;<span class="ident" id="4794325">Inst</span>&nbsp;<span class="keyword" id="4794330">struct</span>&nbsp;<span class="op" id="4794337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794340">Op</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4794345"><a href="/regexp/syntax/prog.go.html#4792440">InstOp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794353">Out</span>&nbsp;&nbsp;<span class="builtintype" id="4794358">uint32</span>&nbsp;<span class="comment" id="4794365">//&nbsp;all&nbsp;but&nbsp;InstMatch,&nbsp;InstFail</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794397">Arg</span>&nbsp;&nbsp;<span class="builtintype" id="4794402">uint32</span>&nbsp;<span class="comment" id="4794409">//&nbsp;InstAlt,&nbsp;InstAltMatch,&nbsp;InstCapture,&nbsp;InstEmptyWidth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794464">Rune</span>&nbsp;<span class="op" id="4794469">[</span><span class="op" id="4794470">]</span><span class="builtintype" id="4794471">rune</span><br>
<span class="lineno"></span><span class="op" id="4794476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4794479">func</span>&nbsp;<span class="op" id="4794484">(</span><span class="ident" id="4794485">p</span>&nbsp;<span class="op" id="4794487">*</span><span class="ident" id="4794488"><a href="/regexp/syntax/prog.go.html#4792273">Prog</a></span><span class="op" id="4794492">)</span>&nbsp;<span class="ident" id="4794494">String</span><span class="op" id="4794500">(</span><span class="op" id="4794501">)</span>&nbsp;<span class="builtintype" id="4794503">string</span>&nbsp;<span class="op" id="4794510">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794513">var</span>&nbsp;<span class="ident" id="4794517">b</span>&nbsp;<span class="ident" id="4794519"><a href="/regexp/syntax/prog.go.html#4792102">bytes</a></span><span class="op" id="4794524">.</span><span class="ident" id="4794525">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794533"><a href="/regexp/syntax/prog.go.html#4798542">dumpProg</a></span><span class="op" id="4794541">(</span><span class="op" id="4794542">&amp;</span><span class="ident" id="4794543"><a href="/regexp/syntax/prog.go.html#4794517">b</a></span><span class="op" id="4794544">,</span>&nbsp;<span class="ident" id="4794546"><a href="/regexp/syntax/prog.go.html#4794485">p</a></span><span class="op" id="4794547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794550">return</span>&nbsp;<span class="ident" id="4794557"><a href="/regexp/syntax/prog.go.html#4794517">b</a></span><span class="op" id="4794558">.</span><span class="ident" id="4794559">String</span><span class="op" id="4794565">(</span><span class="op" id="4794566">)</span><br>
<span class="lineno"></span><span class="op" id="4794568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="4794571">//&nbsp;skipNop&nbsp;follows&nbsp;any&nbsp;no-op&nbsp;or&nbsp;capturing&nbsp;instructions</span><br>
<span class="lineno"></span><span class="comment" id="4794626">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;pc.</span><br>
<span class="lineno"></span><span class="keyword" id="4794659">func</span>&nbsp;<span class="op" id="4794664">(</span><span class="ident" id="4794665">p</span>&nbsp;<span class="op" id="4794667">*</span><span class="ident" id="4794668"><a href="/regexp/syntax/prog.go.html#4792273">Prog</a></span><span class="op" id="4794672">)</span>&nbsp;<span class="ident" id="4794674">skipNop</span><span class="op" id="4794681">(</span><span class="ident" id="4794682">pc</span>&nbsp;<span class="builtintype" id="4794685">uint32</span><span class="op" id="4794691">)</span>&nbsp;<span class="op" id="4794693">(</span><span class="op" id="4794694">*</span><span class="ident" id="4794695"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><span class="op" id="4794699">,</span>&nbsp;<span class="builtintype" id="4794701">uint32</span><span class="op" id="4794707">)</span>&nbsp;<span class="op" id="4794709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794712">i</span>&nbsp;<span class="op" id="4794714">:=</span>&nbsp;<span class="op" id="4794717">&amp;</span><span class="ident" id="4794718"><a href="/regexp/syntax/prog.go.html#4794665">p</a></span><span class="op" id="4794719">.</span><span class="ident" id="4794720">Inst</span><span class="op" id="4794724">[</span><span class="ident" id="4794725"><a href="/regexp/syntax/prog.go.html#4794682">pc</a></span><span class="op" id="4794727">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794730">for</span>&nbsp;<span class="ident" id="4794734"><a href="/regexp/syntax/prog.go.html#4794712">i</a></span><span class="op" id="4794735">.</span><span class="ident" id="4794736">Op</span>&nbsp;<span class="op" id="4794739">==</span>&nbsp;<span class="ident" id="4794742"><a href="/regexp/syntax/prog.go.html#4792550">InstNop</a></span>&nbsp;<span class="op" id="4794750">||</span>&nbsp;<span class="ident" id="4794753"><a href="/regexp/syntax/prog.go.html#4794712">i</a></span><span class="op" id="4794754">.</span><span class="ident" id="4794755">Op</span>&nbsp;<span class="op" id="4794758">==</span>&nbsp;<span class="ident" id="4794761"><a href="/regexp/syntax/prog.go.html#4792500">InstCapture</a></span>&nbsp;<span class="op" id="4794773">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794777"><a href="/regexp/syntax/prog.go.html#4794682">pc</a></span>&nbsp;<span class="op" id="4794780">=</span>&nbsp;<span class="ident" id="4794782"><a href="/regexp/syntax/prog.go.html#4794712">i</a></span><span class="op" id="4794783">.</span><span class="ident" id="4794784">Out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794790"><a href="/regexp/syntax/prog.go.html#4794712">i</a></span>&nbsp;<span class="op" id="4794792">=</span>&nbsp;<span class="op" id="4794794">&amp;</span><span class="ident" id="4794795"><a href="/regexp/syntax/prog.go.html#4794665">p</a></span><span class="op" id="4794796">.</span><span class="ident" id="4794797">Inst</span><span class="op" id="4794801">[</span><span class="ident" id="4794802"><a href="/regexp/syntax/prog.go.html#4794682">pc</a></span><span class="op" id="4794804">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794810">return</span>&nbsp;<span class="ident" id="4794817"><a href="/regexp/syntax/prog.go.html#4794712">i</a></span><span class="op" id="4794818">,</span>&nbsp;<span class="ident" id="4794820"><a href="/regexp/syntax/prog.go.html#4794682">pc</a></span><br>
<span class="lineno"></span><span class="op" id="4794823">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="4794826">//&nbsp;op&nbsp;returns&nbsp;i.Op&nbsp;but&nbsp;merges&nbsp;all&nbsp;the&nbsp;Rune&nbsp;special&nbsp;cases&nbsp;into&nbsp;InstRune</span><br>
<span class="lineno"></span><span class="keyword" id="4794897">func</span>&nbsp;<span class="op" id="4794902">(</span><span class="ident" id="4794903">i</span>&nbsp;<span class="op" id="4794905">*</span><span class="ident" id="4794906"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><span class="op" id="4794910">)</span>&nbsp;<span class="ident" id="4794912">op</span><span class="op" id="4794914">(</span><span class="op" id="4794915">)</span>&nbsp;<span class="ident" id="4794917"><a href="/regexp/syntax/prog.go.html#4792440">InstOp</a></span>&nbsp;<span class="op" id="4794924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794927">op</span>&nbsp;<span class="op" id="4794930">:=</span>&nbsp;<span class="ident" id="4794933"><a href="/regexp/syntax/prog.go.html#4794903">i</a></span><span class="op" id="4794934">.</span><span class="ident" id="4794935">Op</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794939">switch</span>&nbsp;<span class="ident" id="4794946"><a href="/regexp/syntax/prog.go.html#4794927">op</a></span>&nbsp;<span class="op" id="4794949">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794952">case</span>&nbsp;<span class="ident" id="4794957"><a href="/regexp/syntax/prog.go.html#4792569">InstRune1</a></span><span class="op" id="4794966">,</span>&nbsp;<span class="ident" id="4794968"><a href="/regexp/syntax/prog.go.html#4792580">InstRuneAny</a></span><span class="op" id="4794979">,</span>&nbsp;<span class="ident" id="4794981"><a href="/regexp/syntax/prog.go.html#4792593">InstRuneAnyNotNL</a></span><span class="op" id="4794997">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795001"><a href="/regexp/syntax/prog.go.html#4794927">op</a></span>&nbsp;<span class="op" id="4795004">=</span>&nbsp;<span class="ident" id="4795006"><a href="/regexp/syntax/prog.go.html#4792559">InstRune</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795019">return</span>&nbsp;<span class="ident" id="4795026"><a href="/regexp/syntax/prog.go.html#4794927">op</a></span><br>
<span class="lineno"></span><span class="op" id="4795029">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="4795032">//&nbsp;Prefix&nbsp;returns&nbsp;a&nbsp;literal&nbsp;string&nbsp;that&nbsp;all&nbsp;matches&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4795092">//&nbsp;regexp&nbsp;must&nbsp;start&nbsp;with.&nbsp;&nbsp;Complete&nbsp;is&nbsp;true&nbsp;if&nbsp;the&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="4795151">//&nbsp;is&nbsp;the&nbsp;entire&nbsp;match.</span><br>
<span class="lineno"></span><span class="keyword" id="4795175">func</span>&nbsp;<span class="op" id="4795180">(</span><span class="ident" id="4795181">p</span>&nbsp;<span class="op" id="4795183">*</span><span class="ident" id="4795184"><a href="/regexp/syntax/prog.go.html#4792273">Prog</a></span><span class="op" id="4795188">)</span>&nbsp;<span class="ident" id="4795190">Prefix</span><span class="op" id="4795196">(</span><span class="op" id="4795197">)</span>&nbsp;<span class="op" id="4795199">(</span><span class="ident" id="4795200">prefix</span>&nbsp;<span class="builtintype" id="4795207">string</span><span class="op" id="4795213">,</span>&nbsp;<span class="ident" id="4795215">complete</span>&nbsp;<span class="builtintype" id="4795224">bool</span><span class="op" id="4795228">)</span>&nbsp;<span class="op" id="4795230">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795233">i</span><span class="op" id="4795234">,</span>&nbsp;<span class="ident" id="4795236">_</span>&nbsp;<span class="op" id="4795238">:=</span>&nbsp;<span class="ident" id="4795241"><a href="/regexp/syntax/prog.go.html#4795181">p</a></span><span class="op" id="4795242">.</span><span class="ident" id="4795243">skipNop</span><span class="op" id="4795250">(</span><span class="builtintype" id="4795251">uint32</span><span class="op" id="4795257">(</span><span class="ident" id="4795258"><a href="/regexp/syntax/prog.go.html#4795181">p</a></span><span class="op" id="4795259">.</span><span class="ident" id="4795260">Start</span><span class="op" id="4795265">)</span><span class="op" id="4795266">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4795270">//&nbsp;Avoid&nbsp;allocation&nbsp;of&nbsp;buffer&nbsp;if&nbsp;prefix&nbsp;is&nbsp;empty.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795321">if</span>&nbsp;<span class="ident" id="4795324"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795325">.</span><span class="ident" id="4795326">op</span><span class="op" id="4795328">(</span><span class="op" id="4795329">)</span>&nbsp;<span class="op" id="4795331">!=</span>&nbsp;<span class="ident" id="4795334"><a href="/regexp/syntax/prog.go.html#4792559">InstRune</a></span>&nbsp;<span class="op" id="4795343">||</span>&nbsp;<span class="builtinfunc" id="4795346">len</span><span class="op" id="4795349">(</span><span class="ident" id="4795350"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795351">.</span><span class="ident" id="4795352">Rune</span><span class="op" id="4795356">)</span>&nbsp;<span class="op" id="4795358">!=</span>&nbsp;<span class="num" id="4795361">1</span>&nbsp;<span class="op" id="4795363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795367">return</span>&nbsp;<span class="string" id="4795374">&#34;&#34;</span><span class="op" id="4795376">,</span>&nbsp;<span class="ident" id="4795378"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795379">.</span><span class="ident" id="4795380">Op</span>&nbsp;<span class="op" id="4795383">==</span>&nbsp;<span class="ident" id="4795386"><a href="/regexp/syntax/prog.go.html#4792529">InstMatch</a></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4795401">//&nbsp;Have&nbsp;prefix;&nbsp;gather&nbsp;characters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795437">var</span>&nbsp;<span class="ident" id="4795441">buf</span>&nbsp;<span class="ident" id="4795445"><a href="/regexp/syntax/prog.go.html#4792102">bytes</a></span><span class="op" id="4795450">.</span><span class="ident" id="4795451">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795459">for</span>&nbsp;<span class="ident" id="4795463"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795464">.</span><span class="ident" id="4795465">op</span><span class="op" id="4795467">(</span><span class="op" id="4795468">)</span>&nbsp;<span class="op" id="4795470">==</span>&nbsp;<span class="ident" id="4795473"><a href="/regexp/syntax/prog.go.html#4792559">InstRune</a></span>&nbsp;<span class="op" id="4795482">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4795485">len</span><span class="op" id="4795488">(</span><span class="ident" id="4795489"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795490">.</span><span class="ident" id="4795491">Rune</span><span class="op" id="4795495">)</span>&nbsp;<span class="op" id="4795497">==</span>&nbsp;<span class="num" id="4795500">1</span>&nbsp;<span class="op" id="4795502">&amp;&amp;</span>&nbsp;<span class="ident" id="4795505"><a href="/regexp/syntax/parse.go.html#4744412">Flags</a></span><span class="op" id="4795510">(</span><span class="ident" id="4795511"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795512">.</span><span class="ident" id="4795513">Arg</span><span class="op" id="4795516">)</span><span class="op" id="4795517">&amp;</span><span class="ident" id="4795518"><a href="/regexp/syntax/parse.go.html#4744435">FoldCase</a></span>&nbsp;<span class="op" id="4795527">==</span>&nbsp;<span class="num" id="4795530">0</span>&nbsp;<span class="op" id="4795532">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795536"><a href="/regexp/syntax/prog.go.html#4795441">buf</a></span><span class="op" id="4795539">.</span><span class="ident" id="4795540">WriteRune</span><span class="op" id="4795549">(</span><span class="ident" id="4795550"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795551">.</span><span class="ident" id="4795552">Rune</span><span class="op" id="4795556">[</span><span class="num" id="4795557">0</span><span class="op" id="4795558">]</span><span class="op" id="4795559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795563"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795564">,</span>&nbsp;<span class="ident" id="4795566">_</span>&nbsp;<span class="op" id="4795568">=</span>&nbsp;<span class="ident" id="4795570"><a href="/regexp/syntax/prog.go.html#4795181">p</a></span><span class="op" id="4795571">.</span><span class="ident" id="4795572">skipNop</span><span class="op" id="4795579">(</span><span class="ident" id="4795580"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795581">.</span><span class="ident" id="4795582">Out</span><span class="op" id="4795585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795591">return</span>&nbsp;<span class="ident" id="4795598"><a href="/regexp/syntax/prog.go.html#4795441">buf</a></span><span class="op" id="4795601">.</span><span class="ident" id="4795602">String</span><span class="op" id="4795608">(</span><span class="op" id="4795609">)</span><span class="op" id="4795610">,</span>&nbsp;<span class="ident" id="4795612"><a href="/regexp/syntax/prog.go.html#4795233">i</a></span><span class="op" id="4795613">.</span><span class="ident" id="4795614">Op</span>&nbsp;<span class="op" id="4795617">==</span>&nbsp;<span class="ident" id="4795620"><a href="/regexp/syntax/prog.go.html#4792529">InstMatch</a></span><br>
<span class="lineno"></span><span class="op" id="4795630">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="comment" id="4795633">//&nbsp;StartCond&nbsp;returns&nbsp;the&nbsp;leading&nbsp;empty-width&nbsp;conditions&nbsp;that&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="4795699">//&nbsp;be&nbsp;true&nbsp;in&nbsp;any&nbsp;match.&nbsp;&nbsp;It&nbsp;returns&nbsp;^EmptyOp(0)&nbsp;if&nbsp;no&nbsp;matches&nbsp;are&nbsp;possible.</span><br>
<span class="lineno"></span><span class="keyword" id="4795776">func</span>&nbsp;<span class="op" id="4795781">(</span><span class="ident" id="4795782">p</span>&nbsp;<span class="op" id="4795784">*</span><span class="ident" id="4795785"><a href="/regexp/syntax/prog.go.html#4792273">Prog</a></span><span class="op" id="4795789">)</span>&nbsp;<span class="ident" id="4795791">StartCond</span><span class="op" id="4795800">(</span><span class="op" id="4795801">)</span>&nbsp;<span class="ident" id="4795803"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span>&nbsp;<span class="op" id="4795811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795814">var</span>&nbsp;<span class="ident" id="4795818">flag</span>&nbsp;<span class="ident" id="4795823"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795832">pc</span>&nbsp;<span class="op" id="4795835">:=</span>&nbsp;<span class="builtintype" id="4795838">uint32</span><span class="op" id="4795844">(</span><span class="ident" id="4795845"><a href="/regexp/syntax/prog.go.html#4795782">p</a></span><span class="op" id="4795846">.</span><span class="ident" id="4795847">Start</span><span class="op" id="4795852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795855">i</span>&nbsp;<span class="op" id="4795857">:=</span>&nbsp;<span class="op" id="4795860">&amp;</span><span class="ident" id="4795861"><a href="/regexp/syntax/prog.go.html#4795782">p</a></span><span class="op" id="4795862">.</span><span class="ident" id="4795863">Inst</span><span class="op" id="4795867">[</span><span class="ident" id="4795868"><a href="/regexp/syntax/prog.go.html#4795832">pc</a></span><span class="op" id="4795870">]</span><br>
<span class="lineno"></span><span class="ident" id="4795872">Loop</span><span class="op" id="4795876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795879">for</span>&nbsp;<span class="op" id="4795883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795887">switch</span>&nbsp;<span class="ident" id="4795894"><a href="/regexp/syntax/prog.go.html#4795855">i</a></span><span class="op" id="4795895">.</span><span class="ident" id="4795896">Op</span>&nbsp;<span class="op" id="4795899">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795903">case</span>&nbsp;<span class="ident" id="4795908"><a href="/regexp/syntax/prog.go.html#4792513">InstEmptyWidth</a></span><span class="op" id="4795922">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795927"><a href="/regexp/syntax/prog.go.html#4795818">flag</a></span>&nbsp;<span class="op" id="4795932">|=</span>&nbsp;<span class="ident" id="4795935"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span><span class="op" id="4795942">(</span><span class="ident" id="4795943"><a href="/regexp/syntax/prog.go.html#4795855">i</a></span><span class="op" id="4795944">.</span><span class="ident" id="4795945">Arg</span><span class="op" id="4795948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795952">case</span>&nbsp;<span class="ident" id="4795957"><a href="/regexp/syntax/prog.go.html#4792540">InstFail</a></span><span class="op" id="4795965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795970">return</span>&nbsp;<span class="op" id="4795977">^</span><span class="ident" id="4795978"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span><span class="op" id="4795985">(</span><span class="num" id="4795986">0</span><span class="op" id="4795987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795991">case</span>&nbsp;<span class="ident" id="4795996"><a href="/regexp/syntax/prog.go.html#4792500">InstCapture</a></span><span class="op" id="4796007">,</span>&nbsp;<span class="ident" id="4796009"><a href="/regexp/syntax/prog.go.html#4792550">InstNop</a></span><span class="op" id="4796016">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4796021">//&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796031">default</span><span class="op" id="4796038">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796043">break</span>&nbsp;<span class="ident" id="4796049">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796060"><a href="/regexp/syntax/prog.go.html#4795832">pc</a></span>&nbsp;<span class="op" id="4796063">=</span>&nbsp;<span class="ident" id="4796065"><a href="/regexp/syntax/prog.go.html#4795855">i</a></span><span class="op" id="4796066">.</span><span class="ident" id="4796067">Out</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796073"><a href="/regexp/syntax/prog.go.html#4795855">i</a></span>&nbsp;<span class="op" id="4796075">=</span>&nbsp;<span class="op" id="4796077">&amp;</span><span class="ident" id="4796078"><a href="/regexp/syntax/prog.go.html#4795782">p</a></span><span class="op" id="4796079">.</span><span class="ident" id="4796080">Inst</span><span class="op" id="4796084">[</span><span class="ident" id="4796085"><a href="/regexp/syntax/prog.go.html#4795832">pc</a></span><span class="op" id="4796087">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796093">return</span>&nbsp;<span class="ident" id="4796100"><a href="/regexp/syntax/prog.go.html#4795818">flag</a></span><br>
<span class="lineno"></span><span class="op" id="4796105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="4796108">const</span>&nbsp;<span class="ident" id="4796114">noMatch</span>&nbsp;<span class="op" id="4796122">=</span>&nbsp;<span class="op" id="4796124">-</span><span class="num" id="4796125">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4796128">//&nbsp;MatchRune&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;instruction&nbsp;matches&nbsp;(and&nbsp;consumes)&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4796199">//&nbsp;It&nbsp;should&nbsp;only&nbsp;be&nbsp;called&nbsp;when&nbsp;i.Op&nbsp;==&nbsp;InstRune.</span><br>
<span class="lineno"></span><span class="keyword" id="4796250">func</span>&nbsp;<span class="op" id="4796255">(</span><span class="ident" id="4796256">i</span>&nbsp;<span class="op" id="4796258">*</span><span class="ident" id="4796259"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><span class="op" id="4796263">)</span>&nbsp;<span class="ident" id="4796265">MatchRune</span><span class="op" id="4796274">(</span><span class="ident" id="4796275">r</span>&nbsp;<span class="builtintype" id="4796277">rune</span><span class="op" id="4796281">)</span>&nbsp;<span class="builtintype" id="4796283">bool</span>&nbsp;<span class="op" id="4796288">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796291">return</span>&nbsp;<span class="ident" id="4796298"><a href="/regexp/syntax/prog.go.html#4796256">i</a></span><span class="op" id="4796299">.</span><span class="ident" id="4796300">MatchRunePos</span><span class="op" id="4796312">(</span><span class="ident" id="4796313"><a href="/regexp/syntax/prog.go.html#4796275">r</a></span><span class="op" id="4796314">)</span>&nbsp;<span class="op" id="4796316">!=</span>&nbsp;<span class="ident" id="4796319"><a href="/regexp/syntax/prog.go.html#4796114">noMatch</a></span><br>
<span class="lineno"></span><span class="op" id="4796327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4796330">//&nbsp;MatchRunePos&nbsp;checks&nbsp;whether&nbsp;the&nbsp;instruction&nbsp;matches&nbsp;(and&nbsp;consumes)&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="4796403">//&nbsp;If&nbsp;so,&nbsp;MatchRunePos&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;matching&nbsp;rune&nbsp;pair</span><br>
<span class="lineno">200</span><span class="comment" id="4796470">//&nbsp;(or,&nbsp;when&nbsp;len(i.Rune)&nbsp;==&nbsp;1,&nbsp;rune&nbsp;singleton).</span><br>
<span class="lineno"></span><span class="comment" id="4796518">//&nbsp;If&nbsp;not,&nbsp;MatchRunePos&nbsp;returns&nbsp;-1.</span><br>
<span class="lineno"></span><span class="comment" id="4796554">//&nbsp;MatchRunePos&nbsp;should&nbsp;only&nbsp;be&nbsp;called&nbsp;when&nbsp;i.Op&nbsp;==&nbsp;InstRune.</span><br>
<span class="lineno"></span><span class="keyword" id="4796615">func</span>&nbsp;<span class="op" id="4796620">(</span><span class="ident" id="4796621">i</span>&nbsp;<span class="op" id="4796623">*</span><span class="ident" id="4796624"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><span class="op" id="4796628">)</span>&nbsp;<span class="ident" id="4796630">MatchRunePos</span><span class="op" id="4796642">(</span><span class="ident" id="4796643">r</span>&nbsp;<span class="builtintype" id="4796645">rune</span><span class="op" id="4796649">)</span>&nbsp;<span class="builtintype" id="4796651">int</span>&nbsp;<span class="op" id="4796655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="4796658">rune</span>&nbsp;<span class="op" id="4796663">:=</span>&nbsp;<span class="ident" id="4796666"><a href="/regexp/syntax/prog.go.html#4796621">i</a></span><span class="op" id="4796667">.</span><span class="ident" id="4796668">Rune</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4796675">//&nbsp;Special&nbsp;case:&nbsp;single-rune&nbsp;slice&nbsp;is&nbsp;from&nbsp;literal&nbsp;string,&nbsp;not&nbsp;char&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796751">if</span>&nbsp;<span class="builtinfunc" id="4796754">len</span><span class="op" id="4796757">(</span><span class="builtintype" id="4796758"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4796762">)</span>&nbsp;<span class="op" id="4796764">==</span>&nbsp;<span class="num" id="4796767">1</span>&nbsp;<span class="op" id="4796769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796773">r0</span>&nbsp;<span class="op" id="4796776">:=</span>&nbsp;<span class="builtintype" id="4796779"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4796783">[</span><span class="num" id="4796784">0</span><span class="op" id="4796785">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796789">if</span>&nbsp;<span class="ident" id="4796792"><a href="/regexp/syntax/prog.go.html#4796643">r</a></span>&nbsp;<span class="op" id="4796794">==</span>&nbsp;<span class="ident" id="4796797"><a href="/regexp/syntax/prog.go.html#4796773">r0</a></span>&nbsp;<span class="op" id="4796800">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796805">return</span>&nbsp;<span class="num" id="4796812">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796820">if</span>&nbsp;<span class="ident" id="4796823"><a href="/regexp/syntax/parse.go.html#4744412">Flags</a></span><span class="op" id="4796828">(</span><span class="ident" id="4796829"><a href="/regexp/syntax/prog.go.html#4796621">i</a></span><span class="op" id="4796830">.</span><span class="ident" id="4796831">Arg</span><span class="op" id="4796834">)</span><span class="op" id="4796835">&amp;</span><span class="ident" id="4796836"><a href="/regexp/syntax/parse.go.html#4744435">FoldCase</a></span>&nbsp;<span class="op" id="4796845">!=</span>&nbsp;<span class="num" id="4796848">0</span>&nbsp;<span class="op" id="4796850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796855">for</span>&nbsp;<span class="ident" id="4796859">r1</span>&nbsp;<span class="op" id="4796862">:=</span>&nbsp;<span class="ident" id="4796865"><a href="/regexp/syntax/prog.go.html#4792122">unicode</a></span><span class="op" id="4796872">.</span><span class="ident" id="4796873">SimpleFold</span><span class="op" id="4796883">(</span><span class="ident" id="4796884"><a href="/regexp/syntax/prog.go.html#4796773">r0</a></span><span class="op" id="4796886">)</span><span class="op" id="4796887">;</span>&nbsp;<span class="ident" id="4796889"><a href="/regexp/syntax/prog.go.html#4796859">r1</a></span>&nbsp;<span class="op" id="4796892">!=</span>&nbsp;<span class="ident" id="4796895"><a href="/regexp/syntax/prog.go.html#4796773">r0</a></span><span class="op" id="4796897">;</span>&nbsp;<span class="ident" id="4796899"><a href="/regexp/syntax/prog.go.html#4796859">r1</a></span>&nbsp;<span class="op" id="4796902">=</span>&nbsp;<span class="ident" id="4796904"><a href="/regexp/syntax/prog.go.html#4792122">unicode</a></span><span class="op" id="4796911">.</span><span class="ident" id="4796912">SimpleFold</span><span class="op" id="4796922">(</span><span class="ident" id="4796923"><a href="/regexp/syntax/prog.go.html#4796859">r1</a></span><span class="op" id="4796925">)</span>&nbsp;<span class="op" id="4796927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796933">if</span>&nbsp;<span class="ident" id="4796936"><a href="/regexp/syntax/prog.go.html#4796643">r</a></span>&nbsp;<span class="op" id="4796938">==</span>&nbsp;<span class="ident" id="4796941"><a href="/regexp/syntax/prog.go.html#4796859">r1</a></span>&nbsp;<span class="op" id="4796944">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796951">return</span>&nbsp;<span class="num" id="4796958">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796977">return</span>&nbsp;<span class="ident" id="4796984"><a href="/regexp/syntax/prog.go.html#4796114">noMatch</a></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4796997">//&nbsp;Peek&nbsp;at&nbsp;the&nbsp;first&nbsp;few&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4797030">//&nbsp;Should&nbsp;handle&nbsp;ASCII&nbsp;well.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797060">for</span>&nbsp;<span class="ident" id="4797064">j</span>&nbsp;<span class="op" id="4797066">:=</span>&nbsp;<span class="num" id="4797069">0</span><span class="op" id="4797070">;</span>&nbsp;<span class="ident" id="4797072"><a href="/regexp/syntax/prog.go.html#4797064">j</a></span>&nbsp;<span class="op" id="4797074">&lt;</span>&nbsp;<span class="builtinfunc" id="4797076">len</span><span class="op" id="4797079">(</span><span class="builtintype" id="4797080"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4797084">)</span>&nbsp;<span class="op" id="4797086">&amp;&amp;</span>&nbsp;<span class="ident" id="4797089"><a href="/regexp/syntax/prog.go.html#4797064">j</a></span>&nbsp;<span class="op" id="4797091">&lt;=</span>&nbsp;<span class="num" id="4797094">8</span><span class="op" id="4797095">;</span>&nbsp;<span class="ident" id="4797097"><a href="/regexp/syntax/prog.go.html#4797064">j</a></span>&nbsp;<span class="op" id="4797099">+=</span>&nbsp;<span class="num" id="4797102">2</span>&nbsp;<span class="op" id="4797104">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797108">if</span>&nbsp;<span class="ident" id="4797111"><a href="/regexp/syntax/prog.go.html#4796643">r</a></span>&nbsp;<span class="op" id="4797113">&lt;</span>&nbsp;<span class="builtintype" id="4797115"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4797119">[</span><span class="ident" id="4797120"><a href="/regexp/syntax/prog.go.html#4797064">j</a></span><span class="op" id="4797121">]</span>&nbsp;<span class="op" id="4797123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797128">return</span>&nbsp;<span class="ident" id="4797135"><a href="/regexp/syntax/prog.go.html#4796114">noMatch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797149">if</span>&nbsp;<span class="ident" id="4797152"><a href="/regexp/syntax/prog.go.html#4796643">r</a></span>&nbsp;<span class="op" id="4797154">&lt;=</span>&nbsp;<span class="builtintype" id="4797157"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4797161">[</span><span class="ident" id="4797162"><a href="/regexp/syntax/prog.go.html#4797064">j</a></span><span class="op" id="4797163">+</span><span class="num" id="4797164">1</span><span class="op" id="4797165">]</span>&nbsp;<span class="op" id="4797167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797172">return</span>&nbsp;<span class="ident" id="4797179"><a href="/regexp/syntax/prog.go.html#4797064">j</a></span>&nbsp;<span class="op" id="4797181">/</span>&nbsp;<span class="num" id="4797183">2</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4797194">//&nbsp;Otherwise&nbsp;binary&nbsp;search.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797223">lo</span>&nbsp;<span class="op" id="4797226">:=</span>&nbsp;<span class="num" id="4797229">0</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797232">hi</span>&nbsp;<span class="op" id="4797235">:=</span>&nbsp;<span class="builtinfunc" id="4797238">len</span><span class="op" id="4797241">(</span><span class="builtintype" id="4797242"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4797246">)</span>&nbsp;<span class="op" id="4797248">/</span>&nbsp;<span class="num" id="4797250">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797253">for</span>&nbsp;<span class="ident" id="4797257"><a href="/regexp/syntax/prog.go.html#4797223">lo</a></span>&nbsp;<span class="op" id="4797260">&lt;</span>&nbsp;<span class="ident" id="4797262"><a href="/regexp/syntax/prog.go.html#4797232">hi</a></span>&nbsp;<span class="op" id="4797265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797269">m</span>&nbsp;<span class="op" id="4797271">:=</span>&nbsp;<span class="ident" id="4797274"><a href="/regexp/syntax/prog.go.html#4797223">lo</a></span>&nbsp;<span class="op" id="4797277">+</span>&nbsp;<span class="op" id="4797279">(</span><span class="ident" id="4797280"><a href="/regexp/syntax/prog.go.html#4797232">hi</a></span><span class="op" id="4797282">-</span><span class="ident" id="4797283"><a href="/regexp/syntax/prog.go.html#4797223">lo</a></span><span class="op" id="4797285">)</span><span class="op" id="4797286">/</span><span class="num" id="4797287">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797291">if</span>&nbsp;<span class="ident" id="4797294">c</span>&nbsp;<span class="op" id="4797296">:=</span>&nbsp;<span class="builtintype" id="4797299"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4797303">[</span><span class="num" id="4797304">2</span><span class="op" id="4797305">*</span><span class="ident" id="4797306"><a href="/regexp/syntax/prog.go.html#4797269">m</a></span><span class="op" id="4797307">]</span><span class="op" id="4797308">;</span>&nbsp;<span class="ident" id="4797310"><a href="/regexp/syntax/prog.go.html#4797294">c</a></span>&nbsp;<span class="op" id="4797312">&lt;=</span>&nbsp;<span class="ident" id="4797315"><a href="/regexp/syntax/prog.go.html#4796643">r</a></span>&nbsp;<span class="op" id="4797317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797322">if</span>&nbsp;<span class="ident" id="4797325"><a href="/regexp/syntax/prog.go.html#4796643">r</a></span>&nbsp;<span class="op" id="4797327">&lt;=</span>&nbsp;<span class="builtintype" id="4797330"><a href="/regexp/syntax/prog.go.html#4796658">rune</a></span><span class="op" id="4797334">[</span><span class="num" id="4797335">2</span><span class="op" id="4797336">*</span><span class="ident" id="4797337"><a href="/regexp/syntax/prog.go.html#4797269">m</a></span><span class="op" id="4797338">+</span><span class="num" id="4797339">1</span><span class="op" id="4797340">]</span>&nbsp;<span class="op" id="4797342">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797348">return</span>&nbsp;<span class="ident" id="4797355"><a href="/regexp/syntax/prog.go.html#4797269">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797365"><a href="/regexp/syntax/prog.go.html#4797223">lo</a></span>&nbsp;<span class="op" id="4797368">=</span>&nbsp;<span class="ident" id="4797370"><a href="/regexp/syntax/prog.go.html#4797269">m</a></span>&nbsp;<span class="op" id="4797372">+</span>&nbsp;<span class="num" id="4797374">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797378">}</span>&nbsp;<span class="keyword" id="4797380">else</span>&nbsp;<span class="op" id="4797385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4797390"><a href="/regexp/syntax/prog.go.html#4797232">hi</a></span>&nbsp;<span class="op" id="4797393">=</span>&nbsp;<span class="ident" id="4797395"><a href="/regexp/syntax/prog.go.html#4797269">m</a></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797405">return</span>&nbsp;<span class="ident" id="4797412"><a href="/regexp/syntax/prog.go.html#4796114">noMatch</a></span><br>
<span class="lineno"></span><span class="op" id="4797420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="comment" id="4797423">//&nbsp;As&nbsp;per&nbsp;re2&#39;s&nbsp;Prog::IsWordChar.&nbsp;Determines&nbsp;whether&nbsp;rune&nbsp;is&nbsp;an&nbsp;ASCII&nbsp;word&nbsp;char.</span><br>
<span class="lineno"></span><span class="comment" id="4797504">//&nbsp;Since&nbsp;we&nbsp;act&nbsp;on&nbsp;runes,&nbsp;it&nbsp;would&nbsp;be&nbsp;easy&nbsp;to&nbsp;support&nbsp;Unicode&nbsp;here.</span><br>
<span class="lineno"></span><span class="keyword" id="4797572">func</span>&nbsp;<span class="ident" id="4797577">wordRune</span><span class="op" id="4797585">(</span><span class="ident" id="4797586">r</span>&nbsp;<span class="builtintype" id="4797588">rune</span><span class="op" id="4797592">)</span>&nbsp;<span class="builtintype" id="4797594">bool</span>&nbsp;<span class="op" id="4797599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797602">return</span>&nbsp;<span class="ident" id="4797609"><a href="/regexp/syntax/prog.go.html#4797586">r</a></span>&nbsp;<span class="op" id="4797611">==</span>&nbsp;<span class="string" id="4797614">&#39;_&#39;</span>&nbsp;<span class="op" id="4797618">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797623">(</span><span class="string" id="4797624">&#39;A&#39;</span>&nbsp;<span class="op" id="4797628">&lt;=</span>&nbsp;<span class="ident" id="4797631"><a href="/regexp/syntax/prog.go.html#4797586">r</a></span>&nbsp;<span class="op" id="4797633">&amp;&amp;</span>&nbsp;<span class="ident" id="4797636"><a href="/regexp/syntax/prog.go.html#4797586">r</a></span>&nbsp;<span class="op" id="4797638">&lt;=</span>&nbsp;<span class="string" id="4797641">&#39;Z&#39;</span><span class="op" id="4797644">)</span>&nbsp;<span class="op" id="4797646">||</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797651">(</span><span class="string" id="4797652">&#39;a&#39;</span>&nbsp;<span class="op" id="4797656">&lt;=</span>&nbsp;<span class="ident" id="4797659"><a href="/regexp/syntax/prog.go.html#4797586">r</a></span>&nbsp;<span class="op" id="4797661">&amp;&amp;</span>&nbsp;<span class="ident" id="4797664"><a href="/regexp/syntax/prog.go.html#4797586">r</a></span>&nbsp;<span class="op" id="4797666">&lt;=</span>&nbsp;<span class="string" id="4797669">&#39;z&#39;</span><span class="op" id="4797672">)</span>&nbsp;<span class="op" id="4797674">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4797679">(</span><span class="string" id="4797680">&#39;0&#39;</span>&nbsp;<span class="op" id="4797684">&lt;=</span>&nbsp;<span class="ident" id="4797687"><a href="/regexp/syntax/prog.go.html#4797586">r</a></span>&nbsp;<span class="op" id="4797689">&amp;&amp;</span>&nbsp;<span class="ident" id="4797692"><a href="/regexp/syntax/prog.go.html#4797586">r</a></span>&nbsp;<span class="op" id="4797694">&lt;=</span>&nbsp;<span class="string" id="4797697">&#39;9&#39;</span><span class="op" id="4797700">)</span><br>
<span class="lineno"></span><span class="op" id="4797702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4797705">//&nbsp;MatchEmptyWidth&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;instruction&nbsp;matches</span><br>
<span class="lineno">260</span><span class="comment" id="4797764">//&nbsp;an&nbsp;empty&nbsp;string&nbsp;between&nbsp;the&nbsp;runes&nbsp;before&nbsp;and&nbsp;after.</span><br>
<span class="lineno"></span><span class="comment" id="4797819">//&nbsp;It&nbsp;should&nbsp;only&nbsp;be&nbsp;called&nbsp;when&nbsp;i.Op&nbsp;==&nbsp;InstEmptyWidth.</span><br>
<span class="lineno"></span><span class="keyword" id="4797876">func</span>&nbsp;<span class="op" id="4797881">(</span><span class="ident" id="4797882">i</span>&nbsp;<span class="op" id="4797884">*</span><span class="ident" id="4797885"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><span class="op" id="4797889">)</span>&nbsp;<span class="ident" id="4797891">MatchEmptyWidth</span><span class="op" id="4797906">(</span><span class="ident" id="4797907">before</span>&nbsp;<span class="builtintype" id="4797914">rune</span><span class="op" id="4797918">,</span>&nbsp;<span class="ident" id="4797920">after</span>&nbsp;<span class="builtintype" id="4797926">rune</span><span class="op" id="4797930">)</span>&nbsp;<span class="builtintype" id="4797932">bool</span>&nbsp;<span class="op" id="4797937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797940">switch</span>&nbsp;<span class="ident" id="4797947"><a href="/regexp/syntax/prog.go.html#4792999">EmptyOp</a></span><span class="op" id="4797954">(</span><span class="ident" id="4797955"><a href="/regexp/syntax/prog.go.html#4797882">i</a></span><span class="op" id="4797956">.</span><span class="ident" id="4797957">Arg</span><span class="op" id="4797960">)</span>&nbsp;<span class="op" id="4797962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797965">case</span>&nbsp;<span class="ident" id="4797970"><a href="/regexp/syntax/prog.go.html#4793023">EmptyBeginLine</a></span><span class="op" id="4797984">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4797988">return</span>&nbsp;<span class="ident" id="4797995"><a href="/regexp/syntax/prog.go.html#4797907">before</a></span>&nbsp;<span class="op" id="4798002">==</span>&nbsp;<span class="string" id="4798005">&#39;\n&#39;</span>&nbsp;<span class="op" id="4798010">||</span>&nbsp;<span class="ident" id="4798013"><a href="/regexp/syntax/prog.go.html#4797907">before</a></span>&nbsp;<span class="op" id="4798020">==</span>&nbsp;<span class="op" id="4798023">-</span><span class="num" id="4798024">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798027">case</span>&nbsp;<span class="ident" id="4798032"><a href="/regexp/syntax/prog.go.html#4793059">EmptyEndLine</a></span><span class="op" id="4798044">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798048">return</span>&nbsp;<span class="ident" id="4798055"><a href="/regexp/syntax/prog.go.html#4797920">after</a></span>&nbsp;<span class="op" id="4798061">==</span>&nbsp;<span class="string" id="4798064">&#39;\n&#39;</span>&nbsp;<span class="op" id="4798069">||</span>&nbsp;<span class="ident" id="4798072"><a href="/regexp/syntax/prog.go.html#4797920">after</a></span>&nbsp;<span class="op" id="4798078">==</span>&nbsp;<span class="op" id="4798081">-</span><span class="num" id="4798082">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798085">case</span>&nbsp;<span class="ident" id="4798090"><a href="/regexp/syntax/prog.go.html#4793073">EmptyBeginText</a></span><span class="op" id="4798104">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798108">return</span>&nbsp;<span class="ident" id="4798115"><a href="/regexp/syntax/prog.go.html#4797907">before</a></span>&nbsp;<span class="op" id="4798122">==</span>&nbsp;<span class="op" id="4798125">-</span><span class="num" id="4798126">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798129">case</span>&nbsp;<span class="ident" id="4798134"><a href="/regexp/syntax/prog.go.html#4793089">EmptyEndText</a></span><span class="op" id="4798146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798150">return</span>&nbsp;<span class="ident" id="4798157"><a href="/regexp/syntax/prog.go.html#4797920">after</a></span>&nbsp;<span class="op" id="4798163">==</span>&nbsp;<span class="op" id="4798166">-</span><span class="num" id="4798167">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798170">case</span>&nbsp;<span class="ident" id="4798175"><a href="/regexp/syntax/prog.go.html#4793103">EmptyWordBoundary</a></span><span class="op" id="4798192">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798196">return</span>&nbsp;<span class="ident" id="4798203"><a href="/regexp/syntax/prog.go.html#4797577">wordRune</a></span><span class="op" id="4798211">(</span><span class="ident" id="4798212"><a href="/regexp/syntax/prog.go.html#4797907">before</a></span><span class="op" id="4798218">)</span>&nbsp;<span class="op" id="4798220">!=</span>&nbsp;<span class="ident" id="4798223"><a href="/regexp/syntax/prog.go.html#4797577">wordRune</a></span><span class="op" id="4798231">(</span><span class="ident" id="4798232"><a href="/regexp/syntax/prog.go.html#4797920">after</a></span><span class="op" id="4798237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798240">case</span>&nbsp;<span class="ident" id="4798245"><a href="/regexp/syntax/prog.go.html#4793122">EmptyNoWordBoundary</a></span><span class="op" id="4798264">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798268">return</span>&nbsp;<span class="ident" id="4798275"><a href="/regexp/syntax/prog.go.html#4797577">wordRune</a></span><span class="op" id="4798283">(</span><span class="ident" id="4798284"><a href="/regexp/syntax/prog.go.html#4797907">before</a></span><span class="op" id="4798290">)</span>&nbsp;<span class="op" id="4798292">==</span>&nbsp;<span class="ident" id="4798295"><a href="/regexp/syntax/prog.go.html#4797577">wordRune</a></span><span class="op" id="4798303">(</span><span class="ident" id="4798304"><a href="/regexp/syntax/prog.go.html#4797920">after</a></span><span class="op" id="4798309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4798315">panic</span><span class="op" id="4798320">(</span><span class="string" id="4798321">&#34;unknown&nbsp;empty&nbsp;width&nbsp;arg&#34;</span><span class="op" id="4798346">)</span><br>
<span class="lineno"></span><span class="op" id="4798348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="4798351">func</span>&nbsp;<span class="op" id="4798356">(</span><span class="ident" id="4798357">i</span>&nbsp;<span class="op" id="4798359">*</span><span class="ident" id="4798360"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><span class="op" id="4798364">)</span>&nbsp;<span class="ident" id="4798366">String</span><span class="op" id="4798372">(</span><span class="op" id="4798373">)</span>&nbsp;<span class="builtintype" id="4798375">string</span>&nbsp;<span class="op" id="4798382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798385">var</span>&nbsp;<span class="ident" id="4798389">b</span>&nbsp;<span class="ident" id="4798391"><a href="/regexp/syntax/prog.go.html#4792102">bytes</a></span><span class="op" id="4798396">.</span><span class="ident" id="4798397">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798405"><a href="/regexp/syntax/prog.go.html#4798873">dumpInst</a></span><span class="op" id="4798413">(</span><span class="op" id="4798414">&amp;</span><span class="ident" id="4798415"><a href="/regexp/syntax/prog.go.html#4798389">b</a></span><span class="op" id="4798416">,</span>&nbsp;<span class="ident" id="4798418"><a href="/regexp/syntax/prog.go.html#4798357">i</a></span><span class="op" id="4798419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798422">return</span>&nbsp;<span class="ident" id="4798429"><a href="/regexp/syntax/prog.go.html#4798389">b</a></span><span class="op" id="4798430">.</span><span class="ident" id="4798431">String</span><span class="op" id="4798437">(</span><span class="op" id="4798438">)</span><br>
<span class="lineno"></span><span class="op" id="4798440">}</span><br>
<span class="lineno">285</span><br>
<span class="lineno"></span><span class="keyword" id="4798443">func</span>&nbsp;<span class="ident" id="4798448">bw</span><span class="op" id="4798450">(</span><span class="ident" id="4798451">b</span>&nbsp;<span class="op" id="4798453">*</span><span class="ident" id="4798454"><a href="/regexp/syntax/prog.go.html#4792102">bytes</a></span><span class="op" id="4798459">.</span><span class="ident" id="4798460">Buffer</span><span class="op" id="4798466">,</span>&nbsp;<span class="ident" id="4798468">args</span>&nbsp;<span class="op" id="4798473">...</span><span class="builtintype" id="4798476">string</span><span class="op" id="4798482">)</span>&nbsp;<span class="op" id="4798484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798487">for</span>&nbsp;<span class="ident" id="4798491">_</span><span class="op" id="4798492">,</span>&nbsp;<span class="ident" id="4798494">s</span>&nbsp;<span class="op" id="4798496">:=</span>&nbsp;<span class="keyword" id="4798499">range</span>&nbsp;<span class="ident" id="4798505"><a href="/regexp/syntax/prog.go.html#4798468">args</a></span>&nbsp;<span class="op" id="4798510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798514"><a href="/regexp/syntax/prog.go.html#4798451">b</a></span><span class="op" id="4798515">.</span><span class="ident" id="4798516">WriteString</span><span class="op" id="4798527">(</span><span class="ident" id="4798528"><a href="/regexp/syntax/prog.go.html#4798494">s</a></span><span class="op" id="4798529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798532">}</span><br>
<span class="lineno">290</span><span class="op" id="4798534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4798537">func</span>&nbsp;<span class="ident" id="4798542">dumpProg</span><span class="op" id="4798550">(</span><span class="ident" id="4798551">b</span>&nbsp;<span class="op" id="4798553">*</span><span class="ident" id="4798554"><a href="/regexp/syntax/prog.go.html#4792102">bytes</a></span><span class="op" id="4798559">.</span><span class="ident" id="4798560">Buffer</span><span class="op" id="4798566">,</span>&nbsp;<span class="ident" id="4798568">p</span>&nbsp;<span class="op" id="4798570">*</span><span class="ident" id="4798571"><a href="/regexp/syntax/prog.go.html#4792273">Prog</a></span><span class="op" id="4798575">)</span>&nbsp;<span class="op" id="4798577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798580">for</span>&nbsp;<span class="ident" id="4798584">j</span>&nbsp;<span class="op" id="4798586">:=</span>&nbsp;<span class="keyword" id="4798589">range</span>&nbsp;<span class="ident" id="4798595"><a href="/regexp/syntax/prog.go.html#4798568">p</a></span><span class="op" id="4798596">.</span><span class="ident" id="4798597">Inst</span>&nbsp;<span class="op" id="4798602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798606">i</span>&nbsp;<span class="op" id="4798608">:=</span>&nbsp;<span class="op" id="4798611">&amp;</span><span class="ident" id="4798612"><a href="/regexp/syntax/prog.go.html#4798568">p</a></span><span class="op" id="4798613">.</span><span class="ident" id="4798614">Inst</span><span class="op" id="4798618">[</span><span class="ident" id="4798619"><a href="/regexp/syntax/prog.go.html#4798584">j</a></span><span class="op" id="4798620">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798624">pc</span>&nbsp;<span class="op" id="4798627">:=</span>&nbsp;<span class="ident" id="4798630"><a href="/regexp/syntax/prog.go.html#4792111">strconv</a></span><span class="op" id="4798637">.</span><span class="ident" id="4798638">Itoa</span><span class="op" id="4798642">(</span><span class="ident" id="4798643"><a href="/regexp/syntax/prog.go.html#4798584">j</a></span><span class="op" id="4798644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798648">if</span>&nbsp;<span class="builtinfunc" id="4798651">len</span><span class="op" id="4798654">(</span><span class="ident" id="4798655"><a href="/regexp/syntax/prog.go.html#4798624">pc</a></span><span class="op" id="4798657">)</span>&nbsp;<span class="op" id="4798659">&lt;</span>&nbsp;<span class="num" id="4798661">3</span>&nbsp;<span class="op" id="4798663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798668"><a href="/regexp/syntax/prog.go.html#4798551">b</a></span><span class="op" id="4798669">.</span><span class="ident" id="4798670">WriteString</span><span class="op" id="4798681">(</span><span class="string" id="4798682">&#34;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="4798687">[</span><span class="builtinfunc" id="4798688">len</span><span class="op" id="4798691">(</span><span class="ident" id="4798692"><a href="/regexp/syntax/prog.go.html#4798624">pc</a></span><span class="op" id="4798694">)</span><span class="op" id="4798695">:</span><span class="op" id="4798696">]</span><span class="op" id="4798697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798705">if</span>&nbsp;<span class="ident" id="4798708"><a href="/regexp/syntax/prog.go.html#4798584">j</a></span>&nbsp;<span class="op" id="4798710">==</span>&nbsp;<span class="ident" id="4798713"><a href="/regexp/syntax/prog.go.html#4798568">p</a></span><span class="op" id="4798714">.</span><span class="ident" id="4798715">Start</span>&nbsp;<span class="op" id="4798721">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798726"><a href="/regexp/syntax/prog.go.html#4798624">pc</a></span>&nbsp;<span class="op" id="4798729">+=</span>&nbsp;<span class="string" id="4798732">&#34;*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798742"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4798744">(</span><span class="ident" id="4798745"><a href="/regexp/syntax/prog.go.html#4798551">b</a></span><span class="op" id="4798746">,</span>&nbsp;<span class="ident" id="4798748"><a href="/regexp/syntax/prog.go.html#4798624">pc</a></span><span class="op" id="4798750">,</span>&nbsp;<span class="string" id="4798752">&#34;\t&#34;</span><span class="op" id="4798756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798760"><a href="/regexp/syntax/prog.go.html#4798873">dumpInst</a></span><span class="op" id="4798768">(</span><span class="ident" id="4798769"><a href="/regexp/syntax/prog.go.html#4798551">b</a></span><span class="op" id="4798770">,</span>&nbsp;<span class="ident" id="4798772"><a href="/regexp/syntax/prog.go.html#4798606">i</a></span><span class="op" id="4798773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798777"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4798779">(</span><span class="ident" id="4798780"><a href="/regexp/syntax/prog.go.html#4798551">b</a></span><span class="op" id="4798781">,</span>&nbsp;<span class="string" id="4798783">&#34;\n&#34;</span><span class="op" id="4798787">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4798790">}</span><br>
<span class="lineno"></span><span class="op" id="4798792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4798795">func</span>&nbsp;<span class="ident" id="4798800">u32</span><span class="op" id="4798803">(</span><span class="ident" id="4798804">i</span>&nbsp;<span class="builtintype" id="4798806">uint32</span><span class="op" id="4798812">)</span>&nbsp;<span class="builtintype" id="4798814">string</span>&nbsp;<span class="op" id="4798821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798824">return</span>&nbsp;<span class="ident" id="4798831"><a href="/regexp/syntax/prog.go.html#4792111">strconv</a></span><span class="op" id="4798838">.</span><span class="ident" id="4798839">FormatUint</span><span class="op" id="4798849">(</span><span class="ident" id="4798850">uint64</span><span class="op" id="4798856">(</span><span class="ident" id="4798857"><a href="/regexp/syntax/prog.go.html#4798804">i</a></span><span class="op" id="4798858">)</span><span class="op" id="4798859">,</span>&nbsp;<span class="num" id="4798861">10</span><span class="op" id="4798863">)</span><br>
<span class="lineno">310</span><span class="op" id="4798865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4798868">func</span>&nbsp;<span class="ident" id="4798873">dumpInst</span><span class="op" id="4798881">(</span><span class="ident" id="4798882">b</span>&nbsp;<span class="op" id="4798884">*</span><span class="ident" id="4798885"><a href="/regexp/syntax/prog.go.html#4792102">bytes</a></span><span class="op" id="4798890">.</span><span class="ident" id="4798891">Buffer</span><span class="op" id="4798897">,</span>&nbsp;<span class="ident" id="4798899">i</span>&nbsp;<span class="op" id="4798901">*</span><span class="ident" id="4798902"><a href="/regexp/syntax/prog.go.html#4794325">Inst</a></span><span class="op" id="4798906">)</span>&nbsp;<span class="op" id="4798908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798911">switch</span>&nbsp;<span class="ident" id="4798918"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4798919">.</span><span class="ident" id="4798920">Op</span>&nbsp;<span class="op" id="4798923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798926">case</span>&nbsp;<span class="ident" id="4798931"><a href="/regexp/syntax/prog.go.html#4792463">InstAlt</a></span><span class="op" id="4798938">:</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4798942"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4798944">(</span><span class="ident" id="4798945"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4798946">,</span>&nbsp;<span class="string" id="4798948">&#34;alt&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4798957">,</span>&nbsp;<span class="ident" id="4798959"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4798962">(</span><span class="ident" id="4798963"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4798964">.</span><span class="ident" id="4798965">Out</span><span class="op" id="4798968">)</span><span class="op" id="4798969">,</span>&nbsp;<span class="string" id="4798971">&#34;,&nbsp;&#34;</span><span class="op" id="4798975">,</span>&nbsp;<span class="ident" id="4798977"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4798980">(</span><span class="ident" id="4798981"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4798982">.</span><span class="ident" id="4798983">Arg</span><span class="op" id="4798986">)</span><span class="op" id="4798987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4798990">case</span>&nbsp;<span class="ident" id="4798995"><a href="/regexp/syntax/prog.go.html#4792486">InstAltMatch</a></span><span class="op" id="4799007">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799011"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799013">(</span><span class="ident" id="4799014"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799015">,</span>&nbsp;<span class="string" id="4799017">&#34;altmatch&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799031">,</span>&nbsp;<span class="ident" id="4799033"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799036">(</span><span class="ident" id="4799037"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799038">.</span><span class="ident" id="4799039">Out</span><span class="op" id="4799042">)</span><span class="op" id="4799043">,</span>&nbsp;<span class="string" id="4799045">&#34;,&nbsp;&#34;</span><span class="op" id="4799049">,</span>&nbsp;<span class="ident" id="4799051"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799054">(</span><span class="ident" id="4799055"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799056">.</span><span class="ident" id="4799057">Arg</span><span class="op" id="4799060">)</span><span class="op" id="4799061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799064">case</span>&nbsp;<span class="ident" id="4799069"><a href="/regexp/syntax/prog.go.html#4792500">InstCapture</a></span><span class="op" id="4799080">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799084"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799086">(</span><span class="ident" id="4799087"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799088">,</span>&nbsp;<span class="string" id="4799090">&#34;cap&nbsp;&#34;</span><span class="op" id="4799096">,</span>&nbsp;<span class="ident" id="4799098"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799101">(</span><span class="ident" id="4799102"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799103">.</span><span class="ident" id="4799104">Arg</span><span class="op" id="4799107">)</span><span class="op" id="4799108">,</span>&nbsp;<span class="string" id="4799110">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799116">,</span>&nbsp;<span class="ident" id="4799118"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799121">(</span><span class="ident" id="4799122"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799123">.</span><span class="ident" id="4799124">Out</span><span class="op" id="4799127">)</span><span class="op" id="4799128">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799131">case</span>&nbsp;<span class="ident" id="4799136"><a href="/regexp/syntax/prog.go.html#4792513">InstEmptyWidth</a></span><span class="op" id="4799150">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799154"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799156">(</span><span class="ident" id="4799157"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799158">,</span>&nbsp;<span class="string" id="4799160">&#34;empty&nbsp;&#34;</span><span class="op" id="4799168">,</span>&nbsp;<span class="ident" id="4799170"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799173">(</span><span class="ident" id="4799174"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799175">.</span><span class="ident" id="4799176">Arg</span><span class="op" id="4799179">)</span><span class="op" id="4799180">,</span>&nbsp;<span class="string" id="4799182">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799188">,</span>&nbsp;<span class="ident" id="4799190"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799193">(</span><span class="ident" id="4799194"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799195">.</span><span class="ident" id="4799196">Out</span><span class="op" id="4799199">)</span><span class="op" id="4799200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799203">case</span>&nbsp;<span class="ident" id="4799208"><a href="/regexp/syntax/prog.go.html#4792529">InstMatch</a></span><span class="op" id="4799217">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799221"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799223">(</span><span class="ident" id="4799224"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799225">,</span>&nbsp;<span class="string" id="4799227">&#34;match&#34;</span><span class="op" id="4799234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799237">case</span>&nbsp;<span class="ident" id="4799242"><a href="/regexp/syntax/prog.go.html#4792540">InstFail</a></span><span class="op" id="4799250">:</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799254"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799256">(</span><span class="ident" id="4799257"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799258">,</span>&nbsp;<span class="string" id="4799260">&#34;fail&#34;</span><span class="op" id="4799266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799269">case</span>&nbsp;<span class="ident" id="4799274"><a href="/regexp/syntax/prog.go.html#4792550">InstNop</a></span><span class="op" id="4799281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799285"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799287">(</span><span class="ident" id="4799288"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799289">,</span>&nbsp;<span class="string" id="4799291">&#34;nop&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799300">,</span>&nbsp;<span class="ident" id="4799302"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799305">(</span><span class="ident" id="4799306"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799307">.</span><span class="ident" id="4799308">Out</span><span class="op" id="4799311">)</span><span class="op" id="4799312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799315">case</span>&nbsp;<span class="ident" id="4799320"><a href="/regexp/syntax/prog.go.html#4792559">InstRune</a></span><span class="op" id="4799328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799332">if</span>&nbsp;<span class="ident" id="4799335"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799336">.</span><span class="ident" id="4799337">Rune</span>&nbsp;<span class="op" id="4799342">==</span>&nbsp;<span class="ident" id="4799345">nil</span>&nbsp;<span class="op" id="4799349">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4799354">//&nbsp;shouldn&#39;t&nbsp;happen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799377"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799379">(</span><span class="ident" id="4799380"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799381">,</span>&nbsp;<span class="string" id="4799383">&#34;rune&nbsp;&lt;nil&gt;&#34;</span><span class="op" id="4799395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799403"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799405">(</span><span class="ident" id="4799406"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799407">,</span>&nbsp;<span class="string" id="4799409">&#34;rune&nbsp;&#34;</span><span class="op" id="4799416">,</span>&nbsp;<span class="ident" id="4799418"><a href="/regexp/syntax/prog.go.html#4792111">strconv</a></span><span class="op" id="4799425">.</span><span class="ident" id="4799426">QuoteToASCII</span><span class="op" id="4799438">(</span><span class="builtintype" id="4799439">string</span><span class="op" id="4799445">(</span><span class="ident" id="4799446"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799447">.</span><span class="ident" id="4799448">Rune</span><span class="op" id="4799452">)</span><span class="op" id="4799453">)</span><span class="op" id="4799454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799458">if</span>&nbsp;<span class="ident" id="4799461"><a href="/regexp/syntax/parse.go.html#4744412">Flags</a></span><span class="op" id="4799466">(</span><span class="ident" id="4799467"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799468">.</span><span class="ident" id="4799469">Arg</span><span class="op" id="4799472">)</span><span class="op" id="4799473">&amp;</span><span class="ident" id="4799474"><a href="/regexp/syntax/parse.go.html#4744435">FoldCase</a></span>&nbsp;<span class="op" id="4799483">!=</span>&nbsp;<span class="num" id="4799486">0</span>&nbsp;<span class="op" id="4799488">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799493"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799495">(</span><span class="ident" id="4799496"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799497">,</span>&nbsp;<span class="string" id="4799499">&#34;/i&#34;</span><span class="op" id="4799503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799511"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799513">(</span><span class="ident" id="4799514"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799515">,</span>&nbsp;<span class="string" id="4799517">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799523">,</span>&nbsp;<span class="ident" id="4799525"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799528">(</span><span class="ident" id="4799529"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799530">.</span><span class="ident" id="4799531">Out</span><span class="op" id="4799534">)</span><span class="op" id="4799535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799538">case</span>&nbsp;<span class="ident" id="4799543"><a href="/regexp/syntax/prog.go.html#4792569">InstRune1</a></span><span class="op" id="4799552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799556"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799558">(</span><span class="ident" id="4799559"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799560">,</span>&nbsp;<span class="string" id="4799562">&#34;rune1&nbsp;&#34;</span><span class="op" id="4799570">,</span>&nbsp;<span class="ident" id="4799572"><a href="/regexp/syntax/prog.go.html#4792111">strconv</a></span><span class="op" id="4799579">.</span><span class="ident" id="4799580">QuoteToASCII</span><span class="op" id="4799592">(</span><span class="builtintype" id="4799593">string</span><span class="op" id="4799599">(</span><span class="ident" id="4799600"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799601">.</span><span class="ident" id="4799602">Rune</span><span class="op" id="4799606">)</span><span class="op" id="4799607">)</span><span class="op" id="4799608">,</span>&nbsp;<span class="string" id="4799610">&#34;&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799616">,</span>&nbsp;<span class="ident" id="4799618"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799621">(</span><span class="ident" id="4799622"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799623">.</span><span class="ident" id="4799624">Out</span><span class="op" id="4799627">)</span><span class="op" id="4799628">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799631">case</span>&nbsp;<span class="ident" id="4799636"><a href="/regexp/syntax/prog.go.html#4792580">InstRuneAny</a></span><span class="op" id="4799647">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799651"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799653">(</span><span class="ident" id="4799654"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799655">,</span>&nbsp;<span class="string" id="4799657">&#34;any&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799666">,</span>&nbsp;<span class="ident" id="4799668"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799671">(</span><span class="ident" id="4799672"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799673">.</span><span class="ident" id="4799674">Out</span><span class="op" id="4799677">)</span><span class="op" id="4799678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4799681">case</span>&nbsp;<span class="ident" id="4799686"><a href="/regexp/syntax/prog.go.html#4792593">InstRuneAnyNotNL</a></span><span class="op" id="4799702">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4799706"><a href="/regexp/syntax/prog.go.html#4798448">bw</a></span><span class="op" id="4799708">(</span><span class="ident" id="4799709"><a href="/regexp/syntax/prog.go.html#4798882">b</a></span><span class="op" id="4799710">,</span>&nbsp;<span class="string" id="4799712">&#34;anynotnl&nbsp;-&gt;&nbsp;&#34;</span><span class="op" id="4799726">,</span>&nbsp;<span class="ident" id="4799728"><a href="/regexp/syntax/prog.go.html#4798800">u32</a></span><span class="op" id="4799731">(</span><span class="ident" id="4799732"><a href="/regexp/syntax/prog.go.html#4798899">i</a></span><span class="op" id="4799733">.</span><span class="ident" id="4799734">Out</span><span class="op" id="4799737">)</span><span class="op" id="4799738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4799741">}</span><br>
<span class="lineno">345</span><span class="op" id="4799743">}</span>
</div>
</body>
</html>
