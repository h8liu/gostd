<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/bzip2</h2>
<ul>
<li><a href="/gostd/compress/bzip2/bit_reader.go.html" class="current">bit_reader.go</a></li>
<li><a href="/gostd/compress/bzip2/bzip2.go.html">bzip2.go</a></li>
<li><a href="/gostd/compress/bzip2/bzip2_test.go.html">bzip2_test.go</a></li>
<li><a href="/gostd/compress/bzip2/huffman.go.html">huffman.go</a></li>
<li><a href="/gostd/compress/bzip2/move_to_front.go.html">move_to_front.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1329532">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1329587">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1329641">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1329692">package</span>&nbsp;<span class="ident" id="1329700">bzip2</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1329707">import</span>&nbsp;<span class="op" id="1329714">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1329717">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1329726">&#34;io&#34;</span><br>
<span class="lineno">10</span><span class="op" id="1329731">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1329734">//&nbsp;bitReader&nbsp;wraps&nbsp;an&nbsp;io.Reader&nbsp;and&nbsp;provides&nbsp;the&nbsp;ability&nbsp;to&nbsp;read&nbsp;values,</span><br>
<span class="lineno"></span><span class="comment" id="1329807">//&nbsp;bit-by-bit,&nbsp;from&nbsp;it.&nbsp;Its&nbsp;Read*&nbsp;methods&nbsp;don&#39;t&nbsp;return&nbsp;the&nbsp;usual&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="1329878">//&nbsp;because&nbsp;the&nbsp;error&nbsp;handling&nbsp;was&nbsp;verbose.&nbsp;Instead,&nbsp;any&nbsp;error&nbsp;is&nbsp;kept&nbsp;and&nbsp;can</span><br>
<span class="lineno">15</span><span class="comment" id="1329956">//&nbsp;be&nbsp;checked&nbsp;afterwards.</span><br>
<span class="lineno"></span><span class="keyword" id="1329982">type</span>&nbsp;<span class="ident" id="1329987">bitReader</span>&nbsp;<span class="keyword" id="1329997">struct</span>&nbsp;<span class="op" id="1330004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330007">r</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330012"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329726">io</a></span><span class="op" id="1330014">.</span><span class="ident" id="1330015"><a href="/gostd/io/io.go.html#1426965">ByteReader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330027">n</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1330032">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330040">bits</span>&nbsp;<span class="builtintype" id="1330045">uint</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330051">err</span>&nbsp;&nbsp;<span class="builtintype" id="1330056">error</span><br>
<span class="lineno"></span><span class="op" id="1330062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1330065">//&nbsp;newBitReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;bitReader&nbsp;reading&nbsp;from&nbsp;r.&nbsp;If&nbsp;r&nbsp;is&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="1330133">//&nbsp;already&nbsp;an&nbsp;io.ByteReader,&nbsp;it&nbsp;will&nbsp;be&nbsp;converted&nbsp;via&nbsp;a&nbsp;bufio.Reader.</span><br>
<span class="lineno">25</span><span class="keyword" id="1330203">func</span>&nbsp;<span class="ident" id="1330208">newBitReader</span><span class="op" id="1330220">(</span><span class="ident" id="1330221">r</span>&nbsp;<span class="ident" id="1330223"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329726">io</a></span><span class="op" id="1330225">.</span><span class="ident" id="1330226"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="1330232">)</span>&nbsp;<span class="ident" id="1330234"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329987">bitReader</a></span>&nbsp;<span class="op" id="1330244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330247">byter</span><span class="op" id="1330252">,</span>&nbsp;<span class="ident" id="1330254">ok</span>&nbsp;<span class="op" id="1330257">:=</span>&nbsp;<span class="ident" id="1330260"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330221">r</a></span><span class="op" id="1330261">.</span><span class="op" id="1330262">(</span><span class="ident" id="1330263"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329726">io</a></span><span class="op" id="1330265">.</span><span class="ident" id="1330266"><a href="/gostd/io/io.go.html#1426965">ByteReader</a></span><span class="op" id="1330276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1330279">if</span>&nbsp;<span class="op" id="1330282">!</span><span class="ident" id="1330283"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330254">ok</a></span>&nbsp;<span class="op" id="1330286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330290"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330247">byter</a></span>&nbsp;<span class="op" id="1330296">=</span>&nbsp;<span class="ident" id="1330298"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329717">bufio</a></span><span class="op" id="1330303">.</span><span class="ident" id="1330304"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="1330313">(</span><span class="ident" id="1330314"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330221">r</a></span><span class="op" id="1330315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1330318">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1330321">return</span>&nbsp;<span class="ident" id="1330328"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329987">bitReader</a></span><span class="op" id="1330337">{</span><span class="ident" id="1330338"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330007">r</a></span><span class="op" id="1330339">:</span>&nbsp;<span class="ident" id="1330341"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330247">byter</a></span><span class="op" id="1330346">}</span><br>
<span class="lineno"></span><span class="op" id="1330348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1330351">//&nbsp;ReadBits64&nbsp;reads&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;bits&nbsp;and&nbsp;returns&nbsp;them&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1330420">//&nbsp;least-significant&nbsp;part&nbsp;of&nbsp;a&nbsp;uint64.&nbsp;In&nbsp;the&nbsp;event&nbsp;of&nbsp;an&nbsp;error,&nbsp;it&nbsp;returns&nbsp;0</span><br>
<span class="lineno">35</span><span class="comment" id="1330498">//&nbsp;and&nbsp;the&nbsp;error&nbsp;can&nbsp;be&nbsp;obtained&nbsp;by&nbsp;calling&nbsp;Err().</span><br>
<span class="lineno"></span><span class="keyword" id="1330549">func</span>&nbsp;<span class="op" id="1330554">(</span><span class="ident" id="1330555">br</span>&nbsp;<span class="op" id="1330558">*</span><span class="ident" id="1330559"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329987">bitReader</a></span><span class="op" id="1330568">)</span>&nbsp;<span class="ident" id="1330570">ReadBits64</span><span class="op" id="1330580">(</span><span class="ident" id="1330581">bits</span>&nbsp;<span class="builtintype" id="1330586">uint</span><span class="op" id="1330590">)</span>&nbsp;<span class="op" id="1330592">(</span><span class="ident" id="1330593">n</span>&nbsp;<span class="builtintype" id="1330595">uint64</span><span class="op" id="1330601">)</span>&nbsp;<span class="op" id="1330603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1330606">for</span>&nbsp;<span class="ident" id="1330610"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330581">bits</a></span>&nbsp;<span class="op" id="1330615">&gt;</span>&nbsp;<span class="ident" id="1330617"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1330619">.</span><span class="ident" id="1330620"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330040">bits</a></span>&nbsp;<span class="op" id="1330625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330629">b</span><span class="op" id="1330630">,</span>&nbsp;<span class="ident" id="1330632">err</span>&nbsp;<span class="op" id="1330636">:=</span>&nbsp;<span class="ident" id="1330639"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1330641">.</span><span class="ident" id="1330642"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330007">r</a></span><span class="op" id="1330643">.</span><span class="ident" id="1330644"><a href="/gostd/io/io.go.html#1426989">ReadByte</a></span><span class="op" id="1330652">(</span><span class="op" id="1330653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1330657">if</span>&nbsp;<span class="ident" id="1330660"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330632">err</a></span>&nbsp;<span class="op" id="1330664">==</span>&nbsp;<span class="ident" id="1330667"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329726">io</a></span><span class="op" id="1330669">.</span><span class="ident" id="1330670"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="1330674">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330679"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330632">err</a></span>&nbsp;<span class="op" id="1330683">=</span>&nbsp;<span class="ident" id="1330685"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329726">io</a></span><span class="op" id="1330687">.</span><span class="ident" id="1330688"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1330707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1330711">if</span>&nbsp;<span class="ident" id="1330714"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330632">err</a></span>&nbsp;<span class="op" id="1330718">!=</span>&nbsp;<span class="builtintype" id="1330721">nil</span>&nbsp;<span class="op" id="1330725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330730"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1330732">.</span><span class="ident" id="1330733"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330051">err</a></span>&nbsp;<span class="op" id="1330737">=</span>&nbsp;<span class="ident" id="1330739"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330632">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1330746">return</span>&nbsp;<span class="num" id="1330753">0</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1330757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330761"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1330763">.</span><span class="ident" id="1330764"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330027">n</a></span>&nbsp;<span class="op" id="1330766">&lt;&lt;=</span>&nbsp;<span class="num" id="1330770">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330774"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1330776">.</span><span class="ident" id="1330777"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330027">n</a></span>&nbsp;<span class="op" id="1330779">|=</span>&nbsp;<span class="builtintype" id="1330782">uint64</span><span class="op" id="1330788">(</span><span class="ident" id="1330789"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330629">b</a></span><span class="op" id="1330790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1330794"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1330796">.</span><span class="ident" id="1330797"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330040">bits</a></span>&nbsp;<span class="op" id="1330802">+=</span>&nbsp;<span class="num" id="1330805">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1330808">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1330812">//&nbsp;br.n&nbsp;looks&nbsp;like&nbsp;this&nbsp;(assuming&nbsp;that&nbsp;br.bits&nbsp;=&nbsp;14&nbsp;and&nbsp;bits&nbsp;=&nbsp;6):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1330880">//&nbsp;Bit:&nbsp;111111</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1330896">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5432109876543210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1330922">//</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1330926">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(6&nbsp;bits,&nbsp;the&nbsp;desired&nbsp;output)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1330967">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-----|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1330986">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1331005">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0101101101001110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1331031">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1331057">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|------------|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1331083">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;br.bits&nbsp;(num&nbsp;valid&nbsp;bits)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1331122">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1331126">//&nbsp;This&nbsp;the&nbsp;next&nbsp;line&nbsp;right&nbsp;shifts&nbsp;the&nbsp;desired&nbsp;bits&nbsp;into&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1331188">//&nbsp;least-significant&nbsp;places&nbsp;and&nbsp;masks&nbsp;off&nbsp;anything&nbsp;above.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1331247"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330593">n</a></span>&nbsp;<span class="op" id="1331249">=</span>&nbsp;<span class="op" id="1331251">(</span><span class="ident" id="1331252"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1331254">.</span><span class="ident" id="1331255"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330027">n</a></span>&nbsp;<span class="op" id="1331257">&gt;&gt;</span>&nbsp;<span class="op" id="1331260">(</span><span class="ident" id="1331261"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1331263">.</span><span class="ident" id="1331264"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330040">bits</a></span>&nbsp;<span class="op" id="1331269">-</span>&nbsp;<span class="ident" id="1331271"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330581">bits</a></span><span class="op" id="1331275">)</span><span class="op" id="1331276">)</span>&nbsp;<span class="op" id="1331278">&amp;</span>&nbsp;<span class="op" id="1331280">(</span><span class="op" id="1331281">(</span><span class="num" id="1331282">1</span>&nbsp;<span class="op" id="1331284">&lt;&lt;</span>&nbsp;<span class="ident" id="1331287"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330581">bits</a></span><span class="op" id="1331291">)</span>&nbsp;<span class="op" id="1331293">-</span>&nbsp;<span class="num" id="1331295">1</span><span class="op" id="1331296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1331299"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330555">br</a></span><span class="op" id="1331301">.</span><span class="ident" id="1331302"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330040">bits</a></span>&nbsp;<span class="op" id="1331307">-=</span>&nbsp;<span class="ident" id="1331310"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330581">bits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1331316">return</span><br>
<span class="lineno"></span><span class="op" id="1331323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1331326">func</span>&nbsp;<span class="op" id="1331331">(</span><span class="ident" id="1331332">br</span>&nbsp;<span class="op" id="1331335">*</span><span class="ident" id="1331336"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329987">bitReader</a></span><span class="op" id="1331345">)</span>&nbsp;<span class="ident" id="1331347">ReadBits</span><span class="op" id="1331355">(</span><span class="ident" id="1331356">bits</span>&nbsp;<span class="builtintype" id="1331361">uint</span><span class="op" id="1331365">)</span>&nbsp;<span class="op" id="1331367">(</span><span class="ident" id="1331368">n</span>&nbsp;<span class="builtintype" id="1331370">int</span><span class="op" id="1331373">)</span>&nbsp;<span class="op" id="1331375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1331378">n64</span>&nbsp;<span class="op" id="1331382">:=</span>&nbsp;<span class="ident" id="1331385"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331332">br</a></span><span class="op" id="1331387">.</span><span class="ident" id="1331388"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330570">ReadBits64</a></span><span class="op" id="1331398">(</span><span class="ident" id="1331399"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331356">bits</a></span><span class="op" id="1331403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1331406">return</span>&nbsp;<span class="builtintype" id="1331413">int</span><span class="op" id="1331416">(</span><span class="ident" id="1331417"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331378">n64</a></span><span class="op" id="1331420">)</span><br>
<span class="lineno"></span><span class="op" id="1331422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1331425">func</span>&nbsp;<span class="op" id="1331430">(</span><span class="ident" id="1331431">br</span>&nbsp;<span class="op" id="1331434">*</span><span class="ident" id="1331435"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329987">bitReader</a></span><span class="op" id="1331444">)</span>&nbsp;<span class="ident" id="1331446">ReadBit</span><span class="op" id="1331453">(</span><span class="op" id="1331454">)</span>&nbsp;<span class="builtintype" id="1331456">bool</span>&nbsp;<span class="op" id="1331461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1331464">n</span>&nbsp;<span class="op" id="1331466">:=</span>&nbsp;<span class="ident" id="1331469"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331431">br</a></span><span class="op" id="1331471">.</span><span class="ident" id="1331472"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331347">ReadBits</a></span><span class="op" id="1331480">(</span><span class="num" id="1331481">1</span><span class="op" id="1331482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1331485">return</span>&nbsp;<span class="ident" id="1331492"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331464">n</a></span>&nbsp;<span class="op" id="1331494">!=</span>&nbsp;<span class="num" id="1331497">0</span><br>
<span class="lineno"></span><span class="op" id="1331499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="1331502">func</span>&nbsp;<span class="op" id="1331507">(</span><span class="ident" id="1331508">br</span>&nbsp;<span class="op" id="1331511">*</span><span class="ident" id="1331512"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329987">bitReader</a></span><span class="op" id="1331521">)</span>&nbsp;<span class="ident" id="1331523">TryReadBit</span><span class="op" id="1331533">(</span><span class="op" id="1331534">)</span>&nbsp;<span class="op" id="1331536">(</span><span class="ident" id="1331537">bit</span>&nbsp;<span class="builtintype" id="1331541">byte</span><span class="op" id="1331545">,</span>&nbsp;<span class="ident" id="1331547">ok</span>&nbsp;<span class="builtintype" id="1331550">bool</span><span class="op" id="1331554">)</span>&nbsp;<span class="op" id="1331556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1331559">if</span>&nbsp;<span class="ident" id="1331562"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331508">br</a></span><span class="op" id="1331564">.</span><span class="ident" id="1331565"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330040">bits</a></span>&nbsp;<span class="op" id="1331570">&gt;</span>&nbsp;<span class="num" id="1331572">0</span>&nbsp;<span class="op" id="1331574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1331578"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331508">br</a></span><span class="op" id="1331580">.</span><span class="ident" id="1331581"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330040">bits</a></span><span class="op" id="1331585">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1331590">return</span>&nbsp;<span class="builtintype" id="1331597">byte</span><span class="op" id="1331601">(</span><span class="ident" id="1331602"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331508">br</a></span><span class="op" id="1331604">.</span><span class="ident" id="1331605"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330027">n</a></span><span class="op" id="1331606">&gt;&gt;</span><span class="ident" id="1331608"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331508">br</a></span><span class="op" id="1331610">.</span><span class="ident" id="1331611"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330040">bits</a></span><span class="op" id="1331615">)</span>&nbsp;<span class="op" id="1331617">&amp;</span>&nbsp;<span class="num" id="1331619">1</span><span class="op" id="1331620">,</span>&nbsp;<span class="builtintype" id="1331622">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1331628">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1331631">return</span>&nbsp;<span class="num" id="1331638">0</span><span class="op" id="1331639">,</span>&nbsp;<span class="builtintype" id="1331641">false</span><br>
<span class="lineno"></span><span class="op" id="1331647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1331650">func</span>&nbsp;<span class="op" id="1331655">(</span><span class="ident" id="1331656">br</span>&nbsp;<span class="op" id="1331659">*</span><span class="ident" id="1331660"><a href="/gostd/compress/bzip2/bit_reader.go.html#1329987">bitReader</a></span><span class="op" id="1331669">)</span>&nbsp;<span class="ident" id="1331671">Err</span><span class="op" id="1331674">(</span><span class="op" id="1331675">)</span>&nbsp;<span class="builtintype" id="1331677">error</span>&nbsp;<span class="op" id="1331683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1331686">return</span>&nbsp;<span class="ident" id="1331693"><a href="/gostd/compress/bzip2/bit_reader.go.html#1331656">br</a></span><span class="op" id="1331695">.</span><span class="ident" id="1331696"><a href="/gostd/compress/bzip2/bit_reader.go.html#1330051">err</a></span><br>
<span class="lineno">90</span><span class="op" id="1331700">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
