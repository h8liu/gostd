<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html" class="current">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7859034">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7859090">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7859144">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7859195">package</span>&nbsp;<span class="ident" id="7859203">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7859210">import</span>&nbsp;<span class="op" id="7859217">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859220">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859226">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859237">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7859247">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7859250">const</span>&nbsp;<span class="ident" id="7859256">quote</span>&nbsp;<span class="op" id="7859262">=</span>&nbsp;<span class="string" id="7859264">&#34;`&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7859269">type</span>&nbsp;<span class="ident" id="7859274">readTest</span>&nbsp;<span class="keyword" id="7859283">struct</span>&nbsp;<span class="op" id="7859290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7859293">//&nbsp;Test&nbsp;input&nbsp;contains&nbsp;ℙ&nbsp;where&nbsp;readImports&nbsp;should&nbsp;stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7859352">in</span>&nbsp;&nbsp;<span class="builtintype" id="7859356">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7859364">err</span>&nbsp;<span class="builtintype" id="7859368">string</span><br>
<span class="lineno"></span><span class="op" id="7859375">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7859378">var</span>&nbsp;<span class="ident" id="7859382">readImportsTests</span>&nbsp;<span class="op" id="7859399">=</span>&nbsp;<span class="op" id="7859401">[</span><span class="op" id="7859402">]</span><span class="ident" id="7859403"><a href="/gostd/go/build/read_test.go.html#7859274">readTest</a></span><span class="op" id="7859411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859418">`package&nbsp;p`</span><span class="op" id="7859429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859433">&#34;&#34;</span><span class="op" id="7859435">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859438">}</span><span class="op" id="7859439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859446">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7859469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859473">&#34;&#34;</span><span class="op" id="7859475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859478">}</span><span class="op" id="7859479">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859486">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7859511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859515">&#34;&#34;</span><span class="op" id="7859517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859520">}</span><span class="op" id="7859521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859524">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859528">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;;ℙvar&nbsp;x&nbsp;=&nbsp;1`</span><span class="op" id="7859564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859568">&#34;&#34;</span><span class="op" id="7859570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859573">}</span><span class="op" id="7859574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859581">`package&nbsp;p<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;a&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;(<br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;x&#34;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&#34;x&#34;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span>&nbsp;<span class="op" id="7859742">+</span>&nbsp;<span class="ident" id="7859744"><a href="/gostd/go/build/read_test.go.html#7859256">quote</a></span>&nbsp;<span class="op" id="7859750">+</span>&nbsp;<span class="string" id="7859752">`x`</span>&nbsp;<span class="op" id="7859756">+</span>&nbsp;<span class="ident" id="7859758"><a href="/gostd/go/build/read_test.go.html#7859256">quote</a></span>&nbsp;<span class="op" id="7859764">+</span>&nbsp;<span class="string" id="7859766">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;/*comment*/&nbsp;`</span>&nbsp;<span class="op" id="7859787">+</span>&nbsp;<span class="ident" id="7859789"><a href="/gostd/go/build/read_test.go.html#7859256">quote</a></span>&nbsp;<span class="op" id="7859795">+</span>&nbsp;<span class="string" id="7859797">`x`</span>&nbsp;<span class="op" id="7859801">+</span>&nbsp;<span class="ident" id="7859803"><a href="/gostd/go/build/read_test.go.html#7859256">quote</a></span>&nbsp;<span class="op" id="7859809">+</span>&nbsp;<span class="string" id="7859811">`<br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;`</span>&nbsp;<span class="op" id="7859820">+</span>&nbsp;<span class="ident" id="7859822"><a href="/gostd/go/build/read_test.go.html#7859256">quote</a></span>&nbsp;<span class="op" id="7859828">+</span>&nbsp;<span class="string" id="7859830">`x`</span>&nbsp;<span class="op" id="7859834">+</span>&nbsp;<span class="ident" id="7859836"><a href="/gostd/go/build/read_test.go.html#7859256">quote</a></span>&nbsp;<span class="op" id="7859842">+</span>&nbsp;<span class="string" id="7859844">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;(<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;()<br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import()import()import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import();import();import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ℙvar&nbsp;x&nbsp;=&nbsp;1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span><span class="op" id="7859954">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7859958">&#34;&#34;</span><span class="op" id="7859960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7859963">}</span><span class="op" id="7859964">,</span><br>
<span class="lineno"></span><span class="op" id="7859966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7859969">var</span>&nbsp;<span class="ident" id="7859973">readCommentsTests</span>&nbsp;<span class="op" id="7859991">=</span>&nbsp;<span class="op" id="7859993">[</span><span class="op" id="7859994">]</span><span class="ident" id="7859995"><a href="/gostd/go/build/read_test.go.html#7859274">readTest</a></span><span class="op" id="7860003">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860010">`ℙpackage&nbsp;p`</span><span class="op" id="7860024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860028">&#34;&#34;</span><span class="op" id="7860030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860033">}</span><span class="op" id="7860034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860037">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860041">`ℙpackage&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7860067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860071">&#34;&#34;</span><span class="op" id="7860073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860076">}</span><span class="op" id="7860077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860084">`ℙpackage&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7860112">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860116">&#34;&#34;</span><span class="op" id="7860118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860121">}</span><span class="op" id="7860122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860129">`//&nbsp;foo<br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;bar&nbsp;*/<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;quux&nbsp;*/&nbsp;//&nbsp;baz<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*/&nbsp;zot&nbsp;*/<br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;asdf<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ℙHello,&nbsp;world`</span><span class="op" id="7860216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7860220">&#34;&#34;</span><span class="op" id="7860222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860225">}</span><span class="op" id="7860226">,</span><br>
<span class="lineno">95</span><span class="op" id="7860228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7860231">func</span>&nbsp;<span class="ident" id="7860236">testRead</span><span class="op" id="7860244">(</span><span class="ident" id="7860245">t</span>&nbsp;<span class="op" id="7860247">*</span><span class="ident" id="7860248"><a href="/gostd/go/build/read_test.go.html#7859237">testing</a></span><span class="op" id="7860255">.</span><span class="ident" id="7860256"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7860257">,</span>&nbsp;<span class="ident" id="7860259">tests</span>&nbsp;<span class="op" id="7860265">[</span><span class="op" id="7860266">]</span><span class="ident" id="7860267"><a href="/gostd/go/build/read_test.go.html#7859274">readTest</a></span><span class="op" id="7860275">,</span>&nbsp;<span class="ident" id="7860277">read</span>&nbsp;<span class="keyword" id="7860282">func</span><span class="op" id="7860286">(</span><span class="ident" id="7860287"><a href="/gostd/go/build/read_test.go.html#7859220">io</a></span><span class="op" id="7860289">.</span><span class="ident" id="7860290"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="7860296">)</span>&nbsp;<span class="op" id="7860298">(</span><span class="op" id="7860299">[</span><span class="op" id="7860300">]</span><span class="builtintype" id="7860301">byte</span><span class="op" id="7860305">,</span>&nbsp;<span class="builtintype" id="7860307">error</span><span class="op" id="7860312">)</span><span class="op" id="7860313">)</span>&nbsp;<span class="op" id="7860315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860318">for</span>&nbsp;<span class="ident" id="7860322">i</span><span class="op" id="7860323">,</span>&nbsp;<span class="ident" id="7860325">tt</span>&nbsp;<span class="op" id="7860328">:=</span>&nbsp;<span class="keyword" id="7860331">range</span>&nbsp;<span class="ident" id="7860337"><a href="/gostd/go/build/read_test.go.html#7860259">tests</a></span>&nbsp;<span class="op" id="7860343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860347">var</span>&nbsp;<span class="ident" id="7860351">in</span><span class="op" id="7860353">,</span>&nbsp;<span class="ident" id="7860355">testOut</span>&nbsp;<span class="builtintype" id="7860363">string</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860372">j</span>&nbsp;<span class="op" id="7860374">:=</span>&nbsp;<span class="ident" id="7860377"><a href="/gostd/go/build/read_test.go.html#7859226">strings</a></span><span class="op" id="7860384">.</span><span class="ident" id="7860385"><a href="/gostd/strings/strings.go.html#2968883">Index</a></span><span class="op" id="7860390">(</span><span class="ident" id="7860391"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860393">.</span><span class="ident" id="7860394"><a href="/gostd/go/build/read_test.go.html#7859352">in</a></span><span class="op" id="7860396">,</span>&nbsp;<span class="string" id="7860398">&#34;ℙ&#34;</span><span class="op" id="7860403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860407">if</span>&nbsp;<span class="ident" id="7860410"><a href="/gostd/go/build/read_test.go.html#7860372">j</a></span>&nbsp;<span class="op" id="7860412">&lt;</span>&nbsp;<span class="num" id="7860414">0</span>&nbsp;<span class="op" id="7860416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860421"><a href="/gostd/go/build/read_test.go.html#7860351">in</a></span>&nbsp;<span class="op" id="7860424">=</span>&nbsp;<span class="ident" id="7860426"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860428">.</span><span class="ident" id="7860429"><a href="/gostd/go/build/read_test.go.html#7859352">in</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860435"><a href="/gostd/go/build/read_test.go.html#7860355">testOut</a></span>&nbsp;<span class="op" id="7860443">=</span>&nbsp;<span class="ident" id="7860445"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860447">.</span><span class="ident" id="7860448"><a href="/gostd/go/build/read_test.go.html#7859352">in</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860453">}</span>&nbsp;<span class="keyword" id="7860455">else</span>&nbsp;<span class="op" id="7860460">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860465"><a href="/gostd/go/build/read_test.go.html#7860351">in</a></span>&nbsp;<span class="op" id="7860468">=</span>&nbsp;<span class="ident" id="7860470"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860472">.</span><span class="ident" id="7860473"><a href="/gostd/go/build/read_test.go.html#7859352">in</a></span><span class="op" id="7860475">[</span><span class="op" id="7860476">:</span><span class="ident" id="7860477"><a href="/gostd/go/build/read_test.go.html#7860372">j</a></span><span class="op" id="7860478">]</span>&nbsp;<span class="op" id="7860480">+</span>&nbsp;<span class="ident" id="7860482"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860484">.</span><span class="ident" id="7860485"><a href="/gostd/go/build/read_test.go.html#7859352">in</a></span><span class="op" id="7860487">[</span><span class="ident" id="7860488"><a href="/gostd/go/build/read_test.go.html#7860372">j</a></span><span class="op" id="7860489">+</span><span class="builtinfunc" id="7860490">len</span><span class="op" id="7860493">(</span><span class="string" id="7860494">&#34;ℙ&#34;</span><span class="op" id="7860499">)</span><span class="op" id="7860500">:</span><span class="op" id="7860501">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860506"><a href="/gostd/go/build/read_test.go.html#7860355">testOut</a></span>&nbsp;<span class="op" id="7860514">=</span>&nbsp;<span class="ident" id="7860516"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860518">.</span><span class="ident" id="7860519"><a href="/gostd/go/build/read_test.go.html#7859352">in</a></span><span class="op" id="7860521">[</span><span class="op" id="7860522">:</span><span class="ident" id="7860523"><a href="/gostd/go/build/read_test.go.html#7860372">j</a></span><span class="op" id="7860524">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860532">r</span>&nbsp;<span class="op" id="7860534">:=</span>&nbsp;<span class="ident" id="7860537"><a href="/gostd/go/build/read_test.go.html#7859226">strings</a></span><span class="op" id="7860544">.</span><span class="ident" id="7860545"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7860554">(</span><span class="ident" id="7860555"><a href="/gostd/go/build/read_test.go.html#7860351">in</a></span><span class="op" id="7860557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860561">buf</span><span class="op" id="7860564">,</span>&nbsp;<span class="ident" id="7860566">err</span>&nbsp;<span class="op" id="7860570">:=</span>&nbsp;<span class="ident" id="7860573"><a href="/gostd/go/build/read_test.go.html#7860277">read</a></span><span class="op" id="7860577">(</span><span class="ident" id="7860578"><a href="/gostd/go/build/read_test.go.html#7860532">r</a></span><span class="op" id="7860579">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860583">if</span>&nbsp;<span class="ident" id="7860586"><a href="/gostd/go/build/read_test.go.html#7860566">err</a></span>&nbsp;<span class="op" id="7860590">!=</span>&nbsp;<span class="builtintype" id="7860593">nil</span>&nbsp;<span class="op" id="7860597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860602">if</span>&nbsp;<span class="ident" id="7860605"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860607">.</span><span class="ident" id="7860608"><a href="/gostd/go/build/read_test.go.html#7859364">err</a></span>&nbsp;<span class="op" id="7860612">==</span>&nbsp;<span class="string" id="7860615">&#34;&#34;</span>&nbsp;<span class="op" id="7860618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860624"><a href="/gostd/go/build/read_test.go.html#7860245">t</a></span><span class="op" id="7860625">.</span><span class="ident" id="7860626"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7860632">(</span><span class="string" id="7860633">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;success&nbsp;(%q)&#34;</span><span class="op" id="7860669">,</span>&nbsp;<span class="ident" id="7860671"><a href="/gostd/go/build/read_test.go.html#7860322">i</a></span><span class="op" id="7860672">,</span>&nbsp;<span class="ident" id="7860674"><a href="/gostd/go/build/read_test.go.html#7860566">err</a></span><span class="op" id="7860677">,</span>&nbsp;<span class="builtintype" id="7860679">string</span><span class="op" id="7860685">(</span><span class="ident" id="7860686"><a href="/gostd/go/build/read_test.go.html#7860561">buf</a></span><span class="op" id="7860689">)</span><span class="op" id="7860690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860696">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860708">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860713">if</span>&nbsp;<span class="op" id="7860716">!</span><span class="ident" id="7860717"><a href="/gostd/go/build/read_test.go.html#7859226">strings</a></span><span class="op" id="7860724">.</span><span class="ident" id="7860725"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7860733">(</span><span class="ident" id="7860734"><a href="/gostd/go/build/read_test.go.html#7860566">err</a></span><span class="op" id="7860737">.</span><span class="ident" id="7860738">Error</span><span class="op" id="7860743">(</span><span class="op" id="7860744">)</span><span class="op" id="7860745">,</span>&nbsp;<span class="ident" id="7860747"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860749">.</span><span class="ident" id="7860750"><a href="/gostd/go/build/read_test.go.html#7859364">err</a></span><span class="op" id="7860753">)</span>&nbsp;<span class="op" id="7860755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860761"><a href="/gostd/go/build/read_test.go.html#7860245">t</a></span><span class="op" id="7860762">.</span><span class="ident" id="7860763"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7860769">(</span><span class="string" id="7860770">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7860796">,</span>&nbsp;<span class="ident" id="7860798"><a href="/gostd/go/build/read_test.go.html#7860322">i</a></span><span class="op" id="7860799">,</span>&nbsp;<span class="ident" id="7860801"><a href="/gostd/go/build/read_test.go.html#7860566">err</a></span><span class="op" id="7860804">,</span>&nbsp;<span class="ident" id="7860806"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860808">.</span><span class="ident" id="7860809"><a href="/gostd/go/build/read_test.go.html#7859364">err</a></span><span class="op" id="7860812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860818">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860835">continue</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860850">if</span>&nbsp;<span class="ident" id="7860853"><a href="/gostd/go/build/read_test.go.html#7860566">err</a></span>&nbsp;<span class="op" id="7860857">==</span>&nbsp;<span class="builtintype" id="7860860">nil</span>&nbsp;<span class="op" id="7860864">&amp;&amp;</span>&nbsp;<span class="ident" id="7860867"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860869">.</span><span class="ident" id="7860870"><a href="/gostd/go/build/read_test.go.html#7859364">err</a></span>&nbsp;<span class="op" id="7860874">!=</span>&nbsp;<span class="string" id="7860877">&#34;&#34;</span>&nbsp;<span class="op" id="7860880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860885"><a href="/gostd/go/build/read_test.go.html#7860245">t</a></span><span class="op" id="7860886">.</span><span class="ident" id="7860887"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7860893">(</span><span class="string" id="7860894">&#34;#%d:&nbsp;success,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7860921">,</span>&nbsp;<span class="ident" id="7860923"><a href="/gostd/go/build/read_test.go.html#7860322">i</a></span><span class="op" id="7860924">,</span>&nbsp;<span class="ident" id="7860926"><a href="/gostd/go/build/read_test.go.html#7860325">tt</a></span><span class="op" id="7860928">.</span><span class="ident" id="7860929"><a href="/gostd/go/build/read_test.go.html#7859364">err</a></span><span class="op" id="7860932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860937">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7860948">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860953">out</span>&nbsp;<span class="op" id="7860957">:=</span>&nbsp;<span class="builtintype" id="7860960">string</span><span class="op" id="7860966">(</span><span class="ident" id="7860967"><a href="/gostd/go/build/read_test.go.html#7860561">buf</a></span><span class="op" id="7860970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7860974">if</span>&nbsp;<span class="ident" id="7860977"><a href="/gostd/go/build/read_test.go.html#7860953">out</a></span>&nbsp;<span class="op" id="7860981">!=</span>&nbsp;<span class="ident" id="7860984"><a href="/gostd/go/build/read_test.go.html#7860355">testOut</a></span>&nbsp;<span class="op" id="7860992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7860997"><a href="/gostd/go/build/read_test.go.html#7860245">t</a></span><span class="op" id="7860998">.</span><span class="ident" id="7860999"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7861005">(</span><span class="string" id="7861006">&#34;#%d:&nbsp;wrong&nbsp;output:\nhave&nbsp;%q\nwant&nbsp;%q\n&#34;</span><span class="op" id="7861046">,</span>&nbsp;<span class="ident" id="7861048"><a href="/gostd/go/build/read_test.go.html#7860322">i</a></span><span class="op" id="7861049">,</span>&nbsp;<span class="ident" id="7861051"><a href="/gostd/go/build/read_test.go.html#7860953">out</a></span><span class="op" id="7861054">,</span>&nbsp;<span class="ident" id="7861056"><a href="/gostd/go/build/read_test.go.html#7860355">testOut</a></span><span class="op" id="7861063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861067">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861070">}</span><br>
<span class="lineno"></span><span class="op" id="7861072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7861075">func</span>&nbsp;<span class="ident" id="7861080">TestReadImports</span><span class="op" id="7861095">(</span><span class="ident" id="7861096">t</span>&nbsp;<span class="op" id="7861098">*</span><span class="ident" id="7861099"><a href="/gostd/go/build/read_test.go.html#7859237">testing</a></span><span class="op" id="7861106">.</span><span class="ident" id="7861107"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7861108">)</span>&nbsp;<span class="op" id="7861110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7861113"><a href="/gostd/go/build/read_test.go.html#7860236">testRead</a></span><span class="op" id="7861121">(</span><span class="ident" id="7861122"><a href="/gostd/go/build/read_test.go.html#7861096">t</a></span><span class="op" id="7861123">,</span>&nbsp;<span class="ident" id="7861125"><a href="/gostd/go/build/read_test.go.html#7859382">readImportsTests</a></span><span class="op" id="7861141">,</span>&nbsp;<span class="keyword" id="7861143">func</span><span class="op" id="7861147">(</span><span class="ident" id="7861148">r</span>&nbsp;<span class="ident" id="7861150"><a href="/gostd/go/build/read_test.go.html#7859220">io</a></span><span class="op" id="7861152">.</span><span class="ident" id="7861153"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="7861159">)</span>&nbsp;<span class="op" id="7861161">(</span><span class="op" id="7861162">[</span><span class="op" id="7861163">]</span><span class="builtintype" id="7861164">byte</span><span class="op" id="7861168">,</span>&nbsp;<span class="builtintype" id="7861170">error</span><span class="op" id="7861175">)</span>&nbsp;<span class="op" id="7861177">{</span>&nbsp;<span class="keyword" id="7861179">return</span>&nbsp;<span class="ident" id="7861186"><a href="/gostd/go/build/read.go.html#5949061">readImports</a></span><span class="op" id="7861197">(</span><span class="ident" id="7861198"><a href="/gostd/go/build/read_test.go.html#7861148">r</a></span><span class="op" id="7861199">,</span>&nbsp;<span class="builtintype" id="7861201">true</span><span class="op" id="7861205">)</span>&nbsp;<span class="op" id="7861207">}</span><span class="op" id="7861208">)</span><br>
<span class="lineno">135</span><span class="op" id="7861210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7861213">func</span>&nbsp;<span class="ident" id="7861218">TestReadComments</span><span class="op" id="7861234">(</span><span class="ident" id="7861235">t</span>&nbsp;<span class="op" id="7861237">*</span><span class="ident" id="7861238"><a href="/gostd/go/build/read_test.go.html#7859237">testing</a></span><span class="op" id="7861245">.</span><span class="ident" id="7861246"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7861247">)</span>&nbsp;<span class="op" id="7861249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7861252"><a href="/gostd/go/build/read_test.go.html#7860236">testRead</a></span><span class="op" id="7861260">(</span><span class="ident" id="7861261"><a href="/gostd/go/build/read_test.go.html#7861235">t</a></span><span class="op" id="7861262">,</span>&nbsp;<span class="ident" id="7861264"><a href="/gostd/go/build/read_test.go.html#7859973">readCommentsTests</a></span><span class="op" id="7861281">,</span>&nbsp;<span class="ident" id="7861283"><a href="/gostd/go/build/read.go.html#5948648">readComments</a></span><span class="op" id="7861295">)</span><br>
<span class="lineno"></span><span class="op" id="7861297">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="7861300">var</span>&nbsp;<span class="ident" id="7861304">readFailuresTests</span>&nbsp;<span class="op" id="7861322">=</span>&nbsp;<span class="op" id="7861324">[</span><span class="op" id="7861325">]</span><span class="ident" id="7861326"><a href="/gostd/go/build/read_test.go.html#7859274">readTest</a></span><span class="op" id="7861334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861341">`package`</span><span class="op" id="7861350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861354">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861368">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861371">}</span><span class="op" id="7861372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861379">&#34;package&nbsp;p\n\x00\nimport&nbsp;`math`\n&#34;</span><span class="op" id="7861413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861417">&#34;unexpected&nbsp;NUL&nbsp;in&nbsp;input&#34;</span><span class="op" id="7861442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861445">}</span><span class="op" id="7861446">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861453">`package&nbsp;p;&nbsp;import`</span><span class="op" id="7861472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861476">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861493">}</span><span class="op" id="7861494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861497">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861501">`package&nbsp;p;&nbsp;import&nbsp;&#34;`</span><span class="op" id="7861522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861526">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861543">}</span><span class="op" id="7861544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861551">&#34;package&nbsp;p;&nbsp;import&nbsp;`&nbsp;\n\n&#34;</span><span class="op" id="7861577">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861581">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861598">}</span><span class="op" id="7861599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861606">`package&nbsp;p;&nbsp;import&nbsp;&#34;x`</span><span class="op" id="7861628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861632">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861646">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861649">}</span><span class="op" id="7861650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861657">`package&nbsp;p;&nbsp;import&nbsp;_`</span><span class="op" id="7861678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861682">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861699">}</span><span class="op" id="7861700">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861707">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;`</span><span class="op" id="7861730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861734">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861751">}</span><span class="op" id="7861752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861755">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861759">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;x`</span><span class="op" id="7861783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861787">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861804">}</span><span class="op" id="7861805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861812">`package&nbsp;p;&nbsp;import&nbsp;.`</span><span class="op" id="7861833">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861837">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861854">}</span><span class="op" id="7861855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861862">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;`</span><span class="op" id="7861885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861889">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861903">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861906">}</span><span class="op" id="7861907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861914">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x`</span><span class="op" id="7861938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861942">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7861956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861959">}</span><span class="op" id="7861960">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861967">`package&nbsp;p;&nbsp;import&nbsp;(`</span><span class="op" id="7861988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7861992">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7862006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862009">}</span><span class="op" id="7862010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862013">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7862017">`package&nbsp;p;&nbsp;import&nbsp;(&#34;`</span><span class="op" id="7862039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7862043">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7862057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862060">}</span><span class="op" id="7862061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7862068">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x`</span><span class="op" id="7862091">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7862095">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7862109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862112">}</span><span class="op" id="7862113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7862120">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x&#34;`</span><span class="op" id="7862144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7862148">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7862162">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862165">}</span><span class="op" id="7862166">,</span><br>
<span class="lineno"></span><span class="op" id="7862168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7862171">func</span>&nbsp;<span class="ident" id="7862176">TestReadFailures</span><span class="op" id="7862192">(</span><span class="ident" id="7862193">t</span>&nbsp;<span class="op" id="7862195">*</span><span class="ident" id="7862196"><a href="/gostd/go/build/read_test.go.html#7859237">testing</a></span><span class="op" id="7862203">.</span><span class="ident" id="7862204"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7862205">)</span>&nbsp;<span class="op" id="7862207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7862210">//&nbsp;Errors&nbsp;should&nbsp;be&nbsp;reported&nbsp;(true&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862267"><a href="/gostd/go/build/read_test.go.html#7860236">testRead</a></span><span class="op" id="7862275">(</span><span class="ident" id="7862276"><a href="/gostd/go/build/read_test.go.html#7862193">t</a></span><span class="op" id="7862277">,</span>&nbsp;<span class="ident" id="7862279"><a href="/gostd/go/build/read_test.go.html#7861304">readFailuresTests</a></span><span class="op" id="7862296">,</span>&nbsp;<span class="keyword" id="7862298">func</span><span class="op" id="7862302">(</span><span class="ident" id="7862303">r</span>&nbsp;<span class="ident" id="7862305"><a href="/gostd/go/build/read_test.go.html#7859220">io</a></span><span class="op" id="7862307">.</span><span class="ident" id="7862308"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="7862314">)</span>&nbsp;<span class="op" id="7862316">(</span><span class="op" id="7862317">[</span><span class="op" id="7862318">]</span><span class="builtintype" id="7862319">byte</span><span class="op" id="7862323">,</span>&nbsp;<span class="builtintype" id="7862325">error</span><span class="op" id="7862330">)</span>&nbsp;<span class="op" id="7862332">{</span>&nbsp;<span class="keyword" id="7862334">return</span>&nbsp;<span class="ident" id="7862341"><a href="/gostd/go/build/read.go.html#5949061">readImports</a></span><span class="op" id="7862352">(</span><span class="ident" id="7862353"><a href="/gostd/go/build/read_test.go.html#7862303">r</a></span><span class="op" id="7862354">,</span>&nbsp;<span class="builtintype" id="7862356">true</span><span class="op" id="7862360">)</span>&nbsp;<span class="op" id="7862362">}</span><span class="op" id="7862363">)</span><br>
<span class="lineno"></span><span class="op" id="7862365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7862368">func</span>&nbsp;<span class="ident" id="7862373">TestReadFailuresIgnored</span><span class="op" id="7862396">(</span><span class="ident" id="7862397">t</span>&nbsp;<span class="op" id="7862399">*</span><span class="ident" id="7862400"><a href="/gostd/go/build/read_test.go.html#7859237">testing</a></span><span class="op" id="7862407">.</span><span class="ident" id="7862408"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7862409">)</span>&nbsp;<span class="op" id="7862411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7862414">//&nbsp;Syntax&nbsp;errors&nbsp;should&nbsp;not&nbsp;be&nbsp;reported&nbsp;(false&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7862483">//&nbsp;Instead,&nbsp;entire&nbsp;file&nbsp;should&nbsp;be&nbsp;the&nbsp;output&nbsp;and&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7862543">//&nbsp;Convert&nbsp;tests&nbsp;not&nbsp;to&nbsp;return&nbsp;syntax&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862590">tests</span>&nbsp;<span class="op" id="7862596">:=</span>&nbsp;<span class="builtinfunc" id="7862599">make</span><span class="op" id="7862603">(</span><span class="op" id="7862604">[</span><span class="op" id="7862605">]</span><span class="ident" id="7862606"><a href="/gostd/go/build/read_test.go.html#7859274">readTest</a></span><span class="op" id="7862614">,</span>&nbsp;<span class="builtinfunc" id="7862616">len</span><span class="op" id="7862619">(</span><span class="ident" id="7862620"><a href="/gostd/go/build/read_test.go.html#7861304">readFailuresTests</a></span><span class="op" id="7862637">)</span><span class="op" id="7862638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7862641">copy</span><span class="op" id="7862645">(</span><span class="ident" id="7862646"><a href="/gostd/go/build/read_test.go.html#7862590">tests</a></span><span class="op" id="7862651">,</span>&nbsp;<span class="ident" id="7862653"><a href="/gostd/go/build/read_test.go.html#7861304">readFailuresTests</a></span><span class="op" id="7862670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862673">for</span>&nbsp;<span class="ident" id="7862677">i</span>&nbsp;<span class="op" id="7862679">:=</span>&nbsp;<span class="keyword" id="7862682">range</span>&nbsp;<span class="ident" id="7862688"><a href="/gostd/go/build/read_test.go.html#7862590">tests</a></span>&nbsp;<span class="op" id="7862694">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862698">tt</span>&nbsp;<span class="op" id="7862701">:=</span>&nbsp;<span class="op" id="7862704">&amp;</span><span class="ident" id="7862705"><a href="/gostd/go/build/read_test.go.html#7862590">tests</a></span><span class="op" id="7862710">[</span><span class="ident" id="7862711"><a href="/gostd/go/build/read_test.go.html#7862677">i</a></span><span class="op" id="7862712">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7862716">if</span>&nbsp;<span class="op" id="7862719">!</span><span class="ident" id="7862720"><a href="/gostd/go/build/read_test.go.html#7859226">strings</a></span><span class="op" id="7862727">.</span><span class="ident" id="7862728"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="7862736">(</span><span class="ident" id="7862737"><a href="/gostd/go/build/read_test.go.html#7862698">tt</a></span><span class="op" id="7862739">.</span><span class="ident" id="7862740"><a href="/gostd/go/build/read_test.go.html#7859364">err</a></span><span class="op" id="7862743">,</span>&nbsp;<span class="string" id="7862745">&#34;NUL&#34;</span><span class="op" id="7862750">)</span>&nbsp;<span class="op" id="7862752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862757"><a href="/gostd/go/build/read_test.go.html#7862698">tt</a></span><span class="op" id="7862759">.</span><span class="ident" id="7862760"><a href="/gostd/go/build/read_test.go.html#7859364">err</a></span>&nbsp;<span class="op" id="7862764">=</span>&nbsp;<span class="string" id="7862766">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7862774">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7862777"><a href="/gostd/go/build/read_test.go.html#7860236">testRead</a></span><span class="op" id="7862785">(</span><span class="ident" id="7862786"><a href="/gostd/go/build/read_test.go.html#7862397">t</a></span><span class="op" id="7862787">,</span>&nbsp;<span class="ident" id="7862789"><a href="/gostd/go/build/read_test.go.html#7862590">tests</a></span><span class="op" id="7862794">,</span>&nbsp;<span class="keyword" id="7862796">func</span><span class="op" id="7862800">(</span><span class="ident" id="7862801">r</span>&nbsp;<span class="ident" id="7862803"><a href="/gostd/go/build/read_test.go.html#7859220">io</a></span><span class="op" id="7862805">.</span><span class="ident" id="7862806"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="7862812">)</span>&nbsp;<span class="op" id="7862814">(</span><span class="op" id="7862815">[</span><span class="op" id="7862816">]</span><span class="builtintype" id="7862817">byte</span><span class="op" id="7862821">,</span>&nbsp;<span class="builtintype" id="7862823">error</span><span class="op" id="7862828">)</span>&nbsp;<span class="op" id="7862830">{</span>&nbsp;<span class="keyword" id="7862832">return</span>&nbsp;<span class="ident" id="7862839"><a href="/gostd/go/build/read.go.html#5949061">readImports</a></span><span class="op" id="7862850">(</span><span class="ident" id="7862851"><a href="/gostd/go/build/read_test.go.html#7862801">r</a></span><span class="op" id="7862852">,</span>&nbsp;<span class="builtintype" id="7862854">false</span><span class="op" id="7862859">)</span>&nbsp;<span class="op" id="7862861">}</span><span class="op" id="7862862">)</span><br>
<span class="lineno"></span><span class="op" id="7862864">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
