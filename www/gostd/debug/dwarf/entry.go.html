<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html" class="current">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1985770">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1985826">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1985880">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1985931">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="1985972">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="1986031">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="1986090">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="1986154">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1986233">package</span>&nbsp;<span class="ident" id="1986241">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1986248">import</span>&nbsp;<span class="op" id="1986255">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1986258">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1986268">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="1986278">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1986281">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="1986339">type</span>&nbsp;<span class="ident" id="1986344">abbrev</span>&nbsp;<span class="keyword" id="1986351">struct</span>&nbsp;<span class="op" id="1986358">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986361">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986370">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986375">children</span>&nbsp;<span class="builtintype" id="1986384">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986390">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1986399">[</span><span class="op" id="1986400">]</span><span class="ident" id="1986401">afield</span><br>
<span class="lineno"></span><span class="op" id="1986408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="1986411">type</span>&nbsp;<span class="ident" id="1986416">afield</span>&nbsp;<span class="keyword" id="1986423">struct</span>&nbsp;<span class="op" id="1986430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986433">attr</span>&nbsp;<span class="ident" id="1986438">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986444">fmt</span>&nbsp;&nbsp;<span class="ident" id="1986449">format</span><br>
<span class="lineno"></span><span class="op" id="1986456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1986459">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="1986512">type</span>&nbsp;<span class="ident" id="1986517">abbrevTable</span>&nbsp;<span class="keyword" id="1986529">map</span><span class="op" id="1986532">[</span><span class="builtintype" id="1986533">uint32</span><span class="op" id="1986539">]</span><span class="ident" id="1986540">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1986548">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="1986618">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="1986651">func</span>&nbsp;<span class="op" id="1986656">(</span><span class="ident" id="1986657">d</span>&nbsp;<span class="op" id="1986659">*</span><span class="ident" id="1986660">Data</span><span class="op" id="1986664">)</span>&nbsp;<span class="ident" id="1986666">parseAbbrev</span><span class="op" id="1986677">(</span><span class="ident" id="1986678">off</span>&nbsp;<span class="builtintype" id="1986682">uint32</span><span class="op" id="1986688">)</span>&nbsp;<span class="op" id="1986690">(</span><span class="ident" id="1986691">abbrevTable</span><span class="op" id="1986702">,</span>&nbsp;<span class="builtintype" id="1986704">error</span><span class="op" id="1986709">)</span>&nbsp;<span class="op" id="1986711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1986714">if</span>&nbsp;<span class="ident" id="1986717">m</span><span class="op" id="1986718">,</span>&nbsp;<span class="ident" id="1986720">ok</span>&nbsp;<span class="op" id="1986723">:=</span>&nbsp;<span class="ident" id="1986726">d</span><span class="op" id="1986727">.</span><span class="ident" id="1986728">abbrevCache</span><span class="op" id="1986739">[</span><span class="ident" id="1986740">off</span><span class="op" id="1986743">]</span><span class="op" id="1986744">;</span>&nbsp;<span class="ident" id="1986746">ok</span>&nbsp;<span class="op" id="1986749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1986753">return</span>&nbsp;<span class="ident" id="1986760">m</span><span class="op" id="1986761">,</span>&nbsp;<span class="ident" id="1986763">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1986768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986772">data</span>&nbsp;<span class="op" id="1986777">:=</span>&nbsp;<span class="ident" id="1986780">d</span><span class="op" id="1986781">.</span><span class="ident" id="1986782">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1986790">if</span>&nbsp;<span class="ident" id="1986793">off</span>&nbsp;<span class="op" id="1986797">&gt;</span>&nbsp;<span class="builtintype" id="1986799">uint32</span><span class="op" id="1986805">(</span><span class="builtinfunc" id="1986806">len</span><span class="op" id="1986809">(</span><span class="ident" id="1986810">data</span><span class="op" id="1986814">)</span><span class="op" id="1986815">)</span>&nbsp;<span class="op" id="1986817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986821">data</span>&nbsp;<span class="op" id="1986826">=</span>&nbsp;<span class="ident" id="1986828">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1986833">}</span>&nbsp;<span class="keyword" id="1986835">else</span>&nbsp;<span class="op" id="1986840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986844">data</span>&nbsp;<span class="op" id="1986849">=</span>&nbsp;<span class="ident" id="1986851">data</span><span class="op" id="1986855">[</span><span class="ident" id="1986856">off</span><span class="op" id="1986859">:</span><span class="op" id="1986860">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1986863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1986866">b</span>&nbsp;<span class="op" id="1986868">:=</span>&nbsp;<span class="ident" id="1986871">makeBuf</span><span class="op" id="1986878">(</span><span class="ident" id="1986879">d</span><span class="op" id="1986880">,</span>&nbsp;<span class="ident" id="1986882">unknownFormat</span><span class="op" id="1986895">{</span><span class="op" id="1986896">}</span><span class="op" id="1986897">,</span>&nbsp;<span class="string" id="1986899">&#34;abbrev&#34;</span><span class="op" id="1986907">,</span>&nbsp;<span class="num" id="1986909">0</span><span class="op" id="1986910">,</span>&nbsp;<span class="ident" id="1986912">data</span><span class="op" id="1986916">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1986920">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1986972">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987026">m</span>&nbsp;<span class="op" id="1987028">:=</span>&nbsp;<span class="builtinfunc" id="1987031">make</span><span class="op" id="1987035">(</span><span class="ident" id="1987036">abbrevTable</span><span class="op" id="1987047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987050">for</span>&nbsp;<span class="op" id="1987054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1987058">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987088">id</span>&nbsp;<span class="op" id="1987091">:=</span>&nbsp;<span class="builtintype" id="1987094">uint32</span><span class="op" id="1987100">(</span><span class="ident" id="1987101">b</span><span class="op" id="1987102">.</span><span class="builtintype" id="1987103">uint</span><span class="op" id="1987107">(</span><span class="op" id="1987108">)</span><span class="op" id="1987109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987113">if</span>&nbsp;<span class="ident" id="1987116">id</span>&nbsp;<span class="op" id="1987119">==</span>&nbsp;<span class="num" id="1987122">0</span>&nbsp;<span class="op" id="1987124">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987129">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1987137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1987142">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987179">n</span>&nbsp;<span class="op" id="1987181">:=</span>&nbsp;<span class="num" id="1987184">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987188">b1</span>&nbsp;<span class="op" id="1987191">:=</span>&nbsp;<span class="ident" id="1987194">b</span>&nbsp;<span class="comment" id="1987196">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987222">b1</span><span class="op" id="1987224">.</span><span class="builtintype" id="1987225">uint</span><span class="op" id="1987229">(</span><span class="op" id="1987230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987234">b1</span><span class="op" id="1987236">.</span><span class="builtintype" id="1987237">uint8</span><span class="op" id="1987242">(</span><span class="op" id="1987243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987247">for</span>&nbsp;<span class="op" id="1987251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987256">tag</span>&nbsp;<span class="op" id="1987260">:=</span>&nbsp;<span class="ident" id="1987263">b1</span><span class="op" id="1987265">.</span><span class="builtintype" id="1987266">uint</span><span class="op" id="1987270">(</span><span class="op" id="1987271">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987276">fmt</span>&nbsp;<span class="op" id="1987280">:=</span>&nbsp;<span class="ident" id="1987283">b1</span><span class="op" id="1987285">.</span><span class="builtintype" id="1987286">uint</span><span class="op" id="1987290">(</span><span class="op" id="1987291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987296">if</span>&nbsp;<span class="ident" id="1987299">tag</span>&nbsp;<span class="op" id="1987303">==</span>&nbsp;<span class="num" id="1987306">0</span>&nbsp;<span class="op" id="1987308">&amp;&amp;</span>&nbsp;<span class="ident" id="1987311">fmt</span>&nbsp;<span class="op" id="1987315">==</span>&nbsp;<span class="num" id="1987318">0</span>&nbsp;<span class="op" id="1987320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987326">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1987335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987340">n</span><span class="op" id="1987341">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1987346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987350">if</span>&nbsp;<span class="ident" id="1987353">b1</span><span class="op" id="1987355">.</span><span class="ident" id="1987356">err</span>&nbsp;<span class="op" id="1987360">!=</span>&nbsp;<span class="ident" id="1987363">nil</span>&nbsp;<span class="op" id="1987367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987372">return</span>&nbsp;<span class="ident" id="1987379">nil</span><span class="op" id="1987382">,</span>&nbsp;<span class="ident" id="1987384">b1</span><span class="op" id="1987386">.</span><span class="ident" id="1987387">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1987393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1987398">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987460">var</span>&nbsp;<span class="ident" id="1987464">a</span>&nbsp;<span class="ident" id="1987466">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987475">a</span><span class="op" id="1987476">.</span><span class="ident" id="1987477">tag</span>&nbsp;<span class="op" id="1987481">=</span>&nbsp;<span class="ident" id="1987483">Tag</span><span class="op" id="1987486">(</span><span class="ident" id="1987487">b</span><span class="op" id="1987488">.</span><span class="builtintype" id="1987489">uint</span><span class="op" id="1987493">(</span><span class="op" id="1987494">)</span><span class="op" id="1987495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987499">a</span><span class="op" id="1987500">.</span><span class="ident" id="1987501">children</span>&nbsp;<span class="op" id="1987510">=</span>&nbsp;<span class="ident" id="1987512">b</span><span class="op" id="1987513">.</span><span class="builtintype" id="1987514">uint8</span><span class="op" id="1987519">(</span><span class="op" id="1987520">)</span>&nbsp;<span class="op" id="1987522">!=</span>&nbsp;<span class="num" id="1987525">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987529">a</span><span class="op" id="1987530">.</span><span class="ident" id="1987531">field</span>&nbsp;<span class="op" id="1987537">=</span>&nbsp;<span class="builtinfunc" id="1987539">make</span><span class="op" id="1987543">(</span><span class="op" id="1987544">[</span><span class="op" id="1987545">]</span><span class="ident" id="1987546">afield</span><span class="op" id="1987552">,</span>&nbsp;<span class="ident" id="1987554">n</span><span class="op" id="1987555">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987559">for</span>&nbsp;<span class="ident" id="1987563">i</span>&nbsp;<span class="op" id="1987565">:=</span>&nbsp;<span class="keyword" id="1987568">range</span>&nbsp;<span class="ident" id="1987574">a</span><span class="op" id="1987575">.</span><span class="ident" id="1987576">field</span>&nbsp;<span class="op" id="1987582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987587">a</span><span class="op" id="1987588">.</span><span class="ident" id="1987589">field</span><span class="op" id="1987594">[</span><span class="ident" id="1987595">i</span><span class="op" id="1987596">]</span><span class="op" id="1987597">.</span><span class="ident" id="1987598">attr</span>&nbsp;<span class="op" id="1987603">=</span>&nbsp;<span class="ident" id="1987605">Attr</span><span class="op" id="1987609">(</span><span class="ident" id="1987610">b</span><span class="op" id="1987611">.</span><span class="builtintype" id="1987612">uint</span><span class="op" id="1987616">(</span><span class="op" id="1987617">)</span><span class="op" id="1987618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987623">a</span><span class="op" id="1987624">.</span><span class="ident" id="1987625">field</span><span class="op" id="1987630">[</span><span class="ident" id="1987631">i</span><span class="op" id="1987632">]</span><span class="op" id="1987633">.</span><span class="ident" id="1987634">fmt</span>&nbsp;<span class="op" id="1987638">=</span>&nbsp;<span class="ident" id="1987640">format</span><span class="op" id="1987646">(</span><span class="ident" id="1987647">b</span><span class="op" id="1987648">.</span><span class="builtintype" id="1987649">uint</span><span class="op" id="1987653">(</span><span class="op" id="1987654">)</span><span class="op" id="1987655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1987659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987663">b</span><span class="op" id="1987664">.</span><span class="builtintype" id="1987665">uint</span><span class="op" id="1987669">(</span><span class="op" id="1987670">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987674">b</span><span class="op" id="1987675">.</span><span class="builtintype" id="1987676">uint</span><span class="op" id="1987680">(</span><span class="op" id="1987681">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987686">m</span><span class="op" id="1987687">[</span><span class="ident" id="1987688">id</span><span class="op" id="1987690">]</span>&nbsp;<span class="op" id="1987692">=</span>&nbsp;<span class="ident" id="1987694">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1987697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987700">if</span>&nbsp;<span class="ident" id="1987703">b</span><span class="op" id="1987704">.</span><span class="ident" id="1987705">err</span>&nbsp;<span class="op" id="1987709">!=</span>&nbsp;<span class="ident" id="1987712">nil</span>&nbsp;<span class="op" id="1987716">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987720">return</span>&nbsp;<span class="ident" id="1987727">nil</span><span class="op" id="1987730">,</span>&nbsp;<span class="ident" id="1987732">b</span><span class="op" id="1987733">.</span><span class="ident" id="1987734">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1987739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987742">d</span><span class="op" id="1987743">.</span><span class="ident" id="1987744">abbrevCache</span><span class="op" id="1987755">[</span><span class="ident" id="1987756">off</span><span class="op" id="1987759">]</span>&nbsp;<span class="op" id="1987761">=</span>&nbsp;<span class="ident" id="1987763">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1987766">return</span>&nbsp;<span class="ident" id="1987773">m</span><span class="op" id="1987774">,</span>&nbsp;<span class="ident" id="1987776">nil</span><br>
<span class="lineno"></span><span class="op" id="1987780">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="1987783">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="1987835">type</span>&nbsp;<span class="ident" id="1987840">Entry</span>&nbsp;<span class="keyword" id="1987846">struct</span>&nbsp;<span class="op" id="1987853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987856">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="1987865">Offset</span>&nbsp;<span class="comment" id="1987872">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987906">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987915">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1987922">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1987946">Children</span>&nbsp;<span class="builtintype" id="1987955">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="1987962">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988004">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1988013">[</span><span class="op" id="1988014">]</span><span class="ident" id="1988015">Field</span><br>
<span class="lineno"></span><span class="op" id="1988021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1988024">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="1988081">type</span>&nbsp;<span class="ident" id="1988086">Field</span>&nbsp;<span class="keyword" id="1988092">struct</span>&nbsp;<span class="op" id="1988099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988102">Attr</span>&nbsp;<span class="ident" id="1988107">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988113">Val</span>&nbsp;&nbsp;<span class="keyword" id="1988118">interface</span><span class="op" id="1988127">{</span><span class="op" id="1988128">}</span><br>
<span class="lineno"></span><span class="op" id="1988130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="1988133">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="1988199">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="1988240">//</span><br>
<span class="lineno"></span><span class="comment" id="1988243">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="1988303">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="1988369">//&nbsp;&nbsp;&nbsp;&nbsp;v,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="1988409">//</span><br>
<span class="lineno"></span><span class="keyword" id="1988412">func</span>&nbsp;<span class="op" id="1988417">(</span><span class="ident" id="1988418">e</span>&nbsp;<span class="op" id="1988420">*</span><span class="ident" id="1988421">Entry</span><span class="op" id="1988426">)</span>&nbsp;<span class="ident" id="1988428">Val</span><span class="op" id="1988431">(</span><span class="ident" id="1988432">a</span>&nbsp;<span class="ident" id="1988434">Attr</span><span class="op" id="1988438">)</span>&nbsp;<span class="keyword" id="1988440">interface</span><span class="op" id="1988449">{</span><span class="op" id="1988450">}</span>&nbsp;<span class="op" id="1988452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988455">for</span>&nbsp;<span class="ident" id="1988459">_</span><span class="op" id="1988460">,</span>&nbsp;<span class="ident" id="1988462">f</span>&nbsp;<span class="op" id="1988464">:=</span>&nbsp;<span class="keyword" id="1988467">range</span>&nbsp;<span class="ident" id="1988473">e</span><span class="op" id="1988474">.</span><span class="ident" id="1988475">Field</span>&nbsp;<span class="op" id="1988481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988485">if</span>&nbsp;<span class="ident" id="1988488">f</span><span class="op" id="1988489">.</span><span class="ident" id="1988490">Attr</span>&nbsp;<span class="op" id="1988495">==</span>&nbsp;<span class="ident" id="1988498">a</span>&nbsp;<span class="op" id="1988500">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988505">return</span>&nbsp;<span class="ident" id="1988512">f</span><span class="op" id="1988513">.</span><span class="ident" id="1988514">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1988520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1988523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988526">return</span>&nbsp;<span class="ident" id="1988533">nil</span><br>
<span class="lineno"></span><span class="op" id="1988537">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="1988540">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="1988612">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="1988634">type</span>&nbsp;<span class="ident" id="1988639">Offset</span>&nbsp;<span class="builtintype" id="1988646">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="1988654">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="1988703">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="1988749">func</span>&nbsp;<span class="op" id="1988754">(</span><span class="ident" id="1988755">b</span>&nbsp;<span class="op" id="1988757">*</span><span class="ident" id="1988758">buf</span><span class="op" id="1988761">)</span>&nbsp;<span class="ident" id="1988763">entry</span><span class="op" id="1988768">(</span><span class="ident" id="1988769">atab</span>&nbsp;<span class="ident" id="1988774">abbrevTable</span><span class="op" id="1988785">,</span>&nbsp;<span class="ident" id="1988787">ubase</span>&nbsp;<span class="ident" id="1988793">Offset</span><span class="op" id="1988799">)</span>&nbsp;<span class="op" id="1988801">*</span><span class="ident" id="1988802">Entry</span>&nbsp;<span class="op" id="1988808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988811">off</span>&nbsp;<span class="op" id="1988815">:=</span>&nbsp;<span class="ident" id="1988818">b</span><span class="op" id="1988819">.</span><span class="ident" id="1988820">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988825">id</span>&nbsp;<span class="op" id="1988828">:=</span>&nbsp;<span class="builtintype" id="1988831">uint32</span><span class="op" id="1988837">(</span><span class="ident" id="1988838">b</span><span class="op" id="1988839">.</span><span class="builtintype" id="1988840">uint</span><span class="op" id="1988844">(</span><span class="op" id="1988845">)</span><span class="op" id="1988846">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988849">if</span>&nbsp;<span class="ident" id="1988852">id</span>&nbsp;<span class="op" id="1988855">==</span>&nbsp;<span class="num" id="1988858">0</span>&nbsp;<span class="op" id="1988860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988864">return</span>&nbsp;<span class="op" id="1988871">&amp;</span><span class="ident" id="1988872">Entry</span><span class="op" id="1988877">{</span><span class="op" id="1988878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1988881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988884">a</span><span class="op" id="1988885">,</span>&nbsp;<span class="ident" id="1988887">ok</span>&nbsp;<span class="op" id="1988890">:=</span>&nbsp;<span class="ident" id="1988893">atab</span><span class="op" id="1988897">[</span><span class="ident" id="1988898">id</span><span class="op" id="1988900">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988903">if</span>&nbsp;<span class="op" id="1988906">!</span><span class="ident" id="1988907">ok</span>&nbsp;<span class="op" id="1988910">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988914">b</span><span class="op" id="1988915">.</span><span class="builtintype" id="1988916">error</span><span class="op" id="1988921">(</span><span class="string" id="1988922">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="1988956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1988960">return</span>&nbsp;<span class="ident" id="1988967">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1988972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988975">e</span>&nbsp;<span class="op" id="1988977">:=</span>&nbsp;<span class="op" id="1988980">&amp;</span><span class="ident" id="1988981">Entry</span><span class="op" id="1988986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1988990">Offset</span><span class="op" id="1988996">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="1989000">off</span><span class="op" id="1989003">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989007">Tag</span><span class="op" id="1989010">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989017">a</span><span class="op" id="1989018">.</span><span class="ident" id="1989019">tag</span><span class="op" id="1989022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989026">Children</span><span class="op" id="1989034">:</span>&nbsp;<span class="ident" id="1989036">a</span><span class="op" id="1989037">.</span><span class="ident" id="1989038">children</span><span class="op" id="1989046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989050">Field</span><span class="op" id="1989055">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1989060">make</span><span class="op" id="1989064">(</span><span class="op" id="1989065">[</span><span class="op" id="1989066">]</span><span class="ident" id="1989067">Field</span><span class="op" id="1989072">,</span>&nbsp;<span class="builtinfunc" id="1989074">len</span><span class="op" id="1989077">(</span><span class="ident" id="1989078">a</span><span class="op" id="1989079">.</span><span class="ident" id="1989080">field</span><span class="op" id="1989085">)</span><span class="op" id="1989086">)</span><span class="op" id="1989087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1989090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989093">for</span>&nbsp;<span class="ident" id="1989097">i</span>&nbsp;<span class="op" id="1989099">:=</span>&nbsp;<span class="keyword" id="1989102">range</span>&nbsp;<span class="ident" id="1989108">e</span><span class="op" id="1989109">.</span><span class="ident" id="1989110">Field</span>&nbsp;<span class="op" id="1989116">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989120">e</span><span class="op" id="1989121">.</span><span class="ident" id="1989122">Field</span><span class="op" id="1989127">[</span><span class="ident" id="1989128">i</span><span class="op" id="1989129">]</span><span class="op" id="1989130">.</span><span class="ident" id="1989131">Attr</span>&nbsp;<span class="op" id="1989136">=</span>&nbsp;<span class="ident" id="1989138">a</span><span class="op" id="1989139">.</span><span class="ident" id="1989140">field</span><span class="op" id="1989145">[</span><span class="ident" id="1989146">i</span><span class="op" id="1989147">]</span><span class="op" id="1989148">.</span><span class="ident" id="1989149">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989156">fmt</span>&nbsp;<span class="op" id="1989160">:=</span>&nbsp;<span class="ident" id="1989163">a</span><span class="op" id="1989164">.</span><span class="ident" id="1989165">field</span><span class="op" id="1989170">[</span><span class="ident" id="1989171">i</span><span class="op" id="1989172">]</span><span class="op" id="1989173">.</span><span class="ident" id="1989174">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989180">if</span>&nbsp;<span class="ident" id="1989183">fmt</span>&nbsp;<span class="op" id="1989187">==</span>&nbsp;<span class="ident" id="1989190">formIndirect</span>&nbsp;<span class="op" id="1989203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989208">fmt</span>&nbsp;<span class="op" id="1989212">=</span>&nbsp;<span class="ident" id="1989214">format</span><span class="op" id="1989220">(</span><span class="ident" id="1989221">b</span><span class="op" id="1989222">.</span><span class="builtintype" id="1989223">uint</span><span class="op" id="1989227">(</span><span class="op" id="1989228">)</span><span class="op" id="1989229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1989233">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989237">var</span>&nbsp;<span class="ident" id="1989241">val</span>&nbsp;<span class="keyword" id="1989245">interface</span><span class="op" id="1989254">{</span><span class="op" id="1989255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989259">switch</span>&nbsp;<span class="ident" id="1989266">fmt</span>&nbsp;<span class="op" id="1989270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989274">default</span><span class="op" id="1989281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989286">b</span><span class="op" id="1989287">.</span><span class="builtintype" id="1989288">error</span><span class="op" id="1989293">(</span><span class="string" id="1989294">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="1989325">+</span>&nbsp;<span class="ident" id="1989327">strconv</span><span class="op" id="1989334">.</span><span class="ident" id="1989335">FormatInt</span><span class="op" id="1989344">(</span><span class="ident" id="1989345">int64</span><span class="op" id="1989350">(</span><span class="ident" id="1989351">fmt</span><span class="op" id="1989354">)</span><span class="op" id="1989355">,</span>&nbsp;<span class="num" id="1989357">16</span><span class="op" id="1989359">)</span><span class="op" id="1989360">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1989365">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989378">case</span>&nbsp;<span class="ident" id="1989383">formAddr</span><span class="op" id="1989391">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989396">val</span>&nbsp;<span class="op" id="1989400">=</span>&nbsp;<span class="ident" id="1989402">b</span><span class="op" id="1989403">.</span><span class="ident" id="1989404">addr</span><span class="op" id="1989408">(</span><span class="op" id="1989409">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1989414">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989425">case</span>&nbsp;<span class="ident" id="1989430">formDwarfBlock1</span><span class="op" id="1989445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989450">val</span>&nbsp;<span class="op" id="1989454">=</span>&nbsp;<span class="ident" id="1989456">b</span><span class="op" id="1989457">.</span><span class="ident" id="1989458">bytes</span><span class="op" id="1989463">(</span><span class="builtintype" id="1989464">int</span><span class="op" id="1989467">(</span><span class="ident" id="1989468">b</span><span class="op" id="1989469">.</span><span class="builtintype" id="1989470">uint8</span><span class="op" id="1989475">(</span><span class="op" id="1989476">)</span><span class="op" id="1989477">)</span><span class="op" id="1989478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989482">case</span>&nbsp;<span class="ident" id="1989487">formDwarfBlock2</span><span class="op" id="1989502">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989507">val</span>&nbsp;<span class="op" id="1989511">=</span>&nbsp;<span class="ident" id="1989513">b</span><span class="op" id="1989514">.</span><span class="ident" id="1989515">bytes</span><span class="op" id="1989520">(</span><span class="builtintype" id="1989521">int</span><span class="op" id="1989524">(</span><span class="ident" id="1989525">b</span><span class="op" id="1989526">.</span><span class="builtintype" id="1989527">uint16</span><span class="op" id="1989533">(</span><span class="op" id="1989534">)</span><span class="op" id="1989535">)</span><span class="op" id="1989536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989540">case</span>&nbsp;<span class="ident" id="1989545">formDwarfBlock4</span><span class="op" id="1989560">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989565">val</span>&nbsp;<span class="op" id="1989569">=</span>&nbsp;<span class="ident" id="1989571">b</span><span class="op" id="1989572">.</span><span class="ident" id="1989573">bytes</span><span class="op" id="1989578">(</span><span class="builtintype" id="1989579">int</span><span class="op" id="1989582">(</span><span class="ident" id="1989583">b</span><span class="op" id="1989584">.</span><span class="builtintype" id="1989585">uint32</span><span class="op" id="1989591">(</span><span class="op" id="1989592">)</span><span class="op" id="1989593">)</span><span class="op" id="1989594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989598">case</span>&nbsp;<span class="ident" id="1989603">formDwarfBlock</span><span class="op" id="1989617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989622">val</span>&nbsp;<span class="op" id="1989626">=</span>&nbsp;<span class="ident" id="1989628">b</span><span class="op" id="1989629">.</span><span class="ident" id="1989630">bytes</span><span class="op" id="1989635">(</span><span class="builtintype" id="1989636">int</span><span class="op" id="1989639">(</span><span class="ident" id="1989640">b</span><span class="op" id="1989641">.</span><span class="builtintype" id="1989642">uint</span><span class="op" id="1989646">(</span><span class="op" id="1989647">)</span><span class="op" id="1989648">)</span><span class="op" id="1989649">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1989654">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989668">case</span>&nbsp;<span class="ident" id="1989673">formData1</span><span class="op" id="1989682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989687">val</span>&nbsp;<span class="op" id="1989691">=</span>&nbsp;<span class="ident" id="1989693">int64</span><span class="op" id="1989698">(</span><span class="ident" id="1989699">b</span><span class="op" id="1989700">.</span><span class="builtintype" id="1989701">uint8</span><span class="op" id="1989706">(</span><span class="op" id="1989707">)</span><span class="op" id="1989708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989712">case</span>&nbsp;<span class="ident" id="1989717">formData2</span><span class="op" id="1989726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989731">val</span>&nbsp;<span class="op" id="1989735">=</span>&nbsp;<span class="ident" id="1989737">int64</span><span class="op" id="1989742">(</span><span class="ident" id="1989743">b</span><span class="op" id="1989744">.</span><span class="builtintype" id="1989745">uint16</span><span class="op" id="1989751">(</span><span class="op" id="1989752">)</span><span class="op" id="1989753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989757">case</span>&nbsp;<span class="ident" id="1989762">formData4</span><span class="op" id="1989771">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989776">val</span>&nbsp;<span class="op" id="1989780">=</span>&nbsp;<span class="ident" id="1989782">int64</span><span class="op" id="1989787">(</span><span class="ident" id="1989788">b</span><span class="op" id="1989789">.</span><span class="builtintype" id="1989790">uint32</span><span class="op" id="1989796">(</span><span class="op" id="1989797">)</span><span class="op" id="1989798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989802">case</span>&nbsp;<span class="ident" id="1989807">formData8</span><span class="op" id="1989816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989821">val</span>&nbsp;<span class="op" id="1989825">=</span>&nbsp;<span class="ident" id="1989827">int64</span><span class="op" id="1989832">(</span><span class="ident" id="1989833">b</span><span class="op" id="1989834">.</span><span class="ident" id="1989835">uint64</span><span class="op" id="1989841">(</span><span class="op" id="1989842">)</span><span class="op" id="1989843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989847">case</span>&nbsp;<span class="ident" id="1989852">formSdata</span><span class="op" id="1989861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989866">val</span>&nbsp;<span class="op" id="1989870">=</span>&nbsp;<span class="ident" id="1989872">int64</span><span class="op" id="1989877">(</span><span class="ident" id="1989878">b</span><span class="op" id="1989879">.</span><span class="builtintype" id="1989880">int</span><span class="op" id="1989883">(</span><span class="op" id="1989884">)</span><span class="op" id="1989885">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989889">case</span>&nbsp;<span class="ident" id="1989894">formUdata</span><span class="op" id="1989903">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989908">val</span>&nbsp;<span class="op" id="1989912">=</span>&nbsp;<span class="ident" id="1989914">int64</span><span class="op" id="1989919">(</span><span class="ident" id="1989920">b</span><span class="op" id="1989921">.</span><span class="builtintype" id="1989922">uint</span><span class="op" id="1989926">(</span><span class="op" id="1989927">)</span><span class="op" id="1989928">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1989933">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1989943">case</span>&nbsp;<span class="ident" id="1989948">formFlag</span><span class="op" id="1989956">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1989961">val</span>&nbsp;<span class="op" id="1989965">=</span>&nbsp;<span class="ident" id="1989967">b</span><span class="op" id="1989968">.</span><span class="builtintype" id="1989969">uint8</span><span class="op" id="1989974">(</span><span class="op" id="1989975">)</span>&nbsp;<span class="op" id="1989977">==</span>&nbsp;<span class="num" id="1989980">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1989984">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990005">case</span>&nbsp;<span class="ident" id="1990010">formFlagPresent</span><span class="op" id="1990025">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1990030">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1990102">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990159">val</span>&nbsp;<span class="op" id="1990163">=</span>&nbsp;<span class="builtintype" id="1990165">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1990173">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990203">case</span>&nbsp;<span class="ident" id="1990208">formRefAddr</span><span class="op" id="1990219">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990224">vers</span>&nbsp;<span class="op" id="1990229">:=</span>&nbsp;<span class="ident" id="1990232">b</span><span class="op" id="1990233">.</span><span class="ident" id="1990234">format</span><span class="op" id="1990240">.</span><span class="ident" id="1990241">version</span><span class="op" id="1990248">(</span><span class="op" id="1990249">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990254">if</span>&nbsp;<span class="ident" id="1990257">vers</span>&nbsp;<span class="op" id="1990262">==</span>&nbsp;<span class="num" id="1990265">0</span>&nbsp;<span class="op" id="1990267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990273">b</span><span class="op" id="1990274">.</span><span class="builtintype" id="1990275">error</span><span class="op" id="1990280">(</span><span class="string" id="1990281">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="1990319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1990324">}</span>&nbsp;<span class="keyword" id="1990326">else</span>&nbsp;<span class="keyword" id="1990331">if</span>&nbsp;<span class="ident" id="1990334">vers</span>&nbsp;<span class="op" id="1990339">==</span>&nbsp;<span class="num" id="1990342">2</span>&nbsp;<span class="op" id="1990344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990350">val</span>&nbsp;<span class="op" id="1990354">=</span>&nbsp;<span class="ident" id="1990356">Offset</span><span class="op" id="1990362">(</span><span class="ident" id="1990363">b</span><span class="op" id="1990364">.</span><span class="ident" id="1990365">addr</span><span class="op" id="1990369">(</span><span class="op" id="1990370">)</span><span class="op" id="1990371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1990376">}</span>&nbsp;<span class="keyword" id="1990378">else</span>&nbsp;<span class="op" id="1990383">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990389">is64</span><span class="op" id="1990393">,</span>&nbsp;<span class="ident" id="1990395">known</span>&nbsp;<span class="op" id="1990401">:=</span>&nbsp;<span class="ident" id="1990404">b</span><span class="op" id="1990405">.</span><span class="ident" id="1990406">format</span><span class="op" id="1990412">.</span><span class="ident" id="1990413">dwarf64</span><span class="op" id="1990420">(</span><span class="op" id="1990421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990427">if</span>&nbsp;<span class="op" id="1990430">!</span><span class="ident" id="1990431">known</span>&nbsp;<span class="op" id="1990437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990444">b</span><span class="op" id="1990445">.</span><span class="builtintype" id="1990446">error</span><span class="op" id="1990451">(</span><span class="string" id="1990452">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="1990487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1990493">}</span>&nbsp;<span class="keyword" id="1990495">else</span>&nbsp;<span class="keyword" id="1990500">if</span>&nbsp;<span class="ident" id="1990503">is64</span>&nbsp;<span class="op" id="1990508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990515">val</span>&nbsp;<span class="op" id="1990519">=</span>&nbsp;<span class="ident" id="1990521">Offset</span><span class="op" id="1990527">(</span><span class="ident" id="1990528">b</span><span class="op" id="1990529">.</span><span class="ident" id="1990530">uint64</span><span class="op" id="1990536">(</span><span class="op" id="1990537">)</span><span class="op" id="1990538">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1990544">}</span>&nbsp;<span class="keyword" id="1990546">else</span>&nbsp;<span class="op" id="1990551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990558">val</span>&nbsp;<span class="op" id="1990562">=</span>&nbsp;<span class="ident" id="1990564">Offset</span><span class="op" id="1990570">(</span><span class="ident" id="1990571">b</span><span class="op" id="1990572">.</span><span class="builtintype" id="1990573">uint32</span><span class="op" id="1990579">(</span><span class="op" id="1990580">)</span><span class="op" id="1990581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1990587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1990592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990596">case</span>&nbsp;<span class="ident" id="1990601">formRef1</span><span class="op" id="1990609">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990614">val</span>&nbsp;<span class="op" id="1990618">=</span>&nbsp;<span class="ident" id="1990620">Offset</span><span class="op" id="1990626">(</span><span class="ident" id="1990627">b</span><span class="op" id="1990628">.</span><span class="builtintype" id="1990629">uint8</span><span class="op" id="1990634">(</span><span class="op" id="1990635">)</span><span class="op" id="1990636">)</span>&nbsp;<span class="op" id="1990638">+</span>&nbsp;<span class="ident" id="1990640">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990648">case</span>&nbsp;<span class="ident" id="1990653">formRef2</span><span class="op" id="1990661">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990666">val</span>&nbsp;<span class="op" id="1990670">=</span>&nbsp;<span class="ident" id="1990672">Offset</span><span class="op" id="1990678">(</span><span class="ident" id="1990679">b</span><span class="op" id="1990680">.</span><span class="builtintype" id="1990681">uint16</span><span class="op" id="1990687">(</span><span class="op" id="1990688">)</span><span class="op" id="1990689">)</span>&nbsp;<span class="op" id="1990691">+</span>&nbsp;<span class="ident" id="1990693">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990701">case</span>&nbsp;<span class="ident" id="1990706">formRef4</span><span class="op" id="1990714">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990719">val</span>&nbsp;<span class="op" id="1990723">=</span>&nbsp;<span class="ident" id="1990725">Offset</span><span class="op" id="1990731">(</span><span class="ident" id="1990732">b</span><span class="op" id="1990733">.</span><span class="builtintype" id="1990734">uint32</span><span class="op" id="1990740">(</span><span class="op" id="1990741">)</span><span class="op" id="1990742">)</span>&nbsp;<span class="op" id="1990744">+</span>&nbsp;<span class="ident" id="1990746">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990754">case</span>&nbsp;<span class="ident" id="1990759">formRef8</span><span class="op" id="1990767">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990772">val</span>&nbsp;<span class="op" id="1990776">=</span>&nbsp;<span class="ident" id="1990778">Offset</span><span class="op" id="1990784">(</span><span class="ident" id="1990785">b</span><span class="op" id="1990786">.</span><span class="ident" id="1990787">uint64</span><span class="op" id="1990793">(</span><span class="op" id="1990794">)</span><span class="op" id="1990795">)</span>&nbsp;<span class="op" id="1990797">+</span>&nbsp;<span class="ident" id="1990799">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990807">case</span>&nbsp;<span class="ident" id="1990812">formRefUdata</span><span class="op" id="1990824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990829">val</span>&nbsp;<span class="op" id="1990833">=</span>&nbsp;<span class="ident" id="1990835">Offset</span><span class="op" id="1990841">(</span><span class="ident" id="1990842">b</span><span class="op" id="1990843">.</span><span class="builtintype" id="1990844">uint</span><span class="op" id="1990848">(</span><span class="op" id="1990849">)</span><span class="op" id="1990850">)</span>&nbsp;<span class="op" id="1990852">+</span>&nbsp;<span class="ident" id="1990854">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1990863">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990875">case</span>&nbsp;<span class="ident" id="1990880">formString</span><span class="op" id="1990890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990895">val</span>&nbsp;<span class="op" id="1990899">=</span>&nbsp;<span class="ident" id="1990901">b</span><span class="op" id="1990902">.</span><span class="builtintype" id="1990903">string</span><span class="op" id="1990909">(</span><span class="op" id="1990910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990914">case</span>&nbsp;<span class="ident" id="1990919">formStrp</span><span class="op" id="1990927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1990932">off</span>&nbsp;<span class="op" id="1990936">:=</span>&nbsp;<span class="ident" id="1990939">b</span><span class="op" id="1990940">.</span><span class="builtintype" id="1990941">uint32</span><span class="op" id="1990947">(</span><span class="op" id="1990948">)</span>&nbsp;<span class="comment" id="1990950">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1990979">if</span>&nbsp;<span class="ident" id="1990982">b</span><span class="op" id="1990983">.</span><span class="ident" id="1990984">err</span>&nbsp;<span class="op" id="1990988">!=</span>&nbsp;<span class="ident" id="1990991">nil</span>&nbsp;<span class="op" id="1990995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991001">return</span>&nbsp;<span class="ident" id="1991008">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991020">b1</span>&nbsp;<span class="op" id="1991023">:=</span>&nbsp;<span class="ident" id="1991026">makeBuf</span><span class="op" id="1991033">(</span><span class="ident" id="1991034">b</span><span class="op" id="1991035">.</span><span class="ident" id="1991036">dwarf</span><span class="op" id="1991041">,</span>&nbsp;<span class="ident" id="1991043">unknownFormat</span><span class="op" id="1991056">{</span><span class="op" id="1991057">}</span><span class="op" id="1991058">,</span>&nbsp;<span class="string" id="1991060">&#34;str&#34;</span><span class="op" id="1991065">,</span>&nbsp;<span class="num" id="1991067">0</span><span class="op" id="1991068">,</span>&nbsp;<span class="ident" id="1991070">b</span><span class="op" id="1991071">.</span><span class="ident" id="1991072">dwarf</span><span class="op" id="1991077">.</span><span class="ident" id="1991078">str</span><span class="op" id="1991081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991086">b1</span><span class="op" id="1991088">.</span><span class="ident" id="1991089">skip</span><span class="op" id="1991093">(</span><span class="builtintype" id="1991094">int</span><span class="op" id="1991097">(</span><span class="ident" id="1991098">off</span><span class="op" id="1991101">)</span><span class="op" id="1991102">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991107">val</span>&nbsp;<span class="op" id="1991111">=</span>&nbsp;<span class="ident" id="1991113">b1</span><span class="op" id="1991115">.</span><span class="builtintype" id="1991116">string</span><span class="op" id="1991122">(</span><span class="op" id="1991123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991128">if</span>&nbsp;<span class="ident" id="1991131">b1</span><span class="op" id="1991133">.</span><span class="ident" id="1991134">err</span>&nbsp;<span class="op" id="1991138">!=</span>&nbsp;<span class="ident" id="1991141">nil</span>&nbsp;<span class="op" id="1991145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991151">b</span><span class="op" id="1991152">.</span><span class="ident" id="1991153">err</span>&nbsp;<span class="op" id="1991157">=</span>&nbsp;<span class="ident" id="1991159">b1</span><span class="op" id="1991161">.</span><span class="ident" id="1991162">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991170">return</span>&nbsp;<span class="ident" id="1991177">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991184">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991189">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991236">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991301">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991367">case</span>&nbsp;<span class="ident" id="1991372">formSecOffset</span><span class="op" id="1991385">,</span>&nbsp;<span class="ident" id="1991387">formGnuRefAlt</span><span class="op" id="1991400">,</span>&nbsp;<span class="ident" id="1991402">formGnuStrpAlt</span><span class="op" id="1991416">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991421">is64</span><span class="op" id="1991425">,</span>&nbsp;<span class="ident" id="1991427">known</span>&nbsp;<span class="op" id="1991433">:=</span>&nbsp;<span class="ident" id="1991436">b</span><span class="op" id="1991437">.</span><span class="ident" id="1991438">format</span><span class="op" id="1991444">.</span><span class="ident" id="1991445">dwarf64</span><span class="op" id="1991452">(</span><span class="op" id="1991453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991458">if</span>&nbsp;<span class="op" id="1991461">!</span><span class="ident" id="1991462">known</span>&nbsp;<span class="op" id="1991468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991474">b</span><span class="op" id="1991475">.</span><span class="builtintype" id="1991476">error</span><span class="op" id="1991481">(</span><span class="string" id="1991482">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="1991509">+</span>&nbsp;<span class="ident" id="1991511">strconv</span><span class="op" id="1991518">.</span><span class="ident" id="1991519">FormatInt</span><span class="op" id="1991528">(</span><span class="ident" id="1991529">int64</span><span class="op" id="1991534">(</span><span class="ident" id="1991535">fmt</span><span class="op" id="1991538">)</span><span class="op" id="1991539">,</span>&nbsp;<span class="num" id="1991541">16</span><span class="op" id="1991543">)</span><span class="op" id="1991544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991549">}</span>&nbsp;<span class="keyword" id="1991551">else</span>&nbsp;<span class="keyword" id="1991556">if</span>&nbsp;<span class="ident" id="1991559">is64</span>&nbsp;<span class="op" id="1991564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991570">val</span>&nbsp;<span class="op" id="1991574">=</span>&nbsp;<span class="ident" id="1991576">int64</span><span class="op" id="1991581">(</span><span class="ident" id="1991582">b</span><span class="op" id="1991583">.</span><span class="ident" id="1991584">uint64</span><span class="op" id="1991590">(</span><span class="op" id="1991591">)</span><span class="op" id="1991592">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991597">}</span>&nbsp;<span class="keyword" id="1991599">else</span>&nbsp;<span class="op" id="1991604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991610">val</span>&nbsp;<span class="op" id="1991614">=</span>&nbsp;<span class="ident" id="1991616">int64</span><span class="op" id="1991621">(</span><span class="ident" id="1991622">b</span><span class="op" id="1991623">.</span><span class="builtintype" id="1991624">uint32</span><span class="op" id="1991630">(</span><span class="op" id="1991631">)</span><span class="op" id="1991632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991642">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991655">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991676">case</span>&nbsp;<span class="ident" id="1991681">formExprloc</span><span class="op" id="1991692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991697">val</span>&nbsp;<span class="op" id="1991701">=</span>&nbsp;<span class="ident" id="1991703">b</span><span class="op" id="1991704">.</span><span class="ident" id="1991705">bytes</span><span class="op" id="1991710">(</span><span class="builtintype" id="1991711">int</span><span class="op" id="1991714">(</span><span class="ident" id="1991715">b</span><span class="op" id="1991716">.</span><span class="builtintype" id="1991717">uint</span><span class="op" id="1991721">(</span><span class="op" id="1991722">)</span><span class="op" id="1991723">)</span><span class="op" id="1991724">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991729">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991744">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991765">case</span>&nbsp;<span class="ident" id="1991770">formRefSig8</span><span class="op" id="1991781">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1991786">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991815">val</span>&nbsp;<span class="op" id="1991819">=</span>&nbsp;<span class="ident" id="1991821">b</span><span class="op" id="1991822">.</span><span class="ident" id="1991823">uint64</span><span class="op" id="1991829">(</span><span class="op" id="1991830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991834">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1991838">e</span><span class="op" id="1991839">.</span><span class="ident" id="1991840">Field</span><span class="op" id="1991845">[</span><span class="ident" id="1991846">i</span><span class="op" id="1991847">]</span><span class="op" id="1991848">.</span><span class="ident" id="1991849">Val</span>&nbsp;<span class="op" id="1991853">=</span>&nbsp;<span class="ident" id="1991855">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991863">if</span>&nbsp;<span class="ident" id="1991866">b</span><span class="op" id="1991867">.</span><span class="ident" id="1991868">err</span>&nbsp;<span class="op" id="1991872">!=</span>&nbsp;<span class="ident" id="1991875">nil</span>&nbsp;<span class="op" id="1991879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991883">return</span>&nbsp;<span class="ident" id="1991890">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1991895">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1991898">return</span>&nbsp;<span class="ident" id="1991905">e</span><br>
<span class="lineno"></span><span class="op" id="1991907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1991910">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="1991985">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="1992061">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="1992130">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="1992209">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="1992255">type</span>&nbsp;<span class="ident" id="1992260">Reader</span>&nbsp;<span class="keyword" id="1992267">struct</span>&nbsp;<span class="op" id="1992274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992277">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992290">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992295">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1992308">*</span><span class="ident" id="1992309">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992315">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1992328">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992335">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1992348">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992353">lastChildren</span>&nbsp;<span class="builtintype" id="1992366">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="1992373">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992418">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="1992431">Offset</span>&nbsp;<span class="comment" id="1992438">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="1992490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1992493">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="1992534">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="1992610">func</span>&nbsp;<span class="op" id="1992615">(</span><span class="ident" id="1992616">d</span>&nbsp;<span class="op" id="1992618">*</span><span class="ident" id="1992619">Data</span><span class="op" id="1992623">)</span>&nbsp;<span class="ident" id="1992625">Reader</span><span class="op" id="1992631">(</span><span class="op" id="1992632">)</span>&nbsp;<span class="op" id="1992634">*</span><span class="ident" id="1992635">Reader</span>&nbsp;<span class="op" id="1992642">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992645">r</span>&nbsp;<span class="op" id="1992647">:=</span>&nbsp;<span class="op" id="1992650">&amp;</span><span class="ident" id="1992651">Reader</span><span class="op" id="1992657">{</span><span class="ident" id="1992658">d</span><span class="op" id="1992659">:</span>&nbsp;<span class="ident" id="1992661">d</span><span class="op" id="1992662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992665">r</span><span class="op" id="1992666">.</span><span class="ident" id="1992667">Seek</span><span class="op" id="1992671">(</span><span class="num" id="1992672">0</span><span class="op" id="1992673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1992676">return</span>&nbsp;<span class="ident" id="1992683">r</span><br>
<span class="lineno"></span><span class="op" id="1992685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="1992688">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="1992760">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="1992811">func</span>&nbsp;<span class="op" id="1992816">(</span><span class="ident" id="1992817">r</span>&nbsp;<span class="op" id="1992819">*</span><span class="ident" id="1992820">Reader</span><span class="op" id="1992826">)</span>&nbsp;<span class="ident" id="1992828">Seek</span><span class="op" id="1992832">(</span><span class="ident" id="1992833">off</span>&nbsp;<span class="ident" id="1992837">Offset</span><span class="op" id="1992843">)</span>&nbsp;<span class="op" id="1992845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992848">d</span>&nbsp;<span class="op" id="1992850">:=</span>&nbsp;<span class="ident" id="1992853">r</span><span class="op" id="1992854">.</span><span class="ident" id="1992855">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992858">r</span><span class="op" id="1992859">.</span><span class="ident" id="1992860">err</span>&nbsp;<span class="op" id="1992864">=</span>&nbsp;<span class="ident" id="1992866">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992871">r</span><span class="op" id="1992872">.</span><span class="ident" id="1992873">lastChildren</span>&nbsp;<span class="op" id="1992886">=</span>&nbsp;<span class="builtintype" id="1992888">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1992895">if</span>&nbsp;<span class="ident" id="1992898">off</span>&nbsp;<span class="op" id="1992902">==</span>&nbsp;<span class="num" id="1992905">0</span>&nbsp;<span class="op" id="1992907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1992911">if</span>&nbsp;<span class="builtinfunc" id="1992914">len</span><span class="op" id="1992917">(</span><span class="ident" id="1992918">d</span><span class="op" id="1992919">.</span><span class="ident" id="1992920">unit</span><span class="op" id="1992924">)</span>&nbsp;<span class="op" id="1992926">==</span>&nbsp;<span class="num" id="1992929">0</span>&nbsp;<span class="op" id="1992931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1992936">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1992945">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992949">u</span>&nbsp;<span class="op" id="1992951">:=</span>&nbsp;<span class="op" id="1992954">&amp;</span><span class="ident" id="1992955">d</span><span class="op" id="1992956">.</span><span class="ident" id="1992957">unit</span><span class="op" id="1992961">[</span><span class="num" id="1992962">0</span><span class="op" id="1992963">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992967">r</span><span class="op" id="1992968">.</span><span class="ident" id="1992969">unit</span>&nbsp;<span class="op" id="1992974">=</span>&nbsp;<span class="num" id="1992976">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1992980">r</span><span class="op" id="1992981">.</span><span class="ident" id="1992982">b</span>&nbsp;<span class="op" id="1992984">=</span>&nbsp;<span class="ident" id="1992986">makeBuf</span><span class="op" id="1992993">(</span><span class="ident" id="1992994">r</span><span class="op" id="1992995">.</span><span class="ident" id="1992996">d</span><span class="op" id="1992997">,</span>&nbsp;<span class="ident" id="1992999">u</span><span class="op" id="1993000">,</span>&nbsp;<span class="string" id="1993002">&#34;info&#34;</span><span class="op" id="1993008">,</span>&nbsp;<span class="ident" id="1993010">u</span><span class="op" id="1993011">.</span><span class="ident" id="1993012">off</span><span class="op" id="1993015">,</span>&nbsp;<span class="ident" id="1993017">u</span><span class="op" id="1993018">.</span><span class="ident" id="1993019">data</span><span class="op" id="1993023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993027">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1993035">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1993039">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993090">var</span>&nbsp;<span class="ident" id="1993094">i</span>&nbsp;<span class="builtintype" id="1993096">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993101">var</span>&nbsp;<span class="ident" id="1993105">u</span>&nbsp;<span class="op" id="1993107">*</span><span class="ident" id="1993108">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993114">for</span>&nbsp;<span class="ident" id="1993118">i</span>&nbsp;<span class="op" id="1993120">=</span>&nbsp;<span class="keyword" id="1993122">range</span>&nbsp;<span class="ident" id="1993128">d</span><span class="op" id="1993129">.</span><span class="ident" id="1993130">unit</span>&nbsp;<span class="op" id="1993135">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993139">u</span>&nbsp;<span class="op" id="1993141">=</span>&nbsp;<span class="op" id="1993143">&amp;</span><span class="ident" id="1993144">d</span><span class="op" id="1993145">.</span><span class="ident" id="1993146">unit</span><span class="op" id="1993150">[</span><span class="ident" id="1993151">i</span><span class="op" id="1993152">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993156">if</span>&nbsp;<span class="ident" id="1993159">u</span><span class="op" id="1993160">.</span><span class="ident" id="1993161">off</span>&nbsp;<span class="op" id="1993165">&lt;=</span>&nbsp;<span class="ident" id="1993168">off</span>&nbsp;<span class="op" id="1993172">&amp;&amp;</span>&nbsp;<span class="ident" id="1993175">off</span>&nbsp;<span class="op" id="1993179">&lt;</span>&nbsp;<span class="ident" id="1993181">u</span><span class="op" id="1993182">.</span><span class="ident" id="1993183">off</span><span class="op" id="1993186">+</span><span class="ident" id="1993187">Offset</span><span class="op" id="1993193">(</span><span class="builtinfunc" id="1993194">len</span><span class="op" id="1993197">(</span><span class="ident" id="1993198">u</span><span class="op" id="1993199">.</span><span class="ident" id="1993200">data</span><span class="op" id="1993204">)</span><span class="op" id="1993205">)</span>&nbsp;<span class="op" id="1993207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993212">r</span><span class="op" id="1993213">.</span><span class="ident" id="1993214">unit</span>&nbsp;<span class="op" id="1993219">=</span>&nbsp;<span class="ident" id="1993221">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993226">r</span><span class="op" id="1993227">.</span><span class="ident" id="1993228">b</span>&nbsp;<span class="op" id="1993230">=</span>&nbsp;<span class="ident" id="1993232">makeBuf</span><span class="op" id="1993239">(</span><span class="ident" id="1993240">r</span><span class="op" id="1993241">.</span><span class="ident" id="1993242">d</span><span class="op" id="1993243">,</span>&nbsp;<span class="ident" id="1993245">u</span><span class="op" id="1993246">,</span>&nbsp;<span class="string" id="1993248">&#34;info&#34;</span><span class="op" id="1993254">,</span>&nbsp;<span class="ident" id="1993256">off</span><span class="op" id="1993259">,</span>&nbsp;<span class="ident" id="1993261">u</span><span class="op" id="1993262">.</span><span class="ident" id="1993263">data</span><span class="op" id="1993267">[</span><span class="ident" id="1993268">off</span><span class="op" id="1993271">-</span><span class="ident" id="1993272">u</span><span class="op" id="1993273">.</span><span class="ident" id="1993274">off</span><span class="op" id="1993277">:</span><span class="op" id="1993278">]</span><span class="op" id="1993279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993284">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1993293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1993296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993299">r</span><span class="op" id="1993300">.</span><span class="ident" id="1993301">err</span>&nbsp;<span class="op" id="1993305">=</span>&nbsp;<span class="ident" id="1993307">errors</span><span class="op" id="1993313">.</span><span class="ident" id="1993314">New</span><span class="op" id="1993317">(</span><span class="string" id="1993318">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="1993339">)</span><br>
<span class="lineno"></span><span class="op" id="1993341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="1993344">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="1993412">func</span>&nbsp;<span class="op" id="1993417">(</span><span class="ident" id="1993418">r</span>&nbsp;<span class="op" id="1993420">*</span><span class="ident" id="1993421">Reader</span><span class="op" id="1993427">)</span>&nbsp;<span class="ident" id="1993429">maybeNextUnit</span><span class="op" id="1993442">(</span><span class="op" id="1993443">)</span>&nbsp;<span class="op" id="1993445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993448">for</span>&nbsp;<span class="builtinfunc" id="1993452">len</span><span class="op" id="1993455">(</span><span class="ident" id="1993456">r</span><span class="op" id="1993457">.</span><span class="ident" id="1993458">b</span><span class="op" id="1993459">.</span><span class="ident" id="1993460">data</span><span class="op" id="1993464">)</span>&nbsp;<span class="op" id="1993466">==</span>&nbsp;<span class="num" id="1993469">0</span>&nbsp;<span class="op" id="1993471">&amp;&amp;</span>&nbsp;<span class="ident" id="1993474">r</span><span class="op" id="1993475">.</span><span class="ident" id="1993476">unit</span><span class="op" id="1993480">+</span><span class="num" id="1993481">1</span>&nbsp;<span class="op" id="1993483">&lt;</span>&nbsp;<span class="builtinfunc" id="1993485">len</span><span class="op" id="1993488">(</span><span class="ident" id="1993489">r</span><span class="op" id="1993490">.</span><span class="ident" id="1993491">d</span><span class="op" id="1993492">.</span><span class="ident" id="1993493">unit</span><span class="op" id="1993497">)</span>&nbsp;<span class="op" id="1993499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993503">r</span><span class="op" id="1993504">.</span><span class="ident" id="1993505">unit</span><span class="op" id="1993509">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993514">u</span>&nbsp;<span class="op" id="1993516">:=</span>&nbsp;<span class="op" id="1993519">&amp;</span><span class="ident" id="1993520">r</span><span class="op" id="1993521">.</span><span class="ident" id="1993522">d</span><span class="op" id="1993523">.</span><span class="ident" id="1993524">unit</span><span class="op" id="1993528">[</span><span class="ident" id="1993529">r</span><span class="op" id="1993530">.</span><span class="ident" id="1993531">unit</span><span class="op" id="1993535">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993539">r</span><span class="op" id="1993540">.</span><span class="ident" id="1993541">b</span>&nbsp;<span class="op" id="1993543">=</span>&nbsp;<span class="ident" id="1993545">makeBuf</span><span class="op" id="1993552">(</span><span class="ident" id="1993553">r</span><span class="op" id="1993554">.</span><span class="ident" id="1993555">d</span><span class="op" id="1993556">,</span>&nbsp;<span class="ident" id="1993558">u</span><span class="op" id="1993559">,</span>&nbsp;<span class="string" id="1993561">&#34;info&#34;</span><span class="op" id="1993567">,</span>&nbsp;<span class="ident" id="1993569">u</span><span class="op" id="1993570">.</span><span class="ident" id="1993571">off</span><span class="op" id="1993574">,</span>&nbsp;<span class="ident" id="1993576">u</span><span class="op" id="1993577">.</span><span class="ident" id="1993578">data</span><span class="op" id="1993582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1993585">}</span><br>
<span class="lineno"></span><span class="op" id="1993587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1993590">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="1993650">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="1993713">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1993788">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="1993834">func</span>&nbsp;<span class="op" id="1993839">(</span><span class="ident" id="1993840">r</span>&nbsp;<span class="op" id="1993842">*</span><span class="ident" id="1993843">Reader</span><span class="op" id="1993849">)</span>&nbsp;<span class="ident" id="1993851">Next</span><span class="op" id="1993855">(</span><span class="op" id="1993856">)</span>&nbsp;<span class="op" id="1993858">(</span><span class="op" id="1993859">*</span><span class="ident" id="1993860">Entry</span><span class="op" id="1993865">,</span>&nbsp;<span class="builtintype" id="1993867">error</span><span class="op" id="1993872">)</span>&nbsp;<span class="op" id="1993874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993877">if</span>&nbsp;<span class="ident" id="1993880">r</span><span class="op" id="1993881">.</span><span class="ident" id="1993882">err</span>&nbsp;<span class="op" id="1993886">!=</span>&nbsp;<span class="ident" id="1993889">nil</span>&nbsp;<span class="op" id="1993893">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993897">return</span>&nbsp;<span class="ident" id="1993904">nil</span><span class="op" id="1993907">,</span>&nbsp;<span class="ident" id="1993909">r</span><span class="op" id="1993910">.</span><span class="ident" id="1993911">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1993916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993919">r</span><span class="op" id="1993920">.</span><span class="ident" id="1993921">maybeNextUnit</span><span class="op" id="1993934">(</span><span class="op" id="1993935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993938">if</span>&nbsp;<span class="builtinfunc" id="1993941">len</span><span class="op" id="1993944">(</span><span class="ident" id="1993945">r</span><span class="op" id="1993946">.</span><span class="ident" id="1993947">b</span><span class="op" id="1993948">.</span><span class="ident" id="1993949">data</span><span class="op" id="1993953">)</span>&nbsp;<span class="op" id="1993955">==</span>&nbsp;<span class="num" id="1993958">0</span>&nbsp;<span class="op" id="1993960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1993964">return</span>&nbsp;<span class="ident" id="1993971">nil</span><span class="op" id="1993974">,</span>&nbsp;<span class="ident" id="1993976">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1993981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1993984">u</span>&nbsp;<span class="op" id="1993986">:=</span>&nbsp;<span class="op" id="1993989">&amp;</span><span class="ident" id="1993990">r</span><span class="op" id="1993991">.</span><span class="ident" id="1993992">d</span><span class="op" id="1993993">.</span><span class="ident" id="1993994">unit</span><span class="op" id="1993998">[</span><span class="ident" id="1993999">r</span><span class="op" id="1994000">.</span><span class="ident" id="1994001">unit</span><span class="op" id="1994005">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994008">e</span>&nbsp;<span class="op" id="1994010">:=</span>&nbsp;<span class="ident" id="1994013">r</span><span class="op" id="1994014">.</span><span class="ident" id="1994015">b</span><span class="op" id="1994016">.</span><span class="ident" id="1994017">entry</span><span class="op" id="1994022">(</span><span class="ident" id="1994023">u</span><span class="op" id="1994024">.</span><span class="ident" id="1994025">atable</span><span class="op" id="1994031">,</span>&nbsp;<span class="ident" id="1994033">u</span><span class="op" id="1994034">.</span><span class="ident" id="1994035">base</span><span class="op" id="1994039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994042">if</span>&nbsp;<span class="ident" id="1994045">r</span><span class="op" id="1994046">.</span><span class="ident" id="1994047">b</span><span class="op" id="1994048">.</span><span class="ident" id="1994049">err</span>&nbsp;<span class="op" id="1994053">!=</span>&nbsp;<span class="ident" id="1994056">nil</span>&nbsp;<span class="op" id="1994060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994064">r</span><span class="op" id="1994065">.</span><span class="ident" id="1994066">err</span>&nbsp;<span class="op" id="1994070">=</span>&nbsp;<span class="ident" id="1994072">r</span><span class="op" id="1994073">.</span><span class="ident" id="1994074">b</span><span class="op" id="1994075">.</span><span class="ident" id="1994076">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994082">return</span>&nbsp;<span class="ident" id="1994089">nil</span><span class="op" id="1994092">,</span>&nbsp;<span class="ident" id="1994094">r</span><span class="op" id="1994095">.</span><span class="ident" id="1994096">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994104">if</span>&nbsp;<span class="ident" id="1994107">e</span>&nbsp;<span class="op" id="1994109">!=</span>&nbsp;<span class="ident" id="1994112">nil</span>&nbsp;<span class="op" id="1994116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994120">r</span><span class="op" id="1994121">.</span><span class="ident" id="1994122">lastChildren</span>&nbsp;<span class="op" id="1994135">=</span>&nbsp;<span class="ident" id="1994137">e</span><span class="op" id="1994138">.</span><span class="ident" id="1994139">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994150">if</span>&nbsp;<span class="ident" id="1994153">r</span><span class="op" id="1994154">.</span><span class="ident" id="1994155">lastChildren</span>&nbsp;<span class="op" id="1994168">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994173">r</span><span class="op" id="1994174">.</span><span class="ident" id="1994175">lastSibling</span><span class="op" id="1994186">,</span>&nbsp;<span class="ident" id="1994188">_</span>&nbsp;<span class="op" id="1994190">=</span>&nbsp;<span class="ident" id="1994192">e</span><span class="op" id="1994193">.</span><span class="ident" id="1994194">Val</span><span class="op" id="1994197">(</span><span class="ident" id="1994198">AttrSibling</span><span class="op" id="1994209">)</span><span class="op" id="1994210">.</span><span class="op" id="1994211">(</span><span class="ident" id="1994212">Offset</span><span class="op" id="1994218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994225">}</span>&nbsp;<span class="keyword" id="1994227">else</span>&nbsp;<span class="op" id="1994232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994236">r</span><span class="op" id="1994237">.</span><span class="ident" id="1994238">lastChildren</span>&nbsp;<span class="op" id="1994251">=</span>&nbsp;<span class="builtintype" id="1994253">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994260">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994263">return</span>&nbsp;<span class="ident" id="1994270">e</span><span class="op" id="1994271">,</span>&nbsp;<span class="ident" id="1994273">nil</span><br>
<span class="lineno"></span><span class="op" id="1994277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1994280">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="1994341">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="1994405">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="1994471">func</span>&nbsp;<span class="op" id="1994476">(</span><span class="ident" id="1994477">r</span>&nbsp;<span class="op" id="1994479">*</span><span class="ident" id="1994480">Reader</span><span class="op" id="1994486">)</span>&nbsp;<span class="ident" id="1994488">SkipChildren</span><span class="op" id="1994500">(</span><span class="op" id="1994501">)</span>&nbsp;<span class="op" id="1994503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994506">if</span>&nbsp;<span class="ident" id="1994509">r</span><span class="op" id="1994510">.</span><span class="ident" id="1994511">err</span>&nbsp;<span class="op" id="1994515">!=</span>&nbsp;<span class="ident" id="1994518">nil</span>&nbsp;<span class="op" id="1994522">||</span>&nbsp;<span class="op" id="1994525">!</span><span class="ident" id="1994526">r</span><span class="op" id="1994527">.</span><span class="ident" id="1994528">lastChildren</span>&nbsp;<span class="op" id="1994541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994545">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994553">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1994557">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1994604">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1994652">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1994694">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994714">if</span>&nbsp;<span class="ident" id="1994717">r</span><span class="op" id="1994718">.</span><span class="ident" id="1994719">lastSibling</span>&nbsp;<span class="op" id="1994731">&gt;=</span>&nbsp;<span class="ident" id="1994734">r</span><span class="op" id="1994735">.</span><span class="ident" id="1994736">b</span><span class="op" id="1994737">.</span><span class="ident" id="1994738">off</span>&nbsp;<span class="op" id="1994742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994746">r</span><span class="op" id="1994747">.</span><span class="ident" id="1994748">Seek</span><span class="op" id="1994752">(</span><span class="ident" id="1994753">r</span><span class="op" id="1994754">.</span><span class="ident" id="1994755">lastSibling</span><span class="op" id="1994766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994770">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994782">for</span>&nbsp;<span class="op" id="1994786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994790">e</span><span class="op" id="1994791">,</span>&nbsp;<span class="ident" id="1994793">err</span>&nbsp;<span class="op" id="1994797">:=</span>&nbsp;<span class="ident" id="1994800">r</span><span class="op" id="1994801">.</span><span class="ident" id="1994802">Next</span><span class="op" id="1994806">(</span><span class="op" id="1994807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994811">if</span>&nbsp;<span class="ident" id="1994814">err</span>&nbsp;<span class="op" id="1994818">!=</span>&nbsp;<span class="ident" id="1994821">nil</span>&nbsp;<span class="op" id="1994825">||</span>&nbsp;<span class="ident" id="1994828">e</span>&nbsp;<span class="op" id="1994830">==</span>&nbsp;<span class="ident" id="1994833">nil</span>&nbsp;<span class="op" id="1994837">||</span>&nbsp;<span class="ident" id="1994840">e</span><span class="op" id="1994841">.</span><span class="ident" id="1994842">Tag</span>&nbsp;<span class="op" id="1994846">==</span>&nbsp;<span class="num" id="1994849">0</span>&nbsp;<span class="op" id="1994851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994856">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994864">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1994868">if</span>&nbsp;<span class="ident" id="1994871">e</span><span class="op" id="1994872">.</span><span class="ident" id="1994873">Children</span>&nbsp;<span class="op" id="1994882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1994887">r</span><span class="op" id="1994888">.</span><span class="ident" id="1994889">SkipChildren</span><span class="op" id="1994901">(</span><span class="op" id="1994902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1994909">}</span><br>
<span class="lineno"></span><span class="op" id="1994911">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="1994914">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="1994985">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1994999">func</span>&nbsp;<span class="op" id="1995004">(</span><span class="ident" id="1995005">r</span>&nbsp;<span class="op" id="1995007">*</span><span class="ident" id="1995008">Reader</span><span class="op" id="1995014">)</span>&nbsp;<span class="ident" id="1995016">clone</span><span class="op" id="1995021">(</span><span class="op" id="1995022">)</span>&nbsp;<span class="ident" id="1995024">typeReader</span>&nbsp;<span class="op" id="1995035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1995038">return</span>&nbsp;<span class="ident" id="1995045">r</span><span class="op" id="1995046">.</span><span class="ident" id="1995047">d</span><span class="op" id="1995048">.</span><span class="ident" id="1995049">Reader</span><span class="op" id="1995055">(</span><span class="op" id="1995056">)</span><br>
<span class="lineno">395</span><span class="op" id="1995058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1995061">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1995127">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1995152">func</span>&nbsp;<span class="op" id="1995157">(</span><span class="ident" id="1995158">r</span>&nbsp;<span class="op" id="1995160">*</span><span class="ident" id="1995161">Reader</span><span class="op" id="1995167">)</span>&nbsp;<span class="ident" id="1995169">offset</span><span class="op" id="1995175">(</span><span class="op" id="1995176">)</span>&nbsp;<span class="ident" id="1995178">Offset</span>&nbsp;<span class="op" id="1995185">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1995188">return</span>&nbsp;<span class="ident" id="1995195">r</span><span class="op" id="1995196">.</span><span class="ident" id="1995197">b</span><span class="op" id="1995198">.</span><span class="ident" id="1995199">off</span><br>
<span class="lineno"></span><span class="op" id="1995203">}</span>
</div>
</body>
</html>
