<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc32</h2>
<ul>
<li><a href="/gostd/hash/crc32/crc32.go.html">crc32.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_amd64x.go.html">crc32_amd64x.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_test.go.html">crc32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7257488">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7257543">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7257597">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7257648">package</span>&nbsp;<span class="ident" id="7257656">crc32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257663">import</span>&nbsp;<span class="op" id="7257670">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7257673">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7257679">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7257689">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257692">type</span>&nbsp;<span class="ident" id="7257697">test</span>&nbsp;<span class="keyword" id="7257702">struct</span>&nbsp;<span class="op" id="7257709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7257712">ieee</span><span class="op" id="7257716">,</span>&nbsp;<span class="ident" id="7257718">castagnoli</span>&nbsp;<span class="builtintype" id="7257729">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7257737">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7257754">string</span><br>
<span class="lineno">15</span><span class="op" id="7257761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257764">var</span>&nbsp;<span class="ident" id="7257768">golden</span>&nbsp;<span class="op" id="7257775">=</span>&nbsp;<span class="op" id="7257777">[</span><span class="op" id="7257778">]</span><span class="ident" id="7257779">test</span><span class="op" id="7257783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7257786">{</span><span class="num" id="7257787">0x0</span><span class="op" id="7257790">,</span>&nbsp;<span class="num" id="7257792">0x0</span><span class="op" id="7257795">,</span>&nbsp;<span class="string" id="7257797">&#34;&#34;</span><span class="op" id="7257799">}</span><span class="op" id="7257800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7257803">{</span><span class="num" id="7257804">0xe8b7be43</span><span class="op" id="7257814">,</span>&nbsp;<span class="num" id="7257816">0xc1d04330</span><span class="op" id="7257826">,</span>&nbsp;<span class="string" id="7257828">&#34;a&#34;</span><span class="op" id="7257831">}</span><span class="op" id="7257832">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7257835">{</span><span class="num" id="7257836">0x9e83486d</span><span class="op" id="7257846">,</span>&nbsp;<span class="num" id="7257848">0xe2a22936</span><span class="op" id="7257858">,</span>&nbsp;<span class="string" id="7257860">&#34;ab&#34;</span><span class="op" id="7257864">}</span><span class="op" id="7257865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7257868">{</span><span class="num" id="7257869">0x352441c2</span><span class="op" id="7257879">,</span>&nbsp;<span class="num" id="7257881">0x364b3fb7</span><span class="op" id="7257891">,</span>&nbsp;<span class="string" id="7257893">&#34;abc&#34;</span><span class="op" id="7257898">}</span><span class="op" id="7257899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7257902">{</span><span class="num" id="7257903">0xed82cd11</span><span class="op" id="7257913">,</span>&nbsp;<span class="num" id="7257915">0x92c80a31</span><span class="op" id="7257925">,</span>&nbsp;<span class="string" id="7257927">&#34;abcd&#34;</span><span class="op" id="7257933">}</span><span class="op" id="7257934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7257937">{</span><span class="num" id="7257938">0x8587d865</span><span class="op" id="7257948">,</span>&nbsp;<span class="num" id="7257950">0xc450d697</span><span class="op" id="7257960">,</span>&nbsp;<span class="string" id="7257962">&#34;abcde&#34;</span><span class="op" id="7257969">}</span><span class="op" id="7257970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7257973">{</span><span class="num" id="7257974">0x4b8e39ef</span><span class="op" id="7257984">,</span>&nbsp;<span class="num" id="7257986">0x53bceff1</span><span class="op" id="7257996">,</span>&nbsp;<span class="string" id="7257998">&#34;abcdef&#34;</span><span class="op" id="7258006">}</span><span class="op" id="7258007">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258010">{</span><span class="num" id="7258011">0x312a6aa6</span><span class="op" id="7258021">,</span>&nbsp;<span class="num" id="7258023">0xe627f441</span><span class="op" id="7258033">,</span>&nbsp;<span class="string" id="7258035">&#34;abcdefg&#34;</span><span class="op" id="7258044">}</span><span class="op" id="7258045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258048">{</span><span class="num" id="7258049">0xaeef2a50</span><span class="op" id="7258059">,</span>&nbsp;<span class="num" id="7258061">0xa9421b7</span><span class="op" id="7258070">,</span>&nbsp;<span class="string" id="7258072">&#34;abcdefgh&#34;</span><span class="op" id="7258082">}</span><span class="op" id="7258083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258086">{</span><span class="num" id="7258087">0x8da988af</span><span class="op" id="7258097">,</span>&nbsp;<span class="num" id="7258099">0x2ddc99fc</span><span class="op" id="7258109">,</span>&nbsp;<span class="string" id="7258111">&#34;abcdefghi&#34;</span><span class="op" id="7258122">}</span><span class="op" id="7258123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258126">{</span><span class="num" id="7258127">0x3981703a</span><span class="op" id="7258137">,</span>&nbsp;<span class="num" id="7258139">0xe6599437</span><span class="op" id="7258149">,</span>&nbsp;<span class="string" id="7258151">&#34;abcdefghij&#34;</span><span class="op" id="7258163">}</span><span class="op" id="7258164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258167">{</span><span class="num" id="7258168">0x6b9cdfe7</span><span class="op" id="7258178">,</span>&nbsp;<span class="num" id="7258180">0xb2cc01fe</span><span class="op" id="7258190">,</span>&nbsp;<span class="string" id="7258192">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7258235">}</span><span class="op" id="7258236">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258239">{</span><span class="num" id="7258240">0xc90ef73f</span><span class="op" id="7258250">,</span>&nbsp;<span class="num" id="7258252">0xe28207f</span><span class="op" id="7258261">,</span>&nbsp;<span class="string" id="7258263">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7258322">}</span><span class="op" id="7258323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258326">{</span><span class="num" id="7258327">0xb902341f</span><span class="op" id="7258337">,</span>&nbsp;<span class="num" id="7258339">0xbe93f964</span><span class="op" id="7258349">,</span>&nbsp;<span class="string" id="7258351">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7258395">}</span><span class="op" id="7258396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258399">{</span><span class="num" id="7258400">0x42080e8</span><span class="op" id="7258409">,</span>&nbsp;<span class="num" id="7258411">0x9e3be0c3</span><span class="op" id="7258421">,</span>&nbsp;<span class="string" id="7258423">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7258482">}</span><span class="op" id="7258483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258486">{</span><span class="num" id="7258487">0x154c6d11</span><span class="op" id="7258497">,</span>&nbsp;<span class="num" id="7258499">0xf505ef04</span><span class="op" id="7258509">,</span>&nbsp;<span class="string" id="7258511">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7258571">}</span><span class="op" id="7258572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258575">{</span><span class="num" id="7258576">0x4c418325</span><span class="op" id="7258586">,</span>&nbsp;<span class="num" id="7258588">0x85d3dc82</span><span class="op" id="7258598">,</span>&nbsp;<span class="string" id="7258600">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7258629">}</span><span class="op" id="7258630">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258633">{</span><span class="num" id="7258634">0x33955150</span><span class="op" id="7258644">,</span>&nbsp;<span class="num" id="7258646">0xc5142380</span><span class="op" id="7258656">,</span>&nbsp;<span class="string" id="7258658">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7258727">}</span><span class="op" id="7258728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258731">{</span><span class="num" id="7258732">0x26216a4b</span><span class="op" id="7258742">,</span>&nbsp;<span class="num" id="7258744">0x75eb77dd</span><span class="op" id="7258754">,</span>&nbsp;<span class="string" id="7258756">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7258815">}</span><span class="op" id="7258816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258819">{</span><span class="num" id="7258820">0x1abbe45e</span><span class="op" id="7258830">,</span>&nbsp;<span class="num" id="7258832">0x91ebe9f7</span><span class="op" id="7258842">,</span>&nbsp;<span class="string" id="7258844">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7258934">}</span><span class="op" id="7258935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7258938">{</span><span class="num" id="7258939">0xc89a94f7</span><span class="op" id="7258949">,</span>&nbsp;<span class="num" id="7258951">0xf0b1168e</span><span class="op" id="7258961">,</span>&nbsp;<span class="string" id="7258963">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7259040">}</span><span class="op" id="7259041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259044">{</span><span class="num" id="7259045">0xab3abe14</span><span class="op" id="7259055">,</span>&nbsp;<span class="num" id="7259057">0x572b74e2</span><span class="op" id="7259067">,</span>&nbsp;<span class="string" id="7259069">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7259095">}</span><span class="op" id="7259096">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259099">{</span><span class="num" id="7259100">0xbab102b6</span><span class="op" id="7259110">,</span>&nbsp;<span class="num" id="7259112">0x8a58a6d5</span><span class="op" id="7259122">,</span>&nbsp;<span class="string" id="7259124">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7259175">}</span><span class="op" id="7259176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259179">{</span><span class="num" id="7259180">0x999149d7</span><span class="op" id="7259190">,</span>&nbsp;<span class="num" id="7259192">0x9c426c50</span><span class="op" id="7259202">,</span>&nbsp;<span class="string" id="7259204">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7259278">}</span><span class="op" id="7259279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259282">{</span><span class="num" id="7259283">0x6d52a33c</span><span class="op" id="7259293">,</span>&nbsp;<span class="num" id="7259295">0x735400a4</span><span class="op" id="7259305">,</span>&nbsp;<span class="string" id="7259307">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7259355">}</span><span class="op" id="7259356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259359">{</span><span class="num" id="7259360">0x90631e8d</span><span class="op" id="7259370">,</span>&nbsp;<span class="num" id="7259372">0xbec49c95</span><span class="op" id="7259382">,</span>&nbsp;<span class="string" id="7259384">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7259456">}</span><span class="op" id="7259457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259460">{</span><span class="num" id="7259461">0x78309130</span><span class="op" id="7259471">,</span>&nbsp;<span class="num" id="7259473">0xa95a2079</span><span class="op" id="7259483">,</span>&nbsp;<span class="string" id="7259485">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7259555">}</span><span class="op" id="7259556">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259559">{</span><span class="num" id="7259560">0x7d0a377f</span><span class="op" id="7259570">,</span>&nbsp;<span class="num" id="7259572">0xde2e65c5</span><span class="op" id="7259582">,</span>&nbsp;<span class="string" id="7259584">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7259618">}</span><span class="op" id="7259619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259622">{</span><span class="num" id="7259623">0x8c79fd79</span><span class="op" id="7259633">,</span>&nbsp;<span class="num" id="7259635">0x297a88ed</span><span class="op" id="7259645">,</span>&nbsp;<span class="string" id="7259647">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7259737">}</span><span class="op" id="7259738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259741">{</span><span class="num" id="7259742">0xa20b7167</span><span class="op" id="7259752">,</span>&nbsp;<span class="num" id="7259754">0x66ed1d8b</span><span class="op" id="7259764">,</span>&nbsp;<span class="string" id="7259766">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7259900">}</span><span class="op" id="7259901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7259904">{</span><span class="num" id="7259905">0x8e0bb443</span><span class="op" id="7259915">,</span>&nbsp;<span class="num" id="7259917">0xdcded527</span><span class="op" id="7259927">,</span>&nbsp;<span class="string" id="7259929">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7259987">}</span><span class="op" id="7259988">,</span><br>
<span class="lineno"></span><span class="op" id="7259990">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7259993">func</span>&nbsp;<span class="ident" id="7259998">TestGolden</span><span class="op" id="7260008">(</span><span class="ident" id="7260009">t</span>&nbsp;<span class="op" id="7260011">*</span><span class="ident" id="7260012">testing</span><span class="op" id="7260019">.</span><span class="ident" id="7260020">T</span><span class="op" id="7260021">)</span>&nbsp;<span class="op" id="7260023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260026">castagnoliTab</span>&nbsp;<span class="op" id="7260040">:=</span>&nbsp;<span class="ident" id="7260043">MakeTable</span><span class="op" id="7260052">(</span><span class="ident" id="7260053">Castagnoli</span><span class="op" id="7260063">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7260067">for</span>&nbsp;<span class="ident" id="7260071">_</span><span class="op" id="7260072">,</span>&nbsp;<span class="ident" id="7260074">g</span>&nbsp;<span class="op" id="7260076">:=</span>&nbsp;<span class="keyword" id="7260079">range</span>&nbsp;<span class="ident" id="7260085">golden</span>&nbsp;<span class="op" id="7260092">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260096">ieee</span>&nbsp;<span class="op" id="7260101">:=</span>&nbsp;<span class="ident" id="7260104">NewIEEE</span><span class="op" id="7260111">(</span><span class="op" id="7260112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260116">io</span><span class="op" id="7260118">.</span><span class="ident" id="7260119">WriteString</span><span class="op" id="7260130">(</span><span class="ident" id="7260131">ieee</span><span class="op" id="7260135">,</span>&nbsp;<span class="ident" id="7260137">g</span><span class="op" id="7260138">.</span><span class="ident" id="7260139">in</span><span class="op" id="7260141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260145">s</span>&nbsp;<span class="op" id="7260147">:=</span>&nbsp;<span class="ident" id="7260150">ieee</span><span class="op" id="7260154">.</span><span class="ident" id="7260155">Sum32</span><span class="op" id="7260160">(</span><span class="op" id="7260161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7260165">if</span>&nbsp;<span class="ident" id="7260168">s</span>&nbsp;<span class="op" id="7260170">!=</span>&nbsp;<span class="ident" id="7260173">g</span><span class="op" id="7260174">.</span><span class="ident" id="7260175">ieee</span>&nbsp;<span class="op" id="7260180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260185">t</span><span class="op" id="7260186">.</span><span class="ident" id="7260187">Errorf</span><span class="op" id="7260193">(</span><span class="string" id="7260194">&#34;IEEE(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7260221">,</span>&nbsp;<span class="ident" id="7260223">g</span><span class="op" id="7260224">.</span><span class="ident" id="7260225">in</span><span class="op" id="7260227">,</span>&nbsp;<span class="ident" id="7260229">s</span><span class="op" id="7260230">,</span>&nbsp;<span class="ident" id="7260232">g</span><span class="op" id="7260233">.</span><span class="ident" id="7260234">ieee</span><span class="op" id="7260238">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7260242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260247">castagnoli</span>&nbsp;<span class="op" id="7260258">:=</span>&nbsp;<span class="ident" id="7260261">New</span><span class="op" id="7260264">(</span><span class="ident" id="7260265">castagnoliTab</span><span class="op" id="7260278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260282">io</span><span class="op" id="7260284">.</span><span class="ident" id="7260285">WriteString</span><span class="op" id="7260296">(</span><span class="ident" id="7260297">castagnoli</span><span class="op" id="7260307">,</span>&nbsp;<span class="ident" id="7260309">g</span><span class="op" id="7260310">.</span><span class="ident" id="7260311">in</span><span class="op" id="7260313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260317">s</span>&nbsp;<span class="op" id="7260319">=</span>&nbsp;<span class="ident" id="7260321">castagnoli</span><span class="op" id="7260331">.</span><span class="ident" id="7260332">Sum32</span><span class="op" id="7260337">(</span><span class="op" id="7260338">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7260342">if</span>&nbsp;<span class="ident" id="7260345">s</span>&nbsp;<span class="op" id="7260347">!=</span>&nbsp;<span class="ident" id="7260350">g</span><span class="op" id="7260351">.</span><span class="ident" id="7260352">castagnoli</span>&nbsp;<span class="op" id="7260363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260368">t</span><span class="op" id="7260369">.</span><span class="ident" id="7260370">Errorf</span><span class="op" id="7260376">(</span><span class="string" id="7260377">&#34;Castagnoli(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7260410">,</span>&nbsp;<span class="ident" id="7260412">g</span><span class="op" id="7260413">.</span><span class="ident" id="7260414">in</span><span class="op" id="7260416">,</span>&nbsp;<span class="ident" id="7260418">s</span><span class="op" id="7260419">,</span>&nbsp;<span class="ident" id="7260421">g</span><span class="op" id="7260422">.</span><span class="ident" id="7260423">castagnoli</span><span class="op" id="7260433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7260437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7260442">if</span>&nbsp;<span class="builtinfunc" id="7260445">len</span><span class="op" id="7260448">(</span><span class="ident" id="7260449">g</span><span class="op" id="7260450">.</span><span class="ident" id="7260451">in</span><span class="op" id="7260453">)</span>&nbsp;<span class="op" id="7260455">&gt;</span>&nbsp;<span class="num" id="7260457">0</span>&nbsp;<span class="op" id="7260459">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7260464">//&nbsp;The&nbsp;SSE4.2&nbsp;implementation&nbsp;of&nbsp;this&nbsp;has&nbsp;code&nbsp;to&nbsp;deal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7260521">//&nbsp;with&nbsp;misaligned&nbsp;data&nbsp;so&nbsp;we&nbsp;ensure&nbsp;that&nbsp;we&nbsp;test&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7260579">//&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260590">castagnoli</span>&nbsp;<span class="op" id="7260601">=</span>&nbsp;<span class="ident" id="7260603">New</span><span class="op" id="7260606">(</span><span class="ident" id="7260607">castagnoliTab</span><span class="op" id="7260620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260625">io</span><span class="op" id="7260627">.</span><span class="ident" id="7260628">WriteString</span><span class="op" id="7260639">(</span><span class="ident" id="7260640">castagnoli</span><span class="op" id="7260650">,</span>&nbsp;<span class="ident" id="7260652">g</span><span class="op" id="7260653">.</span><span class="ident" id="7260654">in</span><span class="op" id="7260656">[</span><span class="op" id="7260657">:</span><span class="num" id="7260658">1</span><span class="op" id="7260659">]</span><span class="op" id="7260660">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260665">io</span><span class="op" id="7260667">.</span><span class="ident" id="7260668">WriteString</span><span class="op" id="7260679">(</span><span class="ident" id="7260680">castagnoli</span><span class="op" id="7260690">,</span>&nbsp;<span class="ident" id="7260692">g</span><span class="op" id="7260693">.</span><span class="ident" id="7260694">in</span><span class="op" id="7260696">[</span><span class="num" id="7260697">1</span><span class="op" id="7260698">:</span><span class="op" id="7260699">]</span><span class="op" id="7260700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260705">s</span>&nbsp;<span class="op" id="7260707">=</span>&nbsp;<span class="ident" id="7260709">castagnoli</span><span class="op" id="7260719">.</span><span class="ident" id="7260720">Sum32</span><span class="op" id="7260725">(</span><span class="op" id="7260726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7260731">if</span>&nbsp;<span class="ident" id="7260734">s</span>&nbsp;<span class="op" id="7260736">!=</span>&nbsp;<span class="ident" id="7260739">g</span><span class="op" id="7260740">.</span><span class="ident" id="7260741">castagnoli</span>&nbsp;<span class="op" id="7260752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260758">t</span><span class="op" id="7260759">.</span><span class="ident" id="7260760">Errorf</span><span class="op" id="7260766">(</span><span class="string" id="7260767">&#34;Castagnoli[misaligned](%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7260812">,</span>&nbsp;<span class="ident" id="7260814">g</span><span class="op" id="7260815">.</span><span class="ident" id="7260816">in</span><span class="op" id="7260818">,</span>&nbsp;<span class="ident" id="7260820">s</span><span class="op" id="7260821">,</span>&nbsp;<span class="ident" id="7260823">g</span><span class="op" id="7260824">.</span><span class="ident" id="7260825">castagnoli</span><span class="op" id="7260835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7260840">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7260844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7260847">}</span><br>
<span class="lineno"></span><span class="op" id="7260849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7260852">func</span>&nbsp;<span class="ident" id="7260857">BenchmarkCrc32KB</span><span class="op" id="7260873">(</span><span class="ident" id="7260874">b</span>&nbsp;<span class="op" id="7260876">*</span><span class="ident" id="7260877">testing</span><span class="op" id="7260884">.</span><span class="ident" id="7260885">B</span><span class="op" id="7260886">)</span>&nbsp;<span class="op" id="7260888">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260891">b</span><span class="op" id="7260892">.</span><span class="ident" id="7260893">SetBytes</span><span class="op" id="7260901">(</span><span class="num" id="7260902">1024</span><span class="op" id="7260906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260909">data</span>&nbsp;<span class="op" id="7260914">:=</span>&nbsp;<span class="builtinfunc" id="7260917">make</span><span class="op" id="7260921">(</span><span class="op" id="7260922">[</span><span class="op" id="7260923">]</span><span class="builtintype" id="7260924">byte</span><span class="op" id="7260928">,</span>&nbsp;<span class="num" id="7260930">1024</span><span class="op" id="7260934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7260937">for</span>&nbsp;<span class="ident" id="7260941">i</span>&nbsp;<span class="op" id="7260943">:=</span>&nbsp;<span class="keyword" id="7260946">range</span>&nbsp;<span class="ident" id="7260952">data</span>&nbsp;<span class="op" id="7260957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260961">data</span><span class="op" id="7260965">[</span><span class="ident" id="7260966">i</span><span class="op" id="7260967">]</span>&nbsp;<span class="op" id="7260969">=</span>&nbsp;<span class="builtintype" id="7260971">byte</span><span class="op" id="7260975">(</span><span class="ident" id="7260976">i</span><span class="op" id="7260977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7260980">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260983">h</span>&nbsp;<span class="op" id="7260985">:=</span>&nbsp;<span class="ident" id="7260988">NewIEEE</span><span class="op" id="7260995">(</span><span class="op" id="7260996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7260999">in</span>&nbsp;<span class="op" id="7261002">:=</span>&nbsp;<span class="builtinfunc" id="7261005">make</span><span class="op" id="7261009">(</span><span class="op" id="7261010">[</span><span class="op" id="7261011">]</span><span class="builtintype" id="7261012">byte</span><span class="op" id="7261016">,</span>&nbsp;<span class="num" id="7261018">0</span><span class="op" id="7261019">,</span>&nbsp;<span class="ident" id="7261021">h</span><span class="op" id="7261022">.</span><span class="ident" id="7261023">Size</span><span class="op" id="7261027">(</span><span class="op" id="7261028">)</span><span class="op" id="7261029">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261033">b</span><span class="op" id="7261034">.</span><span class="ident" id="7261035">ResetTimer</span><span class="op" id="7261045">(</span><span class="op" id="7261046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7261049">for</span>&nbsp;<span class="ident" id="7261053">i</span>&nbsp;<span class="op" id="7261055">:=</span>&nbsp;<span class="num" id="7261058">0</span><span class="op" id="7261059">;</span>&nbsp;<span class="ident" id="7261061">i</span>&nbsp;<span class="op" id="7261063">&lt;</span>&nbsp;<span class="ident" id="7261065">b</span><span class="op" id="7261066">.</span><span class="ident" id="7261067">N</span><span class="op" id="7261068">;</span>&nbsp;<span class="ident" id="7261070">i</span><span class="op" id="7261071">++</span>&nbsp;<span class="op" id="7261074">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261078">h</span><span class="op" id="7261079">.</span><span class="ident" id="7261080">Reset</span><span class="op" id="7261085">(</span><span class="op" id="7261086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261090">h</span><span class="op" id="7261091">.</span><span class="ident" id="7261092">Write</span><span class="op" id="7261097">(</span><span class="ident" id="7261098">data</span><span class="op" id="7261102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7261106">h</span><span class="op" id="7261107">.</span><span class="ident" id="7261108">Sum</span><span class="op" id="7261111">(</span><span class="ident" id="7261112">in</span><span class="op" id="7261114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7261117">}</span><br>
<span class="lineno"></span><span class="op" id="7261119">}</span>
</div>
</body>
</html>
