<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6427313">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6427368">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6427422">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6427473">package</span>&nbsp;<span class="ident" id="6427481">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6427487">import</span>&nbsp;<span class="op" id="6427494">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6427497">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6427506">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6427521">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6427531">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6427534">const</span>&nbsp;<span class="op" id="6427540">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6427543">dstw</span><span class="op" id="6427547">,</span>&nbsp;<span class="ident" id="6427549">dsth</span>&nbsp;<span class="op" id="6427554">=</span>&nbsp;<span class="num" id="6427556">640</span><span class="op" id="6427559">,</span>&nbsp;<span class="num" id="6427561">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6427566">srcw</span><span class="op" id="6427570">,</span>&nbsp;<span class="ident" id="6427572">srch</span>&nbsp;<span class="op" id="6427577">=</span>&nbsp;<span class="num" id="6427579">400</span><span class="op" id="6427582">,</span>&nbsp;<span class="num" id="6427584">300</span><br>
<span class="lineno"></span><span class="op" id="6427588">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6427591">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6427665">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="6427727">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="6427793">func</span>&nbsp;<span class="ident" id="6427798">bench</span><span class="op" id="6427803">(</span><span class="ident" id="6427804">b</span>&nbsp;<span class="op" id="6427806">*</span><span class="ident" id="6427807">testing</span><span class="op" id="6427814">.</span><span class="ident" id="6427815">B</span><span class="op" id="6427816">,</span>&nbsp;<span class="ident" id="6427818">dcm</span><span class="op" id="6427821">,</span>&nbsp;<span class="ident" id="6427823">scm</span><span class="op" id="6427826">,</span>&nbsp;<span class="ident" id="6427828">mcm</span>&nbsp;<span class="ident" id="6427832">color</span><span class="op" id="6427837">.</span><span class="ident" id="6427838">Model</span><span class="op" id="6427843">,</span>&nbsp;<span class="ident" id="6427845">op</span>&nbsp;<span class="ident" id="6427848">Op</span><span class="op" id="6427850">)</span>&nbsp;<span class="op" id="6427852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6427855">b</span><span class="op" id="6427856">.</span><span class="ident" id="6427857">StopTimer</span><span class="op" id="6427866">(</span><span class="op" id="6427867">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6427871">var</span>&nbsp;<span class="ident" id="6427875">dst</span>&nbsp;<span class="ident" id="6427879">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6427886">switch</span>&nbsp;<span class="ident" id="6427893">dcm</span>&nbsp;<span class="op" id="6427897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6427900">case</span>&nbsp;<span class="ident" id="6427905">color</span><span class="op" id="6427910">.</span><span class="ident" id="6427911">RGBAModel</span><span class="op" id="6427920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6427924">dst1</span>&nbsp;<span class="op" id="6427929">:=</span>&nbsp;<span class="ident" id="6427932">image</span><span class="op" id="6427937">.</span><span class="ident" id="6427938">NewRGBA</span><span class="op" id="6427945">(</span><span class="ident" id="6427946">image</span><span class="op" id="6427951">.</span><span class="ident" id="6427952">Rect</span><span class="op" id="6427956">(</span><span class="num" id="6427957">0</span><span class="op" id="6427958">,</span>&nbsp;<span class="num" id="6427960">0</span><span class="op" id="6427961">,</span>&nbsp;<span class="ident" id="6427963">dstw</span><span class="op" id="6427967">,</span>&nbsp;<span class="ident" id="6427969">dsth</span><span class="op" id="6427973">)</span><span class="op" id="6427974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6427978">for</span>&nbsp;<span class="ident" id="6427982">y</span>&nbsp;<span class="op" id="6427984">:=</span>&nbsp;<span class="num" id="6427987">0</span><span class="op" id="6427988">;</span>&nbsp;<span class="ident" id="6427990">y</span>&nbsp;<span class="op" id="6427992">&lt;</span>&nbsp;<span class="ident" id="6427994">dsth</span><span class="op" id="6427998">;</span>&nbsp;<span class="ident" id="6428000">y</span><span class="op" id="6428001">++</span>&nbsp;<span class="op" id="6428004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428009">for</span>&nbsp;<span class="ident" id="6428013">x</span>&nbsp;<span class="op" id="6428015">:=</span>&nbsp;<span class="num" id="6428018">0</span><span class="op" id="6428019">;</span>&nbsp;<span class="ident" id="6428021">x</span>&nbsp;<span class="op" id="6428023">&lt;</span>&nbsp;<span class="ident" id="6428025">dstw</span><span class="op" id="6428029">;</span>&nbsp;<span class="ident" id="6428031">x</span><span class="op" id="6428032">++</span>&nbsp;<span class="op" id="6428035">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428041">dst1</span><span class="op" id="6428045">.</span><span class="ident" id="6428046">SetRGBA</span><span class="op" id="6428053">(</span><span class="ident" id="6428054">x</span><span class="op" id="6428055">,</span>&nbsp;<span class="ident" id="6428057">y</span><span class="op" id="6428058">,</span>&nbsp;<span class="ident" id="6428060">color</span><span class="op" id="6428065">.</span><span class="ident" id="6428066">RGBA</span><span class="op" id="6428070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428077">uint8</span><span class="op" id="6428082">(</span><span class="num" id="6428083">5</span>&nbsp;<span class="op" id="6428085">*</span>&nbsp;<span class="ident" id="6428087">x</span>&nbsp;<span class="op" id="6428089">%</span>&nbsp;<span class="num" id="6428091">0x100</span><span class="op" id="6428096">)</span><span class="op" id="6428097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428104">uint8</span><span class="op" id="6428109">(</span><span class="num" id="6428110">7</span>&nbsp;<span class="op" id="6428112">*</span>&nbsp;<span class="ident" id="6428114">y</span>&nbsp;<span class="op" id="6428116">%</span>&nbsp;<span class="num" id="6428118">0x100</span><span class="op" id="6428123">)</span><span class="op" id="6428124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428131">uint8</span><span class="op" id="6428136">(</span><span class="op" id="6428137">(</span><span class="num" id="6428138">7</span><span class="op" id="6428139">*</span><span class="ident" id="6428140">x</span>&nbsp;<span class="op" id="6428142">+</span>&nbsp;<span class="num" id="6428144">5</span><span class="op" id="6428145">*</span><span class="ident" id="6428146">y</span><span class="op" id="6428147">)</span>&nbsp;<span class="op" id="6428149">%</span>&nbsp;<span class="num" id="6428151">0x100</span><span class="op" id="6428156">)</span><span class="op" id="6428157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6428164">0xff</span><span class="op" id="6428168">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428174">}</span><span class="op" id="6428175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428188">dst</span>&nbsp;<span class="op" id="6428192">=</span>&nbsp;<span class="ident" id="6428194">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428200">case</span>&nbsp;<span class="ident" id="6428205">color</span><span class="op" id="6428210">.</span><span class="ident" id="6428211">RGBA64Model</span><span class="op" id="6428222">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428226">dst1</span>&nbsp;<span class="op" id="6428231">:=</span>&nbsp;<span class="ident" id="6428234">image</span><span class="op" id="6428239">.</span><span class="ident" id="6428240">NewRGBA64</span><span class="op" id="6428249">(</span><span class="ident" id="6428250">image</span><span class="op" id="6428255">.</span><span class="ident" id="6428256">Rect</span><span class="op" id="6428260">(</span><span class="num" id="6428261">0</span><span class="op" id="6428262">,</span>&nbsp;<span class="num" id="6428264">0</span><span class="op" id="6428265">,</span>&nbsp;<span class="ident" id="6428267">dstw</span><span class="op" id="6428271">,</span>&nbsp;<span class="ident" id="6428273">dsth</span><span class="op" id="6428277">)</span><span class="op" id="6428278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428282">for</span>&nbsp;<span class="ident" id="6428286">y</span>&nbsp;<span class="op" id="6428288">:=</span>&nbsp;<span class="num" id="6428291">0</span><span class="op" id="6428292">;</span>&nbsp;<span class="ident" id="6428294">y</span>&nbsp;<span class="op" id="6428296">&lt;</span>&nbsp;<span class="ident" id="6428298">dsth</span><span class="op" id="6428302">;</span>&nbsp;<span class="ident" id="6428304">y</span><span class="op" id="6428305">++</span>&nbsp;<span class="op" id="6428308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428313">for</span>&nbsp;<span class="ident" id="6428317">x</span>&nbsp;<span class="op" id="6428319">:=</span>&nbsp;<span class="num" id="6428322">0</span><span class="op" id="6428323">;</span>&nbsp;<span class="ident" id="6428325">x</span>&nbsp;<span class="op" id="6428327">&lt;</span>&nbsp;<span class="ident" id="6428329">dstw</span><span class="op" id="6428333">;</span>&nbsp;<span class="ident" id="6428335">x</span><span class="op" id="6428336">++</span>&nbsp;<span class="op" id="6428339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428345">dst1</span><span class="op" id="6428349">.</span><span class="ident" id="6428350">SetRGBA64</span><span class="op" id="6428359">(</span><span class="ident" id="6428360">x</span><span class="op" id="6428361">,</span>&nbsp;<span class="ident" id="6428363">y</span><span class="op" id="6428364">,</span>&nbsp;<span class="ident" id="6428366">color</span><span class="op" id="6428371">.</span><span class="ident" id="6428372">RGBA64</span><span class="op" id="6428378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428385">uint16</span><span class="op" id="6428391">(</span><span class="num" id="6428392">53</span>&nbsp;<span class="op" id="6428395">*</span>&nbsp;<span class="ident" id="6428397">x</span>&nbsp;<span class="op" id="6428399">%</span>&nbsp;<span class="num" id="6428401">0x10000</span><span class="op" id="6428408">)</span><span class="op" id="6428409">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428416">uint16</span><span class="op" id="6428422">(</span><span class="num" id="6428423">59</span>&nbsp;<span class="op" id="6428426">*</span>&nbsp;<span class="ident" id="6428428">y</span>&nbsp;<span class="op" id="6428430">%</span>&nbsp;<span class="num" id="6428432">0x10000</span><span class="op" id="6428439">)</span><span class="op" id="6428440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428447">uint16</span><span class="op" id="6428453">(</span><span class="op" id="6428454">(</span><span class="num" id="6428455">59</span><span class="op" id="6428457">*</span><span class="ident" id="6428458">x</span>&nbsp;<span class="op" id="6428460">+</span>&nbsp;<span class="num" id="6428462">53</span><span class="op" id="6428464">*</span><span class="ident" id="6428465">y</span><span class="op" id="6428466">)</span>&nbsp;<span class="op" id="6428468">%</span>&nbsp;<span class="num" id="6428470">0x10000</span><span class="op" id="6428477">)</span><span class="op" id="6428478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6428485">0xffff</span><span class="op" id="6428491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428497">}</span><span class="op" id="6428498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428503">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428511">dst</span>&nbsp;<span class="op" id="6428515">=</span>&nbsp;<span class="ident" id="6428517">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428523">default</span><span class="op" id="6428530">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428534">b</span><span class="op" id="6428535">.</span><span class="ident" id="6428536">Fatal</span><span class="op" id="6428541">(</span><span class="string" id="6428542">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="6428575">,</span>&nbsp;<span class="ident" id="6428577">dcm</span><span class="op" id="6428580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428583">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428587">var</span>&nbsp;<span class="ident" id="6428591">src</span>&nbsp;<span class="ident" id="6428595">image</span><span class="op" id="6428600">.</span><span class="ident" id="6428601">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428608">switch</span>&nbsp;<span class="ident" id="6428615">scm</span>&nbsp;<span class="op" id="6428619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428622">case</span>&nbsp;<span class="ident" id="6428627">nil</span><span class="op" id="6428630">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428634">src</span>&nbsp;<span class="op" id="6428638">=</span>&nbsp;<span class="op" id="6428640">&amp;</span><span class="ident" id="6428641">image</span><span class="op" id="6428646">.</span><span class="ident" id="6428647">Uniform</span><span class="op" id="6428654">{</span><span class="ident" id="6428655">C</span><span class="op" id="6428656">:</span>&nbsp;<span class="ident" id="6428658">color</span><span class="op" id="6428663">.</span><span class="ident" id="6428664">RGBA</span><span class="op" id="6428668">{</span><span class="num" id="6428669">0x11</span><span class="op" id="6428673">,</span>&nbsp;<span class="num" id="6428675">0x22</span><span class="op" id="6428679">,</span>&nbsp;<span class="num" id="6428681">0x33</span><span class="op" id="6428685">,</span>&nbsp;<span class="num" id="6428687">0xff</span><span class="op" id="6428691">}</span><span class="op" id="6428692">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428695">case</span>&nbsp;<span class="ident" id="6428700">color</span><span class="op" id="6428705">.</span><span class="ident" id="6428706">RGBAModel</span><span class="op" id="6428715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428719">src1</span>&nbsp;<span class="op" id="6428724">:=</span>&nbsp;<span class="ident" id="6428727">image</span><span class="op" id="6428732">.</span><span class="ident" id="6428733">NewRGBA</span><span class="op" id="6428740">(</span><span class="ident" id="6428741">image</span><span class="op" id="6428746">.</span><span class="ident" id="6428747">Rect</span><span class="op" id="6428751">(</span><span class="num" id="6428752">0</span><span class="op" id="6428753">,</span>&nbsp;<span class="num" id="6428755">0</span><span class="op" id="6428756">,</span>&nbsp;<span class="ident" id="6428758">srcw</span><span class="op" id="6428762">,</span>&nbsp;<span class="ident" id="6428764">srch</span><span class="op" id="6428768">)</span><span class="op" id="6428769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428773">for</span>&nbsp;<span class="ident" id="6428777">y</span>&nbsp;<span class="op" id="6428779">:=</span>&nbsp;<span class="num" id="6428782">0</span><span class="op" id="6428783">;</span>&nbsp;<span class="ident" id="6428785">y</span>&nbsp;<span class="op" id="6428787">&lt;</span>&nbsp;<span class="ident" id="6428789">srch</span><span class="op" id="6428793">;</span>&nbsp;<span class="ident" id="6428795">y</span><span class="op" id="6428796">++</span>&nbsp;<span class="op" id="6428799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428804">for</span>&nbsp;<span class="ident" id="6428808">x</span>&nbsp;<span class="op" id="6428810">:=</span>&nbsp;<span class="num" id="6428813">0</span><span class="op" id="6428814">;</span>&nbsp;<span class="ident" id="6428816">x</span>&nbsp;<span class="op" id="6428818">&lt;</span>&nbsp;<span class="ident" id="6428820">srcw</span><span class="op" id="6428824">;</span>&nbsp;<span class="ident" id="6428826">x</span><span class="op" id="6428827">++</span>&nbsp;<span class="op" id="6428830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428836">src1</span><span class="op" id="6428840">.</span><span class="ident" id="6428841">SetRGBA</span><span class="op" id="6428848">(</span><span class="ident" id="6428849">x</span><span class="op" id="6428850">,</span>&nbsp;<span class="ident" id="6428852">y</span><span class="op" id="6428853">,</span>&nbsp;<span class="ident" id="6428855">color</span><span class="op" id="6428860">.</span><span class="ident" id="6428861">RGBA</span><span class="op" id="6428865">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428872">uint8</span><span class="op" id="6428877">(</span><span class="num" id="6428878">13</span>&nbsp;<span class="op" id="6428881">*</span>&nbsp;<span class="ident" id="6428883">x</span>&nbsp;<span class="op" id="6428885">%</span>&nbsp;<span class="num" id="6428887">0x80</span><span class="op" id="6428891">)</span><span class="op" id="6428892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428899">uint8</span><span class="op" id="6428904">(</span><span class="num" id="6428905">11</span>&nbsp;<span class="op" id="6428908">*</span>&nbsp;<span class="ident" id="6428910">y</span>&nbsp;<span class="op" id="6428912">%</span>&nbsp;<span class="num" id="6428914">0x80</span><span class="op" id="6428918">)</span><span class="op" id="6428919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6428926">uint8</span><span class="op" id="6428931">(</span><span class="op" id="6428932">(</span><span class="num" id="6428933">11</span><span class="op" id="6428935">*</span><span class="ident" id="6428936">x</span>&nbsp;<span class="op" id="6428938">+</span>&nbsp;<span class="num" id="6428940">13</span><span class="op" id="6428942">*</span><span class="ident" id="6428943">y</span><span class="op" id="6428944">)</span>&nbsp;<span class="op" id="6428946">%</span>&nbsp;<span class="num" id="6428948">0x80</span><span class="op" id="6428952">)</span><span class="op" id="6428953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6428960">0x7f</span><span class="op" id="6428964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428970">}</span><span class="op" id="6428971">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6428980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6428984">src</span>&nbsp;<span class="op" id="6428988">=</span>&nbsp;<span class="ident" id="6428990">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6428996">case</span>&nbsp;<span class="ident" id="6429001">color</span><span class="op" id="6429006">.</span><span class="ident" id="6429007">RGBA64Model</span><span class="op" id="6429018">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429022">src1</span>&nbsp;<span class="op" id="6429027">:=</span>&nbsp;<span class="ident" id="6429030">image</span><span class="op" id="6429035">.</span><span class="ident" id="6429036">NewRGBA64</span><span class="op" id="6429045">(</span><span class="ident" id="6429046">image</span><span class="op" id="6429051">.</span><span class="ident" id="6429052">Rect</span><span class="op" id="6429056">(</span><span class="num" id="6429057">0</span><span class="op" id="6429058">,</span>&nbsp;<span class="num" id="6429060">0</span><span class="op" id="6429061">,</span>&nbsp;<span class="ident" id="6429063">srcw</span><span class="op" id="6429067">,</span>&nbsp;<span class="ident" id="6429069">srch</span><span class="op" id="6429073">)</span><span class="op" id="6429074">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6429078">for</span>&nbsp;<span class="ident" id="6429082">y</span>&nbsp;<span class="op" id="6429084">:=</span>&nbsp;<span class="num" id="6429087">0</span><span class="op" id="6429088">;</span>&nbsp;<span class="ident" id="6429090">y</span>&nbsp;<span class="op" id="6429092">&lt;</span>&nbsp;<span class="ident" id="6429094">srch</span><span class="op" id="6429098">;</span>&nbsp;<span class="ident" id="6429100">y</span><span class="op" id="6429101">++</span>&nbsp;<span class="op" id="6429104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6429109">for</span>&nbsp;<span class="ident" id="6429113">x</span>&nbsp;<span class="op" id="6429115">:=</span>&nbsp;<span class="num" id="6429118">0</span><span class="op" id="6429119">;</span>&nbsp;<span class="ident" id="6429121">x</span>&nbsp;<span class="op" id="6429123">&lt;</span>&nbsp;<span class="ident" id="6429125">srcw</span><span class="op" id="6429129">;</span>&nbsp;<span class="ident" id="6429131">x</span><span class="op" id="6429132">++</span>&nbsp;<span class="op" id="6429135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429141">src1</span><span class="op" id="6429145">.</span><span class="ident" id="6429146">SetRGBA64</span><span class="op" id="6429155">(</span><span class="ident" id="6429156">x</span><span class="op" id="6429157">,</span>&nbsp;<span class="ident" id="6429159">y</span><span class="op" id="6429160">,</span>&nbsp;<span class="ident" id="6429162">color</span><span class="op" id="6429167">.</span><span class="ident" id="6429168">RGBA64</span><span class="op" id="6429174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6429181">uint16</span><span class="op" id="6429187">(</span><span class="num" id="6429188">103</span>&nbsp;<span class="op" id="6429192">*</span>&nbsp;<span class="ident" id="6429194">x</span>&nbsp;<span class="op" id="6429196">%</span>&nbsp;<span class="num" id="6429198">0x8000</span><span class="op" id="6429204">)</span><span class="op" id="6429205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6429212">uint16</span><span class="op" id="6429218">(</span><span class="num" id="6429219">101</span>&nbsp;<span class="op" id="6429223">*</span>&nbsp;<span class="ident" id="6429225">y</span>&nbsp;<span class="op" id="6429227">%</span>&nbsp;<span class="num" id="6429229">0x8000</span><span class="op" id="6429235">)</span><span class="op" id="6429236">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6429243">uint16</span><span class="op" id="6429249">(</span><span class="op" id="6429250">(</span><span class="num" id="6429251">101</span><span class="op" id="6429254">*</span><span class="ident" id="6429255">x</span>&nbsp;<span class="op" id="6429257">+</span>&nbsp;<span class="num" id="6429259">103</span><span class="op" id="6429262">*</span><span class="ident" id="6429263">y</span><span class="op" id="6429264">)</span>&nbsp;<span class="op" id="6429266">%</span>&nbsp;<span class="num" id="6429268">0x8000</span><span class="op" id="6429274">)</span><span class="op" id="6429275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6429282">0x7fff</span><span class="op" id="6429288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6429294">}</span><span class="op" id="6429295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6429300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6429304">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429308">src</span>&nbsp;<span class="op" id="6429312">=</span>&nbsp;<span class="ident" id="6429314">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6429320">case</span>&nbsp;<span class="ident" id="6429325">color</span><span class="op" id="6429330">.</span><span class="ident" id="6429331">NRGBAModel</span><span class="op" id="6429341">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429345">src1</span>&nbsp;<span class="op" id="6429350">:=</span>&nbsp;<span class="ident" id="6429353">image</span><span class="op" id="6429358">.</span><span class="ident" id="6429359">NewNRGBA</span><span class="op" id="6429367">(</span><span class="ident" id="6429368">image</span><span class="op" id="6429373">.</span><span class="ident" id="6429374">Rect</span><span class="op" id="6429378">(</span><span class="num" id="6429379">0</span><span class="op" id="6429380">,</span>&nbsp;<span class="num" id="6429382">0</span><span class="op" id="6429383">,</span>&nbsp;<span class="ident" id="6429385">srcw</span><span class="op" id="6429389">,</span>&nbsp;<span class="ident" id="6429391">srch</span><span class="op" id="6429395">)</span><span class="op" id="6429396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6429400">for</span>&nbsp;<span class="ident" id="6429404">y</span>&nbsp;<span class="op" id="6429406">:=</span>&nbsp;<span class="num" id="6429409">0</span><span class="op" id="6429410">;</span>&nbsp;<span class="ident" id="6429412">y</span>&nbsp;<span class="op" id="6429414">&lt;</span>&nbsp;<span class="ident" id="6429416">srch</span><span class="op" id="6429420">;</span>&nbsp;<span class="ident" id="6429422">y</span><span class="op" id="6429423">++</span>&nbsp;<span class="op" id="6429426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6429431">for</span>&nbsp;<span class="ident" id="6429435">x</span>&nbsp;<span class="op" id="6429437">:=</span>&nbsp;<span class="num" id="6429440">0</span><span class="op" id="6429441">;</span>&nbsp;<span class="ident" id="6429443">x</span>&nbsp;<span class="op" id="6429445">&lt;</span>&nbsp;<span class="ident" id="6429447">srcw</span><span class="op" id="6429451">;</span>&nbsp;<span class="ident" id="6429453">x</span><span class="op" id="6429454">++</span>&nbsp;<span class="op" id="6429457">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429463">src1</span><span class="op" id="6429467">.</span><span class="ident" id="6429468">SetNRGBA</span><span class="op" id="6429476">(</span><span class="ident" id="6429477">x</span><span class="op" id="6429478">,</span>&nbsp;<span class="ident" id="6429480">y</span><span class="op" id="6429481">,</span>&nbsp;<span class="ident" id="6429483">color</span><span class="op" id="6429488">.</span><span class="ident" id="6429489">NRGBA</span><span class="op" id="6429494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6429501">uint8</span><span class="op" id="6429506">(</span><span class="num" id="6429507">13</span>&nbsp;<span class="op" id="6429510">*</span>&nbsp;<span class="ident" id="6429512">x</span>&nbsp;<span class="op" id="6429514">%</span>&nbsp;<span class="num" id="6429516">0x100</span><span class="op" id="6429521">)</span><span class="op" id="6429522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6429529">uint8</span><span class="op" id="6429534">(</span><span class="num" id="6429535">11</span>&nbsp;<span class="op" id="6429538">*</span>&nbsp;<span class="ident" id="6429540">y</span>&nbsp;<span class="op" id="6429542">%</span>&nbsp;<span class="num" id="6429544">0x100</span><span class="op" id="6429549">)</span><span class="op" id="6429550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6429557">uint8</span><span class="op" id="6429562">(</span><span class="op" id="6429563">(</span><span class="num" id="6429564">11</span><span class="op" id="6429566">*</span><span class="ident" id="6429567">x</span>&nbsp;<span class="op" id="6429569">+</span>&nbsp;<span class="num" id="6429571">13</span><span class="op" id="6429573">*</span><span class="ident" id="6429574">y</span><span class="op" id="6429575">)</span>&nbsp;<span class="op" id="6429577">%</span>&nbsp;<span class="num" id="6429579">0x100</span><span class="op" id="6429584">)</span><span class="op" id="6429585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6429592">0x7f</span><span class="op" id="6429596">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6429602">}</span><span class="op" id="6429603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6429608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6429612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429616">src</span>&nbsp;<span class="op" id="6429620">=</span>&nbsp;<span class="ident" id="6429622">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6429628">case</span>&nbsp;<span class="ident" id="6429633">color</span><span class="op" id="6429638">.</span><span class="ident" id="6429639">YCbCrModel</span><span class="op" id="6429649">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429653">yy</span>&nbsp;<span class="op" id="6429656">:=</span>&nbsp;<span class="builtinfunc" id="6429659">make</span><span class="op" id="6429663">(</span><span class="op" id="6429664">[</span><span class="op" id="6429665">]</span><span class="builtintype" id="6429666">uint8</span><span class="op" id="6429671">,</span>&nbsp;<span class="ident" id="6429673">srcw</span><span class="op" id="6429677">*</span><span class="ident" id="6429678">srch</span><span class="op" id="6429682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429686">cb</span>&nbsp;<span class="op" id="6429689">:=</span>&nbsp;<span class="builtinfunc" id="6429692">make</span><span class="op" id="6429696">(</span><span class="op" id="6429697">[</span><span class="op" id="6429698">]</span><span class="builtintype" id="6429699">uint8</span><span class="op" id="6429704">,</span>&nbsp;<span class="ident" id="6429706">srcw</span><span class="op" id="6429710">*</span><span class="ident" id="6429711">srch</span><span class="op" id="6429715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429719">cr</span>&nbsp;<span class="op" id="6429722">:=</span>&nbsp;<span class="builtinfunc" id="6429725">make</span><span class="op" id="6429729">(</span><span class="op" id="6429730">[</span><span class="op" id="6429731">]</span><span class="builtintype" id="6429732">uint8</span><span class="op" id="6429737">,</span>&nbsp;<span class="ident" id="6429739">srcw</span><span class="op" id="6429743">*</span><span class="ident" id="6429744">srch</span><span class="op" id="6429748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6429752">for</span>&nbsp;<span class="ident" id="6429756">i</span>&nbsp;<span class="op" id="6429758">:=</span>&nbsp;<span class="keyword" id="6429761">range</span>&nbsp;<span class="ident" id="6429767">yy</span>&nbsp;<span class="op" id="6429770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429775">yy</span><span class="op" id="6429777">[</span><span class="ident" id="6429778">i</span><span class="op" id="6429779">]</span>&nbsp;<span class="op" id="6429781">=</span>&nbsp;<span class="builtintype" id="6429783">uint8</span><span class="op" id="6429788">(</span><span class="num" id="6429789">3</span>&nbsp;<span class="op" id="6429791">*</span>&nbsp;<span class="ident" id="6429793">i</span>&nbsp;<span class="op" id="6429795">%</span>&nbsp;<span class="num" id="6429797">0x100</span><span class="op" id="6429802">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429807">cb</span><span class="op" id="6429809">[</span><span class="ident" id="6429810">i</span><span class="op" id="6429811">]</span>&nbsp;<span class="op" id="6429813">=</span>&nbsp;<span class="builtintype" id="6429815">uint8</span><span class="op" id="6429820">(</span><span class="num" id="6429821">5</span>&nbsp;<span class="op" id="6429823">*</span>&nbsp;<span class="ident" id="6429825">i</span>&nbsp;<span class="op" id="6429827">%</span>&nbsp;<span class="num" id="6429829">0x100</span><span class="op" id="6429834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429839">cr</span><span class="op" id="6429841">[</span><span class="ident" id="6429842">i</span><span class="op" id="6429843">]</span>&nbsp;<span class="op" id="6429845">=</span>&nbsp;<span class="builtintype" id="6429847">uint8</span><span class="op" id="6429852">(</span><span class="num" id="6429853">7</span>&nbsp;<span class="op" id="6429855">*</span>&nbsp;<span class="ident" id="6429857">i</span>&nbsp;<span class="op" id="6429859">%</span>&nbsp;<span class="num" id="6429861">0x100</span><span class="op" id="6429866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6429870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429874">src</span>&nbsp;<span class="op" id="6429878">=</span>&nbsp;<span class="op" id="6429880">&amp;</span><span class="ident" id="6429881">image</span><span class="op" id="6429886">.</span><span class="ident" id="6429887">YCbCr</span><span class="op" id="6429892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429897">Y</span><span class="op" id="6429898">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429913">yy</span><span class="op" id="6429915">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429920">Cb</span><span class="op" id="6429922">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429936">cb</span><span class="op" id="6429938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429943">Cr</span><span class="op" id="6429945">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429959">cr</span><span class="op" id="6429961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429966">YStride</span><span class="op" id="6429973">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429982">srcw</span><span class="op" id="6429986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6429991">CStride</span><span class="op" id="6429998">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430007">srcw</span><span class="op" id="6430011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430016">SubsampleRatio</span><span class="op" id="6430030">:</span>&nbsp;<span class="ident" id="6430032">image</span><span class="op" id="6430037">.</span><span class="ident" id="6430038">YCbCrSubsampleRatio444</span><span class="op" id="6430060">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430065">Rect</span><span class="op" id="6430069">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430081">image</span><span class="op" id="6430086">.</span><span class="ident" id="6430087">Rect</span><span class="op" id="6430091">(</span><span class="num" id="6430092">0</span><span class="op" id="6430093">,</span>&nbsp;<span class="num" id="6430095">0</span><span class="op" id="6430096">,</span>&nbsp;<span class="ident" id="6430098">srcw</span><span class="op" id="6430102">,</span>&nbsp;<span class="ident" id="6430104">srch</span><span class="op" id="6430108">)</span><span class="op" id="6430109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6430113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430116">default</span><span class="op" id="6430123">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430127">b</span><span class="op" id="6430128">.</span><span class="ident" id="6430129">Fatal</span><span class="op" id="6430134">(</span><span class="string" id="6430135">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="6430163">,</span>&nbsp;<span class="ident" id="6430165">scm</span><span class="op" id="6430168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6430171">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430175">var</span>&nbsp;<span class="ident" id="6430179">mask</span>&nbsp;<span class="ident" id="6430184">image</span><span class="op" id="6430189">.</span><span class="ident" id="6430190">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430197">switch</span>&nbsp;<span class="ident" id="6430204">mcm</span>&nbsp;<span class="op" id="6430208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430211">case</span>&nbsp;<span class="ident" id="6430216">nil</span><span class="op" id="6430219">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6430223">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430234">case</span>&nbsp;<span class="ident" id="6430239">color</span><span class="op" id="6430244">.</span><span class="ident" id="6430245">AlphaModel</span><span class="op" id="6430255">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430259">mask1</span>&nbsp;<span class="op" id="6430265">:=</span>&nbsp;<span class="ident" id="6430268">image</span><span class="op" id="6430273">.</span><span class="ident" id="6430274">NewAlpha</span><span class="op" id="6430282">(</span><span class="ident" id="6430283">image</span><span class="op" id="6430288">.</span><span class="ident" id="6430289">Rect</span><span class="op" id="6430293">(</span><span class="num" id="6430294">0</span><span class="op" id="6430295">,</span>&nbsp;<span class="num" id="6430297">0</span><span class="op" id="6430298">,</span>&nbsp;<span class="ident" id="6430300">srcw</span><span class="op" id="6430304">,</span>&nbsp;<span class="ident" id="6430306">srch</span><span class="op" id="6430310">)</span><span class="op" id="6430311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430315">for</span>&nbsp;<span class="ident" id="6430319">y</span>&nbsp;<span class="op" id="6430321">:=</span>&nbsp;<span class="num" id="6430324">0</span><span class="op" id="6430325">;</span>&nbsp;<span class="ident" id="6430327">y</span>&nbsp;<span class="op" id="6430329">&lt;</span>&nbsp;<span class="ident" id="6430331">srch</span><span class="op" id="6430335">;</span>&nbsp;<span class="ident" id="6430337">y</span><span class="op" id="6430338">++</span>&nbsp;<span class="op" id="6430341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430346">for</span>&nbsp;<span class="ident" id="6430350">x</span>&nbsp;<span class="op" id="6430352">:=</span>&nbsp;<span class="num" id="6430355">0</span><span class="op" id="6430356">;</span>&nbsp;<span class="ident" id="6430358">x</span>&nbsp;<span class="op" id="6430360">&lt;</span>&nbsp;<span class="ident" id="6430362">srcw</span><span class="op" id="6430366">;</span>&nbsp;<span class="ident" id="6430368">x</span><span class="op" id="6430369">++</span>&nbsp;<span class="op" id="6430372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430378">a</span>&nbsp;<span class="op" id="6430380">:=</span>&nbsp;<span class="builtintype" id="6430383">uint8</span><span class="op" id="6430388">(</span><span class="op" id="6430389">(</span><span class="num" id="6430390">23</span><span class="op" id="6430392">*</span><span class="ident" id="6430393">x</span>&nbsp;<span class="op" id="6430395">+</span>&nbsp;<span class="num" id="6430397">29</span><span class="op" id="6430399">*</span><span class="ident" id="6430400">y</span><span class="op" id="6430401">)</span>&nbsp;<span class="op" id="6430403">%</span>&nbsp;<span class="num" id="6430405">0x100</span><span class="op" id="6430410">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6430416">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6430462">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430513">if</span>&nbsp;<span class="ident" id="6430516">a</span>&nbsp;<span class="op" id="6430518">&gt;=</span>&nbsp;<span class="num" id="6430521">0xc0</span>&nbsp;<span class="op" id="6430526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430533">mask1</span><span class="op" id="6430538">.</span><span class="ident" id="6430539">SetAlpha</span><span class="op" id="6430547">(</span><span class="ident" id="6430548">x</span><span class="op" id="6430549">,</span>&nbsp;<span class="ident" id="6430551">y</span><span class="op" id="6430552">,</span>&nbsp;<span class="ident" id="6430554">color</span><span class="op" id="6430559">.</span><span class="ident" id="6430560">Alpha</span><span class="op" id="6430565">{</span><span class="ident" id="6430566">a</span><span class="op" id="6430567">}</span><span class="op" id="6430568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6430574">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6430579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6430583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430587">mask</span>&nbsp;<span class="op" id="6430592">=</span>&nbsp;<span class="ident" id="6430594">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430601">default</span><span class="op" id="6430608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430612">b</span><span class="op" id="6430613">.</span><span class="ident" id="6430614">Fatal</span><span class="op" id="6430619">(</span><span class="string" id="6430620">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="6430646">,</span>&nbsp;<span class="ident" id="6430648">mcm</span><span class="op" id="6430651">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6430654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430658">b</span><span class="op" id="6430659">.</span><span class="ident" id="6430660">StartTimer</span><span class="op" id="6430670">(</span><span class="op" id="6430671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6430674">for</span>&nbsp;<span class="ident" id="6430678">i</span>&nbsp;<span class="op" id="6430680">:=</span>&nbsp;<span class="num" id="6430683">0</span><span class="op" id="6430684">;</span>&nbsp;<span class="ident" id="6430686">i</span>&nbsp;<span class="op" id="6430688">&lt;</span>&nbsp;<span class="ident" id="6430690">b</span><span class="op" id="6430691">.</span><span class="ident" id="6430692">N</span><span class="op" id="6430693">;</span>&nbsp;<span class="ident" id="6430695">i</span><span class="op" id="6430696">++</span>&nbsp;<span class="op" id="6430699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6430703">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430756">x</span>&nbsp;<span class="op" id="6430758">:=</span>&nbsp;<span class="num" id="6430761">3</span>&nbsp;<span class="op" id="6430763">*</span>&nbsp;<span class="ident" id="6430765">i</span>&nbsp;<span class="op" id="6430767">%</span>&nbsp;<span class="op" id="6430769">(</span><span class="ident" id="6430770">dstw</span>&nbsp;<span class="op" id="6430775">-</span>&nbsp;<span class="ident" id="6430777">srcw</span><span class="op" id="6430781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430785">y</span>&nbsp;<span class="op" id="6430787">:=</span>&nbsp;<span class="num" id="6430790">7</span>&nbsp;<span class="op" id="6430792">*</span>&nbsp;<span class="ident" id="6430794">i</span>&nbsp;<span class="op" id="6430796">%</span>&nbsp;<span class="op" id="6430798">(</span><span class="ident" id="6430799">dsth</span>&nbsp;<span class="op" id="6430804">-</span>&nbsp;<span class="ident" id="6430806">srch</span><span class="op" id="6430810">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6430815">DrawMask</span><span class="op" id="6430823">(</span><span class="ident" id="6430824">dst</span><span class="op" id="6430827">,</span>&nbsp;<span class="ident" id="6430829">dst</span><span class="op" id="6430832">.</span><span class="ident" id="6430833">Bounds</span><span class="op" id="6430839">(</span><span class="op" id="6430840">)</span><span class="op" id="6430841">.</span><span class="ident" id="6430842">Add</span><span class="op" id="6430845">(</span><span class="ident" id="6430846">image</span><span class="op" id="6430851">.</span><span class="ident" id="6430852">Pt</span><span class="op" id="6430854">(</span><span class="ident" id="6430855">x</span><span class="op" id="6430856">,</span>&nbsp;<span class="ident" id="6430858">y</span><span class="op" id="6430859">)</span><span class="op" id="6430860">)</span><span class="op" id="6430861">,</span>&nbsp;<span class="ident" id="6430863">src</span><span class="op" id="6430866">,</span>&nbsp;<span class="ident" id="6430868">image</span><span class="op" id="6430873">.</span><span class="ident" id="6430874">ZP</span><span class="op" id="6430876">,</span>&nbsp;<span class="ident" id="6430878">mask</span><span class="op" id="6430882">,</span>&nbsp;<span class="ident" id="6430884">image</span><span class="op" id="6430889">.</span><span class="ident" id="6430890">ZP</span><span class="op" id="6430892">,</span>&nbsp;<span class="ident" id="6430894">op</span><span class="op" id="6430896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6430899">}</span><br>
<span class="lineno">150</span><span class="op" id="6430901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6430904">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6430985">func</span>&nbsp;<span class="ident" id="6430990">BenchmarkFillOver</span><span class="op" id="6431007">(</span><span class="ident" id="6431008">b</span>&nbsp;<span class="op" id="6431010">*</span><span class="ident" id="6431011">testing</span><span class="op" id="6431018">.</span><span class="ident" id="6431019">B</span><span class="op" id="6431020">)</span>&nbsp;<span class="op" id="6431022">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431025">bench</span><span class="op" id="6431030">(</span><span class="ident" id="6431031">b</span><span class="op" id="6431032">,</span>&nbsp;<span class="ident" id="6431034">color</span><span class="op" id="6431039">.</span><span class="ident" id="6431040">RGBAModel</span><span class="op" id="6431049">,</span>&nbsp;<span class="ident" id="6431051">nil</span><span class="op" id="6431054">,</span>&nbsp;<span class="ident" id="6431056">nil</span><span class="op" id="6431059">,</span>&nbsp;<span class="ident" id="6431061">Over</span><span class="op" id="6431065">)</span><br>
<span class="lineno"></span><span class="op" id="6431067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6431070">func</span>&nbsp;<span class="ident" id="6431075">BenchmarkFillSrc</span><span class="op" id="6431091">(</span><span class="ident" id="6431092">b</span>&nbsp;<span class="op" id="6431094">*</span><span class="ident" id="6431095">testing</span><span class="op" id="6431102">.</span><span class="ident" id="6431103">B</span><span class="op" id="6431104">)</span>&nbsp;<span class="op" id="6431106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431109">bench</span><span class="op" id="6431114">(</span><span class="ident" id="6431115">b</span><span class="op" id="6431116">,</span>&nbsp;<span class="ident" id="6431118">color</span><span class="op" id="6431123">.</span><span class="ident" id="6431124">RGBAModel</span><span class="op" id="6431133">,</span>&nbsp;<span class="ident" id="6431135">nil</span><span class="op" id="6431138">,</span>&nbsp;<span class="ident" id="6431140">nil</span><span class="op" id="6431143">,</span>&nbsp;<span class="ident" id="6431145">Src</span><span class="op" id="6431148">)</span><br>
<span class="lineno">160</span><span class="op" id="6431150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6431153">func</span>&nbsp;<span class="ident" id="6431158">BenchmarkCopyOver</span><span class="op" id="6431175">(</span><span class="ident" id="6431176">b</span>&nbsp;<span class="op" id="6431178">*</span><span class="ident" id="6431179">testing</span><span class="op" id="6431186">.</span><span class="ident" id="6431187">B</span><span class="op" id="6431188">)</span>&nbsp;<span class="op" id="6431190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431193">bench</span><span class="op" id="6431198">(</span><span class="ident" id="6431199">b</span><span class="op" id="6431200">,</span>&nbsp;<span class="ident" id="6431202">color</span><span class="op" id="6431207">.</span><span class="ident" id="6431208">RGBAModel</span><span class="op" id="6431217">,</span>&nbsp;<span class="ident" id="6431219">color</span><span class="op" id="6431224">.</span><span class="ident" id="6431225">RGBAModel</span><span class="op" id="6431234">,</span>&nbsp;<span class="ident" id="6431236">nil</span><span class="op" id="6431239">,</span>&nbsp;<span class="ident" id="6431241">Over</span><span class="op" id="6431245">)</span><br>
<span class="lineno"></span><span class="op" id="6431247">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="6431250">func</span>&nbsp;<span class="ident" id="6431255">BenchmarkCopySrc</span><span class="op" id="6431271">(</span><span class="ident" id="6431272">b</span>&nbsp;<span class="op" id="6431274">*</span><span class="ident" id="6431275">testing</span><span class="op" id="6431282">.</span><span class="ident" id="6431283">B</span><span class="op" id="6431284">)</span>&nbsp;<span class="op" id="6431286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431289">bench</span><span class="op" id="6431294">(</span><span class="ident" id="6431295">b</span><span class="op" id="6431296">,</span>&nbsp;<span class="ident" id="6431298">color</span><span class="op" id="6431303">.</span><span class="ident" id="6431304">RGBAModel</span><span class="op" id="6431313">,</span>&nbsp;<span class="ident" id="6431315">color</span><span class="op" id="6431320">.</span><span class="ident" id="6431321">RGBAModel</span><span class="op" id="6431330">,</span>&nbsp;<span class="ident" id="6431332">nil</span><span class="op" id="6431335">,</span>&nbsp;<span class="ident" id="6431337">Src</span><span class="op" id="6431340">)</span><br>
<span class="lineno"></span><span class="op" id="6431342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="6431345">func</span>&nbsp;<span class="ident" id="6431350">BenchmarkNRGBAOver</span><span class="op" id="6431368">(</span><span class="ident" id="6431369">b</span>&nbsp;<span class="op" id="6431371">*</span><span class="ident" id="6431372">testing</span><span class="op" id="6431379">.</span><span class="ident" id="6431380">B</span><span class="op" id="6431381">)</span>&nbsp;<span class="op" id="6431383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431386">bench</span><span class="op" id="6431391">(</span><span class="ident" id="6431392">b</span><span class="op" id="6431393">,</span>&nbsp;<span class="ident" id="6431395">color</span><span class="op" id="6431400">.</span><span class="ident" id="6431401">RGBAModel</span><span class="op" id="6431410">,</span>&nbsp;<span class="ident" id="6431412">color</span><span class="op" id="6431417">.</span><span class="ident" id="6431418">NRGBAModel</span><span class="op" id="6431428">,</span>&nbsp;<span class="ident" id="6431430">nil</span><span class="op" id="6431433">,</span>&nbsp;<span class="ident" id="6431435">Over</span><span class="op" id="6431439">)</span><br>
<span class="lineno"></span><span class="op" id="6431441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6431444">func</span>&nbsp;<span class="ident" id="6431449">BenchmarkNRGBASrc</span><span class="op" id="6431466">(</span><span class="ident" id="6431467">b</span>&nbsp;<span class="op" id="6431469">*</span><span class="ident" id="6431470">testing</span><span class="op" id="6431477">.</span><span class="ident" id="6431478">B</span><span class="op" id="6431479">)</span>&nbsp;<span class="op" id="6431481">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431484">bench</span><span class="op" id="6431489">(</span><span class="ident" id="6431490">b</span><span class="op" id="6431491">,</span>&nbsp;<span class="ident" id="6431493">color</span><span class="op" id="6431498">.</span><span class="ident" id="6431499">RGBAModel</span><span class="op" id="6431508">,</span>&nbsp;<span class="ident" id="6431510">color</span><span class="op" id="6431515">.</span><span class="ident" id="6431516">NRGBAModel</span><span class="op" id="6431526">,</span>&nbsp;<span class="ident" id="6431528">nil</span><span class="op" id="6431531">,</span>&nbsp;<span class="ident" id="6431533">Src</span><span class="op" id="6431536">)</span><br>
<span class="lineno"></span><span class="op" id="6431538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6431541">func</span>&nbsp;<span class="ident" id="6431546">BenchmarkYCbCr</span><span class="op" id="6431560">(</span><span class="ident" id="6431561">b</span>&nbsp;<span class="op" id="6431563">*</span><span class="ident" id="6431564">testing</span><span class="op" id="6431571">.</span><span class="ident" id="6431572">B</span><span class="op" id="6431573">)</span>&nbsp;<span class="op" id="6431575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431578">bench</span><span class="op" id="6431583">(</span><span class="ident" id="6431584">b</span><span class="op" id="6431585">,</span>&nbsp;<span class="ident" id="6431587">color</span><span class="op" id="6431592">.</span><span class="ident" id="6431593">RGBAModel</span><span class="op" id="6431602">,</span>&nbsp;<span class="ident" id="6431604">color</span><span class="op" id="6431609">.</span><span class="ident" id="6431610">YCbCrModel</span><span class="op" id="6431620">,</span>&nbsp;<span class="ident" id="6431622">nil</span><span class="op" id="6431625">,</span>&nbsp;<span class="ident" id="6431627">Over</span><span class="op" id="6431631">)</span><br>
<span class="lineno">180</span><span class="op" id="6431633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6431636">func</span>&nbsp;<span class="ident" id="6431641">BenchmarkGlyphOver</span><span class="op" id="6431659">(</span><span class="ident" id="6431660">b</span>&nbsp;<span class="op" id="6431662">*</span><span class="ident" id="6431663">testing</span><span class="op" id="6431670">.</span><span class="ident" id="6431671">B</span><span class="op" id="6431672">)</span>&nbsp;<span class="op" id="6431674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431677">bench</span><span class="op" id="6431682">(</span><span class="ident" id="6431683">b</span><span class="op" id="6431684">,</span>&nbsp;<span class="ident" id="6431686">color</span><span class="op" id="6431691">.</span><span class="ident" id="6431692">RGBAModel</span><span class="op" id="6431701">,</span>&nbsp;<span class="ident" id="6431703">nil</span><span class="op" id="6431706">,</span>&nbsp;<span class="ident" id="6431708">color</span><span class="op" id="6431713">.</span><span class="ident" id="6431714">AlphaModel</span><span class="op" id="6431724">,</span>&nbsp;<span class="ident" id="6431726">Over</span><span class="op" id="6431730">)</span><br>
<span class="lineno"></span><span class="op" id="6431732">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6431735">func</span>&nbsp;<span class="ident" id="6431740">BenchmarkRGBA</span><span class="op" id="6431753">(</span><span class="ident" id="6431754">b</span>&nbsp;<span class="op" id="6431756">*</span><span class="ident" id="6431757">testing</span><span class="op" id="6431764">.</span><span class="ident" id="6431765">B</span><span class="op" id="6431766">)</span>&nbsp;<span class="op" id="6431768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431771">bench</span><span class="op" id="6431776">(</span><span class="ident" id="6431777">b</span><span class="op" id="6431778">,</span>&nbsp;<span class="ident" id="6431780">color</span><span class="op" id="6431785">.</span><span class="ident" id="6431786">RGBAModel</span><span class="op" id="6431795">,</span>&nbsp;<span class="ident" id="6431797">color</span><span class="op" id="6431802">.</span><span class="ident" id="6431803">RGBA64Model</span><span class="op" id="6431814">,</span>&nbsp;<span class="ident" id="6431816">nil</span><span class="op" id="6431819">,</span>&nbsp;<span class="ident" id="6431821">Src</span><span class="op" id="6431824">)</span><br>
<span class="lineno"></span><span class="op" id="6431826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="6431829">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6431905">func</span>&nbsp;<span class="ident" id="6431910">BenchmarkGenericOver</span><span class="op" id="6431930">(</span><span class="ident" id="6431931">b</span>&nbsp;<span class="op" id="6431933">*</span><span class="ident" id="6431934">testing</span><span class="op" id="6431941">.</span><span class="ident" id="6431942">B</span><span class="op" id="6431943">)</span>&nbsp;<span class="op" id="6431945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6431948">bench</span><span class="op" id="6431953">(</span><span class="ident" id="6431954">b</span><span class="op" id="6431955">,</span>&nbsp;<span class="ident" id="6431957">color</span><span class="op" id="6431962">.</span><span class="ident" id="6431963">RGBA64Model</span><span class="op" id="6431974">,</span>&nbsp;<span class="ident" id="6431976">color</span><span class="op" id="6431981">.</span><span class="ident" id="6431982">RGBA64Model</span><span class="op" id="6431993">,</span>&nbsp;<span class="ident" id="6431995">nil</span><span class="op" id="6431998">,</span>&nbsp;<span class="ident" id="6432000">Over</span><span class="op" id="6432004">)</span><br>
<span class="lineno"></span><span class="op" id="6432006">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6432009">func</span>&nbsp;<span class="ident" id="6432014">BenchmarkGenericMaskOver</span><span class="op" id="6432038">(</span><span class="ident" id="6432039">b</span>&nbsp;<span class="op" id="6432041">*</span><span class="ident" id="6432042">testing</span><span class="op" id="6432049">.</span><span class="ident" id="6432050">B</span><span class="op" id="6432051">)</span>&nbsp;<span class="op" id="6432053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432056">bench</span><span class="op" id="6432061">(</span><span class="ident" id="6432062">b</span><span class="op" id="6432063">,</span>&nbsp;<span class="ident" id="6432065">color</span><span class="op" id="6432070">.</span><span class="ident" id="6432071">RGBA64Model</span><span class="op" id="6432082">,</span>&nbsp;<span class="ident" id="6432084">color</span><span class="op" id="6432089">.</span><span class="ident" id="6432090">RGBA64Model</span><span class="op" id="6432101">,</span>&nbsp;<span class="ident" id="6432103">color</span><span class="op" id="6432108">.</span><span class="ident" id="6432109">AlphaModel</span><span class="op" id="6432119">,</span>&nbsp;<span class="ident" id="6432121">Over</span><span class="op" id="6432125">)</span><br>
<span class="lineno"></span><span class="op" id="6432127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6432130">func</span>&nbsp;<span class="ident" id="6432135">BenchmarkGenericSrc</span><span class="op" id="6432154">(</span><span class="ident" id="6432155">b</span>&nbsp;<span class="op" id="6432157">*</span><span class="ident" id="6432158">testing</span><span class="op" id="6432165">.</span><span class="ident" id="6432166">B</span><span class="op" id="6432167">)</span>&nbsp;<span class="op" id="6432169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432172">bench</span><span class="op" id="6432177">(</span><span class="ident" id="6432178">b</span><span class="op" id="6432179">,</span>&nbsp;<span class="ident" id="6432181">color</span><span class="op" id="6432186">.</span><span class="ident" id="6432187">RGBA64Model</span><span class="op" id="6432198">,</span>&nbsp;<span class="ident" id="6432200">color</span><span class="op" id="6432205">.</span><span class="ident" id="6432206">RGBA64Model</span><span class="op" id="6432217">,</span>&nbsp;<span class="ident" id="6432219">nil</span><span class="op" id="6432222">,</span>&nbsp;<span class="ident" id="6432224">Src</span><span class="op" id="6432227">)</span><br>
<span class="lineno"></span><span class="op" id="6432229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6432232">func</span>&nbsp;<span class="ident" id="6432237">BenchmarkGenericMaskSrc</span><span class="op" id="6432260">(</span><span class="ident" id="6432261">b</span>&nbsp;<span class="op" id="6432263">*</span><span class="ident" id="6432264">testing</span><span class="op" id="6432271">.</span><span class="ident" id="6432272">B</span><span class="op" id="6432273">)</span>&nbsp;<span class="op" id="6432275">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432278">bench</span><span class="op" id="6432283">(</span><span class="ident" id="6432284">b</span><span class="op" id="6432285">,</span>&nbsp;<span class="ident" id="6432287">color</span><span class="op" id="6432292">.</span><span class="ident" id="6432293">RGBA64Model</span><span class="op" id="6432304">,</span>&nbsp;<span class="ident" id="6432306">color</span><span class="op" id="6432311">.</span><span class="ident" id="6432312">RGBA64Model</span><span class="op" id="6432323">,</span>&nbsp;<span class="ident" id="6432325">color</span><span class="op" id="6432330">.</span><span class="ident" id="6432331">AlphaModel</span><span class="op" id="6432341">,</span>&nbsp;<span class="ident" id="6432343">Src</span><span class="op" id="6432346">)</span><br>
<span class="lineno"></span><span class="op" id="6432348">}</span>
</div>
</body>
</html>
