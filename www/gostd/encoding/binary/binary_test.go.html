<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7594656">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7594712">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7594766">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7594817">package</span>&nbsp;<span class="ident" id="7594825">binary</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7594833">import</span>&nbsp;<span class="op" id="7594840">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7594843">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7594852">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7594858">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7594866">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7594877">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7594888">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7594898">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7594901">type</span>&nbsp;<span class="ident" id="7594906">Struct</span>&nbsp;<span class="keyword" id="7594913">struct</span>&nbsp;<span class="op" id="7594920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594923">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7594934">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594940">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7594951">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594958">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7594969">int32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594976">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7594987">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7594994">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7595005">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595012">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7595023">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595031">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7595042">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595050">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7595061">uint64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595069">Float32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7595080">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595089">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7595100">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595109">Complex64</span>&nbsp;&nbsp;<span class="builtintype" id="7595120">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595131">Complex128</span>&nbsp;<span class="builtintype" id="7595142">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595154">Array</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7595165">[</span><span class="num" id="7595166">4</span><span class="op" id="7595167">]</span><span class="builtintype" id="7595168">uint8</span><br>
<span class="lineno">30</span><span class="op" id="7595174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7595177">type</span>&nbsp;<span class="ident" id="7595182">T</span>&nbsp;<span class="keyword" id="7595184">struct</span>&nbsp;<span class="op" id="7595191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595194">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7595202">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595207">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7595215">uint</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595221">Uintptr</span>&nbsp;<span class="builtintype" id="7595229">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595238">Array</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7595246">[</span><span class="num" id="7595247">4</span><span class="op" id="7595248">]</span><span class="builtintype" id="7595249">int</span><br>
<span class="lineno"></span><span class="op" id="7595253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7595256">var</span>&nbsp;<span class="ident" id="7595260">s</span>&nbsp;<span class="op" id="7595262">=</span>&nbsp;<span class="ident" id="7595264">Struct</span><span class="op" id="7595270">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595273">0x01</span><span class="op" id="7595277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595280">0x0203</span><span class="op" id="7595286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595289">0x04050607</span><span class="op" id="7595299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595302">0x08090a0b0c0d0e0f</span><span class="op" id="7595320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595323">0x10</span><span class="op" id="7595327">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595330">0x1112</span><span class="op" id="7595336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595339">0x13141516</span><span class="op" id="7595349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595352">0x1718191a1b1c1d1e</span><span class="op" id="7595370">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595374">math</span><span class="op" id="7595378">.</span><span class="ident" id="7595379">Float32frombits</span><span class="op" id="7595394">(</span><span class="num" id="7595395">0x1f202122</span><span class="op" id="7595405">)</span><span class="op" id="7595406">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595409">math</span><span class="op" id="7595413">.</span><span class="ident" id="7595414">Float64frombits</span><span class="op" id="7595429">(</span><span class="num" id="7595430">0x232425262728292a</span><span class="op" id="7595448">)</span><span class="op" id="7595449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7595452">complex</span><span class="op" id="7595459">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595463">math</span><span class="op" id="7595467">.</span><span class="ident" id="7595468">Float32frombits</span><span class="op" id="7595483">(</span><span class="num" id="7595484">0x2b2c2d2e</span><span class="op" id="7595494">)</span><span class="op" id="7595495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595499">math</span><span class="op" id="7595503">.</span><span class="ident" id="7595504">Float32frombits</span><span class="op" id="7595519">(</span><span class="num" id="7595520">0x2f303132</span><span class="op" id="7595530">)</span><span class="op" id="7595531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595534">)</span><span class="op" id="7595535">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7595538">complex</span><span class="op" id="7595545">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595549">math</span><span class="op" id="7595553">.</span><span class="ident" id="7595554">Float64frombits</span><span class="op" id="7595569">(</span><span class="num" id="7595570">0x333435363738393a</span><span class="op" id="7595588">)</span><span class="op" id="7595589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7595593">math</span><span class="op" id="7595597">.</span><span class="ident" id="7595598">Float64frombits</span><span class="op" id="7595613">(</span><span class="num" id="7595614">0x3b3c3d3e3f404142</span><span class="op" id="7595632">)</span><span class="op" id="7595633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595636">)</span><span class="op" id="7595637">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7595641">[</span><span class="num" id="7595642">4</span><span class="op" id="7595643">]</span><span class="builtintype" id="7595644">uint8</span><span class="op" id="7595649">{</span><span class="num" id="7595650">0x43</span><span class="op" id="7595654">,</span>&nbsp;<span class="num" id="7595656">0x44</span><span class="op" id="7595660">,</span>&nbsp;<span class="num" id="7595662">0x45</span><span class="op" id="7595666">,</span>&nbsp;<span class="num" id="7595668">0x46</span><span class="op" id="7595672">}</span><span class="op" id="7595673">,</span><br>
<span class="lineno"></span><span class="op" id="7595675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7595678">var</span>&nbsp;<span class="ident" id="7595682">big</span>&nbsp;<span class="op" id="7595686">=</span>&nbsp;<span class="op" id="7595688">[</span><span class="op" id="7595689">]</span><span class="builtintype" id="7595690">byte</span><span class="op" id="7595694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595697">1</span><span class="op" id="7595698">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595701">2</span><span class="op" id="7595702">,</span>&nbsp;<span class="num" id="7595704">3</span><span class="op" id="7595705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595708">4</span><span class="op" id="7595709">,</span>&nbsp;<span class="num" id="7595711">5</span><span class="op" id="7595712">,</span>&nbsp;<span class="num" id="7595714">6</span><span class="op" id="7595715">,</span>&nbsp;<span class="num" id="7595717">7</span><span class="op" id="7595718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595721">8</span><span class="op" id="7595722">,</span>&nbsp;<span class="num" id="7595724">9</span><span class="op" id="7595725">,</span>&nbsp;<span class="num" id="7595727">10</span><span class="op" id="7595729">,</span>&nbsp;<span class="num" id="7595731">11</span><span class="op" id="7595733">,</span>&nbsp;<span class="num" id="7595735">12</span><span class="op" id="7595737">,</span>&nbsp;<span class="num" id="7595739">13</span><span class="op" id="7595741">,</span>&nbsp;<span class="num" id="7595743">14</span><span class="op" id="7595745">,</span>&nbsp;<span class="num" id="7595747">15</span><span class="op" id="7595749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595752">16</span><span class="op" id="7595754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595757">17</span><span class="op" id="7595759">,</span>&nbsp;<span class="num" id="7595761">18</span><span class="op" id="7595763">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595766">19</span><span class="op" id="7595768">,</span>&nbsp;<span class="num" id="7595770">20</span><span class="op" id="7595772">,</span>&nbsp;<span class="num" id="7595774">21</span><span class="op" id="7595776">,</span>&nbsp;<span class="num" id="7595778">22</span><span class="op" id="7595780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595783">23</span><span class="op" id="7595785">,</span>&nbsp;<span class="num" id="7595787">24</span><span class="op" id="7595789">,</span>&nbsp;<span class="num" id="7595791">25</span><span class="op" id="7595793">,</span>&nbsp;<span class="num" id="7595795">26</span><span class="op" id="7595797">,</span>&nbsp;<span class="num" id="7595799">27</span><span class="op" id="7595801">,</span>&nbsp;<span class="num" id="7595803">28</span><span class="op" id="7595805">,</span>&nbsp;<span class="num" id="7595807">29</span><span class="op" id="7595809">,</span>&nbsp;<span class="num" id="7595811">30</span><span class="op" id="7595813">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595817">31</span><span class="op" id="7595819">,</span>&nbsp;<span class="num" id="7595821">32</span><span class="op" id="7595823">,</span>&nbsp;<span class="num" id="7595825">33</span><span class="op" id="7595827">,</span>&nbsp;<span class="num" id="7595829">34</span><span class="op" id="7595831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595834">35</span><span class="op" id="7595836">,</span>&nbsp;<span class="num" id="7595838">36</span><span class="op" id="7595840">,</span>&nbsp;<span class="num" id="7595842">37</span><span class="op" id="7595844">,</span>&nbsp;<span class="num" id="7595846">38</span><span class="op" id="7595848">,</span>&nbsp;<span class="num" id="7595850">39</span><span class="op" id="7595852">,</span>&nbsp;<span class="num" id="7595854">40</span><span class="op" id="7595856">,</span>&nbsp;<span class="num" id="7595858">41</span><span class="op" id="7595860">,</span>&nbsp;<span class="num" id="7595862">42</span><span class="op" id="7595864">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595867">43</span><span class="op" id="7595869">,</span>&nbsp;<span class="num" id="7595871">44</span><span class="op" id="7595873">,</span>&nbsp;<span class="num" id="7595875">45</span><span class="op" id="7595877">,</span>&nbsp;<span class="num" id="7595879">46</span><span class="op" id="7595881">,</span>&nbsp;<span class="num" id="7595883">47</span><span class="op" id="7595885">,</span>&nbsp;<span class="num" id="7595887">48</span><span class="op" id="7595889">,</span>&nbsp;<span class="num" id="7595891">49</span><span class="op" id="7595893">,</span>&nbsp;<span class="num" id="7595895">50</span><span class="op" id="7595897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595900">51</span><span class="op" id="7595902">,</span>&nbsp;<span class="num" id="7595904">52</span><span class="op" id="7595906">,</span>&nbsp;<span class="num" id="7595908">53</span><span class="op" id="7595910">,</span>&nbsp;<span class="num" id="7595912">54</span><span class="op" id="7595914">,</span>&nbsp;<span class="num" id="7595916">55</span><span class="op" id="7595918">,</span>&nbsp;<span class="num" id="7595920">56</span><span class="op" id="7595922">,</span>&nbsp;<span class="num" id="7595924">57</span><span class="op" id="7595926">,</span>&nbsp;<span class="num" id="7595928">58</span><span class="op" id="7595930">,</span>&nbsp;<span class="num" id="7595932">59</span><span class="op" id="7595934">,</span>&nbsp;<span class="num" id="7595936">60</span><span class="op" id="7595938">,</span>&nbsp;<span class="num" id="7595940">61</span><span class="op" id="7595942">,</span>&nbsp;<span class="num" id="7595944">62</span><span class="op" id="7595946">,</span>&nbsp;<span class="num" id="7595948">63</span><span class="op" id="7595950">,</span>&nbsp;<span class="num" id="7595952">64</span><span class="op" id="7595954">,</span>&nbsp;<span class="num" id="7595956">65</span><span class="op" id="7595958">,</span>&nbsp;<span class="num" id="7595960">66</span><span class="op" id="7595962">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7595966">67</span><span class="op" id="7595968">,</span>&nbsp;<span class="num" id="7595970">68</span><span class="op" id="7595972">,</span>&nbsp;<span class="num" id="7595974">69</span><span class="op" id="7595976">,</span>&nbsp;<span class="num" id="7595978">70</span><span class="op" id="7595980">,</span><br>
<span class="lineno"></span><span class="op" id="7595982">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="7595985">var</span>&nbsp;<span class="ident" id="7595989">little</span>&nbsp;<span class="op" id="7595996">=</span>&nbsp;<span class="op" id="7595998">[</span><span class="op" id="7595999">]</span><span class="builtintype" id="7596000">byte</span><span class="op" id="7596004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596007">1</span><span class="op" id="7596008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596011">3</span><span class="op" id="7596012">,</span>&nbsp;<span class="num" id="7596014">2</span><span class="op" id="7596015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596018">7</span><span class="op" id="7596019">,</span>&nbsp;<span class="num" id="7596021">6</span><span class="op" id="7596022">,</span>&nbsp;<span class="num" id="7596024">5</span><span class="op" id="7596025">,</span>&nbsp;<span class="num" id="7596027">4</span><span class="op" id="7596028">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596031">15</span><span class="op" id="7596033">,</span>&nbsp;<span class="num" id="7596035">14</span><span class="op" id="7596037">,</span>&nbsp;<span class="num" id="7596039">13</span><span class="op" id="7596041">,</span>&nbsp;<span class="num" id="7596043">12</span><span class="op" id="7596045">,</span>&nbsp;<span class="num" id="7596047">11</span><span class="op" id="7596049">,</span>&nbsp;<span class="num" id="7596051">10</span><span class="op" id="7596053">,</span>&nbsp;<span class="num" id="7596055">9</span><span class="op" id="7596056">,</span>&nbsp;<span class="num" id="7596058">8</span><span class="op" id="7596059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596062">16</span><span class="op" id="7596064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596067">18</span><span class="op" id="7596069">,</span>&nbsp;<span class="num" id="7596071">17</span><span class="op" id="7596073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596076">22</span><span class="op" id="7596078">,</span>&nbsp;<span class="num" id="7596080">21</span><span class="op" id="7596082">,</span>&nbsp;<span class="num" id="7596084">20</span><span class="op" id="7596086">,</span>&nbsp;<span class="num" id="7596088">19</span><span class="op" id="7596090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596093">30</span><span class="op" id="7596095">,</span>&nbsp;<span class="num" id="7596097">29</span><span class="op" id="7596099">,</span>&nbsp;<span class="num" id="7596101">28</span><span class="op" id="7596103">,</span>&nbsp;<span class="num" id="7596105">27</span><span class="op" id="7596107">,</span>&nbsp;<span class="num" id="7596109">26</span><span class="op" id="7596111">,</span>&nbsp;<span class="num" id="7596113">25</span><span class="op" id="7596115">,</span>&nbsp;<span class="num" id="7596117">24</span><span class="op" id="7596119">,</span>&nbsp;<span class="num" id="7596121">23</span><span class="op" id="7596123">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596127">34</span><span class="op" id="7596129">,</span>&nbsp;<span class="num" id="7596131">33</span><span class="op" id="7596133">,</span>&nbsp;<span class="num" id="7596135">32</span><span class="op" id="7596137">,</span>&nbsp;<span class="num" id="7596139">31</span><span class="op" id="7596141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596144">42</span><span class="op" id="7596146">,</span>&nbsp;<span class="num" id="7596148">41</span><span class="op" id="7596150">,</span>&nbsp;<span class="num" id="7596152">40</span><span class="op" id="7596154">,</span>&nbsp;<span class="num" id="7596156">39</span><span class="op" id="7596158">,</span>&nbsp;<span class="num" id="7596160">38</span><span class="op" id="7596162">,</span>&nbsp;<span class="num" id="7596164">37</span><span class="op" id="7596166">,</span>&nbsp;<span class="num" id="7596168">36</span><span class="op" id="7596170">,</span>&nbsp;<span class="num" id="7596172">35</span><span class="op" id="7596174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596177">46</span><span class="op" id="7596179">,</span>&nbsp;<span class="num" id="7596181">45</span><span class="op" id="7596183">,</span>&nbsp;<span class="num" id="7596185">44</span><span class="op" id="7596187">,</span>&nbsp;<span class="num" id="7596189">43</span><span class="op" id="7596191">,</span>&nbsp;<span class="num" id="7596193">50</span><span class="op" id="7596195">,</span>&nbsp;<span class="num" id="7596197">49</span><span class="op" id="7596199">,</span>&nbsp;<span class="num" id="7596201">48</span><span class="op" id="7596203">,</span>&nbsp;<span class="num" id="7596205">47</span><span class="op" id="7596207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596210">58</span><span class="op" id="7596212">,</span>&nbsp;<span class="num" id="7596214">57</span><span class="op" id="7596216">,</span>&nbsp;<span class="num" id="7596218">56</span><span class="op" id="7596220">,</span>&nbsp;<span class="num" id="7596222">55</span><span class="op" id="7596224">,</span>&nbsp;<span class="num" id="7596226">54</span><span class="op" id="7596228">,</span>&nbsp;<span class="num" id="7596230">53</span><span class="op" id="7596232">,</span>&nbsp;<span class="num" id="7596234">52</span><span class="op" id="7596236">,</span>&nbsp;<span class="num" id="7596238">51</span><span class="op" id="7596240">,</span>&nbsp;<span class="num" id="7596242">66</span><span class="op" id="7596244">,</span>&nbsp;<span class="num" id="7596246">65</span><span class="op" id="7596248">,</span>&nbsp;<span class="num" id="7596250">64</span><span class="op" id="7596252">,</span>&nbsp;<span class="num" id="7596254">63</span><span class="op" id="7596256">,</span>&nbsp;<span class="num" id="7596258">62</span><span class="op" id="7596260">,</span>&nbsp;<span class="num" id="7596262">61</span><span class="op" id="7596264">,</span>&nbsp;<span class="num" id="7596266">60</span><span class="op" id="7596268">,</span>&nbsp;<span class="num" id="7596270">59</span><span class="op" id="7596272">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7596276">67</span><span class="op" id="7596278">,</span>&nbsp;<span class="num" id="7596280">68</span><span class="op" id="7596282">,</span>&nbsp;<span class="num" id="7596284">69</span><span class="op" id="7596286">,</span>&nbsp;<span class="num" id="7596288">70</span><span class="op" id="7596290">,</span><br>
<span class="lineno"></span><span class="op" id="7596292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7596295">var</span>&nbsp;<span class="ident" id="7596299">src</span>&nbsp;<span class="op" id="7596303">=</span>&nbsp;<span class="op" id="7596305">[</span><span class="op" id="7596306">]</span><span class="builtintype" id="7596307">byte</span><span class="op" id="7596311">{</span><span class="num" id="7596312">1</span><span class="op" id="7596313">,</span>&nbsp;<span class="num" id="7596315">2</span><span class="op" id="7596316">,</span>&nbsp;<span class="num" id="7596318">3</span><span class="op" id="7596319">,</span>&nbsp;<span class="num" id="7596321">4</span><span class="op" id="7596322">,</span>&nbsp;<span class="num" id="7596324">5</span><span class="op" id="7596325">,</span>&nbsp;<span class="num" id="7596327">6</span><span class="op" id="7596328">,</span>&nbsp;<span class="num" id="7596330">7</span><span class="op" id="7596331">,</span>&nbsp;<span class="num" id="7596333">8</span><span class="op" id="7596334">}</span><br>
<span class="lineno">100</span><span class="keyword" id="7596336">var</span>&nbsp;<span class="ident" id="7596340">res</span>&nbsp;<span class="op" id="7596344">=</span>&nbsp;<span class="op" id="7596346">[</span><span class="op" id="7596347">]</span><span class="builtintype" id="7596348">int32</span><span class="op" id="7596353">{</span><span class="num" id="7596354">0x01020304</span><span class="op" id="7596364">,</span>&nbsp;<span class="num" id="7596366">0x05060708</span><span class="op" id="7596376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7596379">func</span>&nbsp;<span class="ident" id="7596384">checkResult</span><span class="op" id="7596395">(</span><span class="ident" id="7596396">t</span>&nbsp;<span class="op" id="7596398">*</span><span class="ident" id="7596399">testing</span><span class="op" id="7596406">.</span><span class="ident" id="7596407">T</span><span class="op" id="7596408">,</span>&nbsp;<span class="ident" id="7596410">dir</span>&nbsp;<span class="builtintype" id="7596414">string</span><span class="op" id="7596420">,</span>&nbsp;<span class="ident" id="7596422">order</span>&nbsp;<span class="ident" id="7596428">ByteOrder</span><span class="op" id="7596437">,</span>&nbsp;<span class="ident" id="7596439">err</span>&nbsp;<span class="builtintype" id="7596443">error</span><span class="op" id="7596448">,</span>&nbsp;<span class="ident" id="7596450">have</span><span class="op" id="7596454">,</span>&nbsp;<span class="ident" id="7596456">want</span>&nbsp;<span class="keyword" id="7596461">interface</span><span class="op" id="7596470">{</span><span class="op" id="7596471">}</span><span class="op" id="7596472">)</span>&nbsp;<span class="op" id="7596474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7596477">if</span>&nbsp;<span class="ident" id="7596480">err</span>&nbsp;<span class="op" id="7596484">!=</span>&nbsp;<span class="ident" id="7596487">nil</span>&nbsp;<span class="op" id="7596491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596495">t</span><span class="op" id="7596496">.</span><span class="ident" id="7596497">Errorf</span><span class="op" id="7596503">(</span><span class="string" id="7596504">&#34;%v&nbsp;%v:&nbsp;%v&#34;</span><span class="op" id="7596515">,</span>&nbsp;<span class="ident" id="7596517">dir</span><span class="op" id="7596520">,</span>&nbsp;<span class="ident" id="7596522">order</span><span class="op" id="7596527">,</span>&nbsp;<span class="ident" id="7596529">err</span><span class="op" id="7596532">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7596536">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7596544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7596547">if</span>&nbsp;<span class="op" id="7596550">!</span><span class="ident" id="7596551">reflect</span><span class="op" id="7596558">.</span><span class="ident" id="7596559">DeepEqual</span><span class="op" id="7596568">(</span><span class="ident" id="7596569">have</span><span class="op" id="7596573">,</span>&nbsp;<span class="ident" id="7596575">want</span><span class="op" id="7596579">)</span>&nbsp;<span class="op" id="7596581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596585">t</span><span class="op" id="7596586">.</span><span class="ident" id="7596587">Errorf</span><span class="op" id="7596593">(</span><span class="string" id="7596594">&#34;%v&nbsp;%v:\n\thave&nbsp;%+v\n\twant&nbsp;%+v&#34;</span><span class="op" id="7596626">,</span>&nbsp;<span class="ident" id="7596628">dir</span><span class="op" id="7596631">,</span>&nbsp;<span class="ident" id="7596633">order</span><span class="op" id="7596638">,</span>&nbsp;<span class="ident" id="7596640">have</span><span class="op" id="7596644">,</span>&nbsp;<span class="ident" id="7596646">want</span><span class="op" id="7596650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7596653">}</span><br>
<span class="lineno">110</span><span class="op" id="7596655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7596658">func</span>&nbsp;<span class="ident" id="7596663">testRead</span><span class="op" id="7596671">(</span><span class="ident" id="7596672">t</span>&nbsp;<span class="op" id="7596674">*</span><span class="ident" id="7596675">testing</span><span class="op" id="7596682">.</span><span class="ident" id="7596683">T</span><span class="op" id="7596684">,</span>&nbsp;<span class="ident" id="7596686">order</span>&nbsp;<span class="ident" id="7596692">ByteOrder</span><span class="op" id="7596701">,</span>&nbsp;<span class="ident" id="7596703">b</span>&nbsp;<span class="op" id="7596705">[</span><span class="op" id="7596706">]</span><span class="builtintype" id="7596707">byte</span><span class="op" id="7596711">,</span>&nbsp;<span class="ident" id="7596713">s1</span>&nbsp;<span class="keyword" id="7596716">interface</span><span class="op" id="7596725">{</span><span class="op" id="7596726">}</span><span class="op" id="7596727">)</span>&nbsp;<span class="op" id="7596729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7596732">var</span>&nbsp;<span class="ident" id="7596736">s2</span>&nbsp;<span class="ident" id="7596739">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596747">err</span>&nbsp;<span class="op" id="7596751">:=</span>&nbsp;<span class="ident" id="7596754">Read</span><span class="op" id="7596758">(</span><span class="ident" id="7596759">bytes</span><span class="op" id="7596764">.</span><span class="ident" id="7596765">NewReader</span><span class="op" id="7596774">(</span><span class="ident" id="7596775">b</span><span class="op" id="7596776">)</span><span class="op" id="7596777">,</span>&nbsp;<span class="ident" id="7596779">order</span><span class="op" id="7596784">,</span>&nbsp;<span class="op" id="7596786">&amp;</span><span class="ident" id="7596787">s2</span><span class="op" id="7596789">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596792">checkResult</span><span class="op" id="7596803">(</span><span class="ident" id="7596804">t</span><span class="op" id="7596805">,</span>&nbsp;<span class="string" id="7596807">&#34;Read&#34;</span><span class="op" id="7596813">,</span>&nbsp;<span class="ident" id="7596815">order</span><span class="op" id="7596820">,</span>&nbsp;<span class="ident" id="7596822">err</span><span class="op" id="7596825">,</span>&nbsp;<span class="ident" id="7596827">s2</span><span class="op" id="7596829">,</span>&nbsp;<span class="ident" id="7596831">s1</span><span class="op" id="7596833">)</span><br>
<span class="lineno"></span><span class="op" id="7596835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7596838">func</span>&nbsp;<span class="ident" id="7596843">testWrite</span><span class="op" id="7596852">(</span><span class="ident" id="7596853">t</span>&nbsp;<span class="op" id="7596855">*</span><span class="ident" id="7596856">testing</span><span class="op" id="7596863">.</span><span class="ident" id="7596864">T</span><span class="op" id="7596865">,</span>&nbsp;<span class="ident" id="7596867">order</span>&nbsp;<span class="ident" id="7596873">ByteOrder</span><span class="op" id="7596882">,</span>&nbsp;<span class="ident" id="7596884">b</span>&nbsp;<span class="op" id="7596886">[</span><span class="op" id="7596887">]</span><span class="builtintype" id="7596888">byte</span><span class="op" id="7596892">,</span>&nbsp;<span class="ident" id="7596894">s1</span>&nbsp;<span class="keyword" id="7596897">interface</span><span class="op" id="7596906">{</span><span class="op" id="7596907">}</span><span class="op" id="7596908">)</span>&nbsp;<span class="op" id="7596910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596913">buf</span>&nbsp;<span class="op" id="7596917">:=</span>&nbsp;<span class="builtinfunc" id="7596920">new</span><span class="op" id="7596923">(</span><span class="ident" id="7596924">bytes</span><span class="op" id="7596929">.</span><span class="ident" id="7596930">Buffer</span><span class="op" id="7596936">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596939">err</span>&nbsp;<span class="op" id="7596943">:=</span>&nbsp;<span class="ident" id="7596946">Write</span><span class="op" id="7596951">(</span><span class="ident" id="7596952">buf</span><span class="op" id="7596955">,</span>&nbsp;<span class="ident" id="7596957">order</span><span class="op" id="7596962">,</span>&nbsp;<span class="ident" id="7596964">s1</span><span class="op" id="7596966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7596969">checkResult</span><span class="op" id="7596980">(</span><span class="ident" id="7596981">t</span><span class="op" id="7596982">,</span>&nbsp;<span class="string" id="7596984">&#34;Write&#34;</span><span class="op" id="7596991">,</span>&nbsp;<span class="ident" id="7596993">order</span><span class="op" id="7596998">,</span>&nbsp;<span class="ident" id="7597000">err</span><span class="op" id="7597003">,</span>&nbsp;<span class="ident" id="7597005">buf</span><span class="op" id="7597008">.</span><span class="ident" id="7597009">Bytes</span><span class="op" id="7597014">(</span><span class="op" id="7597015">)</span><span class="op" id="7597016">,</span>&nbsp;<span class="ident" id="7597018">b</span><span class="op" id="7597019">)</span><br>
<span class="lineno"></span><span class="op" id="7597021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7597024">func</span>&nbsp;<span class="ident" id="7597029">TestLittleEndianRead</span><span class="op" id="7597049">(</span><span class="ident" id="7597050">t</span>&nbsp;<span class="op" id="7597052">*</span><span class="ident" id="7597053">testing</span><span class="op" id="7597060">.</span><span class="ident" id="7597061">T</span><span class="op" id="7597062">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7597068">{</span>&nbsp;<span class="ident" id="7597070">testRead</span><span class="op" id="7597078">(</span><span class="ident" id="7597079">t</span><span class="op" id="7597080">,</span>&nbsp;<span class="ident" id="7597082">LittleEndian</span><span class="op" id="7597094">,</span>&nbsp;<span class="ident" id="7597096">little</span><span class="op" id="7597102">,</span>&nbsp;<span class="ident" id="7597104">s</span><span class="op" id="7597105">)</span>&nbsp;<span class="op" id="7597107">}</span><br>
<span class="lineno">125</span><span class="keyword" id="7597109">func</span>&nbsp;<span class="ident" id="7597114">TestLittleEndianWrite</span><span class="op" id="7597135">(</span><span class="ident" id="7597136">t</span>&nbsp;<span class="op" id="7597138">*</span><span class="ident" id="7597139">testing</span><span class="op" id="7597146">.</span><span class="ident" id="7597147">T</span><span class="op" id="7597148">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7597153">{</span>&nbsp;<span class="ident" id="7597155">testWrite</span><span class="op" id="7597164">(</span><span class="ident" id="7597165">t</span><span class="op" id="7597166">,</span>&nbsp;<span class="ident" id="7597168">LittleEndian</span><span class="op" id="7597180">,</span>&nbsp;<span class="ident" id="7597182">little</span><span class="op" id="7597188">,</span>&nbsp;<span class="ident" id="7597190">s</span><span class="op" id="7597191">)</span>&nbsp;<span class="op" id="7597193">}</span><br>
<span class="lineno"></span><span class="keyword" id="7597195">func</span>&nbsp;<span class="ident" id="7597200">TestLittleEndianPtrWrite</span><span class="op" id="7597224">(</span><span class="ident" id="7597225">t</span>&nbsp;<span class="op" id="7597227">*</span><span class="ident" id="7597228">testing</span><span class="op" id="7597235">.</span><span class="ident" id="7597236">T</span><span class="op" id="7597237">)</span>&nbsp;<span class="op" id="7597239">{</span>&nbsp;<span class="ident" id="7597241">testWrite</span><span class="op" id="7597250">(</span><span class="ident" id="7597251">t</span><span class="op" id="7597252">,</span>&nbsp;<span class="ident" id="7597254">LittleEndian</span><span class="op" id="7597266">,</span>&nbsp;<span class="ident" id="7597268">little</span><span class="op" id="7597274">,</span>&nbsp;<span class="op" id="7597276">&amp;</span><span class="ident" id="7597277">s</span><span class="op" id="7597278">)</span>&nbsp;<span class="op" id="7597280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7597283">func</span>&nbsp;<span class="ident" id="7597288">TestBigEndianRead</span><span class="op" id="7597305">(</span><span class="ident" id="7597306">t</span>&nbsp;<span class="op" id="7597308">*</span><span class="ident" id="7597309">testing</span><span class="op" id="7597316">.</span><span class="ident" id="7597317">T</span><span class="op" id="7597318">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7597324">{</span>&nbsp;<span class="ident" id="7597326">testRead</span><span class="op" id="7597334">(</span><span class="ident" id="7597335">t</span><span class="op" id="7597336">,</span>&nbsp;<span class="ident" id="7597338">BigEndian</span><span class="op" id="7597347">,</span>&nbsp;<span class="ident" id="7597349">big</span><span class="op" id="7597352">,</span>&nbsp;<span class="ident" id="7597354">s</span><span class="op" id="7597355">)</span>&nbsp;<span class="op" id="7597357">}</span><br>
<span class="lineno"></span><span class="keyword" id="7597359">func</span>&nbsp;<span class="ident" id="7597364">TestBigEndianWrite</span><span class="op" id="7597382">(</span><span class="ident" id="7597383">t</span>&nbsp;<span class="op" id="7597385">*</span><span class="ident" id="7597386">testing</span><span class="op" id="7597393">.</span><span class="ident" id="7597394">T</span><span class="op" id="7597395">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7597400">{</span>&nbsp;<span class="ident" id="7597402">testWrite</span><span class="op" id="7597411">(</span><span class="ident" id="7597412">t</span><span class="op" id="7597413">,</span>&nbsp;<span class="ident" id="7597415">BigEndian</span><span class="op" id="7597424">,</span>&nbsp;<span class="ident" id="7597426">big</span><span class="op" id="7597429">,</span>&nbsp;<span class="ident" id="7597431">s</span><span class="op" id="7597432">)</span>&nbsp;<span class="op" id="7597434">}</span><br>
<span class="lineno">130</span><span class="keyword" id="7597436">func</span>&nbsp;<span class="ident" id="7597441">TestBigEndianPtrWrite</span><span class="op" id="7597462">(</span><span class="ident" id="7597463">t</span>&nbsp;<span class="op" id="7597465">*</span><span class="ident" id="7597466">testing</span><span class="op" id="7597473">.</span><span class="ident" id="7597474">T</span><span class="op" id="7597475">)</span>&nbsp;<span class="op" id="7597477">{</span>&nbsp;<span class="ident" id="7597479">testWrite</span><span class="op" id="7597488">(</span><span class="ident" id="7597489">t</span><span class="op" id="7597490">,</span>&nbsp;<span class="ident" id="7597492">BigEndian</span><span class="op" id="7597501">,</span>&nbsp;<span class="ident" id="7597503">big</span><span class="op" id="7597506">,</span>&nbsp;<span class="op" id="7597508">&amp;</span><span class="ident" id="7597509">s</span><span class="op" id="7597510">)</span>&nbsp;<span class="op" id="7597512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7597515">func</span>&nbsp;<span class="ident" id="7597520">TestReadSlice</span><span class="op" id="7597533">(</span><span class="ident" id="7597534">t</span>&nbsp;<span class="op" id="7597536">*</span><span class="ident" id="7597537">testing</span><span class="op" id="7597544">.</span><span class="ident" id="7597545">T</span><span class="op" id="7597546">)</span>&nbsp;<span class="op" id="7597548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7597551">slice</span>&nbsp;<span class="op" id="7597557">:=</span>&nbsp;<span class="builtinfunc" id="7597560">make</span><span class="op" id="7597564">(</span><span class="op" id="7597565">[</span><span class="op" id="7597566">]</span><span class="builtintype" id="7597567">int32</span><span class="op" id="7597572">,</span>&nbsp;<span class="num" id="7597574">2</span><span class="op" id="7597575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7597578">err</span>&nbsp;<span class="op" id="7597582">:=</span>&nbsp;<span class="ident" id="7597585">Read</span><span class="op" id="7597589">(</span><span class="ident" id="7597590">bytes</span><span class="op" id="7597595">.</span><span class="ident" id="7597596">NewReader</span><span class="op" id="7597605">(</span><span class="ident" id="7597606">src</span><span class="op" id="7597609">)</span><span class="op" id="7597610">,</span>&nbsp;<span class="ident" id="7597612">BigEndian</span><span class="op" id="7597621">,</span>&nbsp;<span class="ident" id="7597623">slice</span><span class="op" id="7597628">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7597631">checkResult</span><span class="op" id="7597642">(</span><span class="ident" id="7597643">t</span><span class="op" id="7597644">,</span>&nbsp;<span class="string" id="7597646">&#34;ReadSlice&#34;</span><span class="op" id="7597657">,</span>&nbsp;<span class="ident" id="7597659">BigEndian</span><span class="op" id="7597668">,</span>&nbsp;<span class="ident" id="7597670">err</span><span class="op" id="7597673">,</span>&nbsp;<span class="ident" id="7597675">slice</span><span class="op" id="7597680">,</span>&nbsp;<span class="ident" id="7597682">res</span><span class="op" id="7597685">)</span><br>
<span class="lineno"></span><span class="op" id="7597687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7597690">func</span>&nbsp;<span class="ident" id="7597695">TestWriteSlice</span><span class="op" id="7597709">(</span><span class="ident" id="7597710">t</span>&nbsp;<span class="op" id="7597712">*</span><span class="ident" id="7597713">testing</span><span class="op" id="7597720">.</span><span class="ident" id="7597721">T</span><span class="op" id="7597722">)</span>&nbsp;<span class="op" id="7597724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7597727">buf</span>&nbsp;<span class="op" id="7597731">:=</span>&nbsp;<span class="builtinfunc" id="7597734">new</span><span class="op" id="7597737">(</span><span class="ident" id="7597738">bytes</span><span class="op" id="7597743">.</span><span class="ident" id="7597744">Buffer</span><span class="op" id="7597750">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7597753">err</span>&nbsp;<span class="op" id="7597757">:=</span>&nbsp;<span class="ident" id="7597760">Write</span><span class="op" id="7597765">(</span><span class="ident" id="7597766">buf</span><span class="op" id="7597769">,</span>&nbsp;<span class="ident" id="7597771">BigEndian</span><span class="op" id="7597780">,</span>&nbsp;<span class="ident" id="7597782">res</span><span class="op" id="7597785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7597788">checkResult</span><span class="op" id="7597799">(</span><span class="ident" id="7597800">t</span><span class="op" id="7597801">,</span>&nbsp;<span class="string" id="7597803">&#34;WriteSlice&#34;</span><span class="op" id="7597815">,</span>&nbsp;<span class="ident" id="7597817">BigEndian</span><span class="op" id="7597826">,</span>&nbsp;<span class="ident" id="7597828">err</span><span class="op" id="7597831">,</span>&nbsp;<span class="ident" id="7597833">buf</span><span class="op" id="7597836">.</span><span class="ident" id="7597837">Bytes</span><span class="op" id="7597842">(</span><span class="op" id="7597843">)</span><span class="op" id="7597844">,</span>&nbsp;<span class="ident" id="7597846">src</span><span class="op" id="7597849">)</span><br>
<span class="lineno"></span><span class="op" id="7597851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7597854">//&nbsp;Addresses&nbsp;of&nbsp;arrays&nbsp;are&nbsp;easier&nbsp;to&nbsp;manipulate&nbsp;with&nbsp;reflection&nbsp;than&nbsp;are&nbsp;slices.</span><br>
<span class="lineno">145</span><span class="keyword" id="7597935">var</span>&nbsp;<span class="ident" id="7597939">intArrays</span>&nbsp;<span class="op" id="7597949">=</span>&nbsp;<span class="op" id="7597951">[</span><span class="op" id="7597952">]</span><span class="keyword" id="7597953">interface</span><span class="op" id="7597962">{</span><span class="op" id="7597963">}</span><span class="op" id="7597964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7597967">&amp;</span><span class="op" id="7597968">[</span><span class="num" id="7597969">100</span><span class="op" id="7597972">]</span><span class="builtintype" id="7597973">int8</span><span class="op" id="7597977">{</span><span class="op" id="7597978">}</span><span class="op" id="7597979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7597982">&amp;</span><span class="op" id="7597983">[</span><span class="num" id="7597984">100</span><span class="op" id="7597987">]</span><span class="builtintype" id="7597988">int16</span><span class="op" id="7597993">{</span><span class="op" id="7597994">}</span><span class="op" id="7597995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7597998">&amp;</span><span class="op" id="7597999">[</span><span class="num" id="7598000">100</span><span class="op" id="7598003">]</span><span class="builtintype" id="7598004">int32</span><span class="op" id="7598009">{</span><span class="op" id="7598010">}</span><span class="op" id="7598011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598014">&amp;</span><span class="op" id="7598015">[</span><span class="num" id="7598016">100</span><span class="op" id="7598019">]</span><span class="ident" id="7598020">int64</span><span class="op" id="7598025">{</span><span class="op" id="7598026">}</span><span class="op" id="7598027">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598030">&amp;</span><span class="op" id="7598031">[</span><span class="num" id="7598032">100</span><span class="op" id="7598035">]</span><span class="builtintype" id="7598036">uint8</span><span class="op" id="7598041">{</span><span class="op" id="7598042">}</span><span class="op" id="7598043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598046">&amp;</span><span class="op" id="7598047">[</span><span class="num" id="7598048">100</span><span class="op" id="7598051">]</span><span class="builtintype" id="7598052">uint16</span><span class="op" id="7598058">{</span><span class="op" id="7598059">}</span><span class="op" id="7598060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598063">&amp;</span><span class="op" id="7598064">[</span><span class="num" id="7598065">100</span><span class="op" id="7598068">]</span><span class="builtintype" id="7598069">uint32</span><span class="op" id="7598075">{</span><span class="op" id="7598076">}</span><span class="op" id="7598077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598080">&amp;</span><span class="op" id="7598081">[</span><span class="num" id="7598082">100</span><span class="op" id="7598085">]</span><span class="ident" id="7598086">uint64</span><span class="op" id="7598092">{</span><span class="op" id="7598093">}</span><span class="op" id="7598094">,</span><br>
<span class="lineno"></span><span class="op" id="7598096">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7598099">func</span>&nbsp;<span class="ident" id="7598104">TestSliceRoundTrip</span><span class="op" id="7598122">(</span><span class="ident" id="7598123">t</span>&nbsp;<span class="op" id="7598125">*</span><span class="ident" id="7598126">testing</span><span class="op" id="7598133">.</span><span class="ident" id="7598134">T</span><span class="op" id="7598135">)</span>&nbsp;<span class="op" id="7598137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598140">buf</span>&nbsp;<span class="op" id="7598144">:=</span>&nbsp;<span class="builtinfunc" id="7598147">new</span><span class="op" id="7598150">(</span><span class="ident" id="7598151">bytes</span><span class="op" id="7598156">.</span><span class="ident" id="7598157">Buffer</span><span class="op" id="7598163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598166">for</span>&nbsp;<span class="ident" id="7598170">_</span><span class="op" id="7598171">,</span>&nbsp;<span class="ident" id="7598173">array</span>&nbsp;<span class="op" id="7598179">:=</span>&nbsp;<span class="keyword" id="7598182">range</span>&nbsp;<span class="ident" id="7598188">intArrays</span>&nbsp;<span class="op" id="7598198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598202">src</span>&nbsp;<span class="op" id="7598206">:=</span>&nbsp;<span class="ident" id="7598209">reflect</span><span class="op" id="7598216">.</span><span class="ident" id="7598217">ValueOf</span><span class="op" id="7598224">(</span><span class="ident" id="7598225">array</span><span class="op" id="7598230">)</span><span class="op" id="7598231">.</span><span class="ident" id="7598232">Elem</span><span class="op" id="7598236">(</span><span class="op" id="7598237">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598241">unsigned</span>&nbsp;<span class="op" id="7598250">:=</span>&nbsp;<span class="builtintype" id="7598253">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598261">switch</span>&nbsp;<span class="ident" id="7598268">src</span><span class="op" id="7598271">.</span><span class="ident" id="7598272">Index</span><span class="op" id="7598277">(</span><span class="num" id="7598278">0</span><span class="op" id="7598279">)</span><span class="op" id="7598280">.</span><span class="ident" id="7598281">Kind</span><span class="op" id="7598285">(</span><span class="op" id="7598286">)</span>&nbsp;<span class="op" id="7598288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598292">case</span>&nbsp;<span class="ident" id="7598297">reflect</span><span class="op" id="7598304">.</span><span class="ident" id="7598305">Uint8</span><span class="op" id="7598310">,</span>&nbsp;<span class="ident" id="7598312">reflect</span><span class="op" id="7598319">.</span><span class="ident" id="7598320">Uint16</span><span class="op" id="7598326">,</span>&nbsp;<span class="ident" id="7598328">reflect</span><span class="op" id="7598335">.</span><span class="ident" id="7598336">Uint32</span><span class="op" id="7598342">,</span>&nbsp;<span class="ident" id="7598344">reflect</span><span class="op" id="7598351">.</span><span class="ident" id="7598352">Uint64</span><span class="op" id="7598358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598363">unsigned</span>&nbsp;<span class="op" id="7598372">=</span>&nbsp;<span class="builtintype" id="7598374">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598381">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598385">for</span>&nbsp;<span class="ident" id="7598389">i</span>&nbsp;<span class="op" id="7598391">:=</span>&nbsp;<span class="num" id="7598394">0</span><span class="op" id="7598395">;</span>&nbsp;<span class="ident" id="7598397">i</span>&nbsp;<span class="op" id="7598399">&lt;</span>&nbsp;<span class="ident" id="7598401">src</span><span class="op" id="7598404">.</span><span class="ident" id="7598405">Len</span><span class="op" id="7598408">(</span><span class="op" id="7598409">)</span><span class="op" id="7598410">;</span>&nbsp;<span class="ident" id="7598412">i</span><span class="op" id="7598413">++</span>&nbsp;<span class="op" id="7598416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598421">if</span>&nbsp;<span class="ident" id="7598424">unsigned</span>&nbsp;<span class="op" id="7598433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598439">src</span><span class="op" id="7598442">.</span><span class="ident" id="7598443">Index</span><span class="op" id="7598448">(</span><span class="ident" id="7598449">i</span><span class="op" id="7598450">)</span><span class="op" id="7598451">.</span><span class="ident" id="7598452">SetUint</span><span class="op" id="7598459">(</span><span class="ident" id="7598460">uint64</span><span class="op" id="7598466">(</span><span class="ident" id="7598467">i</span>&nbsp;<span class="op" id="7598469">*</span>&nbsp;<span class="num" id="7598471">0x07654321</span><span class="op" id="7598481">)</span><span class="op" id="7598482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598487">}</span>&nbsp;<span class="keyword" id="7598489">else</span>&nbsp;<span class="op" id="7598494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598500">src</span><span class="op" id="7598503">.</span><span class="ident" id="7598504">Index</span><span class="op" id="7598509">(</span><span class="ident" id="7598510">i</span><span class="op" id="7598511">)</span><span class="op" id="7598512">.</span><span class="ident" id="7598513">SetInt</span><span class="op" id="7598519">(</span><span class="ident" id="7598520">int64</span><span class="op" id="7598525">(</span><span class="ident" id="7598526">i</span>&nbsp;<span class="op" id="7598528">*</span>&nbsp;<span class="num" id="7598530">0x07654321</span><span class="op" id="7598540">)</span><span class="op" id="7598541">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598554">buf</span><span class="op" id="7598557">.</span><span class="ident" id="7598558">Reset</span><span class="op" id="7598563">(</span><span class="op" id="7598564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598568">srcSlice</span>&nbsp;<span class="op" id="7598577">:=</span>&nbsp;<span class="ident" id="7598580">src</span><span class="op" id="7598583">.</span><span class="ident" id="7598584">Slice</span><span class="op" id="7598589">(</span><span class="num" id="7598590">0</span><span class="op" id="7598591">,</span>&nbsp;<span class="ident" id="7598593">src</span><span class="op" id="7598596">.</span><span class="ident" id="7598597">Len</span><span class="op" id="7598600">(</span><span class="op" id="7598601">)</span><span class="op" id="7598602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598606">err</span>&nbsp;<span class="op" id="7598610">:=</span>&nbsp;<span class="ident" id="7598613">Write</span><span class="op" id="7598618">(</span><span class="ident" id="7598619">buf</span><span class="op" id="7598622">,</span>&nbsp;<span class="ident" id="7598624">BigEndian</span><span class="op" id="7598633">,</span>&nbsp;<span class="ident" id="7598635">srcSlice</span><span class="op" id="7598643">.</span><span class="ident" id="7598644">Interface</span><span class="op" id="7598653">(</span><span class="op" id="7598654">)</span><span class="op" id="7598655">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598659">if</span>&nbsp;<span class="ident" id="7598662">err</span>&nbsp;<span class="op" id="7598666">!=</span>&nbsp;<span class="ident" id="7598669">nil</span>&nbsp;<span class="op" id="7598673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598678">t</span><span class="op" id="7598679">.</span><span class="ident" id="7598680">Fatal</span><span class="op" id="7598685">(</span><span class="ident" id="7598686">err</span><span class="op" id="7598689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598697">dst</span>&nbsp;<span class="op" id="7598701">:=</span>&nbsp;<span class="ident" id="7598704">reflect</span><span class="op" id="7598711">.</span><span class="ident" id="7598712">New</span><span class="op" id="7598715">(</span><span class="ident" id="7598716">src</span><span class="op" id="7598719">.</span><span class="ident" id="7598720">Type</span><span class="op" id="7598724">(</span><span class="op" id="7598725">)</span><span class="op" id="7598726">)</span><span class="op" id="7598727">.</span><span class="ident" id="7598728">Elem</span><span class="op" id="7598732">(</span><span class="op" id="7598733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598737">dstSlice</span>&nbsp;<span class="op" id="7598746">:=</span>&nbsp;<span class="ident" id="7598749">dst</span><span class="op" id="7598752">.</span><span class="ident" id="7598753">Slice</span><span class="op" id="7598758">(</span><span class="num" id="7598759">0</span><span class="op" id="7598760">,</span>&nbsp;<span class="ident" id="7598762">dst</span><span class="op" id="7598765">.</span><span class="ident" id="7598766">Len</span><span class="op" id="7598769">(</span><span class="op" id="7598770">)</span><span class="op" id="7598771">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598775">err</span>&nbsp;<span class="op" id="7598779">=</span>&nbsp;<span class="ident" id="7598781">Read</span><span class="op" id="7598785">(</span><span class="ident" id="7598786">buf</span><span class="op" id="7598789">,</span>&nbsp;<span class="ident" id="7598791">BigEndian</span><span class="op" id="7598800">,</span>&nbsp;<span class="ident" id="7598802">dstSlice</span><span class="op" id="7598810">.</span><span class="ident" id="7598811">Interface</span><span class="op" id="7598820">(</span><span class="op" id="7598821">)</span><span class="op" id="7598822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598826">if</span>&nbsp;<span class="ident" id="7598829">err</span>&nbsp;<span class="op" id="7598833">!=</span>&nbsp;<span class="ident" id="7598836">nil</span>&nbsp;<span class="op" id="7598840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598845">t</span><span class="op" id="7598846">.</span><span class="ident" id="7598847">Fatal</span><span class="op" id="7598852">(</span><span class="ident" id="7598853">err</span><span class="op" id="7598856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7598864">if</span>&nbsp;<span class="op" id="7598867">!</span><span class="ident" id="7598868">reflect</span><span class="op" id="7598875">.</span><span class="ident" id="7598876">DeepEqual</span><span class="op" id="7598885">(</span><span class="ident" id="7598886">src</span><span class="op" id="7598889">.</span><span class="ident" id="7598890">Interface</span><span class="op" id="7598899">(</span><span class="op" id="7598900">)</span><span class="op" id="7598901">,</span>&nbsp;<span class="ident" id="7598903">dst</span><span class="op" id="7598906">.</span><span class="ident" id="7598907">Interface</span><span class="op" id="7598916">(</span><span class="op" id="7598917">)</span><span class="op" id="7598918">)</span>&nbsp;<span class="op" id="7598920">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598925">t</span><span class="op" id="7598926">.</span><span class="ident" id="7598927">Fatal</span><span class="op" id="7598932">(</span><span class="ident" id="7598933">src</span><span class="op" id="7598936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7598943">}</span><br>
<span class="lineno"></span><span class="op" id="7598945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="7598948">func</span>&nbsp;<span class="ident" id="7598953">TestWriteT</span><span class="op" id="7598963">(</span><span class="ident" id="7598964">t</span>&nbsp;<span class="op" id="7598966">*</span><span class="ident" id="7598967">testing</span><span class="op" id="7598974">.</span><span class="ident" id="7598975">T</span><span class="op" id="7598976">)</span>&nbsp;<span class="op" id="7598978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7598981">buf</span>&nbsp;<span class="op" id="7598985">:=</span>&nbsp;<span class="builtinfunc" id="7598988">new</span><span class="op" id="7598991">(</span><span class="ident" id="7598992">bytes</span><span class="op" id="7598997">.</span><span class="ident" id="7598998">Buffer</span><span class="op" id="7599004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599007">ts</span>&nbsp;<span class="op" id="7599010">:=</span>&nbsp;<span class="ident" id="7599013">T</span><span class="op" id="7599014">{</span><span class="op" id="7599015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7599018">if</span>&nbsp;<span class="ident" id="7599021">err</span>&nbsp;<span class="op" id="7599025">:=</span>&nbsp;<span class="ident" id="7599028">Write</span><span class="op" id="7599033">(</span><span class="ident" id="7599034">buf</span><span class="op" id="7599037">,</span>&nbsp;<span class="ident" id="7599039">BigEndian</span><span class="op" id="7599048">,</span>&nbsp;<span class="ident" id="7599050">ts</span><span class="op" id="7599052">)</span><span class="op" id="7599053">;</span>&nbsp;<span class="ident" id="7599055">err</span>&nbsp;<span class="op" id="7599059">==</span>&nbsp;<span class="ident" id="7599062">nil</span>&nbsp;<span class="op" id="7599066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599070">t</span><span class="op" id="7599071">.</span><span class="ident" id="7599072">Errorf</span><span class="op" id="7599078">(</span><span class="string" id="7599079">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="7599118">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7599121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599125">tv</span>&nbsp;<span class="op" id="7599128">:=</span>&nbsp;<span class="ident" id="7599131">reflect</span><span class="op" id="7599138">.</span><span class="ident" id="7599139">Indirect</span><span class="op" id="7599147">(</span><span class="ident" id="7599148">reflect</span><span class="op" id="7599155">.</span><span class="ident" id="7599156">ValueOf</span><span class="op" id="7599163">(</span><span class="ident" id="7599164">ts</span><span class="op" id="7599166">)</span><span class="op" id="7599167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7599170">for</span>&nbsp;<span class="ident" id="7599174">i</span><span class="op" id="7599175">,</span>&nbsp;<span class="ident" id="7599177">n</span>&nbsp;<span class="op" id="7599179">:=</span>&nbsp;<span class="num" id="7599182">0</span><span class="op" id="7599183">,</span>&nbsp;<span class="ident" id="7599185">tv</span><span class="op" id="7599187">.</span><span class="ident" id="7599188">NumField</span><span class="op" id="7599196">(</span><span class="op" id="7599197">)</span><span class="op" id="7599198">;</span>&nbsp;<span class="ident" id="7599200">i</span>&nbsp;<span class="op" id="7599202">&lt;</span>&nbsp;<span class="ident" id="7599204">n</span><span class="op" id="7599205">;</span>&nbsp;<span class="ident" id="7599207">i</span><span class="op" id="7599208">++</span>&nbsp;<span class="op" id="7599211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599215">typ</span>&nbsp;<span class="op" id="7599219">:=</span>&nbsp;<span class="ident" id="7599222">tv</span><span class="op" id="7599224">.</span><span class="ident" id="7599225">Field</span><span class="op" id="7599230">(</span><span class="ident" id="7599231">i</span><span class="op" id="7599232">)</span><span class="op" id="7599233">.</span><span class="ident" id="7599234">Type</span><span class="op" id="7599238">(</span><span class="op" id="7599239">)</span><span class="op" id="7599240">.</span><span class="ident" id="7599241">String</span><span class="op" id="7599247">(</span><span class="op" id="7599248">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7599252">if</span>&nbsp;<span class="ident" id="7599255">typ</span>&nbsp;<span class="op" id="7599259">==</span>&nbsp;<span class="string" id="7599262">&#34;[4]int&#34;</span>&nbsp;<span class="op" id="7599271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599276">typ</span>&nbsp;<span class="op" id="7599280">=</span>&nbsp;<span class="string" id="7599282">&#34;int&#34;</span>&nbsp;<span class="comment" id="7599288">//&nbsp;the&nbsp;problem&nbsp;is&nbsp;int,&nbsp;not&nbsp;the&nbsp;[4]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7599325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7599329">if</span>&nbsp;<span class="ident" id="7599332">err</span>&nbsp;<span class="op" id="7599336">:=</span>&nbsp;<span class="ident" id="7599339">Write</span><span class="op" id="7599344">(</span><span class="ident" id="7599345">buf</span><span class="op" id="7599348">,</span>&nbsp;<span class="ident" id="7599350">BigEndian</span><span class="op" id="7599359">,</span>&nbsp;<span class="ident" id="7599361">tv</span><span class="op" id="7599363">.</span><span class="ident" id="7599364">Field</span><span class="op" id="7599369">(</span><span class="ident" id="7599370">i</span><span class="op" id="7599371">)</span><span class="op" id="7599372">.</span><span class="ident" id="7599373">Interface</span><span class="op" id="7599382">(</span><span class="op" id="7599383">)</span><span class="op" id="7599384">)</span><span class="op" id="7599385">;</span>&nbsp;<span class="ident" id="7599387">err</span>&nbsp;<span class="op" id="7599391">==</span>&nbsp;<span class="ident" id="7599394">nil</span>&nbsp;<span class="op" id="7599398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599403">t</span><span class="op" id="7599404">.</span><span class="ident" id="7599405">Errorf</span><span class="op" id="7599411">(</span><span class="string" id="7599412">&#34;WriteT.%v:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="7599454">,</span>&nbsp;<span class="ident" id="7599456">tv</span><span class="op" id="7599458">.</span><span class="ident" id="7599459">Field</span><span class="op" id="7599464">(</span><span class="ident" id="7599465">i</span><span class="op" id="7599466">)</span><span class="op" id="7599467">.</span><span class="ident" id="7599468">Type</span><span class="op" id="7599472">(</span><span class="op" id="7599473">)</span><span class="op" id="7599474">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7599478">}</span>&nbsp;<span class="keyword" id="7599480">else</span>&nbsp;<span class="keyword" id="7599485">if</span>&nbsp;<span class="op" id="7599488">!</span><span class="ident" id="7599489">strings</span><span class="op" id="7599496">.</span><span class="ident" id="7599497">Contains</span><span class="op" id="7599505">(</span><span class="ident" id="7599506">err</span><span class="op" id="7599509">.</span><span class="ident" id="7599510">Error</span><span class="op" id="7599515">(</span><span class="op" id="7599516">)</span><span class="op" id="7599517">,</span>&nbsp;<span class="ident" id="7599519">typ</span><span class="op" id="7599522">)</span>&nbsp;<span class="op" id="7599524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599529">t</span><span class="op" id="7599530">.</span><span class="ident" id="7599531">Errorf</span><span class="op" id="7599537">(</span><span class="string" id="7599538">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;%q,&nbsp;want&nbsp;it&nbsp;to&nbsp;mention&nbsp;%s&#34;</span><span class="op" id="7599585">,</span>&nbsp;<span class="ident" id="7599587">err</span><span class="op" id="7599590">,</span>&nbsp;<span class="ident" id="7599592">typ</span><span class="op" id="7599595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7599599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7599602">}</span><br>
<span class="lineno"></span><span class="op" id="7599604">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7599607">type</span>&nbsp;<span class="ident" id="7599612">BlankFields</span>&nbsp;<span class="keyword" id="7599624">struct</span>&nbsp;<span class="op" id="7599631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599634">A</span>&nbsp;<span class="builtintype" id="7599636">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599644">_</span>&nbsp;<span class="builtintype" id="7599646">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599653">B</span>&nbsp;<span class="builtintype" id="7599655">float64</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599664">_</span>&nbsp;<span class="op" id="7599666">[</span><span class="num" id="7599667">4</span><span class="op" id="7599668">]</span><span class="builtintype" id="7599669">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599676">C</span>&nbsp;<span class="builtintype" id="7599678">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599684">_</span>&nbsp;<span class="op" id="7599686">[</span><span class="num" id="7599687">7</span><span class="op" id="7599688">]</span><span class="builtintype" id="7599689">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599695">_</span>&nbsp;<span class="keyword" id="7599697">struct</span>&nbsp;<span class="op" id="7599704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599708">f</span>&nbsp;<span class="op" id="7599710">[</span><span class="num" id="7599711">8</span><span class="op" id="7599712">]</span><span class="builtintype" id="7599713">float32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7599722">}</span><br>
<span class="lineno"></span><span class="op" id="7599724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7599727">type</span>&nbsp;<span class="ident" id="7599732">BlankFieldsProbe</span>&nbsp;<span class="keyword" id="7599749">struct</span>&nbsp;<span class="op" id="7599756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599759">A</span>&nbsp;&nbsp;<span class="builtintype" id="7599762">uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599770">P0</span>&nbsp;<span class="builtintype" id="7599773">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599780">B</span>&nbsp;&nbsp;<span class="builtintype" id="7599783">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599792">P1</span>&nbsp;<span class="op" id="7599795">[</span><span class="num" id="7599796">4</span><span class="op" id="7599797">]</span><span class="builtintype" id="7599798">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599805">C</span>&nbsp;&nbsp;<span class="builtintype" id="7599808">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599814">P2</span>&nbsp;<span class="op" id="7599817">[</span><span class="num" id="7599818">7</span><span class="op" id="7599819">]</span><span class="builtintype" id="7599820">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599826">P3</span>&nbsp;<span class="keyword" id="7599829">struct</span>&nbsp;<span class="op" id="7599836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599840">F</span>&nbsp;<span class="op" id="7599842">[</span><span class="num" id="7599843">8</span><span class="op" id="7599844">]</span><span class="builtintype" id="7599845">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7599854">}</span><br>
<span class="lineno"></span><span class="op" id="7599856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7599859">func</span>&nbsp;<span class="ident" id="7599864">TestBlankFields</span><span class="op" id="7599879">(</span><span class="ident" id="7599880">t</span>&nbsp;<span class="op" id="7599882">*</span><span class="ident" id="7599883">testing</span><span class="op" id="7599890">.</span><span class="ident" id="7599891">T</span><span class="op" id="7599892">)</span>&nbsp;<span class="op" id="7599894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599897">buf</span>&nbsp;<span class="op" id="7599901">:=</span>&nbsp;<span class="builtinfunc" id="7599904">new</span><span class="op" id="7599907">(</span><span class="ident" id="7599908">bytes</span><span class="op" id="7599913">.</span><span class="ident" id="7599914">Buffer</span><span class="op" id="7599920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7599923">b1</span>&nbsp;<span class="op" id="7599926">:=</span>&nbsp;<span class="ident" id="7599929">BlankFields</span><span class="op" id="7599940">{</span><span class="ident" id="7599941">A</span><span class="op" id="7599942">:</span>&nbsp;<span class="num" id="7599944">1234567890</span><span class="op" id="7599954">,</span>&nbsp;<span class="ident" id="7599956">B</span><span class="op" id="7599957">:</span>&nbsp;<span class="num" id="7599959">2.718281828</span><span class="op" id="7599970">,</span>&nbsp;<span class="ident" id="7599972">C</span><span class="op" id="7599973">:</span>&nbsp;<span class="num" id="7599975">42</span><span class="op" id="7599977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7599980">if</span>&nbsp;<span class="ident" id="7599983">err</span>&nbsp;<span class="op" id="7599987">:=</span>&nbsp;<span class="ident" id="7599990">Write</span><span class="op" id="7599995">(</span><span class="ident" id="7599996">buf</span><span class="op" id="7599999">,</span>&nbsp;<span class="ident" id="7600001">LittleEndian</span><span class="op" id="7600013">,</span>&nbsp;<span class="op" id="7600015">&amp;</span><span class="ident" id="7600016">b1</span><span class="op" id="7600018">)</span><span class="op" id="7600019">;</span>&nbsp;<span class="ident" id="7600021">err</span>&nbsp;<span class="op" id="7600025">!=</span>&nbsp;<span class="ident" id="7600028">nil</span>&nbsp;<span class="op" id="7600032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7600036">t</span><span class="op" id="7600037">.</span><span class="ident" id="7600038">Error</span><span class="op" id="7600043">(</span><span class="ident" id="7600044">err</span><span class="op" id="7600047">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7600050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7600054">//&nbsp;zero&nbsp;values&nbsp;must&nbsp;have&nbsp;been&nbsp;written&nbsp;for&nbsp;blank&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600110">var</span>&nbsp;<span class="ident" id="7600114">p</span>&nbsp;<span class="ident" id="7600116">BlankFieldsProbe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600134">if</span>&nbsp;<span class="ident" id="7600137">err</span>&nbsp;<span class="op" id="7600141">:=</span>&nbsp;<span class="ident" id="7600144">Read</span><span class="op" id="7600148">(</span><span class="ident" id="7600149">buf</span><span class="op" id="7600152">,</span>&nbsp;<span class="ident" id="7600154">LittleEndian</span><span class="op" id="7600166">,</span>&nbsp;<span class="op" id="7600168">&amp;</span><span class="ident" id="7600169">p</span><span class="op" id="7600170">)</span><span class="op" id="7600171">;</span>&nbsp;<span class="ident" id="7600173">err</span>&nbsp;<span class="op" id="7600177">!=</span>&nbsp;<span class="ident" id="7600180">nil</span>&nbsp;<span class="op" id="7600184">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7600188">t</span><span class="op" id="7600189">.</span><span class="ident" id="7600190">Error</span><span class="op" id="7600195">(</span><span class="ident" id="7600196">err</span><span class="op" id="7600199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7600202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7600206">//&nbsp;quick&nbsp;test:&nbsp;only&nbsp;check&nbsp;first&nbsp;value&nbsp;of&nbsp;slices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600255">if</span>&nbsp;<span class="ident" id="7600258">p</span><span class="op" id="7600259">.</span><span class="ident" id="7600260">P0</span>&nbsp;<span class="op" id="7600263">!=</span>&nbsp;<span class="num" id="7600266">0</span>&nbsp;<span class="op" id="7600268">||</span>&nbsp;<span class="ident" id="7600271">p</span><span class="op" id="7600272">.</span><span class="ident" id="7600273">P1</span><span class="op" id="7600275">[</span><span class="num" id="7600276">0</span><span class="op" id="7600277">]</span>&nbsp;<span class="op" id="7600279">!=</span>&nbsp;<span class="num" id="7600282">0</span>&nbsp;<span class="op" id="7600284">||</span>&nbsp;<span class="ident" id="7600287">p</span><span class="op" id="7600288">.</span><span class="ident" id="7600289">P2</span><span class="op" id="7600291">[</span><span class="num" id="7600292">0</span><span class="op" id="7600293">]</span>&nbsp;<span class="op" id="7600295">!=</span>&nbsp;<span class="num" id="7600298">0</span>&nbsp;<span class="op" id="7600300">||</span>&nbsp;<span class="ident" id="7600303">p</span><span class="op" id="7600304">.</span><span class="ident" id="7600305">P3</span><span class="op" id="7600307">.</span><span class="ident" id="7600308">F</span><span class="op" id="7600309">[</span><span class="num" id="7600310">0</span><span class="op" id="7600311">]</span>&nbsp;<span class="op" id="7600313">!=</span>&nbsp;<span class="num" id="7600316">0</span>&nbsp;<span class="op" id="7600318">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7600322">t</span><span class="op" id="7600323">.</span><span class="ident" id="7600324">Errorf</span><span class="op" id="7600330">(</span><span class="string" id="7600331">&#34;non-zero&nbsp;values&nbsp;for&nbsp;originally&nbsp;blank&nbsp;fields:&nbsp;%#v&#34;</span><span class="op" id="7600381">,</span>&nbsp;<span class="ident" id="7600383">p</span><span class="op" id="7600384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7600387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7600391">//&nbsp;write&nbsp;p&nbsp;and&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;probe&nbsp;only&nbsp;some&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600444">if</span>&nbsp;<span class="ident" id="7600447">err</span>&nbsp;<span class="op" id="7600451">:=</span>&nbsp;<span class="ident" id="7600454">Write</span><span class="op" id="7600459">(</span><span class="ident" id="7600460">buf</span><span class="op" id="7600463">,</span>&nbsp;<span class="ident" id="7600465">LittleEndian</span><span class="op" id="7600477">,</span>&nbsp;<span class="op" id="7600479">&amp;</span><span class="ident" id="7600480">p</span><span class="op" id="7600481">)</span><span class="op" id="7600482">;</span>&nbsp;<span class="ident" id="7600484">err</span>&nbsp;<span class="op" id="7600488">!=</span>&nbsp;<span class="ident" id="7600491">nil</span>&nbsp;<span class="op" id="7600495">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7600499">t</span><span class="op" id="7600500">.</span><span class="ident" id="7600501">Error</span><span class="op" id="7600506">(</span><span class="ident" id="7600507">err</span><span class="op" id="7600510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7600513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7600517">//&nbsp;read&nbsp;should&nbsp;ignore&nbsp;blank&nbsp;fields&nbsp;in&nbsp;b2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600559">var</span>&nbsp;<span class="ident" id="7600563">b2</span>&nbsp;<span class="ident" id="7600566">BlankFields</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600579">if</span>&nbsp;<span class="ident" id="7600582">err</span>&nbsp;<span class="op" id="7600586">:=</span>&nbsp;<span class="ident" id="7600589">Read</span><span class="op" id="7600593">(</span><span class="ident" id="7600594">buf</span><span class="op" id="7600597">,</span>&nbsp;<span class="ident" id="7600599">LittleEndian</span><span class="op" id="7600611">,</span>&nbsp;<span class="op" id="7600613">&amp;</span><span class="ident" id="7600614">b2</span><span class="op" id="7600616">)</span><span class="op" id="7600617">;</span>&nbsp;<span class="ident" id="7600619">err</span>&nbsp;<span class="op" id="7600623">!=</span>&nbsp;<span class="ident" id="7600626">nil</span>&nbsp;<span class="op" id="7600630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7600634">t</span><span class="op" id="7600635">.</span><span class="ident" id="7600636">Error</span><span class="op" id="7600641">(</span><span class="ident" id="7600642">err</span><span class="op" id="7600645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7600648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600651">if</span>&nbsp;<span class="ident" id="7600654">b1</span><span class="op" id="7600656">.</span><span class="ident" id="7600657">A</span>&nbsp;<span class="op" id="7600659">!=</span>&nbsp;<span class="ident" id="7600662">b2</span><span class="op" id="7600664">.</span><span class="ident" id="7600665">A</span>&nbsp;<span class="op" id="7600667">||</span>&nbsp;<span class="ident" id="7600670">b1</span><span class="op" id="7600672">.</span><span class="ident" id="7600673">B</span>&nbsp;<span class="op" id="7600675">!=</span>&nbsp;<span class="ident" id="7600678">b2</span><span class="op" id="7600680">.</span><span class="ident" id="7600681">B</span>&nbsp;<span class="op" id="7600683">||</span>&nbsp;<span class="ident" id="7600686">b1</span><span class="op" id="7600688">.</span><span class="ident" id="7600689">C</span>&nbsp;<span class="op" id="7600691">!=</span>&nbsp;<span class="ident" id="7600694">b2</span><span class="op" id="7600696">.</span><span class="ident" id="7600697">C</span>&nbsp;<span class="op" id="7600699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7600703">t</span><span class="op" id="7600704">.</span><span class="ident" id="7600705">Errorf</span><span class="op" id="7600711">(</span><span class="string" id="7600712">&#34;%#v&nbsp;!=&nbsp;%#v&#34;</span><span class="op" id="7600724">,</span>&nbsp;<span class="ident" id="7600726">b1</span><span class="op" id="7600728">,</span>&nbsp;<span class="ident" id="7600730">b2</span><span class="op" id="7600732">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7600735">}</span><br>
<span class="lineno"></span><span class="op" id="7600737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7600740">//&nbsp;An&nbsp;attempt&nbsp;to&nbsp;read&nbsp;into&nbsp;a&nbsp;struct&nbsp;with&nbsp;an&nbsp;unexported&nbsp;field&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="7600806">//&nbsp;panic.&nbsp;&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;best&nbsp;choice,&nbsp;but&nbsp;at&nbsp;this&nbsp;point</span><br>
<span class="lineno">270</span><span class="comment" id="7600873">//&nbsp;anything&nbsp;else&nbsp;would&nbsp;be&nbsp;an&nbsp;API&nbsp;change.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7600915">type</span>&nbsp;<span class="ident" id="7600920">Unexported</span>&nbsp;<span class="keyword" id="7600931">struct</span>&nbsp;<span class="op" id="7600938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7600941">a</span>&nbsp;<span class="builtintype" id="7600943">int32</span><br>
<span class="lineno"></span><span class="op" id="7600949">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="7600952">func</span>&nbsp;<span class="ident" id="7600957">TestUnexportedRead</span><span class="op" id="7600975">(</span><span class="ident" id="7600976">t</span>&nbsp;<span class="op" id="7600978">*</span><span class="ident" id="7600979">testing</span><span class="op" id="7600986">.</span><span class="ident" id="7600987">T</span><span class="op" id="7600988">)</span>&nbsp;<span class="op" id="7600990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7600993">var</span>&nbsp;<span class="ident" id="7600997">buf</span>&nbsp;<span class="ident" id="7601001">bytes</span><span class="op" id="7601006">.</span><span class="ident" id="7601007">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601015">u1</span>&nbsp;<span class="op" id="7601018">:=</span>&nbsp;<span class="ident" id="7601021">Unexported</span><span class="op" id="7601031">{</span><span class="ident" id="7601032">a</span><span class="op" id="7601033">:</span>&nbsp;<span class="num" id="7601035">1</span><span class="op" id="7601036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601039">if</span>&nbsp;<span class="ident" id="7601042">err</span>&nbsp;<span class="op" id="7601046">:=</span>&nbsp;<span class="ident" id="7601049">Write</span><span class="op" id="7601054">(</span><span class="op" id="7601055">&amp;</span><span class="ident" id="7601056">buf</span><span class="op" id="7601059">,</span>&nbsp;<span class="ident" id="7601061">LittleEndian</span><span class="op" id="7601073">,</span>&nbsp;<span class="op" id="7601075">&amp;</span><span class="ident" id="7601076">u1</span><span class="op" id="7601078">)</span><span class="op" id="7601079">;</span>&nbsp;<span class="ident" id="7601081">err</span>&nbsp;<span class="op" id="7601085">!=</span>&nbsp;<span class="ident" id="7601088">nil</span>&nbsp;<span class="op" id="7601092">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601096">t</span><span class="op" id="7601097">.</span><span class="ident" id="7601098">Fatal</span><span class="op" id="7601103">(</span><span class="ident" id="7601104">err</span><span class="op" id="7601107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7601110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601114">defer</span>&nbsp;<span class="keyword" id="7601120">func</span><span class="op" id="7601124">(</span><span class="op" id="7601125">)</span>&nbsp;<span class="op" id="7601127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601131">if</span>&nbsp;<span class="builtinfunc" id="7601134">recover</span><span class="op" id="7601141">(</span><span class="op" id="7601142">)</span>&nbsp;<span class="op" id="7601144">==</span>&nbsp;<span class="ident" id="7601147">nil</span>&nbsp;<span class="op" id="7601151">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601156">t</span><span class="op" id="7601157">.</span><span class="ident" id="7601158">Fatal</span><span class="op" id="7601163">(</span><span class="string" id="7601164">&#34;did&nbsp;not&nbsp;panic&#34;</span><span class="op" id="7601179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7601183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7601186">}</span><span class="op" id="7601187">(</span><span class="op" id="7601188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601191">var</span>&nbsp;<span class="ident" id="7601195">u2</span>&nbsp;<span class="ident" id="7601198">Unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601210">Read</span><span class="op" id="7601214">(</span><span class="op" id="7601215">&amp;</span><span class="ident" id="7601216">buf</span><span class="op" id="7601219">,</span>&nbsp;<span class="ident" id="7601221">LittleEndian</span><span class="op" id="7601233">,</span>&nbsp;<span class="op" id="7601235">&amp;</span><span class="ident" id="7601236">u2</span><span class="op" id="7601238">)</span><br>
<span class="lineno">290</span><span class="op" id="7601240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7601243">func</span>&nbsp;<span class="ident" id="7601248">TestReadErrorMsg</span><span class="op" id="7601264">(</span><span class="ident" id="7601265">t</span>&nbsp;<span class="op" id="7601267">*</span><span class="ident" id="7601268">testing</span><span class="op" id="7601275">.</span><span class="ident" id="7601276">T</span><span class="op" id="7601277">)</span>&nbsp;<span class="op" id="7601279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601282">var</span>&nbsp;<span class="ident" id="7601286">buf</span>&nbsp;<span class="ident" id="7601290">bytes</span><span class="op" id="7601295">.</span><span class="ident" id="7601296">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601304">read</span>&nbsp;<span class="op" id="7601309">:=</span>&nbsp;<span class="keyword" id="7601312">func</span><span class="op" id="7601316">(</span><span class="ident" id="7601317">data</span>&nbsp;<span class="keyword" id="7601322">interface</span><span class="op" id="7601331">{</span><span class="op" id="7601332">}</span><span class="op" id="7601333">)</span>&nbsp;<span class="op" id="7601335">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601339">err</span>&nbsp;<span class="op" id="7601343">:=</span>&nbsp;<span class="ident" id="7601346">Read</span><span class="op" id="7601350">(</span><span class="op" id="7601351">&amp;</span><span class="ident" id="7601352">buf</span><span class="op" id="7601355">,</span>&nbsp;<span class="ident" id="7601357">LittleEndian</span><span class="op" id="7601369">,</span>&nbsp;<span class="ident" id="7601371">data</span><span class="op" id="7601375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601379">want</span>&nbsp;<span class="op" id="7601384">:=</span>&nbsp;<span class="string" id="7601387">&#34;binary.Read:&nbsp;invalid&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="7601416">+</span>&nbsp;<span class="ident" id="7601418">reflect</span><span class="op" id="7601425">.</span><span class="ident" id="7601426">TypeOf</span><span class="op" id="7601432">(</span><span class="ident" id="7601433">data</span><span class="op" id="7601437">)</span><span class="op" id="7601438">.</span><span class="ident" id="7601439">String</span><span class="op" id="7601445">(</span><span class="op" id="7601446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601450">if</span>&nbsp;<span class="ident" id="7601453">err</span>&nbsp;<span class="op" id="7601457">==</span>&nbsp;<span class="ident" id="7601460">nil</span>&nbsp;<span class="op" id="7601464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601469">t</span><span class="op" id="7601470">.</span><span class="ident" id="7601471">Errorf</span><span class="op" id="7601477">(</span><span class="string" id="7601478">&#34;%T:&nbsp;got&nbsp;no&nbsp;error;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7601505">,</span>&nbsp;<span class="ident" id="7601507">data</span><span class="op" id="7601511">,</span>&nbsp;<span class="ident" id="7601513">want</span><span class="op" id="7601517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601522">return</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7601531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601535">if</span>&nbsp;<span class="ident" id="7601538">got</span>&nbsp;<span class="op" id="7601542">:=</span>&nbsp;<span class="ident" id="7601545">err</span><span class="op" id="7601548">.</span><span class="ident" id="7601549">Error</span><span class="op" id="7601554">(</span><span class="op" id="7601555">)</span><span class="op" id="7601556">;</span>&nbsp;<span class="ident" id="7601558">got</span>&nbsp;<span class="op" id="7601562">!=</span>&nbsp;<span class="ident" id="7601565">want</span>&nbsp;<span class="op" id="7601570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601575">t</span><span class="op" id="7601576">.</span><span class="ident" id="7601577">Errorf</span><span class="op" id="7601583">(</span><span class="string" id="7601584">&#34;%T:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7601605">,</span>&nbsp;<span class="ident" id="7601607">data</span><span class="op" id="7601611">,</span>&nbsp;<span class="ident" id="7601613">got</span><span class="op" id="7601616">,</span>&nbsp;<span class="ident" id="7601618">want</span><span class="op" id="7601622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7601626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7601629">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601632">read</span><span class="op" id="7601636">(</span><span class="num" id="7601637">0</span><span class="op" id="7601638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601641">s</span>&nbsp;<span class="op" id="7601643">:=</span>&nbsp;<span class="builtinfunc" id="7601646">new</span><span class="op" id="7601649">(</span><span class="keyword" id="7601650">struct</span><span class="op" id="7601656">{</span><span class="op" id="7601657">}</span><span class="op" id="7601658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601661">read</span><span class="op" id="7601665">(</span><span class="op" id="7601666">&amp;</span><span class="ident" id="7601667">s</span><span class="op" id="7601668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601671">p</span>&nbsp;<span class="op" id="7601673">:=</span>&nbsp;<span class="op" id="7601676">&amp;</span><span class="ident" id="7601677">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601680">read</span><span class="op" id="7601684">(</span><span class="op" id="7601685">&amp;</span><span class="ident" id="7601686">p</span><span class="op" id="7601687">)</span><br>
<span class="lineno">310</span><span class="op" id="7601689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7601692">type</span>&nbsp;<span class="ident" id="7601697">byteSliceReader</span>&nbsp;<span class="keyword" id="7601713">struct</span>&nbsp;<span class="op" id="7601720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601723">remain</span>&nbsp;<span class="op" id="7601730">[</span><span class="op" id="7601731">]</span><span class="builtintype" id="7601732">byte</span><br>
<span class="lineno"></span><span class="op" id="7601737">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="7601740">func</span>&nbsp;<span class="op" id="7601745">(</span><span class="ident" id="7601746">br</span>&nbsp;<span class="op" id="7601749">*</span><span class="ident" id="7601750">byteSliceReader</span><span class="op" id="7601765">)</span>&nbsp;<span class="ident" id="7601767">Read</span><span class="op" id="7601771">(</span><span class="ident" id="7601772">p</span>&nbsp;<span class="op" id="7601774">[</span><span class="op" id="7601775">]</span><span class="builtintype" id="7601776">byte</span><span class="op" id="7601780">)</span>&nbsp;<span class="op" id="7601782">(</span><span class="builtintype" id="7601783">int</span><span class="op" id="7601786">,</span>&nbsp;<span class="builtintype" id="7601788">error</span><span class="op" id="7601793">)</span>&nbsp;<span class="op" id="7601795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601798">n</span>&nbsp;<span class="op" id="7601800">:=</span>&nbsp;<span class="builtinfunc" id="7601803">copy</span><span class="op" id="7601807">(</span><span class="ident" id="7601808">p</span><span class="op" id="7601809">,</span>&nbsp;<span class="ident" id="7601811">br</span><span class="op" id="7601813">.</span><span class="ident" id="7601814">remain</span><span class="op" id="7601820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601823">br</span><span class="op" id="7601825">.</span><span class="ident" id="7601826">remain</span>&nbsp;<span class="op" id="7601833">=</span>&nbsp;<span class="ident" id="7601835">br</span><span class="op" id="7601837">.</span><span class="ident" id="7601838">remain</span><span class="op" id="7601844">[</span><span class="ident" id="7601845">n</span><span class="op" id="7601846">:</span><span class="op" id="7601847">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7601850">return</span>&nbsp;<span class="ident" id="7601857">n</span><span class="op" id="7601858">,</span>&nbsp;<span class="ident" id="7601860">nil</span><br>
<span class="lineno">320</span><span class="op" id="7601864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7601867">func</span>&nbsp;<span class="ident" id="7601872">BenchmarkReadSlice1000Int32s</span><span class="op" id="7601900">(</span><span class="ident" id="7601901">b</span>&nbsp;<span class="op" id="7601903">*</span><span class="ident" id="7601904">testing</span><span class="op" id="7601911">.</span><span class="ident" id="7601912">B</span><span class="op" id="7601913">)</span>&nbsp;<span class="op" id="7601915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601918">bsr</span>&nbsp;<span class="op" id="7601922">:=</span>&nbsp;<span class="op" id="7601925">&amp;</span><span class="ident" id="7601926">byteSliceReader</span><span class="op" id="7601941">{</span><span class="op" id="7601942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601945">slice</span>&nbsp;<span class="op" id="7601951">:=</span>&nbsp;<span class="builtinfunc" id="7601954">make</span><span class="op" id="7601958">(</span><span class="op" id="7601959">[</span><span class="op" id="7601960">]</span><span class="builtintype" id="7601961">int32</span><span class="op" id="7601966">,</span>&nbsp;<span class="num" id="7601968">1000</span><span class="op" id="7601972">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7601975">buf</span>&nbsp;<span class="op" id="7601979">:=</span>&nbsp;<span class="builtinfunc" id="7601982">make</span><span class="op" id="7601986">(</span><span class="op" id="7601987">[</span><span class="op" id="7601988">]</span><span class="builtintype" id="7601989">byte</span><span class="op" id="7601993">,</span>&nbsp;<span class="builtinfunc" id="7601995">len</span><span class="op" id="7601998">(</span><span class="ident" id="7601999">slice</span><span class="op" id="7602004">)</span><span class="op" id="7602005">*</span><span class="num" id="7602006">4</span><span class="op" id="7602007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602010">b</span><span class="op" id="7602011">.</span><span class="ident" id="7602012">SetBytes</span><span class="op" id="7602020">(</span><span class="ident" id="7602021">int64</span><span class="op" id="7602026">(</span><span class="builtinfunc" id="7602027">len</span><span class="op" id="7602030">(</span><span class="ident" id="7602031">buf</span><span class="op" id="7602034">)</span><span class="op" id="7602035">)</span><span class="op" id="7602036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602039">b</span><span class="op" id="7602040">.</span><span class="ident" id="7602041">ResetTimer</span><span class="op" id="7602051">(</span><span class="op" id="7602052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7602055">for</span>&nbsp;<span class="ident" id="7602059">i</span>&nbsp;<span class="op" id="7602061">:=</span>&nbsp;<span class="num" id="7602064">0</span><span class="op" id="7602065">;</span>&nbsp;<span class="ident" id="7602067">i</span>&nbsp;<span class="op" id="7602069">&lt;</span>&nbsp;<span class="ident" id="7602071">b</span><span class="op" id="7602072">.</span><span class="ident" id="7602073">N</span><span class="op" id="7602074">;</span>&nbsp;<span class="ident" id="7602076">i</span><span class="op" id="7602077">++</span>&nbsp;<span class="op" id="7602080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602084">bsr</span><span class="op" id="7602087">.</span><span class="ident" id="7602088">remain</span>&nbsp;<span class="op" id="7602095">=</span>&nbsp;<span class="ident" id="7602097">buf</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602103">Read</span><span class="op" id="7602107">(</span><span class="ident" id="7602108">bsr</span><span class="op" id="7602111">,</span>&nbsp;<span class="ident" id="7602113">BigEndian</span><span class="op" id="7602122">,</span>&nbsp;<span class="ident" id="7602124">slice</span><span class="op" id="7602129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7602132">}</span><br>
<span class="lineno"></span><span class="op" id="7602134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7602137">func</span>&nbsp;<span class="ident" id="7602142">BenchmarkReadStruct</span><span class="op" id="7602161">(</span><span class="ident" id="7602162">b</span>&nbsp;<span class="op" id="7602164">*</span><span class="ident" id="7602165">testing</span><span class="op" id="7602172">.</span><span class="ident" id="7602173">B</span><span class="op" id="7602174">)</span>&nbsp;<span class="op" id="7602176">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602179">bsr</span>&nbsp;<span class="op" id="7602183">:=</span>&nbsp;<span class="op" id="7602186">&amp;</span><span class="ident" id="7602187">byteSliceReader</span><span class="op" id="7602202">{</span><span class="op" id="7602203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7602206">var</span>&nbsp;<span class="ident" id="7602210">buf</span>&nbsp;<span class="ident" id="7602214">bytes</span><span class="op" id="7602219">.</span><span class="ident" id="7602220">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602228">Write</span><span class="op" id="7602233">(</span><span class="op" id="7602234">&amp;</span><span class="ident" id="7602235">buf</span><span class="op" id="7602238">,</span>&nbsp;<span class="ident" id="7602240">BigEndian</span><span class="op" id="7602249">,</span>&nbsp;<span class="op" id="7602251">&amp;</span><span class="ident" id="7602252">s</span><span class="op" id="7602253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602256">b</span><span class="op" id="7602257">.</span><span class="ident" id="7602258">SetBytes</span><span class="op" id="7602266">(</span><span class="ident" id="7602267">int64</span><span class="op" id="7602272">(</span><span class="ident" id="7602273">dataSize</span><span class="op" id="7602281">(</span><span class="ident" id="7602282">reflect</span><span class="op" id="7602289">.</span><span class="ident" id="7602290">ValueOf</span><span class="op" id="7602297">(</span><span class="ident" id="7602298">s</span><span class="op" id="7602299">)</span><span class="op" id="7602300">)</span><span class="op" id="7602301">)</span><span class="op" id="7602302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602305">t</span>&nbsp;<span class="op" id="7602307">:=</span>&nbsp;<span class="ident" id="7602310">s</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602313">b</span><span class="op" id="7602314">.</span><span class="ident" id="7602315">ResetTimer</span><span class="op" id="7602325">(</span><span class="op" id="7602326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7602329">for</span>&nbsp;<span class="ident" id="7602333">i</span>&nbsp;<span class="op" id="7602335">:=</span>&nbsp;<span class="num" id="7602338">0</span><span class="op" id="7602339">;</span>&nbsp;<span class="ident" id="7602341">i</span>&nbsp;<span class="op" id="7602343">&lt;</span>&nbsp;<span class="ident" id="7602345">b</span><span class="op" id="7602346">.</span><span class="ident" id="7602347">N</span><span class="op" id="7602348">;</span>&nbsp;<span class="ident" id="7602350">i</span><span class="op" id="7602351">++</span>&nbsp;<span class="op" id="7602354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602358">bsr</span><span class="op" id="7602361">.</span><span class="ident" id="7602362">remain</span>&nbsp;<span class="op" id="7602369">=</span>&nbsp;<span class="ident" id="7602371">buf</span><span class="op" id="7602374">.</span><span class="ident" id="7602375">Bytes</span><span class="op" id="7602380">(</span><span class="op" id="7602381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602385">Read</span><span class="op" id="7602389">(</span><span class="ident" id="7602390">bsr</span><span class="op" id="7602393">,</span>&nbsp;<span class="ident" id="7602395">BigEndian</span><span class="op" id="7602404">,</span>&nbsp;<span class="op" id="7602406">&amp;</span><span class="ident" id="7602407">t</span><span class="op" id="7602408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7602411">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602414">b</span><span class="op" id="7602415">.</span><span class="ident" id="7602416">StopTimer</span><span class="op" id="7602425">(</span><span class="op" id="7602426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7602429">if</span>&nbsp;<span class="op" id="7602432">!</span><span class="ident" id="7602433">reflect</span><span class="op" id="7602440">.</span><span class="ident" id="7602441">DeepEqual</span><span class="op" id="7602450">(</span><span class="ident" id="7602451">s</span><span class="op" id="7602452">,</span>&nbsp;<span class="ident" id="7602454">t</span><span class="op" id="7602455">)</span>&nbsp;<span class="op" id="7602457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602461">b</span><span class="op" id="7602462">.</span><span class="ident" id="7602463">Fatal</span><span class="op" id="7602468">(</span><span class="string" id="7602469">&#34;no&nbsp;match&#34;</span><span class="op" id="7602479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7602482">}</span><br>
<span class="lineno"></span><span class="op" id="7602484">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7602487">func</span>&nbsp;<span class="ident" id="7602492">BenchmarkReadInts</span><span class="op" id="7602509">(</span><span class="ident" id="7602510">b</span>&nbsp;<span class="op" id="7602512">*</span><span class="ident" id="7602513">testing</span><span class="op" id="7602520">.</span><span class="ident" id="7602521">B</span><span class="op" id="7602522">)</span>&nbsp;<span class="op" id="7602524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7602527">var</span>&nbsp;<span class="ident" id="7602531">ls</span>&nbsp;<span class="ident" id="7602534">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602542">bsr</span>&nbsp;<span class="op" id="7602546">:=</span>&nbsp;<span class="op" id="7602549">&amp;</span><span class="ident" id="7602550">byteSliceReader</span><span class="op" id="7602565">{</span><span class="op" id="7602566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7602569">var</span>&nbsp;<span class="ident" id="7602573">r</span>&nbsp;<span class="ident" id="7602575">io</span><span class="op" id="7602577">.</span><span class="ident" id="7602578">Reader</span>&nbsp;<span class="op" id="7602585">=</span>&nbsp;<span class="ident" id="7602587">bsr</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602592">b</span><span class="op" id="7602593">.</span><span class="ident" id="7602594">SetBytes</span><span class="op" id="7602602">(</span><span class="num" id="7602603">2</span>&nbsp;<span class="op" id="7602605">*</span>&nbsp;<span class="op" id="7602607">(</span><span class="num" id="7602608">1</span>&nbsp;<span class="op" id="7602610">+</span>&nbsp;<span class="num" id="7602612">2</span>&nbsp;<span class="op" id="7602614">+</span>&nbsp;<span class="num" id="7602616">4</span>&nbsp;<span class="op" id="7602618">+</span>&nbsp;<span class="num" id="7602620">8</span><span class="op" id="7602621">)</span><span class="op" id="7602622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602625">b</span><span class="op" id="7602626">.</span><span class="ident" id="7602627">ResetTimer</span><span class="op" id="7602637">(</span><span class="op" id="7602638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7602641">for</span>&nbsp;<span class="ident" id="7602645">i</span>&nbsp;<span class="op" id="7602647">:=</span>&nbsp;<span class="num" id="7602650">0</span><span class="op" id="7602651">;</span>&nbsp;<span class="ident" id="7602653">i</span>&nbsp;<span class="op" id="7602655">&lt;</span>&nbsp;<span class="ident" id="7602657">b</span><span class="op" id="7602658">.</span><span class="ident" id="7602659">N</span><span class="op" id="7602660">;</span>&nbsp;<span class="ident" id="7602662">i</span><span class="op" id="7602663">++</span>&nbsp;<span class="op" id="7602666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602670">bsr</span><span class="op" id="7602673">.</span><span class="ident" id="7602674">remain</span>&nbsp;<span class="op" id="7602681">=</span>&nbsp;<span class="ident" id="7602683">big</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602689">Read</span><span class="op" id="7602693">(</span><span class="ident" id="7602694">r</span><span class="op" id="7602695">,</span>&nbsp;<span class="ident" id="7602697">BigEndian</span><span class="op" id="7602706">,</span>&nbsp;<span class="op" id="7602708">&amp;</span><span class="ident" id="7602709">ls</span><span class="op" id="7602711">.</span><span class="ident" id="7602712">Int8</span><span class="op" id="7602716">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602720">Read</span><span class="op" id="7602724">(</span><span class="ident" id="7602725">r</span><span class="op" id="7602726">,</span>&nbsp;<span class="ident" id="7602728">BigEndian</span><span class="op" id="7602737">,</span>&nbsp;<span class="op" id="7602739">&amp;</span><span class="ident" id="7602740">ls</span><span class="op" id="7602742">.</span><span class="ident" id="7602743">Int16</span><span class="op" id="7602748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602752">Read</span><span class="op" id="7602756">(</span><span class="ident" id="7602757">r</span><span class="op" id="7602758">,</span>&nbsp;<span class="ident" id="7602760">BigEndian</span><span class="op" id="7602769">,</span>&nbsp;<span class="op" id="7602771">&amp;</span><span class="ident" id="7602772">ls</span><span class="op" id="7602774">.</span><span class="ident" id="7602775">Int32</span><span class="op" id="7602780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602784">Read</span><span class="op" id="7602788">(</span><span class="ident" id="7602789">r</span><span class="op" id="7602790">,</span>&nbsp;<span class="ident" id="7602792">BigEndian</span><span class="op" id="7602801">,</span>&nbsp;<span class="op" id="7602803">&amp;</span><span class="ident" id="7602804">ls</span><span class="op" id="7602806">.</span><span class="ident" id="7602807">Int64</span><span class="op" id="7602812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602816">Read</span><span class="op" id="7602820">(</span><span class="ident" id="7602821">r</span><span class="op" id="7602822">,</span>&nbsp;<span class="ident" id="7602824">BigEndian</span><span class="op" id="7602833">,</span>&nbsp;<span class="op" id="7602835">&amp;</span><span class="ident" id="7602836">ls</span><span class="op" id="7602838">.</span><span class="ident" id="7602839">Uint8</span><span class="op" id="7602844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602848">Read</span><span class="op" id="7602852">(</span><span class="ident" id="7602853">r</span><span class="op" id="7602854">,</span>&nbsp;<span class="ident" id="7602856">BigEndian</span><span class="op" id="7602865">,</span>&nbsp;<span class="op" id="7602867">&amp;</span><span class="ident" id="7602868">ls</span><span class="op" id="7602870">.</span><span class="ident" id="7602871">Uint16</span><span class="op" id="7602877">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602881">Read</span><span class="op" id="7602885">(</span><span class="ident" id="7602886">r</span><span class="op" id="7602887">,</span>&nbsp;<span class="ident" id="7602889">BigEndian</span><span class="op" id="7602898">,</span>&nbsp;<span class="op" id="7602900">&amp;</span><span class="ident" id="7602901">ls</span><span class="op" id="7602903">.</span><span class="ident" id="7602904">Uint32</span><span class="op" id="7602910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602914">Read</span><span class="op" id="7602918">(</span><span class="ident" id="7602919">r</span><span class="op" id="7602920">,</span>&nbsp;<span class="ident" id="7602922">BigEndian</span><span class="op" id="7602931">,</span>&nbsp;<span class="op" id="7602933">&amp;</span><span class="ident" id="7602934">ls</span><span class="op" id="7602936">.</span><span class="ident" id="7602937">Uint64</span><span class="op" id="7602943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7602946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602950">want</span>&nbsp;<span class="op" id="7602955">:=</span>&nbsp;<span class="ident" id="7602958">s</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602961">want</span><span class="op" id="7602965">.</span><span class="ident" id="7602966">Float32</span>&nbsp;<span class="op" id="7602974">=</span>&nbsp;<span class="num" id="7602976">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602979">want</span><span class="op" id="7602983">.</span><span class="ident" id="7602984">Float64</span>&nbsp;<span class="op" id="7602992">=</span>&nbsp;<span class="num" id="7602994">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7602997">want</span><span class="op" id="7603001">.</span><span class="ident" id="7603002">Complex64</span>&nbsp;<span class="op" id="7603012">=</span>&nbsp;<span class="num" id="7603014">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603017">want</span><span class="op" id="7603021">.</span><span class="ident" id="7603022">Complex128</span>&nbsp;<span class="op" id="7603033">=</span>&nbsp;<span class="num" id="7603035">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7603038">for</span>&nbsp;<span class="ident" id="7603042">i</span>&nbsp;<span class="op" id="7603044">:=</span>&nbsp;<span class="keyword" id="7603047">range</span>&nbsp;<span class="ident" id="7603053">want</span><span class="op" id="7603057">.</span><span class="ident" id="7603058">Array</span>&nbsp;<span class="op" id="7603064">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603068">want</span><span class="op" id="7603072">.</span><span class="ident" id="7603073">Array</span><span class="op" id="7603078">[</span><span class="ident" id="7603079">i</span><span class="op" id="7603080">]</span>&nbsp;<span class="op" id="7603082">=</span>&nbsp;<span class="num" id="7603084">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7603087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603090">b</span><span class="op" id="7603091">.</span><span class="ident" id="7603092">StopTimer</span><span class="op" id="7603101">(</span><span class="op" id="7603102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7603105">if</span>&nbsp;<span class="op" id="7603108">!</span><span class="ident" id="7603109">reflect</span><span class="op" id="7603116">.</span><span class="ident" id="7603117">DeepEqual</span><span class="op" id="7603126">(</span><span class="ident" id="7603127">ls</span><span class="op" id="7603129">,</span>&nbsp;<span class="ident" id="7603131">want</span><span class="op" id="7603135">)</span>&nbsp;<span class="op" id="7603137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7603141">panic</span><span class="op" id="7603146">(</span><span class="string" id="7603147">&#34;no&nbsp;match&#34;</span><span class="op" id="7603157">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7603160">}</span><br>
<span class="lineno"></span><span class="op" id="7603162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7603165">func</span>&nbsp;<span class="ident" id="7603170">BenchmarkWriteInts</span><span class="op" id="7603188">(</span><span class="ident" id="7603189">b</span>&nbsp;<span class="op" id="7603191">*</span><span class="ident" id="7603192">testing</span><span class="op" id="7603199">.</span><span class="ident" id="7603200">B</span><span class="op" id="7603201">)</span>&nbsp;<span class="op" id="7603203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603206">buf</span>&nbsp;<span class="op" id="7603210">:=</span>&nbsp;<span class="builtinfunc" id="7603213">new</span><span class="op" id="7603216">(</span><span class="ident" id="7603217">bytes</span><span class="op" id="7603222">.</span><span class="ident" id="7603223">Buffer</span><span class="op" id="7603229">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7603232">var</span>&nbsp;<span class="ident" id="7603236">w</span>&nbsp;<span class="ident" id="7603238">io</span><span class="op" id="7603240">.</span><span class="ident" id="7603241">Writer</span>&nbsp;<span class="op" id="7603248">=</span>&nbsp;<span class="ident" id="7603250">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603255">b</span><span class="op" id="7603256">.</span><span class="ident" id="7603257">SetBytes</span><span class="op" id="7603265">(</span><span class="num" id="7603266">2</span>&nbsp;<span class="op" id="7603268">*</span>&nbsp;<span class="op" id="7603270">(</span><span class="num" id="7603271">1</span>&nbsp;<span class="op" id="7603273">+</span>&nbsp;<span class="num" id="7603275">2</span>&nbsp;<span class="op" id="7603277">+</span>&nbsp;<span class="num" id="7603279">4</span>&nbsp;<span class="op" id="7603281">+</span>&nbsp;<span class="num" id="7603283">8</span><span class="op" id="7603284">)</span><span class="op" id="7603285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603288">b</span><span class="op" id="7603289">.</span><span class="ident" id="7603290">ResetTimer</span><span class="op" id="7603300">(</span><span class="op" id="7603301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7603304">for</span>&nbsp;<span class="ident" id="7603308">i</span>&nbsp;<span class="op" id="7603310">:=</span>&nbsp;<span class="num" id="7603313">0</span><span class="op" id="7603314">;</span>&nbsp;<span class="ident" id="7603316">i</span>&nbsp;<span class="op" id="7603318">&lt;</span>&nbsp;<span class="ident" id="7603320">b</span><span class="op" id="7603321">.</span><span class="ident" id="7603322">N</span><span class="op" id="7603323">;</span>&nbsp;<span class="ident" id="7603325">i</span><span class="op" id="7603326">++</span>&nbsp;<span class="op" id="7603329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603333">buf</span><span class="op" id="7603336">.</span><span class="ident" id="7603337">Reset</span><span class="op" id="7603342">(</span><span class="op" id="7603343">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603347">Write</span><span class="op" id="7603352">(</span><span class="ident" id="7603353">w</span><span class="op" id="7603354">,</span>&nbsp;<span class="ident" id="7603356">BigEndian</span><span class="op" id="7603365">,</span>&nbsp;<span class="ident" id="7603367">s</span><span class="op" id="7603368">.</span><span class="ident" id="7603369">Int8</span><span class="op" id="7603373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603377">Write</span><span class="op" id="7603382">(</span><span class="ident" id="7603383">w</span><span class="op" id="7603384">,</span>&nbsp;<span class="ident" id="7603386">BigEndian</span><span class="op" id="7603395">,</span>&nbsp;<span class="ident" id="7603397">s</span><span class="op" id="7603398">.</span><span class="ident" id="7603399">Int16</span><span class="op" id="7603404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603408">Write</span><span class="op" id="7603413">(</span><span class="ident" id="7603414">w</span><span class="op" id="7603415">,</span>&nbsp;<span class="ident" id="7603417">BigEndian</span><span class="op" id="7603426">,</span>&nbsp;<span class="ident" id="7603428">s</span><span class="op" id="7603429">.</span><span class="ident" id="7603430">Int32</span><span class="op" id="7603435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603439">Write</span><span class="op" id="7603444">(</span><span class="ident" id="7603445">w</span><span class="op" id="7603446">,</span>&nbsp;<span class="ident" id="7603448">BigEndian</span><span class="op" id="7603457">,</span>&nbsp;<span class="ident" id="7603459">s</span><span class="op" id="7603460">.</span><span class="ident" id="7603461">Int64</span><span class="op" id="7603466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603470">Write</span><span class="op" id="7603475">(</span><span class="ident" id="7603476">w</span><span class="op" id="7603477">,</span>&nbsp;<span class="ident" id="7603479">BigEndian</span><span class="op" id="7603488">,</span>&nbsp;<span class="ident" id="7603490">s</span><span class="op" id="7603491">.</span><span class="ident" id="7603492">Uint8</span><span class="op" id="7603497">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603501">Write</span><span class="op" id="7603506">(</span><span class="ident" id="7603507">w</span><span class="op" id="7603508">,</span>&nbsp;<span class="ident" id="7603510">BigEndian</span><span class="op" id="7603519">,</span>&nbsp;<span class="ident" id="7603521">s</span><span class="op" id="7603522">.</span><span class="ident" id="7603523">Uint16</span><span class="op" id="7603529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603533">Write</span><span class="op" id="7603538">(</span><span class="ident" id="7603539">w</span><span class="op" id="7603540">,</span>&nbsp;<span class="ident" id="7603542">BigEndian</span><span class="op" id="7603551">,</span>&nbsp;<span class="ident" id="7603553">s</span><span class="op" id="7603554">.</span><span class="ident" id="7603555">Uint32</span><span class="op" id="7603561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603565">Write</span><span class="op" id="7603570">(</span><span class="ident" id="7603571">w</span><span class="op" id="7603572">,</span>&nbsp;<span class="ident" id="7603574">BigEndian</span><span class="op" id="7603583">,</span>&nbsp;<span class="ident" id="7603585">s</span><span class="op" id="7603586">.</span><span class="ident" id="7603587">Uint64</span><span class="op" id="7603593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7603596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603599">b</span><span class="op" id="7603600">.</span><span class="ident" id="7603601">StopTimer</span><span class="op" id="7603610">(</span><span class="op" id="7603611">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7603614">if</span>&nbsp;<span class="op" id="7603617">!</span><span class="ident" id="7603618">bytes</span><span class="op" id="7603623">.</span><span class="ident" id="7603624">Equal</span><span class="op" id="7603629">(</span><span class="ident" id="7603630">buf</span><span class="op" id="7603633">.</span><span class="ident" id="7603634">Bytes</span><span class="op" id="7603639">(</span><span class="op" id="7603640">)</span><span class="op" id="7603641">,</span>&nbsp;<span class="ident" id="7603643">big</span><span class="op" id="7603646">[</span><span class="op" id="7603647">:</span><span class="num" id="7603648">30</span><span class="op" id="7603650">]</span><span class="op" id="7603651">)</span>&nbsp;<span class="op" id="7603653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603657">b</span><span class="op" id="7603658">.</span><span class="ident" id="7603659">Fatalf</span><span class="op" id="7603665">(</span><span class="string" id="7603666">&#34;first&nbsp;half&nbsp;doesn&#39;t&nbsp;match:&nbsp;%x&nbsp;%x&#34;</span><span class="op" id="7603699">,</span>&nbsp;<span class="ident" id="7603701">buf</span><span class="op" id="7603704">.</span><span class="ident" id="7603705">Bytes</span><span class="op" id="7603710">(</span><span class="op" id="7603711">)</span><span class="op" id="7603712">,</span>&nbsp;<span class="ident" id="7603714">big</span><span class="op" id="7603717">[</span><span class="op" id="7603718">:</span><span class="num" id="7603719">30</span><span class="op" id="7603721">]</span><span class="op" id="7603722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7603725">}</span><br>
<span class="lineno"></span><span class="op" id="7603727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7603730">func</span>&nbsp;<span class="ident" id="7603735">BenchmarkWriteSlice1000Int32s</span><span class="op" id="7603764">(</span><span class="ident" id="7603765">b</span>&nbsp;<span class="op" id="7603767">*</span><span class="ident" id="7603768">testing</span><span class="op" id="7603775">.</span><span class="ident" id="7603776">B</span><span class="op" id="7603777">)</span>&nbsp;<span class="op" id="7603779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603782">slice</span>&nbsp;<span class="op" id="7603788">:=</span>&nbsp;<span class="builtinfunc" id="7603791">make</span><span class="op" id="7603795">(</span><span class="op" id="7603796">[</span><span class="op" id="7603797">]</span><span class="builtintype" id="7603798">int32</span><span class="op" id="7603803">,</span>&nbsp;<span class="num" id="7603805">1000</span><span class="op" id="7603809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603812">buf</span>&nbsp;<span class="op" id="7603816">:=</span>&nbsp;<span class="builtinfunc" id="7603819">new</span><span class="op" id="7603822">(</span><span class="ident" id="7603823">bytes</span><span class="op" id="7603828">.</span><span class="ident" id="7603829">Buffer</span><span class="op" id="7603835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7603838">var</span>&nbsp;<span class="ident" id="7603842">w</span>&nbsp;<span class="ident" id="7603844">io</span><span class="op" id="7603846">.</span><span class="ident" id="7603847">Writer</span>&nbsp;<span class="op" id="7603854">=</span>&nbsp;<span class="ident" id="7603856">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603861">b</span><span class="op" id="7603862">.</span><span class="ident" id="7603863">SetBytes</span><span class="op" id="7603871">(</span><span class="num" id="7603872">4</span>&nbsp;<span class="op" id="7603874">*</span>&nbsp;<span class="num" id="7603876">1000</span><span class="op" id="7603880">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603883">b</span><span class="op" id="7603884">.</span><span class="ident" id="7603885">ResetTimer</span><span class="op" id="7603895">(</span><span class="op" id="7603896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7603899">for</span>&nbsp;<span class="ident" id="7603903">i</span>&nbsp;<span class="op" id="7603905">:=</span>&nbsp;<span class="num" id="7603908">0</span><span class="op" id="7603909">;</span>&nbsp;<span class="ident" id="7603911">i</span>&nbsp;<span class="op" id="7603913">&lt;</span>&nbsp;<span class="ident" id="7603915">b</span><span class="op" id="7603916">.</span><span class="ident" id="7603917">N</span><span class="op" id="7603918">;</span>&nbsp;<span class="ident" id="7603920">i</span><span class="op" id="7603921">++</span>&nbsp;<span class="op" id="7603924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603928">buf</span><span class="op" id="7603931">.</span><span class="ident" id="7603932">Reset</span><span class="op" id="7603937">(</span><span class="op" id="7603938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603942">Write</span><span class="op" id="7603947">(</span><span class="ident" id="7603948">w</span><span class="op" id="7603949">,</span>&nbsp;<span class="ident" id="7603951">BigEndian</span><span class="op" id="7603960">,</span>&nbsp;<span class="ident" id="7603962">slice</span><span class="op" id="7603967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7603970">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7603973">b</span><span class="op" id="7603974">.</span><span class="ident" id="7603975">StopTimer</span><span class="op" id="7603984">(</span><span class="op" id="7603985">)</span><br>
<span class="lineno"></span><span class="op" id="7603987">}</span>
</div>
</body>
</html>
