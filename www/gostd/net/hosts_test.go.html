<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html" class="current">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6665637">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6665692">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6665746">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6665797">package</span>&nbsp;<span class="ident" id="6665805">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6665810">import</span>&nbsp;<span class="op" id="6665817">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6665820">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6665828">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6665838">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6665841">type</span>&nbsp;<span class="ident" id="6665846">hostTest</span>&nbsp;<span class="keyword" id="6665855">struct</span>&nbsp;<span class="op" id="6665862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6665865">host</span>&nbsp;<span class="builtintype" id="6665870">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6665878">ips</span>&nbsp;&nbsp;<span class="op" id="6665883">[</span><span class="op" id="6665884">]</span><span class="ident" id="6665885"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><br>
<span class="lineno">15</span><span class="op" id="6665888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6665891">var</span>&nbsp;<span class="ident" id="6665895">hosttests</span>&nbsp;<span class="op" id="6665905">=</span>&nbsp;<span class="op" id="6665907">[</span><span class="op" id="6665908">]</span><span class="ident" id="6665909"><a href="/gostd/net/hosts_test.go.html#6665846">hostTest</a></span><span class="op" id="6665917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6665920">{</span><span class="string" id="6665921">&#34;odin&#34;</span><span class="op" id="6665927">,</span>&nbsp;<span class="op" id="6665929">[</span><span class="op" id="6665930">]</span><span class="ident" id="6665931"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="6665933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6665937"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6665941">(</span><span class="num" id="6665942">127</span><span class="op" id="6665945">,</span>&nbsp;<span class="num" id="6665947">0</span><span class="op" id="6665948">,</span>&nbsp;<span class="num" id="6665950">0</span><span class="op" id="6665951">,</span>&nbsp;<span class="num" id="6665953">2</span><span class="op" id="6665954">)</span><span class="op" id="6665955">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6665959"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6665963">(</span><span class="num" id="6665964">127</span><span class="op" id="6665967">,</span>&nbsp;<span class="num" id="6665969">0</span><span class="op" id="6665970">,</span>&nbsp;<span class="num" id="6665972">0</span><span class="op" id="6665973">,</span>&nbsp;<span class="num" id="6665975">3</span><span class="op" id="6665976">)</span><span class="op" id="6665977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6665981"><a href="/gostd/net/ip.go.html#3299857">ParseIP</a></span><span class="op" id="6665988">(</span><span class="string" id="6665989">&#34;::2&#34;</span><span class="op" id="6665994">)</span><span class="op" id="6665995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6665998">}</span><span class="op" id="6665999">}</span><span class="op" id="6666000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666003">{</span><span class="string" id="6666004">&#34;thor&#34;</span><span class="op" id="6666010">,</span>&nbsp;<span class="op" id="6666012">[</span><span class="op" id="6666013">]</span><span class="ident" id="6666014"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="6666016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666020"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6666024">(</span><span class="num" id="6666025">127</span><span class="op" id="6666028">,</span>&nbsp;<span class="num" id="6666030">1</span><span class="op" id="6666031">,</span>&nbsp;<span class="num" id="6666033">1</span><span class="op" id="6666034">,</span>&nbsp;<span class="num" id="6666036">1</span><span class="op" id="6666037">)</span><span class="op" id="6666038">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666041">}</span><span class="op" id="6666042">}</span><span class="op" id="6666043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666046">{</span><span class="string" id="6666047">&#34;loki&#34;</span><span class="op" id="6666053">,</span>&nbsp;<span class="op" id="6666055">[</span><span class="op" id="6666056">]</span><span class="ident" id="6666057"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="6666059">{</span><span class="op" id="6666060">}</span><span class="op" id="6666061">}</span><span class="op" id="6666062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666065">{</span><span class="string" id="6666066">&#34;ullr&#34;</span><span class="op" id="6666072">,</span>&nbsp;<span class="op" id="6666074">[</span><span class="op" id="6666075">]</span><span class="ident" id="6666076"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="6666078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666082"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6666086">(</span><span class="num" id="6666087">127</span><span class="op" id="6666090">,</span>&nbsp;<span class="num" id="6666092">1</span><span class="op" id="6666093">,</span>&nbsp;<span class="num" id="6666095">1</span><span class="op" id="6666096">,</span>&nbsp;<span class="num" id="6666098">2</span><span class="op" id="6666099">)</span><span class="op" id="6666100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666103">}</span><span class="op" id="6666104">}</span><span class="op" id="6666105">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666108">{</span><span class="string" id="6666109">&#34;ullrhost&#34;</span><span class="op" id="6666119">,</span>&nbsp;<span class="op" id="6666121">[</span><span class="op" id="6666122">]</span><span class="ident" id="6666123"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="6666125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666129"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6666133">(</span><span class="num" id="6666134">127</span><span class="op" id="6666137">,</span>&nbsp;<span class="num" id="6666139">1</span><span class="op" id="6666140">,</span>&nbsp;<span class="num" id="6666142">1</span><span class="op" id="6666143">,</span>&nbsp;<span class="num" id="6666145">2</span><span class="op" id="6666146">)</span><span class="op" id="6666147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666150">}</span><span class="op" id="6666151">}</span><span class="op" id="6666152">,</span><br>
<span class="lineno"></span><span class="op" id="6666154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="6666157">func</span>&nbsp;<span class="ident" id="6666162">TestLookupStaticHost</span><span class="op" id="6666182">(</span><span class="ident" id="6666183">t</span>&nbsp;<span class="op" id="6666185">*</span><span class="ident" id="6666186"><a href="/gostd/net/hosts_test.go.html#6665828">testing</a></span><span class="op" id="6666193">.</span><span class="ident" id="6666194"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6666195">)</span>&nbsp;<span class="op" id="6666197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666200">p</span>&nbsp;<span class="op" id="6666202">:=</span>&nbsp;<span class="ident" id="6666205"><a href="/gostd/net/hosts.go.html#3273230">hostsPath</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666216"><a href="/gostd/net/hosts.go.html#3273230">hostsPath</a></span>&nbsp;<span class="op" id="6666226">=</span>&nbsp;<span class="string" id="6666228">&#34;testdata/hosts&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6666246">for</span>&nbsp;<span class="ident" id="6666250">i</span>&nbsp;<span class="op" id="6666252">:=</span>&nbsp;<span class="num" id="6666255">0</span><span class="op" id="6666256">;</span>&nbsp;<span class="ident" id="6666258"><a href="/gostd/net/hosts_test.go.html#6666250">i</a></span>&nbsp;<span class="op" id="6666260">&lt;</span>&nbsp;<span class="builtinfunc" id="6666262">len</span><span class="op" id="6666265">(</span><span class="ident" id="6666266"><a href="/gostd/net/hosts_test.go.html#6665895">hosttests</a></span><span class="op" id="6666275">)</span><span class="op" id="6666276">;</span>&nbsp;<span class="ident" id="6666278"><a href="/gostd/net/hosts_test.go.html#6666250">i</a></span><span class="op" id="6666279">++</span>&nbsp;<span class="op" id="6666282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666286">tt</span>&nbsp;<span class="op" id="6666289">:=</span>&nbsp;<span class="ident" id="6666292"><a href="/gostd/net/hosts_test.go.html#6665895">hosttests</a></span><span class="op" id="6666301">[</span><span class="ident" id="6666302"><a href="/gostd/net/hosts_test.go.html#6666250">i</a></span><span class="op" id="6666303">]</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666307">ips</span>&nbsp;<span class="op" id="6666311">:=</span>&nbsp;<span class="ident" id="6666314"><a href="/gostd/net/hosts.go.html#3274263">lookupStaticHost</a></span><span class="op" id="6666330">(</span><span class="ident" id="6666331"><a href="/gostd/net/hosts_test.go.html#6666286">tt</a></span><span class="op" id="6666333">.</span><span class="ident" id="6666334"><a href="/gostd/net/hosts_test.go.html#6665865">host</a></span><span class="op" id="6666338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6666342">if</span>&nbsp;<span class="builtinfunc" id="6666345">len</span><span class="op" id="6666348">(</span><span class="ident" id="6666349"><a href="/gostd/net/hosts_test.go.html#6666307">ips</a></span><span class="op" id="6666352">)</span>&nbsp;<span class="op" id="6666354">!=</span>&nbsp;<span class="builtinfunc" id="6666357">len</span><span class="op" id="6666360">(</span><span class="ident" id="6666361"><a href="/gostd/net/hosts_test.go.html#6666286">tt</a></span><span class="op" id="6666363">.</span><span class="ident" id="6666364"><a href="/gostd/net/hosts_test.go.html#6665878">ips</a></span><span class="op" id="6666367">)</span>&nbsp;<span class="op" id="6666369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666374"><a href="/gostd/net/hosts_test.go.html#6666183">t</a></span><span class="op" id="6666375">.</span><span class="ident" id="6666376"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6666382">(</span><span class="string" id="6666383">&#34;#&nbsp;of&nbsp;hosts&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6666415">len</span><span class="op" id="6666418">(</span><span class="ident" id="6666419"><a href="/gostd/net/hosts_test.go.html#6666307">ips</a></span><span class="op" id="6666422">)</span><span class="op" id="6666423">,</span>&nbsp;<span class="builtinfunc" id="6666425">len</span><span class="op" id="6666428">(</span><span class="ident" id="6666429"><a href="/gostd/net/hosts_test.go.html#6666286">tt</a></span><span class="op" id="6666431">.</span><span class="ident" id="6666432"><a href="/gostd/net/hosts_test.go.html#6665878">ips</a></span><span class="op" id="6666435">)</span><span class="op" id="6666436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6666441">continue</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6666456">for</span>&nbsp;<span class="ident" id="6666460">k</span><span class="op" id="6666461">,</span>&nbsp;<span class="ident" id="6666463">v</span>&nbsp;<span class="op" id="6666465">:=</span>&nbsp;<span class="keyword" id="6666468">range</span>&nbsp;<span class="ident" id="6666474"><a href="/gostd/net/hosts_test.go.html#6666307">ips</a></span>&nbsp;<span class="op" id="6666478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6666483">if</span>&nbsp;<span class="ident" id="6666486"><a href="/gostd/net/hosts_test.go.html#6666286">tt</a></span><span class="op" id="6666488">.</span><span class="ident" id="6666489"><a href="/gostd/net/hosts_test.go.html#6665878">ips</a></span><span class="op" id="6666492">[</span><span class="ident" id="6666493"><a href="/gostd/net/hosts_test.go.html#6666460">k</a></span><span class="op" id="6666494">]</span><span class="op" id="6666495">.</span><span class="ident" id="6666496"><a href="/gostd/net/ip.go.html#3291839">String</a></span><span class="op" id="6666502">(</span><span class="op" id="6666503">)</span>&nbsp;<span class="op" id="6666505">!=</span>&nbsp;<span class="ident" id="6666508"><a href="/gostd/net/hosts_test.go.html#6666463">v</a></span>&nbsp;<span class="op" id="6666510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666516"><a href="/gostd/net/hosts_test.go.html#6666183">t</a></span><span class="op" id="6666517">.</span><span class="ident" id="6666518"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6666524">(</span><span class="string" id="6666525">&#34;lookupStaticHost(%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666568"><a href="/gostd/net/hosts_test.go.html#6666286">tt</a></span><span class="op" id="6666570">.</span><span class="ident" id="6666571"><a href="/gostd/net/hosts_test.go.html#6665865">host</a></span><span class="op" id="6666575">,</span>&nbsp;<span class="ident" id="6666577"><a href="/gostd/net/hosts_test.go.html#6666463">v</a></span><span class="op" id="6666578">,</span>&nbsp;<span class="ident" id="6666580"><a href="/gostd/net/hosts_test.go.html#6666286">tt</a></span><span class="op" id="6666582">.</span><span class="ident" id="6666583"><a href="/gostd/net/hosts_test.go.html#6665878">ips</a></span><span class="op" id="6666586">[</span><span class="ident" id="6666587"><a href="/gostd/net/hosts_test.go.html#6666460">k</a></span><span class="op" id="6666588">]</span><span class="op" id="6666589">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666604"><a href="/gostd/net/hosts.go.html#3273230">hostsPath</a></span>&nbsp;<span class="op" id="6666614">=</span>&nbsp;<span class="ident" id="6666616"><a href="/gostd/net/hosts_test.go.html#6666200">p</a></span><br>
<span class="lineno"></span><span class="op" id="6666618">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="6666621">//&nbsp;https://code.google.com/p/go/issues/detail?id=6646</span><br>
<span class="lineno"></span><span class="keyword" id="6666675">func</span>&nbsp;<span class="ident" id="6666680">TestSingleLineHostsFile</span><span class="op" id="6666703">(</span><span class="ident" id="6666704">t</span>&nbsp;<span class="op" id="6666706">*</span><span class="ident" id="6666707"><a href="/gostd/net/hosts_test.go.html#6665828">testing</a></span><span class="op" id="6666714">.</span><span class="ident" id="6666715"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6666716">)</span>&nbsp;<span class="op" id="6666718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666721">p</span>&nbsp;<span class="op" id="6666723">:=</span>&nbsp;<span class="ident" id="6666726"><a href="/gostd/net/hosts.go.html#3273230">hostsPath</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666737"><a href="/gostd/net/hosts.go.html#3273230">hostsPath</a></span>&nbsp;<span class="op" id="6666747">=</span>&nbsp;<span class="string" id="6666749">&#34;testdata/hosts_singleline&#34;</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666779">ips</span>&nbsp;<span class="op" id="6666783">:=</span>&nbsp;<span class="ident" id="6666786"><a href="/gostd/net/hosts.go.html#3274263">lookupStaticHost</a></span><span class="op" id="6666802">(</span><span class="string" id="6666803">&#34;odin&#34;</span><span class="op" id="6666809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6666812">if</span>&nbsp;<span class="builtinfunc" id="6666815">len</span><span class="op" id="6666818">(</span><span class="ident" id="6666819"><a href="/gostd/net/hosts_test.go.html#6666779">ips</a></span><span class="op" id="6666822">)</span>&nbsp;<span class="op" id="6666824">!=</span>&nbsp;<span class="num" id="6666827">1</span>&nbsp;<span class="op" id="6666829">||</span>&nbsp;<span class="ident" id="6666832"><a href="/gostd/net/hosts_test.go.html#6666779">ips</a></span><span class="op" id="6666835">[</span><span class="num" id="6666836">0</span><span class="op" id="6666837">]</span>&nbsp;<span class="op" id="6666839">!=</span>&nbsp;<span class="string" id="6666842">&#34;127.0.0.2&#34;</span>&nbsp;<span class="op" id="6666854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666858"><a href="/gostd/net/hosts_test.go.html#6666704">t</a></span><span class="op" id="6666859">.</span><span class="ident" id="6666860"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6666866">(</span><span class="string" id="6666867">&#34;lookupStaticHost&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666899">,</span>&nbsp;<span class="ident" id="6666901"><a href="/gostd/net/hosts_test.go.html#6666779">ips</a></span><span class="op" id="6666904">,</span>&nbsp;<span class="op" id="6666906">[</span><span class="op" id="6666907">]</span><span class="builtintype" id="6666908">string</span><span class="op" id="6666914">{</span><span class="string" id="6666915">&#34;127.0.0.2&#34;</span><span class="op" id="6666926">}</span><span class="op" id="6666927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6666930">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6666934"><a href="/gostd/net/hosts.go.html#3273230">hostsPath</a></span>&nbsp;<span class="op" id="6666944">=</span>&nbsp;<span class="ident" id="6666946"><a href="/gostd/net/hosts_test.go.html#6666721">p</a></span><br>
<span class="lineno"></span><span class="op" id="6666948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6666951">func</span>&nbsp;<span class="ident" id="6666956">TestLookupHost</span><span class="op" id="6666970">(</span><span class="ident" id="6666971">t</span>&nbsp;<span class="op" id="6666973">*</span><span class="ident" id="6666974"><a href="/gostd/net/hosts_test.go.html#6665828">testing</a></span><span class="op" id="6666981">.</span><span class="ident" id="6666982"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6666983">)</span>&nbsp;<span class="op" id="6666985">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6666988">//&nbsp;Can&#39;t&nbsp;depend&nbsp;on&nbsp;this&nbsp;to&nbsp;return&nbsp;anything&nbsp;in&nbsp;particular,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6667047">//&nbsp;but&nbsp;if&nbsp;it&nbsp;does&nbsp;return&nbsp;something,&nbsp;make&nbsp;sure&nbsp;it&nbsp;doesn&#39;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6667105">//&nbsp;duplicate&nbsp;addresses&nbsp;(a&nbsp;common&nbsp;bug&nbsp;due&nbsp;to&nbsp;the&nbsp;way</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6667158">//&nbsp;getaddrinfo&nbsp;works).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6667182">addrs</span><span class="op" id="6667187">,</span>&nbsp;<span class="ident" id="6667189">_</span>&nbsp;<span class="op" id="6667191">:=</span>&nbsp;<span class="ident" id="6667194"><a href="/gostd/net/lookup.go.html#3323839">LookupHost</a></span><span class="op" id="6667204">(</span><span class="string" id="6667205">&#34;localhost&#34;</span><span class="op" id="6667216">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6667219"><a href="/gostd/net/hosts_test.go.html#6665820">sort</a></span><span class="op" id="6667223">.</span><span class="ident" id="6667224"><a href="/gostd/sort/sort.go.html#2017831">Strings</a></span><span class="op" id="6667231">(</span><span class="ident" id="6667232"><a href="/gostd/net/hosts_test.go.html#6667182">addrs</a></span><span class="op" id="6667237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6667240">for</span>&nbsp;<span class="ident" id="6667244">i</span>&nbsp;<span class="op" id="6667246">:=</span>&nbsp;<span class="num" id="6667249">0</span><span class="op" id="6667250">;</span>&nbsp;<span class="ident" id="6667252"><a href="/gostd/net/hosts_test.go.html#6667244">i</a></span><span class="op" id="6667253">+</span><span class="num" id="6667254">1</span>&nbsp;<span class="op" id="6667256">&lt;</span>&nbsp;<span class="builtinfunc" id="6667258">len</span><span class="op" id="6667261">(</span><span class="ident" id="6667262"><a href="/gostd/net/hosts_test.go.html#6667182">addrs</a></span><span class="op" id="6667267">)</span><span class="op" id="6667268">;</span>&nbsp;<span class="ident" id="6667270"><a href="/gostd/net/hosts_test.go.html#6667244">i</a></span><span class="op" id="6667271">++</span>&nbsp;<span class="op" id="6667274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6667278">if</span>&nbsp;<span class="ident" id="6667281"><a href="/gostd/net/hosts_test.go.html#6667182">addrs</a></span><span class="op" id="6667286">[</span><span class="ident" id="6667287"><a href="/gostd/net/hosts_test.go.html#6667244">i</a></span><span class="op" id="6667288">]</span>&nbsp;<span class="op" id="6667290">==</span>&nbsp;<span class="ident" id="6667293"><a href="/gostd/net/hosts_test.go.html#6667182">addrs</a></span><span class="op" id="6667298">[</span><span class="ident" id="6667299"><a href="/gostd/net/hosts_test.go.html#6667244">i</a></span><span class="op" id="6667300">+</span><span class="num" id="6667301">1</span><span class="op" id="6667302">]</span>&nbsp;<span class="op" id="6667304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6667309"><a href="/gostd/net/hosts_test.go.html#6666971">t</a></span><span class="op" id="6667310">.</span><span class="ident" id="6667311"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6667317">(</span><span class="string" id="6667318">&#34;LookupHost(\&#34;localhost\&#34;)&nbsp;=&nbsp;%v,&nbsp;has&nbsp;duplicate&nbsp;addresses&#34;</span><span class="op" id="6667375">,</span>&nbsp;<span class="ident" id="6667377"><a href="/gostd/net/hosts_test.go.html#6667182">addrs</a></span><span class="op" id="6667382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6667386">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6667389">}</span><br>
<span class="lineno"></span><span class="op" id="6667391">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
