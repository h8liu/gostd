<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="836509">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="836564">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="836618">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="836669">//&nbsp;Formatting&nbsp;of&nbsp;reflection&nbsp;types&nbsp;and&nbsp;values&nbsp;for&nbsp;debugging.</span><br>
<span class="lineno"></span><span class="comment" id="836729">//&nbsp;Not&nbsp;defined&nbsp;as&nbsp;methods&nbsp;so&nbsp;they&nbsp;do&nbsp;not&nbsp;need&nbsp;to&nbsp;be&nbsp;linked&nbsp;into&nbsp;most&nbsp;binaries;</span><br>
<span class="lineno"></span><span class="comment" id="836808">//&nbsp;the&nbsp;functions&nbsp;are&nbsp;not&nbsp;used&nbsp;by&nbsp;the&nbsp;library&nbsp;itself,&nbsp;only&nbsp;in&nbsp;tests.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="836877">package</span>&nbsp;<span class="ident" id="836885">reflect_test</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="836899">import</span>&nbsp;<span class="op" id="836906">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="836909">.</span>&nbsp;<span class="string" id="836911">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="836922">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="836932">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="836935">//&nbsp;valueToString&nbsp;returns&nbsp;a&nbsp;textual&nbsp;representation&nbsp;of&nbsp;the&nbsp;reflection&nbsp;value&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="837014">//&nbsp;For&nbsp;debugging&nbsp;only.</span><br>
<span class="lineno"></span><span class="keyword" id="837037">func</span>&nbsp;<span class="ident" id="837042">valueToString</span><span class="op" id="837055">(</span><span class="ident" id="837056">val</span>&nbsp;<span class="ident" id="837060">Value</span><span class="op" id="837065">)</span>&nbsp;<span class="builtintype" id="837067">string</span>&nbsp;<span class="op" id="837074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837077">var</span>&nbsp;<span class="ident" id="837081">str</span>&nbsp;<span class="builtintype" id="837085">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837093">if</span>&nbsp;<span class="op" id="837096">!</span><span class="ident" id="837097">val</span><span class="op" id="837100">.</span><span class="ident" id="837101">IsValid</span><span class="op" id="837108">(</span><span class="op" id="837109">)</span>&nbsp;<span class="op" id="837111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837115">return</span>&nbsp;<span class="string" id="837122">&#34;&lt;zero&nbsp;Value&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="837138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837141">typ</span>&nbsp;<span class="op" id="837145">:=</span>&nbsp;<span class="ident" id="837148">val</span><span class="op" id="837151">.</span><span class="ident" id="837152">Type</span><span class="op" id="837156">(</span><span class="op" id="837157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837160">switch</span>&nbsp;<span class="ident" id="837167">val</span><span class="op" id="837170">.</span><span class="ident" id="837171">Kind</span><span class="op" id="837175">(</span><span class="op" id="837176">)</span>&nbsp;<span class="op" id="837178">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837181">case</span>&nbsp;<span class="ident" id="837186">Int</span><span class="op" id="837189">,</span>&nbsp;<span class="ident" id="837191">Int8</span><span class="op" id="837195">,</span>&nbsp;<span class="ident" id="837197">Int16</span><span class="op" id="837202">,</span>&nbsp;<span class="ident" id="837204">Int32</span><span class="op" id="837209">,</span>&nbsp;<span class="ident" id="837211">Int64</span><span class="op" id="837216">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837220">return</span>&nbsp;<span class="ident" id="837227">strconv</span><span class="op" id="837234">.</span><span class="ident" id="837235">FormatInt</span><span class="op" id="837244">(</span><span class="ident" id="837245">val</span><span class="op" id="837248">.</span><span class="ident" id="837249">Int</span><span class="op" id="837252">(</span><span class="op" id="837253">)</span><span class="op" id="837254">,</span>&nbsp;<span class="num" id="837256">10</span><span class="op" id="837258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837261">case</span>&nbsp;<span class="ident" id="837266">Uint</span><span class="op" id="837270">,</span>&nbsp;<span class="ident" id="837272">Uint8</span><span class="op" id="837277">,</span>&nbsp;<span class="ident" id="837279">Uint16</span><span class="op" id="837285">,</span>&nbsp;<span class="ident" id="837287">Uint32</span><span class="op" id="837293">,</span>&nbsp;<span class="ident" id="837295">Uint64</span><span class="op" id="837301">,</span>&nbsp;<span class="ident" id="837303">Uintptr</span><span class="op" id="837310">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837314">return</span>&nbsp;<span class="ident" id="837321">strconv</span><span class="op" id="837328">.</span><span class="ident" id="837329">FormatUint</span><span class="op" id="837339">(</span><span class="ident" id="837340">val</span><span class="op" id="837343">.</span><span class="ident" id="837344">Uint</span><span class="op" id="837348">(</span><span class="op" id="837349">)</span><span class="op" id="837350">,</span>&nbsp;<span class="num" id="837352">10</span><span class="op" id="837354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837357">case</span>&nbsp;<span class="ident" id="837362">Float32</span><span class="op" id="837369">,</span>&nbsp;<span class="ident" id="837371">Float64</span><span class="op" id="837378">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837382">return</span>&nbsp;<span class="ident" id="837389">strconv</span><span class="op" id="837396">.</span><span class="ident" id="837397">FormatFloat</span><span class="op" id="837408">(</span><span class="ident" id="837409">val</span><span class="op" id="837412">.</span><span class="ident" id="837413">Float</span><span class="op" id="837418">(</span><span class="op" id="837419">)</span><span class="op" id="837420">,</span>&nbsp;<span class="string" id="837422">&#39;g&#39;</span><span class="op" id="837425">,</span>&nbsp;<span class="op" id="837427">-</span><span class="num" id="837428">1</span><span class="op" id="837429">,</span>&nbsp;<span class="num" id="837431">64</span><span class="op" id="837433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837436">case</span>&nbsp;<span class="ident" id="837441">Complex64</span><span class="op" id="837450">,</span>&nbsp;<span class="ident" id="837452">Complex128</span><span class="op" id="837462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837466">c</span>&nbsp;<span class="op" id="837468">:=</span>&nbsp;<span class="ident" id="837471">val</span><span class="op" id="837474">.</span><span class="ident" id="837475">Complex</span><span class="op" id="837482">(</span><span class="op" id="837483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837487">return</span>&nbsp;<span class="ident" id="837494">strconv</span><span class="op" id="837501">.</span><span class="ident" id="837502">FormatFloat</span><span class="op" id="837513">(</span><span class="builtinfunc" id="837514">real</span><span class="op" id="837518">(</span><span class="ident" id="837519">c</span><span class="op" id="837520">)</span><span class="op" id="837521">,</span>&nbsp;<span class="string" id="837523">&#39;g&#39;</span><span class="op" id="837526">,</span>&nbsp;<span class="op" id="837528">-</span><span class="num" id="837529">1</span><span class="op" id="837530">,</span>&nbsp;<span class="num" id="837532">64</span><span class="op" id="837534">)</span>&nbsp;<span class="op" id="837536">+</span>&nbsp;<span class="string" id="837538">&#34;+&#34;</span>&nbsp;<span class="op" id="837542">+</span>&nbsp;<span class="ident" id="837544">strconv</span><span class="op" id="837551">.</span><span class="ident" id="837552">FormatFloat</span><span class="op" id="837563">(</span><span class="builtinfunc" id="837564">imag</span><span class="op" id="837568">(</span><span class="ident" id="837569">c</span><span class="op" id="837570">)</span><span class="op" id="837571">,</span>&nbsp;<span class="string" id="837573">&#39;g&#39;</span><span class="op" id="837576">,</span>&nbsp;<span class="op" id="837578">-</span><span class="num" id="837579">1</span><span class="op" id="837580">,</span>&nbsp;<span class="num" id="837582">64</span><span class="op" id="837584">)</span>&nbsp;<span class="op" id="837586">+</span>&nbsp;<span class="string" id="837588">&#34;i&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837593">case</span>&nbsp;<span class="ident" id="837598">String</span><span class="op" id="837604">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837608">return</span>&nbsp;<span class="ident" id="837615">val</span><span class="op" id="837618">.</span><span class="ident" id="837619">String</span><span class="op" id="837625">(</span><span class="op" id="837626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837629">case</span>&nbsp;<span class="ident" id="837634">Bool</span><span class="op" id="837638">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837642">if</span>&nbsp;<span class="ident" id="837645">val</span><span class="op" id="837648">.</span><span class="ident" id="837649">Bool</span><span class="op" id="837653">(</span><span class="op" id="837654">)</span>&nbsp;<span class="op" id="837656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837661">return</span>&nbsp;<span class="string" id="837668">&#34;true&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="837677">}</span>&nbsp;<span class="keyword" id="837679">else</span>&nbsp;<span class="op" id="837684">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837689">return</span>&nbsp;<span class="string" id="837696">&#34;false&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="837706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837709">case</span>&nbsp;<span class="ident" id="837714">Ptr</span><span class="op" id="837717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837721">v</span>&nbsp;<span class="op" id="837723">:=</span>&nbsp;<span class="ident" id="837726">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837732">str</span>&nbsp;<span class="op" id="837736">=</span>&nbsp;<span class="ident" id="837738">typ</span><span class="op" id="837741">.</span><span class="ident" id="837742">String</span><span class="op" id="837748">(</span><span class="op" id="837749">)</span>&nbsp;<span class="op" id="837751">+</span>&nbsp;<span class="string" id="837753">&#34;(&#34;</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837759">if</span>&nbsp;<span class="ident" id="837762">v</span><span class="op" id="837763">.</span><span class="ident" id="837764">IsNil</span><span class="op" id="837769">(</span><span class="op" id="837770">)</span>&nbsp;<span class="op" id="837772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837777">str</span>&nbsp;<span class="op" id="837781">+=</span>&nbsp;<span class="string" id="837784">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="837790">}</span>&nbsp;<span class="keyword" id="837792">else</span>&nbsp;<span class="op" id="837797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837802">str</span>&nbsp;<span class="op" id="837806">+=</span>&nbsp;<span class="string" id="837809">&#34;&amp;&#34;</span>&nbsp;<span class="op" id="837813">+</span>&nbsp;<span class="ident" id="837815">valueToString</span><span class="op" id="837828">(</span><span class="ident" id="837829">v</span><span class="op" id="837830">.</span><span class="ident" id="837831">Elem</span><span class="op" id="837835">(</span><span class="op" id="837836">)</span><span class="op" id="837837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="837841">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837845">str</span>&nbsp;<span class="op" id="837849">+=</span>&nbsp;<span class="string" id="837852">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837858">return</span>&nbsp;<span class="ident" id="837865">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837870">case</span>&nbsp;<span class="ident" id="837875">Array</span><span class="op" id="837880">,</span>&nbsp;<span class="ident" id="837882">Slice</span><span class="op" id="837887">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837891">v</span>&nbsp;<span class="op" id="837893">:=</span>&nbsp;<span class="ident" id="837896">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837902">str</span>&nbsp;<span class="op" id="837906">+=</span>&nbsp;<span class="ident" id="837909">typ</span><span class="op" id="837912">.</span><span class="ident" id="837913">String</span><span class="op" id="837919">(</span><span class="op" id="837920">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837924">str</span>&nbsp;<span class="op" id="837928">+=</span>&nbsp;<span class="string" id="837931">&#34;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837937">for</span>&nbsp;<span class="ident" id="837941">i</span>&nbsp;<span class="op" id="837943">:=</span>&nbsp;<span class="num" id="837946">0</span><span class="op" id="837947">;</span>&nbsp;<span class="ident" id="837949">i</span>&nbsp;<span class="op" id="837951">&lt;</span>&nbsp;<span class="ident" id="837953">v</span><span class="op" id="837954">.</span><span class="ident" id="837955">Len</span><span class="op" id="837958">(</span><span class="op" id="837959">)</span><span class="op" id="837960">;</span>&nbsp;<span class="ident" id="837962">i</span><span class="op" id="837963">++</span>&nbsp;<span class="op" id="837966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="837971">if</span>&nbsp;<span class="ident" id="837974">i</span>&nbsp;<span class="op" id="837976">&gt;</span>&nbsp;<span class="num" id="837978">0</span>&nbsp;<span class="op" id="837980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="837986">str</span>&nbsp;<span class="op" id="837990">+=</span>&nbsp;<span class="string" id="837993">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="838001">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838006">str</span>&nbsp;<span class="op" id="838010">+=</span>&nbsp;<span class="ident" id="838013">valueToString</span><span class="op" id="838026">(</span><span class="ident" id="838027">v</span><span class="op" id="838028">.</span><span class="ident" id="838029">Index</span><span class="op" id="838034">(</span><span class="ident" id="838035">i</span><span class="op" id="838036">)</span><span class="op" id="838037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="838041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838045">str</span>&nbsp;<span class="op" id="838049">+=</span>&nbsp;<span class="string" id="838052">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838058">return</span>&nbsp;<span class="ident" id="838065">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838070">case</span>&nbsp;<span class="ident" id="838075">Map</span><span class="op" id="838078">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838082">t</span>&nbsp;<span class="op" id="838084">:=</span>&nbsp;<span class="ident" id="838087">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838093">str</span>&nbsp;<span class="op" id="838097">=</span>&nbsp;<span class="ident" id="838099">t</span><span class="op" id="838100">.</span><span class="ident" id="838101">String</span><span class="op" id="838107">(</span><span class="op" id="838108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838112">str</span>&nbsp;<span class="op" id="838116">+=</span>&nbsp;<span class="string" id="838119">&#34;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838125">str</span>&nbsp;<span class="op" id="838129">+=</span>&nbsp;<span class="string" id="838132">&#34;&lt;can&#39;t&nbsp;iterate&nbsp;on&nbsp;maps&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838160">str</span>&nbsp;<span class="op" id="838164">+=</span>&nbsp;<span class="string" id="838167">&#34;}&#34;</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838173">return</span>&nbsp;<span class="ident" id="838180">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838185">case</span>&nbsp;<span class="ident" id="838190">Chan</span><span class="op" id="838194">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838198">str</span>&nbsp;<span class="op" id="838202">=</span>&nbsp;<span class="ident" id="838204">typ</span><span class="op" id="838207">.</span><span class="ident" id="838208">String</span><span class="op" id="838214">(</span><span class="op" id="838215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838219">return</span>&nbsp;<span class="ident" id="838226">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838231">case</span>&nbsp;<span class="ident" id="838236">Struct</span><span class="op" id="838242">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838246">t</span>&nbsp;<span class="op" id="838248">:=</span>&nbsp;<span class="ident" id="838251">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838257">v</span>&nbsp;<span class="op" id="838259">:=</span>&nbsp;<span class="ident" id="838262">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838268">str</span>&nbsp;<span class="op" id="838272">+=</span>&nbsp;<span class="ident" id="838275">t</span><span class="op" id="838276">.</span><span class="ident" id="838277">String</span><span class="op" id="838283">(</span><span class="op" id="838284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838288">str</span>&nbsp;<span class="op" id="838292">+=</span>&nbsp;<span class="string" id="838295">&#34;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838301">for</span>&nbsp;<span class="ident" id="838305">i</span><span class="op" id="838306">,</span>&nbsp;<span class="ident" id="838308">n</span>&nbsp;<span class="op" id="838310">:=</span>&nbsp;<span class="num" id="838313">0</span><span class="op" id="838314">,</span>&nbsp;<span class="ident" id="838316">v</span><span class="op" id="838317">.</span><span class="ident" id="838318">NumField</span><span class="op" id="838326">(</span><span class="op" id="838327">)</span><span class="op" id="838328">;</span>&nbsp;<span class="ident" id="838330">i</span>&nbsp;<span class="op" id="838332">&lt;</span>&nbsp;<span class="ident" id="838334">n</span><span class="op" id="838335">;</span>&nbsp;<span class="ident" id="838337">i</span><span class="op" id="838338">++</span>&nbsp;<span class="op" id="838341">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838346">if</span>&nbsp;<span class="ident" id="838349">i</span>&nbsp;<span class="op" id="838351">&gt;</span>&nbsp;<span class="num" id="838353">0</span>&nbsp;<span class="op" id="838355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838361">str</span>&nbsp;<span class="op" id="838365">+=</span>&nbsp;<span class="string" id="838368">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="838376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838381">str</span>&nbsp;<span class="op" id="838385">+=</span>&nbsp;<span class="ident" id="838388">valueToString</span><span class="op" id="838401">(</span><span class="ident" id="838402">v</span><span class="op" id="838403">.</span><span class="ident" id="838404">Field</span><span class="op" id="838409">(</span><span class="ident" id="838410">i</span><span class="op" id="838411">)</span><span class="op" id="838412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="838416">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838420">str</span>&nbsp;<span class="op" id="838424">+=</span>&nbsp;<span class="string" id="838427">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838433">return</span>&nbsp;<span class="ident" id="838440">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838445">case</span>&nbsp;<span class="ident" id="838450">Interface</span><span class="op" id="838459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838463">return</span>&nbsp;<span class="ident" id="838470">typ</span><span class="op" id="838473">.</span><span class="ident" id="838474">String</span><span class="op" id="838480">(</span><span class="op" id="838481">)</span>&nbsp;<span class="op" id="838483">+</span>&nbsp;<span class="string" id="838485">&#34;(&#34;</span>&nbsp;<span class="op" id="838489">+</span>&nbsp;<span class="ident" id="838491">valueToString</span><span class="op" id="838504">(</span><span class="ident" id="838505">val</span><span class="op" id="838508">.</span><span class="ident" id="838509">Elem</span><span class="op" id="838513">(</span><span class="op" id="838514">)</span><span class="op" id="838515">)</span>&nbsp;<span class="op" id="838517">+</span>&nbsp;<span class="string" id="838519">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838524">case</span>&nbsp;<span class="ident" id="838529">Func</span><span class="op" id="838533">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="838537">v</span>&nbsp;<span class="op" id="838539">:=</span>&nbsp;<span class="ident" id="838542">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838548">return</span>&nbsp;<span class="ident" id="838555">typ</span><span class="op" id="838558">.</span><span class="ident" id="838559">String</span><span class="op" id="838565">(</span><span class="op" id="838566">)</span>&nbsp;<span class="op" id="838568">+</span>&nbsp;<span class="string" id="838570">&#34;(&#34;</span>&nbsp;<span class="op" id="838574">+</span>&nbsp;<span class="ident" id="838576">strconv</span><span class="op" id="838583">.</span><span class="ident" id="838584">FormatUint</span><span class="op" id="838594">(</span><span class="ident" id="838595">uint64</span><span class="op" id="838601">(</span><span class="ident" id="838602">v</span><span class="op" id="838603">.</span><span class="ident" id="838604">Pointer</span><span class="op" id="838611">(</span><span class="op" id="838612">)</span><span class="op" id="838613">)</span><span class="op" id="838614">,</span>&nbsp;<span class="num" id="838616">10</span><span class="op" id="838618">)</span>&nbsp;<span class="op" id="838620">+</span>&nbsp;<span class="string" id="838622">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="838627">default</span><span class="op" id="838634">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="838638">panic</span><span class="op" id="838643">(</span><span class="string" id="838644">&#34;valueToString:&nbsp;can&#39;t&nbsp;print&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="838679">+</span>&nbsp;<span class="ident" id="838681">typ</span><span class="op" id="838684">.</span><span class="ident" id="838685">String</span><span class="op" id="838691">(</span><span class="op" id="838692">)</span><span class="op" id="838693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="838696">}</span><br>
<span class="lineno">95</span><span class="op" id="838698">}</span>
</div>
</body>
</html>
