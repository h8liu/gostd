<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html" class="current">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7446308">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7446363">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7446417">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7446468">package</span>&nbsp;<span class="ident" id="7446476">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7446484">import</span>&nbsp;<span class="op" id="7446491">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446494">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446505">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446522">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446533">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7446543">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7446546">var</span>&nbsp;<span class="ident" id="7446550">good_re</span>&nbsp;<span class="op" id="7446558">=</span>&nbsp;<span class="op" id="7446560">[</span><span class="op" id="7446561">]</span><span class="builtintype" id="7446562">string</span><span class="op" id="7446568">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446571">``</span><span class="op" id="7446573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446576">`.`</span><span class="op" id="7446579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446582">`^.$`</span><span class="op" id="7446587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446590">`a`</span><span class="op" id="7446593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446596">`a*`</span><span class="op" id="7446600">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446603">`a+`</span><span class="op" id="7446607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446610">`a?`</span><span class="op" id="7446614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446617">`a|b`</span><span class="op" id="7446622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446625">`a*|b*`</span><span class="op" id="7446632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446635">`(a*|b)(c*|d)`</span><span class="op" id="7446649">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446652">`[a-z]`</span><span class="op" id="7446659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446662">`[a-abc-c\-\]\[]`</span><span class="op" id="7446679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446682">`[a-z]+`</span><span class="op" id="7446690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446693">`[abc]`</span><span class="op" id="7446700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446703">`[^1234]`</span><span class="op" id="7446712">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446715">`[^\n]`</span><span class="op" id="7446722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7446725">`\!\\`</span><span class="op" id="7446731">,</span><br>
<span class="lineno"></span><span class="op" id="7446733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7446736">type</span>&nbsp;<span class="ident" id="7446741">stringError</span>&nbsp;<span class="keyword" id="7446753">struct</span>&nbsp;<span class="op" id="7446760">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446763">re</span>&nbsp;&nbsp;<span class="builtintype" id="7446767">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446775">err</span>&nbsp;<span class="builtintype" id="7446779">string</span><br>
<span class="lineno"></span><span class="op" id="7446786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7446789">var</span>&nbsp;<span class="ident" id="7446793">bad_re</span>&nbsp;<span class="op" id="7446800">=</span>&nbsp;<span class="op" id="7446802">[</span><span class="op" id="7446803">]</span><span class="ident" id="7446804">stringError</span><span class="op" id="7446815">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446818">{</span><span class="string" id="7446819">`*`</span><span class="op" id="7446822">,</span>&nbsp;<span class="string" id="7446824">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="7446870">}</span><span class="op" id="7446871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446874">{</span><span class="string" id="7446875">`+`</span><span class="op" id="7446878">,</span>&nbsp;<span class="string" id="7446880">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="7446926">}</span><span class="op" id="7446927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446930">{</span><span class="string" id="7446931">`?`</span><span class="op" id="7446934">,</span>&nbsp;<span class="string" id="7446936">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="7446982">}</span><span class="op" id="7446983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446986">{</span><span class="string" id="7446987">`(abc`</span><span class="op" id="7446993">,</span>&nbsp;<span class="string" id="7446995">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="7447022">}</span><span class="op" id="7447023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447026">{</span><span class="string" id="7447027">`abc)`</span><span class="op" id="7447033">,</span>&nbsp;<span class="string" id="7447035">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="7447057">}</span><span class="op" id="7447058">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447061">{</span><span class="string" id="7447062">`x[a-z`</span><span class="op" id="7447069">,</span>&nbsp;<span class="string" id="7447071">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="7447098">}</span><span class="op" id="7447099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447102">{</span><span class="string" id="7447103">`[z-a]`</span><span class="op" id="7447110">,</span>&nbsp;<span class="string" id="7447112">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="7447150">}</span><span class="op" id="7447151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447154">{</span><span class="string" id="7447155">`abc\`</span><span class="op" id="7447161">,</span>&nbsp;<span class="string" id="7447163">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="7447204">}</span><span class="op" id="7447205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447208">{</span><span class="string" id="7447209">`a**`</span><span class="op" id="7447214">,</span>&nbsp;<span class="string" id="7447216">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="7447258">}</span><span class="op" id="7447259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447262">{</span><span class="string" id="7447263">`a*+`</span><span class="op" id="7447268">,</span>&nbsp;<span class="string" id="7447270">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="7447312">}</span><span class="op" id="7447313">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447316">{</span><span class="string" id="7447317">`\x`</span><span class="op" id="7447321">,</span>&nbsp;<span class="string" id="7447323">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="7447355">}</span><span class="op" id="7447356">,</span><br>
<span class="lineno"></span><span class="op" id="7447358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7447361">func</span>&nbsp;<span class="ident" id="7447366">compileTest</span><span class="op" id="7447377">(</span><span class="ident" id="7447378">t</span>&nbsp;<span class="op" id="7447380">*</span><span class="ident" id="7447381">testing</span><span class="op" id="7447388">.</span><span class="ident" id="7447389">T</span><span class="op" id="7447390">,</span>&nbsp;<span class="ident" id="7447392">expr</span>&nbsp;<span class="builtintype" id="7447397">string</span><span class="op" id="7447403">,</span>&nbsp;<span class="builtintype" id="7447405">error</span>&nbsp;<span class="builtintype" id="7447411">string</span><span class="op" id="7447417">)</span>&nbsp;<span class="op" id="7447419">*</span><span class="ident" id="7447420">Regexp</span>&nbsp;<span class="op" id="7447427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447430">re</span><span class="op" id="7447432">,</span>&nbsp;<span class="ident" id="7447434">err</span>&nbsp;<span class="op" id="7447438">:=</span>&nbsp;<span class="ident" id="7447441">Compile</span><span class="op" id="7447448">(</span><span class="ident" id="7447449">expr</span><span class="op" id="7447453">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447456">if</span>&nbsp;<span class="builtintype" id="7447459">error</span>&nbsp;<span class="op" id="7447465">==</span>&nbsp;<span class="string" id="7447468">&#34;&#34;</span>&nbsp;<span class="op" id="7447471">&amp;&amp;</span>&nbsp;<span class="ident" id="7447474">err</span>&nbsp;<span class="op" id="7447478">!=</span>&nbsp;<span class="ident" id="7447481">nil</span>&nbsp;<span class="op" id="7447485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447489">t</span><span class="op" id="7447490">.</span><span class="ident" id="7447491">Error</span><span class="op" id="7447496">(</span><span class="string" id="7447497">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7447510">,</span>&nbsp;<span class="ident" id="7447512">expr</span><span class="op" id="7447516">,</span>&nbsp;<span class="string" id="7447518">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="7447541">,</span>&nbsp;<span class="ident" id="7447543">err</span><span class="op" id="7447546">.</span><span class="ident" id="7447547">Error</span><span class="op" id="7447552">(</span><span class="op" id="7447553">)</span><span class="op" id="7447554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447560">if</span>&nbsp;<span class="builtintype" id="7447563">error</span>&nbsp;<span class="op" id="7447569">!=</span>&nbsp;<span class="string" id="7447572">&#34;&#34;</span>&nbsp;<span class="op" id="7447575">&amp;&amp;</span>&nbsp;<span class="ident" id="7447578">err</span>&nbsp;<span class="op" id="7447582">==</span>&nbsp;<span class="ident" id="7447585">nil</span>&nbsp;<span class="op" id="7447589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447593">t</span><span class="op" id="7447594">.</span><span class="ident" id="7447595">Error</span><span class="op" id="7447600">(</span><span class="string" id="7447601">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7447614">,</span>&nbsp;<span class="ident" id="7447616">expr</span><span class="op" id="7447620">,</span>&nbsp;<span class="string" id="7447622">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="7447640">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447643">}</span>&nbsp;<span class="keyword" id="7447645">else</span>&nbsp;<span class="keyword" id="7447650">if</span>&nbsp;<span class="builtintype" id="7447653">error</span>&nbsp;<span class="op" id="7447659">!=</span>&nbsp;<span class="string" id="7447662">&#34;&#34;</span>&nbsp;<span class="op" id="7447665">&amp;&amp;</span>&nbsp;<span class="op" id="7447668">!</span><span class="ident" id="7447669">strings</span><span class="op" id="7447676">.</span><span class="ident" id="7447677">Contains</span><span class="op" id="7447685">(</span><span class="ident" id="7447686">err</span><span class="op" id="7447689">.</span><span class="ident" id="7447690">Error</span><span class="op" id="7447695">(</span><span class="op" id="7447696">)</span><span class="op" id="7447697">,</span>&nbsp;<span class="builtintype" id="7447699">error</span><span class="op" id="7447704">)</span>&nbsp;<span class="op" id="7447706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447710">t</span><span class="op" id="7447711">.</span><span class="ident" id="7447712">Error</span><span class="op" id="7447717">(</span><span class="string" id="7447718">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7447731">,</span>&nbsp;<span class="ident" id="7447733">expr</span><span class="op" id="7447737">,</span>&nbsp;<span class="string" id="7447739">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="7447757">,</span>&nbsp;<span class="ident" id="7447759">err</span><span class="op" id="7447762">.</span><span class="ident" id="7447763">Error</span><span class="op" id="7447768">(</span><span class="op" id="7447769">)</span><span class="op" id="7447770">,</span>&nbsp;<span class="string" id="7447772">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="7447781">,</span>&nbsp;<span class="builtintype" id="7447783">error</span><span class="op" id="7447788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447794">return</span>&nbsp;<span class="ident" id="7447801">re</span><br>
<span class="lineno"></span><span class="op" id="7447804">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7447807">func</span>&nbsp;<span class="ident" id="7447812">TestGoodCompile</span><span class="op" id="7447827">(</span><span class="ident" id="7447828">t</span>&nbsp;<span class="op" id="7447830">*</span><span class="ident" id="7447831">testing</span><span class="op" id="7447838">.</span><span class="ident" id="7447839">T</span><span class="op" id="7447840">)</span>&nbsp;<span class="op" id="7447842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447845">for</span>&nbsp;<span class="ident" id="7447849">i</span>&nbsp;<span class="op" id="7447851">:=</span>&nbsp;<span class="num" id="7447854">0</span><span class="op" id="7447855">;</span>&nbsp;<span class="ident" id="7447857">i</span>&nbsp;<span class="op" id="7447859">&lt;</span>&nbsp;<span class="builtinfunc" id="7447861">len</span><span class="op" id="7447864">(</span><span class="ident" id="7447865">good_re</span><span class="op" id="7447872">)</span><span class="op" id="7447873">;</span>&nbsp;<span class="ident" id="7447875">i</span><span class="op" id="7447876">++</span>&nbsp;<span class="op" id="7447879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447883">compileTest</span><span class="op" id="7447894">(</span><span class="ident" id="7447895">t</span><span class="op" id="7447896">,</span>&nbsp;<span class="ident" id="7447898">good_re</span><span class="op" id="7447905">[</span><span class="ident" id="7447906">i</span><span class="op" id="7447907">]</span><span class="op" id="7447908">,</span>&nbsp;<span class="string" id="7447910">&#34;&#34;</span><span class="op" id="7447912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447915">}</span><br>
<span class="lineno">70</span><span class="op" id="7447917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7447920">func</span>&nbsp;<span class="ident" id="7447925">TestBadCompile</span><span class="op" id="7447939">(</span><span class="ident" id="7447940">t</span>&nbsp;<span class="op" id="7447942">*</span><span class="ident" id="7447943">testing</span><span class="op" id="7447950">.</span><span class="ident" id="7447951">T</span><span class="op" id="7447952">)</span>&nbsp;<span class="op" id="7447954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447957">for</span>&nbsp;<span class="ident" id="7447961">i</span>&nbsp;<span class="op" id="7447963">:=</span>&nbsp;<span class="num" id="7447966">0</span><span class="op" id="7447967">;</span>&nbsp;<span class="ident" id="7447969">i</span>&nbsp;<span class="op" id="7447971">&lt;</span>&nbsp;<span class="builtinfunc" id="7447973">len</span><span class="op" id="7447976">(</span><span class="ident" id="7447977">bad_re</span><span class="op" id="7447983">)</span><span class="op" id="7447984">;</span>&nbsp;<span class="ident" id="7447986">i</span><span class="op" id="7447987">++</span>&nbsp;<span class="op" id="7447990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447994">compileTest</span><span class="op" id="7448005">(</span><span class="ident" id="7448006">t</span><span class="op" id="7448007">,</span>&nbsp;<span class="ident" id="7448009">bad_re</span><span class="op" id="7448015">[</span><span class="ident" id="7448016">i</span><span class="op" id="7448017">]</span><span class="op" id="7448018">.</span><span class="ident" id="7448019">re</span><span class="op" id="7448021">,</span>&nbsp;<span class="ident" id="7448023">bad_re</span><span class="op" id="7448029">[</span><span class="ident" id="7448030">i</span><span class="op" id="7448031">]</span><span class="op" id="7448032">.</span><span class="ident" id="7448033">err</span><span class="op" id="7448036">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448039">}</span><br>
<span class="lineno"></span><span class="op" id="7448041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7448044">func</span>&nbsp;<span class="ident" id="7448049">matchTest</span><span class="op" id="7448058">(</span><span class="ident" id="7448059">t</span>&nbsp;<span class="op" id="7448061">*</span><span class="ident" id="7448062">testing</span><span class="op" id="7448069">.</span><span class="ident" id="7448070">T</span><span class="op" id="7448071">,</span>&nbsp;<span class="ident" id="7448073">test</span>&nbsp;<span class="op" id="7448078">*</span><span class="ident" id="7448079">FindTest</span><span class="op" id="7448087">)</span>&nbsp;<span class="op" id="7448089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448092">re</span>&nbsp;<span class="op" id="7448095">:=</span>&nbsp;<span class="ident" id="7448098">compileTest</span><span class="op" id="7448109">(</span><span class="ident" id="7448110">t</span><span class="op" id="7448111">,</span>&nbsp;<span class="ident" id="7448113">test</span><span class="op" id="7448117">.</span><span class="ident" id="7448118">pat</span><span class="op" id="7448121">,</span>&nbsp;<span class="string" id="7448123">&#34;&#34;</span><span class="op" id="7448125">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448128">if</span>&nbsp;<span class="ident" id="7448131">re</span>&nbsp;<span class="op" id="7448134">==</span>&nbsp;<span class="ident" id="7448137">nil</span>&nbsp;<span class="op" id="7448141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448145">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448156">m</span>&nbsp;<span class="op" id="7448158">:=</span>&nbsp;<span class="ident" id="7448161">re</span><span class="op" id="7448163">.</span><span class="ident" id="7448164">MatchString</span><span class="op" id="7448175">(</span><span class="ident" id="7448176">test</span><span class="op" id="7448180">.</span><span class="ident" id="7448181">text</span><span class="op" id="7448185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448188">if</span>&nbsp;<span class="ident" id="7448191">m</span>&nbsp;<span class="op" id="7448193">!=</span>&nbsp;<span class="op" id="7448196">(</span><span class="builtinfunc" id="7448197">len</span><span class="op" id="7448200">(</span><span class="ident" id="7448201">test</span><span class="op" id="7448205">.</span><span class="ident" id="7448206">matches</span><span class="op" id="7448213">)</span>&nbsp;<span class="op" id="7448215">&gt;</span>&nbsp;<span class="num" id="7448217">0</span><span class="op" id="7448218">)</span>&nbsp;<span class="op" id="7448220">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448224">t</span><span class="op" id="7448225">.</span><span class="ident" id="7448226">Errorf</span><span class="op" id="7448232">(</span><span class="string" id="7448233">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7448277">,</span>&nbsp;<span class="ident" id="7448279">test</span><span class="op" id="7448283">,</span>&nbsp;<span class="ident" id="7448285">m</span><span class="op" id="7448286">,</span>&nbsp;<span class="builtinfunc" id="7448288">len</span><span class="op" id="7448291">(</span><span class="ident" id="7448292">test</span><span class="op" id="7448296">.</span><span class="ident" id="7448297">matches</span><span class="op" id="7448304">)</span>&nbsp;<span class="op" id="7448306">&gt;</span>&nbsp;<span class="num" id="7448308">0</span><span class="op" id="7448309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7448315">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448333">m</span>&nbsp;<span class="op" id="7448335">=</span>&nbsp;<span class="ident" id="7448337">re</span><span class="op" id="7448339">.</span><span class="ident" id="7448340">Match</span><span class="op" id="7448345">(</span><span class="op" id="7448346">[</span><span class="op" id="7448347">]</span><span class="builtintype" id="7448348">byte</span><span class="op" id="7448352">(</span><span class="ident" id="7448353">test</span><span class="op" id="7448357">.</span><span class="ident" id="7448358">text</span><span class="op" id="7448362">)</span><span class="op" id="7448363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448366">if</span>&nbsp;<span class="ident" id="7448369">m</span>&nbsp;<span class="op" id="7448371">!=</span>&nbsp;<span class="op" id="7448374">(</span><span class="builtinfunc" id="7448375">len</span><span class="op" id="7448378">(</span><span class="ident" id="7448379">test</span><span class="op" id="7448383">.</span><span class="ident" id="7448384">matches</span><span class="op" id="7448391">)</span>&nbsp;<span class="op" id="7448393">&gt;</span>&nbsp;<span class="num" id="7448395">0</span><span class="op" id="7448396">)</span>&nbsp;<span class="op" id="7448398">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448402">t</span><span class="op" id="7448403">.</span><span class="ident" id="7448404">Errorf</span><span class="op" id="7448410">(</span><span class="string" id="7448411">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7448449">,</span>&nbsp;<span class="ident" id="7448451">test</span><span class="op" id="7448455">,</span>&nbsp;<span class="ident" id="7448457">m</span><span class="op" id="7448458">,</span>&nbsp;<span class="builtinfunc" id="7448460">len</span><span class="op" id="7448463">(</span><span class="ident" id="7448464">test</span><span class="op" id="7448468">.</span><span class="ident" id="7448469">matches</span><span class="op" id="7448476">)</span>&nbsp;<span class="op" id="7448478">&gt;</span>&nbsp;<span class="num" id="7448480">0</span><span class="op" id="7448481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448484">}</span><br>
<span class="lineno"></span><span class="op" id="7448486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7448489">func</span>&nbsp;<span class="ident" id="7448494">TestMatch</span><span class="op" id="7448503">(</span><span class="ident" id="7448504">t</span>&nbsp;<span class="op" id="7448506">*</span><span class="ident" id="7448507">testing</span><span class="op" id="7448514">.</span><span class="ident" id="7448515">T</span><span class="op" id="7448516">)</span>&nbsp;<span class="op" id="7448518">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448521">for</span>&nbsp;<span class="ident" id="7448525">_</span><span class="op" id="7448526">,</span>&nbsp;<span class="ident" id="7448528">test</span>&nbsp;<span class="op" id="7448533">:=</span>&nbsp;<span class="keyword" id="7448536">range</span>&nbsp;<span class="ident" id="7448542">findTests</span>&nbsp;<span class="op" id="7448552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448556">matchTest</span><span class="op" id="7448565">(</span><span class="ident" id="7448566">t</span><span class="op" id="7448567">,</span>&nbsp;<span class="op" id="7448569">&amp;</span><span class="ident" id="7448570">test</span><span class="op" id="7448574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448577">}</span><br>
<span class="lineno"></span><span class="op" id="7448579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7448582">func</span>&nbsp;<span class="ident" id="7448587">matchFunctionTest</span><span class="op" id="7448604">(</span><span class="ident" id="7448605">t</span>&nbsp;<span class="op" id="7448607">*</span><span class="ident" id="7448608">testing</span><span class="op" id="7448615">.</span><span class="ident" id="7448616">T</span><span class="op" id="7448617">,</span>&nbsp;<span class="ident" id="7448619">test</span>&nbsp;<span class="op" id="7448624">*</span><span class="ident" id="7448625">FindTest</span><span class="op" id="7448633">)</span>&nbsp;<span class="op" id="7448635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448638">m</span><span class="op" id="7448639">,</span>&nbsp;<span class="ident" id="7448641">err</span>&nbsp;<span class="op" id="7448645">:=</span>&nbsp;<span class="ident" id="7448648">MatchString</span><span class="op" id="7448659">(</span><span class="ident" id="7448660">test</span><span class="op" id="7448664">.</span><span class="ident" id="7448665">pat</span><span class="op" id="7448668">,</span>&nbsp;<span class="ident" id="7448670">test</span><span class="op" id="7448674">.</span><span class="ident" id="7448675">text</span><span class="op" id="7448679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448682">if</span>&nbsp;<span class="ident" id="7448685">err</span>&nbsp;<span class="op" id="7448689">==</span>&nbsp;<span class="ident" id="7448692">nil</span>&nbsp;<span class="op" id="7448696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448700">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448708">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448711">if</span>&nbsp;<span class="ident" id="7448714">m</span>&nbsp;<span class="op" id="7448716">!=</span>&nbsp;<span class="op" id="7448719">(</span><span class="builtinfunc" id="7448720">len</span><span class="op" id="7448723">(</span><span class="ident" id="7448724">test</span><span class="op" id="7448728">.</span><span class="ident" id="7448729">matches</span><span class="op" id="7448736">)</span>&nbsp;<span class="op" id="7448738">&gt;</span>&nbsp;<span class="num" id="7448740">0</span><span class="op" id="7448741">)</span>&nbsp;<span class="op" id="7448743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448747">t</span><span class="op" id="7448748">.</span><span class="ident" id="7448749">Errorf</span><span class="op" id="7448755">(</span><span class="string" id="7448756">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7448794">,</span>&nbsp;<span class="ident" id="7448796">test</span><span class="op" id="7448800">,</span>&nbsp;<span class="ident" id="7448802">m</span><span class="op" id="7448803">,</span>&nbsp;<span class="builtinfunc" id="7448805">len</span><span class="op" id="7448808">(</span><span class="ident" id="7448809">test</span><span class="op" id="7448813">.</span><span class="ident" id="7448814">matches</span><span class="op" id="7448821">)</span>&nbsp;<span class="op" id="7448823">&gt;</span>&nbsp;<span class="num" id="7448825">0</span><span class="op" id="7448826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448829">}</span><br>
<span class="lineno"></span><span class="op" id="7448831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7448834">func</span>&nbsp;<span class="ident" id="7448839">TestMatchFunction</span><span class="op" id="7448856">(</span><span class="ident" id="7448857">t</span>&nbsp;<span class="op" id="7448859">*</span><span class="ident" id="7448860">testing</span><span class="op" id="7448867">.</span><span class="ident" id="7448868">T</span><span class="op" id="7448869">)</span>&nbsp;<span class="op" id="7448871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7448874">for</span>&nbsp;<span class="ident" id="7448878">_</span><span class="op" id="7448879">,</span>&nbsp;<span class="ident" id="7448881">test</span>&nbsp;<span class="op" id="7448886">:=</span>&nbsp;<span class="keyword" id="7448889">range</span>&nbsp;<span class="ident" id="7448895">findTests</span>&nbsp;<span class="op" id="7448905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448909">matchFunctionTest</span><span class="op" id="7448926">(</span><span class="ident" id="7448927">t</span><span class="op" id="7448928">,</span>&nbsp;<span class="op" id="7448930">&amp;</span><span class="ident" id="7448931">test</span><span class="op" id="7448935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448938">}</span><br>
<span class="lineno"></span><span class="op" id="7448940">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="7448943">type</span>&nbsp;<span class="ident" id="7448948">ReplaceTest</span>&nbsp;<span class="keyword" id="7448960">struct</span>&nbsp;<span class="op" id="7448967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448970">pattern</span><span class="op" id="7448977">,</span>&nbsp;<span class="ident" id="7448979">replacement</span><span class="op" id="7448990">,</span>&nbsp;<span class="ident" id="7448992">input</span><span class="op" id="7448997">,</span>&nbsp;<span class="ident" id="7448999">output</span>&nbsp;<span class="builtintype" id="7449006">string</span><br>
<span class="lineno"></span><span class="op" id="7449013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7449016">var</span>&nbsp;<span class="ident" id="7449020">replaceTests</span>&nbsp;<span class="op" id="7449033">=</span>&nbsp;<span class="op" id="7449035">[</span><span class="op" id="7449036">]</span><span class="ident" id="7449037">ReplaceTest</span><span class="op" id="7449048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7449051">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449136">{</span><span class="string" id="7449137">&#34;&#34;</span><span class="op" id="7449139">,</span>&nbsp;<span class="string" id="7449141">&#34;&#34;</span><span class="op" id="7449143">,</span>&nbsp;<span class="string" id="7449145">&#34;&#34;</span><span class="op" id="7449147">,</span>&nbsp;<span class="string" id="7449149">&#34;&#34;</span><span class="op" id="7449151">}</span><span class="op" id="7449152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449155">{</span><span class="string" id="7449156">&#34;&#34;</span><span class="op" id="7449158">,</span>&nbsp;<span class="string" id="7449160">&#34;x&#34;</span><span class="op" id="7449163">,</span>&nbsp;<span class="string" id="7449165">&#34;&#34;</span><span class="op" id="7449167">,</span>&nbsp;<span class="string" id="7449169">&#34;x&#34;</span><span class="op" id="7449172">}</span><span class="op" id="7449173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449176">{</span><span class="string" id="7449177">&#34;&#34;</span><span class="op" id="7449179">,</span>&nbsp;<span class="string" id="7449181">&#34;&#34;</span><span class="op" id="7449183">,</span>&nbsp;<span class="string" id="7449185">&#34;abc&#34;</span><span class="op" id="7449190">,</span>&nbsp;<span class="string" id="7449192">&#34;abc&#34;</span><span class="op" id="7449197">}</span><span class="op" id="7449198">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449201">{</span><span class="string" id="7449202">&#34;&#34;</span><span class="op" id="7449204">,</span>&nbsp;<span class="string" id="7449206">&#34;x&#34;</span><span class="op" id="7449209">,</span>&nbsp;<span class="string" id="7449211">&#34;abc&#34;</span><span class="op" id="7449216">,</span>&nbsp;<span class="string" id="7449218">&#34;xaxbxcx&#34;</span><span class="op" id="7449227">}</span><span class="op" id="7449228">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7449232">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449324">{</span><span class="string" id="7449325">&#34;b&#34;</span><span class="op" id="7449328">,</span>&nbsp;<span class="string" id="7449330">&#34;&#34;</span><span class="op" id="7449332">,</span>&nbsp;<span class="string" id="7449334">&#34;&#34;</span><span class="op" id="7449336">,</span>&nbsp;<span class="string" id="7449338">&#34;&#34;</span><span class="op" id="7449340">}</span><span class="op" id="7449341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449344">{</span><span class="string" id="7449345">&#34;b&#34;</span><span class="op" id="7449348">,</span>&nbsp;<span class="string" id="7449350">&#34;x&#34;</span><span class="op" id="7449353">,</span>&nbsp;<span class="string" id="7449355">&#34;&#34;</span><span class="op" id="7449357">,</span>&nbsp;<span class="string" id="7449359">&#34;&#34;</span><span class="op" id="7449361">}</span><span class="op" id="7449362">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449365">{</span><span class="string" id="7449366">&#34;b&#34;</span><span class="op" id="7449369">,</span>&nbsp;<span class="string" id="7449371">&#34;&#34;</span><span class="op" id="7449373">,</span>&nbsp;<span class="string" id="7449375">&#34;abc&#34;</span><span class="op" id="7449380">,</span>&nbsp;<span class="string" id="7449382">&#34;ac&#34;</span><span class="op" id="7449386">}</span><span class="op" id="7449387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449390">{</span><span class="string" id="7449391">&#34;b&#34;</span><span class="op" id="7449394">,</span>&nbsp;<span class="string" id="7449396">&#34;x&#34;</span><span class="op" id="7449399">,</span>&nbsp;<span class="string" id="7449401">&#34;abc&#34;</span><span class="op" id="7449406">,</span>&nbsp;<span class="string" id="7449408">&#34;axc&#34;</span><span class="op" id="7449413">}</span><span class="op" id="7449414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449417">{</span><span class="string" id="7449418">&#34;y&#34;</span><span class="op" id="7449421">,</span>&nbsp;<span class="string" id="7449423">&#34;&#34;</span><span class="op" id="7449425">,</span>&nbsp;<span class="string" id="7449427">&#34;&#34;</span><span class="op" id="7449429">,</span>&nbsp;<span class="string" id="7449431">&#34;&#34;</span><span class="op" id="7449433">}</span><span class="op" id="7449434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449437">{</span><span class="string" id="7449438">&#34;y&#34;</span><span class="op" id="7449441">,</span>&nbsp;<span class="string" id="7449443">&#34;x&#34;</span><span class="op" id="7449446">,</span>&nbsp;<span class="string" id="7449448">&#34;&#34;</span><span class="op" id="7449450">,</span>&nbsp;<span class="string" id="7449452">&#34;&#34;</span><span class="op" id="7449454">}</span><span class="op" id="7449455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449458">{</span><span class="string" id="7449459">&#34;y&#34;</span><span class="op" id="7449462">,</span>&nbsp;<span class="string" id="7449464">&#34;&#34;</span><span class="op" id="7449466">,</span>&nbsp;<span class="string" id="7449468">&#34;abc&#34;</span><span class="op" id="7449473">,</span>&nbsp;<span class="string" id="7449475">&#34;abc&#34;</span><span class="op" id="7449480">}</span><span class="op" id="7449481">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449484">{</span><span class="string" id="7449485">&#34;y&#34;</span><span class="op" id="7449488">,</span>&nbsp;<span class="string" id="7449490">&#34;x&#34;</span><span class="op" id="7449493">,</span>&nbsp;<span class="string" id="7449495">&#34;abc&#34;</span><span class="op" id="7449500">,</span>&nbsp;<span class="string" id="7449502">&#34;abc&#34;</span><span class="op" id="7449507">}</span><span class="op" id="7449508">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7449512">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7449588">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449608">{</span><span class="string" id="7449609">&#34;[a-c]*&#34;</span><span class="op" id="7449617">,</span>&nbsp;<span class="string" id="7449619">&#34;x&#34;</span><span class="op" id="7449622">,</span>&nbsp;<span class="string" id="7449624">&#34;\u65e5&#34;</span><span class="op" id="7449632">,</span>&nbsp;<span class="string" id="7449634">&#34;x\u65e5x&#34;</span><span class="op" id="7449644">}</span><span class="op" id="7449645">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449648">{</span><span class="string" id="7449649">&#34;[^\u65e5]&#34;</span><span class="op" id="7449660">,</span>&nbsp;<span class="string" id="7449662">&#34;x&#34;</span><span class="op" id="7449665">,</span>&nbsp;<span class="string" id="7449667">&#34;abc\u65e5def&#34;</span><span class="op" id="7449681">,</span>&nbsp;<span class="string" id="7449683">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="7449697">}</span><span class="op" id="7449698">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7449702">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449733">{</span><span class="string" id="7449734">&#34;^[a-c]*&#34;</span><span class="op" id="7449743">,</span>&nbsp;<span class="string" id="7449745">&#34;x&#34;</span><span class="op" id="7449748">,</span>&nbsp;<span class="string" id="7449750">&#34;abcdabc&#34;</span><span class="op" id="7449759">,</span>&nbsp;<span class="string" id="7449761">&#34;xdabc&#34;</span><span class="op" id="7449768">}</span><span class="op" id="7449769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449772">{</span><span class="string" id="7449773">&#34;[a-c]*$&#34;</span><span class="op" id="7449782">,</span>&nbsp;<span class="string" id="7449784">&#34;x&#34;</span><span class="op" id="7449787">,</span>&nbsp;<span class="string" id="7449789">&#34;abcdabc&#34;</span><span class="op" id="7449798">,</span>&nbsp;<span class="string" id="7449800">&#34;abcdx&#34;</span><span class="op" id="7449807">}</span><span class="op" id="7449808">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449811">{</span><span class="string" id="7449812">&#34;^[a-c]*$&#34;</span><span class="op" id="7449822">,</span>&nbsp;<span class="string" id="7449824">&#34;x&#34;</span><span class="op" id="7449827">,</span>&nbsp;<span class="string" id="7449829">&#34;abcdabc&#34;</span><span class="op" id="7449838">,</span>&nbsp;<span class="string" id="7449840">&#34;abcdabc&#34;</span><span class="op" id="7449849">}</span><span class="op" id="7449850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449853">{</span><span class="string" id="7449854">&#34;^[a-c]*&#34;</span><span class="op" id="7449863">,</span>&nbsp;<span class="string" id="7449865">&#34;x&#34;</span><span class="op" id="7449868">,</span>&nbsp;<span class="string" id="7449870">&#34;abc&#34;</span><span class="op" id="7449875">,</span>&nbsp;<span class="string" id="7449877">&#34;x&#34;</span><span class="op" id="7449880">}</span><span class="op" id="7449881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449884">{</span><span class="string" id="7449885">&#34;[a-c]*$&#34;</span><span class="op" id="7449894">,</span>&nbsp;<span class="string" id="7449896">&#34;x&#34;</span><span class="op" id="7449899">,</span>&nbsp;<span class="string" id="7449901">&#34;abc&#34;</span><span class="op" id="7449906">,</span>&nbsp;<span class="string" id="7449908">&#34;x&#34;</span><span class="op" id="7449911">}</span><span class="op" id="7449912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449915">{</span><span class="string" id="7449916">&#34;^[a-c]*$&#34;</span><span class="op" id="7449926">,</span>&nbsp;<span class="string" id="7449928">&#34;x&#34;</span><span class="op" id="7449931">,</span>&nbsp;<span class="string" id="7449933">&#34;abc&#34;</span><span class="op" id="7449938">,</span>&nbsp;<span class="string" id="7449940">&#34;x&#34;</span><span class="op" id="7449943">}</span><span class="op" id="7449944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449947">{</span><span class="string" id="7449948">&#34;^[a-c]*&#34;</span><span class="op" id="7449957">,</span>&nbsp;<span class="string" id="7449959">&#34;x&#34;</span><span class="op" id="7449962">,</span>&nbsp;<span class="string" id="7449964">&#34;dabce&#34;</span><span class="op" id="7449971">,</span>&nbsp;<span class="string" id="7449973">&#34;xdabce&#34;</span><span class="op" id="7449981">}</span><span class="op" id="7449982">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449985">{</span><span class="string" id="7449986">&#34;[a-c]*$&#34;</span><span class="op" id="7449995">,</span>&nbsp;<span class="string" id="7449997">&#34;x&#34;</span><span class="op" id="7450000">,</span>&nbsp;<span class="string" id="7450002">&#34;dabce&#34;</span><span class="op" id="7450009">,</span>&nbsp;<span class="string" id="7450011">&#34;dabcex&#34;</span><span class="op" id="7450019">}</span><span class="op" id="7450020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450023">{</span><span class="string" id="7450024">&#34;^[a-c]*$&#34;</span><span class="op" id="7450034">,</span>&nbsp;<span class="string" id="7450036">&#34;x&#34;</span><span class="op" id="7450039">,</span>&nbsp;<span class="string" id="7450041">&#34;dabce&#34;</span><span class="op" id="7450048">,</span>&nbsp;<span class="string" id="7450050">&#34;dabce&#34;</span><span class="op" id="7450057">}</span><span class="op" id="7450058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450061">{</span><span class="string" id="7450062">&#34;^[a-c]*&#34;</span><span class="op" id="7450071">,</span>&nbsp;<span class="string" id="7450073">&#34;x&#34;</span><span class="op" id="7450076">,</span>&nbsp;<span class="string" id="7450078">&#34;&#34;</span><span class="op" id="7450080">,</span>&nbsp;<span class="string" id="7450082">&#34;x&#34;</span><span class="op" id="7450085">}</span><span class="op" id="7450086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450089">{</span><span class="string" id="7450090">&#34;[a-c]*$&#34;</span><span class="op" id="7450099">,</span>&nbsp;<span class="string" id="7450101">&#34;x&#34;</span><span class="op" id="7450104">,</span>&nbsp;<span class="string" id="7450106">&#34;&#34;</span><span class="op" id="7450108">,</span>&nbsp;<span class="string" id="7450110">&#34;x&#34;</span><span class="op" id="7450113">}</span><span class="op" id="7450114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450117">{</span><span class="string" id="7450118">&#34;^[a-c]*$&#34;</span><span class="op" id="7450128">,</span>&nbsp;<span class="string" id="7450130">&#34;x&#34;</span><span class="op" id="7450133">,</span>&nbsp;<span class="string" id="7450135">&#34;&#34;</span><span class="op" id="7450137">,</span>&nbsp;<span class="string" id="7450139">&#34;x&#34;</span><span class="op" id="7450142">}</span><span class="op" id="7450143">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450147">{</span><span class="string" id="7450148">&#34;^[a-c]+&#34;</span><span class="op" id="7450157">,</span>&nbsp;<span class="string" id="7450159">&#34;x&#34;</span><span class="op" id="7450162">,</span>&nbsp;<span class="string" id="7450164">&#34;abcdabc&#34;</span><span class="op" id="7450173">,</span>&nbsp;<span class="string" id="7450175">&#34;xdabc&#34;</span><span class="op" id="7450182">}</span><span class="op" id="7450183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450186">{</span><span class="string" id="7450187">&#34;[a-c]+$&#34;</span><span class="op" id="7450196">,</span>&nbsp;<span class="string" id="7450198">&#34;x&#34;</span><span class="op" id="7450201">,</span>&nbsp;<span class="string" id="7450203">&#34;abcdabc&#34;</span><span class="op" id="7450212">,</span>&nbsp;<span class="string" id="7450214">&#34;abcdx&#34;</span><span class="op" id="7450221">}</span><span class="op" id="7450222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450225">{</span><span class="string" id="7450226">&#34;^[a-c]+$&#34;</span><span class="op" id="7450236">,</span>&nbsp;<span class="string" id="7450238">&#34;x&#34;</span><span class="op" id="7450241">,</span>&nbsp;<span class="string" id="7450243">&#34;abcdabc&#34;</span><span class="op" id="7450252">,</span>&nbsp;<span class="string" id="7450254">&#34;abcdabc&#34;</span><span class="op" id="7450263">}</span><span class="op" id="7450264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450267">{</span><span class="string" id="7450268">&#34;^[a-c]+&#34;</span><span class="op" id="7450277">,</span>&nbsp;<span class="string" id="7450279">&#34;x&#34;</span><span class="op" id="7450282">,</span>&nbsp;<span class="string" id="7450284">&#34;abc&#34;</span><span class="op" id="7450289">,</span>&nbsp;<span class="string" id="7450291">&#34;x&#34;</span><span class="op" id="7450294">}</span><span class="op" id="7450295">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450298">{</span><span class="string" id="7450299">&#34;[a-c]+$&#34;</span><span class="op" id="7450308">,</span>&nbsp;<span class="string" id="7450310">&#34;x&#34;</span><span class="op" id="7450313">,</span>&nbsp;<span class="string" id="7450315">&#34;abc&#34;</span><span class="op" id="7450320">,</span>&nbsp;<span class="string" id="7450322">&#34;x&#34;</span><span class="op" id="7450325">}</span><span class="op" id="7450326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450329">{</span><span class="string" id="7450330">&#34;^[a-c]+$&#34;</span><span class="op" id="7450340">,</span>&nbsp;<span class="string" id="7450342">&#34;x&#34;</span><span class="op" id="7450345">,</span>&nbsp;<span class="string" id="7450347">&#34;abc&#34;</span><span class="op" id="7450352">,</span>&nbsp;<span class="string" id="7450354">&#34;x&#34;</span><span class="op" id="7450357">}</span><span class="op" id="7450358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450361">{</span><span class="string" id="7450362">&#34;^[a-c]+&#34;</span><span class="op" id="7450371">,</span>&nbsp;<span class="string" id="7450373">&#34;x&#34;</span><span class="op" id="7450376">,</span>&nbsp;<span class="string" id="7450378">&#34;dabce&#34;</span><span class="op" id="7450385">,</span>&nbsp;<span class="string" id="7450387">&#34;dabce&#34;</span><span class="op" id="7450394">}</span><span class="op" id="7450395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450398">{</span><span class="string" id="7450399">&#34;[a-c]+$&#34;</span><span class="op" id="7450408">,</span>&nbsp;<span class="string" id="7450410">&#34;x&#34;</span><span class="op" id="7450413">,</span>&nbsp;<span class="string" id="7450415">&#34;dabce&#34;</span><span class="op" id="7450422">,</span>&nbsp;<span class="string" id="7450424">&#34;dabce&#34;</span><span class="op" id="7450431">}</span><span class="op" id="7450432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450435">{</span><span class="string" id="7450436">&#34;^[a-c]+$&#34;</span><span class="op" id="7450446">,</span>&nbsp;<span class="string" id="7450448">&#34;x&#34;</span><span class="op" id="7450451">,</span>&nbsp;<span class="string" id="7450453">&#34;dabce&#34;</span><span class="op" id="7450460">,</span>&nbsp;<span class="string" id="7450462">&#34;dabce&#34;</span><span class="op" id="7450469">}</span><span class="op" id="7450470">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450473">{</span><span class="string" id="7450474">&#34;^[a-c]+&#34;</span><span class="op" id="7450483">,</span>&nbsp;<span class="string" id="7450485">&#34;x&#34;</span><span class="op" id="7450488">,</span>&nbsp;<span class="string" id="7450490">&#34;&#34;</span><span class="op" id="7450492">,</span>&nbsp;<span class="string" id="7450494">&#34;&#34;</span><span class="op" id="7450496">}</span><span class="op" id="7450497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450500">{</span><span class="string" id="7450501">&#34;[a-c]+$&#34;</span><span class="op" id="7450510">,</span>&nbsp;<span class="string" id="7450512">&#34;x&#34;</span><span class="op" id="7450515">,</span>&nbsp;<span class="string" id="7450517">&#34;&#34;</span><span class="op" id="7450519">,</span>&nbsp;<span class="string" id="7450521">&#34;&#34;</span><span class="op" id="7450523">}</span><span class="op" id="7450524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450527">{</span><span class="string" id="7450528">&#34;^[a-c]+$&#34;</span><span class="op" id="7450538">,</span>&nbsp;<span class="string" id="7450540">&#34;x&#34;</span><span class="op" id="7450543">,</span>&nbsp;<span class="string" id="7450545">&#34;&#34;</span><span class="op" id="7450547">,</span>&nbsp;<span class="string" id="7450549">&#34;&#34;</span><span class="op" id="7450551">}</span><span class="op" id="7450552">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7450556">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450573">{</span><span class="string" id="7450574">&#34;abc&#34;</span><span class="op" id="7450579">,</span>&nbsp;<span class="string" id="7450581">&#34;def&#34;</span><span class="op" id="7450586">,</span>&nbsp;<span class="string" id="7450588">&#34;abcdefg&#34;</span><span class="op" id="7450597">,</span>&nbsp;<span class="string" id="7450599">&#34;defdefg&#34;</span><span class="op" id="7450608">}</span><span class="op" id="7450609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450612">{</span><span class="string" id="7450613">&#34;bc&#34;</span><span class="op" id="7450617">,</span>&nbsp;<span class="string" id="7450619">&#34;BC&#34;</span><span class="op" id="7450623">,</span>&nbsp;<span class="string" id="7450625">&#34;abcbcdcdedef&#34;</span><span class="op" id="7450639">,</span>&nbsp;<span class="string" id="7450641">&#34;aBCBCdcdedef&#34;</span><span class="op" id="7450655">}</span><span class="op" id="7450656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450659">{</span><span class="string" id="7450660">&#34;abc&#34;</span><span class="op" id="7450665">,</span>&nbsp;<span class="string" id="7450667">&#34;&#34;</span><span class="op" id="7450669">,</span>&nbsp;<span class="string" id="7450671">&#34;abcdabc&#34;</span><span class="op" id="7450680">,</span>&nbsp;<span class="string" id="7450682">&#34;d&#34;</span><span class="op" id="7450685">}</span><span class="op" id="7450686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450689">{</span><span class="string" id="7450690">&#34;x&#34;</span><span class="op" id="7450693">,</span>&nbsp;<span class="string" id="7450695">&#34;xXx&#34;</span><span class="op" id="7450700">,</span>&nbsp;<span class="string" id="7450702">&#34;xxxXxxx&#34;</span><span class="op" id="7450711">,</span>&nbsp;<span class="string" id="7450713">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="7450734">}</span><span class="op" id="7450735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450738">{</span><span class="string" id="7450739">&#34;abc&#34;</span><span class="op" id="7450744">,</span>&nbsp;<span class="string" id="7450746">&#34;d&#34;</span><span class="op" id="7450749">,</span>&nbsp;<span class="string" id="7450751">&#34;&#34;</span><span class="op" id="7450753">,</span>&nbsp;<span class="string" id="7450755">&#34;&#34;</span><span class="op" id="7450757">}</span><span class="op" id="7450758">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450761">{</span><span class="string" id="7450762">&#34;abc&#34;</span><span class="op" id="7450767">,</span>&nbsp;<span class="string" id="7450769">&#34;d&#34;</span><span class="op" id="7450772">,</span>&nbsp;<span class="string" id="7450774">&#34;abc&#34;</span><span class="op" id="7450779">,</span>&nbsp;<span class="string" id="7450781">&#34;d&#34;</span><span class="op" id="7450784">}</span><span class="op" id="7450785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450788">{</span><span class="string" id="7450789">&#34;.+&#34;</span><span class="op" id="7450793">,</span>&nbsp;<span class="string" id="7450795">&#34;x&#34;</span><span class="op" id="7450798">,</span>&nbsp;<span class="string" id="7450800">&#34;abc&#34;</span><span class="op" id="7450805">,</span>&nbsp;<span class="string" id="7450807">&#34;x&#34;</span><span class="op" id="7450810">}</span><span class="op" id="7450811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450814">{</span><span class="string" id="7450815">&#34;[a-c]*&#34;</span><span class="op" id="7450823">,</span>&nbsp;<span class="string" id="7450825">&#34;x&#34;</span><span class="op" id="7450828">,</span>&nbsp;<span class="string" id="7450830">&#34;def&#34;</span><span class="op" id="7450835">,</span>&nbsp;<span class="string" id="7450837">&#34;xdxexfx&#34;</span><span class="op" id="7450846">}</span><span class="op" id="7450847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450850">{</span><span class="string" id="7450851">&#34;[a-c]+&#34;</span><span class="op" id="7450859">,</span>&nbsp;<span class="string" id="7450861">&#34;x&#34;</span><span class="op" id="7450864">,</span>&nbsp;<span class="string" id="7450866">&#34;abcbcdcdedef&#34;</span><span class="op" id="7450880">,</span>&nbsp;<span class="string" id="7450882">&#34;xdxdedef&#34;</span><span class="op" id="7450892">}</span><span class="op" id="7450893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450896">{</span><span class="string" id="7450897">&#34;[a-c]*&#34;</span><span class="op" id="7450905">,</span>&nbsp;<span class="string" id="7450907">&#34;x&#34;</span><span class="op" id="7450910">,</span>&nbsp;<span class="string" id="7450912">&#34;abcbcdcdedef&#34;</span><span class="op" id="7450926">,</span>&nbsp;<span class="string" id="7450928">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="7450943">}</span><span class="op" id="7450944">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7450948">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450966">{</span><span class="string" id="7450967">&#34;a+&#34;</span><span class="op" id="7450971">,</span>&nbsp;<span class="string" id="7450973">&#34;($0)&#34;</span><span class="op" id="7450979">,</span>&nbsp;<span class="string" id="7450981">&#34;banana&#34;</span><span class="op" id="7450989">,</span>&nbsp;<span class="string" id="7450991">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7451005">}</span><span class="op" id="7451006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451009">{</span><span class="string" id="7451010">&#34;a+&#34;</span><span class="op" id="7451014">,</span>&nbsp;<span class="string" id="7451016">&#34;(${0})&#34;</span><span class="op" id="7451024">,</span>&nbsp;<span class="string" id="7451026">&#34;banana&#34;</span><span class="op" id="7451034">,</span>&nbsp;<span class="string" id="7451036">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7451050">}</span><span class="op" id="7451051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451054">{</span><span class="string" id="7451055">&#34;a+&#34;</span><span class="op" id="7451059">,</span>&nbsp;<span class="string" id="7451061">&#34;(${0})$0&#34;</span><span class="op" id="7451071">,</span>&nbsp;<span class="string" id="7451073">&#34;banana&#34;</span><span class="op" id="7451081">,</span>&nbsp;<span class="string" id="7451083">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7451100">}</span><span class="op" id="7451101">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451104">{</span><span class="string" id="7451105">&#34;a+&#34;</span><span class="op" id="7451109">,</span>&nbsp;<span class="string" id="7451111">&#34;(${0})$0&#34;</span><span class="op" id="7451121">,</span>&nbsp;<span class="string" id="7451123">&#34;banana&#34;</span><span class="op" id="7451131">,</span>&nbsp;<span class="string" id="7451133">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7451150">}</span><span class="op" id="7451151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451154">{</span><span class="string" id="7451155">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7451168">,</span>&nbsp;<span class="string" id="7451170">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7451185">,</span>&nbsp;<span class="string" id="7451187">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7451201">,</span>&nbsp;<span class="string" id="7451203">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7451219">}</span><span class="op" id="7451220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451223">{</span><span class="string" id="7451224">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7451237">,</span>&nbsp;<span class="string" id="7451239">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="7451253">,</span>&nbsp;<span class="string" id="7451255">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7451269">,</span>&nbsp;<span class="string" id="7451271">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="7451282">}</span><span class="op" id="7451283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451286">{</span><span class="string" id="7451287">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7451300">,</span>&nbsp;<span class="string" id="7451302">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="7451318">,</span>&nbsp;<span class="string" id="7451320">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7451334">,</span>&nbsp;<span class="string" id="7451336">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="7451353">}</span><span class="op" id="7451354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451357">{</span><span class="string" id="7451358">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7451371">,</span>&nbsp;<span class="string" id="7451373">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="7451391">,</span>&nbsp;<span class="string" id="7451393">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7451407">,</span>&nbsp;<span class="string" id="7451409">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="7451436">}</span><span class="op" id="7451437">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451440">{</span><span class="string" id="7451441">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7451462">,</span>&nbsp;<span class="string" id="7451464">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7451481">,</span>&nbsp;<span class="string" id="7451483">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7451497">,</span>&nbsp;<span class="string" id="7451499">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="7451516">}</span><span class="op" id="7451517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451520">{</span><span class="string" id="7451521">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7451542">,</span>&nbsp;<span class="string" id="7451544">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7451562">,</span>&nbsp;<span class="string" id="7451564">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7451578">,</span>&nbsp;<span class="string" id="7451580">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7451596">}</span><span class="op" id="7451597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451600">{</span><span class="string" id="7451601">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7451623">,</span>&nbsp;<span class="string" id="7451625">&#34;$x$x$x&#34;</span><span class="op" id="7451633">,</span>&nbsp;<span class="string" id="7451635">&#34;hi&#34;</span><span class="op" id="7451639">,</span>&nbsp;<span class="string" id="7451641">&#34;hihihi&#34;</span><span class="op" id="7451649">}</span><span class="op" id="7451650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451653">{</span><span class="string" id="7451654">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7451676">,</span>&nbsp;<span class="string" id="7451678">&#34;$x$x$x&#34;</span><span class="op" id="7451686">,</span>&nbsp;<span class="string" id="7451688">&#34;bye&#34;</span><span class="op" id="7451693">,</span>&nbsp;<span class="string" id="7451695">&#34;byebyebye&#34;</span><span class="op" id="7451706">}</span><span class="op" id="7451707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451710">{</span><span class="string" id="7451711">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7451733">,</span>&nbsp;<span class="string" id="7451735">&#34;$xyz&#34;</span><span class="op" id="7451741">,</span>&nbsp;<span class="string" id="7451743">&#34;hi&#34;</span><span class="op" id="7451747">,</span>&nbsp;<span class="string" id="7451749">&#34;&#34;</span><span class="op" id="7451751">}</span><span class="op" id="7451752">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451755">{</span><span class="string" id="7451756">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7451778">,</span>&nbsp;<span class="string" id="7451780">&#34;${x}yz&#34;</span><span class="op" id="7451788">,</span>&nbsp;<span class="string" id="7451790">&#34;hi&#34;</span><span class="op" id="7451794">,</span>&nbsp;<span class="string" id="7451796">&#34;hiyz&#34;</span><span class="op" id="7451802">}</span><span class="op" id="7451803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451806">{</span><span class="string" id="7451807">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7451829">,</span>&nbsp;<span class="string" id="7451831">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7451842">,</span>&nbsp;<span class="string" id="7451844">&#34;hi&#34;</span><span class="op" id="7451848">,</span>&nbsp;<span class="string" id="7451850">&#34;hello&nbsp;$x&#34;</span><span class="op" id="7451860">}</span><span class="op" id="7451861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451864">{</span><span class="string" id="7451865">&#34;a+&#34;</span><span class="op" id="7451869">,</span>&nbsp;<span class="string" id="7451871">&#34;${oops&#34;</span><span class="op" id="7451879">,</span>&nbsp;<span class="string" id="7451881">&#34;aaa&#34;</span><span class="op" id="7451886">,</span>&nbsp;<span class="string" id="7451888">&#34;${oops&#34;</span><span class="op" id="7451896">}</span><span class="op" id="7451897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451900">{</span><span class="string" id="7451901">&#34;a+&#34;</span><span class="op" id="7451905">,</span>&nbsp;<span class="string" id="7451907">&#34;$$&#34;</span><span class="op" id="7451911">,</span>&nbsp;<span class="string" id="7451913">&#34;aaa&#34;</span><span class="op" id="7451918">,</span>&nbsp;<span class="string" id="7451920">&#34;$&#34;</span><span class="op" id="7451923">}</span><span class="op" id="7451924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451927">{</span><span class="string" id="7451928">&#34;a+&#34;</span><span class="op" id="7451932">,</span>&nbsp;<span class="string" id="7451934">&#34;$&#34;</span><span class="op" id="7451937">,</span>&nbsp;<span class="string" id="7451939">&#34;aaa&#34;</span><span class="op" id="7451944">,</span>&nbsp;<span class="string" id="7451946">&#34;$&#34;</span><span class="op" id="7451949">}</span><span class="op" id="7451950">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7451954">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452002">{</span><span class="string" id="7452003">&#34;(x)?&#34;</span><span class="op" id="7452009">,</span>&nbsp;<span class="string" id="7452011">&#34;$1&#34;</span><span class="op" id="7452015">,</span>&nbsp;<span class="string" id="7452017">&#34;123&#34;</span><span class="op" id="7452022">,</span>&nbsp;<span class="string" id="7452024">&#34;123&#34;</span><span class="op" id="7452029">}</span><span class="op" id="7452030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452033">{</span><span class="string" id="7452034">&#34;abc&#34;</span><span class="op" id="7452039">,</span>&nbsp;<span class="string" id="7452041">&#34;$1&#34;</span><span class="op" id="7452045">,</span>&nbsp;<span class="string" id="7452047">&#34;123&#34;</span><span class="op" id="7452052">,</span>&nbsp;<span class="string" id="7452054">&#34;123&#34;</span><span class="op" id="7452059">}</span><span class="op" id="7452060">,</span><br>
<span class="lineno"></span><span class="op" id="7452062">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="7452065">var</span>&nbsp;<span class="ident" id="7452069">replaceLiteralTests</span>&nbsp;<span class="op" id="7452089">=</span>&nbsp;<span class="op" id="7452091">[</span><span class="op" id="7452092">]</span><span class="ident" id="7452093">ReplaceTest</span><span class="op" id="7452104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7452107">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452125">{</span><span class="string" id="7452126">&#34;a+&#34;</span><span class="op" id="7452130">,</span>&nbsp;<span class="string" id="7452132">&#34;($0)&#34;</span><span class="op" id="7452138">,</span>&nbsp;<span class="string" id="7452140">&#34;banana&#34;</span><span class="op" id="7452148">,</span>&nbsp;<span class="string" id="7452150">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="7452167">}</span><span class="op" id="7452168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452171">{</span><span class="string" id="7452172">&#34;a+&#34;</span><span class="op" id="7452176">,</span>&nbsp;<span class="string" id="7452178">&#34;(${0})&#34;</span><span class="op" id="7452186">,</span>&nbsp;<span class="string" id="7452188">&#34;banana&#34;</span><span class="op" id="7452196">,</span>&nbsp;<span class="string" id="7452198">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="7452221">}</span><span class="op" id="7452222">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452225">{</span><span class="string" id="7452226">&#34;a+&#34;</span><span class="op" id="7452230">,</span>&nbsp;<span class="string" id="7452232">&#34;(${0})$0&#34;</span><span class="op" id="7452242">,</span>&nbsp;<span class="string" id="7452244">&#34;banana&#34;</span><span class="op" id="7452252">,</span>&nbsp;<span class="string" id="7452254">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7452283">}</span><span class="op" id="7452284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452287">{</span><span class="string" id="7452288">&#34;a+&#34;</span><span class="op" id="7452292">,</span>&nbsp;<span class="string" id="7452294">&#34;(${0})$0&#34;</span><span class="op" id="7452304">,</span>&nbsp;<span class="string" id="7452306">&#34;banana&#34;</span><span class="op" id="7452314">,</span>&nbsp;<span class="string" id="7452316">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7452345">}</span><span class="op" id="7452346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452349">{</span><span class="string" id="7452350">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7452363">,</span>&nbsp;<span class="string" id="7452365">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7452380">,</span>&nbsp;<span class="string" id="7452382">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7452396">,</span>&nbsp;<span class="string" id="7452398">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7452413">}</span><span class="op" id="7452414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452417">{</span><span class="string" id="7452418">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7452439">,</span>&nbsp;<span class="string" id="7452441">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7452458">,</span>&nbsp;<span class="string" id="7452460">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7452474">,</span>&nbsp;<span class="string" id="7452476">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7452493">}</span><span class="op" id="7452494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452497">{</span><span class="string" id="7452498">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7452519">,</span>&nbsp;<span class="string" id="7452521">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7452539">,</span>&nbsp;<span class="string" id="7452541">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7452555">,</span>&nbsp;<span class="string" id="7452557">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7452575">}</span><span class="op" id="7452576">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452579">{</span><span class="string" id="7452580">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7452602">,</span>&nbsp;<span class="string" id="7452604">&#34;$x$x$x&#34;</span><span class="op" id="7452612">,</span>&nbsp;<span class="string" id="7452614">&#34;hi&#34;</span><span class="op" id="7452618">,</span>&nbsp;<span class="string" id="7452620">&#34;$x$x$x&#34;</span><span class="op" id="7452628">}</span><span class="op" id="7452629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452632">{</span><span class="string" id="7452633">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7452655">,</span>&nbsp;<span class="string" id="7452657">&#34;$x$x$x&#34;</span><span class="op" id="7452665">,</span>&nbsp;<span class="string" id="7452667">&#34;bye&#34;</span><span class="op" id="7452672">,</span>&nbsp;<span class="string" id="7452674">&#34;$x$x$x&#34;</span><span class="op" id="7452682">}</span><span class="op" id="7452683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452686">{</span><span class="string" id="7452687">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7452709">,</span>&nbsp;<span class="string" id="7452711">&#34;$xyz&#34;</span><span class="op" id="7452717">,</span>&nbsp;<span class="string" id="7452719">&#34;hi&#34;</span><span class="op" id="7452723">,</span>&nbsp;<span class="string" id="7452725">&#34;$xyz&#34;</span><span class="op" id="7452731">}</span><span class="op" id="7452732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452735">{</span><span class="string" id="7452736">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7452758">,</span>&nbsp;<span class="string" id="7452760">&#34;${x}yz&#34;</span><span class="op" id="7452768">,</span>&nbsp;<span class="string" id="7452770">&#34;hi&#34;</span><span class="op" id="7452774">,</span>&nbsp;<span class="string" id="7452776">&#34;${x}yz&#34;</span><span class="op" id="7452784">}</span><span class="op" id="7452785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452788">{</span><span class="string" id="7452789">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7452811">,</span>&nbsp;<span class="string" id="7452813">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7452824">,</span>&nbsp;<span class="string" id="7452826">&#34;hi&#34;</span><span class="op" id="7452830">,</span>&nbsp;<span class="string" id="7452832">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7452843">}</span><span class="op" id="7452844">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452847">{</span><span class="string" id="7452848">&#34;a+&#34;</span><span class="op" id="7452852">,</span>&nbsp;<span class="string" id="7452854">&#34;${oops&#34;</span><span class="op" id="7452862">,</span>&nbsp;<span class="string" id="7452864">&#34;aaa&#34;</span><span class="op" id="7452869">,</span>&nbsp;<span class="string" id="7452871">&#34;${oops&#34;</span><span class="op" id="7452879">}</span><span class="op" id="7452880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452883">{</span><span class="string" id="7452884">&#34;a+&#34;</span><span class="op" id="7452888">,</span>&nbsp;<span class="string" id="7452890">&#34;$$&#34;</span><span class="op" id="7452894">,</span>&nbsp;<span class="string" id="7452896">&#34;aaa&#34;</span><span class="op" id="7452901">,</span>&nbsp;<span class="string" id="7452903">&#34;$$&#34;</span><span class="op" id="7452907">}</span><span class="op" id="7452908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452911">{</span><span class="string" id="7452912">&#34;a+&#34;</span><span class="op" id="7452916">,</span>&nbsp;<span class="string" id="7452918">&#34;$&#34;</span><span class="op" id="7452921">,</span>&nbsp;<span class="string" id="7452923">&#34;aaa&#34;</span><span class="op" id="7452928">,</span>&nbsp;<span class="string" id="7452930">&#34;$&#34;</span><span class="op" id="7452933">}</span><span class="op" id="7452934">,</span><br>
<span class="lineno"></span><span class="op" id="7452936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="7452939">type</span>&nbsp;<span class="ident" id="7452944">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="7452960">struct</span>&nbsp;<span class="op" id="7452967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452970">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7452984">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452992">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="7453006">func</span><span class="op" id="7453010">(</span><span class="builtintype" id="7453011">string</span><span class="op" id="7453017">)</span>&nbsp;<span class="builtintype" id="7453019">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453027">input</span><span class="op" id="7453032">,</span>&nbsp;<span class="ident" id="7453034">output</span>&nbsp;<span class="builtintype" id="7453041">string</span><br>
<span class="lineno"></span><span class="op" id="7453048">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7453051">var</span>&nbsp;<span class="ident" id="7453055">replaceFuncTests</span>&nbsp;<span class="op" id="7453072">=</span>&nbsp;<span class="op" id="7453074">[</span><span class="op" id="7453075">]</span><span class="ident" id="7453076">ReplaceFuncTest</span><span class="op" id="7453091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453094">{</span><span class="string" id="7453095">&#34;[a-c]&#34;</span><span class="op" id="7453102">,</span>&nbsp;<span class="keyword" id="7453104">func</span><span class="op" id="7453108">(</span><span class="ident" id="7453109">s</span>&nbsp;<span class="builtintype" id="7453111">string</span><span class="op" id="7453117">)</span>&nbsp;<span class="builtintype" id="7453119">string</span>&nbsp;<span class="op" id="7453126">{</span>&nbsp;<span class="keyword" id="7453128">return</span>&nbsp;<span class="string" id="7453135">&#34;x&#34;</span>&nbsp;<span class="op" id="7453139">+</span>&nbsp;<span class="ident" id="7453141">s</span>&nbsp;<span class="op" id="7453143">+</span>&nbsp;<span class="string" id="7453145">&#34;y&#34;</span>&nbsp;<span class="op" id="7453149">}</span><span class="op" id="7453150">,</span>&nbsp;<span class="string" id="7453152">&#34;defabcdef&#34;</span><span class="op" id="7453163">,</span>&nbsp;<span class="string" id="7453165">&#34;defxayxbyxcydef&#34;</span><span class="op" id="7453182">}</span><span class="op" id="7453183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453186">{</span><span class="string" id="7453187">&#34;[a-c]+&#34;</span><span class="op" id="7453195">,</span>&nbsp;<span class="keyword" id="7453197">func</span><span class="op" id="7453201">(</span><span class="ident" id="7453202">s</span>&nbsp;<span class="builtintype" id="7453204">string</span><span class="op" id="7453210">)</span>&nbsp;<span class="builtintype" id="7453212">string</span>&nbsp;<span class="op" id="7453219">{</span>&nbsp;<span class="keyword" id="7453221">return</span>&nbsp;<span class="string" id="7453228">&#34;x&#34;</span>&nbsp;<span class="op" id="7453232">+</span>&nbsp;<span class="ident" id="7453234">s</span>&nbsp;<span class="op" id="7453236">+</span>&nbsp;<span class="string" id="7453238">&#34;y&#34;</span>&nbsp;<span class="op" id="7453242">}</span><span class="op" id="7453243">,</span>&nbsp;<span class="string" id="7453245">&#34;defabcdef&#34;</span><span class="op" id="7453256">,</span>&nbsp;<span class="string" id="7453258">&#34;defxabcydef&#34;</span><span class="op" id="7453271">}</span><span class="op" id="7453272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453275">{</span><span class="string" id="7453276">&#34;[a-c]*&#34;</span><span class="op" id="7453284">,</span>&nbsp;<span class="keyword" id="7453286">func</span><span class="op" id="7453290">(</span><span class="ident" id="7453291">s</span>&nbsp;<span class="builtintype" id="7453293">string</span><span class="op" id="7453299">)</span>&nbsp;<span class="builtintype" id="7453301">string</span>&nbsp;<span class="op" id="7453308">{</span>&nbsp;<span class="keyword" id="7453310">return</span>&nbsp;<span class="string" id="7453317">&#34;x&#34;</span>&nbsp;<span class="op" id="7453321">+</span>&nbsp;<span class="ident" id="7453323">s</span>&nbsp;<span class="op" id="7453325">+</span>&nbsp;<span class="string" id="7453327">&#34;y&#34;</span>&nbsp;<span class="op" id="7453331">}</span><span class="op" id="7453332">,</span>&nbsp;<span class="string" id="7453334">&#34;defabcdef&#34;</span><span class="op" id="7453345">,</span>&nbsp;<span class="string" id="7453347">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="7453372">}</span><span class="op" id="7453373">,</span><br>
<span class="lineno">235</span><span class="op" id="7453375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7453378">func</span>&nbsp;<span class="ident" id="7453383">TestReplaceAll</span><span class="op" id="7453397">(</span><span class="ident" id="7453398">t</span>&nbsp;<span class="op" id="7453400">*</span><span class="ident" id="7453401">testing</span><span class="op" id="7453408">.</span><span class="ident" id="7453409">T</span><span class="op" id="7453410">)</span>&nbsp;<span class="op" id="7453412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453415">for</span>&nbsp;<span class="ident" id="7453419">_</span><span class="op" id="7453420">,</span>&nbsp;<span class="ident" id="7453422">tc</span>&nbsp;<span class="op" id="7453425">:=</span>&nbsp;<span class="keyword" id="7453428">range</span>&nbsp;<span class="ident" id="7453434">replaceTests</span>&nbsp;<span class="op" id="7453447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453451">re</span><span class="op" id="7453453">,</span>&nbsp;<span class="ident" id="7453455">err</span>&nbsp;<span class="op" id="7453459">:=</span>&nbsp;<span class="ident" id="7453462">Compile</span><span class="op" id="7453469">(</span><span class="ident" id="7453470">tc</span><span class="op" id="7453472">.</span><span class="ident" id="7453473">pattern</span><span class="op" id="7453480">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453484">if</span>&nbsp;<span class="ident" id="7453487">err</span>&nbsp;<span class="op" id="7453491">!=</span>&nbsp;<span class="ident" id="7453494">nil</span>&nbsp;<span class="op" id="7453498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453503">t</span><span class="op" id="7453504">.</span><span class="ident" id="7453505">Errorf</span><span class="op" id="7453511">(</span><span class="string" id="7453512">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7453547">,</span>&nbsp;<span class="ident" id="7453549">tc</span><span class="op" id="7453551">.</span><span class="ident" id="7453552">pattern</span><span class="op" id="7453559">,</span>&nbsp;<span class="ident" id="7453561">err</span><span class="op" id="7453564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453569">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453584">actual</span>&nbsp;<span class="op" id="7453591">:=</span>&nbsp;<span class="ident" id="7453594">re</span><span class="op" id="7453596">.</span><span class="ident" id="7453597">ReplaceAllString</span><span class="op" id="7453613">(</span><span class="ident" id="7453614">tc</span><span class="op" id="7453616">.</span><span class="ident" id="7453617">input</span><span class="op" id="7453622">,</span>&nbsp;<span class="ident" id="7453624">tc</span><span class="op" id="7453626">.</span><span class="ident" id="7453627">replacement</span><span class="op" id="7453638">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453642">if</span>&nbsp;<span class="ident" id="7453645">actual</span>&nbsp;<span class="op" id="7453652">!=</span>&nbsp;<span class="ident" id="7453655">tc</span><span class="op" id="7453657">.</span><span class="ident" id="7453658">output</span>&nbsp;<span class="op" id="7453665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453670">t</span><span class="op" id="7453671">.</span><span class="ident" id="7453672">Errorf</span><span class="op" id="7453678">(</span><span class="string" id="7453679">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7453721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453727">tc</span><span class="op" id="7453729">.</span><span class="ident" id="7453730">pattern</span><span class="op" id="7453737">,</span>&nbsp;<span class="ident" id="7453739">tc</span><span class="op" id="7453741">.</span><span class="ident" id="7453742">input</span><span class="op" id="7453747">,</span>&nbsp;<span class="ident" id="7453749">tc</span><span class="op" id="7453751">.</span><span class="ident" id="7453752">replacement</span><span class="op" id="7453763">,</span>&nbsp;<span class="ident" id="7453765">actual</span><span class="op" id="7453771">,</span>&nbsp;<span class="ident" id="7453773">tc</span><span class="op" id="7453775">.</span><span class="ident" id="7453776">output</span><span class="op" id="7453782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7453790">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453809">actual</span>&nbsp;<span class="op" id="7453816">=</span>&nbsp;<span class="builtintype" id="7453818">string</span><span class="op" id="7453824">(</span><span class="ident" id="7453825">re</span><span class="op" id="7453827">.</span><span class="ident" id="7453828">ReplaceAll</span><span class="op" id="7453838">(</span><span class="op" id="7453839">[</span><span class="op" id="7453840">]</span><span class="builtintype" id="7453841">byte</span><span class="op" id="7453845">(</span><span class="ident" id="7453846">tc</span><span class="op" id="7453848">.</span><span class="ident" id="7453849">input</span><span class="op" id="7453854">)</span><span class="op" id="7453855">,</span>&nbsp;<span class="op" id="7453857">[</span><span class="op" id="7453858">]</span><span class="builtintype" id="7453859">byte</span><span class="op" id="7453863">(</span><span class="ident" id="7453864">tc</span><span class="op" id="7453866">.</span><span class="ident" id="7453867">replacement</span><span class="op" id="7453878">)</span><span class="op" id="7453879">)</span><span class="op" id="7453880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453884">if</span>&nbsp;<span class="ident" id="7453887">actual</span>&nbsp;<span class="op" id="7453894">!=</span>&nbsp;<span class="ident" id="7453897">tc</span><span class="op" id="7453899">.</span><span class="ident" id="7453900">output</span>&nbsp;<span class="op" id="7453907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453912">t</span><span class="op" id="7453913">.</span><span class="ident" id="7453914">Errorf</span><span class="op" id="7453920">(</span><span class="string" id="7453921">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7453957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453963">tc</span><span class="op" id="7453965">.</span><span class="ident" id="7453966">pattern</span><span class="op" id="7453973">,</span>&nbsp;<span class="ident" id="7453975">tc</span><span class="op" id="7453977">.</span><span class="ident" id="7453978">input</span><span class="op" id="7453983">,</span>&nbsp;<span class="ident" id="7453985">tc</span><span class="op" id="7453987">.</span><span class="ident" id="7453988">replacement</span><span class="op" id="7453999">,</span>&nbsp;<span class="ident" id="7454001">actual</span><span class="op" id="7454007">,</span>&nbsp;<span class="ident" id="7454009">tc</span><span class="op" id="7454011">.</span><span class="ident" id="7454012">output</span><span class="op" id="7454018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454022">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454025">}</span><br>
<span class="lineno"></span><span class="op" id="7454027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454030">func</span>&nbsp;<span class="ident" id="7454035">TestReplaceAllLiteral</span><span class="op" id="7454056">(</span><span class="ident" id="7454057">t</span>&nbsp;<span class="op" id="7454059">*</span><span class="ident" id="7454060">testing</span><span class="op" id="7454067">.</span><span class="ident" id="7454068">T</span><span class="op" id="7454069">)</span>&nbsp;<span class="op" id="7454071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7454074">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454130">for</span>&nbsp;<span class="ident" id="7454134">_</span><span class="op" id="7454135">,</span>&nbsp;<span class="ident" id="7454137">tc</span>&nbsp;<span class="op" id="7454140">:=</span>&nbsp;<span class="keyword" id="7454143">range</span>&nbsp;<span class="ident" id="7454149">replaceTests</span>&nbsp;<span class="op" id="7454162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454166">if</span>&nbsp;<span class="ident" id="7454169">strings</span><span class="op" id="7454176">.</span><span class="ident" id="7454177">Contains</span><span class="op" id="7454185">(</span><span class="ident" id="7454186">tc</span><span class="op" id="7454188">.</span><span class="ident" id="7454189">replacement</span><span class="op" id="7454200">,</span>&nbsp;<span class="string" id="7454202">&#34;$&#34;</span><span class="op" id="7454205">)</span>&nbsp;<span class="op" id="7454207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454212">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454227">re</span><span class="op" id="7454229">,</span>&nbsp;<span class="ident" id="7454231">err</span>&nbsp;<span class="op" id="7454235">:=</span>&nbsp;<span class="ident" id="7454238">Compile</span><span class="op" id="7454245">(</span><span class="ident" id="7454246">tc</span><span class="op" id="7454248">.</span><span class="ident" id="7454249">pattern</span><span class="op" id="7454256">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454260">if</span>&nbsp;<span class="ident" id="7454263">err</span>&nbsp;<span class="op" id="7454267">!=</span>&nbsp;<span class="ident" id="7454270">nil</span>&nbsp;<span class="op" id="7454274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454279">t</span><span class="op" id="7454280">.</span><span class="ident" id="7454281">Errorf</span><span class="op" id="7454287">(</span><span class="string" id="7454288">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7454323">,</span>&nbsp;<span class="ident" id="7454325">tc</span><span class="op" id="7454327">.</span><span class="ident" id="7454328">pattern</span><span class="op" id="7454335">,</span>&nbsp;<span class="ident" id="7454337">err</span><span class="op" id="7454340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454345">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454360">actual</span>&nbsp;<span class="op" id="7454367">:=</span>&nbsp;<span class="ident" id="7454370">re</span><span class="op" id="7454372">.</span><span class="ident" id="7454373">ReplaceAllLiteralString</span><span class="op" id="7454396">(</span><span class="ident" id="7454397">tc</span><span class="op" id="7454399">.</span><span class="ident" id="7454400">input</span><span class="op" id="7454405">,</span>&nbsp;<span class="ident" id="7454407">tc</span><span class="op" id="7454409">.</span><span class="ident" id="7454410">replacement</span><span class="op" id="7454421">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454425">if</span>&nbsp;<span class="ident" id="7454428">actual</span>&nbsp;<span class="op" id="7454435">!=</span>&nbsp;<span class="ident" id="7454438">tc</span><span class="op" id="7454440">.</span><span class="ident" id="7454441">output</span>&nbsp;<span class="op" id="7454448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454453">t</span><span class="op" id="7454454">.</span><span class="ident" id="7454455">Errorf</span><span class="op" id="7454461">(</span><span class="string" id="7454462">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7454511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454517">tc</span><span class="op" id="7454519">.</span><span class="ident" id="7454520">pattern</span><span class="op" id="7454527">,</span>&nbsp;<span class="ident" id="7454529">tc</span><span class="op" id="7454531">.</span><span class="ident" id="7454532">input</span><span class="op" id="7454537">,</span>&nbsp;<span class="ident" id="7454539">tc</span><span class="op" id="7454541">.</span><span class="ident" id="7454542">replacement</span><span class="op" id="7454553">,</span>&nbsp;<span class="ident" id="7454555">actual</span><span class="op" id="7454561">,</span>&nbsp;<span class="ident" id="7454563">tc</span><span class="op" id="7454565">.</span><span class="ident" id="7454566">output</span><span class="op" id="7454572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7454580">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454599">actual</span>&nbsp;<span class="op" id="7454606">=</span>&nbsp;<span class="builtintype" id="7454608">string</span><span class="op" id="7454614">(</span><span class="ident" id="7454615">re</span><span class="op" id="7454617">.</span><span class="ident" id="7454618">ReplaceAllLiteral</span><span class="op" id="7454635">(</span><span class="op" id="7454636">[</span><span class="op" id="7454637">]</span><span class="builtintype" id="7454638">byte</span><span class="op" id="7454642">(</span><span class="ident" id="7454643">tc</span><span class="op" id="7454645">.</span><span class="ident" id="7454646">input</span><span class="op" id="7454651">)</span><span class="op" id="7454652">,</span>&nbsp;<span class="op" id="7454654">[</span><span class="op" id="7454655">]</span><span class="builtintype" id="7454656">byte</span><span class="op" id="7454660">(</span><span class="ident" id="7454661">tc</span><span class="op" id="7454663">.</span><span class="ident" id="7454664">replacement</span><span class="op" id="7454675">)</span><span class="op" id="7454676">)</span><span class="op" id="7454677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454681">if</span>&nbsp;<span class="ident" id="7454684">actual</span>&nbsp;<span class="op" id="7454691">!=</span>&nbsp;<span class="ident" id="7454694">tc</span><span class="op" id="7454696">.</span><span class="ident" id="7454697">output</span>&nbsp;<span class="op" id="7454704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454709">t</span><span class="op" id="7454710">.</span><span class="ident" id="7454711">Errorf</span><span class="op" id="7454717">(</span><span class="string" id="7454718">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7454761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454767">tc</span><span class="op" id="7454769">.</span><span class="ident" id="7454770">pattern</span><span class="op" id="7454777">,</span>&nbsp;<span class="ident" id="7454779">tc</span><span class="op" id="7454781">.</span><span class="ident" id="7454782">input</span><span class="op" id="7454787">,</span>&nbsp;<span class="ident" id="7454789">tc</span><span class="op" id="7454791">.</span><span class="ident" id="7454792">replacement</span><span class="op" id="7454803">,</span>&nbsp;<span class="ident" id="7454805">actual</span><span class="op" id="7454811">,</span>&nbsp;<span class="ident" id="7454813">tc</span><span class="op" id="7454815">.</span><span class="ident" id="7454816">output</span><span class="op" id="7454822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454826">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7454833">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454865">for</span>&nbsp;<span class="ident" id="7454869">_</span><span class="op" id="7454870">,</span>&nbsp;<span class="ident" id="7454872">tc</span>&nbsp;<span class="op" id="7454875">:=</span>&nbsp;<span class="keyword" id="7454878">range</span>&nbsp;<span class="ident" id="7454884">replaceLiteralTests</span>&nbsp;<span class="op" id="7454904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454908">re</span><span class="op" id="7454910">,</span>&nbsp;<span class="ident" id="7454912">err</span>&nbsp;<span class="op" id="7454916">:=</span>&nbsp;<span class="ident" id="7454919">Compile</span><span class="op" id="7454926">(</span><span class="ident" id="7454927">tc</span><span class="op" id="7454929">.</span><span class="ident" id="7454930">pattern</span><span class="op" id="7454937">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454941">if</span>&nbsp;<span class="ident" id="7454944">err</span>&nbsp;<span class="op" id="7454948">!=</span>&nbsp;<span class="ident" id="7454951">nil</span>&nbsp;<span class="op" id="7454955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454960">t</span><span class="op" id="7454961">.</span><span class="ident" id="7454962">Errorf</span><span class="op" id="7454968">(</span><span class="string" id="7454969">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7455004">,</span>&nbsp;<span class="ident" id="7455006">tc</span><span class="op" id="7455008">.</span><span class="ident" id="7455009">pattern</span><span class="op" id="7455016">,</span>&nbsp;<span class="ident" id="7455018">err</span><span class="op" id="7455021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455026">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455041">actual</span>&nbsp;<span class="op" id="7455048">:=</span>&nbsp;<span class="ident" id="7455051">re</span><span class="op" id="7455053">.</span><span class="ident" id="7455054">ReplaceAllLiteralString</span><span class="op" id="7455077">(</span><span class="ident" id="7455078">tc</span><span class="op" id="7455080">.</span><span class="ident" id="7455081">input</span><span class="op" id="7455086">,</span>&nbsp;<span class="ident" id="7455088">tc</span><span class="op" id="7455090">.</span><span class="ident" id="7455091">replacement</span><span class="op" id="7455102">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455106">if</span>&nbsp;<span class="ident" id="7455109">actual</span>&nbsp;<span class="op" id="7455116">!=</span>&nbsp;<span class="ident" id="7455119">tc</span><span class="op" id="7455121">.</span><span class="ident" id="7455122">output</span>&nbsp;<span class="op" id="7455129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455134">t</span><span class="op" id="7455135">.</span><span class="ident" id="7455136">Errorf</span><span class="op" id="7455142">(</span><span class="string" id="7455143">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7455192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455198">tc</span><span class="op" id="7455200">.</span><span class="ident" id="7455201">pattern</span><span class="op" id="7455208">,</span>&nbsp;<span class="ident" id="7455210">tc</span><span class="op" id="7455212">.</span><span class="ident" id="7455213">input</span><span class="op" id="7455218">,</span>&nbsp;<span class="ident" id="7455220">tc</span><span class="op" id="7455222">.</span><span class="ident" id="7455223">replacement</span><span class="op" id="7455234">,</span>&nbsp;<span class="ident" id="7455236">actual</span><span class="op" id="7455242">,</span>&nbsp;<span class="ident" id="7455244">tc</span><span class="op" id="7455246">.</span><span class="ident" id="7455247">output</span><span class="op" id="7455253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7455261">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455280">actual</span>&nbsp;<span class="op" id="7455287">=</span>&nbsp;<span class="builtintype" id="7455289">string</span><span class="op" id="7455295">(</span><span class="ident" id="7455296">re</span><span class="op" id="7455298">.</span><span class="ident" id="7455299">ReplaceAllLiteral</span><span class="op" id="7455316">(</span><span class="op" id="7455317">[</span><span class="op" id="7455318">]</span><span class="builtintype" id="7455319">byte</span><span class="op" id="7455323">(</span><span class="ident" id="7455324">tc</span><span class="op" id="7455326">.</span><span class="ident" id="7455327">input</span><span class="op" id="7455332">)</span><span class="op" id="7455333">,</span>&nbsp;<span class="op" id="7455335">[</span><span class="op" id="7455336">]</span><span class="builtintype" id="7455337">byte</span><span class="op" id="7455341">(</span><span class="ident" id="7455342">tc</span><span class="op" id="7455344">.</span><span class="ident" id="7455345">replacement</span><span class="op" id="7455356">)</span><span class="op" id="7455357">)</span><span class="op" id="7455358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455362">if</span>&nbsp;<span class="ident" id="7455365">actual</span>&nbsp;<span class="op" id="7455372">!=</span>&nbsp;<span class="ident" id="7455375">tc</span><span class="op" id="7455377">.</span><span class="ident" id="7455378">output</span>&nbsp;<span class="op" id="7455385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455390">t</span><span class="op" id="7455391">.</span><span class="ident" id="7455392">Errorf</span><span class="op" id="7455398">(</span><span class="string" id="7455399">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7455442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455448">tc</span><span class="op" id="7455450">.</span><span class="ident" id="7455451">pattern</span><span class="op" id="7455458">,</span>&nbsp;<span class="ident" id="7455460">tc</span><span class="op" id="7455462">.</span><span class="ident" id="7455463">input</span><span class="op" id="7455468">,</span>&nbsp;<span class="ident" id="7455470">tc</span><span class="op" id="7455472">.</span><span class="ident" id="7455473">replacement</span><span class="op" id="7455484">,</span>&nbsp;<span class="ident" id="7455486">actual</span><span class="op" id="7455492">,</span>&nbsp;<span class="ident" id="7455494">tc</span><span class="op" id="7455496">.</span><span class="ident" id="7455497">output</span><span class="op" id="7455503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455507">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455510">}</span><br>
<span class="lineno"></span><span class="op" id="7455512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7455515">func</span>&nbsp;<span class="ident" id="7455520">TestReplaceAllFunc</span><span class="op" id="7455538">(</span><span class="ident" id="7455539">t</span>&nbsp;<span class="op" id="7455541">*</span><span class="ident" id="7455542">testing</span><span class="op" id="7455549">.</span><span class="ident" id="7455550">T</span><span class="op" id="7455551">)</span>&nbsp;<span class="op" id="7455553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455556">for</span>&nbsp;<span class="ident" id="7455560">_</span><span class="op" id="7455561">,</span>&nbsp;<span class="ident" id="7455563">tc</span>&nbsp;<span class="op" id="7455566">:=</span>&nbsp;<span class="keyword" id="7455569">range</span>&nbsp;<span class="ident" id="7455575">replaceFuncTests</span>&nbsp;<span class="op" id="7455592">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455596">re</span><span class="op" id="7455598">,</span>&nbsp;<span class="ident" id="7455600">err</span>&nbsp;<span class="op" id="7455604">:=</span>&nbsp;<span class="ident" id="7455607">Compile</span><span class="op" id="7455614">(</span><span class="ident" id="7455615">tc</span><span class="op" id="7455617">.</span><span class="ident" id="7455618">pattern</span><span class="op" id="7455625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455629">if</span>&nbsp;<span class="ident" id="7455632">err</span>&nbsp;<span class="op" id="7455636">!=</span>&nbsp;<span class="ident" id="7455639">nil</span>&nbsp;<span class="op" id="7455643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455648">t</span><span class="op" id="7455649">.</span><span class="ident" id="7455650">Errorf</span><span class="op" id="7455656">(</span><span class="string" id="7455657">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7455692">,</span>&nbsp;<span class="ident" id="7455694">tc</span><span class="op" id="7455696">.</span><span class="ident" id="7455697">pattern</span><span class="op" id="7455704">,</span>&nbsp;<span class="ident" id="7455706">err</span><span class="op" id="7455709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455714">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455725">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455729">actual</span>&nbsp;<span class="op" id="7455736">:=</span>&nbsp;<span class="ident" id="7455739">re</span><span class="op" id="7455741">.</span><span class="ident" id="7455742">ReplaceAllStringFunc</span><span class="op" id="7455762">(</span><span class="ident" id="7455763">tc</span><span class="op" id="7455765">.</span><span class="ident" id="7455766">input</span><span class="op" id="7455771">,</span>&nbsp;<span class="ident" id="7455773">tc</span><span class="op" id="7455775">.</span><span class="ident" id="7455776">replacement</span><span class="op" id="7455787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455791">if</span>&nbsp;<span class="ident" id="7455794">actual</span>&nbsp;<span class="op" id="7455801">!=</span>&nbsp;<span class="ident" id="7455804">tc</span><span class="op" id="7455806">.</span><span class="ident" id="7455807">output</span>&nbsp;<span class="op" id="7455814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455819">t</span><span class="op" id="7455820">.</span><span class="ident" id="7455821">Errorf</span><span class="op" id="7455827">(</span><span class="string" id="7455828">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7455865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455871">tc</span><span class="op" id="7455873">.</span><span class="ident" id="7455874">pattern</span><span class="op" id="7455881">,</span>&nbsp;<span class="ident" id="7455883">tc</span><span class="op" id="7455885">.</span><span class="ident" id="7455886">input</span><span class="op" id="7455891">,</span>&nbsp;<span class="ident" id="7455893">actual</span><span class="op" id="7455899">,</span>&nbsp;<span class="ident" id="7455901">tc</span><span class="op" id="7455903">.</span><span class="ident" id="7455904">output</span><span class="op" id="7455910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455914">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7455918">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455937">actual</span>&nbsp;<span class="op" id="7455944">=</span>&nbsp;<span class="builtintype" id="7455946">string</span><span class="op" id="7455952">(</span><span class="ident" id="7455953">re</span><span class="op" id="7455955">.</span><span class="ident" id="7455956">ReplaceAllFunc</span><span class="op" id="7455970">(</span><span class="op" id="7455971">[</span><span class="op" id="7455972">]</span><span class="builtintype" id="7455973">byte</span><span class="op" id="7455977">(</span><span class="ident" id="7455978">tc</span><span class="op" id="7455980">.</span><span class="ident" id="7455981">input</span><span class="op" id="7455986">)</span><span class="op" id="7455987">,</span>&nbsp;<span class="keyword" id="7455989">func</span><span class="op" id="7455993">(</span><span class="ident" id="7455994">s</span>&nbsp;<span class="op" id="7455996">[</span><span class="op" id="7455997">]</span><span class="builtintype" id="7455998">byte</span><span class="op" id="7456002">)</span>&nbsp;<span class="op" id="7456004">[</span><span class="op" id="7456005">]</span><span class="builtintype" id="7456006">byte</span>&nbsp;<span class="op" id="7456011">{</span>&nbsp;<span class="keyword" id="7456013">return</span>&nbsp;<span class="op" id="7456020">[</span><span class="op" id="7456021">]</span><span class="builtintype" id="7456022">byte</span><span class="op" id="7456026">(</span><span class="ident" id="7456027">tc</span><span class="op" id="7456029">.</span><span class="ident" id="7456030">replacement</span><span class="op" id="7456041">(</span><span class="builtintype" id="7456042">string</span><span class="op" id="7456048">(</span><span class="ident" id="7456049">s</span><span class="op" id="7456050">)</span><span class="op" id="7456051">)</span><span class="op" id="7456052">)</span>&nbsp;<span class="op" id="7456054">}</span><span class="op" id="7456055">)</span><span class="op" id="7456056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7456060">if</span>&nbsp;<span class="ident" id="7456063">actual</span>&nbsp;<span class="op" id="7456070">!=</span>&nbsp;<span class="ident" id="7456073">tc</span><span class="op" id="7456075">.</span><span class="ident" id="7456076">output</span>&nbsp;<span class="op" id="7456083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456088">t</span><span class="op" id="7456089">.</span><span class="ident" id="7456090">Errorf</span><span class="op" id="7456096">(</span><span class="string" id="7456097">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7456134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456140">tc</span><span class="op" id="7456142">.</span><span class="ident" id="7456143">pattern</span><span class="op" id="7456150">,</span>&nbsp;<span class="ident" id="7456152">tc</span><span class="op" id="7456154">.</span><span class="ident" id="7456155">input</span><span class="op" id="7456160">,</span>&nbsp;<span class="ident" id="7456162">actual</span><span class="op" id="7456168">,</span>&nbsp;<span class="ident" id="7456170">tc</span><span class="op" id="7456172">.</span><span class="ident" id="7456173">output</span><span class="op" id="7456179">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456186">}</span><br>
<span class="lineno"></span><span class="op" id="7456188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7456191">type</span>&nbsp;<span class="ident" id="7456196">MetaTest</span>&nbsp;<span class="keyword" id="7456205">struct</span>&nbsp;<span class="op" id="7456212">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456215">pattern</span><span class="op" id="7456222">,</span>&nbsp;<span class="ident" id="7456224">output</span><span class="op" id="7456230">,</span>&nbsp;<span class="ident" id="7456232">literal</span>&nbsp;<span class="builtintype" id="7456240">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456248">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7456273">bool</span><br>
<span class="lineno"></span><span class="op" id="7456278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7456281">var</span>&nbsp;<span class="ident" id="7456285">metaTests</span>&nbsp;<span class="op" id="7456295">=</span>&nbsp;<span class="op" id="7456297">[</span><span class="op" id="7456298">]</span><span class="ident" id="7456299">MetaTest</span><span class="op" id="7456307">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456310">{</span><span class="string" id="7456311">``</span><span class="op" id="7456313">,</span>&nbsp;<span class="string" id="7456315">``</span><span class="op" id="7456317">,</span>&nbsp;<span class="string" id="7456319">``</span><span class="op" id="7456321">,</span>&nbsp;<span class="builtintype" id="7456323">true</span><span class="op" id="7456327">}</span><span class="op" id="7456328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456331">{</span><span class="string" id="7456332">`foo`</span><span class="op" id="7456337">,</span>&nbsp;<span class="string" id="7456339">`foo`</span><span class="op" id="7456344">,</span>&nbsp;<span class="string" id="7456346">`foo`</span><span class="op" id="7456351">,</span>&nbsp;<span class="builtintype" id="7456353">true</span><span class="op" id="7456357">}</span><span class="op" id="7456358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456361">{</span><span class="string" id="7456362">`foo\.\$`</span><span class="op" id="7456371">,</span>&nbsp;<span class="string" id="7456373">`foo\\\.\\\$`</span><span class="op" id="7456386">,</span>&nbsp;<span class="string" id="7456388">`foo.$`</span><span class="op" id="7456395">,</span>&nbsp;<span class="builtintype" id="7456397">true</span><span class="op" id="7456401">}</span><span class="op" id="7456402">,</span>&nbsp;<span class="comment" id="7456404">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456433">{</span><span class="string" id="7456434">`foo.\$`</span><span class="op" id="7456442">,</span>&nbsp;<span class="string" id="7456444">`foo\.\\\$`</span><span class="op" id="7456455">,</span>&nbsp;<span class="string" id="7456457">`foo`</span><span class="op" id="7456462">,</span>&nbsp;<span class="builtintype" id="7456464">false</span><span class="op" id="7456469">}</span><span class="op" id="7456470">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7456476">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456521">{</span><span class="string" id="7456522">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="7456551">,</span>&nbsp;<span class="string" id="7456553">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="7456596">,</span>&nbsp;<span class="string" id="7456598">`!@#`</span><span class="op" id="7456603">,</span>&nbsp;<span class="builtintype" id="7456605">false</span><span class="op" id="7456610">}</span><span class="op" id="7456611">,</span><br>
<span class="lineno">335</span><span class="op" id="7456613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7456616">func</span>&nbsp;<span class="ident" id="7456621">TestQuoteMeta</span><span class="op" id="7456634">(</span><span class="ident" id="7456635">t</span>&nbsp;<span class="op" id="7456637">*</span><span class="ident" id="7456638">testing</span><span class="op" id="7456645">.</span><span class="ident" id="7456646">T</span><span class="op" id="7456647">)</span>&nbsp;<span class="op" id="7456649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7456652">for</span>&nbsp;<span class="ident" id="7456656">_</span><span class="op" id="7456657">,</span>&nbsp;<span class="ident" id="7456659">tc</span>&nbsp;<span class="op" id="7456662">:=</span>&nbsp;<span class="keyword" id="7456665">range</span>&nbsp;<span class="ident" id="7456671">metaTests</span>&nbsp;<span class="op" id="7456681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7456685">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456741">quoted</span>&nbsp;<span class="op" id="7456748">:=</span>&nbsp;<span class="ident" id="7456751">QuoteMeta</span><span class="op" id="7456760">(</span><span class="ident" id="7456761">tc</span><span class="op" id="7456763">.</span><span class="ident" id="7456764">pattern</span><span class="op" id="7456771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7456775">if</span>&nbsp;<span class="ident" id="7456778">quoted</span>&nbsp;<span class="op" id="7456785">!=</span>&nbsp;<span class="ident" id="7456788">tc</span><span class="op" id="7456790">.</span><span class="ident" id="7456791">output</span>&nbsp;<span class="op" id="7456798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456803">t</span><span class="op" id="7456804">.</span><span class="ident" id="7456805">Errorf</span><span class="op" id="7456811">(</span><span class="string" id="7456812">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7456847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456853">tc</span><span class="op" id="7456855">.</span><span class="ident" id="7456856">pattern</span><span class="op" id="7456863">,</span>&nbsp;<span class="ident" id="7456865">quoted</span><span class="op" id="7456871">,</span>&nbsp;<span class="ident" id="7456873">tc</span><span class="op" id="7456875">.</span><span class="ident" id="7456876">output</span><span class="op" id="7456882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7456887">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7456903">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7456969">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457040">if</span>&nbsp;<span class="ident" id="7457043">tc</span><span class="op" id="7457045">.</span><span class="ident" id="7457046">pattern</span>&nbsp;<span class="op" id="7457054">!=</span>&nbsp;<span class="string" id="7457057">&#34;&#34;</span>&nbsp;<span class="op" id="7457060">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457065">re</span><span class="op" id="7457067">,</span>&nbsp;<span class="ident" id="7457069">err</span>&nbsp;<span class="op" id="7457073">:=</span>&nbsp;<span class="ident" id="7457076">Compile</span><span class="op" id="7457083">(</span><span class="ident" id="7457084">quoted</span><span class="op" id="7457090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457095">if</span>&nbsp;<span class="ident" id="7457098">err</span>&nbsp;<span class="op" id="7457102">!=</span>&nbsp;<span class="ident" id="7457105">nil</span>&nbsp;<span class="op" id="7457109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457115">t</span><span class="op" id="7457116">.</span><span class="ident" id="7457117">Errorf</span><span class="op" id="7457123">(</span><span class="string" id="7457124">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="7457172">,</span>&nbsp;<span class="ident" id="7457174">tc</span><span class="op" id="7457176">.</span><span class="ident" id="7457177">pattern</span><span class="op" id="7457184">,</span>&nbsp;<span class="ident" id="7457186">err</span><span class="op" id="7457189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457195">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457207">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457212">src</span>&nbsp;<span class="op" id="7457216">:=</span>&nbsp;<span class="string" id="7457219">&#34;abc&#34;</span>&nbsp;<span class="op" id="7457225">+</span>&nbsp;<span class="ident" id="7457227">tc</span><span class="op" id="7457229">.</span><span class="ident" id="7457230">pattern</span>&nbsp;<span class="op" id="7457238">+</span>&nbsp;<span class="string" id="7457240">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457249">repl</span>&nbsp;<span class="op" id="7457254">:=</span>&nbsp;<span class="string" id="7457257">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457266">replaced</span>&nbsp;<span class="op" id="7457275">:=</span>&nbsp;<span class="ident" id="7457278">re</span><span class="op" id="7457280">.</span><span class="ident" id="7457281">ReplaceAllString</span><span class="op" id="7457297">(</span><span class="ident" id="7457298">src</span><span class="op" id="7457301">,</span>&nbsp;<span class="ident" id="7457303">repl</span><span class="op" id="7457307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457312">expected</span>&nbsp;<span class="op" id="7457321">:=</span>&nbsp;<span class="string" id="7457324">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457339">if</span>&nbsp;<span class="ident" id="7457342">replaced</span>&nbsp;<span class="op" id="7457351">!=</span>&nbsp;<span class="ident" id="7457354">expected</span>&nbsp;<span class="op" id="7457363">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457369">t</span><span class="op" id="7457370">.</span><span class="ident" id="7457371">Errorf</span><span class="op" id="7457377">(</span><span class="string" id="7457378">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7457432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457439">tc</span><span class="op" id="7457441">.</span><span class="ident" id="7457442">pattern</span><span class="op" id="7457449">,</span>&nbsp;<span class="ident" id="7457451">src</span><span class="op" id="7457454">,</span>&nbsp;<span class="ident" id="7457456">repl</span><span class="op" id="7457460">,</span>&nbsp;<span class="ident" id="7457462">replaced</span><span class="op" id="7457470">,</span>&nbsp;<span class="ident" id="7457472">expected</span><span class="op" id="7457480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457492">}</span><br>
<span class="lineno">365</span><span class="op" id="7457494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7457497">func</span>&nbsp;<span class="ident" id="7457502">TestLiteralPrefix</span><span class="op" id="7457519">(</span><span class="ident" id="7457520">t</span>&nbsp;<span class="op" id="7457522">*</span><span class="ident" id="7457523">testing</span><span class="op" id="7457530">.</span><span class="ident" id="7457531">T</span><span class="op" id="7457532">)</span>&nbsp;<span class="op" id="7457534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457537">for</span>&nbsp;<span class="ident" id="7457541">_</span><span class="op" id="7457542">,</span>&nbsp;<span class="ident" id="7457544">tc</span>&nbsp;<span class="op" id="7457547">:=</span>&nbsp;<span class="keyword" id="7457550">range</span>&nbsp;<span class="ident" id="7457556">metaTests</span>&nbsp;<span class="op" id="7457566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7457570">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457617">re</span>&nbsp;<span class="op" id="7457620">:=</span>&nbsp;<span class="ident" id="7457623">MustCompile</span><span class="op" id="7457634">(</span><span class="ident" id="7457635">tc</span><span class="op" id="7457637">.</span><span class="ident" id="7457638">pattern</span><span class="op" id="7457645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457649">str</span><span class="op" id="7457652">,</span>&nbsp;<span class="ident" id="7457654">complete</span>&nbsp;<span class="op" id="7457663">:=</span>&nbsp;<span class="ident" id="7457666">re</span><span class="op" id="7457668">.</span><span class="ident" id="7457669">LiteralPrefix</span><span class="op" id="7457682">(</span><span class="op" id="7457683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457687">if</span>&nbsp;<span class="ident" id="7457690">complete</span>&nbsp;<span class="op" id="7457699">!=</span>&nbsp;<span class="ident" id="7457702">tc</span><span class="op" id="7457704">.</span><span class="ident" id="7457705">isLiteral</span>&nbsp;<span class="op" id="7457715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457720">t</span><span class="op" id="7457721">.</span><span class="ident" id="7457722">Errorf</span><span class="op" id="7457728">(</span><span class="string" id="7457729">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7457764">,</span>&nbsp;<span class="ident" id="7457766">tc</span><span class="op" id="7457768">.</span><span class="ident" id="7457769">pattern</span><span class="op" id="7457776">,</span>&nbsp;<span class="ident" id="7457778">complete</span><span class="op" id="7457786">,</span>&nbsp;<span class="ident" id="7457788">tc</span><span class="op" id="7457790">.</span><span class="ident" id="7457791">isLiteral</span><span class="op" id="7457800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457804">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457808">if</span>&nbsp;<span class="ident" id="7457811">str</span>&nbsp;<span class="op" id="7457815">!=</span>&nbsp;<span class="ident" id="7457818">tc</span><span class="op" id="7457820">.</span><span class="ident" id="7457821">literal</span>&nbsp;<span class="op" id="7457829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457834">t</span><span class="op" id="7457835">.</span><span class="ident" id="7457836">Errorf</span><span class="op" id="7457842">(</span><span class="string" id="7457843">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7457882">,</span>&nbsp;<span class="ident" id="7457884">tc</span><span class="op" id="7457886">.</span><span class="ident" id="7457887">pattern</span><span class="op" id="7457894">,</span>&nbsp;<span class="ident" id="7457896">str</span><span class="op" id="7457899">,</span>&nbsp;<span class="ident" id="7457901">tc</span><span class="op" id="7457903">.</span><span class="ident" id="7457904">literal</span><span class="op" id="7457911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457918">}</span><br>
<span class="lineno"></span><span class="op" id="7457920">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="7457923">type</span>&nbsp;<span class="ident" id="7457928">subexpCase</span>&nbsp;<span class="keyword" id="7457939">struct</span>&nbsp;<span class="op" id="7457946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457949">input</span>&nbsp;<span class="builtintype" id="7457955">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457963">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7457969">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457974">names</span>&nbsp;<span class="op" id="7457980">[</span><span class="op" id="7457981">]</span><span class="builtintype" id="7457982">string</span><br>
<span class="lineno">385</span><span class="op" id="7457989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7457992">var</span>&nbsp;<span class="ident" id="7457996">subexpCases</span>&nbsp;<span class="op" id="7458008">=</span>&nbsp;<span class="op" id="7458010">[</span><span class="op" id="7458011">]</span><span class="ident" id="7458012">subexpCase</span><span class="op" id="7458022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458025">{</span><span class="string" id="7458026">``</span><span class="op" id="7458028">,</span>&nbsp;<span class="num" id="7458030">0</span><span class="op" id="7458031">,</span>&nbsp;<span class="ident" id="7458033">nil</span><span class="op" id="7458036">}</span><span class="op" id="7458037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458040">{</span><span class="string" id="7458041">`.*`</span><span class="op" id="7458045">,</span>&nbsp;<span class="num" id="7458047">0</span><span class="op" id="7458048">,</span>&nbsp;<span class="ident" id="7458050">nil</span><span class="op" id="7458053">}</span><span class="op" id="7458054">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458057">{</span><span class="string" id="7458058">`abba`</span><span class="op" id="7458064">,</span>&nbsp;<span class="num" id="7458066">0</span><span class="op" id="7458067">,</span>&nbsp;<span class="ident" id="7458069">nil</span><span class="op" id="7458072">}</span><span class="op" id="7458073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458076">{</span><span class="string" id="7458077">`ab(b)a`</span><span class="op" id="7458085">,</span>&nbsp;<span class="num" id="7458087">1</span><span class="op" id="7458088">,</span>&nbsp;<span class="op" id="7458090">[</span><span class="op" id="7458091">]</span><span class="builtintype" id="7458092">string</span><span class="op" id="7458098">{</span><span class="string" id="7458099">&#34;&#34;</span><span class="op" id="7458101">,</span>&nbsp;<span class="string" id="7458103">&#34;&#34;</span><span class="op" id="7458105">}</span><span class="op" id="7458106">}</span><span class="op" id="7458107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458110">{</span><span class="string" id="7458111">`ab(.*)a`</span><span class="op" id="7458120">,</span>&nbsp;<span class="num" id="7458122">1</span><span class="op" id="7458123">,</span>&nbsp;<span class="op" id="7458125">[</span><span class="op" id="7458126">]</span><span class="builtintype" id="7458127">string</span><span class="op" id="7458133">{</span><span class="string" id="7458134">&#34;&#34;</span><span class="op" id="7458136">,</span>&nbsp;<span class="string" id="7458138">&#34;&#34;</span><span class="op" id="7458140">}</span><span class="op" id="7458141">}</span><span class="op" id="7458142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458145">{</span><span class="string" id="7458146">`(.*)ab(.*)a`</span><span class="op" id="7458159">,</span>&nbsp;<span class="num" id="7458161">2</span><span class="op" id="7458162">,</span>&nbsp;<span class="op" id="7458164">[</span><span class="op" id="7458165">]</span><span class="builtintype" id="7458166">string</span><span class="op" id="7458172">{</span><span class="string" id="7458173">&#34;&#34;</span><span class="op" id="7458175">,</span>&nbsp;<span class="string" id="7458177">&#34;&#34;</span><span class="op" id="7458179">,</span>&nbsp;<span class="string" id="7458181">&#34;&#34;</span><span class="op" id="7458183">}</span><span class="op" id="7458184">}</span><span class="op" id="7458185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458188">{</span><span class="string" id="7458189">`(.*)(ab)(.*)a`</span><span class="op" id="7458204">,</span>&nbsp;<span class="num" id="7458206">3</span><span class="op" id="7458207">,</span>&nbsp;<span class="op" id="7458209">[</span><span class="op" id="7458210">]</span><span class="builtintype" id="7458211">string</span><span class="op" id="7458217">{</span><span class="string" id="7458218">&#34;&#34;</span><span class="op" id="7458220">,</span>&nbsp;<span class="string" id="7458222">&#34;&#34;</span><span class="op" id="7458224">,</span>&nbsp;<span class="string" id="7458226">&#34;&#34;</span><span class="op" id="7458228">,</span>&nbsp;<span class="string" id="7458230">&#34;&#34;</span><span class="op" id="7458232">}</span><span class="op" id="7458233">}</span><span class="op" id="7458234">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458237">{</span><span class="string" id="7458238">`(.*)((a)b)(.*)a`</span><span class="op" id="7458255">,</span>&nbsp;<span class="num" id="7458257">4</span><span class="op" id="7458258">,</span>&nbsp;<span class="op" id="7458260">[</span><span class="op" id="7458261">]</span><span class="builtintype" id="7458262">string</span><span class="op" id="7458268">{</span><span class="string" id="7458269">&#34;&#34;</span><span class="op" id="7458271">,</span>&nbsp;<span class="string" id="7458273">&#34;&#34;</span><span class="op" id="7458275">,</span>&nbsp;<span class="string" id="7458277">&#34;&#34;</span><span class="op" id="7458279">,</span>&nbsp;<span class="string" id="7458281">&#34;&#34;</span><span class="op" id="7458283">,</span>&nbsp;<span class="string" id="7458285">&#34;&#34;</span><span class="op" id="7458287">}</span><span class="op" id="7458288">}</span><span class="op" id="7458289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458292">{</span><span class="string" id="7458293">`(.*)(\(ab)(.*)a`</span><span class="op" id="7458310">,</span>&nbsp;<span class="num" id="7458312">3</span><span class="op" id="7458313">,</span>&nbsp;<span class="op" id="7458315">[</span><span class="op" id="7458316">]</span><span class="builtintype" id="7458317">string</span><span class="op" id="7458323">{</span><span class="string" id="7458324">&#34;&#34;</span><span class="op" id="7458326">,</span>&nbsp;<span class="string" id="7458328">&#34;&#34;</span><span class="op" id="7458330">,</span>&nbsp;<span class="string" id="7458332">&#34;&#34;</span><span class="op" id="7458334">,</span>&nbsp;<span class="string" id="7458336">&#34;&#34;</span><span class="op" id="7458338">}</span><span class="op" id="7458339">}</span><span class="op" id="7458340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458343">{</span><span class="string" id="7458344">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="7458363">,</span>&nbsp;<span class="num" id="7458365">3</span><span class="op" id="7458366">,</span>&nbsp;<span class="op" id="7458368">[</span><span class="op" id="7458369">]</span><span class="builtintype" id="7458370">string</span><span class="op" id="7458376">{</span><span class="string" id="7458377">&#34;&#34;</span><span class="op" id="7458379">,</span>&nbsp;<span class="string" id="7458381">&#34;&#34;</span><span class="op" id="7458383">,</span>&nbsp;<span class="string" id="7458385">&#34;&#34;</span><span class="op" id="7458387">,</span>&nbsp;<span class="string" id="7458389">&#34;&#34;</span><span class="op" id="7458391">}</span><span class="op" id="7458392">}</span><span class="op" id="7458393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458396">{</span><span class="string" id="7458397">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="7458435">,</span>&nbsp;<span class="num" id="7458437">4</span><span class="op" id="7458438">,</span>&nbsp;<span class="op" id="7458440">[</span><span class="op" id="7458441">]</span><span class="builtintype" id="7458442">string</span><span class="op" id="7458448">{</span><span class="string" id="7458449">&#34;&#34;</span><span class="op" id="7458451">,</span>&nbsp;<span class="string" id="7458453">&#34;foo&#34;</span><span class="op" id="7458458">,</span>&nbsp;<span class="string" id="7458460">&#34;bar&#34;</span><span class="op" id="7458465">,</span>&nbsp;<span class="string" id="7458467">&#34;&#34;</span><span class="op" id="7458469">,</span>&nbsp;<span class="string" id="7458471">&#34;foo&#34;</span><span class="op" id="7458476">}</span><span class="op" id="7458477">}</span><span class="op" id="7458478">,</span><br>
<span class="lineno"></span><span class="op" id="7458480">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="7458483">func</span>&nbsp;<span class="ident" id="7458488">TestSubexp</span><span class="op" id="7458498">(</span><span class="ident" id="7458499">t</span>&nbsp;<span class="op" id="7458501">*</span><span class="ident" id="7458502">testing</span><span class="op" id="7458509">.</span><span class="ident" id="7458510">T</span><span class="op" id="7458511">)</span>&nbsp;<span class="op" id="7458513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458516">for</span>&nbsp;<span class="ident" id="7458520">_</span><span class="op" id="7458521">,</span>&nbsp;<span class="ident" id="7458523">c</span>&nbsp;<span class="op" id="7458525">:=</span>&nbsp;<span class="keyword" id="7458528">range</span>&nbsp;<span class="ident" id="7458534">subexpCases</span>&nbsp;<span class="op" id="7458546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458550">re</span>&nbsp;<span class="op" id="7458553">:=</span>&nbsp;<span class="ident" id="7458556">MustCompile</span><span class="op" id="7458567">(</span><span class="ident" id="7458568">c</span><span class="op" id="7458569">.</span><span class="ident" id="7458570">input</span><span class="op" id="7458575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458579">n</span>&nbsp;<span class="op" id="7458581">:=</span>&nbsp;<span class="ident" id="7458584">re</span><span class="op" id="7458586">.</span><span class="ident" id="7458587">NumSubexp</span><span class="op" id="7458596">(</span><span class="op" id="7458597">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458601">if</span>&nbsp;<span class="ident" id="7458604">n</span>&nbsp;<span class="op" id="7458606">!=</span>&nbsp;<span class="ident" id="7458609">c</span><span class="op" id="7458610">.</span><span class="ident" id="7458611">num</span>&nbsp;<span class="op" id="7458615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458620">t</span><span class="op" id="7458621">.</span><span class="ident" id="7458622">Errorf</span><span class="op" id="7458628">(</span><span class="string" id="7458629">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7458658">,</span>&nbsp;<span class="ident" id="7458660">c</span><span class="op" id="7458661">.</span><span class="ident" id="7458662">input</span><span class="op" id="7458667">,</span>&nbsp;<span class="ident" id="7458669">n</span><span class="op" id="7458670">,</span>&nbsp;<span class="ident" id="7458672">c</span><span class="op" id="7458673">.</span><span class="ident" id="7458674">num</span><span class="op" id="7458677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458682">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458697">names</span>&nbsp;<span class="op" id="7458703">:=</span>&nbsp;<span class="ident" id="7458706">re</span><span class="op" id="7458708">.</span><span class="ident" id="7458709">SubexpNames</span><span class="op" id="7458720">(</span><span class="op" id="7458721">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458725">if</span>&nbsp;<span class="builtinfunc" id="7458728">len</span><span class="op" id="7458731">(</span><span class="ident" id="7458732">names</span><span class="op" id="7458737">)</span>&nbsp;<span class="op" id="7458739">!=</span>&nbsp;<span class="num" id="7458742">1</span><span class="op" id="7458743">+</span><span class="ident" id="7458744">n</span>&nbsp;<span class="op" id="7458746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458751">t</span><span class="op" id="7458752">.</span><span class="ident" id="7458753">Errorf</span><span class="op" id="7458759">(</span><span class="string" id="7458760">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7458796">,</span>&nbsp;<span class="ident" id="7458798">c</span><span class="op" id="7458799">.</span><span class="ident" id="7458800">input</span><span class="op" id="7458805">,</span>&nbsp;<span class="builtinfunc" id="7458807">len</span><span class="op" id="7458810">(</span><span class="ident" id="7458811">names</span><span class="op" id="7458816">)</span><span class="op" id="7458817">,</span>&nbsp;<span class="ident" id="7458819">n</span><span class="op" id="7458820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458825">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458840">if</span>&nbsp;<span class="ident" id="7458843">c</span><span class="op" id="7458844">.</span><span class="ident" id="7458845">names</span>&nbsp;<span class="op" id="7458851">!=</span>&nbsp;<span class="ident" id="7458854">nil</span>&nbsp;<span class="op" id="7458858">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458863">for</span>&nbsp;<span class="ident" id="7458867">i</span>&nbsp;<span class="op" id="7458869">:=</span>&nbsp;<span class="num" id="7458872">0</span><span class="op" id="7458873">;</span>&nbsp;<span class="ident" id="7458875">i</span>&nbsp;<span class="op" id="7458877">&lt;</span>&nbsp;<span class="num" id="7458879">1</span><span class="op" id="7458880">+</span><span class="ident" id="7458881">n</span><span class="op" id="7458882">;</span>&nbsp;<span class="ident" id="7458884">i</span><span class="op" id="7458885">++</span>&nbsp;<span class="op" id="7458888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7458894">if</span>&nbsp;<span class="ident" id="7458897">names</span><span class="op" id="7458902">[</span><span class="ident" id="7458903">i</span><span class="op" id="7458904">]</span>&nbsp;<span class="op" id="7458906">!=</span>&nbsp;<span class="ident" id="7458909">c</span><span class="op" id="7458910">.</span><span class="ident" id="7458911">names</span><span class="op" id="7458916">[</span><span class="ident" id="7458917">i</span><span class="op" id="7458918">]</span>&nbsp;<span class="op" id="7458920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458927">t</span><span class="op" id="7458928">.</span><span class="ident" id="7458929">Errorf</span><span class="op" id="7458935">(</span><span class="string" id="7458936">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7458971">,</span>&nbsp;<span class="ident" id="7458973">c</span><span class="op" id="7458974">.</span><span class="ident" id="7458975">input</span><span class="op" id="7458980">,</span>&nbsp;<span class="ident" id="7458982">i</span><span class="op" id="7458983">,</span>&nbsp;<span class="ident" id="7458985">names</span><span class="op" id="7458990">[</span><span class="ident" id="7458991">i</span><span class="op" id="7458992">]</span><span class="op" id="7458993">,</span>&nbsp;<span class="ident" id="7458995">c</span><span class="op" id="7458996">.</span><span class="ident" id="7458997">names</span><span class="op" id="7459002">[</span><span class="ident" id="7459003">i</span><span class="op" id="7459004">]</span><span class="op" id="7459005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459016">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459023">}</span><br>
<span class="lineno"></span><span class="op" id="7459025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459028">var</span>&nbsp;<span class="ident" id="7459032">splitTests</span>&nbsp;<span class="op" id="7459043">=</span>&nbsp;<span class="op" id="7459045">[</span><span class="op" id="7459046">]</span><span class="keyword" id="7459047">struct</span>&nbsp;<span class="op" id="7459054">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459057">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7459061">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459069">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7459073">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459081">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7459085">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459090">out</span>&nbsp;<span class="op" id="7459094">[</span><span class="op" id="7459095">]</span><span class="builtintype" id="7459096">string</span><br>
<span class="lineno"></span><span class="op" id="7459103">}</span><span class="op" id="7459104">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459107">{</span><span class="string" id="7459108">&#34;foo:and:bar&#34;</span><span class="op" id="7459121">,</span>&nbsp;<span class="string" id="7459123">&#34;:&#34;</span><span class="op" id="7459126">,</span>&nbsp;<span class="op" id="7459128">-</span><span class="num" id="7459129">1</span><span class="op" id="7459130">,</span>&nbsp;<span class="op" id="7459132">[</span><span class="op" id="7459133">]</span><span class="builtintype" id="7459134">string</span><span class="op" id="7459140">{</span><span class="string" id="7459141">&#34;foo&#34;</span><span class="op" id="7459146">,</span>&nbsp;<span class="string" id="7459148">&#34;and&#34;</span><span class="op" id="7459153">,</span>&nbsp;<span class="string" id="7459155">&#34;bar&#34;</span><span class="op" id="7459160">}</span><span class="op" id="7459161">}</span><span class="op" id="7459162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459165">{</span><span class="string" id="7459166">&#34;foo:and:bar&#34;</span><span class="op" id="7459179">,</span>&nbsp;<span class="string" id="7459181">&#34;:&#34;</span><span class="op" id="7459184">,</span>&nbsp;<span class="num" id="7459186">1</span><span class="op" id="7459187">,</span>&nbsp;<span class="op" id="7459189">[</span><span class="op" id="7459190">]</span><span class="builtintype" id="7459191">string</span><span class="op" id="7459197">{</span><span class="string" id="7459198">&#34;foo:and:bar&#34;</span><span class="op" id="7459211">}</span><span class="op" id="7459212">}</span><span class="op" id="7459213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459216">{</span><span class="string" id="7459217">&#34;foo:and:bar&#34;</span><span class="op" id="7459230">,</span>&nbsp;<span class="string" id="7459232">&#34;:&#34;</span><span class="op" id="7459235">,</span>&nbsp;<span class="num" id="7459237">2</span><span class="op" id="7459238">,</span>&nbsp;<span class="op" id="7459240">[</span><span class="op" id="7459241">]</span><span class="builtintype" id="7459242">string</span><span class="op" id="7459248">{</span><span class="string" id="7459249">&#34;foo&#34;</span><span class="op" id="7459254">,</span>&nbsp;<span class="string" id="7459256">&#34;and:bar&#34;</span><span class="op" id="7459265">}</span><span class="op" id="7459266">}</span><span class="op" id="7459267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459270">{</span><span class="string" id="7459271">&#34;foo:and:bar&#34;</span><span class="op" id="7459284">,</span>&nbsp;<span class="string" id="7459286">&#34;foo&#34;</span><span class="op" id="7459291">,</span>&nbsp;<span class="op" id="7459293">-</span><span class="num" id="7459294">1</span><span class="op" id="7459295">,</span>&nbsp;<span class="op" id="7459297">[</span><span class="op" id="7459298">]</span><span class="builtintype" id="7459299">string</span><span class="op" id="7459305">{</span><span class="string" id="7459306">&#34;&#34;</span><span class="op" id="7459308">,</span>&nbsp;<span class="string" id="7459310">&#34;:and:bar&#34;</span><span class="op" id="7459320">}</span><span class="op" id="7459321">}</span><span class="op" id="7459322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459325">{</span><span class="string" id="7459326">&#34;foo:and:bar&#34;</span><span class="op" id="7459339">,</span>&nbsp;<span class="string" id="7459341">&#34;bar&#34;</span><span class="op" id="7459346">,</span>&nbsp;<span class="op" id="7459348">-</span><span class="num" id="7459349">1</span><span class="op" id="7459350">,</span>&nbsp;<span class="op" id="7459352">[</span><span class="op" id="7459353">]</span><span class="builtintype" id="7459354">string</span><span class="op" id="7459360">{</span><span class="string" id="7459361">&#34;foo:and:&#34;</span><span class="op" id="7459371">,</span>&nbsp;<span class="string" id="7459373">&#34;&#34;</span><span class="op" id="7459375">}</span><span class="op" id="7459376">}</span><span class="op" id="7459377">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459380">{</span><span class="string" id="7459381">&#34;foo:and:bar&#34;</span><span class="op" id="7459394">,</span>&nbsp;<span class="string" id="7459396">&#34;baz&#34;</span><span class="op" id="7459401">,</span>&nbsp;<span class="op" id="7459403">-</span><span class="num" id="7459404">1</span><span class="op" id="7459405">,</span>&nbsp;<span class="op" id="7459407">[</span><span class="op" id="7459408">]</span><span class="builtintype" id="7459409">string</span><span class="op" id="7459415">{</span><span class="string" id="7459416">&#34;foo:and:bar&#34;</span><span class="op" id="7459429">}</span><span class="op" id="7459430">}</span><span class="op" id="7459431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459434">{</span><span class="string" id="7459435">&#34;baabaab&#34;</span><span class="op" id="7459444">,</span>&nbsp;<span class="string" id="7459446">&#34;a&#34;</span><span class="op" id="7459449">,</span>&nbsp;<span class="op" id="7459451">-</span><span class="num" id="7459452">1</span><span class="op" id="7459453">,</span>&nbsp;<span class="op" id="7459455">[</span><span class="op" id="7459456">]</span><span class="builtintype" id="7459457">string</span><span class="op" id="7459463">{</span><span class="string" id="7459464">&#34;b&#34;</span><span class="op" id="7459467">,</span>&nbsp;<span class="string" id="7459469">&#34;&#34;</span><span class="op" id="7459471">,</span>&nbsp;<span class="string" id="7459473">&#34;b&#34;</span><span class="op" id="7459476">,</span>&nbsp;<span class="string" id="7459478">&#34;&#34;</span><span class="op" id="7459480">,</span>&nbsp;<span class="string" id="7459482">&#34;b&#34;</span><span class="op" id="7459485">}</span><span class="op" id="7459486">}</span><span class="op" id="7459487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459490">{</span><span class="string" id="7459491">&#34;baabaab&#34;</span><span class="op" id="7459500">,</span>&nbsp;<span class="string" id="7459502">&#34;a*&#34;</span><span class="op" id="7459506">,</span>&nbsp;<span class="op" id="7459508">-</span><span class="num" id="7459509">1</span><span class="op" id="7459510">,</span>&nbsp;<span class="op" id="7459512">[</span><span class="op" id="7459513">]</span><span class="builtintype" id="7459514">string</span><span class="op" id="7459520">{</span><span class="string" id="7459521">&#34;b&#34;</span><span class="op" id="7459524">,</span>&nbsp;<span class="string" id="7459526">&#34;b&#34;</span><span class="op" id="7459529">,</span>&nbsp;<span class="string" id="7459531">&#34;b&#34;</span><span class="op" id="7459534">}</span><span class="op" id="7459535">}</span><span class="op" id="7459536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459539">{</span><span class="string" id="7459540">&#34;baabaab&#34;</span><span class="op" id="7459549">,</span>&nbsp;<span class="string" id="7459551">&#34;ba*&#34;</span><span class="op" id="7459556">,</span>&nbsp;<span class="op" id="7459558">-</span><span class="num" id="7459559">1</span><span class="op" id="7459560">,</span>&nbsp;<span class="op" id="7459562">[</span><span class="op" id="7459563">]</span><span class="builtintype" id="7459564">string</span><span class="op" id="7459570">{</span><span class="string" id="7459571">&#34;&#34;</span><span class="op" id="7459573">,</span>&nbsp;<span class="string" id="7459575">&#34;&#34;</span><span class="op" id="7459577">,</span>&nbsp;<span class="string" id="7459579">&#34;&#34;</span><span class="op" id="7459581">,</span>&nbsp;<span class="string" id="7459583">&#34;&#34;</span><span class="op" id="7459585">}</span><span class="op" id="7459586">}</span><span class="op" id="7459587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459590">{</span><span class="string" id="7459591">&#34;foobar&#34;</span><span class="op" id="7459599">,</span>&nbsp;<span class="string" id="7459601">&#34;f*b*&#34;</span><span class="op" id="7459607">,</span>&nbsp;<span class="op" id="7459609">-</span><span class="num" id="7459610">1</span><span class="op" id="7459611">,</span>&nbsp;<span class="op" id="7459613">[</span><span class="op" id="7459614">]</span><span class="builtintype" id="7459615">string</span><span class="op" id="7459621">{</span><span class="string" id="7459622">&#34;&#34;</span><span class="op" id="7459624">,</span>&nbsp;<span class="string" id="7459626">&#34;o&#34;</span><span class="op" id="7459629">,</span>&nbsp;<span class="string" id="7459631">&#34;o&#34;</span><span class="op" id="7459634">,</span>&nbsp;<span class="string" id="7459636">&#34;a&#34;</span><span class="op" id="7459639">,</span>&nbsp;<span class="string" id="7459641">&#34;r&#34;</span><span class="op" id="7459644">}</span><span class="op" id="7459645">}</span><span class="op" id="7459646">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459649">{</span><span class="string" id="7459650">&#34;foobar&#34;</span><span class="op" id="7459658">,</span>&nbsp;<span class="string" id="7459660">&#34;f+.*b+&#34;</span><span class="op" id="7459668">,</span>&nbsp;<span class="op" id="7459670">-</span><span class="num" id="7459671">1</span><span class="op" id="7459672">,</span>&nbsp;<span class="op" id="7459674">[</span><span class="op" id="7459675">]</span><span class="builtintype" id="7459676">string</span><span class="op" id="7459682">{</span><span class="string" id="7459683">&#34;&#34;</span><span class="op" id="7459685">,</span>&nbsp;<span class="string" id="7459687">&#34;ar&#34;</span><span class="op" id="7459691">}</span><span class="op" id="7459692">}</span><span class="op" id="7459693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459696">{</span><span class="string" id="7459697">&#34;foobooboar&#34;</span><span class="op" id="7459709">,</span>&nbsp;<span class="string" id="7459711">&#34;o{2}&#34;</span><span class="op" id="7459717">,</span>&nbsp;<span class="op" id="7459719">-</span><span class="num" id="7459720">1</span><span class="op" id="7459721">,</span>&nbsp;<span class="op" id="7459723">[</span><span class="op" id="7459724">]</span><span class="builtintype" id="7459725">string</span><span class="op" id="7459731">{</span><span class="string" id="7459732">&#34;f&#34;</span><span class="op" id="7459735">,</span>&nbsp;<span class="string" id="7459737">&#34;b&#34;</span><span class="op" id="7459740">,</span>&nbsp;<span class="string" id="7459742">&#34;boar&#34;</span><span class="op" id="7459748">}</span><span class="op" id="7459749">}</span><span class="op" id="7459750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459753">{</span><span class="string" id="7459754">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7459767">,</span>&nbsp;<span class="string" id="7459769">&#34;,&#34;</span><span class="op" id="7459772">,</span>&nbsp;<span class="num" id="7459774">3</span><span class="op" id="7459775">,</span>&nbsp;<span class="op" id="7459777">[</span><span class="op" id="7459778">]</span><span class="builtintype" id="7459779">string</span><span class="op" id="7459785">{</span><span class="string" id="7459786">&#34;a&#34;</span><span class="op" id="7459789">,</span>&nbsp;<span class="string" id="7459791">&#34;b&#34;</span><span class="op" id="7459794">,</span>&nbsp;<span class="string" id="7459796">&#34;c,d,e,f&#34;</span><span class="op" id="7459805">}</span><span class="op" id="7459806">}</span><span class="op" id="7459807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459810">{</span><span class="string" id="7459811">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7459824">,</span>&nbsp;<span class="string" id="7459826">&#34;,&#34;</span><span class="op" id="7459829">,</span>&nbsp;<span class="num" id="7459831">0</span><span class="op" id="7459832">,</span>&nbsp;<span class="ident" id="7459834">nil</span><span class="op" id="7459837">}</span><span class="op" id="7459838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459841">{</span><span class="string" id="7459842">&#34;,&#34;</span><span class="op" id="7459845">,</span>&nbsp;<span class="string" id="7459847">&#34;,&#34;</span><span class="op" id="7459850">,</span>&nbsp;<span class="op" id="7459852">-</span><span class="num" id="7459853">1</span><span class="op" id="7459854">,</span>&nbsp;<span class="op" id="7459856">[</span><span class="op" id="7459857">]</span><span class="builtintype" id="7459858">string</span><span class="op" id="7459864">{</span><span class="string" id="7459865">&#34;&#34;</span><span class="op" id="7459867">,</span>&nbsp;<span class="string" id="7459869">&#34;&#34;</span><span class="op" id="7459871">}</span><span class="op" id="7459872">}</span><span class="op" id="7459873">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459876">{</span><span class="string" id="7459877">&#34;,,,&#34;</span><span class="op" id="7459882">,</span>&nbsp;<span class="string" id="7459884">&#34;,&#34;</span><span class="op" id="7459887">,</span>&nbsp;<span class="op" id="7459889">-</span><span class="num" id="7459890">1</span><span class="op" id="7459891">,</span>&nbsp;<span class="op" id="7459893">[</span><span class="op" id="7459894">]</span><span class="builtintype" id="7459895">string</span><span class="op" id="7459901">{</span><span class="string" id="7459902">&#34;&#34;</span><span class="op" id="7459904">,</span>&nbsp;<span class="string" id="7459906">&#34;&#34;</span><span class="op" id="7459908">,</span>&nbsp;<span class="string" id="7459910">&#34;&#34;</span><span class="op" id="7459912">,</span>&nbsp;<span class="string" id="7459914">&#34;&#34;</span><span class="op" id="7459916">}</span><span class="op" id="7459917">}</span><span class="op" id="7459918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459921">{</span><span class="string" id="7459922">&#34;&#34;</span><span class="op" id="7459924">,</span>&nbsp;<span class="string" id="7459926">&#34;,&#34;</span><span class="op" id="7459929">,</span>&nbsp;<span class="op" id="7459931">-</span><span class="num" id="7459932">1</span><span class="op" id="7459933">,</span>&nbsp;<span class="op" id="7459935">[</span><span class="op" id="7459936">]</span><span class="builtintype" id="7459937">string</span><span class="op" id="7459943">{</span><span class="string" id="7459944">&#34;&#34;</span><span class="op" id="7459946">}</span><span class="op" id="7459947">}</span><span class="op" id="7459948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459951">{</span><span class="string" id="7459952">&#34;&#34;</span><span class="op" id="7459954">,</span>&nbsp;<span class="string" id="7459956">&#34;.*&#34;</span><span class="op" id="7459960">,</span>&nbsp;<span class="op" id="7459962">-</span><span class="num" id="7459963">1</span><span class="op" id="7459964">,</span>&nbsp;<span class="op" id="7459966">[</span><span class="op" id="7459967">]</span><span class="builtintype" id="7459968">string</span><span class="op" id="7459974">{</span><span class="string" id="7459975">&#34;&#34;</span><span class="op" id="7459977">}</span><span class="op" id="7459978">}</span><span class="op" id="7459979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459982">{</span><span class="string" id="7459983">&#34;&#34;</span><span class="op" id="7459985">,</span>&nbsp;<span class="string" id="7459987">&#34;.+&#34;</span><span class="op" id="7459991">,</span>&nbsp;<span class="op" id="7459993">-</span><span class="num" id="7459994">1</span><span class="op" id="7459995">,</span>&nbsp;<span class="op" id="7459997">[</span><span class="op" id="7459998">]</span><span class="builtintype" id="7459999">string</span><span class="op" id="7460005">{</span><span class="string" id="7460006">&#34;&#34;</span><span class="op" id="7460008">}</span><span class="op" id="7460009">}</span><span class="op" id="7460010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460013">{</span><span class="string" id="7460014">&#34;&#34;</span><span class="op" id="7460016">,</span>&nbsp;<span class="string" id="7460018">&#34;&#34;</span><span class="op" id="7460020">,</span>&nbsp;<span class="op" id="7460022">-</span><span class="num" id="7460023">1</span><span class="op" id="7460024">,</span>&nbsp;<span class="op" id="7460026">[</span><span class="op" id="7460027">]</span><span class="builtintype" id="7460028">string</span><span class="op" id="7460034">{</span><span class="op" id="7460035">}</span><span class="op" id="7460036">}</span><span class="op" id="7460037">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460040">{</span><span class="string" id="7460041">&#34;foobar&#34;</span><span class="op" id="7460049">,</span>&nbsp;<span class="string" id="7460051">&#34;&#34;</span><span class="op" id="7460053">,</span>&nbsp;<span class="op" id="7460055">-</span><span class="num" id="7460056">1</span><span class="op" id="7460057">,</span>&nbsp;<span class="op" id="7460059">[</span><span class="op" id="7460060">]</span><span class="builtintype" id="7460061">string</span><span class="op" id="7460067">{</span><span class="string" id="7460068">&#34;f&#34;</span><span class="op" id="7460071">,</span>&nbsp;<span class="string" id="7460073">&#34;o&#34;</span><span class="op" id="7460076">,</span>&nbsp;<span class="string" id="7460078">&#34;o&#34;</span><span class="op" id="7460081">,</span>&nbsp;<span class="string" id="7460083">&#34;b&#34;</span><span class="op" id="7460086">,</span>&nbsp;<span class="string" id="7460088">&#34;a&#34;</span><span class="op" id="7460091">,</span>&nbsp;<span class="string" id="7460093">&#34;r&#34;</span><span class="op" id="7460096">}</span><span class="op" id="7460097">}</span><span class="op" id="7460098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460101">{</span><span class="string" id="7460102">&#34;abaabaccadaaae&#34;</span><span class="op" id="7460118">,</span>&nbsp;<span class="string" id="7460120">&#34;a*&#34;</span><span class="op" id="7460124">,</span>&nbsp;<span class="num" id="7460126">5</span><span class="op" id="7460127">,</span>&nbsp;<span class="op" id="7460129">[</span><span class="op" id="7460130">]</span><span class="builtintype" id="7460131">string</span><span class="op" id="7460137">{</span><span class="string" id="7460138">&#34;&#34;</span><span class="op" id="7460140">,</span>&nbsp;<span class="string" id="7460142">&#34;b&#34;</span><span class="op" id="7460145">,</span>&nbsp;<span class="string" id="7460147">&#34;b&#34;</span><span class="op" id="7460150">,</span>&nbsp;<span class="string" id="7460152">&#34;c&#34;</span><span class="op" id="7460155">,</span>&nbsp;<span class="string" id="7460157">&#34;cadaaae&#34;</span><span class="op" id="7460166">}</span><span class="op" id="7460167">}</span><span class="op" id="7460168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460171">{</span><span class="string" id="7460172">&#34;:x:y:z:&#34;</span><span class="op" id="7460181">,</span>&nbsp;<span class="string" id="7460183">&#34;:&#34;</span><span class="op" id="7460186">,</span>&nbsp;<span class="op" id="7460188">-</span><span class="num" id="7460189">1</span><span class="op" id="7460190">,</span>&nbsp;<span class="op" id="7460192">[</span><span class="op" id="7460193">]</span><span class="builtintype" id="7460194">string</span><span class="op" id="7460200">{</span><span class="string" id="7460201">&#34;&#34;</span><span class="op" id="7460203">,</span>&nbsp;<span class="string" id="7460205">&#34;x&#34;</span><span class="op" id="7460208">,</span>&nbsp;<span class="string" id="7460210">&#34;y&#34;</span><span class="op" id="7460213">,</span>&nbsp;<span class="string" id="7460215">&#34;z&#34;</span><span class="op" id="7460218">,</span>&nbsp;<span class="string" id="7460220">&#34;&#34;</span><span class="op" id="7460222">}</span><span class="op" id="7460223">}</span><span class="op" id="7460224">,</span><br>
<span class="lineno"></span><span class="op" id="7460226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="7460229">func</span>&nbsp;<span class="ident" id="7460234">TestSplit</span><span class="op" id="7460243">(</span><span class="ident" id="7460244">t</span>&nbsp;<span class="op" id="7460246">*</span><span class="ident" id="7460247">testing</span><span class="op" id="7460254">.</span><span class="ident" id="7460255">T</span><span class="op" id="7460256">)</span>&nbsp;<span class="op" id="7460258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460261">for</span>&nbsp;<span class="ident" id="7460265">i</span><span class="op" id="7460266">,</span>&nbsp;<span class="ident" id="7460268">test</span>&nbsp;<span class="op" id="7460273">:=</span>&nbsp;<span class="keyword" id="7460276">range</span>&nbsp;<span class="ident" id="7460282">splitTests</span>&nbsp;<span class="op" id="7460293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460297">re</span><span class="op" id="7460299">,</span>&nbsp;<span class="ident" id="7460301">err</span>&nbsp;<span class="op" id="7460305">:=</span>&nbsp;<span class="ident" id="7460308">Compile</span><span class="op" id="7460315">(</span><span class="ident" id="7460316">test</span><span class="op" id="7460320">.</span><span class="ident" id="7460321">r</span><span class="op" id="7460322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460326">if</span>&nbsp;<span class="ident" id="7460329">err</span>&nbsp;<span class="op" id="7460333">!=</span>&nbsp;<span class="ident" id="7460336">nil</span>&nbsp;<span class="op" id="7460340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460345">t</span><span class="op" id="7460346">.</span><span class="ident" id="7460347">Errorf</span><span class="op" id="7460353">(</span><span class="string" id="7460354">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7460382">,</span>&nbsp;<span class="ident" id="7460384">i</span><span class="op" id="7460385">,</span>&nbsp;<span class="ident" id="7460387">test</span><span class="op" id="7460391">.</span><span class="ident" id="7460392">r</span><span class="op" id="7460393">,</span>&nbsp;<span class="ident" id="7460395">err</span><span class="op" id="7460398">.</span><span class="ident" id="7460399">Error</span><span class="op" id="7460404">(</span><span class="op" id="7460405">)</span><span class="op" id="7460406">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460411">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460427">split</span>&nbsp;<span class="op" id="7460433">:=</span>&nbsp;<span class="ident" id="7460436">re</span><span class="op" id="7460438">.</span><span class="ident" id="7460439">Split</span><span class="op" id="7460444">(</span><span class="ident" id="7460445">test</span><span class="op" id="7460449">.</span><span class="ident" id="7460450">s</span><span class="op" id="7460451">,</span>&nbsp;<span class="ident" id="7460453">test</span><span class="op" id="7460457">.</span><span class="ident" id="7460458">n</span><span class="op" id="7460459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460463">if</span>&nbsp;<span class="op" id="7460466">!</span><span class="ident" id="7460467">reflect</span><span class="op" id="7460474">.</span><span class="ident" id="7460475">DeepEqual</span><span class="op" id="7460484">(</span><span class="ident" id="7460485">split</span><span class="op" id="7460490">,</span>&nbsp;<span class="ident" id="7460492">test</span><span class="op" id="7460496">.</span><span class="ident" id="7460497">out</span><span class="op" id="7460500">)</span>&nbsp;<span class="op" id="7460502">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460507">t</span><span class="op" id="7460508">.</span><span class="ident" id="7460509">Errorf</span><span class="op" id="7460515">(</span><span class="string" id="7460516">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7460542">,</span>&nbsp;<span class="ident" id="7460544">i</span><span class="op" id="7460545">,</span>&nbsp;<span class="ident" id="7460547">test</span><span class="op" id="7460551">.</span><span class="ident" id="7460552">r</span><span class="op" id="7460553">,</span>&nbsp;<span class="ident" id="7460555">split</span><span class="op" id="7460560">,</span>&nbsp;<span class="ident" id="7460562">test</span><span class="op" id="7460566">.</span><span class="ident" id="7460567">out</span><span class="op" id="7460570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460579">if</span>&nbsp;<span class="ident" id="7460582">QuoteMeta</span><span class="op" id="7460591">(</span><span class="ident" id="7460592">test</span><span class="op" id="7460596">.</span><span class="ident" id="7460597">r</span><span class="op" id="7460598">)</span>&nbsp;<span class="op" id="7460600">==</span>&nbsp;<span class="ident" id="7460603">test</span><span class="op" id="7460607">.</span><span class="ident" id="7460608">r</span>&nbsp;<span class="op" id="7460610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460615">strsplit</span>&nbsp;<span class="op" id="7460624">:=</span>&nbsp;<span class="ident" id="7460627">strings</span><span class="op" id="7460634">.</span><span class="ident" id="7460635">SplitN</span><span class="op" id="7460641">(</span><span class="ident" id="7460642">test</span><span class="op" id="7460646">.</span><span class="ident" id="7460647">s</span><span class="op" id="7460648">,</span>&nbsp;<span class="ident" id="7460650">test</span><span class="op" id="7460654">.</span><span class="ident" id="7460655">r</span><span class="op" id="7460656">,</span>&nbsp;<span class="ident" id="7460658">test</span><span class="op" id="7460662">.</span><span class="ident" id="7460663">n</span><span class="op" id="7460664">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460669">if</span>&nbsp;<span class="op" id="7460672">!</span><span class="ident" id="7460673">reflect</span><span class="op" id="7460680">.</span><span class="ident" id="7460681">DeepEqual</span><span class="op" id="7460690">(</span><span class="ident" id="7460691">split</span><span class="op" id="7460696">,</span>&nbsp;<span class="ident" id="7460698">strsplit</span><span class="op" id="7460706">)</span>&nbsp;<span class="op" id="7460708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460714">t</span><span class="op" id="7460715">.</span><span class="ident" id="7460716">Errorf</span><span class="op" id="7460722">(</span><span class="string" id="7460723">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="7460798">,</span>&nbsp;<span class="ident" id="7460800">i</span><span class="op" id="7460801">,</span>&nbsp;<span class="ident" id="7460803">test</span><span class="op" id="7460807">.</span><span class="ident" id="7460808">s</span><span class="op" id="7460809">,</span>&nbsp;<span class="ident" id="7460811">test</span><span class="op" id="7460815">.</span><span class="ident" id="7460816">r</span><span class="op" id="7460817">,</span>&nbsp;<span class="ident" id="7460819">test</span><span class="op" id="7460823">.</span><span class="ident" id="7460824">n</span><span class="op" id="7460825">,</span>&nbsp;<span class="ident" id="7460827">split</span><span class="op" id="7460832">,</span>&nbsp;<span class="ident" id="7460834">strsplit</span><span class="op" id="7460842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460854">}</span><br>
<span class="lineno">475</span><span class="op" id="7460856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7460859">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="7460903">func</span>&nbsp;<span class="ident" id="7460908">TestOnePassCutoff</span><span class="op" id="7460925">(</span><span class="ident" id="7460926">t</span>&nbsp;<span class="op" id="7460928">*</span><span class="ident" id="7460929">testing</span><span class="op" id="7460936">.</span><span class="ident" id="7460937">T</span><span class="op" id="7460938">)</span>&nbsp;<span class="op" id="7460940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460943">re</span><span class="op" id="7460945">,</span>&nbsp;<span class="ident" id="7460947">err</span>&nbsp;<span class="op" id="7460951">:=</span>&nbsp;<span class="ident" id="7460954">syntax</span><span class="op" id="7460960">.</span><span class="ident" id="7460961">Parse</span><span class="op" id="7460966">(</span><span class="string" id="7460967">`^x{1,1000}y{1,1000}$`</span><span class="op" id="7460989">,</span>&nbsp;<span class="ident" id="7460991">syntax</span><span class="op" id="7460997">.</span><span class="ident" id="7460998">Perl</span><span class="op" id="7461002">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461005">if</span>&nbsp;<span class="ident" id="7461008">err</span>&nbsp;<span class="op" id="7461012">!=</span>&nbsp;<span class="ident" id="7461015">nil</span>&nbsp;<span class="op" id="7461019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461023">t</span><span class="op" id="7461024">.</span><span class="ident" id="7461025">Fatalf</span><span class="op" id="7461031">(</span><span class="string" id="7461032">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="7461043">,</span>&nbsp;<span class="ident" id="7461045">err</span><span class="op" id="7461048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461054">p</span><span class="op" id="7461055">,</span>&nbsp;<span class="ident" id="7461057">err</span>&nbsp;<span class="op" id="7461061">:=</span>&nbsp;<span class="ident" id="7461064">syntax</span><span class="op" id="7461070">.</span><span class="ident" id="7461071">Compile</span><span class="op" id="7461078">(</span><span class="ident" id="7461079">re</span><span class="op" id="7461081">.</span><span class="ident" id="7461082">Simplify</span><span class="op" id="7461090">(</span><span class="op" id="7461091">)</span><span class="op" id="7461092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461095">if</span>&nbsp;<span class="ident" id="7461098">err</span>&nbsp;<span class="op" id="7461102">!=</span>&nbsp;<span class="ident" id="7461105">nil</span>&nbsp;<span class="op" id="7461109">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461113">t</span><span class="op" id="7461114">.</span><span class="ident" id="7461115">Fatalf</span><span class="op" id="7461121">(</span><span class="string" id="7461122">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="7461135">,</span>&nbsp;<span class="ident" id="7461137">err</span><span class="op" id="7461140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461146">if</span>&nbsp;<span class="ident" id="7461149">compileOnePass</span><span class="op" id="7461163">(</span><span class="ident" id="7461164">p</span><span class="op" id="7461165">)</span>&nbsp;<span class="op" id="7461167">!=</span>&nbsp;<span class="ident" id="7461170">notOnePass</span>&nbsp;<span class="op" id="7461181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461185">t</span><span class="op" id="7461186">.</span><span class="ident" id="7461187">Fatalf</span><span class="op" id="7461193">(</span><span class="string" id="7461194">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="7461236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461239">}</span><br>
<span class="lineno">490</span><span class="op" id="7461241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7461244">func</span>&nbsp;<span class="ident" id="7461249">BenchmarkLiteral</span><span class="op" id="7461265">(</span><span class="ident" id="7461266">b</span>&nbsp;<span class="op" id="7461268">*</span><span class="ident" id="7461269">testing</span><span class="op" id="7461276">.</span><span class="ident" id="7461277">B</span><span class="op" id="7461278">)</span>&nbsp;<span class="op" id="7461280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461283">x</span>&nbsp;<span class="op" id="7461285">:=</span>&nbsp;<span class="ident" id="7461288">strings</span><span class="op" id="7461295">.</span><span class="ident" id="7461296">Repeat</span><span class="op" id="7461302">(</span><span class="string" id="7461303">&#34;x&#34;</span><span class="op" id="7461306">,</span>&nbsp;<span class="num" id="7461308">50</span><span class="op" id="7461310">)</span>&nbsp;<span class="op" id="7461312">+</span>&nbsp;<span class="string" id="7461314">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461319">b</span><span class="op" id="7461320">.</span><span class="ident" id="7461321">StopTimer</span><span class="op" id="7461330">(</span><span class="op" id="7461331">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461334">re</span>&nbsp;<span class="op" id="7461337">:=</span>&nbsp;<span class="ident" id="7461340">MustCompile</span><span class="op" id="7461351">(</span><span class="string" id="7461352">&#34;y&#34;</span><span class="op" id="7461355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461358">b</span><span class="op" id="7461359">.</span><span class="ident" id="7461360">StartTimer</span><span class="op" id="7461370">(</span><span class="op" id="7461371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461374">for</span>&nbsp;<span class="ident" id="7461378">i</span>&nbsp;<span class="op" id="7461380">:=</span>&nbsp;<span class="num" id="7461383">0</span><span class="op" id="7461384">;</span>&nbsp;<span class="ident" id="7461386">i</span>&nbsp;<span class="op" id="7461388">&lt;</span>&nbsp;<span class="ident" id="7461390">b</span><span class="op" id="7461391">.</span><span class="ident" id="7461392">N</span><span class="op" id="7461393">;</span>&nbsp;<span class="ident" id="7461395">i</span><span class="op" id="7461396">++</span>&nbsp;<span class="op" id="7461399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461403">if</span>&nbsp;<span class="op" id="7461406">!</span><span class="ident" id="7461407">re</span><span class="op" id="7461409">.</span><span class="ident" id="7461410">MatchString</span><span class="op" id="7461421">(</span><span class="ident" id="7461422">x</span><span class="op" id="7461423">)</span>&nbsp;<span class="op" id="7461425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461430">b</span><span class="op" id="7461431">.</span><span class="ident" id="7461432">Fatalf</span><span class="op" id="7461438">(</span><span class="string" id="7461439">&#34;no&nbsp;match!&#34;</span><span class="op" id="7461450">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461457">}</span><br>
<span class="lineno"></span><span class="op" id="7461459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7461462">func</span>&nbsp;<span class="ident" id="7461467">BenchmarkNotLiteral</span><span class="op" id="7461486">(</span><span class="ident" id="7461487">b</span>&nbsp;<span class="op" id="7461489">*</span><span class="ident" id="7461490">testing</span><span class="op" id="7461497">.</span><span class="ident" id="7461498">B</span><span class="op" id="7461499">)</span>&nbsp;<span class="op" id="7461501">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461504">x</span>&nbsp;<span class="op" id="7461506">:=</span>&nbsp;<span class="ident" id="7461509">strings</span><span class="op" id="7461516">.</span><span class="ident" id="7461517">Repeat</span><span class="op" id="7461523">(</span><span class="string" id="7461524">&#34;x&#34;</span><span class="op" id="7461527">,</span>&nbsp;<span class="num" id="7461529">50</span><span class="op" id="7461531">)</span>&nbsp;<span class="op" id="7461533">+</span>&nbsp;<span class="string" id="7461535">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461540">b</span><span class="op" id="7461541">.</span><span class="ident" id="7461542">StopTimer</span><span class="op" id="7461551">(</span><span class="op" id="7461552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461555">re</span>&nbsp;<span class="op" id="7461558">:=</span>&nbsp;<span class="ident" id="7461561">MustCompile</span><span class="op" id="7461572">(</span><span class="string" id="7461573">&#34;.y&#34;</span><span class="op" id="7461577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461580">b</span><span class="op" id="7461581">.</span><span class="ident" id="7461582">StartTimer</span><span class="op" id="7461592">(</span><span class="op" id="7461593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461596">for</span>&nbsp;<span class="ident" id="7461600">i</span>&nbsp;<span class="op" id="7461602">:=</span>&nbsp;<span class="num" id="7461605">0</span><span class="op" id="7461606">;</span>&nbsp;<span class="ident" id="7461608">i</span>&nbsp;<span class="op" id="7461610">&lt;</span>&nbsp;<span class="ident" id="7461612">b</span><span class="op" id="7461613">.</span><span class="ident" id="7461614">N</span><span class="op" id="7461615">;</span>&nbsp;<span class="ident" id="7461617">i</span><span class="op" id="7461618">++</span>&nbsp;<span class="op" id="7461621">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461625">if</span>&nbsp;<span class="op" id="7461628">!</span><span class="ident" id="7461629">re</span><span class="op" id="7461631">.</span><span class="ident" id="7461632">MatchString</span><span class="op" id="7461643">(</span><span class="ident" id="7461644">x</span><span class="op" id="7461645">)</span>&nbsp;<span class="op" id="7461647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461652">b</span><span class="op" id="7461653">.</span><span class="ident" id="7461654">Fatalf</span><span class="op" id="7461660">(</span><span class="string" id="7461661">&#34;no&nbsp;match!&#34;</span><span class="op" id="7461672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461679">}</span><br>
<span class="lineno"></span><span class="op" id="7461681">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="7461684">func</span>&nbsp;<span class="ident" id="7461689">BenchmarkMatchClass</span><span class="op" id="7461708">(</span><span class="ident" id="7461709">b</span>&nbsp;<span class="op" id="7461711">*</span><span class="ident" id="7461712">testing</span><span class="op" id="7461719">.</span><span class="ident" id="7461720">B</span><span class="op" id="7461721">)</span>&nbsp;<span class="op" id="7461723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461726">b</span><span class="op" id="7461727">.</span><span class="ident" id="7461728">StopTimer</span><span class="op" id="7461737">(</span><span class="op" id="7461738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461741">x</span>&nbsp;<span class="op" id="7461743">:=</span>&nbsp;<span class="ident" id="7461746">strings</span><span class="op" id="7461753">.</span><span class="ident" id="7461754">Repeat</span><span class="op" id="7461760">(</span><span class="string" id="7461761">&#34;xxxx&#34;</span><span class="op" id="7461767">,</span>&nbsp;<span class="num" id="7461769">20</span><span class="op" id="7461771">)</span>&nbsp;<span class="op" id="7461773">+</span>&nbsp;<span class="string" id="7461775">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461780">re</span>&nbsp;<span class="op" id="7461783">:=</span>&nbsp;<span class="ident" id="7461786">MustCompile</span><span class="op" id="7461797">(</span><span class="string" id="7461798">&#34;[abcdw]&#34;</span><span class="op" id="7461807">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461810">b</span><span class="op" id="7461811">.</span><span class="ident" id="7461812">StartTimer</span><span class="op" id="7461822">(</span><span class="op" id="7461823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461826">for</span>&nbsp;<span class="ident" id="7461830">i</span>&nbsp;<span class="op" id="7461832">:=</span>&nbsp;<span class="num" id="7461835">0</span><span class="op" id="7461836">;</span>&nbsp;<span class="ident" id="7461838">i</span>&nbsp;<span class="op" id="7461840">&lt;</span>&nbsp;<span class="ident" id="7461842">b</span><span class="op" id="7461843">.</span><span class="ident" id="7461844">N</span><span class="op" id="7461845">;</span>&nbsp;<span class="ident" id="7461847">i</span><span class="op" id="7461848">++</span>&nbsp;<span class="op" id="7461851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461855">if</span>&nbsp;<span class="op" id="7461858">!</span><span class="ident" id="7461859">re</span><span class="op" id="7461861">.</span><span class="ident" id="7461862">MatchString</span><span class="op" id="7461873">(</span><span class="ident" id="7461874">x</span><span class="op" id="7461875">)</span>&nbsp;<span class="op" id="7461877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461882">b</span><span class="op" id="7461883">.</span><span class="ident" id="7461884">Fatalf</span><span class="op" id="7461890">(</span><span class="string" id="7461891">&#34;no&nbsp;match!&#34;</span><span class="op" id="7461902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461906">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461909">}</span><br>
<span class="lineno"></span><span class="op" id="7461911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7461914">func</span>&nbsp;<span class="ident" id="7461919">BenchmarkMatchClass_InRange</span><span class="op" id="7461946">(</span><span class="ident" id="7461947">b</span>&nbsp;<span class="op" id="7461949">*</span><span class="ident" id="7461950">testing</span><span class="op" id="7461957">.</span><span class="ident" id="7461958">B</span><span class="op" id="7461959">)</span>&nbsp;<span class="op" id="7461961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461964">b</span><span class="op" id="7461965">.</span><span class="ident" id="7461966">StopTimer</span><span class="op" id="7461975">(</span><span class="op" id="7461976">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7461979">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7462028">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462064">x</span>&nbsp;<span class="op" id="7462066">:=</span>&nbsp;<span class="ident" id="7462069">strings</span><span class="op" id="7462076">.</span><span class="ident" id="7462077">Repeat</span><span class="op" id="7462083">(</span><span class="string" id="7462084">&#34;bbbb&#34;</span><span class="op" id="7462090">,</span>&nbsp;<span class="num" id="7462092">20</span><span class="op" id="7462094">)</span>&nbsp;<span class="op" id="7462096">+</span>&nbsp;<span class="string" id="7462098">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462103">re</span>&nbsp;<span class="op" id="7462106">:=</span>&nbsp;<span class="ident" id="7462109">MustCompile</span><span class="op" id="7462120">(</span><span class="string" id="7462121">&#34;[ac]&#34;</span><span class="op" id="7462127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462130">b</span><span class="op" id="7462131">.</span><span class="ident" id="7462132">StartTimer</span><span class="op" id="7462142">(</span><span class="op" id="7462143">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462146">for</span>&nbsp;<span class="ident" id="7462150">i</span>&nbsp;<span class="op" id="7462152">:=</span>&nbsp;<span class="num" id="7462155">0</span><span class="op" id="7462156">;</span>&nbsp;<span class="ident" id="7462158">i</span>&nbsp;<span class="op" id="7462160">&lt;</span>&nbsp;<span class="ident" id="7462162">b</span><span class="op" id="7462163">.</span><span class="ident" id="7462164">N</span><span class="op" id="7462165">;</span>&nbsp;<span class="ident" id="7462167">i</span><span class="op" id="7462168">++</span>&nbsp;<span class="op" id="7462171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462175">if</span>&nbsp;<span class="op" id="7462178">!</span><span class="ident" id="7462179">re</span><span class="op" id="7462181">.</span><span class="ident" id="7462182">MatchString</span><span class="op" id="7462193">(</span><span class="ident" id="7462194">x</span><span class="op" id="7462195">)</span>&nbsp;<span class="op" id="7462197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462202">b</span><span class="op" id="7462203">.</span><span class="ident" id="7462204">Fatalf</span><span class="op" id="7462210">(</span><span class="string" id="7462211">&#34;no&nbsp;match!&#34;</span><span class="op" id="7462222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462229">}</span><br>
<span class="lineno">540</span><span class="op" id="7462231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7462234">func</span>&nbsp;<span class="ident" id="7462239">BenchmarkReplaceAll</span><span class="op" id="7462258">(</span><span class="ident" id="7462259">b</span>&nbsp;<span class="op" id="7462261">*</span><span class="ident" id="7462262">testing</span><span class="op" id="7462269">.</span><span class="ident" id="7462270">B</span><span class="op" id="7462271">)</span>&nbsp;<span class="op" id="7462273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462276">x</span>&nbsp;<span class="op" id="7462278">:=</span>&nbsp;<span class="string" id="7462281">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462311">b</span><span class="op" id="7462312">.</span><span class="ident" id="7462313">StopTimer</span><span class="op" id="7462322">(</span><span class="op" id="7462323">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462326">re</span>&nbsp;<span class="op" id="7462329">:=</span>&nbsp;<span class="ident" id="7462332">MustCompile</span><span class="op" id="7462343">(</span><span class="string" id="7462344">&#34;[cjrw]&#34;</span><span class="op" id="7462352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462355">b</span><span class="op" id="7462356">.</span><span class="ident" id="7462357">StartTimer</span><span class="op" id="7462367">(</span><span class="op" id="7462368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462371">for</span>&nbsp;<span class="ident" id="7462375">i</span>&nbsp;<span class="op" id="7462377">:=</span>&nbsp;<span class="num" id="7462380">0</span><span class="op" id="7462381">;</span>&nbsp;<span class="ident" id="7462383">i</span>&nbsp;<span class="op" id="7462385">&lt;</span>&nbsp;<span class="ident" id="7462387">b</span><span class="op" id="7462388">.</span><span class="ident" id="7462389">N</span><span class="op" id="7462390">;</span>&nbsp;<span class="ident" id="7462392">i</span><span class="op" id="7462393">++</span>&nbsp;<span class="op" id="7462396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462400">re</span><span class="op" id="7462402">.</span><span class="ident" id="7462403">ReplaceAllString</span><span class="op" id="7462419">(</span><span class="ident" id="7462420">x</span><span class="op" id="7462421">,</span>&nbsp;<span class="string" id="7462423">&#34;&#34;</span><span class="op" id="7462425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462428">}</span><br>
<span class="lineno">550</span><span class="op" id="7462430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7462433">func</span>&nbsp;<span class="ident" id="7462438">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="7462475">(</span><span class="ident" id="7462476">b</span>&nbsp;<span class="op" id="7462478">*</span><span class="ident" id="7462479">testing</span><span class="op" id="7462486">.</span><span class="ident" id="7462487">B</span><span class="op" id="7462488">)</span>&nbsp;<span class="op" id="7462490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462493">b</span><span class="op" id="7462494">.</span><span class="ident" id="7462495">StopTimer</span><span class="op" id="7462504">(</span><span class="op" id="7462505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462508">x</span>&nbsp;<span class="op" id="7462510">:=</span>&nbsp;<span class="op" id="7462513">[</span><span class="op" id="7462514">]</span><span class="builtintype" id="7462515">byte</span><span class="op" id="7462519">(</span><span class="string" id="7462520">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7462548">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462551">re</span>&nbsp;<span class="op" id="7462554">:=</span>&nbsp;<span class="ident" id="7462557">MustCompile</span><span class="op" id="7462568">(</span><span class="string" id="7462569">&#34;^zbc(d|e)&#34;</span><span class="op" id="7462580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462583">b</span><span class="op" id="7462584">.</span><span class="ident" id="7462585">StartTimer</span><span class="op" id="7462595">(</span><span class="op" id="7462596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462599">for</span>&nbsp;<span class="ident" id="7462603">i</span>&nbsp;<span class="op" id="7462605">:=</span>&nbsp;<span class="num" id="7462608">0</span><span class="op" id="7462609">;</span>&nbsp;<span class="ident" id="7462611">i</span>&nbsp;<span class="op" id="7462613">&lt;</span>&nbsp;<span class="ident" id="7462615">b</span><span class="op" id="7462616">.</span><span class="ident" id="7462617">N</span><span class="op" id="7462618">;</span>&nbsp;<span class="ident" id="7462620">i</span><span class="op" id="7462621">++</span>&nbsp;<span class="op" id="7462624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462628">re</span><span class="op" id="7462630">.</span><span class="ident" id="7462631">Match</span><span class="op" id="7462636">(</span><span class="ident" id="7462637">x</span><span class="op" id="7462638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462641">}</span><br>
<span class="lineno">560</span><span class="op" id="7462643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7462646">func</span>&nbsp;<span class="ident" id="7462651">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="7462687">(</span><span class="ident" id="7462688">b</span>&nbsp;<span class="op" id="7462690">*</span><span class="ident" id="7462691">testing</span><span class="op" id="7462698">.</span><span class="ident" id="7462699">B</span><span class="op" id="7462700">)</span>&nbsp;<span class="op" id="7462702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462705">b</span><span class="op" id="7462706">.</span><span class="ident" id="7462707">StopTimer</span><span class="op" id="7462716">(</span><span class="op" id="7462717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462720">x</span>&nbsp;<span class="op" id="7462722">:=</span>&nbsp;<span class="op" id="7462725">[</span><span class="op" id="7462726">]</span><span class="builtintype" id="7462727">byte</span><span class="op" id="7462731">(</span><span class="string" id="7462732">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7462760">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462763">for</span>&nbsp;<span class="ident" id="7462767">i</span>&nbsp;<span class="op" id="7462769">:=</span>&nbsp;<span class="num" id="7462772">0</span><span class="op" id="7462773">;</span>&nbsp;<span class="ident" id="7462775">i</span>&nbsp;<span class="op" id="7462777">&lt;</span>&nbsp;<span class="num" id="7462779">15</span><span class="op" id="7462781">;</span>&nbsp;<span class="ident" id="7462783">i</span><span class="op" id="7462784">++</span>&nbsp;<span class="op" id="7462787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462791">x</span>&nbsp;<span class="op" id="7462793">=</span>&nbsp;<span class="builtinfunc" id="7462795">append</span><span class="op" id="7462801">(</span><span class="ident" id="7462802">x</span><span class="op" id="7462803">,</span>&nbsp;<span class="ident" id="7462805">x</span><span class="op" id="7462806">...</span><span class="op" id="7462809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462815">re</span>&nbsp;<span class="op" id="7462818">:=</span>&nbsp;<span class="ident" id="7462821">MustCompile</span><span class="op" id="7462832">(</span><span class="string" id="7462833">&#34;^zbc(d|e)&#34;</span><span class="op" id="7462844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462847">b</span><span class="op" id="7462848">.</span><span class="ident" id="7462849">StartTimer</span><span class="op" id="7462859">(</span><span class="op" id="7462860">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462863">for</span>&nbsp;<span class="ident" id="7462867">i</span>&nbsp;<span class="op" id="7462869">:=</span>&nbsp;<span class="num" id="7462872">0</span><span class="op" id="7462873">;</span>&nbsp;<span class="ident" id="7462875">i</span>&nbsp;<span class="op" id="7462877">&lt;</span>&nbsp;<span class="ident" id="7462879">b</span><span class="op" id="7462880">.</span><span class="ident" id="7462881">N</span><span class="op" id="7462882">;</span>&nbsp;<span class="ident" id="7462884">i</span><span class="op" id="7462885">++</span>&nbsp;<span class="op" id="7462888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462892">re</span><span class="op" id="7462894">.</span><span class="ident" id="7462895">Match</span><span class="op" id="7462900">(</span><span class="ident" id="7462901">x</span><span class="op" id="7462902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462905">}</span><br>
<span class="lineno"></span><span class="op" id="7462907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="7462910">func</span>&nbsp;<span class="ident" id="7462915">BenchmarkAnchoredShortMatch</span><span class="op" id="7462942">(</span><span class="ident" id="7462943">b</span>&nbsp;<span class="op" id="7462945">*</span><span class="ident" id="7462946">testing</span><span class="op" id="7462953">.</span><span class="ident" id="7462954">B</span><span class="op" id="7462955">)</span>&nbsp;<span class="op" id="7462957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462960">b</span><span class="op" id="7462961">.</span><span class="ident" id="7462962">StopTimer</span><span class="op" id="7462971">(</span><span class="op" id="7462972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462975">x</span>&nbsp;<span class="op" id="7462977">:=</span>&nbsp;<span class="op" id="7462980">[</span><span class="op" id="7462981">]</span><span class="builtintype" id="7462982">byte</span><span class="op" id="7462986">(</span><span class="string" id="7462987">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7463015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463018">re</span>&nbsp;<span class="op" id="7463021">:=</span>&nbsp;<span class="ident" id="7463024">MustCompile</span><span class="op" id="7463035">(</span><span class="string" id="7463036">&#34;^.bc(d|e)&#34;</span><span class="op" id="7463047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463050">b</span><span class="op" id="7463051">.</span><span class="ident" id="7463052">StartTimer</span><span class="op" id="7463062">(</span><span class="op" id="7463063">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463066">for</span>&nbsp;<span class="ident" id="7463070">i</span>&nbsp;<span class="op" id="7463072">:=</span>&nbsp;<span class="num" id="7463075">0</span><span class="op" id="7463076">;</span>&nbsp;<span class="ident" id="7463078">i</span>&nbsp;<span class="op" id="7463080">&lt;</span>&nbsp;<span class="ident" id="7463082">b</span><span class="op" id="7463083">.</span><span class="ident" id="7463084">N</span><span class="op" id="7463085">;</span>&nbsp;<span class="ident" id="7463087">i</span><span class="op" id="7463088">++</span>&nbsp;<span class="op" id="7463091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463095">re</span><span class="op" id="7463097">.</span><span class="ident" id="7463098">Match</span><span class="op" id="7463103">(</span><span class="ident" id="7463104">x</span><span class="op" id="7463105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463108">}</span><br>
<span class="lineno"></span><span class="op" id="7463110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7463113">func</span>&nbsp;<span class="ident" id="7463118">BenchmarkAnchoredLongMatch</span><span class="op" id="7463144">(</span><span class="ident" id="7463145">b</span>&nbsp;<span class="op" id="7463147">*</span><span class="ident" id="7463148">testing</span><span class="op" id="7463155">.</span><span class="ident" id="7463156">B</span><span class="op" id="7463157">)</span>&nbsp;<span class="op" id="7463159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463162">b</span><span class="op" id="7463163">.</span><span class="ident" id="7463164">StopTimer</span><span class="op" id="7463173">(</span><span class="op" id="7463174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463177">x</span>&nbsp;<span class="op" id="7463179">:=</span>&nbsp;<span class="op" id="7463182">[</span><span class="op" id="7463183">]</span><span class="builtintype" id="7463184">byte</span><span class="op" id="7463188">(</span><span class="string" id="7463189">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7463217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463220">for</span>&nbsp;<span class="ident" id="7463224">i</span>&nbsp;<span class="op" id="7463226">:=</span>&nbsp;<span class="num" id="7463229">0</span><span class="op" id="7463230">;</span>&nbsp;<span class="ident" id="7463232">i</span>&nbsp;<span class="op" id="7463234">&lt;</span>&nbsp;<span class="num" id="7463236">15</span><span class="op" id="7463238">;</span>&nbsp;<span class="ident" id="7463240">i</span><span class="op" id="7463241">++</span>&nbsp;<span class="op" id="7463244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463248">x</span>&nbsp;<span class="op" id="7463250">=</span>&nbsp;<span class="builtinfunc" id="7463252">append</span><span class="op" id="7463258">(</span><span class="ident" id="7463259">x</span><span class="op" id="7463260">,</span>&nbsp;<span class="ident" id="7463262">x</span><span class="op" id="7463263">...</span><span class="op" id="7463266">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463272">re</span>&nbsp;<span class="op" id="7463275">:=</span>&nbsp;<span class="ident" id="7463278">MustCompile</span><span class="op" id="7463289">(</span><span class="string" id="7463290">&#34;^.bc(d|e)&#34;</span><span class="op" id="7463301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463304">b</span><span class="op" id="7463305">.</span><span class="ident" id="7463306">StartTimer</span><span class="op" id="7463316">(</span><span class="op" id="7463317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463320">for</span>&nbsp;<span class="ident" id="7463324">i</span>&nbsp;<span class="op" id="7463326">:=</span>&nbsp;<span class="num" id="7463329">0</span><span class="op" id="7463330">;</span>&nbsp;<span class="ident" id="7463332">i</span>&nbsp;<span class="op" id="7463334">&lt;</span>&nbsp;<span class="ident" id="7463336">b</span><span class="op" id="7463337">.</span><span class="ident" id="7463338">N</span><span class="op" id="7463339">;</span>&nbsp;<span class="ident" id="7463341">i</span><span class="op" id="7463342">++</span>&nbsp;<span class="op" id="7463345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463349">re</span><span class="op" id="7463351">.</span><span class="ident" id="7463352">Match</span><span class="op" id="7463357">(</span><span class="ident" id="7463358">x</span><span class="op" id="7463359">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463362">}</span><br>
<span class="lineno"></span><span class="op" id="7463364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7463367">func</span>&nbsp;<span class="ident" id="7463372">BenchmarkOnePassShortA</span><span class="op" id="7463394">(</span><span class="ident" id="7463395">b</span>&nbsp;<span class="op" id="7463397">*</span><span class="ident" id="7463398">testing</span><span class="op" id="7463405">.</span><span class="ident" id="7463406">B</span><span class="op" id="7463407">)</span>&nbsp;<span class="op" id="7463409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463412">b</span><span class="op" id="7463413">.</span><span class="ident" id="7463414">StopTimer</span><span class="op" id="7463423">(</span><span class="op" id="7463424">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463427">x</span>&nbsp;<span class="op" id="7463429">:=</span>&nbsp;<span class="op" id="7463432">[</span><span class="op" id="7463433">]</span><span class="builtintype" id="7463434">byte</span><span class="op" id="7463438">(</span><span class="string" id="7463439">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7463458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463461">re</span>&nbsp;<span class="op" id="7463464">:=</span>&nbsp;<span class="ident" id="7463467">MustCompile</span><span class="op" id="7463478">(</span><span class="string" id="7463479">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="7463492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463495">b</span><span class="op" id="7463496">.</span><span class="ident" id="7463497">StartTimer</span><span class="op" id="7463507">(</span><span class="op" id="7463508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463511">for</span>&nbsp;<span class="ident" id="7463515">i</span>&nbsp;<span class="op" id="7463517">:=</span>&nbsp;<span class="num" id="7463520">0</span><span class="op" id="7463521">;</span>&nbsp;<span class="ident" id="7463523">i</span>&nbsp;<span class="op" id="7463525">&lt;</span>&nbsp;<span class="ident" id="7463527">b</span><span class="op" id="7463528">.</span><span class="ident" id="7463529">N</span><span class="op" id="7463530">;</span>&nbsp;<span class="ident" id="7463532">i</span><span class="op" id="7463533">++</span>&nbsp;<span class="op" id="7463536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463540">re</span><span class="op" id="7463542">.</span><span class="ident" id="7463543">Match</span><span class="op" id="7463548">(</span><span class="ident" id="7463549">x</span><span class="op" id="7463550">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463553">}</span><br>
<span class="lineno"></span><span class="op" id="7463555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7463558">func</span>&nbsp;<span class="ident" id="7463563">BenchmarkNotOnePassShortA</span><span class="op" id="7463588">(</span><span class="ident" id="7463589">b</span>&nbsp;<span class="op" id="7463591">*</span><span class="ident" id="7463592">testing</span><span class="op" id="7463599">.</span><span class="ident" id="7463600">B</span><span class="op" id="7463601">)</span>&nbsp;<span class="op" id="7463603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463606">b</span><span class="op" id="7463607">.</span><span class="ident" id="7463608">StopTimer</span><span class="op" id="7463617">(</span><span class="op" id="7463618">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463621">x</span>&nbsp;<span class="op" id="7463623">:=</span>&nbsp;<span class="op" id="7463626">[</span><span class="op" id="7463627">]</span><span class="builtintype" id="7463628">byte</span><span class="op" id="7463632">(</span><span class="string" id="7463633">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7463652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463655">re</span>&nbsp;<span class="op" id="7463658">:=</span>&nbsp;<span class="ident" id="7463661">MustCompile</span><span class="op" id="7463672">(</span><span class="string" id="7463673">&#34;.bc(d|e)*$&#34;</span><span class="op" id="7463685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463688">b</span><span class="op" id="7463689">.</span><span class="ident" id="7463690">StartTimer</span><span class="op" id="7463700">(</span><span class="op" id="7463701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463704">for</span>&nbsp;<span class="ident" id="7463708">i</span>&nbsp;<span class="op" id="7463710">:=</span>&nbsp;<span class="num" id="7463713">0</span><span class="op" id="7463714">;</span>&nbsp;<span class="ident" id="7463716">i</span>&nbsp;<span class="op" id="7463718">&lt;</span>&nbsp;<span class="ident" id="7463720">b</span><span class="op" id="7463721">.</span><span class="ident" id="7463722">N</span><span class="op" id="7463723">;</span>&nbsp;<span class="ident" id="7463725">i</span><span class="op" id="7463726">++</span>&nbsp;<span class="op" id="7463729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463733">re</span><span class="op" id="7463735">.</span><span class="ident" id="7463736">Match</span><span class="op" id="7463741">(</span><span class="ident" id="7463742">x</span><span class="op" id="7463743">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463746">}</span><br>
<span class="lineno"></span><span class="op" id="7463748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7463751">func</span>&nbsp;<span class="ident" id="7463756">BenchmarkOnePassShortB</span><span class="op" id="7463778">(</span><span class="ident" id="7463779">b</span>&nbsp;<span class="op" id="7463781">*</span><span class="ident" id="7463782">testing</span><span class="op" id="7463789">.</span><span class="ident" id="7463790">B</span><span class="op" id="7463791">)</span>&nbsp;<span class="op" id="7463793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463796">b</span><span class="op" id="7463797">.</span><span class="ident" id="7463798">StopTimer</span><span class="op" id="7463807">(</span><span class="op" id="7463808">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463811">x</span>&nbsp;<span class="op" id="7463813">:=</span>&nbsp;<span class="op" id="7463816">[</span><span class="op" id="7463817">]</span><span class="builtintype" id="7463818">byte</span><span class="op" id="7463822">(</span><span class="string" id="7463823">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7463842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463845">re</span>&nbsp;<span class="op" id="7463848">:=</span>&nbsp;<span class="ident" id="7463851">MustCompile</span><span class="op" id="7463862">(</span><span class="string" id="7463863">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="7463878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463881">b</span><span class="op" id="7463882">.</span><span class="ident" id="7463883">StartTimer</span><span class="op" id="7463893">(</span><span class="op" id="7463894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463897">for</span>&nbsp;<span class="ident" id="7463901">i</span>&nbsp;<span class="op" id="7463903">:=</span>&nbsp;<span class="num" id="7463906">0</span><span class="op" id="7463907">;</span>&nbsp;<span class="ident" id="7463909">i</span>&nbsp;<span class="op" id="7463911">&lt;</span>&nbsp;<span class="ident" id="7463913">b</span><span class="op" id="7463914">.</span><span class="ident" id="7463915">N</span><span class="op" id="7463916">;</span>&nbsp;<span class="ident" id="7463918">i</span><span class="op" id="7463919">++</span>&nbsp;<span class="op" id="7463922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463926">re</span><span class="op" id="7463928">.</span><span class="ident" id="7463929">Match</span><span class="op" id="7463934">(</span><span class="ident" id="7463935">x</span><span class="op" id="7463936">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463939">}</span><br>
<span class="lineno"></span><span class="op" id="7463941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7463944">func</span>&nbsp;<span class="ident" id="7463949">BenchmarkNotOnePassShortB</span><span class="op" id="7463974">(</span><span class="ident" id="7463975">b</span>&nbsp;<span class="op" id="7463977">*</span><span class="ident" id="7463978">testing</span><span class="op" id="7463985">.</span><span class="ident" id="7463986">B</span><span class="op" id="7463987">)</span>&nbsp;<span class="op" id="7463989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463992">b</span><span class="op" id="7463993">.</span><span class="ident" id="7463994">StopTimer</span><span class="op" id="7464003">(</span><span class="op" id="7464004">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464007">x</span>&nbsp;<span class="op" id="7464009">:=</span>&nbsp;<span class="op" id="7464012">[</span><span class="op" id="7464013">]</span><span class="builtintype" id="7464014">byte</span><span class="op" id="7464018">(</span><span class="string" id="7464019">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7464038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464041">re</span>&nbsp;<span class="op" id="7464044">:=</span>&nbsp;<span class="ident" id="7464047">MustCompile</span><span class="op" id="7464058">(</span><span class="string" id="7464059">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="7464073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464076">b</span><span class="op" id="7464077">.</span><span class="ident" id="7464078">StartTimer</span><span class="op" id="7464088">(</span><span class="op" id="7464089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464092">for</span>&nbsp;<span class="ident" id="7464096">i</span>&nbsp;<span class="op" id="7464098">:=</span>&nbsp;<span class="num" id="7464101">0</span><span class="op" id="7464102">;</span>&nbsp;<span class="ident" id="7464104">i</span>&nbsp;<span class="op" id="7464106">&lt;</span>&nbsp;<span class="ident" id="7464108">b</span><span class="op" id="7464109">.</span><span class="ident" id="7464110">N</span><span class="op" id="7464111">;</span>&nbsp;<span class="ident" id="7464113">i</span><span class="op" id="7464114">++</span>&nbsp;<span class="op" id="7464117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464121">re</span><span class="op" id="7464123">.</span><span class="ident" id="7464124">Match</span><span class="op" id="7464129">(</span><span class="ident" id="7464130">x</span><span class="op" id="7464131">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464134">}</span><br>
<span class="lineno"></span><span class="op" id="7464136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7464139">func</span>&nbsp;<span class="ident" id="7464144">BenchmarkOnePassLongPrefix</span><span class="op" id="7464170">(</span><span class="ident" id="7464171">b</span>&nbsp;<span class="op" id="7464173">*</span><span class="ident" id="7464174">testing</span><span class="op" id="7464181">.</span><span class="ident" id="7464182">B</span><span class="op" id="7464183">)</span>&nbsp;<span class="op" id="7464185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464188">b</span><span class="op" id="7464189">.</span><span class="ident" id="7464190">StopTimer</span><span class="op" id="7464199">(</span><span class="op" id="7464200">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464203">x</span>&nbsp;<span class="op" id="7464205">:=</span>&nbsp;<span class="op" id="7464208">[</span><span class="op" id="7464209">]</span><span class="builtintype" id="7464210">byte</span><span class="op" id="7464214">(</span><span class="string" id="7464215">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7464243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464246">re</span>&nbsp;<span class="op" id="7464249">:=</span>&nbsp;<span class="ident" id="7464252">MustCompile</span><span class="op" id="7464263">(</span><span class="string" id="7464264">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7464296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464299">b</span><span class="op" id="7464300">.</span><span class="ident" id="7464301">StartTimer</span><span class="op" id="7464311">(</span><span class="op" id="7464312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464315">for</span>&nbsp;<span class="ident" id="7464319">i</span>&nbsp;<span class="op" id="7464321">:=</span>&nbsp;<span class="num" id="7464324">0</span><span class="op" id="7464325">;</span>&nbsp;<span class="ident" id="7464327">i</span>&nbsp;<span class="op" id="7464329">&lt;</span>&nbsp;<span class="ident" id="7464331">b</span><span class="op" id="7464332">.</span><span class="ident" id="7464333">N</span><span class="op" id="7464334">;</span>&nbsp;<span class="ident" id="7464336">i</span><span class="op" id="7464337">++</span>&nbsp;<span class="op" id="7464340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464344">re</span><span class="op" id="7464346">.</span><span class="ident" id="7464347">Match</span><span class="op" id="7464352">(</span><span class="ident" id="7464353">x</span><span class="op" id="7464354">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464357">}</span><br>
<span class="lineno"></span><span class="op" id="7464359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7464362">func</span>&nbsp;<span class="ident" id="7464367">BenchmarkOnePassLongNotPrefix</span><span class="op" id="7464396">(</span><span class="ident" id="7464397">b</span>&nbsp;<span class="op" id="7464399">*</span><span class="ident" id="7464400">testing</span><span class="op" id="7464407">.</span><span class="ident" id="7464408">B</span><span class="op" id="7464409">)</span>&nbsp;<span class="op" id="7464411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464414">b</span><span class="op" id="7464415">.</span><span class="ident" id="7464416">StopTimer</span><span class="op" id="7464425">(</span><span class="op" id="7464426">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464429">x</span>&nbsp;<span class="op" id="7464431">:=</span>&nbsp;<span class="op" id="7464434">[</span><span class="op" id="7464435">]</span><span class="builtintype" id="7464436">byte</span><span class="op" id="7464440">(</span><span class="string" id="7464441">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7464469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464472">re</span>&nbsp;<span class="op" id="7464475">:=</span>&nbsp;<span class="ident" id="7464478">MustCompile</span><span class="op" id="7464489">(</span><span class="string" id="7464490">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7464522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464525">b</span><span class="op" id="7464526">.</span><span class="ident" id="7464527">StartTimer</span><span class="op" id="7464537">(</span><span class="op" id="7464538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464541">for</span>&nbsp;<span class="ident" id="7464545">i</span>&nbsp;<span class="op" id="7464547">:=</span>&nbsp;<span class="num" id="7464550">0</span><span class="op" id="7464551">;</span>&nbsp;<span class="ident" id="7464553">i</span>&nbsp;<span class="op" id="7464555">&lt;</span>&nbsp;<span class="ident" id="7464557">b</span><span class="op" id="7464558">.</span><span class="ident" id="7464559">N</span><span class="op" id="7464560">;</span>&nbsp;<span class="ident" id="7464562">i</span><span class="op" id="7464563">++</span>&nbsp;<span class="op" id="7464566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464570">re</span><span class="op" id="7464572">.</span><span class="ident" id="7464573">Match</span><span class="op" id="7464578">(</span><span class="ident" id="7464579">x</span><span class="op" id="7464580">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464583">}</span><br>
<span class="lineno"></span><span class="op" id="7464585">}</span>
</div>
</body>
</html>
