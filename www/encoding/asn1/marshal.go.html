<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4173387">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4173442">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4173496">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4173547">package</span>&nbsp;<span class="ident" id="4173555">asn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4173561">import</span>&nbsp;<span class="op" id="4173568">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173571">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173580">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173590">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173597">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173603">&#34;math/big&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173615">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173626">&#34;time&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4173634">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4173649">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4173652">//&nbsp;A&nbsp;forkableWriter&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;buffer&nbsp;that&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="4173707">//&nbsp;&#39;forked&#39;&nbsp;to&nbsp;create&nbsp;new&nbsp;forkableWriters&nbsp;that&nbsp;bracket&nbsp;the</span><br>
<span class="lineno">20</span><span class="comment" id="4173766">//&nbsp;original.&nbsp;&nbsp;After</span><br>
<span class="lineno"></span><span class="comment" id="4173786">//&nbsp;&nbsp;&nbsp;&nbsp;pre,&nbsp;post&nbsp;:=&nbsp;w.fork();</span><br>
<span class="lineno"></span><span class="comment" id="4173815">//&nbsp;the&nbsp;overall&nbsp;sequence&nbsp;of&nbsp;bytes&nbsp;represented&nbsp;is&nbsp;logically&nbsp;w+pre+post.</span><br>
<span class="lineno"></span><span class="keyword" id="4173885">type</span>&nbsp;<span class="ident" id="4173890">forkableWriter</span>&nbsp;<span class="keyword" id="4173905">struct</span>&nbsp;<span class="op" id="4173912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4173915">*</span><span class="ident" id="4173916"><a href="/encoding/asn1/marshal.go.html#4173571">bytes</a></span><span class="op" id="4173921">.</span><span class="ident" id="4173922">Buffer</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4173930">pre</span><span class="op" id="4173933">,</span>&nbsp;<span class="ident" id="4173935">post</span>&nbsp;<span class="op" id="4173940">*</span><span class="ident" id="4173941"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><br>
<span class="lineno"></span><span class="op" id="4173956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4173959">func</span>&nbsp;<span class="ident" id="4173964">newForkableWriter</span><span class="op" id="4173981">(</span><span class="op" id="4173982">)</span>&nbsp;<span class="op" id="4173984">*</span><span class="ident" id="4173985"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span>&nbsp;<span class="op" id="4174000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174003">return</span>&nbsp;<span class="op" id="4174010">&amp;</span><span class="ident" id="4174011"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4174025">{</span><span class="builtinfunc" id="4174026">new</span><span class="op" id="4174029">(</span><span class="ident" id="4174030"><a href="/encoding/asn1/marshal.go.html#4173571">bytes</a></span><span class="op" id="4174035">.</span><span class="ident" id="4174036">Buffer</span><span class="op" id="4174042">)</span><span class="op" id="4174043">,</span>&nbsp;<span class="ident" id="4174045">nil</span><span class="op" id="4174048">,</span>&nbsp;<span class="ident" id="4174050">nil</span><span class="op" id="4174053">}</span><br>
<span class="lineno">30</span><span class="op" id="4174055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4174058">func</span>&nbsp;<span class="op" id="4174063">(</span><span class="ident" id="4174064">f</span>&nbsp;<span class="op" id="4174066">*</span><span class="ident" id="4174067"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4174081">)</span>&nbsp;<span class="ident" id="4174083">fork</span><span class="op" id="4174087">(</span><span class="op" id="4174088">)</span>&nbsp;<span class="op" id="4174090">(</span><span class="ident" id="4174091">pre</span><span class="op" id="4174094">,</span>&nbsp;<span class="ident" id="4174096">post</span>&nbsp;<span class="op" id="4174101">*</span><span class="ident" id="4174102"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4174116">)</span>&nbsp;<span class="op" id="4174118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174121">if</span>&nbsp;<span class="ident" id="4174124"><a href="/encoding/asn1/marshal.go.html#4174064">f</a></span><span class="op" id="4174125">.</span><span class="ident" id="4174126">pre</span>&nbsp;<span class="op" id="4174130">!=</span>&nbsp;<span class="ident" id="4174133">nil</span>&nbsp;<span class="op" id="4174137">||</span>&nbsp;<span class="ident" id="4174140"><a href="/encoding/asn1/marshal.go.html#4174064">f</a></span><span class="op" id="4174141">.</span><span class="ident" id="4174142">post</span>&nbsp;<span class="op" id="4174147">!=</span>&nbsp;<span class="ident" id="4174150">nil</span>&nbsp;<span class="op" id="4174154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4174158">panic</span><span class="op" id="4174163">(</span><span class="string" id="4174164">&#34;have&nbsp;already&nbsp;forked&#34;</span><span class="op" id="4174185">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174191"><a href="/encoding/asn1/marshal.go.html#4174064">f</a></span><span class="op" id="4174192">.</span><span class="ident" id="4174193">pre</span>&nbsp;<span class="op" id="4174197">=</span>&nbsp;<span class="ident" id="4174199"><a href="/encoding/asn1/marshal.go.html#4173964">newForkableWriter</a></span><span class="op" id="4174216">(</span><span class="op" id="4174217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174220"><a href="/encoding/asn1/marshal.go.html#4174064">f</a></span><span class="op" id="4174221">.</span><span class="ident" id="4174222">post</span>&nbsp;<span class="op" id="4174227">=</span>&nbsp;<span class="ident" id="4174229"><a href="/encoding/asn1/marshal.go.html#4173964">newForkableWriter</a></span><span class="op" id="4174246">(</span><span class="op" id="4174247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174250">return</span>&nbsp;<span class="ident" id="4174257"><a href="/encoding/asn1/marshal.go.html#4174064">f</a></span><span class="op" id="4174258">.</span><span class="ident" id="4174259">pre</span><span class="op" id="4174262">,</span>&nbsp;<span class="ident" id="4174264"><a href="/encoding/asn1/marshal.go.html#4174064">f</a></span><span class="op" id="4174265">.</span><span class="ident" id="4174266">post</span><br>
<span class="lineno"></span><span class="op" id="4174271">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="4174274">func</span>&nbsp;<span class="op" id="4174279">(</span><span class="ident" id="4174280">f</span>&nbsp;<span class="op" id="4174282">*</span><span class="ident" id="4174283"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4174297">)</span>&nbsp;<span class="ident" id="4174299">Len</span><span class="op" id="4174302">(</span><span class="op" id="4174303">)</span>&nbsp;<span class="op" id="4174305">(</span><span class="ident" id="4174306">l</span>&nbsp;<span class="builtintype" id="4174308">int</span><span class="op" id="4174311">)</span>&nbsp;<span class="op" id="4174313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174316"><a href="/encoding/asn1/marshal.go.html#4174306">l</a></span>&nbsp;<span class="op" id="4174318">+=</span>&nbsp;<span class="ident" id="4174321"><a href="/encoding/asn1/marshal.go.html#4174280">f</a></span><span class="op" id="4174322">.</span><span class="ident" id="4174323">Buffer</span><span class="op" id="4174329">.</span><span class="ident" id="4174330">Len</span><span class="op" id="4174333">(</span><span class="op" id="4174334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174337">if</span>&nbsp;<span class="ident" id="4174340"><a href="/encoding/asn1/marshal.go.html#4174280">f</a></span><span class="op" id="4174341">.</span><span class="ident" id="4174342">pre</span>&nbsp;<span class="op" id="4174346">!=</span>&nbsp;<span class="ident" id="4174349">nil</span>&nbsp;<span class="op" id="4174353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174357"><a href="/encoding/asn1/marshal.go.html#4174306">l</a></span>&nbsp;<span class="op" id="4174359">+=</span>&nbsp;<span class="ident" id="4174362"><a href="/encoding/asn1/marshal.go.html#4174280">f</a></span><span class="op" id="4174363">.</span><span class="ident" id="4174364">pre</span><span class="op" id="4174367">.</span><span class="ident" id="4174368">Len</span><span class="op" id="4174371">(</span><span class="op" id="4174372">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174378">if</span>&nbsp;<span class="ident" id="4174381"><a href="/encoding/asn1/marshal.go.html#4174280">f</a></span><span class="op" id="4174382">.</span><span class="ident" id="4174383">post</span>&nbsp;<span class="op" id="4174388">!=</span>&nbsp;<span class="ident" id="4174391">nil</span>&nbsp;<span class="op" id="4174395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174399"><a href="/encoding/asn1/marshal.go.html#4174306">l</a></span>&nbsp;<span class="op" id="4174401">+=</span>&nbsp;<span class="ident" id="4174404"><a href="/encoding/asn1/marshal.go.html#4174280">f</a></span><span class="op" id="4174405">.</span><span class="ident" id="4174406">post</span><span class="op" id="4174410">.</span><span class="ident" id="4174411">Len</span><span class="op" id="4174414">(</span><span class="op" id="4174415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174421">return</span><br>
<span class="lineno">50</span><span class="op" id="4174428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4174431">func</span>&nbsp;<span class="op" id="4174436">(</span><span class="ident" id="4174437">f</span>&nbsp;<span class="op" id="4174439">*</span><span class="ident" id="4174440"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4174454">)</span>&nbsp;<span class="ident" id="4174456">writeTo</span><span class="op" id="4174463">(</span><span class="ident" id="4174464">out</span>&nbsp;<span class="ident" id="4174468"><a href="/encoding/asn1/marshal.go.html#4173597">io</a></span><span class="op" id="4174470">.</span><span class="ident" id="4174471">Writer</span><span class="op" id="4174477">)</span>&nbsp;<span class="op" id="4174479">(</span><span class="ident" id="4174480">n</span>&nbsp;<span class="builtintype" id="4174482">int</span><span class="op" id="4174485">,</span>&nbsp;<span class="ident" id="4174487">err</span>&nbsp;<span class="builtintype" id="4174491">error</span><span class="op" id="4174496">)</span>&nbsp;<span class="op" id="4174498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174501"><a href="/encoding/asn1/marshal.go.html#4174480">n</a></span><span class="op" id="4174502">,</span>&nbsp;<span class="ident" id="4174504"><a href="/encoding/asn1/marshal.go.html#4174487">err</a></span>&nbsp;<span class="op" id="4174508">=</span>&nbsp;<span class="ident" id="4174510"><a href="/encoding/asn1/marshal.go.html#4174464">out</a></span><span class="op" id="4174513">.</span><span class="ident" id="4174514">Write</span><span class="op" id="4174519">(</span><span class="ident" id="4174520"><a href="/encoding/asn1/marshal.go.html#4174437">f</a></span><span class="op" id="4174521">.</span><span class="ident" id="4174522">Bytes</span><span class="op" id="4174527">(</span><span class="op" id="4174528">)</span><span class="op" id="4174529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174532">if</span>&nbsp;<span class="ident" id="4174535"><a href="/encoding/asn1/marshal.go.html#4174487">err</a></span>&nbsp;<span class="op" id="4174539">!=</span>&nbsp;<span class="ident" id="4174542">nil</span>&nbsp;<span class="op" id="4174546">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174550">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174562">var</span>&nbsp;<span class="ident" id="4174566">nn</span>&nbsp;<span class="builtintype" id="4174569">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174575">if</span>&nbsp;<span class="ident" id="4174578"><a href="/encoding/asn1/marshal.go.html#4174437">f</a></span><span class="op" id="4174579">.</span><span class="ident" id="4174580">pre</span>&nbsp;<span class="op" id="4174584">!=</span>&nbsp;<span class="ident" id="4174587">nil</span>&nbsp;<span class="op" id="4174591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174595"><a href="/encoding/asn1/marshal.go.html#4174566">nn</a></span><span class="op" id="4174597">,</span>&nbsp;<span class="ident" id="4174599"><a href="/encoding/asn1/marshal.go.html#4174487">err</a></span>&nbsp;<span class="op" id="4174603">=</span>&nbsp;<span class="ident" id="4174605"><a href="/encoding/asn1/marshal.go.html#4174437">f</a></span><span class="op" id="4174606">.</span><span class="ident" id="4174607">pre</span><span class="op" id="4174610">.</span><span class="ident" id="4174611">writeTo</span><span class="op" id="4174618">(</span><span class="ident" id="4174619"><a href="/encoding/asn1/marshal.go.html#4174464">out</a></span><span class="op" id="4174622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174626"><a href="/encoding/asn1/marshal.go.html#4174480">n</a></span>&nbsp;<span class="op" id="4174628">+=</span>&nbsp;<span class="ident" id="4174631"><a href="/encoding/asn1/marshal.go.html#4174566">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174636">if</span>&nbsp;<span class="ident" id="4174639"><a href="/encoding/asn1/marshal.go.html#4174487">err</a></span>&nbsp;<span class="op" id="4174643">!=</span>&nbsp;<span class="ident" id="4174646">nil</span>&nbsp;<span class="op" id="4174650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174655">return</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174671">if</span>&nbsp;<span class="ident" id="4174674"><a href="/encoding/asn1/marshal.go.html#4174437">f</a></span><span class="op" id="4174675">.</span><span class="ident" id="4174676">post</span>&nbsp;<span class="op" id="4174681">!=</span>&nbsp;<span class="ident" id="4174684">nil</span>&nbsp;<span class="op" id="4174688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174692"><a href="/encoding/asn1/marshal.go.html#4174566">nn</a></span><span class="op" id="4174694">,</span>&nbsp;<span class="ident" id="4174696"><a href="/encoding/asn1/marshal.go.html#4174487">err</a></span>&nbsp;<span class="op" id="4174700">=</span>&nbsp;<span class="ident" id="4174702"><a href="/encoding/asn1/marshal.go.html#4174437">f</a></span><span class="op" id="4174703">.</span><span class="ident" id="4174704">post</span><span class="op" id="4174708">.</span><span class="ident" id="4174709">writeTo</span><span class="op" id="4174716">(</span><span class="ident" id="4174717"><a href="/encoding/asn1/marshal.go.html#4174464">out</a></span><span class="op" id="4174720">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174724"><a href="/encoding/asn1/marshal.go.html#4174480">n</a></span>&nbsp;<span class="op" id="4174726">+=</span>&nbsp;<span class="ident" id="4174729"><a href="/encoding/asn1/marshal.go.html#4174566">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174736">return</span><br>
<span class="lineno"></span><span class="op" id="4174743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="4174746">func</span>&nbsp;<span class="ident" id="4174751">marshalBase128Int</span><span class="op" id="4174768">(</span><span class="ident" id="4174769">out</span>&nbsp;<span class="op" id="4174773">*</span><span class="ident" id="4174774"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4174788">,</span>&nbsp;<span class="ident" id="4174790">n</span>&nbsp;<span class="ident" id="4174792">int64</span><span class="op" id="4174797">)</span>&nbsp;<span class="op" id="4174799">(</span><span class="ident" id="4174800">err</span>&nbsp;<span class="builtintype" id="4174804">error</span><span class="op" id="4174809">)</span>&nbsp;<span class="op" id="4174811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174814">if</span>&nbsp;<span class="ident" id="4174817"><a href="/encoding/asn1/marshal.go.html#4174790">n</a></span>&nbsp;<span class="op" id="4174819">==</span>&nbsp;<span class="num" id="4174822">0</span>&nbsp;<span class="op" id="4174824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174828"><a href="/encoding/asn1/marshal.go.html#4174800">err</a></span>&nbsp;<span class="op" id="4174832">=</span>&nbsp;<span class="ident" id="4174834"><a href="/encoding/asn1/marshal.go.html#4174769">out</a></span><span class="op" id="4174837">.</span><span class="ident" id="4174838">WriteByte</span><span class="op" id="4174847">(</span><span class="num" id="4174848">0</span><span class="op" id="4174849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174853">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174861">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174865">l</span>&nbsp;<span class="op" id="4174867">:=</span>&nbsp;<span class="num" id="4174870">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174873">for</span>&nbsp;<span class="ident" id="4174877">i</span>&nbsp;<span class="op" id="4174879">:=</span>&nbsp;<span class="ident" id="4174882"><a href="/encoding/asn1/marshal.go.html#4174790">n</a></span><span class="op" id="4174883">;</span>&nbsp;<span class="ident" id="4174885"><a href="/encoding/asn1/marshal.go.html#4174877">i</a></span>&nbsp;<span class="op" id="4174887">&gt;</span>&nbsp;<span class="num" id="4174889">0</span><span class="op" id="4174890">;</span>&nbsp;<span class="ident" id="4174892"><a href="/encoding/asn1/marshal.go.html#4174877">i</a></span>&nbsp;<span class="op" id="4174894">&gt;&gt;=</span>&nbsp;<span class="num" id="4174898">7</span>&nbsp;<span class="op" id="4174900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174904"><a href="/encoding/asn1/marshal.go.html#4174865">l</a></span><span class="op" id="4174905">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4174909">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174913">for</span>&nbsp;<span class="ident" id="4174917">i</span>&nbsp;<span class="op" id="4174919">:=</span>&nbsp;<span class="ident" id="4174922"><a href="/encoding/asn1/marshal.go.html#4174865">l</a></span>&nbsp;<span class="op" id="4174924">-</span>&nbsp;<span class="num" id="4174926">1</span><span class="op" id="4174927">;</span>&nbsp;<span class="ident" id="4174929"><a href="/encoding/asn1/marshal.go.html#4174917">i</a></span>&nbsp;<span class="op" id="4174931">&gt;=</span>&nbsp;<span class="num" id="4174934">0</span><span class="op" id="4174935">;</span>&nbsp;<span class="ident" id="4174937"><a href="/encoding/asn1/marshal.go.html#4174917">i</a></span><span class="op" id="4174938">--</span>&nbsp;<span class="op" id="4174941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174945">o</span>&nbsp;<span class="op" id="4174947">:=</span>&nbsp;<span class="builtintype" id="4174950">byte</span><span class="op" id="4174954">(</span><span class="ident" id="4174955"><a href="/encoding/asn1/marshal.go.html#4174790">n</a></span>&nbsp;<span class="op" id="4174957">&gt;&gt;</span>&nbsp;<span class="builtintype" id="4174960">uint</span><span class="op" id="4174964">(</span><span class="ident" id="4174965"><a href="/encoding/asn1/marshal.go.html#4174917">i</a></span><span class="op" id="4174966">*</span><span class="num" id="4174967">7</span><span class="op" id="4174968">)</span><span class="op" id="4174969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4174973"><a href="/encoding/asn1/marshal.go.html#4174945">o</a></span>&nbsp;<span class="op" id="4174975">&amp;=</span>&nbsp;<span class="num" id="4174978">0x7f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4174985">if</span>&nbsp;<span class="ident" id="4174988"><a href="/encoding/asn1/marshal.go.html#4174917">i</a></span>&nbsp;<span class="op" id="4174990">!=</span>&nbsp;<span class="num" id="4174993">0</span>&nbsp;<span class="op" id="4174995">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175000"><a href="/encoding/asn1/marshal.go.html#4174945">o</a></span>&nbsp;<span class="op" id="4175002">|=</span>&nbsp;<span class="num" id="4175005">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175016"><a href="/encoding/asn1/marshal.go.html#4174800">err</a></span>&nbsp;<span class="op" id="4175020">=</span>&nbsp;<span class="ident" id="4175022"><a href="/encoding/asn1/marshal.go.html#4174769">out</a></span><span class="op" id="4175025">.</span><span class="ident" id="4175026">WriteByte</span><span class="op" id="4175035">(</span><span class="ident" id="4175036"><a href="/encoding/asn1/marshal.go.html#4174945">o</a></span><span class="op" id="4175037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175041">if</span>&nbsp;<span class="ident" id="4175044"><a href="/encoding/asn1/marshal.go.html#4174800">err</a></span>&nbsp;<span class="op" id="4175048">!=</span>&nbsp;<span class="ident" id="4175051">nil</span>&nbsp;<span class="op" id="4175055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175060">return</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175076">return</span>&nbsp;<span class="ident" id="4175083">nil</span><br>
<span class="lineno"></span><span class="op" id="4175087">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="4175090">func</span>&nbsp;<span class="ident" id="4175095">marshalInt64</span><span class="op" id="4175107">(</span><span class="ident" id="4175108">out</span>&nbsp;<span class="op" id="4175112">*</span><span class="ident" id="4175113"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4175127">,</span>&nbsp;<span class="ident" id="4175129">i</span>&nbsp;<span class="ident" id="4175131">int64</span><span class="op" id="4175136">)</span>&nbsp;<span class="op" id="4175138">(</span><span class="ident" id="4175139">err</span>&nbsp;<span class="builtintype" id="4175143">error</span><span class="op" id="4175148">)</span>&nbsp;<span class="op" id="4175150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175153">n</span>&nbsp;<span class="op" id="4175155">:=</span>&nbsp;<span class="ident" id="4175158"><a href="/encoding/asn1/marshal.go.html#4175298">int64Length</a></span><span class="op" id="4175169">(</span><span class="ident" id="4175170"><a href="/encoding/asn1/marshal.go.html#4175129">i</a></span><span class="op" id="4175171">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175175">for</span>&nbsp;<span class="op" id="4175179">;</span>&nbsp;<span class="ident" id="4175181"><a href="/encoding/asn1/marshal.go.html#4175153">n</a></span>&nbsp;<span class="op" id="4175183">&gt;</span>&nbsp;<span class="num" id="4175185">0</span><span class="op" id="4175186">;</span>&nbsp;<span class="ident" id="4175188"><a href="/encoding/asn1/marshal.go.html#4175153">n</a></span><span class="op" id="4175189">--</span>&nbsp;<span class="op" id="4175192">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175196"><a href="/encoding/asn1/marshal.go.html#4175139">err</a></span>&nbsp;<span class="op" id="4175200">=</span>&nbsp;<span class="ident" id="4175202"><a href="/encoding/asn1/marshal.go.html#4175108">out</a></span><span class="op" id="4175205">.</span><span class="ident" id="4175206">WriteByte</span><span class="op" id="4175215">(</span><span class="builtintype" id="4175216">byte</span><span class="op" id="4175220">(</span><span class="ident" id="4175221"><a href="/encoding/asn1/marshal.go.html#4175129">i</a></span>&nbsp;<span class="op" id="4175223">&gt;&gt;</span>&nbsp;<span class="builtintype" id="4175226">uint</span><span class="op" id="4175230">(</span><span class="op" id="4175231">(</span><span class="ident" id="4175232"><a href="/encoding/asn1/marshal.go.html#4175153">n</a></span><span class="op" id="4175233">-</span><span class="num" id="4175234">1</span><span class="op" id="4175235">)</span><span class="op" id="4175236">*</span><span class="num" id="4175237">8</span><span class="op" id="4175238">)</span><span class="op" id="4175239">)</span><span class="op" id="4175240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175244">if</span>&nbsp;<span class="ident" id="4175247"><a href="/encoding/asn1/marshal.go.html#4175139">err</a></span>&nbsp;<span class="op" id="4175251">!=</span>&nbsp;<span class="ident" id="4175254">nil</span>&nbsp;<span class="op" id="4175258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175263">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175275">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175279">return</span>&nbsp;<span class="ident" id="4175286">nil</span><br>
<span class="lineno"></span><span class="op" id="4175290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4175293">func</span>&nbsp;<span class="ident" id="4175298">int64Length</span><span class="op" id="4175309">(</span><span class="ident" id="4175310">i</span>&nbsp;<span class="ident" id="4175312">int64</span><span class="op" id="4175317">)</span>&nbsp;<span class="op" id="4175319">(</span><span class="ident" id="4175320">numBytes</span>&nbsp;<span class="builtintype" id="4175329">int</span><span class="op" id="4175332">)</span>&nbsp;<span class="op" id="4175334">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175337"><a href="/encoding/asn1/marshal.go.html#4175320">numBytes</a></span>&nbsp;<span class="op" id="4175346">=</span>&nbsp;<span class="num" id="4175348">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175352">for</span>&nbsp;<span class="ident" id="4175356"><a href="/encoding/asn1/marshal.go.html#4175310">i</a></span>&nbsp;<span class="op" id="4175358">&gt;</span>&nbsp;<span class="num" id="4175360">127</span>&nbsp;<span class="op" id="4175364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175368"><a href="/encoding/asn1/marshal.go.html#4175320">numBytes</a></span><span class="op" id="4175376">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175381"><a href="/encoding/asn1/marshal.go.html#4175310">i</a></span>&nbsp;<span class="op" id="4175383">&gt;&gt;=</span>&nbsp;<span class="num" id="4175387">8</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175394">for</span>&nbsp;<span class="ident" id="4175398"><a href="/encoding/asn1/marshal.go.html#4175310">i</a></span>&nbsp;<span class="op" id="4175400">&lt;</span>&nbsp;<span class="op" id="4175402">-</span><span class="num" id="4175403">128</span>&nbsp;<span class="op" id="4175407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175411"><a href="/encoding/asn1/marshal.go.html#4175320">numBytes</a></span><span class="op" id="4175419">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175424"><a href="/encoding/asn1/marshal.go.html#4175310">i</a></span>&nbsp;<span class="op" id="4175426">&gt;&gt;=</span>&nbsp;<span class="num" id="4175430">8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175437">return</span><br>
<span class="lineno"></span><span class="op" id="4175444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="keyword" id="4175447">func</span>&nbsp;<span class="ident" id="4175452">marshalBigInt</span><span class="op" id="4175465">(</span><span class="ident" id="4175466">out</span>&nbsp;<span class="op" id="4175470">*</span><span class="ident" id="4175471"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4175485">,</span>&nbsp;<span class="ident" id="4175487">n</span>&nbsp;<span class="op" id="4175489">*</span><span class="ident" id="4175490"><a href="/encoding/asn1/marshal.go.html#4173603">big</a></span><span class="op" id="4175493">.</span><span class="ident" id="4175494">Int</span><span class="op" id="4175497">)</span>&nbsp;<span class="op" id="4175499">(</span><span class="ident" id="4175500">err</span>&nbsp;<span class="builtintype" id="4175504">error</span><span class="op" id="4175509">)</span>&nbsp;<span class="op" id="4175511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175514">if</span>&nbsp;<span class="ident" id="4175517"><a href="/encoding/asn1/marshal.go.html#4175487">n</a></span><span class="op" id="4175518">.</span><span class="ident" id="4175519">Sign</span><span class="op" id="4175523">(</span><span class="op" id="4175524">)</span>&nbsp;<span class="op" id="4175526">&lt;</span>&nbsp;<span class="num" id="4175528">0</span>&nbsp;<span class="op" id="4175530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4175534">//&nbsp;A&nbsp;negative&nbsp;number&nbsp;has&nbsp;to&nbsp;be&nbsp;converted&nbsp;to&nbsp;two&#39;s-complement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4175597">//&nbsp;form.&nbsp;So&nbsp;we&#39;ll&nbsp;subtract&nbsp;1&nbsp;and&nbsp;invert.&nbsp;If&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4175647">//&nbsp;most-significant-bit&nbsp;isn&#39;t&nbsp;set&nbsp;then&nbsp;we&#39;ll&nbsp;need&nbsp;to&nbsp;pad&nbsp;the</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4175710">//&nbsp;beginning&nbsp;with&nbsp;0xff&nbsp;in&nbsp;order&nbsp;to&nbsp;keep&nbsp;the&nbsp;number&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175773">nMinus1</span>&nbsp;<span class="op" id="4175781">:=</span>&nbsp;<span class="builtinfunc" id="4175784">new</span><span class="op" id="4175787">(</span><span class="ident" id="4175788"><a href="/encoding/asn1/marshal.go.html#4173603">big</a></span><span class="op" id="4175791">.</span><span class="ident" id="4175792">Int</span><span class="op" id="4175795">)</span><span class="op" id="4175796">.</span><span class="ident" id="4175797">Neg</span><span class="op" id="4175800">(</span><span class="ident" id="4175801"><a href="/encoding/asn1/marshal.go.html#4175487">n</a></span><span class="op" id="4175802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175806"><a href="/encoding/asn1/marshal.go.html#4175773">nMinus1</a></span><span class="op" id="4175813">.</span><span class="ident" id="4175814">Sub</span><span class="op" id="4175817">(</span><span class="ident" id="4175818"><a href="/encoding/asn1/marshal.go.html#4175773">nMinus1</a></span><span class="op" id="4175825">,</span>&nbsp;<span class="ident" id="4175827"><a href="/encoding/asn1/asn1.go.html#4145518">bigOne</a></span><span class="op" id="4175833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175837">bytes</span>&nbsp;<span class="op" id="4175843">:=</span>&nbsp;<span class="ident" id="4175846"><a href="/encoding/asn1/marshal.go.html#4175773">nMinus1</a></span><span class="op" id="4175853">.</span><span class="ident" id="4175854">Bytes</span><span class="op" id="4175859">(</span><span class="op" id="4175860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175864">for</span>&nbsp;<span class="ident" id="4175868">i</span>&nbsp;<span class="op" id="4175870">:=</span>&nbsp;<span class="keyword" id="4175873">range</span>&nbsp;<span class="ident" id="4175879"><a href="/encoding/asn1/marshal.go.html#4175837">bytes</a></span>&nbsp;<span class="op" id="4175885">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175890"><a href="/encoding/asn1/marshal.go.html#4175837">bytes</a></span><span class="op" id="4175895">[</span><span class="ident" id="4175896"><a href="/encoding/asn1/marshal.go.html#4175868">i</a></span><span class="op" id="4175897">]</span>&nbsp;<span class="op" id="4175899">^=</span>&nbsp;<span class="num" id="4175902">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4175909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175913">if</span>&nbsp;<span class="builtinfunc" id="4175916">len</span><span class="op" id="4175919">(</span><span class="ident" id="4175920"><a href="/encoding/asn1/marshal.go.html#4175837">bytes</a></span><span class="op" id="4175925">)</span>&nbsp;<span class="op" id="4175927">==</span>&nbsp;<span class="num" id="4175930">0</span>&nbsp;<span class="op" id="4175932">||</span>&nbsp;<span class="ident" id="4175935"><a href="/encoding/asn1/marshal.go.html#4175837">bytes</a></span><span class="op" id="4175940">[</span><span class="num" id="4175941">0</span><span class="op" id="4175942">]</span><span class="op" id="4175943">&amp;</span><span class="num" id="4175944">0x80</span>&nbsp;<span class="op" id="4175949">==</span>&nbsp;<span class="num" id="4175952">0</span>&nbsp;<span class="op" id="4175954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4175959"><a href="/encoding/asn1/marshal.go.html#4175500">err</a></span>&nbsp;<span class="op" id="4175963">=</span>&nbsp;<span class="ident" id="4175965"><a href="/encoding/asn1/marshal.go.html#4175466">out</a></span><span class="op" id="4175968">.</span><span class="ident" id="4175969">WriteByte</span><span class="op" id="4175978">(</span><span class="num" id="4175979">0xff</span><span class="op" id="4175983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4175988">if</span>&nbsp;<span class="ident" id="4175991"><a href="/encoding/asn1/marshal.go.html#4175500">err</a></span>&nbsp;<span class="op" id="4175995">!=</span>&nbsp;<span class="ident" id="4175998">nil</span>&nbsp;<span class="op" id="4176002">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176008">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176026">_</span><span class="op" id="4176027">,</span>&nbsp;<span class="ident" id="4176029"><a href="/encoding/asn1/marshal.go.html#4175500">err</a></span>&nbsp;<span class="op" id="4176033">=</span>&nbsp;<span class="ident" id="4176035"><a href="/encoding/asn1/marshal.go.html#4175466">out</a></span><span class="op" id="4176038">.</span><span class="ident" id="4176039">Write</span><span class="op" id="4176044">(</span><span class="ident" id="4176045"><a href="/encoding/asn1/marshal.go.html#4175837">bytes</a></span><span class="op" id="4176050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176053">}</span>&nbsp;<span class="keyword" id="4176055">else</span>&nbsp;<span class="keyword" id="4176060">if</span>&nbsp;<span class="ident" id="4176063"><a href="/encoding/asn1/marshal.go.html#4175487">n</a></span><span class="op" id="4176064">.</span><span class="ident" id="4176065">Sign</span><span class="op" id="4176069">(</span><span class="op" id="4176070">)</span>&nbsp;<span class="op" id="4176072">==</span>&nbsp;<span class="num" id="4176075">0</span>&nbsp;<span class="op" id="4176077">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4176081">//&nbsp;Zero&nbsp;is&nbsp;written&nbsp;as&nbsp;a&nbsp;single&nbsp;0&nbsp;zero&nbsp;rather&nbsp;than&nbsp;no&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176143"><a href="/encoding/asn1/marshal.go.html#4175500">err</a></span>&nbsp;<span class="op" id="4176147">=</span>&nbsp;<span class="ident" id="4176149"><a href="/encoding/asn1/marshal.go.html#4175466">out</a></span><span class="op" id="4176152">.</span><span class="ident" id="4176153">WriteByte</span><span class="op" id="4176162">(</span><span class="num" id="4176163">0x00</span><span class="op" id="4176167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176170">}</span>&nbsp;<span class="keyword" id="4176172">else</span>&nbsp;<span class="op" id="4176177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176181">bytes</span>&nbsp;<span class="op" id="4176187">:=</span>&nbsp;<span class="ident" id="4176190"><a href="/encoding/asn1/marshal.go.html#4175487">n</a></span><span class="op" id="4176191">.</span><span class="ident" id="4176192">Bytes</span><span class="op" id="4176197">(</span><span class="op" id="4176198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176202">if</span>&nbsp;<span class="builtinfunc" id="4176205">len</span><span class="op" id="4176208">(</span><span class="ident" id="4176209"><a href="/encoding/asn1/marshal.go.html#4176181">bytes</a></span><span class="op" id="4176214">)</span>&nbsp;<span class="op" id="4176216">&gt;</span>&nbsp;<span class="num" id="4176218">0</span>&nbsp;<span class="op" id="4176220">&amp;&amp;</span>&nbsp;<span class="ident" id="4176223"><a href="/encoding/asn1/marshal.go.html#4176181">bytes</a></span><span class="op" id="4176228">[</span><span class="num" id="4176229">0</span><span class="op" id="4176230">]</span><span class="op" id="4176231">&amp;</span><span class="num" id="4176232">0x80</span>&nbsp;<span class="op" id="4176237">!=</span>&nbsp;<span class="num" id="4176240">0</span>&nbsp;<span class="op" id="4176242">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4176247">//&nbsp;We&#39;ll&nbsp;have&nbsp;to&nbsp;pad&nbsp;this&nbsp;with&nbsp;0x00&nbsp;in&nbsp;order&nbsp;to&nbsp;stop&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4176306">//&nbsp;looking&nbsp;like&nbsp;a&nbsp;negative&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176344"><a href="/encoding/asn1/marshal.go.html#4175500">err</a></span>&nbsp;<span class="op" id="4176348">=</span>&nbsp;<span class="ident" id="4176350"><a href="/encoding/asn1/marshal.go.html#4175466">out</a></span><span class="op" id="4176353">.</span><span class="ident" id="4176354">WriteByte</span><span class="op" id="4176363">(</span><span class="num" id="4176364">0</span><span class="op" id="4176365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176370">if</span>&nbsp;<span class="ident" id="4176373"><a href="/encoding/asn1/marshal.go.html#4175500">err</a></span>&nbsp;<span class="op" id="4176377">!=</span>&nbsp;<span class="ident" id="4176380">nil</span>&nbsp;<span class="op" id="4176384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176390">return</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176408">_</span><span class="op" id="4176409">,</span>&nbsp;<span class="ident" id="4176411"><a href="/encoding/asn1/marshal.go.html#4175500">err</a></span>&nbsp;<span class="op" id="4176415">=</span>&nbsp;<span class="ident" id="4176417"><a href="/encoding/asn1/marshal.go.html#4175466">out</a></span><span class="op" id="4176420">.</span><span class="ident" id="4176421">Write</span><span class="op" id="4176426">(</span><span class="ident" id="4176427"><a href="/encoding/asn1/marshal.go.html#4176181">bytes</a></span><span class="op" id="4176432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176438">return</span><br>
<span class="lineno">165</span><span class="op" id="4176445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4176448">func</span>&nbsp;<span class="ident" id="4176453">marshalLength</span><span class="op" id="4176466">(</span><span class="ident" id="4176467">out</span>&nbsp;<span class="op" id="4176471">*</span><span class="ident" id="4176472"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4176486">,</span>&nbsp;<span class="ident" id="4176488">i</span>&nbsp;<span class="builtintype" id="4176490">int</span><span class="op" id="4176493">)</span>&nbsp;<span class="op" id="4176495">(</span><span class="ident" id="4176496">err</span>&nbsp;<span class="builtintype" id="4176500">error</span><span class="op" id="4176505">)</span>&nbsp;<span class="op" id="4176507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176510">n</span>&nbsp;<span class="op" id="4176512">:=</span>&nbsp;<span class="ident" id="4176515"><a href="/encoding/asn1/marshal.go.html#4176656">lengthLength</a></span><span class="op" id="4176527">(</span><span class="ident" id="4176528"><a href="/encoding/asn1/marshal.go.html#4176488">i</a></span><span class="op" id="4176529">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176533">for</span>&nbsp;<span class="op" id="4176537">;</span>&nbsp;<span class="ident" id="4176539"><a href="/encoding/asn1/marshal.go.html#4176510">n</a></span>&nbsp;<span class="op" id="4176541">&gt;</span>&nbsp;<span class="num" id="4176543">0</span><span class="op" id="4176544">;</span>&nbsp;<span class="ident" id="4176546"><a href="/encoding/asn1/marshal.go.html#4176510">n</a></span><span class="op" id="4176547">--</span>&nbsp;<span class="op" id="4176550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176554"><a href="/encoding/asn1/marshal.go.html#4176496">err</a></span>&nbsp;<span class="op" id="4176558">=</span>&nbsp;<span class="ident" id="4176560"><a href="/encoding/asn1/marshal.go.html#4176467">out</a></span><span class="op" id="4176563">.</span><span class="ident" id="4176564">WriteByte</span><span class="op" id="4176573">(</span><span class="builtintype" id="4176574">byte</span><span class="op" id="4176578">(</span><span class="ident" id="4176579"><a href="/encoding/asn1/marshal.go.html#4176488">i</a></span>&nbsp;<span class="op" id="4176581">&gt;&gt;</span>&nbsp;<span class="builtintype" id="4176584">uint</span><span class="op" id="4176588">(</span><span class="op" id="4176589">(</span><span class="ident" id="4176590"><a href="/encoding/asn1/marshal.go.html#4176510">n</a></span><span class="op" id="4176591">-</span><span class="num" id="4176592">1</span><span class="op" id="4176593">)</span><span class="op" id="4176594">*</span><span class="num" id="4176595">8</span><span class="op" id="4176596">)</span><span class="op" id="4176597">)</span><span class="op" id="4176598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176602">if</span>&nbsp;<span class="ident" id="4176605"><a href="/encoding/asn1/marshal.go.html#4176496">err</a></span>&nbsp;<span class="op" id="4176609">!=</span>&nbsp;<span class="ident" id="4176612">nil</span>&nbsp;<span class="op" id="4176616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176621">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176630">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176637">return</span>&nbsp;<span class="ident" id="4176644">nil</span><br>
<span class="lineno"></span><span class="op" id="4176648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="4176651">func</span>&nbsp;<span class="ident" id="4176656">lengthLength</span><span class="op" id="4176668">(</span><span class="ident" id="4176669">i</span>&nbsp;<span class="builtintype" id="4176671">int</span><span class="op" id="4176674">)</span>&nbsp;<span class="op" id="4176676">(</span><span class="ident" id="4176677">numBytes</span>&nbsp;<span class="builtintype" id="4176686">int</span><span class="op" id="4176689">)</span>&nbsp;<span class="op" id="4176691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176694"><a href="/encoding/asn1/marshal.go.html#4176677">numBytes</a></span>&nbsp;<span class="op" id="4176703">=</span>&nbsp;<span class="num" id="4176705">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176708">for</span>&nbsp;<span class="ident" id="4176712"><a href="/encoding/asn1/marshal.go.html#4176669">i</a></span>&nbsp;<span class="op" id="4176714">&gt;</span>&nbsp;<span class="num" id="4176716">255</span>&nbsp;<span class="op" id="4176720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176724"><a href="/encoding/asn1/marshal.go.html#4176677">numBytes</a></span><span class="op" id="4176732">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176737"><a href="/encoding/asn1/marshal.go.html#4176669">i</a></span>&nbsp;<span class="op" id="4176739">&gt;&gt;=</span>&nbsp;<span class="num" id="4176743">8</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176749">return</span><br>
<span class="lineno"></span><span class="op" id="4176756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4176759">func</span>&nbsp;<span class="ident" id="4176764">marshalTagAndLength</span><span class="op" id="4176783">(</span><span class="ident" id="4176784">out</span>&nbsp;<span class="op" id="4176788">*</span><span class="ident" id="4176789"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4176803">,</span>&nbsp;<span class="ident" id="4176805">t</span>&nbsp;<span class="ident" id="4176807"><a href="/encoding/asn1/common.go.html#4169532">tagAndLength</a></span><span class="op" id="4176819">)</span>&nbsp;<span class="op" id="4176821">(</span><span class="ident" id="4176822">err</span>&nbsp;<span class="builtintype" id="4176826">error</span><span class="op" id="4176831">)</span>&nbsp;<span class="op" id="4176833">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176836">b</span>&nbsp;<span class="op" id="4176838">:=</span>&nbsp;<span class="builtintype" id="4176841">uint8</span><span class="op" id="4176846">(</span><span class="ident" id="4176847"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4176848">.</span><span class="ident" id="4176849">class</span><span class="op" id="4176854">)</span>&nbsp;<span class="op" id="4176856">&lt;&lt;</span>&nbsp;<span class="num" id="4176859">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176862">if</span>&nbsp;<span class="ident" id="4176865"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4176866">.</span><span class="ident" id="4176867">isCompound</span>&nbsp;<span class="op" id="4176878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176882"><a href="/encoding/asn1/marshal.go.html#4176836">b</a></span>&nbsp;<span class="op" id="4176884">|=</span>&nbsp;<span class="num" id="4176887">0x20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176896">if</span>&nbsp;<span class="ident" id="4176899"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4176900">.</span><span class="ident" id="4176901">tag</span>&nbsp;<span class="op" id="4176905">&gt;=</span>&nbsp;<span class="num" id="4176908">31</span>&nbsp;<span class="op" id="4176911">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176915"><a href="/encoding/asn1/marshal.go.html#4176836">b</a></span>&nbsp;<span class="op" id="4176917">|=</span>&nbsp;<span class="num" id="4176920">0x1f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176927"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4176931">=</span>&nbsp;<span class="ident" id="4176933"><a href="/encoding/asn1/marshal.go.html#4176784">out</a></span><span class="op" id="4176936">.</span><span class="ident" id="4176937">WriteByte</span><span class="op" id="4176946">(</span><span class="ident" id="4176947"><a href="/encoding/asn1/marshal.go.html#4176836">b</a></span><span class="op" id="4176948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176952">if</span>&nbsp;<span class="ident" id="4176955"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4176959">!=</span>&nbsp;<span class="ident" id="4176962">nil</span>&nbsp;<span class="op" id="4176966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4176971">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4176980">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4176984"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4176988">=</span>&nbsp;<span class="ident" id="4176990"><a href="/encoding/asn1/marshal.go.html#4174751">marshalBase128Int</a></span><span class="op" id="4177007">(</span><span class="ident" id="4177008"><a href="/encoding/asn1/marshal.go.html#4176784">out</a></span><span class="op" id="4177011">,</span>&nbsp;<span class="ident" id="4177013">int64</span><span class="op" id="4177018">(</span><span class="ident" id="4177019"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4177020">.</span><span class="ident" id="4177021">tag</span><span class="op" id="4177024">)</span><span class="op" id="4177025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177029">if</span>&nbsp;<span class="ident" id="4177032"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177036">!=</span>&nbsp;<span class="ident" id="4177039">nil</span>&nbsp;<span class="op" id="4177043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177048">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177060">}</span>&nbsp;<span class="keyword" id="4177062">else</span>&nbsp;<span class="op" id="4177067">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177071"><a href="/encoding/asn1/marshal.go.html#4176836">b</a></span>&nbsp;<span class="op" id="4177073">|=</span>&nbsp;<span class="builtintype" id="4177076">uint8</span><span class="op" id="4177081">(</span><span class="ident" id="4177082"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4177083">.</span><span class="ident" id="4177084">tag</span><span class="op" id="4177087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177091"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177095">=</span>&nbsp;<span class="ident" id="4177097"><a href="/encoding/asn1/marshal.go.html#4176784">out</a></span><span class="op" id="4177100">.</span><span class="ident" id="4177101">WriteByte</span><span class="op" id="4177110">(</span><span class="ident" id="4177111"><a href="/encoding/asn1/marshal.go.html#4176836">b</a></span><span class="op" id="4177112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177116">if</span>&nbsp;<span class="ident" id="4177119"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177123">!=</span>&nbsp;<span class="ident" id="4177126">nil</span>&nbsp;<span class="op" id="4177130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177135">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177144">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177151">if</span>&nbsp;<span class="ident" id="4177154"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4177155">.</span><span class="ident" id="4177156">length</span>&nbsp;<span class="op" id="4177163">&gt;=</span>&nbsp;<span class="num" id="4177166">128</span>&nbsp;<span class="op" id="4177170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177174">l</span>&nbsp;<span class="op" id="4177176">:=</span>&nbsp;<span class="ident" id="4177179"><a href="/encoding/asn1/marshal.go.html#4176656">lengthLength</a></span><span class="op" id="4177191">(</span><span class="ident" id="4177192"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4177193">.</span><span class="ident" id="4177194">length</span><span class="op" id="4177200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177204"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177208">=</span>&nbsp;<span class="ident" id="4177210"><a href="/encoding/asn1/marshal.go.html#4176784">out</a></span><span class="op" id="4177213">.</span><span class="ident" id="4177214">WriteByte</span><span class="op" id="4177223">(</span><span class="num" id="4177224">0x80</span>&nbsp;<span class="op" id="4177229">|</span>&nbsp;<span class="builtintype" id="4177231">byte</span><span class="op" id="4177235">(</span><span class="ident" id="4177236"><a href="/encoding/asn1/marshal.go.html#4177174">l</a></span><span class="op" id="4177237">)</span><span class="op" id="4177238">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177242">if</span>&nbsp;<span class="ident" id="4177245"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177249">!=</span>&nbsp;<span class="ident" id="4177252">nil</span>&nbsp;<span class="op" id="4177256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177261">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177274"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177278">=</span>&nbsp;<span class="ident" id="4177280"><a href="/encoding/asn1/marshal.go.html#4176453">marshalLength</a></span><span class="op" id="4177293">(</span><span class="ident" id="4177294"><a href="/encoding/asn1/marshal.go.html#4176784">out</a></span><span class="op" id="4177297">,</span>&nbsp;<span class="ident" id="4177299"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4177300">.</span><span class="ident" id="4177301">length</span><span class="op" id="4177307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177311">if</span>&nbsp;<span class="ident" id="4177314"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177318">!=</span>&nbsp;<span class="ident" id="4177321">nil</span>&nbsp;<span class="op" id="4177325">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177330">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177342">}</span>&nbsp;<span class="keyword" id="4177344">else</span>&nbsp;<span class="op" id="4177349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177353"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177357">=</span>&nbsp;<span class="ident" id="4177359"><a href="/encoding/asn1/marshal.go.html#4176784">out</a></span><span class="op" id="4177362">.</span><span class="ident" id="4177363">WriteByte</span><span class="op" id="4177372">(</span><span class="builtintype" id="4177373">byte</span><span class="op" id="4177377">(</span><span class="ident" id="4177378"><a href="/encoding/asn1/marshal.go.html#4176805">t</a></span><span class="op" id="4177379">.</span><span class="ident" id="4177380">length</span><span class="op" id="4177386">)</span><span class="op" id="4177387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177391">if</span>&nbsp;<span class="ident" id="4177394"><a href="/encoding/asn1/marshal.go.html#4176822">err</a></span>&nbsp;<span class="op" id="4177398">!=</span>&nbsp;<span class="ident" id="4177401">nil</span>&nbsp;<span class="op" id="4177405">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177410">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177426">return</span>&nbsp;<span class="ident" id="4177433">nil</span><br>
<span class="lineno">230</span><span class="op" id="4177437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4177440">func</span>&nbsp;<span class="ident" id="4177445">marshalBitString</span><span class="op" id="4177461">(</span><span class="ident" id="4177462">out</span>&nbsp;<span class="op" id="4177466">*</span><span class="ident" id="4177467"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4177481">,</span>&nbsp;<span class="ident" id="4177483">b</span>&nbsp;<span class="ident" id="4177485"><a href="/encoding/asn1/asn1.go.html#4146221">BitString</a></span><span class="op" id="4177494">)</span>&nbsp;<span class="op" id="4177496">(</span><span class="ident" id="4177497">err</span>&nbsp;<span class="builtintype" id="4177501">error</span><span class="op" id="4177506">)</span>&nbsp;<span class="op" id="4177508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177511">paddingBits</span>&nbsp;<span class="op" id="4177523">:=</span>&nbsp;<span class="builtintype" id="4177526">byte</span><span class="op" id="4177530">(</span><span class="op" id="4177531">(</span><span class="num" id="4177532">8</span>&nbsp;<span class="op" id="4177534">-</span>&nbsp;<span class="ident" id="4177536"><a href="/encoding/asn1/marshal.go.html#4177483">b</a></span><span class="op" id="4177537">.</span><span class="ident" id="4177538">BitLength</span><span class="op" id="4177547">%</span><span class="num" id="4177548">8</span><span class="op" id="4177549">)</span>&nbsp;<span class="op" id="4177551">%</span>&nbsp;<span class="num" id="4177553">8</span><span class="op" id="4177554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177557"><a href="/encoding/asn1/marshal.go.html#4177497">err</a></span>&nbsp;<span class="op" id="4177561">=</span>&nbsp;<span class="ident" id="4177563"><a href="/encoding/asn1/marshal.go.html#4177462">out</a></span><span class="op" id="4177566">.</span><span class="ident" id="4177567">WriteByte</span><span class="op" id="4177576">(</span><span class="ident" id="4177577"><a href="/encoding/asn1/marshal.go.html#4177511">paddingBits</a></span><span class="op" id="4177588">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177591">if</span>&nbsp;<span class="ident" id="4177594"><a href="/encoding/asn1/marshal.go.html#4177497">err</a></span>&nbsp;<span class="op" id="4177598">!=</span>&nbsp;<span class="ident" id="4177601">nil</span>&nbsp;<span class="op" id="4177605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177609">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177620">_</span><span class="op" id="4177621">,</span>&nbsp;<span class="ident" id="4177623"><a href="/encoding/asn1/marshal.go.html#4177497">err</a></span>&nbsp;<span class="op" id="4177627">=</span>&nbsp;<span class="ident" id="4177629"><a href="/encoding/asn1/marshal.go.html#4177462">out</a></span><span class="op" id="4177632">.</span><span class="ident" id="4177633">Write</span><span class="op" id="4177638">(</span><span class="ident" id="4177639"><a href="/encoding/asn1/marshal.go.html#4177483">b</a></span><span class="op" id="4177640">.</span><span class="ident" id="4177641">Bytes</span><span class="op" id="4177646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177649">return</span><br>
<span class="lineno">240</span><span class="op" id="4177656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4177659">func</span>&nbsp;<span class="ident" id="4177664">marshalObjectIdentifier</span><span class="op" id="4177687">(</span><span class="ident" id="4177688">out</span>&nbsp;<span class="op" id="4177692">*</span><span class="ident" id="4177693"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4177707">,</span>&nbsp;<span class="ident" id="4177709">oid</span>&nbsp;<span class="op" id="4177713">[</span><span class="op" id="4177714">]</span><span class="builtintype" id="4177715">int</span><span class="op" id="4177718">)</span>&nbsp;<span class="op" id="4177720">(</span><span class="ident" id="4177721">err</span>&nbsp;<span class="builtintype" id="4177725">error</span><span class="op" id="4177730">)</span>&nbsp;<span class="op" id="4177732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177735">if</span>&nbsp;<span class="builtinfunc" id="4177738">len</span><span class="op" id="4177741">(</span><span class="ident" id="4177742"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4177745">)</span>&nbsp;<span class="op" id="4177747">&lt;</span>&nbsp;<span class="num" id="4177749">2</span>&nbsp;<span class="op" id="4177751">||</span>&nbsp;<span class="ident" id="4177754"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4177757">[</span><span class="num" id="4177758">0</span><span class="op" id="4177759">]</span>&nbsp;<span class="op" id="4177761">&gt;</span>&nbsp;<span class="num" id="4177763">2</span>&nbsp;<span class="op" id="4177765">||</span>&nbsp;<span class="op" id="4177768">(</span><span class="ident" id="4177769"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4177772">[</span><span class="num" id="4177773">0</span><span class="op" id="4177774">]</span>&nbsp;<span class="op" id="4177776">&lt;</span>&nbsp;<span class="num" id="4177778">2</span>&nbsp;<span class="op" id="4177780">&amp;&amp;</span>&nbsp;<span class="ident" id="4177783"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4177786">[</span><span class="num" id="4177787">1</span><span class="op" id="4177788">]</span>&nbsp;<span class="op" id="4177790">&gt;=</span>&nbsp;<span class="num" id="4177793">40</span><span class="op" id="4177795">)</span>&nbsp;<span class="op" id="4177797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177801">return</span>&nbsp;<span class="ident" id="4177808"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4177823">{</span><span class="string" id="4177824">&#34;invalid&nbsp;object&nbsp;identifier&#34;</span><span class="op" id="4177851">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177858"><a href="/encoding/asn1/marshal.go.html#4177721">err</a></span>&nbsp;<span class="op" id="4177862">=</span>&nbsp;<span class="ident" id="4177864"><a href="/encoding/asn1/marshal.go.html#4174751">marshalBase128Int</a></span><span class="op" id="4177881">(</span><span class="ident" id="4177882"><a href="/encoding/asn1/marshal.go.html#4177688">out</a></span><span class="op" id="4177885">,</span>&nbsp;<span class="ident" id="4177887">int64</span><span class="op" id="4177892">(</span><span class="ident" id="4177893"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4177896">[</span><span class="num" id="4177897">0</span><span class="op" id="4177898">]</span><span class="op" id="4177899">*</span><span class="num" id="4177900">40</span><span class="op" id="4177902">+</span><span class="ident" id="4177903"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4177906">[</span><span class="num" id="4177907">1</span><span class="op" id="4177908">]</span><span class="op" id="4177909">)</span><span class="op" id="4177910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177913">if</span>&nbsp;<span class="ident" id="4177916"><a href="/encoding/asn1/marshal.go.html#4177721">err</a></span>&nbsp;<span class="op" id="4177920">!=</span>&nbsp;<span class="ident" id="4177923">nil</span>&nbsp;<span class="op" id="4177927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177931">return</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4177939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4177942">for</span>&nbsp;<span class="ident" id="4177946">i</span>&nbsp;<span class="op" id="4177948">:=</span>&nbsp;<span class="num" id="4177951">2</span><span class="op" id="4177952">;</span>&nbsp;<span class="ident" id="4177954"><a href="/encoding/asn1/marshal.go.html#4177946">i</a></span>&nbsp;<span class="op" id="4177956">&lt;</span>&nbsp;<span class="builtinfunc" id="4177958">len</span><span class="op" id="4177961">(</span><span class="ident" id="4177962"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4177965">)</span><span class="op" id="4177966">;</span>&nbsp;<span class="ident" id="4177968"><a href="/encoding/asn1/marshal.go.html#4177946">i</a></span><span class="op" id="4177969">++</span>&nbsp;<span class="op" id="4177972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4177976"><a href="/encoding/asn1/marshal.go.html#4177721">err</a></span>&nbsp;<span class="op" id="4177980">=</span>&nbsp;<span class="ident" id="4177982"><a href="/encoding/asn1/marshal.go.html#4174751">marshalBase128Int</a></span><span class="op" id="4177999">(</span><span class="ident" id="4178000"><a href="/encoding/asn1/marshal.go.html#4177688">out</a></span><span class="op" id="4178003">,</span>&nbsp;<span class="ident" id="4178005">int64</span><span class="op" id="4178010">(</span><span class="ident" id="4178011"><a href="/encoding/asn1/marshal.go.html#4177709">oid</a></span><span class="op" id="4178014">[</span><span class="ident" id="4178015"><a href="/encoding/asn1/marshal.go.html#4177946">i</a></span><span class="op" id="4178016">]</span><span class="op" id="4178017">)</span><span class="op" id="4178018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178022">if</span>&nbsp;<span class="ident" id="4178025"><a href="/encoding/asn1/marshal.go.html#4177721">err</a></span>&nbsp;<span class="op" id="4178029">!=</span>&nbsp;<span class="ident" id="4178032">nil</span>&nbsp;<span class="op" id="4178036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178041">return</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178057">return</span><br>
<span class="lineno"></span><span class="op" id="4178064">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4178067">func</span>&nbsp;<span class="ident" id="4178072">marshalPrintableString</span><span class="op" id="4178094">(</span><span class="ident" id="4178095">out</span>&nbsp;<span class="op" id="4178099">*</span><span class="ident" id="4178100"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4178114">,</span>&nbsp;<span class="ident" id="4178116">s</span>&nbsp;<span class="builtintype" id="4178118">string</span><span class="op" id="4178124">)</span>&nbsp;<span class="op" id="4178126">(</span><span class="ident" id="4178127">err</span>&nbsp;<span class="builtintype" id="4178131">error</span><span class="op" id="4178136">)</span>&nbsp;<span class="op" id="4178138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178141">b</span>&nbsp;<span class="op" id="4178143">:=</span>&nbsp;<span class="op" id="4178146">[</span><span class="op" id="4178147">]</span><span class="builtintype" id="4178148">byte</span><span class="op" id="4178152">(</span><span class="ident" id="4178153"><a href="/encoding/asn1/marshal.go.html#4178116">s</a></span><span class="op" id="4178154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178157">for</span>&nbsp;<span class="ident" id="4178161">_</span><span class="op" id="4178162">,</span>&nbsp;<span class="ident" id="4178164">c</span>&nbsp;<span class="op" id="4178166">:=</span>&nbsp;<span class="keyword" id="4178169">range</span>&nbsp;<span class="ident" id="4178175"><a href="/encoding/asn1/marshal.go.html#4178141">b</a></span>&nbsp;<span class="op" id="4178177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178181">if</span>&nbsp;<span class="op" id="4178184">!</span><span class="ident" id="4178185"><a href="/encoding/asn1/asn1.go.html#4150942">isPrintable</a></span><span class="op" id="4178196">(</span><span class="ident" id="4178197"><a href="/encoding/asn1/marshal.go.html#4178164">c</a></span><span class="op" id="4178198">)</span>&nbsp;<span class="op" id="4178200">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178205">return</span>&nbsp;<span class="ident" id="4178212"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4178227">{</span><span class="string" id="4178228">&#34;PrintableString&nbsp;contains&nbsp;invalid&nbsp;character&#34;</span><span class="op" id="4178272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178283">_</span><span class="op" id="4178284">,</span>&nbsp;<span class="ident" id="4178286"><a href="/encoding/asn1/marshal.go.html#4178127">err</a></span>&nbsp;<span class="op" id="4178290">=</span>&nbsp;<span class="ident" id="4178292"><a href="/encoding/asn1/marshal.go.html#4178095">out</a></span><span class="op" id="4178295">.</span><span class="ident" id="4178296">Write</span><span class="op" id="4178301">(</span><span class="ident" id="4178302"><a href="/encoding/asn1/marshal.go.html#4178141">b</a></span><span class="op" id="4178303">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178306">return</span><br>
<span class="lineno"></span><span class="op" id="4178313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4178316">func</span>&nbsp;<span class="ident" id="4178321">marshalIA5String</span><span class="op" id="4178337">(</span><span class="ident" id="4178338">out</span>&nbsp;<span class="op" id="4178342">*</span><span class="ident" id="4178343"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4178357">,</span>&nbsp;<span class="ident" id="4178359">s</span>&nbsp;<span class="builtintype" id="4178361">string</span><span class="op" id="4178367">)</span>&nbsp;<span class="op" id="4178369">(</span><span class="ident" id="4178370">err</span>&nbsp;<span class="builtintype" id="4178374">error</span><span class="op" id="4178379">)</span>&nbsp;<span class="op" id="4178381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178384">b</span>&nbsp;<span class="op" id="4178386">:=</span>&nbsp;<span class="op" id="4178389">[</span><span class="op" id="4178390">]</span><span class="builtintype" id="4178391">byte</span><span class="op" id="4178395">(</span><span class="ident" id="4178396"><a href="/encoding/asn1/marshal.go.html#4178359">s</a></span><span class="op" id="4178397">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178400">for</span>&nbsp;<span class="ident" id="4178404">_</span><span class="op" id="4178405">,</span>&nbsp;<span class="ident" id="4178407">c</span>&nbsp;<span class="op" id="4178409">:=</span>&nbsp;<span class="keyword" id="4178412">range</span>&nbsp;<span class="ident" id="4178418"><a href="/encoding/asn1/marshal.go.html#4178384">b</a></span>&nbsp;<span class="op" id="4178420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178424">if</span>&nbsp;<span class="ident" id="4178427"><a href="/encoding/asn1/marshal.go.html#4178407">c</a></span>&nbsp;<span class="op" id="4178429">&gt;</span>&nbsp;<span class="num" id="4178431">127</span>&nbsp;<span class="op" id="4178435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178440">return</span>&nbsp;<span class="ident" id="4178447"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4178462">{</span><span class="string" id="4178463">&#34;IA5String&nbsp;contains&nbsp;invalid&nbsp;character&#34;</span><span class="op" id="4178501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178508">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178512">_</span><span class="op" id="4178513">,</span>&nbsp;<span class="ident" id="4178515"><a href="/encoding/asn1/marshal.go.html#4178370">err</a></span>&nbsp;<span class="op" id="4178519">=</span>&nbsp;<span class="ident" id="4178521"><a href="/encoding/asn1/marshal.go.html#4178338">out</a></span><span class="op" id="4178524">.</span><span class="ident" id="4178525">Write</span><span class="op" id="4178530">(</span><span class="ident" id="4178531"><a href="/encoding/asn1/marshal.go.html#4178384">b</a></span><span class="op" id="4178532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178535">return</span><br>
<span class="lineno"></span><span class="op" id="4178542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="4178545">func</span>&nbsp;<span class="ident" id="4178550">marshalUTF8String</span><span class="op" id="4178567">(</span><span class="ident" id="4178568">out</span>&nbsp;<span class="op" id="4178572">*</span><span class="ident" id="4178573"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4178587">,</span>&nbsp;<span class="ident" id="4178589">s</span>&nbsp;<span class="builtintype" id="4178591">string</span><span class="op" id="4178597">)</span>&nbsp;<span class="op" id="4178599">(</span><span class="ident" id="4178600">err</span>&nbsp;<span class="builtintype" id="4178604">error</span><span class="op" id="4178609">)</span>&nbsp;<span class="op" id="4178611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178614">_</span><span class="op" id="4178615">,</span>&nbsp;<span class="ident" id="4178617"><a href="/encoding/asn1/marshal.go.html#4178600">err</a></span>&nbsp;<span class="op" id="4178621">=</span>&nbsp;<span class="ident" id="4178623"><a href="/encoding/asn1/marshal.go.html#4178568">out</a></span><span class="op" id="4178626">.</span><span class="ident" id="4178627">Write</span><span class="op" id="4178632">(</span><span class="op" id="4178633">[</span><span class="op" id="4178634">]</span><span class="builtintype" id="4178635">byte</span><span class="op" id="4178639">(</span><span class="ident" id="4178640"><a href="/encoding/asn1/marshal.go.html#4178589">s</a></span><span class="op" id="4178641">)</span><span class="op" id="4178642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178645">return</span><br>
<span class="lineno"></span><span class="op" id="4178652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span><span class="keyword" id="4178655">func</span>&nbsp;<span class="ident" id="4178660">marshalTwoDigits</span><span class="op" id="4178676">(</span><span class="ident" id="4178677">out</span>&nbsp;<span class="op" id="4178681">*</span><span class="ident" id="4178682"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4178696">,</span>&nbsp;<span class="ident" id="4178698">v</span>&nbsp;<span class="builtintype" id="4178700">int</span><span class="op" id="4178703">)</span>&nbsp;<span class="op" id="4178705">(</span><span class="ident" id="4178706">err</span>&nbsp;<span class="builtintype" id="4178710">error</span><span class="op" id="4178715">)</span>&nbsp;<span class="op" id="4178717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178720"><a href="/encoding/asn1/marshal.go.html#4178706">err</a></span>&nbsp;<span class="op" id="4178724">=</span>&nbsp;<span class="ident" id="4178726"><a href="/encoding/asn1/marshal.go.html#4178677">out</a></span><span class="op" id="4178729">.</span><span class="ident" id="4178730">WriteByte</span><span class="op" id="4178739">(</span><span class="builtintype" id="4178740">byte</span><span class="op" id="4178744">(</span><span class="string" id="4178745">&#39;0&#39;</span>&nbsp;<span class="op" id="4178749">+</span>&nbsp;<span class="op" id="4178751">(</span><span class="ident" id="4178752"><a href="/encoding/asn1/marshal.go.html#4178698">v</a></span><span class="op" id="4178753">/</span><span class="num" id="4178754">10</span><span class="op" id="4178756">)</span><span class="op" id="4178757">%</span><span class="num" id="4178758">10</span><span class="op" id="4178760">)</span><span class="op" id="4178761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178764">if</span>&nbsp;<span class="ident" id="4178767"><a href="/encoding/asn1/marshal.go.html#4178706">err</a></span>&nbsp;<span class="op" id="4178771">!=</span>&nbsp;<span class="ident" id="4178774">nil</span>&nbsp;<span class="op" id="4178778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178782">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178790">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178793">return</span>&nbsp;<span class="ident" id="4178800"><a href="/encoding/asn1/marshal.go.html#4178677">out</a></span><span class="op" id="4178803">.</span><span class="ident" id="4178804">WriteByte</span><span class="op" id="4178813">(</span><span class="builtintype" id="4178814">byte</span><span class="op" id="4178818">(</span><span class="string" id="4178819">&#39;0&#39;</span>&nbsp;<span class="op" id="4178823">+</span>&nbsp;<span class="ident" id="4178825"><a href="/encoding/asn1/marshal.go.html#4178698">v</a></span><span class="op" id="4178826">%</span><span class="num" id="4178827">10</span><span class="op" id="4178829">)</span><span class="op" id="4178830">)</span><br>
<span class="lineno"></span><span class="op" id="4178832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4178835">func</span>&nbsp;<span class="ident" id="4178840">marshalFourDigits</span><span class="op" id="4178857">(</span><span class="ident" id="4178858">out</span>&nbsp;<span class="op" id="4178862">*</span><span class="ident" id="4178863"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4178877">,</span>&nbsp;<span class="ident" id="4178879">v</span>&nbsp;<span class="builtintype" id="4178881">int</span><span class="op" id="4178884">)</span>&nbsp;<span class="op" id="4178886">(</span><span class="ident" id="4178887">err</span>&nbsp;<span class="builtintype" id="4178891">error</span><span class="op" id="4178896">)</span>&nbsp;<span class="op" id="4178898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178901">var</span>&nbsp;<span class="ident" id="4178905">bytes</span>&nbsp;<span class="op" id="4178911">[</span><span class="num" id="4178912">4</span><span class="op" id="4178913">]</span><span class="builtintype" id="4178914">byte</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4178920">for</span>&nbsp;<span class="ident" id="4178924">i</span>&nbsp;<span class="op" id="4178926">:=</span>&nbsp;<span class="keyword" id="4178929">range</span>&nbsp;<span class="ident" id="4178935"><a href="/encoding/asn1/marshal.go.html#4178905">bytes</a></span>&nbsp;<span class="op" id="4178941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178945"><a href="/encoding/asn1/marshal.go.html#4178905">bytes</a></span><span class="op" id="4178950">[</span><span class="num" id="4178951">3</span><span class="op" id="4178952">-</span><span class="ident" id="4178953"><a href="/encoding/asn1/marshal.go.html#4178924">i</a></span><span class="op" id="4178954">]</span>&nbsp;<span class="op" id="4178956">=</span>&nbsp;<span class="string" id="4178958">&#39;0&#39;</span>&nbsp;<span class="op" id="4178962">+</span>&nbsp;<span class="builtintype" id="4178964">byte</span><span class="op" id="4178968">(</span><span class="ident" id="4178969"><a href="/encoding/asn1/marshal.go.html#4178879">v</a></span><span class="op" id="4178970">%</span><span class="num" id="4178971">10</span><span class="op" id="4178973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178977"><a href="/encoding/asn1/marshal.go.html#4178879">v</a></span>&nbsp;<span class="op" id="4178979">/=</span>&nbsp;<span class="num" id="4178982">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4178986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4178989">_</span><span class="op" id="4178990">,</span>&nbsp;<span class="ident" id="4178992"><a href="/encoding/asn1/marshal.go.html#4178887">err</a></span>&nbsp;<span class="op" id="4178996">=</span>&nbsp;<span class="ident" id="4178998"><a href="/encoding/asn1/marshal.go.html#4178858">out</a></span><span class="op" id="4179001">.</span><span class="ident" id="4179002">Write</span><span class="op" id="4179007">(</span><span class="ident" id="4179008"><a href="/encoding/asn1/marshal.go.html#4178905">bytes</a></span><span class="op" id="4179013">[</span><span class="op" id="4179014">:</span><span class="op" id="4179015">]</span><span class="op" id="4179016">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179019">return</span><br>
<span class="lineno"></span><span class="op" id="4179026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4179029">func</span>&nbsp;<span class="ident" id="4179034">outsideUTCRange</span><span class="op" id="4179049">(</span><span class="ident" id="4179050">t</span>&nbsp;<span class="ident" id="4179052"><a href="/encoding/asn1/marshal.go.html#4173626">time</a></span><span class="op" id="4179056">.</span><span class="ident" id="4179057">Time</span><span class="op" id="4179061">)</span>&nbsp;<span class="builtintype" id="4179063">bool</span>&nbsp;<span class="op" id="4179068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179071">year</span>&nbsp;<span class="op" id="4179076">:=</span>&nbsp;<span class="ident" id="4179079"><a href="/encoding/asn1/marshal.go.html#4179050">t</a></span><span class="op" id="4179080">.</span><span class="ident" id="4179081">Year</span><span class="op" id="4179085">(</span><span class="op" id="4179086">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179089">return</span>&nbsp;<span class="ident" id="4179096"><a href="/encoding/asn1/marshal.go.html#4179071">year</a></span>&nbsp;<span class="op" id="4179101">&lt;</span>&nbsp;<span class="num" id="4179103">1950</span>&nbsp;<span class="op" id="4179108">||</span>&nbsp;<span class="ident" id="4179111"><a href="/encoding/asn1/marshal.go.html#4179071">year</a></span>&nbsp;<span class="op" id="4179116">&gt;=</span>&nbsp;<span class="num" id="4179119">2050</span><br>
<span class="lineno"></span><span class="op" id="4179124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4179127">func</span>&nbsp;<span class="ident" id="4179132">marshalUTCTime</span><span class="op" id="4179146">(</span><span class="ident" id="4179147">out</span>&nbsp;<span class="op" id="4179151">*</span><span class="ident" id="4179152"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4179166">,</span>&nbsp;<span class="ident" id="4179168">t</span>&nbsp;<span class="ident" id="4179170"><a href="/encoding/asn1/marshal.go.html#4173626">time</a></span><span class="op" id="4179174">.</span><span class="ident" id="4179175">Time</span><span class="op" id="4179179">)</span>&nbsp;<span class="op" id="4179181">(</span><span class="ident" id="4179182">err</span>&nbsp;<span class="builtintype" id="4179186">error</span><span class="op" id="4179191">)</span>&nbsp;<span class="op" id="4179193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179196">year</span>&nbsp;<span class="op" id="4179201">:=</span>&nbsp;<span class="ident" id="4179204"><a href="/encoding/asn1/marshal.go.html#4179168">t</a></span><span class="op" id="4179205">.</span><span class="ident" id="4179206">Year</span><span class="op" id="4179210">(</span><span class="op" id="4179211">)</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179215">switch</span>&nbsp;<span class="op" id="4179222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179225">case</span>&nbsp;<span class="num" id="4179230">1950</span>&nbsp;<span class="op" id="4179235">&lt;=</span>&nbsp;<span class="ident" id="4179238"><a href="/encoding/asn1/marshal.go.html#4179196">year</a></span>&nbsp;<span class="op" id="4179243">&amp;&amp;</span>&nbsp;<span class="ident" id="4179246"><a href="/encoding/asn1/marshal.go.html#4179196">year</a></span>&nbsp;<span class="op" id="4179251">&lt;</span>&nbsp;<span class="num" id="4179253">2000</span><span class="op" id="4179257">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179261"><a href="/encoding/asn1/marshal.go.html#4179182">err</a></span>&nbsp;<span class="op" id="4179265">=</span>&nbsp;<span class="ident" id="4179267"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4179283">(</span><span class="ident" id="4179284"><a href="/encoding/asn1/marshal.go.html#4179147">out</a></span><span class="op" id="4179287">,</span>&nbsp;<span class="builtintype" id="4179289">int</span><span class="op" id="4179292">(</span><span class="ident" id="4179293"><a href="/encoding/asn1/marshal.go.html#4179196">year</a></span><span class="op" id="4179297">-</span><span class="num" id="4179298">1900</span><span class="op" id="4179302">)</span><span class="op" id="4179303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179306">case</span>&nbsp;<span class="num" id="4179311">2000</span>&nbsp;<span class="op" id="4179316">&lt;=</span>&nbsp;<span class="ident" id="4179319"><a href="/encoding/asn1/marshal.go.html#4179196">year</a></span>&nbsp;<span class="op" id="4179324">&amp;&amp;</span>&nbsp;<span class="ident" id="4179327"><a href="/encoding/asn1/marshal.go.html#4179196">year</a></span>&nbsp;<span class="op" id="4179332">&lt;</span>&nbsp;<span class="num" id="4179334">2050</span><span class="op" id="4179338">:</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179342"><a href="/encoding/asn1/marshal.go.html#4179182">err</a></span>&nbsp;<span class="op" id="4179346">=</span>&nbsp;<span class="ident" id="4179348"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4179364">(</span><span class="ident" id="4179365"><a href="/encoding/asn1/marshal.go.html#4179147">out</a></span><span class="op" id="4179368">,</span>&nbsp;<span class="builtintype" id="4179370">int</span><span class="op" id="4179373">(</span><span class="ident" id="4179374"><a href="/encoding/asn1/marshal.go.html#4179196">year</a></span><span class="op" id="4179378">-</span><span class="num" id="4179379">2000</span><span class="op" id="4179383">)</span><span class="op" id="4179384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179387">default</span><span class="op" id="4179394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179398">return</span>&nbsp;<span class="ident" id="4179405"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4179420">{</span><span class="string" id="4179421">&#34;cannot&nbsp;represent&nbsp;time&nbsp;as&nbsp;UTCTime&#34;</span><span class="op" id="4179455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4179458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179461">if</span>&nbsp;<span class="ident" id="4179464"><a href="/encoding/asn1/marshal.go.html#4179182">err</a></span>&nbsp;<span class="op" id="4179468">!=</span>&nbsp;<span class="ident" id="4179471">nil</span>&nbsp;<span class="op" id="4179475">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179479">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4179487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179491">return</span>&nbsp;<span class="ident" id="4179498"><a href="/encoding/asn1/marshal.go.html#4179831">marshalTimeCommon</a></span><span class="op" id="4179515">(</span><span class="ident" id="4179516"><a href="/encoding/asn1/marshal.go.html#4179147">out</a></span><span class="op" id="4179519">,</span>&nbsp;<span class="ident" id="4179521"><a href="/encoding/asn1/marshal.go.html#4179168">t</a></span><span class="op" id="4179522">)</span><br>
<span class="lineno"></span><span class="op" id="4179524">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="4179527">func</span>&nbsp;<span class="ident" id="4179532">marshalGeneralizedTime</span><span class="op" id="4179554">(</span><span class="ident" id="4179555">out</span>&nbsp;<span class="op" id="4179559">*</span><span class="ident" id="4179560"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4179574">,</span>&nbsp;<span class="ident" id="4179576">t</span>&nbsp;<span class="ident" id="4179578"><a href="/encoding/asn1/marshal.go.html#4173626">time</a></span><span class="op" id="4179582">.</span><span class="ident" id="4179583">Time</span><span class="op" id="4179587">)</span>&nbsp;<span class="op" id="4179589">(</span><span class="ident" id="4179590">err</span>&nbsp;<span class="builtintype" id="4179594">error</span><span class="op" id="4179599">)</span>&nbsp;<span class="op" id="4179601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179604">year</span>&nbsp;<span class="op" id="4179609">:=</span>&nbsp;<span class="ident" id="4179612"><a href="/encoding/asn1/marshal.go.html#4179576">t</a></span><span class="op" id="4179613">.</span><span class="ident" id="4179614">Year</span><span class="op" id="4179618">(</span><span class="op" id="4179619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179622">if</span>&nbsp;<span class="ident" id="4179625"><a href="/encoding/asn1/marshal.go.html#4179604">year</a></span>&nbsp;<span class="op" id="4179630">&lt;</span>&nbsp;<span class="num" id="4179632">0</span>&nbsp;<span class="op" id="4179634">||</span>&nbsp;<span class="ident" id="4179637"><a href="/encoding/asn1/marshal.go.html#4179604">year</a></span>&nbsp;<span class="op" id="4179642">&gt;</span>&nbsp;<span class="num" id="4179644">9999</span>&nbsp;<span class="op" id="4179649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179653">return</span>&nbsp;<span class="ident" id="4179660"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4179675">{</span><span class="string" id="4179676">&#34;cannot&nbsp;represent&nbsp;time&nbsp;as&nbsp;GeneralizedTime&#34;</span><span class="op" id="4179718">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4179721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179724">if</span>&nbsp;<span class="ident" id="4179727"><a href="/encoding/asn1/marshal.go.html#4179590">err</a></span>&nbsp;<span class="op" id="4179731">=</span>&nbsp;<span class="ident" id="4179733"><a href="/encoding/asn1/marshal.go.html#4178840">marshalFourDigits</a></span><span class="op" id="4179750">(</span><span class="ident" id="4179751"><a href="/encoding/asn1/marshal.go.html#4179555">out</a></span><span class="op" id="4179754">,</span>&nbsp;<span class="ident" id="4179756"><a href="/encoding/asn1/marshal.go.html#4179604">year</a></span><span class="op" id="4179760">)</span><span class="op" id="4179761">;</span>&nbsp;<span class="ident" id="4179763"><a href="/encoding/asn1/marshal.go.html#4179590">err</a></span>&nbsp;<span class="op" id="4179767">!=</span>&nbsp;<span class="ident" id="4179770">nil</span>&nbsp;<span class="op" id="4179774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179778">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4179786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179790">return</span>&nbsp;<span class="ident" id="4179797"><a href="/encoding/asn1/marshal.go.html#4179831">marshalTimeCommon</a></span><span class="op" id="4179814">(</span><span class="ident" id="4179815"><a href="/encoding/asn1/marshal.go.html#4179555">out</a></span><span class="op" id="4179818">,</span>&nbsp;<span class="ident" id="4179820"><a href="/encoding/asn1/marshal.go.html#4179576">t</a></span><span class="op" id="4179821">)</span><br>
<span class="lineno"></span><span class="op" id="4179823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4179826">func</span>&nbsp;<span class="ident" id="4179831">marshalTimeCommon</span><span class="op" id="4179848">(</span><span class="ident" id="4179849">out</span>&nbsp;<span class="op" id="4179853">*</span><span class="ident" id="4179854"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4179868">,</span>&nbsp;<span class="ident" id="4179870">t</span>&nbsp;<span class="ident" id="4179872"><a href="/encoding/asn1/marshal.go.html#4173626">time</a></span><span class="op" id="4179876">.</span><span class="ident" id="4179877">Time</span><span class="op" id="4179881">)</span>&nbsp;<span class="op" id="4179883">(</span><span class="ident" id="4179884">err</span>&nbsp;<span class="builtintype" id="4179888">error</span><span class="op" id="4179893">)</span>&nbsp;<span class="op" id="4179895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179898">_</span><span class="op" id="4179899">,</span>&nbsp;<span class="ident" id="4179901">month</span><span class="op" id="4179906">,</span>&nbsp;<span class="ident" id="4179908">day</span>&nbsp;<span class="op" id="4179912">:=</span>&nbsp;<span class="ident" id="4179915"><a href="/encoding/asn1/marshal.go.html#4179870">t</a></span><span class="op" id="4179916">.</span><span class="ident" id="4179917">Date</span><span class="op" id="4179921">(</span><span class="op" id="4179922">)</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179926"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4179930">=</span>&nbsp;<span class="ident" id="4179932"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4179948">(</span><span class="ident" id="4179949"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4179952">,</span>&nbsp;<span class="builtintype" id="4179954">int</span><span class="op" id="4179957">(</span><span class="ident" id="4179958"><a href="/encoding/asn1/marshal.go.html#4179901">month</a></span><span class="op" id="4179963">)</span><span class="op" id="4179964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179967">if</span>&nbsp;<span class="ident" id="4179970"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4179974">!=</span>&nbsp;<span class="ident" id="4179977">nil</span>&nbsp;<span class="op" id="4179981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4179985">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4179993">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4179997"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180001">=</span>&nbsp;<span class="ident" id="4180003"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4180019">(</span><span class="ident" id="4180020"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180023">,</span>&nbsp;<span class="ident" id="4180025"><a href="/encoding/asn1/marshal.go.html#4179908">day</a></span><span class="op" id="4180028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180031">if</span>&nbsp;<span class="ident" id="4180034"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180038">!=</span>&nbsp;<span class="ident" id="4180041">nil</span>&nbsp;<span class="op" id="4180045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180049">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180057">}</span><br>
<span class="lineno">355</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180061">hour</span><span class="op" id="4180065">,</span>&nbsp;<span class="ident" id="4180067">min</span><span class="op" id="4180070">,</span>&nbsp;<span class="ident" id="4180072">sec</span>&nbsp;<span class="op" id="4180076">:=</span>&nbsp;<span class="ident" id="4180079"><a href="/encoding/asn1/marshal.go.html#4179870">t</a></span><span class="op" id="4180080">.</span><span class="ident" id="4180081">Clock</span><span class="op" id="4180086">(</span><span class="op" id="4180087">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180091"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180095">=</span>&nbsp;<span class="ident" id="4180097"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4180113">(</span><span class="ident" id="4180114"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180117">,</span>&nbsp;<span class="ident" id="4180119"><a href="/encoding/asn1/marshal.go.html#4180061">hour</a></span><span class="op" id="4180123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180126">if</span>&nbsp;<span class="ident" id="4180129"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180133">!=</span>&nbsp;<span class="ident" id="4180136">nil</span>&nbsp;<span class="op" id="4180140">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180144">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180156"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180160">=</span>&nbsp;<span class="ident" id="4180162"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4180178">(</span><span class="ident" id="4180179"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180182">,</span>&nbsp;<span class="ident" id="4180184"><a href="/encoding/asn1/marshal.go.html#4180067">min</a></span><span class="op" id="4180187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180190">if</span>&nbsp;<span class="ident" id="4180193"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180197">!=</span>&nbsp;<span class="ident" id="4180200">nil</span>&nbsp;<span class="op" id="4180204">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180208">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180220"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180224">=</span>&nbsp;<span class="ident" id="4180226"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4180242">(</span><span class="ident" id="4180243"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180246">,</span>&nbsp;<span class="ident" id="4180248"><a href="/encoding/asn1/marshal.go.html#4180072">sec</a></span><span class="op" id="4180251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180254">if</span>&nbsp;<span class="ident" id="4180257"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180261">!=</span>&nbsp;<span class="ident" id="4180264">nil</span>&nbsp;<span class="op" id="4180268">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180272">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180284">_</span><span class="op" id="4180285">,</span>&nbsp;<span class="ident" id="4180287">offset</span>&nbsp;<span class="op" id="4180294">:=</span>&nbsp;<span class="ident" id="4180297"><a href="/encoding/asn1/marshal.go.html#4179870">t</a></span><span class="op" id="4180298">.</span><span class="ident" id="4180299">Zone</span><span class="op" id="4180303">(</span><span class="op" id="4180304">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180308">switch</span>&nbsp;<span class="op" id="4180315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180318">case</span>&nbsp;<span class="ident" id="4180323"><a href="/encoding/asn1/marshal.go.html#4180287">offset</a></span><span class="op" id="4180329">/</span><span class="num" id="4180330">60</span>&nbsp;<span class="op" id="4180333">==</span>&nbsp;<span class="num" id="4180336">0</span><span class="op" id="4180337">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180341"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180345">=</span>&nbsp;<span class="ident" id="4180347"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180350">.</span><span class="ident" id="4180351">WriteByte</span><span class="op" id="4180360">(</span><span class="string" id="4180361">&#39;Z&#39;</span><span class="op" id="4180364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180368">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180376">case</span>&nbsp;<span class="ident" id="4180381"><a href="/encoding/asn1/marshal.go.html#4180287">offset</a></span>&nbsp;<span class="op" id="4180388">&gt;</span>&nbsp;<span class="num" id="4180390">0</span><span class="op" id="4180391">:</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180395"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180399">=</span>&nbsp;<span class="ident" id="4180401"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180404">.</span><span class="ident" id="4180405">WriteByte</span><span class="op" id="4180414">(</span><span class="string" id="4180415">&#39;+&#39;</span><span class="op" id="4180418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180421">case</span>&nbsp;<span class="ident" id="4180426"><a href="/encoding/asn1/marshal.go.html#4180287">offset</a></span>&nbsp;<span class="op" id="4180433">&lt;</span>&nbsp;<span class="num" id="4180435">0</span><span class="op" id="4180436">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180440"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180444">=</span>&nbsp;<span class="ident" id="4180446"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180449">.</span><span class="ident" id="4180450">WriteByte</span><span class="op" id="4180459">(</span><span class="string" id="4180460">&#39;-&#39;</span><span class="op" id="4180463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180470">if</span>&nbsp;<span class="ident" id="4180473"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180477">!=</span>&nbsp;<span class="ident" id="4180480">nil</span>&nbsp;<span class="op" id="4180484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180488">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180500">offsetMinutes</span>&nbsp;<span class="op" id="4180514">:=</span>&nbsp;<span class="ident" id="4180517"><a href="/encoding/asn1/marshal.go.html#4180287">offset</a></span>&nbsp;<span class="op" id="4180524">/</span>&nbsp;<span class="num" id="4180526">60</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180530">if</span>&nbsp;<span class="ident" id="4180533"><a href="/encoding/asn1/marshal.go.html#4180500">offsetMinutes</a></span>&nbsp;<span class="op" id="4180547">&lt;</span>&nbsp;<span class="num" id="4180549">0</span>&nbsp;<span class="op" id="4180551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180555"><a href="/encoding/asn1/marshal.go.html#4180500">offsetMinutes</a></span>&nbsp;<span class="op" id="4180569">=</span>&nbsp;<span class="op" id="4180571">-</span><span class="ident" id="4180572"><a href="/encoding/asn1/marshal.go.html#4180500">offsetMinutes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180591"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180595">=</span>&nbsp;<span class="ident" id="4180597"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4180613">(</span><span class="ident" id="4180614"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180617">,</span>&nbsp;<span class="ident" id="4180619"><a href="/encoding/asn1/marshal.go.html#4180500">offsetMinutes</a></span><span class="op" id="4180632">/</span><span class="num" id="4180633">60</span><span class="op" id="4180635">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180638">if</span>&nbsp;<span class="ident" id="4180641"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180645">!=</span>&nbsp;<span class="ident" id="4180648">nil</span>&nbsp;<span class="op" id="4180652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180656">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180668"><a href="/encoding/asn1/marshal.go.html#4179884">err</a></span>&nbsp;<span class="op" id="4180672">=</span>&nbsp;<span class="ident" id="4180674"><a href="/encoding/asn1/marshal.go.html#4178660">marshalTwoDigits</a></span><span class="op" id="4180690">(</span><span class="ident" id="4180691"><a href="/encoding/asn1/marshal.go.html#4179849">out</a></span><span class="op" id="4180694">,</span>&nbsp;<span class="ident" id="4180696"><a href="/encoding/asn1/marshal.go.html#4180500">offsetMinutes</a></span><span class="op" id="4180709">%</span><span class="num" id="4180710">60</span><span class="op" id="4180712">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180715">return</span><br>
<span class="lineno"></span><span class="op" id="4180722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4180725">func</span>&nbsp;<span class="ident" id="4180730">stripTagAndLength</span><span class="op" id="4180747">(</span><span class="ident" id="4180748">in</span>&nbsp;<span class="op" id="4180751">[</span><span class="op" id="4180752">]</span><span class="builtintype" id="4180753">byte</span><span class="op" id="4180757">)</span>&nbsp;<span class="op" id="4180759">[</span><span class="op" id="4180760">]</span><span class="builtintype" id="4180761">byte</span>&nbsp;<span class="op" id="4180766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4180769">_</span><span class="op" id="4180770">,</span>&nbsp;<span class="ident" id="4180772">offset</span><span class="op" id="4180778">,</span>&nbsp;<span class="ident" id="4180780">err</span>&nbsp;<span class="op" id="4180784">:=</span>&nbsp;<span class="ident" id="4180787"><a href="/encoding/asn1/asn1.go.html#4152856">parseTagAndLength</a></span><span class="op" id="4180804">(</span><span class="ident" id="4180805"><a href="/encoding/asn1/marshal.go.html#4180748">in</a></span><span class="op" id="4180807">,</span>&nbsp;<span class="num" id="4180809">0</span><span class="op" id="4180810">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180813">if</span>&nbsp;<span class="ident" id="4180816"><a href="/encoding/asn1/marshal.go.html#4180780">err</a></span>&nbsp;<span class="op" id="4180820">!=</span>&nbsp;<span class="ident" id="4180823">nil</span>&nbsp;<span class="op" id="4180827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180831">return</span>&nbsp;<span class="ident" id="4180838"><a href="/encoding/asn1/marshal.go.html#4180748">in</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4180842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180845">return</span>&nbsp;<span class="ident" id="4180852"><a href="/encoding/asn1/marshal.go.html#4180748">in</a></span><span class="op" id="4180854">[</span><span class="ident" id="4180855"><a href="/encoding/asn1/marshal.go.html#4180772">offset</a></span><span class="op" id="4180861">:</span><span class="op" id="4180862">]</span><br>
<span class="lineno"></span><span class="op" id="4180864">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="4180867">func</span>&nbsp;<span class="ident" id="4180872">marshalBody</span><span class="op" id="4180883">(</span><span class="ident" id="4180884">out</span>&nbsp;<span class="op" id="4180888">*</span><span class="ident" id="4180889"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4180903">,</span>&nbsp;<span class="ident" id="4180905">value</span>&nbsp;<span class="ident" id="4180911"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4180918">.</span><span class="ident" id="4180919">Value</span><span class="op" id="4180924">,</span>&nbsp;<span class="ident" id="4180926">params</span>&nbsp;<span class="ident" id="4180933"><a href="/encoding/asn1/common.go.html#4170591">fieldParameters</a></span><span class="op" id="4180948">)</span>&nbsp;<span class="op" id="4180950">(</span><span class="ident" id="4180951">err</span>&nbsp;<span class="builtintype" id="4180955">error</span><span class="op" id="4180960">)</span>&nbsp;<span class="op" id="4180962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180965">switch</span>&nbsp;<span class="ident" id="4180972"><a href="/encoding/asn1/marshal.go.html#4180905">value</a></span><span class="op" id="4180977">.</span><span class="ident" id="4180978">Type</span><span class="op" id="4180982">(</span><span class="op" id="4180983">)</span>&nbsp;<span class="op" id="4180985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4180988">case</span>&nbsp;<span class="ident" id="4180993"><a href="/encoding/asn1/asn1.go.html#4156134">timeType</a></span><span class="op" id="4181001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4181005">t</span>&nbsp;<span class="op" id="4181007">:=</span>&nbsp;<span class="ident" id="4181010"><a href="/encoding/asn1/marshal.go.html#4180905">value</a></span><span class="op" id="4181015">.</span><span class="ident" id="4181016">Interface</span><span class="op" id="4181025">(</span><span class="op" id="4181026">)</span><span class="op" id="4181027">.</span><span class="op" id="4181028">(</span><span class="ident" id="4181029"><a href="/encoding/asn1/marshal.go.html#4173626">time</a></span><span class="op" id="4181033">.</span><span class="ident" id="4181034">Time</span><span class="op" id="4181038">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181042">if</span>&nbsp;<span class="ident" id="4181045"><a href="/encoding/asn1/marshal.go.html#4179034">outsideUTCRange</a></span><span class="op" id="4181060">(</span><span class="ident" id="4181061"><a href="/encoding/asn1/marshal.go.html#4181005">t</a></span><span class="op" id="4181062">)</span>&nbsp;<span class="op" id="4181064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181069">return</span>&nbsp;<span class="ident" id="4181076"><a href="/encoding/asn1/marshal.go.html#4179532">marshalGeneralizedTime</a></span><span class="op" id="4181098">(</span><span class="ident" id="4181099"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181102">,</span>&nbsp;<span class="ident" id="4181104"><a href="/encoding/asn1/marshal.go.html#4181005">t</a></span><span class="op" id="4181105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4181109">}</span>&nbsp;<span class="keyword" id="4181111">else</span>&nbsp;<span class="op" id="4181116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181121">return</span>&nbsp;<span class="ident" id="4181128"><a href="/encoding/asn1/marshal.go.html#4179132">marshalUTCTime</a></span><span class="op" id="4181142">(</span><span class="ident" id="4181143"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181146">,</span>&nbsp;<span class="ident" id="4181148"><a href="/encoding/asn1/marshal.go.html#4181005">t</a></span><span class="op" id="4181149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4181153">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181156">case</span>&nbsp;<span class="ident" id="4181161"><a href="/encoding/asn1/asn1.go.html#4155917">bitStringType</a></span><span class="op" id="4181174">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181178">return</span>&nbsp;<span class="ident" id="4181185"><a href="/encoding/asn1/marshal.go.html#4177445">marshalBitString</a></span><span class="op" id="4181201">(</span><span class="ident" id="4181202"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181205">,</span>&nbsp;<span class="ident" id="4181207"><a href="/encoding/asn1/marshal.go.html#4180905">value</a></span><span class="op" id="4181212">.</span><span class="ident" id="4181213">Interface</span><span class="op" id="4181222">(</span><span class="op" id="4181223">)</span><span class="op" id="4181224">.</span><span class="op" id="4181225">(</span><span class="ident" id="4181226"><a href="/encoding/asn1/asn1.go.html#4146221">BitString</a></span><span class="op" id="4181235">)</span><span class="op" id="4181236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181239">case</span>&nbsp;<span class="ident" id="4181244"><a href="/encoding/asn1/asn1.go.html#4155969">objectIdentifierType</a></span><span class="op" id="4181264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181268">return</span>&nbsp;<span class="ident" id="4181275"><a href="/encoding/asn1/marshal.go.html#4177664">marshalObjectIdentifier</a></span><span class="op" id="4181298">(</span><span class="ident" id="4181299"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181302">,</span>&nbsp;<span class="ident" id="4181304"><a href="/encoding/asn1/marshal.go.html#4180905">value</a></span><span class="op" id="4181309">.</span><span class="ident" id="4181310">Interface</span><span class="op" id="4181319">(</span><span class="op" id="4181320">)</span><span class="op" id="4181321">.</span><span class="op" id="4181322">(</span><span class="ident" id="4181323"><a href="/encoding/asn1/asn1.go.html#4147620">ObjectIdentifier</a></span><span class="op" id="4181339">)</span><span class="op" id="4181340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181343">case</span>&nbsp;<span class="ident" id="4181348"><a href="/encoding/asn1/asn1.go.html#4156293">bigIntType</a></span><span class="op" id="4181358">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181362">return</span>&nbsp;<span class="ident" id="4181369"><a href="/encoding/asn1/marshal.go.html#4175452">marshalBigInt</a></span><span class="op" id="4181382">(</span><span class="ident" id="4181383"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181386">,</span>&nbsp;<span class="ident" id="4181388"><a href="/encoding/asn1/marshal.go.html#4180905">value</a></span><span class="op" id="4181393">.</span><span class="ident" id="4181394">Interface</span><span class="op" id="4181403">(</span><span class="op" id="4181404">)</span><span class="op" id="4181405">.</span><span class="op" id="4181406">(</span><span class="op" id="4181407">*</span><span class="ident" id="4181408"><a href="/encoding/asn1/marshal.go.html#4173603">big</a></span><span class="op" id="4181411">.</span><span class="ident" id="4181412">Int</span><span class="op" id="4181415">)</span><span class="op" id="4181416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4181419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181423">switch</span>&nbsp;<span class="ident" id="4181430">v</span>&nbsp;<span class="op" id="4181432">:=</span>&nbsp;<span class="ident" id="4181435"><a href="/encoding/asn1/marshal.go.html#4180905">value</a></span><span class="op" id="4181440">;</span>&nbsp;<span class="ident" id="4181442"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4181443">.</span><span class="ident" id="4181444">Kind</span><span class="op" id="4181448">(</span><span class="op" id="4181449">)</span>&nbsp;<span class="op" id="4181451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181454">case</span>&nbsp;<span class="ident" id="4181459"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4181466">.</span><span class="ident" id="4181467">Bool</span><span class="op" id="4181471">:</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181475">if</span>&nbsp;<span class="ident" id="4181478"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4181479">.</span><span class="ident" id="4181480">Bool</span><span class="op" id="4181484">(</span><span class="op" id="4181485">)</span>&nbsp;<span class="op" id="4181487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181492">return</span>&nbsp;<span class="ident" id="4181499"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181502">.</span><span class="ident" id="4181503">WriteByte</span><span class="op" id="4181512">(</span><span class="num" id="4181513">255</span><span class="op" id="4181516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4181520">}</span>&nbsp;<span class="keyword" id="4181522">else</span>&nbsp;<span class="op" id="4181527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181532">return</span>&nbsp;<span class="ident" id="4181539"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181542">.</span><span class="ident" id="4181543">WriteByte</span><span class="op" id="4181552">(</span><span class="num" id="4181553">0</span><span class="op" id="4181554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4181558">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181561">case</span>&nbsp;<span class="ident" id="4181566"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4181573">.</span><span class="ident" id="4181574">Int</span><span class="op" id="4181577">,</span>&nbsp;<span class="ident" id="4181579"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4181586">.</span><span class="ident" id="4181587">Int8</span><span class="op" id="4181591">,</span>&nbsp;<span class="ident" id="4181593"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4181600">.</span><span class="ident" id="4181601">Int16</span><span class="op" id="4181606">,</span>&nbsp;<span class="ident" id="4181608"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4181615">.</span><span class="ident" id="4181616">Int32</span><span class="op" id="4181621">,</span>&nbsp;<span class="ident" id="4181623"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4181630">.</span><span class="ident" id="4181631">Int64</span><span class="op" id="4181636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181640">return</span>&nbsp;<span class="ident" id="4181647"><a href="/encoding/asn1/marshal.go.html#4175095">marshalInt64</a></span><span class="op" id="4181659">(</span><span class="ident" id="4181660"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4181663">,</span>&nbsp;<span class="ident" id="4181665">int64</span><span class="op" id="4181670">(</span><span class="ident" id="4181671"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4181672">.</span><span class="ident" id="4181673">Int</span><span class="op" id="4181676">(</span><span class="op" id="4181677">)</span><span class="op" id="4181678">)</span><span class="op" id="4181679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181682">case</span>&nbsp;<span class="ident" id="4181687"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4181694">.</span><span class="ident" id="4181695">Struct</span><span class="op" id="4181701">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4181705">t</span>&nbsp;<span class="op" id="4181707">:=</span>&nbsp;<span class="ident" id="4181710"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4181711">.</span><span class="ident" id="4181712">Type</span><span class="op" id="4181716">(</span><span class="op" id="4181717">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4181722">startingField</span>&nbsp;<span class="op" id="4181736">:=</span>&nbsp;<span class="num" id="4181739">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4181744">//&nbsp;If&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;the&nbsp;structure&nbsp;is&nbsp;a&nbsp;non-empty</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4181802">//&nbsp;RawContents,&nbsp;then&nbsp;we&nbsp;don&#39;t&nbsp;bother&nbsp;serializing&nbsp;the&nbsp;rest.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181863">if</span>&nbsp;<span class="ident" id="4181866"><a href="/encoding/asn1/marshal.go.html#4181705">t</a></span><span class="op" id="4181867">.</span><span class="ident" id="4181868">NumField</span><span class="op" id="4181876">(</span><span class="op" id="4181877">)</span>&nbsp;<span class="op" id="4181879">&gt;</span>&nbsp;<span class="num" id="4181881">0</span>&nbsp;<span class="op" id="4181883">&amp;&amp;</span>&nbsp;<span class="ident" id="4181886"><a href="/encoding/asn1/marshal.go.html#4181705">t</a></span><span class="op" id="4181887">.</span><span class="ident" id="4181888">Field</span><span class="op" id="4181893">(</span><span class="num" id="4181894">0</span><span class="op" id="4181895">)</span><span class="op" id="4181896">.</span><span class="ident" id="4181897">Type</span>&nbsp;<span class="op" id="4181902">==</span>&nbsp;<span class="ident" id="4181905"><a href="/encoding/asn1/asn1.go.html#4156237">rawContentsType</a></span>&nbsp;<span class="op" id="4181921">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4181926">s</span>&nbsp;<span class="op" id="4181928">:=</span>&nbsp;<span class="ident" id="4181931"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4181932">.</span><span class="ident" id="4181933">Field</span><span class="op" id="4181938">(</span><span class="num" id="4181939">0</span><span class="op" id="4181940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4181945">if</span>&nbsp;<span class="ident" id="4181948"><a href="/encoding/asn1/marshal.go.html#4181926">s</a></span><span class="op" id="4181949">.</span><span class="ident" id="4181950">Len</span><span class="op" id="4181953">(</span><span class="op" id="4181954">)</span>&nbsp;<span class="op" id="4181956">&gt;</span>&nbsp;<span class="num" id="4181958">0</span>&nbsp;<span class="op" id="4181960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4181966">bytes</span>&nbsp;<span class="op" id="4181972">:=</span>&nbsp;<span class="builtinfunc" id="4181975">make</span><span class="op" id="4181979">(</span><span class="op" id="4181980">[</span><span class="op" id="4181981">]</span><span class="builtintype" id="4181982">byte</span><span class="op" id="4181986">,</span>&nbsp;<span class="ident" id="4181988"><a href="/encoding/asn1/marshal.go.html#4181926">s</a></span><span class="op" id="4181989">.</span><span class="ident" id="4181990">Len</span><span class="op" id="4181993">(</span><span class="op" id="4181994">)</span><span class="op" id="4181995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182001">for</span>&nbsp;<span class="ident" id="4182005">i</span>&nbsp;<span class="op" id="4182007">:=</span>&nbsp;<span class="num" id="4182010">0</span><span class="op" id="4182011">;</span>&nbsp;<span class="ident" id="4182013"><a href="/encoding/asn1/marshal.go.html#4182005">i</a></span>&nbsp;<span class="op" id="4182015">&lt;</span>&nbsp;<span class="ident" id="4182017"><a href="/encoding/asn1/marshal.go.html#4181926">s</a></span><span class="op" id="4182018">.</span><span class="ident" id="4182019">Len</span><span class="op" id="4182022">(</span><span class="op" id="4182023">)</span><span class="op" id="4182024">;</span>&nbsp;<span class="ident" id="4182026"><a href="/encoding/asn1/marshal.go.html#4182005">i</a></span><span class="op" id="4182027">++</span>&nbsp;<span class="op" id="4182030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182037"><a href="/encoding/asn1/marshal.go.html#4181966">bytes</a></span><span class="op" id="4182042">[</span><span class="ident" id="4182043"><a href="/encoding/asn1/marshal.go.html#4182005">i</a></span><span class="op" id="4182044">]</span>&nbsp;<span class="op" id="4182046">=</span>&nbsp;<span class="builtintype" id="4182048">uint8</span><span class="op" id="4182053">(</span><span class="ident" id="4182054"><a href="/encoding/asn1/marshal.go.html#4181926">s</a></span><span class="op" id="4182055">.</span><span class="ident" id="4182056">Index</span><span class="op" id="4182061">(</span><span class="ident" id="4182062"><a href="/encoding/asn1/marshal.go.html#4182005">i</a></span><span class="op" id="4182063">)</span><span class="op" id="4182064">.</span><span class="ident" id="4182065">Uint</span><span class="op" id="4182069">(</span><span class="op" id="4182070">)</span><span class="op" id="4182071">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4182083">/*&nbsp;The&nbsp;RawContents&nbsp;will&nbsp;contain&nbsp;the&nbsp;tag&nbsp;and<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;length&nbsp;fields&nbsp;but&nbsp;we&#39;ll&nbsp;also&nbsp;be&nbsp;writing<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;those&nbsp;ourselves,&nbsp;so&nbsp;we&nbsp;strip&nbsp;them&nbsp;out&nbsp;of<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;bytes&nbsp;*/</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182242">_</span><span class="op" id="4182243">,</span>&nbsp;<span class="ident" id="4182245"><a href="/encoding/asn1/marshal.go.html#4180951">err</a></span>&nbsp;<span class="op" id="4182249">=</span>&nbsp;<span class="ident" id="4182251"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4182254">.</span><span class="ident" id="4182255">Write</span><span class="op" id="4182260">(</span><span class="ident" id="4182261"><a href="/encoding/asn1/marshal.go.html#4180730">stripTagAndLength</a></span><span class="op" id="4182278">(</span><span class="ident" id="4182279"><a href="/encoding/asn1/marshal.go.html#4181966">bytes</a></span><span class="op" id="4182284">)</span><span class="op" id="4182285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182291">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182301">}</span>&nbsp;<span class="keyword" id="4182303">else</span>&nbsp;<span class="op" id="4182308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182314"><a href="/encoding/asn1/marshal.go.html#4181722">startingField</a></span>&nbsp;<span class="op" id="4182328">=</span>&nbsp;<span class="num" id="4182330">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182335">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182344">for</span>&nbsp;<span class="ident" id="4182348">i</span>&nbsp;<span class="op" id="4182350">:=</span>&nbsp;<span class="ident" id="4182353"><a href="/encoding/asn1/marshal.go.html#4181722">startingField</a></span><span class="op" id="4182366">;</span>&nbsp;<span class="ident" id="4182368"><a href="/encoding/asn1/marshal.go.html#4182348">i</a></span>&nbsp;<span class="op" id="4182370">&lt;</span>&nbsp;<span class="ident" id="4182372"><a href="/encoding/asn1/marshal.go.html#4181705">t</a></span><span class="op" id="4182373">.</span><span class="ident" id="4182374">NumField</span><span class="op" id="4182382">(</span><span class="op" id="4182383">)</span><span class="op" id="4182384">;</span>&nbsp;<span class="ident" id="4182386"><a href="/encoding/asn1/marshal.go.html#4182348">i</a></span><span class="op" id="4182387">++</span>&nbsp;<span class="op" id="4182390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182395">var</span>&nbsp;<span class="ident" id="4182399">pre</span>&nbsp;<span class="op" id="4182403">*</span><span class="ident" id="4182404"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182422"><a href="/encoding/asn1/marshal.go.html#4182399">pre</a></span><span class="op" id="4182425">,</span>&nbsp;<span class="ident" id="4182427"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span>&nbsp;<span class="op" id="4182431">=</span>&nbsp;<span class="ident" id="4182433"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4182436">.</span><span class="ident" id="4182437">fork</span><span class="op" id="4182441">(</span><span class="op" id="4182442">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182447"><a href="/encoding/asn1/marshal.go.html#4180951">err</a></span>&nbsp;<span class="op" id="4182451">=</span>&nbsp;<span class="ident" id="4182453"><a href="/encoding/asn1/marshal.go.html#4183340">marshalField</a></span><span class="op" id="4182465">(</span><span class="ident" id="4182466"><a href="/encoding/asn1/marshal.go.html#4182399">pre</a></span><span class="op" id="4182469">,</span>&nbsp;<span class="ident" id="4182471"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4182472">.</span><span class="ident" id="4182473">Field</span><span class="op" id="4182478">(</span><span class="ident" id="4182479"><a href="/encoding/asn1/marshal.go.html#4182348">i</a></span><span class="op" id="4182480">)</span><span class="op" id="4182481">,</span>&nbsp;<span class="ident" id="4182483"><a href="/encoding/asn1/common.go.html#4171400">parseFieldParameters</a></span><span class="op" id="4182503">(</span><span class="ident" id="4182504"><a href="/encoding/asn1/marshal.go.html#4181705">t</a></span><span class="op" id="4182505">.</span><span class="ident" id="4182506">Field</span><span class="op" id="4182511">(</span><span class="ident" id="4182512"><a href="/encoding/asn1/marshal.go.html#4182348">i</a></span><span class="op" id="4182513">)</span><span class="op" id="4182514">.</span><span class="ident" id="4182515">Tag</span><span class="op" id="4182518">.</span><span class="ident" id="4182519">Get</span><span class="op" id="4182522">(</span><span class="string" id="4182523">&#34;asn1&#34;</span><span class="op" id="4182529">)</span><span class="op" id="4182530">)</span><span class="op" id="4182531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182536">if</span>&nbsp;<span class="ident" id="4182539"><a href="/encoding/asn1/marshal.go.html#4180951">err</a></span>&nbsp;<span class="op" id="4182543">!=</span>&nbsp;<span class="ident" id="4182546">nil</span>&nbsp;<span class="op" id="4182550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182556">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182570">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182574">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182582">case</span>&nbsp;<span class="ident" id="4182587"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4182594">.</span><span class="ident" id="4182595">Slice</span><span class="op" id="4182600">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182604">sliceType</span>&nbsp;<span class="op" id="4182614">:=</span>&nbsp;<span class="ident" id="4182617"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4182618">.</span><span class="ident" id="4182619">Type</span><span class="op" id="4182623">(</span><span class="op" id="4182624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182628">if</span>&nbsp;<span class="ident" id="4182631"><a href="/encoding/asn1/marshal.go.html#4182604">sliceType</a></span><span class="op" id="4182640">.</span><span class="ident" id="4182641">Elem</span><span class="op" id="4182645">(</span><span class="op" id="4182646">)</span><span class="op" id="4182647">.</span><span class="ident" id="4182648">Kind</span><span class="op" id="4182652">(</span><span class="op" id="4182653">)</span>&nbsp;<span class="op" id="4182655">==</span>&nbsp;<span class="ident" id="4182658"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4182665">.</span><span class="ident" id="4182666">Uint8</span>&nbsp;<span class="op" id="4182672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182677">bytes</span>&nbsp;<span class="op" id="4182683">:=</span>&nbsp;<span class="builtinfunc" id="4182686">make</span><span class="op" id="4182690">(</span><span class="op" id="4182691">[</span><span class="op" id="4182692">]</span><span class="builtintype" id="4182693">byte</span><span class="op" id="4182697">,</span>&nbsp;<span class="ident" id="4182699"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4182700">.</span><span class="ident" id="4182701">Len</span><span class="op" id="4182704">(</span><span class="op" id="4182705">)</span><span class="op" id="4182706">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182711">for</span>&nbsp;<span class="ident" id="4182715">i</span>&nbsp;<span class="op" id="4182717">:=</span>&nbsp;<span class="num" id="4182720">0</span><span class="op" id="4182721">;</span>&nbsp;<span class="ident" id="4182723"><a href="/encoding/asn1/marshal.go.html#4182715">i</a></span>&nbsp;<span class="op" id="4182725">&lt;</span>&nbsp;<span class="ident" id="4182727"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4182728">.</span><span class="ident" id="4182729">Len</span><span class="op" id="4182732">(</span><span class="op" id="4182733">)</span><span class="op" id="4182734">;</span>&nbsp;<span class="ident" id="4182736"><a href="/encoding/asn1/marshal.go.html#4182715">i</a></span><span class="op" id="4182737">++</span>&nbsp;<span class="op" id="4182740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182746"><a href="/encoding/asn1/marshal.go.html#4182677">bytes</a></span><span class="op" id="4182751">[</span><span class="ident" id="4182752"><a href="/encoding/asn1/marshal.go.html#4182715">i</a></span><span class="op" id="4182753">]</span>&nbsp;<span class="op" id="4182755">=</span>&nbsp;<span class="builtintype" id="4182757">uint8</span><span class="op" id="4182762">(</span><span class="ident" id="4182763"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4182764">.</span><span class="ident" id="4182765">Index</span><span class="op" id="4182770">(</span><span class="ident" id="4182771"><a href="/encoding/asn1/marshal.go.html#4182715">i</a></span><span class="op" id="4182772">)</span><span class="op" id="4182773">.</span><span class="ident" id="4182774">Uint</span><span class="op" id="4182778">(</span><span class="op" id="4182779">)</span><span class="op" id="4182780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182790">_</span><span class="op" id="4182791">,</span>&nbsp;<span class="ident" id="4182793"><a href="/encoding/asn1/marshal.go.html#4180951">err</a></span>&nbsp;<span class="op" id="4182797">=</span>&nbsp;<span class="ident" id="4182799"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4182802">.</span><span class="ident" id="4182803">Write</span><span class="op" id="4182808">(</span><span class="ident" id="4182809"><a href="/encoding/asn1/marshal.go.html#4182677">bytes</a></span><span class="op" id="4182814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182819">return</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4182828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182833">var</span>&nbsp;<span class="ident" id="4182837">fp</span>&nbsp;<span class="ident" id="4182840"><a href="/encoding/asn1/common.go.html#4170591">fieldParameters</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182858">for</span>&nbsp;<span class="ident" id="4182862">i</span>&nbsp;<span class="op" id="4182864">:=</span>&nbsp;<span class="num" id="4182867">0</span><span class="op" id="4182868">;</span>&nbsp;<span class="ident" id="4182870"><a href="/encoding/asn1/marshal.go.html#4182862">i</a></span>&nbsp;<span class="op" id="4182872">&lt;</span>&nbsp;<span class="ident" id="4182874"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4182875">.</span><span class="ident" id="4182876">Len</span><span class="op" id="4182879">(</span><span class="op" id="4182880">)</span><span class="op" id="4182881">;</span>&nbsp;<span class="ident" id="4182883"><a href="/encoding/asn1/marshal.go.html#4182862">i</a></span><span class="op" id="4182884">++</span>&nbsp;<span class="op" id="4182887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182892">var</span>&nbsp;<span class="ident" id="4182896">pre</span>&nbsp;<span class="op" id="4182900">*</span><span class="ident" id="4182901"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182919"><a href="/encoding/asn1/marshal.go.html#4182896">pre</a></span><span class="op" id="4182922">,</span>&nbsp;<span class="ident" id="4182924"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span>&nbsp;<span class="op" id="4182928">=</span>&nbsp;<span class="ident" id="4182930"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4182933">.</span><span class="ident" id="4182934">fork</span><span class="op" id="4182938">(</span><span class="op" id="4182939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4182944"><a href="/encoding/asn1/marshal.go.html#4180951">err</a></span>&nbsp;<span class="op" id="4182948">=</span>&nbsp;<span class="ident" id="4182950"><a href="/encoding/asn1/marshal.go.html#4183340">marshalField</a></span><span class="op" id="4182962">(</span><span class="ident" id="4182963"><a href="/encoding/asn1/marshal.go.html#4182896">pre</a></span><span class="op" id="4182966">,</span>&nbsp;<span class="ident" id="4182968"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4182969">.</span><span class="ident" id="4182970">Index</span><span class="op" id="4182975">(</span><span class="ident" id="4182976"><a href="/encoding/asn1/marshal.go.html#4182862">i</a></span><span class="op" id="4182977">)</span><span class="op" id="4182978">,</span>&nbsp;<span class="ident" id="4182980"><a href="/encoding/asn1/marshal.go.html#4182837">fp</a></span><span class="op" id="4182982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4182987">if</span>&nbsp;<span class="ident" id="4182990"><a href="/encoding/asn1/marshal.go.html#4180951">err</a></span>&nbsp;<span class="op" id="4182994">!=</span>&nbsp;<span class="ident" id="4182997">nil</span>&nbsp;<span class="op" id="4183001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183007">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183017">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183025">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183033">case</span>&nbsp;<span class="ident" id="4183038"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4183045">.</span><span class="ident" id="4183046">String</span><span class="op" id="4183052">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183056">switch</span>&nbsp;<span class="ident" id="4183063"><a href="/encoding/asn1/marshal.go.html#4180926">params</a></span><span class="op" id="4183069">.</span><span class="ident" id="4183070">stringType</span>&nbsp;<span class="op" id="4183081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183085">case</span>&nbsp;<span class="ident" id="4183090"><a href="/encoding/asn1/common.go.html#4169310">tagIA5String</a></span><span class="op" id="4183102">:</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183107">return</span>&nbsp;<span class="ident" id="4183114"><a href="/encoding/asn1/marshal.go.html#4178321">marshalIA5String</a></span><span class="op" id="4183130">(</span><span class="ident" id="4183131"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4183134">,</span>&nbsp;<span class="ident" id="4183136"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4183137">.</span><span class="ident" id="4183138">String</span><span class="op" id="4183144">(</span><span class="op" id="4183145">)</span><span class="op" id="4183146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183150">case</span>&nbsp;<span class="ident" id="4183155"><a href="/encoding/asn1/common.go.html#4169260">tagPrintableString</a></span><span class="op" id="4183173">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183178">return</span>&nbsp;<span class="ident" id="4183185"><a href="/encoding/asn1/marshal.go.html#4178072">marshalPrintableString</a></span><span class="op" id="4183207">(</span><span class="ident" id="4183208"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4183211">,</span>&nbsp;<span class="ident" id="4183213"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4183214">.</span><span class="ident" id="4183215">String</span><span class="op" id="4183221">(</span><span class="op" id="4183222">)</span><span class="op" id="4183223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183227">default</span><span class="op" id="4183234">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183239">return</span>&nbsp;<span class="ident" id="4183246"><a href="/encoding/asn1/marshal.go.html#4178550">marshalUTF8String</a></span><span class="op" id="4183263">(</span><span class="ident" id="4183264"><a href="/encoding/asn1/marshal.go.html#4180884">out</a></span><span class="op" id="4183267">,</span>&nbsp;<span class="ident" id="4183269"><a href="/encoding/asn1/marshal.go.html#4181430">v</a></span><span class="op" id="4183270">.</span><span class="ident" id="4183271">String</span><span class="op" id="4183277">(</span><span class="op" id="4183278">)</span><span class="op" id="4183279">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183290">return</span>&nbsp;<span class="ident" id="4183297"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4183312">{</span><span class="string" id="4183313">&#34;unknown&nbsp;Go&nbsp;type&#34;</span><span class="op" id="4183330">}</span><br>
<span class="lineno"></span><span class="op" id="4183332">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="4183335">func</span>&nbsp;<span class="ident" id="4183340">marshalField</span><span class="op" id="4183352">(</span><span class="ident" id="4183353">out</span>&nbsp;<span class="op" id="4183357">*</span><span class="ident" id="4183358"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><span class="op" id="4183372">,</span>&nbsp;<span class="ident" id="4183374">v</span>&nbsp;<span class="ident" id="4183376"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4183383">.</span><span class="ident" id="4183384">Value</span><span class="op" id="4183389">,</span>&nbsp;<span class="ident" id="4183391">params</span>&nbsp;<span class="ident" id="4183398"><a href="/encoding/asn1/common.go.html#4170591">fieldParameters</a></span><span class="op" id="4183413">)</span>&nbsp;<span class="op" id="4183415">(</span><span class="ident" id="4183416">err</span>&nbsp;<span class="builtintype" id="4183420">error</span><span class="op" id="4183425">)</span>&nbsp;<span class="op" id="4183427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4183430">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;an&nbsp;interface{}&nbsp;then&nbsp;recurse&nbsp;into&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183487">if</span>&nbsp;<span class="ident" id="4183490"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183491">.</span><span class="ident" id="4183492">Kind</span><span class="op" id="4183496">(</span><span class="op" id="4183497">)</span>&nbsp;<span class="op" id="4183499">==</span>&nbsp;<span class="ident" id="4183502"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4183509">.</span><span class="ident" id="4183510">Interface</span>&nbsp;<span class="op" id="4183520">&amp;&amp;</span>&nbsp;<span class="ident" id="4183523"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183524">.</span><span class="ident" id="4183525">Type</span><span class="op" id="4183529">(</span><span class="op" id="4183530">)</span><span class="op" id="4183531">.</span><span class="ident" id="4183532">NumMethod</span><span class="op" id="4183541">(</span><span class="op" id="4183542">)</span>&nbsp;<span class="op" id="4183544">==</span>&nbsp;<span class="num" id="4183547">0</span>&nbsp;<span class="op" id="4183549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183553">return</span>&nbsp;<span class="ident" id="4183560"><a href="/encoding/asn1/marshal.go.html#4183340">marshalField</a></span><span class="op" id="4183572">(</span><span class="ident" id="4183573"><a href="/encoding/asn1/marshal.go.html#4183353">out</a></span><span class="op" id="4183576">,</span>&nbsp;<span class="ident" id="4183578"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183579">.</span><span class="ident" id="4183580">Elem</span><span class="op" id="4183584">(</span><span class="op" id="4183585">)</span><span class="op" id="4183586">,</span>&nbsp;<span class="ident" id="4183588"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4183594">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183601">if</span>&nbsp;<span class="ident" id="4183604"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183605">.</span><span class="ident" id="4183606">Kind</span><span class="op" id="4183610">(</span><span class="op" id="4183611">)</span>&nbsp;<span class="op" id="4183613">==</span>&nbsp;<span class="ident" id="4183616"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4183623">.</span><span class="ident" id="4183624">Slice</span>&nbsp;<span class="op" id="4183630">&amp;&amp;</span>&nbsp;<span class="ident" id="4183633"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183634">.</span><span class="ident" id="4183635">Len</span><span class="op" id="4183638">(</span><span class="op" id="4183639">)</span>&nbsp;<span class="op" id="4183641">==</span>&nbsp;<span class="num" id="4183644">0</span>&nbsp;<span class="op" id="4183646">&amp;&amp;</span>&nbsp;<span class="ident" id="4183649"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4183655">.</span><span class="ident" id="4183656">omitEmpty</span>&nbsp;<span class="op" id="4183666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183670">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183678">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183682">if</span>&nbsp;<span class="ident" id="4183685"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4183691">.</span><span class="ident" id="4183692">optional</span>&nbsp;<span class="op" id="4183701">&amp;&amp;</span>&nbsp;<span class="ident" id="4183704"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4183710">.</span><span class="ident" id="4183711">defaultValue</span>&nbsp;<span class="op" id="4183724">!=</span>&nbsp;<span class="ident" id="4183727">nil</span>&nbsp;<span class="op" id="4183731">&amp;&amp;</span>&nbsp;<span class="ident" id="4183734"><a href="/encoding/asn1/asn1.go.html#4165202">canHaveDefaultValue</a></span><span class="op" id="4183753">(</span><span class="ident" id="4183754"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183755">.</span><span class="ident" id="4183756">Kind</span><span class="op" id="4183760">(</span><span class="op" id="4183761">)</span><span class="op" id="4183762">)</span>&nbsp;<span class="op" id="4183764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4183768">defaultValue</span>&nbsp;<span class="op" id="4183781">:=</span>&nbsp;<span class="ident" id="4183784"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4183791">.</span><span class="ident" id="4183792">New</span><span class="op" id="4183795">(</span><span class="ident" id="4183796"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183797">.</span><span class="ident" id="4183798">Type</span><span class="op" id="4183802">(</span><span class="op" id="4183803">)</span><span class="op" id="4183804">)</span><span class="op" id="4183805">.</span><span class="ident" id="4183806">Elem</span><span class="op" id="4183810">(</span><span class="op" id="4183811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4183815"><a href="/encoding/asn1/marshal.go.html#4183768">defaultValue</a></span><span class="op" id="4183827">.</span><span class="ident" id="4183828">SetInt</span><span class="op" id="4183834">(</span><span class="op" id="4183835">*</span><span class="ident" id="4183836"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4183842">.</span><span class="ident" id="4183843">defaultValue</span><span class="op" id="4183855">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183860">if</span>&nbsp;<span class="ident" id="4183863"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4183870">.</span><span class="ident" id="4183871">DeepEqual</span><span class="op" id="4183880">(</span><span class="ident" id="4183881"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4183882">.</span><span class="ident" id="4183883">Interface</span><span class="op" id="4183892">(</span><span class="op" id="4183893">)</span><span class="op" id="4183894">,</span>&nbsp;<span class="ident" id="4183896"><a href="/encoding/asn1/marshal.go.html#4183768">defaultValue</a></span><span class="op" id="4183908">.</span><span class="ident" id="4183909">Interface</span><span class="op" id="4183918">(</span><span class="op" id="4183919">)</span><span class="op" id="4183920">)</span>&nbsp;<span class="op" id="4183922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4183927">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4183939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4183943">//&nbsp;If&nbsp;no&nbsp;default&nbsp;value&nbsp;is&nbsp;given&nbsp;then&nbsp;the&nbsp;zero&nbsp;value&nbsp;for&nbsp;the&nbsp;type&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4184012">//&nbsp;assumed&nbsp;to&nbsp;be&nbsp;the&nbsp;default&nbsp;value.&nbsp;This&nbsp;isn&#39;t&nbsp;obviously&nbsp;the&nbsp;correct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4184082">//&nbsp;behaviour,&nbsp;but&nbsp;it&#39;s&nbsp;what&nbsp;Go&nbsp;has&nbsp;traditionally&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184138">if</span>&nbsp;<span class="ident" id="4184141"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4184147">.</span><span class="ident" id="4184148">optional</span>&nbsp;<span class="op" id="4184157">&amp;&amp;</span>&nbsp;<span class="ident" id="4184160"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4184166">.</span><span class="ident" id="4184167">defaultValue</span>&nbsp;<span class="op" id="4184180">==</span>&nbsp;<span class="ident" id="4184183">nil</span>&nbsp;<span class="op" id="4184187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184191">if</span>&nbsp;<span class="ident" id="4184194"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4184201">.</span><span class="ident" id="4184202">DeepEqual</span><span class="op" id="4184211">(</span><span class="ident" id="4184212"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4184213">.</span><span class="ident" id="4184214">Interface</span><span class="op" id="4184223">(</span><span class="op" id="4184224">)</span><span class="op" id="4184225">,</span>&nbsp;<span class="ident" id="4184227"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4184234">.</span><span class="ident" id="4184235">Zero</span><span class="op" id="4184239">(</span><span class="ident" id="4184240"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4184241">.</span><span class="ident" id="4184242">Type</span><span class="op" id="4184246">(</span><span class="op" id="4184247">)</span><span class="op" id="4184248">)</span><span class="op" id="4184249">.</span><span class="ident" id="4184250">Interface</span><span class="op" id="4184259">(</span><span class="op" id="4184260">)</span><span class="op" id="4184261">)</span>&nbsp;<span class="op" id="4184263">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184268">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184284">if</span>&nbsp;<span class="ident" id="4184287"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4184288">.</span><span class="ident" id="4184289">Type</span><span class="op" id="4184293">(</span><span class="op" id="4184294">)</span>&nbsp;<span class="op" id="4184296">==</span>&nbsp;<span class="ident" id="4184299"><a href="/encoding/asn1/asn1.go.html#4156186">rawValueType</a></span>&nbsp;<span class="op" id="4184312">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4184316">rv</span>&nbsp;<span class="op" id="4184319">:=</span>&nbsp;<span class="ident" id="4184322"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4184323">.</span><span class="ident" id="4184324">Interface</span><span class="op" id="4184333">(</span><span class="op" id="4184334">)</span><span class="op" id="4184335">.</span><span class="op" id="4184336">(</span><span class="ident" id="4184337"><a href="/encoding/asn1/asn1.go.html#4152161">RawValue</a></span><span class="op" id="4184345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184349">if</span>&nbsp;<span class="builtinfunc" id="4184352">len</span><span class="op" id="4184355">(</span><span class="ident" id="4184356"><a href="/encoding/asn1/marshal.go.html#4184316">rv</a></span><span class="op" id="4184358">.</span><span class="ident" id="4184359">FullBytes</span><span class="op" id="4184368">)</span>&nbsp;<span class="op" id="4184370">!=</span>&nbsp;<span class="num" id="4184373">0</span>&nbsp;<span class="op" id="4184375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4184380">_</span><span class="op" id="4184381">,</span>&nbsp;<span class="ident" id="4184383"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4184387">=</span>&nbsp;<span class="ident" id="4184389"><a href="/encoding/asn1/marshal.go.html#4183353">out</a></span><span class="op" id="4184392">.</span><span class="ident" id="4184393">Write</span><span class="op" id="4184398">(</span><span class="ident" id="4184399"><a href="/encoding/asn1/marshal.go.html#4184316">rv</a></span><span class="op" id="4184401">.</span><span class="ident" id="4184402">FullBytes</span><span class="op" id="4184411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184415">}</span>&nbsp;<span class="keyword" id="4184417">else</span>&nbsp;<span class="op" id="4184422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4184427"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4184431">=</span>&nbsp;<span class="ident" id="4184433"><a href="/encoding/asn1/marshal.go.html#4176764">marshalTagAndLength</a></span><span class="op" id="4184452">(</span><span class="ident" id="4184453"><a href="/encoding/asn1/marshal.go.html#4183353">out</a></span><span class="op" id="4184456">,</span>&nbsp;<span class="ident" id="4184458"><a href="/encoding/asn1/common.go.html#4169532">tagAndLength</a></span><span class="op" id="4184470">{</span><span class="ident" id="4184471"><a href="/encoding/asn1/marshal.go.html#4184316">rv</a></span><span class="op" id="4184473">.</span><span class="ident" id="4184474">Class</span><span class="op" id="4184479">,</span>&nbsp;<span class="ident" id="4184481"><a href="/encoding/asn1/marshal.go.html#4184316">rv</a></span><span class="op" id="4184483">.</span><span class="ident" id="4184484">Tag</span><span class="op" id="4184487">,</span>&nbsp;<span class="builtinfunc" id="4184489">len</span><span class="op" id="4184492">(</span><span class="ident" id="4184493"><a href="/encoding/asn1/marshal.go.html#4184316">rv</a></span><span class="op" id="4184495">.</span><span class="ident" id="4184496">Bytes</span><span class="op" id="4184501">)</span><span class="op" id="4184502">,</span>&nbsp;<span class="ident" id="4184504"><a href="/encoding/asn1/marshal.go.html#4184316">rv</a></span><span class="op" id="4184506">.</span><span class="ident" id="4184507">IsCompound</span><span class="op" id="4184517">}</span><span class="op" id="4184518">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184523">if</span>&nbsp;<span class="ident" id="4184526"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4184530">!=</span>&nbsp;<span class="ident" id="4184533">nil</span>&nbsp;<span class="op" id="4184537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184543">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4184558">_</span><span class="op" id="4184559">,</span>&nbsp;<span class="ident" id="4184561"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4184565">=</span>&nbsp;<span class="ident" id="4184567"><a href="/encoding/asn1/marshal.go.html#4183353">out</a></span><span class="op" id="4184570">.</span><span class="ident" id="4184571">Write</span><span class="op" id="4184576">(</span><span class="ident" id="4184577"><a href="/encoding/asn1/marshal.go.html#4184316">rv</a></span><span class="op" id="4184579">.</span><span class="ident" id="4184580">Bytes</span><span class="op" id="4184585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184589">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184593">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4184605">tag</span><span class="op" id="4184608">,</span>&nbsp;<span class="ident" id="4184610">isCompound</span><span class="op" id="4184620">,</span>&nbsp;<span class="ident" id="4184622">ok</span>&nbsp;<span class="op" id="4184625">:=</span>&nbsp;<span class="ident" id="4184628"><a href="/encoding/asn1/common.go.html#4172493">getUniversalType</a></span><span class="op" id="4184644">(</span><span class="ident" id="4184645"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4184646">.</span><span class="ident" id="4184647">Type</span><span class="op" id="4184651">(</span><span class="op" id="4184652">)</span><span class="op" id="4184653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184656">if</span>&nbsp;<span class="op" id="4184659">!</span><span class="ident" id="4184660"><a href="/encoding/asn1/marshal.go.html#4184622">ok</a></span>&nbsp;<span class="op" id="4184663">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4184667"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4184671">=</span>&nbsp;<span class="ident" id="4184673"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4184688">{</span><span class="ident" id="4184689"><a href="/encoding/asn1/marshal.go.html#4173590">fmt</a></span><span class="op" id="4184692">.</span><span class="ident" id="4184693">Sprintf</span><span class="op" id="4184700">(</span><span class="string" id="4184701">&#34;unknown&nbsp;Go&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="4184722">,</span>&nbsp;<span class="ident" id="4184724"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4184725">.</span><span class="ident" id="4184726">Type</span><span class="op" id="4184730">(</span><span class="op" id="4184731">)</span><span class="op" id="4184732">)</span><span class="op" id="4184733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184737">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4184748">class</span>&nbsp;<span class="op" id="4184754">:=</span>&nbsp;<span class="ident" id="4184757"><a href="/encoding/asn1/common.go.html#4169421">classUniversal</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184774">if</span>&nbsp;<span class="ident" id="4184777"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4184783">.</span><span class="ident" id="4184784">stringType</span>&nbsp;<span class="op" id="4184795">!=</span>&nbsp;<span class="num" id="4184798">0</span>&nbsp;<span class="op" id="4184800">&amp;&amp;</span>&nbsp;<span class="ident" id="4184803"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4184807">!=</span>&nbsp;<span class="ident" id="4184810"><a href="/encoding/asn1/common.go.html#4169260">tagPrintableString</a></span>&nbsp;<span class="op" id="4184829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184833">return</span>&nbsp;<span class="ident" id="4184840"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4184855">{</span><span class="string" id="4184856">&#34;explicit&nbsp;string&nbsp;type&nbsp;given&nbsp;to&nbsp;non-string&nbsp;member&#34;</span><span class="op" id="4184905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4184908">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184912">switch</span>&nbsp;<span class="ident" id="4184919"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4184923">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184926">case</span>&nbsp;<span class="ident" id="4184931"><a href="/encoding/asn1/common.go.html#4169260">tagPrintableString</a></span><span class="op" id="4184949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4184953">if</span>&nbsp;<span class="ident" id="4184956"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4184962">.</span><span class="ident" id="4184963">stringType</span>&nbsp;<span class="op" id="4184974">==</span>&nbsp;<span class="num" id="4184977">0</span>&nbsp;<span class="op" id="4184979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4184984">//&nbsp;This&nbsp;is&nbsp;a&nbsp;string&nbsp;without&nbsp;an&nbsp;explicit&nbsp;string&nbsp;type.&nbsp;We&#39;ll&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4185050">//&nbsp;a&nbsp;PrintableString&nbsp;if&nbsp;the&nbsp;character&nbsp;set&nbsp;in&nbsp;the&nbsp;string&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4185112">//&nbsp;sufficiently&nbsp;limited,&nbsp;otherwise&nbsp;we&#39;ll&nbsp;use&nbsp;a&nbsp;UTF8String.</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185174">for</span>&nbsp;<span class="ident" id="4185178">_</span><span class="op" id="4185179">,</span>&nbsp;<span class="ident" id="4185181">r</span>&nbsp;<span class="op" id="4185183">:=</span>&nbsp;<span class="keyword" id="4185186">range</span>&nbsp;<span class="ident" id="4185192"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4185193">.</span><span class="ident" id="4185194">String</span><span class="op" id="4185200">(</span><span class="op" id="4185201">)</span>&nbsp;<span class="op" id="4185203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185209">if</span>&nbsp;<span class="ident" id="4185212"><a href="/encoding/asn1/marshal.go.html#4185181">r</a></span>&nbsp;<span class="op" id="4185214">&gt;=</span>&nbsp;<span class="ident" id="4185217"><a href="/encoding/asn1/marshal.go.html#4173634">utf8</a></span><span class="op" id="4185221">.</span><span class="ident" id="4185222">RuneSelf</span>&nbsp;<span class="op" id="4185231">||</span>&nbsp;<span class="op" id="4185234">!</span><span class="ident" id="4185235"><a href="/encoding/asn1/asn1.go.html#4150942">isPrintable</a></span><span class="op" id="4185246">(</span><span class="builtintype" id="4185247">byte</span><span class="op" id="4185251">(</span><span class="ident" id="4185252"><a href="/encoding/asn1/marshal.go.html#4185181">r</a></span><span class="op" id="4185253">)</span><span class="op" id="4185254">)</span>&nbsp;<span class="op" id="4185256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185263">if</span>&nbsp;<span class="op" id="4185266">!</span><span class="ident" id="4185267"><a href="/encoding/asn1/marshal.go.html#4173634">utf8</a></span><span class="op" id="4185271">.</span><span class="ident" id="4185272">ValidString</span><span class="op" id="4185283">(</span><span class="ident" id="4185284"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4185285">.</span><span class="ident" id="4185286">String</span><span class="op" id="4185292">(</span><span class="op" id="4185293">)</span><span class="op" id="4185294">)</span>&nbsp;<span class="op" id="4185296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185304">return</span>&nbsp;<span class="ident" id="4185311"><a href="/encoding/asn1/marshal.go.html#4173580">errors</a></span><span class="op" id="4185317">.</span><span class="ident" id="4185318">New</span><span class="op" id="4185321">(</span><span class="string" id="4185322">&#34;asn1:&nbsp;string&nbsp;not&nbsp;valid&nbsp;UTF-8&#34;</span><span class="op" id="4185352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185359">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185366"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4185370">=</span>&nbsp;<span class="ident" id="4185372"><a href="/encoding/asn1/common.go.html#4169185">tagUTF8String</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185391">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185410">}</span>&nbsp;<span class="keyword" id="4185412">else</span>&nbsp;<span class="op" id="4185417">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185422"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4185426">=</span>&nbsp;<span class="ident" id="4185428"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4185434">.</span><span class="ident" id="4185435">stringType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185451">case</span>&nbsp;<span class="ident" id="4185456"><a href="/encoding/asn1/common.go.html#4169335">tagUTCTime</a></span><span class="op" id="4185466">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185470">if</span>&nbsp;<span class="ident" id="4185473"><a href="/encoding/asn1/marshal.go.html#4179034">outsideUTCRange</a></span><span class="op" id="4185488">(</span><span class="ident" id="4185489"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4185490">.</span><span class="ident" id="4185491">Interface</span><span class="op" id="4185500">(</span><span class="op" id="4185501">)</span><span class="op" id="4185502">.</span><span class="op" id="4185503">(</span><span class="ident" id="4185504"><a href="/encoding/asn1/marshal.go.html#4173626">time</a></span><span class="op" id="4185508">.</span><span class="ident" id="4185509">Time</span><span class="op" id="4185513">)</span><span class="op" id="4185514">)</span>&nbsp;<span class="op" id="4185516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185521"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4185525">=</span>&nbsp;<span class="ident" id="4185527"><a href="/encoding/asn1/common.go.html#4169360">tagGeneralizedTime</a></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185555">if</span>&nbsp;<span class="ident" id="4185558"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4185564">.</span><span class="ident" id="4185565">set</span>&nbsp;<span class="op" id="4185569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185573">if</span>&nbsp;<span class="ident" id="4185576"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4185580">!=</span>&nbsp;<span class="ident" id="4185583"><a href="/encoding/asn1/common.go.html#4169210">tagSequence</a></span>&nbsp;<span class="op" id="4185595">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185600">return</span>&nbsp;<span class="ident" id="4185607"><a href="/encoding/asn1/asn1.go.html#4143827">StructuralError</a></span><span class="op" id="4185622">{</span><span class="string" id="4185623">&#34;non&nbsp;sequence&nbsp;tagged&nbsp;as&nbsp;set&#34;</span><span class="op" id="4185651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185659"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4185663">=</span>&nbsp;<span class="ident" id="4185665"><a href="/encoding/asn1/common.go.html#4169235">tagSet</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185677">tags</span><span class="op" id="4185681">,</span>&nbsp;<span class="ident" id="4185683">body</span>&nbsp;<span class="op" id="4185688">:=</span>&nbsp;<span class="ident" id="4185691"><a href="/encoding/asn1/marshal.go.html#4183353">out</a></span><span class="op" id="4185694">.</span><span class="ident" id="4185695">fork</span><span class="op" id="4185699">(</span><span class="op" id="4185700">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185704"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4185708">=</span>&nbsp;<span class="ident" id="4185710"><a href="/encoding/asn1/marshal.go.html#4180872">marshalBody</a></span><span class="op" id="4185721">(</span><span class="ident" id="4185722"><a href="/encoding/asn1/marshal.go.html#4185683">body</a></span><span class="op" id="4185726">,</span>&nbsp;<span class="ident" id="4185728"><a href="/encoding/asn1/marshal.go.html#4183374">v</a></span><span class="op" id="4185729">,</span>&nbsp;<span class="ident" id="4185731"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4185737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185740">if</span>&nbsp;<span class="ident" id="4185743"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4185747">!=</span>&nbsp;<span class="ident" id="4185750">nil</span>&nbsp;<span class="op" id="4185754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185758">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185770">bodyLen</span>&nbsp;<span class="op" id="4185778">:=</span>&nbsp;<span class="ident" id="4185781"><a href="/encoding/asn1/marshal.go.html#4185683">body</a></span><span class="op" id="4185785">.</span><span class="ident" id="4185786">Len</span><span class="op" id="4185789">(</span><span class="op" id="4185790">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185794">var</span>&nbsp;<span class="ident" id="4185798">explicitTag</span>&nbsp;<span class="op" id="4185810">*</span><span class="ident" id="4185811"><a href="/encoding/asn1/marshal.go.html#4173890">forkableWriter</a></span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185827">if</span>&nbsp;<span class="ident" id="4185830"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4185836">.</span><span class="ident" id="4185837">explicit</span>&nbsp;<span class="op" id="4185846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185850"><a href="/encoding/asn1/marshal.go.html#4185798">explicitTag</a></span><span class="op" id="4185861">,</span>&nbsp;<span class="ident" id="4185863"><a href="/encoding/asn1/marshal.go.html#4185677">tags</a></span>&nbsp;<span class="op" id="4185868">=</span>&nbsp;<span class="ident" id="4185870"><a href="/encoding/asn1/marshal.go.html#4185677">tags</a></span><span class="op" id="4185874">.</span><span class="ident" id="4185875">fork</span><span class="op" id="4185879">(</span><span class="op" id="4185880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4185883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4185887">if</span>&nbsp;<span class="op" id="4185890">!</span><span class="ident" id="4185891"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4185897">.</span><span class="ident" id="4185898">explicit</span>&nbsp;<span class="op" id="4185907">&amp;&amp;</span>&nbsp;<span class="ident" id="4185910"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4185916">.</span><span class="ident" id="4185917">tag</span>&nbsp;<span class="op" id="4185921">!=</span>&nbsp;<span class="ident" id="4185924">nil</span>&nbsp;<span class="op" id="4185928">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4185932">//&nbsp;implicit&nbsp;tag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185951"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span>&nbsp;<span class="op" id="4185955">=</span>&nbsp;<span class="op" id="4185957">*</span><span class="ident" id="4185958"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4185964">.</span><span class="ident" id="4185965">tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4185971"><a href="/encoding/asn1/marshal.go.html#4184748">class</a></span>&nbsp;<span class="op" id="4185977">=</span>&nbsp;<span class="ident" id="4185979"><a href="/encoding/asn1/common.go.html#4169473">classContextSpecific</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4186001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186005"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4186009">=</span>&nbsp;<span class="ident" id="4186011"><a href="/encoding/asn1/marshal.go.html#4176764">marshalTagAndLength</a></span><span class="op" id="4186030">(</span><span class="ident" id="4186031"><a href="/encoding/asn1/marshal.go.html#4185677">tags</a></span><span class="op" id="4186035">,</span>&nbsp;<span class="ident" id="4186037"><a href="/encoding/asn1/common.go.html#4169532">tagAndLength</a></span><span class="op" id="4186049">{</span><span class="ident" id="4186050"><a href="/encoding/asn1/marshal.go.html#4184748">class</a></span><span class="op" id="4186055">,</span>&nbsp;<span class="ident" id="4186057"><a href="/encoding/asn1/marshal.go.html#4184605">tag</a></span><span class="op" id="4186060">,</span>&nbsp;<span class="ident" id="4186062"><a href="/encoding/asn1/marshal.go.html#4185770">bodyLen</a></span><span class="op" id="4186069">,</span>&nbsp;<span class="ident" id="4186071"><a href="/encoding/asn1/marshal.go.html#4184610">isCompound</a></span><span class="op" id="4186081">}</span><span class="op" id="4186082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186085">if</span>&nbsp;<span class="ident" id="4186088"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4186092">!=</span>&nbsp;<span class="ident" id="4186095">nil</span>&nbsp;<span class="op" id="4186099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186103">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4186111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186115">if</span>&nbsp;<span class="ident" id="4186118"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4186124">.</span><span class="ident" id="4186125">explicit</span>&nbsp;<span class="op" id="4186134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186138"><a href="/encoding/asn1/marshal.go.html#4183416">err</a></span>&nbsp;<span class="op" id="4186142">=</span>&nbsp;<span class="ident" id="4186144"><a href="/encoding/asn1/marshal.go.html#4176764">marshalTagAndLength</a></span><span class="op" id="4186163">(</span><span class="ident" id="4186164"><a href="/encoding/asn1/marshal.go.html#4185798">explicitTag</a></span><span class="op" id="4186175">,</span>&nbsp;<span class="ident" id="4186177"><a href="/encoding/asn1/common.go.html#4169532">tagAndLength</a></span><span class="op" id="4186189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186194">class</span><span class="op" id="4186199">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4186206"><a href="/encoding/asn1/common.go.html#4169473">classContextSpecific</a></span><span class="op" id="4186226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186231">tag</span><span class="op" id="4186234">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4186243">*</span><span class="ident" id="4186244"><a href="/encoding/asn1/marshal.go.html#4183391">params</a></span><span class="op" id="4186250">.</span><span class="ident" id="4186251">tag</span><span class="op" id="4186254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186259">length</span><span class="op" id="4186265">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4186271"><a href="/encoding/asn1/marshal.go.html#4185770">bodyLen</a></span>&nbsp;<span class="op" id="4186279">+</span>&nbsp;<span class="ident" id="4186281"><a href="/encoding/asn1/marshal.go.html#4185677">tags</a></span><span class="op" id="4186285">.</span><span class="ident" id="4186286">Len</span><span class="op" id="4186289">(</span><span class="op" id="4186290">)</span><span class="op" id="4186291">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186296">isCompound</span><span class="op" id="4186306">:</span>&nbsp;<span class="builtintype" id="4186308">true</span><span class="op" id="4186312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4186316">}</span><span class="op" id="4186317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4186320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186324">return</span>&nbsp;<span class="ident" id="4186331">nil</span><br>
<span class="lineno">625</span><span class="op" id="4186335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4186338">//&nbsp;Marshal&nbsp;returns&nbsp;the&nbsp;ASN.1&nbsp;encoding&nbsp;of&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="4186384">//</span><br>
<span class="lineno"></span><span class="comment" id="4186387">//&nbsp;In&nbsp;addition&nbsp;to&nbsp;the&nbsp;struct&nbsp;tags&nbsp;recognised&nbsp;by&nbsp;Unmarshal,&nbsp;the&nbsp;following&nbsp;can&nbsp;be</span><br>
<span class="lineno">630</span><span class="comment" id="4186467">//&nbsp;used:</span><br>
<span class="lineno"></span><span class="comment" id="4186476">//</span><br>
<span class="lineno"></span><span class="comment" id="4186479">//&nbsp;&nbsp;&nbsp;&nbspia5:&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;IA5&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="4186541">//&nbsp;&nbsp;&nbsp;&nbspomitempty:&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;empty&nbsp;slices&nbsp;to&nbsp;be&nbsp;skipped</span><br>
<span class="lineno"></span><span class="comment" id="4186589">//&nbsp;&nbsp;&nbsp;&nbspprintable:&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;PrintableString&nbsp;strings.</span><br>
<span class="lineno">635</span><span class="comment" id="4186669">//&nbsp;&nbsp;&nbsp;&nbsputf8:&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;UTF8&nbsp;strings</span><br>
<span class="lineno"></span><span class="keyword" id="4186733">func</span>&nbsp;<span class="ident" id="4186738">Marshal</span><span class="op" id="4186745">(</span><span class="ident" id="4186746">val</span>&nbsp;<span class="keyword" id="4186750">interface</span><span class="op" id="4186759">{</span><span class="op" id="4186760">}</span><span class="op" id="4186761">)</span>&nbsp;<span class="op" id="4186763">(</span><span class="op" id="4186764">[</span><span class="op" id="4186765">]</span><span class="builtintype" id="4186766">byte</span><span class="op" id="4186770">,</span>&nbsp;<span class="builtintype" id="4186772">error</span><span class="op" id="4186777">)</span>&nbsp;<span class="op" id="4186779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186782">var</span>&nbsp;<span class="ident" id="4186786">out</span>&nbsp;<span class="ident" id="4186790"><a href="/encoding/asn1/marshal.go.html#4173571">bytes</a></span><span class="op" id="4186795">.</span><span class="ident" id="4186796">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186804">v</span>&nbsp;<span class="op" id="4186806">:=</span>&nbsp;<span class="ident" id="4186809"><a href="/encoding/asn1/marshal.go.html#4173615">reflect</a></span><span class="op" id="4186816">.</span><span class="ident" id="4186817">ValueOf</span><span class="op" id="4186824">(</span><span class="ident" id="4186825"><a href="/encoding/asn1/marshal.go.html#4186746">val</a></span><span class="op" id="4186828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186831">f</span>&nbsp;<span class="op" id="4186833">:=</span>&nbsp;<span class="ident" id="4186836"><a href="/encoding/asn1/marshal.go.html#4173964">newForkableWriter</a></span><span class="op" id="4186853">(</span><span class="op" id="4186854">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186857">err</span>&nbsp;<span class="op" id="4186861">:=</span>&nbsp;<span class="ident" id="4186864"><a href="/encoding/asn1/marshal.go.html#4183340">marshalField</a></span><span class="op" id="4186876">(</span><span class="ident" id="4186877"><a href="/encoding/asn1/marshal.go.html#4186831">f</a></span><span class="op" id="4186878">,</span>&nbsp;<span class="ident" id="4186880"><a href="/encoding/asn1/marshal.go.html#4186804">v</a></span><span class="op" id="4186881">,</span>&nbsp;<span class="ident" id="4186883"><a href="/encoding/asn1/common.go.html#4170591">fieldParameters</a></span><span class="op" id="4186898">{</span><span class="op" id="4186899">}</span><span class="op" id="4186900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186903">if</span>&nbsp;<span class="ident" id="4186906"><a href="/encoding/asn1/marshal.go.html#4186857">err</a></span>&nbsp;<span class="op" id="4186910">!=</span>&nbsp;<span class="ident" id="4186913">nil</span>&nbsp;<span class="op" id="4186917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186921">return</span>&nbsp;<span class="ident" id="4186928">nil</span><span class="op" id="4186931">,</span>&nbsp;<span class="ident" id="4186933"><a href="/encoding/asn1/marshal.go.html#4186857">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4186938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4186941">_</span><span class="op" id="4186942">,</span>&nbsp;<span class="ident" id="4186944"><a href="/encoding/asn1/marshal.go.html#4186857">err</a></span>&nbsp;<span class="op" id="4186948">=</span>&nbsp;<span class="ident" id="4186950"><a href="/encoding/asn1/marshal.go.html#4186831">f</a></span><span class="op" id="4186951">.</span><span class="ident" id="4186952">writeTo</span><span class="op" id="4186959">(</span><span class="op" id="4186960">&amp;</span><span class="ident" id="4186961"><a href="/encoding/asn1/marshal.go.html#4186786">out</a></span><span class="op" id="4186964">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4186967">return</span>&nbsp;<span class="ident" id="4186974"><a href="/encoding/asn1/marshal.go.html#4186786">out</a></span><span class="op" id="4186977">.</span><span class="ident" id="4186978">Bytes</span><span class="op" id="4186983">(</span><span class="op" id="4186984">)</span><span class="op" id="4186985">,</span>&nbsp;<span class="ident" id="4186987">nil</span><br>
<span class="lineno"></span><span class="op" id="4186991">}</span>
</div>
</body>
</html>
