<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8231254">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8231310">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8231364">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8231415">package</span>&nbsp;<span class="ident" id="8231423">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231430">import</span>&nbsp;<span class="op" id="8231437">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8231440">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8231451">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8231461">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231464">type</span>&nbsp;<span class="ident" id="8231469">fileTest</span>&nbsp;<span class="keyword" id="8231478">struct</span>&nbsp;<span class="op" id="8231485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231488">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8231497">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231505">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8231514">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231526">segments</span>&nbsp;<span class="op" id="8231535">[</span><span class="op" id="8231536">]</span><span class="op" id="8231537">*</span><span class="ident" id="8231538">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231553">sections</span>&nbsp;<span class="op" id="8231562">[</span><span class="op" id="8231563">]</span><span class="op" id="8231564">*</span><span class="ident" id="8231565">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="8231579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8231582">var</span>&nbsp;<span class="ident" id="8231586">fileTests</span>&nbsp;<span class="op" id="8231596">=</span>&nbsp;<span class="op" id="8231598">[</span><span class="op" id="8231599">]</span><span class="ident" id="8231600">fileTest</span><span class="op" id="8231608">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8231615">&#34;testdata/gcc-386-darwin-exec&#34;</span><span class="op" id="8231645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8231649">FileHeader</span><span class="op" id="8231659">{</span><span class="num" id="8231660">0xfeedface</span><span class="op" id="8231670">,</span>&nbsp;<span class="ident" id="8231672">Cpu386</span><span class="op" id="8231678">,</span>&nbsp;<span class="num" id="8231680">0x3</span><span class="op" id="8231683">,</span>&nbsp;<span class="num" id="8231685">0x2</span><span class="op" id="8231688">,</span>&nbsp;<span class="num" id="8231690">0xc</span><span class="op" id="8231693">,</span>&nbsp;<span class="num" id="8231695">0x3c0</span><span class="op" id="8231700">,</span>&nbsp;<span class="num" id="8231702">0x85</span><span class="op" id="8231706">}</span><span class="op" id="8231707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231711">[</span><span class="op" id="8231712">]</span><span class="op" id="8231713">*</span><span class="ident" id="8231714">SegmentHeader</span><span class="op" id="8231727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231732">{</span><span class="ident" id="8231733">LoadCmdSegment</span><span class="op" id="8231747">,</span>&nbsp;<span class="num" id="8231749">0x38</span><span class="op" id="8231753">,</span>&nbsp;<span class="string" id="8231755">&#34;__PAGEZERO&#34;</span><span class="op" id="8231767">,</span>&nbsp;<span class="num" id="8231769">0x0</span><span class="op" id="8231772">,</span>&nbsp;<span class="num" id="8231774">0x1000</span><span class="op" id="8231780">,</span>&nbsp;<span class="num" id="8231782">0x0</span><span class="op" id="8231785">,</span>&nbsp;<span class="num" id="8231787">0x0</span><span class="op" id="8231790">,</span>&nbsp;<span class="num" id="8231792">0x0</span><span class="op" id="8231795">,</span>&nbsp;<span class="num" id="8231797">0x0</span><span class="op" id="8231800">,</span>&nbsp;<span class="num" id="8231802">0x0</span><span class="op" id="8231805">,</span>&nbsp;<span class="num" id="8231807">0x0</span><span class="op" id="8231810">}</span><span class="op" id="8231811">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231816">{</span><span class="ident" id="8231817">LoadCmdSegment</span><span class="op" id="8231831">,</span>&nbsp;<span class="num" id="8231833">0xc0</span><span class="op" id="8231837">,</span>&nbsp;<span class="string" id="8231839">&#34;__TEXT&#34;</span><span class="op" id="8231847">,</span>&nbsp;<span class="num" id="8231849">0x1000</span><span class="op" id="8231855">,</span>&nbsp;<span class="num" id="8231857">0x1000</span><span class="op" id="8231863">,</span>&nbsp;<span class="num" id="8231865">0x0</span><span class="op" id="8231868">,</span>&nbsp;<span class="num" id="8231870">0x1000</span><span class="op" id="8231876">,</span>&nbsp;<span class="num" id="8231878">0x7</span><span class="op" id="8231881">,</span>&nbsp;<span class="num" id="8231883">0x5</span><span class="op" id="8231886">,</span>&nbsp;<span class="num" id="8231888">0x2</span><span class="op" id="8231891">,</span>&nbsp;<span class="num" id="8231893">0x0</span><span class="op" id="8231896">}</span><span class="op" id="8231897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231902">{</span><span class="ident" id="8231903">LoadCmdSegment</span><span class="op" id="8231917">,</span>&nbsp;<span class="num" id="8231919">0xc0</span><span class="op" id="8231923">,</span>&nbsp;<span class="string" id="8231925">&#34;__DATA&#34;</span><span class="op" id="8231933">,</span>&nbsp;<span class="num" id="8231935">0x2000</span><span class="op" id="8231941">,</span>&nbsp;<span class="num" id="8231943">0x1000</span><span class="op" id="8231949">,</span>&nbsp;<span class="num" id="8231951">0x1000</span><span class="op" id="8231957">,</span>&nbsp;<span class="num" id="8231959">0x1000</span><span class="op" id="8231965">,</span>&nbsp;<span class="num" id="8231967">0x7</span><span class="op" id="8231970">,</span>&nbsp;<span class="num" id="8231972">0x3</span><span class="op" id="8231975">,</span>&nbsp;<span class="num" id="8231977">0x2</span><span class="op" id="8231980">,</span>&nbsp;<span class="num" id="8231982">0x0</span><span class="op" id="8231985">}</span><span class="op" id="8231986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8231991">{</span><span class="ident" id="8231992">LoadCmdSegment</span><span class="op" id="8232006">,</span>&nbsp;<span class="num" id="8232008">0x7c</span><span class="op" id="8232012">,</span>&nbsp;<span class="string" id="8232014">&#34;__IMPORT&#34;</span><span class="op" id="8232024">,</span>&nbsp;<span class="num" id="8232026">0x3000</span><span class="op" id="8232032">,</span>&nbsp;<span class="num" id="8232034">0x1000</span><span class="op" id="8232040">,</span>&nbsp;<span class="num" id="8232042">0x2000</span><span class="op" id="8232048">,</span>&nbsp;<span class="num" id="8232050">0x1000</span><span class="op" id="8232056">,</span>&nbsp;<span class="num" id="8232058">0x7</span><span class="op" id="8232061">,</span>&nbsp;<span class="num" id="8232063">0x7</span><span class="op" id="8232066">,</span>&nbsp;<span class="num" id="8232068">0x1</span><span class="op" id="8232071">,</span>&nbsp;<span class="num" id="8232073">0x0</span><span class="op" id="8232076">}</span><span class="op" id="8232077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232082">{</span><span class="ident" id="8232083">LoadCmdSegment</span><span class="op" id="8232097">,</span>&nbsp;<span class="num" id="8232099">0x38</span><span class="op" id="8232103">,</span>&nbsp;<span class="string" id="8232105">&#34;__LINKEDIT&#34;</span><span class="op" id="8232117">,</span>&nbsp;<span class="num" id="8232119">0x4000</span><span class="op" id="8232125">,</span>&nbsp;<span class="num" id="8232127">0x1000</span><span class="op" id="8232133">,</span>&nbsp;<span class="num" id="8232135">0x3000</span><span class="op" id="8232141">,</span>&nbsp;<span class="num" id="8232143">0x12c</span><span class="op" id="8232148">,</span>&nbsp;<span class="num" id="8232150">0x7</span><span class="op" id="8232153">,</span>&nbsp;<span class="num" id="8232155">0x1</span><span class="op" id="8232158">,</span>&nbsp;<span class="num" id="8232160">0x0</span><span class="op" id="8232163">,</span>&nbsp;<span class="num" id="8232165">0x0</span><span class="op" id="8232168">}</span><span class="op" id="8232169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232174">nil</span><span class="op" id="8232177">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232182">nil</span><span class="op" id="8232185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232190">nil</span><span class="op" id="8232193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232198">nil</span><span class="op" id="8232201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232206">nil</span><span class="op" id="8232209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232214">nil</span><span class="op" id="8232217">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232222">nil</span><span class="op" id="8232225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232229">}</span><span class="op" id="8232230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232234">[</span><span class="op" id="8232235">]</span><span class="op" id="8232236">*</span><span class="ident" id="8232237">SectionHeader</span><span class="op" id="8232250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232255">{</span><span class="string" id="8232256">&#34;__text&#34;</span><span class="op" id="8232264">,</span>&nbsp;<span class="string" id="8232266">&#34;__TEXT&#34;</span><span class="op" id="8232274">,</span>&nbsp;<span class="num" id="8232276">0x1f68</span><span class="op" id="8232282">,</span>&nbsp;<span class="num" id="8232284">0x88</span><span class="op" id="8232288">,</span>&nbsp;<span class="num" id="8232290">0xf68</span><span class="op" id="8232295">,</span>&nbsp;<span class="num" id="8232297">0x2</span><span class="op" id="8232300">,</span>&nbsp;<span class="num" id="8232302">0x0</span><span class="op" id="8232305">,</span>&nbsp;<span class="num" id="8232307">0x0</span><span class="op" id="8232310">,</span>&nbsp;<span class="num" id="8232312">0x80000400</span><span class="op" id="8232322">}</span><span class="op" id="8232323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232328">{</span><span class="string" id="8232329">&#34;__cstring&#34;</span><span class="op" id="8232340">,</span>&nbsp;<span class="string" id="8232342">&#34;__TEXT&#34;</span><span class="op" id="8232350">,</span>&nbsp;<span class="num" id="8232352">0x1ff0</span><span class="op" id="8232358">,</span>&nbsp;<span class="num" id="8232360">0xd</span><span class="op" id="8232363">,</span>&nbsp;<span class="num" id="8232365">0xff0</span><span class="op" id="8232370">,</span>&nbsp;<span class="num" id="8232372">0x0</span><span class="op" id="8232375">,</span>&nbsp;<span class="num" id="8232377">0x0</span><span class="op" id="8232380">,</span>&nbsp;<span class="num" id="8232382">0x0</span><span class="op" id="8232385">,</span>&nbsp;<span class="num" id="8232387">0x2</span><span class="op" id="8232390">}</span><span class="op" id="8232391">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232396">{</span><span class="string" id="8232397">&#34;__data&#34;</span><span class="op" id="8232405">,</span>&nbsp;<span class="string" id="8232407">&#34;__DATA&#34;</span><span class="op" id="8232415">,</span>&nbsp;<span class="num" id="8232417">0x2000</span><span class="op" id="8232423">,</span>&nbsp;<span class="num" id="8232425">0x14</span><span class="op" id="8232429">,</span>&nbsp;<span class="num" id="8232431">0x1000</span><span class="op" id="8232437">,</span>&nbsp;<span class="num" id="8232439">0x2</span><span class="op" id="8232442">,</span>&nbsp;<span class="num" id="8232444">0x0</span><span class="op" id="8232447">,</span>&nbsp;<span class="num" id="8232449">0x0</span><span class="op" id="8232452">,</span>&nbsp;<span class="num" id="8232454">0x0</span><span class="op" id="8232457">}</span><span class="op" id="8232458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232463">{</span><span class="string" id="8232464">&#34;__dyld&#34;</span><span class="op" id="8232472">,</span>&nbsp;<span class="string" id="8232474">&#34;__DATA&#34;</span><span class="op" id="8232482">,</span>&nbsp;<span class="num" id="8232484">0x2014</span><span class="op" id="8232490">,</span>&nbsp;<span class="num" id="8232492">0x1c</span><span class="op" id="8232496">,</span>&nbsp;<span class="num" id="8232498">0x1014</span><span class="op" id="8232504">,</span>&nbsp;<span class="num" id="8232506">0x2</span><span class="op" id="8232509">,</span>&nbsp;<span class="num" id="8232511">0x0</span><span class="op" id="8232514">,</span>&nbsp;<span class="num" id="8232516">0x0</span><span class="op" id="8232519">,</span>&nbsp;<span class="num" id="8232521">0x0</span><span class="op" id="8232524">}</span><span class="op" id="8232525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232530">{</span><span class="string" id="8232531">&#34;__jump_table&#34;</span><span class="op" id="8232545">,</span>&nbsp;<span class="string" id="8232547">&#34;__IMPORT&#34;</span><span class="op" id="8232557">,</span>&nbsp;<span class="num" id="8232559">0x3000</span><span class="op" id="8232565">,</span>&nbsp;<span class="num" id="8232567">0xa</span><span class="op" id="8232570">,</span>&nbsp;<span class="num" id="8232572">0x2000</span><span class="op" id="8232578">,</span>&nbsp;<span class="num" id="8232580">0x6</span><span class="op" id="8232583">,</span>&nbsp;<span class="num" id="8232585">0x0</span><span class="op" id="8232588">,</span>&nbsp;<span class="num" id="8232590">0x0</span><span class="op" id="8232593">,</span>&nbsp;<span class="num" id="8232595">0x4000008</span><span class="op" id="8232604">}</span><span class="op" id="8232605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232609">}</span><span class="op" id="8232610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232613">}</span><span class="op" id="8232614">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8232621">&#34;testdata/gcc-amd64-darwin-exec&#34;</span><span class="op" id="8232653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8232657">FileHeader</span><span class="op" id="8232667">{</span><span class="num" id="8232668">0xfeedfacf</span><span class="op" id="8232678">,</span>&nbsp;<span class="ident" id="8232680">CpuAmd64</span><span class="op" id="8232688">,</span>&nbsp;<span class="num" id="8232690">0x80000003</span><span class="op" id="8232700">,</span>&nbsp;<span class="num" id="8232702">0x2</span><span class="op" id="8232705">,</span>&nbsp;<span class="num" id="8232707">0xb</span><span class="op" id="8232710">,</span>&nbsp;<span class="num" id="8232712">0x568</span><span class="op" id="8232717">,</span>&nbsp;<span class="num" id="8232719">0x85</span><span class="op" id="8232723">}</span><span class="op" id="8232724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232728">[</span><span class="op" id="8232729">]</span><span class="op" id="8232730">*</span><span class="ident" id="8232731">SegmentHeader</span><span class="op" id="8232744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232749">{</span><span class="ident" id="8232750">LoadCmdSegment64</span><span class="op" id="8232766">,</span>&nbsp;<span class="num" id="8232768">0x48</span><span class="op" id="8232772">,</span>&nbsp;<span class="string" id="8232774">&#34;__PAGEZERO&#34;</span><span class="op" id="8232786">,</span>&nbsp;<span class="num" id="8232788">0x0</span><span class="op" id="8232791">,</span>&nbsp;<span class="num" id="8232793">0x100000000</span><span class="op" id="8232804">,</span>&nbsp;<span class="num" id="8232806">0x0</span><span class="op" id="8232809">,</span>&nbsp;<span class="num" id="8232811">0x0</span><span class="op" id="8232814">,</span>&nbsp;<span class="num" id="8232816">0x0</span><span class="op" id="8232819">,</span>&nbsp;<span class="num" id="8232821">0x0</span><span class="op" id="8232824">,</span>&nbsp;<span class="num" id="8232826">0x0</span><span class="op" id="8232829">,</span>&nbsp;<span class="num" id="8232831">0x0</span><span class="op" id="8232834">}</span><span class="op" id="8232835">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232840">{</span><span class="ident" id="8232841">LoadCmdSegment64</span><span class="op" id="8232857">,</span>&nbsp;<span class="num" id="8232859">0x1d8</span><span class="op" id="8232864">,</span>&nbsp;<span class="string" id="8232866">&#34;__TEXT&#34;</span><span class="op" id="8232874">,</span>&nbsp;<span class="num" id="8232876">0x100000000</span><span class="op" id="8232887">,</span>&nbsp;<span class="num" id="8232889">0x1000</span><span class="op" id="8232895">,</span>&nbsp;<span class="num" id="8232897">0x0</span><span class="op" id="8232900">,</span>&nbsp;<span class="num" id="8232902">0x1000</span><span class="op" id="8232908">,</span>&nbsp;<span class="num" id="8232910">0x7</span><span class="op" id="8232913">,</span>&nbsp;<span class="num" id="8232915">0x5</span><span class="op" id="8232918">,</span>&nbsp;<span class="num" id="8232920">0x5</span><span class="op" id="8232923">,</span>&nbsp;<span class="num" id="8232925">0x0</span><span class="op" id="8232928">}</span><span class="op" id="8232929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8232934">{</span><span class="ident" id="8232935">LoadCmdSegment64</span><span class="op" id="8232951">,</span>&nbsp;<span class="num" id="8232953">0x138</span><span class="op" id="8232958">,</span>&nbsp;<span class="string" id="8232960">&#34;__DATA&#34;</span><span class="op" id="8232968">,</span>&nbsp;<span class="num" id="8232970">0x100001000</span><span class="op" id="8232981">,</span>&nbsp;<span class="num" id="8232983">0x1000</span><span class="op" id="8232989">,</span>&nbsp;<span class="num" id="8232991">0x1000</span><span class="op" id="8232997">,</span>&nbsp;<span class="num" id="8232999">0x1000</span><span class="op" id="8233005">,</span>&nbsp;<span class="num" id="8233007">0x7</span><span class="op" id="8233010">,</span>&nbsp;<span class="num" id="8233012">0x3</span><span class="op" id="8233015">,</span>&nbsp;<span class="num" id="8233017">0x3</span><span class="op" id="8233020">,</span>&nbsp;<span class="num" id="8233022">0x0</span><span class="op" id="8233025">}</span><span class="op" id="8233026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233031">{</span><span class="ident" id="8233032">LoadCmdSegment64</span><span class="op" id="8233048">,</span>&nbsp;<span class="num" id="8233050">0x48</span><span class="op" id="8233054">,</span>&nbsp;<span class="string" id="8233056">&#34;__LINKEDIT&#34;</span><span class="op" id="8233068">,</span>&nbsp;<span class="num" id="8233070">0x100002000</span><span class="op" id="8233081">,</span>&nbsp;<span class="num" id="8233083">0x1000</span><span class="op" id="8233089">,</span>&nbsp;<span class="num" id="8233091">0x2000</span><span class="op" id="8233097">,</span>&nbsp;<span class="num" id="8233099">0x140</span><span class="op" id="8233104">,</span>&nbsp;<span class="num" id="8233106">0x7</span><span class="op" id="8233109">,</span>&nbsp;<span class="num" id="8233111">0x1</span><span class="op" id="8233114">,</span>&nbsp;<span class="num" id="8233116">0x0</span><span class="op" id="8233119">,</span>&nbsp;<span class="num" id="8233121">0x0</span><span class="op" id="8233124">}</span><span class="op" id="8233125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233130">nil</span><span class="op" id="8233133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233138">nil</span><span class="op" id="8233141">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233146">nil</span><span class="op" id="8233149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233154">nil</span><span class="op" id="8233157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233162">nil</span><span class="op" id="8233165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233170">nil</span><span class="op" id="8233173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233178">nil</span><span class="op" id="8233181">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233185">}</span><span class="op" id="8233186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233190">[</span><span class="op" id="8233191">]</span><span class="op" id="8233192">*</span><span class="ident" id="8233193">SectionHeader</span><span class="op" id="8233206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233211">{</span><span class="string" id="8233212">&#34;__text&#34;</span><span class="op" id="8233220">,</span>&nbsp;<span class="string" id="8233222">&#34;__TEXT&#34;</span><span class="op" id="8233230">,</span>&nbsp;<span class="num" id="8233232">0x100000f14</span><span class="op" id="8233243">,</span>&nbsp;<span class="num" id="8233245">0x6d</span><span class="op" id="8233249">,</span>&nbsp;<span class="num" id="8233251">0xf14</span><span class="op" id="8233256">,</span>&nbsp;<span class="num" id="8233258">0x2</span><span class="op" id="8233261">,</span>&nbsp;<span class="num" id="8233263">0x0</span><span class="op" id="8233266">,</span>&nbsp;<span class="num" id="8233268">0x0</span><span class="op" id="8233271">,</span>&nbsp;<span class="num" id="8233273">0x80000400</span><span class="op" id="8233283">}</span><span class="op" id="8233284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233289">{</span><span class="string" id="8233290">&#34;__symbol_stub1&#34;</span><span class="op" id="8233306">,</span>&nbsp;<span class="string" id="8233308">&#34;__TEXT&#34;</span><span class="op" id="8233316">,</span>&nbsp;<span class="num" id="8233318">0x100000f81</span><span class="op" id="8233329">,</span>&nbsp;<span class="num" id="8233331">0xc</span><span class="op" id="8233334">,</span>&nbsp;<span class="num" id="8233336">0xf81</span><span class="op" id="8233341">,</span>&nbsp;<span class="num" id="8233343">0x0</span><span class="op" id="8233346">,</span>&nbsp;<span class="num" id="8233348">0x0</span><span class="op" id="8233351">,</span>&nbsp;<span class="num" id="8233353">0x0</span><span class="op" id="8233356">,</span>&nbsp;<span class="num" id="8233358">0x80000408</span><span class="op" id="8233368">}</span><span class="op" id="8233369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233374">{</span><span class="string" id="8233375">&#34;__stub_helper&#34;</span><span class="op" id="8233390">,</span>&nbsp;<span class="string" id="8233392">&#34;__TEXT&#34;</span><span class="op" id="8233400">,</span>&nbsp;<span class="num" id="8233402">0x100000f90</span><span class="op" id="8233413">,</span>&nbsp;<span class="num" id="8233415">0x18</span><span class="op" id="8233419">,</span>&nbsp;<span class="num" id="8233421">0xf90</span><span class="op" id="8233426">,</span>&nbsp;<span class="num" id="8233428">0x2</span><span class="op" id="8233431">,</span>&nbsp;<span class="num" id="8233433">0x0</span><span class="op" id="8233436">,</span>&nbsp;<span class="num" id="8233438">0x0</span><span class="op" id="8233441">,</span>&nbsp;<span class="num" id="8233443">0x0</span><span class="op" id="8233446">}</span><span class="op" id="8233447">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233452">{</span><span class="string" id="8233453">&#34;__cstring&#34;</span><span class="op" id="8233464">,</span>&nbsp;<span class="string" id="8233466">&#34;__TEXT&#34;</span><span class="op" id="8233474">,</span>&nbsp;<span class="num" id="8233476">0x100000fa8</span><span class="op" id="8233487">,</span>&nbsp;<span class="num" id="8233489">0xd</span><span class="op" id="8233492">,</span>&nbsp;<span class="num" id="8233494">0xfa8</span><span class="op" id="8233499">,</span>&nbsp;<span class="num" id="8233501">0x0</span><span class="op" id="8233504">,</span>&nbsp;<span class="num" id="8233506">0x0</span><span class="op" id="8233509">,</span>&nbsp;<span class="num" id="8233511">0x0</span><span class="op" id="8233514">,</span>&nbsp;<span class="num" id="8233516">0x2</span><span class="op" id="8233519">}</span><span class="op" id="8233520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233525">{</span><span class="string" id="8233526">&#34;__eh_frame&#34;</span><span class="op" id="8233538">,</span>&nbsp;<span class="string" id="8233540">&#34;__TEXT&#34;</span><span class="op" id="8233548">,</span>&nbsp;<span class="num" id="8233550">0x100000fb8</span><span class="op" id="8233561">,</span>&nbsp;<span class="num" id="8233563">0x48</span><span class="op" id="8233567">,</span>&nbsp;<span class="num" id="8233569">0xfb8</span><span class="op" id="8233574">,</span>&nbsp;<span class="num" id="8233576">0x3</span><span class="op" id="8233579">,</span>&nbsp;<span class="num" id="8233581">0x0</span><span class="op" id="8233584">,</span>&nbsp;<span class="num" id="8233586">0x0</span><span class="op" id="8233589">,</span>&nbsp;<span class="num" id="8233591">0x6000000b</span><span class="op" id="8233601">}</span><span class="op" id="8233602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233607">{</span><span class="string" id="8233608">&#34;__data&#34;</span><span class="op" id="8233616">,</span>&nbsp;<span class="string" id="8233618">&#34;__DATA&#34;</span><span class="op" id="8233626">,</span>&nbsp;<span class="num" id="8233628">0x100001000</span><span class="op" id="8233639">,</span>&nbsp;<span class="num" id="8233641">0x1c</span><span class="op" id="8233645">,</span>&nbsp;<span class="num" id="8233647">0x1000</span><span class="op" id="8233653">,</span>&nbsp;<span class="num" id="8233655">0x3</span><span class="op" id="8233658">,</span>&nbsp;<span class="num" id="8233660">0x0</span><span class="op" id="8233663">,</span>&nbsp;<span class="num" id="8233665">0x0</span><span class="op" id="8233668">,</span>&nbsp;<span class="num" id="8233670">0x0</span><span class="op" id="8233673">}</span><span class="op" id="8233674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233679">{</span><span class="string" id="8233680">&#34;__dyld&#34;</span><span class="op" id="8233688">,</span>&nbsp;<span class="string" id="8233690">&#34;__DATA&#34;</span><span class="op" id="8233698">,</span>&nbsp;<span class="num" id="8233700">0x100001020</span><span class="op" id="8233711">,</span>&nbsp;<span class="num" id="8233713">0x38</span><span class="op" id="8233717">,</span>&nbsp;<span class="num" id="8233719">0x1020</span><span class="op" id="8233725">,</span>&nbsp;<span class="num" id="8233727">0x3</span><span class="op" id="8233730">,</span>&nbsp;<span class="num" id="8233732">0x0</span><span class="op" id="8233735">,</span>&nbsp;<span class="num" id="8233737">0x0</span><span class="op" id="8233740">,</span>&nbsp;<span class="num" id="8233742">0x0</span><span class="op" id="8233745">}</span><span class="op" id="8233746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233751">{</span><span class="string" id="8233752">&#34;__la_symbol_ptr&#34;</span><span class="op" id="8233769">,</span>&nbsp;<span class="string" id="8233771">&#34;__DATA&#34;</span><span class="op" id="8233779">,</span>&nbsp;<span class="num" id="8233781">0x100001058</span><span class="op" id="8233792">,</span>&nbsp;<span class="num" id="8233794">0x10</span><span class="op" id="8233798">,</span>&nbsp;<span class="num" id="8233800">0x1058</span><span class="op" id="8233806">,</span>&nbsp;<span class="num" id="8233808">0x2</span><span class="op" id="8233811">,</span>&nbsp;<span class="num" id="8233813">0x0</span><span class="op" id="8233816">,</span>&nbsp;<span class="num" id="8233818">0x0</span><span class="op" id="8233821">,</span>&nbsp;<span class="num" id="8233823">0x7</span><span class="op" id="8233826">}</span><span class="op" id="8233827">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233831">}</span><span class="op" id="8233832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233835">}</span><span class="op" id="8233836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8233843">&#34;testdata/gcc-amd64-darwin-exec-debug&#34;</span><span class="op" id="8233881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233885">FileHeader</span><span class="op" id="8233895">{</span><span class="num" id="8233896">0xfeedfacf</span><span class="op" id="8233906">,</span>&nbsp;<span class="ident" id="8233908">CpuAmd64</span><span class="op" id="8233916">,</span>&nbsp;<span class="num" id="8233918">0x80000003</span><span class="op" id="8233928">,</span>&nbsp;<span class="num" id="8233930">0xa</span><span class="op" id="8233933">,</span>&nbsp;<span class="num" id="8233935">0x4</span><span class="op" id="8233938">,</span>&nbsp;<span class="num" id="8233940">0x5a0</span><span class="op" id="8233945">,</span>&nbsp;<span class="num" id="8233947">0</span><span class="op" id="8233948">}</span><span class="op" id="8233949">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233953">[</span><span class="op" id="8233954">]</span><span class="op" id="8233955">*</span><span class="ident" id="8233956">SegmentHeader</span><span class="op" id="8233969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8233974">nil</span><span class="op" id="8233977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8233982">{</span><span class="ident" id="8233983">LoadCmdSegment64</span><span class="op" id="8233999">,</span>&nbsp;<span class="num" id="8234001">0x1d8</span><span class="op" id="8234006">,</span>&nbsp;<span class="string" id="8234008">&#34;__TEXT&#34;</span><span class="op" id="8234016">,</span>&nbsp;<span class="num" id="8234018">0x100000000</span><span class="op" id="8234029">,</span>&nbsp;<span class="num" id="8234031">0x1000</span><span class="op" id="8234037">,</span>&nbsp;<span class="num" id="8234039">0x0</span><span class="op" id="8234042">,</span>&nbsp;<span class="num" id="8234044">0x0</span><span class="op" id="8234047">,</span>&nbsp;<span class="num" id="8234049">0x7</span><span class="op" id="8234052">,</span>&nbsp;<span class="num" id="8234054">0x5</span><span class="op" id="8234057">,</span>&nbsp;<span class="num" id="8234059">0x5</span><span class="op" id="8234062">,</span>&nbsp;<span class="num" id="8234064">0x0</span><span class="op" id="8234067">}</span><span class="op" id="8234068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234073">{</span><span class="ident" id="8234074">LoadCmdSegment64</span><span class="op" id="8234090">,</span>&nbsp;<span class="num" id="8234092">0x138</span><span class="op" id="8234097">,</span>&nbsp;<span class="string" id="8234099">&#34;__DATA&#34;</span><span class="op" id="8234107">,</span>&nbsp;<span class="num" id="8234109">0x100001000</span><span class="op" id="8234120">,</span>&nbsp;<span class="num" id="8234122">0x1000</span><span class="op" id="8234128">,</span>&nbsp;<span class="num" id="8234130">0x0</span><span class="op" id="8234133">,</span>&nbsp;<span class="num" id="8234135">0x0</span><span class="op" id="8234138">,</span>&nbsp;<span class="num" id="8234140">0x7</span><span class="op" id="8234143">,</span>&nbsp;<span class="num" id="8234145">0x3</span><span class="op" id="8234148">,</span>&nbsp;<span class="num" id="8234150">0x3</span><span class="op" id="8234153">,</span>&nbsp;<span class="num" id="8234155">0x0</span><span class="op" id="8234158">}</span><span class="op" id="8234159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234164">{</span><span class="ident" id="8234165">LoadCmdSegment64</span><span class="op" id="8234181">,</span>&nbsp;<span class="num" id="8234183">0x278</span><span class="op" id="8234188">,</span>&nbsp;<span class="string" id="8234190">&#34;__DWARF&#34;</span><span class="op" id="8234199">,</span>&nbsp;<span class="num" id="8234201">0x100002000</span><span class="op" id="8234212">,</span>&nbsp;<span class="num" id="8234214">0x1000</span><span class="op" id="8234220">,</span>&nbsp;<span class="num" id="8234222">0x1000</span><span class="op" id="8234228">,</span>&nbsp;<span class="num" id="8234230">0x1bc</span><span class="op" id="8234235">,</span>&nbsp;<span class="num" id="8234237">0x7</span><span class="op" id="8234240">,</span>&nbsp;<span class="num" id="8234242">0x3</span><span class="op" id="8234245">,</span>&nbsp;<span class="num" id="8234247">0x7</span><span class="op" id="8234250">,</span>&nbsp;<span class="num" id="8234252">0x0</span><span class="op" id="8234255">}</span><span class="op" id="8234256">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234260">}</span><span class="op" id="8234261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234265">[</span><span class="op" id="8234266">]</span><span class="op" id="8234267">*</span><span class="ident" id="8234268">SectionHeader</span><span class="op" id="8234281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234286">{</span><span class="string" id="8234287">&#34;__text&#34;</span><span class="op" id="8234295">,</span>&nbsp;<span class="string" id="8234297">&#34;__TEXT&#34;</span><span class="op" id="8234305">,</span>&nbsp;<span class="num" id="8234307">0x100000f14</span><span class="op" id="8234318">,</span>&nbsp;<span class="num" id="8234320">0x0</span><span class="op" id="8234323">,</span>&nbsp;<span class="num" id="8234325">0x0</span><span class="op" id="8234328">,</span>&nbsp;<span class="num" id="8234330">0x2</span><span class="op" id="8234333">,</span>&nbsp;<span class="num" id="8234335">0x0</span><span class="op" id="8234338">,</span>&nbsp;<span class="num" id="8234340">0x0</span><span class="op" id="8234343">,</span>&nbsp;<span class="num" id="8234345">0x80000400</span><span class="op" id="8234355">}</span><span class="op" id="8234356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234361">{</span><span class="string" id="8234362">&#34;__symbol_stub1&#34;</span><span class="op" id="8234378">,</span>&nbsp;<span class="string" id="8234380">&#34;__TEXT&#34;</span><span class="op" id="8234388">,</span>&nbsp;<span class="num" id="8234390">0x100000f81</span><span class="op" id="8234401">,</span>&nbsp;<span class="num" id="8234403">0x0</span><span class="op" id="8234406">,</span>&nbsp;<span class="num" id="8234408">0x0</span><span class="op" id="8234411">,</span>&nbsp;<span class="num" id="8234413">0x0</span><span class="op" id="8234416">,</span>&nbsp;<span class="num" id="8234418">0x0</span><span class="op" id="8234421">,</span>&nbsp;<span class="num" id="8234423">0x0</span><span class="op" id="8234426">,</span>&nbsp;<span class="num" id="8234428">0x80000408</span><span class="op" id="8234438">}</span><span class="op" id="8234439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234444">{</span><span class="string" id="8234445">&#34;__stub_helper&#34;</span><span class="op" id="8234460">,</span>&nbsp;<span class="string" id="8234462">&#34;__TEXT&#34;</span><span class="op" id="8234470">,</span>&nbsp;<span class="num" id="8234472">0x100000f90</span><span class="op" id="8234483">,</span>&nbsp;<span class="num" id="8234485">0x0</span><span class="op" id="8234488">,</span>&nbsp;<span class="num" id="8234490">0x0</span><span class="op" id="8234493">,</span>&nbsp;<span class="num" id="8234495">0x2</span><span class="op" id="8234498">,</span>&nbsp;<span class="num" id="8234500">0x0</span><span class="op" id="8234503">,</span>&nbsp;<span class="num" id="8234505">0x0</span><span class="op" id="8234508">,</span>&nbsp;<span class="num" id="8234510">0x0</span><span class="op" id="8234513">}</span><span class="op" id="8234514">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234519">{</span><span class="string" id="8234520">&#34;__cstring&#34;</span><span class="op" id="8234531">,</span>&nbsp;<span class="string" id="8234533">&#34;__TEXT&#34;</span><span class="op" id="8234541">,</span>&nbsp;<span class="num" id="8234543">0x100000fa8</span><span class="op" id="8234554">,</span>&nbsp;<span class="num" id="8234556">0x0</span><span class="op" id="8234559">,</span>&nbsp;<span class="num" id="8234561">0x0</span><span class="op" id="8234564">,</span>&nbsp;<span class="num" id="8234566">0x0</span><span class="op" id="8234569">,</span>&nbsp;<span class="num" id="8234571">0x0</span><span class="op" id="8234574">,</span>&nbsp;<span class="num" id="8234576">0x0</span><span class="op" id="8234579">,</span>&nbsp;<span class="num" id="8234581">0x2</span><span class="op" id="8234584">}</span><span class="op" id="8234585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234590">{</span><span class="string" id="8234591">&#34;__eh_frame&#34;</span><span class="op" id="8234603">,</span>&nbsp;<span class="string" id="8234605">&#34;__TEXT&#34;</span><span class="op" id="8234613">,</span>&nbsp;<span class="num" id="8234615">0x100000fb8</span><span class="op" id="8234626">,</span>&nbsp;<span class="num" id="8234628">0x0</span><span class="op" id="8234631">,</span>&nbsp;<span class="num" id="8234633">0x0</span><span class="op" id="8234636">,</span>&nbsp;<span class="num" id="8234638">0x3</span><span class="op" id="8234641">,</span>&nbsp;<span class="num" id="8234643">0x0</span><span class="op" id="8234646">,</span>&nbsp;<span class="num" id="8234648">0x0</span><span class="op" id="8234651">,</span>&nbsp;<span class="num" id="8234653">0x6000000b</span><span class="op" id="8234663">}</span><span class="op" id="8234664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234669">{</span><span class="string" id="8234670">&#34;__data&#34;</span><span class="op" id="8234678">,</span>&nbsp;<span class="string" id="8234680">&#34;__DATA&#34;</span><span class="op" id="8234688">,</span>&nbsp;<span class="num" id="8234690">0x100001000</span><span class="op" id="8234701">,</span>&nbsp;<span class="num" id="8234703">0x0</span><span class="op" id="8234706">,</span>&nbsp;<span class="num" id="8234708">0x0</span><span class="op" id="8234711">,</span>&nbsp;<span class="num" id="8234713">0x3</span><span class="op" id="8234716">,</span>&nbsp;<span class="num" id="8234718">0x0</span><span class="op" id="8234721">,</span>&nbsp;<span class="num" id="8234723">0x0</span><span class="op" id="8234726">,</span>&nbsp;<span class="num" id="8234728">0x0</span><span class="op" id="8234731">}</span><span class="op" id="8234732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234737">{</span><span class="string" id="8234738">&#34;__dyld&#34;</span><span class="op" id="8234746">,</span>&nbsp;<span class="string" id="8234748">&#34;__DATA&#34;</span><span class="op" id="8234756">,</span>&nbsp;<span class="num" id="8234758">0x100001020</span><span class="op" id="8234769">,</span>&nbsp;<span class="num" id="8234771">0x0</span><span class="op" id="8234774">,</span>&nbsp;<span class="num" id="8234776">0x0</span><span class="op" id="8234779">,</span>&nbsp;<span class="num" id="8234781">0x3</span><span class="op" id="8234784">,</span>&nbsp;<span class="num" id="8234786">0x0</span><span class="op" id="8234789">,</span>&nbsp;<span class="num" id="8234791">0x0</span><span class="op" id="8234794">,</span>&nbsp;<span class="num" id="8234796">0x0</span><span class="op" id="8234799">}</span><span class="op" id="8234800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234805">{</span><span class="string" id="8234806">&#34;__la_symbol_ptr&#34;</span><span class="op" id="8234823">,</span>&nbsp;<span class="string" id="8234825">&#34;__DATA&#34;</span><span class="op" id="8234833">,</span>&nbsp;<span class="num" id="8234835">0x100001058</span><span class="op" id="8234846">,</span>&nbsp;<span class="num" id="8234848">0x0</span><span class="op" id="8234851">,</span>&nbsp;<span class="num" id="8234853">0x0</span><span class="op" id="8234856">,</span>&nbsp;<span class="num" id="8234858">0x2</span><span class="op" id="8234861">,</span>&nbsp;<span class="num" id="8234863">0x0</span><span class="op" id="8234866">,</span>&nbsp;<span class="num" id="8234868">0x0</span><span class="op" id="8234871">,</span>&nbsp;<span class="num" id="8234873">0x7</span><span class="op" id="8234876">}</span><span class="op" id="8234877">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234882">{</span><span class="string" id="8234883">&#34;__debug_abbrev&#34;</span><span class="op" id="8234899">,</span>&nbsp;<span class="string" id="8234901">&#34;__DWARF&#34;</span><span class="op" id="8234910">,</span>&nbsp;<span class="num" id="8234912">0x100002000</span><span class="op" id="8234923">,</span>&nbsp;<span class="num" id="8234925">0x36</span><span class="op" id="8234929">,</span>&nbsp;<span class="num" id="8234931">0x1000</span><span class="op" id="8234937">,</span>&nbsp;<span class="num" id="8234939">0x0</span><span class="op" id="8234942">,</span>&nbsp;<span class="num" id="8234944">0x0</span><span class="op" id="8234947">,</span>&nbsp;<span class="num" id="8234949">0x0</span><span class="op" id="8234952">,</span>&nbsp;<span class="num" id="8234954">0x0</span><span class="op" id="8234957">}</span><span class="op" id="8234958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8234963">{</span><span class="string" id="8234964">&#34;__debug_aranges&#34;</span><span class="op" id="8234981">,</span>&nbsp;<span class="string" id="8234983">&#34;__DWARF&#34;</span><span class="op" id="8234992">,</span>&nbsp;<span class="num" id="8234994">0x100002036</span><span class="op" id="8235005">,</span>&nbsp;<span class="num" id="8235007">0x30</span><span class="op" id="8235011">,</span>&nbsp;<span class="num" id="8235013">0x1036</span><span class="op" id="8235019">,</span>&nbsp;<span class="num" id="8235021">0x0</span><span class="op" id="8235024">,</span>&nbsp;<span class="num" id="8235026">0x0</span><span class="op" id="8235029">,</span>&nbsp;<span class="num" id="8235031">0x0</span><span class="op" id="8235034">,</span>&nbsp;<span class="num" id="8235036">0x0</span><span class="op" id="8235039">}</span><span class="op" id="8235040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235045">{</span><span class="string" id="8235046">&#34;__debug_frame&#34;</span><span class="op" id="8235061">,</span>&nbsp;<span class="string" id="8235063">&#34;__DWARF&#34;</span><span class="op" id="8235072">,</span>&nbsp;<span class="num" id="8235074">0x100002066</span><span class="op" id="8235085">,</span>&nbsp;<span class="num" id="8235087">0x40</span><span class="op" id="8235091">,</span>&nbsp;<span class="num" id="8235093">0x1066</span><span class="op" id="8235099">,</span>&nbsp;<span class="num" id="8235101">0x0</span><span class="op" id="8235104">,</span>&nbsp;<span class="num" id="8235106">0x0</span><span class="op" id="8235109">,</span>&nbsp;<span class="num" id="8235111">0x0</span><span class="op" id="8235114">,</span>&nbsp;<span class="num" id="8235116">0x0</span><span class="op" id="8235119">}</span><span class="op" id="8235120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235125">{</span><span class="string" id="8235126">&#34;__debug_info&#34;</span><span class="op" id="8235140">,</span>&nbsp;<span class="string" id="8235142">&#34;__DWARF&#34;</span><span class="op" id="8235151">,</span>&nbsp;<span class="num" id="8235153">0x1000020a6</span><span class="op" id="8235164">,</span>&nbsp;<span class="num" id="8235166">0x54</span><span class="op" id="8235170">,</span>&nbsp;<span class="num" id="8235172">0x10a6</span><span class="op" id="8235178">,</span>&nbsp;<span class="num" id="8235180">0x0</span><span class="op" id="8235183">,</span>&nbsp;<span class="num" id="8235185">0x0</span><span class="op" id="8235188">,</span>&nbsp;<span class="num" id="8235190">0x0</span><span class="op" id="8235193">,</span>&nbsp;<span class="num" id="8235195">0x0</span><span class="op" id="8235198">}</span><span class="op" id="8235199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235204">{</span><span class="string" id="8235205">&#34;__debug_line&#34;</span><span class="op" id="8235219">,</span>&nbsp;<span class="string" id="8235221">&#34;__DWARF&#34;</span><span class="op" id="8235230">,</span>&nbsp;<span class="num" id="8235232">0x1000020fa</span><span class="op" id="8235243">,</span>&nbsp;<span class="num" id="8235245">0x47</span><span class="op" id="8235249">,</span>&nbsp;<span class="num" id="8235251">0x10fa</span><span class="op" id="8235257">,</span>&nbsp;<span class="num" id="8235259">0x0</span><span class="op" id="8235262">,</span>&nbsp;<span class="num" id="8235264">0x0</span><span class="op" id="8235267">,</span>&nbsp;<span class="num" id="8235269">0x0</span><span class="op" id="8235272">,</span>&nbsp;<span class="num" id="8235274">0x0</span><span class="op" id="8235277">}</span><span class="op" id="8235278">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235283">{</span><span class="string" id="8235284">&#34;__debug_pubnames&#34;</span><span class="op" id="8235302">,</span>&nbsp;<span class="string" id="8235304">&#34;__DWARF&#34;</span><span class="op" id="8235313">,</span>&nbsp;<span class="num" id="8235315">0x100002141</span><span class="op" id="8235326">,</span>&nbsp;<span class="num" id="8235328">0x1b</span><span class="op" id="8235332">,</span>&nbsp;<span class="num" id="8235334">0x1141</span><span class="op" id="8235340">,</span>&nbsp;<span class="num" id="8235342">0x0</span><span class="op" id="8235345">,</span>&nbsp;<span class="num" id="8235347">0x0</span><span class="op" id="8235350">,</span>&nbsp;<span class="num" id="8235352">0x0</span><span class="op" id="8235355">,</span>&nbsp;<span class="num" id="8235357">0x0</span><span class="op" id="8235360">}</span><span class="op" id="8235361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235366">{</span><span class="string" id="8235367">&#34;__debug_str&#34;</span><span class="op" id="8235380">,</span>&nbsp;<span class="string" id="8235382">&#34;__DWARF&#34;</span><span class="op" id="8235391">,</span>&nbsp;<span class="num" id="8235393">0x10000215c</span><span class="op" id="8235404">,</span>&nbsp;<span class="num" id="8235406">0x60</span><span class="op" id="8235410">,</span>&nbsp;<span class="num" id="8235412">0x115c</span><span class="op" id="8235418">,</span>&nbsp;<span class="num" id="8235420">0x0</span><span class="op" id="8235423">,</span>&nbsp;<span class="num" id="8235425">0x0</span><span class="op" id="8235428">,</span>&nbsp;<span class="num" id="8235430">0x0</span><span class="op" id="8235433">,</span>&nbsp;<span class="num" id="8235435">0x0</span><span class="op" id="8235438">}</span><span class="op" id="8235439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235443">}</span><span class="op" id="8235444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235447">}</span><span class="op" id="8235448">,</span><br>
<span class="lineno"></span><span class="op" id="8235450">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="8235453">func</span>&nbsp;<span class="ident" id="8235458">TestOpen</span><span class="op" id="8235466">(</span><span class="ident" id="8235467">t</span>&nbsp;<span class="op" id="8235469">*</span><span class="ident" id="8235470">testing</span><span class="op" id="8235477">.</span><span class="ident" id="8235478">T</span><span class="op" id="8235479">)</span>&nbsp;<span class="op" id="8235481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235484">for</span>&nbsp;<span class="ident" id="8235488">i</span>&nbsp;<span class="op" id="8235490">:=</span>&nbsp;<span class="keyword" id="8235493">range</span>&nbsp;<span class="ident" id="8235499">fileTests</span>&nbsp;<span class="op" id="8235509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235513">tt</span>&nbsp;<span class="op" id="8235516">:=</span>&nbsp;<span class="op" id="8235519">&amp;</span><span class="ident" id="8235520">fileTests</span><span class="op" id="8235529">[</span><span class="ident" id="8235530">i</span><span class="op" id="8235531">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235536">f</span><span class="op" id="8235537">,</span>&nbsp;<span class="ident" id="8235539">err</span>&nbsp;<span class="op" id="8235543">:=</span>&nbsp;<span class="ident" id="8235546">Open</span><span class="op" id="8235550">(</span><span class="ident" id="8235551">tt</span><span class="op" id="8235553">.</span><span class="ident" id="8235554">file</span><span class="op" id="8235558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235562">if</span>&nbsp;<span class="ident" id="8235565">err</span>&nbsp;<span class="op" id="8235569">!=</span>&nbsp;<span class="ident" id="8235572">nil</span>&nbsp;<span class="op" id="8235576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235581">t</span><span class="op" id="8235582">.</span><span class="ident" id="8235583">Error</span><span class="op" id="8235588">(</span><span class="ident" id="8235589">err</span><span class="op" id="8235592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235597">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235608">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235612">if</span>&nbsp;<span class="op" id="8235615">!</span><span class="ident" id="8235616">reflect</span><span class="op" id="8235623">.</span><span class="ident" id="8235624">DeepEqual</span><span class="op" id="8235633">(</span><span class="ident" id="8235634">f</span><span class="op" id="8235635">.</span><span class="ident" id="8235636">FileHeader</span><span class="op" id="8235646">,</span>&nbsp;<span class="ident" id="8235648">tt</span><span class="op" id="8235650">.</span><span class="ident" id="8235651">hdr</span><span class="op" id="8235654">)</span>&nbsp;<span class="op" id="8235656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235661">t</span><span class="op" id="8235662">.</span><span class="ident" id="8235663">Errorf</span><span class="op" id="8235669">(</span><span class="string" id="8235670">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8235706">,</span>&nbsp;<span class="ident" id="8235708">tt</span><span class="op" id="8235710">.</span><span class="ident" id="8235711">file</span><span class="op" id="8235715">,</span>&nbsp;<span class="ident" id="8235717">f</span><span class="op" id="8235718">.</span><span class="ident" id="8235719">FileHeader</span><span class="op" id="8235729">,</span>&nbsp;<span class="ident" id="8235731">tt</span><span class="op" id="8235733">.</span><span class="ident" id="8235734">hdr</span><span class="op" id="8235737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235742">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235757">for</span>&nbsp;<span class="ident" id="8235761">i</span><span class="op" id="8235762">,</span>&nbsp;<span class="ident" id="8235764">l</span>&nbsp;<span class="op" id="8235766">:=</span>&nbsp;<span class="keyword" id="8235769">range</span>&nbsp;<span class="ident" id="8235775">f</span><span class="op" id="8235776">.</span><span class="ident" id="8235777">Loads</span>&nbsp;<span class="op" id="8235783">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235788">if</span>&nbsp;<span class="ident" id="8235791">i</span>&nbsp;<span class="op" id="8235793">&gt;=</span>&nbsp;<span class="builtinfunc" id="8235796">len</span><span class="op" id="8235799">(</span><span class="ident" id="8235800">tt</span><span class="op" id="8235802">.</span><span class="ident" id="8235803">segments</span><span class="op" id="8235811">)</span>&nbsp;<span class="op" id="8235813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235819">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235833">sh</span>&nbsp;<span class="op" id="8235836">:=</span>&nbsp;<span class="ident" id="8235839">tt</span><span class="op" id="8235841">.</span><span class="ident" id="8235842">segments</span><span class="op" id="8235850">[</span><span class="ident" id="8235851">i</span><span class="op" id="8235852">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235857">s</span><span class="op" id="8235858">,</span>&nbsp;<span class="ident" id="8235860">ok</span>&nbsp;<span class="op" id="8235863">:=</span>&nbsp;<span class="ident" id="8235866">l</span><span class="op" id="8235867">.</span><span class="op" id="8235868">(</span><span class="op" id="8235869">*</span><span class="ident" id="8235870">Segment</span><span class="op" id="8235877">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235882">if</span>&nbsp;<span class="ident" id="8235885">sh</span>&nbsp;<span class="op" id="8235888">==</span>&nbsp;<span class="ident" id="8235891">nil</span>&nbsp;<span class="op" id="8235895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8235901">if</span>&nbsp;<span class="ident" id="8235904">ok</span>&nbsp;<span class="op" id="8235907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8235914">t</span><span class="op" id="8235915">.</span><span class="ident" id="8235916">Errorf</span><span class="op" id="8235922">(</span><span class="string" id="8235923">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;skipping&nbsp;%#v\n&#34;</span><span class="op" id="8235960">,</span>&nbsp;<span class="ident" id="8235962">tt</span><span class="op" id="8235964">.</span><span class="ident" id="8235965">file</span><span class="op" id="8235969">,</span>&nbsp;<span class="ident" id="8235971">i</span><span class="op" id="8235972">,</span>&nbsp;<span class="op" id="8235974">&amp;</span><span class="ident" id="8235975">s</span><span class="op" id="8235976">.</span><span class="ident" id="8235977">SegmentHeader</span><span class="op" id="8235990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8235996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236002">continue</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236019">if</span>&nbsp;<span class="op" id="8236022">!</span><span class="ident" id="8236023">ok</span>&nbsp;<span class="op" id="8236026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236032">t</span><span class="op" id="8236033">.</span><span class="ident" id="8236034">Errorf</span><span class="op" id="8236040">(</span><span class="string" id="8236041">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;not&nbsp;*Segment\n&#34;</span><span class="op" id="8236078">,</span>&nbsp;<span class="ident" id="8236080">tt</span><span class="op" id="8236082">.</span><span class="ident" id="8236083">file</span><span class="op" id="8236087">,</span>&nbsp;<span class="ident" id="8236089">i</span><span class="op" id="8236090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236096">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236108">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236113">have</span>&nbsp;<span class="op" id="8236118">:=</span>&nbsp;<span class="op" id="8236121">&amp;</span><span class="ident" id="8236122">s</span><span class="op" id="8236123">.</span><span class="ident" id="8236124">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236141">want</span>&nbsp;<span class="op" id="8236146">:=</span>&nbsp;<span class="ident" id="8236149">sh</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236155">if</span>&nbsp;<span class="op" id="8236158">!</span><span class="ident" id="8236159">reflect</span><span class="op" id="8236166">.</span><span class="ident" id="8236167">DeepEqual</span><span class="op" id="8236176">(</span><span class="ident" id="8236177">have</span><span class="op" id="8236181">,</span>&nbsp;<span class="ident" id="8236183">want</span><span class="op" id="8236187">)</span>&nbsp;<span class="op" id="8236189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236195">t</span><span class="op" id="8236196">.</span><span class="ident" id="8236197">Errorf</span><span class="op" id="8236203">(</span><span class="string" id="8236204">&#34;open&nbsp;%s,&nbsp;segment&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8236252">,</span>&nbsp;<span class="ident" id="8236254">tt</span><span class="op" id="8236256">.</span><span class="ident" id="8236257">file</span><span class="op" id="8236261">,</span>&nbsp;<span class="ident" id="8236263">i</span><span class="op" id="8236264">,</span>&nbsp;<span class="ident" id="8236266">have</span><span class="op" id="8236270">,</span>&nbsp;<span class="ident" id="8236272">want</span><span class="op" id="8236276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236281">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236289">tn</span>&nbsp;<span class="op" id="8236292">:=</span>&nbsp;<span class="builtinfunc" id="8236295">len</span><span class="op" id="8236298">(</span><span class="ident" id="8236299">tt</span><span class="op" id="8236301">.</span><span class="ident" id="8236302">segments</span><span class="op" id="8236310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236314">fn</span>&nbsp;<span class="op" id="8236317">:=</span>&nbsp;<span class="builtinfunc" id="8236320">len</span><span class="op" id="8236323">(</span><span class="ident" id="8236324">f</span><span class="op" id="8236325">.</span><span class="ident" id="8236326">Loads</span><span class="op" id="8236331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236335">if</span>&nbsp;<span class="ident" id="8236338">tn</span>&nbsp;<span class="op" id="8236341">!=</span>&nbsp;<span class="ident" id="8236344">fn</span>&nbsp;<span class="op" id="8236347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236352">t</span><span class="op" id="8236353">.</span><span class="ident" id="8236354">Errorf</span><span class="op" id="8236360">(</span><span class="string" id="8236361">&#34;open&nbsp;%s:&nbsp;len(Loads)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8236396">,</span>&nbsp;<span class="ident" id="8236398">tt</span><span class="op" id="8236400">.</span><span class="ident" id="8236401">file</span><span class="op" id="8236405">,</span>&nbsp;<span class="ident" id="8236407">fn</span><span class="op" id="8236409">,</span>&nbsp;<span class="ident" id="8236411">tn</span><span class="op" id="8236413">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236422">for</span>&nbsp;<span class="ident" id="8236426">i</span><span class="op" id="8236427">,</span>&nbsp;<span class="ident" id="8236429">sh</span>&nbsp;<span class="op" id="8236432">:=</span>&nbsp;<span class="keyword" id="8236435">range</span>&nbsp;<span class="ident" id="8236441">f</span><span class="op" id="8236442">.</span><span class="ident" id="8236443">Sections</span>&nbsp;<span class="op" id="8236452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236457">if</span>&nbsp;<span class="ident" id="8236460">i</span>&nbsp;<span class="op" id="8236462">&gt;=</span>&nbsp;<span class="builtinfunc" id="8236465">len</span><span class="op" id="8236468">(</span><span class="ident" id="8236469">tt</span><span class="op" id="8236471">.</span><span class="ident" id="8236472">sections</span><span class="op" id="8236480">)</span>&nbsp;<span class="op" id="8236482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236488">break</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236502">have</span>&nbsp;<span class="op" id="8236507">:=</span>&nbsp;<span class="op" id="8236510">&amp;</span><span class="ident" id="8236511">sh</span><span class="op" id="8236513">.</span><span class="ident" id="8236514">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236531">want</span>&nbsp;<span class="op" id="8236536">:=</span>&nbsp;<span class="ident" id="8236539">tt</span><span class="op" id="8236541">.</span><span class="ident" id="8236542">sections</span><span class="op" id="8236550">[</span><span class="ident" id="8236551">i</span><span class="op" id="8236552">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236557">if</span>&nbsp;<span class="op" id="8236560">!</span><span class="ident" id="8236561">reflect</span><span class="op" id="8236568">.</span><span class="ident" id="8236569">DeepEqual</span><span class="op" id="8236578">(</span><span class="ident" id="8236579">have</span><span class="op" id="8236583">,</span>&nbsp;<span class="ident" id="8236585">want</span><span class="op" id="8236589">)</span>&nbsp;<span class="op" id="8236591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236597">t</span><span class="op" id="8236598">.</span><span class="ident" id="8236599">Errorf</span><span class="op" id="8236605">(</span><span class="string" id="8236606">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8236654">,</span>&nbsp;<span class="ident" id="8236656">tt</span><span class="op" id="8236658">.</span><span class="ident" id="8236659">file</span><span class="op" id="8236663">,</span>&nbsp;<span class="ident" id="8236665">i</span><span class="op" id="8236666">,</span>&nbsp;<span class="ident" id="8236668">have</span><span class="op" id="8236672">,</span>&nbsp;<span class="ident" id="8236674">want</span><span class="op" id="8236678">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236691">tn</span>&nbsp;<span class="op" id="8236694">=</span>&nbsp;<span class="builtinfunc" id="8236696">len</span><span class="op" id="8236699">(</span><span class="ident" id="8236700">tt</span><span class="op" id="8236702">.</span><span class="ident" id="8236703">sections</span><span class="op" id="8236711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236715">fn</span>&nbsp;<span class="op" id="8236718">=</span>&nbsp;<span class="builtinfunc" id="8236720">len</span><span class="op" id="8236723">(</span><span class="ident" id="8236724">f</span><span class="op" id="8236725">.</span><span class="ident" id="8236726">Sections</span><span class="op" id="8236734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236738">if</span>&nbsp;<span class="ident" id="8236741">tn</span>&nbsp;<span class="op" id="8236744">!=</span>&nbsp;<span class="ident" id="8236747">fn</span>&nbsp;<span class="op" id="8236750">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236755">t</span><span class="op" id="8236756">.</span><span class="ident" id="8236757">Errorf</span><span class="op" id="8236763">(</span><span class="string" id="8236764">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8236802">,</span>&nbsp;<span class="ident" id="8236804">tt</span><span class="op" id="8236806">.</span><span class="ident" id="8236807">file</span><span class="op" id="8236811">,</span>&nbsp;<span class="ident" id="8236813">fn</span><span class="op" id="8236815">,</span>&nbsp;<span class="ident" id="8236817">tn</span><span class="op" id="8236819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236827">}</span><br>
<span class="lineno"></span><span class="op" id="8236829">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="keyword" id="8236832">func</span>&nbsp;<span class="ident" id="8236837">TestOpenFailure</span><span class="op" id="8236852">(</span><span class="ident" id="8236853">t</span>&nbsp;<span class="op" id="8236855">*</span><span class="ident" id="8236856">testing</span><span class="op" id="8236863">.</span><span class="ident" id="8236864">T</span><span class="op" id="8236865">)</span>&nbsp;<span class="op" id="8236867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236870">filename</span>&nbsp;<span class="op" id="8236879">:=</span>&nbsp;<span class="string" id="8236882">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8236895">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236917">_</span><span class="op" id="8236918">,</span>&nbsp;<span class="ident" id="8236920">err</span>&nbsp;<span class="op" id="8236924">:=</span>&nbsp;<span class="ident" id="8236927">Open</span><span class="op" id="8236931">(</span><span class="ident" id="8236932">filename</span><span class="op" id="8236940">)</span>&nbsp;<span class="comment" id="8236942">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236958">if</span>&nbsp;<span class="ident" id="8236961">err</span>&nbsp;<span class="op" id="8236965">==</span>&nbsp;<span class="ident" id="8236968">nil</span>&nbsp;<span class="op" id="8236972">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236976">t</span><span class="op" id="8236977">.</span><span class="ident" id="8236978">Errorf</span><span class="op" id="8236984">(</span><span class="string" id="8236985">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="8237018">,</span>&nbsp;<span class="ident" id="8237020">filename</span><span class="op" id="8237028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237031">}</span><br>
<span class="lineno"></span><span class="op" id="8237033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8237036">func</span>&nbsp;<span class="ident" id="8237041">TestOpenFat</span><span class="op" id="8237052">(</span><span class="ident" id="8237053">t</span>&nbsp;<span class="op" id="8237055">*</span><span class="ident" id="8237056">testing</span><span class="op" id="8237063">.</span><span class="ident" id="8237064">T</span><span class="op" id="8237065">)</span>&nbsp;<span class="op" id="8237067">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237070">ff</span><span class="op" id="8237072">,</span>&nbsp;<span class="ident" id="8237074">err</span>&nbsp;<span class="op" id="8237078">:=</span>&nbsp;<span class="ident" id="8237081">OpenFat</span><span class="op" id="8237088">(</span><span class="string" id="8237089">&#34;testdata/fat-gcc-386-amd64-darwin-exec&#34;</span><span class="op" id="8237129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237132">if</span>&nbsp;<span class="ident" id="8237135">err</span>&nbsp;<span class="op" id="8237139">!=</span>&nbsp;<span class="ident" id="8237142">nil</span>&nbsp;<span class="op" id="8237146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237150">t</span><span class="op" id="8237151">.</span><span class="ident" id="8237152">Fatal</span><span class="op" id="8237157">(</span><span class="ident" id="8237158">err</span><span class="op" id="8237161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237168">if</span>&nbsp;<span class="ident" id="8237171">ff</span><span class="op" id="8237173">.</span><span class="ident" id="8237174">Magic</span>&nbsp;<span class="op" id="8237180">!=</span>&nbsp;<span class="ident" id="8237183">MagicFat</span>&nbsp;<span class="op" id="8237192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237196">t</span><span class="op" id="8237197">.</span><span class="ident" id="8237198">Errorf</span><span class="op" id="8237204">(</span><span class="string" id="8237205">&#34;OpenFat:&nbsp;got&nbsp;magic&nbsp;number&nbsp;%#x,&nbsp;want&nbsp;%#x&#34;</span><span class="op" id="8237246">,</span>&nbsp;<span class="ident" id="8237248">ff</span><span class="op" id="8237250">.</span><span class="ident" id="8237251">Magic</span><span class="op" id="8237256">,</span>&nbsp;<span class="ident" id="8237258">MagicFat</span><span class="op" id="8237266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237272">if</span>&nbsp;<span class="builtinfunc" id="8237275">len</span><span class="op" id="8237278">(</span><span class="ident" id="8237279">ff</span><span class="op" id="8237281">.</span><span class="ident" id="8237282">Arches</span><span class="op" id="8237288">)</span>&nbsp;<span class="op" id="8237290">!=</span>&nbsp;<span class="num" id="8237293">2</span>&nbsp;<span class="op" id="8237295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237299">t</span><span class="op" id="8237300">.</span><span class="ident" id="8237301">Errorf</span><span class="op" id="8237307">(</span><span class="string" id="8237308">&#34;OpenFat:&nbsp;got&nbsp;%d&nbsp;architectures,&nbsp;want&nbsp;2&#34;</span><span class="op" id="8237347">,</span>&nbsp;<span class="builtinfunc" id="8237349">len</span><span class="op" id="8237352">(</span><span class="ident" id="8237353">ff</span><span class="op" id="8237355">.</span><span class="ident" id="8237356">Arches</span><span class="op" id="8237362">)</span><span class="op" id="8237363">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237370">for</span>&nbsp;<span class="ident" id="8237374">i</span>&nbsp;<span class="op" id="8237376">:=</span>&nbsp;<span class="keyword" id="8237379">range</span>&nbsp;<span class="ident" id="8237385">ff</span><span class="op" id="8237387">.</span><span class="ident" id="8237388">Arches</span>&nbsp;<span class="op" id="8237395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237399">arch</span>&nbsp;<span class="op" id="8237404">:=</span>&nbsp;<span class="op" id="8237407">&amp;</span><span class="ident" id="8237408">ff</span><span class="op" id="8237410">.</span><span class="ident" id="8237411">Arches</span><span class="op" id="8237417">[</span><span class="ident" id="8237418">i</span><span class="op" id="8237419">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237423">ftArch</span>&nbsp;<span class="op" id="8237430">:=</span>&nbsp;<span class="op" id="8237433">&amp;</span><span class="ident" id="8237434">fileTests</span><span class="op" id="8237443">[</span><span class="ident" id="8237444">i</span><span class="op" id="8237445">]</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237450">if</span>&nbsp;<span class="ident" id="8237453">arch</span><span class="op" id="8237457">.</span><span class="ident" id="8237458">Cpu</span>&nbsp;<span class="op" id="8237462">!=</span>&nbsp;<span class="ident" id="8237465">ftArch</span><span class="op" id="8237471">.</span><span class="ident" id="8237472">hdr</span><span class="op" id="8237475">.</span><span class="ident" id="8237476">Cpu</span>&nbsp;<span class="op" id="8237480">||</span>&nbsp;<span class="ident" id="8237483">arch</span><span class="op" id="8237487">.</span><span class="ident" id="8237488">SubCpu</span>&nbsp;<span class="op" id="8237495">!=</span>&nbsp;<span class="ident" id="8237498">ftArch</span><span class="op" id="8237504">.</span><span class="ident" id="8237505">hdr</span><span class="op" id="8237508">.</span><span class="ident" id="8237509">SubCpu</span>&nbsp;<span class="op" id="8237516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237521">t</span><span class="op" id="8237522">.</span><span class="ident" id="8237523">Errorf</span><span class="op" id="8237529">(</span><span class="string" id="8237530">&#34;OpenFat:&nbsp;architecture&nbsp;#%d&nbsp;got&nbsp;cpu=%#x&nbsp;subtype=%#x,&nbsp;expected&nbsp;cpu=%#x,&nbsp;subtype=%#x&#34;</span><span class="op" id="8237612">,</span>&nbsp;<span class="ident" id="8237614">i</span><span class="op" id="8237615">,</span>&nbsp;<span class="ident" id="8237617">arch</span><span class="op" id="8237621">.</span><span class="ident" id="8237622">Cpu</span><span class="op" id="8237625">,</span>&nbsp;<span class="ident" id="8237627">arch</span><span class="op" id="8237631">.</span><span class="ident" id="8237632">SubCpu</span><span class="op" id="8237638">,</span>&nbsp;<span class="ident" id="8237640">ftArch</span><span class="op" id="8237646">.</span><span class="ident" id="8237647">hdr</span><span class="op" id="8237650">.</span><span class="ident" id="8237651">Cpu</span><span class="op" id="8237654">,</span>&nbsp;<span class="ident" id="8237656">ftArch</span><span class="op" id="8237662">.</span><span class="ident" id="8237663">hdr</span><span class="op" id="8237666">.</span><span class="ident" id="8237667">SubCpu</span><span class="op" id="8237673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237682">if</span>&nbsp;<span class="op" id="8237685">!</span><span class="ident" id="8237686">reflect</span><span class="op" id="8237693">.</span><span class="ident" id="8237694">DeepEqual</span><span class="op" id="8237703">(</span><span class="ident" id="8237704">arch</span><span class="op" id="8237708">.</span><span class="ident" id="8237709">FileHeader</span><span class="op" id="8237719">,</span>&nbsp;<span class="ident" id="8237721">ftArch</span><span class="op" id="8237727">.</span><span class="ident" id="8237728">hdr</span><span class="op" id="8237731">)</span>&nbsp;<span class="op" id="8237733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237738">t</span><span class="op" id="8237739">.</span><span class="ident" id="8237740">Errorf</span><span class="op" id="8237746">(</span><span class="string" id="8237747">&#34;OpenFat&nbsp;header:\n\tgot&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="8237789">,</span>&nbsp;<span class="ident" id="8237791">arch</span><span class="op" id="8237795">.</span><span class="ident" id="8237796">FileHeader</span><span class="op" id="8237806">,</span>&nbsp;<span class="ident" id="8237808">ftArch</span><span class="op" id="8237814">.</span><span class="ident" id="8237815">hdr</span><span class="op" id="8237818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237825">}</span><br>
<span class="lineno"></span><span class="op" id="8237827">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="8237830">func</span>&nbsp;<span class="ident" id="8237835">TestOpenFatFailure</span><span class="op" id="8237853">(</span><span class="ident" id="8237854">t</span>&nbsp;<span class="op" id="8237856">*</span><span class="ident" id="8237857">testing</span><span class="op" id="8237864">.</span><span class="ident" id="8237865">T</span><span class="op" id="8237866">)</span>&nbsp;<span class="op" id="8237868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237871">filename</span>&nbsp;<span class="op" id="8237880">:=</span>&nbsp;<span class="string" id="8237883">&#34;file.go&#34;</span>&nbsp;<span class="comment" id="8237893">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237915">if</span>&nbsp;<span class="ident" id="8237918">_</span><span class="op" id="8237919">,</span>&nbsp;<span class="ident" id="8237921">err</span>&nbsp;<span class="op" id="8237925">:=</span>&nbsp;<span class="ident" id="8237928">OpenFat</span><span class="op" id="8237935">(</span><span class="ident" id="8237936">filename</span><span class="op" id="8237944">)</span><span class="op" id="8237945">;</span>&nbsp;<span class="ident" id="8237947">err</span>&nbsp;<span class="op" id="8237951">==</span>&nbsp;<span class="ident" id="8237954">nil</span>&nbsp;<span class="op" id="8237958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237962">t</span><span class="op" id="8237963">.</span><span class="ident" id="8237964">Errorf</span><span class="op" id="8237970">(</span><span class="string" id="8237971">&#34;OpenFat&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="8238007">,</span>&nbsp;<span class="ident" id="8238009">filename</span><span class="op" id="8238017">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238024">filename</span>&nbsp;<span class="op" id="8238033">=</span>&nbsp;<span class="string" id="8238035">&#34;testdata/gcc-386-darwin-exec&#34;</span>&nbsp;<span class="comment" id="8238066">//&nbsp;not&nbsp;a&nbsp;fat&nbsp;Mach-O</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238087">ff</span><span class="op" id="8238089">,</span>&nbsp;<span class="ident" id="8238091">err</span>&nbsp;<span class="op" id="8238095">:=</span>&nbsp;<span class="ident" id="8238098">OpenFat</span><span class="op" id="8238105">(</span><span class="ident" id="8238106">filename</span><span class="op" id="8238114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238117">if</span>&nbsp;<span class="ident" id="8238120">err</span>&nbsp;<span class="op" id="8238124">!=</span>&nbsp;<span class="ident" id="8238127">ErrNotFat</span>&nbsp;<span class="op" id="8238137">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238141">t</span><span class="op" id="8238142">.</span><span class="ident" id="8238143">Errorf</span><span class="op" id="8238149">(</span><span class="string" id="8238150">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;ErrNotFat&#34;</span><span class="op" id="8238186">,</span>&nbsp;<span class="ident" id="8238188">filename</span><span class="op" id="8238196">,</span>&nbsp;<span class="ident" id="8238198">err</span><span class="op" id="8238201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238207">if</span>&nbsp;<span class="ident" id="8238210">ff</span>&nbsp;<span class="op" id="8238213">!=</span>&nbsp;<span class="ident" id="8238216">nil</span>&nbsp;<span class="op" id="8238220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238224">t</span><span class="op" id="8238225">.</span><span class="ident" id="8238226">Errorf</span><span class="op" id="8238232">(</span><span class="string" id="8238233">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8238263">,</span>&nbsp;<span class="ident" id="8238265">filename</span><span class="op" id="8238273">,</span>&nbsp;<span class="ident" id="8238275">ff</span><span class="op" id="8238277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238280">}</span><br>
<span class="lineno">210</span><span class="op" id="8238282">}</span>
</div>
</body>
</html>
