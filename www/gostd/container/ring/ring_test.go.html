<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/ring</h2>
<ul>
<li><a href="/gostd/container/ring/ring.go.html">ring.go</a></li>
<li><a href="/gostd/container/ring/ring_test.go.html">ring_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6506563">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6506618">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6506672">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6506723">package</span>&nbsp;<span class="ident" id="6506731">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6506737">import</span>&nbsp;<span class="op" id="6506744">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6506747">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6506754">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6506764">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6506767">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="6506799">func</span>&nbsp;<span class="ident" id="6506804">dump</span><span class="op" id="6506808">(</span><span class="ident" id="6506809">r</span>&nbsp;<span class="op" id="6506811">*</span><span class="ident" id="6506812">Ring</span><span class="op" id="6506816">)</span>&nbsp;<span class="op" id="6506818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506821">if</span>&nbsp;<span class="ident" id="6506824">r</span>&nbsp;<span class="op" id="6506826">==</span>&nbsp;<span class="ident" id="6506829">nil</span>&nbsp;<span class="op" id="6506833">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506837">fmt</span><span class="op" id="6506840">.</span><span class="ident" id="6506841">Println</span><span class="op" id="6506848">(</span><span class="string" id="6506849">&#34;empty&#34;</span><span class="op" id="6506856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506860">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506871">i</span><span class="op" id="6506872">,</span>&nbsp;<span class="ident" id="6506874">n</span>&nbsp;<span class="op" id="6506876">:=</span>&nbsp;<span class="num" id="6506879">0</span><span class="op" id="6506880">,</span>&nbsp;<span class="ident" id="6506882">r</span><span class="op" id="6506883">.</span><span class="ident" id="6506884">Len</span><span class="op" id="6506887">(</span><span class="op" id="6506888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506891">for</span>&nbsp;<span class="ident" id="6506895">p</span>&nbsp;<span class="op" id="6506897">:=</span>&nbsp;<span class="ident" id="6506900">r</span><span class="op" id="6506901">;</span>&nbsp;<span class="ident" id="6506903">i</span>&nbsp;<span class="op" id="6506905">&lt;</span>&nbsp;<span class="ident" id="6506907">n</span><span class="op" id="6506908">;</span>&nbsp;<span class="ident" id="6506910">p</span>&nbsp;<span class="op" id="6506912">=</span>&nbsp;<span class="ident" id="6506914">p</span><span class="op" id="6506915">.</span><span class="ident" id="6506916">next</span>&nbsp;<span class="op" id="6506921">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506925">fmt</span><span class="op" id="6506928">.</span><span class="ident" id="6506929">Printf</span><span class="op" id="6506935">(</span><span class="string" id="6506936">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="6506965">,</span>&nbsp;<span class="ident" id="6506967">i</span><span class="op" id="6506968">,</span>&nbsp;<span class="ident" id="6506970">p</span><span class="op" id="6506971">,</span>&nbsp;<span class="ident" id="6506973">p</span><span class="op" id="6506974">.</span><span class="ident" id="6506975">prev</span><span class="op" id="6506979">,</span>&nbsp;<span class="ident" id="6506981">p</span><span class="op" id="6506982">.</span><span class="ident" id="6506983">next</span><span class="op" id="6506987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506991">i</span><span class="op" id="6506992">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506999">fmt</span><span class="op" id="6507002">.</span><span class="ident" id="6507003">Println</span><span class="op" id="6507010">(</span><span class="op" id="6507011">)</span><br>
<span class="lineno"></span><span class="op" id="6507013">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6507016">func</span>&nbsp;<span class="ident" id="6507021">verify</span><span class="op" id="6507027">(</span><span class="ident" id="6507028">t</span>&nbsp;<span class="op" id="6507030">*</span><span class="ident" id="6507031">testing</span><span class="op" id="6507038">.</span><span class="ident" id="6507039">T</span><span class="op" id="6507040">,</span>&nbsp;<span class="ident" id="6507042">r</span>&nbsp;<span class="op" id="6507044">*</span><span class="ident" id="6507045">Ring</span><span class="op" id="6507049">,</span>&nbsp;<span class="ident" id="6507051">N</span>&nbsp;<span class="builtintype" id="6507053">int</span><span class="op" id="6507056">,</span>&nbsp;<span class="ident" id="6507058">sum</span>&nbsp;<span class="builtintype" id="6507062">int</span><span class="op" id="6507065">)</span>&nbsp;<span class="op" id="6507067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6507070">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507078">n</span>&nbsp;<span class="op" id="6507080">:=</span>&nbsp;<span class="ident" id="6507083">r</span><span class="op" id="6507084">.</span><span class="ident" id="6507085">Len</span><span class="op" id="6507088">(</span><span class="op" id="6507089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507092">if</span>&nbsp;<span class="ident" id="6507095">n</span>&nbsp;<span class="op" id="6507097">!=</span>&nbsp;<span class="ident" id="6507100">N</span>&nbsp;<span class="op" id="6507102">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507106">t</span><span class="op" id="6507107">.</span><span class="ident" id="6507108">Errorf</span><span class="op" id="6507114">(</span><span class="string" id="6507115">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6507143">,</span>&nbsp;<span class="ident" id="6507145">n</span><span class="op" id="6507146">,</span>&nbsp;<span class="ident" id="6507148">N</span><span class="op" id="6507149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6507156">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507170">n</span>&nbsp;<span class="op" id="6507172">=</span>&nbsp;<span class="num" id="6507174">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507177">s</span>&nbsp;<span class="op" id="6507179">:=</span>&nbsp;<span class="num" id="6507182">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507185">r</span><span class="op" id="6507186">.</span><span class="ident" id="6507187">Do</span><span class="op" id="6507189">(</span><span class="keyword" id="6507190">func</span><span class="op" id="6507194">(</span><span class="ident" id="6507195">p</span>&nbsp;<span class="keyword" id="6507197">interface</span><span class="op" id="6507206">{</span><span class="op" id="6507207">}</span><span class="op" id="6507208">)</span>&nbsp;<span class="op" id="6507210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507214">n</span><span class="op" id="6507215">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507220">if</span>&nbsp;<span class="ident" id="6507223">p</span>&nbsp;<span class="op" id="6507225">!=</span>&nbsp;<span class="ident" id="6507228">nil</span>&nbsp;<span class="op" id="6507232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507237">s</span>&nbsp;<span class="op" id="6507239">+=</span>&nbsp;<span class="ident" id="6507242">p</span><span class="op" id="6507243">.</span><span class="op" id="6507244">(</span><span class="builtintype" id="6507245">int</span><span class="op" id="6507248">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507255">}</span><span class="op" id="6507256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507259">if</span>&nbsp;<span class="ident" id="6507262">n</span>&nbsp;<span class="op" id="6507264">!=</span>&nbsp;<span class="ident" id="6507267">N</span>&nbsp;<span class="op" id="6507269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507273">t</span><span class="op" id="6507274">.</span><span class="ident" id="6507275">Errorf</span><span class="op" id="6507281">(</span><span class="string" id="6507282">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6507331">,</span>&nbsp;<span class="ident" id="6507333">n</span><span class="op" id="6507334">,</span>&nbsp;<span class="ident" id="6507336">N</span><span class="op" id="6507337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507340">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507343">if</span>&nbsp;<span class="ident" id="6507346">sum</span>&nbsp;<span class="op" id="6507350">&gt;=</span>&nbsp;<span class="num" id="6507353">0</span>&nbsp;<span class="op" id="6507355">&amp;&amp;</span>&nbsp;<span class="ident" id="6507358">s</span>&nbsp;<span class="op" id="6507360">!=</span>&nbsp;<span class="ident" id="6507363">sum</span>&nbsp;<span class="op" id="6507367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507371">t</span><span class="op" id="6507372">.</span><span class="ident" id="6507373">Errorf</span><span class="op" id="6507379">(</span><span class="string" id="6507380">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6507416">,</span>&nbsp;<span class="ident" id="6507418">s</span><span class="op" id="6507419">,</span>&nbsp;<span class="ident" id="6507421">sum</span><span class="op" id="6507424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507431">if</span>&nbsp;<span class="ident" id="6507434">r</span>&nbsp;<span class="op" id="6507436">==</span>&nbsp;<span class="ident" id="6507439">nil</span>&nbsp;<span class="op" id="6507443">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507447">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6507459">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507475">if</span>&nbsp;<span class="ident" id="6507478">r</span><span class="op" id="6507479">.</span><span class="ident" id="6507480">next</span>&nbsp;<span class="op" id="6507485">!=</span>&nbsp;<span class="ident" id="6507488">nil</span>&nbsp;<span class="op" id="6507492">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507496">var</span>&nbsp;<span class="ident" id="6507500">p</span>&nbsp;<span class="op" id="6507502">*</span><span class="ident" id="6507503">Ring</span>&nbsp;<span class="comment" id="6507508">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507530">for</span>&nbsp;<span class="ident" id="6507534">q</span>&nbsp;<span class="op" id="6507536">:=</span>&nbsp;<span class="ident" id="6507539">r</span><span class="op" id="6507540">;</span>&nbsp;<span class="ident" id="6507542">p</span>&nbsp;<span class="op" id="6507544">==</span>&nbsp;<span class="ident" id="6507547">nil</span>&nbsp;<span class="op" id="6507551">||</span>&nbsp;<span class="ident" id="6507554">q</span>&nbsp;<span class="op" id="6507556">!=</span>&nbsp;<span class="ident" id="6507559">r</span><span class="op" id="6507560">;</span>&nbsp;<span class="ident" id="6507562">q</span>&nbsp;<span class="op" id="6507564">=</span>&nbsp;<span class="ident" id="6507566">q</span><span class="op" id="6507567">.</span><span class="ident" id="6507568">next</span>&nbsp;<span class="op" id="6507573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507578">if</span>&nbsp;<span class="ident" id="6507581">p</span>&nbsp;<span class="op" id="6507583">!=</span>&nbsp;<span class="ident" id="6507586">nil</span>&nbsp;<span class="op" id="6507590">&amp;&amp;</span>&nbsp;<span class="ident" id="6507593">p</span>&nbsp;<span class="op" id="6507595">!=</span>&nbsp;<span class="ident" id="6507598">q</span><span class="op" id="6507599">.</span><span class="ident" id="6507600">prev</span>&nbsp;<span class="op" id="6507605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507611">t</span><span class="op" id="6507612">.</span><span class="ident" id="6507613">Errorf</span><span class="op" id="6507619">(</span><span class="string" id="6507620">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="6507655">,</span>&nbsp;<span class="ident" id="6507657">p</span><span class="op" id="6507658">,</span>&nbsp;<span class="ident" id="6507660">q</span><span class="op" id="6507661">.</span><span class="ident" id="6507662">prev</span><span class="op" id="6507666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507671">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507676">p</span>&nbsp;<span class="op" id="6507678">=</span>&nbsp;<span class="ident" id="6507680">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507688">if</span>&nbsp;<span class="ident" id="6507691">p</span>&nbsp;<span class="op" id="6507693">!=</span>&nbsp;<span class="ident" id="6507696">r</span><span class="op" id="6507697">.</span><span class="ident" id="6507698">prev</span>&nbsp;<span class="op" id="6507703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507708">t</span><span class="op" id="6507709">.</span><span class="ident" id="6507710">Errorf</span><span class="op" id="6507716">(</span><span class="string" id="6507717">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="6507752">,</span>&nbsp;<span class="ident" id="6507754">p</span><span class="op" id="6507755">,</span>&nbsp;<span class="ident" id="6507757">r</span><span class="op" id="6507758">.</span><span class="ident" id="6507759">prev</span><span class="op" id="6507763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507767">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6507774">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507789">if</span>&nbsp;<span class="ident" id="6507792">r</span><span class="op" id="6507793">.</span><span class="ident" id="6507794">Next</span><span class="op" id="6507798">(</span><span class="op" id="6507799">)</span>&nbsp;<span class="op" id="6507801">!=</span>&nbsp;<span class="ident" id="6507804">r</span><span class="op" id="6507805">.</span><span class="ident" id="6507806">next</span>&nbsp;<span class="op" id="6507811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507815">t</span><span class="op" id="6507816">.</span><span class="ident" id="6507817">Errorf</span><span class="op" id="6507823">(</span><span class="string" id="6507824">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="6507844">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507850">if</span>&nbsp;<span class="ident" id="6507853">r</span><span class="op" id="6507854">.</span><span class="ident" id="6507855">Prev</span><span class="op" id="6507859">(</span><span class="op" id="6507860">)</span>&nbsp;<span class="op" id="6507862">!=</span>&nbsp;<span class="ident" id="6507865">r</span><span class="op" id="6507866">.</span><span class="ident" id="6507867">prev</span>&nbsp;<span class="op" id="6507872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507876">t</span><span class="op" id="6507877">.</span><span class="ident" id="6507878">Errorf</span><span class="op" id="6507884">(</span><span class="string" id="6507885">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="6507905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507908">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6507912">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507921">if</span>&nbsp;<span class="ident" id="6507924">r</span><span class="op" id="6507925">.</span><span class="ident" id="6507926">Move</span><span class="op" id="6507930">(</span><span class="num" id="6507931">0</span><span class="op" id="6507932">)</span>&nbsp;<span class="op" id="6507934">!=</span>&nbsp;<span class="ident" id="6507937">r</span>&nbsp;<span class="op" id="6507939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507943">t</span><span class="op" id="6507944">.</span><span class="ident" id="6507945">Errorf</span><span class="op" id="6507951">(</span><span class="string" id="6507952">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="6507968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6507971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6507974">if</span>&nbsp;<span class="ident" id="6507977">r</span><span class="op" id="6507978">.</span><span class="ident" id="6507979">Move</span><span class="op" id="6507983">(</span><span class="ident" id="6507984">N</span><span class="op" id="6507985">)</span>&nbsp;<span class="op" id="6507987">!=</span>&nbsp;<span class="ident" id="6507990">r</span>&nbsp;<span class="op" id="6507992">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6507996">t</span><span class="op" id="6507997">.</span><span class="ident" id="6507998">Errorf</span><span class="op" id="6508004">(</span><span class="string" id="6508005">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="6508022">,</span>&nbsp;<span class="ident" id="6508024">N</span><span class="op" id="6508025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508031">if</span>&nbsp;<span class="ident" id="6508034">r</span><span class="op" id="6508035">.</span><span class="ident" id="6508036">Move</span><span class="op" id="6508040">(</span><span class="op" id="6508041">-</span><span class="ident" id="6508042">N</span><span class="op" id="6508043">)</span>&nbsp;<span class="op" id="6508045">!=</span>&nbsp;<span class="ident" id="6508048">r</span>&nbsp;<span class="op" id="6508050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508054">t</span><span class="op" id="6508055">.</span><span class="ident" id="6508056">Errorf</span><span class="op" id="6508062">(</span><span class="string" id="6508063">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="6508080">,</span>&nbsp;<span class="op" id="6508082">-</span><span class="ident" id="6508083">N</span><span class="op" id="6508084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508087">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508090">for</span>&nbsp;<span class="ident" id="6508094">i</span>&nbsp;<span class="op" id="6508096">:=</span>&nbsp;<span class="num" id="6508099">0</span><span class="op" id="6508100">;</span>&nbsp;<span class="ident" id="6508102">i</span>&nbsp;<span class="op" id="6508104">&lt;</span>&nbsp;<span class="num" id="6508106">10</span><span class="op" id="6508108">;</span>&nbsp;<span class="ident" id="6508110">i</span><span class="op" id="6508111">++</span>&nbsp;<span class="op" id="6508114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508118">ni</span>&nbsp;<span class="op" id="6508121">:=</span>&nbsp;<span class="ident" id="6508124">N</span>&nbsp;<span class="op" id="6508126">+</span>&nbsp;<span class="ident" id="6508128">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508132">mi</span>&nbsp;<span class="op" id="6508135">:=</span>&nbsp;<span class="ident" id="6508138">ni</span>&nbsp;<span class="op" id="6508141">%</span>&nbsp;<span class="ident" id="6508143">N</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508147">if</span>&nbsp;<span class="ident" id="6508150">r</span><span class="op" id="6508151">.</span><span class="ident" id="6508152">Move</span><span class="op" id="6508156">(</span><span class="ident" id="6508157">ni</span><span class="op" id="6508159">)</span>&nbsp;<span class="op" id="6508161">!=</span>&nbsp;<span class="ident" id="6508164">r</span><span class="op" id="6508165">.</span><span class="ident" id="6508166">Move</span><span class="op" id="6508170">(</span><span class="ident" id="6508171">mi</span><span class="op" id="6508173">)</span>&nbsp;<span class="op" id="6508175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508180">t</span><span class="op" id="6508181">.</span><span class="ident" id="6508182">Errorf</span><span class="op" id="6508188">(</span><span class="string" id="6508189">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="6508215">,</span>&nbsp;<span class="ident" id="6508217">ni</span><span class="op" id="6508219">,</span>&nbsp;<span class="ident" id="6508221">mi</span><span class="op" id="6508223">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508231">if</span>&nbsp;<span class="ident" id="6508234">r</span><span class="op" id="6508235">.</span><span class="ident" id="6508236">Move</span><span class="op" id="6508240">(</span><span class="op" id="6508241">-</span><span class="ident" id="6508242">ni</span><span class="op" id="6508244">)</span>&nbsp;<span class="op" id="6508246">!=</span>&nbsp;<span class="ident" id="6508249">r</span><span class="op" id="6508250">.</span><span class="ident" id="6508251">Move</span><span class="op" id="6508255">(</span><span class="op" id="6508256">-</span><span class="ident" id="6508257">mi</span><span class="op" id="6508259">)</span>&nbsp;<span class="op" id="6508261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508266">t</span><span class="op" id="6508267">.</span><span class="ident" id="6508268">Errorf</span><span class="op" id="6508274">(</span><span class="string" id="6508275">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="6508301">,</span>&nbsp;<span class="op" id="6508303">-</span><span class="ident" id="6508304">ni</span><span class="op" id="6508306">,</span>&nbsp;<span class="op" id="6508308">-</span><span class="ident" id="6508309">mi</span><span class="op" id="6508311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508318">}</span><br>
<span class="lineno">95</span><span class="op" id="6508320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6508323">func</span>&nbsp;<span class="ident" id="6508328">TestCornerCases</span><span class="op" id="6508343">(</span><span class="ident" id="6508344">t</span>&nbsp;<span class="op" id="6508346">*</span><span class="ident" id="6508347">testing</span><span class="op" id="6508354">.</span><span class="ident" id="6508355">T</span><span class="op" id="6508356">)</span>&nbsp;<span class="op" id="6508358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508361">var</span>&nbsp;<span class="op" id="6508365">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508369">r0</span>&nbsp;<span class="op" id="6508372">*</span><span class="ident" id="6508373">Ring</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508380">r1</span>&nbsp;<span class="ident" id="6508383">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6508392">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508403">verify</span><span class="op" id="6508409">(</span><span class="ident" id="6508410">t</span><span class="op" id="6508411">,</span>&nbsp;<span class="ident" id="6508413">r0</span><span class="op" id="6508415">,</span>&nbsp;<span class="num" id="6508417">0</span><span class="op" id="6508418">,</span>&nbsp;<span class="num" id="6508420">0</span><span class="op" id="6508421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508424">verify</span><span class="op" id="6508430">(</span><span class="ident" id="6508431">t</span><span class="op" id="6508432">,</span>&nbsp;<span class="op" id="6508434">&amp;</span><span class="ident" id="6508435">r1</span><span class="op" id="6508437">,</span>&nbsp;<span class="num" id="6508439">1</span><span class="op" id="6508440">,</span>&nbsp;<span class="num" id="6508442">0</span><span class="op" id="6508443">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6508446">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508457">r1</span><span class="op" id="6508459">.</span><span class="ident" id="6508460">Link</span><span class="op" id="6508464">(</span><span class="ident" id="6508465">r0</span><span class="op" id="6508467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508470">verify</span><span class="op" id="6508476">(</span><span class="ident" id="6508477">t</span><span class="op" id="6508478">,</span>&nbsp;<span class="ident" id="6508480">r0</span><span class="op" id="6508482">,</span>&nbsp;<span class="num" id="6508484">0</span><span class="op" id="6508485">,</span>&nbsp;<span class="num" id="6508487">0</span><span class="op" id="6508488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508491">verify</span><span class="op" id="6508497">(</span><span class="ident" id="6508498">t</span><span class="op" id="6508499">,</span>&nbsp;<span class="op" id="6508501">&amp;</span><span class="ident" id="6508502">r1</span><span class="op" id="6508504">,</span>&nbsp;<span class="num" id="6508506">1</span><span class="op" id="6508507">,</span>&nbsp;<span class="num" id="6508509">0</span><span class="op" id="6508510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6508513">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508524">r1</span><span class="op" id="6508526">.</span><span class="ident" id="6508527">Link</span><span class="op" id="6508531">(</span><span class="ident" id="6508532">r0</span><span class="op" id="6508534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508537">verify</span><span class="op" id="6508543">(</span><span class="ident" id="6508544">t</span><span class="op" id="6508545">,</span>&nbsp;<span class="ident" id="6508547">r0</span><span class="op" id="6508549">,</span>&nbsp;<span class="num" id="6508551">0</span><span class="op" id="6508552">,</span>&nbsp;<span class="num" id="6508554">0</span><span class="op" id="6508555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508558">verify</span><span class="op" id="6508564">(</span><span class="ident" id="6508565">t</span><span class="op" id="6508566">,</span>&nbsp;<span class="op" id="6508568">&amp;</span><span class="ident" id="6508569">r1</span><span class="op" id="6508571">,</span>&nbsp;<span class="num" id="6508573">1</span><span class="op" id="6508574">,</span>&nbsp;<span class="num" id="6508576">0</span><span class="op" id="6508577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6508580">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508591">r1</span><span class="op" id="6508593">.</span><span class="ident" id="6508594">Unlink</span><span class="op" id="6508600">(</span><span class="num" id="6508601">0</span><span class="op" id="6508602">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508605">verify</span><span class="op" id="6508611">(</span><span class="ident" id="6508612">t</span><span class="op" id="6508613">,</span>&nbsp;<span class="op" id="6508615">&amp;</span><span class="ident" id="6508616">r1</span><span class="op" id="6508618">,</span>&nbsp;<span class="num" id="6508620">1</span><span class="op" id="6508621">,</span>&nbsp;<span class="num" id="6508623">0</span><span class="op" id="6508624">)</span><br>
<span class="lineno"></span><span class="op" id="6508626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6508629">func</span>&nbsp;<span class="ident" id="6508634">makeN</span><span class="op" id="6508639">(</span><span class="ident" id="6508640">n</span>&nbsp;<span class="builtintype" id="6508642">int</span><span class="op" id="6508645">)</span>&nbsp;<span class="op" id="6508647">*</span><span class="ident" id="6508648">Ring</span>&nbsp;<span class="op" id="6508653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508656">r</span>&nbsp;<span class="op" id="6508658">:=</span>&nbsp;<span class="ident" id="6508661">New</span><span class="op" id="6508664">(</span><span class="ident" id="6508665">n</span><span class="op" id="6508666">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508669">for</span>&nbsp;<span class="ident" id="6508673">i</span>&nbsp;<span class="op" id="6508675">:=</span>&nbsp;<span class="num" id="6508678">1</span><span class="op" id="6508679">;</span>&nbsp;<span class="ident" id="6508681">i</span>&nbsp;<span class="op" id="6508683">&lt;=</span>&nbsp;<span class="ident" id="6508686">n</span><span class="op" id="6508687">;</span>&nbsp;<span class="ident" id="6508689">i</span><span class="op" id="6508690">++</span>&nbsp;<span class="op" id="6508693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508697">r</span><span class="op" id="6508698">.</span><span class="ident" id="6508699">Value</span>&nbsp;<span class="op" id="6508705">=</span>&nbsp;<span class="ident" id="6508707">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508711">r</span>&nbsp;<span class="op" id="6508713">=</span>&nbsp;<span class="ident" id="6508715">r</span><span class="op" id="6508716">.</span><span class="ident" id="6508717">Next</span><span class="op" id="6508721">(</span><span class="op" id="6508722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508728">return</span>&nbsp;<span class="ident" id="6508735">r</span><br>
<span class="lineno">125</span><span class="op" id="6508737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6508740">func</span>&nbsp;<span class="ident" id="6508745">sumN</span><span class="op" id="6508749">(</span><span class="ident" id="6508750">n</span>&nbsp;<span class="builtintype" id="6508752">int</span><span class="op" id="6508755">)</span>&nbsp;<span class="builtintype" id="6508757">int</span>&nbsp;<span class="op" id="6508761">{</span>&nbsp;<span class="keyword" id="6508763">return</span>&nbsp;<span class="op" id="6508770">(</span><span class="ident" id="6508771">n</span><span class="op" id="6508772">*</span><span class="ident" id="6508773">n</span>&nbsp;<span class="op" id="6508775">+</span>&nbsp;<span class="ident" id="6508777">n</span><span class="op" id="6508778">)</span>&nbsp;<span class="op" id="6508780">/</span>&nbsp;<span class="num" id="6508782">2</span>&nbsp;<span class="op" id="6508784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6508787">func</span>&nbsp;<span class="ident" id="6508792">TestNew</span><span class="op" id="6508799">(</span><span class="ident" id="6508800">t</span>&nbsp;<span class="op" id="6508802">*</span><span class="ident" id="6508803">testing</span><span class="op" id="6508810">.</span><span class="ident" id="6508811">T</span><span class="op" id="6508812">)</span>&nbsp;<span class="op" id="6508814">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508817">for</span>&nbsp;<span class="ident" id="6508821">i</span>&nbsp;<span class="op" id="6508823">:=</span>&nbsp;<span class="num" id="6508826">0</span><span class="op" id="6508827">;</span>&nbsp;<span class="ident" id="6508829">i</span>&nbsp;<span class="op" id="6508831">&lt;</span>&nbsp;<span class="num" id="6508833">10</span><span class="op" id="6508835">;</span>&nbsp;<span class="ident" id="6508837">i</span><span class="op" id="6508838">++</span>&nbsp;<span class="op" id="6508841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508845">r</span>&nbsp;<span class="op" id="6508847">:=</span>&nbsp;<span class="ident" id="6508850">New</span><span class="op" id="6508853">(</span><span class="ident" id="6508854">i</span><span class="op" id="6508855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508859">verify</span><span class="op" id="6508865">(</span><span class="ident" id="6508866">t</span><span class="op" id="6508867">,</span>&nbsp;<span class="ident" id="6508869">r</span><span class="op" id="6508870">,</span>&nbsp;<span class="ident" id="6508872">i</span><span class="op" id="6508873">,</span>&nbsp;<span class="op" id="6508875">-</span><span class="num" id="6508876">1</span><span class="op" id="6508877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6508883">for</span>&nbsp;<span class="ident" id="6508887">i</span>&nbsp;<span class="op" id="6508889">:=</span>&nbsp;<span class="num" id="6508892">0</span><span class="op" id="6508893">;</span>&nbsp;<span class="ident" id="6508895">i</span>&nbsp;<span class="op" id="6508897">&lt;</span>&nbsp;<span class="num" id="6508899">10</span><span class="op" id="6508901">;</span>&nbsp;<span class="ident" id="6508903">i</span><span class="op" id="6508904">++</span>&nbsp;<span class="op" id="6508907">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508911">r</span>&nbsp;<span class="op" id="6508913">:=</span>&nbsp;<span class="ident" id="6508916">makeN</span><span class="op" id="6508921">(</span><span class="ident" id="6508922">i</span><span class="op" id="6508923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508927">verify</span><span class="op" id="6508933">(</span><span class="ident" id="6508934">t</span><span class="op" id="6508935">,</span>&nbsp;<span class="ident" id="6508937">r</span><span class="op" id="6508938">,</span>&nbsp;<span class="ident" id="6508940">i</span><span class="op" id="6508941">,</span>&nbsp;<span class="ident" id="6508943">sumN</span><span class="op" id="6508947">(</span><span class="ident" id="6508948">i</span><span class="op" id="6508949">)</span><span class="op" id="6508950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6508953">}</span><br>
<span class="lineno"></span><span class="op" id="6508955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="6508958">func</span>&nbsp;<span class="ident" id="6508963">TestLink1</span><span class="op" id="6508972">(</span><span class="ident" id="6508973">t</span>&nbsp;<span class="op" id="6508975">*</span><span class="ident" id="6508976">testing</span><span class="op" id="6508983">.</span><span class="ident" id="6508984">T</span><span class="op" id="6508985">)</span>&nbsp;<span class="op" id="6508987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6508990">r1a</span>&nbsp;<span class="op" id="6508994">:=</span>&nbsp;<span class="ident" id="6508997">makeN</span><span class="op" id="6509002">(</span><span class="num" id="6509003">1</span><span class="op" id="6509004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6509007">var</span>&nbsp;<span class="ident" id="6509011">r1b</span>&nbsp;<span class="ident" id="6509015">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509021">r2a</span>&nbsp;<span class="op" id="6509025">:=</span>&nbsp;<span class="ident" id="6509028">r1a</span><span class="op" id="6509031">.</span><span class="ident" id="6509032">Link</span><span class="op" id="6509036">(</span><span class="op" id="6509037">&amp;</span><span class="ident" id="6509038">r1b</span><span class="op" id="6509041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509044">verify</span><span class="op" id="6509050">(</span><span class="ident" id="6509051">t</span><span class="op" id="6509052">,</span>&nbsp;<span class="ident" id="6509054">r2a</span><span class="op" id="6509057">,</span>&nbsp;<span class="num" id="6509059">2</span><span class="op" id="6509060">,</span>&nbsp;<span class="num" id="6509062">1</span><span class="op" id="6509063">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6509066">if</span>&nbsp;<span class="ident" id="6509069">r2a</span>&nbsp;<span class="op" id="6509073">!=</span>&nbsp;<span class="ident" id="6509076">r1a</span>&nbsp;<span class="op" id="6509080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509084">t</span><span class="op" id="6509085">.</span><span class="ident" id="6509086">Errorf</span><span class="op" id="6509092">(</span><span class="string" id="6509093">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="6509119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509126">r2b</span>&nbsp;<span class="op" id="6509130">:=</span>&nbsp;<span class="ident" id="6509133">r2a</span><span class="op" id="6509136">.</span><span class="ident" id="6509137">Link</span><span class="op" id="6509141">(</span><span class="ident" id="6509142">r2a</span><span class="op" id="6509145">.</span><span class="ident" id="6509146">Next</span><span class="op" id="6509150">(</span><span class="op" id="6509151">)</span><span class="op" id="6509152">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509155">verify</span><span class="op" id="6509161">(</span><span class="ident" id="6509162">t</span><span class="op" id="6509163">,</span>&nbsp;<span class="ident" id="6509165">r2b</span><span class="op" id="6509168">,</span>&nbsp;<span class="num" id="6509170">2</span><span class="op" id="6509171">,</span>&nbsp;<span class="num" id="6509173">1</span><span class="op" id="6509174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6509177">if</span>&nbsp;<span class="ident" id="6509180">r2b</span>&nbsp;<span class="op" id="6509184">!=</span>&nbsp;<span class="ident" id="6509187">r2a</span><span class="op" id="6509190">.</span><span class="ident" id="6509191">Next</span><span class="op" id="6509195">(</span><span class="op" id="6509196">)</span>&nbsp;<span class="op" id="6509198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509202">t</span><span class="op" id="6509203">.</span><span class="ident" id="6509204">Errorf</span><span class="op" id="6509210">(</span><span class="string" id="6509211">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="6509237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509244">r1c</span>&nbsp;<span class="op" id="6509248">:=</span>&nbsp;<span class="ident" id="6509251">r2b</span><span class="op" id="6509254">.</span><span class="ident" id="6509255">Link</span><span class="op" id="6509259">(</span><span class="ident" id="6509260">r2b</span><span class="op" id="6509263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509266">verify</span><span class="op" id="6509272">(</span><span class="ident" id="6509273">t</span><span class="op" id="6509274">,</span>&nbsp;<span class="ident" id="6509276">r1c</span><span class="op" id="6509279">,</span>&nbsp;<span class="num" id="6509281">1</span><span class="op" id="6509282">,</span>&nbsp;<span class="num" id="6509284">1</span><span class="op" id="6509285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509288">verify</span><span class="op" id="6509294">(</span><span class="ident" id="6509295">t</span><span class="op" id="6509296">,</span>&nbsp;<span class="ident" id="6509298">r2b</span><span class="op" id="6509301">,</span>&nbsp;<span class="num" id="6509303">1</span><span class="op" id="6509304">,</span>&nbsp;<span class="num" id="6509306">0</span><span class="op" id="6509307">)</span><br>
<span class="lineno"></span><span class="op" id="6509309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6509312">func</span>&nbsp;<span class="ident" id="6509317">TestLink2</span><span class="op" id="6509326">(</span><span class="ident" id="6509327">t</span>&nbsp;<span class="op" id="6509329">*</span><span class="ident" id="6509330">testing</span><span class="op" id="6509337">.</span><span class="ident" id="6509338">T</span><span class="op" id="6509339">)</span>&nbsp;<span class="op" id="6509341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6509344">var</span>&nbsp;<span class="ident" id="6509348">r0</span>&nbsp;<span class="op" id="6509351">*</span><span class="ident" id="6509352">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509358">r1a</span>&nbsp;<span class="op" id="6509362">:=</span>&nbsp;<span class="op" id="6509365">&amp;</span><span class="ident" id="6509366">Ring</span><span class="op" id="6509370">{</span><span class="ident" id="6509371">Value</span><span class="op" id="6509376">:</span>&nbsp;<span class="num" id="6509378">42</span><span class="op" id="6509380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509383">r1b</span>&nbsp;<span class="op" id="6509387">:=</span>&nbsp;<span class="op" id="6509390">&amp;</span><span class="ident" id="6509391">Ring</span><span class="op" id="6509395">{</span><span class="ident" id="6509396">Value</span><span class="op" id="6509401">:</span>&nbsp;<span class="num" id="6509403">77</span><span class="op" id="6509405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509408">r10</span>&nbsp;<span class="op" id="6509412">:=</span>&nbsp;<span class="ident" id="6509415">makeN</span><span class="op" id="6509420">(</span><span class="num" id="6509421">10</span><span class="op" id="6509423">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509427">r1a</span><span class="op" id="6509430">.</span><span class="ident" id="6509431">Link</span><span class="op" id="6509435">(</span><span class="ident" id="6509436">r0</span><span class="op" id="6509438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509441">verify</span><span class="op" id="6509447">(</span><span class="ident" id="6509448">t</span><span class="op" id="6509449">,</span>&nbsp;<span class="ident" id="6509451">r1a</span><span class="op" id="6509454">,</span>&nbsp;<span class="num" id="6509456">1</span><span class="op" id="6509457">,</span>&nbsp;<span class="num" id="6509459">42</span><span class="op" id="6509461">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509465">r1a</span><span class="op" id="6509468">.</span><span class="ident" id="6509469">Link</span><span class="op" id="6509473">(</span><span class="ident" id="6509474">r1b</span><span class="op" id="6509477">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509480">verify</span><span class="op" id="6509486">(</span><span class="ident" id="6509487">t</span><span class="op" id="6509488">,</span>&nbsp;<span class="ident" id="6509490">r1a</span><span class="op" id="6509493">,</span>&nbsp;<span class="num" id="6509495">2</span><span class="op" id="6509496">,</span>&nbsp;<span class="num" id="6509498">42</span><span class="op" id="6509500">+</span><span class="num" id="6509501">77</span><span class="op" id="6509503">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509507">r10</span><span class="op" id="6509510">.</span><span class="ident" id="6509511">Link</span><span class="op" id="6509515">(</span><span class="ident" id="6509516">r0</span><span class="op" id="6509518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509521">verify</span><span class="op" id="6509527">(</span><span class="ident" id="6509528">t</span><span class="op" id="6509529">,</span>&nbsp;<span class="ident" id="6509531">r10</span><span class="op" id="6509534">,</span>&nbsp;<span class="num" id="6509536">10</span><span class="op" id="6509538">,</span>&nbsp;<span class="ident" id="6509540">sumN</span><span class="op" id="6509544">(</span><span class="num" id="6509545">10</span><span class="op" id="6509547">)</span><span class="op" id="6509548">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509552">r10</span><span class="op" id="6509555">.</span><span class="ident" id="6509556">Link</span><span class="op" id="6509560">(</span><span class="ident" id="6509561">r1a</span><span class="op" id="6509564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509567">verify</span><span class="op" id="6509573">(</span><span class="ident" id="6509574">t</span><span class="op" id="6509575">,</span>&nbsp;<span class="ident" id="6509577">r10</span><span class="op" id="6509580">,</span>&nbsp;<span class="num" id="6509582">12</span><span class="op" id="6509584">,</span>&nbsp;<span class="ident" id="6509586">sumN</span><span class="op" id="6509590">(</span><span class="num" id="6509591">10</span><span class="op" id="6509593">)</span><span class="op" id="6509594">+</span><span class="num" id="6509595">42</span><span class="op" id="6509597">+</span><span class="num" id="6509598">77</span><span class="op" id="6509600">)</span><br>
<span class="lineno"></span><span class="op" id="6509602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6509605">func</span>&nbsp;<span class="ident" id="6509610">TestLink3</span><span class="op" id="6509619">(</span><span class="ident" id="6509620">t</span>&nbsp;<span class="op" id="6509622">*</span><span class="ident" id="6509623">testing</span><span class="op" id="6509630">.</span><span class="ident" id="6509631">T</span><span class="op" id="6509632">)</span>&nbsp;<span class="op" id="6509634">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6509637">var</span>&nbsp;<span class="ident" id="6509641">r</span>&nbsp;<span class="ident" id="6509643">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509649">n</span>&nbsp;<span class="op" id="6509651">:=</span>&nbsp;<span class="num" id="6509654">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6509657">for</span>&nbsp;<span class="ident" id="6509661">i</span>&nbsp;<span class="op" id="6509663">:=</span>&nbsp;<span class="num" id="6509666">1</span><span class="op" id="6509667">;</span>&nbsp;<span class="ident" id="6509669">i</span>&nbsp;<span class="op" id="6509671">&lt;</span>&nbsp;<span class="num" id="6509673">100</span><span class="op" id="6509676">;</span>&nbsp;<span class="ident" id="6509678">i</span><span class="op" id="6509679">++</span>&nbsp;<span class="op" id="6509682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509686">n</span>&nbsp;<span class="op" id="6509688">+=</span>&nbsp;<span class="ident" id="6509691">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509695">verify</span><span class="op" id="6509701">(</span><span class="ident" id="6509702">t</span><span class="op" id="6509703">,</span>&nbsp;<span class="ident" id="6509705">r</span><span class="op" id="6509706">.</span><span class="ident" id="6509707">Link</span><span class="op" id="6509711">(</span><span class="ident" id="6509712">New</span><span class="op" id="6509715">(</span><span class="ident" id="6509716">i</span><span class="op" id="6509717">)</span><span class="op" id="6509718">)</span><span class="op" id="6509719">,</span>&nbsp;<span class="ident" id="6509721">n</span><span class="op" id="6509722">,</span>&nbsp;<span class="op" id="6509724">-</span><span class="num" id="6509725">1</span><span class="op" id="6509726">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509729">}</span><br>
<span class="lineno"></span><span class="op" id="6509731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6509734">func</span>&nbsp;<span class="ident" id="6509739">TestUnlink</span><span class="op" id="6509749">(</span><span class="ident" id="6509750">t</span>&nbsp;<span class="op" id="6509752">*</span><span class="ident" id="6509753">testing</span><span class="op" id="6509760">.</span><span class="ident" id="6509761">T</span><span class="op" id="6509762">)</span>&nbsp;<span class="op" id="6509764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509767">r10</span>&nbsp;<span class="op" id="6509771">:=</span>&nbsp;<span class="ident" id="6509774">makeN</span><span class="op" id="6509779">(</span><span class="num" id="6509780">10</span><span class="op" id="6509782">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509785">s10</span>&nbsp;<span class="op" id="6509789">:=</span>&nbsp;<span class="ident" id="6509792">r10</span><span class="op" id="6509795">.</span><span class="ident" id="6509796">Move</span><span class="op" id="6509800">(</span><span class="num" id="6509801">6</span><span class="op" id="6509802">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509806">sum10</span>&nbsp;<span class="op" id="6509812">:=</span>&nbsp;<span class="ident" id="6509815">sumN</span><span class="op" id="6509819">(</span><span class="num" id="6509820">10</span><span class="op" id="6509822">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509826">verify</span><span class="op" id="6509832">(</span><span class="ident" id="6509833">t</span><span class="op" id="6509834">,</span>&nbsp;<span class="ident" id="6509836">r10</span><span class="op" id="6509839">,</span>&nbsp;<span class="num" id="6509841">10</span><span class="op" id="6509843">,</span>&nbsp;<span class="ident" id="6509845">sum10</span><span class="op" id="6509850">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509853">verify</span><span class="op" id="6509859">(</span><span class="ident" id="6509860">t</span><span class="op" id="6509861">,</span>&nbsp;<span class="ident" id="6509863">s10</span><span class="op" id="6509866">,</span>&nbsp;<span class="num" id="6509868">10</span><span class="op" id="6509870">,</span>&nbsp;<span class="ident" id="6509872">sum10</span><span class="op" id="6509877">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509881">r0</span>&nbsp;<span class="op" id="6509884">:=</span>&nbsp;<span class="ident" id="6509887">r10</span><span class="op" id="6509890">.</span><span class="ident" id="6509891">Unlink</span><span class="op" id="6509897">(</span><span class="num" id="6509898">0</span><span class="op" id="6509899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509902">verify</span><span class="op" id="6509908">(</span><span class="ident" id="6509909">t</span><span class="op" id="6509910">,</span>&nbsp;<span class="ident" id="6509912">r0</span><span class="op" id="6509914">,</span>&nbsp;<span class="num" id="6509916">0</span><span class="op" id="6509917">,</span>&nbsp;<span class="num" id="6509919">0</span><span class="op" id="6509920">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509924">r1</span>&nbsp;<span class="op" id="6509927">:=</span>&nbsp;<span class="ident" id="6509930">r10</span><span class="op" id="6509933">.</span><span class="ident" id="6509934">Unlink</span><span class="op" id="6509940">(</span><span class="num" id="6509941">1</span><span class="op" id="6509942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509945">verify</span><span class="op" id="6509951">(</span><span class="ident" id="6509952">t</span><span class="op" id="6509953">,</span>&nbsp;<span class="ident" id="6509955">r1</span><span class="op" id="6509957">,</span>&nbsp;<span class="num" id="6509959">1</span><span class="op" id="6509960">,</span>&nbsp;<span class="num" id="6509962">2</span><span class="op" id="6509963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509966">verify</span><span class="op" id="6509972">(</span><span class="ident" id="6509973">t</span><span class="op" id="6509974">,</span>&nbsp;<span class="ident" id="6509976">r10</span><span class="op" id="6509979">,</span>&nbsp;<span class="num" id="6509981">9</span><span class="op" id="6509982">,</span>&nbsp;<span class="ident" id="6509984">sum10</span><span class="op" id="6509989">-</span><span class="num" id="6509990">2</span><span class="op" id="6509991">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509995">r9</span>&nbsp;<span class="op" id="6509998">:=</span>&nbsp;<span class="ident" id="6510001">r10</span><span class="op" id="6510004">.</span><span class="ident" id="6510005">Unlink</span><span class="op" id="6510011">(</span><span class="num" id="6510012">9</span><span class="op" id="6510013">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510016">verify</span><span class="op" id="6510022">(</span><span class="ident" id="6510023">t</span><span class="op" id="6510024">,</span>&nbsp;<span class="ident" id="6510026">r9</span><span class="op" id="6510028">,</span>&nbsp;<span class="num" id="6510030">9</span><span class="op" id="6510031">,</span>&nbsp;<span class="ident" id="6510033">sum10</span><span class="op" id="6510038">-</span><span class="num" id="6510039">2</span><span class="op" id="6510040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510043">verify</span><span class="op" id="6510049">(</span><span class="ident" id="6510050">t</span><span class="op" id="6510051">,</span>&nbsp;<span class="ident" id="6510053">r10</span><span class="op" id="6510056">,</span>&nbsp;<span class="num" id="6510058">9</span><span class="op" id="6510059">,</span>&nbsp;<span class="ident" id="6510061">sum10</span><span class="op" id="6510066">-</span><span class="num" id="6510067">2</span><span class="op" id="6510068">)</span><br>
<span class="lineno"></span><span class="op" id="6510070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6510073">func</span>&nbsp;<span class="ident" id="6510078">TestLinkUnlink</span><span class="op" id="6510092">(</span><span class="ident" id="6510093">t</span>&nbsp;<span class="op" id="6510095">*</span><span class="ident" id="6510096">testing</span><span class="op" id="6510103">.</span><span class="ident" id="6510104">T</span><span class="op" id="6510105">)</span>&nbsp;<span class="op" id="6510107">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510110">for</span>&nbsp;<span class="ident" id="6510114">i</span>&nbsp;<span class="op" id="6510116">:=</span>&nbsp;<span class="num" id="6510119">1</span><span class="op" id="6510120">;</span>&nbsp;<span class="ident" id="6510122">i</span>&nbsp;<span class="op" id="6510124">&lt;</span>&nbsp;<span class="num" id="6510126">4</span><span class="op" id="6510127">;</span>&nbsp;<span class="ident" id="6510129">i</span><span class="op" id="6510130">++</span>&nbsp;<span class="op" id="6510133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510137">ri</span>&nbsp;<span class="op" id="6510140">:=</span>&nbsp;<span class="ident" id="6510143">New</span><span class="op" id="6510146">(</span><span class="ident" id="6510147">i</span><span class="op" id="6510148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510152">for</span>&nbsp;<span class="ident" id="6510156">j</span>&nbsp;<span class="op" id="6510158">:=</span>&nbsp;<span class="num" id="6510161">0</span><span class="op" id="6510162">;</span>&nbsp;<span class="ident" id="6510164">j</span>&nbsp;<span class="op" id="6510166">&lt;</span>&nbsp;<span class="ident" id="6510168">i</span><span class="op" id="6510169">;</span>&nbsp;<span class="ident" id="6510171">j</span><span class="op" id="6510172">++</span>&nbsp;<span class="op" id="6510175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510180">rj</span>&nbsp;<span class="op" id="6510183">:=</span>&nbsp;<span class="ident" id="6510186">ri</span><span class="op" id="6510188">.</span><span class="ident" id="6510189">Unlink</span><span class="op" id="6510195">(</span><span class="ident" id="6510196">j</span><span class="op" id="6510197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510202">verify</span><span class="op" id="6510208">(</span><span class="ident" id="6510209">t</span><span class="op" id="6510210">,</span>&nbsp;<span class="ident" id="6510212">rj</span><span class="op" id="6510214">,</span>&nbsp;<span class="ident" id="6510216">j</span><span class="op" id="6510217">,</span>&nbsp;<span class="op" id="6510219">-</span><span class="num" id="6510220">1</span><span class="op" id="6510221">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510226">verify</span><span class="op" id="6510232">(</span><span class="ident" id="6510233">t</span><span class="op" id="6510234">,</span>&nbsp;<span class="ident" id="6510236">ri</span><span class="op" id="6510238">,</span>&nbsp;<span class="ident" id="6510240">i</span><span class="op" id="6510241">-</span><span class="ident" id="6510242">j</span><span class="op" id="6510243">,</span>&nbsp;<span class="op" id="6510245">-</span><span class="num" id="6510246">1</span><span class="op" id="6510247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510252">ri</span><span class="op" id="6510254">.</span><span class="ident" id="6510255">Link</span><span class="op" id="6510259">(</span><span class="ident" id="6510260">rj</span><span class="op" id="6510262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510267">verify</span><span class="op" id="6510273">(</span><span class="ident" id="6510274">t</span><span class="op" id="6510275">,</span>&nbsp;<span class="ident" id="6510277">ri</span><span class="op" id="6510279">,</span>&nbsp;<span class="ident" id="6510281">i</span><span class="op" id="6510282">,</span>&nbsp;<span class="op" id="6510284">-</span><span class="num" id="6510285">1</span><span class="op" id="6510286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510293">}</span><br>
<span class="lineno">220</span><span class="op" id="6510295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6510298">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="6510359">func</span>&nbsp;<span class="ident" id="6510364">TestMoveEmptyRing</span><span class="op" id="6510381">(</span><span class="ident" id="6510382">t</span>&nbsp;<span class="op" id="6510384">*</span><span class="ident" id="6510385">testing</span><span class="op" id="6510392">.</span><span class="ident" id="6510393">T</span><span class="op" id="6510394">)</span>&nbsp;<span class="op" id="6510396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510399">var</span>&nbsp;<span class="ident" id="6510403">r</span>&nbsp;<span class="ident" id="6510405">Ring</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510412">r</span><span class="op" id="6510413">.</span><span class="ident" id="6510414">Move</span><span class="op" id="6510418">(</span><span class="num" id="6510419">1</span><span class="op" id="6510420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510423">verify</span><span class="op" id="6510429">(</span><span class="ident" id="6510430">t</span><span class="op" id="6510431">,</span>&nbsp;<span class="op" id="6510433">&amp;</span><span class="ident" id="6510434">r</span><span class="op" id="6510435">,</span>&nbsp;<span class="num" id="6510437">1</span><span class="op" id="6510438">,</span>&nbsp;<span class="num" id="6510440">0</span><span class="op" id="6510441">)</span><br>
<span class="lineno"></span><span class="op" id="6510443">}</span>
</div>
</body>
</html>
