<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc/jsonrpc</h2>
<ul>
<li><a href="/gostd/net/rpc/jsonrpc/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/net/rpc/jsonrpc/client.go.html" class="current">client.go</a></li>
<li><a href="/gostd/net/rpc/jsonrpc/server.go.html">server.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6140336">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6140392">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6140446">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6140497">//&nbsp;Package&nbsp;jsonrpc&nbsp;implements&nbsp;a&nbsp;JSON-RPC&nbsp;ClientCodec&nbsp;and&nbsp;ServerCodec</span><br>
<span class="lineno"></span><span class="comment" id="6140566">//&nbsp;for&nbsp;the&nbsp;rpc&nbsp;package.</span><br>
<span class="lineno"></span><span class="keyword" id="6140590">package</span>&nbsp;<span class="ident" id="6140598">jsonrpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6140607">import</span>&nbsp;<span class="op" id="6140614">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6140617">&#34;encoding/json&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6140634">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6140641">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6140647">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6140654">&#34;net/rpc&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6140665">&#34;sync&#34;</span><br>
<span class="lineno"></span><span class="op" id="6140672">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6140675">type</span>&nbsp;<span class="ident" id="6140680">clientCodec</span>&nbsp;<span class="keyword" id="6140692">struct</span>&nbsp;<span class="op" id="6140699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6140702">dec</span>&nbsp;<span class="op" id="6140706">*</span><span class="ident" id="6140707"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140617">json</a></span><span class="op" id="6140711">.</span><span class="ident" id="6140712"><a href="/gostd/encoding/json/stream.go.html#4044186">Decoder</a></span>&nbsp;<span class="comment" id="6140720">//&nbsp;for&nbsp;reading&nbsp;JSON&nbsp;values</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6140748">enc</span>&nbsp;<span class="op" id="6140752">*</span><span class="ident" id="6140753"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140617">json</a></span><span class="op" id="6140757">.</span><span class="ident" id="6140758"><a href="/gostd/encoding/json/stream.go.html#4047236">Encoder</a></span>&nbsp;<span class="comment" id="6140766">//&nbsp;for&nbsp;writing&nbsp;JSON&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6140794">c</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6140798"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140641">io</a></span><span class="op" id="6140800">.</span><span class="ident" id="6140801"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6140810">//&nbsp;temporary&nbsp;work&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6140835">req</span>&nbsp;&nbsp;<span class="ident" id="6140840"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141517">clientRequest</a></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6140855">resp</span>&nbsp;<span class="ident" id="6140860"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141916">clientResponse</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6140877">//&nbsp;JSON-RPC&nbsp;responses&nbsp;include&nbsp;the&nbsp;request&nbsp;id&nbsp;but&nbsp;not&nbsp;the&nbsp;request&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6140951">//&nbsp;Package&nbsp;rpc&nbsp;expects&nbsp;both.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6140981">//&nbsp;We&nbsp;save&nbsp;the&nbsp;request&nbsp;method&nbsp;in&nbsp;pending&nbsp;when&nbsp;sending&nbsp;a&nbsp;request</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6141046">//&nbsp;and&nbsp;then&nbsp;look&nbsp;it&nbsp;up&nbsp;by&nbsp;request&nbsp;ID&nbsp;when&nbsp;filling&nbsp;out&nbsp;the&nbsp;rpc&nbsp;Response.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141119">mutex</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6141127"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140665">sync</a></span><span class="op" id="6141131">.</span><span class="ident" id="6141132"><a href="/gostd/sync/mutex.go.html#1443974">Mutex</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6141145">//&nbsp;protects&nbsp;pending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141166">pending</span>&nbsp;<span class="keyword" id="6141174">map</span><span class="op" id="6141177">[</span><span class="builtintype" id="6141178">uint64</span><span class="op" id="6141184">]</span><span class="builtintype" id="6141185">string</span>&nbsp;<span class="comment" id="6141192">//&nbsp;map&nbsp;request&nbsp;id&nbsp;to&nbsp;method&nbsp;name</span><br>
<span class="lineno"></span><span class="op" id="6141225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="6141228">//&nbsp;NewClientCodec&nbsp;returns&nbsp;a&nbsp;new&nbsp;rpc.ClientCodec&nbsp;using&nbsp;JSON-RPC&nbsp;on&nbsp;conn.</span><br>
<span class="lineno"></span><span class="keyword" id="6141300">func</span>&nbsp;<span class="ident" id="6141305">NewClientCodec</span><span class="op" id="6141319">(</span><span class="ident" id="6141320">conn</span>&nbsp;<span class="ident" id="6141325"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140641">io</a></span><span class="op" id="6141327">.</span><span class="ident" id="6141328"><a href="/gostd/io/io.go.html#1423677">ReadWriteCloser</a></span><span class="op" id="6141343">)</span>&nbsp;<span class="ident" id="6141345"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140654">rpc</a></span><span class="op" id="6141348">.</span><span class="ident" id="6141349"><a href="/gostd/net/rpc/client.go.html#5263101">ClientCodec</a></span>&nbsp;<span class="op" id="6141361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6141364">return</span>&nbsp;<span class="op" id="6141371">&amp;</span><span class="ident" id="6141372"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140680">clientCodec</a></span><span class="op" id="6141383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141387"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140702">dec</a></span><span class="op" id="6141390">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141396"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140617">json</a></span><span class="op" id="6141400">.</span><span class="ident" id="6141401"><a href="/gostd/encoding/json/stream.go.html#4044448">NewDecoder</a></span><span class="op" id="6141411">(</span><span class="ident" id="6141412"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141320">conn</a></span><span class="op" id="6141416">)</span><span class="op" id="6141417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141421"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140748">enc</a></span><span class="op" id="6141424">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141430"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140617">json</a></span><span class="op" id="6141434">.</span><span class="ident" id="6141435"><a href="/gostd/encoding/json/stream.go.html#4047341">NewEncoder</a></span><span class="op" id="6141445">(</span><span class="ident" id="6141446"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141320">conn</a></span><span class="op" id="6141450">)</span><span class="op" id="6141451">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141455"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140794">c</a></span><span class="op" id="6141456">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141464"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141320">conn</a></span><span class="op" id="6141468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141472"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141166">pending</a></span><span class="op" id="6141479">:</span>&nbsp;<span class="builtinfunc" id="6141481">make</span><span class="op" id="6141485">(</span><span class="keyword" id="6141486">map</span><span class="op" id="6141489">[</span><span class="builtintype" id="6141490">uint64</span><span class="op" id="6141496">]</span><span class="builtintype" id="6141497">string</span><span class="op" id="6141503">)</span><span class="op" id="6141504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6141507">}</span><br>
<span class="lineno"></span><span class="op" id="6141509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="6141512">type</span>&nbsp;<span class="ident" id="6141517">clientRequest</span>&nbsp;<span class="keyword" id="6141531">struct</span>&nbsp;<span class="op" id="6141538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141541">Method</span>&nbsp;<span class="builtintype" id="6141548">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6141563">`json:&#34;method&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141580">Params</span>&nbsp;<span class="op" id="6141587">[</span><span class="num" id="6141588">1</span><span class="op" id="6141589">]</span><span class="keyword" id="6141590">interface</span><span class="op" id="6141599">{</span><span class="op" id="6141600">}</span>&nbsp;<span class="string" id="6141602">`json:&#34;params&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141619">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6141626">uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6141641">`json:&#34;id&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6141653">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6141656">func</span>&nbsp;<span class="op" id="6141661">(</span><span class="ident" id="6141662">c</span>&nbsp;<span class="op" id="6141664">*</span><span class="ident" id="6141665"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140680">clientCodec</a></span><span class="op" id="6141676">)</span>&nbsp;<span class="ident" id="6141678">WriteRequest</span><span class="op" id="6141690">(</span><span class="ident" id="6141691">r</span>&nbsp;<span class="op" id="6141693">*</span><span class="ident" id="6141694"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140654">rpc</a></span><span class="op" id="6141697">.</span><span class="ident" id="6141698"><a href="/gostd/net/rpc/server.go.html#5277366">Request</a></span><span class="op" id="6141705">,</span>&nbsp;<span class="ident" id="6141707">param</span>&nbsp;<span class="keyword" id="6141713">interface</span><span class="op" id="6141722">{</span><span class="op" id="6141723">}</span><span class="op" id="6141724">)</span>&nbsp;<span class="builtintype" id="6141726">error</span>&nbsp;<span class="op" id="6141732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141735"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141736">.</span><span class="ident" id="6141737"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141119">mutex</a></span><span class="op" id="6141742">.</span><span class="ident" id="6141743"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="6141747">(</span><span class="op" id="6141748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141751"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141752">.</span><span class="ident" id="6141753"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141166">pending</a></span><span class="op" id="6141760">[</span><span class="ident" id="6141761"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141691">r</a></span><span class="op" id="6141762">.</span><span class="ident" id="6141763"><a href="/gostd/net/rpc/server.go.html#5277436">Seq</a></span><span class="op" id="6141766">]</span>&nbsp;<span class="op" id="6141768">=</span>&nbsp;<span class="ident" id="6141770"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141691">r</a></span><span class="op" id="6141771">.</span><span class="ident" id="6141772"><a href="/gostd/net/rpc/server.go.html#5277384">ServiceMethod</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141787"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141788">.</span><span class="ident" id="6141789"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141119">mutex</a></span><span class="op" id="6141794">.</span><span class="ident" id="6141795"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="6141801">(</span><span class="op" id="6141802">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141805"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141806">.</span><span class="ident" id="6141807"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140835">req</a></span><span class="op" id="6141810">.</span><span class="ident" id="6141811"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141541">Method</a></span>&nbsp;<span class="op" id="6141818">=</span>&nbsp;<span class="ident" id="6141820"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141691">r</a></span><span class="op" id="6141821">.</span><span class="ident" id="6141822"><a href="/gostd/net/rpc/server.go.html#5277384">ServiceMethod</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141837"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141838">.</span><span class="ident" id="6141839"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140835">req</a></span><span class="op" id="6141842">.</span><span class="ident" id="6141843"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141580">Params</a></span><span class="op" id="6141849">[</span><span class="num" id="6141850">0</span><span class="op" id="6141851">]</span>&nbsp;<span class="op" id="6141853">=</span>&nbsp;<span class="ident" id="6141855"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141707">param</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141862"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141863">.</span><span class="ident" id="6141864"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140835">req</a></span><span class="op" id="6141867">.</span><span class="ident" id="6141868"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141619">Id</a></span>&nbsp;<span class="op" id="6141871">=</span>&nbsp;<span class="ident" id="6141873"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141691">r</a></span><span class="op" id="6141874">.</span><span class="ident" id="6141875"><a href="/gostd/net/rpc/server.go.html#5277436">Seq</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6141880">return</span>&nbsp;<span class="ident" id="6141887"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141888">.</span><span class="ident" id="6141889"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140748">enc</a></span><span class="op" id="6141892">.</span><span class="ident" id="6141893"><a href="/gostd/encoding/json/stream.go.html#4047611">Encode</a></span><span class="op" id="6141899">(</span><span class="op" id="6141900">&amp;</span><span class="ident" id="6141901"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141662">c</a></span><span class="op" id="6141902">.</span><span class="ident" id="6141903"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140835">req</a></span><span class="op" id="6141906">)</span><br>
<span class="lineno"></span><span class="op" id="6141908">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="6141911">type</span>&nbsp;<span class="ident" id="6141916">clientResponse</span>&nbsp;<span class="keyword" id="6141931">struct</span>&nbsp;<span class="op" id="6141938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141941">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6141948">uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6141965">`json:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6141978">Result</span>&nbsp;<span class="op" id="6141985">*</span><span class="ident" id="6141986"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140617">json</a></span><span class="op" id="6141990">.</span><span class="ident" id="6141991"><a href="/gostd/encoding/json/stream.go.html#4048300">RawMessage</a></span>&nbsp;<span class="string" id="6142002">`json:&#34;result&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142019">Error</span>&nbsp;&nbsp;<span class="keyword" id="6142026">interface</span><span class="op" id="6142035">{</span><span class="op" id="6142036">}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6142043">`json:&#34;error&#34;`</span><br>
<span class="lineno">65</span><span class="op" id="6142058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6142061">func</span>&nbsp;<span class="op" id="6142066">(</span><span class="ident" id="6142067">r</span>&nbsp;<span class="op" id="6142069">*</span><span class="ident" id="6142070"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141916">clientResponse</a></span><span class="op" id="6142084">)</span>&nbsp;<span class="ident" id="6142086">reset</span><span class="op" id="6142091">(</span><span class="op" id="6142092">)</span>&nbsp;<span class="op" id="6142094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142097"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142067">r</a></span><span class="op" id="6142098">.</span><span class="ident" id="6142099"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141941">Id</a></span>&nbsp;<span class="op" id="6142102">=</span>&nbsp;<span class="num" id="6142104">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142107"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142067">r</a></span><span class="op" id="6142108">.</span><span class="ident" id="6142109"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141978">Result</a></span>&nbsp;<span class="op" id="6142116">=</span>&nbsp;<span class="builtintype" id="6142118">nil</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142123"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142067">r</a></span><span class="op" id="6142124">.</span><span class="ident" id="6142125"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142019">Error</a></span>&nbsp;<span class="op" id="6142131">=</span>&nbsp;<span class="builtintype" id="6142133">nil</span><br>
<span class="lineno"></span><span class="op" id="6142137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6142140">func</span>&nbsp;<span class="op" id="6142145">(</span><span class="ident" id="6142146">c</span>&nbsp;<span class="op" id="6142148">*</span><span class="ident" id="6142149"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140680">clientCodec</a></span><span class="op" id="6142160">)</span>&nbsp;<span class="ident" id="6142162">ReadResponseHeader</span><span class="op" id="6142180">(</span><span class="ident" id="6142181">r</span>&nbsp;<span class="op" id="6142183">*</span><span class="ident" id="6142184"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140654">rpc</a></span><span class="op" id="6142187">.</span><span class="ident" id="6142188"><a href="/gostd/net/rpc/server.go.html#5277724">Response</a></span><span class="op" id="6142196">)</span>&nbsp;<span class="builtintype" id="6142198">error</span>&nbsp;<span class="op" id="6142204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142207"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142208">.</span><span class="ident" id="6142209"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142213">.</span><span class="ident" id="6142214"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142086">reset</a></span><span class="op" id="6142219">(</span><span class="op" id="6142220">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142223">if</span>&nbsp;<span class="ident" id="6142226">err</span>&nbsp;<span class="op" id="6142230">:=</span>&nbsp;<span class="ident" id="6142233"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142234">.</span><span class="ident" id="6142235"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140702">dec</a></span><span class="op" id="6142238">.</span><span class="ident" id="6142239"><a href="/gostd/encoding/json/stream.go.html#4044912">Decode</a></span><span class="op" id="6142245">(</span><span class="op" id="6142246">&amp;</span><span class="ident" id="6142247"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142248">.</span><span class="ident" id="6142249"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142253">)</span><span class="op" id="6142254">;</span>&nbsp;<span class="ident" id="6142256"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142226">err</a></span>&nbsp;<span class="op" id="6142260">!=</span>&nbsp;<span class="builtintype" id="6142263">nil</span>&nbsp;<span class="op" id="6142267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142271">return</span>&nbsp;<span class="ident" id="6142278"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142226">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6142283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142287"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142288">.</span><span class="ident" id="6142289"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141119">mutex</a></span><span class="op" id="6142294">.</span><span class="ident" id="6142295"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="6142299">(</span><span class="op" id="6142300">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142303"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142181">r</a></span><span class="op" id="6142304">.</span><span class="ident" id="6142305"><a href="/gostd/net/rpc/server.go.html#5277743">ServiceMethod</a></span>&nbsp;<span class="op" id="6142319">=</span>&nbsp;<span class="ident" id="6142321"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142322">.</span><span class="ident" id="6142323"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141166">pending</a></span><span class="op" id="6142330">[</span><span class="ident" id="6142331"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142332">.</span><span class="ident" id="6142333"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142337">.</span><span class="ident" id="6142338"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141941">Id</a></span><span class="op" id="6142340">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6142343">delete</span><span class="op" id="6142349">(</span><span class="ident" id="6142350"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142351">.</span><span class="ident" id="6142352"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141166">pending</a></span><span class="op" id="6142359">,</span>&nbsp;<span class="ident" id="6142361"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142362">.</span><span class="ident" id="6142363"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142367">.</span><span class="ident" id="6142368"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141941">Id</a></span><span class="op" id="6142370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142373"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142374">.</span><span class="ident" id="6142375"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141119">mutex</a></span><span class="op" id="6142380">.</span><span class="ident" id="6142381"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="6142387">(</span><span class="op" id="6142388">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142392"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142181">r</a></span><span class="op" id="6142393">.</span><span class="ident" id="6142394"><a href="/gostd/net/rpc/server.go.html#5277853">Error</a></span>&nbsp;<span class="op" id="6142400">=</span>&nbsp;<span class="string" id="6142402">&#34;&#34;</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142406"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142181">r</a></span><span class="op" id="6142407">.</span><span class="ident" id="6142408"><a href="/gostd/net/rpc/server.go.html#5277798">Seq</a></span>&nbsp;<span class="op" id="6142412">=</span>&nbsp;<span class="ident" id="6142414"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142415">.</span><span class="ident" id="6142416"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142420">.</span><span class="ident" id="6142421"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141941">Id</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142425">if</span>&nbsp;<span class="ident" id="6142428"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142429">.</span><span class="ident" id="6142430"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142434">.</span><span class="ident" id="6142435"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142019">Error</a></span>&nbsp;<span class="op" id="6142441">!=</span>&nbsp;<span class="builtintype" id="6142444">nil</span>&nbsp;<span class="op" id="6142448">||</span>&nbsp;<span class="ident" id="6142451"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142452">.</span><span class="ident" id="6142453"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142457">.</span><span class="ident" id="6142458"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141978">Result</a></span>&nbsp;<span class="op" id="6142465">==</span>&nbsp;<span class="builtintype" id="6142468">nil</span>&nbsp;<span class="op" id="6142472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142476">x</span><span class="op" id="6142477">,</span>&nbsp;<span class="ident" id="6142479">ok</span>&nbsp;<span class="op" id="6142482">:=</span>&nbsp;<span class="ident" id="6142485"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142486">.</span><span class="ident" id="6142487"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142491">.</span><span class="ident" id="6142492"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142019">Error</a></span><span class="op" id="6142497">.</span><span class="op" id="6142498">(</span><span class="builtintype" id="6142499">string</span><span class="op" id="6142505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142509">if</span>&nbsp;<span class="op" id="6142512">!</span><span class="ident" id="6142513"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142479">ok</a></span>&nbsp;<span class="op" id="6142516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142521">return</span>&nbsp;<span class="ident" id="6142528"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140634">fmt</a></span><span class="op" id="6142531">.</span><span class="ident" id="6142532"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="6142538">(</span><span class="string" id="6142539">&#34;invalid&nbsp;error&nbsp;%v&#34;</span><span class="op" id="6142557">,</span>&nbsp;<span class="ident" id="6142559"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142146">c</a></span><span class="op" id="6142560">.</span><span class="ident" id="6142561"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142565">.</span><span class="ident" id="6142566"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142019">Error</a></span><span class="op" id="6142571">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6142575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142579">if</span>&nbsp;<span class="ident" id="6142582"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142476">x</a></span>&nbsp;<span class="op" id="6142584">==</span>&nbsp;<span class="string" id="6142587">&#34;&#34;</span>&nbsp;<span class="op" id="6142590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142595"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142476">x</a></span>&nbsp;<span class="op" id="6142597">=</span>&nbsp;<span class="string" id="6142599">&#34;unspecified&nbsp;error&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6142621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6142625"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142181">r</a></span><span class="op" id="6142626">.</span><span class="ident" id="6142627"><a href="/gostd/net/rpc/server.go.html#5277853">Error</a></span>&nbsp;<span class="op" id="6142633">=</span>&nbsp;<span class="ident" id="6142635"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142476">x</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6142638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142641">return</span>&nbsp;<span class="builtintype" id="6142648">nil</span><br>
<span class="lineno"></span><span class="op" id="6142652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6142655">func</span>&nbsp;<span class="op" id="6142660">(</span><span class="ident" id="6142661">c</span>&nbsp;<span class="op" id="6142663">*</span><span class="ident" id="6142664"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140680">clientCodec</a></span><span class="op" id="6142675">)</span>&nbsp;<span class="ident" id="6142677">ReadResponseBody</span><span class="op" id="6142693">(</span><span class="ident" id="6142694">x</span>&nbsp;<span class="keyword" id="6142696">interface</span><span class="op" id="6142705">{</span><span class="op" id="6142706">}</span><span class="op" id="6142707">)</span>&nbsp;<span class="builtintype" id="6142709">error</span>&nbsp;<span class="op" id="6142715">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142718">if</span>&nbsp;<span class="ident" id="6142721"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142694">x</a></span>&nbsp;<span class="op" id="6142723">==</span>&nbsp;<span class="builtintype" id="6142726">nil</span>&nbsp;<span class="op" id="6142730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142734">return</span>&nbsp;<span class="builtintype" id="6142741">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6142746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142749">return</span>&nbsp;<span class="ident" id="6142756"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140617">json</a></span><span class="op" id="6142760">.</span><span class="ident" id="6142761"><a href="/gostd/encoding/json/decode.go.html#3965482">Unmarshal</a></span><span class="op" id="6142770">(</span><span class="op" id="6142771">*</span><span class="ident" id="6142772"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142661">c</a></span><span class="op" id="6142773">.</span><span class="ident" id="6142774"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140855">resp</a></span><span class="op" id="6142778">.</span><span class="ident" id="6142779"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141978">Result</a></span><span class="op" id="6142785">,</span>&nbsp;<span class="ident" id="6142787"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142694">x</a></span><span class="op" id="6142788">)</span><br>
<span class="lineno"></span><span class="op" id="6142790">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="6142793">func</span>&nbsp;<span class="op" id="6142798">(</span><span class="ident" id="6142799">c</span>&nbsp;<span class="op" id="6142801">*</span><span class="ident" id="6142802"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140680">clientCodec</a></span><span class="op" id="6142813">)</span>&nbsp;<span class="ident" id="6142815">Close</span><span class="op" id="6142820">(</span><span class="op" id="6142821">)</span>&nbsp;<span class="builtintype" id="6142823">error</span>&nbsp;<span class="op" id="6142829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6142832">return</span>&nbsp;<span class="ident" id="6142839"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142799">c</a></span><span class="op" id="6142840">.</span><span class="ident" id="6142841"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140794">c</a></span><span class="op" id="6142842">.</span><span class="ident" id="6142843"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="6142848">(</span><span class="op" id="6142849">)</span><br>
<span class="lineno"></span><span class="op" id="6142851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="6142854">//&nbsp;NewClient&nbsp;returns&nbsp;a&nbsp;new&nbsp;rpc.Client&nbsp;to&nbsp;handle&nbsp;requests&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6142918">//&nbsp;set&nbsp;of&nbsp;services&nbsp;at&nbsp;the&nbsp;other&nbsp;end&nbsp;of&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="6142973">func</span>&nbsp;<span class="ident" id="6142978">NewClient</span><span class="op" id="6142987">(</span><span class="ident" id="6142988">conn</span>&nbsp;<span class="ident" id="6142993"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140641">io</a></span><span class="op" id="6142995">.</span><span class="ident" id="6142996"><a href="/gostd/io/io.go.html#1423677">ReadWriteCloser</a></span><span class="op" id="6143011">)</span>&nbsp;<span class="op" id="6143013">*</span><span class="ident" id="6143014"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140654">rpc</a></span><span class="op" id="6143017">.</span><span class="ident" id="6143018"><a href="/gostd/net/rpc/client.go.html#5262362">Client</a></span>&nbsp;<span class="op" id="6143025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6143028">return</span>&nbsp;<span class="ident" id="6143035"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140654">rpc</a></span><span class="op" id="6143038">.</span><span class="ident" id="6143039"><a href="/gostd/net/rpc/client.go.html#5266672">NewClientWithCodec</a></span><span class="op" id="6143057">(</span><span class="ident" id="6143058"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6141305">NewClientCodec</a></span><span class="op" id="6143072">(</span><span class="ident" id="6143073"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142988">conn</a></span><span class="op" id="6143077">)</span><span class="op" id="6143078">)</span><br>
<span class="lineno"></span><span class="op" id="6143080">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="6143083">//&nbsp;Dial&nbsp;connects&nbsp;to&nbsp;a&nbsp;JSON-RPC&nbsp;server&nbsp;at&nbsp;the&nbsp;specified&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="6143155">func</span>&nbsp;<span class="ident" id="6143160">Dial</span><span class="op" id="6143164">(</span><span class="ident" id="6143165">network</span><span class="op" id="6143172">,</span>&nbsp;<span class="ident" id="6143174">address</span>&nbsp;<span class="builtintype" id="6143182">string</span><span class="op" id="6143188">)</span>&nbsp;<span class="op" id="6143190">(</span><span class="op" id="6143191">*</span><span class="ident" id="6143192"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140654">rpc</a></span><span class="op" id="6143195">.</span><span class="ident" id="6143196"><a href="/gostd/net/rpc/client.go.html#5262362">Client</a></span><span class="op" id="6143202">,</span>&nbsp;<span class="builtintype" id="6143204">error</span><span class="op" id="6143209">)</span>&nbsp;<span class="op" id="6143211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6143214">conn</span><span class="op" id="6143218">,</span>&nbsp;<span class="ident" id="6143220">err</span>&nbsp;<span class="op" id="6143224">:=</span>&nbsp;<span class="ident" id="6143227"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6140647">net</a></span><span class="op" id="6143230">.</span><span class="ident" id="6143231"><a href="/gostd/net/dial.go.html#3203459">Dial</a></span><span class="op" id="6143235">(</span><span class="ident" id="6143236"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6143165">network</a></span><span class="op" id="6143243">,</span>&nbsp;<span class="ident" id="6143245"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6143174">address</a></span><span class="op" id="6143252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6143255">if</span>&nbsp;<span class="ident" id="6143258"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6143220">err</a></span>&nbsp;<span class="op" id="6143262">!=</span>&nbsp;<span class="builtintype" id="6143265">nil</span>&nbsp;<span class="op" id="6143269">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6143273">return</span>&nbsp;<span class="builtintype" id="6143280">nil</span><span class="op" id="6143283">,</span>&nbsp;<span class="ident" id="6143285"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6143220">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6143290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6143293">return</span>&nbsp;<span class="ident" id="6143300"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6142978">NewClient</a></span><span class="op" id="6143309">(</span><span class="ident" id="6143310"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6143214">conn</a></span><span class="op" id="6143314">)</span><span class="op" id="6143315">,</span>&nbsp;<span class="ident" id="6143317"><a href="/gostd/net/rpc/jsonrpc/client.go.html#6143220">err</a></span><br>
<span class="lineno"></span><span class="op" id="6143321">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
