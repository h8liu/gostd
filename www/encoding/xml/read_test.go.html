<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8278592">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8278647">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8278701">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8278752">package</span>&nbsp;<span class="ident" id="8278760">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8278765">import</span>&nbsp;<span class="op" id="8278772">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278775">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278781">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278792">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278803">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278814">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8278821">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="8278824">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8278869">func</span>&nbsp;<span class="ident" id="8278874">TestUnmarshalFeed</span><span class="op" id="8278891">(</span><span class="ident" id="8278892">t</span>&nbsp;<span class="op" id="8278894">*</span><span class="ident" id="8278895">testing</span><span class="op" id="8278902">.</span><span class="ident" id="8278903">T</span><span class="op" id="8278904">)</span>&nbsp;<span class="op" id="8278906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8278909">var</span>&nbsp;<span class="ident" id="8278913">f</span>&nbsp;<span class="ident" id="8278915">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8278921">if</span>&nbsp;<span class="ident" id="8278924">err</span>&nbsp;<span class="op" id="8278928">:=</span>&nbsp;<span class="ident" id="8278931">Unmarshal</span><span class="op" id="8278940">(</span><span class="op" id="8278941">[</span><span class="op" id="8278942">]</span><span class="builtintype" id="8278943">byte</span><span class="op" id="8278947">(</span><span class="ident" id="8278948">atomFeedString</span><span class="op" id="8278962">)</span><span class="op" id="8278963">,</span>&nbsp;<span class="op" id="8278965">&amp;</span><span class="ident" id="8278966">f</span><span class="op" id="8278967">)</span><span class="op" id="8278968">;</span>&nbsp;<span class="ident" id="8278970">err</span>&nbsp;<span class="op" id="8278974">!=</span>&nbsp;<span class="ident" id="8278977">nil</span>&nbsp;<span class="op" id="8278981">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278985">t</span><span class="op" id="8278986">.</span><span class="ident" id="8278987">Fatalf</span><span class="op" id="8278993">(</span><span class="string" id="8278994">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8279009">,</span>&nbsp;<span class="ident" id="8279011">err</span><span class="op" id="8279014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279020">if</span>&nbsp;<span class="op" id="8279023">!</span><span class="ident" id="8279024">reflect</span><span class="op" id="8279031">.</span><span class="ident" id="8279032">DeepEqual</span><span class="op" id="8279041">(</span><span class="ident" id="8279042">f</span><span class="op" id="8279043">,</span>&nbsp;<span class="ident" id="8279045">atomFeed</span><span class="op" id="8279053">)</span>&nbsp;<span class="op" id="8279055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279059">t</span><span class="op" id="8279060">.</span><span class="ident" id="8279061">Fatalf</span><span class="op" id="8279067">(</span><span class="string" id="8279068">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8279088">,</span>&nbsp;<span class="ident" id="8279090">f</span><span class="op" id="8279091">,</span>&nbsp;<span class="ident" id="8279093">atomFeed</span><span class="op" id="8279101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279104">}</span><br>
<span class="lineno">25</span><span class="op" id="8279106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8279109">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="8279160">const</span>&nbsp;<span class="ident" id="8279166">atomFeedString</span>&nbsp;<span class="op" id="8279181">=</span>&nbsp;<span class="string" id="8279183">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8282172">type</span>&nbsp;<span class="ident" id="8282177">Feed</span>&nbsp;<span class="keyword" id="8282182">struct</span>&nbsp;<span class="op" id="8282189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282192">XMLName</span>&nbsp;<span class="ident" id="8282200">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282210">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282252">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8282260">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282270">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282285">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8282293">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282303">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282315">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8282323">[</span><span class="op" id="8282324">]</span><span class="ident" id="8282325">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282333">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282347">Updated</span>&nbsp;<span class="ident" id="8282355">time</span><span class="op" id="8282359">.</span><span class="ident" id="8282360">Time</span>&nbsp;<span class="string" id="8282365">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282387">Author</span>&nbsp;&nbsp;<span class="ident" id="8282395">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282405">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282421">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8282429">[</span><span class="op" id="8282430">]</span><span class="ident" id="8282431">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8282439">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8282453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8282456">type</span>&nbsp;<span class="ident" id="8282461">Entry</span>&nbsp;<span class="keyword" id="8282467">struct</span>&nbsp;<span class="op" id="8282474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282477">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8282485">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282495">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282510">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8282518">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282528">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282540">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8282548">[</span><span class="op" id="8282549">]</span><span class="ident" id="8282550">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282558">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282572">Updated</span>&nbsp;<span class="ident" id="8282580">time</span><span class="op" id="8282584">.</span><span class="ident" id="8282585">Time</span>&nbsp;<span class="string" id="8282590">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282607">Author</span>&nbsp;&nbsp;<span class="ident" id="8282615">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282625">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282641">Summary</span>&nbsp;<span class="ident" id="8282649">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8282659">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="8282675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8282678">type</span>&nbsp;<span class="ident" id="8282683">Link</span>&nbsp;<span class="keyword" id="8282688">struct</span>&nbsp;<span class="op" id="8282695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282698">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="8282703">string</span>&nbsp;<span class="string" id="8282710">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282738">Href</span>&nbsp;<span class="builtintype" id="8282743">string</span>&nbsp;<span class="string" id="8282750">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="8282768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8282771">type</span>&nbsp;<span class="ident" id="8282776">Person</span>&nbsp;<span class="keyword" id="8282783">struct</span>&nbsp;<span class="op" id="8282790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282793">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8282802">string</span>&nbsp;<span class="string" id="8282809">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282823">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8282832">string</span>&nbsp;<span class="string" id="8282839">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282852">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8282861">string</span>&nbsp;<span class="string" id="8282868">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282883">InnerXML</span>&nbsp;<span class="builtintype" id="8282892">string</span>&nbsp;<span class="string" id="8282899">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8282917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8282920">type</span>&nbsp;<span class="ident" id="8282925">Text</span>&nbsp;<span class="keyword" id="8282930">struct</span>&nbsp;<span class="op" id="8282937">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282940">Type</span>&nbsp;<span class="builtintype" id="8282945">string</span>&nbsp;<span class="string" id="8282952">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282981">Body</span>&nbsp;<span class="builtintype" id="8282986">string</span>&nbsp;<span class="string" id="8282993">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8283011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8283014">var</span>&nbsp;<span class="ident" id="8283018">atomFeed</span>&nbsp;<span class="op" id="8283027">=</span>&nbsp;<span class="ident" id="8283029">Feed</span><span class="op" id="8283033">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283036">XMLName</span><span class="op" id="8283043">:</span>&nbsp;<span class="ident" id="8283045">Name</span><span class="op" id="8283049">{</span><span class="string" id="8283050">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="8283079">,</span>&nbsp;<span class="string" id="8283081">&#34;feed&#34;</span><span class="op" id="8283087">}</span><span class="op" id="8283088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283091">Title</span><span class="op" id="8283096">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8283100">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="8283125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283128">Link</span><span class="op" id="8283132">:</span>&nbsp;<span class="op" id="8283134">[</span><span class="op" id="8283135">]</span><span class="ident" id="8283136">Link</span><span class="op" id="8283140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283144">{</span><span class="ident" id="8283145">Rel</span><span class="op" id="8283148">:</span>&nbsp;<span class="string" id="8283150">&#34;alternate&#34;</span><span class="op" id="8283161">,</span>&nbsp;<span class="ident" id="8283163">Href</span><span class="op" id="8283167">:</span>&nbsp;<span class="string" id="8283169">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="8283201">}</span><span class="op" id="8283202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283206">{</span><span class="ident" id="8283207">Rel</span><span class="op" id="8283210">:</span>&nbsp;<span class="string" id="8283212">&#34;self&#34;</span><span class="op" id="8283218">,</span>&nbsp;<span class="ident" id="8283220">Href</span><span class="op" id="8283224">:</span>&nbsp;<span class="string" id="8283226">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="8283270">}</span><span class="op" id="8283271">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283274">}</span><span class="op" id="8283275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283278">Id</span><span class="op" id="8283280">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8283287">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="8283319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283322">Updated</span><span class="op" id="8283329">:</span>&nbsp;<span class="ident" id="8283331">ParseTime</span><span class="op" id="8283340">(</span><span class="string" id="8283341">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="8283368">)</span><span class="op" id="8283369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283372">Author</span><span class="op" id="8283378">:</span>&nbsp;<span class="ident" id="8283380">Person</span><span class="op" id="8283386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283390">Name</span><span class="op" id="8283394">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8283400">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="8283412">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283416">InnerXML</span><span class="op" id="8283424">:</span>&nbsp;<span class="string" id="8283426">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="8283457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283460">}</span><span class="op" id="8283461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283464">Entry</span><span class="op" id="8283469">:</span>&nbsp;<span class="op" id="8283471">[</span><span class="op" id="8283472">]</span><span class="ident" id="8283473">Entry</span><span class="op" id="8283478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283487">Title</span><span class="op" id="8283492">:</span>&nbsp;<span class="string" id="8283494">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="8283534">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283539">Link</span><span class="op" id="8283543">:</span>&nbsp;<span class="op" id="8283545">[</span><span class="op" id="8283546">]</span><span class="ident" id="8283547">Link</span><span class="op" id="8283551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283557">{</span><span class="ident" id="8283558">Rel</span><span class="op" id="8283561">:</span>&nbsp;<span class="string" id="8283563">&#34;alternate&#34;</span><span class="op" id="8283574">,</span>&nbsp;<span class="ident" id="8283576">Href</span><span class="op" id="8283580">:</span>&nbsp;<span class="string" id="8283582">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="8283620">}</span><span class="op" id="8283621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283626">}</span><span class="op" id="8283627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283632">Updated</span><span class="op" id="8283639">:</span>&nbsp;<span class="ident" id="8283641">ParseTime</span><span class="op" id="8283650">(</span><span class="string" id="8283651">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="8283678">)</span><span class="op" id="8283679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283684">Author</span><span class="op" id="8283690">:</span>&nbsp;<span class="ident" id="8283692">Person</span><span class="op" id="8283698">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283704">Name</span><span class="op" id="8283708">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8283714">&#34;email-address-removed&#34;</span><span class="op" id="8283737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283743">InnerXML</span><span class="op" id="8283751">:</span>&nbsp;<span class="string" id="8283753">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="8283789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283794">}</span><span class="op" id="8283795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283800">Id</span><span class="op" id="8283802">:</span>&nbsp;<span class="string" id="8283804">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="8283846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283851">Summary</span><span class="op" id="8283858">:</span>&nbsp;<span class="ident" id="8283860">Text</span><span class="op" id="8283864">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283870">Type</span><span class="op" id="8283874">:</span>&nbsp;<span class="string" id="8283876">&#34;html&#34;</span><span class="op" id="8283882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283888">Body</span><span class="op" id="8283892">:</span>&nbsp;<span class="string" id="8283894">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="8285126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285131">}</span><span class="op" id="8285132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285136">}</span><span class="op" id="8285137">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285146">Title</span><span class="op" id="8285151">:</span>&nbsp;<span class="string" id="8285153">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="8285187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285192">Link</span><span class="op" id="8285196">:</span>&nbsp;<span class="op" id="8285198">[</span><span class="op" id="8285199">]</span><span class="ident" id="8285200">Link</span><span class="op" id="8285204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285210">{</span><span class="ident" id="8285211">Rel</span><span class="op" id="8285214">:</span>&nbsp;<span class="string" id="8285216">&#34;alternate&#34;</span><span class="op" id="8285227">,</span>&nbsp;<span class="ident" id="8285229">Href</span><span class="op" id="8285233">:</span>&nbsp;<span class="string" id="8285235">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="8285273">}</span><span class="op" id="8285274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285279">}</span><span class="op" id="8285280">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285285">Updated</span><span class="op" id="8285292">:</span>&nbsp;<span class="ident" id="8285294">ParseTime</span><span class="op" id="8285303">(</span><span class="string" id="8285304">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="8285331">)</span><span class="op" id="8285332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285337">Author</span><span class="op" id="8285343">:</span>&nbsp;<span class="ident" id="8285345">Person</span><span class="op" id="8285351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285357">Name</span><span class="op" id="8285361">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8285367">&#34;email-address-removed&#34;</span><span class="op" id="8285390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285396">InnerXML</span><span class="op" id="8285404">:</span>&nbsp;<span class="string" id="8285406">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="8285442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285447">}</span><span class="op" id="8285448">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285453">Id</span><span class="op" id="8285455">:</span>&nbsp;<span class="string" id="8285457">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="8285499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285504">Summary</span><span class="op" id="8285511">:</span>&nbsp;<span class="ident" id="8285513">Text</span><span class="op" id="8285517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285523">Type</span><span class="op" id="8285527">:</span>&nbsp;<span class="string" id="8285529">&#34;html&#34;</span><span class="op" id="8285535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285541">Body</span><span class="op" id="8285545">:</span>&nbsp;<span class="string" id="8285547">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="8286225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286230">}</span><span class="op" id="8286231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286235">}</span><span class="op" id="8286236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286239">}</span><span class="op" id="8286240">,</span><br>
<span class="lineno">215</span><span class="op" id="8286242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286245">const</span>&nbsp;<span class="ident" id="8286251">pathTestString</span>&nbsp;<span class="op" id="8286266">=</span>&nbsp;<span class="string" id="8286268">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286630">type</span>&nbsp;<span class="ident" id="8286635">PathTestItem</span>&nbsp;<span class="keyword" id="8286648">struct</span>&nbsp;<span class="op" id="8286655">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286658">Value</span>&nbsp;<span class="builtintype" id="8286664">string</span><br>
<span class="lineno"></span><span class="op" id="8286671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286674">type</span>&nbsp;<span class="ident" id="8286679">PathTestA</span>&nbsp;<span class="keyword" id="8286689">struct</span>&nbsp;<span class="op" id="8286696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286699">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8286713">[</span><span class="op" id="8286714">]</span><span class="ident" id="8286715">PathTestItem</span>&nbsp;<span class="string" id="8286728">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286744">Before</span><span class="op" id="8286750">,</span>&nbsp;<span class="ident" id="8286752">After</span>&nbsp;<span class="builtintype" id="8286758">string</span><br>
<span class="lineno"></span><span class="op" id="8286765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286768">type</span>&nbsp;<span class="ident" id="8286773">PathTestB</span>&nbsp;<span class="keyword" id="8286783">struct</span>&nbsp;<span class="op" id="8286790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286793">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8286807">[</span><span class="op" id="8286808">]</span><span class="ident" id="8286809">PathTestItem</span>&nbsp;<span class="string" id="8286822">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286843">Before</span><span class="op" id="8286849">,</span>&nbsp;<span class="ident" id="8286851">After</span>&nbsp;<span class="builtintype" id="8286857">string</span><br>
<span class="lineno"></span><span class="op" id="8286864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286867">type</span>&nbsp;<span class="ident" id="8286872">PathTestC</span>&nbsp;<span class="keyword" id="8286882">struct</span>&nbsp;<span class="op" id="8286889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286892">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8286906">[</span><span class="op" id="8286907">]</span><span class="builtintype" id="8286908">string</span>&nbsp;<span class="string" id="8286915">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286942">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8286956">[</span><span class="op" id="8286957">]</span><span class="builtintype" id="8286958">string</span>&nbsp;<span class="string" id="8286965">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286992">Before</span><span class="op" id="8286998">,</span>&nbsp;<span class="ident" id="8287000">After</span>&nbsp;<span class="builtintype" id="8287006">string</span><br>
<span class="lineno"></span><span class="op" id="8287013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287016">type</span>&nbsp;<span class="ident" id="8287021">PathTestSet</span>&nbsp;<span class="keyword" id="8287033">struct</span>&nbsp;<span class="op" id="8287040">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287043">Item1</span>&nbsp;<span class="op" id="8287049">[</span><span class="op" id="8287050">]</span><span class="ident" id="8287051">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="8287064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287067">type</span>&nbsp;<span class="ident" id="8287072">PathTestD</span>&nbsp;<span class="keyword" id="8287082">struct</span>&nbsp;<span class="op" id="8287089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287092">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287106">PathTestSet</span>&nbsp;<span class="string" id="8287118">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287133">Before</span><span class="op" id="8287139">,</span>&nbsp;<span class="ident" id="8287141">After</span>&nbsp;<span class="builtintype" id="8287147">string</span><br>
<span class="lineno"></span><span class="op" id="8287154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287157">type</span>&nbsp;<span class="ident" id="8287162">PathTestE</span>&nbsp;<span class="keyword" id="8287172">struct</span>&nbsp;<span class="op" id="8287179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287182">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287196">string</span>&nbsp;<span class="string" id="8287203">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287226">Before</span><span class="op" id="8287232">,</span>&nbsp;<span class="ident" id="8287234">After</span>&nbsp;<span class="builtintype" id="8287240">string</span><br>
<span class="lineno"></span><span class="op" id="8287247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287250">var</span>&nbsp;<span class="ident" id="8287254">pathTests</span>&nbsp;<span class="op" id="8287264">=</span>&nbsp;<span class="op" id="8287266">[</span><span class="op" id="8287267">]</span><span class="keyword" id="8287268">interface</span><span class="op" id="8287277">{</span><span class="op" id="8287278">}</span><span class="op" id="8287279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287282">&amp;</span><span class="ident" id="8287283">PathTestA</span><span class="op" id="8287292">{</span><span class="ident" id="8287293">Items</span><span class="op" id="8287298">:</span>&nbsp;<span class="op" id="8287300">[</span><span class="op" id="8287301">]</span><span class="ident" id="8287302">PathTestItem</span><span class="op" id="8287314">{</span><span class="op" id="8287315">{</span><span class="string" id="8287316">&#34;A&#34;</span><span class="op" id="8287319">}</span><span class="op" id="8287320">,</span>&nbsp;<span class="op" id="8287322">{</span><span class="string" id="8287323">&#34;D&#34;</span><span class="op" id="8287326">}</span><span class="op" id="8287327">}</span><span class="op" id="8287328">,</span>&nbsp;<span class="ident" id="8287330">Before</span><span class="op" id="8287336">:</span>&nbsp;<span class="string" id="8287338">&#34;1&#34;</span><span class="op" id="8287341">,</span>&nbsp;<span class="ident" id="8287343">After</span><span class="op" id="8287348">:</span>&nbsp;<span class="string" id="8287350">&#34;2&#34;</span><span class="op" id="8287353">}</span><span class="op" id="8287354">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287357">&amp;</span><span class="ident" id="8287358">PathTestB</span><span class="op" id="8287367">{</span><span class="ident" id="8287368">Other</span><span class="op" id="8287373">:</span>&nbsp;<span class="op" id="8287375">[</span><span class="op" id="8287376">]</span><span class="ident" id="8287377">PathTestItem</span><span class="op" id="8287389">{</span><span class="op" id="8287390">{</span><span class="string" id="8287391">&#34;A&#34;</span><span class="op" id="8287394">}</span><span class="op" id="8287395">,</span>&nbsp;<span class="op" id="8287397">{</span><span class="string" id="8287398">&#34;D&#34;</span><span class="op" id="8287401">}</span><span class="op" id="8287402">}</span><span class="op" id="8287403">,</span>&nbsp;<span class="ident" id="8287405">Before</span><span class="op" id="8287411">:</span>&nbsp;<span class="string" id="8287413">&#34;1&#34;</span><span class="op" id="8287416">,</span>&nbsp;<span class="ident" id="8287418">After</span><span class="op" id="8287423">:</span>&nbsp;<span class="string" id="8287425">&#34;2&#34;</span><span class="op" id="8287428">}</span><span class="op" id="8287429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287432">&amp;</span><span class="ident" id="8287433">PathTestC</span><span class="op" id="8287442">{</span><span class="ident" id="8287443">Values1</span><span class="op" id="8287450">:</span>&nbsp;<span class="op" id="8287452">[</span><span class="op" id="8287453">]</span><span class="builtintype" id="8287454">string</span><span class="op" id="8287460">{</span><span class="string" id="8287461">&#34;A&#34;</span><span class="op" id="8287464">,</span>&nbsp;<span class="string" id="8287466">&#34;C&#34;</span><span class="op" id="8287469">,</span>&nbsp;<span class="string" id="8287471">&#34;D&#34;</span><span class="op" id="8287474">}</span><span class="op" id="8287475">,</span>&nbsp;<span class="ident" id="8287477">Values2</span><span class="op" id="8287484">:</span>&nbsp;<span class="op" id="8287486">[</span><span class="op" id="8287487">]</span><span class="builtintype" id="8287488">string</span><span class="op" id="8287494">{</span><span class="string" id="8287495">&#34;B&#34;</span><span class="op" id="8287498">}</span><span class="op" id="8287499">,</span>&nbsp;<span class="ident" id="8287501">Before</span><span class="op" id="8287507">:</span>&nbsp;<span class="string" id="8287509">&#34;1&#34;</span><span class="op" id="8287512">,</span>&nbsp;<span class="ident" id="8287514">After</span><span class="op" id="8287519">:</span>&nbsp;<span class="string" id="8287521">&#34;2&#34;</span><span class="op" id="8287524">}</span><span class="op" id="8287525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287528">&amp;</span><span class="ident" id="8287529">PathTestD</span><span class="op" id="8287538">{</span><span class="ident" id="8287539">Other</span><span class="op" id="8287544">:</span>&nbsp;<span class="ident" id="8287546">PathTestSet</span><span class="op" id="8287557">{</span><span class="ident" id="8287558">Item1</span><span class="op" id="8287563">:</span>&nbsp;<span class="op" id="8287565">[</span><span class="op" id="8287566">]</span><span class="ident" id="8287567">PathTestItem</span><span class="op" id="8287579">{</span><span class="op" id="8287580">{</span><span class="string" id="8287581">&#34;A&#34;</span><span class="op" id="8287584">}</span><span class="op" id="8287585">,</span>&nbsp;<span class="op" id="8287587">{</span><span class="string" id="8287588">&#34;D&#34;</span><span class="op" id="8287591">}</span><span class="op" id="8287592">}</span><span class="op" id="8287593">}</span><span class="op" id="8287594">,</span>&nbsp;<span class="ident" id="8287596">Before</span><span class="op" id="8287602">:</span>&nbsp;<span class="string" id="8287604">&#34;1&#34;</span><span class="op" id="8287607">,</span>&nbsp;<span class="ident" id="8287609">After</span><span class="op" id="8287614">:</span>&nbsp;<span class="string" id="8287616">&#34;2&#34;</span><span class="op" id="8287619">}</span><span class="op" id="8287620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287623">&amp;</span><span class="ident" id="8287624">PathTestE</span><span class="op" id="8287633">{</span><span class="ident" id="8287634">Underline</span><span class="op" id="8287643">:</span>&nbsp;<span class="string" id="8287645">&#34;E&#34;</span><span class="op" id="8287648">,</span>&nbsp;<span class="ident" id="8287650">Before</span><span class="op" id="8287656">:</span>&nbsp;<span class="string" id="8287658">&#34;1&#34;</span><span class="op" id="8287661">,</span>&nbsp;<span class="ident" id="8287663">After</span><span class="op" id="8287668">:</span>&nbsp;<span class="string" id="8287670">&#34;2&#34;</span><span class="op" id="8287673">}</span><span class="op" id="8287674">,</span><br>
<span class="lineno"></span><span class="op" id="8287676">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="8287679">func</span>&nbsp;<span class="ident" id="8287684">TestUnmarshalPaths</span><span class="op" id="8287702">(</span><span class="ident" id="8287703">t</span>&nbsp;<span class="op" id="8287705">*</span><span class="ident" id="8287706">testing</span><span class="op" id="8287713">.</span><span class="ident" id="8287714">T</span><span class="op" id="8287715">)</span>&nbsp;<span class="op" id="8287717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287720">for</span>&nbsp;<span class="ident" id="8287724">_</span><span class="op" id="8287725">,</span>&nbsp;<span class="ident" id="8287727">pt</span>&nbsp;<span class="op" id="8287730">:=</span>&nbsp;<span class="keyword" id="8287733">range</span>&nbsp;<span class="ident" id="8287739">pathTests</span>&nbsp;<span class="op" id="8287749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287753">v</span>&nbsp;<span class="op" id="8287755">:=</span>&nbsp;<span class="ident" id="8287758">reflect</span><span class="op" id="8287765">.</span><span class="ident" id="8287766">New</span><span class="op" id="8287769">(</span><span class="ident" id="8287770">reflect</span><span class="op" id="8287777">.</span><span class="ident" id="8287778">TypeOf</span><span class="op" id="8287784">(</span><span class="ident" id="8287785">pt</span><span class="op" id="8287787">)</span><span class="op" id="8287788">.</span><span class="ident" id="8287789">Elem</span><span class="op" id="8287793">(</span><span class="op" id="8287794">)</span><span class="op" id="8287795">)</span><span class="op" id="8287796">.</span><span class="ident" id="8287797">Interface</span><span class="op" id="8287806">(</span><span class="op" id="8287807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287811">if</span>&nbsp;<span class="ident" id="8287814">err</span>&nbsp;<span class="op" id="8287818">:=</span>&nbsp;<span class="ident" id="8287821">Unmarshal</span><span class="op" id="8287830">(</span><span class="op" id="8287831">[</span><span class="op" id="8287832">]</span><span class="builtintype" id="8287833">byte</span><span class="op" id="8287837">(</span><span class="ident" id="8287838">pathTestString</span><span class="op" id="8287852">)</span><span class="op" id="8287853">,</span>&nbsp;<span class="ident" id="8287855">v</span><span class="op" id="8287856">)</span><span class="op" id="8287857">;</span>&nbsp;<span class="ident" id="8287859">err</span>&nbsp;<span class="op" id="8287863">!=</span>&nbsp;<span class="ident" id="8287866">nil</span>&nbsp;<span class="op" id="8287870">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287875">t</span><span class="op" id="8287876">.</span><span class="ident" id="8287877">Fatalf</span><span class="op" id="8287883">(</span><span class="string" id="8287884">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8287899">,</span>&nbsp;<span class="ident" id="8287901">err</span><span class="op" id="8287904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287912">if</span>&nbsp;<span class="op" id="8287915">!</span><span class="ident" id="8287916">reflect</span><span class="op" id="8287923">.</span><span class="ident" id="8287924">DeepEqual</span><span class="op" id="8287933">(</span><span class="ident" id="8287934">v</span><span class="op" id="8287935">,</span>&nbsp;<span class="ident" id="8287937">pt</span><span class="op" id="8287939">)</span>&nbsp;<span class="op" id="8287941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287946">t</span><span class="op" id="8287947">.</span><span class="ident" id="8287948">Fatalf</span><span class="op" id="8287954">(</span><span class="string" id="8287955">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8287975">,</span>&nbsp;<span class="ident" id="8287977">v</span><span class="op" id="8287978">,</span>&nbsp;<span class="ident" id="8287980">pt</span><span class="op" id="8287982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287986">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287989">}</span><br>
<span class="lineno"></span><span class="op" id="8287991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287994">type</span>&nbsp;<span class="ident" id="8287999">BadPathTestA</span>&nbsp;<span class="keyword" id="8288012">struct</span>&nbsp;<span class="op" id="8288019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288022">First</span>&nbsp;&nbsp;<span class="builtintype" id="8288029">string</span>&nbsp;<span class="string" id="8288036">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288057">Other</span>&nbsp;&nbsp;<span class="builtintype" id="8288064">string</span>&nbsp;<span class="string" id="8288071">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288092">Second</span>&nbsp;<span class="builtintype" id="8288099">string</span>&nbsp;<span class="string" id="8288106">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8288120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8288123">type</span>&nbsp;<span class="ident" id="8288128">BadPathTestB</span>&nbsp;<span class="keyword" id="8288141">struct</span>&nbsp;<span class="op" id="8288148">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288151">Other</span>&nbsp;&nbsp;<span class="builtintype" id="8288158">string</span>&nbsp;<span class="string" id="8288165">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288192">First</span>&nbsp;&nbsp;<span class="builtintype" id="8288199">string</span>&nbsp;<span class="string" id="8288206">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288227">Second</span>&nbsp;<span class="builtintype" id="8288234">string</span>&nbsp;<span class="string" id="8288241">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8288267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="8288270">type</span>&nbsp;<span class="ident" id="8288275">BadPathTestC</span>&nbsp;<span class="keyword" id="8288288">struct</span>&nbsp;<span class="op" id="8288295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288298">First</span>&nbsp;&nbsp;<span class="builtintype" id="8288305">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288313">Second</span>&nbsp;<span class="builtintype" id="8288320">string</span>&nbsp;<span class="string" id="8288327">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8288341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="8288344">type</span>&nbsp;<span class="ident" id="8288349">BadPathTestD</span>&nbsp;<span class="keyword" id="8288362">struct</span>&nbsp;<span class="op" id="8288369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288372">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288390">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="8288407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="8288410">type</span>&nbsp;<span class="ident" id="8288415">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="8288432">struct</span>&nbsp;<span class="op" id="8288439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288442">First</span>&nbsp;<span class="builtintype" id="8288448">string</span><br>
<span class="lineno"></span><span class="op" id="8288455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8288458">type</span>&nbsp;<span class="ident" id="8288463">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="8288480">struct</span>&nbsp;<span class="op" id="8288487">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288490">Second</span>&nbsp;<span class="builtintype" id="8288497">string</span>&nbsp;<span class="string" id="8288504">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8288518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8288521">var</span>&nbsp;<span class="ident" id="8288525">badPathTests</span>&nbsp;<span class="op" id="8288538">=</span>&nbsp;<span class="op" id="8288540">[</span><span class="op" id="8288541">]</span><span class="keyword" id="8288542">struct</span>&nbsp;<span class="op" id="8288549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288552">v</span><span class="op" id="8288553">,</span>&nbsp;<span class="ident" id="8288555">e</span>&nbsp;<span class="keyword" id="8288557">interface</span><span class="op" id="8288566">{</span><span class="op" id="8288567">}</span><br>
<span class="lineno">325</span><span class="op" id="8288569">}</span><span class="op" id="8288570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288573">{</span><span class="op" id="8288574">&amp;</span><span class="ident" id="8288575">BadPathTestA</span><span class="op" id="8288587">{</span><span class="op" id="8288588">}</span><span class="op" id="8288589">,</span>&nbsp;<span class="op" id="8288591">&amp;</span><span class="ident" id="8288592">TagPathError</span><span class="op" id="8288604">{</span><span class="ident" id="8288605">reflect</span><span class="op" id="8288612">.</span><span class="ident" id="8288613">TypeOf</span><span class="op" id="8288619">(</span><span class="ident" id="8288620">BadPathTestA</span><span class="op" id="8288632">{</span><span class="op" id="8288633">}</span><span class="op" id="8288634">)</span><span class="op" id="8288635">,</span>&nbsp;<span class="string" id="8288637">&#34;First&#34;</span><span class="op" id="8288644">,</span>&nbsp;<span class="string" id="8288646">&#34;items&gt;item1&#34;</span><span class="op" id="8288659">,</span>&nbsp;<span class="string" id="8288661">&#34;Second&#34;</span><span class="op" id="8288669">,</span>&nbsp;<span class="string" id="8288671">&#34;items&#34;</span><span class="op" id="8288678">}</span><span class="op" id="8288679">}</span><span class="op" id="8288680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288683">{</span><span class="op" id="8288684">&amp;</span><span class="ident" id="8288685">BadPathTestB</span><span class="op" id="8288697">{</span><span class="op" id="8288698">}</span><span class="op" id="8288699">,</span>&nbsp;<span class="op" id="8288701">&amp;</span><span class="ident" id="8288702">TagPathError</span><span class="op" id="8288714">{</span><span class="ident" id="8288715">reflect</span><span class="op" id="8288722">.</span><span class="ident" id="8288723">TypeOf</span><span class="op" id="8288729">(</span><span class="ident" id="8288730">BadPathTestB</span><span class="op" id="8288742">{</span><span class="op" id="8288743">}</span><span class="op" id="8288744">)</span><span class="op" id="8288745">,</span>&nbsp;<span class="string" id="8288747">&#34;First&#34;</span><span class="op" id="8288754">,</span>&nbsp;<span class="string" id="8288756">&#34;items&gt;item1&#34;</span><span class="op" id="8288769">,</span>&nbsp;<span class="string" id="8288771">&#34;Second&#34;</span><span class="op" id="8288779">,</span>&nbsp;<span class="string" id="8288781">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="8288800">}</span><span class="op" id="8288801">}</span><span class="op" id="8288802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288805">{</span><span class="op" id="8288806">&amp;</span><span class="ident" id="8288807">BadPathTestC</span><span class="op" id="8288819">{</span><span class="op" id="8288820">}</span><span class="op" id="8288821">,</span>&nbsp;<span class="op" id="8288823">&amp;</span><span class="ident" id="8288824">TagPathError</span><span class="op" id="8288836">{</span><span class="ident" id="8288837">reflect</span><span class="op" id="8288844">.</span><span class="ident" id="8288845">TypeOf</span><span class="op" id="8288851">(</span><span class="ident" id="8288852">BadPathTestC</span><span class="op" id="8288864">{</span><span class="op" id="8288865">}</span><span class="op" id="8288866">)</span><span class="op" id="8288867">,</span>&nbsp;<span class="string" id="8288869">&#34;First&#34;</span><span class="op" id="8288876">,</span>&nbsp;<span class="string" id="8288878">&#34;&#34;</span><span class="op" id="8288880">,</span>&nbsp;<span class="string" id="8288882">&#34;Second&#34;</span><span class="op" id="8288890">,</span>&nbsp;<span class="string" id="8288892">&#34;First&#34;</span><span class="op" id="8288899">}</span><span class="op" id="8288900">}</span><span class="op" id="8288901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288904">{</span><span class="op" id="8288905">&amp;</span><span class="ident" id="8288906">BadPathTestD</span><span class="op" id="8288918">{</span><span class="op" id="8288919">}</span><span class="op" id="8288920">,</span>&nbsp;<span class="op" id="8288922">&amp;</span><span class="ident" id="8288923">TagPathError</span><span class="op" id="8288935">{</span><span class="ident" id="8288936">reflect</span><span class="op" id="8288943">.</span><span class="ident" id="8288944">TypeOf</span><span class="op" id="8288950">(</span><span class="ident" id="8288951">BadPathTestD</span><span class="op" id="8288963">{</span><span class="op" id="8288964">}</span><span class="op" id="8288965">)</span><span class="op" id="8288966">,</span>&nbsp;<span class="string" id="8288968">&#34;First&#34;</span><span class="op" id="8288975">,</span>&nbsp;<span class="string" id="8288977">&#34;&#34;</span><span class="op" id="8288979">,</span>&nbsp;<span class="string" id="8288981">&#34;Second&#34;</span><span class="op" id="8288989">,</span>&nbsp;<span class="string" id="8288991">&#34;First&#34;</span><span class="op" id="8288998">}</span><span class="op" id="8288999">}</span><span class="op" id="8289000">,</span><br>
<span class="lineno">330</span><span class="op" id="8289002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8289005">func</span>&nbsp;<span class="ident" id="8289010">TestUnmarshalBadPaths</span><span class="op" id="8289031">(</span><span class="ident" id="8289032">t</span>&nbsp;<span class="op" id="8289034">*</span><span class="ident" id="8289035">testing</span><span class="op" id="8289042">.</span><span class="ident" id="8289043">T</span><span class="op" id="8289044">)</span>&nbsp;<span class="op" id="8289046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289049">for</span>&nbsp;<span class="ident" id="8289053">_</span><span class="op" id="8289054">,</span>&nbsp;<span class="ident" id="8289056">tt</span>&nbsp;<span class="op" id="8289059">:=</span>&nbsp;<span class="keyword" id="8289062">range</span>&nbsp;<span class="ident" id="8289068">badPathTests</span>&nbsp;<span class="op" id="8289081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289085">err</span>&nbsp;<span class="op" id="8289089">:=</span>&nbsp;<span class="ident" id="8289092">Unmarshal</span><span class="op" id="8289101">(</span><span class="op" id="8289102">[</span><span class="op" id="8289103">]</span><span class="builtintype" id="8289104">byte</span><span class="op" id="8289108">(</span><span class="ident" id="8289109">pathTestString</span><span class="op" id="8289123">)</span><span class="op" id="8289124">,</span>&nbsp;<span class="ident" id="8289126">tt</span><span class="op" id="8289128">.</span><span class="ident" id="8289129">v</span><span class="op" id="8289130">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289134">if</span>&nbsp;<span class="op" id="8289137">!</span><span class="ident" id="8289138">reflect</span><span class="op" id="8289145">.</span><span class="ident" id="8289146">DeepEqual</span><span class="op" id="8289155">(</span><span class="ident" id="8289156">err</span><span class="op" id="8289159">,</span>&nbsp;<span class="ident" id="8289161">tt</span><span class="op" id="8289163">.</span><span class="ident" id="8289164">e</span><span class="op" id="8289165">)</span>&nbsp;<span class="op" id="8289167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289172">t</span><span class="op" id="8289173">.</span><span class="ident" id="8289174">Fatalf</span><span class="op" id="8289180">(</span><span class="string" id="8289181">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="8289244">,</span>&nbsp;<span class="ident" id="8289246">tt</span><span class="op" id="8289248">.</span><span class="ident" id="8289249">v</span><span class="op" id="8289250">,</span>&nbsp;<span class="ident" id="8289252">err</span><span class="op" id="8289255">,</span>&nbsp;<span class="ident" id="8289257">tt</span><span class="op" id="8289259">.</span><span class="ident" id="8289260">e</span><span class="op" id="8289261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289268">}</span><br>
<span class="lineno"></span><span class="op" id="8289270">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="8289273">const</span>&nbsp;<span class="ident" id="8289279">OK</span>&nbsp;<span class="op" id="8289282">=</span>&nbsp;<span class="string" id="8289284">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="8289289">const</span>&nbsp;<span class="ident" id="8289295">withoutNameTypeData</span>&nbsp;<span class="op" id="8289315">=</span>&nbsp;<span class="string" id="8289317">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="8289379">type</span>&nbsp;<span class="ident" id="8289384">TestThree</span>&nbsp;<span class="keyword" id="8289394">struct</span>&nbsp;<span class="op" id="8289401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289404">XMLName</span>&nbsp;<span class="ident" id="8289412">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8289419">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289434">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8289442">string</span>&nbsp;<span class="string" id="8289449">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8289463">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8289466">func</span>&nbsp;<span class="ident" id="8289471">TestUnmarshalWithoutNameType</span><span class="op" id="8289499">(</span><span class="ident" id="8289500">t</span>&nbsp;<span class="op" id="8289502">*</span><span class="ident" id="8289503">testing</span><span class="op" id="8289510">.</span><span class="ident" id="8289511">T</span><span class="op" id="8289512">)</span>&nbsp;<span class="op" id="8289514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289517">var</span>&nbsp;<span class="ident" id="8289521">x</span>&nbsp;<span class="ident" id="8289523">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289534">if</span>&nbsp;<span class="ident" id="8289537">err</span>&nbsp;<span class="op" id="8289541">:=</span>&nbsp;<span class="ident" id="8289544">Unmarshal</span><span class="op" id="8289553">(</span><span class="op" id="8289554">[</span><span class="op" id="8289555">]</span><span class="builtintype" id="8289556">byte</span><span class="op" id="8289560">(</span><span class="ident" id="8289561">withoutNameTypeData</span><span class="op" id="8289580">)</span><span class="op" id="8289581">,</span>&nbsp;<span class="op" id="8289583">&amp;</span><span class="ident" id="8289584">x</span><span class="op" id="8289585">)</span><span class="op" id="8289586">;</span>&nbsp;<span class="ident" id="8289588">err</span>&nbsp;<span class="op" id="8289592">!=</span>&nbsp;<span class="ident" id="8289595">nil</span>&nbsp;<span class="op" id="8289599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289603">t</span><span class="op" id="8289604">.</span><span class="ident" id="8289605">Fatalf</span><span class="op" id="8289611">(</span><span class="string" id="8289612">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8289627">,</span>&nbsp;<span class="ident" id="8289629">err</span><span class="op" id="8289632">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289638">if</span>&nbsp;<span class="ident" id="8289641">x</span><span class="op" id="8289642">.</span><span class="ident" id="8289643">Attr</span>&nbsp;<span class="op" id="8289648">!=</span>&nbsp;<span class="ident" id="8289651">OK</span>&nbsp;<span class="op" id="8289654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289658">t</span><span class="op" id="8289659">.</span><span class="ident" id="8289660">Fatalf</span><span class="op" id="8289666">(</span><span class="string" id="8289667">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="8289685">,</span>&nbsp;<span class="ident" id="8289687">x</span><span class="op" id="8289688">.</span><span class="ident" id="8289689">Attr</span><span class="op" id="8289693">,</span>&nbsp;<span class="ident" id="8289695">OK</span><span class="op" id="8289697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289700">}</span><br>
<span class="lineno"></span><span class="op" id="8289702">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="8289705">func</span>&nbsp;<span class="ident" id="8289710">TestUnmarshalAttr</span><span class="op" id="8289727">(</span><span class="ident" id="8289728">t</span>&nbsp;<span class="op" id="8289730">*</span><span class="ident" id="8289731">testing</span><span class="op" id="8289738">.</span><span class="ident" id="8289739">T</span><span class="op" id="8289740">)</span>&nbsp;<span class="op" id="8289742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289745">type</span>&nbsp;<span class="ident" id="8289750">ParamVal</span>&nbsp;<span class="keyword" id="8289759">struct</span>&nbsp;<span class="op" id="8289766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289770">Int</span>&nbsp;<span class="builtintype" id="8289774">int</span>&nbsp;<span class="string" id="8289778">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289796">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289800">type</span>&nbsp;<span class="ident" id="8289805">ParamPtr</span>&nbsp;<span class="keyword" id="8289814">struct</span>&nbsp;<span class="op" id="8289821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289825">Int</span>&nbsp;<span class="op" id="8289829">*</span><span class="builtintype" id="8289830">int</span>&nbsp;<span class="string" id="8289834">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289856">type</span>&nbsp;<span class="ident" id="8289861">ParamStringPtr</span>&nbsp;<span class="keyword" id="8289876">struct</span>&nbsp;<span class="op" id="8289883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289887">Int</span>&nbsp;<span class="op" id="8289891">*</span><span class="builtintype" id="8289892">string</span>&nbsp;<span class="string" id="8289899">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289921">x</span>&nbsp;<span class="op" id="8289923">:=</span>&nbsp;<span class="op" id="8289926">[</span><span class="op" id="8289927">]</span><span class="builtintype" id="8289928">byte</span><span class="op" id="8289932">(</span><span class="string" id="8289933">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="8289952">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289956">p1</span>&nbsp;<span class="op" id="8289959">:=</span>&nbsp;<span class="op" id="8289962">&amp;</span><span class="ident" id="8289963">ParamPtr</span><span class="op" id="8289971">{</span><span class="op" id="8289972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289975">if</span>&nbsp;<span class="ident" id="8289978">err</span>&nbsp;<span class="op" id="8289982">:=</span>&nbsp;<span class="ident" id="8289985">Unmarshal</span><span class="op" id="8289994">(</span><span class="ident" id="8289995">x</span><span class="op" id="8289996">,</span>&nbsp;<span class="ident" id="8289998">p1</span><span class="op" id="8290000">)</span><span class="op" id="8290001">;</span>&nbsp;<span class="ident" id="8290003">err</span>&nbsp;<span class="op" id="8290007">!=</span>&nbsp;<span class="ident" id="8290010">nil</span>&nbsp;<span class="op" id="8290014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290018">t</span><span class="op" id="8290019">.</span><span class="ident" id="8290020">Fatalf</span><span class="op" id="8290026">(</span><span class="string" id="8290027">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8290042">,</span>&nbsp;<span class="ident" id="8290044">err</span><span class="op" id="8290047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290050">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290053">if</span>&nbsp;<span class="ident" id="8290056">p1</span><span class="op" id="8290058">.</span><span class="ident" id="8290059">Int</span>&nbsp;<span class="op" id="8290063">==</span>&nbsp;<span class="ident" id="8290066">nil</span>&nbsp;<span class="op" id="8290070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290074">t</span><span class="op" id="8290075">.</span><span class="ident" id="8290076">Fatalf</span><span class="op" id="8290082">(</span><span class="string" id="8290083">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="8290118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290121">}</span>&nbsp;<span class="keyword" id="8290123">else</span>&nbsp;<span class="keyword" id="8290128">if</span>&nbsp;<span class="op" id="8290131">*</span><span class="ident" id="8290132">p1</span><span class="op" id="8290134">.</span><span class="ident" id="8290135">Int</span>&nbsp;<span class="op" id="8290139">!=</span>&nbsp;<span class="num" id="8290142">1</span>&nbsp;<span class="op" id="8290144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290148">t</span><span class="op" id="8290149">.</span><span class="ident" id="8290150">Fatalf</span><span class="op" id="8290156">(</span><span class="string" id="8290157">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8290206">,</span>&nbsp;<span class="ident" id="8290208">x</span><span class="op" id="8290209">,</span>&nbsp;<span class="ident" id="8290211">p1</span><span class="op" id="8290213">.</span><span class="ident" id="8290214">Int</span><span class="op" id="8290217">,</span>&nbsp;<span class="num" id="8290219">1</span><span class="op" id="8290220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290223">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290227">p2</span>&nbsp;<span class="op" id="8290230">:=</span>&nbsp;<span class="op" id="8290233">&amp;</span><span class="ident" id="8290234">ParamVal</span><span class="op" id="8290242">{</span><span class="op" id="8290243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290246">if</span>&nbsp;<span class="ident" id="8290249">err</span>&nbsp;<span class="op" id="8290253">:=</span>&nbsp;<span class="ident" id="8290256">Unmarshal</span><span class="op" id="8290265">(</span><span class="ident" id="8290266">x</span><span class="op" id="8290267">,</span>&nbsp;<span class="ident" id="8290269">p2</span><span class="op" id="8290271">)</span><span class="op" id="8290272">;</span>&nbsp;<span class="ident" id="8290274">err</span>&nbsp;<span class="op" id="8290278">!=</span>&nbsp;<span class="ident" id="8290281">nil</span>&nbsp;<span class="op" id="8290285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290289">t</span><span class="op" id="8290290">.</span><span class="ident" id="8290291">Fatalf</span><span class="op" id="8290297">(</span><span class="string" id="8290298">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8290313">,</span>&nbsp;<span class="ident" id="8290315">err</span><span class="op" id="8290318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290321">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290324">if</span>&nbsp;<span class="ident" id="8290327">p2</span><span class="op" id="8290329">.</span><span class="ident" id="8290330">Int</span>&nbsp;<span class="op" id="8290334">!=</span>&nbsp;<span class="num" id="8290337">1</span>&nbsp;<span class="op" id="8290339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290343">t</span><span class="op" id="8290344">.</span><span class="ident" id="8290345">Fatalf</span><span class="op" id="8290351">(</span><span class="string" id="8290352">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8290401">,</span>&nbsp;<span class="ident" id="8290403">x</span><span class="op" id="8290404">,</span>&nbsp;<span class="ident" id="8290406">p2</span><span class="op" id="8290408">.</span><span class="ident" id="8290409">Int</span><span class="op" id="8290412">,</span>&nbsp;<span class="num" id="8290414">1</span><span class="op" id="8290415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290422">p3</span>&nbsp;<span class="op" id="8290425">:=</span>&nbsp;<span class="op" id="8290428">&amp;</span><span class="ident" id="8290429">ParamStringPtr</span><span class="op" id="8290443">{</span><span class="op" id="8290444">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290447">if</span>&nbsp;<span class="ident" id="8290450">err</span>&nbsp;<span class="op" id="8290454">:=</span>&nbsp;<span class="ident" id="8290457">Unmarshal</span><span class="op" id="8290466">(</span><span class="ident" id="8290467">x</span><span class="op" id="8290468">,</span>&nbsp;<span class="ident" id="8290470">p3</span><span class="op" id="8290472">)</span><span class="op" id="8290473">;</span>&nbsp;<span class="ident" id="8290475">err</span>&nbsp;<span class="op" id="8290479">!=</span>&nbsp;<span class="ident" id="8290482">nil</span>&nbsp;<span class="op" id="8290486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290490">t</span><span class="op" id="8290491">.</span><span class="ident" id="8290492">Fatalf</span><span class="op" id="8290498">(</span><span class="string" id="8290499">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8290514">,</span>&nbsp;<span class="ident" id="8290516">err</span><span class="op" id="8290519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290525">if</span>&nbsp;<span class="ident" id="8290528">p3</span><span class="op" id="8290530">.</span><span class="ident" id="8290531">Int</span>&nbsp;<span class="op" id="8290535">==</span>&nbsp;<span class="ident" id="8290538">nil</span>&nbsp;<span class="op" id="8290542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290546">t</span><span class="op" id="8290547">.</span><span class="ident" id="8290548">Fatalf</span><span class="op" id="8290554">(</span><span class="string" id="8290555">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="8290593">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290596">}</span>&nbsp;<span class="keyword" id="8290598">else</span>&nbsp;<span class="keyword" id="8290603">if</span>&nbsp;<span class="op" id="8290606">*</span><span class="ident" id="8290607">p3</span><span class="op" id="8290609">.</span><span class="ident" id="8290610">Int</span>&nbsp;<span class="op" id="8290614">!=</span>&nbsp;<span class="string" id="8290617">&#34;1&#34;</span>&nbsp;<span class="op" id="8290621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290625">t</span><span class="op" id="8290626">.</span><span class="ident" id="8290627">Fatalf</span><span class="op" id="8290633">(</span><span class="string" id="8290634">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8290683">,</span>&nbsp;<span class="ident" id="8290685">x</span><span class="op" id="8290686">,</span>&nbsp;<span class="ident" id="8290688">p3</span><span class="op" id="8290690">.</span><span class="ident" id="8290691">Int</span><span class="op" id="8290694">,</span>&nbsp;<span class="num" id="8290696">1</span><span class="op" id="8290697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290700">}</span><br>
<span class="lineno"></span><span class="op" id="8290702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="8290705">type</span>&nbsp;<span class="ident" id="8290710">Tables</span>&nbsp;<span class="keyword" id="8290717">struct</span>&nbsp;<span class="op" id="8290724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290727">HTable</span>&nbsp;<span class="builtintype" id="8290734">string</span>&nbsp;<span class="string" id="8290741">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290784">FTable</span>&nbsp;<span class="builtintype" id="8290791">string</span>&nbsp;<span class="string" id="8290798">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8290847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="8290850">var</span>&nbsp;<span class="ident" id="8290854">tables</span>&nbsp;<span class="op" id="8290861">=</span>&nbsp;<span class="op" id="8290863">[</span><span class="op" id="8290864">]</span><span class="keyword" id="8290865">struct</span>&nbsp;<span class="op" id="8290872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290875">xml</span>&nbsp;<span class="builtintype" id="8290879">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290887">tab</span>&nbsp;<span class="ident" id="8290891">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290899">ns</span>&nbsp;&nbsp;<span class="builtintype" id="8290903">string</span><br>
<span class="lineno"></span><span class="op" id="8290910">}</span><span class="op" id="8290911">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290918">xml</span><span class="op" id="8290921">:</span>&nbsp;<span class="string" id="8290923">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8290934">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8290939">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="8290998">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291003">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="8291069">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291074">`&lt;/Tables&gt;`</span><span class="op" id="8291085">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291089">tab</span><span class="op" id="8291092">:</span>&nbsp;<span class="ident" id="8291094">Tables</span><span class="op" id="8291100">{</span><span class="string" id="8291101">&#34;hello&#34;</span><span class="op" id="8291108">,</span>&nbsp;<span class="string" id="8291110">&#34;world&#34;</span><span class="op" id="8291117">}</span><span class="op" id="8291118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291121">}</span><span class="op" id="8291122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291129">xml</span><span class="op" id="8291132">:</span>&nbsp;<span class="string" id="8291134">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8291145">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291150">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="8291216">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291221">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="8291280">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291285">`&lt;/Tables&gt;`</span><span class="op" id="8291296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291300">tab</span><span class="op" id="8291303">:</span>&nbsp;<span class="ident" id="8291305">Tables</span><span class="op" id="8291311">{</span><span class="string" id="8291312">&#34;hello&#34;</span><span class="op" id="8291319">,</span>&nbsp;<span class="string" id="8291321">&#34;world&#34;</span><span class="op" id="8291328">}</span><span class="op" id="8291329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291332">}</span><span class="op" id="8291333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291336">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291340">xml</span><span class="op" id="8291343">:</span>&nbsp;<span class="string" id="8291345">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="8291439">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291444">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="8291471">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291476">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="8291503">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291508">`&lt;/Tables&gt;`</span><span class="op" id="8291519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291523">tab</span><span class="op" id="8291526">:</span>&nbsp;<span class="ident" id="8291528">Tables</span><span class="op" id="8291534">{</span><span class="string" id="8291535">&#34;hello&#34;</span><span class="op" id="8291542">,</span>&nbsp;<span class="string" id="8291544">&#34;world&#34;</span><span class="op" id="8291551">}</span><span class="op" id="8291552">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291555">}</span><span class="op" id="8291556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291563">xml</span><span class="op" id="8291566">:</span>&nbsp;<span class="string" id="8291568">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8291579">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291584">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="8291607">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291612">`&lt;/Tables&gt;`</span><span class="op" id="8291623">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291627">tab</span><span class="op" id="8291630">:</span>&nbsp;<span class="ident" id="8291632">Tables</span><span class="op" id="8291638">{</span><span class="op" id="8291639">}</span><span class="op" id="8291640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291643">}</span><span class="op" id="8291644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291651">xml</span><span class="op" id="8291654">:</span>&nbsp;<span class="string" id="8291656">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8291667">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291672">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8291694">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291699">`&lt;/Tables&gt;`</span><span class="op" id="8291710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291714">tab</span><span class="op" id="8291717">:</span>&nbsp;<span class="ident" id="8291719">Tables</span><span class="op" id="8291725">{</span><span class="ident" id="8291726">HTable</span><span class="op" id="8291732">:</span>&nbsp;<span class="string" id="8291734">&#34;only&#34;</span><span class="op" id="8291740">}</span><span class="op" id="8291741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291745">ns</span><span class="op" id="8291747">:</span>&nbsp;&nbsp;<span class="string" id="8291750">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="8291779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291782">}</span><span class="op" id="8291783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291786">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291790">xml</span><span class="op" id="8291793">:</span>&nbsp;<span class="string" id="8291795">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8291806">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291811">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8291833">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291838">`&lt;/Tables&gt;`</span><span class="op" id="8291849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291853">tab</span><span class="op" id="8291856">:</span>&nbsp;<span class="ident" id="8291858">Tables</span><span class="op" id="8291864">{</span><span class="ident" id="8291865">FTable</span><span class="op" id="8291871">:</span>&nbsp;<span class="string" id="8291873">&#34;only&#34;</span><span class="op" id="8291879">}</span><span class="op" id="8291880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291884">ns</span><span class="op" id="8291886">:</span>&nbsp;&nbsp;<span class="string" id="8291889">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="8291925">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291928">}</span><span class="op" id="8291929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291936">xml</span><span class="op" id="8291939">:</span>&nbsp;<span class="string" id="8291941">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8291952">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291957">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8291979">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8291984">`&lt;/Tables&gt;`</span><span class="op" id="8291995">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291999">tab</span><span class="op" id="8292002">:</span>&nbsp;<span class="ident" id="8292004">Tables</span><span class="op" id="8292010">{</span><span class="op" id="8292011">}</span><span class="op" id="8292012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292016">ns</span><span class="op" id="8292018">:</span>&nbsp;&nbsp;<span class="string" id="8292021">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="8292046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292049">}</span><span class="op" id="8292050">,</span><br>
<span class="lineno"></span><span class="op" id="8292052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="8292055">func</span>&nbsp;<span class="ident" id="8292060">TestUnmarshalNS</span><span class="op" id="8292075">(</span><span class="ident" id="8292076">t</span>&nbsp;<span class="op" id="8292078">*</span><span class="ident" id="8292079">testing</span><span class="op" id="8292086">.</span><span class="ident" id="8292087">T</span><span class="op" id="8292088">)</span>&nbsp;<span class="op" id="8292090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292093">for</span>&nbsp;<span class="ident" id="8292097">i</span><span class="op" id="8292098">,</span>&nbsp;<span class="ident" id="8292100">tt</span>&nbsp;<span class="op" id="8292103">:=</span>&nbsp;<span class="keyword" id="8292106">range</span>&nbsp;<span class="ident" id="8292112">tables</span>&nbsp;<span class="op" id="8292119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292123">var</span>&nbsp;<span class="ident" id="8292127">dst</span>&nbsp;<span class="ident" id="8292131">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292140">var</span>&nbsp;<span class="ident" id="8292144">err</span>&nbsp;<span class="builtintype" id="8292148">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292156">if</span>&nbsp;<span class="ident" id="8292159">tt</span><span class="op" id="8292161">.</span><span class="ident" id="8292162">ns</span>&nbsp;<span class="op" id="8292165">!=</span>&nbsp;<span class="string" id="8292168">&#34;&#34;</span>&nbsp;<span class="op" id="8292171">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292176">d</span>&nbsp;<span class="op" id="8292178">:=</span>&nbsp;<span class="ident" id="8292181">NewDecoder</span><span class="op" id="8292191">(</span><span class="ident" id="8292192">strings</span><span class="op" id="8292199">.</span><span class="ident" id="8292200">NewReader</span><span class="op" id="8292209">(</span><span class="ident" id="8292210">tt</span><span class="op" id="8292212">.</span><span class="ident" id="8292213">xml</span><span class="op" id="8292216">)</span><span class="op" id="8292217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292222">d</span><span class="op" id="8292223">.</span><span class="ident" id="8292224">DefaultSpace</span>&nbsp;<span class="op" id="8292237">=</span>&nbsp;<span class="ident" id="8292239">tt</span><span class="op" id="8292241">.</span><span class="ident" id="8292242">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292248">err</span>&nbsp;<span class="op" id="8292252">=</span>&nbsp;<span class="ident" id="8292254">d</span><span class="op" id="8292255">.</span><span class="ident" id="8292256">Decode</span><span class="op" id="8292262">(</span><span class="op" id="8292263">&amp;</span><span class="ident" id="8292264">dst</span><span class="op" id="8292267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292271">}</span>&nbsp;<span class="keyword" id="8292273">else</span>&nbsp;<span class="op" id="8292278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292283">err</span>&nbsp;<span class="op" id="8292287">=</span>&nbsp;<span class="ident" id="8292289">Unmarshal</span><span class="op" id="8292298">(</span><span class="op" id="8292299">[</span><span class="op" id="8292300">]</span><span class="builtintype" id="8292301">byte</span><span class="op" id="8292305">(</span><span class="ident" id="8292306">tt</span><span class="op" id="8292308">.</span><span class="ident" id="8292309">xml</span><span class="op" id="8292312">)</span><span class="op" id="8292313">,</span>&nbsp;<span class="op" id="8292315">&amp;</span><span class="ident" id="8292316">dst</span><span class="op" id="8292319">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292327">if</span>&nbsp;<span class="ident" id="8292330">err</span>&nbsp;<span class="op" id="8292334">!=</span>&nbsp;<span class="ident" id="8292337">nil</span>&nbsp;<span class="op" id="8292341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292346">t</span><span class="op" id="8292347">.</span><span class="ident" id="8292348">Errorf</span><span class="op" id="8292354">(</span><span class="string" id="8292355">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8292375">,</span>&nbsp;<span class="ident" id="8292377">i</span><span class="op" id="8292378">,</span>&nbsp;<span class="ident" id="8292380">err</span><span class="op" id="8292383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292388">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292399">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292403">want</span>&nbsp;<span class="op" id="8292408">:=</span>&nbsp;<span class="ident" id="8292411">tt</span><span class="op" id="8292413">.</span><span class="ident" id="8292414">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292420">if</span>&nbsp;<span class="ident" id="8292423">dst</span>&nbsp;<span class="op" id="8292427">!=</span>&nbsp;<span class="ident" id="8292430">want</span>&nbsp;<span class="op" id="8292435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292440">t</span><span class="op" id="8292441">.</span><span class="ident" id="8292442">Errorf</span><span class="op" id="8292448">(</span><span class="string" id="8292449">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8292473">,</span>&nbsp;<span class="ident" id="8292475">i</span><span class="op" id="8292476">,</span>&nbsp;<span class="ident" id="8292478">dst</span><span class="op" id="8292481">,</span>&nbsp;<span class="ident" id="8292483">want</span><span class="op" id="8292487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292494">}</span><br>
<span class="lineno">485</span><span class="op" id="8292496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8292499">func</span>&nbsp;<span class="ident" id="8292504">TestMarshalNS</span><span class="op" id="8292517">(</span><span class="ident" id="8292518">t</span>&nbsp;<span class="op" id="8292520">*</span><span class="ident" id="8292521">testing</span><span class="op" id="8292528">.</span><span class="ident" id="8292529">T</span><span class="op" id="8292530">)</span>&nbsp;<span class="op" id="8292532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292535">dst</span>&nbsp;<span class="op" id="8292539">:=</span>&nbsp;<span class="ident" id="8292542">Tables</span><span class="op" id="8292548">{</span><span class="string" id="8292549">&#34;hello&#34;</span><span class="op" id="8292556">,</span>&nbsp;<span class="string" id="8292558">&#34;world&#34;</span><span class="op" id="8292565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292568">data</span><span class="op" id="8292572">,</span>&nbsp;<span class="ident" id="8292574">err</span>&nbsp;<span class="op" id="8292578">:=</span>&nbsp;<span class="ident" id="8292581">Marshal</span><span class="op" id="8292588">(</span><span class="op" id="8292589">&amp;</span><span class="ident" id="8292590">dst</span><span class="op" id="8292593">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292596">if</span>&nbsp;<span class="ident" id="8292599">err</span>&nbsp;<span class="op" id="8292603">!=</span>&nbsp;<span class="ident" id="8292606">nil</span>&nbsp;<span class="op" id="8292610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292614">t</span><span class="op" id="8292615">.</span><span class="ident" id="8292616">Fatalf</span><span class="op" id="8292622">(</span><span class="string" id="8292623">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8292636">,</span>&nbsp;<span class="ident" id="8292638">err</span><span class="op" id="8292641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292647">want</span>&nbsp;<span class="op" id="8292652">:=</span>&nbsp;<span class="string" id="8292655">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292795">str</span>&nbsp;<span class="op" id="8292799">:=</span>&nbsp;<span class="builtintype" id="8292802">string</span><span class="op" id="8292808">(</span><span class="ident" id="8292809">data</span><span class="op" id="8292813">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292816">if</span>&nbsp;<span class="ident" id="8292819">str</span>&nbsp;<span class="op" id="8292823">!=</span>&nbsp;<span class="ident" id="8292826">want</span>&nbsp;<span class="op" id="8292831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292835">t</span><span class="op" id="8292836">.</span><span class="ident" id="8292837">Errorf</span><span class="op" id="8292843">(</span><span class="string" id="8292844">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="8292866">,</span>&nbsp;<span class="ident" id="8292868">str</span><span class="op" id="8292871">,</span>&nbsp;<span class="ident" id="8292873">want</span><span class="op" id="8292877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292880">}</span><br>
<span class="lineno"></span><span class="op" id="8292882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="8292885">type</span>&nbsp;<span class="ident" id="8292890">TableAttrs</span>&nbsp;<span class="keyword" id="8292901">struct</span>&nbsp;<span class="op" id="8292908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292911">TAttr</span>&nbsp;<span class="ident" id="8292917">TAttr</span><br>
<span class="lineno"></span><span class="op" id="8292923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8292926">type</span>&nbsp;<span class="ident" id="8292931">TAttr</span>&nbsp;<span class="keyword" id="8292937">struct</span>&nbsp;<span class="op" id="8292944">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292947">HTable</span>&nbsp;<span class="builtintype" id="8292954">string</span>&nbsp;<span class="string" id="8292961">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293009">FTable</span>&nbsp;<span class="builtintype" id="8293016">string</span>&nbsp;<span class="string" id="8293023">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293078">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8293085">string</span>&nbsp;<span class="string" id="8293092">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293158">Other1</span>&nbsp;<span class="builtintype" id="8293165">string</span>&nbsp;<span class="string" id="8293172">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293225">Other2</span>&nbsp;<span class="builtintype" id="8293232">string</span>&nbsp;<span class="string" id="8293239">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293295">Other3</span>&nbsp;<span class="builtintype" id="8293302">string</span>&nbsp;<span class="string" id="8293309">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293363">Other4</span>&nbsp;<span class="builtintype" id="8293370">string</span>&nbsp;<span class="string" id="8293377">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8293432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8293435">var</span>&nbsp;<span class="ident" id="8293439">tableAttrs</span>&nbsp;<span class="op" id="8293450">=</span>&nbsp;<span class="op" id="8293452">[</span><span class="op" id="8293453">]</span><span class="keyword" id="8293454">struct</span>&nbsp;<span class="op" id="8293461">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293464">xml</span>&nbsp;<span class="builtintype" id="8293468">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293476">tab</span>&nbsp;<span class="ident" id="8293480">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293492">ns</span>&nbsp;&nbsp;<span class="builtintype" id="8293496">string</span><br>
<span class="lineno"></span><span class="op" id="8293503">}</span><span class="op" id="8293504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293507">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293511">xml</span><span class="op" id="8293514">:</span>&nbsp;<span class="string" id="8293516">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8293621">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8293626">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8293661">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8293666">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8293683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293687">tab</span><span class="op" id="8293690">:</span>&nbsp;<span class="ident" id="8293692">TableAttrs</span><span class="op" id="8293702">{</span><span class="ident" id="8293703">TAttr</span><span class="op" id="8293708">{</span><span class="ident" id="8293709">HTable</span><span class="op" id="8293715">:</span>&nbsp;<span class="string" id="8293717">&#34;hello&#34;</span><span class="op" id="8293724">,</span>&nbsp;<span class="ident" id="8293726">FTable</span><span class="op" id="8293732">:</span>&nbsp;<span class="string" id="8293734">&#34;world&#34;</span><span class="op" id="8293741">}</span><span class="op" id="8293742">}</span><span class="op" id="8293743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293746">}</span><span class="op" id="8293747">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293754">xml</span><span class="op" id="8293757">:</span>&nbsp;<span class="string" id="8293759">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8293864">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8293869">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8293904">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8293909">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8293926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293930">tab</span><span class="op" id="8293933">:</span>&nbsp;<span class="ident" id="8293935">TableAttrs</span><span class="op" id="8293945">{</span><span class="ident" id="8293946">TAttr</span><span class="op" id="8293951">{</span><span class="ident" id="8293952">HTable</span><span class="op" id="8293958">:</span>&nbsp;<span class="string" id="8293960">&#34;hello&#34;</span><span class="op" id="8293967">,</span>&nbsp;<span class="ident" id="8293969">FTable</span><span class="op" id="8293975">:</span>&nbsp;<span class="string" id="8293977">&#34;world&#34;</span><span class="op" id="8293984">}</span><span class="op" id="8293985">}</span><span class="op" id="8293986">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293989">}</span><span class="op" id="8293990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293997">xml</span><span class="op" id="8294000">:</span>&nbsp;<span class="string" id="8294002">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8294024">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294029">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8294147">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294152">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8294169">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294173">tab</span><span class="op" id="8294176">:</span>&nbsp;<span class="ident" id="8294178">TableAttrs</span><span class="op" id="8294188">{</span><span class="ident" id="8294189">TAttr</span><span class="op" id="8294194">{</span><span class="ident" id="8294195">HTable</span><span class="op" id="8294201">:</span>&nbsp;<span class="string" id="8294203">&#34;hello&#34;</span><span class="op" id="8294210">,</span>&nbsp;<span class="ident" id="8294212">FTable</span><span class="op" id="8294218">:</span>&nbsp;<span class="string" id="8294220">&#34;world&#34;</span><span class="op" id="8294227">}</span><span class="op" id="8294228">}</span><span class="op" id="8294229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294232">}</span><span class="op" id="8294233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294240">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294294">xml</span><span class="op" id="8294297">:</span>&nbsp;<span class="string" id="8294299">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8294402">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294407">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8294440">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294445">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8294462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294466">tab</span><span class="op" id="8294469">:</span>&nbsp;<span class="ident" id="8294471">TableAttrs</span><span class="op" id="8294481">{</span><span class="ident" id="8294482">TAttr</span><span class="op" id="8294487">{</span><span class="ident" id="8294488">HTable</span><span class="op" id="8294494">:</span>&nbsp;<span class="string" id="8294496">&#34;hello&#34;</span><span class="op" id="8294503">,</span>&nbsp;<span class="ident" id="8294505">FTable</span><span class="op" id="8294511">:</span>&nbsp;<span class="string" id="8294513">&#34;&#34;</span><span class="op" id="8294515">}</span><span class="op" id="8294516">}</span><span class="op" id="8294517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294520">}</span><span class="op" id="8294521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294524">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294528">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294582">xml</span><span class="op" id="8294585">:</span>&nbsp;<span class="string" id="8294587">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8294690">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294695">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8294728">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294733">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8294750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294754">tab</span><span class="op" id="8294757">:</span>&nbsp;<span class="ident" id="8294759">TableAttrs</span><span class="op" id="8294769">{</span><span class="ident" id="8294770">TAttr</span><span class="op" id="8294775">{</span><span class="ident" id="8294776">HTable</span><span class="op" id="8294782">:</span>&nbsp;<span class="string" id="8294784">&#34;&#34;</span><span class="op" id="8294786">,</span>&nbsp;<span class="ident" id="8294788">FTable</span><span class="op" id="8294794">:</span>&nbsp;<span class="string" id="8294796">&#34;world&#34;</span><span class="op" id="8294803">}</span><span class="op" id="8294804">}</span><span class="op" id="8294805">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294808">}</span><span class="op" id="8294809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294816">xml</span><span class="op" id="8294819">:</span>&nbsp;<span class="string" id="8294821">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8294843">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294848">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="8294865">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8294870">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8294887">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294891">tab</span><span class="op" id="8294894">:</span>&nbsp;<span class="ident" id="8294896">TableAttrs</span><span class="op" id="8294906">{</span><span class="op" id="8294907">}</span><span class="op" id="8294908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294911">}</span><span class="op" id="8294912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294919">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294973">xml</span><span class="op" id="8294976">:</span>&nbsp;<span class="string" id="8294978">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8295038">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8295043">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8295076">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8295081">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8295098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295102">tab</span><span class="op" id="8295105">:</span>&nbsp;<span class="ident" id="8295107">TableAttrs</span><span class="op" id="8295117">{</span><span class="ident" id="8295118">TAttr</span><span class="op" id="8295123">{</span><span class="ident" id="8295124">HTable</span><span class="op" id="8295130">:</span>&nbsp;<span class="string" id="8295132">&#34;hello&#34;</span><span class="op" id="8295139">,</span>&nbsp;<span class="ident" id="8295141">FTable</span><span class="op" id="8295147">:</span>&nbsp;<span class="string" id="8295149">&#34;&#34;</span><span class="op" id="8295151">}</span><span class="op" id="8295152">}</span><span class="op" id="8295153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295157">ns</span><span class="op" id="8295159">:</span>&nbsp;&nbsp;<span class="string" id="8295162">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="8295198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295201">}</span><span class="op" id="8295202">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8295209">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295263">xml</span><span class="op" id="8295266">:</span>&nbsp;<span class="string" id="8295268">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8295335">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8295340">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8295373">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8295378">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8295395">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295399">tab</span><span class="op" id="8295402">:</span>&nbsp;<span class="ident" id="8295404">TableAttrs</span><span class="op" id="8295414">{</span><span class="ident" id="8295415">TAttr</span><span class="op" id="8295420">{</span><span class="ident" id="8295421">HTable</span><span class="op" id="8295427">:</span>&nbsp;<span class="string" id="8295429">&#34;&#34;</span><span class="op" id="8295431">,</span>&nbsp;<span class="ident" id="8295433">FTable</span><span class="op" id="8295439">:</span>&nbsp;<span class="string" id="8295441">&#34;world&#34;</span><span class="op" id="8295448">}</span><span class="op" id="8295449">}</span><span class="op" id="8295450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295454">ns</span><span class="op" id="8295456">:</span>&nbsp;&nbsp;<span class="string" id="8295459">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="8295488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295491">}</span><span class="op" id="8295492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295499">xml</span><span class="op" id="8295502">:</span>&nbsp;<span class="string" id="8295504">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8295526">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8295531">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="8295548">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8295553">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8295570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295574">tab</span><span class="op" id="8295577">:</span>&nbsp;<span class="ident" id="8295579">TableAttrs</span><span class="op" id="8295589">{</span><span class="op" id="8295590">}</span><span class="op" id="8295591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295595">ns</span><span class="op" id="8295597">:</span>&nbsp;&nbsp;<span class="string" id="8295600">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="8295625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295628">}</span><span class="op" id="8295629">,</span><br>
<span class="lineno">580</span><span class="op" id="8295631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8295634">func</span>&nbsp;<span class="ident" id="8295639">TestUnmarshalNSAttr</span><span class="op" id="8295658">(</span><span class="ident" id="8295659">t</span>&nbsp;<span class="op" id="8295661">*</span><span class="ident" id="8295662">testing</span><span class="op" id="8295669">.</span><span class="ident" id="8295670">T</span><span class="op" id="8295671">)</span>&nbsp;<span class="op" id="8295673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295676">for</span>&nbsp;<span class="ident" id="8295680">i</span><span class="op" id="8295681">,</span>&nbsp;<span class="ident" id="8295683">tt</span>&nbsp;<span class="op" id="8295686">:=</span>&nbsp;<span class="keyword" id="8295689">range</span>&nbsp;<span class="ident" id="8295695">tableAttrs</span>&nbsp;<span class="op" id="8295706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295710">var</span>&nbsp;<span class="ident" id="8295714">dst</span>&nbsp;<span class="ident" id="8295718">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295731">var</span>&nbsp;<span class="ident" id="8295735">err</span>&nbsp;<span class="builtintype" id="8295739">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295747">if</span>&nbsp;<span class="ident" id="8295750">tt</span><span class="op" id="8295752">.</span><span class="ident" id="8295753">ns</span>&nbsp;<span class="op" id="8295756">!=</span>&nbsp;<span class="string" id="8295759">&#34;&#34;</span>&nbsp;<span class="op" id="8295762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295767">d</span>&nbsp;<span class="op" id="8295769">:=</span>&nbsp;<span class="ident" id="8295772">NewDecoder</span><span class="op" id="8295782">(</span><span class="ident" id="8295783">strings</span><span class="op" id="8295790">.</span><span class="ident" id="8295791">NewReader</span><span class="op" id="8295800">(</span><span class="ident" id="8295801">tt</span><span class="op" id="8295803">.</span><span class="ident" id="8295804">xml</span><span class="op" id="8295807">)</span><span class="op" id="8295808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295813">d</span><span class="op" id="8295814">.</span><span class="ident" id="8295815">DefaultSpace</span>&nbsp;<span class="op" id="8295828">=</span>&nbsp;<span class="ident" id="8295830">tt</span><span class="op" id="8295832">.</span><span class="ident" id="8295833">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295839">err</span>&nbsp;<span class="op" id="8295843">=</span>&nbsp;<span class="ident" id="8295845">d</span><span class="op" id="8295846">.</span><span class="ident" id="8295847">Decode</span><span class="op" id="8295853">(</span><span class="op" id="8295854">&amp;</span><span class="ident" id="8295855">dst</span><span class="op" id="8295858">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295862">}</span>&nbsp;<span class="keyword" id="8295864">else</span>&nbsp;<span class="op" id="8295869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295874">err</span>&nbsp;<span class="op" id="8295878">=</span>&nbsp;<span class="ident" id="8295880">Unmarshal</span><span class="op" id="8295889">(</span><span class="op" id="8295890">[</span><span class="op" id="8295891">]</span><span class="builtintype" id="8295892">byte</span><span class="op" id="8295896">(</span><span class="ident" id="8295897">tt</span><span class="op" id="8295899">.</span><span class="ident" id="8295900">xml</span><span class="op" id="8295903">)</span><span class="op" id="8295904">,</span>&nbsp;<span class="op" id="8295906">&amp;</span><span class="ident" id="8295907">dst</span><span class="op" id="8295910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295918">if</span>&nbsp;<span class="ident" id="8295921">err</span>&nbsp;<span class="op" id="8295925">!=</span>&nbsp;<span class="ident" id="8295928">nil</span>&nbsp;<span class="op" id="8295932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295937">t</span><span class="op" id="8295938">.</span><span class="ident" id="8295939">Errorf</span><span class="op" id="8295945">(</span><span class="string" id="8295946">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8295966">,</span>&nbsp;<span class="ident" id="8295968">i</span><span class="op" id="8295969">,</span>&nbsp;<span class="ident" id="8295971">err</span><span class="op" id="8295974">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295979">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295994">want</span>&nbsp;<span class="op" id="8295999">:=</span>&nbsp;<span class="ident" id="8296002">tt</span><span class="op" id="8296004">.</span><span class="ident" id="8296005">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296011">if</span>&nbsp;<span class="ident" id="8296014">dst</span>&nbsp;<span class="op" id="8296018">!=</span>&nbsp;<span class="ident" id="8296021">want</span>&nbsp;<span class="op" id="8296026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296031">t</span><span class="op" id="8296032">.</span><span class="ident" id="8296033">Errorf</span><span class="op" id="8296039">(</span><span class="string" id="8296040">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8296064">,</span>&nbsp;<span class="ident" id="8296066">i</span><span class="op" id="8296067">,</span>&nbsp;<span class="ident" id="8296069">dst</span><span class="op" id="8296072">,</span>&nbsp;<span class="ident" id="8296074">want</span><span class="op" id="8296078">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296085">}</span><br>
<span class="lineno"></span><span class="op" id="8296087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8296090">func</span>&nbsp;<span class="ident" id="8296095">TestMarshalNSAttr</span><span class="op" id="8296112">(</span><span class="ident" id="8296113">t</span>&nbsp;<span class="op" id="8296115">*</span><span class="ident" id="8296116">testing</span><span class="op" id="8296123">.</span><span class="ident" id="8296124">T</span><span class="op" id="8296125">)</span>&nbsp;<span class="op" id="8296127">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296130">src</span>&nbsp;<span class="op" id="8296134">:=</span>&nbsp;<span class="ident" id="8296137">TableAttrs</span><span class="op" id="8296147">{</span><span class="ident" id="8296148">TAttr</span><span class="op" id="8296153">{</span><span class="string" id="8296154">&#34;hello&#34;</span><span class="op" id="8296161">,</span>&nbsp;<span class="string" id="8296163">&#34;world&#34;</span><span class="op" id="8296170">,</span>&nbsp;<span class="string" id="8296172">&#34;en_US&#34;</span><span class="op" id="8296179">,</span>&nbsp;<span class="string" id="8296181">&#34;other1&#34;</span><span class="op" id="8296189">,</span>&nbsp;<span class="string" id="8296191">&#34;other2&#34;</span><span class="op" id="8296199">,</span>&nbsp;<span class="string" id="8296201">&#34;other3&#34;</span><span class="op" id="8296209">,</span>&nbsp;<span class="string" id="8296211">&#34;other4&#34;</span><span class="op" id="8296219">}</span><span class="op" id="8296220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296223">data</span><span class="op" id="8296227">,</span>&nbsp;<span class="ident" id="8296229">err</span>&nbsp;<span class="op" id="8296233">:=</span>&nbsp;<span class="ident" id="8296236">Marshal</span><span class="op" id="8296243">(</span><span class="op" id="8296244">&amp;</span><span class="ident" id="8296245">src</span><span class="op" id="8296248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296251">if</span>&nbsp;<span class="ident" id="8296254">err</span>&nbsp;<span class="op" id="8296258">!=</span>&nbsp;<span class="ident" id="8296261">nil</span>&nbsp;<span class="op" id="8296265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296269">t</span><span class="op" id="8296270">.</span><span class="ident" id="8296271">Fatalf</span><span class="op" id="8296277">(</span><span class="string" id="8296278">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8296291">,</span>&nbsp;<span class="ident" id="8296293">err</span><span class="op" id="8296296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296299">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296302">want</span>&nbsp;<span class="op" id="8296307">:=</span>&nbsp;<span class="string" id="8296310">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296751">str</span>&nbsp;<span class="op" id="8296755">:=</span>&nbsp;<span class="builtintype" id="8296758">string</span><span class="op" id="8296764">(</span><span class="ident" id="8296765">data</span><span class="op" id="8296769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296772">if</span>&nbsp;<span class="ident" id="8296775">str</span>&nbsp;<span class="op" id="8296779">!=</span>&nbsp;<span class="ident" id="8296782">want</span>&nbsp;<span class="op" id="8296787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296791">t</span><span class="op" id="8296792">.</span><span class="ident" id="8296793">Errorf</span><span class="op" id="8296799">(</span><span class="string" id="8296800">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="8296834">,</span>&nbsp;<span class="ident" id="8296836">str</span><span class="op" id="8296839">,</span>&nbsp;<span class="ident" id="8296841">want</span><span class="op" id="8296845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296848">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296852">var</span>&nbsp;<span class="ident" id="8296856">dst</span>&nbsp;<span class="ident" id="8296860">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296872">if</span>&nbsp;<span class="ident" id="8296875">err</span>&nbsp;<span class="op" id="8296879">:=</span>&nbsp;<span class="ident" id="8296882">Unmarshal</span><span class="op" id="8296891">(</span><span class="ident" id="8296892">data</span><span class="op" id="8296896">,</span>&nbsp;<span class="op" id="8296898">&amp;</span><span class="ident" id="8296899">dst</span><span class="op" id="8296902">)</span><span class="op" id="8296903">;</span>&nbsp;<span class="ident" id="8296905">err</span>&nbsp;<span class="op" id="8296909">!=</span>&nbsp;<span class="ident" id="8296912">nil</span>&nbsp;<span class="op" id="8296916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296920">t</span><span class="op" id="8296921">.</span><span class="ident" id="8296922">Errorf</span><span class="op" id="8296928">(</span><span class="string" id="8296929">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8296944">,</span>&nbsp;<span class="ident" id="8296946">err</span><span class="op" id="8296949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296952">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296956">if</span>&nbsp;<span class="ident" id="8296959">dst</span>&nbsp;<span class="op" id="8296963">!=</span>&nbsp;<span class="ident" id="8296966">src</span>&nbsp;<span class="op" id="8296970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296974">t</span><span class="op" id="8296975">.</span><span class="ident" id="8296976">Errorf</span><span class="op" id="8296982">(</span><span class="string" id="8296983">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8297008">,</span>&nbsp;<span class="ident" id="8297010">dst</span><span class="op" id="8297013">,</span>&nbsp;<span class="ident" id="8297015">src</span><span class="op" id="8297018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297021">}</span><br>
<span class="lineno"></span><span class="op" id="8297023">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="8297026">type</span>&nbsp;<span class="ident" id="8297031">MyCharData</span>&nbsp;<span class="keyword" id="8297042">struct</span>&nbsp;<span class="op" id="8297049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297052">body</span>&nbsp;<span class="builtintype" id="8297057">string</span><br>
<span class="lineno"></span><span class="op" id="8297064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="8297067">func</span>&nbsp;<span class="op" id="8297072">(</span><span class="ident" id="8297073">m</span>&nbsp;<span class="op" id="8297075">*</span><span class="ident" id="8297076">MyCharData</span><span class="op" id="8297086">)</span>&nbsp;<span class="ident" id="8297088">UnmarshalXML</span><span class="op" id="8297100">(</span><span class="ident" id="8297101">d</span>&nbsp;<span class="op" id="8297103">*</span><span class="ident" id="8297104">Decoder</span><span class="op" id="8297111">,</span>&nbsp;<span class="ident" id="8297113">start</span>&nbsp;<span class="ident" id="8297119">StartElement</span><span class="op" id="8297131">)</span>&nbsp;<span class="builtintype" id="8297133">error</span>&nbsp;<span class="op" id="8297139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297142">for</span>&nbsp;<span class="op" id="8297146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297150">t</span><span class="op" id="8297151">,</span>&nbsp;<span class="ident" id="8297153">err</span>&nbsp;<span class="op" id="8297157">:=</span>&nbsp;<span class="ident" id="8297160">d</span><span class="op" id="8297161">.</span><span class="ident" id="8297162">Token</span><span class="op" id="8297167">(</span><span class="op" id="8297168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297172">if</span>&nbsp;<span class="ident" id="8297175">err</span>&nbsp;<span class="op" id="8297179">==</span>&nbsp;<span class="ident" id="8297182">io</span><span class="op" id="8297184">.</span><span class="ident" id="8297185">EOF</span>&nbsp;<span class="op" id="8297189">{</span>&nbsp;<span class="comment" id="8297191">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297218">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297230">if</span>&nbsp;<span class="ident" id="8297233">err</span>&nbsp;<span class="op" id="8297237">!=</span>&nbsp;<span class="ident" id="8297240">nil</span>&nbsp;<span class="op" id="8297244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297249">return</span>&nbsp;<span class="ident" id="8297256">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297266">if</span>&nbsp;<span class="ident" id="8297269">char</span><span class="op" id="8297273">,</span>&nbsp;<span class="ident" id="8297275">ok</span>&nbsp;<span class="op" id="8297278">:=</span>&nbsp;<span class="ident" id="8297281">t</span><span class="op" id="8297282">.</span><span class="op" id="8297283">(</span><span class="ident" id="8297284">CharData</span><span class="op" id="8297292">)</span><span class="op" id="8297293">;</span>&nbsp;<span class="ident" id="8297295">ok</span>&nbsp;<span class="op" id="8297298">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297303">m</span><span class="op" id="8297304">.</span><span class="ident" id="8297305">body</span>&nbsp;<span class="op" id="8297310">+=</span>&nbsp;<span class="builtintype" id="8297313">string</span><span class="op" id="8297319">(</span><span class="ident" id="8297320">char</span><span class="op" id="8297324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297334">return</span>&nbsp;<span class="ident" id="8297341">nil</span><br>
<span class="lineno"></span><span class="op" id="8297345">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="8297348">var</span>&nbsp;<span class="ident" id="8297352">_</span>&nbsp;<span class="ident" id="8297354">Unmarshaler</span>&nbsp;<span class="op" id="8297366">=</span>&nbsp;<span class="op" id="8297368">(</span><span class="op" id="8297369">*</span><span class="ident" id="8297370">MyCharData</span><span class="op" id="8297380">)</span><span class="op" id="8297381">(</span><span class="ident" id="8297382">nil</span><span class="op" id="8297385">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297388">func</span>&nbsp;<span class="op" id="8297393">(</span><span class="ident" id="8297394">m</span>&nbsp;<span class="op" id="8297396">*</span><span class="ident" id="8297397">MyCharData</span><span class="op" id="8297407">)</span>&nbsp;<span class="ident" id="8297409">UnmarshalXMLAttr</span><span class="op" id="8297425">(</span><span class="ident" id="8297426">attr</span>&nbsp;<span class="ident" id="8297431">Attr</span><span class="op" id="8297435">)</span>&nbsp;<span class="builtintype" id="8297437">error</span>&nbsp;<span class="op" id="8297443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8297446">panic</span><span class="op" id="8297451">(</span><span class="string" id="8297452">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="8297467">)</span><br>
<span class="lineno">650</span><span class="op" id="8297469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297472">type</span>&nbsp;<span class="ident" id="8297477">MyAttr</span>&nbsp;<span class="keyword" id="8297484">struct</span>&nbsp;<span class="op" id="8297491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297494">attr</span>&nbsp;<span class="builtintype" id="8297499">string</span><br>
<span class="lineno"></span><span class="op" id="8297506">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="8297509">func</span>&nbsp;<span class="op" id="8297514">(</span><span class="ident" id="8297515">m</span>&nbsp;<span class="op" id="8297517">*</span><span class="ident" id="8297518">MyAttr</span><span class="op" id="8297524">)</span>&nbsp;<span class="ident" id="8297526">UnmarshalXMLAttr</span><span class="op" id="8297542">(</span><span class="ident" id="8297543">attr</span>&nbsp;<span class="ident" id="8297548">Attr</span><span class="op" id="8297552">)</span>&nbsp;<span class="builtintype" id="8297554">error</span>&nbsp;<span class="op" id="8297560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297563">m</span><span class="op" id="8297564">.</span><span class="ident" id="8297565">attr</span>&nbsp;<span class="op" id="8297570">=</span>&nbsp;<span class="ident" id="8297572">attr</span><span class="op" id="8297576">.</span><span class="ident" id="8297577">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297584">return</span>&nbsp;<span class="ident" id="8297591">nil</span><br>
<span class="lineno"></span><span class="op" id="8297595">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="8297598">var</span>&nbsp;<span class="ident" id="8297602">_</span>&nbsp;<span class="ident" id="8297604">UnmarshalerAttr</span>&nbsp;<span class="op" id="8297620">=</span>&nbsp;<span class="op" id="8297622">(</span><span class="op" id="8297623">*</span><span class="ident" id="8297624">MyAttr</span><span class="op" id="8297630">)</span><span class="op" id="8297631">(</span><span class="ident" id="8297632">nil</span><span class="op" id="8297635">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8297638">type</span>&nbsp;<span class="ident" id="8297643">MyStruct</span>&nbsp;<span class="keyword" id="8297652">struct</span>&nbsp;<span class="op" id="8297659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297662">Data</span>&nbsp;<span class="op" id="8297667">*</span><span class="ident" id="8297668">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297680">Attr</span>&nbsp;<span class="op" id="8297685">*</span><span class="ident" id="8297686">MyAttr</span>&nbsp;<span class="string" id="8297693">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297709">Data2</span>&nbsp;<span class="ident" id="8297715">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297727">Attr2</span>&nbsp;<span class="ident" id="8297733">MyAttr</span>&nbsp;<span class="string" id="8297740">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8297754">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="8297757">func</span>&nbsp;<span class="ident" id="8297762">TestUnmarshaler</span><span class="op" id="8297777">(</span><span class="ident" id="8297778">t</span>&nbsp;<span class="op" id="8297780">*</span><span class="ident" id="8297781">testing</span><span class="op" id="8297788">.</span><span class="ident" id="8297789">T</span><span class="op" id="8297790">)</span>&nbsp;<span class="op" id="8297792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297795">xml</span>&nbsp;<span class="op" id="8297799">:=</span>&nbsp;<span class="string" id="8297802">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297989">var</span>&nbsp;<span class="ident" id="8297993">m</span>&nbsp;<span class="ident" id="8297995">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298005">if</span>&nbsp;<span class="ident" id="8298008">err</span>&nbsp;<span class="op" id="8298012">:=</span>&nbsp;<span class="ident" id="8298015">Unmarshal</span><span class="op" id="8298024">(</span><span class="op" id="8298025">[</span><span class="op" id="8298026">]</span><span class="builtintype" id="8298027">byte</span><span class="op" id="8298031">(</span><span class="ident" id="8298032">xml</span><span class="op" id="8298035">)</span><span class="op" id="8298036">,</span>&nbsp;<span class="op" id="8298038">&amp;</span><span class="ident" id="8298039">m</span><span class="op" id="8298040">)</span><span class="op" id="8298041">;</span>&nbsp;<span class="ident" id="8298043">err</span>&nbsp;<span class="op" id="8298047">!=</span>&nbsp;<span class="ident" id="8298050">nil</span>&nbsp;<span class="op" id="8298054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298058">t</span><span class="op" id="8298059">.</span><span class="ident" id="8298060">Fatal</span><span class="op" id="8298065">(</span><span class="ident" id="8298066">err</span><span class="op" id="8298069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298076">if</span>&nbsp;<span class="ident" id="8298079">m</span><span class="op" id="8298080">.</span><span class="ident" id="8298081">Data</span>&nbsp;<span class="op" id="8298086">==</span>&nbsp;<span class="ident" id="8298089">nil</span>&nbsp;<span class="op" id="8298093">||</span>&nbsp;<span class="ident" id="8298096">m</span><span class="op" id="8298097">.</span><span class="ident" id="8298098">Attr</span>&nbsp;<span class="op" id="8298103">==</span>&nbsp;<span class="ident" id="8298106">nil</span>&nbsp;<span class="op" id="8298110">||</span>&nbsp;<span class="ident" id="8298113">m</span><span class="op" id="8298114">.</span><span class="ident" id="8298115">Data</span><span class="op" id="8298119">.</span><span class="ident" id="8298120">body</span>&nbsp;<span class="op" id="8298125">!=</span>&nbsp;<span class="string" id="8298128">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="8298142">||</span>&nbsp;<span class="ident" id="8298145">m</span><span class="op" id="8298146">.</span><span class="ident" id="8298147">Attr</span><span class="op" id="8298151">.</span><span class="ident" id="8298152">attr</span>&nbsp;<span class="op" id="8298157">!=</span>&nbsp;<span class="string" id="8298160">&#34;attr1&#34;</span>&nbsp;<span class="op" id="8298168">||</span>&nbsp;<span class="ident" id="8298171">m</span><span class="op" id="8298172">.</span><span class="ident" id="8298173">Data2</span><span class="op" id="8298178">.</span><span class="ident" id="8298179">body</span>&nbsp;<span class="op" id="8298184">!=</span>&nbsp;<span class="string" id="8298187">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="8298201">||</span>&nbsp;<span class="ident" id="8298204">m</span><span class="op" id="8298205">.</span><span class="ident" id="8298206">Attr2</span><span class="op" id="8298211">.</span><span class="ident" id="8298212">attr</span>&nbsp;<span class="op" id="8298217">!=</span>&nbsp;<span class="string" id="8298220">&#34;attr2&#34;</span>&nbsp;<span class="op" id="8298228">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298232">t</span><span class="op" id="8298233">.</span><span class="ident" id="8298234">Errorf</span><span class="op" id="8298240">(</span><span class="string" id="8298241">&#34;m=%#+v\n&#34;</span><span class="op" id="8298251">,</span>&nbsp;<span class="ident" id="8298253">m</span><span class="op" id="8298254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298257">}</span><br>
<span class="lineno"></span><span class="op" id="8298259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8298262">type</span>&nbsp;<span class="ident" id="8298267">Pea</span>&nbsp;<span class="keyword" id="8298271">struct</span>&nbsp;<span class="op" id="8298278">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298281">Cotelydon</span>&nbsp;<span class="builtintype" id="8298291">string</span><br>
<span class="lineno"></span><span class="op" id="8298298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8298301">type</span>&nbsp;<span class="ident" id="8298306">Pod</span>&nbsp;<span class="keyword" id="8298310">struct</span>&nbsp;<span class="op" id="8298317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298320">Pea</span>&nbsp;<span class="keyword" id="8298324">interface</span><span class="op" id="8298333">{</span><span class="op" id="8298334">}</span>&nbsp;<span class="string" id="8298336">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="8298348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8298351">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="8298405">func</span>&nbsp;<span class="ident" id="8298410">TestUnmarshalIntoInterface</span><span class="op" id="8298436">(</span><span class="ident" id="8298437">t</span>&nbsp;<span class="op" id="8298439">*</span><span class="ident" id="8298440">testing</span><span class="op" id="8298447">.</span><span class="ident" id="8298448">T</span><span class="op" id="8298449">)</span>&nbsp;<span class="op" id="8298451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298454">pod</span>&nbsp;<span class="op" id="8298458">:=</span>&nbsp;<span class="builtinfunc" id="8298461">new</span><span class="op" id="8298464">(</span><span class="ident" id="8298465">Pod</span><span class="op" id="8298468">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298471">pod</span><span class="op" id="8298474">.</span><span class="ident" id="8298475">Pea</span>&nbsp;<span class="op" id="8298479">=</span>&nbsp;<span class="builtinfunc" id="8298481">new</span><span class="op" id="8298484">(</span><span class="ident" id="8298485">Pea</span><span class="op" id="8298488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298491">xml</span>&nbsp;<span class="op" id="8298495">:=</span>&nbsp;<span class="string" id="8298498">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298558">err</span>&nbsp;<span class="op" id="8298562">:=</span>&nbsp;<span class="ident" id="8298565">Unmarshal</span><span class="op" id="8298574">(</span><span class="op" id="8298575">[</span><span class="op" id="8298576">]</span><span class="builtintype" id="8298577">byte</span><span class="op" id="8298581">(</span><span class="ident" id="8298582">xml</span><span class="op" id="8298585">)</span><span class="op" id="8298586">,</span>&nbsp;<span class="ident" id="8298588">pod</span><span class="op" id="8298591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298594">if</span>&nbsp;<span class="ident" id="8298597">err</span>&nbsp;<span class="op" id="8298601">!=</span>&nbsp;<span class="ident" id="8298604">nil</span>&nbsp;<span class="op" id="8298608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298612">t</span><span class="op" id="8298613">.</span><span class="ident" id="8298614">Fatalf</span><span class="op" id="8298620">(</span><span class="string" id="8298621">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8298649">,</span>&nbsp;<span class="ident" id="8298651">xml</span><span class="op" id="8298654">,</span>&nbsp;<span class="ident" id="8298656">err</span><span class="op" id="8298659">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298665">pea</span><span class="op" id="8298668">,</span>&nbsp;<span class="ident" id="8298670">ok</span>&nbsp;<span class="op" id="8298673">:=</span>&nbsp;<span class="ident" id="8298676">pod</span><span class="op" id="8298679">.</span><span class="ident" id="8298680">Pea</span><span class="op" id="8298683">.</span><span class="op" id="8298684">(</span><span class="op" id="8298685">*</span><span class="ident" id="8298686">Pea</span><span class="op" id="8298689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298692">if</span>&nbsp;<span class="op" id="8298695">!</span><span class="ident" id="8298696">ok</span>&nbsp;<span class="op" id="8298699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298703">t</span><span class="op" id="8298704">.</span><span class="ident" id="8298705">Fatalf</span><span class="op" id="8298711">(</span><span class="string" id="8298712">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="8298761">,</span>&nbsp;<span class="ident" id="8298763">pod</span><span class="op" id="8298766">.</span><span class="ident" id="8298767">Pea</span><span class="op" id="8298770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298773">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298776">have</span><span class="op" id="8298780">,</span>&nbsp;<span class="ident" id="8298782">want</span>&nbsp;<span class="op" id="8298787">:=</span>&nbsp;<span class="ident" id="8298790">pea</span><span class="op" id="8298793">.</span><span class="ident" id="8298794">Cotelydon</span><span class="op" id="8298803">,</span>&nbsp;<span class="string" id="8298805">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298820">if</span>&nbsp;<span class="ident" id="8298823">have</span>&nbsp;<span class="op" id="8298828">!=</span>&nbsp;<span class="ident" id="8298831">want</span>&nbsp;<span class="op" id="8298836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298840">t</span><span class="op" id="8298841">.</span><span class="ident" id="8298842">Errorf</span><span class="op" id="8298848">(</span><span class="string" id="8298849">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8298902">,</span>&nbsp;<span class="ident" id="8298904">have</span><span class="op" id="8298908">,</span>&nbsp;<span class="ident" id="8298910">want</span><span class="op" id="8298914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298917">}</span><br>
<span class="lineno"></span><span class="op" id="8298919">}</span>
</div>
</body>
</html>
