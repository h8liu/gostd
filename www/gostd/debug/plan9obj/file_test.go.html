<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/plan9obj</h2>
<ul>
<li><a href="/gostd/debug/plan9obj/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/plan9obj/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/plan9obj/plan9obj.go.html">plan9obj.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6792650">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6792706">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6792760">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6792811">package</span>&nbsp;<span class="ident" id="6792819">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6792829">import</span>&nbsp;<span class="op" id="6792836">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6792839">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6792850">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6792860">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6792863">type</span>&nbsp;<span class="ident" id="6792868">fileTest</span>&nbsp;<span class="keyword" id="6792877">struct</span>&nbsp;<span class="op" id="6792884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792887">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6792896">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792904">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6792913">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6792925">sections</span>&nbsp;<span class="op" id="6792934">[</span><span class="op" id="6792935">]</span><span class="op" id="6792936">*</span><span class="ident" id="6792937">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="6792951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6792954">var</span>&nbsp;<span class="ident" id="6792958">fileTests</span>&nbsp;<span class="op" id="6792968">=</span>&nbsp;<span class="op" id="6792970">[</span><span class="op" id="6792971">]</span><span class="ident" id="6792972">fileTest</span><span class="op" id="6792980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6792983">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6792987">&#34;testdata/386-plan9-exec&#34;</span><span class="op" id="6793012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793016">FileHeader</span><span class="op" id="6793026">{</span><span class="ident" id="6793027">Magic386</span><span class="op" id="6793035">,</span>&nbsp;<span class="num" id="6793037">0x324</span><span class="op" id="6793042">,</span>&nbsp;<span class="num" id="6793044">0x14</span><span class="op" id="6793048">,</span>&nbsp;<span class="num" id="6793050">4</span><span class="op" id="6793051">,</span>&nbsp;<span class="num" id="6793053">0x1000</span><span class="op" id="6793059">,</span>&nbsp;<span class="num" id="6793061">32</span><span class="op" id="6793063">}</span><span class="op" id="6793064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793068">[</span><span class="op" id="6793069">]</span><span class="op" id="6793070">*</span><span class="ident" id="6793071">SectionHeader</span><span class="op" id="6793084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793089">{</span><span class="string" id="6793090">&#34;text&#34;</span><span class="op" id="6793096">,</span>&nbsp;<span class="num" id="6793098">0x4c5f</span><span class="op" id="6793104">,</span>&nbsp;<span class="num" id="6793106">0x20</span><span class="op" id="6793110">}</span><span class="op" id="6793111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793116">{</span><span class="string" id="6793117">&#34;data&#34;</span><span class="op" id="6793123">,</span>&nbsp;<span class="num" id="6793125">0x94c</span><span class="op" id="6793130">,</span>&nbsp;<span class="num" id="6793132">0x4c7f</span><span class="op" id="6793138">}</span><span class="op" id="6793139">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793144">{</span><span class="string" id="6793145">&#34;syms&#34;</span><span class="op" id="6793151">,</span>&nbsp;<span class="num" id="6793153">0x2c2b</span><span class="op" id="6793159">,</span>&nbsp;<span class="num" id="6793161">0x55cb</span><span class="op" id="6793167">}</span><span class="op" id="6793168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793173">{</span><span class="string" id="6793174">&#34;spsz&#34;</span><span class="op" id="6793180">,</span>&nbsp;<span class="num" id="6793182">0x0</span><span class="op" id="6793185">,</span>&nbsp;<span class="num" id="6793187">0x81f6</span><span class="op" id="6793193">}</span><span class="op" id="6793194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793199">{</span><span class="string" id="6793200">&#34;pcsz&#34;</span><span class="op" id="6793206">,</span>&nbsp;<span class="num" id="6793208">0xf7a</span><span class="op" id="6793213">,</span>&nbsp;<span class="num" id="6793215">0x81f6</span><span class="op" id="6793221">}</span><span class="op" id="6793222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793226">}</span><span class="op" id="6793227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793230">}</span><span class="op" id="6793231">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6793238">&#34;testdata/amd64-plan9-exec&#34;</span><span class="op" id="6793265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793269">FileHeader</span><span class="op" id="6793279">{</span><span class="ident" id="6793280">MagicAMD64</span><span class="op" id="6793290">,</span>&nbsp;<span class="num" id="6793292">0x618</span><span class="op" id="6793297">,</span>&nbsp;<span class="num" id="6793299">0x13</span><span class="op" id="6793303">,</span>&nbsp;<span class="num" id="6793305">8</span><span class="op" id="6793306">,</span>&nbsp;<span class="num" id="6793308">0x200000</span><span class="op" id="6793316">,</span>&nbsp;<span class="num" id="6793318">40</span><span class="op" id="6793320">}</span><span class="op" id="6793321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793325">[</span><span class="op" id="6793326">]</span><span class="op" id="6793327">*</span><span class="ident" id="6793328">SectionHeader</span><span class="op" id="6793341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793346">{</span><span class="string" id="6793347">&#34;text&#34;</span><span class="op" id="6793353">,</span>&nbsp;<span class="num" id="6793355">0x4213</span><span class="op" id="6793361">,</span>&nbsp;<span class="num" id="6793363">0x28</span><span class="op" id="6793367">}</span><span class="op" id="6793368">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793373">{</span><span class="string" id="6793374">&#34;data&#34;</span><span class="op" id="6793380">,</span>&nbsp;<span class="num" id="6793382">0xa80</span><span class="op" id="6793387">,</span>&nbsp;<span class="num" id="6793389">0x423b</span><span class="op" id="6793395">}</span><span class="op" id="6793396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793401">{</span><span class="string" id="6793402">&#34;syms&#34;</span><span class="op" id="6793408">,</span>&nbsp;<span class="num" id="6793410">0x2c8c</span><span class="op" id="6793416">,</span>&nbsp;<span class="num" id="6793418">0x4cbb</span><span class="op" id="6793424">}</span><span class="op" id="6793425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793430">{</span><span class="string" id="6793431">&#34;spsz&#34;</span><span class="op" id="6793437">,</span>&nbsp;<span class="num" id="6793439">0x0</span><span class="op" id="6793442">,</span>&nbsp;<span class="num" id="6793444">0x7947</span><span class="op" id="6793450">}</span><span class="op" id="6793451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793456">{</span><span class="string" id="6793457">&#34;pcsz&#34;</span><span class="op" id="6793463">,</span>&nbsp;<span class="num" id="6793465">0xca0</span><span class="op" id="6793470">,</span>&nbsp;<span class="num" id="6793472">0x7947</span><span class="op" id="6793478">}</span><span class="op" id="6793479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793483">}</span><span class="op" id="6793484">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793487">}</span><span class="op" id="6793488">,</span><br>
<span class="lineno"></span><span class="op" id="6793490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6793493">func</span>&nbsp;<span class="ident" id="6793498">TestOpen</span><span class="op" id="6793506">(</span><span class="ident" id="6793507">t</span>&nbsp;<span class="op" id="6793509">*</span><span class="ident" id="6793510">testing</span><span class="op" id="6793517">.</span><span class="ident" id="6793518">T</span><span class="op" id="6793519">)</span>&nbsp;<span class="op" id="6793521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793524">for</span>&nbsp;<span class="ident" id="6793528">i</span>&nbsp;<span class="op" id="6793530">:=</span>&nbsp;<span class="keyword" id="6793533">range</span>&nbsp;<span class="ident" id="6793539">fileTests</span>&nbsp;<span class="op" id="6793549">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793553">tt</span>&nbsp;<span class="op" id="6793556">:=</span>&nbsp;<span class="op" id="6793559">&amp;</span><span class="ident" id="6793560">fileTests</span><span class="op" id="6793569">[</span><span class="ident" id="6793570">i</span><span class="op" id="6793571">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793576">f</span><span class="op" id="6793577">,</span>&nbsp;<span class="ident" id="6793579">err</span>&nbsp;<span class="op" id="6793583">:=</span>&nbsp;<span class="ident" id="6793586">Open</span><span class="op" id="6793590">(</span><span class="ident" id="6793591">tt</span><span class="op" id="6793593">.</span><span class="ident" id="6793594">file</span><span class="op" id="6793598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793602">if</span>&nbsp;<span class="ident" id="6793605">err</span>&nbsp;<span class="op" id="6793609">!=</span>&nbsp;<span class="ident" id="6793612">nil</span>&nbsp;<span class="op" id="6793616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793621">t</span><span class="op" id="6793622">.</span><span class="ident" id="6793623">Error</span><span class="op" id="6793628">(</span><span class="ident" id="6793629">err</span><span class="op" id="6793632">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793637">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793652">if</span>&nbsp;<span class="op" id="6793655">!</span><span class="ident" id="6793656">reflect</span><span class="op" id="6793663">.</span><span class="ident" id="6793664">DeepEqual</span><span class="op" id="6793673">(</span><span class="ident" id="6793674">f</span><span class="op" id="6793675">.</span><span class="ident" id="6793676">FileHeader</span><span class="op" id="6793686">,</span>&nbsp;<span class="ident" id="6793688">tt</span><span class="op" id="6793690">.</span><span class="ident" id="6793691">hdr</span><span class="op" id="6793694">)</span>&nbsp;<span class="op" id="6793696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793701">t</span><span class="op" id="6793702">.</span><span class="ident" id="6793703">Errorf</span><span class="op" id="6793709">(</span><span class="string" id="6793710">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6793746">,</span>&nbsp;<span class="ident" id="6793748">tt</span><span class="op" id="6793750">.</span><span class="ident" id="6793751">file</span><span class="op" id="6793755">,</span>&nbsp;<span class="ident" id="6793757">f</span><span class="op" id="6793758">.</span><span class="ident" id="6793759">FileHeader</span><span class="op" id="6793769">,</span>&nbsp;<span class="ident" id="6793771">tt</span><span class="op" id="6793773">.</span><span class="ident" id="6793774">hdr</span><span class="op" id="6793777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793782">continue</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793798">for</span>&nbsp;<span class="ident" id="6793802">i</span><span class="op" id="6793803">,</span>&nbsp;<span class="ident" id="6793805">sh</span>&nbsp;<span class="op" id="6793808">:=</span>&nbsp;<span class="keyword" id="6793811">range</span>&nbsp;<span class="ident" id="6793817">f</span><span class="op" id="6793818">.</span><span class="ident" id="6793819">Sections</span>&nbsp;<span class="op" id="6793828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793833">if</span>&nbsp;<span class="ident" id="6793836">i</span>&nbsp;<span class="op" id="6793838">&gt;=</span>&nbsp;<span class="builtinfunc" id="6793841">len</span><span class="op" id="6793844">(</span><span class="ident" id="6793845">tt</span><span class="op" id="6793847">.</span><span class="ident" id="6793848">sections</span><span class="op" id="6793856">)</span>&nbsp;<span class="op" id="6793858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793864">break</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6793873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793878">have</span>&nbsp;<span class="op" id="6793883">:=</span>&nbsp;<span class="op" id="6793886">&amp;</span><span class="ident" id="6793887">sh</span><span class="op" id="6793889">.</span><span class="ident" id="6793890">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793907">want</span>&nbsp;<span class="op" id="6793912">:=</span>&nbsp;<span class="ident" id="6793915">tt</span><span class="op" id="6793917">.</span><span class="ident" id="6793918">sections</span><span class="op" id="6793926">[</span><span class="ident" id="6793927">i</span><span class="op" id="6793928">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6793933">if</span>&nbsp;<span class="op" id="6793936">!</span><span class="ident" id="6793937">reflect</span><span class="op" id="6793944">.</span><span class="ident" id="6793945">DeepEqual</span><span class="op" id="6793954">(</span><span class="ident" id="6793955">have</span><span class="op" id="6793959">,</span>&nbsp;<span class="ident" id="6793961">want</span><span class="op" id="6793965">)</span>&nbsp;<span class="op" id="6793967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6793973">t</span><span class="op" id="6793974">.</span><span class="ident" id="6793975">Errorf</span><span class="op" id="6793981">(</span><span class="string" id="6793982">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="6794030">,</span>&nbsp;<span class="ident" id="6794032">tt</span><span class="op" id="6794034">.</span><span class="ident" id="6794035">file</span><span class="op" id="6794039">,</span>&nbsp;<span class="ident" id="6794041">i</span><span class="op" id="6794042">,</span>&nbsp;<span class="ident" id="6794044">have</span><span class="op" id="6794048">,</span>&nbsp;<span class="ident" id="6794050">want</span><span class="op" id="6794054">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6794059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6794063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6794067">tn</span>&nbsp;<span class="op" id="6794070">:=</span>&nbsp;<span class="builtinfunc" id="6794073">len</span><span class="op" id="6794076">(</span><span class="ident" id="6794077">tt</span><span class="op" id="6794079">.</span><span class="ident" id="6794080">sections</span><span class="op" id="6794088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6794092">fn</span>&nbsp;<span class="op" id="6794095">:=</span>&nbsp;<span class="builtinfunc" id="6794098">len</span><span class="op" id="6794101">(</span><span class="ident" id="6794102">f</span><span class="op" id="6794103">.</span><span class="ident" id="6794104">Sections</span><span class="op" id="6794112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6794116">if</span>&nbsp;<span class="ident" id="6794119">tn</span>&nbsp;<span class="op" id="6794122">!=</span>&nbsp;<span class="ident" id="6794125">fn</span>&nbsp;<span class="op" id="6794128">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6794133">t</span><span class="op" id="6794134">.</span><span class="ident" id="6794135">Errorf</span><span class="op" id="6794141">(</span><span class="string" id="6794142">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6794180">,</span>&nbsp;<span class="ident" id="6794182">tt</span><span class="op" id="6794184">.</span><span class="ident" id="6794185">file</span><span class="op" id="6794189">,</span>&nbsp;<span class="ident" id="6794191">fn</span><span class="op" id="6794193">,</span>&nbsp;<span class="ident" id="6794195">tn</span><span class="op" id="6794197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6794201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6794204">}</span><br>
<span class="lineno"></span><span class="op" id="6794206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="6794209">func</span>&nbsp;<span class="ident" id="6794214">TestOpenFailure</span><span class="op" id="6794229">(</span><span class="ident" id="6794230">t</span>&nbsp;<span class="op" id="6794232">*</span><span class="ident" id="6794233">testing</span><span class="op" id="6794240">.</span><span class="ident" id="6794241">T</span><span class="op" id="6794242">)</span>&nbsp;<span class="op" id="6794244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6794247">filename</span>&nbsp;<span class="op" id="6794256">:=</span>&nbsp;<span class="string" id="6794259">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6794272">//&nbsp;not&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6794300">_</span><span class="op" id="6794301">,</span>&nbsp;<span class="ident" id="6794303">err</span>&nbsp;<span class="op" id="6794307">:=</span>&nbsp;<span class="ident" id="6794310">Open</span><span class="op" id="6794314">(</span><span class="ident" id="6794315">filename</span><span class="op" id="6794323">)</span>&nbsp;<span class="comment" id="6794325">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6794341">if</span>&nbsp;<span class="ident" id="6794344">err</span>&nbsp;<span class="op" id="6794348">==</span>&nbsp;<span class="ident" id="6794351">nil</span>&nbsp;<span class="op" id="6794355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6794359">t</span><span class="op" id="6794360">.</span><span class="ident" id="6794361">Errorf</span><span class="op" id="6794367">(</span><span class="string" id="6794368">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="6794401">,</span>&nbsp;<span class="ident" id="6794403">filename</span><span class="op" id="6794411">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6794414">}</span><br>
<span class="lineno"></span><span class="op" id="6794416">}</span>
</div>
</body>
</html>
