<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8244297">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8244352">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8244406">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8244457">package</span>&nbsp;<span class="ident" id="8244465">bufio</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8244472">//&nbsp;Exported&nbsp;for&nbsp;testing&nbsp;only.</span><br>
<span class="lineno"></span><span class="keyword" id="8244502">import</span>&nbsp;<span class="op" id="8244509">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244512">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8244527">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244530">var</span>&nbsp;<span class="ident" id="8244534">IsSpace</span>&nbsp;<span class="op" id="8244542">=</span>&nbsp;<span class="ident" id="8244544">isSpace</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244553">func</span>&nbsp;<span class="op" id="8244558">(</span><span class="ident" id="8244559">s</span>&nbsp;<span class="op" id="8244561">*</span><span class="ident" id="8244562">Scanner</span><span class="op" id="8244569">)</span>&nbsp;<span class="ident" id="8244571">MaxTokenSize</span><span class="op" id="8244583">(</span><span class="ident" id="8244584">n</span>&nbsp;<span class="builtintype" id="8244586">int</span><span class="op" id="8244589">)</span>&nbsp;<span class="op" id="8244591">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244594">if</span>&nbsp;<span class="ident" id="8244597">n</span>&nbsp;<span class="op" id="8244599">&lt;</span>&nbsp;<span class="ident" id="8244601">utf8</span><span class="op" id="8244605">.</span><span class="ident" id="8244606">UTFMax</span>&nbsp;<span class="op" id="8244613">||</span>&nbsp;<span class="ident" id="8244616">n</span>&nbsp;<span class="op" id="8244618">&gt;</span>&nbsp;<span class="num" id="8244620">1e9</span>&nbsp;<span class="op" id="8244624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8244628">panic</span><span class="op" id="8244633">(</span><span class="string" id="8244634">&#34;bad&nbsp;max&nbsp;token&nbsp;size&#34;</span><span class="op" id="8244654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244660">if</span>&nbsp;<span class="ident" id="8244663">n</span>&nbsp;<span class="op" id="8244665">&lt;</span>&nbsp;<span class="builtinfunc" id="8244667">len</span><span class="op" id="8244670">(</span><span class="ident" id="8244671">s</span><span class="op" id="8244672">.</span><span class="ident" id="8244673">buf</span><span class="op" id="8244676">)</span>&nbsp;<span class="op" id="8244678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244682">s</span><span class="op" id="8244683">.</span><span class="ident" id="8244684">buf</span>&nbsp;<span class="op" id="8244688">=</span>&nbsp;<span class="builtinfunc" id="8244690">make</span><span class="op" id="8244694">(</span><span class="op" id="8244695">[</span><span class="op" id="8244696">]</span><span class="builtintype" id="8244697">byte</span><span class="op" id="8244701">,</span>&nbsp;<span class="ident" id="8244703">n</span><span class="op" id="8244704">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244710">s</span><span class="op" id="8244711">.</span><span class="ident" id="8244712">maxTokenSize</span>&nbsp;<span class="op" id="8244725">=</span>&nbsp;<span class="ident" id="8244727">n</span><br>
<span class="lineno"></span><span class="op" id="8244729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8244732">//&nbsp;ErrOrEOF&nbsp;is&nbsp;like&nbsp;Err,&nbsp;but&nbsp;returns&nbsp;EOF.&nbsp;Used&nbsp;to&nbsp;test&nbsp;a&nbsp;corner&nbsp;case.</span><br>
<span class="lineno">25</span><span class="keyword" id="8244802">func</span>&nbsp;<span class="op" id="8244807">(</span><span class="ident" id="8244808">s</span>&nbsp;<span class="op" id="8244810">*</span><span class="ident" id="8244811">Scanner</span><span class="op" id="8244818">)</span>&nbsp;<span class="ident" id="8244820">ErrOrEOF</span><span class="op" id="8244828">(</span><span class="op" id="8244829">)</span>&nbsp;<span class="builtintype" id="8244831">error</span>&nbsp;<span class="op" id="8244837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244840">return</span>&nbsp;<span class="ident" id="8244847">s</span><span class="op" id="8244848">.</span><span class="ident" id="8244849">err</span><br>
<span class="lineno"></span><span class="op" id="8244853">}</span>
</div>
</body>
</html>
