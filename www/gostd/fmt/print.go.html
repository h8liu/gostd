<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html" class="current">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2031875">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2031930">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2031984">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2032035">package</span>&nbsp;<span class="ident" id="2032043">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2032048">import</span>&nbsp;<span class="op" id="2032055">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2032058">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2032068">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2032074">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2032080">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2032091">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2032099">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2032114">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2032117">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2032183">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2032220">var</span>&nbsp;<span class="op" id="2032224">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032227">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2032244">=</span>&nbsp;<span class="op" id="2032246">[</span><span class="op" id="2032247">]</span><span class="builtintype" id="2032248">byte</span><span class="op" id="2032252">(</span><span class="string" id="2032253">&#34;,&nbsp;&#34;</span><span class="op" id="2032257">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032260">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032277">=</span>&nbsp;<span class="op" id="2032279">[</span><span class="op" id="2032280">]</span><span class="builtintype" id="2032281">byte</span><span class="op" id="2032285">(</span><span class="string" id="2032286">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2032293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032296">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032313">=</span>&nbsp;<span class="op" id="2032315">[</span><span class="op" id="2032316">]</span><span class="builtintype" id="2032317">byte</span><span class="op" id="2032321">(</span><span class="string" id="2032322">&#34;(nil)&#34;</span><span class="op" id="2032329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032332">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032349">=</span>&nbsp;<span class="op" id="2032351">[</span><span class="op" id="2032352">]</span><span class="builtintype" id="2032353">byte</span><span class="op" id="2032357">(</span><span class="string" id="2032358">&#34;nil&#34;</span><span class="op" id="2032363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032366">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032383">=</span>&nbsp;<span class="op" id="2032385">[</span><span class="op" id="2032386">]</span><span class="builtintype" id="2032387">byte</span><span class="op" id="2032391">(</span><span class="string" id="2032392">&#34;map[&#34;</span><span class="op" id="2032398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032401">percentBangBytes</span>&nbsp;<span class="op" id="2032418">=</span>&nbsp;<span class="op" id="2032420">[</span><span class="op" id="2032421">]</span><span class="builtintype" id="2032422">byte</span><span class="op" id="2032426">(</span><span class="string" id="2032427">&#34;%!&#34;</span><span class="op" id="2032431">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032434">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032451">=</span>&nbsp;<span class="op" id="2032453">[</span><span class="op" id="2032454">]</span><span class="builtintype" id="2032455">byte</span><span class="op" id="2032459">(</span><span class="string" id="2032460">&#34;(MISSING)&#34;</span><span class="op" id="2032471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032474">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032491">=</span>&nbsp;<span class="op" id="2032493">[</span><span class="op" id="2032494">]</span><span class="builtintype" id="2032495">byte</span><span class="op" id="2032499">(</span><span class="string" id="2032500">&#34;(BADINDEX)&#34;</span><span class="op" id="2032512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032515">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032532">=</span>&nbsp;<span class="op" id="2032534">[</span><span class="op" id="2032535">]</span><span class="builtintype" id="2032536">byte</span><span class="op" id="2032540">(</span><span class="string" id="2032541">&#34;(PANIC=&#34;</span><span class="op" id="2032550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032553">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032570">=</span>&nbsp;<span class="op" id="2032572">[</span><span class="op" id="2032573">]</span><span class="builtintype" id="2032574">byte</span><span class="op" id="2032578">(</span><span class="string" id="2032579">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2032590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032593">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032610">=</span>&nbsp;<span class="op" id="2032612">[</span><span class="op" id="2032613">]</span><span class="builtintype" id="2032614">byte</span><span class="op" id="2032618">(</span><span class="string" id="2032619">&#34;i)&#34;</span><span class="op" id="2032623">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032626">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032643">=</span>&nbsp;<span class="op" id="2032645">[</span><span class="op" id="2032646">]</span><span class="builtintype" id="2032647">byte</span><span class="op" id="2032651">(</span><span class="string" id="2032652">&#34;[]byte{&#34;</span><span class="op" id="2032661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032664">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032681">=</span>&nbsp;<span class="op" id="2032683">[</span><span class="op" id="2032684">]</span><span class="builtintype" id="2032685">byte</span><span class="op" id="2032689">(</span><span class="string" id="2032690">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2032704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032707">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032724">=</span>&nbsp;<span class="op" id="2032726">[</span><span class="op" id="2032727">]</span><span class="builtintype" id="2032728">byte</span><span class="op" id="2032732">(</span><span class="string" id="2032733">&#34;%!(BADPREC)&#34;</span><span class="op" id="2032746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2032749">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2032766">=</span>&nbsp;<span class="op" id="2032768">[</span><span class="op" id="2032769">]</span><span class="builtintype" id="2032770">byte</span><span class="op" id="2032774">(</span><span class="string" id="2032775">&#34;%!(NOVERB)&#34;</span><span class="op" id="2032787">)</span><br>
<span class="lineno"></span><span class="op" id="2032789">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2032792">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2032859">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2032931">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2032992">type</span>&nbsp;<span class="ident" id="2032997">State</span>&nbsp;<span class="keyword" id="2033003">interface</span>&nbsp;<span class="op" id="2033013">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2033016">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2033090">Write</span><span class="op" id="2033095">(</span><span class="ident" id="2033096">b</span>&nbsp;<span class="op" id="2033098">[</span><span class="op" id="2033099">]</span><span class="builtintype" id="2033100">byte</span><span class="op" id="2033104">)</span>&nbsp;<span class="op" id="2033106">(</span><span class="ident" id="2033107">ret</span>&nbsp;<span class="builtintype" id="2033111">int</span><span class="op" id="2033114">,</span>&nbsp;<span class="ident" id="2033116">err</span>&nbsp;<span class="builtintype" id="2033120">error</span><span class="op" id="2033125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2033128">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2033205">Width</span><span class="op" id="2033210">(</span><span class="op" id="2033211">)</span>&nbsp;<span class="op" id="2033213">(</span><span class="ident" id="2033214">wid</span>&nbsp;<span class="builtintype" id="2033218">int</span><span class="op" id="2033221">,</span>&nbsp;<span class="ident" id="2033223">ok</span>&nbsp;<span class="builtintype" id="2033226">bool</span><span class="op" id="2033230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2033233">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2033318">Precision</span><span class="op" id="2033327">(</span><span class="op" id="2033328">)</span>&nbsp;<span class="op" id="2033330">(</span><span class="ident" id="2033331">prec</span>&nbsp;<span class="builtintype" id="2033336">int</span><span class="op" id="2033339">,</span>&nbsp;<span class="ident" id="2033341">ok</span>&nbsp;<span class="builtintype" id="2033344">bool</span><span class="op" id="2033348">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2033352">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2033416">Flag</span><span class="op" id="2033420">(</span><span class="ident" id="2033421">c</span>&nbsp;<span class="builtintype" id="2033423">int</span><span class="op" id="2033426">)</span>&nbsp;<span class="builtintype" id="2033428">bool</span><br>
<span class="lineno"></span><span class="op" id="2033433">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2033436">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2033513">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2033582">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2033609">type</span>&nbsp;<span class="ident" id="2033614">Formatter</span>&nbsp;<span class="keyword" id="2033624">interface</span>&nbsp;<span class="op" id="2033634">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2033637">Format</span><span class="op" id="2033643">(</span><span class="ident" id="2033644">f</span>&nbsp;<span class="ident" id="2033646">State</span><span class="op" id="2033651">,</span>&nbsp;<span class="ident" id="2033653">c</span>&nbsp;<span class="builtintype" id="2033655">rune</span><span class="op" id="2033659">)</span><br>
<span class="lineno"></span><span class="op" id="2033661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2033664">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2033730">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2033785">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2033851">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2033919">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2033937">type</span>&nbsp;<span class="ident" id="2033942">Stringer</span>&nbsp;<span class="keyword" id="2033951">interface</span>&nbsp;<span class="op" id="2033961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2033964">String</span><span class="op" id="2033970">(</span><span class="op" id="2033971">)</span>&nbsp;<span class="builtintype" id="2033973">string</span><br>
<span class="lineno">65</span><span class="op" id="2033980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2033983">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2034053">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2034100">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2034168">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2034188">type</span>&nbsp;<span class="ident" id="2034193">GoStringer</span>&nbsp;<span class="keyword" id="2034204">interface</span>&nbsp;<span class="op" id="2034214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034217">GoString</span><span class="op" id="2034225">(</span><span class="op" id="2034226">)</span>&nbsp;<span class="builtintype" id="2034228">string</span><br>
<span class="lineno"></span><span class="op" id="2034235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2034238">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2034310">type</span>&nbsp;<span class="ident" id="2034315">buffer</span>&nbsp;<span class="op" id="2034322">[</span><span class="op" id="2034323">]</span><span class="builtintype" id="2034324">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2034330">func</span>&nbsp;<span class="op" id="2034335">(</span><span class="ident" id="2034336">b</span>&nbsp;<span class="op" id="2034338">*</span><span class="ident" id="2034339">buffer</span><span class="op" id="2034345">)</span>&nbsp;<span class="ident" id="2034347">Write</span><span class="op" id="2034352">(</span><span class="ident" id="2034353">p</span>&nbsp;<span class="op" id="2034355">[</span><span class="op" id="2034356">]</span><span class="builtintype" id="2034357">byte</span><span class="op" id="2034361">)</span>&nbsp;<span class="op" id="2034363">(</span><span class="ident" id="2034364">n</span>&nbsp;<span class="builtintype" id="2034366">int</span><span class="op" id="2034369">,</span>&nbsp;<span class="ident" id="2034371">err</span>&nbsp;<span class="builtintype" id="2034375">error</span><span class="op" id="2034380">)</span>&nbsp;<span class="op" id="2034382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2034385">*</span><span class="ident" id="2034386">b</span>&nbsp;<span class="op" id="2034388">=</span>&nbsp;<span class="builtinfunc" id="2034390">append</span><span class="op" id="2034396">(</span><span class="op" id="2034397">*</span><span class="ident" id="2034398">b</span><span class="op" id="2034399">,</span>&nbsp;<span class="ident" id="2034401">p</span><span class="op" id="2034402">...</span><span class="op" id="2034405">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2034408">return</span>&nbsp;<span class="builtinfunc" id="2034415">len</span><span class="op" id="2034418">(</span><span class="ident" id="2034419">p</span><span class="op" id="2034420">)</span><span class="op" id="2034421">,</span>&nbsp;<span class="builtintype" id="2034423">nil</span><br>
<span class="lineno"></span><span class="op" id="2034427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2034430">func</span>&nbsp;<span class="op" id="2034435">(</span><span class="ident" id="2034436">b</span>&nbsp;<span class="op" id="2034438">*</span><span class="ident" id="2034439">buffer</span><span class="op" id="2034445">)</span>&nbsp;<span class="ident" id="2034447">WriteString</span><span class="op" id="2034458">(</span><span class="ident" id="2034459">s</span>&nbsp;<span class="builtintype" id="2034461">string</span><span class="op" id="2034467">)</span>&nbsp;<span class="op" id="2034469">(</span><span class="ident" id="2034470">n</span>&nbsp;<span class="builtintype" id="2034472">int</span><span class="op" id="2034475">,</span>&nbsp;<span class="ident" id="2034477">err</span>&nbsp;<span class="builtintype" id="2034481">error</span><span class="op" id="2034486">)</span>&nbsp;<span class="op" id="2034488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2034491">*</span><span class="ident" id="2034492">b</span>&nbsp;<span class="op" id="2034494">=</span>&nbsp;<span class="builtinfunc" id="2034496">append</span><span class="op" id="2034502">(</span><span class="op" id="2034503">*</span><span class="ident" id="2034504">b</span><span class="op" id="2034505">,</span>&nbsp;<span class="ident" id="2034507">s</span><span class="op" id="2034508">...</span><span class="op" id="2034511">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2034514">return</span>&nbsp;<span class="builtinfunc" id="2034521">len</span><span class="op" id="2034524">(</span><span class="ident" id="2034525">s</span><span class="op" id="2034526">)</span><span class="op" id="2034527">,</span>&nbsp;<span class="builtintype" id="2034529">nil</span><br>
<span class="lineno"></span><span class="op" id="2034533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2034536">func</span>&nbsp;<span class="op" id="2034541">(</span><span class="ident" id="2034542">b</span>&nbsp;<span class="op" id="2034544">*</span><span class="ident" id="2034545">buffer</span><span class="op" id="2034551">)</span>&nbsp;<span class="ident" id="2034553">WriteByte</span><span class="op" id="2034562">(</span><span class="ident" id="2034563">c</span>&nbsp;<span class="builtintype" id="2034565">byte</span><span class="op" id="2034569">)</span>&nbsp;<span class="builtintype" id="2034571">error</span>&nbsp;<span class="op" id="2034577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2034580">*</span><span class="ident" id="2034581">b</span>&nbsp;<span class="op" id="2034583">=</span>&nbsp;<span class="builtinfunc" id="2034585">append</span><span class="op" id="2034591">(</span><span class="op" id="2034592">*</span><span class="ident" id="2034593">b</span><span class="op" id="2034594">,</span>&nbsp;<span class="ident" id="2034596">c</span><span class="op" id="2034597">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2034600">return</span>&nbsp;<span class="builtintype" id="2034607">nil</span><br>
<span class="lineno"></span><span class="op" id="2034611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2034614">func</span>&nbsp;<span class="op" id="2034619">(</span><span class="ident" id="2034620">bp</span>&nbsp;<span class="op" id="2034623">*</span><span class="ident" id="2034624">buffer</span><span class="op" id="2034630">)</span>&nbsp;<span class="ident" id="2034632">WriteRune</span><span class="op" id="2034641">(</span><span class="ident" id="2034642">r</span>&nbsp;<span class="builtintype" id="2034644">rune</span><span class="op" id="2034648">)</span>&nbsp;<span class="builtintype" id="2034650">error</span>&nbsp;<span class="op" id="2034656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2034659">if</span>&nbsp;<span class="ident" id="2034662">r</span>&nbsp;<span class="op" id="2034664">&lt;</span>&nbsp;<span class="ident" id="2034666">utf8</span><span class="op" id="2034670">.</span><span class="ident" id="2034671">RuneSelf</span>&nbsp;<span class="op" id="2034680">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2034684">*</span><span class="ident" id="2034685">bp</span>&nbsp;<span class="op" id="2034688">=</span>&nbsp;<span class="builtinfunc" id="2034690">append</span><span class="op" id="2034696">(</span><span class="op" id="2034697">*</span><span class="ident" id="2034698">bp</span><span class="op" id="2034700">,</span>&nbsp;<span class="builtintype" id="2034702">byte</span><span class="op" id="2034706">(</span><span class="ident" id="2034707">r</span><span class="op" id="2034708">)</span><span class="op" id="2034709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2034713">return</span>&nbsp;<span class="builtintype" id="2034720">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2034725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034729">b</span>&nbsp;<span class="op" id="2034731">:=</span>&nbsp;<span class="op" id="2034734">*</span><span class="ident" id="2034735">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034739">n</span>&nbsp;<span class="op" id="2034741">:=</span>&nbsp;<span class="builtinfunc" id="2034744">len</span><span class="op" id="2034747">(</span><span class="ident" id="2034748">b</span><span class="op" id="2034749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2034752">for</span>&nbsp;<span class="ident" id="2034756">n</span><span class="op" id="2034757">+</span><span class="ident" id="2034758">utf8</span><span class="op" id="2034762">.</span><span class="ident" id="2034763">UTFMax</span>&nbsp;<span class="op" id="2034770">&gt;</span>&nbsp;<span class="builtinfunc" id="2034772">cap</span><span class="op" id="2034775">(</span><span class="ident" id="2034776">b</span><span class="op" id="2034777">)</span>&nbsp;<span class="op" id="2034779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034783">b</span>&nbsp;<span class="op" id="2034785">=</span>&nbsp;<span class="builtinfunc" id="2034787">append</span><span class="op" id="2034793">(</span><span class="ident" id="2034794">b</span><span class="op" id="2034795">,</span>&nbsp;<span class="num" id="2034797">0</span><span class="op" id="2034798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2034801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034804">w</span>&nbsp;<span class="op" id="2034806">:=</span>&nbsp;<span class="ident" id="2034809">utf8</span><span class="op" id="2034813">.</span><span class="ident" id="2034814">EncodeRune</span><span class="op" id="2034824">(</span><span class="ident" id="2034825">b</span><span class="op" id="2034826">[</span><span class="ident" id="2034827">n</span><span class="op" id="2034828">:</span><span class="ident" id="2034829">n</span><span class="op" id="2034830">+</span><span class="ident" id="2034831">utf8</span><span class="op" id="2034835">.</span><span class="ident" id="2034836">UTFMax</span><span class="op" id="2034842">]</span><span class="op" id="2034843">,</span>&nbsp;<span class="ident" id="2034845">r</span><span class="op" id="2034846">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2034849">*</span><span class="ident" id="2034850">bp</span>&nbsp;<span class="op" id="2034853">=</span>&nbsp;<span class="ident" id="2034855">b</span><span class="op" id="2034856">[</span><span class="op" id="2034857">:</span><span class="ident" id="2034858">n</span><span class="op" id="2034859">+</span><span class="ident" id="2034860">w</span><span class="op" id="2034861">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2034864">return</span>&nbsp;<span class="builtintype" id="2034871">nil</span><br>
<span class="lineno"></span><span class="op" id="2034875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2034878">type</span>&nbsp;<span class="ident" id="2034883">pp</span>&nbsp;<span class="keyword" id="2034886">struct</span>&nbsp;<span class="op" id="2034893">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034896">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2034906">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034911">panicking</span>&nbsp;<span class="builtintype" id="2034921">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034927">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2034937">bool</span>&nbsp;<span class="comment" id="2034942">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034974">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2034984">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2034992">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035043">arg</span>&nbsp;<span class="keyword" id="2035047">interface</span><span class="op" id="2035056">{</span><span class="op" id="2035057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2035060">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2035126">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035181">value</span>&nbsp;<span class="ident" id="2035187">reflect</span><span class="op" id="2035194">.</span><span class="ident" id="2035195">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2035202">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035276">reordered</span>&nbsp;<span class="builtintype" id="2035286">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2035292">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035371">goodArgNum</span>&nbsp;<span class="builtintype" id="2035382">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035388">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2035399">[</span><span class="ident" id="2035400">utf8</span><span class="op" id="2035404">.</span><span class="ident" id="2035405">UTFMax</span><span class="op" id="2035411">]</span><span class="builtintype" id="2035412">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035418">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035429">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2035433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2035436">var</span>&nbsp;<span class="ident" id="2035440">ppFree</span>&nbsp;<span class="op" id="2035447">=</span>&nbsp;<span class="ident" id="2035449">sync</span><span class="op" id="2035453">.</span><span class="ident" id="2035454">Pool</span><span class="op" id="2035458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035461">New</span><span class="op" id="2035464">:</span>&nbsp;<span class="keyword" id="2035466">func</span><span class="op" id="2035470">(</span><span class="op" id="2035471">)</span>&nbsp;<span class="keyword" id="2035473">interface</span><span class="op" id="2035482">{</span><span class="op" id="2035483">}</span>&nbsp;<span class="op" id="2035485">{</span>&nbsp;<span class="keyword" id="2035487">return</span>&nbsp;<span class="builtinfunc" id="2035494">new</span><span class="op" id="2035497">(</span><span class="ident" id="2035498">pp</span><span class="op" id="2035500">)</span>&nbsp;<span class="op" id="2035502">}</span><span class="op" id="2035503">,</span><br>
<span class="lineno"></span><span class="op" id="2035505">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2035508">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2035571">func</span>&nbsp;<span class="ident" id="2035576">newPrinter</span><span class="op" id="2035586">(</span><span class="op" id="2035587">)</span>&nbsp;<span class="op" id="2035589">*</span><span class="ident" id="2035590">pp</span>&nbsp;<span class="op" id="2035593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035596">p</span>&nbsp;<span class="op" id="2035598">:=</span>&nbsp;<span class="ident" id="2035601">ppFree</span><span class="op" id="2035607">.</span><span class="ident" id="2035608">Get</span><span class="op" id="2035611">(</span><span class="op" id="2035612">)</span><span class="op" id="2035613">.</span><span class="op" id="2035614">(</span><span class="op" id="2035615">*</span><span class="ident" id="2035616">pp</span><span class="op" id="2035618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035621">p</span><span class="op" id="2035622">.</span><span class="ident" id="2035623">panicking</span>&nbsp;<span class="op" id="2035633">=</span>&nbsp;<span class="builtintype" id="2035635">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035642">p</span><span class="op" id="2035643">.</span><span class="ident" id="2035644">erroring</span>&nbsp;<span class="op" id="2035653">=</span>&nbsp;<span class="builtintype" id="2035655">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035662">p</span><span class="op" id="2035663">.</span><span class="ident" id="2035664">fmt</span><span class="op" id="2035667">.</span><span class="ident" id="2035668">init</span><span class="op" id="2035672">(</span><span class="op" id="2035673">&amp;</span><span class="ident" id="2035674">p</span><span class="op" id="2035675">.</span><span class="ident" id="2035676">buf</span><span class="op" id="2035679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2035682">return</span>&nbsp;<span class="ident" id="2035689">p</span><br>
<span class="lineno"></span><span class="op" id="2035691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2035694">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2035772">func</span>&nbsp;<span class="op" id="2035777">(</span><span class="ident" id="2035778">p</span>&nbsp;<span class="op" id="2035780">*</span><span class="ident" id="2035781">pp</span><span class="op" id="2035783">)</span>&nbsp;<span class="ident" id="2035785">free</span><span class="op" id="2035789">(</span><span class="op" id="2035790">)</span>&nbsp;<span class="op" id="2035792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2035795">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2035847">if</span>&nbsp;<span class="builtinfunc" id="2035850">cap</span><span class="op" id="2035853">(</span><span class="ident" id="2035854">p</span><span class="op" id="2035855">.</span><span class="ident" id="2035856">buf</span><span class="op" id="2035859">)</span>&nbsp;<span class="op" id="2035861">&gt;</span>&nbsp;<span class="num" id="2035863">1024</span>&nbsp;<span class="op" id="2035868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2035872">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2035880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035883">p</span><span class="op" id="2035884">.</span><span class="ident" id="2035885">buf</span>&nbsp;<span class="op" id="2035889">=</span>&nbsp;<span class="ident" id="2035891">p</span><span class="op" id="2035892">.</span><span class="ident" id="2035893">buf</span><span class="op" id="2035896">[</span><span class="op" id="2035897">:</span><span class="num" id="2035898">0</span><span class="op" id="2035899">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035902">p</span><span class="op" id="2035903">.</span><span class="ident" id="2035904">arg</span>&nbsp;<span class="op" id="2035908">=</span>&nbsp;<span class="builtintype" id="2035910">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035915">p</span><span class="op" id="2035916">.</span><span class="ident" id="2035917">value</span>&nbsp;<span class="op" id="2035923">=</span>&nbsp;<span class="ident" id="2035925">reflect</span><span class="op" id="2035932">.</span><span class="ident" id="2035933">Value</span><span class="op" id="2035938">{</span><span class="op" id="2035939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2035942">ppFree</span><span class="op" id="2035948">.</span><span class="ident" id="2035949">Put</span><span class="op" id="2035952">(</span><span class="ident" id="2035953">p</span><span class="op" id="2035954">)</span><br>
<span class="lineno">150</span><span class="op" id="2035956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2035959">func</span>&nbsp;<span class="op" id="2035964">(</span><span class="ident" id="2035965">p</span>&nbsp;<span class="op" id="2035967">*</span><span class="ident" id="2035968">pp</span><span class="op" id="2035970">)</span>&nbsp;<span class="ident" id="2035972">Width</span><span class="op" id="2035977">(</span><span class="op" id="2035978">)</span>&nbsp;<span class="op" id="2035980">(</span><span class="ident" id="2035981">wid</span>&nbsp;<span class="builtintype" id="2035985">int</span><span class="op" id="2035988">,</span>&nbsp;<span class="ident" id="2035990">ok</span>&nbsp;<span class="builtintype" id="2035993">bool</span><span class="op" id="2035997">)</span>&nbsp;<span class="op" id="2035999">{</span>&nbsp;<span class="keyword" id="2036001">return</span>&nbsp;<span class="ident" id="2036008">p</span><span class="op" id="2036009">.</span><span class="ident" id="2036010">fmt</span><span class="op" id="2036013">.</span><span class="ident" id="2036014">wid</span><span class="op" id="2036017">,</span>&nbsp;<span class="ident" id="2036019">p</span><span class="op" id="2036020">.</span><span class="ident" id="2036021">fmt</span><span class="op" id="2036024">.</span><span class="ident" id="2036025">widPresent</span>&nbsp;<span class="op" id="2036036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2036039">func</span>&nbsp;<span class="op" id="2036044">(</span><span class="ident" id="2036045">p</span>&nbsp;<span class="op" id="2036047">*</span><span class="ident" id="2036048">pp</span><span class="op" id="2036050">)</span>&nbsp;<span class="ident" id="2036052">Precision</span><span class="op" id="2036061">(</span><span class="op" id="2036062">)</span>&nbsp;<span class="op" id="2036064">(</span><span class="ident" id="2036065">prec</span>&nbsp;<span class="builtintype" id="2036070">int</span><span class="op" id="2036073">,</span>&nbsp;<span class="ident" id="2036075">ok</span>&nbsp;<span class="builtintype" id="2036078">bool</span><span class="op" id="2036082">)</span>&nbsp;<span class="op" id="2036084">{</span>&nbsp;<span class="keyword" id="2036086">return</span>&nbsp;<span class="ident" id="2036093">p</span><span class="op" id="2036094">.</span><span class="ident" id="2036095">fmt</span><span class="op" id="2036098">.</span><span class="ident" id="2036099">prec</span><span class="op" id="2036103">,</span>&nbsp;<span class="ident" id="2036105">p</span><span class="op" id="2036106">.</span><span class="ident" id="2036107">fmt</span><span class="op" id="2036110">.</span><span class="ident" id="2036111">precPresent</span>&nbsp;<span class="op" id="2036123">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2036126">func</span>&nbsp;<span class="op" id="2036131">(</span><span class="ident" id="2036132">p</span>&nbsp;<span class="op" id="2036134">*</span><span class="ident" id="2036135">pp</span><span class="op" id="2036137">)</span>&nbsp;<span class="ident" id="2036139">Flag</span><span class="op" id="2036143">(</span><span class="ident" id="2036144">b</span>&nbsp;<span class="builtintype" id="2036146">int</span><span class="op" id="2036149">)</span>&nbsp;<span class="builtintype" id="2036151">bool</span>&nbsp;<span class="op" id="2036156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036159">switch</span>&nbsp;<span class="ident" id="2036166">b</span>&nbsp;<span class="op" id="2036168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036171">case</span>&nbsp;<span class="string" id="2036176">&#39;-&#39;</span><span class="op" id="2036179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036183">return</span>&nbsp;<span class="ident" id="2036190">p</span><span class="op" id="2036191">.</span><span class="ident" id="2036192">fmt</span><span class="op" id="2036195">.</span><span class="ident" id="2036196">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036203">case</span>&nbsp;<span class="string" id="2036208">&#39;+&#39;</span><span class="op" id="2036211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036215">return</span>&nbsp;<span class="ident" id="2036222">p</span><span class="op" id="2036223">.</span><span class="ident" id="2036224">fmt</span><span class="op" id="2036227">.</span><span class="ident" id="2036228">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036234">case</span>&nbsp;<span class="string" id="2036239">&#39;#&#39;</span><span class="op" id="2036242">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036246">return</span>&nbsp;<span class="ident" id="2036253">p</span><span class="op" id="2036254">.</span><span class="ident" id="2036255">fmt</span><span class="op" id="2036258">.</span><span class="ident" id="2036259">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036266">case</span>&nbsp;<span class="string" id="2036271">&#39;&nbsp;&#39;</span><span class="op" id="2036274">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036278">return</span>&nbsp;<span class="ident" id="2036285">p</span><span class="op" id="2036286">.</span><span class="ident" id="2036287">fmt</span><span class="op" id="2036290">.</span><span class="ident" id="2036291">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036298">case</span>&nbsp;<span class="string" id="2036303">&#39;0&#39;</span><span class="op" id="2036306">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036310">return</span>&nbsp;<span class="ident" id="2036317">p</span><span class="op" id="2036318">.</span><span class="ident" id="2036319">fmt</span><span class="op" id="2036322">.</span><span class="ident" id="2036323">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2036329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036332">return</span>&nbsp;<span class="builtintype" id="2036339">false</span><br>
<span class="lineno">170</span><span class="op" id="2036345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2036348">func</span>&nbsp;<span class="op" id="2036353">(</span><span class="ident" id="2036354">p</span>&nbsp;<span class="op" id="2036356">*</span><span class="ident" id="2036357">pp</span><span class="op" id="2036359">)</span>&nbsp;<span class="ident" id="2036361">add</span><span class="op" id="2036364">(</span><span class="ident" id="2036365">c</span>&nbsp;<span class="builtintype" id="2036367">rune</span><span class="op" id="2036371">)</span>&nbsp;<span class="op" id="2036373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2036376">p</span><span class="op" id="2036377">.</span><span class="ident" id="2036378">buf</span><span class="op" id="2036381">.</span><span class="ident" id="2036382">WriteRune</span><span class="op" id="2036391">(</span><span class="ident" id="2036392">c</span><span class="op" id="2036393">)</span><br>
<span class="lineno"></span><span class="op" id="2036395">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2036398">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2036469">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2036503">func</span>&nbsp;<span class="op" id="2036508">(</span><span class="ident" id="2036509">p</span>&nbsp;<span class="op" id="2036511">*</span><span class="ident" id="2036512">pp</span><span class="op" id="2036514">)</span>&nbsp;<span class="ident" id="2036516">Write</span><span class="op" id="2036521">(</span><span class="ident" id="2036522">b</span>&nbsp;<span class="op" id="2036524">[</span><span class="op" id="2036525">]</span><span class="builtintype" id="2036526">byte</span><span class="op" id="2036530">)</span>&nbsp;<span class="op" id="2036532">(</span><span class="ident" id="2036533">ret</span>&nbsp;<span class="builtintype" id="2036537">int</span><span class="op" id="2036540">,</span>&nbsp;<span class="ident" id="2036542">err</span>&nbsp;<span class="builtintype" id="2036546">error</span><span class="op" id="2036551">)</span>&nbsp;<span class="op" id="2036553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036556">return</span>&nbsp;<span class="ident" id="2036563">p</span><span class="op" id="2036564">.</span><span class="ident" id="2036565">buf</span><span class="op" id="2036568">.</span><span class="ident" id="2036569">Write</span><span class="op" id="2036574">(</span><span class="ident" id="2036575">b</span><span class="op" id="2036576">)</span><br>
<span class="lineno">180</span><span class="op" id="2036578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2036581">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2036637">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2036705">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2036780">func</span>&nbsp;<span class="ident" id="2036785">Fprintf</span><span class="op" id="2036792">(</span><span class="ident" id="2036793">w</span>&nbsp;<span class="ident" id="2036795">io</span><span class="op" id="2036797">.</span><span class="ident" id="2036798">Writer</span><span class="op" id="2036804">,</span>&nbsp;<span class="ident" id="2036806">format</span>&nbsp;<span class="builtintype" id="2036813">string</span><span class="op" id="2036819">,</span>&nbsp;<span class="ident" id="2036821">a</span>&nbsp;<span class="op" id="2036823">...</span><span class="keyword" id="2036826">interface</span><span class="op" id="2036835">{</span><span class="op" id="2036836">}</span><span class="op" id="2036837">)</span>&nbsp;<span class="op" id="2036839">(</span><span class="ident" id="2036840">n</span>&nbsp;<span class="builtintype" id="2036842">int</span><span class="op" id="2036845">,</span>&nbsp;<span class="ident" id="2036847">err</span>&nbsp;<span class="builtintype" id="2036851">error</span><span class="op" id="2036856">)</span>&nbsp;<span class="op" id="2036858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2036861">p</span>&nbsp;<span class="op" id="2036863">:=</span>&nbsp;<span class="ident" id="2036866">newPrinter</span><span class="op" id="2036876">(</span><span class="op" id="2036877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2036880">p</span><span class="op" id="2036881">.</span><span class="ident" id="2036882">doPrintf</span><span class="op" id="2036890">(</span><span class="ident" id="2036891">format</span><span class="op" id="2036897">,</span>&nbsp;<span class="ident" id="2036899">a</span><span class="op" id="2036900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2036903">n</span><span class="op" id="2036904">,</span>&nbsp;<span class="ident" id="2036906">err</span>&nbsp;<span class="op" id="2036910">=</span>&nbsp;<span class="ident" id="2036912">w</span><span class="op" id="2036913">.</span><span class="ident" id="2036914">Write</span><span class="op" id="2036919">(</span><span class="ident" id="2036920">p</span><span class="op" id="2036921">.</span><span class="ident" id="2036922">buf</span><span class="op" id="2036925">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2036928">p</span><span class="op" id="2036929">.</span><span class="ident" id="2036930">free</span><span class="op" id="2036934">(</span><span class="op" id="2036935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2036938">return</span><br>
<span class="lineno"></span><span class="op" id="2036945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2036948">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2037029">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2037104">func</span>&nbsp;<span class="ident" id="2037109">Printf</span><span class="op" id="2037115">(</span><span class="ident" id="2037116">format</span>&nbsp;<span class="builtintype" id="2037123">string</span><span class="op" id="2037129">,</span>&nbsp;<span class="ident" id="2037131">a</span>&nbsp;<span class="op" id="2037133">...</span><span class="keyword" id="2037136">interface</span><span class="op" id="2037145">{</span><span class="op" id="2037146">}</span><span class="op" id="2037147">)</span>&nbsp;<span class="op" id="2037149">(</span><span class="ident" id="2037150">n</span>&nbsp;<span class="builtintype" id="2037152">int</span><span class="op" id="2037155">,</span>&nbsp;<span class="ident" id="2037157">err</span>&nbsp;<span class="builtintype" id="2037161">error</span><span class="op" id="2037166">)</span>&nbsp;<span class="op" id="2037168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2037171">return</span>&nbsp;<span class="ident" id="2037178">Fprintf</span><span class="op" id="2037185">(</span><span class="ident" id="2037186">os</span><span class="op" id="2037188">.</span><span class="ident" id="2037189">Stdout</span><span class="op" id="2037195">,</span>&nbsp;<span class="ident" id="2037197">format</span><span class="op" id="2037203">,</span>&nbsp;<span class="ident" id="2037205">a</span><span class="op" id="2037206">...</span><span class="op" id="2037209">)</span><br>
<span class="lineno"></span><span class="op" id="2037211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2037214">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2037299">func</span>&nbsp;<span class="ident" id="2037304">Sprintf</span><span class="op" id="2037311">(</span><span class="ident" id="2037312">format</span>&nbsp;<span class="builtintype" id="2037319">string</span><span class="op" id="2037325">,</span>&nbsp;<span class="ident" id="2037327">a</span>&nbsp;<span class="op" id="2037329">...</span><span class="keyword" id="2037332">interface</span><span class="op" id="2037341">{</span><span class="op" id="2037342">}</span><span class="op" id="2037343">)</span>&nbsp;<span class="builtintype" id="2037345">string</span>&nbsp;<span class="op" id="2037352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2037355">p</span>&nbsp;<span class="op" id="2037357">:=</span>&nbsp;<span class="ident" id="2037360">newPrinter</span><span class="op" id="2037370">(</span><span class="op" id="2037371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2037374">p</span><span class="op" id="2037375">.</span><span class="ident" id="2037376">doPrintf</span><span class="op" id="2037384">(</span><span class="ident" id="2037385">format</span><span class="op" id="2037391">,</span>&nbsp;<span class="ident" id="2037393">a</span><span class="op" id="2037394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2037397">s</span>&nbsp;<span class="op" id="2037399">:=</span>&nbsp;<span class="builtintype" id="2037402">string</span><span class="op" id="2037408">(</span><span class="ident" id="2037409">p</span><span class="op" id="2037410">.</span><span class="ident" id="2037411">buf</span><span class="op" id="2037414">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2037417">p</span><span class="op" id="2037418">.</span><span class="ident" id="2037419">free</span><span class="op" id="2037423">(</span><span class="op" id="2037424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2037427">return</span>&nbsp;<span class="ident" id="2037434">s</span><br>
<span class="lineno"></span><span class="op" id="2037436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2037439">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2037512">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2037548">func</span>&nbsp;<span class="ident" id="2037553">Errorf</span><span class="op" id="2037559">(</span><span class="ident" id="2037560">format</span>&nbsp;<span class="builtintype" id="2037567">string</span><span class="op" id="2037573">,</span>&nbsp;<span class="ident" id="2037575">a</span>&nbsp;<span class="op" id="2037577">...</span><span class="keyword" id="2037580">interface</span><span class="op" id="2037589">{</span><span class="op" id="2037590">}</span><span class="op" id="2037591">)</span>&nbsp;<span class="builtintype" id="2037593">error</span>&nbsp;<span class="op" id="2037599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2037602">return</span>&nbsp;<span class="ident" id="2037609">errors</span><span class="op" id="2037615">.</span><span class="ident" id="2037616">New</span><span class="op" id="2037619">(</span><span class="ident" id="2037620">Sprintf</span><span class="op" id="2037627">(</span><span class="ident" id="2037628">format</span><span class="op" id="2037634">,</span>&nbsp;<span class="ident" id="2037636">a</span><span class="op" id="2037637">...</span><span class="op" id="2037640">)</span><span class="op" id="2037641">)</span><br>
<span class="lineno"></span><span class="op" id="2037643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2037646">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2037693">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2037771">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2037834">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2037909">func</span>&nbsp;<span class="ident" id="2037914">Fprint</span><span class="op" id="2037920">(</span><span class="ident" id="2037921">w</span>&nbsp;<span class="ident" id="2037923">io</span><span class="op" id="2037925">.</span><span class="ident" id="2037926">Writer</span><span class="op" id="2037932">,</span>&nbsp;<span class="ident" id="2037934">a</span>&nbsp;<span class="op" id="2037936">...</span><span class="keyword" id="2037939">interface</span><span class="op" id="2037948">{</span><span class="op" id="2037949">}</span><span class="op" id="2037950">)</span>&nbsp;<span class="op" id="2037952">(</span><span class="ident" id="2037953">n</span>&nbsp;<span class="builtintype" id="2037955">int</span><span class="op" id="2037958">,</span>&nbsp;<span class="ident" id="2037960">err</span>&nbsp;<span class="builtintype" id="2037964">error</span><span class="op" id="2037969">)</span>&nbsp;<span class="op" id="2037971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2037974">p</span>&nbsp;<span class="op" id="2037976">:=</span>&nbsp;<span class="ident" id="2037979">newPrinter</span><span class="op" id="2037989">(</span><span class="op" id="2037990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2037993">p</span><span class="op" id="2037994">.</span><span class="ident" id="2037995">doPrint</span><span class="op" id="2038002">(</span><span class="ident" id="2038003">a</span><span class="op" id="2038004">,</span>&nbsp;<span class="builtintype" id="2038006">false</span><span class="op" id="2038011">,</span>&nbsp;<span class="builtintype" id="2038013">false</span><span class="op" id="2038018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2038021">n</span><span class="op" id="2038022">,</span>&nbsp;<span class="ident" id="2038024">err</span>&nbsp;<span class="op" id="2038028">=</span>&nbsp;<span class="ident" id="2038030">w</span><span class="op" id="2038031">.</span><span class="ident" id="2038032">Write</span><span class="op" id="2038037">(</span><span class="ident" id="2038038">p</span><span class="op" id="2038039">.</span><span class="ident" id="2038040">buf</span><span class="op" id="2038043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2038046">p</span><span class="op" id="2038047">.</span><span class="ident" id="2038048">free</span><span class="op" id="2038052">(</span><span class="op" id="2038053">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2038056">return</span><br>
<span class="lineno"></span><span class="op" id="2038063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2038066">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2038157">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2038220">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2038295">func</span>&nbsp;<span class="ident" id="2038300">Print</span><span class="op" id="2038305">(</span><span class="ident" id="2038306">a</span>&nbsp;<span class="op" id="2038308">...</span><span class="keyword" id="2038311">interface</span><span class="op" id="2038320">{</span><span class="op" id="2038321">}</span><span class="op" id="2038322">)</span>&nbsp;<span class="op" id="2038324">(</span><span class="ident" id="2038325">n</span>&nbsp;<span class="builtintype" id="2038327">int</span><span class="op" id="2038330">,</span>&nbsp;<span class="ident" id="2038332">err</span>&nbsp;<span class="builtintype" id="2038336">error</span><span class="op" id="2038341">)</span>&nbsp;<span class="op" id="2038343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2038346">return</span>&nbsp;<span class="ident" id="2038353">Fprint</span><span class="op" id="2038359">(</span><span class="ident" id="2038360">os</span><span class="op" id="2038362">.</span><span class="ident" id="2038363">Stdout</span><span class="op" id="2038369">,</span>&nbsp;<span class="ident" id="2038371">a</span><span class="op" id="2038372">...</span><span class="op" id="2038375">)</span><br>
<span class="lineno"></span><span class="op" id="2038377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2038380">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2038475">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2038538">func</span>&nbsp;<span class="ident" id="2038543">Sprint</span><span class="op" id="2038549">(</span><span class="ident" id="2038550">a</span>&nbsp;<span class="op" id="2038552">...</span><span class="keyword" id="2038555">interface</span><span class="op" id="2038564">{</span><span class="op" id="2038565">}</span><span class="op" id="2038566">)</span>&nbsp;<span class="builtintype" id="2038568">string</span>&nbsp;<span class="op" id="2038575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2038578">p</span>&nbsp;<span class="op" id="2038580">:=</span>&nbsp;<span class="ident" id="2038583">newPrinter</span><span class="op" id="2038593">(</span><span class="op" id="2038594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2038597">p</span><span class="op" id="2038598">.</span><span class="ident" id="2038599">doPrint</span><span class="op" id="2038606">(</span><span class="ident" id="2038607">a</span><span class="op" id="2038608">,</span>&nbsp;<span class="builtintype" id="2038610">false</span><span class="op" id="2038615">,</span>&nbsp;<span class="builtintype" id="2038617">false</span><span class="op" id="2038622">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2038625">s</span>&nbsp;<span class="op" id="2038627">:=</span>&nbsp;<span class="builtintype" id="2038630">string</span><span class="op" id="2038636">(</span><span class="ident" id="2038637">p</span><span class="op" id="2038638">.</span><span class="ident" id="2038639">buf</span><span class="op" id="2038642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2038645">p</span><span class="op" id="2038646">.</span><span class="ident" id="2038647">free</span><span class="op" id="2038651">(</span><span class="op" id="2038652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2038655">return</span>&nbsp;<span class="ident" id="2038662">s</span><br>
<span class="lineno"></span><span class="op" id="2038664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2038667">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2038727">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2038784">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2038812">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2038892">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2038963">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2039038">func</span>&nbsp;<span class="ident" id="2039043">Fprintln</span><span class="op" id="2039051">(</span><span class="ident" id="2039052">w</span>&nbsp;<span class="ident" id="2039054">io</span><span class="op" id="2039056">.</span><span class="ident" id="2039057">Writer</span><span class="op" id="2039063">,</span>&nbsp;<span class="ident" id="2039065">a</span>&nbsp;<span class="op" id="2039067">...</span><span class="keyword" id="2039070">interface</span><span class="op" id="2039079">{</span><span class="op" id="2039080">}</span><span class="op" id="2039081">)</span>&nbsp;<span class="op" id="2039083">(</span><span class="ident" id="2039084">n</span>&nbsp;<span class="builtintype" id="2039086">int</span><span class="op" id="2039089">,</span>&nbsp;<span class="ident" id="2039091">err</span>&nbsp;<span class="builtintype" id="2039095">error</span><span class="op" id="2039100">)</span>&nbsp;<span class="op" id="2039102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039105">p</span>&nbsp;<span class="op" id="2039107">:=</span>&nbsp;<span class="ident" id="2039110">newPrinter</span><span class="op" id="2039120">(</span><span class="op" id="2039121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039124">p</span><span class="op" id="2039125">.</span><span class="ident" id="2039126">doPrint</span><span class="op" id="2039133">(</span><span class="ident" id="2039134">a</span><span class="op" id="2039135">,</span>&nbsp;<span class="builtintype" id="2039137">true</span><span class="op" id="2039141">,</span>&nbsp;<span class="builtintype" id="2039143">true</span><span class="op" id="2039147">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039150">n</span><span class="op" id="2039151">,</span>&nbsp;<span class="ident" id="2039153">err</span>&nbsp;<span class="op" id="2039157">=</span>&nbsp;<span class="ident" id="2039159">w</span><span class="op" id="2039160">.</span><span class="ident" id="2039161">Write</span><span class="op" id="2039166">(</span><span class="ident" id="2039167">p</span><span class="op" id="2039168">.</span><span class="ident" id="2039169">buf</span><span class="op" id="2039172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039175">p</span><span class="op" id="2039176">.</span><span class="ident" id="2039177">free</span><span class="op" id="2039181">(</span><span class="op" id="2039182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2039185">return</span><br>
<span class="lineno"></span><span class="op" id="2039192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2039195">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2039288">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2039359">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2039434">func</span>&nbsp;<span class="ident" id="2039439">Println</span><span class="op" id="2039446">(</span><span class="ident" id="2039447">a</span>&nbsp;<span class="op" id="2039449">...</span><span class="keyword" id="2039452">interface</span><span class="op" id="2039461">{</span><span class="op" id="2039462">}</span><span class="op" id="2039463">)</span>&nbsp;<span class="op" id="2039465">(</span><span class="ident" id="2039466">n</span>&nbsp;<span class="builtintype" id="2039468">int</span><span class="op" id="2039471">,</span>&nbsp;<span class="ident" id="2039473">err</span>&nbsp;<span class="builtintype" id="2039477">error</span><span class="op" id="2039482">)</span>&nbsp;<span class="op" id="2039484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2039487">return</span>&nbsp;<span class="ident" id="2039494">Fprintln</span><span class="op" id="2039502">(</span><span class="ident" id="2039503">os</span><span class="op" id="2039505">.</span><span class="ident" id="2039506">Stdout</span><span class="op" id="2039512">,</span>&nbsp;<span class="ident" id="2039514">a</span><span class="op" id="2039515">...</span><span class="op" id="2039518">)</span><br>
<span class="lineno">265</span><span class="op" id="2039520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2039523">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2039620">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2039691">func</span>&nbsp;<span class="ident" id="2039696">Sprintln</span><span class="op" id="2039704">(</span><span class="ident" id="2039705">a</span>&nbsp;<span class="op" id="2039707">...</span><span class="keyword" id="2039710">interface</span><span class="op" id="2039719">{</span><span class="op" id="2039720">}</span><span class="op" id="2039721">)</span>&nbsp;<span class="builtintype" id="2039723">string</span>&nbsp;<span class="op" id="2039730">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039733">p</span>&nbsp;<span class="op" id="2039735">:=</span>&nbsp;<span class="ident" id="2039738">newPrinter</span><span class="op" id="2039748">(</span><span class="op" id="2039749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039752">p</span><span class="op" id="2039753">.</span><span class="ident" id="2039754">doPrint</span><span class="op" id="2039761">(</span><span class="ident" id="2039762">a</span><span class="op" id="2039763">,</span>&nbsp;<span class="builtintype" id="2039765">true</span><span class="op" id="2039769">,</span>&nbsp;<span class="builtintype" id="2039771">true</span><span class="op" id="2039775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039778">s</span>&nbsp;<span class="op" id="2039780">:=</span>&nbsp;<span class="builtintype" id="2039783">string</span><span class="op" id="2039789">(</span><span class="ident" id="2039790">p</span><span class="op" id="2039791">.</span><span class="ident" id="2039792">buf</span><span class="op" id="2039795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2039798">p</span><span class="op" id="2039799">.</span><span class="ident" id="2039800">free</span><span class="op" id="2039804">(</span><span class="op" id="2039805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2039808">return</span>&nbsp;<span class="ident" id="2039815">s</span><br>
<span class="lineno">275</span><span class="op" id="2039817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2039820">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2039873">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2039935">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2039996">func</span>&nbsp;<span class="ident" id="2040001">getField</span><span class="op" id="2040009">(</span><span class="ident" id="2040010">v</span>&nbsp;<span class="ident" id="2040012">reflect</span><span class="op" id="2040019">.</span><span class="ident" id="2040020">Value</span><span class="op" id="2040025">,</span>&nbsp;<span class="ident" id="2040027">i</span>&nbsp;<span class="builtintype" id="2040029">int</span><span class="op" id="2040032">)</span>&nbsp;<span class="ident" id="2040034">reflect</span><span class="op" id="2040041">.</span><span class="ident" id="2040042">Value</span>&nbsp;<span class="op" id="2040048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040051">val</span>&nbsp;<span class="op" id="2040055">:=</span>&nbsp;<span class="ident" id="2040058">v</span><span class="op" id="2040059">.</span><span class="ident" id="2040060">Field</span><span class="op" id="2040065">(</span><span class="ident" id="2040066">i</span><span class="op" id="2040067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040070">if</span>&nbsp;<span class="ident" id="2040073">val</span><span class="op" id="2040076">.</span><span class="ident" id="2040077">Kind</span><span class="op" id="2040081">(</span><span class="op" id="2040082">)</span>&nbsp;<span class="op" id="2040084">==</span>&nbsp;<span class="ident" id="2040087">reflect</span><span class="op" id="2040094">.</span><span class="ident" id="2040095">Interface</span>&nbsp;<span class="op" id="2040105">&amp;&amp;</span>&nbsp;<span class="op" id="2040108">!</span><span class="ident" id="2040109">val</span><span class="op" id="2040112">.</span><span class="ident" id="2040113">IsNil</span><span class="op" id="2040118">(</span><span class="op" id="2040119">)</span>&nbsp;<span class="op" id="2040121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040125">val</span>&nbsp;<span class="op" id="2040129">=</span>&nbsp;<span class="ident" id="2040131">val</span><span class="op" id="2040134">.</span><span class="ident" id="2040135">Elem</span><span class="op" id="2040139">(</span><span class="op" id="2040140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2040143">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040146">return</span>&nbsp;<span class="ident" id="2040153">val</span><br>
<span class="lineno"></span><span class="op" id="2040157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2040160">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2040252">func</span>&nbsp;<span class="ident" id="2040257">parsenum</span><span class="op" id="2040265">(</span><span class="ident" id="2040266">s</span>&nbsp;<span class="builtintype" id="2040268">string</span><span class="op" id="2040274">,</span>&nbsp;<span class="ident" id="2040276">start</span><span class="op" id="2040281">,</span>&nbsp;<span class="ident" id="2040283">end</span>&nbsp;<span class="builtintype" id="2040287">int</span><span class="op" id="2040290">)</span>&nbsp;<span class="op" id="2040292">(</span><span class="ident" id="2040293">num</span>&nbsp;<span class="builtintype" id="2040297">int</span><span class="op" id="2040300">,</span>&nbsp;<span class="ident" id="2040302">isnum</span>&nbsp;<span class="builtintype" id="2040308">bool</span><span class="op" id="2040312">,</span>&nbsp;<span class="ident" id="2040314">newi</span>&nbsp;<span class="builtintype" id="2040319">int</span><span class="op" id="2040322">)</span>&nbsp;<span class="op" id="2040324">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040327">if</span>&nbsp;<span class="ident" id="2040330">start</span>&nbsp;<span class="op" id="2040336">&gt;=</span>&nbsp;<span class="ident" id="2040339">end</span>&nbsp;<span class="op" id="2040343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040347">return</span>&nbsp;<span class="num" id="2040354">0</span><span class="op" id="2040355">,</span>&nbsp;<span class="builtintype" id="2040357">false</span><span class="op" id="2040362">,</span>&nbsp;<span class="ident" id="2040364">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2040369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040372">for</span>&nbsp;<span class="ident" id="2040376">newi</span>&nbsp;<span class="op" id="2040381">=</span>&nbsp;<span class="ident" id="2040383">start</span><span class="op" id="2040388">;</span>&nbsp;<span class="ident" id="2040390">newi</span>&nbsp;<span class="op" id="2040395">&lt;</span>&nbsp;<span class="ident" id="2040397">end</span>&nbsp;<span class="op" id="2040401">&amp;&amp;</span>&nbsp;<span class="string" id="2040404">&#39;0&#39;</span>&nbsp;<span class="op" id="2040408">&lt;=</span>&nbsp;<span class="ident" id="2040411">s</span><span class="op" id="2040412">[</span><span class="ident" id="2040413">newi</span><span class="op" id="2040417">]</span>&nbsp;<span class="op" id="2040419">&amp;&amp;</span>&nbsp;<span class="ident" id="2040422">s</span><span class="op" id="2040423">[</span><span class="ident" id="2040424">newi</span><span class="op" id="2040428">]</span>&nbsp;<span class="op" id="2040430">&lt;=</span>&nbsp;<span class="string" id="2040433">&#39;9&#39;</span><span class="op" id="2040436">;</span>&nbsp;<span class="ident" id="2040438">newi</span><span class="op" id="2040442">++</span>&nbsp;<span class="op" id="2040445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040449">num</span>&nbsp;<span class="op" id="2040453">=</span>&nbsp;<span class="ident" id="2040455">num</span><span class="op" id="2040458">*</span><span class="num" id="2040459">10</span>&nbsp;<span class="op" id="2040462">+</span>&nbsp;<span class="builtintype" id="2040464">int</span><span class="op" id="2040467">(</span><span class="ident" id="2040468">s</span><span class="op" id="2040469">[</span><span class="ident" id="2040470">newi</span><span class="op" id="2040474">]</span><span class="op" id="2040475">-</span><span class="string" id="2040476">&#39;0&#39;</span><span class="op" id="2040479">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040483">isnum</span>&nbsp;<span class="op" id="2040489">=</span>&nbsp;<span class="builtintype" id="2040491">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2040497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040500">return</span><br>
<span class="lineno"></span><span class="op" id="2040507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2040510">func</span>&nbsp;<span class="op" id="2040515">(</span><span class="ident" id="2040516">p</span>&nbsp;<span class="op" id="2040518">*</span><span class="ident" id="2040519">pp</span><span class="op" id="2040521">)</span>&nbsp;<span class="ident" id="2040523">unknownType</span><span class="op" id="2040534">(</span><span class="ident" id="2040535">v</span>&nbsp;<span class="ident" id="2040537">reflect</span><span class="op" id="2040544">.</span><span class="ident" id="2040545">Value</span><span class="op" id="2040550">)</span>&nbsp;<span class="op" id="2040552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040555">if</span>&nbsp;<span class="op" id="2040558">!</span><span class="ident" id="2040559">v</span><span class="op" id="2040560">.</span><span class="ident" id="2040561">IsValid</span><span class="op" id="2040568">(</span><span class="op" id="2040569">)</span>&nbsp;<span class="op" id="2040571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040575">p</span><span class="op" id="2040576">.</span><span class="ident" id="2040577">buf</span><span class="op" id="2040580">.</span><span class="ident" id="2040581">Write</span><span class="op" id="2040586">(</span><span class="ident" id="2040587">nilAngleBytes</span><span class="op" id="2040600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040604">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2040612">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040615">p</span><span class="op" id="2040616">.</span><span class="ident" id="2040617">buf</span><span class="op" id="2040620">.</span><span class="ident" id="2040621">WriteByte</span><span class="op" id="2040630">(</span><span class="string" id="2040631">&#39;?&#39;</span><span class="op" id="2040634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040637">p</span><span class="op" id="2040638">.</span><span class="ident" id="2040639">buf</span><span class="op" id="2040642">.</span><span class="ident" id="2040643">WriteString</span><span class="op" id="2040654">(</span><span class="ident" id="2040655">v</span><span class="op" id="2040656">.</span><span class="ident" id="2040657">Type</span><span class="op" id="2040661">(</span><span class="op" id="2040662">)</span><span class="op" id="2040663">.</span><span class="ident" id="2040664">String</span><span class="op" id="2040670">(</span><span class="op" id="2040671">)</span><span class="op" id="2040672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040675">p</span><span class="op" id="2040676">.</span><span class="ident" id="2040677">buf</span><span class="op" id="2040680">.</span><span class="ident" id="2040681">WriteByte</span><span class="op" id="2040690">(</span><span class="string" id="2040691">&#39;?&#39;</span><span class="op" id="2040694">)</span><br>
<span class="lineno"></span><span class="op" id="2040696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2040699">func</span>&nbsp;<span class="op" id="2040704">(</span><span class="ident" id="2040705">p</span>&nbsp;<span class="op" id="2040707">*</span><span class="ident" id="2040708">pp</span><span class="op" id="2040710">)</span>&nbsp;<span class="ident" id="2040712">badVerb</span><span class="op" id="2040719">(</span><span class="ident" id="2040720">verb</span>&nbsp;<span class="builtintype" id="2040725">rune</span><span class="op" id="2040729">)</span>&nbsp;<span class="op" id="2040731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040734">p</span><span class="op" id="2040735">.</span><span class="ident" id="2040736">erroring</span>&nbsp;<span class="op" id="2040745">=</span>&nbsp;<span class="builtintype" id="2040747">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040753">p</span><span class="op" id="2040754">.</span><span class="ident" id="2040755">add</span><span class="op" id="2040758">(</span><span class="string" id="2040759">&#39;%&#39;</span><span class="op" id="2040762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040765">p</span><span class="op" id="2040766">.</span><span class="ident" id="2040767">add</span><span class="op" id="2040770">(</span><span class="string" id="2040771">&#39;!&#39;</span><span class="op" id="2040774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040777">p</span><span class="op" id="2040778">.</span><span class="ident" id="2040779">add</span><span class="op" id="2040782">(</span><span class="ident" id="2040783">verb</span><span class="op" id="2040787">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040790">p</span><span class="op" id="2040791">.</span><span class="ident" id="2040792">add</span><span class="op" id="2040795">(</span><span class="string" id="2040796">&#39;(&#39;</span><span class="op" id="2040799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040802">switch</span>&nbsp;<span class="op" id="2040809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040812">case</span>&nbsp;<span class="ident" id="2040817">p</span><span class="op" id="2040818">.</span><span class="ident" id="2040819">arg</span>&nbsp;<span class="op" id="2040823">!=</span>&nbsp;<span class="builtintype" id="2040826">nil</span><span class="op" id="2040829">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040833">p</span><span class="op" id="2040834">.</span><span class="ident" id="2040835">buf</span><span class="op" id="2040838">.</span><span class="ident" id="2040839">WriteString</span><span class="op" id="2040850">(</span><span class="ident" id="2040851">reflect</span><span class="op" id="2040858">.</span><span class="ident" id="2040859">TypeOf</span><span class="op" id="2040865">(</span><span class="ident" id="2040866">p</span><span class="op" id="2040867">.</span><span class="ident" id="2040868">arg</span><span class="op" id="2040871">)</span><span class="op" id="2040872">.</span><span class="ident" id="2040873">String</span><span class="op" id="2040879">(</span><span class="op" id="2040880">)</span><span class="op" id="2040881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040885">p</span><span class="op" id="2040886">.</span><span class="ident" id="2040887">add</span><span class="op" id="2040890">(</span><span class="string" id="2040891">&#39;=&#39;</span><span class="op" id="2040894">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040898">p</span><span class="op" id="2040899">.</span><span class="ident" id="2040900">printArg</span><span class="op" id="2040908">(</span><span class="ident" id="2040909">p</span><span class="op" id="2040910">.</span><span class="ident" id="2040911">arg</span><span class="op" id="2040914">,</span>&nbsp;<span class="string" id="2040916">&#39;v&#39;</span><span class="op" id="2040919">,</span>&nbsp;<span class="num" id="2040921">0</span><span class="op" id="2040922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2040925">case</span>&nbsp;<span class="ident" id="2040930">p</span><span class="op" id="2040931">.</span><span class="ident" id="2040932">value</span><span class="op" id="2040937">.</span><span class="ident" id="2040938">IsValid</span><span class="op" id="2040945">(</span><span class="op" id="2040946">)</span><span class="op" id="2040947">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040951">p</span><span class="op" id="2040952">.</span><span class="ident" id="2040953">buf</span><span class="op" id="2040956">.</span><span class="ident" id="2040957">WriteString</span><span class="op" id="2040968">(</span><span class="ident" id="2040969">p</span><span class="op" id="2040970">.</span><span class="ident" id="2040971">value</span><span class="op" id="2040976">.</span><span class="ident" id="2040977">Type</span><span class="op" id="2040981">(</span><span class="op" id="2040982">)</span><span class="op" id="2040983">.</span><span class="ident" id="2040984">String</span><span class="op" id="2040990">(</span><span class="op" id="2040991">)</span><span class="op" id="2040992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2040996">p</span><span class="op" id="2040997">.</span><span class="ident" id="2040998">add</span><span class="op" id="2041001">(</span><span class="string" id="2041002">&#39;=&#39;</span><span class="op" id="2041005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041009">p</span><span class="op" id="2041010">.</span><span class="ident" id="2041011">printValue</span><span class="op" id="2041021">(</span><span class="ident" id="2041022">p</span><span class="op" id="2041023">.</span><span class="ident" id="2041024">value</span><span class="op" id="2041029">,</span>&nbsp;<span class="string" id="2041031">&#39;v&#39;</span><span class="op" id="2041034">,</span>&nbsp;<span class="num" id="2041036">0</span><span class="op" id="2041037">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041040">default</span><span class="op" id="2041047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041051">p</span><span class="op" id="2041052">.</span><span class="ident" id="2041053">buf</span><span class="op" id="2041056">.</span><span class="ident" id="2041057">Write</span><span class="op" id="2041062">(</span><span class="ident" id="2041063">nilAngleBytes</span><span class="op" id="2041076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2041079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041082">p</span><span class="op" id="2041083">.</span><span class="ident" id="2041084">add</span><span class="op" id="2041087">(</span><span class="string" id="2041088">&#39;)&#39;</span><span class="op" id="2041091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041094">p</span><span class="op" id="2041095">.</span><span class="ident" id="2041096">erroring</span>&nbsp;<span class="op" id="2041105">=</span>&nbsp;<span class="builtintype" id="2041107">false</span><br>
<span class="lineno">330</span><span class="op" id="2041113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2041116">func</span>&nbsp;<span class="op" id="2041121">(</span><span class="ident" id="2041122">p</span>&nbsp;<span class="op" id="2041124">*</span><span class="ident" id="2041125">pp</span><span class="op" id="2041127">)</span>&nbsp;<span class="ident" id="2041129">fmtBool</span><span class="op" id="2041136">(</span><span class="ident" id="2041137">v</span>&nbsp;<span class="builtintype" id="2041139">bool</span><span class="op" id="2041143">,</span>&nbsp;<span class="ident" id="2041145">verb</span>&nbsp;<span class="builtintype" id="2041150">rune</span><span class="op" id="2041154">)</span>&nbsp;<span class="op" id="2041156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041159">switch</span>&nbsp;<span class="ident" id="2041166">verb</span>&nbsp;<span class="op" id="2041171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041174">case</span>&nbsp;<span class="string" id="2041179">&#39;t&#39;</span><span class="op" id="2041182">,</span>&nbsp;<span class="string" id="2041184">&#39;v&#39;</span><span class="op" id="2041187">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041191">p</span><span class="op" id="2041192">.</span><span class="ident" id="2041193">fmt</span><span class="op" id="2041196">.</span><span class="ident" id="2041197">fmt_boolean</span><span class="op" id="2041208">(</span><span class="ident" id="2041209">v</span><span class="op" id="2041210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041213">default</span><span class="op" id="2041220">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041224">p</span><span class="op" id="2041225">.</span><span class="ident" id="2041226">badVerb</span><span class="op" id="2041233">(</span><span class="ident" id="2041234">verb</span><span class="op" id="2041238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2041241">}</span><br>
<span class="lineno"></span><span class="op" id="2041243">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2041246">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2041289">func</span>&nbsp;<span class="op" id="2041294">(</span><span class="ident" id="2041295">p</span>&nbsp;<span class="op" id="2041297">*</span><span class="ident" id="2041298">pp</span><span class="op" id="2041300">)</span>&nbsp;<span class="ident" id="2041302">fmtC</span><span class="op" id="2041306">(</span><span class="ident" id="2041307">c</span>&nbsp;<span class="ident" id="2041309">int64</span><span class="op" id="2041314">)</span>&nbsp;<span class="op" id="2041316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041319">r</span>&nbsp;<span class="op" id="2041321">:=</span>&nbsp;<span class="builtintype" id="2041324">rune</span><span class="op" id="2041328">(</span><span class="ident" id="2041329">c</span><span class="op" id="2041330">)</span>&nbsp;<span class="comment" id="2041332">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041356">if</span>&nbsp;<span class="ident" id="2041359">int64</span><span class="op" id="2041364">(</span><span class="ident" id="2041365">r</span><span class="op" id="2041366">)</span>&nbsp;<span class="op" id="2041368">!=</span>&nbsp;<span class="ident" id="2041371">c</span>&nbsp;<span class="op" id="2041373">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041377">r</span>&nbsp;<span class="op" id="2041379">=</span>&nbsp;<span class="ident" id="2041381">utf8</span><span class="op" id="2041385">.</span><span class="ident" id="2041386">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2041397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041400">w</span>&nbsp;<span class="op" id="2041402">:=</span>&nbsp;<span class="ident" id="2041405">utf8</span><span class="op" id="2041409">.</span><span class="ident" id="2041410">EncodeRune</span><span class="op" id="2041420">(</span><span class="ident" id="2041421">p</span><span class="op" id="2041422">.</span><span class="ident" id="2041423">runeBuf</span><span class="op" id="2041430">[</span><span class="num" id="2041431">0</span><span class="op" id="2041432">:</span><span class="ident" id="2041433">utf8</span><span class="op" id="2041437">.</span><span class="ident" id="2041438">UTFMax</span><span class="op" id="2041444">]</span><span class="op" id="2041445">,</span>&nbsp;<span class="ident" id="2041447">r</span><span class="op" id="2041448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041451">p</span><span class="op" id="2041452">.</span><span class="ident" id="2041453">fmt</span><span class="op" id="2041456">.</span><span class="ident" id="2041457">pad</span><span class="op" id="2041460">(</span><span class="ident" id="2041461">p</span><span class="op" id="2041462">.</span><span class="ident" id="2041463">runeBuf</span><span class="op" id="2041470">[</span><span class="num" id="2041471">0</span><span class="op" id="2041472">:</span><span class="ident" id="2041473">w</span><span class="op" id="2041474">]</span><span class="op" id="2041475">)</span><br>
<span class="lineno"></span><span class="op" id="2041477">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2041480">func</span>&nbsp;<span class="op" id="2041485">(</span><span class="ident" id="2041486">p</span>&nbsp;<span class="op" id="2041488">*</span><span class="ident" id="2041489">pp</span><span class="op" id="2041491">)</span>&nbsp;<span class="ident" id="2041493">fmtInt64</span><span class="op" id="2041501">(</span><span class="ident" id="2041502">v</span>&nbsp;<span class="ident" id="2041504">int64</span><span class="op" id="2041509">,</span>&nbsp;<span class="ident" id="2041511">verb</span>&nbsp;<span class="builtintype" id="2041516">rune</span><span class="op" id="2041520">)</span>&nbsp;<span class="op" id="2041522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041525">switch</span>&nbsp;<span class="ident" id="2041532">verb</span>&nbsp;<span class="op" id="2041537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041540">case</span>&nbsp;<span class="string" id="2041545">&#39;b&#39;</span><span class="op" id="2041548">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041552">p</span><span class="op" id="2041553">.</span><span class="ident" id="2041554">fmt</span><span class="op" id="2041557">.</span><span class="ident" id="2041558">integer</span><span class="op" id="2041565">(</span><span class="ident" id="2041566">v</span><span class="op" id="2041567">,</span>&nbsp;<span class="num" id="2041569">2</span><span class="op" id="2041570">,</span>&nbsp;<span class="ident" id="2041572">signed</span><span class="op" id="2041578">,</span>&nbsp;<span class="ident" id="2041580">ldigits</span><span class="op" id="2041587">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041590">case</span>&nbsp;<span class="string" id="2041595">&#39;c&#39;</span><span class="op" id="2041598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041602">p</span><span class="op" id="2041603">.</span><span class="ident" id="2041604">fmtC</span><span class="op" id="2041608">(</span><span class="ident" id="2041609">v</span><span class="op" id="2041610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041613">case</span>&nbsp;<span class="string" id="2041618">&#39;d&#39;</span><span class="op" id="2041621">,</span>&nbsp;<span class="string" id="2041623">&#39;v&#39;</span><span class="op" id="2041626">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041630">p</span><span class="op" id="2041631">.</span><span class="ident" id="2041632">fmt</span><span class="op" id="2041635">.</span><span class="ident" id="2041636">integer</span><span class="op" id="2041643">(</span><span class="ident" id="2041644">v</span><span class="op" id="2041645">,</span>&nbsp;<span class="num" id="2041647">10</span><span class="op" id="2041649">,</span>&nbsp;<span class="ident" id="2041651">signed</span><span class="op" id="2041657">,</span>&nbsp;<span class="ident" id="2041659">ldigits</span><span class="op" id="2041666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041669">case</span>&nbsp;<span class="string" id="2041674">&#39;o&#39;</span><span class="op" id="2041677">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041681">p</span><span class="op" id="2041682">.</span><span class="ident" id="2041683">fmt</span><span class="op" id="2041686">.</span><span class="ident" id="2041687">integer</span><span class="op" id="2041694">(</span><span class="ident" id="2041695">v</span><span class="op" id="2041696">,</span>&nbsp;<span class="num" id="2041698">8</span><span class="op" id="2041699">,</span>&nbsp;<span class="ident" id="2041701">signed</span><span class="op" id="2041707">,</span>&nbsp;<span class="ident" id="2041709">ldigits</span><span class="op" id="2041716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041719">case</span>&nbsp;<span class="string" id="2041724">&#39;q&#39;</span><span class="op" id="2041727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041731">if</span>&nbsp;<span class="num" id="2041734">0</span>&nbsp;<span class="op" id="2041736">&lt;=</span>&nbsp;<span class="ident" id="2041739">v</span>&nbsp;<span class="op" id="2041741">&amp;&amp;</span>&nbsp;<span class="ident" id="2041744">v</span>&nbsp;<span class="op" id="2041746">&lt;=</span>&nbsp;<span class="ident" id="2041749">utf8</span><span class="op" id="2041753">.</span><span class="ident" id="2041754">MaxRune</span>&nbsp;<span class="op" id="2041762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041767">p</span><span class="op" id="2041768">.</span><span class="ident" id="2041769">fmt</span><span class="op" id="2041772">.</span><span class="ident" id="2041773">fmt_qc</span><span class="op" id="2041779">(</span><span class="ident" id="2041780">v</span><span class="op" id="2041781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2041785">}</span>&nbsp;<span class="keyword" id="2041787">else</span>&nbsp;<span class="op" id="2041792">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041797">p</span><span class="op" id="2041798">.</span><span class="ident" id="2041799">badVerb</span><span class="op" id="2041806">(</span><span class="ident" id="2041807">verb</span><span class="op" id="2041811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2041815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041818">case</span>&nbsp;<span class="string" id="2041823">&#39;x&#39;</span><span class="op" id="2041826">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041830">p</span><span class="op" id="2041831">.</span><span class="ident" id="2041832">fmt</span><span class="op" id="2041835">.</span><span class="ident" id="2041836">integer</span><span class="op" id="2041843">(</span><span class="ident" id="2041844">v</span><span class="op" id="2041845">,</span>&nbsp;<span class="num" id="2041847">16</span><span class="op" id="2041849">,</span>&nbsp;<span class="ident" id="2041851">signed</span><span class="op" id="2041857">,</span>&nbsp;<span class="ident" id="2041859">ldigits</span><span class="op" id="2041866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041869">case</span>&nbsp;<span class="string" id="2041874">&#39;U&#39;</span><span class="op" id="2041877">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041881">p</span><span class="op" id="2041882">.</span><span class="ident" id="2041883">fmtUnicode</span><span class="op" id="2041893">(</span><span class="ident" id="2041894">v</span><span class="op" id="2041895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041898">case</span>&nbsp;<span class="string" id="2041903">&#39;X&#39;</span><span class="op" id="2041906">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041910">p</span><span class="op" id="2041911">.</span><span class="ident" id="2041912">fmt</span><span class="op" id="2041915">.</span><span class="ident" id="2041916">integer</span><span class="op" id="2041923">(</span><span class="ident" id="2041924">v</span><span class="op" id="2041925">,</span>&nbsp;<span class="num" id="2041927">16</span><span class="op" id="2041929">,</span>&nbsp;<span class="ident" id="2041931">signed</span><span class="op" id="2041937">,</span>&nbsp;<span class="ident" id="2041939">udigits</span><span class="op" id="2041946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2041949">default</span><span class="op" id="2041956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2041960">p</span><span class="op" id="2041961">.</span><span class="ident" id="2041962">badVerb</span><span class="op" id="2041969">(</span><span class="ident" id="2041970">verb</span><span class="op" id="2041974">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2041977">}</span><br>
<span class="lineno"></span><span class="op" id="2041979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2041982">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2042052">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2042113">func</span>&nbsp;<span class="op" id="2042118">(</span><span class="ident" id="2042119">p</span>&nbsp;<span class="op" id="2042121">*</span><span class="ident" id="2042122">pp</span><span class="op" id="2042124">)</span>&nbsp;<span class="ident" id="2042126">fmt0x64</span><span class="op" id="2042133">(</span><span class="ident" id="2042134">v</span>&nbsp;<span class="ident" id="2042136">uint64</span><span class="op" id="2042142">,</span>&nbsp;<span class="ident" id="2042144">leading0x</span>&nbsp;<span class="builtintype" id="2042154">bool</span><span class="op" id="2042158">)</span>&nbsp;<span class="op" id="2042160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042163">sharp</span>&nbsp;<span class="op" id="2042169">:=</span>&nbsp;<span class="ident" id="2042172">p</span><span class="op" id="2042173">.</span><span class="ident" id="2042174">fmt</span><span class="op" id="2042177">.</span><span class="ident" id="2042178">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042185">p</span><span class="op" id="2042186">.</span><span class="ident" id="2042187">fmt</span><span class="op" id="2042190">.</span><span class="ident" id="2042191">sharp</span>&nbsp;<span class="op" id="2042197">=</span>&nbsp;<span class="ident" id="2042199">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042210">p</span><span class="op" id="2042211">.</span><span class="ident" id="2042212">fmt</span><span class="op" id="2042215">.</span><span class="ident" id="2042216">integer</span><span class="op" id="2042223">(</span><span class="ident" id="2042224">int64</span><span class="op" id="2042229">(</span><span class="ident" id="2042230">v</span><span class="op" id="2042231">)</span><span class="op" id="2042232">,</span>&nbsp;<span class="num" id="2042234">16</span><span class="op" id="2042236">,</span>&nbsp;<span class="ident" id="2042238">unsigned</span><span class="op" id="2042246">,</span>&nbsp;<span class="ident" id="2042248">ldigits</span><span class="op" id="2042255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042258">p</span><span class="op" id="2042259">.</span><span class="ident" id="2042260">fmt</span><span class="op" id="2042263">.</span><span class="ident" id="2042264">sharp</span>&nbsp;<span class="op" id="2042270">=</span>&nbsp;<span class="ident" id="2042272">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2042278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2042281">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2042330">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2042401">func</span>&nbsp;<span class="op" id="2042406">(</span><span class="ident" id="2042407">p</span>&nbsp;<span class="op" id="2042409">*</span><span class="ident" id="2042410">pp</span><span class="op" id="2042412">)</span>&nbsp;<span class="ident" id="2042414">fmtUnicode</span><span class="op" id="2042424">(</span><span class="ident" id="2042425">v</span>&nbsp;<span class="ident" id="2042427">int64</span><span class="op" id="2042432">)</span>&nbsp;<span class="op" id="2042434">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042437">precPresent</span>&nbsp;<span class="op" id="2042449">:=</span>&nbsp;<span class="ident" id="2042452">p</span><span class="op" id="2042453">.</span><span class="ident" id="2042454">fmt</span><span class="op" id="2042457">.</span><span class="ident" id="2042458">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042471">sharp</span>&nbsp;<span class="op" id="2042477">:=</span>&nbsp;<span class="ident" id="2042480">p</span><span class="op" id="2042481">.</span><span class="ident" id="2042482">fmt</span><span class="op" id="2042485">.</span><span class="ident" id="2042486">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042493">p</span><span class="op" id="2042494">.</span><span class="ident" id="2042495">fmt</span><span class="op" id="2042498">.</span><span class="ident" id="2042499">sharp</span>&nbsp;<span class="op" id="2042505">=</span>&nbsp;<span class="builtintype" id="2042507">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042514">prec</span>&nbsp;<span class="op" id="2042519">:=</span>&nbsp;<span class="ident" id="2042522">p</span><span class="op" id="2042523">.</span><span class="ident" id="2042524">fmt</span><span class="op" id="2042527">.</span><span class="ident" id="2042528">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2042534">if</span>&nbsp;<span class="op" id="2042537">!</span><span class="ident" id="2042538">precPresent</span>&nbsp;<span class="op" id="2042550">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2042554">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042623">p</span><span class="op" id="2042624">.</span><span class="ident" id="2042625">fmt</span><span class="op" id="2042628">.</span><span class="ident" id="2042629">prec</span>&nbsp;<span class="op" id="2042634">=</span>&nbsp;<span class="num" id="2042636">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042640">p</span><span class="op" id="2042641">.</span><span class="ident" id="2042642">fmt</span><span class="op" id="2042645">.</span><span class="ident" id="2042646">precPresent</span>&nbsp;<span class="op" id="2042658">=</span>&nbsp;<span class="builtintype" id="2042660">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2042666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042669">p</span><span class="op" id="2042670">.</span><span class="ident" id="2042671">fmt</span><span class="op" id="2042674">.</span><span class="ident" id="2042675">unicode</span>&nbsp;<span class="op" id="2042683">=</span>&nbsp;<span class="builtintype" id="2042685">true</span>&nbsp;<span class="comment" id="2042690">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042705">p</span><span class="op" id="2042706">.</span><span class="ident" id="2042707">fmt</span><span class="op" id="2042710">.</span><span class="ident" id="2042711">uniQuote</span>&nbsp;<span class="op" id="2042720">=</span>&nbsp;<span class="ident" id="2042722">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042729">p</span><span class="op" id="2042730">.</span><span class="ident" id="2042731">fmt</span><span class="op" id="2042734">.</span><span class="ident" id="2042735">integer</span><span class="op" id="2042742">(</span><span class="ident" id="2042743">int64</span><span class="op" id="2042748">(</span><span class="ident" id="2042749">v</span><span class="op" id="2042750">)</span><span class="op" id="2042751">,</span>&nbsp;<span class="num" id="2042753">16</span><span class="op" id="2042755">,</span>&nbsp;<span class="ident" id="2042757">unsigned</span><span class="op" id="2042765">,</span>&nbsp;<span class="ident" id="2042767">udigits</span><span class="op" id="2042774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042777">p</span><span class="op" id="2042778">.</span><span class="ident" id="2042779">fmt</span><span class="op" id="2042782">.</span><span class="ident" id="2042783">unicode</span>&nbsp;<span class="op" id="2042791">=</span>&nbsp;<span class="builtintype" id="2042793">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042800">p</span><span class="op" id="2042801">.</span><span class="ident" id="2042802">fmt</span><span class="op" id="2042805">.</span><span class="ident" id="2042806">uniQuote</span>&nbsp;<span class="op" id="2042815">=</span>&nbsp;<span class="builtintype" id="2042817">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042824">p</span><span class="op" id="2042825">.</span><span class="ident" id="2042826">fmt</span><span class="op" id="2042829">.</span><span class="ident" id="2042830">prec</span>&nbsp;<span class="op" id="2042835">=</span>&nbsp;<span class="ident" id="2042837">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042843">p</span><span class="op" id="2042844">.</span><span class="ident" id="2042845">fmt</span><span class="op" id="2042848">.</span><span class="ident" id="2042849">precPresent</span>&nbsp;<span class="op" id="2042861">=</span>&nbsp;<span class="ident" id="2042863">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042876">p</span><span class="op" id="2042877">.</span><span class="ident" id="2042878">fmt</span><span class="op" id="2042881">.</span><span class="ident" id="2042882">sharp</span>&nbsp;<span class="op" id="2042888">=</span>&nbsp;<span class="ident" id="2042890">sharp</span><br>
<span class="lineno"></span><span class="op" id="2042896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2042899">func</span>&nbsp;<span class="op" id="2042904">(</span><span class="ident" id="2042905">p</span>&nbsp;<span class="op" id="2042907">*</span><span class="ident" id="2042908">pp</span><span class="op" id="2042910">)</span>&nbsp;<span class="ident" id="2042912">fmtUint64</span><span class="op" id="2042921">(</span><span class="ident" id="2042922">v</span>&nbsp;<span class="ident" id="2042924">uint64</span><span class="op" id="2042930">,</span>&nbsp;<span class="ident" id="2042932">verb</span>&nbsp;<span class="builtintype" id="2042937">rune</span><span class="op" id="2042941">)</span>&nbsp;<span class="op" id="2042943">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2042946">switch</span>&nbsp;<span class="ident" id="2042953">verb</span>&nbsp;<span class="op" id="2042958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2042961">case</span>&nbsp;<span class="string" id="2042966">&#39;b&#39;</span><span class="op" id="2042969">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2042973">p</span><span class="op" id="2042974">.</span><span class="ident" id="2042975">fmt</span><span class="op" id="2042978">.</span><span class="ident" id="2042979">integer</span><span class="op" id="2042986">(</span><span class="ident" id="2042987">int64</span><span class="op" id="2042992">(</span><span class="ident" id="2042993">v</span><span class="op" id="2042994">)</span><span class="op" id="2042995">,</span>&nbsp;<span class="num" id="2042997">2</span><span class="op" id="2042998">,</span>&nbsp;<span class="ident" id="2043000">unsigned</span><span class="op" id="2043008">,</span>&nbsp;<span class="ident" id="2043010">ldigits</span><span class="op" id="2043017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043020">case</span>&nbsp;<span class="string" id="2043025">&#39;c&#39;</span><span class="op" id="2043028">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043032">p</span><span class="op" id="2043033">.</span><span class="ident" id="2043034">fmtC</span><span class="op" id="2043038">(</span><span class="ident" id="2043039">int64</span><span class="op" id="2043044">(</span><span class="ident" id="2043045">v</span><span class="op" id="2043046">)</span><span class="op" id="2043047">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043050">case</span>&nbsp;<span class="string" id="2043055">&#39;d&#39;</span><span class="op" id="2043058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043062">p</span><span class="op" id="2043063">.</span><span class="ident" id="2043064">fmt</span><span class="op" id="2043067">.</span><span class="ident" id="2043068">integer</span><span class="op" id="2043075">(</span><span class="ident" id="2043076">int64</span><span class="op" id="2043081">(</span><span class="ident" id="2043082">v</span><span class="op" id="2043083">)</span><span class="op" id="2043084">,</span>&nbsp;<span class="num" id="2043086">10</span><span class="op" id="2043088">,</span>&nbsp;<span class="ident" id="2043090">unsigned</span><span class="op" id="2043098">,</span>&nbsp;<span class="ident" id="2043100">ldigits</span><span class="op" id="2043107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043110">case</span>&nbsp;<span class="string" id="2043115">&#39;v&#39;</span><span class="op" id="2043118">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043122">if</span>&nbsp;<span class="ident" id="2043125">p</span><span class="op" id="2043126">.</span><span class="ident" id="2043127">fmt</span><span class="op" id="2043130">.</span><span class="ident" id="2043131">sharpV</span>&nbsp;<span class="op" id="2043138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043143">p</span><span class="op" id="2043144">.</span><span class="ident" id="2043145">fmt0x64</span><span class="op" id="2043152">(</span><span class="ident" id="2043153">v</span><span class="op" id="2043154">,</span>&nbsp;<span class="builtintype" id="2043156">true</span><span class="op" id="2043160">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2043164">}</span>&nbsp;<span class="keyword" id="2043166">else</span>&nbsp;<span class="op" id="2043171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043176">p</span><span class="op" id="2043177">.</span><span class="ident" id="2043178">fmt</span><span class="op" id="2043181">.</span><span class="ident" id="2043182">integer</span><span class="op" id="2043189">(</span><span class="ident" id="2043190">int64</span><span class="op" id="2043195">(</span><span class="ident" id="2043196">v</span><span class="op" id="2043197">)</span><span class="op" id="2043198">,</span>&nbsp;<span class="num" id="2043200">10</span><span class="op" id="2043202">,</span>&nbsp;<span class="ident" id="2043204">unsigned</span><span class="op" id="2043212">,</span>&nbsp;<span class="ident" id="2043214">ldigits</span><span class="op" id="2043221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2043225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043228">case</span>&nbsp;<span class="string" id="2043233">&#39;o&#39;</span><span class="op" id="2043236">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043240">p</span><span class="op" id="2043241">.</span><span class="ident" id="2043242">fmt</span><span class="op" id="2043245">.</span><span class="ident" id="2043246">integer</span><span class="op" id="2043253">(</span><span class="ident" id="2043254">int64</span><span class="op" id="2043259">(</span><span class="ident" id="2043260">v</span><span class="op" id="2043261">)</span><span class="op" id="2043262">,</span>&nbsp;<span class="num" id="2043264">8</span><span class="op" id="2043265">,</span>&nbsp;<span class="ident" id="2043267">unsigned</span><span class="op" id="2043275">,</span>&nbsp;<span class="ident" id="2043277">ldigits</span><span class="op" id="2043284">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043287">case</span>&nbsp;<span class="string" id="2043292">&#39;q&#39;</span><span class="op" id="2043295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043299">if</span>&nbsp;<span class="num" id="2043302">0</span>&nbsp;<span class="op" id="2043304">&lt;=</span>&nbsp;<span class="ident" id="2043307">v</span>&nbsp;<span class="op" id="2043309">&amp;&amp;</span>&nbsp;<span class="ident" id="2043312">v</span>&nbsp;<span class="op" id="2043314">&lt;=</span>&nbsp;<span class="ident" id="2043317">utf8</span><span class="op" id="2043321">.</span><span class="ident" id="2043322">MaxRune</span>&nbsp;<span class="op" id="2043330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043335">p</span><span class="op" id="2043336">.</span><span class="ident" id="2043337">fmt</span><span class="op" id="2043340">.</span><span class="ident" id="2043341">fmt_qc</span><span class="op" id="2043347">(</span><span class="ident" id="2043348">int64</span><span class="op" id="2043353">(</span><span class="ident" id="2043354">v</span><span class="op" id="2043355">)</span><span class="op" id="2043356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2043360">}</span>&nbsp;<span class="keyword" id="2043362">else</span>&nbsp;<span class="op" id="2043367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043372">p</span><span class="op" id="2043373">.</span><span class="ident" id="2043374">badVerb</span><span class="op" id="2043381">(</span><span class="ident" id="2043382">verb</span><span class="op" id="2043386">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2043390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043393">case</span>&nbsp;<span class="string" id="2043398">&#39;x&#39;</span><span class="op" id="2043401">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043405">p</span><span class="op" id="2043406">.</span><span class="ident" id="2043407">fmt</span><span class="op" id="2043410">.</span><span class="ident" id="2043411">integer</span><span class="op" id="2043418">(</span><span class="ident" id="2043419">int64</span><span class="op" id="2043424">(</span><span class="ident" id="2043425">v</span><span class="op" id="2043426">)</span><span class="op" id="2043427">,</span>&nbsp;<span class="num" id="2043429">16</span><span class="op" id="2043431">,</span>&nbsp;<span class="ident" id="2043433">unsigned</span><span class="op" id="2043441">,</span>&nbsp;<span class="ident" id="2043443">ldigits</span><span class="op" id="2043450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043453">case</span>&nbsp;<span class="string" id="2043458">&#39;X&#39;</span><span class="op" id="2043461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043465">p</span><span class="op" id="2043466">.</span><span class="ident" id="2043467">fmt</span><span class="op" id="2043470">.</span><span class="ident" id="2043471">integer</span><span class="op" id="2043478">(</span><span class="ident" id="2043479">int64</span><span class="op" id="2043484">(</span><span class="ident" id="2043485">v</span><span class="op" id="2043486">)</span><span class="op" id="2043487">,</span>&nbsp;<span class="num" id="2043489">16</span><span class="op" id="2043491">,</span>&nbsp;<span class="ident" id="2043493">unsigned</span><span class="op" id="2043501">,</span>&nbsp;<span class="ident" id="2043503">udigits</span><span class="op" id="2043510">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043513">case</span>&nbsp;<span class="string" id="2043518">&#39;U&#39;</span><span class="op" id="2043521">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043525">p</span><span class="op" id="2043526">.</span><span class="ident" id="2043527">fmtUnicode</span><span class="op" id="2043537">(</span><span class="ident" id="2043538">int64</span><span class="op" id="2043543">(</span><span class="ident" id="2043544">v</span><span class="op" id="2043545">)</span><span class="op" id="2043546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043549">default</span><span class="op" id="2043556">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043560">p</span><span class="op" id="2043561">.</span><span class="ident" id="2043562">badVerb</span><span class="op" id="2043569">(</span><span class="ident" id="2043570">verb</span><span class="op" id="2043574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2043577">}</span><br>
<span class="lineno">440</span><span class="op" id="2043579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2043582">func</span>&nbsp;<span class="op" id="2043587">(</span><span class="ident" id="2043588">p</span>&nbsp;<span class="op" id="2043590">*</span><span class="ident" id="2043591">pp</span><span class="op" id="2043593">)</span>&nbsp;<span class="ident" id="2043595">fmtFloat32</span><span class="op" id="2043605">(</span><span class="ident" id="2043606">v</span>&nbsp;<span class="builtintype" id="2043608">float32</span><span class="op" id="2043615">,</span>&nbsp;<span class="ident" id="2043617">verb</span>&nbsp;<span class="builtintype" id="2043622">rune</span><span class="op" id="2043626">)</span>&nbsp;<span class="op" id="2043628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043631">switch</span>&nbsp;<span class="ident" id="2043638">verb</span>&nbsp;<span class="op" id="2043643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043646">case</span>&nbsp;<span class="string" id="2043651">&#39;b&#39;</span><span class="op" id="2043654">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043658">p</span><span class="op" id="2043659">.</span><span class="ident" id="2043660">fmt</span><span class="op" id="2043663">.</span><span class="ident" id="2043664">fmt_fb32</span><span class="op" id="2043672">(</span><span class="ident" id="2043673">v</span><span class="op" id="2043674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043677">case</span>&nbsp;<span class="string" id="2043682">&#39;e&#39;</span><span class="op" id="2043685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043689">p</span><span class="op" id="2043690">.</span><span class="ident" id="2043691">fmt</span><span class="op" id="2043694">.</span><span class="ident" id="2043695">fmt_e32</span><span class="op" id="2043702">(</span><span class="ident" id="2043703">v</span><span class="op" id="2043704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043707">case</span>&nbsp;<span class="string" id="2043712">&#39;E&#39;</span><span class="op" id="2043715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043719">p</span><span class="op" id="2043720">.</span><span class="ident" id="2043721">fmt</span><span class="op" id="2043724">.</span><span class="ident" id="2043725">fmt_E32</span><span class="op" id="2043732">(</span><span class="ident" id="2043733">v</span><span class="op" id="2043734">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043737">case</span>&nbsp;<span class="string" id="2043742">&#39;f&#39;</span><span class="op" id="2043745">,</span>&nbsp;<span class="string" id="2043747">&#39;F&#39;</span><span class="op" id="2043750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043754">p</span><span class="op" id="2043755">.</span><span class="ident" id="2043756">fmt</span><span class="op" id="2043759">.</span><span class="ident" id="2043760">fmt_f32</span><span class="op" id="2043767">(</span><span class="ident" id="2043768">v</span><span class="op" id="2043769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043772">case</span>&nbsp;<span class="string" id="2043777">&#39;g&#39;</span><span class="op" id="2043780">,</span>&nbsp;<span class="string" id="2043782">&#39;v&#39;</span><span class="op" id="2043785">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043789">p</span><span class="op" id="2043790">.</span><span class="ident" id="2043791">fmt</span><span class="op" id="2043794">.</span><span class="ident" id="2043795">fmt_g32</span><span class="op" id="2043802">(</span><span class="ident" id="2043803">v</span><span class="op" id="2043804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043807">case</span>&nbsp;<span class="string" id="2043812">&#39;G&#39;</span><span class="op" id="2043815">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043819">p</span><span class="op" id="2043820">.</span><span class="ident" id="2043821">fmt</span><span class="op" id="2043824">.</span><span class="ident" id="2043825">fmt_G32</span><span class="op" id="2043832">(</span><span class="ident" id="2043833">v</span><span class="op" id="2043834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043837">default</span><span class="op" id="2043844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043848">p</span><span class="op" id="2043849">.</span><span class="ident" id="2043850">badVerb</span><span class="op" id="2043857">(</span><span class="ident" id="2043858">verb</span><span class="op" id="2043862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2043865">}</span><br>
<span class="lineno"></span><span class="op" id="2043867">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2043870">func</span>&nbsp;<span class="op" id="2043875">(</span><span class="ident" id="2043876">p</span>&nbsp;<span class="op" id="2043878">*</span><span class="ident" id="2043879">pp</span><span class="op" id="2043881">)</span>&nbsp;<span class="ident" id="2043883">fmtFloat64</span><span class="op" id="2043893">(</span><span class="ident" id="2043894">v</span>&nbsp;<span class="builtintype" id="2043896">float64</span><span class="op" id="2043903">,</span>&nbsp;<span class="ident" id="2043905">verb</span>&nbsp;<span class="builtintype" id="2043910">rune</span><span class="op" id="2043914">)</span>&nbsp;<span class="op" id="2043916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043919">switch</span>&nbsp;<span class="ident" id="2043926">verb</span>&nbsp;<span class="op" id="2043931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043934">case</span>&nbsp;<span class="string" id="2043939">&#39;b&#39;</span><span class="op" id="2043942">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043946">p</span><span class="op" id="2043947">.</span><span class="ident" id="2043948">fmt</span><span class="op" id="2043951">.</span><span class="ident" id="2043952">fmt_fb64</span><span class="op" id="2043960">(</span><span class="ident" id="2043961">v</span><span class="op" id="2043962">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043965">case</span>&nbsp;<span class="string" id="2043970">&#39;e&#39;</span><span class="op" id="2043973">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2043977">p</span><span class="op" id="2043978">.</span><span class="ident" id="2043979">fmt</span><span class="op" id="2043982">.</span><span class="ident" id="2043983">fmt_e64</span><span class="op" id="2043990">(</span><span class="ident" id="2043991">v</span><span class="op" id="2043992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2043995">case</span>&nbsp;<span class="string" id="2044000">&#39;E&#39;</span><span class="op" id="2044003">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044007">p</span><span class="op" id="2044008">.</span><span class="ident" id="2044009">fmt</span><span class="op" id="2044012">.</span><span class="ident" id="2044013">fmt_E64</span><span class="op" id="2044020">(</span><span class="ident" id="2044021">v</span><span class="op" id="2044022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044025">case</span>&nbsp;<span class="string" id="2044030">&#39;f&#39;</span><span class="op" id="2044033">,</span>&nbsp;<span class="string" id="2044035">&#39;F&#39;</span><span class="op" id="2044038">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044042">p</span><span class="op" id="2044043">.</span><span class="ident" id="2044044">fmt</span><span class="op" id="2044047">.</span><span class="ident" id="2044048">fmt_f64</span><span class="op" id="2044055">(</span><span class="ident" id="2044056">v</span><span class="op" id="2044057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044060">case</span>&nbsp;<span class="string" id="2044065">&#39;g&#39;</span><span class="op" id="2044068">,</span>&nbsp;<span class="string" id="2044070">&#39;v&#39;</span><span class="op" id="2044073">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044077">p</span><span class="op" id="2044078">.</span><span class="ident" id="2044079">fmt</span><span class="op" id="2044082">.</span><span class="ident" id="2044083">fmt_g64</span><span class="op" id="2044090">(</span><span class="ident" id="2044091">v</span><span class="op" id="2044092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044095">case</span>&nbsp;<span class="string" id="2044100">&#39;G&#39;</span><span class="op" id="2044103">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044107">p</span><span class="op" id="2044108">.</span><span class="ident" id="2044109">fmt</span><span class="op" id="2044112">.</span><span class="ident" id="2044113">fmt_G64</span><span class="op" id="2044120">(</span><span class="ident" id="2044121">v</span><span class="op" id="2044122">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044125">default</span><span class="op" id="2044132">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044136">p</span><span class="op" id="2044137">.</span><span class="ident" id="2044138">badVerb</span><span class="op" id="2044145">(</span><span class="ident" id="2044146">verb</span><span class="op" id="2044150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2044153">}</span><br>
<span class="lineno"></span><span class="op" id="2044155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2044158">func</span>&nbsp;<span class="op" id="2044163">(</span><span class="ident" id="2044164">p</span>&nbsp;<span class="op" id="2044166">*</span><span class="ident" id="2044167">pp</span><span class="op" id="2044169">)</span>&nbsp;<span class="ident" id="2044171">fmtComplex64</span><span class="op" id="2044183">(</span><span class="ident" id="2044184">v</span>&nbsp;<span class="builtintype" id="2044186">complex64</span><span class="op" id="2044195">,</span>&nbsp;<span class="ident" id="2044197">verb</span>&nbsp;<span class="builtintype" id="2044202">rune</span><span class="op" id="2044206">)</span>&nbsp;<span class="op" id="2044208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044211">switch</span>&nbsp;<span class="ident" id="2044218">verb</span>&nbsp;<span class="op" id="2044223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044226">case</span>&nbsp;<span class="string" id="2044231">&#39;b&#39;</span><span class="op" id="2044234">,</span>&nbsp;<span class="string" id="2044236">&#39;e&#39;</span><span class="op" id="2044239">,</span>&nbsp;<span class="string" id="2044241">&#39;E&#39;</span><span class="op" id="2044244">,</span>&nbsp;<span class="string" id="2044246">&#39;f&#39;</span><span class="op" id="2044249">,</span>&nbsp;<span class="string" id="2044251">&#39;F&#39;</span><span class="op" id="2044254">,</span>&nbsp;<span class="string" id="2044256">&#39;g&#39;</span><span class="op" id="2044259">,</span>&nbsp;<span class="string" id="2044261">&#39;G&#39;</span><span class="op" id="2044264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044268">p</span><span class="op" id="2044269">.</span><span class="ident" id="2044270">fmt</span><span class="op" id="2044273">.</span><span class="ident" id="2044274">fmt_c64</span><span class="op" id="2044281">(</span><span class="ident" id="2044282">v</span><span class="op" id="2044283">,</span>&nbsp;<span class="ident" id="2044285">verb</span><span class="op" id="2044289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044292">case</span>&nbsp;<span class="string" id="2044297">&#39;v&#39;</span><span class="op" id="2044300">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044304">p</span><span class="op" id="2044305">.</span><span class="ident" id="2044306">fmt</span><span class="op" id="2044309">.</span><span class="ident" id="2044310">fmt_c64</span><span class="op" id="2044317">(</span><span class="ident" id="2044318">v</span><span class="op" id="2044319">,</span>&nbsp;<span class="string" id="2044321">&#39;g&#39;</span><span class="op" id="2044324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044327">default</span><span class="op" id="2044334">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044338">p</span><span class="op" id="2044339">.</span><span class="ident" id="2044340">badVerb</span><span class="op" id="2044347">(</span><span class="ident" id="2044348">verb</span><span class="op" id="2044352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2044355">}</span><br>
<span class="lineno"></span><span class="op" id="2044357">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2044360">func</span>&nbsp;<span class="op" id="2044365">(</span><span class="ident" id="2044366">p</span>&nbsp;<span class="op" id="2044368">*</span><span class="ident" id="2044369">pp</span><span class="op" id="2044371">)</span>&nbsp;<span class="ident" id="2044373">fmtComplex128</span><span class="op" id="2044386">(</span><span class="ident" id="2044387">v</span>&nbsp;<span class="builtintype" id="2044389">complex128</span><span class="op" id="2044399">,</span>&nbsp;<span class="ident" id="2044401">verb</span>&nbsp;<span class="builtintype" id="2044406">rune</span><span class="op" id="2044410">)</span>&nbsp;<span class="op" id="2044412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044415">switch</span>&nbsp;<span class="ident" id="2044422">verb</span>&nbsp;<span class="op" id="2044427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044430">case</span>&nbsp;<span class="string" id="2044435">&#39;b&#39;</span><span class="op" id="2044438">,</span>&nbsp;<span class="string" id="2044440">&#39;e&#39;</span><span class="op" id="2044443">,</span>&nbsp;<span class="string" id="2044445">&#39;E&#39;</span><span class="op" id="2044448">,</span>&nbsp;<span class="string" id="2044450">&#39;f&#39;</span><span class="op" id="2044453">,</span>&nbsp;<span class="string" id="2044455">&#39;F&#39;</span><span class="op" id="2044458">,</span>&nbsp;<span class="string" id="2044460">&#39;g&#39;</span><span class="op" id="2044463">,</span>&nbsp;<span class="string" id="2044465">&#39;G&#39;</span><span class="op" id="2044468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044472">p</span><span class="op" id="2044473">.</span><span class="ident" id="2044474">fmt</span><span class="op" id="2044477">.</span><span class="ident" id="2044478">fmt_c128</span><span class="op" id="2044486">(</span><span class="ident" id="2044487">v</span><span class="op" id="2044488">,</span>&nbsp;<span class="ident" id="2044490">verb</span><span class="op" id="2044494">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044497">case</span>&nbsp;<span class="string" id="2044502">&#39;v&#39;</span><span class="op" id="2044505">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044509">p</span><span class="op" id="2044510">.</span><span class="ident" id="2044511">fmt</span><span class="op" id="2044514">.</span><span class="ident" id="2044515">fmt_c128</span><span class="op" id="2044523">(</span><span class="ident" id="2044524">v</span><span class="op" id="2044525">,</span>&nbsp;<span class="string" id="2044527">&#39;g&#39;</span><span class="op" id="2044530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044533">default</span><span class="op" id="2044540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044544">p</span><span class="op" id="2044545">.</span><span class="ident" id="2044546">badVerb</span><span class="op" id="2044553">(</span><span class="ident" id="2044554">verb</span><span class="op" id="2044558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2044561">}</span><br>
<span class="lineno">500</span><span class="op" id="2044563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2044566">func</span>&nbsp;<span class="op" id="2044571">(</span><span class="ident" id="2044572">p</span>&nbsp;<span class="op" id="2044574">*</span><span class="ident" id="2044575">pp</span><span class="op" id="2044577">)</span>&nbsp;<span class="ident" id="2044579">fmtString</span><span class="op" id="2044588">(</span><span class="ident" id="2044589">v</span>&nbsp;<span class="builtintype" id="2044591">string</span><span class="op" id="2044597">,</span>&nbsp;<span class="ident" id="2044599">verb</span>&nbsp;<span class="builtintype" id="2044604">rune</span><span class="op" id="2044608">)</span>&nbsp;<span class="op" id="2044610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044613">switch</span>&nbsp;<span class="ident" id="2044620">verb</span>&nbsp;<span class="op" id="2044625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044628">case</span>&nbsp;<span class="string" id="2044633">&#39;v&#39;</span><span class="op" id="2044636">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044640">if</span>&nbsp;<span class="ident" id="2044643">p</span><span class="op" id="2044644">.</span><span class="ident" id="2044645">fmt</span><span class="op" id="2044648">.</span><span class="ident" id="2044649">sharpV</span>&nbsp;<span class="op" id="2044656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044661">p</span><span class="op" id="2044662">.</span><span class="ident" id="2044663">fmt</span><span class="op" id="2044666">.</span><span class="ident" id="2044667">fmt_q</span><span class="op" id="2044672">(</span><span class="ident" id="2044673">v</span><span class="op" id="2044674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2044678">}</span>&nbsp;<span class="keyword" id="2044680">else</span>&nbsp;<span class="op" id="2044685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044690">p</span><span class="op" id="2044691">.</span><span class="ident" id="2044692">fmt</span><span class="op" id="2044695">.</span><span class="ident" id="2044696">fmt_s</span><span class="op" id="2044701">(</span><span class="ident" id="2044702">v</span><span class="op" id="2044703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2044707">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044710">case</span>&nbsp;<span class="string" id="2044715">&#39;s&#39;</span><span class="op" id="2044718">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044722">p</span><span class="op" id="2044723">.</span><span class="ident" id="2044724">fmt</span><span class="op" id="2044727">.</span><span class="ident" id="2044728">fmt_s</span><span class="op" id="2044733">(</span><span class="ident" id="2044734">v</span><span class="op" id="2044735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044738">case</span>&nbsp;<span class="string" id="2044743">&#39;x&#39;</span><span class="op" id="2044746">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044750">p</span><span class="op" id="2044751">.</span><span class="ident" id="2044752">fmt</span><span class="op" id="2044755">.</span><span class="ident" id="2044756">fmt_sx</span><span class="op" id="2044762">(</span><span class="ident" id="2044763">v</span><span class="op" id="2044764">,</span>&nbsp;<span class="ident" id="2044766">ldigits</span><span class="op" id="2044773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044776">case</span>&nbsp;<span class="string" id="2044781">&#39;X&#39;</span><span class="op" id="2044784">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044788">p</span><span class="op" id="2044789">.</span><span class="ident" id="2044790">fmt</span><span class="op" id="2044793">.</span><span class="ident" id="2044794">fmt_sx</span><span class="op" id="2044800">(</span><span class="ident" id="2044801">v</span><span class="op" id="2044802">,</span>&nbsp;<span class="ident" id="2044804">udigits</span><span class="op" id="2044811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044814">case</span>&nbsp;<span class="string" id="2044819">&#39;q&#39;</span><span class="op" id="2044822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044826">p</span><span class="op" id="2044827">.</span><span class="ident" id="2044828">fmt</span><span class="op" id="2044831">.</span><span class="ident" id="2044832">fmt_q</span><span class="op" id="2044837">(</span><span class="ident" id="2044838">v</span><span class="op" id="2044839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044842">default</span><span class="op" id="2044849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2044853">p</span><span class="op" id="2044854">.</span><span class="ident" id="2044855">badVerb</span><span class="op" id="2044862">(</span><span class="ident" id="2044863">verb</span><span class="op" id="2044867">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2044870">}</span><br>
<span class="lineno"></span><span class="op" id="2044872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2044875">func</span>&nbsp;<span class="op" id="2044880">(</span><span class="ident" id="2044881">p</span>&nbsp;<span class="op" id="2044883">*</span><span class="ident" id="2044884">pp</span><span class="op" id="2044886">)</span>&nbsp;<span class="ident" id="2044888">fmtBytes</span><span class="op" id="2044896">(</span><span class="ident" id="2044897">v</span>&nbsp;<span class="op" id="2044899">[</span><span class="op" id="2044900">]</span><span class="builtintype" id="2044901">byte</span><span class="op" id="2044905">,</span>&nbsp;<span class="ident" id="2044907">verb</span>&nbsp;<span class="builtintype" id="2044912">rune</span><span class="op" id="2044916">,</span>&nbsp;<span class="ident" id="2044918">typ</span>&nbsp;<span class="ident" id="2044922">reflect</span><span class="op" id="2044929">.</span><span class="ident" id="2044930">Type</span><span class="op" id="2044934">,</span>&nbsp;<span class="ident" id="2044936">depth</span>&nbsp;<span class="builtintype" id="2044942">int</span><span class="op" id="2044945">)</span>&nbsp;<span class="op" id="2044947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044950">if</span>&nbsp;<span class="ident" id="2044953">verb</span>&nbsp;<span class="op" id="2044958">==</span>&nbsp;<span class="string" id="2044961">&#39;v&#39;</span>&nbsp;<span class="op" id="2044965">||</span>&nbsp;<span class="ident" id="2044968">verb</span>&nbsp;<span class="op" id="2044973">==</span>&nbsp;<span class="string" id="2044976">&#39;d&#39;</span>&nbsp;<span class="op" id="2044980">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2044984">if</span>&nbsp;<span class="ident" id="2044987">p</span><span class="op" id="2044988">.</span><span class="ident" id="2044989">fmt</span><span class="op" id="2044992">.</span><span class="ident" id="2044993">sharpV</span>&nbsp;<span class="op" id="2045000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045005">if</span>&nbsp;<span class="ident" id="2045008">v</span>&nbsp;<span class="op" id="2045010">==</span>&nbsp;<span class="builtintype" id="2045013">nil</span>&nbsp;<span class="op" id="2045017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045023">if</span>&nbsp;<span class="ident" id="2045026">typ</span>&nbsp;<span class="op" id="2045030">==</span>&nbsp;<span class="builtintype" id="2045033">nil</span>&nbsp;<span class="op" id="2045037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045044">p</span><span class="op" id="2045045">.</span><span class="ident" id="2045046">buf</span><span class="op" id="2045049">.</span><span class="ident" id="2045050">WriteString</span><span class="op" id="2045061">(</span><span class="string" id="2045062">&#34;[]byte(nil)&#34;</span><span class="op" id="2045075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045081">}</span>&nbsp;<span class="keyword" id="2045083">else</span>&nbsp;<span class="op" id="2045088">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045095">p</span><span class="op" id="2045096">.</span><span class="ident" id="2045097">buf</span><span class="op" id="2045100">.</span><span class="ident" id="2045101">WriteString</span><span class="op" id="2045112">(</span><span class="ident" id="2045113">typ</span><span class="op" id="2045116">.</span><span class="ident" id="2045117">String</span><span class="op" id="2045123">(</span><span class="op" id="2045124">)</span><span class="op" id="2045125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045132">p</span><span class="op" id="2045133">.</span><span class="ident" id="2045134">buf</span><span class="op" id="2045137">.</span><span class="ident" id="2045138">Write</span><span class="op" id="2045143">(</span><span class="ident" id="2045144">nilParenBytes</span><span class="op" id="2045157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045169">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045179">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045184">if</span>&nbsp;<span class="ident" id="2045187">typ</span>&nbsp;<span class="op" id="2045191">==</span>&nbsp;<span class="builtintype" id="2045194">nil</span>&nbsp;<span class="op" id="2045198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045204">p</span><span class="op" id="2045205">.</span><span class="ident" id="2045206">buf</span><span class="op" id="2045209">.</span><span class="ident" id="2045210">Write</span><span class="op" id="2045215">(</span><span class="ident" id="2045216">bytesBytes</span><span class="op" id="2045226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045231">}</span>&nbsp;<span class="keyword" id="2045233">else</span>&nbsp;<span class="op" id="2045238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045244">p</span><span class="op" id="2045245">.</span><span class="ident" id="2045246">buf</span><span class="op" id="2045249">.</span><span class="ident" id="2045250">WriteString</span><span class="op" id="2045261">(</span><span class="ident" id="2045262">typ</span><span class="op" id="2045265">.</span><span class="ident" id="2045266">String</span><span class="op" id="2045272">(</span><span class="op" id="2045273">)</span><span class="op" id="2045274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045280">p</span><span class="op" id="2045281">.</span><span class="ident" id="2045282">buf</span><span class="op" id="2045285">.</span><span class="ident" id="2045286">WriteByte</span><span class="op" id="2045295">(</span><span class="string" id="2045296">&#39;{&#39;</span><span class="op" id="2045299">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045308">}</span>&nbsp;<span class="keyword" id="2045310">else</span>&nbsp;<span class="op" id="2045315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045320">p</span><span class="op" id="2045321">.</span><span class="ident" id="2045322">buf</span><span class="op" id="2045325">.</span><span class="ident" id="2045326">WriteByte</span><span class="op" id="2045335">(</span><span class="string" id="2045336">&#39;[&#39;</span><span class="op" id="2045339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045347">for</span>&nbsp;<span class="ident" id="2045351">i</span><span class="op" id="2045352">,</span>&nbsp;<span class="ident" id="2045354">c</span>&nbsp;<span class="op" id="2045356">:=</span>&nbsp;<span class="keyword" id="2045359">range</span>&nbsp;<span class="ident" id="2045365">v</span>&nbsp;<span class="op" id="2045367">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045372">if</span>&nbsp;<span class="ident" id="2045375">i</span>&nbsp;<span class="op" id="2045377">&gt;</span>&nbsp;<span class="num" id="2045379">0</span>&nbsp;<span class="op" id="2045381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045387">if</span>&nbsp;<span class="ident" id="2045390">p</span><span class="op" id="2045391">.</span><span class="ident" id="2045392">fmt</span><span class="op" id="2045395">.</span><span class="ident" id="2045396">sharpV</span>&nbsp;<span class="op" id="2045403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045410">p</span><span class="op" id="2045411">.</span><span class="ident" id="2045412">buf</span><span class="op" id="2045415">.</span><span class="ident" id="2045416">Write</span><span class="op" id="2045421">(</span><span class="ident" id="2045422">commaSpaceBytes</span><span class="op" id="2045437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045443">}</span>&nbsp;<span class="keyword" id="2045445">else</span>&nbsp;<span class="op" id="2045450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045457">p</span><span class="op" id="2045458">.</span><span class="ident" id="2045459">buf</span><span class="op" id="2045462">.</span><span class="ident" id="2045463">WriteByte</span><span class="op" id="2045472">(</span><span class="string" id="2045473">&#39;&nbsp;&#39;</span><span class="op" id="2045476">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045492">p</span><span class="op" id="2045493">.</span><span class="ident" id="2045494">printArg</span><span class="op" id="2045502">(</span><span class="ident" id="2045503">c</span><span class="op" id="2045504">,</span>&nbsp;<span class="string" id="2045506">&#39;v&#39;</span><span class="op" id="2045509">,</span>&nbsp;<span class="ident" id="2045511">depth</span><span class="op" id="2045516">+</span><span class="num" id="2045517">1</span><span class="op" id="2045518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045526">if</span>&nbsp;<span class="ident" id="2045529">p</span><span class="op" id="2045530">.</span><span class="ident" id="2045531">fmt</span><span class="op" id="2045534">.</span><span class="ident" id="2045535">sharpV</span>&nbsp;<span class="op" id="2045542">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045547">p</span><span class="op" id="2045548">.</span><span class="ident" id="2045549">buf</span><span class="op" id="2045552">.</span><span class="ident" id="2045553">WriteByte</span><span class="op" id="2045562">(</span><span class="string" id="2045563">&#39;}&#39;</span><span class="op" id="2045566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045570">}</span>&nbsp;<span class="keyword" id="2045572">else</span>&nbsp;<span class="op" id="2045577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045582">p</span><span class="op" id="2045583">.</span><span class="ident" id="2045584">buf</span><span class="op" id="2045587">.</span><span class="ident" id="2045588">WriteByte</span><span class="op" id="2045597">(</span><span class="string" id="2045598">&#39;]&#39;</span><span class="op" id="2045601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045609">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045620">switch</span>&nbsp;<span class="ident" id="2045627">verb</span>&nbsp;<span class="op" id="2045632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045635">case</span>&nbsp;<span class="string" id="2045640">&#39;s&#39;</span><span class="op" id="2045643">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045647">p</span><span class="op" id="2045648">.</span><span class="ident" id="2045649">fmt</span><span class="op" id="2045652">.</span><span class="ident" id="2045653">fmt_s</span><span class="op" id="2045658">(</span><span class="builtintype" id="2045659">string</span><span class="op" id="2045665">(</span><span class="ident" id="2045666">v</span><span class="op" id="2045667">)</span><span class="op" id="2045668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045671">case</span>&nbsp;<span class="string" id="2045676">&#39;x&#39;</span><span class="op" id="2045679">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045683">p</span><span class="op" id="2045684">.</span><span class="ident" id="2045685">fmt</span><span class="op" id="2045688">.</span><span class="ident" id="2045689">fmt_bx</span><span class="op" id="2045695">(</span><span class="ident" id="2045696">v</span><span class="op" id="2045697">,</span>&nbsp;<span class="ident" id="2045699">ldigits</span><span class="op" id="2045706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045709">case</span>&nbsp;<span class="string" id="2045714">&#39;X&#39;</span><span class="op" id="2045717">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045721">p</span><span class="op" id="2045722">.</span><span class="ident" id="2045723">fmt</span><span class="op" id="2045726">.</span><span class="ident" id="2045727">fmt_bx</span><span class="op" id="2045733">(</span><span class="ident" id="2045734">v</span><span class="op" id="2045735">,</span>&nbsp;<span class="ident" id="2045737">udigits</span><span class="op" id="2045744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045747">case</span>&nbsp;<span class="string" id="2045752">&#39;q&#39;</span><span class="op" id="2045755">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045759">p</span><span class="op" id="2045760">.</span><span class="ident" id="2045761">fmt</span><span class="op" id="2045764">.</span><span class="ident" id="2045765">fmt_q</span><span class="op" id="2045770">(</span><span class="builtintype" id="2045771">string</span><span class="op" id="2045777">(</span><span class="ident" id="2045778">v</span><span class="op" id="2045779">)</span><span class="op" id="2045780">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045783">default</span><span class="op" id="2045790">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045794">p</span><span class="op" id="2045795">.</span><span class="ident" id="2045796">badVerb</span><span class="op" id="2045803">(</span><span class="ident" id="2045804">verb</span><span class="op" id="2045808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2045811">}</span><br>
<span class="lineno"></span><span class="op" id="2045813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2045816">func</span>&nbsp;<span class="op" id="2045821">(</span><span class="ident" id="2045822">p</span>&nbsp;<span class="op" id="2045824">*</span><span class="ident" id="2045825">pp</span><span class="op" id="2045827">)</span>&nbsp;<span class="ident" id="2045829">fmtPointer</span><span class="op" id="2045839">(</span><span class="ident" id="2045840">value</span>&nbsp;<span class="ident" id="2045846">reflect</span><span class="op" id="2045853">.</span><span class="ident" id="2045854">Value</span><span class="op" id="2045859">,</span>&nbsp;<span class="ident" id="2045861">verb</span>&nbsp;<span class="builtintype" id="2045866">rune</span><span class="op" id="2045870">)</span>&nbsp;<span class="op" id="2045872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045875">use0x64</span>&nbsp;<span class="op" id="2045883">:=</span>&nbsp;<span class="builtintype" id="2045886">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045892">switch</span>&nbsp;<span class="ident" id="2045899">verb</span>&nbsp;<span class="op" id="2045904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045907">case</span>&nbsp;<span class="string" id="2045912">&#39;p&#39;</span><span class="op" id="2045915">,</span>&nbsp;<span class="string" id="2045917">&#39;v&#39;</span><span class="op" id="2045920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2045924">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045931">case</span>&nbsp;<span class="string" id="2045936">&#39;b&#39;</span><span class="op" id="2045939">,</span>&nbsp;<span class="string" id="2045941">&#39;d&#39;</span><span class="op" id="2045944">,</span>&nbsp;<span class="string" id="2045946">&#39;o&#39;</span><span class="op" id="2045949">,</span>&nbsp;<span class="string" id="2045951">&#39;x&#39;</span><span class="op" id="2045954">,</span>&nbsp;<span class="string" id="2045956">&#39;X&#39;</span><span class="op" id="2045959">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045963">use0x64</span>&nbsp;<span class="op" id="2045971">=</span>&nbsp;<span class="builtintype" id="2045973">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2045981">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2045988">default</span><span class="op" id="2045995">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2045999">p</span><span class="op" id="2046000">.</span><span class="ident" id="2046001">badVerb</span><span class="op" id="2046008">(</span><span class="ident" id="2046009">verb</span><span class="op" id="2046013">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046017">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046029">var</span>&nbsp;<span class="ident" id="2046033">u</span>&nbsp;<span class="builtintype" id="2046035">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046044">switch</span>&nbsp;<span class="ident" id="2046051">value</span><span class="op" id="2046056">.</span><span class="ident" id="2046057">Kind</span><span class="op" id="2046061">(</span><span class="op" id="2046062">)</span>&nbsp;<span class="op" id="2046064">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046067">case</span>&nbsp;<span class="ident" id="2046072">reflect</span><span class="op" id="2046079">.</span><span class="ident" id="2046080">Chan</span><span class="op" id="2046084">,</span>&nbsp;<span class="ident" id="2046086">reflect</span><span class="op" id="2046093">.</span><span class="ident" id="2046094">Func</span><span class="op" id="2046098">,</span>&nbsp;<span class="ident" id="2046100">reflect</span><span class="op" id="2046107">.</span><span class="ident" id="2046108">Map</span><span class="op" id="2046111">,</span>&nbsp;<span class="ident" id="2046113">reflect</span><span class="op" id="2046120">.</span><span class="ident" id="2046121">Ptr</span><span class="op" id="2046124">,</span>&nbsp;<span class="ident" id="2046126">reflect</span><span class="op" id="2046133">.</span><span class="ident" id="2046134">Slice</span><span class="op" id="2046139">,</span>&nbsp;<span class="ident" id="2046141">reflect</span><span class="op" id="2046148">.</span><span class="ident" id="2046149">UnsafePointer</span><span class="op" id="2046162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046166">u</span>&nbsp;<span class="op" id="2046168">=</span>&nbsp;<span class="ident" id="2046170">value</span><span class="op" id="2046175">.</span><span class="ident" id="2046176">Pointer</span><span class="op" id="2046183">(</span><span class="op" id="2046184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046187">default</span><span class="op" id="2046194">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046198">p</span><span class="op" id="2046199">.</span><span class="ident" id="2046200">badVerb</span><span class="op" id="2046207">(</span><span class="ident" id="2046208">verb</span><span class="op" id="2046212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046216">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046228">if</span>&nbsp;<span class="ident" id="2046231">p</span><span class="op" id="2046232">.</span><span class="ident" id="2046233">fmt</span><span class="op" id="2046236">.</span><span class="ident" id="2046237">sharpV</span>&nbsp;<span class="op" id="2046244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046248">p</span><span class="op" id="2046249">.</span><span class="ident" id="2046250">add</span><span class="op" id="2046253">(</span><span class="string" id="2046254">&#39;(&#39;</span><span class="op" id="2046257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046261">p</span><span class="op" id="2046262">.</span><span class="ident" id="2046263">buf</span><span class="op" id="2046266">.</span><span class="ident" id="2046267">WriteString</span><span class="op" id="2046278">(</span><span class="ident" id="2046279">value</span><span class="op" id="2046284">.</span><span class="ident" id="2046285">Type</span><span class="op" id="2046289">(</span><span class="op" id="2046290">)</span><span class="op" id="2046291">.</span><span class="ident" id="2046292">String</span><span class="op" id="2046298">(</span><span class="op" id="2046299">)</span><span class="op" id="2046300">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046304">p</span><span class="op" id="2046305">.</span><span class="ident" id="2046306">add</span><span class="op" id="2046309">(</span><span class="string" id="2046310">&#39;)&#39;</span><span class="op" id="2046313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046317">p</span><span class="op" id="2046318">.</span><span class="ident" id="2046319">add</span><span class="op" id="2046322">(</span><span class="string" id="2046323">&#39;(&#39;</span><span class="op" id="2046326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046330">if</span>&nbsp;<span class="ident" id="2046333">u</span>&nbsp;<span class="op" id="2046335">==</span>&nbsp;<span class="num" id="2046338">0</span>&nbsp;<span class="op" id="2046340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046345">p</span><span class="op" id="2046346">.</span><span class="ident" id="2046347">buf</span><span class="op" id="2046350">.</span><span class="ident" id="2046351">Write</span><span class="op" id="2046356">(</span><span class="ident" id="2046357">nilBytes</span><span class="op" id="2046365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046369">}</span>&nbsp;<span class="keyword" id="2046371">else</span>&nbsp;<span class="op" id="2046376">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046381">p</span><span class="op" id="2046382">.</span><span class="ident" id="2046383">fmt0x64</span><span class="op" id="2046390">(</span><span class="ident" id="2046391">uint64</span><span class="op" id="2046397">(</span><span class="ident" id="2046398">u</span><span class="op" id="2046399">)</span><span class="op" id="2046400">,</span>&nbsp;<span class="builtintype" id="2046402">true</span><span class="op" id="2046406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046414">p</span><span class="op" id="2046415">.</span><span class="ident" id="2046416">add</span><span class="op" id="2046419">(</span><span class="string" id="2046420">&#39;)&#39;</span><span class="op" id="2046423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046426">}</span>&nbsp;<span class="keyword" id="2046428">else</span>&nbsp;<span class="keyword" id="2046433">if</span>&nbsp;<span class="ident" id="2046436">verb</span>&nbsp;<span class="op" id="2046441">==</span>&nbsp;<span class="string" id="2046444">&#39;v&#39;</span>&nbsp;<span class="op" id="2046448">&amp;&amp;</span>&nbsp;<span class="ident" id="2046451">u</span>&nbsp;<span class="op" id="2046453">==</span>&nbsp;<span class="num" id="2046456">0</span>&nbsp;<span class="op" id="2046458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046462">p</span><span class="op" id="2046463">.</span><span class="ident" id="2046464">buf</span><span class="op" id="2046467">.</span><span class="ident" id="2046468">Write</span><span class="op" id="2046473">(</span><span class="ident" id="2046474">nilAngleBytes</span><span class="op" id="2046487">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046490">}</span>&nbsp;<span class="keyword" id="2046492">else</span>&nbsp;<span class="op" id="2046497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046501">if</span>&nbsp;<span class="ident" id="2046504">use0x64</span>&nbsp;<span class="op" id="2046512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046517">p</span><span class="op" id="2046518">.</span><span class="ident" id="2046519">fmt0x64</span><span class="op" id="2046526">(</span><span class="ident" id="2046527">uint64</span><span class="op" id="2046533">(</span><span class="ident" id="2046534">u</span><span class="op" id="2046535">)</span><span class="op" id="2046536">,</span>&nbsp;<span class="op" id="2046538">!</span><span class="ident" id="2046539">p</span><span class="op" id="2046540">.</span><span class="ident" id="2046541">fmt</span><span class="op" id="2046544">.</span><span class="ident" id="2046545">sharp</span><span class="op" id="2046550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046554">}</span>&nbsp;<span class="keyword" id="2046556">else</span>&nbsp;<span class="op" id="2046561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046566">p</span><span class="op" id="2046567">.</span><span class="ident" id="2046568">fmtUint64</span><span class="op" id="2046577">(</span><span class="ident" id="2046578">uint64</span><span class="op" id="2046584">(</span><span class="ident" id="2046585">u</span><span class="op" id="2046586">)</span><span class="op" id="2046587">,</span>&nbsp;<span class="ident" id="2046589">verb</span><span class="op" id="2046593">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046600">}</span><br>
<span class="lineno"></span><span class="op" id="2046602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2046605">var</span>&nbsp;<span class="op" id="2046609">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046612">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2046624">=</span>&nbsp;<span class="ident" id="2046626">reflect</span><span class="op" id="2046633">.</span><span class="ident" id="2046634">TypeOf</span><span class="op" id="2046640">(</span><span class="num" id="2046641">0</span><span class="op" id="2046642">)</span><span class="op" id="2046643">.</span><span class="ident" id="2046644">Bits</span><span class="op" id="2046648">(</span><span class="op" id="2046649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2046652">uintptrBits</span>&nbsp;<span class="op" id="2046664">=</span>&nbsp;<span class="ident" id="2046666">reflect</span><span class="op" id="2046673">.</span><span class="ident" id="2046674">TypeOf</span><span class="op" id="2046680">(</span><span class="builtintype" id="2046681">uintptr</span><span class="op" id="2046688">(</span><span class="num" id="2046689">0</span><span class="op" id="2046690">)</span><span class="op" id="2046691">)</span><span class="op" id="2046692">.</span><span class="ident" id="2046693">Bits</span><span class="op" id="2046697">(</span><span class="op" id="2046698">)</span><br>
<span class="lineno"></span><span class="op" id="2046700">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2046703">func</span>&nbsp;<span class="op" id="2046708">(</span><span class="ident" id="2046709">p</span>&nbsp;<span class="op" id="2046711">*</span><span class="ident" id="2046712">pp</span><span class="op" id="2046714">)</span>&nbsp;<span class="ident" id="2046716">catchPanic</span><span class="op" id="2046726">(</span><span class="ident" id="2046727">arg</span>&nbsp;<span class="keyword" id="2046731">interface</span><span class="op" id="2046740">{</span><span class="op" id="2046741">}</span><span class="op" id="2046742">,</span>&nbsp;<span class="ident" id="2046744">verb</span>&nbsp;<span class="builtintype" id="2046749">rune</span><span class="op" id="2046753">)</span>&nbsp;<span class="op" id="2046755">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2046758">if</span>&nbsp;<span class="ident" id="2046761">err</span>&nbsp;<span class="op" id="2046765">:=</span>&nbsp;<span class="builtinfunc" id="2046768">recover</span><span class="op" id="2046775">(</span><span class="op" id="2046776">)</span><span class="op" id="2046777">;</span>&nbsp;<span class="ident" id="2046779">err</span>&nbsp;<span class="op" id="2046783">!=</span>&nbsp;<span class="builtintype" id="2046786">nil</span>&nbsp;<span class="op" id="2046790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2046794">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2046867">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2046936">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2047003">if</span>&nbsp;<span class="ident" id="2047006">v</span>&nbsp;<span class="op" id="2047008">:=</span>&nbsp;<span class="ident" id="2047011">reflect</span><span class="op" id="2047018">.</span><span class="ident" id="2047019">ValueOf</span><span class="op" id="2047026">(</span><span class="ident" id="2047027">arg</span><span class="op" id="2047030">)</span><span class="op" id="2047031">;</span>&nbsp;<span class="ident" id="2047033">v</span><span class="op" id="2047034">.</span><span class="ident" id="2047035">Kind</span><span class="op" id="2047039">(</span><span class="op" id="2047040">)</span>&nbsp;<span class="op" id="2047042">==</span>&nbsp;<span class="ident" id="2047045">reflect</span><span class="op" id="2047052">.</span><span class="ident" id="2047053">Ptr</span>&nbsp;<span class="op" id="2047057">&amp;&amp;</span>&nbsp;<span class="ident" id="2047060">v</span><span class="op" id="2047061">.</span><span class="ident" id="2047062">IsNil</span><span class="op" id="2047067">(</span><span class="op" id="2047068">)</span>&nbsp;<span class="op" id="2047070">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047075">p</span><span class="op" id="2047076">.</span><span class="ident" id="2047077">buf</span><span class="op" id="2047080">.</span><span class="ident" id="2047081">Write</span><span class="op" id="2047086">(</span><span class="ident" id="2047087">nilAngleBytes</span><span class="op" id="2047100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2047105">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2047114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2047118">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2047191">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2047228">if</span>&nbsp;<span class="ident" id="2047231">p</span><span class="op" id="2047232">.</span><span class="ident" id="2047233">panicking</span>&nbsp;<span class="op" id="2047243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2047248">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2047311">panic</span><span class="op" id="2047316">(</span><span class="ident" id="2047317">err</span><span class="op" id="2047320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2047324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047328">p</span><span class="op" id="2047329">.</span><span class="ident" id="2047330">fmt</span><span class="op" id="2047333">.</span><span class="ident" id="2047334">clearflags</span><span class="op" id="2047344">(</span><span class="op" id="2047345">)</span>&nbsp;<span class="comment" id="2047347">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047411">p</span><span class="op" id="2047412">.</span><span class="ident" id="2047413">buf</span><span class="op" id="2047416">.</span><span class="ident" id="2047417">Write</span><span class="op" id="2047422">(</span><span class="ident" id="2047423">percentBangBytes</span><span class="op" id="2047439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047443">p</span><span class="op" id="2047444">.</span><span class="ident" id="2047445">add</span><span class="op" id="2047448">(</span><span class="ident" id="2047449">verb</span><span class="op" id="2047453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047457">p</span><span class="op" id="2047458">.</span><span class="ident" id="2047459">buf</span><span class="op" id="2047462">.</span><span class="ident" id="2047463">Write</span><span class="op" id="2047468">(</span><span class="ident" id="2047469">panicBytes</span><span class="op" id="2047479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047483">p</span><span class="op" id="2047484">.</span><span class="ident" id="2047485">panicking</span>&nbsp;<span class="op" id="2047495">=</span>&nbsp;<span class="builtintype" id="2047497">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047504">p</span><span class="op" id="2047505">.</span><span class="ident" id="2047506">printArg</span><span class="op" id="2047514">(</span><span class="ident" id="2047515">err</span><span class="op" id="2047518">,</span>&nbsp;<span class="string" id="2047520">&#39;v&#39;</span><span class="op" id="2047523">,</span>&nbsp;<span class="num" id="2047525">0</span><span class="op" id="2047526">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047530">p</span><span class="op" id="2047531">.</span><span class="ident" id="2047532">panicking</span>&nbsp;<span class="op" id="2047542">=</span>&nbsp;<span class="builtintype" id="2047544">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047552">p</span><span class="op" id="2047553">.</span><span class="ident" id="2047554">buf</span><span class="op" id="2047557">.</span><span class="ident" id="2047558">WriteByte</span><span class="op" id="2047567">(</span><span class="string" id="2047568">&#39;)&#39;</span><span class="op" id="2047571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2047574">}</span><br>
<span class="lineno"></span><span class="op" id="2047576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2047579">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2047668">func</span>&nbsp;<span class="op" id="2047673">(</span><span class="ident" id="2047674">p</span>&nbsp;<span class="op" id="2047676">*</span><span class="ident" id="2047677">pp</span><span class="op" id="2047679">)</span>&nbsp;<span class="ident" id="2047681">clearSpecialFlags</span><span class="op" id="2047698">(</span><span class="op" id="2047699">)</span>&nbsp;<span class="op" id="2047701">(</span><span class="ident" id="2047702">plusV</span><span class="op" id="2047707">,</span>&nbsp;<span class="ident" id="2047709">sharpV</span>&nbsp;<span class="builtintype" id="2047716">bool</span><span class="op" id="2047720">)</span>&nbsp;<span class="op" id="2047722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047725">plusV</span>&nbsp;<span class="op" id="2047731">=</span>&nbsp;<span class="ident" id="2047733">p</span><span class="op" id="2047734">.</span><span class="ident" id="2047735">fmt</span><span class="op" id="2047738">.</span><span class="ident" id="2047739">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2047746">if</span>&nbsp;<span class="ident" id="2047749">plusV</span>&nbsp;<span class="op" id="2047755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047759">p</span><span class="op" id="2047760">.</span><span class="ident" id="2047761">fmt</span><span class="op" id="2047764">.</span><span class="ident" id="2047765">plus</span>&nbsp;<span class="op" id="2047770">=</span>&nbsp;<span class="builtintype" id="2047772">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047779">p</span><span class="op" id="2047780">.</span><span class="ident" id="2047781">fmt</span><span class="op" id="2047784">.</span><span class="ident" id="2047785">plusV</span>&nbsp;<span class="op" id="2047791">=</span>&nbsp;<span class="builtintype" id="2047793">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2047800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047803">sharpV</span>&nbsp;<span class="op" id="2047810">=</span>&nbsp;<span class="ident" id="2047812">p</span><span class="op" id="2047813">.</span><span class="ident" id="2047814">fmt</span><span class="op" id="2047817">.</span><span class="ident" id="2047818">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2047826">if</span>&nbsp;<span class="ident" id="2047829">sharpV</span>&nbsp;<span class="op" id="2047836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047840">p</span><span class="op" id="2047841">.</span><span class="ident" id="2047842">fmt</span><span class="op" id="2047845">.</span><span class="ident" id="2047846">sharp</span>&nbsp;<span class="op" id="2047852">=</span>&nbsp;<span class="builtintype" id="2047854">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2047861">p</span><span class="op" id="2047862">.</span><span class="ident" id="2047863">fmt</span><span class="op" id="2047866">.</span><span class="ident" id="2047867">sharpV</span>&nbsp;<span class="op" id="2047874">=</span>&nbsp;<span class="builtintype" id="2047876">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2047883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2047886">return</span><br>
<span class="lineno"></span><span class="op" id="2047893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2047896">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2047974">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2048029">func</span>&nbsp;<span class="op" id="2048034">(</span><span class="ident" id="2048035">p</span>&nbsp;<span class="op" id="2048037">*</span><span class="ident" id="2048038">pp</span><span class="op" id="2048040">)</span>&nbsp;<span class="ident" id="2048042">restoreSpecialFlags</span><span class="op" id="2048061">(</span><span class="ident" id="2048062">plusV</span><span class="op" id="2048067">,</span>&nbsp;<span class="ident" id="2048069">sharpV</span>&nbsp;<span class="builtintype" id="2048076">bool</span><span class="op" id="2048080">)</span>&nbsp;<span class="op" id="2048082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048085">if</span>&nbsp;<span class="ident" id="2048088">plusV</span>&nbsp;<span class="op" id="2048094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048098">p</span><span class="op" id="2048099">.</span><span class="ident" id="2048100">fmt</span><span class="op" id="2048103">.</span><span class="ident" id="2048104">plus</span>&nbsp;<span class="op" id="2048109">=</span>&nbsp;<span class="builtintype" id="2048111">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048119">p</span><span class="op" id="2048120">.</span><span class="ident" id="2048121">fmt</span><span class="op" id="2048124">.</span><span class="ident" id="2048125">plusV</span>&nbsp;<span class="op" id="2048131">=</span>&nbsp;<span class="builtintype" id="2048133">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2048139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048142">if</span>&nbsp;<span class="ident" id="2048145">sharpV</span>&nbsp;<span class="op" id="2048152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048156">p</span><span class="op" id="2048157">.</span><span class="ident" id="2048158">fmt</span><span class="op" id="2048161">.</span><span class="ident" id="2048162">sharp</span>&nbsp;<span class="op" id="2048168">=</span>&nbsp;<span class="builtintype" id="2048170">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048178">p</span><span class="op" id="2048179">.</span><span class="ident" id="2048180">fmt</span><span class="op" id="2048183">.</span><span class="ident" id="2048184">sharpV</span>&nbsp;<span class="op" id="2048191">=</span>&nbsp;<span class="builtintype" id="2048193">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2048199">}</span><br>
<span class="lineno"></span><span class="op" id="2048201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2048204">func</span>&nbsp;<span class="op" id="2048209">(</span><span class="ident" id="2048210">p</span>&nbsp;<span class="op" id="2048212">*</span><span class="ident" id="2048213">pp</span><span class="op" id="2048215">)</span>&nbsp;<span class="ident" id="2048217">handleMethods</span><span class="op" id="2048230">(</span><span class="ident" id="2048231">verb</span>&nbsp;<span class="builtintype" id="2048236">rune</span><span class="op" id="2048240">,</span>&nbsp;<span class="ident" id="2048242">depth</span>&nbsp;<span class="builtintype" id="2048248">int</span><span class="op" id="2048251">)</span>&nbsp;<span class="op" id="2048253">(</span><span class="ident" id="2048254">handled</span>&nbsp;<span class="builtintype" id="2048262">bool</span><span class="op" id="2048266">)</span>&nbsp;<span class="op" id="2048268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048271">if</span>&nbsp;<span class="ident" id="2048274">p</span><span class="op" id="2048275">.</span><span class="ident" id="2048276">erroring</span>&nbsp;<span class="op" id="2048285">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048289">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2048297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2048300">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048323">if</span>&nbsp;<span class="ident" id="2048326">formatter</span><span class="op" id="2048335">,</span>&nbsp;<span class="ident" id="2048337">ok</span>&nbsp;<span class="op" id="2048340">:=</span>&nbsp;<span class="ident" id="2048343">p</span><span class="op" id="2048344">.</span><span class="ident" id="2048345">arg</span><span class="op" id="2048348">.</span><span class="op" id="2048349">(</span><span class="ident" id="2048350">Formatter</span><span class="op" id="2048359">)</span><span class="op" id="2048360">;</span>&nbsp;<span class="ident" id="2048362">ok</span>&nbsp;<span class="op" id="2048365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048369">handled</span>&nbsp;<span class="op" id="2048377">=</span>&nbsp;<span class="builtintype" id="2048379">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048386">defer</span>&nbsp;<span class="ident" id="2048392">p</span><span class="op" id="2048393">.</span><span class="ident" id="2048394">restoreSpecialFlags</span><span class="op" id="2048413">(</span><span class="ident" id="2048414">p</span><span class="op" id="2048415">.</span><span class="ident" id="2048416">clearSpecialFlags</span><span class="op" id="2048433">(</span><span class="op" id="2048434">)</span><span class="op" id="2048435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048439">defer</span>&nbsp;<span class="ident" id="2048445">p</span><span class="op" id="2048446">.</span><span class="ident" id="2048447">catchPanic</span><span class="op" id="2048457">(</span><span class="ident" id="2048458">p</span><span class="op" id="2048459">.</span><span class="ident" id="2048460">arg</span><span class="op" id="2048463">,</span>&nbsp;<span class="ident" id="2048465">verb</span><span class="op" id="2048469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048473">formatter</span><span class="op" id="2048482">.</span><span class="ident" id="2048483">Format</span><span class="op" id="2048489">(</span><span class="ident" id="2048490">p</span><span class="op" id="2048491">,</span>&nbsp;<span class="ident" id="2048493">verb</span><span class="op" id="2048497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048501">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2048509">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2048513">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048604">if</span>&nbsp;<span class="ident" id="2048607">p</span><span class="op" id="2048608">.</span><span class="ident" id="2048609">fmt</span><span class="op" id="2048612">.</span><span class="ident" id="2048613">sharpV</span>&nbsp;<span class="op" id="2048620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048624">if</span>&nbsp;<span class="ident" id="2048627">stringer</span><span class="op" id="2048635">,</span>&nbsp;<span class="ident" id="2048637">ok</span>&nbsp;<span class="op" id="2048640">:=</span>&nbsp;<span class="ident" id="2048643">p</span><span class="op" id="2048644">.</span><span class="ident" id="2048645">arg</span><span class="op" id="2048648">.</span><span class="op" id="2048649">(</span><span class="ident" id="2048650">GoStringer</span><span class="op" id="2048660">)</span><span class="op" id="2048661">;</span>&nbsp;<span class="ident" id="2048663">ok</span>&nbsp;<span class="op" id="2048666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048671">handled</span>&nbsp;<span class="op" id="2048679">=</span>&nbsp;<span class="builtintype" id="2048681">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048689">defer</span>&nbsp;<span class="ident" id="2048695">p</span><span class="op" id="2048696">.</span><span class="ident" id="2048697">catchPanic</span><span class="op" id="2048707">(</span><span class="ident" id="2048708">p</span><span class="op" id="2048709">.</span><span class="ident" id="2048710">arg</span><span class="op" id="2048713">,</span>&nbsp;<span class="ident" id="2048715">verb</span><span class="op" id="2048719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2048724">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2048770">p</span><span class="op" id="2048771">.</span><span class="ident" id="2048772">fmt</span><span class="op" id="2048775">.</span><span class="ident" id="2048776">fmt_s</span><span class="op" id="2048781">(</span><span class="ident" id="2048782">stringer</span><span class="op" id="2048790">.</span><span class="ident" id="2048791">GoString</span><span class="op" id="2048799">(</span><span class="op" id="2048800">)</span><span class="op" id="2048801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2048806">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2048815">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2048818">}</span>&nbsp;<span class="keyword" id="2048820">else</span>&nbsp;<span class="op" id="2048825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2048829">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2048892">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2048954">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049011">switch</span>&nbsp;<span class="ident" id="2049018">verb</span>&nbsp;<span class="op" id="2049023">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049027">case</span>&nbsp;<span class="string" id="2049032">&#39;v&#39;</span><span class="op" id="2049035">,</span>&nbsp;<span class="string" id="2049037">&#39;s&#39;</span><span class="op" id="2049040">,</span>&nbsp;<span class="string" id="2049042">&#39;x&#39;</span><span class="op" id="2049045">,</span>&nbsp;<span class="string" id="2049047">&#39;X&#39;</span><span class="op" id="2049050">,</span>&nbsp;<span class="string" id="2049052">&#39;q&#39;</span><span class="op" id="2049055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2049060">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2049094">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2049144">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2049191">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049236">switch</span>&nbsp;<span class="ident" id="2049243">v</span>&nbsp;<span class="op" id="2049245">:=</span>&nbsp;<span class="ident" id="2049248">p</span><span class="op" id="2049249">.</span><span class="ident" id="2049250">arg</span><span class="op" id="2049253">.</span><span class="op" id="2049254">(</span><span class="keyword" id="2049255">type</span><span class="op" id="2049259">)</span>&nbsp;<span class="op" id="2049261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049266">case</span>&nbsp;<span class="builtintype" id="2049271">error</span><span class="op" id="2049276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049282">handled</span>&nbsp;<span class="op" id="2049290">=</span>&nbsp;<span class="builtintype" id="2049292">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049301">defer</span>&nbsp;<span class="ident" id="2049307">p</span><span class="op" id="2049308">.</span><span class="ident" id="2049309">catchPanic</span><span class="op" id="2049319">(</span><span class="ident" id="2049320">p</span><span class="op" id="2049321">.</span><span class="ident" id="2049322">arg</span><span class="op" id="2049325">,</span>&nbsp;<span class="ident" id="2049327">verb</span><span class="op" id="2049331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049337">p</span><span class="op" id="2049338">.</span><span class="ident" id="2049339">printArg</span><span class="op" id="2049347">(</span><span class="ident" id="2049348">v</span><span class="op" id="2049349">.</span><span class="ident" id="2049350">Error</span><span class="op" id="2049355">(</span><span class="op" id="2049356">)</span><span class="op" id="2049357">,</span>&nbsp;<span class="ident" id="2049359">verb</span><span class="op" id="2049363">,</span>&nbsp;<span class="ident" id="2049365">depth</span><span class="op" id="2049370">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049376">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049387">case</span>&nbsp;<span class="ident" id="2049392">Stringer</span><span class="op" id="2049400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049406">handled</span>&nbsp;<span class="op" id="2049414">=</span>&nbsp;<span class="builtintype" id="2049416">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049425">defer</span>&nbsp;<span class="ident" id="2049431">p</span><span class="op" id="2049432">.</span><span class="ident" id="2049433">catchPanic</span><span class="op" id="2049443">(</span><span class="ident" id="2049444">p</span><span class="op" id="2049445">.</span><span class="ident" id="2049446">arg</span><span class="op" id="2049449">,</span>&nbsp;<span class="ident" id="2049451">verb</span><span class="op" id="2049455">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049461">p</span><span class="op" id="2049462">.</span><span class="ident" id="2049463">printArg</span><span class="op" id="2049471">(</span><span class="ident" id="2049472">v</span><span class="op" id="2049473">.</span><span class="ident" id="2049474">String</span><span class="op" id="2049480">(</span><span class="op" id="2049481">)</span><span class="op" id="2049482">,</span>&nbsp;<span class="ident" id="2049484">verb</span><span class="op" id="2049488">,</span>&nbsp;<span class="ident" id="2049490">depth</span><span class="op" id="2049495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049501">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2049511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2049515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2049518">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049521">return</span>&nbsp;<span class="builtintype" id="2049528">false</span><br>
<span class="lineno"></span><span class="op" id="2049534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2049537">func</span>&nbsp;<span class="op" id="2049542">(</span><span class="ident" id="2049543">p</span>&nbsp;<span class="op" id="2049545">*</span><span class="ident" id="2049546">pp</span><span class="op" id="2049548">)</span>&nbsp;<span class="ident" id="2049550">printArg</span><span class="op" id="2049558">(</span><span class="ident" id="2049559">arg</span>&nbsp;<span class="keyword" id="2049563">interface</span><span class="op" id="2049572">{</span><span class="op" id="2049573">}</span><span class="op" id="2049574">,</span>&nbsp;<span class="ident" id="2049576">verb</span>&nbsp;<span class="builtintype" id="2049581">rune</span><span class="op" id="2049585">,</span>&nbsp;<span class="ident" id="2049587">depth</span>&nbsp;<span class="builtintype" id="2049593">int</span><span class="op" id="2049596">)</span>&nbsp;<span class="op" id="2049598">(</span><span class="ident" id="2049599">wasString</span>&nbsp;<span class="builtintype" id="2049609">bool</span><span class="op" id="2049613">)</span>&nbsp;<span class="op" id="2049615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049618">p</span><span class="op" id="2049619">.</span><span class="ident" id="2049620">arg</span>&nbsp;<span class="op" id="2049624">=</span>&nbsp;<span class="ident" id="2049626">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049631">p</span><span class="op" id="2049632">.</span><span class="ident" id="2049633">value</span>&nbsp;<span class="op" id="2049639">=</span>&nbsp;<span class="ident" id="2049641">reflect</span><span class="op" id="2049648">.</span><span class="ident" id="2049649">Value</span><span class="op" id="2049654">{</span><span class="op" id="2049655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049659">if</span>&nbsp;<span class="ident" id="2049662">arg</span>&nbsp;<span class="op" id="2049666">==</span>&nbsp;<span class="builtintype" id="2049669">nil</span>&nbsp;<span class="op" id="2049673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049677">if</span>&nbsp;<span class="ident" id="2049680">verb</span>&nbsp;<span class="op" id="2049685">==</span>&nbsp;<span class="string" id="2049688">&#39;T&#39;</span>&nbsp;<span class="op" id="2049692">||</span>&nbsp;<span class="ident" id="2049695">verb</span>&nbsp;<span class="op" id="2049700">==</span>&nbsp;<span class="string" id="2049703">&#39;v&#39;</span>&nbsp;<span class="op" id="2049707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049712">p</span><span class="op" id="2049713">.</span><span class="ident" id="2049714">fmt</span><span class="op" id="2049717">.</span><span class="ident" id="2049718">pad</span><span class="op" id="2049721">(</span><span class="ident" id="2049722">nilAngleBytes</span><span class="op" id="2049735">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2049739">}</span>&nbsp;<span class="keyword" id="2049741">else</span>&nbsp;<span class="op" id="2049746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049751">p</span><span class="op" id="2049752">.</span><span class="ident" id="2049753">badVerb</span><span class="op" id="2049760">(</span><span class="ident" id="2049761">verb</span><span class="op" id="2049765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2049769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049773">return</span>&nbsp;<span class="builtintype" id="2049780">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2049787">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2049791">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2049830">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049915">switch</span>&nbsp;<span class="ident" id="2049922">verb</span>&nbsp;<span class="op" id="2049927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049930">case</span>&nbsp;<span class="string" id="2049935">&#39;T&#39;</span><span class="op" id="2049938">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2049942">p</span><span class="op" id="2049943">.</span><span class="ident" id="2049944">printArg</span><span class="op" id="2049952">(</span><span class="ident" id="2049953">reflect</span><span class="op" id="2049960">.</span><span class="ident" id="2049961">TypeOf</span><span class="op" id="2049967">(</span><span class="ident" id="2049968">arg</span><span class="op" id="2049971">)</span><span class="op" id="2049972">.</span><span class="ident" id="2049973">String</span><span class="op" id="2049979">(</span><span class="op" id="2049980">)</span><span class="op" id="2049981">,</span>&nbsp;<span class="string" id="2049983">&#39;s&#39;</span><span class="op" id="2049986">,</span>&nbsp;<span class="num" id="2049988">0</span><span class="op" id="2049989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2049993">return</span>&nbsp;<span class="builtintype" id="2050000">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050007">case</span>&nbsp;<span class="string" id="2050012">&#39;p&#39;</span><span class="op" id="2050015">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050019">p</span><span class="op" id="2050020">.</span><span class="ident" id="2050021">fmtPointer</span><span class="op" id="2050031">(</span><span class="ident" id="2050032">reflect</span><span class="op" id="2050039">.</span><span class="ident" id="2050040">ValueOf</span><span class="op" id="2050047">(</span><span class="ident" id="2050048">arg</span><span class="op" id="2050051">)</span><span class="op" id="2050052">,</span>&nbsp;<span class="ident" id="2050054">verb</span><span class="op" id="2050058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050062">return</span>&nbsp;<span class="builtintype" id="2050069">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2050076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2050080">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050127">switch</span>&nbsp;<span class="ident" id="2050134">f</span>&nbsp;<span class="op" id="2050136">:=</span>&nbsp;<span class="ident" id="2050139">arg</span><span class="op" id="2050142">.</span><span class="op" id="2050143">(</span><span class="keyword" id="2050144">type</span><span class="op" id="2050148">)</span>&nbsp;<span class="op" id="2050150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050153">case</span>&nbsp;<span class="builtintype" id="2050158">bool</span><span class="op" id="2050162">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050166">p</span><span class="op" id="2050167">.</span><span class="ident" id="2050168">fmtBool</span><span class="op" id="2050175">(</span><span class="ident" id="2050176">f</span><span class="op" id="2050177">,</span>&nbsp;<span class="ident" id="2050179">verb</span><span class="op" id="2050183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050186">case</span>&nbsp;<span class="builtintype" id="2050191">float32</span><span class="op" id="2050198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050202">p</span><span class="op" id="2050203">.</span><span class="ident" id="2050204">fmtFloat32</span><span class="op" id="2050214">(</span><span class="ident" id="2050215">f</span><span class="op" id="2050216">,</span>&nbsp;<span class="ident" id="2050218">verb</span><span class="op" id="2050222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050225">case</span>&nbsp;<span class="builtintype" id="2050230">float64</span><span class="op" id="2050237">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050241">p</span><span class="op" id="2050242">.</span><span class="ident" id="2050243">fmtFloat64</span><span class="op" id="2050253">(</span><span class="ident" id="2050254">f</span><span class="op" id="2050255">,</span>&nbsp;<span class="ident" id="2050257">verb</span><span class="op" id="2050261">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050264">case</span>&nbsp;<span class="builtintype" id="2050269">complex64</span><span class="op" id="2050278">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050282">p</span><span class="op" id="2050283">.</span><span class="ident" id="2050284">fmtComplex64</span><span class="op" id="2050296">(</span><span class="ident" id="2050297">f</span><span class="op" id="2050298">,</span>&nbsp;<span class="ident" id="2050300">verb</span><span class="op" id="2050304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050307">case</span>&nbsp;<span class="builtintype" id="2050312">complex128</span><span class="op" id="2050322">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050326">p</span><span class="op" id="2050327">.</span><span class="ident" id="2050328">fmtComplex128</span><span class="op" id="2050341">(</span><span class="ident" id="2050342">f</span><span class="op" id="2050343">,</span>&nbsp;<span class="ident" id="2050345">verb</span><span class="op" id="2050349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050352">case</span>&nbsp;<span class="builtintype" id="2050357">int</span><span class="op" id="2050360">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050364">p</span><span class="op" id="2050365">.</span><span class="ident" id="2050366">fmtInt64</span><span class="op" id="2050374">(</span><span class="ident" id="2050375">int64</span><span class="op" id="2050380">(</span><span class="ident" id="2050381">f</span><span class="op" id="2050382">)</span><span class="op" id="2050383">,</span>&nbsp;<span class="ident" id="2050385">verb</span><span class="op" id="2050389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050392">case</span>&nbsp;<span class="builtintype" id="2050397">int8</span><span class="op" id="2050401">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050405">p</span><span class="op" id="2050406">.</span><span class="ident" id="2050407">fmtInt64</span><span class="op" id="2050415">(</span><span class="ident" id="2050416">int64</span><span class="op" id="2050421">(</span><span class="ident" id="2050422">f</span><span class="op" id="2050423">)</span><span class="op" id="2050424">,</span>&nbsp;<span class="ident" id="2050426">verb</span><span class="op" id="2050430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050433">case</span>&nbsp;<span class="builtintype" id="2050438">int16</span><span class="op" id="2050443">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050447">p</span><span class="op" id="2050448">.</span><span class="ident" id="2050449">fmtInt64</span><span class="op" id="2050457">(</span><span class="ident" id="2050458">int64</span><span class="op" id="2050463">(</span><span class="ident" id="2050464">f</span><span class="op" id="2050465">)</span><span class="op" id="2050466">,</span>&nbsp;<span class="ident" id="2050468">verb</span><span class="op" id="2050472">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050475">case</span>&nbsp;<span class="builtintype" id="2050480">int32</span><span class="op" id="2050485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050489">p</span><span class="op" id="2050490">.</span><span class="ident" id="2050491">fmtInt64</span><span class="op" id="2050499">(</span><span class="ident" id="2050500">int64</span><span class="op" id="2050505">(</span><span class="ident" id="2050506">f</span><span class="op" id="2050507">)</span><span class="op" id="2050508">,</span>&nbsp;<span class="ident" id="2050510">verb</span><span class="op" id="2050514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050517">case</span>&nbsp;<span class="ident" id="2050522">int64</span><span class="op" id="2050527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050531">p</span><span class="op" id="2050532">.</span><span class="ident" id="2050533">fmtInt64</span><span class="op" id="2050541">(</span><span class="ident" id="2050542">f</span><span class="op" id="2050543">,</span>&nbsp;<span class="ident" id="2050545">verb</span><span class="op" id="2050549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050552">case</span>&nbsp;<span class="builtintype" id="2050557">uint</span><span class="op" id="2050561">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050565">p</span><span class="op" id="2050566">.</span><span class="ident" id="2050567">fmtUint64</span><span class="op" id="2050576">(</span><span class="ident" id="2050577">uint64</span><span class="op" id="2050583">(</span><span class="ident" id="2050584">f</span><span class="op" id="2050585">)</span><span class="op" id="2050586">,</span>&nbsp;<span class="ident" id="2050588">verb</span><span class="op" id="2050592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050595">case</span>&nbsp;<span class="builtintype" id="2050600">uint8</span><span class="op" id="2050605">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050609">p</span><span class="op" id="2050610">.</span><span class="ident" id="2050611">fmtUint64</span><span class="op" id="2050620">(</span><span class="ident" id="2050621">uint64</span><span class="op" id="2050627">(</span><span class="ident" id="2050628">f</span><span class="op" id="2050629">)</span><span class="op" id="2050630">,</span>&nbsp;<span class="ident" id="2050632">verb</span><span class="op" id="2050636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050639">case</span>&nbsp;<span class="builtintype" id="2050644">uint16</span><span class="op" id="2050650">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050654">p</span><span class="op" id="2050655">.</span><span class="ident" id="2050656">fmtUint64</span><span class="op" id="2050665">(</span><span class="ident" id="2050666">uint64</span><span class="op" id="2050672">(</span><span class="ident" id="2050673">f</span><span class="op" id="2050674">)</span><span class="op" id="2050675">,</span>&nbsp;<span class="ident" id="2050677">verb</span><span class="op" id="2050681">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050684">case</span>&nbsp;<span class="builtintype" id="2050689">uint32</span><span class="op" id="2050695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050699">p</span><span class="op" id="2050700">.</span><span class="ident" id="2050701">fmtUint64</span><span class="op" id="2050710">(</span><span class="ident" id="2050711">uint64</span><span class="op" id="2050717">(</span><span class="ident" id="2050718">f</span><span class="op" id="2050719">)</span><span class="op" id="2050720">,</span>&nbsp;<span class="ident" id="2050722">verb</span><span class="op" id="2050726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050729">case</span>&nbsp;<span class="ident" id="2050734">uint64</span><span class="op" id="2050740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050744">p</span><span class="op" id="2050745">.</span><span class="ident" id="2050746">fmtUint64</span><span class="op" id="2050755">(</span><span class="ident" id="2050756">f</span><span class="op" id="2050757">,</span>&nbsp;<span class="ident" id="2050759">verb</span><span class="op" id="2050763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050766">case</span>&nbsp;<span class="builtintype" id="2050771">uintptr</span><span class="op" id="2050778">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050782">p</span><span class="op" id="2050783">.</span><span class="ident" id="2050784">fmtUint64</span><span class="op" id="2050793">(</span><span class="ident" id="2050794">uint64</span><span class="op" id="2050800">(</span><span class="ident" id="2050801">f</span><span class="op" id="2050802">)</span><span class="op" id="2050803">,</span>&nbsp;<span class="ident" id="2050805">verb</span><span class="op" id="2050809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050812">case</span>&nbsp;<span class="builtintype" id="2050817">string</span><span class="op" id="2050823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050827">p</span><span class="op" id="2050828">.</span><span class="ident" id="2050829">fmtString</span><span class="op" id="2050838">(</span><span class="ident" id="2050839">f</span><span class="op" id="2050840">,</span>&nbsp;<span class="ident" id="2050842">verb</span><span class="op" id="2050846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050850">wasString</span>&nbsp;<span class="op" id="2050860">=</span>&nbsp;<span class="ident" id="2050862">verb</span>&nbsp;<span class="op" id="2050867">==</span>&nbsp;<span class="string" id="2050870">&#39;s&#39;</span>&nbsp;<span class="op" id="2050874">||</span>&nbsp;<span class="ident" id="2050877">verb</span>&nbsp;<span class="op" id="2050882">==</span>&nbsp;<span class="string" id="2050885">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050890">case</span>&nbsp;<span class="op" id="2050895">[</span><span class="op" id="2050896">]</span><span class="builtintype" id="2050897">byte</span><span class="op" id="2050901">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050905">p</span><span class="op" id="2050906">.</span><span class="ident" id="2050907">fmtBytes</span><span class="op" id="2050915">(</span><span class="ident" id="2050916">f</span><span class="op" id="2050917">,</span>&nbsp;<span class="ident" id="2050919">verb</span><span class="op" id="2050923">,</span>&nbsp;<span class="builtintype" id="2050925">nil</span><span class="op" id="2050928">,</span>&nbsp;<span class="ident" id="2050930">depth</span><span class="op" id="2050935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2050939">wasString</span>&nbsp;<span class="op" id="2050949">=</span>&nbsp;<span class="ident" id="2050951">verb</span>&nbsp;<span class="op" id="2050956">==</span>&nbsp;<span class="string" id="2050959">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2050964">default</span><span class="op" id="2050971">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2050975">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051030">if</span>&nbsp;<span class="ident" id="2051033">handled</span>&nbsp;<span class="op" id="2051041">:=</span>&nbsp;<span class="ident" id="2051044">p</span><span class="op" id="2051045">.</span><span class="ident" id="2051046">handleMethods</span><span class="op" id="2051059">(</span><span class="ident" id="2051060">verb</span><span class="op" id="2051064">,</span>&nbsp;<span class="ident" id="2051066">depth</span><span class="op" id="2051071">)</span><span class="op" id="2051072">;</span>&nbsp;<span class="ident" id="2051074">handled</span>&nbsp;<span class="op" id="2051082">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051087">return</span>&nbsp;<span class="builtintype" id="2051094">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2051102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2051106">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051134">return</span>&nbsp;<span class="ident" id="2051141">p</span><span class="op" id="2051142">.</span><span class="ident" id="2051143">printReflectValue</span><span class="op" id="2051160">(</span><span class="ident" id="2051161">reflect</span><span class="op" id="2051168">.</span><span class="ident" id="2051169">ValueOf</span><span class="op" id="2051176">(</span><span class="ident" id="2051177">arg</span><span class="op" id="2051180">)</span><span class="op" id="2051181">,</span>&nbsp;<span class="ident" id="2051183">verb</span><span class="op" id="2051187">,</span>&nbsp;<span class="ident" id="2051189">depth</span><span class="op" id="2051194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2051197">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2051200">p</span><span class="op" id="2051201">.</span><span class="ident" id="2051202">arg</span>&nbsp;<span class="op" id="2051206">=</span>&nbsp;<span class="builtintype" id="2051208">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051213">return</span><br>
<span class="lineno"></span><span class="op" id="2051220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2051223">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2051313">func</span>&nbsp;<span class="op" id="2051318">(</span><span class="ident" id="2051319">p</span>&nbsp;<span class="op" id="2051321">*</span><span class="ident" id="2051322">pp</span><span class="op" id="2051324">)</span>&nbsp;<span class="ident" id="2051326">printValue</span><span class="op" id="2051336">(</span><span class="ident" id="2051337">value</span>&nbsp;<span class="ident" id="2051343">reflect</span><span class="op" id="2051350">.</span><span class="ident" id="2051351">Value</span><span class="op" id="2051356">,</span>&nbsp;<span class="ident" id="2051358">verb</span>&nbsp;<span class="builtintype" id="2051363">rune</span><span class="op" id="2051367">,</span>&nbsp;<span class="ident" id="2051369">depth</span>&nbsp;<span class="builtintype" id="2051375">int</span><span class="op" id="2051378">)</span>&nbsp;<span class="op" id="2051380">(</span><span class="ident" id="2051381">wasString</span>&nbsp;<span class="builtintype" id="2051391">bool</span><span class="op" id="2051395">)</span>&nbsp;<span class="op" id="2051397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051400">if</span>&nbsp;<span class="op" id="2051403">!</span><span class="ident" id="2051404">value</span><span class="op" id="2051409">.</span><span class="ident" id="2051410">IsValid</span><span class="op" id="2051417">(</span><span class="op" id="2051418">)</span>&nbsp;<span class="op" id="2051420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051424">if</span>&nbsp;<span class="ident" id="2051427">verb</span>&nbsp;<span class="op" id="2051432">==</span>&nbsp;<span class="string" id="2051435">&#39;T&#39;</span>&nbsp;<span class="op" id="2051439">||</span>&nbsp;<span class="ident" id="2051442">verb</span>&nbsp;<span class="op" id="2051447">==</span>&nbsp;<span class="string" id="2051450">&#39;v&#39;</span>&nbsp;<span class="op" id="2051454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2051459">p</span><span class="op" id="2051460">.</span><span class="ident" id="2051461">buf</span><span class="op" id="2051464">.</span><span class="ident" id="2051465">Write</span><span class="op" id="2051470">(</span><span class="ident" id="2051471">nilAngleBytes</span><span class="op" id="2051484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2051488">}</span>&nbsp;<span class="keyword" id="2051490">else</span>&nbsp;<span class="op" id="2051495">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2051500">p</span><span class="op" id="2051501">.</span><span class="ident" id="2051502">badVerb</span><span class="op" id="2051509">(</span><span class="ident" id="2051510">verb</span><span class="op" id="2051514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2051518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051522">return</span>&nbsp;<span class="builtintype" id="2051529">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2051536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2051540">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2051579">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051664">switch</span>&nbsp;<span class="ident" id="2051671">verb</span>&nbsp;<span class="op" id="2051676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051679">case</span>&nbsp;<span class="string" id="2051684">&#39;T&#39;</span><span class="op" id="2051687">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2051691">p</span><span class="op" id="2051692">.</span><span class="ident" id="2051693">printArg</span><span class="op" id="2051701">(</span><span class="ident" id="2051702">value</span><span class="op" id="2051707">.</span><span class="ident" id="2051708">Type</span><span class="op" id="2051712">(</span><span class="op" id="2051713">)</span><span class="op" id="2051714">.</span><span class="ident" id="2051715">String</span><span class="op" id="2051721">(</span><span class="op" id="2051722">)</span><span class="op" id="2051723">,</span>&nbsp;<span class="string" id="2051725">&#39;s&#39;</span><span class="op" id="2051728">,</span>&nbsp;<span class="num" id="2051730">0</span><span class="op" id="2051731">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051735">return</span>&nbsp;<span class="builtintype" id="2051742">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051749">case</span>&nbsp;<span class="string" id="2051754">&#39;p&#39;</span><span class="op" id="2051757">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2051761">p</span><span class="op" id="2051762">.</span><span class="ident" id="2051763">fmtPointer</span><span class="op" id="2051773">(</span><span class="ident" id="2051774">value</span><span class="op" id="2051779">,</span>&nbsp;<span class="ident" id="2051781">verb</span><span class="op" id="2051785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051789">return</span>&nbsp;<span class="builtintype" id="2051796">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2051803">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2051807">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2051847">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2051934">p</span><span class="op" id="2051935">.</span><span class="ident" id="2051936">arg</span>&nbsp;<span class="op" id="2051940">=</span>&nbsp;<span class="builtintype" id="2051942">nil</span>&nbsp;<span class="comment" id="2051946">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2051986">if</span>&nbsp;<span class="ident" id="2051989">value</span><span class="op" id="2051994">.</span><span class="ident" id="2051995">CanInterface</span><span class="op" id="2052007">(</span><span class="op" id="2052008">)</span>&nbsp;<span class="op" id="2052010">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052014">p</span><span class="op" id="2052015">.</span><span class="ident" id="2052016">arg</span>&nbsp;<span class="op" id="2052020">=</span>&nbsp;<span class="ident" id="2052022">value</span><span class="op" id="2052027">.</span><span class="ident" id="2052028">Interface</span><span class="op" id="2052037">(</span><span class="op" id="2052038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2052041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052044">if</span>&nbsp;<span class="ident" id="2052047">handled</span>&nbsp;<span class="op" id="2052055">:=</span>&nbsp;<span class="ident" id="2052058">p</span><span class="op" id="2052059">.</span><span class="ident" id="2052060">handleMethods</span><span class="op" id="2052073">(</span><span class="ident" id="2052074">verb</span><span class="op" id="2052078">,</span>&nbsp;<span class="ident" id="2052080">depth</span><span class="op" id="2052085">)</span><span class="op" id="2052086">;</span>&nbsp;<span class="ident" id="2052088">handled</span>&nbsp;<span class="op" id="2052096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052100">return</span>&nbsp;<span class="builtintype" id="2052107">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2052114">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052118">return</span>&nbsp;<span class="ident" id="2052125">p</span><span class="op" id="2052126">.</span><span class="ident" id="2052127">printReflectValue</span><span class="op" id="2052144">(</span><span class="ident" id="2052145">value</span><span class="op" id="2052150">,</span>&nbsp;<span class="ident" id="2052152">verb</span><span class="op" id="2052156">,</span>&nbsp;<span class="ident" id="2052158">depth</span><span class="op" id="2052163">)</span><br>
<span class="lineno"></span><span class="op" id="2052165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2052168">var</span>&nbsp;<span class="ident" id="2052172">byteType</span>&nbsp;<span class="op" id="2052181">=</span>&nbsp;<span class="ident" id="2052183">reflect</span><span class="op" id="2052190">.</span><span class="ident" id="2052191">TypeOf</span><span class="op" id="2052197">(</span><span class="builtintype" id="2052198">byte</span><span class="op" id="2052202">(</span><span class="num" id="2052203">0</span><span class="op" id="2052204">)</span><span class="op" id="2052205">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2052208">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2052279">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2052318">func</span>&nbsp;<span class="op" id="2052323">(</span><span class="ident" id="2052324">p</span>&nbsp;<span class="op" id="2052326">*</span><span class="ident" id="2052327">pp</span><span class="op" id="2052329">)</span>&nbsp;<span class="ident" id="2052331">printReflectValue</span><span class="op" id="2052348">(</span><span class="ident" id="2052349">value</span>&nbsp;<span class="ident" id="2052355">reflect</span><span class="op" id="2052362">.</span><span class="ident" id="2052363">Value</span><span class="op" id="2052368">,</span>&nbsp;<span class="ident" id="2052370">verb</span>&nbsp;<span class="builtintype" id="2052375">rune</span><span class="op" id="2052379">,</span>&nbsp;<span class="ident" id="2052381">depth</span>&nbsp;<span class="builtintype" id="2052387">int</span><span class="op" id="2052390">)</span>&nbsp;<span class="op" id="2052392">(</span><span class="ident" id="2052393">wasString</span>&nbsp;<span class="builtintype" id="2052403">bool</span><span class="op" id="2052407">)</span>&nbsp;<span class="op" id="2052409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052412">oldValue</span>&nbsp;<span class="op" id="2052421">:=</span>&nbsp;<span class="ident" id="2052424">p</span><span class="op" id="2052425">.</span><span class="ident" id="2052426">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052433">p</span><span class="op" id="2052434">.</span><span class="ident" id="2052435">value</span>&nbsp;<span class="op" id="2052441">=</span>&nbsp;<span class="ident" id="2052443">value</span><br>
<span class="lineno"></span><span class="ident" id="2052449">BigSwitch</span><span class="op" id="2052458">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052461">switch</span>&nbsp;<span class="ident" id="2052468">f</span>&nbsp;<span class="op" id="2052470">:=</span>&nbsp;<span class="ident" id="2052473">value</span><span class="op" id="2052478">;</span>&nbsp;<span class="ident" id="2052480">f</span><span class="op" id="2052481">.</span><span class="ident" id="2052482">Kind</span><span class="op" id="2052486">(</span><span class="op" id="2052487">)</span>&nbsp;<span class="op" id="2052489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052492">case</span>&nbsp;<span class="ident" id="2052497">reflect</span><span class="op" id="2052504">.</span><span class="ident" id="2052505">Bool</span><span class="op" id="2052509">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052513">p</span><span class="op" id="2052514">.</span><span class="ident" id="2052515">fmtBool</span><span class="op" id="2052522">(</span><span class="ident" id="2052523">f</span><span class="op" id="2052524">.</span><span class="ident" id="2052525">Bool</span><span class="op" id="2052529">(</span><span class="op" id="2052530">)</span><span class="op" id="2052531">,</span>&nbsp;<span class="ident" id="2052533">verb</span><span class="op" id="2052537">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052540">case</span>&nbsp;<span class="ident" id="2052545">reflect</span><span class="op" id="2052552">.</span><span class="ident" id="2052553">Int</span><span class="op" id="2052556">,</span>&nbsp;<span class="ident" id="2052558">reflect</span><span class="op" id="2052565">.</span><span class="ident" id="2052566">Int8</span><span class="op" id="2052570">,</span>&nbsp;<span class="ident" id="2052572">reflect</span><span class="op" id="2052579">.</span><span class="ident" id="2052580">Int16</span><span class="op" id="2052585">,</span>&nbsp;<span class="ident" id="2052587">reflect</span><span class="op" id="2052594">.</span><span class="ident" id="2052595">Int32</span><span class="op" id="2052600">,</span>&nbsp;<span class="ident" id="2052602">reflect</span><span class="op" id="2052609">.</span><span class="ident" id="2052610">Int64</span><span class="op" id="2052615">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052619">p</span><span class="op" id="2052620">.</span><span class="ident" id="2052621">fmtInt64</span><span class="op" id="2052629">(</span><span class="ident" id="2052630">f</span><span class="op" id="2052631">.</span><span class="ident" id="2052632">Int</span><span class="op" id="2052635">(</span><span class="op" id="2052636">)</span><span class="op" id="2052637">,</span>&nbsp;<span class="ident" id="2052639">verb</span><span class="op" id="2052643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052646">case</span>&nbsp;<span class="ident" id="2052651">reflect</span><span class="op" id="2052658">.</span><span class="ident" id="2052659">Uint</span><span class="op" id="2052663">,</span>&nbsp;<span class="ident" id="2052665">reflect</span><span class="op" id="2052672">.</span><span class="ident" id="2052673">Uint8</span><span class="op" id="2052678">,</span>&nbsp;<span class="ident" id="2052680">reflect</span><span class="op" id="2052687">.</span><span class="ident" id="2052688">Uint16</span><span class="op" id="2052694">,</span>&nbsp;<span class="ident" id="2052696">reflect</span><span class="op" id="2052703">.</span><span class="ident" id="2052704">Uint32</span><span class="op" id="2052710">,</span>&nbsp;<span class="ident" id="2052712">reflect</span><span class="op" id="2052719">.</span><span class="ident" id="2052720">Uint64</span><span class="op" id="2052726">,</span>&nbsp;<span class="ident" id="2052728">reflect</span><span class="op" id="2052735">.</span><span class="ident" id="2052736">Uintptr</span><span class="op" id="2052743">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052747">p</span><span class="op" id="2052748">.</span><span class="ident" id="2052749">fmtUint64</span><span class="op" id="2052758">(</span><span class="ident" id="2052759">f</span><span class="op" id="2052760">.</span><span class="ident" id="2052761">Uint</span><span class="op" id="2052765">(</span><span class="op" id="2052766">)</span><span class="op" id="2052767">,</span>&nbsp;<span class="ident" id="2052769">verb</span><span class="op" id="2052773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052776">case</span>&nbsp;<span class="ident" id="2052781">reflect</span><span class="op" id="2052788">.</span><span class="ident" id="2052789">Float32</span><span class="op" id="2052796">,</span>&nbsp;<span class="ident" id="2052798">reflect</span><span class="op" id="2052805">.</span><span class="ident" id="2052806">Float64</span><span class="op" id="2052813">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052817">if</span>&nbsp;<span class="ident" id="2052820">f</span><span class="op" id="2052821">.</span><span class="ident" id="2052822">Type</span><span class="op" id="2052826">(</span><span class="op" id="2052827">)</span><span class="op" id="2052828">.</span><span class="ident" id="2052829">Size</span><span class="op" id="2052833">(</span><span class="op" id="2052834">)</span>&nbsp;<span class="op" id="2052836">==</span>&nbsp;<span class="num" id="2052839">4</span>&nbsp;<span class="op" id="2052841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052846">p</span><span class="op" id="2052847">.</span><span class="ident" id="2052848">fmtFloat32</span><span class="op" id="2052858">(</span><span class="builtintype" id="2052859">float32</span><span class="op" id="2052866">(</span><span class="ident" id="2052867">f</span><span class="op" id="2052868">.</span><span class="ident" id="2052869">Float</span><span class="op" id="2052874">(</span><span class="op" id="2052875">)</span><span class="op" id="2052876">)</span><span class="op" id="2052877">,</span>&nbsp;<span class="ident" id="2052879">verb</span><span class="op" id="2052883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2052887">}</span>&nbsp;<span class="keyword" id="2052889">else</span>&nbsp;<span class="op" id="2052894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2052899">p</span><span class="op" id="2052900">.</span><span class="ident" id="2052901">fmtFloat64</span><span class="op" id="2052911">(</span><span class="ident" id="2052912">f</span><span class="op" id="2052913">.</span><span class="ident" id="2052914">Float</span><span class="op" id="2052919">(</span><span class="op" id="2052920">)</span><span class="op" id="2052921">,</span>&nbsp;<span class="ident" id="2052923">verb</span><span class="op" id="2052927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2052931">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052934">case</span>&nbsp;<span class="ident" id="2052939">reflect</span><span class="op" id="2052946">.</span><span class="ident" id="2052947">Complex64</span><span class="op" id="2052956">,</span>&nbsp;<span class="ident" id="2052958">reflect</span><span class="op" id="2052965">.</span><span class="ident" id="2052966">Complex128</span><span class="op" id="2052976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2052980">if</span>&nbsp;<span class="ident" id="2052983">f</span><span class="op" id="2052984">.</span><span class="ident" id="2052985">Type</span><span class="op" id="2052989">(</span><span class="op" id="2052990">)</span><span class="op" id="2052991">.</span><span class="ident" id="2052992">Size</span><span class="op" id="2052996">(</span><span class="op" id="2052997">)</span>&nbsp;<span class="op" id="2052999">==</span>&nbsp;<span class="num" id="2053002">8</span>&nbsp;<span class="op" id="2053004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053009">p</span><span class="op" id="2053010">.</span><span class="ident" id="2053011">fmtComplex64</span><span class="op" id="2053023">(</span><span class="builtintype" id="2053024">complex64</span><span class="op" id="2053033">(</span><span class="ident" id="2053034">f</span><span class="op" id="2053035">.</span><span class="ident" id="2053036">Complex</span><span class="op" id="2053043">(</span><span class="op" id="2053044">)</span><span class="op" id="2053045">)</span><span class="op" id="2053046">,</span>&nbsp;<span class="ident" id="2053048">verb</span><span class="op" id="2053052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053056">}</span>&nbsp;<span class="keyword" id="2053058">else</span>&nbsp;<span class="op" id="2053063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053068">p</span><span class="op" id="2053069">.</span><span class="ident" id="2053070">fmtComplex128</span><span class="op" id="2053083">(</span><span class="ident" id="2053084">f</span><span class="op" id="2053085">.</span><span class="ident" id="2053086">Complex</span><span class="op" id="2053093">(</span><span class="op" id="2053094">)</span><span class="op" id="2053095">,</span>&nbsp;<span class="ident" id="2053097">verb</span><span class="op" id="2053101">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053108">case</span>&nbsp;<span class="ident" id="2053113">reflect</span><span class="op" id="2053120">.</span><span class="ident" id="2053121">String</span><span class="op" id="2053127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053131">p</span><span class="op" id="2053132">.</span><span class="ident" id="2053133">fmtString</span><span class="op" id="2053142">(</span><span class="ident" id="2053143">f</span><span class="op" id="2053144">.</span><span class="ident" id="2053145">String</span><span class="op" id="2053151">(</span><span class="op" id="2053152">)</span><span class="op" id="2053153">,</span>&nbsp;<span class="ident" id="2053155">verb</span><span class="op" id="2053159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053162">case</span>&nbsp;<span class="ident" id="2053167">reflect</span><span class="op" id="2053174">.</span><span class="ident" id="2053175">Map</span><span class="op" id="2053178">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053182">if</span>&nbsp;<span class="ident" id="2053185">p</span><span class="op" id="2053186">.</span><span class="ident" id="2053187">fmt</span><span class="op" id="2053190">.</span><span class="ident" id="2053191">sharpV</span>&nbsp;<span class="op" id="2053198">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053203">p</span><span class="op" id="2053204">.</span><span class="ident" id="2053205">buf</span><span class="op" id="2053208">.</span><span class="ident" id="2053209">WriteString</span><span class="op" id="2053220">(</span><span class="ident" id="2053221">f</span><span class="op" id="2053222">.</span><span class="ident" id="2053223">Type</span><span class="op" id="2053227">(</span><span class="op" id="2053228">)</span><span class="op" id="2053229">.</span><span class="ident" id="2053230">String</span><span class="op" id="2053236">(</span><span class="op" id="2053237">)</span><span class="op" id="2053238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053243">if</span>&nbsp;<span class="ident" id="2053246">f</span><span class="op" id="2053247">.</span><span class="ident" id="2053248">IsNil</span><span class="op" id="2053253">(</span><span class="op" id="2053254">)</span>&nbsp;<span class="op" id="2053256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053262">p</span><span class="op" id="2053263">.</span><span class="ident" id="2053264">buf</span><span class="op" id="2053267">.</span><span class="ident" id="2053268">WriteString</span><span class="op" id="2053279">(</span><span class="string" id="2053280">&#34;(nil)&#34;</span><span class="op" id="2053287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053293">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053302">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053307">p</span><span class="op" id="2053308">.</span><span class="ident" id="2053309">buf</span><span class="op" id="2053312">.</span><span class="ident" id="2053313">WriteByte</span><span class="op" id="2053322">(</span><span class="string" id="2053323">&#39;{&#39;</span><span class="op" id="2053326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053330">}</span>&nbsp;<span class="keyword" id="2053332">else</span>&nbsp;<span class="op" id="2053337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053342">p</span><span class="op" id="2053343">.</span><span class="ident" id="2053344">buf</span><span class="op" id="2053347">.</span><span class="ident" id="2053348">Write</span><span class="op" id="2053353">(</span><span class="ident" id="2053354">mapBytes</span><span class="op" id="2053362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053370">keys</span>&nbsp;<span class="op" id="2053375">:=</span>&nbsp;<span class="ident" id="2053378">f</span><span class="op" id="2053379">.</span><span class="ident" id="2053380">MapKeys</span><span class="op" id="2053387">(</span><span class="op" id="2053388">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053392">for</span>&nbsp;<span class="ident" id="2053396">i</span><span class="op" id="2053397">,</span>&nbsp;<span class="ident" id="2053399">key</span>&nbsp;<span class="op" id="2053403">:=</span>&nbsp;<span class="keyword" id="2053406">range</span>&nbsp;<span class="ident" id="2053412">keys</span>&nbsp;<span class="op" id="2053417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053422">if</span>&nbsp;<span class="ident" id="2053425">i</span>&nbsp;<span class="op" id="2053427">&gt;</span>&nbsp;<span class="num" id="2053429">0</span>&nbsp;<span class="op" id="2053431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053437">if</span>&nbsp;<span class="ident" id="2053440">p</span><span class="op" id="2053441">.</span><span class="ident" id="2053442">fmt</span><span class="op" id="2053445">.</span><span class="ident" id="2053446">sharpV</span>&nbsp;<span class="op" id="2053453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053460">p</span><span class="op" id="2053461">.</span><span class="ident" id="2053462">buf</span><span class="op" id="2053465">.</span><span class="ident" id="2053466">Write</span><span class="op" id="2053471">(</span><span class="ident" id="2053472">commaSpaceBytes</span><span class="op" id="2053487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053493">}</span>&nbsp;<span class="keyword" id="2053495">else</span>&nbsp;<span class="op" id="2053500">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053507">p</span><span class="op" id="2053508">.</span><span class="ident" id="2053509">buf</span><span class="op" id="2053512">.</span><span class="ident" id="2053513">WriteByte</span><span class="op" id="2053522">(</span><span class="string" id="2053523">&#39;&nbsp;&#39;</span><span class="op" id="2053526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053542">p</span><span class="op" id="2053543">.</span><span class="ident" id="2053544">printValue</span><span class="op" id="2053554">(</span><span class="ident" id="2053555">key</span><span class="op" id="2053558">,</span>&nbsp;<span class="ident" id="2053560">verb</span><span class="op" id="2053564">,</span>&nbsp;<span class="ident" id="2053566">depth</span><span class="op" id="2053571">+</span><span class="num" id="2053572">1</span><span class="op" id="2053573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053578">p</span><span class="op" id="2053579">.</span><span class="ident" id="2053580">buf</span><span class="op" id="2053583">.</span><span class="ident" id="2053584">WriteByte</span><span class="op" id="2053593">(</span><span class="string" id="2053594">&#39;:&#39;</span><span class="op" id="2053597">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053602">p</span><span class="op" id="2053603">.</span><span class="ident" id="2053604">printValue</span><span class="op" id="2053614">(</span><span class="ident" id="2053615">f</span><span class="op" id="2053616">.</span><span class="ident" id="2053617">MapIndex</span><span class="op" id="2053625">(</span><span class="ident" id="2053626">key</span><span class="op" id="2053629">)</span><span class="op" id="2053630">,</span>&nbsp;<span class="ident" id="2053632">verb</span><span class="op" id="2053636">,</span>&nbsp;<span class="ident" id="2053638">depth</span><span class="op" id="2053643">+</span><span class="num" id="2053644">1</span><span class="op" id="2053645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053653">if</span>&nbsp;<span class="ident" id="2053656">p</span><span class="op" id="2053657">.</span><span class="ident" id="2053658">fmt</span><span class="op" id="2053661">.</span><span class="ident" id="2053662">sharpV</span>&nbsp;<span class="op" id="2053669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053674">p</span><span class="op" id="2053675">.</span><span class="ident" id="2053676">buf</span><span class="op" id="2053679">.</span><span class="ident" id="2053680">WriteByte</span><span class="op" id="2053689">(</span><span class="string" id="2053690">&#39;}&#39;</span><span class="op" id="2053693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053697">}</span>&nbsp;<span class="keyword" id="2053699">else</span>&nbsp;<span class="op" id="2053704">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053709">p</span><span class="op" id="2053710">.</span><span class="ident" id="2053711">buf</span><span class="op" id="2053714">.</span><span class="ident" id="2053715">WriteByte</span><span class="op" id="2053724">(</span><span class="string" id="2053725">&#39;]&#39;</span><span class="op" id="2053728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053735">case</span>&nbsp;<span class="ident" id="2053740">reflect</span><span class="op" id="2053747">.</span><span class="ident" id="2053748">Struct</span><span class="op" id="2053754">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053758">if</span>&nbsp;<span class="ident" id="2053761">p</span><span class="op" id="2053762">.</span><span class="ident" id="2053763">fmt</span><span class="op" id="2053766">.</span><span class="ident" id="2053767">sharpV</span>&nbsp;<span class="op" id="2053774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053779">p</span><span class="op" id="2053780">.</span><span class="ident" id="2053781">buf</span><span class="op" id="2053784">.</span><span class="ident" id="2053785">WriteString</span><span class="op" id="2053796">(</span><span class="ident" id="2053797">value</span><span class="op" id="2053802">.</span><span class="ident" id="2053803">Type</span><span class="op" id="2053807">(</span><span class="op" id="2053808">)</span><span class="op" id="2053809">.</span><span class="ident" id="2053810">String</span><span class="op" id="2053816">(</span><span class="op" id="2053817">)</span><span class="op" id="2053818">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053826">p</span><span class="op" id="2053827">.</span><span class="ident" id="2053828">add</span><span class="op" id="2053831">(</span><span class="string" id="2053832">&#39;{&#39;</span><span class="op" id="2053835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053839">v</span>&nbsp;<span class="op" id="2053841">:=</span>&nbsp;<span class="ident" id="2053844">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053848">t</span>&nbsp;<span class="op" id="2053850">:=</span>&nbsp;<span class="ident" id="2053853">v</span><span class="op" id="2053854">.</span><span class="ident" id="2053855">Type</span><span class="op" id="2053859">(</span><span class="op" id="2053860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053864">for</span>&nbsp;<span class="ident" id="2053868">i</span>&nbsp;<span class="op" id="2053870">:=</span>&nbsp;<span class="num" id="2053873">0</span><span class="op" id="2053874">;</span>&nbsp;<span class="ident" id="2053876">i</span>&nbsp;<span class="op" id="2053878">&lt;</span>&nbsp;<span class="ident" id="2053880">v</span><span class="op" id="2053881">.</span><span class="ident" id="2053882">NumField</span><span class="op" id="2053890">(</span><span class="op" id="2053891">)</span><span class="op" id="2053892">;</span>&nbsp;<span class="ident" id="2053894">i</span><span class="op" id="2053895">++</span>&nbsp;<span class="op" id="2053898">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053903">if</span>&nbsp;<span class="ident" id="2053906">i</span>&nbsp;<span class="op" id="2053908">&gt;</span>&nbsp;<span class="num" id="2053910">0</span>&nbsp;<span class="op" id="2053912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2053918">if</span>&nbsp;<span class="ident" id="2053921">p</span><span class="op" id="2053922">.</span><span class="ident" id="2053923">fmt</span><span class="op" id="2053926">.</span><span class="ident" id="2053927">sharpV</span>&nbsp;<span class="op" id="2053934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053941">p</span><span class="op" id="2053942">.</span><span class="ident" id="2053943">buf</span><span class="op" id="2053946">.</span><span class="ident" id="2053947">Write</span><span class="op" id="2053952">(</span><span class="ident" id="2053953">commaSpaceBytes</span><span class="op" id="2053968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2053974">}</span>&nbsp;<span class="keyword" id="2053976">else</span>&nbsp;<span class="op" id="2053981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2053988">p</span><span class="op" id="2053989">.</span><span class="ident" id="2053990">buf</span><span class="op" id="2053993">.</span><span class="ident" id="2053994">WriteByte</span><span class="op" id="2054003">(</span><span class="string" id="2054004">&#39;&nbsp;&#39;</span><span class="op" id="2054007">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054023">if</span>&nbsp;<span class="ident" id="2054026">p</span><span class="op" id="2054027">.</span><span class="ident" id="2054028">fmt</span><span class="op" id="2054031">.</span><span class="ident" id="2054032">plusV</span>&nbsp;<span class="op" id="2054038">||</span>&nbsp;<span class="ident" id="2054041">p</span><span class="op" id="2054042">.</span><span class="ident" id="2054043">fmt</span><span class="op" id="2054046">.</span><span class="ident" id="2054047">sharpV</span>&nbsp;<span class="op" id="2054054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054060">if</span>&nbsp;<span class="ident" id="2054063">f</span>&nbsp;<span class="op" id="2054065">:=</span>&nbsp;<span class="ident" id="2054068">t</span><span class="op" id="2054069">.</span><span class="ident" id="2054070">Field</span><span class="op" id="2054075">(</span><span class="ident" id="2054076">i</span><span class="op" id="2054077">)</span><span class="op" id="2054078">;</span>&nbsp;<span class="ident" id="2054080">f</span><span class="op" id="2054081">.</span><span class="ident" id="2054082">Name</span>&nbsp;<span class="op" id="2054087">!=</span>&nbsp;<span class="string" id="2054090">&#34;&#34;</span>&nbsp;<span class="op" id="2054093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054100">p</span><span class="op" id="2054101">.</span><span class="ident" id="2054102">buf</span><span class="op" id="2054105">.</span><span class="ident" id="2054106">WriteString</span><span class="op" id="2054117">(</span><span class="ident" id="2054118">f</span><span class="op" id="2054119">.</span><span class="ident" id="2054120">Name</span><span class="op" id="2054124">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054131">p</span><span class="op" id="2054132">.</span><span class="ident" id="2054133">buf</span><span class="op" id="2054136">.</span><span class="ident" id="2054137">WriteByte</span><span class="op" id="2054146">(</span><span class="string" id="2054147">&#39;:&#39;</span><span class="op" id="2054150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054166">p</span><span class="op" id="2054167">.</span><span class="ident" id="2054168">printValue</span><span class="op" id="2054178">(</span><span class="ident" id="2054179">getField</span><span class="op" id="2054187">(</span><span class="ident" id="2054188">v</span><span class="op" id="2054189">,</span>&nbsp;<span class="ident" id="2054191">i</span><span class="op" id="2054192">)</span><span class="op" id="2054193">,</span>&nbsp;<span class="ident" id="2054195">verb</span><span class="op" id="2054199">,</span>&nbsp;<span class="ident" id="2054201">depth</span><span class="op" id="2054206">+</span><span class="num" id="2054207">1</span><span class="op" id="2054208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054212">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054216">p</span><span class="op" id="2054217">.</span><span class="ident" id="2054218">buf</span><span class="op" id="2054221">.</span><span class="ident" id="2054222">WriteByte</span><span class="op" id="2054231">(</span><span class="string" id="2054232">&#39;}&#39;</span><span class="op" id="2054235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054238">case</span>&nbsp;<span class="ident" id="2054243">reflect</span><span class="op" id="2054250">.</span><span class="ident" id="2054251">Interface</span><span class="op" id="2054260">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054264">value</span>&nbsp;<span class="op" id="2054270">:=</span>&nbsp;<span class="ident" id="2054273">f</span><span class="op" id="2054274">.</span><span class="ident" id="2054275">Elem</span><span class="op" id="2054279">(</span><span class="op" id="2054280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054284">if</span>&nbsp;<span class="op" id="2054287">!</span><span class="ident" id="2054288">value</span><span class="op" id="2054293">.</span><span class="ident" id="2054294">IsValid</span><span class="op" id="2054301">(</span><span class="op" id="2054302">)</span>&nbsp;<span class="op" id="2054304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054309">if</span>&nbsp;<span class="ident" id="2054312">p</span><span class="op" id="2054313">.</span><span class="ident" id="2054314">fmt</span><span class="op" id="2054317">.</span><span class="ident" id="2054318">sharpV</span>&nbsp;<span class="op" id="2054325">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054331">p</span><span class="op" id="2054332">.</span><span class="ident" id="2054333">buf</span><span class="op" id="2054336">.</span><span class="ident" id="2054337">WriteString</span><span class="op" id="2054348">(</span><span class="ident" id="2054349">f</span><span class="op" id="2054350">.</span><span class="ident" id="2054351">Type</span><span class="op" id="2054355">(</span><span class="op" id="2054356">)</span><span class="op" id="2054357">.</span><span class="ident" id="2054358">String</span><span class="op" id="2054364">(</span><span class="op" id="2054365">)</span><span class="op" id="2054366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054372">p</span><span class="op" id="2054373">.</span><span class="ident" id="2054374">buf</span><span class="op" id="2054377">.</span><span class="ident" id="2054378">Write</span><span class="op" id="2054383">(</span><span class="ident" id="2054384">nilParenBytes</span><span class="op" id="2054397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054402">}</span>&nbsp;<span class="keyword" id="2054404">else</span>&nbsp;<span class="op" id="2054409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054415">p</span><span class="op" id="2054416">.</span><span class="ident" id="2054417">buf</span><span class="op" id="2054420">.</span><span class="ident" id="2054421">Write</span><span class="op" id="2054426">(</span><span class="ident" id="2054427">nilAngleBytes</span><span class="op" id="2054440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054445">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054449">}</span>&nbsp;<span class="keyword" id="2054451">else</span>&nbsp;<span class="op" id="2054456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2054461">wasString</span>&nbsp;<span class="op" id="2054471">=</span>&nbsp;<span class="ident" id="2054473">p</span><span class="op" id="2054474">.</span><span class="ident" id="2054475">printValue</span><span class="op" id="2054485">(</span><span class="ident" id="2054486">value</span><span class="op" id="2054491">,</span>&nbsp;<span class="ident" id="2054493">verb</span><span class="op" id="2054497">,</span>&nbsp;<span class="ident" id="2054499">depth</span><span class="op" id="2054504">+</span><span class="num" id="2054505">1</span><span class="op" id="2054506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2054510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054513">case</span>&nbsp;<span class="ident" id="2054518">reflect</span><span class="op" id="2054525">.</span><span class="ident" id="2054526">Array</span><span class="op" id="2054531">,</span>&nbsp;<span class="ident" id="2054533">reflect</span><span class="op" id="2054540">.</span><span class="ident" id="2054541">Slice</span><span class="op" id="2054546">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2054550">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2054580">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2054629">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2054697">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2054760">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054821">if</span>&nbsp;<span class="ident" id="2054824">typ</span>&nbsp;<span class="op" id="2054828">:=</span>&nbsp;<span class="ident" id="2054831">f</span><span class="op" id="2054832">.</span><span class="ident" id="2054833">Type</span><span class="op" id="2054837">(</span><span class="op" id="2054838">)</span><span class="op" id="2054839">;</span>&nbsp;<span class="ident" id="2054841">typ</span><span class="op" id="2054844">.</span><span class="ident" id="2054845">Elem</span><span class="op" id="2054849">(</span><span class="op" id="2054850">)</span><span class="op" id="2054851">.</span><span class="ident" id="2054852">Kind</span><span class="op" id="2054856">(</span><span class="op" id="2054857">)</span>&nbsp;<span class="op" id="2054859">==</span>&nbsp;<span class="ident" id="2054862">reflect</span><span class="op" id="2054869">.</span><span class="ident" id="2054870">Uint8</span>&nbsp;<span class="op" id="2054876">&amp;&amp;</span>&nbsp;<span class="op" id="2054879">(</span><span class="ident" id="2054880">typ</span><span class="op" id="2054883">.</span><span class="ident" id="2054884">Elem</span><span class="op" id="2054888">(</span><span class="op" id="2054889">)</span>&nbsp;<span class="op" id="2054891">==</span>&nbsp;<span class="ident" id="2054894">byteType</span>&nbsp;<span class="op" id="2054903">||</span>&nbsp;<span class="ident" id="2054906">verb</span>&nbsp;<span class="op" id="2054911">==</span>&nbsp;<span class="string" id="2054914">&#39;s&#39;</span>&nbsp;<span class="op" id="2054918">||</span>&nbsp;<span class="ident" id="2054921">verb</span>&nbsp;<span class="op" id="2054926">==</span>&nbsp;<span class="string" id="2054929">&#39;q&#39;</span>&nbsp;<span class="op" id="2054933">||</span>&nbsp;<span class="ident" id="2054936">verb</span>&nbsp;<span class="op" id="2054941">==</span>&nbsp;<span class="string" id="2054944">&#39;x&#39;</span><span class="op" id="2054947">)</span>&nbsp;<span class="op" id="2054949">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054954">var</span>&nbsp;<span class="ident" id="2054958">bytes</span>&nbsp;<span class="op" id="2054964">[</span><span class="op" id="2054965">]</span><span class="builtintype" id="2054966">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2054974">if</span>&nbsp;<span class="ident" id="2054977">f</span><span class="op" id="2054978">.</span><span class="ident" id="2054979">Kind</span><span class="op" id="2054983">(</span><span class="op" id="2054984">)</span>&nbsp;<span class="op" id="2054986">==</span>&nbsp;<span class="ident" id="2054989">reflect</span><span class="op" id="2054996">.</span><span class="ident" id="2054997">Slice</span>&nbsp;<span class="op" id="2055003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055009">bytes</span>&nbsp;<span class="op" id="2055015">=</span>&nbsp;<span class="ident" id="2055017">f</span><span class="op" id="2055018">.</span><span class="ident" id="2055019">Bytes</span><span class="op" id="2055024">(</span><span class="op" id="2055025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055030">}</span>&nbsp;<span class="keyword" id="2055032">else</span>&nbsp;<span class="keyword" id="2055037">if</span>&nbsp;<span class="ident" id="2055040">f</span><span class="op" id="2055041">.</span><span class="ident" id="2055042">CanAddr</span><span class="op" id="2055049">(</span><span class="op" id="2055050">)</span>&nbsp;<span class="op" id="2055052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055058">bytes</span>&nbsp;<span class="op" id="2055064">=</span>&nbsp;<span class="ident" id="2055066">f</span><span class="op" id="2055067">.</span><span class="ident" id="2055068">Slice</span><span class="op" id="2055073">(</span><span class="num" id="2055074">0</span><span class="op" id="2055075">,</span>&nbsp;<span class="ident" id="2055077">f</span><span class="op" id="2055078">.</span><span class="ident" id="2055079">Len</span><span class="op" id="2055082">(</span><span class="op" id="2055083">)</span><span class="op" id="2055084">)</span><span class="op" id="2055085">.</span><span class="ident" id="2055086">Bytes</span><span class="op" id="2055091">(</span><span class="op" id="2055092">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055097">}</span>&nbsp;<span class="keyword" id="2055099">else</span>&nbsp;<span class="op" id="2055104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2055110">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2055182">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2055259">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055306">bytes</span>&nbsp;<span class="op" id="2055312">=</span>&nbsp;<span class="builtinfunc" id="2055314">make</span><span class="op" id="2055318">(</span><span class="op" id="2055319">[</span><span class="op" id="2055320">]</span><span class="builtintype" id="2055321">byte</span><span class="op" id="2055325">,</span>&nbsp;<span class="ident" id="2055327">f</span><span class="op" id="2055328">.</span><span class="ident" id="2055329">Len</span><span class="op" id="2055332">(</span><span class="op" id="2055333">)</span><span class="op" id="2055334">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055340">for</span>&nbsp;<span class="ident" id="2055344">i</span>&nbsp;<span class="op" id="2055346">:=</span>&nbsp;<span class="keyword" id="2055349">range</span>&nbsp;<span class="ident" id="2055355">bytes</span>&nbsp;<span class="op" id="2055361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055368">bytes</span><span class="op" id="2055373">[</span><span class="ident" id="2055374">i</span><span class="op" id="2055375">]</span>&nbsp;<span class="op" id="2055377">=</span>&nbsp;<span class="builtintype" id="2055379">byte</span><span class="op" id="2055383">(</span><span class="ident" id="2055384">f</span><span class="op" id="2055385">.</span><span class="ident" id="2055386">Index</span><span class="op" id="2055391">(</span><span class="ident" id="2055392">i</span><span class="op" id="2055393">)</span><span class="op" id="2055394">.</span><span class="ident" id="2055395">Uint</span><span class="op" id="2055399">(</span><span class="op" id="2055400">)</span><span class="op" id="2055401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055417">p</span><span class="op" id="2055418">.</span><span class="ident" id="2055419">fmtBytes</span><span class="op" id="2055427">(</span><span class="ident" id="2055428">bytes</span><span class="op" id="2055433">,</span>&nbsp;<span class="ident" id="2055435">verb</span><span class="op" id="2055439">,</span>&nbsp;<span class="ident" id="2055441">typ</span><span class="op" id="2055444">,</span>&nbsp;<span class="ident" id="2055446">depth</span><span class="op" id="2055451">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055456">wasString</span>&nbsp;<span class="op" id="2055466">=</span>&nbsp;<span class="ident" id="2055468">verb</span>&nbsp;<span class="op" id="2055473">==</span>&nbsp;<span class="string" id="2055476">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055483">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055495">if</span>&nbsp;<span class="ident" id="2055498">p</span><span class="op" id="2055499">.</span><span class="ident" id="2055500">fmt</span><span class="op" id="2055503">.</span><span class="ident" id="2055504">sharpV</span>&nbsp;<span class="op" id="2055511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055516">p</span><span class="op" id="2055517">.</span><span class="ident" id="2055518">buf</span><span class="op" id="2055521">.</span><span class="ident" id="2055522">WriteString</span><span class="op" id="2055533">(</span><span class="ident" id="2055534">value</span><span class="op" id="2055539">.</span><span class="ident" id="2055540">Type</span><span class="op" id="2055544">(</span><span class="op" id="2055545">)</span><span class="op" id="2055546">.</span><span class="ident" id="2055547">String</span><span class="op" id="2055553">(</span><span class="op" id="2055554">)</span><span class="op" id="2055555">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055560">if</span>&nbsp;<span class="ident" id="2055563">f</span><span class="op" id="2055564">.</span><span class="ident" id="2055565">Kind</span><span class="op" id="2055569">(</span><span class="op" id="2055570">)</span>&nbsp;<span class="op" id="2055572">==</span>&nbsp;<span class="ident" id="2055575">reflect</span><span class="op" id="2055582">.</span><span class="ident" id="2055583">Slice</span>&nbsp;<span class="op" id="2055589">&amp;&amp;</span>&nbsp;<span class="ident" id="2055592">f</span><span class="op" id="2055593">.</span><span class="ident" id="2055594">IsNil</span><span class="op" id="2055599">(</span><span class="op" id="2055600">)</span>&nbsp;<span class="op" id="2055602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055608">p</span><span class="op" id="2055609">.</span><span class="ident" id="2055610">buf</span><span class="op" id="2055613">.</span><span class="ident" id="2055614">WriteString</span><span class="op" id="2055625">(</span><span class="string" id="2055626">&#34;(nil)&#34;</span><span class="op" id="2055633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055639">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055653">p</span><span class="op" id="2055654">.</span><span class="ident" id="2055655">buf</span><span class="op" id="2055658">.</span><span class="ident" id="2055659">WriteByte</span><span class="op" id="2055668">(</span><span class="string" id="2055669">&#39;{&#39;</span><span class="op" id="2055672">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055676">}</span>&nbsp;<span class="keyword" id="2055678">else</span>&nbsp;<span class="op" id="2055683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055688">p</span><span class="op" id="2055689">.</span><span class="ident" id="2055690">buf</span><span class="op" id="2055693">.</span><span class="ident" id="2055694">WriteByte</span><span class="op" id="2055703">(</span><span class="string" id="2055704">&#39;[&#39;</span><span class="op" id="2055707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055715">for</span>&nbsp;<span class="ident" id="2055719">i</span>&nbsp;<span class="op" id="2055721">:=</span>&nbsp;<span class="num" id="2055724">0</span><span class="op" id="2055725">;</span>&nbsp;<span class="ident" id="2055727">i</span>&nbsp;<span class="op" id="2055729">&lt;</span>&nbsp;<span class="ident" id="2055731">f</span><span class="op" id="2055732">.</span><span class="ident" id="2055733">Len</span><span class="op" id="2055736">(</span><span class="op" id="2055737">)</span><span class="op" id="2055738">;</span>&nbsp;<span class="ident" id="2055740">i</span><span class="op" id="2055741">++</span>&nbsp;<span class="op" id="2055744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055749">if</span>&nbsp;<span class="ident" id="2055752">i</span>&nbsp;<span class="op" id="2055754">&gt;</span>&nbsp;<span class="num" id="2055756">0</span>&nbsp;<span class="op" id="2055758">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055764">if</span>&nbsp;<span class="ident" id="2055767">p</span><span class="op" id="2055768">.</span><span class="ident" id="2055769">fmt</span><span class="op" id="2055772">.</span><span class="ident" id="2055773">sharpV</span>&nbsp;<span class="op" id="2055780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055787">p</span><span class="op" id="2055788">.</span><span class="ident" id="2055789">buf</span><span class="op" id="2055792">.</span><span class="ident" id="2055793">Write</span><span class="op" id="2055798">(</span><span class="ident" id="2055799">commaSpaceBytes</span><span class="op" id="2055814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055820">}</span>&nbsp;<span class="keyword" id="2055822">else</span>&nbsp;<span class="op" id="2055827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055834">p</span><span class="op" id="2055835">.</span><span class="ident" id="2055836">buf</span><span class="op" id="2055839">.</span><span class="ident" id="2055840">WriteByte</span><span class="op" id="2055849">(</span><span class="string" id="2055850">&#39;&nbsp;&#39;</span><span class="op" id="2055853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055859">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055869">p</span><span class="op" id="2055870">.</span><span class="ident" id="2055871">printValue</span><span class="op" id="2055881">(</span><span class="ident" id="2055882">f</span><span class="op" id="2055883">.</span><span class="ident" id="2055884">Index</span><span class="op" id="2055889">(</span><span class="ident" id="2055890">i</span><span class="op" id="2055891">)</span><span class="op" id="2055892">,</span>&nbsp;<span class="ident" id="2055894">verb</span><span class="op" id="2055898">,</span>&nbsp;<span class="ident" id="2055900">depth</span><span class="op" id="2055905">+</span><span class="num" id="2055906">1</span><span class="op" id="2055907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055915">if</span>&nbsp;<span class="ident" id="2055918">p</span><span class="op" id="2055919">.</span><span class="ident" id="2055920">fmt</span><span class="op" id="2055923">.</span><span class="ident" id="2055924">sharpV</span>&nbsp;<span class="op" id="2055931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055936">p</span><span class="op" id="2055937">.</span><span class="ident" id="2055938">buf</span><span class="op" id="2055941">.</span><span class="ident" id="2055942">WriteByte</span><span class="op" id="2055951">(</span><span class="string" id="2055952">&#39;}&#39;</span><span class="op" id="2055955">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055959">}</span>&nbsp;<span class="keyword" id="2055961">else</span>&nbsp;<span class="op" id="2055966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2055971">p</span><span class="op" id="2055972">.</span><span class="ident" id="2055973">buf</span><span class="op" id="2055976">.</span><span class="ident" id="2055977">WriteByte</span><span class="op" id="2055986">(</span><span class="string" id="2055987">&#39;]&#39;</span><span class="op" id="2055990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2055994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2055997">case</span>&nbsp;<span class="ident" id="2056002">reflect</span><span class="op" id="2056009">.</span><span class="ident" id="2056010">Ptr</span><span class="op" id="2056013">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056017">v</span>&nbsp;<span class="op" id="2056019">:=</span>&nbsp;<span class="ident" id="2056022">f</span><span class="op" id="2056023">.</span><span class="ident" id="2056024">Pointer</span><span class="op" id="2056031">(</span><span class="op" id="2056032">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2056036">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2056095">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056131">if</span>&nbsp;<span class="ident" id="2056134">v</span>&nbsp;<span class="op" id="2056136">!=</span>&nbsp;<span class="num" id="2056139">0</span>&nbsp;<span class="op" id="2056141">&amp;&amp;</span>&nbsp;<span class="ident" id="2056144">depth</span>&nbsp;<span class="op" id="2056150">==</span>&nbsp;<span class="num" id="2056153">0</span>&nbsp;<span class="op" id="2056155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056160">switch</span>&nbsp;<span class="ident" id="2056167">a</span>&nbsp;<span class="op" id="2056169">:=</span>&nbsp;<span class="ident" id="2056172">f</span><span class="op" id="2056173">.</span><span class="ident" id="2056174">Elem</span><span class="op" id="2056178">(</span><span class="op" id="2056179">)</span><span class="op" id="2056180">;</span>&nbsp;<span class="ident" id="2056182">a</span><span class="op" id="2056183">.</span><span class="ident" id="2056184">Kind</span><span class="op" id="2056188">(</span><span class="op" id="2056189">)</span>&nbsp;<span class="op" id="2056191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056196">case</span>&nbsp;<span class="ident" id="2056201">reflect</span><span class="op" id="2056208">.</span><span class="ident" id="2056209">Array</span><span class="op" id="2056214">,</span>&nbsp;<span class="ident" id="2056216">reflect</span><span class="op" id="2056223">.</span><span class="ident" id="2056224">Slice</span><span class="op" id="2056229">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056235">p</span><span class="op" id="2056236">.</span><span class="ident" id="2056237">buf</span><span class="op" id="2056240">.</span><span class="ident" id="2056241">WriteByte</span><span class="op" id="2056250">(</span><span class="string" id="2056251">&#39;&amp;&#39;</span><span class="op" id="2056254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056260">p</span><span class="op" id="2056261">.</span><span class="ident" id="2056262">printValue</span><span class="op" id="2056272">(</span><span class="ident" id="2056273">a</span><span class="op" id="2056274">,</span>&nbsp;<span class="ident" id="2056276">verb</span><span class="op" id="2056280">,</span>&nbsp;<span class="ident" id="2056282">depth</span><span class="op" id="2056287">+</span><span class="num" id="2056288">1</span><span class="op" id="2056289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056295">break</span>&nbsp;<span class="ident" id="2056301">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056314">case</span>&nbsp;<span class="ident" id="2056319">reflect</span><span class="op" id="2056326">.</span><span class="ident" id="2056327">Struct</span><span class="op" id="2056333">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056339">p</span><span class="op" id="2056340">.</span><span class="ident" id="2056341">buf</span><span class="op" id="2056344">.</span><span class="ident" id="2056345">WriteByte</span><span class="op" id="2056354">(</span><span class="string" id="2056355">&#39;&amp;&#39;</span><span class="op" id="2056358">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056364">p</span><span class="op" id="2056365">.</span><span class="ident" id="2056366">printValue</span><span class="op" id="2056376">(</span><span class="ident" id="2056377">a</span><span class="op" id="2056378">,</span>&nbsp;<span class="ident" id="2056380">verb</span><span class="op" id="2056384">,</span>&nbsp;<span class="ident" id="2056386">depth</span><span class="op" id="2056391">+</span><span class="num" id="2056392">1</span><span class="op" id="2056393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056399">break</span>&nbsp;<span class="ident" id="2056405">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056418">case</span>&nbsp;<span class="ident" id="2056423">reflect</span><span class="op" id="2056430">.</span><span class="ident" id="2056431">Map</span><span class="op" id="2056434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056440">p</span><span class="op" id="2056441">.</span><span class="ident" id="2056442">buf</span><span class="op" id="2056445">.</span><span class="ident" id="2056446">WriteByte</span><span class="op" id="2056455">(</span><span class="string" id="2056456">&#39;&amp;&#39;</span><span class="op" id="2056459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056465">p</span><span class="op" id="2056466">.</span><span class="ident" id="2056467">printValue</span><span class="op" id="2056477">(</span><span class="ident" id="2056478">a</span><span class="op" id="2056479">,</span>&nbsp;<span class="ident" id="2056481">verb</span><span class="op" id="2056485">,</span>&nbsp;<span class="ident" id="2056487">depth</span><span class="op" id="2056492">+</span><span class="num" id="2056493">1</span><span class="op" id="2056494">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056500">break</span>&nbsp;<span class="ident" id="2056506">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2056519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2056523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056527">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056540">case</span>&nbsp;<span class="ident" id="2056545">reflect</span><span class="op" id="2056552">.</span><span class="ident" id="2056553">Chan</span><span class="op" id="2056557">,</span>&nbsp;<span class="ident" id="2056559">reflect</span><span class="op" id="2056566">.</span><span class="ident" id="2056567">Func</span><span class="op" id="2056571">,</span>&nbsp;<span class="ident" id="2056573">reflect</span><span class="op" id="2056580">.</span><span class="ident" id="2056581">UnsafePointer</span><span class="op" id="2056594">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056598">p</span><span class="op" id="2056599">.</span><span class="ident" id="2056600">fmtPointer</span><span class="op" id="2056610">(</span><span class="ident" id="2056611">value</span><span class="op" id="2056616">,</span>&nbsp;<span class="ident" id="2056618">verb</span><span class="op" id="2056622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056625">default</span><span class="op" id="2056632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056636">p</span><span class="op" id="2056637">.</span><span class="ident" id="2056638">unknownType</span><span class="op" id="2056649">(</span><span class="ident" id="2056650">f</span><span class="op" id="2056651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2056654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056657">p</span><span class="op" id="2056658">.</span><span class="ident" id="2056659">value</span>&nbsp;<span class="op" id="2056665">=</span>&nbsp;<span class="ident" id="2056667">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056677">return</span>&nbsp;<span class="ident" id="2056684">wasString</span><br>
<span class="lineno"></span><span class="op" id="2056694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2056697">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2056803">func</span>&nbsp;<span class="ident" id="2056808">intFromArg</span><span class="op" id="2056818">(</span><span class="ident" id="2056819">a</span>&nbsp;<span class="op" id="2056821">[</span><span class="op" id="2056822">]</span><span class="keyword" id="2056823">interface</span><span class="op" id="2056832">{</span><span class="op" id="2056833">}</span><span class="op" id="2056834">,</span>&nbsp;<span class="ident" id="2056836">argNum</span>&nbsp;<span class="builtintype" id="2056843">int</span><span class="op" id="2056846">)</span>&nbsp;<span class="op" id="2056848">(</span><span class="ident" id="2056849">num</span>&nbsp;<span class="builtintype" id="2056853">int</span><span class="op" id="2056856">,</span>&nbsp;<span class="ident" id="2056858">isInt</span>&nbsp;<span class="builtintype" id="2056864">bool</span><span class="op" id="2056868">,</span>&nbsp;<span class="ident" id="2056870">newArgNum</span>&nbsp;<span class="builtintype" id="2056880">int</span><span class="op" id="2056883">)</span>&nbsp;<span class="op" id="2056885">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056888">newArgNum</span>&nbsp;<span class="op" id="2056898">=</span>&nbsp;<span class="ident" id="2056900">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056908">if</span>&nbsp;<span class="ident" id="2056911">argNum</span>&nbsp;<span class="op" id="2056918">&lt;</span>&nbsp;<span class="builtinfunc" id="2056920">len</span><span class="op" id="2056923">(</span><span class="ident" id="2056924">a</span><span class="op" id="2056925">)</span>&nbsp;<span class="op" id="2056927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056931">num</span><span class="op" id="2056934">,</span>&nbsp;<span class="ident" id="2056936">isInt</span>&nbsp;<span class="op" id="2056942">=</span>&nbsp;<span class="ident" id="2056944">a</span><span class="op" id="2056945">[</span><span class="ident" id="2056946">argNum</span><span class="op" id="2056952">]</span><span class="op" id="2056953">.</span><span class="op" id="2056954">(</span><span class="builtintype" id="2056955">int</span><span class="op" id="2056958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2056962">newArgNum</span>&nbsp;<span class="op" id="2056972">=</span>&nbsp;<span class="ident" id="2056974">argNum</span>&nbsp;<span class="op" id="2056981">+</span>&nbsp;<span class="num" id="2056983">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2056986">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2056989">return</span><br>
<span class="lineno"></span><span class="op" id="2056996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2056999">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2057068">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2057141">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2057201">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2057270">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2057340">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2057410">func</span>&nbsp;<span class="ident" id="2057415">parseArgNumber</span><span class="op" id="2057429">(</span><span class="ident" id="2057430">format</span>&nbsp;<span class="builtintype" id="2057437">string</span><span class="op" id="2057443">)</span>&nbsp;<span class="op" id="2057445">(</span><span class="ident" id="2057446">index</span>&nbsp;<span class="builtintype" id="2057452">int</span><span class="op" id="2057455">,</span>&nbsp;<span class="ident" id="2057457">wid</span>&nbsp;<span class="builtintype" id="2057461">int</span><span class="op" id="2057464">,</span>&nbsp;<span class="ident" id="2057466">ok</span>&nbsp;<span class="builtintype" id="2057469">bool</span><span class="op" id="2057473">)</span>&nbsp;<span class="op" id="2057475">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2057478">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2057504">for</span>&nbsp;<span class="ident" id="2057508">i</span>&nbsp;<span class="op" id="2057510">:=</span>&nbsp;<span class="num" id="2057513">1</span><span class="op" id="2057514">;</span>&nbsp;<span class="ident" id="2057516">i</span>&nbsp;<span class="op" id="2057518">&lt;</span>&nbsp;<span class="builtinfunc" id="2057520">len</span><span class="op" id="2057523">(</span><span class="ident" id="2057524">format</span><span class="op" id="2057530">)</span><span class="op" id="2057531">;</span>&nbsp;<span class="ident" id="2057533">i</span><span class="op" id="2057534">++</span>&nbsp;<span class="op" id="2057537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2057541">if</span>&nbsp;<span class="ident" id="2057544">format</span><span class="op" id="2057550">[</span><span class="ident" id="2057551">i</span><span class="op" id="2057552">]</span>&nbsp;<span class="op" id="2057554">==</span>&nbsp;<span class="string" id="2057557">&#39;]&#39;</span>&nbsp;<span class="op" id="2057561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2057566">width</span><span class="op" id="2057571">,</span>&nbsp;<span class="ident" id="2057573">ok</span><span class="op" id="2057575">,</span>&nbsp;<span class="ident" id="2057577">newi</span>&nbsp;<span class="op" id="2057582">:=</span>&nbsp;<span class="ident" id="2057585">parsenum</span><span class="op" id="2057593">(</span><span class="ident" id="2057594">format</span><span class="op" id="2057600">,</span>&nbsp;<span class="num" id="2057602">1</span><span class="op" id="2057603">,</span>&nbsp;<span class="ident" id="2057605">i</span><span class="op" id="2057606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2057611">if</span>&nbsp;<span class="op" id="2057614">!</span><span class="ident" id="2057615">ok</span>&nbsp;<span class="op" id="2057618">||</span>&nbsp;<span class="ident" id="2057621">newi</span>&nbsp;<span class="op" id="2057626">!=</span>&nbsp;<span class="ident" id="2057629">i</span>&nbsp;<span class="op" id="2057631">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2057637">return</span>&nbsp;<span class="num" id="2057644">0</span><span class="op" id="2057645">,</span>&nbsp;<span class="ident" id="2057647">i</span>&nbsp;<span class="op" id="2057649">+</span>&nbsp;<span class="num" id="2057651">1</span><span class="op" id="2057652">,</span>&nbsp;<span class="builtintype" id="2057654">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2057663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2057668">return</span>&nbsp;<span class="ident" id="2057675">width</span>&nbsp;<span class="op" id="2057681">-</span>&nbsp;<span class="num" id="2057683">1</span><span class="op" id="2057684">,</span>&nbsp;<span class="ident" id="2057686">i</span>&nbsp;<span class="op" id="2057688">+</span>&nbsp;<span class="num" id="2057690">1</span><span class="op" id="2057691">,</span>&nbsp;<span class="builtintype" id="2057693">true</span>&nbsp;<span class="comment" id="2057698">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2057747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2057750">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2057753">return</span>&nbsp;<span class="num" id="2057760">0</span><span class="op" id="2057761">,</span>&nbsp;<span class="num" id="2057763">1</span><span class="op" id="2057764">,</span>&nbsp;<span class="builtintype" id="2057766">false</span><br>
<span class="lineno"></span><span class="op" id="2057772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2057775">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2057870">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2057958">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2058043">func</span>&nbsp;<span class="op" id="2058048">(</span><span class="ident" id="2058049">p</span>&nbsp;<span class="op" id="2058051">*</span><span class="ident" id="2058052">pp</span><span class="op" id="2058054">)</span>&nbsp;<span class="ident" id="2058056">argNumber</span><span class="op" id="2058065">(</span><span class="ident" id="2058066">argNum</span>&nbsp;<span class="builtintype" id="2058073">int</span><span class="op" id="2058076">,</span>&nbsp;<span class="ident" id="2058078">format</span>&nbsp;<span class="builtintype" id="2058085">string</span><span class="op" id="2058091">,</span>&nbsp;<span class="ident" id="2058093">i</span>&nbsp;<span class="builtintype" id="2058095">int</span><span class="op" id="2058098">,</span>&nbsp;<span class="ident" id="2058100">numArgs</span>&nbsp;<span class="builtintype" id="2058108">int</span><span class="op" id="2058111">)</span>&nbsp;<span class="op" id="2058113">(</span><span class="ident" id="2058114">newArgNum</span><span class="op" id="2058123">,</span>&nbsp;<span class="ident" id="2058125">newi</span>&nbsp;<span class="builtintype" id="2058130">int</span><span class="op" id="2058133">,</span>&nbsp;<span class="ident" id="2058135">found</span>&nbsp;<span class="builtintype" id="2058141">bool</span><span class="op" id="2058145">)</span>&nbsp;<span class="op" id="2058147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058150">if</span>&nbsp;<span class="builtinfunc" id="2058153">len</span><span class="op" id="2058156">(</span><span class="ident" id="2058157">format</span><span class="op" id="2058163">)</span>&nbsp;<span class="op" id="2058165">&lt;=</span>&nbsp;<span class="ident" id="2058168">i</span>&nbsp;<span class="op" id="2058170">||</span>&nbsp;<span class="ident" id="2058173">format</span><span class="op" id="2058179">[</span><span class="ident" id="2058180">i</span><span class="op" id="2058181">]</span>&nbsp;<span class="op" id="2058183">!=</span>&nbsp;<span class="string" id="2058186">&#39;[&#39;</span>&nbsp;<span class="op" id="2058190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058194">return</span>&nbsp;<span class="ident" id="2058201">argNum</span><span class="op" id="2058207">,</span>&nbsp;<span class="ident" id="2058209">i</span><span class="op" id="2058210">,</span>&nbsp;<span class="builtintype" id="2058212">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058219">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058222">p</span><span class="op" id="2058223">.</span><span class="ident" id="2058224">reordered</span>&nbsp;<span class="op" id="2058234">=</span>&nbsp;<span class="builtintype" id="2058236">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058242">index</span><span class="op" id="2058247">,</span>&nbsp;<span class="ident" id="2058249">wid</span><span class="op" id="2058252">,</span>&nbsp;<span class="ident" id="2058254">ok</span>&nbsp;<span class="op" id="2058257">:=</span>&nbsp;<span class="ident" id="2058260">parseArgNumber</span><span class="op" id="2058274">(</span><span class="ident" id="2058275">format</span><span class="op" id="2058281">[</span><span class="ident" id="2058282">i</span><span class="op" id="2058283">:</span><span class="op" id="2058284">]</span><span class="op" id="2058285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058288">if</span>&nbsp;<span class="ident" id="2058291">ok</span>&nbsp;<span class="op" id="2058294">&amp;&amp;</span>&nbsp;<span class="num" id="2058297">0</span>&nbsp;<span class="op" id="2058299">&lt;=</span>&nbsp;<span class="ident" id="2058302">index</span>&nbsp;<span class="op" id="2058308">&amp;&amp;</span>&nbsp;<span class="ident" id="2058311">index</span>&nbsp;<span class="op" id="2058317">&lt;</span>&nbsp;<span class="ident" id="2058319">numArgs</span>&nbsp;<span class="op" id="2058327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058331">return</span>&nbsp;<span class="ident" id="2058338">index</span><span class="op" id="2058343">,</span>&nbsp;<span class="ident" id="2058345">i</span>&nbsp;<span class="op" id="2058347">+</span>&nbsp;<span class="ident" id="2058349">wid</span><span class="op" id="2058352">,</span>&nbsp;<span class="builtintype" id="2058354">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058360">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058363">p</span><span class="op" id="2058364">.</span><span class="ident" id="2058365">goodArgNum</span>&nbsp;<span class="op" id="2058376">=</span>&nbsp;<span class="builtintype" id="2058378">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058385">return</span>&nbsp;<span class="ident" id="2058392">argNum</span><span class="op" id="2058398">,</span>&nbsp;<span class="ident" id="2058400">i</span>&nbsp;<span class="op" id="2058402">+</span>&nbsp;<span class="ident" id="2058404">wid</span><span class="op" id="2058407">,</span>&nbsp;<span class="builtintype" id="2058409">true</span><br>
<span class="lineno"></span><span class="op" id="2058414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2058417">func</span>&nbsp;<span class="op" id="2058422">(</span><span class="ident" id="2058423">p</span>&nbsp;<span class="op" id="2058425">*</span><span class="ident" id="2058426">pp</span><span class="op" id="2058428">)</span>&nbsp;<span class="ident" id="2058430">doPrintf</span><span class="op" id="2058438">(</span><span class="ident" id="2058439">format</span>&nbsp;<span class="builtintype" id="2058446">string</span><span class="op" id="2058452">,</span>&nbsp;<span class="ident" id="2058454">a</span>&nbsp;<span class="op" id="2058456">[</span><span class="op" id="2058457">]</span><span class="keyword" id="2058458">interface</span><span class="op" id="2058467">{</span><span class="op" id="2058468">}</span><span class="op" id="2058469">)</span>&nbsp;<span class="op" id="2058471">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058474">end</span>&nbsp;<span class="op" id="2058478">:=</span>&nbsp;<span class="builtinfunc" id="2058481">len</span><span class="op" id="2058484">(</span><span class="ident" id="2058485">format</span><span class="op" id="2058491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058494">argNum</span>&nbsp;<span class="op" id="2058501">:=</span>&nbsp;<span class="num" id="2058504">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2058514">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058565">afterIndex</span>&nbsp;<span class="op" id="2058576">:=</span>&nbsp;<span class="builtintype" id="2058579">false</span>&nbsp;<span class="comment" id="2058585">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058636">p</span><span class="op" id="2058637">.</span><span class="ident" id="2058638">reordered</span>&nbsp;<span class="op" id="2058648">=</span>&nbsp;<span class="builtintype" id="2058650">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058657">for</span>&nbsp;<span class="ident" id="2058661">i</span>&nbsp;<span class="op" id="2058663">:=</span>&nbsp;<span class="num" id="2058666">0</span><span class="op" id="2058667">;</span>&nbsp;<span class="ident" id="2058669">i</span>&nbsp;<span class="op" id="2058671">&lt;</span>&nbsp;<span class="ident" id="2058673">end</span><span class="op" id="2058676">;</span>&nbsp;<span class="op" id="2058678">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058682">p</span><span class="op" id="2058683">.</span><span class="ident" id="2058684">goodArgNum</span>&nbsp;<span class="op" id="2058695">=</span>&nbsp;<span class="builtintype" id="2058697">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058704">lasti</span>&nbsp;<span class="op" id="2058710">:=</span>&nbsp;<span class="ident" id="2058713">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058717">for</span>&nbsp;<span class="ident" id="2058721">i</span>&nbsp;<span class="op" id="2058723">&lt;</span>&nbsp;<span class="ident" id="2058725">end</span>&nbsp;<span class="op" id="2058729">&amp;&amp;</span>&nbsp;<span class="ident" id="2058732">format</span><span class="op" id="2058738">[</span><span class="ident" id="2058739">i</span><span class="op" id="2058740">]</span>&nbsp;<span class="op" id="2058742">!=</span>&nbsp;<span class="string" id="2058745">&#39;%&#39;</span>&nbsp;<span class="op" id="2058749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058754">i</span><span class="op" id="2058755">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058760">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058764">if</span>&nbsp;<span class="ident" id="2058767">i</span>&nbsp;<span class="op" id="2058769">&gt;</span>&nbsp;<span class="ident" id="2058771">lasti</span>&nbsp;<span class="op" id="2058777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058782">p</span><span class="op" id="2058783">.</span><span class="ident" id="2058784">buf</span><span class="op" id="2058787">.</span><span class="ident" id="2058788">WriteString</span><span class="op" id="2058799">(</span><span class="ident" id="2058800">format</span><span class="op" id="2058806">[</span><span class="ident" id="2058807">lasti</span><span class="op" id="2058812">:</span><span class="ident" id="2058813">i</span><span class="op" id="2058814">]</span><span class="op" id="2058815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058823">if</span>&nbsp;<span class="ident" id="2058826">i</span>&nbsp;<span class="op" id="2058828">&gt;=</span>&nbsp;<span class="ident" id="2058831">end</span>&nbsp;<span class="op" id="2058835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2058840">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058876">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2058889">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058911">i</span><span class="op" id="2058912">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2058918">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058941">p</span><span class="op" id="2058942">.</span><span class="ident" id="2058943">fmt</span><span class="op" id="2058946">.</span><span class="ident" id="2058947">clearflags</span><span class="op" id="2058957">(</span><span class="op" id="2058958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2058961">F</span><span class="op" id="2058962">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058966">for</span>&nbsp;<span class="op" id="2058970">;</span>&nbsp;<span class="ident" id="2058972">i</span>&nbsp;<span class="op" id="2058974">&lt;</span>&nbsp;<span class="ident" id="2058976">end</span><span class="op" id="2058979">;</span>&nbsp;<span class="ident" id="2058981">i</span><span class="op" id="2058982">++</span>&nbsp;<span class="op" id="2058985">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2058990">switch</span>&nbsp;<span class="ident" id="2058997">format</span><span class="op" id="2059003">[</span><span class="ident" id="2059004">i</span><span class="op" id="2059005">]</span>&nbsp;<span class="op" id="2059007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059012">case</span>&nbsp;<span class="string" id="2059017">&#39;#&#39;</span><span class="op" id="2059020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059026">p</span><span class="op" id="2059027">.</span><span class="ident" id="2059028">fmt</span><span class="op" id="2059031">.</span><span class="ident" id="2059032">sharp</span>&nbsp;<span class="op" id="2059038">=</span>&nbsp;<span class="builtintype" id="2059040">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059048">case</span>&nbsp;<span class="string" id="2059053">&#39;0&#39;</span><span class="op" id="2059056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059062">p</span><span class="op" id="2059063">.</span><span class="ident" id="2059064">fmt</span><span class="op" id="2059067">.</span><span class="ident" id="2059068">zero</span>&nbsp;<span class="op" id="2059073">=</span>&nbsp;<span class="builtintype" id="2059075">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059083">case</span>&nbsp;<span class="string" id="2059088">&#39;+&#39;</span><span class="op" id="2059091">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059097">p</span><span class="op" id="2059098">.</span><span class="ident" id="2059099">fmt</span><span class="op" id="2059102">.</span><span class="ident" id="2059103">plus</span>&nbsp;<span class="op" id="2059108">=</span>&nbsp;<span class="builtintype" id="2059110">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059118">case</span>&nbsp;<span class="string" id="2059123">&#39;-&#39;</span><span class="op" id="2059126">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059132">p</span><span class="op" id="2059133">.</span><span class="ident" id="2059134">fmt</span><span class="op" id="2059137">.</span><span class="ident" id="2059138">minus</span>&nbsp;<span class="op" id="2059144">=</span>&nbsp;<span class="builtintype" id="2059146">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059154">case</span>&nbsp;<span class="string" id="2059159">&#39;&nbsp;&#39;</span><span class="op" id="2059162">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059168">p</span><span class="op" id="2059169">.</span><span class="ident" id="2059170">fmt</span><span class="op" id="2059173">.</span><span class="ident" id="2059174">space</span>&nbsp;<span class="op" id="2059180">=</span>&nbsp;<span class="builtintype" id="2059182">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059190">default</span><span class="op" id="2059197">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059203">break</span>&nbsp;<span class="ident" id="2059209">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059218">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2059223">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059267">argNum</span><span class="op" id="2059273">,</span>&nbsp;<span class="ident" id="2059275">i</span><span class="op" id="2059276">,</span>&nbsp;<span class="ident" id="2059278">afterIndex</span>&nbsp;<span class="op" id="2059289">=</span>&nbsp;<span class="ident" id="2059291">p</span><span class="op" id="2059292">.</span><span class="ident" id="2059293">argNumber</span><span class="op" id="2059302">(</span><span class="ident" id="2059303">argNum</span><span class="op" id="2059309">,</span>&nbsp;<span class="ident" id="2059311">format</span><span class="op" id="2059317">,</span>&nbsp;<span class="ident" id="2059319">i</span><span class="op" id="2059320">,</span>&nbsp;<span class="builtinfunc" id="2059322">len</span><span class="op" id="2059325">(</span><span class="ident" id="2059326">a</span><span class="op" id="2059327">)</span><span class="op" id="2059328">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2059333">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059356">if</span>&nbsp;<span class="ident" id="2059359">i</span>&nbsp;<span class="op" id="2059361">&lt;</span>&nbsp;<span class="ident" id="2059363">end</span>&nbsp;<span class="op" id="2059367">&amp;&amp;</span>&nbsp;<span class="ident" id="2059370">format</span><span class="op" id="2059376">[</span><span class="ident" id="2059377">i</span><span class="op" id="2059378">]</span>&nbsp;<span class="op" id="2059380">==</span>&nbsp;<span class="string" id="2059383">&#39;*&#39;</span>&nbsp;<span class="op" id="2059387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059392">i</span><span class="op" id="2059393">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059399">p</span><span class="op" id="2059400">.</span><span class="ident" id="2059401">fmt</span><span class="op" id="2059404">.</span><span class="ident" id="2059405">wid</span><span class="op" id="2059408">,</span>&nbsp;<span class="ident" id="2059410">p</span><span class="op" id="2059411">.</span><span class="ident" id="2059412">fmt</span><span class="op" id="2059415">.</span><span class="ident" id="2059416">widPresent</span><span class="op" id="2059426">,</span>&nbsp;<span class="ident" id="2059428">argNum</span>&nbsp;<span class="op" id="2059435">=</span>&nbsp;<span class="ident" id="2059437">intFromArg</span><span class="op" id="2059447">(</span><span class="ident" id="2059448">a</span><span class="op" id="2059449">,</span>&nbsp;<span class="ident" id="2059451">argNum</span><span class="op" id="2059457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059462">if</span>&nbsp;<span class="op" id="2059465">!</span><span class="ident" id="2059466">p</span><span class="op" id="2059467">.</span><span class="ident" id="2059468">fmt</span><span class="op" id="2059471">.</span><span class="ident" id="2059472">widPresent</span>&nbsp;<span class="op" id="2059483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059489">p</span><span class="op" id="2059490">.</span><span class="ident" id="2059491">buf</span><span class="op" id="2059494">.</span><span class="ident" id="2059495">Write</span><span class="op" id="2059500">(</span><span class="ident" id="2059501">badWidthBytes</span><span class="op" id="2059514">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059524">afterIndex</span>&nbsp;<span class="op" id="2059535">=</span>&nbsp;<span class="builtintype" id="2059537">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059545">}</span>&nbsp;<span class="keyword" id="2059547">else</span>&nbsp;<span class="op" id="2059552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059557">p</span><span class="op" id="2059558">.</span><span class="ident" id="2059559">fmt</span><span class="op" id="2059562">.</span><span class="ident" id="2059563">wid</span><span class="op" id="2059566">,</span>&nbsp;<span class="ident" id="2059568">p</span><span class="op" id="2059569">.</span><span class="ident" id="2059570">fmt</span><span class="op" id="2059573">.</span><span class="ident" id="2059574">widPresent</span><span class="op" id="2059584">,</span>&nbsp;<span class="ident" id="2059586">i</span>&nbsp;<span class="op" id="2059588">=</span>&nbsp;<span class="ident" id="2059590">parsenum</span><span class="op" id="2059598">(</span><span class="ident" id="2059599">format</span><span class="op" id="2059605">,</span>&nbsp;<span class="ident" id="2059607">i</span><span class="op" id="2059608">,</span>&nbsp;<span class="ident" id="2059610">end</span><span class="op" id="2059613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059618">if</span>&nbsp;<span class="ident" id="2059621">afterIndex</span>&nbsp;<span class="op" id="2059632">&amp;&amp;</span>&nbsp;<span class="ident" id="2059635">p</span><span class="op" id="2059636">.</span><span class="ident" id="2059637">fmt</span><span class="op" id="2059640">.</span><span class="ident" id="2059641">widPresent</span>&nbsp;<span class="op" id="2059652">{</span>&nbsp;<span class="comment" id="2059654">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059670">p</span><span class="op" id="2059671">.</span><span class="ident" id="2059672">goodArgNum</span>&nbsp;<span class="op" id="2059683">=</span>&nbsp;<span class="builtintype" id="2059685">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2059703">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059730">if</span>&nbsp;<span class="ident" id="2059733">i</span><span class="op" id="2059734">+</span><span class="num" id="2059735">1</span>&nbsp;<span class="op" id="2059737">&lt;</span>&nbsp;<span class="ident" id="2059739">end</span>&nbsp;<span class="op" id="2059743">&amp;&amp;</span>&nbsp;<span class="ident" id="2059746">format</span><span class="op" id="2059752">[</span><span class="ident" id="2059753">i</span><span class="op" id="2059754">]</span>&nbsp;<span class="op" id="2059756">==</span>&nbsp;<span class="string" id="2059759">&#39;.&#39;</span>&nbsp;<span class="op" id="2059763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059768">i</span><span class="op" id="2059769">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059775">if</span>&nbsp;<span class="ident" id="2059778">afterIndex</span>&nbsp;<span class="op" id="2059789">{</span>&nbsp;<span class="comment" id="2059791">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059808">p</span><span class="op" id="2059809">.</span><span class="ident" id="2059810">goodArgNum</span>&nbsp;<span class="op" id="2059821">=</span>&nbsp;<span class="builtintype" id="2059823">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059832">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059837">argNum</span><span class="op" id="2059843">,</span>&nbsp;<span class="ident" id="2059845">i</span><span class="op" id="2059846">,</span>&nbsp;<span class="ident" id="2059848">afterIndex</span>&nbsp;<span class="op" id="2059859">=</span>&nbsp;<span class="ident" id="2059861">p</span><span class="op" id="2059862">.</span><span class="ident" id="2059863">argNumber</span><span class="op" id="2059872">(</span><span class="ident" id="2059873">argNum</span><span class="op" id="2059879">,</span>&nbsp;<span class="ident" id="2059881">format</span><span class="op" id="2059887">,</span>&nbsp;<span class="ident" id="2059889">i</span><span class="op" id="2059890">,</span>&nbsp;<span class="builtinfunc" id="2059892">len</span><span class="op" id="2059895">(</span><span class="ident" id="2059896">a</span><span class="op" id="2059897">)</span><span class="op" id="2059898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2059903">if</span>&nbsp;<span class="ident" id="2059906">format</span><span class="op" id="2059912">[</span><span class="ident" id="2059913">i</span><span class="op" id="2059914">]</span>&nbsp;<span class="op" id="2059916">==</span>&nbsp;<span class="string" id="2059919">&#39;*&#39;</span>&nbsp;<span class="op" id="2059923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059929">i</span><span class="op" id="2059930">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2059937">p</span><span class="op" id="2059938">.</span><span class="ident" id="2059939">fmt</span><span class="op" id="2059942">.</span><span class="ident" id="2059943">prec</span><span class="op" id="2059947">,</span>&nbsp;<span class="ident" id="2059949">p</span><span class="op" id="2059950">.</span><span class="ident" id="2059951">fmt</span><span class="op" id="2059954">.</span><span class="ident" id="2059955">precPresent</span><span class="op" id="2059966">,</span>&nbsp;<span class="ident" id="2059968">argNum</span>&nbsp;<span class="op" id="2059975">=</span>&nbsp;<span class="ident" id="2059977">intFromArg</span><span class="op" id="2059987">(</span><span class="ident" id="2059988">a</span><span class="op" id="2059989">,</span>&nbsp;<span class="ident" id="2059991">argNum</span><span class="op" id="2059997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060003">if</span>&nbsp;<span class="op" id="2060006">!</span><span class="ident" id="2060007">p</span><span class="op" id="2060008">.</span><span class="ident" id="2060009">fmt</span><span class="op" id="2060012">.</span><span class="ident" id="2060013">precPresent</span>&nbsp;<span class="op" id="2060025">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060032">p</span><span class="op" id="2060033">.</span><span class="ident" id="2060034">buf</span><span class="op" id="2060037">.</span><span class="ident" id="2060038">Write</span><span class="op" id="2060043">(</span><span class="ident" id="2060044">badPrecBytes</span><span class="op" id="2060056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060068">afterIndex</span>&nbsp;<span class="op" id="2060079">=</span>&nbsp;<span class="builtintype" id="2060081">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060090">}</span>&nbsp;<span class="keyword" id="2060092">else</span>&nbsp;<span class="op" id="2060097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060103">p</span><span class="op" id="2060104">.</span><span class="ident" id="2060105">fmt</span><span class="op" id="2060108">.</span><span class="ident" id="2060109">prec</span><span class="op" id="2060113">,</span>&nbsp;<span class="ident" id="2060115">p</span><span class="op" id="2060116">.</span><span class="ident" id="2060117">fmt</span><span class="op" id="2060120">.</span><span class="ident" id="2060121">precPresent</span><span class="op" id="2060132">,</span>&nbsp;<span class="ident" id="2060134">i</span>&nbsp;<span class="op" id="2060136">=</span>&nbsp;<span class="ident" id="2060138">parsenum</span><span class="op" id="2060146">(</span><span class="ident" id="2060147">format</span><span class="op" id="2060153">,</span>&nbsp;<span class="ident" id="2060155">i</span><span class="op" id="2060156">,</span>&nbsp;<span class="ident" id="2060158">end</span><span class="op" id="2060161">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060167">if</span>&nbsp;<span class="op" id="2060170">!</span><span class="ident" id="2060171">p</span><span class="op" id="2060172">.</span><span class="ident" id="2060173">fmt</span><span class="op" id="2060176">.</span><span class="ident" id="2060177">precPresent</span>&nbsp;<span class="op" id="2060189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060196">p</span><span class="op" id="2060197">.</span><span class="ident" id="2060198">fmt</span><span class="op" id="2060201">.</span><span class="ident" id="2060202">prec</span>&nbsp;<span class="op" id="2060207">=</span>&nbsp;<span class="num" id="2060209">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060216">p</span><span class="op" id="2060217">.</span><span class="ident" id="2060218">fmt</span><span class="op" id="2060221">.</span><span class="ident" id="2060222">precPresent</span>&nbsp;<span class="op" id="2060234">=</span>&nbsp;<span class="builtintype" id="2060236">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060250">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060259">if</span>&nbsp;<span class="op" id="2060262">!</span><span class="ident" id="2060263">afterIndex</span>&nbsp;<span class="op" id="2060274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060279">argNum</span><span class="op" id="2060285">,</span>&nbsp;<span class="ident" id="2060287">i</span><span class="op" id="2060288">,</span>&nbsp;<span class="ident" id="2060290">afterIndex</span>&nbsp;<span class="op" id="2060301">=</span>&nbsp;<span class="ident" id="2060303">p</span><span class="op" id="2060304">.</span><span class="ident" id="2060305">argNumber</span><span class="op" id="2060314">(</span><span class="ident" id="2060315">argNum</span><span class="op" id="2060321">,</span>&nbsp;<span class="ident" id="2060323">format</span><span class="op" id="2060329">,</span>&nbsp;<span class="ident" id="2060331">i</span><span class="op" id="2060332">,</span>&nbsp;<span class="builtinfunc" id="2060334">len</span><span class="op" id="2060337">(</span><span class="ident" id="2060338">a</span><span class="op" id="2060339">)</span><span class="op" id="2060340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060344">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060349">if</span>&nbsp;<span class="ident" id="2060352">i</span>&nbsp;<span class="op" id="2060354">&gt;=</span>&nbsp;<span class="ident" id="2060357">end</span>&nbsp;<span class="op" id="2060361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060366">p</span><span class="op" id="2060367">.</span><span class="ident" id="2060368">buf</span><span class="op" id="2060371">.</span><span class="ident" id="2060372">Write</span><span class="op" id="2060377">(</span><span class="ident" id="2060378">noVerbBytes</span><span class="op" id="2060389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060394">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060405">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060409">c</span><span class="op" id="2060410">,</span>&nbsp;<span class="ident" id="2060412">w</span>&nbsp;<span class="op" id="2060414">:=</span>&nbsp;<span class="ident" id="2060417">utf8</span><span class="op" id="2060421">.</span><span class="ident" id="2060422">DecodeRuneInString</span><span class="op" id="2060440">(</span><span class="ident" id="2060441">format</span><span class="op" id="2060447">[</span><span class="ident" id="2060448">i</span><span class="op" id="2060449">:</span><span class="op" id="2060450">]</span><span class="op" id="2060451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060455">i</span>&nbsp;<span class="op" id="2060457">+=</span>&nbsp;<span class="ident" id="2060460">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2060464">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060509">if</span>&nbsp;<span class="ident" id="2060512">c</span>&nbsp;<span class="op" id="2060514">==</span>&nbsp;<span class="string" id="2060517">&#39;%&#39;</span>&nbsp;<span class="op" id="2060521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060526">p</span><span class="op" id="2060527">.</span><span class="ident" id="2060528">buf</span><span class="op" id="2060531">.</span><span class="ident" id="2060532">WriteByte</span><span class="op" id="2060541">(</span><span class="string" id="2060542">&#39;%&#39;</span><span class="op" id="2060545">)</span>&nbsp;<span class="comment" id="2060547">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060579">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060594">if</span>&nbsp;<span class="op" id="2060597">!</span><span class="ident" id="2060598">p</span><span class="op" id="2060599">.</span><span class="ident" id="2060600">goodArgNum</span>&nbsp;<span class="op" id="2060611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060616">p</span><span class="op" id="2060617">.</span><span class="ident" id="2060618">buf</span><span class="op" id="2060621">.</span><span class="ident" id="2060622">Write</span><span class="op" id="2060627">(</span><span class="ident" id="2060628">percentBangBytes</span><span class="op" id="2060644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060649">p</span><span class="op" id="2060650">.</span><span class="ident" id="2060651">add</span><span class="op" id="2060654">(</span><span class="ident" id="2060655">c</span><span class="op" id="2060656">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060661">p</span><span class="op" id="2060662">.</span><span class="ident" id="2060663">buf</span><span class="op" id="2060666">.</span><span class="ident" id="2060667">Write</span><span class="op" id="2060672">(</span><span class="ident" id="2060673">badIndexBytes</span><span class="op" id="2060686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060691">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060702">}</span>&nbsp;<span class="keyword" id="2060704">else</span>&nbsp;<span class="keyword" id="2060709">if</span>&nbsp;<span class="ident" id="2060712">argNum</span>&nbsp;<span class="op" id="2060719">&gt;=</span>&nbsp;<span class="builtinfunc" id="2060722">len</span><span class="op" id="2060725">(</span><span class="ident" id="2060726">a</span><span class="op" id="2060727">)</span>&nbsp;<span class="op" id="2060729">{</span>&nbsp;<span class="comment" id="2060731">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060753">p</span><span class="op" id="2060754">.</span><span class="ident" id="2060755">buf</span><span class="op" id="2060758">.</span><span class="ident" id="2060759">Write</span><span class="op" id="2060764">(</span><span class="ident" id="2060765">percentBangBytes</span><span class="op" id="2060781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060786">p</span><span class="op" id="2060787">.</span><span class="ident" id="2060788">add</span><span class="op" id="2060791">(</span><span class="ident" id="2060792">c</span><span class="op" id="2060793">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060798">p</span><span class="op" id="2060799">.</span><span class="ident" id="2060800">buf</span><span class="op" id="2060803">.</span><span class="ident" id="2060804">Write</span><span class="op" id="2060809">(</span><span class="ident" id="2060810">missingBytes</span><span class="op" id="2060822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060827">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2060838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060842">arg</span>&nbsp;<span class="op" id="2060846">:=</span>&nbsp;<span class="ident" id="2060849">a</span><span class="op" id="2060850">[</span><span class="ident" id="2060851">argNum</span><span class="op" id="2060857">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060861">argNum</span><span class="op" id="2060867">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060873">if</span>&nbsp;<span class="ident" id="2060876">c</span>&nbsp;<span class="op" id="2060878">==</span>&nbsp;<span class="string" id="2060881">&#39;v&#39;</span>&nbsp;<span class="op" id="2060885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2060890">if</span>&nbsp;<span class="ident" id="2060893">p</span><span class="op" id="2060894">.</span><span class="ident" id="2060895">fmt</span><span class="op" id="2060898">.</span><span class="ident" id="2060899">sharp</span>&nbsp;<span class="op" id="2060905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2060911">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2060979">p</span><span class="op" id="2060980">.</span><span class="ident" id="2060981">fmt</span><span class="op" id="2060984">.</span><span class="ident" id="2060985">sharp</span>&nbsp;<span class="op" id="2060991">=</span>&nbsp;<span class="builtintype" id="2060993">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061003">p</span><span class="op" id="2061004">.</span><span class="ident" id="2061005">fmt</span><span class="op" id="2061008">.</span><span class="ident" id="2061009">sharpV</span>&nbsp;<span class="op" id="2061016">=</span>&nbsp;<span class="builtintype" id="2061018">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2061031">if</span>&nbsp;<span class="ident" id="2061034">p</span><span class="op" id="2061035">.</span><span class="ident" id="2061036">fmt</span><span class="op" id="2061039">.</span><span class="ident" id="2061040">plus</span>&nbsp;<span class="op" id="2061045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2061051">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061128">p</span><span class="op" id="2061129">.</span><span class="ident" id="2061130">fmt</span><span class="op" id="2061133">.</span><span class="ident" id="2061134">plus</span>&nbsp;<span class="op" id="2061139">=</span>&nbsp;<span class="builtintype" id="2061141">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061151">p</span><span class="op" id="2061152">.</span><span class="ident" id="2061153">fmt</span><span class="op" id="2061156">.</span><span class="ident" id="2061157">plusV</span>&nbsp;<span class="op" id="2061163">=</span>&nbsp;<span class="builtintype" id="2061165">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061181">p</span><span class="op" id="2061182">.</span><span class="ident" id="2061183">printArg</span><span class="op" id="2061191">(</span><span class="ident" id="2061192">arg</span><span class="op" id="2061195">,</span>&nbsp;<span class="ident" id="2061197">c</span><span class="op" id="2061198">,</span>&nbsp;<span class="num" id="2061200">0</span><span class="op" id="2061201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061204">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2061208">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2061277">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2061353">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2061399">if</span>&nbsp;<span class="op" id="2061402">!</span><span class="ident" id="2061403">p</span><span class="op" id="2061404">.</span><span class="ident" id="2061405">reordered</span>&nbsp;<span class="op" id="2061415">&amp;&amp;</span>&nbsp;<span class="ident" id="2061418">argNum</span>&nbsp;<span class="op" id="2061425">&lt;</span>&nbsp;<span class="builtinfunc" id="2061427">len</span><span class="op" id="2061430">(</span><span class="ident" id="2061431">a</span><span class="op" id="2061432">)</span>&nbsp;<span class="op" id="2061434">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061438">p</span><span class="op" id="2061439">.</span><span class="ident" id="2061440">buf</span><span class="op" id="2061443">.</span><span class="ident" id="2061444">Write</span><span class="op" id="2061449">(</span><span class="ident" id="2061450">extraBytes</span><span class="op" id="2061460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2061464">for</span>&nbsp;<span class="op" id="2061468">;</span>&nbsp;<span class="ident" id="2061470">argNum</span>&nbsp;<span class="op" id="2061477">&lt;</span>&nbsp;<span class="builtinfunc" id="2061479">len</span><span class="op" id="2061482">(</span><span class="ident" id="2061483">a</span><span class="op" id="2061484">)</span><span class="op" id="2061485">;</span>&nbsp;<span class="ident" id="2061487">argNum</span><span class="op" id="2061493">++</span>&nbsp;<span class="op" id="2061496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061501">arg</span>&nbsp;<span class="op" id="2061505">:=</span>&nbsp;<span class="ident" id="2061508">a</span><span class="op" id="2061509">[</span><span class="ident" id="2061510">argNum</span><span class="op" id="2061516">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2061521">if</span>&nbsp;<span class="ident" id="2061524">arg</span>&nbsp;<span class="op" id="2061528">!=</span>&nbsp;<span class="builtintype" id="2061531">nil</span>&nbsp;<span class="op" id="2061535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061541">p</span><span class="op" id="2061542">.</span><span class="ident" id="2061543">buf</span><span class="op" id="2061546">.</span><span class="ident" id="2061547">WriteString</span><span class="op" id="2061558">(</span><span class="ident" id="2061559">reflect</span><span class="op" id="2061566">.</span><span class="ident" id="2061567">TypeOf</span><span class="op" id="2061573">(</span><span class="ident" id="2061574">arg</span><span class="op" id="2061577">)</span><span class="op" id="2061578">.</span><span class="ident" id="2061579">String</span><span class="op" id="2061585">(</span><span class="op" id="2061586">)</span><span class="op" id="2061587">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061593">p</span><span class="op" id="2061594">.</span><span class="ident" id="2061595">buf</span><span class="op" id="2061598">.</span><span class="ident" id="2061599">WriteByte</span><span class="op" id="2061608">(</span><span class="string" id="2061609">&#39;=&#39;</span><span class="op" id="2061612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061622">p</span><span class="op" id="2061623">.</span><span class="ident" id="2061624">printArg</span><span class="op" id="2061632">(</span><span class="ident" id="2061633">arg</span><span class="op" id="2061636">,</span>&nbsp;<span class="string" id="2061638">&#39;v&#39;</span><span class="op" id="2061641">,</span>&nbsp;<span class="num" id="2061643">0</span><span class="op" id="2061644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2061649">if</span>&nbsp;<span class="ident" id="2061652">argNum</span><span class="op" id="2061658">+</span><span class="num" id="2061659">1</span>&nbsp;<span class="op" id="2061661">&lt;</span>&nbsp;<span class="builtinfunc" id="2061663">len</span><span class="op" id="2061666">(</span><span class="ident" id="2061667">a</span><span class="op" id="2061668">)</span>&nbsp;<span class="op" id="2061670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061676">p</span><span class="op" id="2061677">.</span><span class="ident" id="2061678">buf</span><span class="op" id="2061681">.</span><span class="ident" id="2061682">Write</span><span class="op" id="2061687">(</span><span class="ident" id="2061688">commaSpaceBytes</span><span class="op" id="2061703">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061716">p</span><span class="op" id="2061717">.</span><span class="ident" id="2061718">buf</span><span class="op" id="2061721">.</span><span class="ident" id="2061722">WriteByte</span><span class="op" id="2061731">(</span><span class="string" id="2061732">&#39;)&#39;</span><span class="op" id="2061735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2061738">}</span><br>
<span class="lineno"></span><span class="op" id="2061740">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2061743">func</span>&nbsp;<span class="op" id="2061748">(</span><span class="ident" id="2061749">p</span>&nbsp;<span class="op" id="2061751">*</span><span class="ident" id="2061752">pp</span><span class="op" id="2061754">)</span>&nbsp;<span class="ident" id="2061756">doPrint</span><span class="op" id="2061763">(</span><span class="ident" id="2061764">a</span>&nbsp;<span class="op" id="2061766">[</span><span class="op" id="2061767">]</span><span class="keyword" id="2061768">interface</span><span class="op" id="2061777">{</span><span class="op" id="2061778">}</span><span class="op" id="2061779">,</span>&nbsp;<span class="ident" id="2061781">addspace</span><span class="op" id="2061789">,</span>&nbsp;<span class="ident" id="2061791">addnewline</span>&nbsp;<span class="builtintype" id="2061802">bool</span><span class="op" id="2061806">)</span>&nbsp;<span class="op" id="2061808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061811">prevString</span>&nbsp;<span class="op" id="2061822">:=</span>&nbsp;<span class="builtintype" id="2061825">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2061832">for</span>&nbsp;<span class="ident" id="2061836">argNum</span>&nbsp;<span class="op" id="2061843">:=</span>&nbsp;<span class="num" id="2061846">0</span><span class="op" id="2061847">;</span>&nbsp;<span class="ident" id="2061849">argNum</span>&nbsp;<span class="op" id="2061856">&lt;</span>&nbsp;<span class="builtinfunc" id="2061858">len</span><span class="op" id="2061861">(</span><span class="ident" id="2061862">a</span><span class="op" id="2061863">)</span><span class="op" id="2061864">;</span>&nbsp;<span class="ident" id="2061866">argNum</span><span class="op" id="2061872">++</span>&nbsp;<span class="op" id="2061875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061879">p</span><span class="op" id="2061880">.</span><span class="ident" id="2061881">fmt</span><span class="op" id="2061884">.</span><span class="ident" id="2061885">clearflags</span><span class="op" id="2061895">(</span><span class="op" id="2061896">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2061900">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061946">arg</span>&nbsp;<span class="op" id="2061950">:=</span>&nbsp;<span class="ident" id="2061953">a</span><span class="op" id="2061954">[</span><span class="ident" id="2061955">argNum</span><span class="op" id="2061961">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2061965">if</span>&nbsp;<span class="ident" id="2061968">argNum</span>&nbsp;<span class="op" id="2061975">&gt;</span>&nbsp;<span class="num" id="2061977">0</span>&nbsp;<span class="op" id="2061979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2061984">isString</span>&nbsp;<span class="op" id="2061993">:=</span>&nbsp;<span class="ident" id="2061996">arg</span>&nbsp;<span class="op" id="2062000">!=</span>&nbsp;<span class="builtintype" id="2062003">nil</span>&nbsp;<span class="op" id="2062007">&amp;&amp;</span>&nbsp;<span class="ident" id="2062010">reflect</span><span class="op" id="2062017">.</span><span class="ident" id="2062018">TypeOf</span><span class="op" id="2062024">(</span><span class="ident" id="2062025">arg</span><span class="op" id="2062028">)</span><span class="op" id="2062029">.</span><span class="ident" id="2062030">Kind</span><span class="op" id="2062034">(</span><span class="op" id="2062035">)</span>&nbsp;<span class="op" id="2062037">==</span>&nbsp;<span class="ident" id="2062040">reflect</span><span class="op" id="2062047">.</span><span class="ident" id="2062048">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2062058">if</span>&nbsp;<span class="ident" id="2062061">addspace</span>&nbsp;<span class="op" id="2062070">||</span>&nbsp;<span class="op" id="2062073">!</span><span class="ident" id="2062074">isString</span>&nbsp;<span class="op" id="2062083">&amp;&amp;</span>&nbsp;<span class="op" id="2062086">!</span><span class="ident" id="2062087">prevString</span>&nbsp;<span class="op" id="2062098">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2062104">p</span><span class="op" id="2062105">.</span><span class="ident" id="2062106">buf</span><span class="op" id="2062109">.</span><span class="ident" id="2062110">WriteByte</span><span class="op" id="2062119">(</span><span class="string" id="2062120">&#39;&nbsp;&#39;</span><span class="op" id="2062123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2062128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2062132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2062136">prevString</span>&nbsp;<span class="op" id="2062147">=</span>&nbsp;<span class="ident" id="2062149">p</span><span class="op" id="2062150">.</span><span class="ident" id="2062151">printArg</span><span class="op" id="2062159">(</span><span class="ident" id="2062160">arg</span><span class="op" id="2062163">,</span>&nbsp;<span class="string" id="2062165">&#39;v&#39;</span><span class="op" id="2062168">,</span>&nbsp;<span class="num" id="2062170">0</span><span class="op" id="2062171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2062174">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2062177">if</span>&nbsp;<span class="ident" id="2062180">addnewline</span>&nbsp;<span class="op" id="2062191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2062195">p</span><span class="op" id="2062196">.</span><span class="ident" id="2062197">buf</span><span class="op" id="2062200">.</span><span class="ident" id="2062201">WriteByte</span><span class="op" id="2062210">(</span><span class="string" id="2062211">&#39;\n&#39;</span><span class="op" id="2062215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2062218">}</span><br>
<span class="lineno"></span><span class="op" id="2062220">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
