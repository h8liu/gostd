<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6362249">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6362305">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6362359">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6362410">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="6362462">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="6362522">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="6362546">package</span>&nbsp;<span class="ident" id="6362554">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="6362561">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="6362631">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="6362707">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="6362775">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6362857">import</span>&nbsp;<span class="op" id="6362864">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6362867">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6362876">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6362895">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6362902">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6362913">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="6362923">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6362926">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6362945">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="6362994">type</span>&nbsp;<span class="ident" id="6362999">Sym</span>&nbsp;<span class="keyword" id="6363003">struct</span>&nbsp;<span class="op" id="6363010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6363013">Value</span>&nbsp;&nbsp;<span class="ident" id="6363020">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6363028">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6363035">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6363041">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6363048">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6363056">GoType</span>&nbsp;<span class="ident" id="6363063">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6363071">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6363135">Func</span>&nbsp;<span class="op" id="6363140">*</span><span class="ident" id="6363141">Func</span><br>
<span class="lineno">35</span><span class="op" id="6363146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6363149">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="6363229">func</span>&nbsp;<span class="op" id="6363234">(</span><span class="ident" id="6363235">s</span>&nbsp;<span class="op" id="6363237">*</span><span class="ident" id="6363238">Sym</span><span class="op" id="6363241">)</span>&nbsp;<span class="ident" id="6363243">Static</span><span class="op" id="6363249">(</span><span class="op" id="6363250">)</span>&nbsp;<span class="builtintype" id="6363252">bool</span>&nbsp;<span class="op" id="6363257">{</span>&nbsp;<span class="keyword" id="6363259">return</span>&nbsp;<span class="ident" id="6363266">s</span><span class="op" id="6363267">.</span><span class="ident" id="6363268">Type</span>&nbsp;<span class="op" id="6363273">&gt;=</span>&nbsp;<span class="string" id="6363276">&#39;a&#39;</span>&nbsp;<span class="op" id="6363280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="6363283">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6363343">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6363384">func</span>&nbsp;<span class="op" id="6363389">(</span><span class="ident" id="6363390">s</span>&nbsp;<span class="op" id="6363392">*</span><span class="ident" id="6363393">Sym</span><span class="op" id="6363396">)</span>&nbsp;<span class="ident" id="6363398">PackageName</span><span class="op" id="6363409">(</span><span class="op" id="6363410">)</span>&nbsp;<span class="builtintype" id="6363412">string</span>&nbsp;<span class="op" id="6363419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363422">if</span>&nbsp;<span class="ident" id="6363425">i</span>&nbsp;<span class="op" id="6363427">:=</span>&nbsp;<span class="ident" id="6363430">strings</span><span class="op" id="6363437">.</span><span class="ident" id="6363438">Index</span><span class="op" id="6363443">(</span><span class="ident" id="6363444">s</span><span class="op" id="6363445">.</span><span class="ident" id="6363446">Name</span><span class="op" id="6363450">,</span>&nbsp;<span class="string" id="6363452">&#34;.&#34;</span><span class="op" id="6363455">)</span><span class="op" id="6363456">;</span>&nbsp;<span class="ident" id="6363458">i</span>&nbsp;<span class="op" id="6363460">!=</span>&nbsp;<span class="op" id="6363463">-</span><span class="num" id="6363464">1</span>&nbsp;<span class="op" id="6363466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363470">return</span>&nbsp;<span class="ident" id="6363477">s</span><span class="op" id="6363478">.</span><span class="ident" id="6363479">Name</span><span class="op" id="6363483">[</span><span class="num" id="6363484">0</span><span class="op" id="6363485">:</span><span class="ident" id="6363486">i</span><span class="op" id="6363487">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6363490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363493">return</span>&nbsp;<span class="string" id="6363500">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6363503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6363506">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="6363569">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="6363610">func</span>&nbsp;<span class="op" id="6363615">(</span><span class="ident" id="6363616">s</span>&nbsp;<span class="op" id="6363618">*</span><span class="ident" id="6363619">Sym</span><span class="op" id="6363622">)</span>&nbsp;<span class="ident" id="6363624">ReceiverName</span><span class="op" id="6363636">(</span><span class="op" id="6363637">)</span>&nbsp;<span class="builtintype" id="6363639">string</span>&nbsp;<span class="op" id="6363646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6363649">l</span>&nbsp;<span class="op" id="6363651">:=</span>&nbsp;<span class="ident" id="6363654">strings</span><span class="op" id="6363661">.</span><span class="ident" id="6363662">Index</span><span class="op" id="6363667">(</span><span class="ident" id="6363668">s</span><span class="op" id="6363669">.</span><span class="ident" id="6363670">Name</span><span class="op" id="6363674">,</span>&nbsp;<span class="string" id="6363676">&#34;.&#34;</span><span class="op" id="6363679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6363682">r</span>&nbsp;<span class="op" id="6363684">:=</span>&nbsp;<span class="ident" id="6363687">strings</span><span class="op" id="6363694">.</span><span class="ident" id="6363695">LastIndex</span><span class="op" id="6363704">(</span><span class="ident" id="6363705">s</span><span class="op" id="6363706">.</span><span class="ident" id="6363707">Name</span><span class="op" id="6363711">,</span>&nbsp;<span class="string" id="6363713">&#34;.&#34;</span><span class="op" id="6363716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363719">if</span>&nbsp;<span class="ident" id="6363722">l</span>&nbsp;<span class="op" id="6363724">==</span>&nbsp;<span class="op" id="6363727">-</span><span class="num" id="6363728">1</span>&nbsp;<span class="op" id="6363730">||</span>&nbsp;<span class="ident" id="6363733">r</span>&nbsp;<span class="op" id="6363735">==</span>&nbsp;<span class="op" id="6363738">-</span><span class="num" id="6363739">1</span>&nbsp;<span class="op" id="6363741">||</span>&nbsp;<span class="ident" id="6363744">l</span>&nbsp;<span class="op" id="6363746">==</span>&nbsp;<span class="ident" id="6363749">r</span>&nbsp;<span class="op" id="6363751">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363755">return</span>&nbsp;<span class="string" id="6363762">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6363766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363769">return</span>&nbsp;<span class="ident" id="6363776">s</span><span class="op" id="6363777">.</span><span class="ident" id="6363778">Name</span><span class="op" id="6363782">[</span><span class="ident" id="6363783">l</span><span class="op" id="6363784">+</span><span class="num" id="6363785">1</span>&nbsp;<span class="op" id="6363787">:</span>&nbsp;<span class="ident" id="6363789">r</span><span class="op" id="6363790">]</span><br>
<span class="lineno"></span><span class="op" id="6363792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="6363795">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="6363869">func</span>&nbsp;<span class="op" id="6363874">(</span><span class="ident" id="6363875">s</span>&nbsp;<span class="op" id="6363877">*</span><span class="ident" id="6363878">Sym</span><span class="op" id="6363881">)</span>&nbsp;<span class="ident" id="6363883">BaseName</span><span class="op" id="6363891">(</span><span class="op" id="6363892">)</span>&nbsp;<span class="builtintype" id="6363894">string</span>&nbsp;<span class="op" id="6363901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363904">if</span>&nbsp;<span class="ident" id="6363907">i</span>&nbsp;<span class="op" id="6363909">:=</span>&nbsp;<span class="ident" id="6363912">strings</span><span class="op" id="6363919">.</span><span class="ident" id="6363920">LastIndex</span><span class="op" id="6363929">(</span><span class="ident" id="6363930">s</span><span class="op" id="6363931">.</span><span class="ident" id="6363932">Name</span><span class="op" id="6363936">,</span>&nbsp;<span class="string" id="6363938">&#34;.&#34;</span><span class="op" id="6363941">)</span><span class="op" id="6363942">;</span>&nbsp;<span class="ident" id="6363944">i</span>&nbsp;<span class="op" id="6363946">!=</span>&nbsp;<span class="op" id="6363949">-</span><span class="num" id="6363950">1</span>&nbsp;<span class="op" id="6363952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363956">return</span>&nbsp;<span class="ident" id="6363963">s</span><span class="op" id="6363964">.</span><span class="ident" id="6363965">Name</span><span class="op" id="6363969">[</span><span class="ident" id="6363970">i</span><span class="op" id="6363971">+</span><span class="num" id="6363972">1</span><span class="op" id="6363973">:</span><span class="op" id="6363974">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6363977">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6363980">return</span>&nbsp;<span class="ident" id="6363987">s</span><span class="op" id="6363988">.</span><span class="ident" id="6363989">Name</span><br>
<span class="lineno"></span><span class="op" id="6363994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6363997">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6364053">type</span>&nbsp;<span class="ident" id="6364058">Func</span>&nbsp;<span class="keyword" id="6364063">struct</span>&nbsp;<span class="op" id="6364070">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364073">Entry</span>&nbsp;<span class="ident" id="6364079">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6364087">*</span><span class="ident" id="6364088">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364093">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6364103">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364111">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6364121">[</span><span class="op" id="6364122">]</span><span class="op" id="6364123">*</span><span class="ident" id="6364124">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364129">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6364139">[</span><span class="op" id="6364140">]</span><span class="op" id="6364141">*</span><span class="ident" id="6364142">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364147">FrameSize</span>&nbsp;<span class="builtintype" id="6364157">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364162">LineTable</span>&nbsp;<span class="op" id="6364172">*</span><span class="ident" id="6364173">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364184">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6364194">*</span><span class="ident" id="6364195">Obj</span><br>
<span class="lineno"></span><span class="op" id="6364199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="6364202">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="6364268">//</span><br>
<span class="lineno"></span><span class="comment" id="6364271">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="6364356">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="6364387">//</span><br>
<span class="lineno">85</span><span class="comment" id="6364390">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="6364458">//</span><br>
<span class="lineno"></span><span class="comment" id="6364461">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="6364533">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="6364567">//</span><br>
<span class="lineno">90</span><span class="comment" id="6364570">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="6364630">type</span>&nbsp;<span class="ident" id="6364635">Obj</span>&nbsp;<span class="keyword" id="6364639">struct</span>&nbsp;<span class="op" id="6364646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6364649">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364694">Funcs</span>&nbsp;<span class="op" id="6364700">[</span><span class="op" id="6364701">]</span><span class="ident" id="6364702">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6364709">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6364777">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6364829">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6364858">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6364924">Paths</span>&nbsp;<span class="op" id="6364930">[</span><span class="op" id="6364931">]</span><span class="ident" id="6364932">Sym</span>&nbsp;<span class="comment" id="6364936">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="6364944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6364947">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="6364972">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6365033">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="6365103">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="6365145">type</span>&nbsp;<span class="ident" id="6365150">Table</span>&nbsp;<span class="keyword" id="6365156">struct</span>&nbsp;<span class="op" id="6365163">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365166">Syms</span>&nbsp;&nbsp;<span class="op" id="6365172">[</span><span class="op" id="6365173">]</span><span class="ident" id="6365174">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365179">Funcs</span>&nbsp;<span class="op" id="6365185">[</span><span class="op" id="6365186">]</span><span class="ident" id="6365187">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365193">Files</span>&nbsp;<span class="keyword" id="6365199">map</span><span class="op" id="6365202">[</span><span class="builtintype" id="6365203">string</span><span class="op" id="6365209">]</span><span class="op" id="6365210">*</span><span class="ident" id="6365211">Obj</span>&nbsp;<span class="comment" id="6365215">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365253">Objs</span>&nbsp;&nbsp;<span class="op" id="6365259">[</span><span class="op" id="6365260">]</span><span class="ident" id="6365261">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6365275">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365314">go12line</span>&nbsp;<span class="op" id="6365323">*</span><span class="ident" id="6365324">LineTable</span>&nbsp;<span class="comment" id="6365334">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="6365362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6365365">type</span>&nbsp;<span class="ident" id="6365370">sym</span>&nbsp;<span class="keyword" id="6365374">struct</span>&nbsp;<span class="op" id="6365381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365384">value</span>&nbsp;&nbsp;<span class="ident" id="6365391">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365399">gotype</span>&nbsp;<span class="ident" id="6365406">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365414">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6365421">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365427">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6365434">[</span><span class="op" id="6365435">]</span><span class="builtintype" id="6365436">byte</span><br>
<span class="lineno"></span><span class="op" id="6365441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6365444">var</span>&nbsp;<span class="op" id="6365448">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365451">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6365473">=</span>&nbsp;<span class="op" id="6365475">[</span><span class="op" id="6365476">]</span><span class="builtintype" id="6365477">byte</span><span class="op" id="6365481">{</span><span class="num" id="6365482">0xFD</span><span class="op" id="6365486">,</span>&nbsp;<span class="num" id="6365488">0xFF</span><span class="op" id="6365492">,</span>&nbsp;<span class="num" id="6365494">0xFF</span><span class="op" id="6365498">,</span>&nbsp;<span class="num" id="6365500">0xFF</span><span class="op" id="6365504">,</span>&nbsp;<span class="num" id="6365506">0x00</span><span class="op" id="6365510">,</span>&nbsp;<span class="num" id="6365512">0x00</span><span class="op" id="6365516">,</span>&nbsp;<span class="num" id="6365518">0x00</span><span class="op" id="6365522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365525">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6365547">=</span>&nbsp;<span class="op" id="6365549">[</span><span class="op" id="6365550">]</span><span class="builtintype" id="6365551">byte</span><span class="op" id="6365555">{</span><span class="num" id="6365556">0xFF</span><span class="op" id="6365560">,</span>&nbsp;<span class="num" id="6365562">0xFF</span><span class="op" id="6365566">,</span>&nbsp;<span class="num" id="6365568">0xFF</span><span class="op" id="6365572">,</span>&nbsp;<span class="num" id="6365574">0xFD</span><span class="op" id="6365578">,</span>&nbsp;<span class="num" id="6365580">0x00</span><span class="op" id="6365584">,</span>&nbsp;<span class="num" id="6365586">0x00</span><span class="op" id="6365590">,</span>&nbsp;<span class="num" id="6365592">0x00</span><span class="op" id="6365596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365599">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="6365621">=</span>&nbsp;<span class="op" id="6365623">[</span><span class="op" id="6365624">]</span><span class="builtintype" id="6365625">byte</span><span class="op" id="6365629">{</span><span class="num" id="6365630">0xFE</span><span class="op" id="6365634">,</span>&nbsp;<span class="num" id="6365636">0xFF</span><span class="op" id="6365640">,</span>&nbsp;<span class="num" id="6365642">0xFF</span><span class="op" id="6365646">,</span>&nbsp;<span class="num" id="6365648">0xFF</span><span class="op" id="6365652">,</span>&nbsp;<span class="num" id="6365654">0x00</span><span class="op" id="6365658">,</span>&nbsp;<span class="num" id="6365660">0x00</span><span class="op" id="6365664">}</span><br>
<span class="lineno"></span><span class="op" id="6365666">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="6365669">func</span>&nbsp;<span class="ident" id="6365674">walksymtab</span><span class="op" id="6365684">(</span><span class="ident" id="6365685">data</span>&nbsp;<span class="op" id="6365690">[</span><span class="op" id="6365691">]</span><span class="builtintype" id="6365692">byte</span><span class="op" id="6365696">,</span>&nbsp;<span class="ident" id="6365698">fn</span>&nbsp;<span class="keyword" id="6365701">func</span><span class="op" id="6365705">(</span><span class="ident" id="6365706">sym</span><span class="op" id="6365709">)</span>&nbsp;<span class="builtintype" id="6365711">error</span><span class="op" id="6365716">)</span>&nbsp;<span class="builtintype" id="6365718">error</span>&nbsp;<span class="op" id="6365724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6365727">if</span>&nbsp;<span class="builtinfunc" id="6365730">len</span><span class="op" id="6365733">(</span><span class="ident" id="6365734">data</span><span class="op" id="6365738">)</span>&nbsp;<span class="op" id="6365740">==</span>&nbsp;<span class="num" id="6365743">0</span>&nbsp;<span class="op" id="6365745">{</span>&nbsp;<span class="comment" id="6365747">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6365775">return</span>&nbsp;<span class="ident" id="6365782">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6365787">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6365790">var</span>&nbsp;<span class="ident" id="6365794">order</span>&nbsp;<span class="ident" id="6365800">binary</span><span class="op" id="6365806">.</span><span class="ident" id="6365807">ByteOrder</span>&nbsp;<span class="op" id="6365817">=</span>&nbsp;<span class="ident" id="6365819">binary</span><span class="op" id="6365825">.</span><span class="ident" id="6365826">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6365837">newTable</span>&nbsp;<span class="op" id="6365846">:=</span>&nbsp;<span class="builtintype" id="6365849">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6365856">switch</span>&nbsp;<span class="op" id="6365863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6365866">case</span>&nbsp;<span class="ident" id="6365871">bytes</span><span class="op" id="6365876">.</span><span class="ident" id="6365877">HasPrefix</span><span class="op" id="6365886">(</span><span class="ident" id="6365887">data</span><span class="op" id="6365891">,</span>&nbsp;<span class="ident" id="6365893">oldLittleEndianSymtab</span><span class="op" id="6365914">)</span><span class="op" id="6365915">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6365919">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6365959">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6366034">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366086">data</span>&nbsp;<span class="op" id="6366091">=</span>&nbsp;<span class="ident" id="6366093">data</span><span class="op" id="6366097">[</span><span class="num" id="6366098">6</span><span class="op" id="6366099">:</span><span class="op" id="6366100">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366104">order</span>&nbsp;<span class="op" id="6366110">=</span>&nbsp;<span class="ident" id="6366112">binary</span><span class="op" id="6366118">.</span><span class="ident" id="6366119">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366133">case</span>&nbsp;<span class="ident" id="6366138">bytes</span><span class="op" id="6366143">.</span><span class="ident" id="6366144">HasPrefix</span><span class="op" id="6366153">(</span><span class="ident" id="6366154">data</span><span class="op" id="6366158">,</span>&nbsp;<span class="ident" id="6366160">bigEndianSymtab</span><span class="op" id="6366175">)</span><span class="op" id="6366176">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366180">newTable</span>&nbsp;<span class="op" id="6366189">=</span>&nbsp;<span class="builtintype" id="6366191">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366197">case</span>&nbsp;<span class="ident" id="6366202">bytes</span><span class="op" id="6366207">.</span><span class="ident" id="6366208">HasPrefix</span><span class="op" id="6366217">(</span><span class="ident" id="6366218">data</span><span class="op" id="6366222">,</span>&nbsp;<span class="ident" id="6366224">littleEndianSymtab</span><span class="op" id="6366242">)</span><span class="op" id="6366243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366247">newTable</span>&nbsp;<span class="op" id="6366256">=</span>&nbsp;<span class="builtintype" id="6366258">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366265">order</span>&nbsp;<span class="op" id="6366271">=</span>&nbsp;<span class="ident" id="6366273">binary</span><span class="op" id="6366279">.</span><span class="ident" id="6366280">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6366294">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366297">var</span>&nbsp;<span class="ident" id="6366301">ptrsz</span>&nbsp;<span class="builtintype" id="6366307">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366312">if</span>&nbsp;<span class="ident" id="6366315">newTable</span>&nbsp;<span class="op" id="6366324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366328">if</span>&nbsp;<span class="builtinfunc" id="6366331">len</span><span class="op" id="6366334">(</span><span class="ident" id="6366335">data</span><span class="op" id="6366339">)</span>&nbsp;<span class="op" id="6366341">&lt;</span>&nbsp;<span class="num" id="6366343">8</span>&nbsp;<span class="op" id="6366345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366350">return</span>&nbsp;<span class="op" id="6366357">&amp;</span><span class="ident" id="6366358">DecodingError</span><span class="op" id="6366371">{</span><span class="builtinfunc" id="6366372">len</span><span class="op" id="6366375">(</span><span class="ident" id="6366376">data</span><span class="op" id="6366380">)</span><span class="op" id="6366381">,</span>&nbsp;<span class="string" id="6366383">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6366399">,</span>&nbsp;<span class="ident" id="6366401">nil</span><span class="op" id="6366404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6366408">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366412">ptrsz</span>&nbsp;<span class="op" id="6366418">=</span>&nbsp;<span class="builtintype" id="6366420">int</span><span class="op" id="6366423">(</span><span class="ident" id="6366424">data</span><span class="op" id="6366428">[</span><span class="num" id="6366429">7</span><span class="op" id="6366430">]</span><span class="op" id="6366431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366435">if</span>&nbsp;<span class="ident" id="6366438">ptrsz</span>&nbsp;<span class="op" id="6366444">!=</span>&nbsp;<span class="num" id="6366447">4</span>&nbsp;<span class="op" id="6366449">&amp;&amp;</span>&nbsp;<span class="ident" id="6366452">ptrsz</span>&nbsp;<span class="op" id="6366458">!=</span>&nbsp;<span class="num" id="6366461">8</span>&nbsp;<span class="op" id="6366463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366468">return</span>&nbsp;<span class="op" id="6366475">&amp;</span><span class="ident" id="6366476">DecodingError</span><span class="op" id="6366489">{</span><span class="num" id="6366490">7</span><span class="op" id="6366491">,</span>&nbsp;<span class="string" id="6366493">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="6366515">,</span>&nbsp;<span class="ident" id="6366517">ptrsz</span><span class="op" id="6366522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6366526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366530">data</span>&nbsp;<span class="op" id="6366535">=</span>&nbsp;<span class="ident" id="6366537">data</span><span class="op" id="6366541">[</span><span class="num" id="6366542">8</span><span class="op" id="6366543">:</span><span class="op" id="6366544">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6366547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366550">var</span>&nbsp;<span class="ident" id="6366554">s</span>&nbsp;<span class="ident" id="6366556">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366561">p</span>&nbsp;<span class="op" id="6366563">:=</span>&nbsp;<span class="ident" id="6366566">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366572">for</span>&nbsp;<span class="builtinfunc" id="6366576">len</span><span class="op" id="6366579">(</span><span class="ident" id="6366580">p</span><span class="op" id="6366581">)</span>&nbsp;<span class="op" id="6366583">&gt;=</span>&nbsp;<span class="num" id="6366586">4</span>&nbsp;<span class="op" id="6366588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366592">var</span>&nbsp;<span class="ident" id="6366596">typ</span>&nbsp;<span class="builtintype" id="6366600">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366607">if</span>&nbsp;<span class="ident" id="6366610">newTable</span>&nbsp;<span class="op" id="6366619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6366624">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366659">typ</span>&nbsp;<span class="op" id="6366663">=</span>&nbsp;<span class="ident" id="6366665">p</span><span class="op" id="6366666">[</span><span class="num" id="6366667">0</span><span class="op" id="6366668">]</span>&nbsp;<span class="op" id="6366670">&amp;</span>&nbsp;<span class="num" id="6366672">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366680">wideValue</span>&nbsp;<span class="op" id="6366690">:=</span>&nbsp;<span class="ident" id="6366693">p</span><span class="op" id="6366694">[</span><span class="num" id="6366695">0</span><span class="op" id="6366696">]</span><span class="op" id="6366697">&amp;</span><span class="num" id="6366698">0x40</span>&nbsp;<span class="op" id="6366703">!=</span>&nbsp;<span class="num" id="6366706">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366711">goType</span>&nbsp;<span class="op" id="6366718">:=</span>&nbsp;<span class="ident" id="6366721">p</span><span class="op" id="6366722">[</span><span class="num" id="6366723">0</span><span class="op" id="6366724">]</span><span class="op" id="6366725">&amp;</span><span class="num" id="6366726">0x80</span>&nbsp;<span class="op" id="6366731">!=</span>&nbsp;<span class="num" id="6366734">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366739">if</span>&nbsp;<span class="ident" id="6366742">typ</span>&nbsp;<span class="op" id="6366746">&lt;</span>&nbsp;<span class="num" id="6366748">26</span>&nbsp;<span class="op" id="6366751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366757">typ</span>&nbsp;<span class="op" id="6366761">+=</span>&nbsp;<span class="string" id="6366764">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6366771">}</span>&nbsp;<span class="keyword" id="6366773">else</span>&nbsp;<span class="op" id="6366778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366784">typ</span>&nbsp;<span class="op" id="6366788">+=</span>&nbsp;<span class="string" id="6366791">&#39;a&#39;</span>&nbsp;<span class="op" id="6366795">-</span>&nbsp;<span class="num" id="6366797">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6366803">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366808">s</span><span class="op" id="6366809">.</span><span class="ident" id="6366810">typ</span>&nbsp;<span class="op" id="6366814">=</span>&nbsp;<span class="ident" id="6366816">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366823">p</span>&nbsp;<span class="op" id="6366825">=</span>&nbsp;<span class="ident" id="6366827">p</span><span class="op" id="6366828">[</span><span class="num" id="6366829">1</span><span class="op" id="6366830">:</span><span class="op" id="6366831">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366836">if</span>&nbsp;<span class="ident" id="6366839">wideValue</span>&nbsp;<span class="op" id="6366849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366855">if</span>&nbsp;<span class="builtinfunc" id="6366858">len</span><span class="op" id="6366861">(</span><span class="ident" id="6366862">p</span><span class="op" id="6366863">)</span>&nbsp;<span class="op" id="6366865">&lt;</span>&nbsp;<span class="ident" id="6366867">ptrsz</span>&nbsp;<span class="op" id="6366873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366880">return</span>&nbsp;<span class="op" id="6366887">&amp;</span><span class="ident" id="6366888">DecodingError</span><span class="op" id="6366901">{</span><span class="builtinfunc" id="6366902">len</span><span class="op" id="6366905">(</span><span class="ident" id="6366906">data</span><span class="op" id="6366910">)</span><span class="op" id="6366911">,</span>&nbsp;<span class="string" id="6366913">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6366929">,</span>&nbsp;<span class="ident" id="6366931">nil</span><span class="op" id="6366934">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6366940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6366946">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6366971">if</span>&nbsp;<span class="ident" id="6366974">ptrsz</span>&nbsp;<span class="op" id="6366980">==</span>&nbsp;<span class="num" id="6366983">8</span>&nbsp;<span class="op" id="6366985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6366992">s</span><span class="op" id="6366993">.</span><span class="ident" id="6366994">value</span>&nbsp;<span class="op" id="6367000">=</span>&nbsp;<span class="ident" id="6367002">order</span><span class="op" id="6367007">.</span><span class="ident" id="6367008">Uint64</span><span class="op" id="6367014">(</span><span class="ident" id="6367015">p</span><span class="op" id="6367016">[</span><span class="num" id="6367017">0</span><span class="op" id="6367018">:</span><span class="num" id="6367019">8</span><span class="op" id="6367020">]</span><span class="op" id="6367021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367028">p</span>&nbsp;<span class="op" id="6367030">=</span>&nbsp;<span class="ident" id="6367032">p</span><span class="op" id="6367033">[</span><span class="num" id="6367034">8</span><span class="op" id="6367035">:</span><span class="op" id="6367036">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367042">}</span>&nbsp;<span class="keyword" id="6367044">else</span>&nbsp;<span class="op" id="6367049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367056">s</span><span class="op" id="6367057">.</span><span class="ident" id="6367058">value</span>&nbsp;<span class="op" id="6367064">=</span>&nbsp;<span class="ident" id="6367066">uint64</span><span class="op" id="6367072">(</span><span class="ident" id="6367073">order</span><span class="op" id="6367078">.</span><span class="ident" id="6367079">Uint32</span><span class="op" id="6367085">(</span><span class="ident" id="6367086">p</span><span class="op" id="6367087">[</span><span class="num" id="6367088">0</span><span class="op" id="6367089">:</span><span class="num" id="6367090">4</span><span class="op" id="6367091">]</span><span class="op" id="6367092">)</span><span class="op" id="6367093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367100">p</span>&nbsp;<span class="op" id="6367102">=</span>&nbsp;<span class="ident" id="6367104">p</span><span class="op" id="6367105">[</span><span class="num" id="6367106">4</span><span class="op" id="6367107">:</span><span class="op" id="6367108">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367119">}</span>&nbsp;<span class="keyword" id="6367121">else</span>&nbsp;<span class="op" id="6367126">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6367132">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367152">s</span><span class="op" id="6367153">.</span><span class="ident" id="6367154">value</span>&nbsp;<span class="op" id="6367160">=</span>&nbsp;<span class="num" id="6367162">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367168">shift</span>&nbsp;<span class="op" id="6367174">:=</span>&nbsp;<span class="builtintype" id="6367177">uint</span><span class="op" id="6367181">(</span><span class="num" id="6367182">0</span><span class="op" id="6367183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367189">for</span>&nbsp;<span class="builtinfunc" id="6367193">len</span><span class="op" id="6367196">(</span><span class="ident" id="6367197">p</span><span class="op" id="6367198">)</span>&nbsp;<span class="op" id="6367200">&gt;</span>&nbsp;<span class="num" id="6367202">0</span>&nbsp;<span class="op" id="6367204">&amp;&amp;</span>&nbsp;<span class="ident" id="6367207">p</span><span class="op" id="6367208">[</span><span class="num" id="6367209">0</span><span class="op" id="6367210">]</span><span class="op" id="6367211">&amp;</span><span class="num" id="6367212">0x80</span>&nbsp;<span class="op" id="6367217">!=</span>&nbsp;<span class="num" id="6367220">0</span>&nbsp;<span class="op" id="6367222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367229">s</span><span class="op" id="6367230">.</span><span class="ident" id="6367231">value</span>&nbsp;<span class="op" id="6367237">|=</span>&nbsp;<span class="ident" id="6367240">uint64</span><span class="op" id="6367246">(</span><span class="ident" id="6367247">p</span><span class="op" id="6367248">[</span><span class="num" id="6367249">0</span><span class="op" id="6367250">]</span><span class="op" id="6367251">&amp;</span><span class="num" id="6367252">0x7F</span><span class="op" id="6367256">)</span>&nbsp;<span class="op" id="6367258">&lt;&lt;</span>&nbsp;<span class="ident" id="6367261">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367272">shift</span>&nbsp;<span class="op" id="6367278">+=</span>&nbsp;<span class="num" id="6367281">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367288">p</span>&nbsp;<span class="op" id="6367290">=</span>&nbsp;<span class="ident" id="6367292">p</span><span class="op" id="6367293">[</span><span class="num" id="6367294">1</span><span class="op" id="6367295">:</span><span class="op" id="6367296">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367308">if</span>&nbsp;<span class="builtinfunc" id="6367311">len</span><span class="op" id="6367314">(</span><span class="ident" id="6367315">p</span><span class="op" id="6367316">)</span>&nbsp;<span class="op" id="6367318">==</span>&nbsp;<span class="num" id="6367321">0</span>&nbsp;<span class="op" id="6367323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367330">return</span>&nbsp;<span class="op" id="6367337">&amp;</span><span class="ident" id="6367338">DecodingError</span><span class="op" id="6367351">{</span><span class="builtinfunc" id="6367352">len</span><span class="op" id="6367355">(</span><span class="ident" id="6367356">data</span><span class="op" id="6367360">)</span><span class="op" id="6367361">,</span>&nbsp;<span class="string" id="6367363">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6367379">,</span>&nbsp;<span class="ident" id="6367381">nil</span><span class="op" id="6367384">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367396">s</span><span class="op" id="6367397">.</span><span class="ident" id="6367398">value</span>&nbsp;<span class="op" id="6367404">|=</span>&nbsp;<span class="ident" id="6367407">uint64</span><span class="op" id="6367413">(</span><span class="ident" id="6367414">p</span><span class="op" id="6367415">[</span><span class="num" id="6367416">0</span><span class="op" id="6367417">]</span><span class="op" id="6367418">)</span>&nbsp;<span class="op" id="6367420">&lt;&lt;</span>&nbsp;<span class="ident" id="6367423">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367433">p</span>&nbsp;<span class="op" id="6367435">=</span>&nbsp;<span class="ident" id="6367437">p</span><span class="op" id="6367438">[</span><span class="num" id="6367439">1</span><span class="op" id="6367440">:</span><span class="op" id="6367441">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367451">if</span>&nbsp;<span class="ident" id="6367454">goType</span>&nbsp;<span class="op" id="6367461">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367467">if</span>&nbsp;<span class="builtinfunc" id="6367470">len</span><span class="op" id="6367473">(</span><span class="ident" id="6367474">p</span><span class="op" id="6367475">)</span>&nbsp;<span class="op" id="6367477">&lt;</span>&nbsp;<span class="ident" id="6367479">ptrsz</span>&nbsp;<span class="op" id="6367485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367492">return</span>&nbsp;<span class="op" id="6367499">&amp;</span><span class="ident" id="6367500">DecodingError</span><span class="op" id="6367513">{</span><span class="builtinfunc" id="6367514">len</span><span class="op" id="6367517">(</span><span class="ident" id="6367518">data</span><span class="op" id="6367522">)</span><span class="op" id="6367523">,</span>&nbsp;<span class="string" id="6367525">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6367541">,</span>&nbsp;<span class="ident" id="6367543">nil</span><span class="op" id="6367546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6367558">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367585">if</span>&nbsp;<span class="ident" id="6367588">ptrsz</span>&nbsp;<span class="op" id="6367594">==</span>&nbsp;<span class="num" id="6367597">8</span>&nbsp;<span class="op" id="6367599">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367606">s</span><span class="op" id="6367607">.</span><span class="ident" id="6367608">gotype</span>&nbsp;<span class="op" id="6367615">=</span>&nbsp;<span class="ident" id="6367617">order</span><span class="op" id="6367622">.</span><span class="ident" id="6367623">Uint64</span><span class="op" id="6367629">(</span><span class="ident" id="6367630">p</span><span class="op" id="6367631">[</span><span class="num" id="6367632">0</span><span class="op" id="6367633">:</span><span class="num" id="6367634">8</span><span class="op" id="6367635">]</span><span class="op" id="6367636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367643">p</span>&nbsp;<span class="op" id="6367645">=</span>&nbsp;<span class="ident" id="6367647">p</span><span class="op" id="6367648">[</span><span class="num" id="6367649">8</span><span class="op" id="6367650">:</span><span class="op" id="6367651">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367657">}</span>&nbsp;<span class="keyword" id="6367659">else</span>&nbsp;<span class="op" id="6367664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367671">s</span><span class="op" id="6367672">.</span><span class="ident" id="6367673">gotype</span>&nbsp;<span class="op" id="6367680">=</span>&nbsp;<span class="ident" id="6367682">uint64</span><span class="op" id="6367688">(</span><span class="ident" id="6367689">order</span><span class="op" id="6367694">.</span><span class="ident" id="6367695">Uint32</span><span class="op" id="6367701">(</span><span class="ident" id="6367702">p</span><span class="op" id="6367703">[</span><span class="num" id="6367704">0</span><span class="op" id="6367705">:</span><span class="num" id="6367706">4</span><span class="op" id="6367707">]</span><span class="op" id="6367708">)</span><span class="op" id="6367709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367716">p</span>&nbsp;<span class="op" id="6367718">=</span>&nbsp;<span class="ident" id="6367720">p</span><span class="op" id="6367721">[</span><span class="num" id="6367722">4</span><span class="op" id="6367723">:</span><span class="op" id="6367724">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367739">}</span>&nbsp;<span class="keyword" id="6367741">else</span>&nbsp;<span class="op" id="6367746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6367751">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367777">s</span><span class="op" id="6367778">.</span><span class="ident" id="6367779">value</span>&nbsp;<span class="op" id="6367785">=</span>&nbsp;<span class="ident" id="6367787">uint64</span><span class="op" id="6367793">(</span><span class="ident" id="6367794">order</span><span class="op" id="6367799">.</span><span class="ident" id="6367800">Uint32</span><span class="op" id="6367806">(</span><span class="ident" id="6367807">p</span><span class="op" id="6367808">[</span><span class="num" id="6367809">0</span><span class="op" id="6367810">:</span><span class="num" id="6367811">4</span><span class="op" id="6367812">]</span><span class="op" id="6367813">)</span><span class="op" id="6367814">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367819">if</span>&nbsp;<span class="builtinfunc" id="6367822">len</span><span class="op" id="6367825">(</span><span class="ident" id="6367826">p</span><span class="op" id="6367827">)</span>&nbsp;<span class="op" id="6367829">&lt;</span>&nbsp;<span class="num" id="6367831">5</span>&nbsp;<span class="op" id="6367833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367839">return</span>&nbsp;<span class="op" id="6367846">&amp;</span><span class="ident" id="6367847">DecodingError</span><span class="op" id="6367860">{</span><span class="builtinfunc" id="6367861">len</span><span class="op" id="6367864">(</span><span class="ident" id="6367865">data</span><span class="op" id="6367869">)</span><span class="op" id="6367870">,</span>&nbsp;<span class="string" id="6367872">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6367888">,</span>&nbsp;<span class="ident" id="6367890">nil</span><span class="op" id="6367893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6367898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6367903">typ</span>&nbsp;<span class="op" id="6367907">=</span>&nbsp;<span class="ident" id="6367909">p</span><span class="op" id="6367910">[</span><span class="num" id="6367911">4</span><span class="op" id="6367912">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367917">if</span>&nbsp;<span class="ident" id="6367920">typ</span><span class="op" id="6367923">&amp;</span><span class="num" id="6367924">0x80</span>&nbsp;<span class="op" id="6367929">==</span>&nbsp;<span class="num" id="6367932">0</span>&nbsp;<span class="op" id="6367934">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6367940">return</span>&nbsp;<span class="op" id="6367947">&amp;</span><span class="ident" id="6367948">DecodingError</span><span class="op" id="6367961">{</span><span class="builtinfunc" id="6367962">len</span><span class="op" id="6367965">(</span><span class="ident" id="6367966">data</span><span class="op" id="6367970">)</span>&nbsp;<span class="op" id="6367972">-</span>&nbsp;<span class="builtinfunc" id="6367974">len</span><span class="op" id="6367977">(</span><span class="ident" id="6367978">p</span><span class="op" id="6367979">)</span>&nbsp;<span class="op" id="6367981">+</span>&nbsp;<span class="num" id="6367983">4</span><span class="op" id="6367984">,</span>&nbsp;<span class="string" id="6367986">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="6368003">,</span>&nbsp;<span class="ident" id="6368005">typ</span><span class="op" id="6368008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368018">typ</span>&nbsp;<span class="op" id="6368022">&amp;^=</span>&nbsp;<span class="num" id="6368026">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368034">s</span><span class="op" id="6368035">.</span><span class="ident" id="6368036">typ</span>&nbsp;<span class="op" id="6368040">=</span>&nbsp;<span class="ident" id="6368042">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368049">p</span>&nbsp;<span class="op" id="6368051">=</span>&nbsp;<span class="ident" id="6368053">p</span><span class="op" id="6368054">[</span><span class="num" id="6368055">5</span><span class="op" id="6368056">:</span><span class="op" id="6368057">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6368066">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368077">var</span>&nbsp;<span class="ident" id="6368081">i</span>&nbsp;<span class="builtintype" id="6368083">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368089">var</span>&nbsp;<span class="ident" id="6368093">nnul</span>&nbsp;<span class="builtintype" id="6368098">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368104">for</span>&nbsp;<span class="ident" id="6368108">i</span>&nbsp;<span class="op" id="6368110">=</span>&nbsp;<span class="num" id="6368112">0</span><span class="op" id="6368113">;</span>&nbsp;<span class="ident" id="6368115">i</span>&nbsp;<span class="op" id="6368117">&lt;</span>&nbsp;<span class="builtinfunc" id="6368119">len</span><span class="op" id="6368122">(</span><span class="ident" id="6368123">p</span><span class="op" id="6368124">)</span><span class="op" id="6368125">;</span>&nbsp;<span class="ident" id="6368127">i</span><span class="op" id="6368128">++</span>&nbsp;<span class="op" id="6368131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368136">if</span>&nbsp;<span class="ident" id="6368139">p</span><span class="op" id="6368140">[</span><span class="ident" id="6368141">i</span><span class="op" id="6368142">]</span>&nbsp;<span class="op" id="6368144">==</span>&nbsp;<span class="num" id="6368147">0</span>&nbsp;<span class="op" id="6368149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368155">nnul</span>&nbsp;<span class="op" id="6368160">=</span>&nbsp;<span class="num" id="6368162">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368168">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368177">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368185">switch</span>&nbsp;<span class="ident" id="6368192">typ</span>&nbsp;<span class="op" id="6368196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368200">case</span>&nbsp;<span class="string" id="6368205">&#39;z&#39;</span><span class="op" id="6368208">,</span>&nbsp;<span class="string" id="6368210">&#39;Z&#39;</span><span class="op" id="6368213">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368218">p</span>&nbsp;<span class="op" id="6368220">=</span>&nbsp;<span class="ident" id="6368222">p</span><span class="op" id="6368223">[</span><span class="ident" id="6368224">i</span><span class="op" id="6368225">+</span><span class="ident" id="6368226">nnul</span><span class="op" id="6368230">:</span><span class="op" id="6368231">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368236">for</span>&nbsp;<span class="ident" id="6368240">i</span>&nbsp;<span class="op" id="6368242">=</span>&nbsp;<span class="num" id="6368244">0</span><span class="op" id="6368245">;</span>&nbsp;<span class="ident" id="6368247">i</span><span class="op" id="6368248">+</span><span class="num" id="6368249">2</span>&nbsp;<span class="op" id="6368251">&lt;=</span>&nbsp;<span class="builtinfunc" id="6368254">len</span><span class="op" id="6368257">(</span><span class="ident" id="6368258">p</span><span class="op" id="6368259">)</span><span class="op" id="6368260">;</span>&nbsp;<span class="ident" id="6368262">i</span>&nbsp;<span class="op" id="6368264">+=</span>&nbsp;<span class="num" id="6368267">2</span>&nbsp;<span class="op" id="6368269">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368275">if</span>&nbsp;<span class="ident" id="6368278">p</span><span class="op" id="6368279">[</span><span class="ident" id="6368280">i</span><span class="op" id="6368281">]</span>&nbsp;<span class="op" id="6368283">==</span>&nbsp;<span class="num" id="6368286">0</span>&nbsp;<span class="op" id="6368288">&amp;&amp;</span>&nbsp;<span class="ident" id="6368291">p</span><span class="op" id="6368292">[</span><span class="ident" id="6368293">i</span><span class="op" id="6368294">+</span><span class="num" id="6368295">1</span><span class="op" id="6368296">]</span>&nbsp;<span class="op" id="6368298">==</span>&nbsp;<span class="num" id="6368301">0</span>&nbsp;<span class="op" id="6368303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368310">nnul</span>&nbsp;<span class="op" id="6368315">=</span>&nbsp;<span class="num" id="6368317">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368324">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368339">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368347">if</span>&nbsp;<span class="builtinfunc" id="6368350">len</span><span class="op" id="6368353">(</span><span class="ident" id="6368354">p</span><span class="op" id="6368355">)</span>&nbsp;<span class="op" id="6368357">&lt;</span>&nbsp;<span class="ident" id="6368359">i</span><span class="op" id="6368360">+</span><span class="ident" id="6368361">nnul</span>&nbsp;<span class="op" id="6368366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368371">return</span>&nbsp;<span class="op" id="6368378">&amp;</span><span class="ident" id="6368379">DecodingError</span><span class="op" id="6368392">{</span><span class="builtinfunc" id="6368393">len</span><span class="op" id="6368396">(</span><span class="ident" id="6368397">data</span><span class="op" id="6368401">)</span><span class="op" id="6368402">,</span>&nbsp;<span class="string" id="6368404">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6368420">,</span>&nbsp;<span class="ident" id="6368422">nil</span><span class="op" id="6368425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368433">s</span><span class="op" id="6368434">.</span><span class="ident" id="6368435">name</span>&nbsp;<span class="op" id="6368440">=</span>&nbsp;<span class="ident" id="6368442">p</span><span class="op" id="6368443">[</span><span class="num" id="6368444">0</span><span class="op" id="6368445">:</span><span class="ident" id="6368446">i</span><span class="op" id="6368447">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368451">i</span>&nbsp;<span class="op" id="6368453">+=</span>&nbsp;<span class="ident" id="6368456">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368463">p</span>&nbsp;<span class="op" id="6368465">=</span>&nbsp;<span class="ident" id="6368467">p</span><span class="op" id="6368468">[</span><span class="ident" id="6368469">i</span><span class="op" id="6368470">:</span><span class="op" id="6368471">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368476">if</span>&nbsp;<span class="op" id="6368479">!</span><span class="ident" id="6368480">newTable</span>&nbsp;<span class="op" id="6368489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368494">if</span>&nbsp;<span class="builtinfunc" id="6368497">len</span><span class="op" id="6368500">(</span><span class="ident" id="6368501">p</span><span class="op" id="6368502">)</span>&nbsp;<span class="op" id="6368504">&lt;</span>&nbsp;<span class="num" id="6368506">4</span>&nbsp;<span class="op" id="6368508">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368514">return</span>&nbsp;<span class="op" id="6368521">&amp;</span><span class="ident" id="6368522">DecodingError</span><span class="op" id="6368535">{</span><span class="builtinfunc" id="6368536">len</span><span class="op" id="6368539">(</span><span class="ident" id="6368540">data</span><span class="op" id="6368544">)</span><span class="op" id="6368545">,</span>&nbsp;<span class="string" id="6368547">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6368563">,</span>&nbsp;<span class="ident" id="6368565">nil</span><span class="op" id="6368568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6368578">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368593">s</span><span class="op" id="6368594">.</span><span class="ident" id="6368595">gotype</span>&nbsp;<span class="op" id="6368602">=</span>&nbsp;<span class="ident" id="6368604">uint64</span><span class="op" id="6368610">(</span><span class="ident" id="6368611">order</span><span class="op" id="6368616">.</span><span class="ident" id="6368617">Uint32</span><span class="op" id="6368623">(</span><span class="ident" id="6368624">p</span><span class="op" id="6368625">[</span><span class="op" id="6368626">:</span><span class="num" id="6368627">4</span><span class="op" id="6368628">]</span><span class="op" id="6368629">)</span><span class="op" id="6368630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368635">p</span>&nbsp;<span class="op" id="6368637">=</span>&nbsp;<span class="ident" id="6368639">p</span><span class="op" id="6368640">[</span><span class="num" id="6368641">4</span><span class="op" id="6368642">:</span><span class="op" id="6368643">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368651">fn</span><span class="op" id="6368653">(</span><span class="ident" id="6368654">s</span><span class="op" id="6368655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368661">return</span>&nbsp;<span class="ident" id="6368668">nil</span><br>
<span class="lineno"></span><span class="op" id="6368672">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="6368675">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="6368724">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="6368766">func</span>&nbsp;<span class="ident" id="6368771">NewTable</span><span class="op" id="6368779">(</span><span class="ident" id="6368780">symtab</span>&nbsp;<span class="op" id="6368787">[</span><span class="op" id="6368788">]</span><span class="builtintype" id="6368789">byte</span><span class="op" id="6368793">,</span>&nbsp;<span class="ident" id="6368795">pcln</span>&nbsp;<span class="op" id="6368800">*</span><span class="ident" id="6368801">LineTable</span><span class="op" id="6368810">)</span>&nbsp;<span class="op" id="6368812">(</span><span class="op" id="6368813">*</span><span class="ident" id="6368814">Table</span><span class="op" id="6368819">,</span>&nbsp;<span class="builtintype" id="6368821">error</span><span class="op" id="6368826">)</span>&nbsp;<span class="op" id="6368828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368831">var</span>&nbsp;<span class="ident" id="6368835">n</span>&nbsp;<span class="builtintype" id="6368837">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368842">err</span>&nbsp;<span class="op" id="6368846">:=</span>&nbsp;<span class="ident" id="6368849">walksymtab</span><span class="op" id="6368859">(</span><span class="ident" id="6368860">symtab</span><span class="op" id="6368866">,</span>&nbsp;<span class="keyword" id="6368868">func</span><span class="op" id="6368872">(</span><span class="ident" id="6368873">s</span>&nbsp;<span class="ident" id="6368875">sym</span><span class="op" id="6368878">)</span>&nbsp;<span class="builtintype" id="6368880">error</span>&nbsp;<span class="op" id="6368886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368890">n</span><span class="op" id="6368891">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368896">return</span>&nbsp;<span class="ident" id="6368903">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368908">}</span><span class="op" id="6368909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368912">if</span>&nbsp;<span class="ident" id="6368915">err</span>&nbsp;<span class="op" id="6368919">!=</span>&nbsp;<span class="ident" id="6368922">nil</span>&nbsp;<span class="op" id="6368926">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368930">return</span>&nbsp;<span class="ident" id="6368937">nil</span><span class="op" id="6368940">,</span>&nbsp;<span class="ident" id="6368942">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6368947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368951">var</span>&nbsp;<span class="ident" id="6368955">t</span>&nbsp;<span class="ident" id="6368957">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6368964">if</span>&nbsp;<span class="ident" id="6368967">pcln</span><span class="op" id="6368971">.</span><span class="ident" id="6368972">isGo12</span><span class="op" id="6368978">(</span><span class="op" id="6368979">)</span>&nbsp;<span class="op" id="6368981">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6368985">t</span><span class="op" id="6368986">.</span><span class="ident" id="6368987">go12line</span>&nbsp;<span class="op" id="6368996">=</span>&nbsp;<span class="ident" id="6368998">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369007">fname</span>&nbsp;<span class="op" id="6369013">:=</span>&nbsp;<span class="builtinfunc" id="6369016">make</span><span class="op" id="6369020">(</span><span class="keyword" id="6369021">map</span><span class="op" id="6369024">[</span><span class="builtintype" id="6369025">uint16</span><span class="op" id="6369031">]</span><span class="builtintype" id="6369032">string</span><span class="op" id="6369038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369041">t</span><span class="op" id="6369042">.</span><span class="ident" id="6369043">Syms</span>&nbsp;<span class="op" id="6369048">=</span>&nbsp;<span class="builtinfunc" id="6369050">make</span><span class="op" id="6369054">(</span><span class="op" id="6369055">[</span><span class="op" id="6369056">]</span><span class="ident" id="6369057">Sym</span><span class="op" id="6369060">,</span>&nbsp;<span class="num" id="6369062">0</span><span class="op" id="6369063">,</span>&nbsp;<span class="ident" id="6369065">n</span><span class="op" id="6369066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369069">nf</span>&nbsp;<span class="op" id="6369072">:=</span>&nbsp;<span class="num" id="6369075">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369078">nz</span>&nbsp;<span class="op" id="6369081">:=</span>&nbsp;<span class="num" id="6369084">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369087">lasttyp</span>&nbsp;<span class="op" id="6369095">:=</span>&nbsp;<span class="builtintype" id="6369098">uint8</span><span class="op" id="6369103">(</span><span class="num" id="6369104">0</span><span class="op" id="6369105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369108">err</span>&nbsp;<span class="op" id="6369112">=</span>&nbsp;<span class="ident" id="6369114">walksymtab</span><span class="op" id="6369124">(</span><span class="ident" id="6369125">symtab</span><span class="op" id="6369131">,</span>&nbsp;<span class="keyword" id="6369133">func</span><span class="op" id="6369137">(</span><span class="ident" id="6369138">s</span>&nbsp;<span class="ident" id="6369140">sym</span><span class="op" id="6369143">)</span>&nbsp;<span class="builtintype" id="6369145">error</span>&nbsp;<span class="op" id="6369151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369155">n</span>&nbsp;<span class="op" id="6369157">:=</span>&nbsp;<span class="builtinfunc" id="6369160">len</span><span class="op" id="6369163">(</span><span class="ident" id="6369164">t</span><span class="op" id="6369165">.</span><span class="ident" id="6369166">Syms</span><span class="op" id="6369170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369174">t</span><span class="op" id="6369175">.</span><span class="ident" id="6369176">Syms</span>&nbsp;<span class="op" id="6369181">=</span>&nbsp;<span class="ident" id="6369183">t</span><span class="op" id="6369184">.</span><span class="ident" id="6369185">Syms</span><span class="op" id="6369189">[</span><span class="num" id="6369190">0</span>&nbsp;<span class="op" id="6369192">:</span>&nbsp;<span class="ident" id="6369194">n</span><span class="op" id="6369195">+</span><span class="num" id="6369196">1</span><span class="op" id="6369197">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369201">ts</span>&nbsp;<span class="op" id="6369204">:=</span>&nbsp;<span class="op" id="6369207">&amp;</span><span class="ident" id="6369208">t</span><span class="op" id="6369209">.</span><span class="ident" id="6369210">Syms</span><span class="op" id="6369214">[</span><span class="ident" id="6369215">n</span><span class="op" id="6369216">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369220">ts</span><span class="op" id="6369222">.</span><span class="ident" id="6369223">Type</span>&nbsp;<span class="op" id="6369228">=</span>&nbsp;<span class="ident" id="6369230">s</span><span class="op" id="6369231">.</span><span class="ident" id="6369232">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369238">ts</span><span class="op" id="6369240">.</span><span class="ident" id="6369241">Value</span>&nbsp;<span class="op" id="6369247">=</span>&nbsp;<span class="ident" id="6369249">uint64</span><span class="op" id="6369255">(</span><span class="ident" id="6369256">s</span><span class="op" id="6369257">.</span><span class="ident" id="6369258">value</span><span class="op" id="6369263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369267">ts</span><span class="op" id="6369269">.</span><span class="ident" id="6369270">GoType</span>&nbsp;<span class="op" id="6369277">=</span>&nbsp;<span class="ident" id="6369279">uint64</span><span class="op" id="6369285">(</span><span class="ident" id="6369286">s</span><span class="op" id="6369287">.</span><span class="ident" id="6369288">gotype</span><span class="op" id="6369294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369298">switch</span>&nbsp;<span class="ident" id="6369305">s</span><span class="op" id="6369306">.</span><span class="ident" id="6369307">typ</span>&nbsp;<span class="op" id="6369311">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369315">default</span><span class="op" id="6369322">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6369327">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369377">w</span>&nbsp;<span class="op" id="6369379">:=</span>&nbsp;<span class="num" id="6369382">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369387">b</span>&nbsp;<span class="op" id="6369389">:=</span>&nbsp;<span class="ident" id="6369392">s</span><span class="op" id="6369393">.</span><span class="ident" id="6369394">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369402">for</span>&nbsp;<span class="ident" id="6369406">i</span>&nbsp;<span class="op" id="6369408">:=</span>&nbsp;<span class="num" id="6369411">0</span><span class="op" id="6369412">;</span>&nbsp;<span class="ident" id="6369414">i</span>&nbsp;<span class="op" id="6369416">&lt;</span>&nbsp;<span class="builtinfunc" id="6369418">len</span><span class="op" id="6369421">(</span><span class="ident" id="6369422">b</span><span class="op" id="6369423">)</span><span class="op" id="6369424">;</span>&nbsp;<span class="ident" id="6369426">i</span><span class="op" id="6369427">++</span>&nbsp;<span class="op" id="6369430">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369436">if</span>&nbsp;<span class="ident" id="6369439">b</span><span class="op" id="6369440">[</span><span class="ident" id="6369441">i</span><span class="op" id="6369442">]</span>&nbsp;<span class="op" id="6369444">==</span>&nbsp;<span class="num" id="6369447">0xc2</span>&nbsp;<span class="op" id="6369452">&amp;&amp;</span>&nbsp;<span class="ident" id="6369455">i</span><span class="op" id="6369456">+</span><span class="num" id="6369457">1</span>&nbsp;<span class="op" id="6369459">&lt;</span>&nbsp;<span class="builtinfunc" id="6369461">len</span><span class="op" id="6369464">(</span><span class="ident" id="6369465">b</span><span class="op" id="6369466">)</span>&nbsp;<span class="op" id="6369468">&amp;&amp;</span>&nbsp;<span class="ident" id="6369471">b</span><span class="op" id="6369472">[</span><span class="ident" id="6369473">i</span><span class="op" id="6369474">+</span><span class="num" id="6369475">1</span><span class="op" id="6369476">]</span>&nbsp;<span class="op" id="6369478">==</span>&nbsp;<span class="num" id="6369481">0xb7</span>&nbsp;<span class="op" id="6369486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369493">i</span><span class="op" id="6369494">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369502">b</span><span class="op" id="6369503">[</span><span class="ident" id="6369504">i</span><span class="op" id="6369505">]</span>&nbsp;<span class="op" id="6369507">=</span>&nbsp;<span class="string" id="6369509">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369523">b</span><span class="op" id="6369524">[</span><span class="ident" id="6369525">w</span><span class="op" id="6369526">]</span>&nbsp;<span class="op" id="6369528">=</span>&nbsp;<span class="ident" id="6369530">b</span><span class="op" id="6369531">[</span><span class="ident" id="6369532">i</span><span class="op" id="6369533">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369539">w</span><span class="op" id="6369540">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369551">ts</span><span class="op" id="6369553">.</span><span class="ident" id="6369554">Name</span>&nbsp;<span class="op" id="6369559">=</span>&nbsp;<span class="builtintype" id="6369561">string</span><span class="op" id="6369567">(</span><span class="ident" id="6369568">s</span><span class="op" id="6369569">.</span><span class="ident" id="6369570">name</span><span class="op" id="6369574">[</span><span class="num" id="6369575">0</span><span class="op" id="6369576">:</span><span class="ident" id="6369577">w</span><span class="op" id="6369578">]</span><span class="op" id="6369579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369583">case</span>&nbsp;<span class="string" id="6369588">&#39;z&#39;</span><span class="op" id="6369591">,</span>&nbsp;<span class="string" id="6369593">&#39;Z&#39;</span><span class="op" id="6369596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369601">if</span>&nbsp;<span class="ident" id="6369604">lasttyp</span>&nbsp;<span class="op" id="6369612">!=</span>&nbsp;<span class="string" id="6369615">&#39;z&#39;</span>&nbsp;<span class="op" id="6369619">&amp;&amp;</span>&nbsp;<span class="ident" id="6369622">lasttyp</span>&nbsp;<span class="op" id="6369630">!=</span>&nbsp;<span class="string" id="6369633">&#39;Z&#39;</span>&nbsp;<span class="op" id="6369637">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369643">nz</span><span class="op" id="6369645">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369656">for</span>&nbsp;<span class="ident" id="6369660">i</span>&nbsp;<span class="op" id="6369662">:=</span>&nbsp;<span class="num" id="6369665">0</span><span class="op" id="6369666">;</span>&nbsp;<span class="ident" id="6369668">i</span>&nbsp;<span class="op" id="6369670">&lt;</span>&nbsp;<span class="builtinfunc" id="6369672">len</span><span class="op" id="6369675">(</span><span class="ident" id="6369676">s</span><span class="op" id="6369677">.</span><span class="ident" id="6369678">name</span><span class="op" id="6369682">)</span><span class="op" id="6369683">;</span>&nbsp;<span class="ident" id="6369685">i</span>&nbsp;<span class="op" id="6369687">+=</span>&nbsp;<span class="num" id="6369690">2</span>&nbsp;<span class="op" id="6369692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369698">eltIdx</span>&nbsp;<span class="op" id="6369705">:=</span>&nbsp;<span class="ident" id="6369708">binary</span><span class="op" id="6369714">.</span><span class="ident" id="6369715">BigEndian</span><span class="op" id="6369724">.</span><span class="ident" id="6369725">Uint16</span><span class="op" id="6369731">(</span><span class="ident" id="6369732">s</span><span class="op" id="6369733">.</span><span class="ident" id="6369734">name</span><span class="op" id="6369738">[</span><span class="ident" id="6369739">i</span>&nbsp;<span class="op" id="6369741">:</span>&nbsp;<span class="ident" id="6369743">i</span><span class="op" id="6369744">+</span><span class="num" id="6369745">2</span><span class="op" id="6369746">]</span><span class="op" id="6369747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369753">elt</span><span class="op" id="6369756">,</span>&nbsp;<span class="ident" id="6369758">ok</span>&nbsp;<span class="op" id="6369761">:=</span>&nbsp;<span class="ident" id="6369764">fname</span><span class="op" id="6369769">[</span><span class="ident" id="6369770">eltIdx</span><span class="op" id="6369776">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369782">if</span>&nbsp;<span class="op" id="6369785">!</span><span class="ident" id="6369786">ok</span>&nbsp;<span class="op" id="6369789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369796">return</span>&nbsp;<span class="op" id="6369803">&amp;</span><span class="ident" id="6369804">DecodingError</span><span class="op" id="6369817">{</span><span class="op" id="6369818">-</span><span class="num" id="6369819">1</span><span class="op" id="6369820">,</span>&nbsp;<span class="string" id="6369822">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="6369841">,</span>&nbsp;<span class="ident" id="6369843">eltIdx</span><span class="op" id="6369849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369861">if</span>&nbsp;<span class="ident" id="6369864">n</span>&nbsp;<span class="op" id="6369866">:=</span>&nbsp;<span class="builtinfunc" id="6369869">len</span><span class="op" id="6369872">(</span><span class="ident" id="6369873">ts</span><span class="op" id="6369875">.</span><span class="ident" id="6369876">Name</span><span class="op" id="6369880">)</span><span class="op" id="6369881">;</span>&nbsp;<span class="ident" id="6369883">n</span>&nbsp;<span class="op" id="6369885">&gt;</span>&nbsp;<span class="num" id="6369887">0</span>&nbsp;<span class="op" id="6369889">&amp;&amp;</span>&nbsp;<span class="ident" id="6369892">ts</span><span class="op" id="6369894">.</span><span class="ident" id="6369895">Name</span><span class="op" id="6369899">[</span><span class="ident" id="6369900">n</span><span class="op" id="6369901">-</span><span class="num" id="6369902">1</span><span class="op" id="6369903">]</span>&nbsp;<span class="op" id="6369905">!=</span>&nbsp;<span class="string" id="6369908">&#39;/&#39;</span>&nbsp;<span class="op" id="6369912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369919">ts</span><span class="op" id="6369921">.</span><span class="ident" id="6369922">Name</span>&nbsp;<span class="op" id="6369927">+=</span>&nbsp;<span class="string" id="6369930">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6369944">ts</span><span class="op" id="6369946">.</span><span class="ident" id="6369947">Name</span>&nbsp;<span class="op" id="6369952">+=</span>&nbsp;<span class="ident" id="6369955">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6369966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369970">switch</span>&nbsp;<span class="ident" id="6369977">s</span><span class="op" id="6369978">.</span><span class="ident" id="6369979">typ</span>&nbsp;<span class="op" id="6369983">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6369987">case</span>&nbsp;<span class="string" id="6369992">&#39;T&#39;</span><span class="op" id="6369995">,</span>&nbsp;<span class="string" id="6369997">&#39;t&#39;</span><span class="op" id="6370000">,</span>&nbsp;<span class="string" id="6370002">&#39;L&#39;</span><span class="op" id="6370005">,</span>&nbsp;<span class="string" id="6370007">&#39;l&#39;</span><span class="op" id="6370010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370015">nf</span><span class="op" id="6370017">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370022">case</span>&nbsp;<span class="string" id="6370027">&#39;f&#39;</span><span class="op" id="6370030">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370035">fname</span><span class="op" id="6370040">[</span><span class="builtintype" id="6370041">uint16</span><span class="op" id="6370047">(</span><span class="ident" id="6370048">s</span><span class="op" id="6370049">.</span><span class="ident" id="6370050">value</span><span class="op" id="6370055">)</span><span class="op" id="6370056">]</span>&nbsp;<span class="op" id="6370058">=</span>&nbsp;<span class="ident" id="6370060">ts</span><span class="op" id="6370062">.</span><span class="ident" id="6370063">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370070">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370074">lasttyp</span>&nbsp;<span class="op" id="6370082">=</span>&nbsp;<span class="ident" id="6370084">s</span><span class="op" id="6370085">.</span><span class="ident" id="6370086">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370092">return</span>&nbsp;<span class="ident" id="6370099">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370104">}</span><span class="op" id="6370105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370108">if</span>&nbsp;<span class="ident" id="6370111">err</span>&nbsp;<span class="op" id="6370115">!=</span>&nbsp;<span class="ident" id="6370118">nil</span>&nbsp;<span class="op" id="6370122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370126">return</span>&nbsp;<span class="ident" id="6370133">nil</span><span class="op" id="6370136">,</span>&nbsp;<span class="ident" id="6370138">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370147">t</span><span class="op" id="6370148">.</span><span class="ident" id="6370149">Funcs</span>&nbsp;<span class="op" id="6370155">=</span>&nbsp;<span class="builtinfunc" id="6370157">make</span><span class="op" id="6370161">(</span><span class="op" id="6370162">[</span><span class="op" id="6370163">]</span><span class="ident" id="6370164">Func</span><span class="op" id="6370168">,</span>&nbsp;<span class="num" id="6370170">0</span><span class="op" id="6370171">,</span>&nbsp;<span class="ident" id="6370173">nf</span><span class="op" id="6370175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370178">t</span><span class="op" id="6370179">.</span><span class="ident" id="6370180">Files</span>&nbsp;<span class="op" id="6370186">=</span>&nbsp;<span class="builtinfunc" id="6370188">make</span><span class="op" id="6370192">(</span><span class="keyword" id="6370193">map</span><span class="op" id="6370196">[</span><span class="builtintype" id="6370197">string</span><span class="op" id="6370203">]</span><span class="op" id="6370204">*</span><span class="ident" id="6370205">Obj</span><span class="op" id="6370208">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370212">var</span>&nbsp;<span class="ident" id="6370216">obj</span>&nbsp;<span class="op" id="6370220">*</span><span class="ident" id="6370221">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370226">if</span>&nbsp;<span class="ident" id="6370229">t</span><span class="op" id="6370230">.</span><span class="ident" id="6370231">go12line</span>&nbsp;<span class="op" id="6370240">!=</span>&nbsp;<span class="ident" id="6370243">nil</span>&nbsp;<span class="op" id="6370247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370251">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370288">t</span><span class="op" id="6370289">.</span><span class="ident" id="6370290">Objs</span>&nbsp;<span class="op" id="6370295">=</span>&nbsp;<span class="builtinfunc" id="6370297">make</span><span class="op" id="6370301">(</span><span class="op" id="6370302">[</span><span class="op" id="6370303">]</span><span class="ident" id="6370304">Obj</span><span class="op" id="6370307">,</span>&nbsp;<span class="num" id="6370309">1</span><span class="op" id="6370310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370314">obj</span>&nbsp;<span class="op" id="6370318">=</span>&nbsp;<span class="op" id="6370320">&amp;</span><span class="ident" id="6370321">t</span><span class="op" id="6370322">.</span><span class="ident" id="6370323">Objs</span><span class="op" id="6370327">[</span><span class="num" id="6370328">0</span><span class="op" id="6370329">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370333">t</span><span class="op" id="6370334">.</span><span class="ident" id="6370335">go12line</span><span class="op" id="6370343">.</span><span class="ident" id="6370344">go12MapFiles</span><span class="op" id="6370356">(</span><span class="ident" id="6370357">t</span><span class="op" id="6370358">.</span><span class="ident" id="6370359">Files</span><span class="op" id="6370364">,</span>&nbsp;<span class="ident" id="6370366">obj</span><span class="op" id="6370369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370372">}</span>&nbsp;<span class="keyword" id="6370374">else</span>&nbsp;<span class="op" id="6370379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370383">t</span><span class="op" id="6370384">.</span><span class="ident" id="6370385">Objs</span>&nbsp;<span class="op" id="6370390">=</span>&nbsp;<span class="builtinfunc" id="6370392">make</span><span class="op" id="6370396">(</span><span class="op" id="6370397">[</span><span class="op" id="6370398">]</span><span class="ident" id="6370399">Obj</span><span class="op" id="6370402">,</span>&nbsp;<span class="num" id="6370404">0</span><span class="op" id="6370405">,</span>&nbsp;<span class="ident" id="6370407">nz</span><span class="op" id="6370409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370416">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370479">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370535">lastf</span>&nbsp;<span class="op" id="6370541">:=</span>&nbsp;<span class="num" id="6370544">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370547">for</span>&nbsp;<span class="ident" id="6370551">i</span>&nbsp;<span class="op" id="6370553">:=</span>&nbsp;<span class="num" id="6370556">0</span><span class="op" id="6370557">;</span>&nbsp;<span class="ident" id="6370559">i</span>&nbsp;<span class="op" id="6370561">&lt;</span>&nbsp;<span class="builtinfunc" id="6370563">len</span><span class="op" id="6370566">(</span><span class="ident" id="6370567">t</span><span class="op" id="6370568">.</span><span class="ident" id="6370569">Syms</span><span class="op" id="6370573">)</span><span class="op" id="6370574">;</span>&nbsp;<span class="ident" id="6370576">i</span><span class="op" id="6370577">++</span>&nbsp;<span class="op" id="6370580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370584">sym</span>&nbsp;<span class="op" id="6370588">:=</span>&nbsp;<span class="op" id="6370591">&amp;</span><span class="ident" id="6370592">t</span><span class="op" id="6370593">.</span><span class="ident" id="6370594">Syms</span><span class="op" id="6370598">[</span><span class="ident" id="6370599">i</span><span class="op" id="6370600">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370604">switch</span>&nbsp;<span class="ident" id="6370611">sym</span><span class="op" id="6370614">.</span><span class="ident" id="6370615">Type</span>&nbsp;<span class="op" id="6370620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370624">case</span>&nbsp;<span class="string" id="6370629">&#39;Z&#39;</span><span class="op" id="6370632">,</span>&nbsp;<span class="string" id="6370634">&#39;z&#39;</span><span class="op" id="6370637">:</span>&nbsp;<span class="comment" id="6370639">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370657">if</span>&nbsp;<span class="ident" id="6370660">t</span><span class="op" id="6370661">.</span><span class="ident" id="6370662">go12line</span>&nbsp;<span class="op" id="6370671">!=</span>&nbsp;<span class="ident" id="6370674">nil</span>&nbsp;<span class="op" id="6370678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370684">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370752">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370766">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370798">if</span>&nbsp;<span class="ident" id="6370801">obj</span>&nbsp;<span class="op" id="6370805">!=</span>&nbsp;<span class="ident" id="6370808">nil</span>&nbsp;<span class="op" id="6370812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370818">obj</span><span class="op" id="6370821">.</span><span class="ident" id="6370822">Funcs</span>&nbsp;<span class="op" id="6370828">=</span>&nbsp;<span class="ident" id="6370830">t</span><span class="op" id="6370831">.</span><span class="ident" id="6370832">Funcs</span><span class="op" id="6370837">[</span><span class="ident" id="6370838">lastf</span><span class="op" id="6370843">:</span><span class="op" id="6370844">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370849">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370854">lastf</span>&nbsp;<span class="op" id="6370860">=</span>&nbsp;<span class="builtinfunc" id="6370862">len</span><span class="op" id="6370865">(</span><span class="ident" id="6370866">t</span><span class="op" id="6370867">.</span><span class="ident" id="6370868">Funcs</span><span class="op" id="6370873">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370879">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370902">n</span>&nbsp;<span class="op" id="6370904">:=</span>&nbsp;<span class="builtinfunc" id="6370907">len</span><span class="op" id="6370910">(</span><span class="ident" id="6370911">t</span><span class="op" id="6370912">.</span><span class="ident" id="6370913">Objs</span><span class="op" id="6370917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370922">t</span><span class="op" id="6370923">.</span><span class="ident" id="6370924">Objs</span>&nbsp;<span class="op" id="6370929">=</span>&nbsp;<span class="ident" id="6370931">t</span><span class="op" id="6370932">.</span><span class="ident" id="6370933">Objs</span><span class="op" id="6370937">[</span><span class="num" id="6370938">0</span>&nbsp;<span class="op" id="6370940">:</span>&nbsp;<span class="ident" id="6370942">n</span><span class="op" id="6370943">+</span><span class="num" id="6370944">1</span><span class="op" id="6370945">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370950">obj</span>&nbsp;<span class="op" id="6370954">=</span>&nbsp;<span class="op" id="6370956">&amp;</span><span class="ident" id="6370957">t</span><span class="op" id="6370958">.</span><span class="ident" id="6370959">Objs</span><span class="op" id="6370963">[</span><span class="ident" id="6370964">n</span><span class="op" id="6370965">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370971">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371003">var</span>&nbsp;<span class="ident" id="6371007">end</span>&nbsp;<span class="builtintype" id="6371011">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371018">for</span>&nbsp;<span class="ident" id="6371022">end</span>&nbsp;<span class="op" id="6371026">=</span>&nbsp;<span class="ident" id="6371028">i</span>&nbsp;<span class="op" id="6371030">+</span>&nbsp;<span class="num" id="6371032">1</span><span class="op" id="6371033">;</span>&nbsp;<span class="ident" id="6371035">end</span>&nbsp;<span class="op" id="6371039">&lt;</span>&nbsp;<span class="builtinfunc" id="6371041">len</span><span class="op" id="6371044">(</span><span class="ident" id="6371045">t</span><span class="op" id="6371046">.</span><span class="ident" id="6371047">Syms</span><span class="op" id="6371051">)</span><span class="op" id="6371052">;</span>&nbsp;<span class="ident" id="6371054">end</span><span class="op" id="6371057">++</span>&nbsp;<span class="op" id="6371060">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371066">if</span>&nbsp;<span class="ident" id="6371069">c</span>&nbsp;<span class="op" id="6371071">:=</span>&nbsp;<span class="ident" id="6371074">t</span><span class="op" id="6371075">.</span><span class="ident" id="6371076">Syms</span><span class="op" id="6371080">[</span><span class="ident" id="6371081">end</span><span class="op" id="6371084">]</span><span class="op" id="6371085">.</span><span class="ident" id="6371086">Type</span><span class="op" id="6371090">;</span>&nbsp;<span class="ident" id="6371092">c</span>&nbsp;<span class="op" id="6371094">!=</span>&nbsp;<span class="string" id="6371097">&#39;Z&#39;</span>&nbsp;<span class="op" id="6371101">&amp;&amp;</span>&nbsp;<span class="ident" id="6371104">c</span>&nbsp;<span class="op" id="6371106">!=</span>&nbsp;<span class="string" id="6371109">&#39;z&#39;</span>&nbsp;<span class="op" id="6371113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371120">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371140">obj</span><span class="op" id="6371143">.</span><span class="ident" id="6371144">Paths</span>&nbsp;<span class="op" id="6371150">=</span>&nbsp;<span class="ident" id="6371152">t</span><span class="op" id="6371153">.</span><span class="ident" id="6371154">Syms</span><span class="op" id="6371158">[</span><span class="ident" id="6371159">i</span><span class="op" id="6371160">:</span><span class="ident" id="6371161">end</span><span class="op" id="6371164">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371169">i</span>&nbsp;<span class="op" id="6371171">=</span>&nbsp;<span class="ident" id="6371173">end</span>&nbsp;<span class="op" id="6371177">-</span>&nbsp;<span class="num" id="6371179">1</span>&nbsp;<span class="comment" id="6371181">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6371202">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371226">depth</span>&nbsp;<span class="op" id="6371232">:=</span>&nbsp;<span class="num" id="6371235">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371240">for</span>&nbsp;<span class="ident" id="6371244">j</span>&nbsp;<span class="op" id="6371246">:=</span>&nbsp;<span class="keyword" id="6371249">range</span>&nbsp;<span class="ident" id="6371255">obj</span><span class="op" id="6371258">.</span><span class="ident" id="6371259">Paths</span>&nbsp;<span class="op" id="6371265">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371271">s</span>&nbsp;<span class="op" id="6371273">:=</span>&nbsp;<span class="op" id="6371276">&amp;</span><span class="ident" id="6371277">obj</span><span class="op" id="6371280">.</span><span class="ident" id="6371281">Paths</span><span class="op" id="6371286">[</span><span class="ident" id="6371287">j</span><span class="op" id="6371288">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371294">if</span>&nbsp;<span class="ident" id="6371297">s</span><span class="op" id="6371298">.</span><span class="ident" id="6371299">Name</span>&nbsp;<span class="op" id="6371304">==</span>&nbsp;<span class="string" id="6371307">&#34;&#34;</span>&nbsp;<span class="op" id="6371310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371317">depth</span><span class="op" id="6371322">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371329">}</span>&nbsp;<span class="keyword" id="6371331">else</span>&nbsp;<span class="op" id="6371336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371343">if</span>&nbsp;<span class="ident" id="6371346">depth</span>&nbsp;<span class="op" id="6371352">==</span>&nbsp;<span class="num" id="6371355">0</span>&nbsp;<span class="op" id="6371357">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371365">t</span><span class="op" id="6371366">.</span><span class="ident" id="6371367">Files</span><span class="op" id="6371372">[</span><span class="ident" id="6371373">s</span><span class="op" id="6371374">.</span><span class="ident" id="6371375">Name</span><span class="op" id="6371379">]</span>&nbsp;<span class="op" id="6371381">=</span>&nbsp;<span class="ident" id="6371383">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371399">depth</span><span class="op" id="6371404">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371416">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371421">case</span>&nbsp;<span class="string" id="6371426">&#39;T&#39;</span><span class="op" id="6371429">,</span>&nbsp;<span class="string" id="6371431">&#39;t&#39;</span><span class="op" id="6371434">,</span>&nbsp;<span class="string" id="6371436">&#39;L&#39;</span><span class="op" id="6371439">,</span>&nbsp;<span class="string" id="6371441">&#39;l&#39;</span><span class="op" id="6371444">:</span>&nbsp;<span class="comment" id="6371446">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371464">if</span>&nbsp;<span class="ident" id="6371467">n</span>&nbsp;<span class="op" id="6371469">:=</span>&nbsp;<span class="builtinfunc" id="6371472">len</span><span class="op" id="6371475">(</span><span class="ident" id="6371476">t</span><span class="op" id="6371477">.</span><span class="ident" id="6371478">Funcs</span><span class="op" id="6371483">)</span><span class="op" id="6371484">;</span>&nbsp;<span class="ident" id="6371486">n</span>&nbsp;<span class="op" id="6371488">&gt;</span>&nbsp;<span class="num" id="6371490">0</span>&nbsp;<span class="op" id="6371492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371498">t</span><span class="op" id="6371499">.</span><span class="ident" id="6371500">Funcs</span><span class="op" id="6371505">[</span><span class="ident" id="6371506">n</span><span class="op" id="6371507">-</span><span class="num" id="6371508">1</span><span class="op" id="6371509">]</span><span class="op" id="6371510">.</span><span class="ident" id="6371511">End</span>&nbsp;<span class="op" id="6371515">=</span>&nbsp;<span class="ident" id="6371517">sym</span><span class="op" id="6371520">.</span><span class="ident" id="6371521">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371530">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371535">if</span>&nbsp;<span class="ident" id="6371538">sym</span><span class="op" id="6371541">.</span><span class="ident" id="6371542">Name</span>&nbsp;<span class="op" id="6371547">==</span>&nbsp;<span class="string" id="6371550">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="6371566">||</span>&nbsp;<span class="ident" id="6371569">sym</span><span class="op" id="6371572">.</span><span class="ident" id="6371573">Name</span>&nbsp;<span class="op" id="6371578">==</span>&nbsp;<span class="string" id="6371581">&#34;etext&#34;</span>&nbsp;<span class="op" id="6371589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371595">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6371613">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371657">var</span>&nbsp;<span class="ident" id="6371661">np</span><span class="op" id="6371663">,</span>&nbsp;<span class="ident" id="6371665">na</span>&nbsp;<span class="builtintype" id="6371668">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371675">var</span>&nbsp;<span class="ident" id="6371679">end</span>&nbsp;<span class="builtintype" id="6371683">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371689">countloop</span><span class="op" id="6371698">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371703">for</span>&nbsp;<span class="ident" id="6371707">end</span>&nbsp;<span class="op" id="6371711">=</span>&nbsp;<span class="ident" id="6371713">i</span>&nbsp;<span class="op" id="6371715">+</span>&nbsp;<span class="num" id="6371717">1</span><span class="op" id="6371718">;</span>&nbsp;<span class="ident" id="6371720">end</span>&nbsp;<span class="op" id="6371724">&lt;</span>&nbsp;<span class="builtinfunc" id="6371726">len</span><span class="op" id="6371729">(</span><span class="ident" id="6371730">t</span><span class="op" id="6371731">.</span><span class="ident" id="6371732">Syms</span><span class="op" id="6371736">)</span><span class="op" id="6371737">;</span>&nbsp;<span class="ident" id="6371739">end</span><span class="op" id="6371742">++</span>&nbsp;<span class="op" id="6371745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371751">switch</span>&nbsp;<span class="ident" id="6371758">t</span><span class="op" id="6371759">.</span><span class="ident" id="6371760">Syms</span><span class="op" id="6371764">[</span><span class="ident" id="6371765">end</span><span class="op" id="6371768">]</span><span class="op" id="6371769">.</span><span class="ident" id="6371770">Type</span>&nbsp;<span class="op" id="6371775">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371781">case</span>&nbsp;<span class="string" id="6371786">&#39;T&#39;</span><span class="op" id="6371789">,</span>&nbsp;<span class="string" id="6371791">&#39;t&#39;</span><span class="op" id="6371794">,</span>&nbsp;<span class="string" id="6371796">&#39;L&#39;</span><span class="op" id="6371799">,</span>&nbsp;<span class="string" id="6371801">&#39;l&#39;</span><span class="op" id="6371804">,</span>&nbsp;<span class="string" id="6371806">&#39;Z&#39;</span><span class="op" id="6371809">,</span>&nbsp;<span class="string" id="6371811">&#39;z&#39;</span><span class="op" id="6371814">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371821">break</span>&nbsp;<span class="ident" id="6371827">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371841">case</span>&nbsp;<span class="string" id="6371846">&#39;p&#39;</span><span class="op" id="6371849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371856">np</span><span class="op" id="6371858">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371865">case</span>&nbsp;<span class="string" id="6371870">&#39;a&#39;</span><span class="op" id="6371873">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371880">na</span><span class="op" id="6371882">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6371900">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371934">n</span>&nbsp;<span class="op" id="6371936">:=</span>&nbsp;<span class="builtinfunc" id="6371939">len</span><span class="op" id="6371942">(</span><span class="ident" id="6371943">t</span><span class="op" id="6371944">.</span><span class="ident" id="6371945">Funcs</span><span class="op" id="6371950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371955">t</span><span class="op" id="6371956">.</span><span class="ident" id="6371957">Funcs</span>&nbsp;<span class="op" id="6371963">=</span>&nbsp;<span class="ident" id="6371965">t</span><span class="op" id="6371966">.</span><span class="ident" id="6371967">Funcs</span><span class="op" id="6371972">[</span><span class="num" id="6371973">0</span>&nbsp;<span class="op" id="6371975">:</span>&nbsp;<span class="ident" id="6371977">n</span><span class="op" id="6371978">+</span><span class="num" id="6371979">1</span><span class="op" id="6371980">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371985">fn</span>&nbsp;<span class="op" id="6371988">:=</span>&nbsp;<span class="op" id="6371991">&amp;</span><span class="ident" id="6371992">t</span><span class="op" id="6371993">.</span><span class="ident" id="6371994">Funcs</span><span class="op" id="6371999">[</span><span class="ident" id="6372000">n</span><span class="op" id="6372001">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372006">sym</span><span class="op" id="6372009">.</span><span class="ident" id="6372010">Func</span>&nbsp;<span class="op" id="6372015">=</span>&nbsp;<span class="ident" id="6372017">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372023">fn</span><span class="op" id="6372025">.</span><span class="ident" id="6372026">Params</span>&nbsp;<span class="op" id="6372033">=</span>&nbsp;<span class="builtinfunc" id="6372035">make</span><span class="op" id="6372039">(</span><span class="op" id="6372040">[</span><span class="op" id="6372041">]</span><span class="op" id="6372042">*</span><span class="ident" id="6372043">Sym</span><span class="op" id="6372046">,</span>&nbsp;<span class="num" id="6372048">0</span><span class="op" id="6372049">,</span>&nbsp;<span class="ident" id="6372051">np</span><span class="op" id="6372053">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372058">fn</span><span class="op" id="6372060">.</span><span class="ident" id="6372061">Locals</span>&nbsp;<span class="op" id="6372068">=</span>&nbsp;<span class="builtinfunc" id="6372070">make</span><span class="op" id="6372074">(</span><span class="op" id="6372075">[</span><span class="op" id="6372076">]</span><span class="op" id="6372077">*</span><span class="ident" id="6372078">Sym</span><span class="op" id="6372081">,</span>&nbsp;<span class="num" id="6372083">0</span><span class="op" id="6372084">,</span>&nbsp;<span class="ident" id="6372086">na</span><span class="op" id="6372088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372093">fn</span><span class="op" id="6372095">.</span><span class="ident" id="6372096">Sym</span>&nbsp;<span class="op" id="6372100">=</span>&nbsp;<span class="ident" id="6372102">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372109">fn</span><span class="op" id="6372111">.</span><span class="ident" id="6372112">Entry</span>&nbsp;<span class="op" id="6372118">=</span>&nbsp;<span class="ident" id="6372120">sym</span><span class="op" id="6372123">.</span><span class="ident" id="6372124">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372133">fn</span><span class="op" id="6372135">.</span><span class="ident" id="6372136">Obj</span>&nbsp;<span class="op" id="6372140">=</span>&nbsp;<span class="ident" id="6372142">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372149">if</span>&nbsp;<span class="ident" id="6372152">t</span><span class="op" id="6372153">.</span><span class="ident" id="6372154">go12line</span>&nbsp;<span class="op" id="6372163">!=</span>&nbsp;<span class="ident" id="6372166">nil</span>&nbsp;<span class="op" id="6372170">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6372176">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6372224">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6372273">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372298">fn</span><span class="op" id="6372300">.</span><span class="ident" id="6372301">LineTable</span>&nbsp;<span class="op" id="6372311">=</span>&nbsp;<span class="ident" id="6372313">t</span><span class="op" id="6372314">.</span><span class="ident" id="6372315">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372327">}</span>&nbsp;<span class="keyword" id="6372329">else</span>&nbsp;<span class="keyword" id="6372334">if</span>&nbsp;<span class="ident" id="6372337">pcln</span>&nbsp;<span class="op" id="6372342">!=</span>&nbsp;<span class="ident" id="6372345">nil</span>&nbsp;<span class="op" id="6372349">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372355">fn</span><span class="op" id="6372357">.</span><span class="ident" id="6372358">LineTable</span>&nbsp;<span class="op" id="6372368">=</span>&nbsp;<span class="ident" id="6372370">pcln</span><span class="op" id="6372374">.</span><span class="ident" id="6372375">slice</span><span class="op" id="6372380">(</span><span class="ident" id="6372381">fn</span><span class="op" id="6372383">.</span><span class="ident" id="6372384">Entry</span><span class="op" id="6372389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372395">pcln</span>&nbsp;<span class="op" id="6372400">=</span>&nbsp;<span class="ident" id="6372402">fn</span><span class="op" id="6372404">.</span><span class="ident" id="6372405">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372423">for</span>&nbsp;<span class="ident" id="6372427">j</span>&nbsp;<span class="op" id="6372429">:=</span>&nbsp;<span class="ident" id="6372432">i</span><span class="op" id="6372433">;</span>&nbsp;<span class="ident" id="6372435">j</span>&nbsp;<span class="op" id="6372437">&lt;</span>&nbsp;<span class="ident" id="6372439">end</span><span class="op" id="6372442">;</span>&nbsp;<span class="ident" id="6372444">j</span><span class="op" id="6372445">++</span>&nbsp;<span class="op" id="6372448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372454">s</span>&nbsp;<span class="op" id="6372456">:=</span>&nbsp;<span class="op" id="6372459">&amp;</span><span class="ident" id="6372460">t</span><span class="op" id="6372461">.</span><span class="ident" id="6372462">Syms</span><span class="op" id="6372466">[</span><span class="ident" id="6372467">j</span><span class="op" id="6372468">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372474">switch</span>&nbsp;<span class="ident" id="6372481">s</span><span class="op" id="6372482">.</span><span class="ident" id="6372483">Type</span>&nbsp;<span class="op" id="6372488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372494">case</span>&nbsp;<span class="string" id="6372499">&#39;m&#39;</span><span class="op" id="6372502">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372509">fn</span><span class="op" id="6372511">.</span><span class="ident" id="6372512">FrameSize</span>&nbsp;<span class="op" id="6372522">=</span>&nbsp;<span class="builtintype" id="6372524">int</span><span class="op" id="6372527">(</span><span class="ident" id="6372528">s</span><span class="op" id="6372529">.</span><span class="ident" id="6372530">Value</span><span class="op" id="6372535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372541">case</span>&nbsp;<span class="string" id="6372546">&#39;p&#39;</span><span class="op" id="6372549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372556">n</span>&nbsp;<span class="op" id="6372558">:=</span>&nbsp;<span class="builtinfunc" id="6372561">len</span><span class="op" id="6372564">(</span><span class="ident" id="6372565">fn</span><span class="op" id="6372567">.</span><span class="ident" id="6372568">Params</span><span class="op" id="6372574">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372581">fn</span><span class="op" id="6372583">.</span><span class="ident" id="6372584">Params</span>&nbsp;<span class="op" id="6372591">=</span>&nbsp;<span class="ident" id="6372593">fn</span><span class="op" id="6372595">.</span><span class="ident" id="6372596">Params</span><span class="op" id="6372602">[</span><span class="num" id="6372603">0</span>&nbsp;<span class="op" id="6372605">:</span>&nbsp;<span class="ident" id="6372607">n</span><span class="op" id="6372608">+</span><span class="num" id="6372609">1</span><span class="op" id="6372610">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372617">fn</span><span class="op" id="6372619">.</span><span class="ident" id="6372620">Params</span><span class="op" id="6372626">[</span><span class="ident" id="6372627">n</span><span class="op" id="6372628">]</span>&nbsp;<span class="op" id="6372630">=</span>&nbsp;<span class="ident" id="6372632">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372638">case</span>&nbsp;<span class="string" id="6372643">&#39;a&#39;</span><span class="op" id="6372646">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372653">n</span>&nbsp;<span class="op" id="6372655">:=</span>&nbsp;<span class="builtinfunc" id="6372658">len</span><span class="op" id="6372661">(</span><span class="ident" id="6372662">fn</span><span class="op" id="6372664">.</span><span class="ident" id="6372665">Locals</span><span class="op" id="6372671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372678">fn</span><span class="op" id="6372680">.</span><span class="ident" id="6372681">Locals</span>&nbsp;<span class="op" id="6372688">=</span>&nbsp;<span class="ident" id="6372690">fn</span><span class="op" id="6372692">.</span><span class="ident" id="6372693">Locals</span><span class="op" id="6372699">[</span><span class="num" id="6372700">0</span>&nbsp;<span class="op" id="6372702">:</span>&nbsp;<span class="ident" id="6372704">n</span><span class="op" id="6372705">+</span><span class="num" id="6372706">1</span><span class="op" id="6372707">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372714">fn</span><span class="op" id="6372716">.</span><span class="ident" id="6372717">Locals</span><span class="op" id="6372723">[</span><span class="ident" id="6372724">n</span><span class="op" id="6372725">]</span>&nbsp;<span class="op" id="6372727">=</span>&nbsp;<span class="ident" id="6372729">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372745">i</span>&nbsp;<span class="op" id="6372747">=</span>&nbsp;<span class="ident" id="6372749">end</span>&nbsp;<span class="op" id="6372753">-</span>&nbsp;<span class="num" id="6372755">1</span>&nbsp;<span class="comment" id="6372757">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372776">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372783">if</span>&nbsp;<span class="ident" id="6372786">t</span><span class="op" id="6372787">.</span><span class="ident" id="6372788">go12line</span>&nbsp;<span class="op" id="6372797">!=</span>&nbsp;<span class="ident" id="6372800">nil</span>&nbsp;<span class="op" id="6372804">&amp;&amp;</span>&nbsp;<span class="ident" id="6372807">nf</span>&nbsp;<span class="op" id="6372810">==</span>&nbsp;<span class="num" id="6372813">0</span>&nbsp;<span class="op" id="6372815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372819">t</span><span class="op" id="6372820">.</span><span class="ident" id="6372821">Funcs</span>&nbsp;<span class="op" id="6372827">=</span>&nbsp;<span class="ident" id="6372829">t</span><span class="op" id="6372830">.</span><span class="ident" id="6372831">go12line</span><span class="op" id="6372839">.</span><span class="ident" id="6372840">go12Funcs</span><span class="op" id="6372849">(</span><span class="op" id="6372850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372853">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372856">if</span>&nbsp;<span class="ident" id="6372859">obj</span>&nbsp;<span class="op" id="6372863">!=</span>&nbsp;<span class="ident" id="6372866">nil</span>&nbsp;<span class="op" id="6372870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6372874">obj</span><span class="op" id="6372877">.</span><span class="ident" id="6372878">Funcs</span>&nbsp;<span class="op" id="6372884">=</span>&nbsp;<span class="ident" id="6372886">t</span><span class="op" id="6372887">.</span><span class="ident" id="6372888">Funcs</span><span class="op" id="6372893">[</span><span class="ident" id="6372894">lastf</span><span class="op" id="6372899">:</span><span class="op" id="6372900">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6372903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6372906">return</span>&nbsp;<span class="op" id="6372913">&amp;</span><span class="ident" id="6372914">t</span><span class="op" id="6372915">,</span>&nbsp;<span class="ident" id="6372917">nil</span><br>
<span class="lineno"></span><span class="op" id="6372921">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="6372924">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="6372992">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="6373032">func</span>&nbsp;<span class="op" id="6373037">(</span><span class="ident" id="6373038">t</span>&nbsp;<span class="op" id="6373040">*</span><span class="ident" id="6373041">Table</span><span class="op" id="6373046">)</span>&nbsp;<span class="ident" id="6373048">PCToFunc</span><span class="op" id="6373056">(</span><span class="ident" id="6373057">pc</span>&nbsp;<span class="ident" id="6373060">uint64</span><span class="op" id="6373066">)</span>&nbsp;<span class="op" id="6373068">*</span><span class="ident" id="6373069">Func</span>&nbsp;<span class="op" id="6373074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373077">funcs</span>&nbsp;<span class="op" id="6373083">:=</span>&nbsp;<span class="ident" id="6373086">t</span><span class="op" id="6373087">.</span><span class="ident" id="6373088">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373095">for</span>&nbsp;<span class="builtinfunc" id="6373099">len</span><span class="op" id="6373102">(</span><span class="ident" id="6373103">funcs</span><span class="op" id="6373108">)</span>&nbsp;<span class="op" id="6373110">&gt;</span>&nbsp;<span class="num" id="6373112">0</span>&nbsp;<span class="op" id="6373114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373118">m</span>&nbsp;<span class="op" id="6373120">:=</span>&nbsp;<span class="builtinfunc" id="6373123">len</span><span class="op" id="6373126">(</span><span class="ident" id="6373127">funcs</span><span class="op" id="6373132">)</span>&nbsp;<span class="op" id="6373134">/</span>&nbsp;<span class="num" id="6373136">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373140">fn</span>&nbsp;<span class="op" id="6373143">:=</span>&nbsp;<span class="op" id="6373146">&amp;</span><span class="ident" id="6373147">funcs</span><span class="op" id="6373152">[</span><span class="ident" id="6373153">m</span><span class="op" id="6373154">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373158">switch</span>&nbsp;<span class="op" id="6373165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373169">case</span>&nbsp;<span class="ident" id="6373174">pc</span>&nbsp;<span class="op" id="6373177">&lt;</span>&nbsp;<span class="ident" id="6373179">fn</span><span class="op" id="6373181">.</span><span class="ident" id="6373182">Entry</span><span class="op" id="6373187">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373192">funcs</span>&nbsp;<span class="op" id="6373198">=</span>&nbsp;<span class="ident" id="6373200">funcs</span><span class="op" id="6373205">[</span><span class="num" id="6373206">0</span><span class="op" id="6373207">:</span><span class="ident" id="6373208">m</span><span class="op" id="6373209">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373213">case</span>&nbsp;<span class="ident" id="6373218">fn</span><span class="op" id="6373220">.</span><span class="ident" id="6373221">Entry</span>&nbsp;<span class="op" id="6373227">&lt;=</span>&nbsp;<span class="ident" id="6373230">pc</span>&nbsp;<span class="op" id="6373233">&amp;&amp;</span>&nbsp;<span class="ident" id="6373236">pc</span>&nbsp;<span class="op" id="6373239">&lt;</span>&nbsp;<span class="ident" id="6373241">fn</span><span class="op" id="6373243">.</span><span class="ident" id="6373244">End</span><span class="op" id="6373247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373252">return</span>&nbsp;<span class="ident" id="6373259">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373264">default</span><span class="op" id="6373271">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373276">funcs</span>&nbsp;<span class="op" id="6373282">=</span>&nbsp;<span class="ident" id="6373284">funcs</span><span class="op" id="6373289">[</span><span class="ident" id="6373290">m</span><span class="op" id="6373291">+</span><span class="num" id="6373292">1</span><span class="op" id="6373293">:</span><span class="op" id="6373294">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6373298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6373301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373304">return</span>&nbsp;<span class="ident" id="6373311">nil</span><br>
<span class="lineno"></span><span class="op" id="6373315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="6373318">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="6373386">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="6373439">func</span>&nbsp;<span class="op" id="6373444">(</span><span class="ident" id="6373445">t</span>&nbsp;<span class="op" id="6373447">*</span><span class="ident" id="6373448">Table</span><span class="op" id="6373453">)</span>&nbsp;<span class="ident" id="6373455">PCToLine</span><span class="op" id="6373463">(</span><span class="ident" id="6373464">pc</span>&nbsp;<span class="ident" id="6373467">uint64</span><span class="op" id="6373473">)</span>&nbsp;<span class="op" id="6373475">(</span><span class="ident" id="6373476">file</span>&nbsp;<span class="builtintype" id="6373481">string</span><span class="op" id="6373487">,</span>&nbsp;<span class="ident" id="6373489">line</span>&nbsp;<span class="builtintype" id="6373494">int</span><span class="op" id="6373497">,</span>&nbsp;<span class="ident" id="6373499">fn</span>&nbsp;<span class="op" id="6373502">*</span><span class="ident" id="6373503">Func</span><span class="op" id="6373507">)</span>&nbsp;<span class="op" id="6373509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373512">if</span>&nbsp;<span class="ident" id="6373515">fn</span>&nbsp;<span class="op" id="6373518">=</span>&nbsp;<span class="ident" id="6373520">t</span><span class="op" id="6373521">.</span><span class="ident" id="6373522">PCToFunc</span><span class="op" id="6373530">(</span><span class="ident" id="6373531">pc</span><span class="op" id="6373533">)</span><span class="op" id="6373534">;</span>&nbsp;<span class="ident" id="6373536">fn</span>&nbsp;<span class="op" id="6373539">==</span>&nbsp;<span class="ident" id="6373542">nil</span>&nbsp;<span class="op" id="6373546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373550">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6373558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373561">if</span>&nbsp;<span class="ident" id="6373564">t</span><span class="op" id="6373565">.</span><span class="ident" id="6373566">go12line</span>&nbsp;<span class="op" id="6373575">!=</span>&nbsp;<span class="ident" id="6373578">nil</span>&nbsp;<span class="op" id="6373582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373586">file</span>&nbsp;<span class="op" id="6373591">=</span>&nbsp;<span class="ident" id="6373593">t</span><span class="op" id="6373594">.</span><span class="ident" id="6373595">go12line</span><span class="op" id="6373603">.</span><span class="ident" id="6373604">go12PCToFile</span><span class="op" id="6373616">(</span><span class="ident" id="6373617">pc</span><span class="op" id="6373619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373623">line</span>&nbsp;<span class="op" id="6373628">=</span>&nbsp;<span class="ident" id="6373630">t</span><span class="op" id="6373631">.</span><span class="ident" id="6373632">go12line</span><span class="op" id="6373640">.</span><span class="ident" id="6373641">go12PCToLine</span><span class="op" id="6373653">(</span><span class="ident" id="6373654">pc</span><span class="op" id="6373656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6373659">}</span>&nbsp;<span class="keyword" id="6373661">else</span>&nbsp;<span class="op" id="6373666">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6373670">file</span><span class="op" id="6373674">,</span>&nbsp;<span class="ident" id="6373676">line</span>&nbsp;<span class="op" id="6373681">=</span>&nbsp;<span class="ident" id="6373683">fn</span><span class="op" id="6373685">.</span><span class="ident" id="6373686">Obj</span><span class="op" id="6373689">.</span><span class="ident" id="6373690">lineFromAline</span><span class="op" id="6373703">(</span><span class="ident" id="6373704">fn</span><span class="op" id="6373706">.</span><span class="ident" id="6373707">LineTable</span><span class="op" id="6373716">.</span><span class="ident" id="6373717">PCToLine</span><span class="op" id="6373725">(</span><span class="ident" id="6373726">pc</span><span class="op" id="6373728">)</span><span class="op" id="6373729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6373732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6373735">return</span><br>
<span class="lineno"></span><span class="op" id="6373742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="6373745">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6373813">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="6373884">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6373927">func</span>&nbsp;<span class="op" id="6373932">(</span><span class="ident" id="6373933">t</span>&nbsp;<span class="op" id="6373935">*</span><span class="ident" id="6373936">Table</span><span class="op" id="6373941">)</span>&nbsp;<span class="ident" id="6373943">LineToPC</span><span class="op" id="6373951">(</span><span class="ident" id="6373952">file</span>&nbsp;<span class="builtintype" id="6373957">string</span><span class="op" id="6373963">,</span>&nbsp;<span class="ident" id="6373965">line</span>&nbsp;<span class="builtintype" id="6373970">int</span><span class="op" id="6373973">)</span>&nbsp;<span class="op" id="6373975">(</span><span class="ident" id="6373976">pc</span>&nbsp;<span class="ident" id="6373979">uint64</span><span class="op" id="6373985">,</span>&nbsp;<span class="ident" id="6373987">fn</span>&nbsp;<span class="op" id="6373990">*</span><span class="ident" id="6373991">Func</span><span class="op" id="6373995">,</span>&nbsp;<span class="ident" id="6373997">err</span>&nbsp;<span class="builtintype" id="6374001">error</span><span class="op" id="6374006">)</span>&nbsp;<span class="op" id="6374008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6374011">obj</span><span class="op" id="6374014">,</span>&nbsp;<span class="ident" id="6374016">ok</span>&nbsp;<span class="op" id="6374019">:=</span>&nbsp;<span class="ident" id="6374022">t</span><span class="op" id="6374023">.</span><span class="ident" id="6374024">Files</span><span class="op" id="6374029">[</span><span class="ident" id="6374030">file</span><span class="op" id="6374034">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374037">if</span>&nbsp;<span class="op" id="6374040">!</span><span class="ident" id="6374041">ok</span>&nbsp;<span class="op" id="6374044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374048">return</span>&nbsp;<span class="num" id="6374055">0</span><span class="op" id="6374056">,</span>&nbsp;<span class="ident" id="6374058">nil</span><span class="op" id="6374061">,</span>&nbsp;<span class="ident" id="6374063">UnknownFileError</span><span class="op" id="6374079">(</span><span class="ident" id="6374080">file</span><span class="op" id="6374084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374091">if</span>&nbsp;<span class="ident" id="6374094">t</span><span class="op" id="6374095">.</span><span class="ident" id="6374096">go12line</span>&nbsp;<span class="op" id="6374105">!=</span>&nbsp;<span class="ident" id="6374108">nil</span>&nbsp;<span class="op" id="6374112">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6374116">pc</span>&nbsp;<span class="op" id="6374119">:=</span>&nbsp;<span class="ident" id="6374122">t</span><span class="op" id="6374123">.</span><span class="ident" id="6374124">go12line</span><span class="op" id="6374132">.</span><span class="ident" id="6374133">go12LineToPC</span><span class="op" id="6374145">(</span><span class="ident" id="6374146">file</span><span class="op" id="6374150">,</span>&nbsp;<span class="ident" id="6374152">line</span><span class="op" id="6374156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374160">if</span>&nbsp;<span class="ident" id="6374163">pc</span>&nbsp;<span class="op" id="6374166">==</span>&nbsp;<span class="num" id="6374169">0</span>&nbsp;<span class="op" id="6374171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374176">return</span>&nbsp;<span class="num" id="6374183">0</span><span class="op" id="6374184">,</span>&nbsp;<span class="ident" id="6374186">nil</span><span class="op" id="6374189">,</span>&nbsp;<span class="op" id="6374191">&amp;</span><span class="ident" id="6374192">UnknownLineError</span><span class="op" id="6374208">{</span><span class="ident" id="6374209">file</span><span class="op" id="6374213">,</span>&nbsp;<span class="ident" id="6374215">line</span><span class="op" id="6374219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374227">return</span>&nbsp;<span class="ident" id="6374234">pc</span><span class="op" id="6374236">,</span>&nbsp;<span class="ident" id="6374238">t</span><span class="op" id="6374239">.</span><span class="ident" id="6374240">PCToFunc</span><span class="op" id="6374248">(</span><span class="ident" id="6374249">pc</span><span class="op" id="6374251">)</span><span class="op" id="6374252">,</span>&nbsp;<span class="ident" id="6374254">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6374263">abs</span><span class="op" id="6374266">,</span>&nbsp;<span class="ident" id="6374268">err</span>&nbsp;<span class="op" id="6374272">:=</span>&nbsp;<span class="ident" id="6374275">obj</span><span class="op" id="6374278">.</span><span class="ident" id="6374279">alineFromLine</span><span class="op" id="6374292">(</span><span class="ident" id="6374293">file</span><span class="op" id="6374297">,</span>&nbsp;<span class="ident" id="6374299">line</span><span class="op" id="6374303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374306">if</span>&nbsp;<span class="ident" id="6374309">err</span>&nbsp;<span class="op" id="6374313">!=</span>&nbsp;<span class="ident" id="6374316">nil</span>&nbsp;<span class="op" id="6374320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374324">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374335">for</span>&nbsp;<span class="ident" id="6374339">i</span>&nbsp;<span class="op" id="6374341">:=</span>&nbsp;<span class="keyword" id="6374344">range</span>&nbsp;<span class="ident" id="6374350">obj</span><span class="op" id="6374353">.</span><span class="ident" id="6374354">Funcs</span>&nbsp;<span class="op" id="6374360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6374364">f</span>&nbsp;<span class="op" id="6374366">:=</span>&nbsp;<span class="op" id="6374369">&amp;</span><span class="ident" id="6374370">obj</span><span class="op" id="6374373">.</span><span class="ident" id="6374374">Funcs</span><span class="op" id="6374379">[</span><span class="ident" id="6374380">i</span><span class="op" id="6374381">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6374385">pc</span>&nbsp;<span class="op" id="6374388">:=</span>&nbsp;<span class="ident" id="6374391">f</span><span class="op" id="6374392">.</span><span class="ident" id="6374393">LineTable</span><span class="op" id="6374402">.</span><span class="ident" id="6374403">LineToPC</span><span class="op" id="6374411">(</span><span class="ident" id="6374412">abs</span><span class="op" id="6374415">,</span>&nbsp;<span class="ident" id="6374417">f</span><span class="op" id="6374418">.</span><span class="ident" id="6374419">End</span><span class="op" id="6374422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374426">if</span>&nbsp;<span class="ident" id="6374429">pc</span>&nbsp;<span class="op" id="6374432">!=</span>&nbsp;<span class="num" id="6374435">0</span>&nbsp;<span class="op" id="6374437">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374442">return</span>&nbsp;<span class="ident" id="6374449">pc</span><span class="op" id="6374451">,</span>&nbsp;<span class="ident" id="6374453">f</span><span class="op" id="6374454">,</span>&nbsp;<span class="ident" id="6374456">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374468">return</span>&nbsp;<span class="num" id="6374475">0</span><span class="op" id="6374476">,</span>&nbsp;<span class="ident" id="6374478">nil</span><span class="op" id="6374481">,</span>&nbsp;<span class="op" id="6374483">&amp;</span><span class="ident" id="6374484">UnknownLineError</span><span class="op" id="6374500">{</span><span class="ident" id="6374501">file</span><span class="op" id="6374505">,</span>&nbsp;<span class="ident" id="6374507">line</span><span class="op" id="6374511">}</span><br>
<span class="lineno"></span><span class="op" id="6374513">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="6374516">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6374588">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6374626">func</span>&nbsp;<span class="op" id="6374631">(</span><span class="ident" id="6374632">t</span>&nbsp;<span class="op" id="6374634">*</span><span class="ident" id="6374635">Table</span><span class="op" id="6374640">)</span>&nbsp;<span class="ident" id="6374642">LookupSym</span><span class="op" id="6374651">(</span><span class="ident" id="6374652">name</span>&nbsp;<span class="builtintype" id="6374657">string</span><span class="op" id="6374663">)</span>&nbsp;<span class="op" id="6374665">*</span><span class="ident" id="6374666">Sym</span>&nbsp;<span class="op" id="6374670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6374673">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374707">for</span>&nbsp;<span class="ident" id="6374711">i</span>&nbsp;<span class="op" id="6374713">:=</span>&nbsp;<span class="keyword" id="6374716">range</span>&nbsp;<span class="ident" id="6374722">t</span><span class="op" id="6374723">.</span><span class="ident" id="6374724">Syms</span>&nbsp;<span class="op" id="6374729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6374733">s</span>&nbsp;<span class="op" id="6374735">:=</span>&nbsp;<span class="op" id="6374738">&amp;</span><span class="ident" id="6374739">t</span><span class="op" id="6374740">.</span><span class="ident" id="6374741">Syms</span><span class="op" id="6374745">[</span><span class="ident" id="6374746">i</span><span class="op" id="6374747">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374751">switch</span>&nbsp;<span class="ident" id="6374758">s</span><span class="op" id="6374759">.</span><span class="ident" id="6374760">Type</span>&nbsp;<span class="op" id="6374765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374769">case</span>&nbsp;<span class="string" id="6374774">&#39;T&#39;</span><span class="op" id="6374777">,</span>&nbsp;<span class="string" id="6374779">&#39;t&#39;</span><span class="op" id="6374782">,</span>&nbsp;<span class="string" id="6374784">&#39;L&#39;</span><span class="op" id="6374787">,</span>&nbsp;<span class="string" id="6374789">&#39;l&#39;</span><span class="op" id="6374792">,</span>&nbsp;<span class="string" id="6374794">&#39;D&#39;</span><span class="op" id="6374797">,</span>&nbsp;<span class="string" id="6374799">&#39;d&#39;</span><span class="op" id="6374802">,</span>&nbsp;<span class="string" id="6374804">&#39;B&#39;</span><span class="op" id="6374807">,</span>&nbsp;<span class="string" id="6374809">&#39;b&#39;</span><span class="op" id="6374812">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374817">if</span>&nbsp;<span class="ident" id="6374820">s</span><span class="op" id="6374821">.</span><span class="ident" id="6374822">Name</span>&nbsp;<span class="op" id="6374827">==</span>&nbsp;<span class="ident" id="6374830">name</span>&nbsp;<span class="op" id="6374835">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374841">return</span>&nbsp;<span class="ident" id="6374848">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6374860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6374863">return</span>&nbsp;<span class="ident" id="6374870">nil</span><br>
<span class="lineno">550</span><span class="op" id="6374874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6374877">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6374950">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6374988">func</span>&nbsp;<span class="op" id="6374993">(</span><span class="ident" id="6374994">t</span>&nbsp;<span class="op" id="6374996">*</span><span class="ident" id="6374997">Table</span><span class="op" id="6375002">)</span>&nbsp;<span class="ident" id="6375004">LookupFunc</span><span class="op" id="6375014">(</span><span class="ident" id="6375015">name</span>&nbsp;<span class="builtintype" id="6375020">string</span><span class="op" id="6375026">)</span>&nbsp;<span class="op" id="6375028">*</span><span class="ident" id="6375029">Func</span>&nbsp;<span class="op" id="6375034">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375037">for</span>&nbsp;<span class="ident" id="6375041">i</span>&nbsp;<span class="op" id="6375043">:=</span>&nbsp;<span class="keyword" id="6375046">range</span>&nbsp;<span class="ident" id="6375052">t</span><span class="op" id="6375053">.</span><span class="ident" id="6375054">Funcs</span>&nbsp;<span class="op" id="6375060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375064">f</span>&nbsp;<span class="op" id="6375066">:=</span>&nbsp;<span class="op" id="6375069">&amp;</span><span class="ident" id="6375070">t</span><span class="op" id="6375071">.</span><span class="ident" id="6375072">Funcs</span><span class="op" id="6375077">[</span><span class="ident" id="6375078">i</span><span class="op" id="6375079">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375083">if</span>&nbsp;<span class="ident" id="6375086">f</span><span class="op" id="6375087">.</span><span class="ident" id="6375088">Sym</span><span class="op" id="6375091">.</span><span class="ident" id="6375092">Name</span>&nbsp;<span class="op" id="6375097">==</span>&nbsp;<span class="ident" id="6375100">name</span>&nbsp;<span class="op" id="6375105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375110">return</span>&nbsp;<span class="ident" id="6375117">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6375121">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6375124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375127">return</span>&nbsp;<span class="ident" id="6375134">nil</span><br>
<span class="lineno"></span><span class="op" id="6375138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6375141">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="6375223">func</span>&nbsp;<span class="op" id="6375228">(</span><span class="ident" id="6375229">t</span>&nbsp;<span class="op" id="6375231">*</span><span class="ident" id="6375232">Table</span><span class="op" id="6375237">)</span>&nbsp;<span class="ident" id="6375239">SymByAddr</span><span class="op" id="6375248">(</span><span class="ident" id="6375249">addr</span>&nbsp;<span class="ident" id="6375254">uint64</span><span class="op" id="6375260">)</span>&nbsp;<span class="op" id="6375262">*</span><span class="ident" id="6375263">Sym</span>&nbsp;<span class="op" id="6375267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375270">for</span>&nbsp;<span class="ident" id="6375274">i</span>&nbsp;<span class="op" id="6375276">:=</span>&nbsp;<span class="keyword" id="6375279">range</span>&nbsp;<span class="ident" id="6375285">t</span><span class="op" id="6375286">.</span><span class="ident" id="6375287">Syms</span>&nbsp;<span class="op" id="6375292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375296">s</span>&nbsp;<span class="op" id="6375298">:=</span>&nbsp;<span class="op" id="6375301">&amp;</span><span class="ident" id="6375302">t</span><span class="op" id="6375303">.</span><span class="ident" id="6375304">Syms</span><span class="op" id="6375308">[</span><span class="ident" id="6375309">i</span><span class="op" id="6375310">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375314">switch</span>&nbsp;<span class="ident" id="6375321">s</span><span class="op" id="6375322">.</span><span class="ident" id="6375323">Type</span>&nbsp;<span class="op" id="6375328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375332">case</span>&nbsp;<span class="string" id="6375337">&#39;T&#39;</span><span class="op" id="6375340">,</span>&nbsp;<span class="string" id="6375342">&#39;t&#39;</span><span class="op" id="6375345">,</span>&nbsp;<span class="string" id="6375347">&#39;L&#39;</span><span class="op" id="6375350">,</span>&nbsp;<span class="string" id="6375352">&#39;l&#39;</span><span class="op" id="6375355">,</span>&nbsp;<span class="string" id="6375357">&#39;D&#39;</span><span class="op" id="6375360">,</span>&nbsp;<span class="string" id="6375362">&#39;d&#39;</span><span class="op" id="6375365">,</span>&nbsp;<span class="string" id="6375367">&#39;B&#39;</span><span class="op" id="6375370">,</span>&nbsp;<span class="string" id="6375372">&#39;b&#39;</span><span class="op" id="6375375">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375380">if</span>&nbsp;<span class="ident" id="6375383">s</span><span class="op" id="6375384">.</span><span class="ident" id="6375385">Value</span>&nbsp;<span class="op" id="6375391">==</span>&nbsp;<span class="ident" id="6375394">addr</span>&nbsp;<span class="op" id="6375399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375405">return</span>&nbsp;<span class="ident" id="6375412">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6375417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6375421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6375424">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375427">return</span>&nbsp;<span class="ident" id="6375434">nil</span><br>
<span class="lineno"></span><span class="op" id="6375438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6375441">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6375465">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6375527">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="6375590">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="6375658">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="6375704">//</span><br>
<span class="lineno"></span><span class="comment" id="6375707">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6375789">func</span>&nbsp;<span class="op" id="6375794">(</span><span class="ident" id="6375795">o</span>&nbsp;<span class="op" id="6375797">*</span><span class="ident" id="6375798">Obj</span><span class="op" id="6375801">)</span>&nbsp;<span class="ident" id="6375803">lineFromAline</span><span class="op" id="6375816">(</span><span class="ident" id="6375817">aline</span>&nbsp;<span class="builtintype" id="6375823">int</span><span class="op" id="6375826">)</span>&nbsp;<span class="op" id="6375828">(</span><span class="builtintype" id="6375829">string</span><span class="op" id="6375835">,</span>&nbsp;<span class="builtintype" id="6375837">int</span><span class="op" id="6375840">)</span>&nbsp;<span class="op" id="6375842">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375845">type</span>&nbsp;<span class="ident" id="6375850">stackEnt</span>&nbsp;<span class="keyword" id="6375859">struct</span>&nbsp;<span class="op" id="6375866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375870">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6375877">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375886">start</span>&nbsp;&nbsp;<span class="builtintype" id="6375893">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375899">offset</span>&nbsp;<span class="builtintype" id="6375906">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375912">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6375919">*</span><span class="ident" id="6375920">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6375930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375934">noPath</span>&nbsp;<span class="op" id="6375941">:=</span>&nbsp;<span class="op" id="6375944">&amp;</span><span class="ident" id="6375945">stackEnt</span><span class="op" id="6375953">{</span><span class="string" id="6375954">&#34;&#34;</span><span class="op" id="6375956">,</span>&nbsp;<span class="num" id="6375958">0</span><span class="op" id="6375959">,</span>&nbsp;<span class="num" id="6375961">0</span><span class="op" id="6375962">,</span>&nbsp;<span class="ident" id="6375964">nil</span><span class="op" id="6375967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6375970">tos</span>&nbsp;<span class="op" id="6375974">:=</span>&nbsp;<span class="ident" id="6375977">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="6375985">pathloop</span><span class="op" id="6375993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6375996">for</span>&nbsp;<span class="ident" id="6376000">_</span><span class="op" id="6376001">,</span>&nbsp;<span class="ident" id="6376003">s</span>&nbsp;<span class="op" id="6376005">:=</span>&nbsp;<span class="keyword" id="6376008">range</span>&nbsp;<span class="ident" id="6376014">o</span><span class="op" id="6376015">.</span><span class="ident" id="6376016">Paths</span>&nbsp;<span class="op" id="6376022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376026">val</span>&nbsp;<span class="op" id="6376030">:=</span>&nbsp;<span class="builtintype" id="6376033">int</span><span class="op" id="6376036">(</span><span class="ident" id="6376037">s</span><span class="op" id="6376038">.</span><span class="ident" id="6376039">Value</span><span class="op" id="6376044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376048">switch</span>&nbsp;<span class="op" id="6376055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376059">case</span>&nbsp;<span class="ident" id="6376064">val</span>&nbsp;<span class="op" id="6376068">&gt;</span>&nbsp;<span class="ident" id="6376070">aline</span><span class="op" id="6376075">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376080">break</span>&nbsp;<span class="ident" id="6376086">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376098">case</span>&nbsp;<span class="ident" id="6376103">val</span>&nbsp;<span class="op" id="6376107">==</span>&nbsp;<span class="num" id="6376110">1</span><span class="op" id="6376111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6376116">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376140">tos</span>&nbsp;<span class="op" id="6376144">=</span>&nbsp;<span class="op" id="6376146">&amp;</span><span class="ident" id="6376147">stackEnt</span><span class="op" id="6376155">{</span><span class="ident" id="6376156">s</span><span class="op" id="6376157">.</span><span class="ident" id="6376158">Name</span><span class="op" id="6376162">,</span>&nbsp;<span class="ident" id="6376164">val</span><span class="op" id="6376167">,</span>&nbsp;<span class="num" id="6376169">0</span><span class="op" id="6376170">,</span>&nbsp;<span class="ident" id="6376172">noPath</span><span class="op" id="6376178">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376183">case</span>&nbsp;<span class="ident" id="6376188">s</span><span class="op" id="6376189">.</span><span class="ident" id="6376190">Name</span>&nbsp;<span class="op" id="6376195">==</span>&nbsp;<span class="string" id="6376198">&#34;&#34;</span><span class="op" id="6376200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6376205">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376215">if</span>&nbsp;<span class="ident" id="6376218">tos</span>&nbsp;<span class="op" id="6376222">==</span>&nbsp;<span class="ident" id="6376225">noPath</span>&nbsp;<span class="op" id="6376232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376238">return</span>&nbsp;<span class="string" id="6376245">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="6376271">,</span>&nbsp;<span class="num" id="6376273">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6376278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376283">tos</span><span class="op" id="6376286">.</span><span class="ident" id="6376287">prev</span><span class="op" id="6376291">.</span><span class="ident" id="6376292">offset</span>&nbsp;<span class="op" id="6376299">+=</span>&nbsp;<span class="ident" id="6376302">val</span>&nbsp;<span class="op" id="6376306">-</span>&nbsp;<span class="ident" id="6376308">tos</span><span class="op" id="6376311">.</span><span class="ident" id="6376312">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376321">tos</span>&nbsp;<span class="op" id="6376325">=</span>&nbsp;<span class="ident" id="6376327">tos</span><span class="op" id="6376330">.</span><span class="ident" id="6376331">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376339">default</span><span class="op" id="6376346">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6376351">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376362">tos</span>&nbsp;<span class="op" id="6376366">=</span>&nbsp;<span class="op" id="6376368">&amp;</span><span class="ident" id="6376369">stackEnt</span><span class="op" id="6376377">{</span><span class="ident" id="6376378">s</span><span class="op" id="6376379">.</span><span class="ident" id="6376380">Name</span><span class="op" id="6376384">,</span>&nbsp;<span class="ident" id="6376386">val</span><span class="op" id="6376389">,</span>&nbsp;<span class="num" id="6376391">0</span><span class="op" id="6376392">,</span>&nbsp;<span class="ident" id="6376394">tos</span><span class="op" id="6376397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6376401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6376404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376408">if</span>&nbsp;<span class="ident" id="6376411">tos</span>&nbsp;<span class="op" id="6376415">==</span>&nbsp;<span class="ident" id="6376418">noPath</span>&nbsp;<span class="op" id="6376425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376429">return</span>&nbsp;<span class="string" id="6376436">&#34;&#34;</span><span class="op" id="6376438">,</span>&nbsp;<span class="num" id="6376440">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6376443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376446">return</span>&nbsp;<span class="ident" id="6376453">tos</span><span class="op" id="6376456">.</span><span class="ident" id="6376457">path</span><span class="op" id="6376461">,</span>&nbsp;<span class="ident" id="6376463">aline</span>&nbsp;<span class="op" id="6376469">-</span>&nbsp;<span class="ident" id="6376471">tos</span><span class="op" id="6376474">.</span><span class="ident" id="6376475">start</span>&nbsp;<span class="op" id="6376481">-</span>&nbsp;<span class="ident" id="6376483">tos</span><span class="op" id="6376486">.</span><span class="ident" id="6376487">offset</span>&nbsp;<span class="op" id="6376494">+</span>&nbsp;<span class="num" id="6376496">1</span><br>
<span class="lineno"></span><span class="op" id="6376498">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="6376501">func</span>&nbsp;<span class="op" id="6376506">(</span><span class="ident" id="6376507">o</span>&nbsp;<span class="op" id="6376509">*</span><span class="ident" id="6376510">Obj</span><span class="op" id="6376513">)</span>&nbsp;<span class="ident" id="6376515">alineFromLine</span><span class="op" id="6376528">(</span><span class="ident" id="6376529">path</span>&nbsp;<span class="builtintype" id="6376534">string</span><span class="op" id="6376540">,</span>&nbsp;<span class="ident" id="6376542">line</span>&nbsp;<span class="builtintype" id="6376547">int</span><span class="op" id="6376550">)</span>&nbsp;<span class="op" id="6376552">(</span><span class="builtintype" id="6376553">int</span><span class="op" id="6376556">,</span>&nbsp;<span class="builtintype" id="6376558">error</span><span class="op" id="6376563">)</span>&nbsp;<span class="op" id="6376565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376568">if</span>&nbsp;<span class="ident" id="6376571">line</span>&nbsp;<span class="op" id="6376576">&lt;</span>&nbsp;<span class="num" id="6376578">1</span>&nbsp;<span class="op" id="6376580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376584">return</span>&nbsp;<span class="num" id="6376591">0</span><span class="op" id="6376592">,</span>&nbsp;<span class="op" id="6376594">&amp;</span><span class="ident" id="6376595">UnknownLineError</span><span class="op" id="6376611">{</span><span class="ident" id="6376612">path</span><span class="op" id="6376616">,</span>&nbsp;<span class="ident" id="6376618">line</span><span class="op" id="6376622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6376625">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376629">for</span>&nbsp;<span class="ident" id="6376633">i</span><span class="op" id="6376634">,</span>&nbsp;<span class="ident" id="6376636">s</span>&nbsp;<span class="op" id="6376638">:=</span>&nbsp;<span class="keyword" id="6376641">range</span>&nbsp;<span class="ident" id="6376647">o</span><span class="op" id="6376648">.</span><span class="ident" id="6376649">Paths</span>&nbsp;<span class="op" id="6376655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6376659">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376679">if</span>&nbsp;<span class="ident" id="6376682">s</span><span class="op" id="6376683">.</span><span class="ident" id="6376684">Name</span>&nbsp;<span class="op" id="6376689">!=</span>&nbsp;<span class="ident" id="6376692">path</span>&nbsp;<span class="op" id="6376697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376702">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6376713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6376718">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376758">depth</span>&nbsp;<span class="op" id="6376764">:=</span>&nbsp;<span class="num" id="6376767">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376771">var</span>&nbsp;<span class="ident" id="6376775">incstart</span>&nbsp;<span class="builtintype" id="6376784">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376790">line</span>&nbsp;<span class="op" id="6376795">+=</span>&nbsp;<span class="builtintype" id="6376798">int</span><span class="op" id="6376801">(</span><span class="ident" id="6376802">s</span><span class="op" id="6376803">.</span><span class="ident" id="6376804">Value</span><span class="op" id="6376809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376812">pathloop</span><span class="op" id="6376820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376824">for</span>&nbsp;<span class="ident" id="6376828">_</span><span class="op" id="6376829">,</span>&nbsp;<span class="ident" id="6376831">s</span>&nbsp;<span class="op" id="6376833">:=</span>&nbsp;<span class="keyword" id="6376836">range</span>&nbsp;<span class="ident" id="6376842">o</span><span class="op" id="6376843">.</span><span class="ident" id="6376844">Paths</span><span class="op" id="6376849">[</span><span class="ident" id="6376850">i</span><span class="op" id="6376851">:</span><span class="op" id="6376852">]</span>&nbsp;<span class="op" id="6376854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376859">val</span>&nbsp;<span class="op" id="6376863">:=</span>&nbsp;<span class="builtintype" id="6376866">int</span><span class="op" id="6376869">(</span><span class="ident" id="6376870">s</span><span class="op" id="6376871">.</span><span class="ident" id="6376872">Value</span><span class="op" id="6376877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376882">switch</span>&nbsp;<span class="op" id="6376889">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376894">case</span>&nbsp;<span class="ident" id="6376899">depth</span>&nbsp;<span class="op" id="6376905">==</span>&nbsp;<span class="num" id="6376908">1</span>&nbsp;<span class="op" id="6376910">&amp;&amp;</span>&nbsp;<span class="ident" id="6376913">val</span>&nbsp;<span class="op" id="6376917">&gt;=</span>&nbsp;<span class="ident" id="6376920">line</span><span class="op" id="6376924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376930">return</span>&nbsp;<span class="ident" id="6376937">line</span>&nbsp;<span class="op" id="6376942">-</span>&nbsp;<span class="num" id="6376944">1</span><span class="op" id="6376945">,</span>&nbsp;<span class="ident" id="6376947">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376955">case</span>&nbsp;<span class="ident" id="6376960">s</span><span class="op" id="6376961">.</span><span class="ident" id="6376962">Name</span>&nbsp;<span class="op" id="6376967">==</span>&nbsp;<span class="string" id="6376970">&#34;&#34;</span><span class="op" id="6376972">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6376978">depth</span><span class="op" id="6376983">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6376990">if</span>&nbsp;<span class="ident" id="6376993">depth</span>&nbsp;<span class="op" id="6376999">==</span>&nbsp;<span class="num" id="6377002">0</span>&nbsp;<span class="op" id="6377004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6377011">break</span>&nbsp;<span class="ident" id="6377017">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6377030">}</span>&nbsp;<span class="keyword" id="6377032">else</span>&nbsp;<span class="keyword" id="6377037">if</span>&nbsp;<span class="ident" id="6377040">depth</span>&nbsp;<span class="op" id="6377046">==</span>&nbsp;<span class="num" id="6377049">1</span>&nbsp;<span class="op" id="6377051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377058">line</span>&nbsp;<span class="op" id="6377063">+=</span>&nbsp;<span class="ident" id="6377066">val</span>&nbsp;<span class="op" id="6377070">-</span>&nbsp;<span class="ident" id="6377072">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6377085">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6377091">default</span><span class="op" id="6377098">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6377104">if</span>&nbsp;<span class="ident" id="6377107">depth</span>&nbsp;<span class="op" id="6377113">==</span>&nbsp;<span class="num" id="6377116">1</span>&nbsp;<span class="op" id="6377118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377125">incstart</span>&nbsp;<span class="op" id="6377134">=</span>&nbsp;<span class="ident" id="6377136">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6377144">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377150">depth</span><span class="op" id="6377155">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6377161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6377165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6377169">return</span>&nbsp;<span class="num" id="6377176">0</span><span class="op" id="6377177">,</span>&nbsp;<span class="op" id="6377179">&amp;</span><span class="ident" id="6377180">UnknownLineError</span><span class="op" id="6377196">{</span><span class="ident" id="6377197">path</span><span class="op" id="6377201">,</span>&nbsp;<span class="ident" id="6377203">line</span><span class="op" id="6377207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6377210">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6377213">return</span>&nbsp;<span class="num" id="6377220">0</span><span class="op" id="6377221">,</span>&nbsp;<span class="ident" id="6377223">UnknownFileError</span><span class="op" id="6377239">(</span><span class="ident" id="6377240">path</span><span class="op" id="6377244">)</span><br>
<span class="lineno"></span><span class="op" id="6377246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6377249">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6377267">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6377337">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6377358">type</span>&nbsp;<span class="ident" id="6377363">UnknownFileError</span>&nbsp;<span class="builtintype" id="6377380">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="6377388">func</span>&nbsp;<span class="op" id="6377393">(</span><span class="ident" id="6377394">e</span>&nbsp;<span class="ident" id="6377396">UnknownFileError</span><span class="op" id="6377412">)</span>&nbsp;<span class="ident" id="6377414">Error</span><span class="op" id="6377419">(</span><span class="op" id="6377420">)</span>&nbsp;<span class="builtintype" id="6377422">string</span>&nbsp;<span class="op" id="6377429">{</span>&nbsp;<span class="keyword" id="6377431">return</span>&nbsp;<span class="string" id="6377438">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="6377455">+</span>&nbsp;<span class="builtintype" id="6377457">string</span><span class="op" id="6377463">(</span><span class="ident" id="6377464">e</span><span class="op" id="6377465">)</span>&nbsp;<span class="op" id="6377467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6377470">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="6377538">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="6377607">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="6377657">type</span>&nbsp;<span class="ident" id="6377662">UnknownLineError</span>&nbsp;<span class="keyword" id="6377679">struct</span>&nbsp;<span class="op" id="6377686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377689">File</span>&nbsp;<span class="builtintype" id="6377694">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377702">Line</span>&nbsp;<span class="builtintype" id="6377707">int</span><br>
<span class="lineno"></span><span class="op" id="6377711">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="6377714">func</span>&nbsp;<span class="op" id="6377719">(</span><span class="ident" id="6377720">e</span>&nbsp;<span class="op" id="6377722">*</span><span class="ident" id="6377723">UnknownLineError</span><span class="op" id="6377739">)</span>&nbsp;<span class="ident" id="6377741">Error</span><span class="op" id="6377746">(</span><span class="op" id="6377747">)</span>&nbsp;<span class="builtintype" id="6377749">string</span>&nbsp;<span class="op" id="6377756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6377759">return</span>&nbsp;<span class="string" id="6377766">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="6377780">+</span>&nbsp;<span class="ident" id="6377782">e</span><span class="op" id="6377783">.</span><span class="ident" id="6377784">File</span>&nbsp;<span class="op" id="6377789">+</span>&nbsp;<span class="string" id="6377791">&#34;:&#34;</span>&nbsp;<span class="op" id="6377795">+</span>&nbsp;<span class="ident" id="6377797">strconv</span><span class="op" id="6377804">.</span><span class="ident" id="6377805">Itoa</span><span class="op" id="6377809">(</span><span class="ident" id="6377810">e</span><span class="op" id="6377811">.</span><span class="ident" id="6377812">Line</span><span class="op" id="6377816">)</span><br>
<span class="lineno"></span><span class="op" id="6377818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="6377821">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6377881">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6377902">type</span>&nbsp;<span class="ident" id="6377907">DecodingError</span>&nbsp;<span class="keyword" id="6377921">struct</span>&nbsp;<span class="op" id="6377928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377931">off</span>&nbsp;<span class="builtintype" id="6377935">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377940">msg</span>&nbsp;<span class="builtintype" id="6377944">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6377952">val</span>&nbsp;<span class="keyword" id="6377956">interface</span><span class="op" id="6377965">{</span><span class="op" id="6377966">}</span><br>
<span class="lineno"></span><span class="op" id="6377968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6377971">func</span>&nbsp;<span class="op" id="6377976">(</span><span class="ident" id="6377977">e</span>&nbsp;<span class="op" id="6377979">*</span><span class="ident" id="6377980">DecodingError</span><span class="op" id="6377993">)</span>&nbsp;<span class="ident" id="6377995">Error</span><span class="op" id="6378000">(</span><span class="op" id="6378001">)</span>&nbsp;<span class="builtintype" id="6378003">string</span>&nbsp;<span class="op" id="6378010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6378013">msg</span>&nbsp;<span class="op" id="6378017">:=</span>&nbsp;<span class="ident" id="6378020">e</span><span class="op" id="6378021">.</span><span class="ident" id="6378022">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6378027">if</span>&nbsp;<span class="ident" id="6378030">e</span><span class="op" id="6378031">.</span><span class="ident" id="6378032">val</span>&nbsp;<span class="op" id="6378036">!=</span>&nbsp;<span class="ident" id="6378039">nil</span>&nbsp;<span class="op" id="6378043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6378047">msg</span>&nbsp;<span class="op" id="6378051">+=</span>&nbsp;<span class="ident" id="6378054">fmt</span><span class="op" id="6378057">.</span><span class="ident" id="6378058">Sprintf</span><span class="op" id="6378065">(</span><span class="string" id="6378066">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="6378073">,</span>&nbsp;<span class="ident" id="6378075">e</span><span class="op" id="6378076">.</span><span class="ident" id="6378077">val</span><span class="op" id="6378080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6378083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6378086">msg</span>&nbsp;<span class="op" id="6378090">+=</span>&nbsp;<span class="ident" id="6378093">fmt</span><span class="op" id="6378096">.</span><span class="ident" id="6378097">Sprintf</span><span class="op" id="6378104">(</span><span class="string" id="6378105">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="6378119">,</span>&nbsp;<span class="ident" id="6378121">e</span><span class="op" id="6378122">.</span><span class="ident" id="6378123">off</span><span class="op" id="6378126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6378129">return</span>&nbsp;<span class="ident" id="6378136">msg</span><br>
<span class="lineno">710</span><span class="op" id="6378140">}</span>
</div>
</body>
</html>
