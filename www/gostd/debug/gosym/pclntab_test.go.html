<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7335255">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7335311">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7335365">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7335416">package</span>&nbsp;<span class="ident" id="7335424">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7335431">import</span>&nbsp;<span class="op" id="7335438">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335441">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335454">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335461">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335474">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335480">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335491">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335508">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335519">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335530">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7335540">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7335543">var</span>&nbsp;<span class="op" id="7335547">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7335550">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7335567">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7335575">pclinetestBinary</span>&nbsp;<span class="builtintype" id="7335592">string</span><br>
<span class="lineno"></span><span class="op" id="7335599">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7335602">func</span>&nbsp;<span class="ident" id="7335607">dotest</span><span class="op" id="7335613">(</span><span class="ident" id="7335614">self</span>&nbsp;<span class="builtintype" id="7335619">bool</span><span class="op" id="7335623">)</span>&nbsp;<span class="builtintype" id="7335625">bool</span>&nbsp;<span class="op" id="7335630">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7335633">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335677">if</span>&nbsp;<span class="ident" id="7335680">runtime</span><span class="op" id="7335687">.</span><span class="ident" id="7335688">GOARCH</span>&nbsp;<span class="op" id="7335695">!=</span>&nbsp;<span class="string" id="7335698">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7335706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335710">return</span>&nbsp;<span class="builtintype" id="7335717">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7335727">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335781">if</span>&nbsp;<span class="ident" id="7335784">self</span>&nbsp;<span class="op" id="7335789">&amp;&amp;</span>&nbsp;<span class="ident" id="7335792">runtime</span><span class="op" id="7335799">.</span><span class="ident" id="7335800">GOOS</span>&nbsp;<span class="op" id="7335805">!=</span>&nbsp;<span class="string" id="7335808">&#34;linux&#34;</span>&nbsp;<span class="op" id="7335816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335820">return</span>&nbsp;<span class="builtintype" id="7335827">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7335837">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335878">if</span>&nbsp;<span class="ident" id="7335881">runtime</span><span class="op" id="7335888">.</span><span class="ident" id="7335889">GOOS</span>&nbsp;<span class="op" id="7335894">==</span>&nbsp;<span class="string" id="7335897">&#34;windows&#34;</span>&nbsp;<span class="op" id="7335907">||</span>&nbsp;<span class="ident" id="7335910">runtime</span><span class="op" id="7335917">.</span><span class="ident" id="7335918">GOOS</span>&nbsp;<span class="op" id="7335923">==</span>&nbsp;<span class="string" id="7335926">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7335934">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335938">return</span>&nbsp;<span class="builtintype" id="7335945">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335955">if</span>&nbsp;<span class="ident" id="7335958">pclinetestBinary</span>&nbsp;<span class="op" id="7335975">!=</span>&nbsp;<span class="string" id="7335978">&#34;&#34;</span>&nbsp;<span class="op" id="7335981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335985">return</span>&nbsp;<span class="builtintype" id="7335992">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335998">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336001">var</span>&nbsp;<span class="ident" id="7336005">err</span>&nbsp;<span class="builtintype" id="7336009">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336016">pclineTempDir</span><span class="op" id="7336029">,</span>&nbsp;<span class="ident" id="7336031">err</span>&nbsp;<span class="op" id="7336035">=</span>&nbsp;<span class="ident" id="7336037">ioutil</span><span class="op" id="7336043">.</span><span class="ident" id="7336044">TempDir</span><span class="op" id="7336051">(</span><span class="string" id="7336052">&#34;&#34;</span><span class="op" id="7336054">,</span>&nbsp;<span class="string" id="7336056">&#34;pclinetest&#34;</span><span class="op" id="7336068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336071">if</span>&nbsp;<span class="ident" id="7336074">err</span>&nbsp;<span class="op" id="7336078">!=</span>&nbsp;<span class="ident" id="7336081">nil</span>&nbsp;<span class="op" id="7336085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7336089">panic</span><span class="op" id="7336094">(</span><span class="ident" id="7336095">err</span><span class="op" id="7336098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336101">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336104">if</span>&nbsp;<span class="ident" id="7336107">strings</span><span class="op" id="7336114">.</span><span class="ident" id="7336115">Contains</span><span class="op" id="7336123">(</span><span class="ident" id="7336124">pclineTempDir</span><span class="op" id="7336137">,</span>&nbsp;<span class="string" id="7336139">&#34;&nbsp;&#34;</span><span class="op" id="7336142">)</span>&nbsp;<span class="op" id="7336144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7336148">panic</span><span class="op" id="7336153">(</span><span class="string" id="7336154">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="7336183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7336189">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7336245">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7336313">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336374">pclinetestBinary</span>&nbsp;<span class="op" id="7336391">=</span>&nbsp;<span class="ident" id="7336393">filepath</span><span class="op" id="7336401">.</span><span class="ident" id="7336402">Join</span><span class="op" id="7336406">(</span><span class="ident" id="7336407">pclineTempDir</span><span class="op" id="7336420">,</span>&nbsp;<span class="string" id="7336422">&#34;pclinetest&#34;</span><span class="op" id="7336434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336437">command</span>&nbsp;<span class="op" id="7336445">:=</span>&nbsp;<span class="ident" id="7336448">fmt</span><span class="op" id="7336451">.</span><span class="ident" id="7336452">Sprintf</span><span class="op" id="7336459">(</span><span class="string" id="7336460">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="7336537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336541">pclinetestBinary</span><span class="op" id="7336557">,</span>&nbsp;<span class="ident" id="7336559">pclinetestBinary</span><span class="op" id="7336575">,</span>&nbsp;<span class="ident" id="7336577">pclinetestBinary</span><span class="op" id="7336593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336596">cmd</span>&nbsp;<span class="op" id="7336600">:=</span>&nbsp;<span class="ident" id="7336603">exec</span><span class="op" id="7336607">.</span><span class="ident" id="7336608">Command</span><span class="op" id="7336615">(</span><span class="string" id="7336616">&#34;sh&#34;</span><span class="op" id="7336620">,</span>&nbsp;<span class="string" id="7336622">&#34;-c&#34;</span><span class="op" id="7336626">,</span>&nbsp;<span class="ident" id="7336628">command</span><span class="op" id="7336635">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336638">cmd</span><span class="op" id="7336641">.</span><span class="ident" id="7336642">Stdout</span>&nbsp;<span class="op" id="7336649">=</span>&nbsp;<span class="ident" id="7336651">os</span><span class="op" id="7336653">.</span><span class="ident" id="7336654">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336662">cmd</span><span class="op" id="7336665">.</span><span class="ident" id="7336666">Stderr</span>&nbsp;<span class="op" id="7336673">=</span>&nbsp;<span class="ident" id="7336675">os</span><span class="op" id="7336677">.</span><span class="ident" id="7336678">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336686">if</span>&nbsp;<span class="ident" id="7336689">err</span>&nbsp;<span class="op" id="7336693">:=</span>&nbsp;<span class="ident" id="7336696">cmd</span><span class="op" id="7336699">.</span><span class="ident" id="7336700">Run</span><span class="op" id="7336703">(</span><span class="op" id="7336704">)</span><span class="op" id="7336705">;</span>&nbsp;<span class="ident" id="7336707">err</span>&nbsp;<span class="op" id="7336711">!=</span>&nbsp;<span class="ident" id="7336714">nil</span>&nbsp;<span class="op" id="7336718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7336722">panic</span><span class="op" id="7336727">(</span><span class="ident" id="7336728">err</span><span class="op" id="7336731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336734">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336737">return</span>&nbsp;<span class="builtintype" id="7336744">true</span><br>
<span class="lineno"></span><span class="op" id="7336749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7336752">func</span>&nbsp;<span class="ident" id="7336757">endtest</span><span class="op" id="7336764">(</span><span class="op" id="7336765">)</span>&nbsp;<span class="op" id="7336767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336770">if</span>&nbsp;<span class="ident" id="7336773">pclineTempDir</span>&nbsp;<span class="op" id="7336787">!=</span>&nbsp;<span class="string" id="7336790">&#34;&#34;</span>&nbsp;<span class="op" id="7336793">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336797">os</span><span class="op" id="7336799">.</span><span class="ident" id="7336800">RemoveAll</span><span class="op" id="7336809">(</span><span class="ident" id="7336810">pclineTempDir</span><span class="op" id="7336823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336827">pclineTempDir</span>&nbsp;<span class="op" id="7336841">=</span>&nbsp;<span class="string" id="7336843">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336848">pclinetestBinary</span>&nbsp;<span class="op" id="7336865">=</span>&nbsp;<span class="string" id="7336867">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336871">}</span><br>
<span class="lineno"></span><span class="op" id="7336873">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7336876">func</span>&nbsp;<span class="ident" id="7336881">getTable</span><span class="op" id="7336889">(</span><span class="ident" id="7336890">t</span>&nbsp;<span class="op" id="7336892">*</span><span class="ident" id="7336893">testing</span><span class="op" id="7336900">.</span><span class="ident" id="7336901">T</span><span class="op" id="7336902">)</span>&nbsp;<span class="op" id="7336904">*</span><span class="ident" id="7336905">Table</span>&nbsp;<span class="op" id="7336911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336914">f</span><span class="op" id="7336915">,</span>&nbsp;<span class="ident" id="7336917">tab</span>&nbsp;<span class="op" id="7336921">:=</span>&nbsp;<span class="ident" id="7336924">crack</span><span class="op" id="7336929">(</span><span class="ident" id="7336930">os</span><span class="op" id="7336932">.</span><span class="ident" id="7336933">Args</span><span class="op" id="7336937">[</span><span class="num" id="7336938">0</span><span class="op" id="7336939">]</span><span class="op" id="7336940">,</span>&nbsp;<span class="ident" id="7336942">t</span><span class="op" id="7336943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336946">f</span><span class="op" id="7336947">.</span><span class="ident" id="7336948">Close</span><span class="op" id="7336953">(</span><span class="op" id="7336954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336957">return</span>&nbsp;<span class="ident" id="7336964">tab</span><br>
<span class="lineno">75</span><span class="op" id="7336968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7336971">func</span>&nbsp;<span class="ident" id="7336976">crack</span><span class="op" id="7336981">(</span><span class="ident" id="7336982">file</span>&nbsp;<span class="builtintype" id="7336987">string</span><span class="op" id="7336993">,</span>&nbsp;<span class="ident" id="7336995">t</span>&nbsp;<span class="op" id="7336997">*</span><span class="ident" id="7336998">testing</span><span class="op" id="7337005">.</span><span class="ident" id="7337006">T</span><span class="op" id="7337007">)</span>&nbsp;<span class="op" id="7337009">(</span><span class="op" id="7337010">*</span><span class="ident" id="7337011">elf</span><span class="op" id="7337014">.</span><span class="ident" id="7337015">File</span><span class="op" id="7337019">,</span>&nbsp;<span class="op" id="7337021">*</span><span class="ident" id="7337022">Table</span><span class="op" id="7337027">)</span>&nbsp;<span class="op" id="7337029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7337032">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337046">f</span><span class="op" id="7337047">,</span>&nbsp;<span class="ident" id="7337049">err</span>&nbsp;<span class="op" id="7337053">:=</span>&nbsp;<span class="ident" id="7337056">elf</span><span class="op" id="7337059">.</span><span class="ident" id="7337060">Open</span><span class="op" id="7337064">(</span><span class="ident" id="7337065">file</span><span class="op" id="7337069">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337072">if</span>&nbsp;<span class="ident" id="7337075">err</span>&nbsp;<span class="op" id="7337079">!=</span>&nbsp;<span class="ident" id="7337082">nil</span>&nbsp;<span class="op" id="7337086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337090">t</span><span class="op" id="7337091">.</span><span class="ident" id="7337092">Fatal</span><span class="op" id="7337097">(</span><span class="ident" id="7337098">err</span><span class="op" id="7337101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337107">return</span>&nbsp;<span class="ident" id="7337114">parse</span><span class="op" id="7337119">(</span><span class="ident" id="7337120">file</span><span class="op" id="7337124">,</span>&nbsp;<span class="ident" id="7337126">f</span><span class="op" id="7337127">,</span>&nbsp;<span class="ident" id="7337129">t</span><span class="op" id="7337130">)</span><br>
<span class="lineno"></span><span class="op" id="7337132">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="7337135">func</span>&nbsp;<span class="ident" id="7337140">parse</span><span class="op" id="7337145">(</span><span class="ident" id="7337146">file</span>&nbsp;<span class="builtintype" id="7337151">string</span><span class="op" id="7337157">,</span>&nbsp;<span class="ident" id="7337159">f</span>&nbsp;<span class="op" id="7337161">*</span><span class="ident" id="7337162">elf</span><span class="op" id="7337165">.</span><span class="ident" id="7337166">File</span><span class="op" id="7337170">,</span>&nbsp;<span class="ident" id="7337172">t</span>&nbsp;<span class="op" id="7337174">*</span><span class="ident" id="7337175">testing</span><span class="op" id="7337182">.</span><span class="ident" id="7337183">T</span><span class="op" id="7337184">)</span>&nbsp;<span class="op" id="7337186">(</span><span class="op" id="7337187">*</span><span class="ident" id="7337188">elf</span><span class="op" id="7337191">.</span><span class="ident" id="7337192">File</span><span class="op" id="7337196">,</span>&nbsp;<span class="op" id="7337198">*</span><span class="ident" id="7337199">Table</span><span class="op" id="7337204">)</span>&nbsp;<span class="op" id="7337206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337209">symdat</span><span class="op" id="7337215">,</span>&nbsp;<span class="ident" id="7337217">err</span>&nbsp;<span class="op" id="7337221">:=</span>&nbsp;<span class="ident" id="7337224">f</span><span class="op" id="7337225">.</span><span class="ident" id="7337226">Section</span><span class="op" id="7337233">(</span><span class="string" id="7337234">&#34;.gosymtab&#34;</span><span class="op" id="7337245">)</span><span class="op" id="7337246">.</span><span class="ident" id="7337247">Data</span><span class="op" id="7337251">(</span><span class="op" id="7337252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337255">if</span>&nbsp;<span class="ident" id="7337258">err</span>&nbsp;<span class="op" id="7337262">!=</span>&nbsp;<span class="ident" id="7337265">nil</span>&nbsp;<span class="op" id="7337269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337273">f</span><span class="op" id="7337274">.</span><span class="ident" id="7337275">Close</span><span class="op" id="7337280">(</span><span class="op" id="7337281">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337285">t</span><span class="op" id="7337286">.</span><span class="ident" id="7337287">Fatalf</span><span class="op" id="7337293">(</span><span class="string" id="7337294">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7337319">,</span>&nbsp;<span class="ident" id="7337321">file</span><span class="op" id="7337325">,</span>&nbsp;<span class="ident" id="7337327">err</span><span class="op" id="7337330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337336">pclndat</span><span class="op" id="7337343">,</span>&nbsp;<span class="ident" id="7337345">err</span>&nbsp;<span class="op" id="7337349">:=</span>&nbsp;<span class="ident" id="7337352">f</span><span class="op" id="7337353">.</span><span class="ident" id="7337354">Section</span><span class="op" id="7337361">(</span><span class="string" id="7337362">&#34;.gopclntab&#34;</span><span class="op" id="7337374">)</span><span class="op" id="7337375">.</span><span class="ident" id="7337376">Data</span><span class="op" id="7337380">(</span><span class="op" id="7337381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337384">if</span>&nbsp;<span class="ident" id="7337387">err</span>&nbsp;<span class="op" id="7337391">!=</span>&nbsp;<span class="ident" id="7337394">nil</span>&nbsp;<span class="op" id="7337398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337402">f</span><span class="op" id="7337403">.</span><span class="ident" id="7337404">Close</span><span class="op" id="7337409">(</span><span class="op" id="7337410">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337414">t</span><span class="op" id="7337415">.</span><span class="ident" id="7337416">Fatalf</span><span class="op" id="7337422">(</span><span class="string" id="7337423">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="7337449">,</span>&nbsp;<span class="ident" id="7337451">file</span><span class="op" id="7337455">,</span>&nbsp;<span class="ident" id="7337457">err</span><span class="op" id="7337460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337467">pcln</span>&nbsp;<span class="op" id="7337472">:=</span>&nbsp;<span class="ident" id="7337475">NewLineTable</span><span class="op" id="7337487">(</span><span class="ident" id="7337488">pclndat</span><span class="op" id="7337495">,</span>&nbsp;<span class="ident" id="7337497">f</span><span class="op" id="7337498">.</span><span class="ident" id="7337499">Section</span><span class="op" id="7337506">(</span><span class="string" id="7337507">&#34;.text&#34;</span><span class="op" id="7337514">)</span><span class="op" id="7337515">.</span><span class="ident" id="7337516">Addr</span><span class="op" id="7337520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337523">tab</span><span class="op" id="7337526">,</span>&nbsp;<span class="ident" id="7337528">err</span>&nbsp;<span class="op" id="7337532">:=</span>&nbsp;<span class="ident" id="7337535">NewTable</span><span class="op" id="7337543">(</span><span class="ident" id="7337544">symdat</span><span class="op" id="7337550">,</span>&nbsp;<span class="ident" id="7337552">pcln</span><span class="op" id="7337556">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337559">if</span>&nbsp;<span class="ident" id="7337562">err</span>&nbsp;<span class="op" id="7337566">!=</span>&nbsp;<span class="ident" id="7337569">nil</span>&nbsp;<span class="op" id="7337573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337577">f</span><span class="op" id="7337578">.</span><span class="ident" id="7337579">Close</span><span class="op" id="7337584">(</span><span class="op" id="7337585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337589">t</span><span class="op" id="7337590">.</span><span class="ident" id="7337591">Fatalf</span><span class="op" id="7337597">(</span><span class="string" id="7337598">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7337623">,</span>&nbsp;<span class="ident" id="7337625">file</span><span class="op" id="7337629">,</span>&nbsp;<span class="ident" id="7337631">err</span><span class="op" id="7337634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337641">return</span>&nbsp;<span class="ident" id="7337648">f</span><span class="op" id="7337649">,</span>&nbsp;<span class="ident" id="7337651">tab</span><br>
<span class="lineno"></span><span class="op" id="7337655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7337658">var</span>&nbsp;<span class="ident" id="7337662">goarch</span>&nbsp;<span class="op" id="7337669">=</span>&nbsp;<span class="ident" id="7337671">os</span><span class="op" id="7337673">.</span><span class="ident" id="7337674">Getenv</span><span class="op" id="7337680">(</span><span class="string" id="7337681">&#34;O&#34;</span><span class="op" id="7337684">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7337687">func</span>&nbsp;<span class="ident" id="7337692">TestLineFromAline</span><span class="op" id="7337709">(</span><span class="ident" id="7337710">t</span>&nbsp;<span class="op" id="7337712">*</span><span class="ident" id="7337713">testing</span><span class="op" id="7337720">.</span><span class="ident" id="7337721">T</span><span class="op" id="7337722">)</span>&nbsp;<span class="op" id="7337724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337727">if</span>&nbsp;<span class="op" id="7337730">!</span><span class="ident" id="7337731">dotest</span><span class="op" id="7337737">(</span><span class="builtintype" id="7337738">true</span><span class="op" id="7337742">)</span>&nbsp;<span class="op" id="7337744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337748">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337759">defer</span>&nbsp;<span class="ident" id="7337765">endtest</span><span class="op" id="7337772">(</span><span class="op" id="7337773">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337777">tab</span>&nbsp;<span class="op" id="7337781">:=</span>&nbsp;<span class="ident" id="7337784">getTable</span><span class="op" id="7337792">(</span><span class="ident" id="7337793">t</span><span class="op" id="7337794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337797">if</span>&nbsp;<span class="ident" id="7337800">tab</span><span class="op" id="7337803">.</span><span class="ident" id="7337804">go12line</span>&nbsp;<span class="op" id="7337813">!=</span>&nbsp;<span class="ident" id="7337816">nil</span>&nbsp;<span class="op" id="7337820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7337824">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337870">t</span><span class="op" id="7337871">.</span><span class="ident" id="7337872">Skip</span><span class="op" id="7337876">(</span><span class="string" id="7337877">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7337914">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7337921">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337946">pkg</span>&nbsp;<span class="op" id="7337950">:=</span>&nbsp;<span class="ident" id="7337953">tab</span><span class="op" id="7337956">.</span><span class="ident" id="7337957">LookupFunc</span><span class="op" id="7337967">(</span><span class="string" id="7337968">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="7337999">)</span><span class="op" id="7338000">.</span><span class="ident" id="7338001">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338006">if</span>&nbsp;<span class="ident" id="7338009">pkg</span>&nbsp;<span class="op" id="7338013">==</span>&nbsp;<span class="ident" id="7338016">nil</span>&nbsp;<span class="op" id="7338020">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338024">t</span><span class="op" id="7338025">.</span><span class="ident" id="7338026">Fatalf</span><span class="op" id="7338032">(</span><span class="string" id="7338033">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="7338042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7338049">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7338107">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338137">lastline</span>&nbsp;<span class="op" id="7338146">:=</span>&nbsp;<span class="builtinfunc" id="7338149">make</span><span class="op" id="7338153">(</span><span class="keyword" id="7338154">map</span><span class="op" id="7338157">[</span><span class="builtintype" id="7338158">string</span><span class="op" id="7338164">]</span><span class="builtintype" id="7338165">int</span><span class="op" id="7338168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338171">final</span>&nbsp;<span class="op" id="7338177">:=</span>&nbsp;<span class="op" id="7338180">-</span><span class="num" id="7338181">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338184">for</span>&nbsp;<span class="ident" id="7338188">i</span>&nbsp;<span class="op" id="7338190">:=</span>&nbsp;<span class="num" id="7338193">0</span><span class="op" id="7338194">;</span>&nbsp;<span class="ident" id="7338196">i</span>&nbsp;<span class="op" id="7338198">&lt;</span>&nbsp;<span class="num" id="7338200">10000</span><span class="op" id="7338205">;</span>&nbsp;<span class="ident" id="7338207">i</span><span class="op" id="7338208">++</span>&nbsp;<span class="op" id="7338211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338215">path</span><span class="op" id="7338219">,</span>&nbsp;<span class="ident" id="7338221">line</span>&nbsp;<span class="op" id="7338226">:=</span>&nbsp;<span class="ident" id="7338229">pkg</span><span class="op" id="7338232">.</span><span class="ident" id="7338233">lineFromAline</span><span class="op" id="7338246">(</span><span class="ident" id="7338247">i</span><span class="op" id="7338248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7338252">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338281">if</span>&nbsp;<span class="ident" id="7338284">path</span>&nbsp;<span class="op" id="7338289">==</span>&nbsp;<span class="string" id="7338292">&#34;&#34;</span>&nbsp;<span class="op" id="7338295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338300">if</span>&nbsp;<span class="ident" id="7338303">final</span>&nbsp;<span class="op" id="7338309">==</span>&nbsp;<span class="op" id="7338312">-</span><span class="num" id="7338313">1</span>&nbsp;<span class="op" id="7338315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338321">final</span>&nbsp;<span class="op" id="7338327">=</span>&nbsp;<span class="ident" id="7338329">i</span>&nbsp;<span class="op" id="7338331">-</span>&nbsp;<span class="num" id="7338333">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338343">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338354">}</span>&nbsp;<span class="keyword" id="7338356">else</span>&nbsp;<span class="keyword" id="7338361">if</span>&nbsp;<span class="ident" id="7338364">final</span>&nbsp;<span class="op" id="7338370">!=</span>&nbsp;<span class="op" id="7338373">-</span><span class="num" id="7338374">1</span>&nbsp;<span class="op" id="7338376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338381">t</span><span class="op" id="7338382">.</span><span class="ident" id="7338383">Fatalf</span><span class="op" id="7338389">(</span><span class="string" id="7338390">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="7338472">,</span>&nbsp;<span class="ident" id="7338474">final</span><span class="op" id="7338479">,</span>&nbsp;<span class="ident" id="7338481">i</span><span class="op" id="7338482">,</span>&nbsp;<span class="ident" id="7338484">path</span><span class="op" id="7338488">,</span>&nbsp;<span class="ident" id="7338490">line</span><span class="op" id="7338494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7338502">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338559">if</span>&nbsp;<span class="ident" id="7338562">line</span>&nbsp;<span class="op" id="7338567">==</span>&nbsp;<span class="num" id="7338570">1</span>&nbsp;<span class="op" id="7338572">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338577">lastline</span><span class="op" id="7338585">[</span><span class="ident" id="7338586">path</span><span class="op" id="7338590">]</span>&nbsp;<span class="op" id="7338592">=</span>&nbsp;<span class="num" id="7338594">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338599">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7338614">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338659">ll</span><span class="op" id="7338661">,</span>&nbsp;<span class="ident" id="7338663">ok</span>&nbsp;<span class="op" id="7338666">:=</span>&nbsp;<span class="ident" id="7338669">lastline</span><span class="op" id="7338677">[</span><span class="ident" id="7338678">path</span><span class="op" id="7338682">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338686">if</span>&nbsp;<span class="op" id="7338689">!</span><span class="ident" id="7338690">ok</span>&nbsp;<span class="op" id="7338693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338698">t</span><span class="op" id="7338699">.</span><span class="ident" id="7338700">Errorf</span><span class="op" id="7338706">(</span><span class="string" id="7338707">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="7338734">,</span>&nbsp;<span class="ident" id="7338736">path</span><span class="op" id="7338740">,</span>&nbsp;<span class="ident" id="7338742">line</span><span class="op" id="7338746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338750">}</span>&nbsp;<span class="keyword" id="7338752">else</span>&nbsp;<span class="keyword" id="7338757">if</span>&nbsp;<span class="ident" id="7338760">line</span>&nbsp;<span class="op" id="7338765">!=</span>&nbsp;<span class="ident" id="7338768">ll</span><span class="op" id="7338770">+</span><span class="num" id="7338771">1</span>&nbsp;<span class="op" id="7338773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338778">t</span><span class="op" id="7338779">.</span><span class="ident" id="7338780">Fatalf</span><span class="op" id="7338786">(</span><span class="string" id="7338787">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7338835">,</span>&nbsp;<span class="ident" id="7338837">path</span><span class="op" id="7338841">,</span>&nbsp;<span class="ident" id="7338843">ll</span><span class="op" id="7338845">+</span><span class="num" id="7338846">1</span><span class="op" id="7338847">,</span>&nbsp;<span class="ident" id="7338849">line</span><span class="op" id="7338853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338857">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338861">lastline</span><span class="op" id="7338869">[</span><span class="ident" id="7338870">path</span><span class="op" id="7338874">]</span>&nbsp;<span class="op" id="7338876">=</span>&nbsp;<span class="ident" id="7338878">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338887">if</span>&nbsp;<span class="ident" id="7338890">final</span>&nbsp;<span class="op" id="7338896">==</span>&nbsp;<span class="op" id="7338899">-</span><span class="num" id="7338900">1</span>&nbsp;<span class="op" id="7338902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338906">t</span><span class="op" id="7338907">.</span><span class="ident" id="7338908">Errorf</span><span class="op" id="7338914">(</span><span class="string" id="7338915">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="7338944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338947">}</span><br>
<span class="lineno">160</span><span class="op" id="7338949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7338952">func</span>&nbsp;<span class="ident" id="7338957">TestLineAline</span><span class="op" id="7338970">(</span><span class="ident" id="7338971">t</span>&nbsp;<span class="op" id="7338973">*</span><span class="ident" id="7338974">testing</span><span class="op" id="7338981">.</span><span class="ident" id="7338982">T</span><span class="op" id="7338983">)</span>&nbsp;<span class="op" id="7338985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338988">if</span>&nbsp;<span class="op" id="7338991">!</span><span class="ident" id="7338992">dotest</span><span class="op" id="7338998">(</span><span class="builtintype" id="7338999">true</span><span class="op" id="7339003">)</span>&nbsp;<span class="op" id="7339005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339009">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339020">defer</span>&nbsp;<span class="ident" id="7339026">endtest</span><span class="op" id="7339033">(</span><span class="op" id="7339034">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339038">tab</span>&nbsp;<span class="op" id="7339042">:=</span>&nbsp;<span class="ident" id="7339045">getTable</span><span class="op" id="7339053">(</span><span class="ident" id="7339054">t</span><span class="op" id="7339055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339058">if</span>&nbsp;<span class="ident" id="7339061">tab</span><span class="op" id="7339064">.</span><span class="ident" id="7339065">go12line</span>&nbsp;<span class="op" id="7339074">!=</span>&nbsp;<span class="ident" id="7339077">nil</span>&nbsp;<span class="op" id="7339081">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7339085">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339131">t</span><span class="op" id="7339132">.</span><span class="ident" id="7339133">Skip</span><span class="op" id="7339137">(</span><span class="string" id="7339138">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7339175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339182">for</span>&nbsp;<span class="ident" id="7339186">_</span><span class="op" id="7339187">,</span>&nbsp;<span class="ident" id="7339189">o</span>&nbsp;<span class="op" id="7339191">:=</span>&nbsp;<span class="keyword" id="7339194">range</span>&nbsp;<span class="ident" id="7339200">tab</span><span class="op" id="7339203">.</span><span class="ident" id="7339204">Files</span>&nbsp;<span class="op" id="7339210">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7339214">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7339264">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7339321">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339375">found</span>&nbsp;<span class="op" id="7339381">:=</span>&nbsp;<span class="builtinfunc" id="7339384">make</span><span class="op" id="7339388">(</span><span class="keyword" id="7339389">map</span><span class="op" id="7339392">[</span><span class="builtintype" id="7339393">string</span><span class="op" id="7339399">]</span><span class="builtintype" id="7339400">int</span><span class="op" id="7339403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339407">for</span>&nbsp;<span class="ident" id="7339411">i</span>&nbsp;<span class="op" id="7339413">:=</span>&nbsp;<span class="num" id="7339416">0</span><span class="op" id="7339417">;</span>&nbsp;<span class="ident" id="7339419">i</span>&nbsp;<span class="op" id="7339421">&lt;</span>&nbsp;<span class="num" id="7339423">1000</span><span class="op" id="7339427">;</span>&nbsp;<span class="ident" id="7339429">i</span><span class="op" id="7339430">++</span>&nbsp;<span class="op" id="7339433">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339438">path</span><span class="op" id="7339442">,</span>&nbsp;<span class="ident" id="7339444">line</span>&nbsp;<span class="op" id="7339449">:=</span>&nbsp;<span class="ident" id="7339452">o</span><span class="op" id="7339453">.</span><span class="ident" id="7339454">lineFromAline</span><span class="op" id="7339467">(</span><span class="ident" id="7339468">i</span><span class="op" id="7339469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339474">if</span>&nbsp;<span class="ident" id="7339477">path</span>&nbsp;<span class="op" id="7339482">==</span>&nbsp;<span class="string" id="7339485">&#34;&#34;</span>&nbsp;<span class="op" id="7339488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339494">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7339509">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339572">if</span>&nbsp;<span class="builtinfunc" id="7339575">len</span><span class="op" id="7339578">(</span><span class="ident" id="7339579">path</span><span class="op" id="7339583">)</span>&nbsp;<span class="op" id="7339585">&gt;</span>&nbsp;<span class="num" id="7339587">4</span>&nbsp;<span class="op" id="7339589">&amp;&amp;</span>&nbsp;<span class="ident" id="7339592">path</span><span class="op" id="7339596">[</span><span class="builtinfunc" id="7339597">len</span><span class="op" id="7339600">(</span><span class="ident" id="7339601">path</span><span class="op" id="7339605">)</span><span class="op" id="7339606">-</span><span class="num" id="7339607">4</span><span class="op" id="7339608">:</span><span class="op" id="7339609">]</span>&nbsp;<span class="op" id="7339611">==</span>&nbsp;<span class="string" id="7339614">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="7339621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339627">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339645">if</span>&nbsp;<span class="ident" id="7339648">minline</span><span class="op" id="7339655">,</span>&nbsp;<span class="ident" id="7339657">ok</span>&nbsp;<span class="op" id="7339660">:=</span>&nbsp;<span class="ident" id="7339663">found</span><span class="op" id="7339668">[</span><span class="ident" id="7339669">path</span><span class="op" id="7339673">]</span><span class="op" id="7339674">;</span>&nbsp;<span class="ident" id="7339676">path</span>&nbsp;<span class="op" id="7339681">!=</span>&nbsp;<span class="string" id="7339684">&#34;&#34;</span>&nbsp;<span class="op" id="7339687">&amp;&amp;</span>&nbsp;<span class="ident" id="7339690">ok</span>&nbsp;<span class="op" id="7339693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339699">if</span>&nbsp;<span class="ident" id="7339702">minline</span>&nbsp;<span class="op" id="7339710">&gt;=</span>&nbsp;<span class="ident" id="7339713">line</span>&nbsp;<span class="op" id="7339718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7339725">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339765">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339778">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7339783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339788">found</span><span class="op" id="7339793">[</span><span class="ident" id="7339794">path</span><span class="op" id="7339798">]</span>&nbsp;<span class="op" id="7339800">=</span>&nbsp;<span class="ident" id="7339802">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339811">a</span><span class="op" id="7339812">,</span>&nbsp;<span class="ident" id="7339814">err</span>&nbsp;<span class="op" id="7339818">:=</span>&nbsp;<span class="ident" id="7339821">o</span><span class="op" id="7339822">.</span><span class="ident" id="7339823">alineFromLine</span><span class="op" id="7339836">(</span><span class="ident" id="7339837">path</span><span class="op" id="7339841">,</span>&nbsp;<span class="ident" id="7339843">line</span><span class="op" id="7339847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7339852">if</span>&nbsp;<span class="ident" id="7339855">err</span>&nbsp;<span class="op" id="7339859">!=</span>&nbsp;<span class="ident" id="7339862">nil</span>&nbsp;<span class="op" id="7339866">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7339872">t</span><span class="op" id="7339873">.</span><span class="ident" id="7339874">Errorf</span><span class="op" id="7339880">(</span><span class="string" id="7339881">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7339964">,</span>&nbsp;<span class="ident" id="7339966">i</span><span class="op" id="7339967">,</span>&nbsp;<span class="ident" id="7339969">o</span><span class="op" id="7339970">.</span><span class="ident" id="7339971">Paths</span><span class="op" id="7339976">[</span><span class="num" id="7339977">0</span><span class="op" id="7339978">]</span><span class="op" id="7339979">.</span><span class="ident" id="7339980">Name</span><span class="op" id="7339984">,</span>&nbsp;<span class="ident" id="7339986">path</span><span class="op" id="7339990">,</span>&nbsp;<span class="ident" id="7339992">line</span><span class="op" id="7339996">,</span>&nbsp;<span class="ident" id="7339998">err</span><span class="op" id="7340001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340006">}</span>&nbsp;<span class="keyword" id="7340008">else</span>&nbsp;<span class="keyword" id="7340013">if</span>&nbsp;<span class="ident" id="7340016">a</span>&nbsp;<span class="op" id="7340018">!=</span>&nbsp;<span class="ident" id="7340021">i</span>&nbsp;<span class="op" id="7340023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340029">t</span><span class="op" id="7340030">.</span><span class="ident" id="7340031">Errorf</span><span class="op" id="7340037">(</span><span class="string" id="7340038">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="7340122">,</span>&nbsp;<span class="ident" id="7340124">i</span><span class="op" id="7340125">,</span>&nbsp;<span class="ident" id="7340127">o</span><span class="op" id="7340128">.</span><span class="ident" id="7340129">Paths</span><span class="op" id="7340134">[</span><span class="num" id="7340135">0</span><span class="op" id="7340136">]</span><span class="op" id="7340137">.</span><span class="ident" id="7340138">Name</span><span class="op" id="7340142">,</span>&nbsp;<span class="ident" id="7340144">path</span><span class="op" id="7340148">,</span>&nbsp;<span class="ident" id="7340150">line</span><span class="op" id="7340154">,</span>&nbsp;<span class="ident" id="7340156">a</span><span class="op" id="7340157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340166">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340169">}</span><br>
<span class="lineno"></span><span class="op" id="7340171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7340174">func</span>&nbsp;<span class="ident" id="7340179">TestPCLine</span><span class="op" id="7340189">(</span><span class="ident" id="7340190">t</span>&nbsp;<span class="op" id="7340192">*</span><span class="ident" id="7340193">testing</span><span class="op" id="7340200">.</span><span class="ident" id="7340201">T</span><span class="op" id="7340202">)</span>&nbsp;<span class="op" id="7340204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340207">if</span>&nbsp;<span class="op" id="7340210">!</span><span class="ident" id="7340211">dotest</span><span class="op" id="7340217">(</span><span class="builtintype" id="7340218">false</span><span class="op" id="7340223">)</span>&nbsp;<span class="op" id="7340225">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340229">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340240">defer</span>&nbsp;<span class="ident" id="7340246">endtest</span><span class="op" id="7340253">(</span><span class="op" id="7340254">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340258">f</span><span class="op" id="7340259">,</span>&nbsp;<span class="ident" id="7340261">tab</span>&nbsp;<span class="op" id="7340265">:=</span>&nbsp;<span class="ident" id="7340268">crack</span><span class="op" id="7340273">(</span><span class="ident" id="7340274">pclinetestBinary</span><span class="op" id="7340290">,</span>&nbsp;<span class="ident" id="7340292">t</span><span class="op" id="7340293">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340296">text</span>&nbsp;<span class="op" id="7340301">:=</span>&nbsp;<span class="ident" id="7340304">f</span><span class="op" id="7340305">.</span><span class="ident" id="7340306">Section</span><span class="op" id="7340313">(</span><span class="string" id="7340314">&#34;.text&#34;</span><span class="op" id="7340321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340324">textdat</span><span class="op" id="7340331">,</span>&nbsp;<span class="ident" id="7340333">err</span>&nbsp;<span class="op" id="7340337">:=</span>&nbsp;<span class="ident" id="7340340">text</span><span class="op" id="7340344">.</span><span class="ident" id="7340345">Data</span><span class="op" id="7340349">(</span><span class="op" id="7340350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340353">if</span>&nbsp;<span class="ident" id="7340356">err</span>&nbsp;<span class="op" id="7340360">!=</span>&nbsp;<span class="ident" id="7340363">nil</span>&nbsp;<span class="op" id="7340367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340371">t</span><span class="op" id="7340372">.</span><span class="ident" id="7340373">Fatalf</span><span class="op" id="7340379">(</span><span class="string" id="7340380">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="7340399">,</span>&nbsp;<span class="ident" id="7340401">err</span><span class="op" id="7340404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340407">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7340411">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340429">sym</span>&nbsp;<span class="op" id="7340433">:=</span>&nbsp;<span class="ident" id="7340436">tab</span><span class="op" id="7340439">.</span><span class="ident" id="7340440">LookupFunc</span><span class="op" id="7340450">(</span><span class="string" id="7340451">&#34;linefrompc&#34;</span><span class="op" id="7340463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340466">wantLine</span>&nbsp;<span class="op" id="7340475">:=</span>&nbsp;<span class="num" id="7340478">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340481">for</span>&nbsp;<span class="ident" id="7340485">pc</span>&nbsp;<span class="op" id="7340488">:=</span>&nbsp;<span class="ident" id="7340491">sym</span><span class="op" id="7340494">.</span><span class="ident" id="7340495">Entry</span><span class="op" id="7340500">;</span>&nbsp;<span class="ident" id="7340502">pc</span>&nbsp;<span class="op" id="7340505">&lt;</span>&nbsp;<span class="ident" id="7340507">sym</span><span class="op" id="7340510">.</span><span class="ident" id="7340511">End</span><span class="op" id="7340514">;</span>&nbsp;<span class="ident" id="7340516">pc</span><span class="op" id="7340518">++</span>&nbsp;<span class="op" id="7340521">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340525">off</span>&nbsp;<span class="op" id="7340529">:=</span>&nbsp;<span class="ident" id="7340532">pc</span>&nbsp;<span class="op" id="7340535">-</span>&nbsp;<span class="ident" id="7340537">text</span><span class="op" id="7340541">.</span><span class="ident" id="7340542">Addr</span>&nbsp;<span class="comment" id="7340547">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340594">if</span>&nbsp;<span class="ident" id="7340597">textdat</span><span class="op" id="7340604">[</span><span class="ident" id="7340605">off</span><span class="op" id="7340608">]</span>&nbsp;<span class="op" id="7340610">==</span>&nbsp;<span class="num" id="7340613">255</span>&nbsp;<span class="op" id="7340617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340622">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340634">wantLine</span>&nbsp;<span class="op" id="7340643">+=</span>&nbsp;<span class="builtintype" id="7340646">int</span><span class="op" id="7340649">(</span><span class="ident" id="7340650">textdat</span><span class="op" id="7340657">[</span><span class="ident" id="7340658">off</span><span class="op" id="7340661">]</span><span class="op" id="7340662">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340666">t</span><span class="op" id="7340667">.</span><span class="ident" id="7340668">Logf</span><span class="op" id="7340672">(</span><span class="string" id="7340673">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="7340697">,</span>&nbsp;<span class="ident" id="7340699">off</span><span class="op" id="7340702">,</span>&nbsp;<span class="ident" id="7340704">textdat</span><span class="op" id="7340711">[</span><span class="ident" id="7340712">off</span><span class="op" id="7340715">]</span><span class="op" id="7340716">,</span>&nbsp;<span class="ident" id="7340718">sym</span><span class="op" id="7340721">.</span><span class="ident" id="7340722">End</span><span class="op" id="7340725">-</span><span class="ident" id="7340726">pc</span><span class="op" id="7340728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340732">file</span><span class="op" id="7340736">,</span>&nbsp;<span class="ident" id="7340738">line</span><span class="op" id="7340742">,</span>&nbsp;<span class="ident" id="7340744">fn</span>&nbsp;<span class="op" id="7340747">:=</span>&nbsp;<span class="ident" id="7340750">tab</span><span class="op" id="7340753">.</span><span class="ident" id="7340754">PCToLine</span><span class="op" id="7340762">(</span><span class="ident" id="7340763">pc</span><span class="op" id="7340765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7340769">if</span>&nbsp;<span class="ident" id="7340772">fn</span>&nbsp;<span class="op" id="7340775">==</span>&nbsp;<span class="ident" id="7340778">nil</span>&nbsp;<span class="op" id="7340782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340787">t</span><span class="op" id="7340788">.</span><span class="ident" id="7340789">Errorf</span><span class="op" id="7340795">(</span><span class="string" id="7340796">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="7340826">,</span>&nbsp;<span class="ident" id="7340828">pc</span><span class="op" id="7340830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7340834">}</span>&nbsp;<span class="keyword" id="7340836">else</span>&nbsp;<span class="keyword" id="7340841">if</span>&nbsp;<span class="op" id="7340844">!</span><span class="ident" id="7340845">strings</span><span class="op" id="7340852">.</span><span class="ident" id="7340853">HasSuffix</span><span class="op" id="7340862">(</span><span class="ident" id="7340863">file</span><span class="op" id="7340867">,</span>&nbsp;<span class="string" id="7340869">&#34;pclinetest.asm&#34;</span><span class="op" id="7340885">)</span>&nbsp;<span class="op" id="7340887">||</span>&nbsp;<span class="ident" id="7340890">line</span>&nbsp;<span class="op" id="7340895">!=</span>&nbsp;<span class="ident" id="7340898">wantLine</span>&nbsp;<span class="op" id="7340907">||</span>&nbsp;<span class="ident" id="7340910">fn</span>&nbsp;<span class="op" id="7340913">!=</span>&nbsp;<span class="ident" id="7340916">sym</span>&nbsp;<span class="op" id="7340920">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7340925">t</span><span class="op" id="7340926">.</span><span class="ident" id="7340927">Errorf</span><span class="op" id="7340933">(</span><span class="string" id="7340934">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="7340979">,</span>&nbsp;<span class="ident" id="7340981">pc</span><span class="op" id="7340983">,</span>&nbsp;<span class="ident" id="7340985">file</span><span class="op" id="7340989">,</span>&nbsp;<span class="ident" id="7340991">line</span><span class="op" id="7340995">,</span>&nbsp;<span class="ident" id="7340997">fn</span><span class="op" id="7340999">.</span><span class="ident" id="7341000">Name</span><span class="op" id="7341004">,</span>&nbsp;<span class="string" id="7341006">&#34;pclinetest.asm&#34;</span><span class="op" id="7341022">,</span>&nbsp;<span class="ident" id="7341024">wantLine</span><span class="op" id="7341032">,</span>&nbsp;<span class="ident" id="7341034">sym</span><span class="op" id="7341037">.</span><span class="ident" id="7341038">Name</span><span class="op" id="7341042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7341053">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341071">sym</span>&nbsp;<span class="op" id="7341075">=</span>&nbsp;<span class="ident" id="7341077">tab</span><span class="op" id="7341080">.</span><span class="ident" id="7341081">LookupFunc</span><span class="op" id="7341091">(</span><span class="string" id="7341092">&#34;pcfromline&#34;</span><span class="op" id="7341104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341107">lookupline</span>&nbsp;<span class="op" id="7341118">:=</span>&nbsp;<span class="op" id="7341121">-</span><span class="num" id="7341122">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341125">wantLine</span>&nbsp;<span class="op" id="7341134">=</span>&nbsp;<span class="num" id="7341136">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341139">off</span>&nbsp;<span class="op" id="7341143">:=</span>&nbsp;<span class="ident" id="7341146">uint64</span><span class="op" id="7341152">(</span><span class="num" id="7341153">0</span><span class="op" id="7341154">)</span>&nbsp;<span class="comment" id="7341156">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341202">for</span>&nbsp;<span class="ident" id="7341206">pc</span>&nbsp;<span class="op" id="7341209">:=</span>&nbsp;<span class="ident" id="7341212">sym</span><span class="op" id="7341215">.</span><span class="ident" id="7341216">Value</span><span class="op" id="7341221">;</span>&nbsp;<span class="ident" id="7341223">pc</span>&nbsp;<span class="op" id="7341226">&lt;</span>&nbsp;<span class="ident" id="7341228">sym</span><span class="op" id="7341231">.</span><span class="ident" id="7341232">End</span><span class="op" id="7341235">;</span>&nbsp;<span class="ident" id="7341237">pc</span>&nbsp;<span class="op" id="7341240">+=</span>&nbsp;<span class="num" id="7341243">2</span>&nbsp;<span class="op" id="7341245">+</span>&nbsp;<span class="ident" id="7341247">uint64</span><span class="op" id="7341253">(</span><span class="ident" id="7341254">textdat</span><span class="op" id="7341261">[</span><span class="ident" id="7341262">off</span><span class="op" id="7341265">]</span><span class="op" id="7341266">)</span>&nbsp;<span class="op" id="7341268">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341272">file</span><span class="op" id="7341276">,</span>&nbsp;<span class="ident" id="7341278">line</span><span class="op" id="7341282">,</span>&nbsp;<span class="ident" id="7341284">fn</span>&nbsp;<span class="op" id="7341287">:=</span>&nbsp;<span class="ident" id="7341290">tab</span><span class="op" id="7341293">.</span><span class="ident" id="7341294">PCToLine</span><span class="op" id="7341302">(</span><span class="ident" id="7341303">pc</span><span class="op" id="7341305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341309">off</span>&nbsp;<span class="op" id="7341313">=</span>&nbsp;<span class="ident" id="7341315">pc</span>&nbsp;<span class="op" id="7341318">-</span>&nbsp;<span class="ident" id="7341320">text</span><span class="op" id="7341324">.</span><span class="ident" id="7341325">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341332">if</span>&nbsp;<span class="ident" id="7341335">textdat</span><span class="op" id="7341342">[</span><span class="ident" id="7341343">off</span><span class="op" id="7341346">]</span>&nbsp;<span class="op" id="7341348">==</span>&nbsp;<span class="num" id="7341351">255</span>&nbsp;<span class="op" id="7341355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341360">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341368">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341372">wantLine</span>&nbsp;<span class="op" id="7341381">+=</span>&nbsp;<span class="builtintype" id="7341384">int</span><span class="op" id="7341387">(</span><span class="ident" id="7341388">textdat</span><span class="op" id="7341395">[</span><span class="ident" id="7341396">off</span><span class="op" id="7341399">]</span><span class="op" id="7341400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341404">if</span>&nbsp;<span class="ident" id="7341407">line</span>&nbsp;<span class="op" id="7341412">!=</span>&nbsp;<span class="ident" id="7341415">wantLine</span>&nbsp;<span class="op" id="7341424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341429">t</span><span class="op" id="7341430">.</span><span class="ident" id="7341431">Errorf</span><span class="op" id="7341437">(</span><span class="string" id="7341438">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7341488">,</span>&nbsp;<span class="ident" id="7341490">wantLine</span><span class="op" id="7341498">,</span>&nbsp;<span class="ident" id="7341500">pc</span><span class="op" id="7341502">,</span>&nbsp;<span class="ident" id="7341504">line</span><span class="op" id="7341508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341513">off</span>&nbsp;<span class="op" id="7341517">=</span>&nbsp;<span class="ident" id="7341519">pc</span>&nbsp;<span class="op" id="7341522">+</span>&nbsp;<span class="num" id="7341524">1</span>&nbsp;<span class="op" id="7341526">-</span>&nbsp;<span class="ident" id="7341528">text</span><span class="op" id="7341532">.</span><span class="ident" id="7341533">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341541">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341556">if</span>&nbsp;<span class="ident" id="7341559">lookupline</span>&nbsp;<span class="op" id="7341570">==</span>&nbsp;<span class="op" id="7341573">-</span><span class="num" id="7341574">1</span>&nbsp;<span class="op" id="7341576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341581">lookupline</span>&nbsp;<span class="op" id="7341592">=</span>&nbsp;<span class="ident" id="7341594">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341605">for</span>&nbsp;<span class="op" id="7341609">;</span>&nbsp;<span class="ident" id="7341611">lookupline</span>&nbsp;<span class="op" id="7341622">&lt;=</span>&nbsp;<span class="ident" id="7341625">line</span><span class="op" id="7341629">;</span>&nbsp;<span class="ident" id="7341631">lookupline</span><span class="op" id="7341641">++</span>&nbsp;<span class="op" id="7341644">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341649">pc2</span><span class="op" id="7341652">,</span>&nbsp;<span class="ident" id="7341654">fn2</span><span class="op" id="7341657">,</span>&nbsp;<span class="ident" id="7341659">err</span>&nbsp;<span class="op" id="7341663">:=</span>&nbsp;<span class="ident" id="7341666">tab</span><span class="op" id="7341669">.</span><span class="ident" id="7341670">LineToPC</span><span class="op" id="7341678">(</span><span class="ident" id="7341679">file</span><span class="op" id="7341683">,</span>&nbsp;<span class="ident" id="7341685">lookupline</span><span class="op" id="7341695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341700">if</span>&nbsp;<span class="ident" id="7341703">lookupline</span>&nbsp;<span class="op" id="7341714">!=</span>&nbsp;<span class="ident" id="7341717">line</span>&nbsp;<span class="op" id="7341722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7341728">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7341766">if</span>&nbsp;<span class="ident" id="7341769">err</span>&nbsp;<span class="op" id="7341773">==</span>&nbsp;<span class="ident" id="7341776">nil</span>&nbsp;<span class="op" id="7341780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341787">t</span><span class="op" id="7341788">.</span><span class="ident" id="7341789">Errorf</span><span class="op" id="7341795">(</span><span class="string" id="7341796">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7341837">,</span>&nbsp;<span class="ident" id="7341839">lookupline</span><span class="op" id="7341849">,</span>&nbsp;<span class="ident" id="7341851">pc2</span><span class="op" id="7341854">,</span>&nbsp;<span class="ident" id="7341856">fn2</span><span class="op" id="7341859">.</span><span class="ident" id="7341860">Name</span><span class="op" id="7341864">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341875">}</span>&nbsp;<span class="keyword" id="7341877">else</span>&nbsp;<span class="keyword" id="7341882">if</span>&nbsp;<span class="ident" id="7341885">err</span>&nbsp;<span class="op" id="7341889">!=</span>&nbsp;<span class="ident" id="7341892">nil</span>&nbsp;<span class="op" id="7341896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341902">t</span><span class="op" id="7341903">.</span><span class="ident" id="7341904">Errorf</span><span class="op" id="7341910">(</span><span class="string" id="7341911">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7341944">,</span>&nbsp;<span class="ident" id="7341946">lookupline</span><span class="op" id="7341956">,</span>&nbsp;<span class="ident" id="7341958">err</span><span class="op" id="7341961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7341966">}</span>&nbsp;<span class="keyword" id="7341968">else</span>&nbsp;<span class="keyword" id="7341973">if</span>&nbsp;<span class="ident" id="7341976">pc</span>&nbsp;<span class="op" id="7341979">!=</span>&nbsp;<span class="ident" id="7341982">pc2</span>&nbsp;<span class="op" id="7341986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7341992">t</span><span class="op" id="7341993">.</span><span class="ident" id="7341994">Errorf</span><span class="op" id="7342000">(</span><span class="string" id="7342001">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7342051">,</span>&nbsp;<span class="ident" id="7342053">pc</span><span class="op" id="7342055">,</span>&nbsp;<span class="ident" id="7342057">fn</span><span class="op" id="7342059">.</span><span class="ident" id="7342060">Name</span><span class="op" id="7342064">,</span>&nbsp;<span class="ident" id="7342066">line</span><span class="op" id="7342070">,</span>&nbsp;<span class="ident" id="7342072">pc2</span><span class="op" id="7342075">,</span>&nbsp;<span class="ident" id="7342077">fn2</span><span class="op" id="7342080">.</span><span class="ident" id="7342081">Name</span><span class="op" id="7342085">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7342098">off</span>&nbsp;<span class="op" id="7342102">=</span>&nbsp;<span class="ident" id="7342104">pc</span>&nbsp;<span class="op" id="7342107">+</span>&nbsp;<span class="num" id="7342109">1</span>&nbsp;<span class="op" id="7342111">-</span>&nbsp;<span class="ident" id="7342113">text</span><span class="op" id="7342117">.</span><span class="ident" id="7342118">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7342124">}</span><br>
<span class="lineno"></span><span class="op" id="7342126">}</span>
</div>
</body>
</html>
