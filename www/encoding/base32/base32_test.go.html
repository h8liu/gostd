<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7113805">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7113860">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7113914">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7113965">package</span>&nbsp;<span class="ident" id="7113973">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7113981">import</span>&nbsp;<span class="op" id="7113988">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7113991">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7114000">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7114006">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7114019">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7114030">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7114040">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7114043">type</span>&nbsp;<span class="ident" id="7114048">testpair</span>&nbsp;<span class="keyword" id="7114057">struct</span>&nbsp;<span class="op" id="7114064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114067">decoded</span><span class="op" id="7114074">,</span>&nbsp;<span class="ident" id="7114076">encoded</span>&nbsp;<span class="builtintype" id="7114084">string</span><br>
<span class="lineno"></span><span class="op" id="7114091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114094">var</span>&nbsp;<span class="ident" id="7114098">pairs</span>&nbsp;<span class="op" id="7114104">=</span>&nbsp;<span class="op" id="7114106">[</span><span class="op" id="7114107">]</span><span class="ident" id="7114108">testpair</span><span class="op" id="7114116">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7114119">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114141">{</span><span class="string" id="7114142">&#34;&#34;</span><span class="op" id="7114144">,</span>&nbsp;<span class="string" id="7114146">&#34;&#34;</span><span class="op" id="7114148">}</span><span class="op" id="7114149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114152">{</span><span class="string" id="7114153">&#34;f&#34;</span><span class="op" id="7114156">,</span>&nbsp;<span class="string" id="7114158">&#34;MY======&#34;</span><span class="op" id="7114168">}</span><span class="op" id="7114169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114172">{</span><span class="string" id="7114173">&#34;fo&#34;</span><span class="op" id="7114177">,</span>&nbsp;<span class="string" id="7114179">&#34;MZXQ====&#34;</span><span class="op" id="7114189">}</span><span class="op" id="7114190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114193">{</span><span class="string" id="7114194">&#34;foo&#34;</span><span class="op" id="7114199">,</span>&nbsp;<span class="string" id="7114201">&#34;MZXW6===&#34;</span><span class="op" id="7114211">}</span><span class="op" id="7114212">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114215">{</span><span class="string" id="7114216">&#34;foob&#34;</span><span class="op" id="7114222">,</span>&nbsp;<span class="string" id="7114224">&#34;MZXW6YQ=&#34;</span><span class="op" id="7114234">}</span><span class="op" id="7114235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114238">{</span><span class="string" id="7114239">&#34;fooba&#34;</span><span class="op" id="7114246">,</span>&nbsp;<span class="string" id="7114248">&#34;MZXW6YTB&#34;</span><span class="op" id="7114258">}</span><span class="op" id="7114259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114262">{</span><span class="string" id="7114263">&#34;foobar&#34;</span><span class="op" id="7114271">,</span>&nbsp;<span class="string" id="7114273">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7114291">}</span><span class="op" id="7114292">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7114296">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114340">{</span><span class="string" id="7114341">&#34;sure.&#34;</span><span class="op" id="7114348">,</span>&nbsp;<span class="string" id="7114350">&#34;ON2XEZJO&#34;</span><span class="op" id="7114360">}</span><span class="op" id="7114361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114364">{</span><span class="string" id="7114365">&#34;sure&#34;</span><span class="op" id="7114371">,</span>&nbsp;<span class="string" id="7114373">&#34;ON2XEZI=&#34;</span><span class="op" id="7114383">}</span><span class="op" id="7114384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114387">{</span><span class="string" id="7114388">&#34;sur&#34;</span><span class="op" id="7114393">,</span>&nbsp;<span class="string" id="7114395">&#34;ON2XE===&#34;</span><span class="op" id="7114405">}</span><span class="op" id="7114406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114409">{</span><span class="string" id="7114410">&#34;su&#34;</span><span class="op" id="7114414">,</span>&nbsp;<span class="string" id="7114416">&#34;ON2Q====&#34;</span><span class="op" id="7114426">}</span><span class="op" id="7114427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114430">{</span><span class="string" id="7114431">&#34;leasure.&#34;</span><span class="op" id="7114441">,</span>&nbsp;<span class="string" id="7114443">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="7114461">}</span><span class="op" id="7114462">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114465">{</span><span class="string" id="7114466">&#34;easure.&#34;</span><span class="op" id="7114475">,</span>&nbsp;<span class="string" id="7114477">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="7114495">}</span><span class="op" id="7114496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114499">{</span><span class="string" id="7114500">&#34;asure.&#34;</span><span class="op" id="7114508">,</span>&nbsp;<span class="string" id="7114510">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="7114528">}</span><span class="op" id="7114529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114532">{</span><span class="string" id="7114533">&#34;sure.&#34;</span><span class="op" id="7114540">,</span>&nbsp;<span class="string" id="7114542">&#34;ON2XEZJO&#34;</span><span class="op" id="7114552">}</span><span class="op" id="7114553">,</span><br>
<span class="lineno"></span><span class="op" id="7114555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7114558">var</span>&nbsp;<span class="ident" id="7114562">bigtest</span>&nbsp;<span class="op" id="7114570">=</span>&nbsp;<span class="ident" id="7114572">testpair</span><span class="op" id="7114580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7114583">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="7114619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7114622">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="7114680">,</span><br>
<span class="lineno"></span><span class="op" id="7114682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7114685">func</span>&nbsp;<span class="ident" id="7114690">testEqual</span><span class="op" id="7114699">(</span><span class="ident" id="7114700">t</span>&nbsp;<span class="op" id="7114702">*</span><span class="ident" id="7114703">testing</span><span class="op" id="7114710">.</span><span class="ident" id="7114711">T</span><span class="op" id="7114712">,</span>&nbsp;<span class="ident" id="7114714">msg</span>&nbsp;<span class="builtintype" id="7114718">string</span><span class="op" id="7114724">,</span>&nbsp;<span class="ident" id="7114726">args</span>&nbsp;<span class="op" id="7114731">...</span><span class="keyword" id="7114734">interface</span><span class="op" id="7114743">{</span><span class="op" id="7114744">}</span><span class="op" id="7114745">)</span>&nbsp;<span class="builtintype" id="7114747">bool</span>&nbsp;<span class="op" id="7114752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114755">if</span>&nbsp;<span class="ident" id="7114758">args</span><span class="op" id="7114762">[</span><span class="builtinfunc" id="7114763">len</span><span class="op" id="7114766">(</span><span class="ident" id="7114767">args</span><span class="op" id="7114771">)</span><span class="op" id="7114772">-</span><span class="num" id="7114773">2</span><span class="op" id="7114774">]</span>&nbsp;<span class="op" id="7114776">!=</span>&nbsp;<span class="ident" id="7114779">args</span><span class="op" id="7114783">[</span><span class="builtinfunc" id="7114784">len</span><span class="op" id="7114787">(</span><span class="ident" id="7114788">args</span><span class="op" id="7114792">)</span><span class="op" id="7114793">-</span><span class="num" id="7114794">1</span><span class="op" id="7114795">]</span>&nbsp;<span class="op" id="7114797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114801">t</span><span class="op" id="7114802">.</span><span class="ident" id="7114803">Errorf</span><span class="op" id="7114809">(</span><span class="ident" id="7114810">msg</span><span class="op" id="7114813">,</span>&nbsp;<span class="ident" id="7114815">args</span><span class="op" id="7114819">...</span><span class="op" id="7114822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114826">return</span>&nbsp;<span class="ident" id="7114833">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114840">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114843">return</span>&nbsp;<span class="ident" id="7114850">true</span><br>
<span class="lineno"></span><span class="op" id="7114855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114858">func</span>&nbsp;<span class="ident" id="7114863">TestEncode</span><span class="op" id="7114873">(</span><span class="ident" id="7114874">t</span>&nbsp;<span class="op" id="7114876">*</span><span class="ident" id="7114877">testing</span><span class="op" id="7114884">.</span><span class="ident" id="7114885">T</span><span class="op" id="7114886">)</span>&nbsp;<span class="op" id="7114888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114891">for</span>&nbsp;<span class="ident" id="7114895">_</span><span class="op" id="7114896">,</span>&nbsp;<span class="ident" id="7114898">p</span>&nbsp;<span class="op" id="7114900">:=</span>&nbsp;<span class="keyword" id="7114903">range</span>&nbsp;<span class="ident" id="7114909">pairs</span>&nbsp;<span class="op" id="7114915">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114919">got</span>&nbsp;<span class="op" id="7114923">:=</span>&nbsp;<span class="ident" id="7114926">StdEncoding</span><span class="op" id="7114937">.</span><span class="ident" id="7114938">EncodeToString</span><span class="op" id="7114952">(</span><span class="op" id="7114953">[</span><span class="op" id="7114954">]</span><span class="builtintype" id="7114955">byte</span><span class="op" id="7114959">(</span><span class="ident" id="7114960">p</span><span class="op" id="7114961">.</span><span class="ident" id="7114962">decoded</span><span class="op" id="7114969">)</span><span class="op" id="7114970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114974">testEqual</span><span class="op" id="7114983">(</span><span class="ident" id="7114984">t</span><span class="op" id="7114985">,</span>&nbsp;<span class="string" id="7114987">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7115013">,</span>&nbsp;<span class="ident" id="7115015">p</span><span class="op" id="7115016">.</span><span class="ident" id="7115017">decoded</span><span class="op" id="7115024">,</span>&nbsp;<span class="ident" id="7115026">got</span><span class="op" id="7115029">,</span>&nbsp;<span class="ident" id="7115031">p</span><span class="op" id="7115032">.</span><span class="ident" id="7115033">encoded</span><span class="op" id="7115040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115043">}</span><br>
<span class="lineno"></span><span class="op" id="7115045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7115048">func</span>&nbsp;<span class="ident" id="7115053">TestEncoder</span><span class="op" id="7115064">(</span><span class="ident" id="7115065">t</span>&nbsp;<span class="op" id="7115067">*</span><span class="ident" id="7115068">testing</span><span class="op" id="7115075">.</span><span class="ident" id="7115076">T</span><span class="op" id="7115077">)</span>&nbsp;<span class="op" id="7115079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115082">for</span>&nbsp;<span class="ident" id="7115086">_</span><span class="op" id="7115087">,</span>&nbsp;<span class="ident" id="7115089">p</span>&nbsp;<span class="op" id="7115091">:=</span>&nbsp;<span class="keyword" id="7115094">range</span>&nbsp;<span class="ident" id="7115100">pairs</span>&nbsp;<span class="op" id="7115106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115110">bb</span>&nbsp;<span class="op" id="7115113">:=</span>&nbsp;<span class="op" id="7115116">&amp;</span><span class="ident" id="7115117">bytes</span><span class="op" id="7115122">.</span><span class="ident" id="7115123">Buffer</span><span class="op" id="7115129">{</span><span class="op" id="7115130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115134">encoder</span>&nbsp;<span class="op" id="7115142">:=</span>&nbsp;<span class="ident" id="7115145">NewEncoder</span><span class="op" id="7115155">(</span><span class="ident" id="7115156">StdEncoding</span><span class="op" id="7115167">,</span>&nbsp;<span class="ident" id="7115169">bb</span><span class="op" id="7115171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115175">encoder</span><span class="op" id="7115182">.</span><span class="ident" id="7115183">Write</span><span class="op" id="7115188">(</span><span class="op" id="7115189">[</span><span class="op" id="7115190">]</span><span class="builtintype" id="7115191">byte</span><span class="op" id="7115195">(</span><span class="ident" id="7115196">p</span><span class="op" id="7115197">.</span><span class="ident" id="7115198">decoded</span><span class="op" id="7115205">)</span><span class="op" id="7115206">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115210">encoder</span><span class="op" id="7115217">.</span><span class="ident" id="7115218">Close</span><span class="op" id="7115223">(</span><span class="op" id="7115224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115228">testEqual</span><span class="op" id="7115237">(</span><span class="ident" id="7115238">t</span><span class="op" id="7115239">,</span>&nbsp;<span class="string" id="7115241">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7115267">,</span>&nbsp;<span class="ident" id="7115269">p</span><span class="op" id="7115270">.</span><span class="ident" id="7115271">decoded</span><span class="op" id="7115278">,</span>&nbsp;<span class="ident" id="7115280">bb</span><span class="op" id="7115282">.</span><span class="ident" id="7115283">String</span><span class="op" id="7115289">(</span><span class="op" id="7115290">)</span><span class="op" id="7115291">,</span>&nbsp;<span class="ident" id="7115293">p</span><span class="op" id="7115294">.</span><span class="ident" id="7115295">encoded</span><span class="op" id="7115302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115305">}</span><br>
<span class="lineno"></span><span class="op" id="7115307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7115310">func</span>&nbsp;<span class="ident" id="7115315">TestEncoderBuffering</span><span class="op" id="7115335">(</span><span class="ident" id="7115336">t</span>&nbsp;<span class="op" id="7115338">*</span><span class="ident" id="7115339">testing</span><span class="op" id="7115346">.</span><span class="ident" id="7115347">T</span><span class="op" id="7115348">)</span>&nbsp;<span class="op" id="7115350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115353">input</span>&nbsp;<span class="op" id="7115359">:=</span>&nbsp;<span class="op" id="7115362">[</span><span class="op" id="7115363">]</span><span class="builtintype" id="7115364">byte</span><span class="op" id="7115368">(</span><span class="ident" id="7115369">bigtest</span><span class="op" id="7115376">.</span><span class="ident" id="7115377">decoded</span><span class="op" id="7115384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115387">for</span>&nbsp;<span class="ident" id="7115391">bs</span>&nbsp;<span class="op" id="7115394">:=</span>&nbsp;<span class="num" id="7115397">1</span><span class="op" id="7115398">;</span>&nbsp;<span class="ident" id="7115400">bs</span>&nbsp;<span class="op" id="7115403">&lt;=</span>&nbsp;<span class="num" id="7115406">12</span><span class="op" id="7115408">;</span>&nbsp;<span class="ident" id="7115410">bs</span><span class="op" id="7115412">++</span>&nbsp;<span class="op" id="7115415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115419">bb</span>&nbsp;<span class="op" id="7115422">:=</span>&nbsp;<span class="op" id="7115425">&amp;</span><span class="ident" id="7115426">bytes</span><span class="op" id="7115431">.</span><span class="ident" id="7115432">Buffer</span><span class="op" id="7115438">{</span><span class="op" id="7115439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115443">encoder</span>&nbsp;<span class="op" id="7115451">:=</span>&nbsp;<span class="ident" id="7115454">NewEncoder</span><span class="op" id="7115464">(</span><span class="ident" id="7115465">StdEncoding</span><span class="op" id="7115476">,</span>&nbsp;<span class="ident" id="7115478">bb</span><span class="op" id="7115480">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115484">for</span>&nbsp;<span class="ident" id="7115488">pos</span>&nbsp;<span class="op" id="7115492">:=</span>&nbsp;<span class="num" id="7115495">0</span><span class="op" id="7115496">;</span>&nbsp;<span class="ident" id="7115498">pos</span>&nbsp;<span class="op" id="7115502">&lt;</span>&nbsp;<span class="builtinfunc" id="7115504">len</span><span class="op" id="7115507">(</span><span class="ident" id="7115508">input</span><span class="op" id="7115513">)</span><span class="op" id="7115514">;</span>&nbsp;<span class="ident" id="7115516">pos</span>&nbsp;<span class="op" id="7115520">+=</span>&nbsp;<span class="ident" id="7115523">bs</span>&nbsp;<span class="op" id="7115526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115531">end</span>&nbsp;<span class="op" id="7115535">:=</span>&nbsp;<span class="ident" id="7115538">pos</span>&nbsp;<span class="op" id="7115542">+</span>&nbsp;<span class="ident" id="7115544">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115550">if</span>&nbsp;<span class="ident" id="7115553">end</span>&nbsp;<span class="op" id="7115557">&gt;</span>&nbsp;<span class="builtinfunc" id="7115559">len</span><span class="op" id="7115562">(</span><span class="ident" id="7115563">input</span><span class="op" id="7115568">)</span>&nbsp;<span class="op" id="7115570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115576">end</span>&nbsp;<span class="op" id="7115580">=</span>&nbsp;<span class="builtinfunc" id="7115582">len</span><span class="op" id="7115585">(</span><span class="ident" id="7115586">input</span><span class="op" id="7115591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115596">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115601">n</span><span class="op" id="7115602">,</span>&nbsp;<span class="ident" id="7115604">err</span>&nbsp;<span class="op" id="7115608">:=</span>&nbsp;<span class="ident" id="7115611">encoder</span><span class="op" id="7115618">.</span><span class="ident" id="7115619">Write</span><span class="op" id="7115624">(</span><span class="ident" id="7115625">input</span><span class="op" id="7115630">[</span><span class="ident" id="7115631">pos</span><span class="op" id="7115634">:</span><span class="ident" id="7115635">end</span><span class="op" id="7115638">]</span><span class="op" id="7115639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115644">testEqual</span><span class="op" id="7115653">(</span><span class="ident" id="7115654">t</span><span class="op" id="7115655">,</span>&nbsp;<span class="string" id="7115657">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7115691">,</span>&nbsp;<span class="ident" id="7115693">input</span><span class="op" id="7115698">[</span><span class="ident" id="7115699">pos</span><span class="op" id="7115702">:</span><span class="ident" id="7115703">end</span><span class="op" id="7115706">]</span><span class="op" id="7115707">,</span>&nbsp;<span class="ident" id="7115709">err</span><span class="op" id="7115712">,</span>&nbsp;<span class="builtintype" id="7115714">error</span><span class="op" id="7115719">(</span><span class="ident" id="7115720">nil</span><span class="op" id="7115723">)</span><span class="op" id="7115724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115729">testEqual</span><span class="op" id="7115738">(</span><span class="ident" id="7115739">t</span><span class="op" id="7115740">,</span>&nbsp;<span class="string" id="7115742">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7115777">,</span>&nbsp;<span class="ident" id="7115779">input</span><span class="op" id="7115784">[</span><span class="ident" id="7115785">pos</span><span class="op" id="7115788">:</span><span class="ident" id="7115789">end</span><span class="op" id="7115792">]</span><span class="op" id="7115793">,</span>&nbsp;<span class="ident" id="7115795">n</span><span class="op" id="7115796">,</span>&nbsp;<span class="ident" id="7115798">end</span><span class="op" id="7115801">-</span><span class="ident" id="7115802">pos</span><span class="op" id="7115805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115813">err</span>&nbsp;<span class="op" id="7115817">:=</span>&nbsp;<span class="ident" id="7115820">encoder</span><span class="op" id="7115827">.</span><span class="ident" id="7115828">Close</span><span class="op" id="7115833">(</span><span class="op" id="7115834">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115838">testEqual</span><span class="op" id="7115847">(</span><span class="ident" id="7115848">t</span><span class="op" id="7115849">,</span>&nbsp;<span class="string" id="7115851">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7115881">,</span>&nbsp;<span class="ident" id="7115883">err</span><span class="op" id="7115886">,</span>&nbsp;<span class="builtintype" id="7115888">error</span><span class="op" id="7115893">(</span><span class="ident" id="7115894">nil</span><span class="op" id="7115897">)</span><span class="op" id="7115898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115902">testEqual</span><span class="op" id="7115911">(</span><span class="ident" id="7115912">t</span><span class="op" id="7115913">,</span>&nbsp;<span class="string" id="7115915">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7115948">,</span>&nbsp;<span class="ident" id="7115950">bs</span><span class="op" id="7115952">,</span>&nbsp;<span class="ident" id="7115954">bigtest</span><span class="op" id="7115961">.</span><span class="ident" id="7115962">decoded</span><span class="op" id="7115969">,</span>&nbsp;<span class="ident" id="7115971">bb</span><span class="op" id="7115973">.</span><span class="ident" id="7115974">String</span><span class="op" id="7115980">(</span><span class="op" id="7115981">)</span><span class="op" id="7115982">,</span>&nbsp;<span class="ident" id="7115984">bigtest</span><span class="op" id="7115991">.</span><span class="ident" id="7115992">encoded</span><span class="op" id="7115999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116002">}</span><br>
<span class="lineno"></span><span class="op" id="7116004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7116007">func</span>&nbsp;<span class="ident" id="7116012">TestDecode</span><span class="op" id="7116022">(</span><span class="ident" id="7116023">t</span>&nbsp;<span class="op" id="7116025">*</span><span class="ident" id="7116026">testing</span><span class="op" id="7116033">.</span><span class="ident" id="7116034">T</span><span class="op" id="7116035">)</span>&nbsp;<span class="op" id="7116037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116040">for</span>&nbsp;<span class="ident" id="7116044">_</span><span class="op" id="7116045">,</span>&nbsp;<span class="ident" id="7116047">p</span>&nbsp;<span class="op" id="7116049">:=</span>&nbsp;<span class="keyword" id="7116052">range</span>&nbsp;<span class="ident" id="7116058">pairs</span>&nbsp;<span class="op" id="7116064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116068">dbuf</span>&nbsp;<span class="op" id="7116073">:=</span>&nbsp;<span class="builtinfunc" id="7116076">make</span><span class="op" id="7116080">(</span><span class="op" id="7116081">[</span><span class="op" id="7116082">]</span><span class="builtintype" id="7116083">byte</span><span class="op" id="7116087">,</span>&nbsp;<span class="ident" id="7116089">StdEncoding</span><span class="op" id="7116100">.</span><span class="ident" id="7116101">DecodedLen</span><span class="op" id="7116111">(</span><span class="builtinfunc" id="7116112">len</span><span class="op" id="7116115">(</span><span class="ident" id="7116116">p</span><span class="op" id="7116117">.</span><span class="ident" id="7116118">encoded</span><span class="op" id="7116125">)</span><span class="op" id="7116126">)</span><span class="op" id="7116127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116131">count</span><span class="op" id="7116136">,</span>&nbsp;<span class="ident" id="7116138">end</span><span class="op" id="7116141">,</span>&nbsp;<span class="ident" id="7116143">err</span>&nbsp;<span class="op" id="7116147">:=</span>&nbsp;<span class="ident" id="7116150">StdEncoding</span><span class="op" id="7116161">.</span><span class="ident" id="7116162">decode</span><span class="op" id="7116168">(</span><span class="ident" id="7116169">dbuf</span><span class="op" id="7116173">,</span>&nbsp;<span class="op" id="7116175">[</span><span class="op" id="7116176">]</span><span class="builtintype" id="7116177">byte</span><span class="op" id="7116181">(</span><span class="ident" id="7116182">p</span><span class="op" id="7116183">.</span><span class="ident" id="7116184">encoded</span><span class="op" id="7116191">)</span><span class="op" id="7116192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116196">testEqual</span><span class="op" id="7116205">(</span><span class="ident" id="7116206">t</span><span class="op" id="7116207">,</span>&nbsp;<span class="string" id="7116209">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7116241">,</span>&nbsp;<span class="ident" id="7116243">p</span><span class="op" id="7116244">.</span><span class="ident" id="7116245">encoded</span><span class="op" id="7116252">,</span>&nbsp;<span class="ident" id="7116254">err</span><span class="op" id="7116257">,</span>&nbsp;<span class="builtintype" id="7116259">error</span><span class="op" id="7116264">(</span><span class="ident" id="7116265">nil</span><span class="op" id="7116268">)</span><span class="op" id="7116269">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116273">testEqual</span><span class="op" id="7116282">(</span><span class="ident" id="7116283">t</span><span class="op" id="7116284">,</span>&nbsp;<span class="string" id="7116286">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7116319">,</span>&nbsp;<span class="ident" id="7116321">p</span><span class="op" id="7116322">.</span><span class="ident" id="7116323">encoded</span><span class="op" id="7116330">,</span>&nbsp;<span class="ident" id="7116332">count</span><span class="op" id="7116337">,</span>&nbsp;<span class="builtinfunc" id="7116339">len</span><span class="op" id="7116342">(</span><span class="ident" id="7116343">p</span><span class="op" id="7116344">.</span><span class="ident" id="7116345">decoded</span><span class="op" id="7116352">)</span><span class="op" id="7116353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116357">if</span>&nbsp;<span class="builtinfunc" id="7116360">len</span><span class="op" id="7116363">(</span><span class="ident" id="7116364">p</span><span class="op" id="7116365">.</span><span class="ident" id="7116366">encoded</span><span class="op" id="7116373">)</span>&nbsp;<span class="op" id="7116375">&gt;</span>&nbsp;<span class="num" id="7116377">0</span>&nbsp;<span class="op" id="7116379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116384">testEqual</span><span class="op" id="7116393">(</span><span class="ident" id="7116394">t</span><span class="op" id="7116395">,</span>&nbsp;<span class="string" id="7116397">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7116427">,</span>&nbsp;<span class="ident" id="7116429">p</span><span class="op" id="7116430">.</span><span class="ident" id="7116431">encoded</span><span class="op" id="7116438">,</span>&nbsp;<span class="ident" id="7116440">end</span><span class="op" id="7116443">,</span>&nbsp;<span class="op" id="7116445">(</span><span class="ident" id="7116446">p</span><span class="op" id="7116447">.</span><span class="ident" id="7116448">encoded</span><span class="op" id="7116455">[</span><span class="builtinfunc" id="7116456">len</span><span class="op" id="7116459">(</span><span class="ident" id="7116460">p</span><span class="op" id="7116461">.</span><span class="ident" id="7116462">encoded</span><span class="op" id="7116469">)</span><span class="op" id="7116470">-</span><span class="num" id="7116471">1</span><span class="op" id="7116472">]</span>&nbsp;<span class="op" id="7116474">==</span>&nbsp;<span class="string" id="7116477">&#39;=&#39;</span><span class="op" id="7116480">)</span><span class="op" id="7116481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116489">testEqual</span><span class="op" id="7116498">(</span><span class="ident" id="7116499">t</span><span class="op" id="7116500">,</span>&nbsp;<span class="string" id="7116502">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7116528">,</span>&nbsp;<span class="ident" id="7116530">p</span><span class="op" id="7116531">.</span><span class="ident" id="7116532">encoded</span><span class="op" id="7116539">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7116544">string</span><span class="op" id="7116550">(</span><span class="ident" id="7116551">dbuf</span><span class="op" id="7116555">[</span><span class="num" id="7116556">0</span><span class="op" id="7116557">:</span><span class="ident" id="7116558">count</span><span class="op" id="7116563">]</span><span class="op" id="7116564">)</span><span class="op" id="7116565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116570">p</span><span class="op" id="7116571">.</span><span class="ident" id="7116572">decoded</span><span class="op" id="7116579">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116584">dbuf</span><span class="op" id="7116588">,</span>&nbsp;<span class="ident" id="7116590">err</span>&nbsp;<span class="op" id="7116594">=</span>&nbsp;<span class="ident" id="7116596">StdEncoding</span><span class="op" id="7116607">.</span><span class="ident" id="7116608">DecodeString</span><span class="op" id="7116620">(</span><span class="ident" id="7116621">p</span><span class="op" id="7116622">.</span><span class="ident" id="7116623">encoded</span><span class="op" id="7116630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116634">testEqual</span><span class="op" id="7116643">(</span><span class="ident" id="7116644">t</span><span class="op" id="7116645">,</span>&nbsp;<span class="string" id="7116647">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7116685">,</span>&nbsp;<span class="ident" id="7116687">p</span><span class="op" id="7116688">.</span><span class="ident" id="7116689">encoded</span><span class="op" id="7116696">,</span>&nbsp;<span class="ident" id="7116698">err</span><span class="op" id="7116701">,</span>&nbsp;<span class="builtintype" id="7116703">error</span><span class="op" id="7116708">(</span><span class="ident" id="7116709">nil</span><span class="op" id="7116712">)</span><span class="op" id="7116713">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116717">testEqual</span><span class="op" id="7116726">(</span><span class="ident" id="7116727">t</span><span class="op" id="7116728">,</span>&nbsp;<span class="string" id="7116730">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7116762">,</span>&nbsp;<span class="ident" id="7116764">p</span><span class="op" id="7116765">.</span><span class="ident" id="7116766">encoded</span><span class="op" id="7116773">,</span>&nbsp;<span class="builtintype" id="7116775">string</span><span class="op" id="7116781">(</span><span class="ident" id="7116782">dbuf</span><span class="op" id="7116786">)</span><span class="op" id="7116787">,</span>&nbsp;<span class="ident" id="7116789">p</span><span class="op" id="7116790">.</span><span class="ident" id="7116791">decoded</span><span class="op" id="7116798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116801">}</span><br>
<span class="lineno"></span><span class="op" id="7116803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7116806">func</span>&nbsp;<span class="ident" id="7116811">TestDecoder</span><span class="op" id="7116822">(</span><span class="ident" id="7116823">t</span>&nbsp;<span class="op" id="7116825">*</span><span class="ident" id="7116826">testing</span><span class="op" id="7116833">.</span><span class="ident" id="7116834">T</span><span class="op" id="7116835">)</span>&nbsp;<span class="op" id="7116837">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116840">for</span>&nbsp;<span class="ident" id="7116844">_</span><span class="op" id="7116845">,</span>&nbsp;<span class="ident" id="7116847">p</span>&nbsp;<span class="op" id="7116849">:=</span>&nbsp;<span class="keyword" id="7116852">range</span>&nbsp;<span class="ident" id="7116858">pairs</span>&nbsp;<span class="op" id="7116864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116868">decoder</span>&nbsp;<span class="op" id="7116876">:=</span>&nbsp;<span class="ident" id="7116879">NewDecoder</span><span class="op" id="7116889">(</span><span class="ident" id="7116890">StdEncoding</span><span class="op" id="7116901">,</span>&nbsp;<span class="ident" id="7116903">strings</span><span class="op" id="7116910">.</span><span class="ident" id="7116911">NewReader</span><span class="op" id="7116920">(</span><span class="ident" id="7116921">p</span><span class="op" id="7116922">.</span><span class="ident" id="7116923">encoded</span><span class="op" id="7116930">)</span><span class="op" id="7116931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116935">dbuf</span>&nbsp;<span class="op" id="7116940">:=</span>&nbsp;<span class="builtinfunc" id="7116943">make</span><span class="op" id="7116947">(</span><span class="op" id="7116948">[</span><span class="op" id="7116949">]</span><span class="builtintype" id="7116950">byte</span><span class="op" id="7116954">,</span>&nbsp;<span class="ident" id="7116956">StdEncoding</span><span class="op" id="7116967">.</span><span class="ident" id="7116968">DecodedLen</span><span class="op" id="7116978">(</span><span class="builtinfunc" id="7116979">len</span><span class="op" id="7116982">(</span><span class="ident" id="7116983">p</span><span class="op" id="7116984">.</span><span class="ident" id="7116985">encoded</span><span class="op" id="7116992">)</span><span class="op" id="7116993">)</span><span class="op" id="7116994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116998">count</span><span class="op" id="7117003">,</span>&nbsp;<span class="ident" id="7117005">err</span>&nbsp;<span class="op" id="7117009">:=</span>&nbsp;<span class="ident" id="7117012">decoder</span><span class="op" id="7117019">.</span><span class="ident" id="7117020">Read</span><span class="op" id="7117024">(</span><span class="ident" id="7117025">dbuf</span><span class="op" id="7117029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117033">if</span>&nbsp;<span class="ident" id="7117036">err</span>&nbsp;<span class="op" id="7117040">!=</span>&nbsp;<span class="ident" id="7117043">nil</span>&nbsp;<span class="op" id="7117047">&amp;&amp;</span>&nbsp;<span class="ident" id="7117050">err</span>&nbsp;<span class="op" id="7117054">!=</span>&nbsp;<span class="ident" id="7117057">io</span><span class="op" id="7117059">.</span><span class="ident" id="7117060">EOF</span>&nbsp;<span class="op" id="7117064">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117069">t</span><span class="op" id="7117070">.</span><span class="ident" id="7117071">Fatal</span><span class="op" id="7117076">(</span><span class="string" id="7117077">&#34;Read&nbsp;failed&#34;</span><span class="op" id="7117090">,</span>&nbsp;<span class="ident" id="7117092">err</span><span class="op" id="7117095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117103">testEqual</span><span class="op" id="7117112">(</span><span class="ident" id="7117113">t</span><span class="op" id="7117114">,</span>&nbsp;<span class="string" id="7117116">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7117151">,</span>&nbsp;<span class="ident" id="7117153">p</span><span class="op" id="7117154">.</span><span class="ident" id="7117155">encoded</span><span class="op" id="7117162">,</span>&nbsp;<span class="ident" id="7117164">count</span><span class="op" id="7117169">,</span>&nbsp;<span class="builtinfunc" id="7117171">len</span><span class="op" id="7117174">(</span><span class="ident" id="7117175">p</span><span class="op" id="7117176">.</span><span class="ident" id="7117177">decoded</span><span class="op" id="7117184">)</span><span class="op" id="7117185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117189">testEqual</span><span class="op" id="7117198">(</span><span class="ident" id="7117199">t</span><span class="op" id="7117200">,</span>&nbsp;<span class="string" id="7117202">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7117232">,</span>&nbsp;<span class="ident" id="7117234">p</span><span class="op" id="7117235">.</span><span class="ident" id="7117236">encoded</span><span class="op" id="7117243">,</span>&nbsp;<span class="builtintype" id="7117245">string</span><span class="op" id="7117251">(</span><span class="ident" id="7117252">dbuf</span><span class="op" id="7117256">[</span><span class="num" id="7117257">0</span><span class="op" id="7117258">:</span><span class="ident" id="7117259">count</span><span class="op" id="7117264">]</span><span class="op" id="7117265">)</span><span class="op" id="7117266">,</span>&nbsp;<span class="ident" id="7117268">p</span><span class="op" id="7117269">.</span><span class="ident" id="7117270">decoded</span><span class="op" id="7117277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117281">if</span>&nbsp;<span class="ident" id="7117284">err</span>&nbsp;<span class="op" id="7117288">!=</span>&nbsp;<span class="ident" id="7117291">io</span><span class="op" id="7117293">.</span><span class="ident" id="7117294">EOF</span>&nbsp;<span class="op" id="7117298">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117303">count</span><span class="op" id="7117308">,</span>&nbsp;<span class="ident" id="7117310">err</span>&nbsp;<span class="op" id="7117314">=</span>&nbsp;<span class="ident" id="7117316">decoder</span><span class="op" id="7117323">.</span><span class="ident" id="7117324">Read</span><span class="op" id="7117328">(</span><span class="ident" id="7117329">dbuf</span><span class="op" id="7117333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117341">testEqual</span><span class="op" id="7117350">(</span><span class="ident" id="7117351">t</span><span class="op" id="7117352">,</span>&nbsp;<span class="string" id="7117354">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7117382">,</span>&nbsp;<span class="ident" id="7117384">p</span><span class="op" id="7117385">.</span><span class="ident" id="7117386">encoded</span><span class="op" id="7117393">,</span>&nbsp;<span class="ident" id="7117395">err</span><span class="op" id="7117398">,</span>&nbsp;<span class="ident" id="7117400">io</span><span class="op" id="7117402">.</span><span class="ident" id="7117403">EOF</span><span class="op" id="7117406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117409">}</span><br>
<span class="lineno"></span><span class="op" id="7117411">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="7117414">func</span>&nbsp;<span class="ident" id="7117419">TestDecoderBuffering</span><span class="op" id="7117439">(</span><span class="ident" id="7117440">t</span>&nbsp;<span class="op" id="7117442">*</span><span class="ident" id="7117443">testing</span><span class="op" id="7117450">.</span><span class="ident" id="7117451">T</span><span class="op" id="7117452">)</span>&nbsp;<span class="op" id="7117454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117457">for</span>&nbsp;<span class="ident" id="7117461">bs</span>&nbsp;<span class="op" id="7117464">:=</span>&nbsp;<span class="num" id="7117467">1</span><span class="op" id="7117468">;</span>&nbsp;<span class="ident" id="7117470">bs</span>&nbsp;<span class="op" id="7117473">&lt;=</span>&nbsp;<span class="num" id="7117476">12</span><span class="op" id="7117478">;</span>&nbsp;<span class="ident" id="7117480">bs</span><span class="op" id="7117482">++</span>&nbsp;<span class="op" id="7117485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117489">decoder</span>&nbsp;<span class="op" id="7117497">:=</span>&nbsp;<span class="ident" id="7117500">NewDecoder</span><span class="op" id="7117510">(</span><span class="ident" id="7117511">StdEncoding</span><span class="op" id="7117522">,</span>&nbsp;<span class="ident" id="7117524">strings</span><span class="op" id="7117531">.</span><span class="ident" id="7117532">NewReader</span><span class="op" id="7117541">(</span><span class="ident" id="7117542">bigtest</span><span class="op" id="7117549">.</span><span class="ident" id="7117550">encoded</span><span class="op" id="7117557">)</span><span class="op" id="7117558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117562">buf</span>&nbsp;<span class="op" id="7117566">:=</span>&nbsp;<span class="builtinfunc" id="7117569">make</span><span class="op" id="7117573">(</span><span class="op" id="7117574">[</span><span class="op" id="7117575">]</span><span class="builtintype" id="7117576">byte</span><span class="op" id="7117580">,</span>&nbsp;<span class="builtinfunc" id="7117582">len</span><span class="op" id="7117585">(</span><span class="ident" id="7117586">bigtest</span><span class="op" id="7117593">.</span><span class="ident" id="7117594">decoded</span><span class="op" id="7117601">)</span><span class="op" id="7117602">+</span><span class="num" id="7117603">12</span><span class="op" id="7117605">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117609">var</span>&nbsp;<span class="ident" id="7117613">total</span>&nbsp;<span class="builtintype" id="7117619">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117625">for</span>&nbsp;<span class="ident" id="7117629">total</span>&nbsp;<span class="op" id="7117635">=</span>&nbsp;<span class="num" id="7117637">0</span><span class="op" id="7117638">;</span>&nbsp;<span class="ident" id="7117640">total</span>&nbsp;<span class="op" id="7117646">&lt;</span>&nbsp;<span class="builtinfunc" id="7117648">len</span><span class="op" id="7117651">(</span><span class="ident" id="7117652">bigtest</span><span class="op" id="7117659">.</span><span class="ident" id="7117660">decoded</span><span class="op" id="7117667">)</span><span class="op" id="7117668">;</span>&nbsp;<span class="op" id="7117670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117675">n</span><span class="op" id="7117676">,</span>&nbsp;<span class="ident" id="7117678">err</span>&nbsp;<span class="op" id="7117682">:=</span>&nbsp;<span class="ident" id="7117685">decoder</span><span class="op" id="7117692">.</span><span class="ident" id="7117693">Read</span><span class="op" id="7117697">(</span><span class="ident" id="7117698">buf</span><span class="op" id="7117701">[</span><span class="ident" id="7117702">total</span>&nbsp;<span class="op" id="7117708">:</span>&nbsp;<span class="ident" id="7117710">total</span><span class="op" id="7117715">+</span><span class="ident" id="7117716">bs</span><span class="op" id="7117718">]</span><span class="op" id="7117719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117724">testEqual</span><span class="op" id="7117733">(</span><span class="ident" id="7117734">t</span><span class="op" id="7117735">,</span>&nbsp;<span class="string" id="7117737">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="7117782">,</span>&nbsp;<span class="ident" id="7117784">bigtest</span><span class="op" id="7117791">.</span><span class="ident" id="7117792">encoded</span><span class="op" id="7117799">,</span>&nbsp;<span class="ident" id="7117801">total</span><span class="op" id="7117806">,</span>&nbsp;<span class="ident" id="7117808">n</span><span class="op" id="7117809">,</span>&nbsp;<span class="ident" id="7117811">err</span><span class="op" id="7117814">,</span>&nbsp;<span class="builtintype" id="7117816">error</span><span class="op" id="7117821">(</span><span class="ident" id="7117822">nil</span><span class="op" id="7117825">)</span><span class="op" id="7117826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117831">total</span>&nbsp;<span class="op" id="7117837">+=</span>&nbsp;<span class="ident" id="7117840">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117848">testEqual</span><span class="op" id="7117857">(</span><span class="ident" id="7117858">t</span><span class="op" id="7117859">,</span>&nbsp;<span class="string" id="7117861">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7117894">,</span>&nbsp;<span class="ident" id="7117896">bs</span><span class="op" id="7117898">,</span>&nbsp;<span class="ident" id="7117900">bigtest</span><span class="op" id="7117907">.</span><span class="ident" id="7117908">encoded</span><span class="op" id="7117915">,</span>&nbsp;<span class="builtintype" id="7117917">string</span><span class="op" id="7117923">(</span><span class="ident" id="7117924">buf</span><span class="op" id="7117927">[</span><span class="num" id="7117928">0</span><span class="op" id="7117929">:</span><span class="ident" id="7117930">total</span><span class="op" id="7117935">]</span><span class="op" id="7117936">)</span><span class="op" id="7117937">,</span>&nbsp;<span class="ident" id="7117939">bigtest</span><span class="op" id="7117946">.</span><span class="ident" id="7117947">decoded</span><span class="op" id="7117954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117957">}</span><br>
<span class="lineno"></span><span class="op" id="7117959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7117962">func</span>&nbsp;<span class="ident" id="7117967">TestDecodeCorrupt</span><span class="op" id="7117984">(</span><span class="ident" id="7117985">t</span>&nbsp;<span class="op" id="7117987">*</span><span class="ident" id="7117988">testing</span><span class="op" id="7117995">.</span><span class="ident" id="7117996">T</span><span class="op" id="7117997">)</span>&nbsp;<span class="op" id="7117999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118002">testCases</span>&nbsp;<span class="op" id="7118012">:=</span>&nbsp;<span class="op" id="7118015">[</span><span class="op" id="7118016">]</span><span class="keyword" id="7118017">struct</span>&nbsp;<span class="op" id="7118024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118028">input</span>&nbsp;&nbsp;<span class="builtintype" id="7118035">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118044">offset</span>&nbsp;<span class="builtintype" id="7118051">int</span>&nbsp;<span class="comment" id="7118055">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118083">}</span><span class="op" id="7118084">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118088">{</span><span class="string" id="7118089">&#34;&#34;</span><span class="op" id="7118091">,</span>&nbsp;<span class="op" id="7118093">-</span><span class="num" id="7118094">1</span><span class="op" id="7118095">}</span><span class="op" id="7118096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118100">{</span><span class="string" id="7118101">&#34;!!!!&#34;</span><span class="op" id="7118107">,</span>&nbsp;<span class="num" id="7118109">0</span><span class="op" id="7118110">}</span><span class="op" id="7118111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118115">{</span><span class="string" id="7118116">&#34;x===&#34;</span><span class="op" id="7118122">,</span>&nbsp;<span class="num" id="7118124">0</span><span class="op" id="7118125">}</span><span class="op" id="7118126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118130">{</span><span class="string" id="7118131">&#34;AA=A====&#34;</span><span class="op" id="7118141">,</span>&nbsp;<span class="num" id="7118143">2</span><span class="op" id="7118144">}</span><span class="op" id="7118145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118149">{</span><span class="string" id="7118150">&#34;AAA=AAAA&#34;</span><span class="op" id="7118160">,</span>&nbsp;<span class="num" id="7118162">3</span><span class="op" id="7118163">}</span><span class="op" id="7118164">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118168">{</span><span class="string" id="7118169">&#34;MMMMMMMMM&#34;</span><span class="op" id="7118180">,</span>&nbsp;<span class="num" id="7118182">8</span><span class="op" id="7118183">}</span><span class="op" id="7118184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118188">{</span><span class="string" id="7118189">&#34;MMMMMM&#34;</span><span class="op" id="7118197">,</span>&nbsp;<span class="num" id="7118199">0</span><span class="op" id="7118200">}</span><span class="op" id="7118201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118205">{</span><span class="string" id="7118206">&#34;A=&#34;</span><span class="op" id="7118210">,</span>&nbsp;<span class="num" id="7118212">1</span><span class="op" id="7118213">}</span><span class="op" id="7118214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118218">{</span><span class="string" id="7118219">&#34;AA=&#34;</span><span class="op" id="7118224">,</span>&nbsp;<span class="num" id="7118226">3</span><span class="op" id="7118227">}</span><span class="op" id="7118228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118232">{</span><span class="string" id="7118233">&#34;AA==&#34;</span><span class="op" id="7118239">,</span>&nbsp;<span class="num" id="7118241">4</span><span class="op" id="7118242">}</span><span class="op" id="7118243">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118247">{</span><span class="string" id="7118248">&#34;AA===&#34;</span><span class="op" id="7118255">,</span>&nbsp;<span class="num" id="7118257">5</span><span class="op" id="7118258">}</span><span class="op" id="7118259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118263">{</span><span class="string" id="7118264">&#34;AAAA=&#34;</span><span class="op" id="7118271">,</span>&nbsp;<span class="num" id="7118273">5</span><span class="op" id="7118274">}</span><span class="op" id="7118275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118279">{</span><span class="string" id="7118280">&#34;AAAA==&#34;</span><span class="op" id="7118288">,</span>&nbsp;<span class="num" id="7118290">6</span><span class="op" id="7118291">}</span><span class="op" id="7118292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118296">{</span><span class="string" id="7118297">&#34;AAAAA=&#34;</span><span class="op" id="7118305">,</span>&nbsp;<span class="num" id="7118307">6</span><span class="op" id="7118308">}</span><span class="op" id="7118309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118313">{</span><span class="string" id="7118314">&#34;AAAAA==&#34;</span><span class="op" id="7118323">,</span>&nbsp;<span class="num" id="7118325">7</span><span class="op" id="7118326">}</span><span class="op" id="7118327">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118331">{</span><span class="string" id="7118332">&#34;A=======&#34;</span><span class="op" id="7118342">,</span>&nbsp;<span class="num" id="7118344">1</span><span class="op" id="7118345">}</span><span class="op" id="7118346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118350">{</span><span class="string" id="7118351">&#34;AA======&#34;</span><span class="op" id="7118361">,</span>&nbsp;<span class="op" id="7118363">-</span><span class="num" id="7118364">1</span><span class="op" id="7118365">}</span><span class="op" id="7118366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118370">{</span><span class="string" id="7118371">&#34;AAA=====&#34;</span><span class="op" id="7118381">,</span>&nbsp;<span class="num" id="7118383">3</span><span class="op" id="7118384">}</span><span class="op" id="7118385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118389">{</span><span class="string" id="7118390">&#34;AAAA====&#34;</span><span class="op" id="7118400">,</span>&nbsp;<span class="op" id="7118402">-</span><span class="num" id="7118403">1</span><span class="op" id="7118404">}</span><span class="op" id="7118405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118409">{</span><span class="string" id="7118410">&#34;AAAAA===&#34;</span><span class="op" id="7118420">,</span>&nbsp;<span class="op" id="7118422">-</span><span class="num" id="7118423">1</span><span class="op" id="7118424">}</span><span class="op" id="7118425">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118429">{</span><span class="string" id="7118430">&#34;AAAAAA==&#34;</span><span class="op" id="7118440">,</span>&nbsp;<span class="num" id="7118442">6</span><span class="op" id="7118443">}</span><span class="op" id="7118444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118448">{</span><span class="string" id="7118449">&#34;AAAAAAA=&#34;</span><span class="op" id="7118459">,</span>&nbsp;<span class="op" id="7118461">-</span><span class="num" id="7118462">1</span><span class="op" id="7118463">}</span><span class="op" id="7118464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118468">{</span><span class="string" id="7118469">&#34;AAAAAAAA&#34;</span><span class="op" id="7118479">,</span>&nbsp;<span class="op" id="7118481">-</span><span class="num" id="7118482">1</span><span class="op" id="7118483">}</span><span class="op" id="7118484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7118490">for</span>&nbsp;<span class="ident" id="7118494">_</span><span class="op" id="7118495">,</span>&nbsp;<span class="ident" id="7118497">tc</span>&nbsp;<span class="op" id="7118500">:=</span>&nbsp;<span class="keyword" id="7118503">range</span>&nbsp;<span class="ident" id="7118509">testCases</span>&nbsp;<span class="op" id="7118519">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118523">dbuf</span>&nbsp;<span class="op" id="7118528">:=</span>&nbsp;<span class="builtinfunc" id="7118531">make</span><span class="op" id="7118535">(</span><span class="op" id="7118536">[</span><span class="op" id="7118537">]</span><span class="builtintype" id="7118538">byte</span><span class="op" id="7118542">,</span>&nbsp;<span class="ident" id="7118544">StdEncoding</span><span class="op" id="7118555">.</span><span class="ident" id="7118556">DecodedLen</span><span class="op" id="7118566">(</span><span class="builtinfunc" id="7118567">len</span><span class="op" id="7118570">(</span><span class="ident" id="7118571">tc</span><span class="op" id="7118573">.</span><span class="ident" id="7118574">input</span><span class="op" id="7118579">)</span><span class="op" id="7118580">)</span><span class="op" id="7118581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118585">_</span><span class="op" id="7118586">,</span>&nbsp;<span class="ident" id="7118588">err</span>&nbsp;<span class="op" id="7118592">:=</span>&nbsp;<span class="ident" id="7118595">StdEncoding</span><span class="op" id="7118606">.</span><span class="ident" id="7118607">Decode</span><span class="op" id="7118613">(</span><span class="ident" id="7118614">dbuf</span><span class="op" id="7118618">,</span>&nbsp;<span class="op" id="7118620">[</span><span class="op" id="7118621">]</span><span class="builtintype" id="7118622">byte</span><span class="op" id="7118626">(</span><span class="ident" id="7118627">tc</span><span class="op" id="7118629">.</span><span class="ident" id="7118630">input</span><span class="op" id="7118635">)</span><span class="op" id="7118636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7118640">if</span>&nbsp;<span class="ident" id="7118643">tc</span><span class="op" id="7118645">.</span><span class="ident" id="7118646">offset</span>&nbsp;<span class="op" id="7118653">==</span>&nbsp;<span class="op" id="7118656">-</span><span class="num" id="7118657">1</span>&nbsp;<span class="op" id="7118659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7118664">if</span>&nbsp;<span class="ident" id="7118667">err</span>&nbsp;<span class="op" id="7118671">!=</span>&nbsp;<span class="ident" id="7118674">nil</span>&nbsp;<span class="op" id="7118678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118684">t</span><span class="op" id="7118685">.</span><span class="ident" id="7118686">Error</span><span class="op" id="7118691">(</span><span class="string" id="7118692">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="7118731">,</span>&nbsp;<span class="ident" id="7118733">tc</span><span class="op" id="7118735">.</span><span class="ident" id="7118736">input</span><span class="op" id="7118741">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7118751">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7118766">switch</span>&nbsp;<span class="ident" id="7118773">err</span>&nbsp;<span class="op" id="7118777">:=</span>&nbsp;<span class="ident" id="7118780">err</span><span class="op" id="7118783">.</span><span class="op" id="7118784">(</span><span class="keyword" id="7118785">type</span><span class="op" id="7118789">)</span>&nbsp;<span class="op" id="7118791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7118795">case</span>&nbsp;<span class="ident" id="7118800">CorruptInputError</span><span class="op" id="7118817">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118822">testEqual</span><span class="op" id="7118831">(</span><span class="ident" id="7118832">t</span><span class="op" id="7118833">,</span>&nbsp;<span class="string" id="7118835">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7118875">,</span>&nbsp;<span class="ident" id="7118877">tc</span><span class="op" id="7118879">.</span><span class="ident" id="7118880">input</span><span class="op" id="7118885">,</span>&nbsp;<span class="builtintype" id="7118887">int</span><span class="op" id="7118890">(</span><span class="ident" id="7118891">err</span><span class="op" id="7118894">)</span><span class="op" id="7118895">,</span>&nbsp;<span class="ident" id="7118897">tc</span><span class="op" id="7118899">.</span><span class="ident" id="7118900">offset</span><span class="op" id="7118906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7118910">default</span><span class="op" id="7118917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118922">t</span><span class="op" id="7118923">.</span><span class="ident" id="7118924">Error</span><span class="op" id="7118929">(</span><span class="string" id="7118930">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="7118970">,</span>&nbsp;<span class="ident" id="7118972">tc</span><span class="op" id="7118974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118981">}</span><br>
<span class="lineno">185</span><span class="op" id="7118983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7118986">func</span>&nbsp;<span class="ident" id="7118991">TestBig</span><span class="op" id="7118998">(</span><span class="ident" id="7118999">t</span>&nbsp;<span class="op" id="7119001">*</span><span class="ident" id="7119002">testing</span><span class="op" id="7119009">.</span><span class="ident" id="7119010">T</span><span class="op" id="7119011">)</span>&nbsp;<span class="op" id="7119013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119016">n</span>&nbsp;<span class="op" id="7119018">:=</span>&nbsp;<span class="num" id="7119021">3</span><span class="op" id="7119022">*</span><span class="num" id="7119023">1000</span>&nbsp;<span class="op" id="7119028">+</span>&nbsp;<span class="num" id="7119030">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119033">raw</span>&nbsp;<span class="op" id="7119037">:=</span>&nbsp;<span class="builtinfunc" id="7119040">make</span><span class="op" id="7119044">(</span><span class="op" id="7119045">[</span><span class="op" id="7119046">]</span><span class="builtintype" id="7119047">byte</span><span class="op" id="7119051">,</span>&nbsp;<span class="ident" id="7119053">n</span><span class="op" id="7119054">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119057">const</span>&nbsp;<span class="ident" id="7119063">alpha</span>&nbsp;<span class="op" id="7119069">=</span>&nbsp;<span class="string" id="7119071">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119137">for</span>&nbsp;<span class="ident" id="7119141">i</span>&nbsp;<span class="op" id="7119143">:=</span>&nbsp;<span class="num" id="7119146">0</span><span class="op" id="7119147">;</span>&nbsp;<span class="ident" id="7119149">i</span>&nbsp;<span class="op" id="7119151">&lt;</span>&nbsp;<span class="ident" id="7119153">n</span><span class="op" id="7119154">;</span>&nbsp;<span class="ident" id="7119156">i</span><span class="op" id="7119157">++</span>&nbsp;<span class="op" id="7119160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119164">raw</span><span class="op" id="7119167">[</span><span class="ident" id="7119168">i</span><span class="op" id="7119169">]</span>&nbsp;<span class="op" id="7119171">=</span>&nbsp;<span class="ident" id="7119173">alpha</span><span class="op" id="7119178">[</span><span class="ident" id="7119179">i</span><span class="op" id="7119180">%</span><span class="builtinfunc" id="7119181">len</span><span class="op" id="7119184">(</span><span class="ident" id="7119185">alpha</span><span class="op" id="7119190">)</span><span class="op" id="7119191">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119197">encoded</span>&nbsp;<span class="op" id="7119205">:=</span>&nbsp;<span class="builtinfunc" id="7119208">new</span><span class="op" id="7119211">(</span><span class="ident" id="7119212">bytes</span><span class="op" id="7119217">.</span><span class="ident" id="7119218">Buffer</span><span class="op" id="7119224">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119227">w</span>&nbsp;<span class="op" id="7119229">:=</span>&nbsp;<span class="ident" id="7119232">NewEncoder</span><span class="op" id="7119242">(</span><span class="ident" id="7119243">StdEncoding</span><span class="op" id="7119254">,</span>&nbsp;<span class="ident" id="7119256">encoded</span><span class="op" id="7119263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119266">nn</span><span class="op" id="7119268">,</span>&nbsp;<span class="ident" id="7119270">err</span>&nbsp;<span class="op" id="7119274">:=</span>&nbsp;<span class="ident" id="7119277">w</span><span class="op" id="7119278">.</span><span class="ident" id="7119279">Write</span><span class="op" id="7119284">(</span><span class="ident" id="7119285">raw</span><span class="op" id="7119288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119291">if</span>&nbsp;<span class="ident" id="7119294">nn</span>&nbsp;<span class="op" id="7119297">!=</span>&nbsp;<span class="ident" id="7119300">n</span>&nbsp;<span class="op" id="7119302">||</span>&nbsp;<span class="ident" id="7119305">err</span>&nbsp;<span class="op" id="7119309">!=</span>&nbsp;<span class="ident" id="7119312">nil</span>&nbsp;<span class="op" id="7119316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119320">t</span><span class="op" id="7119321">.</span><span class="ident" id="7119322">Fatalf</span><span class="op" id="7119328">(</span><span class="string" id="7119329">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="7119371">,</span>&nbsp;<span class="ident" id="7119373">nn</span><span class="op" id="7119375">,</span>&nbsp;<span class="ident" id="7119377">err</span><span class="op" id="7119380">,</span>&nbsp;<span class="ident" id="7119382">n</span><span class="op" id="7119383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119386">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119389">err</span>&nbsp;<span class="op" id="7119393">=</span>&nbsp;<span class="ident" id="7119395">w</span><span class="op" id="7119396">.</span><span class="ident" id="7119397">Close</span><span class="op" id="7119402">(</span><span class="op" id="7119403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119406">if</span>&nbsp;<span class="ident" id="7119409">err</span>&nbsp;<span class="op" id="7119413">!=</span>&nbsp;<span class="ident" id="7119416">nil</span>&nbsp;<span class="op" id="7119420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119424">t</span><span class="op" id="7119425">.</span><span class="ident" id="7119426">Fatalf</span><span class="op" id="7119432">(</span><span class="string" id="7119433">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7119464">,</span>&nbsp;<span class="ident" id="7119466">err</span><span class="op" id="7119469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119475">decoded</span><span class="op" id="7119482">,</span>&nbsp;<span class="ident" id="7119484">err</span>&nbsp;<span class="op" id="7119488">:=</span>&nbsp;<span class="ident" id="7119491">ioutil</span><span class="op" id="7119497">.</span><span class="ident" id="7119498">ReadAll</span><span class="op" id="7119505">(</span><span class="ident" id="7119506">NewDecoder</span><span class="op" id="7119516">(</span><span class="ident" id="7119517">StdEncoding</span><span class="op" id="7119528">,</span>&nbsp;<span class="ident" id="7119530">encoded</span><span class="op" id="7119537">)</span><span class="op" id="7119538">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119541">if</span>&nbsp;<span class="ident" id="7119544">err</span>&nbsp;<span class="op" id="7119548">!=</span>&nbsp;<span class="ident" id="7119551">nil</span>&nbsp;<span class="op" id="7119555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119559">t</span><span class="op" id="7119560">.</span><span class="ident" id="7119561">Fatalf</span><span class="op" id="7119567">(</span><span class="string" id="7119568">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="7119605">,</span>&nbsp;<span class="ident" id="7119607">err</span><span class="op" id="7119610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119617">if</span>&nbsp;<span class="op" id="7119620">!</span><span class="ident" id="7119621">bytes</span><span class="op" id="7119626">.</span><span class="ident" id="7119627">Equal</span><span class="op" id="7119632">(</span><span class="ident" id="7119633">raw</span><span class="op" id="7119636">,</span>&nbsp;<span class="ident" id="7119638">decoded</span><span class="op" id="7119645">)</span>&nbsp;<span class="op" id="7119647">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119651">var</span>&nbsp;<span class="ident" id="7119655">i</span>&nbsp;<span class="builtintype" id="7119657">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119663">for</span>&nbsp;<span class="ident" id="7119667">i</span>&nbsp;<span class="op" id="7119669">=</span>&nbsp;<span class="num" id="7119671">0</span><span class="op" id="7119672">;</span>&nbsp;<span class="ident" id="7119674">i</span>&nbsp;<span class="op" id="7119676">&lt;</span>&nbsp;<span class="builtinfunc" id="7119678">len</span><span class="op" id="7119681">(</span><span class="ident" id="7119682">decoded</span><span class="op" id="7119689">)</span>&nbsp;<span class="op" id="7119691">&amp;&amp;</span>&nbsp;<span class="ident" id="7119694">i</span>&nbsp;<span class="op" id="7119696">&lt;</span>&nbsp;<span class="builtinfunc" id="7119698">len</span><span class="op" id="7119701">(</span><span class="ident" id="7119702">raw</span><span class="op" id="7119705">)</span><span class="op" id="7119706">;</span>&nbsp;<span class="ident" id="7119708">i</span><span class="op" id="7119709">++</span>&nbsp;<span class="op" id="7119712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119717">if</span>&nbsp;<span class="ident" id="7119720">decoded</span><span class="op" id="7119727">[</span><span class="ident" id="7119728">i</span><span class="op" id="7119729">]</span>&nbsp;<span class="op" id="7119731">!=</span>&nbsp;<span class="ident" id="7119734">raw</span><span class="op" id="7119737">[</span><span class="ident" id="7119738">i</span><span class="op" id="7119739">]</span>&nbsp;<span class="op" id="7119741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119747">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119756">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119764">t</span><span class="op" id="7119765">.</span><span class="ident" id="7119766">Errorf</span><span class="op" id="7119772">(</span><span class="string" id="7119773">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="7119825">,</span>&nbsp;<span class="ident" id="7119827">n</span><span class="op" id="7119828">,</span>&nbsp;<span class="ident" id="7119830">i</span><span class="op" id="7119831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7119834">}</span><br>
<span class="lineno"></span><span class="op" id="7119836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="7119839">func</span>&nbsp;<span class="ident" id="7119844">testStringEncoding</span><span class="op" id="7119862">(</span><span class="ident" id="7119863">t</span>&nbsp;<span class="op" id="7119865">*</span><span class="ident" id="7119866">testing</span><span class="op" id="7119873">.</span><span class="ident" id="7119874">T</span><span class="op" id="7119875">,</span>&nbsp;<span class="ident" id="7119877">expected</span>&nbsp;<span class="builtintype" id="7119886">string</span><span class="op" id="7119892">,</span>&nbsp;<span class="ident" id="7119894">examples</span>&nbsp;<span class="op" id="7119903">[</span><span class="op" id="7119904">]</span><span class="builtintype" id="7119905">string</span><span class="op" id="7119911">)</span>&nbsp;<span class="op" id="7119913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119916">for</span>&nbsp;<span class="ident" id="7119920">_</span><span class="op" id="7119921">,</span>&nbsp;<span class="ident" id="7119923">e</span>&nbsp;<span class="op" id="7119925">:=</span>&nbsp;<span class="keyword" id="7119928">range</span>&nbsp;<span class="ident" id="7119934">examples</span>&nbsp;<span class="op" id="7119943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119947">buf</span><span class="op" id="7119950">,</span>&nbsp;<span class="ident" id="7119952">err</span>&nbsp;<span class="op" id="7119956">:=</span>&nbsp;<span class="ident" id="7119959">StdEncoding</span><span class="op" id="7119970">.</span><span class="ident" id="7119971">DecodeString</span><span class="op" id="7119983">(</span><span class="ident" id="7119984">e</span><span class="op" id="7119985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119989">if</span>&nbsp;<span class="ident" id="7119992">err</span>&nbsp;<span class="op" id="7119996">!=</span>&nbsp;<span class="ident" id="7119999">nil</span>&nbsp;<span class="op" id="7120003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120008">t</span><span class="op" id="7120009">.</span><span class="ident" id="7120010">Errorf</span><span class="op" id="7120016">(</span><span class="string" id="7120017">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7120040">,</span>&nbsp;<span class="ident" id="7120042">e</span><span class="op" id="7120043">,</span>&nbsp;<span class="ident" id="7120045">err</span><span class="op" id="7120048">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7120053">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7120068">if</span>&nbsp;<span class="ident" id="7120071">s</span>&nbsp;<span class="op" id="7120073">:=</span>&nbsp;<span class="builtintype" id="7120076">string</span><span class="op" id="7120082">(</span><span class="ident" id="7120083">buf</span><span class="op" id="7120086">)</span><span class="op" id="7120087">;</span>&nbsp;<span class="ident" id="7120089">s</span>&nbsp;<span class="op" id="7120091">!=</span>&nbsp;<span class="ident" id="7120094">expected</span>&nbsp;<span class="op" id="7120103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120108">t</span><span class="op" id="7120109">.</span><span class="ident" id="7120110">Errorf</span><span class="op" id="7120116">(</span><span class="string" id="7120117">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7120143">,</span>&nbsp;<span class="ident" id="7120145">e</span><span class="op" id="7120146">,</span>&nbsp;<span class="ident" id="7120148">s</span><span class="op" id="7120149">,</span>&nbsp;<span class="ident" id="7120151">expected</span><span class="op" id="7120159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120163">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120166">}</span><br>
<span class="lineno"></span><span class="op" id="7120168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120171">func</span>&nbsp;<span class="ident" id="7120176">TestNewLineCharacters</span><span class="op" id="7120197">(</span><span class="ident" id="7120198">t</span>&nbsp;<span class="op" id="7120200">*</span><span class="ident" id="7120201">testing</span><span class="op" id="7120208">.</span><span class="ident" id="7120209">T</span><span class="op" id="7120210">)</span>&nbsp;<span class="op" id="7120212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7120215">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120285">examples</span>&nbsp;<span class="op" id="7120294">:=</span>&nbsp;<span class="op" id="7120297">[</span><span class="op" id="7120298">]</span><span class="builtintype" id="7120299">string</span><span class="op" id="7120305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120309">&#34;ON2XEZI=&#34;</span><span class="op" id="7120319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120323">&#34;ON2XEZI=\r&#34;</span><span class="op" id="7120335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120339">&#34;ON2XEZI=\n&#34;</span><span class="op" id="7120351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120355">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="7120369">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120373">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="7120387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120391">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="7120405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120409">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="7120423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120427">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="7120439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120443">&#34;ON2XEZI\n=&#34;</span><span class="op" id="7120455">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120461">testStringEncoding</span><span class="op" id="7120479">(</span><span class="ident" id="7120480">t</span><span class="op" id="7120481">,</span>&nbsp;<span class="string" id="7120483">&#34;sure&#34;</span><span class="op" id="7120489">,</span>&nbsp;<span class="ident" id="7120491">examples</span><span class="op" id="7120499">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7120503">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120575">examples</span>&nbsp;<span class="op" id="7120584">=</span>&nbsp;<span class="op" id="7120586">[</span><span class="op" id="7120587">]</span><span class="builtintype" id="7120588">string</span><span class="op" id="7120594">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120598">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7120616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7120620">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="7120642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120648">testStringEncoding</span><span class="op" id="7120666">(</span><span class="ident" id="7120667">t</span><span class="op" id="7120668">,</span>&nbsp;<span class="string" id="7120670">&#34;foobar&#34;</span><span class="op" id="7120678">,</span>&nbsp;<span class="ident" id="7120680">examples</span><span class="op" id="7120688">)</span><br>
<span class="lineno"></span><span class="op" id="7120690">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="7120693">func</span>&nbsp;<span class="ident" id="7120698">TestDecoderIssue4779</span><span class="op" id="7120718">(</span><span class="ident" id="7120719">t</span>&nbsp;<span class="op" id="7120721">*</span><span class="ident" id="7120722">testing</span><span class="op" id="7120729">.</span><span class="ident" id="7120730">T</span><span class="op" id="7120731">)</span>&nbsp;<span class="op" id="7120733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120736">encoded</span>&nbsp;<span class="op" id="7120744">:=</span>&nbsp;<span class="string" id="7120747">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121481">encodedShort</span>&nbsp;<span class="op" id="7121494">:=</span>&nbsp;<span class="ident" id="7121497">strings</span><span class="op" id="7121504">.</span><span class="ident" id="7121505">Replace</span><span class="op" id="7121512">(</span><span class="ident" id="7121513">encoded</span><span class="op" id="7121520">,</span>&nbsp;<span class="string" id="7121522">&#34;\n&#34;</span><span class="op" id="7121526">,</span>&nbsp;<span class="string" id="7121528">&#34;&#34;</span><span class="op" id="7121530">,</span>&nbsp;<span class="op" id="7121532">-</span><span class="num" id="7121533">1</span><span class="op" id="7121534">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121538">dec</span>&nbsp;<span class="op" id="7121542">:=</span>&nbsp;<span class="ident" id="7121545">NewDecoder</span><span class="op" id="7121555">(</span><span class="ident" id="7121556">StdEncoding</span><span class="op" id="7121567">,</span>&nbsp;<span class="ident" id="7121569">strings</span><span class="op" id="7121576">.</span><span class="ident" id="7121577">NewReader</span><span class="op" id="7121586">(</span><span class="ident" id="7121587">encoded</span><span class="op" id="7121594">)</span><span class="op" id="7121595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121598">res1</span><span class="op" id="7121602">,</span>&nbsp;<span class="ident" id="7121604">err</span>&nbsp;<span class="op" id="7121608">:=</span>&nbsp;<span class="ident" id="7121611">ioutil</span><span class="op" id="7121617">.</span><span class="ident" id="7121618">ReadAll</span><span class="op" id="7121625">(</span><span class="ident" id="7121626">dec</span><span class="op" id="7121629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7121632">if</span>&nbsp;<span class="ident" id="7121635">err</span>&nbsp;<span class="op" id="7121639">!=</span>&nbsp;<span class="ident" id="7121642">nil</span>&nbsp;<span class="op" id="7121646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121650">t</span><span class="op" id="7121651">.</span><span class="ident" id="7121652">Errorf</span><span class="op" id="7121658">(</span><span class="string" id="7121659">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7121679">,</span>&nbsp;<span class="ident" id="7121681">err</span><span class="op" id="7121684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121687">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121691">dec</span>&nbsp;<span class="op" id="7121695">=</span>&nbsp;<span class="ident" id="7121697">NewDecoder</span><span class="op" id="7121707">(</span><span class="ident" id="7121708">StdEncoding</span><span class="op" id="7121719">,</span>&nbsp;<span class="ident" id="7121721">strings</span><span class="op" id="7121728">.</span><span class="ident" id="7121729">NewReader</span><span class="op" id="7121738">(</span><span class="ident" id="7121739">encodedShort</span><span class="op" id="7121751">)</span><span class="op" id="7121752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7121755">var</span>&nbsp;<span class="ident" id="7121759">res2</span>&nbsp;<span class="op" id="7121764">[</span><span class="op" id="7121765">]</span><span class="builtintype" id="7121766">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121772">res2</span><span class="op" id="7121776">,</span>&nbsp;<span class="ident" id="7121778">err</span>&nbsp;<span class="op" id="7121782">=</span>&nbsp;<span class="ident" id="7121784">ioutil</span><span class="op" id="7121790">.</span><span class="ident" id="7121791">ReadAll</span><span class="op" id="7121798">(</span><span class="ident" id="7121799">dec</span><span class="op" id="7121802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7121805">if</span>&nbsp;<span class="ident" id="7121808">err</span>&nbsp;<span class="op" id="7121812">!=</span>&nbsp;<span class="ident" id="7121815">nil</span>&nbsp;<span class="op" id="7121819">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121823">t</span><span class="op" id="7121824">.</span><span class="ident" id="7121825">Errorf</span><span class="op" id="7121831">(</span><span class="string" id="7121832">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7121852">,</span>&nbsp;<span class="ident" id="7121854">err</span><span class="op" id="7121857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7121864">if</span>&nbsp;<span class="op" id="7121867">!</span><span class="ident" id="7121868">bytes</span><span class="op" id="7121873">.</span><span class="ident" id="7121874">Equal</span><span class="op" id="7121879">(</span><span class="ident" id="7121880">res1</span><span class="op" id="7121884">,</span>&nbsp;<span class="ident" id="7121886">res2</span><span class="op" id="7121890">)</span>&nbsp;<span class="op" id="7121892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121896">t</span><span class="op" id="7121897">.</span><span class="ident" id="7121898">Error</span><span class="op" id="7121903">(</span><span class="string" id="7121904">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="7121931">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121934">}</span><br>
<span class="lineno"></span><span class="op" id="7121936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7121939">func</span>&nbsp;<span class="ident" id="7121944">BenchmarkEncodeToString</span><span class="op" id="7121967">(</span><span class="ident" id="7121968">b</span>&nbsp;<span class="op" id="7121970">*</span><span class="ident" id="7121971">testing</span><span class="op" id="7121978">.</span><span class="ident" id="7121979">B</span><span class="op" id="7121980">)</span>&nbsp;<span class="op" id="7121982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121985">data</span>&nbsp;<span class="op" id="7121990">:=</span>&nbsp;<span class="builtinfunc" id="7121993">make</span><span class="op" id="7121997">(</span><span class="op" id="7121998">[</span><span class="op" id="7121999">]</span><span class="builtintype" id="7122000">byte</span><span class="op" id="7122004">,</span>&nbsp;<span class="num" id="7122006">8192</span><span class="op" id="7122010">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122013">b</span><span class="op" id="7122014">.</span><span class="ident" id="7122015">SetBytes</span><span class="op" id="7122023">(</span><span class="ident" id="7122024">int64</span><span class="op" id="7122029">(</span><span class="builtinfunc" id="7122030">len</span><span class="op" id="7122033">(</span><span class="ident" id="7122034">data</span><span class="op" id="7122038">)</span><span class="op" id="7122039">)</span><span class="op" id="7122040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122043">for</span>&nbsp;<span class="ident" id="7122047">i</span>&nbsp;<span class="op" id="7122049">:=</span>&nbsp;<span class="num" id="7122052">0</span><span class="op" id="7122053">;</span>&nbsp;<span class="ident" id="7122055">i</span>&nbsp;<span class="op" id="7122057">&lt;</span>&nbsp;<span class="ident" id="7122059">b</span><span class="op" id="7122060">.</span><span class="ident" id="7122061">N</span><span class="op" id="7122062">;</span>&nbsp;<span class="ident" id="7122064">i</span><span class="op" id="7122065">++</span>&nbsp;<span class="op" id="7122068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122072">StdEncoding</span><span class="op" id="7122083">.</span><span class="ident" id="7122084">EncodeToString</span><span class="op" id="7122098">(</span><span class="ident" id="7122099">data</span><span class="op" id="7122103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7122106">}</span><br>
<span class="lineno"></span><span class="op" id="7122108">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="7122111">func</span>&nbsp;<span class="ident" id="7122116">BenchmarkDecodeString</span><span class="op" id="7122137">(</span><span class="ident" id="7122138">b</span>&nbsp;<span class="op" id="7122140">*</span><span class="ident" id="7122141">testing</span><span class="op" id="7122148">.</span><span class="ident" id="7122149">B</span><span class="op" id="7122150">)</span>&nbsp;<span class="op" id="7122152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122155">data</span>&nbsp;<span class="op" id="7122160">:=</span>&nbsp;<span class="ident" id="7122163">StdEncoding</span><span class="op" id="7122174">.</span><span class="ident" id="7122175">EncodeToString</span><span class="op" id="7122189">(</span><span class="builtinfunc" id="7122190">make</span><span class="op" id="7122194">(</span><span class="op" id="7122195">[</span><span class="op" id="7122196">]</span><span class="builtintype" id="7122197">byte</span><span class="op" id="7122201">,</span>&nbsp;<span class="num" id="7122203">8192</span><span class="op" id="7122207">)</span><span class="op" id="7122208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122211">b</span><span class="op" id="7122212">.</span><span class="ident" id="7122213">SetBytes</span><span class="op" id="7122221">(</span><span class="ident" id="7122222">int64</span><span class="op" id="7122227">(</span><span class="builtinfunc" id="7122228">len</span><span class="op" id="7122231">(</span><span class="ident" id="7122232">data</span><span class="op" id="7122236">)</span><span class="op" id="7122237">)</span><span class="op" id="7122238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122241">for</span>&nbsp;<span class="ident" id="7122245">i</span>&nbsp;<span class="op" id="7122247">:=</span>&nbsp;<span class="num" id="7122250">0</span><span class="op" id="7122251">;</span>&nbsp;<span class="ident" id="7122253">i</span>&nbsp;<span class="op" id="7122255">&lt;</span>&nbsp;<span class="ident" id="7122257">b</span><span class="op" id="7122258">.</span><span class="ident" id="7122259">N</span><span class="op" id="7122260">;</span>&nbsp;<span class="ident" id="7122262">i</span><span class="op" id="7122263">++</span>&nbsp;<span class="op" id="7122266">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122270">StdEncoding</span><span class="op" id="7122281">.</span><span class="ident" id="7122282">DecodeString</span><span class="op" id="7122294">(</span><span class="ident" id="7122295">data</span><span class="op" id="7122299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7122302">}</span><br>
<span class="lineno"></span><span class="op" id="7122304">}</span>
</div>
</body>
</html>
