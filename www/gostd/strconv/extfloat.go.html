<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strconv</h2>
<ul>
<li><a href="/gostd/strconv/atob.go.html">atob.go</a></li>
<li><a href="/gostd/strconv/atob_test.go.html">atob_test.go</a></li>
<li><a href="/gostd/strconv/atof.go.html">atof.go</a></li>
<li><a href="/gostd/strconv/atof_test.go.html">atof_test.go</a></li>
<li><a href="/gostd/strconv/atoi.go.html">atoi.go</a></li>
<li><a href="/gostd/strconv/atoi_test.go.html">atoi_test.go</a></li>
<li><a href="/gostd/strconv/decimal.go.html">decimal.go</a></li>
<li><a href="/gostd/strconv/decimal_test.go.html">decimal_test.go</a></li>
<li><a href="/gostd/strconv/extfloat.go.html" class="current">extfloat.go</a></li>
<li><a href="/gostd/strconv/fp_test.go.html">fp_test.go</a></li>
<li><a href="/gostd/strconv/ftoa.go.html">ftoa.go</a></li>
<li><a href="/gostd/strconv/ftoa_test.go.html">ftoa_test.go</a></li>
<li><a href="/gostd/strconv/internal_test.go.html">internal_test.go</a></li>
<li><a href="/gostd/strconv/isprint.go.html">isprint.go</a></li>
<li><a href="/gostd/strconv/itoa.go.html">itoa.go</a></li>
<li><a href="/gostd/strconv/itoa_test.go.html">itoa_test.go</a></li>
<li><a href="/gostd/strconv/quote.go.html">quote.go</a></li>
<li><a href="/gostd/strconv/quote_example_test.go.html">quote_example_test.go</a></li>
<li><a href="/gostd/strconv/quote_test.go.html">quote_test.go</a></li>
<li><a href="/gostd/strconv/strconv_test.go.html">strconv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2365190">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2365245">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2365299">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2365350">package</span>&nbsp;<span class="ident" id="2365358">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2365367">//&nbsp;An&nbsp;extFloat&nbsp;represents&nbsp;an&nbsp;extended&nbsp;floating-point&nbsp;number,&nbsp;with&nbsp;more</span><br>
<span class="lineno"></span><span class="comment" id="2365438">//&nbsp;precision&nbsp;than&nbsp;a&nbsp;float64.&nbsp;It&nbsp;does&nbsp;not&nbsp;try&nbsp;to&nbsp;save&nbsp;bits:&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2365501">//&nbsp;number&nbsp;represented&nbsp;by&nbsp;the&nbsp;structure&nbsp;is&nbsp;mant*(2^exp),&nbsp;with&nbsp;a&nbsp;negative</span><br>
<span class="lineno">10</span><span class="comment" id="2365573">//&nbsp;sign&nbsp;if&nbsp;neg&nbsp;is&nbsp;true.</span><br>
<span class="lineno"></span><span class="keyword" id="2365597">type</span>&nbsp;<span class="ident" id="2365602">extFloat</span>&nbsp;<span class="keyword" id="2365611">struct</span>&nbsp;<span class="op" id="2365618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365621">mant</span>&nbsp;<span class="builtintype" id="2365626">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365634">exp</span>&nbsp;&nbsp;<span class="builtintype" id="2365639">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365644">neg</span>&nbsp;&nbsp;<span class="builtintype" id="2365649">bool</span><br>
<span class="lineno">15</span><span class="op" id="2365654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2365657">//&nbsp;Powers&nbsp;of&nbsp;ten&nbsp;taken&nbsp;from&nbsp;double-conversion&nbsp;library.</span><br>
<span class="lineno"></span><span class="comment" id="2365712">//&nbsp;http://code.google.com/p/double-conversion/</span><br>
<span class="lineno"></span><span class="keyword" id="2365759">const</span>&nbsp;<span class="op" id="2365765">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365768">firstPowerOfTen</span>&nbsp;<span class="op" id="2365784">=</span>&nbsp;<span class="op" id="2365786">-</span><span class="num" id="2365787">348</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2365792">stepPowerOfTen</span>&nbsp;&nbsp;<span class="op" id="2365808">=</span>&nbsp;<span class="num" id="2365810">8</span><br>
<span class="lineno"></span><span class="op" id="2365812">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2365815">var</span>&nbsp;<span class="ident" id="2365819">smallPowersOfTen</span>&nbsp;<span class="op" id="2365836">=</span>&nbsp;<span class="op" id="2365838">[</span><span class="op" id="2365839">...</span><span class="op" id="2365842">]</span><span class="ident" id="2365843"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2365851">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365854">{</span><span class="num" id="2365855">1</span>&nbsp;<span class="op" id="2365857">&lt;&lt;</span>&nbsp;<span class="num" id="2365860">63</span><span class="op" id="2365862">,</span>&nbsp;<span class="op" id="2365864">-</span><span class="num" id="2365865">63</span><span class="op" id="2365867">,</span>&nbsp;<span class="builtintype" id="2365869">false</span><span class="op" id="2365874">}</span><span class="op" id="2365875">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2365884">//&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365890">{</span><span class="num" id="2365891">0xa</span>&nbsp;<span class="op" id="2365895">&lt;&lt;</span>&nbsp;<span class="num" id="2365898">60</span><span class="op" id="2365900">,</span>&nbsp;<span class="op" id="2365902">-</span><span class="num" id="2365903">60</span><span class="op" id="2365905">,</span>&nbsp;<span class="builtintype" id="2365907">false</span><span class="op" id="2365912">}</span><span class="op" id="2365913">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2365920">//&nbsp;1e1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365928">{</span><span class="num" id="2365929">0x64</span>&nbsp;<span class="op" id="2365934">&lt;&lt;</span>&nbsp;<span class="num" id="2365937">57</span><span class="op" id="2365939">,</span>&nbsp;<span class="op" id="2365941">-</span><span class="num" id="2365942">57</span><span class="op" id="2365944">,</span>&nbsp;<span class="builtintype" id="2365946">false</span><span class="op" id="2365951">}</span><span class="op" id="2365952">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2365958">//&nbsp;1e2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2365966">{</span><span class="num" id="2365967">0x3e8</span>&nbsp;<span class="op" id="2365973">&lt;&lt;</span>&nbsp;<span class="num" id="2365976">54</span><span class="op" id="2365978">,</span>&nbsp;<span class="op" id="2365980">-</span><span class="num" id="2365981">54</span><span class="op" id="2365983">,</span>&nbsp;<span class="builtintype" id="2365985">false</span><span class="op" id="2365990">}</span><span class="op" id="2365991">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2365996">//&nbsp;1e3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366004">{</span><span class="num" id="2366005">0x2710</span>&nbsp;<span class="op" id="2366012">&lt;&lt;</span>&nbsp;<span class="num" id="2366015">50</span><span class="op" id="2366017">,</span>&nbsp;<span class="op" id="2366019">-</span><span class="num" id="2366020">50</span><span class="op" id="2366022">,</span>&nbsp;<span class="builtintype" id="2366024">false</span><span class="op" id="2366029">}</span><span class="op" id="2366030">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2366034">//&nbsp;1e4</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366042">{</span><span class="num" id="2366043">0x186a0</span>&nbsp;<span class="op" id="2366051">&lt;&lt;</span>&nbsp;<span class="num" id="2366054">47</span><span class="op" id="2366056">,</span>&nbsp;<span class="op" id="2366058">-</span><span class="num" id="2366059">47</span><span class="op" id="2366061">,</span>&nbsp;<span class="builtintype" id="2366063">false</span><span class="op" id="2366068">}</span><span class="op" id="2366069">,</span>&nbsp;&nbsp;<span class="comment" id="2366072">//&nbsp;1e5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366080">{</span><span class="num" id="2366081">0xf4240</span>&nbsp;<span class="op" id="2366089">&lt;&lt;</span>&nbsp;<span class="num" id="2366092">44</span><span class="op" id="2366094">,</span>&nbsp;<span class="op" id="2366096">-</span><span class="num" id="2366097">44</span><span class="op" id="2366099">,</span>&nbsp;<span class="builtintype" id="2366101">false</span><span class="op" id="2366106">}</span><span class="op" id="2366107">,</span>&nbsp;&nbsp;<span class="comment" id="2366110">//&nbsp;1e6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366118">{</span><span class="num" id="2366119">0x989680</span>&nbsp;<span class="op" id="2366128">&lt;&lt;</span>&nbsp;<span class="num" id="2366131">40</span><span class="op" id="2366133">,</span>&nbsp;<span class="op" id="2366135">-</span><span class="num" id="2366136">40</span><span class="op" id="2366138">,</span>&nbsp;<span class="builtintype" id="2366140">false</span><span class="op" id="2366145">}</span><span class="op" id="2366146">,</span>&nbsp;<span class="comment" id="2366148">//&nbsp;1e7</span><br>
<span class="lineno"></span><span class="op" id="2366155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="2366158">var</span>&nbsp;<span class="ident" id="2366162">powersOfTen</span>&nbsp;<span class="op" id="2366174">=</span>&nbsp;<span class="op" id="2366176">[</span><span class="op" id="2366177">...</span><span class="op" id="2366180">]</span><span class="ident" id="2366181"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2366189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366192">{</span><span class="num" id="2366193">0xfa8fd5a0081c0288</span><span class="op" id="2366211">,</span>&nbsp;<span class="op" id="2366213">-</span><span class="num" id="2366214">1220</span><span class="op" id="2366218">,</span>&nbsp;<span class="builtintype" id="2366220">false</span><span class="op" id="2366225">}</span><span class="op" id="2366226">,</span>&nbsp;<span class="comment" id="2366228">//&nbsp;10^-348</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366240">{</span><span class="num" id="2366241">0xbaaee17fa23ebf76</span><span class="op" id="2366259">,</span>&nbsp;<span class="op" id="2366261">-</span><span class="num" id="2366262">1193</span><span class="op" id="2366266">,</span>&nbsp;<span class="builtintype" id="2366268">false</span><span class="op" id="2366273">}</span><span class="op" id="2366274">,</span>&nbsp;<span class="comment" id="2366276">//&nbsp;10^-340</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366288">{</span><span class="num" id="2366289">0x8b16fb203055ac76</span><span class="op" id="2366307">,</span>&nbsp;<span class="op" id="2366309">-</span><span class="num" id="2366310">1166</span><span class="op" id="2366314">,</span>&nbsp;<span class="builtintype" id="2366316">false</span><span class="op" id="2366321">}</span><span class="op" id="2366322">,</span>&nbsp;<span class="comment" id="2366324">//&nbsp;10^-332</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366336">{</span><span class="num" id="2366337">0xcf42894a5dce35ea</span><span class="op" id="2366355">,</span>&nbsp;<span class="op" id="2366357">-</span><span class="num" id="2366358">1140</span><span class="op" id="2366362">,</span>&nbsp;<span class="builtintype" id="2366364">false</span><span class="op" id="2366369">}</span><span class="op" id="2366370">,</span>&nbsp;<span class="comment" id="2366372">//&nbsp;10^-324</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366384">{</span><span class="num" id="2366385">0x9a6bb0aa55653b2d</span><span class="op" id="2366403">,</span>&nbsp;<span class="op" id="2366405">-</span><span class="num" id="2366406">1113</span><span class="op" id="2366410">,</span>&nbsp;<span class="builtintype" id="2366412">false</span><span class="op" id="2366417">}</span><span class="op" id="2366418">,</span>&nbsp;<span class="comment" id="2366420">//&nbsp;10^-316</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366432">{</span><span class="num" id="2366433">0xe61acf033d1a45df</span><span class="op" id="2366451">,</span>&nbsp;<span class="op" id="2366453">-</span><span class="num" id="2366454">1087</span><span class="op" id="2366458">,</span>&nbsp;<span class="builtintype" id="2366460">false</span><span class="op" id="2366465">}</span><span class="op" id="2366466">,</span>&nbsp;<span class="comment" id="2366468">//&nbsp;10^-308</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366480">{</span><span class="num" id="2366481">0xab70fe17c79ac6ca</span><span class="op" id="2366499">,</span>&nbsp;<span class="op" id="2366501">-</span><span class="num" id="2366502">1060</span><span class="op" id="2366506">,</span>&nbsp;<span class="builtintype" id="2366508">false</span><span class="op" id="2366513">}</span><span class="op" id="2366514">,</span>&nbsp;<span class="comment" id="2366516">//&nbsp;10^-300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366528">{</span><span class="num" id="2366529">0xff77b1fcbebcdc4f</span><span class="op" id="2366547">,</span>&nbsp;<span class="op" id="2366549">-</span><span class="num" id="2366550">1034</span><span class="op" id="2366554">,</span>&nbsp;<span class="builtintype" id="2366556">false</span><span class="op" id="2366561">}</span><span class="op" id="2366562">,</span>&nbsp;<span class="comment" id="2366564">//&nbsp;10^-292</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366576">{</span><span class="num" id="2366577">0xbe5691ef416bd60c</span><span class="op" id="2366595">,</span>&nbsp;<span class="op" id="2366597">-</span><span class="num" id="2366598">1007</span><span class="op" id="2366602">,</span>&nbsp;<span class="builtintype" id="2366604">false</span><span class="op" id="2366609">}</span><span class="op" id="2366610">,</span>&nbsp;<span class="comment" id="2366612">//&nbsp;10^-284</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366624">{</span><span class="num" id="2366625">0x8dd01fad907ffc3c</span><span class="op" id="2366643">,</span>&nbsp;<span class="op" id="2366645">-</span><span class="num" id="2366646">980</span><span class="op" id="2366649">,</span>&nbsp;<span class="builtintype" id="2366651">false</span><span class="op" id="2366656">}</span><span class="op" id="2366657">,</span>&nbsp;&nbsp;<span class="comment" id="2366660">//&nbsp;10^-276</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366672">{</span><span class="num" id="2366673">0xd3515c2831559a83</span><span class="op" id="2366691">,</span>&nbsp;<span class="op" id="2366693">-</span><span class="num" id="2366694">954</span><span class="op" id="2366697">,</span>&nbsp;<span class="builtintype" id="2366699">false</span><span class="op" id="2366704">}</span><span class="op" id="2366705">,</span>&nbsp;&nbsp;<span class="comment" id="2366708">//&nbsp;10^-268</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366720">{</span><span class="num" id="2366721">0x9d71ac8fada6c9b5</span><span class="op" id="2366739">,</span>&nbsp;<span class="op" id="2366741">-</span><span class="num" id="2366742">927</span><span class="op" id="2366745">,</span>&nbsp;<span class="builtintype" id="2366747">false</span><span class="op" id="2366752">}</span><span class="op" id="2366753">,</span>&nbsp;&nbsp;<span class="comment" id="2366756">//&nbsp;10^-260</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366768">{</span><span class="num" id="2366769">0xea9c227723ee8bcb</span><span class="op" id="2366787">,</span>&nbsp;<span class="op" id="2366789">-</span><span class="num" id="2366790">901</span><span class="op" id="2366793">,</span>&nbsp;<span class="builtintype" id="2366795">false</span><span class="op" id="2366800">}</span><span class="op" id="2366801">,</span>&nbsp;&nbsp;<span class="comment" id="2366804">//&nbsp;10^-252</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366816">{</span><span class="num" id="2366817">0xaecc49914078536d</span><span class="op" id="2366835">,</span>&nbsp;<span class="op" id="2366837">-</span><span class="num" id="2366838">874</span><span class="op" id="2366841">,</span>&nbsp;<span class="builtintype" id="2366843">false</span><span class="op" id="2366848">}</span><span class="op" id="2366849">,</span>&nbsp;&nbsp;<span class="comment" id="2366852">//&nbsp;10^-244</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366864">{</span><span class="num" id="2366865">0x823c12795db6ce57</span><span class="op" id="2366883">,</span>&nbsp;<span class="op" id="2366885">-</span><span class="num" id="2366886">847</span><span class="op" id="2366889">,</span>&nbsp;<span class="builtintype" id="2366891">false</span><span class="op" id="2366896">}</span><span class="op" id="2366897">,</span>&nbsp;&nbsp;<span class="comment" id="2366900">//&nbsp;10^-236</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366912">{</span><span class="num" id="2366913">0xc21094364dfb5637</span><span class="op" id="2366931">,</span>&nbsp;<span class="op" id="2366933">-</span><span class="num" id="2366934">821</span><span class="op" id="2366937">,</span>&nbsp;<span class="builtintype" id="2366939">false</span><span class="op" id="2366944">}</span><span class="op" id="2366945">,</span>&nbsp;&nbsp;<span class="comment" id="2366948">//&nbsp;10^-228</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2366960">{</span><span class="num" id="2366961">0x9096ea6f3848984f</span><span class="op" id="2366979">,</span>&nbsp;<span class="op" id="2366981">-</span><span class="num" id="2366982">794</span><span class="op" id="2366985">,</span>&nbsp;<span class="builtintype" id="2366987">false</span><span class="op" id="2366992">}</span><span class="op" id="2366993">,</span>&nbsp;&nbsp;<span class="comment" id="2366996">//&nbsp;10^-220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367008">{</span><span class="num" id="2367009">0xd77485cb25823ac7</span><span class="op" id="2367027">,</span>&nbsp;<span class="op" id="2367029">-</span><span class="num" id="2367030">768</span><span class="op" id="2367033">,</span>&nbsp;<span class="builtintype" id="2367035">false</span><span class="op" id="2367040">}</span><span class="op" id="2367041">,</span>&nbsp;&nbsp;<span class="comment" id="2367044">//&nbsp;10^-212</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367056">{</span><span class="num" id="2367057">0xa086cfcd97bf97f4</span><span class="op" id="2367075">,</span>&nbsp;<span class="op" id="2367077">-</span><span class="num" id="2367078">741</span><span class="op" id="2367081">,</span>&nbsp;<span class="builtintype" id="2367083">false</span><span class="op" id="2367088">}</span><span class="op" id="2367089">,</span>&nbsp;&nbsp;<span class="comment" id="2367092">//&nbsp;10^-204</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367104">{</span><span class="num" id="2367105">0xef340a98172aace5</span><span class="op" id="2367123">,</span>&nbsp;<span class="op" id="2367125">-</span><span class="num" id="2367126">715</span><span class="op" id="2367129">,</span>&nbsp;<span class="builtintype" id="2367131">false</span><span class="op" id="2367136">}</span><span class="op" id="2367137">,</span>&nbsp;&nbsp;<span class="comment" id="2367140">//&nbsp;10^-196</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367152">{</span><span class="num" id="2367153">0xb23867fb2a35b28e</span><span class="op" id="2367171">,</span>&nbsp;<span class="op" id="2367173">-</span><span class="num" id="2367174">688</span><span class="op" id="2367177">,</span>&nbsp;<span class="builtintype" id="2367179">false</span><span class="op" id="2367184">}</span><span class="op" id="2367185">,</span>&nbsp;&nbsp;<span class="comment" id="2367188">//&nbsp;10^-188</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367200">{</span><span class="num" id="2367201">0x84c8d4dfd2c63f3b</span><span class="op" id="2367219">,</span>&nbsp;<span class="op" id="2367221">-</span><span class="num" id="2367222">661</span><span class="op" id="2367225">,</span>&nbsp;<span class="builtintype" id="2367227">false</span><span class="op" id="2367232">}</span><span class="op" id="2367233">,</span>&nbsp;&nbsp;<span class="comment" id="2367236">//&nbsp;10^-180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367248">{</span><span class="num" id="2367249">0xc5dd44271ad3cdba</span><span class="op" id="2367267">,</span>&nbsp;<span class="op" id="2367269">-</span><span class="num" id="2367270">635</span><span class="op" id="2367273">,</span>&nbsp;<span class="builtintype" id="2367275">false</span><span class="op" id="2367280">}</span><span class="op" id="2367281">,</span>&nbsp;&nbsp;<span class="comment" id="2367284">//&nbsp;10^-172</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367296">{</span><span class="num" id="2367297">0x936b9fcebb25c996</span><span class="op" id="2367315">,</span>&nbsp;<span class="op" id="2367317">-</span><span class="num" id="2367318">608</span><span class="op" id="2367321">,</span>&nbsp;<span class="builtintype" id="2367323">false</span><span class="op" id="2367328">}</span><span class="op" id="2367329">,</span>&nbsp;&nbsp;<span class="comment" id="2367332">//&nbsp;10^-164</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367344">{</span><span class="num" id="2367345">0xdbac6c247d62a584</span><span class="op" id="2367363">,</span>&nbsp;<span class="op" id="2367365">-</span><span class="num" id="2367366">582</span><span class="op" id="2367369">,</span>&nbsp;<span class="builtintype" id="2367371">false</span><span class="op" id="2367376">}</span><span class="op" id="2367377">,</span>&nbsp;&nbsp;<span class="comment" id="2367380">//&nbsp;10^-156</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367392">{</span><span class="num" id="2367393">0xa3ab66580d5fdaf6</span><span class="op" id="2367411">,</span>&nbsp;<span class="op" id="2367413">-</span><span class="num" id="2367414">555</span><span class="op" id="2367417">,</span>&nbsp;<span class="builtintype" id="2367419">false</span><span class="op" id="2367424">}</span><span class="op" id="2367425">,</span>&nbsp;&nbsp;<span class="comment" id="2367428">//&nbsp;10^-148</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367440">{</span><span class="num" id="2367441">0xf3e2f893dec3f126</span><span class="op" id="2367459">,</span>&nbsp;<span class="op" id="2367461">-</span><span class="num" id="2367462">529</span><span class="op" id="2367465">,</span>&nbsp;<span class="builtintype" id="2367467">false</span><span class="op" id="2367472">}</span><span class="op" id="2367473">,</span>&nbsp;&nbsp;<span class="comment" id="2367476">//&nbsp;10^-140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367488">{</span><span class="num" id="2367489">0xb5b5ada8aaff80b8</span><span class="op" id="2367507">,</span>&nbsp;<span class="op" id="2367509">-</span><span class="num" id="2367510">502</span><span class="op" id="2367513">,</span>&nbsp;<span class="builtintype" id="2367515">false</span><span class="op" id="2367520">}</span><span class="op" id="2367521">,</span>&nbsp;&nbsp;<span class="comment" id="2367524">//&nbsp;10^-132</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367536">{</span><span class="num" id="2367537">0x87625f056c7c4a8b</span><span class="op" id="2367555">,</span>&nbsp;<span class="op" id="2367557">-</span><span class="num" id="2367558">475</span><span class="op" id="2367561">,</span>&nbsp;<span class="builtintype" id="2367563">false</span><span class="op" id="2367568">}</span><span class="op" id="2367569">,</span>&nbsp;&nbsp;<span class="comment" id="2367572">//&nbsp;10^-124</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367584">{</span><span class="num" id="2367585">0xc9bcff6034c13053</span><span class="op" id="2367603">,</span>&nbsp;<span class="op" id="2367605">-</span><span class="num" id="2367606">449</span><span class="op" id="2367609">,</span>&nbsp;<span class="builtintype" id="2367611">false</span><span class="op" id="2367616">}</span><span class="op" id="2367617">,</span>&nbsp;&nbsp;<span class="comment" id="2367620">//&nbsp;10^-116</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367632">{</span><span class="num" id="2367633">0x964e858c91ba2655</span><span class="op" id="2367651">,</span>&nbsp;<span class="op" id="2367653">-</span><span class="num" id="2367654">422</span><span class="op" id="2367657">,</span>&nbsp;<span class="builtintype" id="2367659">false</span><span class="op" id="2367664">}</span><span class="op" id="2367665">,</span>&nbsp;&nbsp;<span class="comment" id="2367668">//&nbsp;10^-108</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367680">{</span><span class="num" id="2367681">0xdff9772470297ebd</span><span class="op" id="2367699">,</span>&nbsp;<span class="op" id="2367701">-</span><span class="num" id="2367702">396</span><span class="op" id="2367705">,</span>&nbsp;<span class="builtintype" id="2367707">false</span><span class="op" id="2367712">}</span><span class="op" id="2367713">,</span>&nbsp;&nbsp;<span class="comment" id="2367716">//&nbsp;10^-100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367728">{</span><span class="num" id="2367729">0xa6dfbd9fb8e5b88f</span><span class="op" id="2367747">,</span>&nbsp;<span class="op" id="2367749">-</span><span class="num" id="2367750">369</span><span class="op" id="2367753">,</span>&nbsp;<span class="builtintype" id="2367755">false</span><span class="op" id="2367760">}</span><span class="op" id="2367761">,</span>&nbsp;&nbsp;<span class="comment" id="2367764">//&nbsp;10^-92</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367775">{</span><span class="num" id="2367776">0xf8a95fcf88747d94</span><span class="op" id="2367794">,</span>&nbsp;<span class="op" id="2367796">-</span><span class="num" id="2367797">343</span><span class="op" id="2367800">,</span>&nbsp;<span class="builtintype" id="2367802">false</span><span class="op" id="2367807">}</span><span class="op" id="2367808">,</span>&nbsp;&nbsp;<span class="comment" id="2367811">//&nbsp;10^-84</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367822">{</span><span class="num" id="2367823">0xb94470938fa89bcf</span><span class="op" id="2367841">,</span>&nbsp;<span class="op" id="2367843">-</span><span class="num" id="2367844">316</span><span class="op" id="2367847">,</span>&nbsp;<span class="builtintype" id="2367849">false</span><span class="op" id="2367854">}</span><span class="op" id="2367855">,</span>&nbsp;&nbsp;<span class="comment" id="2367858">//&nbsp;10^-76</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367869">{</span><span class="num" id="2367870">0x8a08f0f8bf0f156b</span><span class="op" id="2367888">,</span>&nbsp;<span class="op" id="2367890">-</span><span class="num" id="2367891">289</span><span class="op" id="2367894">,</span>&nbsp;<span class="builtintype" id="2367896">false</span><span class="op" id="2367901">}</span><span class="op" id="2367902">,</span>&nbsp;&nbsp;<span class="comment" id="2367905">//&nbsp;10^-68</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367916">{</span><span class="num" id="2367917">0xcdb02555653131b6</span><span class="op" id="2367935">,</span>&nbsp;<span class="op" id="2367937">-</span><span class="num" id="2367938">263</span><span class="op" id="2367941">,</span>&nbsp;<span class="builtintype" id="2367943">false</span><span class="op" id="2367948">}</span><span class="op" id="2367949">,</span>&nbsp;&nbsp;<span class="comment" id="2367952">//&nbsp;10^-60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2367963">{</span><span class="num" id="2367964">0x993fe2c6d07b7fac</span><span class="op" id="2367982">,</span>&nbsp;<span class="op" id="2367984">-</span><span class="num" id="2367985">236</span><span class="op" id="2367988">,</span>&nbsp;<span class="builtintype" id="2367990">false</span><span class="op" id="2367995">}</span><span class="op" id="2367996">,</span>&nbsp;&nbsp;<span class="comment" id="2367999">//&nbsp;10^-52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368010">{</span><span class="num" id="2368011">0xe45c10c42a2b3b06</span><span class="op" id="2368029">,</span>&nbsp;<span class="op" id="2368031">-</span><span class="num" id="2368032">210</span><span class="op" id="2368035">,</span>&nbsp;<span class="builtintype" id="2368037">false</span><span class="op" id="2368042">}</span><span class="op" id="2368043">,</span>&nbsp;&nbsp;<span class="comment" id="2368046">//&nbsp;10^-44</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368057">{</span><span class="num" id="2368058">0xaa242499697392d3</span><span class="op" id="2368076">,</span>&nbsp;<span class="op" id="2368078">-</span><span class="num" id="2368079">183</span><span class="op" id="2368082">,</span>&nbsp;<span class="builtintype" id="2368084">false</span><span class="op" id="2368089">}</span><span class="op" id="2368090">,</span>&nbsp;&nbsp;<span class="comment" id="2368093">//&nbsp;10^-36</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368104">{</span><span class="num" id="2368105">0xfd87b5f28300ca0e</span><span class="op" id="2368123">,</span>&nbsp;<span class="op" id="2368125">-</span><span class="num" id="2368126">157</span><span class="op" id="2368129">,</span>&nbsp;<span class="builtintype" id="2368131">false</span><span class="op" id="2368136">}</span><span class="op" id="2368137">,</span>&nbsp;&nbsp;<span class="comment" id="2368140">//&nbsp;10^-28</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368151">{</span><span class="num" id="2368152">0xbce5086492111aeb</span><span class="op" id="2368170">,</span>&nbsp;<span class="op" id="2368172">-</span><span class="num" id="2368173">130</span><span class="op" id="2368176">,</span>&nbsp;<span class="builtintype" id="2368178">false</span><span class="op" id="2368183">}</span><span class="op" id="2368184">,</span>&nbsp;&nbsp;<span class="comment" id="2368187">//&nbsp;10^-20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368198">{</span><span class="num" id="2368199">0x8cbccc096f5088cc</span><span class="op" id="2368217">,</span>&nbsp;<span class="op" id="2368219">-</span><span class="num" id="2368220">103</span><span class="op" id="2368223">,</span>&nbsp;<span class="builtintype" id="2368225">false</span><span class="op" id="2368230">}</span><span class="op" id="2368231">,</span>&nbsp;&nbsp;<span class="comment" id="2368234">//&nbsp;10^-12</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368245">{</span><span class="num" id="2368246">0xd1b71758e219652c</span><span class="op" id="2368264">,</span>&nbsp;<span class="op" id="2368266">-</span><span class="num" id="2368267">77</span><span class="op" id="2368269">,</span>&nbsp;<span class="builtintype" id="2368271">false</span><span class="op" id="2368276">}</span><span class="op" id="2368277">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368281">//&nbsp;10^-4</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368291">{</span><span class="num" id="2368292">0x9c40000000000000</span><span class="op" id="2368310">,</span>&nbsp;<span class="op" id="2368312">-</span><span class="num" id="2368313">50</span><span class="op" id="2368315">,</span>&nbsp;<span class="builtintype" id="2368317">false</span><span class="op" id="2368322">}</span><span class="op" id="2368323">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368327">//&nbsp;10^4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368336">{</span><span class="num" id="2368337">0xe8d4a51000000000</span><span class="op" id="2368355">,</span>&nbsp;<span class="op" id="2368357">-</span><span class="num" id="2368358">24</span><span class="op" id="2368360">,</span>&nbsp;<span class="builtintype" id="2368362">false</span><span class="op" id="2368367">}</span><span class="op" id="2368368">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368372">//&nbsp;10^12</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368382">{</span><span class="num" id="2368383">0xad78ebc5ac620000</span><span class="op" id="2368401">,</span>&nbsp;<span class="num" id="2368403">3</span><span class="op" id="2368404">,</span>&nbsp;<span class="builtintype" id="2368406">false</span><span class="op" id="2368411">}</span><span class="op" id="2368412">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368418">//&nbsp;10^20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368428">{</span><span class="num" id="2368429">0x813f3978f8940984</span><span class="op" id="2368447">,</span>&nbsp;<span class="num" id="2368449">30</span><span class="op" id="2368451">,</span>&nbsp;<span class="builtintype" id="2368453">false</span><span class="op" id="2368458">}</span><span class="op" id="2368459">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368464">//&nbsp;10^28</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368474">{</span><span class="num" id="2368475">0xc097ce7bc90715b3</span><span class="op" id="2368493">,</span>&nbsp;<span class="num" id="2368495">56</span><span class="op" id="2368497">,</span>&nbsp;<span class="builtintype" id="2368499">false</span><span class="op" id="2368504">}</span><span class="op" id="2368505">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368510">//&nbsp;10^36</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368520">{</span><span class="num" id="2368521">0x8f7e32ce7bea5c70</span><span class="op" id="2368539">,</span>&nbsp;<span class="num" id="2368541">83</span><span class="op" id="2368543">,</span>&nbsp;<span class="builtintype" id="2368545">false</span><span class="op" id="2368550">}</span><span class="op" id="2368551">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2368556">//&nbsp;10^44</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368566">{</span><span class="num" id="2368567">0xd5d238a4abe98068</span><span class="op" id="2368585">,</span>&nbsp;<span class="num" id="2368587">109</span><span class="op" id="2368590">,</span>&nbsp;<span class="builtintype" id="2368592">false</span><span class="op" id="2368597">}</span><span class="op" id="2368598">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368602">//&nbsp;10^52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368612">{</span><span class="num" id="2368613">0x9f4f2726179a2245</span><span class="op" id="2368631">,</span>&nbsp;<span class="num" id="2368633">136</span><span class="op" id="2368636">,</span>&nbsp;<span class="builtintype" id="2368638">false</span><span class="op" id="2368643">}</span><span class="op" id="2368644">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368648">//&nbsp;10^60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368658">{</span><span class="num" id="2368659">0xed63a231d4c4fb27</span><span class="op" id="2368677">,</span>&nbsp;<span class="num" id="2368679">162</span><span class="op" id="2368682">,</span>&nbsp;<span class="builtintype" id="2368684">false</span><span class="op" id="2368689">}</span><span class="op" id="2368690">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368694">//&nbsp;10^68</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368704">{</span><span class="num" id="2368705">0xb0de65388cc8ada8</span><span class="op" id="2368723">,</span>&nbsp;<span class="num" id="2368725">189</span><span class="op" id="2368728">,</span>&nbsp;<span class="builtintype" id="2368730">false</span><span class="op" id="2368735">}</span><span class="op" id="2368736">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368740">//&nbsp;10^76</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368750">{</span><span class="num" id="2368751">0x83c7088e1aab65db</span><span class="op" id="2368769">,</span>&nbsp;<span class="num" id="2368771">216</span><span class="op" id="2368774">,</span>&nbsp;<span class="builtintype" id="2368776">false</span><span class="op" id="2368781">}</span><span class="op" id="2368782">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368786">//&nbsp;10^84</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368796">{</span><span class="num" id="2368797">0xc45d1df942711d9a</span><span class="op" id="2368815">,</span>&nbsp;<span class="num" id="2368817">242</span><span class="op" id="2368820">,</span>&nbsp;<span class="builtintype" id="2368822">false</span><span class="op" id="2368827">}</span><span class="op" id="2368828">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368832">//&nbsp;10^92</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368842">{</span><span class="num" id="2368843">0x924d692ca61be758</span><span class="op" id="2368861">,</span>&nbsp;<span class="num" id="2368863">269</span><span class="op" id="2368866">,</span>&nbsp;<span class="builtintype" id="2368868">false</span><span class="op" id="2368873">}</span><span class="op" id="2368874">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368878">//&nbsp;10^100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368889">{</span><span class="num" id="2368890">0xda01ee641a708dea</span><span class="op" id="2368908">,</span>&nbsp;<span class="num" id="2368910">295</span><span class="op" id="2368913">,</span>&nbsp;<span class="builtintype" id="2368915">false</span><span class="op" id="2368920">}</span><span class="op" id="2368921">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368925">//&nbsp;10^108</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368936">{</span><span class="num" id="2368937">0xa26da3999aef774a</span><span class="op" id="2368955">,</span>&nbsp;<span class="num" id="2368957">322</span><span class="op" id="2368960">,</span>&nbsp;<span class="builtintype" id="2368962">false</span><span class="op" id="2368967">}</span><span class="op" id="2368968">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2368972">//&nbsp;10^116</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2368983">{</span><span class="num" id="2368984">0xf209787bb47d6b85</span><span class="op" id="2369002">,</span>&nbsp;<span class="num" id="2369004">348</span><span class="op" id="2369007">,</span>&nbsp;<span class="builtintype" id="2369009">false</span><span class="op" id="2369014">}</span><span class="op" id="2369015">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369019">//&nbsp;10^124</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369030">{</span><span class="num" id="2369031">0xb454e4a179dd1877</span><span class="op" id="2369049">,</span>&nbsp;<span class="num" id="2369051">375</span><span class="op" id="2369054">,</span>&nbsp;<span class="builtintype" id="2369056">false</span><span class="op" id="2369061">}</span><span class="op" id="2369062">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369066">//&nbsp;10^132</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369077">{</span><span class="num" id="2369078">0x865b86925b9bc5c2</span><span class="op" id="2369096">,</span>&nbsp;<span class="num" id="2369098">402</span><span class="op" id="2369101">,</span>&nbsp;<span class="builtintype" id="2369103">false</span><span class="op" id="2369108">}</span><span class="op" id="2369109">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369113">//&nbsp;10^140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369124">{</span><span class="num" id="2369125">0xc83553c5c8965d3d</span><span class="op" id="2369143">,</span>&nbsp;<span class="num" id="2369145">428</span><span class="op" id="2369148">,</span>&nbsp;<span class="builtintype" id="2369150">false</span><span class="op" id="2369155">}</span><span class="op" id="2369156">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369160">//&nbsp;10^148</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369171">{</span><span class="num" id="2369172">0x952ab45cfa97a0b3</span><span class="op" id="2369190">,</span>&nbsp;<span class="num" id="2369192">455</span><span class="op" id="2369195">,</span>&nbsp;<span class="builtintype" id="2369197">false</span><span class="op" id="2369202">}</span><span class="op" id="2369203">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369207">//&nbsp;10^156</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369218">{</span><span class="num" id="2369219">0xde469fbd99a05fe3</span><span class="op" id="2369237">,</span>&nbsp;<span class="num" id="2369239">481</span><span class="op" id="2369242">,</span>&nbsp;<span class="builtintype" id="2369244">false</span><span class="op" id="2369249">}</span><span class="op" id="2369250">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369254">//&nbsp;10^164</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369265">{</span><span class="num" id="2369266">0xa59bc234db398c25</span><span class="op" id="2369284">,</span>&nbsp;<span class="num" id="2369286">508</span><span class="op" id="2369289">,</span>&nbsp;<span class="builtintype" id="2369291">false</span><span class="op" id="2369296">}</span><span class="op" id="2369297">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369301">//&nbsp;10^172</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369312">{</span><span class="num" id="2369313">0xf6c69a72a3989f5c</span><span class="op" id="2369331">,</span>&nbsp;<span class="num" id="2369333">534</span><span class="op" id="2369336">,</span>&nbsp;<span class="builtintype" id="2369338">false</span><span class="op" id="2369343">}</span><span class="op" id="2369344">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369348">//&nbsp;10^180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369359">{</span><span class="num" id="2369360">0xb7dcbf5354e9bece</span><span class="op" id="2369378">,</span>&nbsp;<span class="num" id="2369380">561</span><span class="op" id="2369383">,</span>&nbsp;<span class="builtintype" id="2369385">false</span><span class="op" id="2369390">}</span><span class="op" id="2369391">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369395">//&nbsp;10^188</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369406">{</span><span class="num" id="2369407">0x88fcf317f22241e2</span><span class="op" id="2369425">,</span>&nbsp;<span class="num" id="2369427">588</span><span class="op" id="2369430">,</span>&nbsp;<span class="builtintype" id="2369432">false</span><span class="op" id="2369437">}</span><span class="op" id="2369438">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369442">//&nbsp;10^196</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369453">{</span><span class="num" id="2369454">0xcc20ce9bd35c78a5</span><span class="op" id="2369472">,</span>&nbsp;<span class="num" id="2369474">614</span><span class="op" id="2369477">,</span>&nbsp;<span class="builtintype" id="2369479">false</span><span class="op" id="2369484">}</span><span class="op" id="2369485">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369489">//&nbsp;10^204</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369500">{</span><span class="num" id="2369501">0x98165af37b2153df</span><span class="op" id="2369519">,</span>&nbsp;<span class="num" id="2369521">641</span><span class="op" id="2369524">,</span>&nbsp;<span class="builtintype" id="2369526">false</span><span class="op" id="2369531">}</span><span class="op" id="2369532">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369536">//&nbsp;10^212</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369547">{</span><span class="num" id="2369548">0xe2a0b5dc971f303a</span><span class="op" id="2369566">,</span>&nbsp;<span class="num" id="2369568">667</span><span class="op" id="2369571">,</span>&nbsp;<span class="builtintype" id="2369573">false</span><span class="op" id="2369578">}</span><span class="op" id="2369579">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369583">//&nbsp;10^220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369594">{</span><span class="num" id="2369595">0xa8d9d1535ce3b396</span><span class="op" id="2369613">,</span>&nbsp;<span class="num" id="2369615">694</span><span class="op" id="2369618">,</span>&nbsp;<span class="builtintype" id="2369620">false</span><span class="op" id="2369625">}</span><span class="op" id="2369626">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369630">//&nbsp;10^228</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369641">{</span><span class="num" id="2369642">0xfb9b7cd9a4a7443c</span><span class="op" id="2369660">,</span>&nbsp;<span class="num" id="2369662">720</span><span class="op" id="2369665">,</span>&nbsp;<span class="builtintype" id="2369667">false</span><span class="op" id="2369672">}</span><span class="op" id="2369673">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369677">//&nbsp;10^236</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369688">{</span><span class="num" id="2369689">0xbb764c4ca7a44410</span><span class="op" id="2369707">,</span>&nbsp;<span class="num" id="2369709">747</span><span class="op" id="2369712">,</span>&nbsp;<span class="builtintype" id="2369714">false</span><span class="op" id="2369719">}</span><span class="op" id="2369720">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369724">//&nbsp;10^244</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369735">{</span><span class="num" id="2369736">0x8bab8eefb6409c1a</span><span class="op" id="2369754">,</span>&nbsp;<span class="num" id="2369756">774</span><span class="op" id="2369759">,</span>&nbsp;<span class="builtintype" id="2369761">false</span><span class="op" id="2369766">}</span><span class="op" id="2369767">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369771">//&nbsp;10^252</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369782">{</span><span class="num" id="2369783">0xd01fef10a657842c</span><span class="op" id="2369801">,</span>&nbsp;<span class="num" id="2369803">800</span><span class="op" id="2369806">,</span>&nbsp;<span class="builtintype" id="2369808">false</span><span class="op" id="2369813">}</span><span class="op" id="2369814">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369818">//&nbsp;10^260</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369829">{</span><span class="num" id="2369830">0x9b10a4e5e9913129</span><span class="op" id="2369848">,</span>&nbsp;<span class="num" id="2369850">827</span><span class="op" id="2369853">,</span>&nbsp;<span class="builtintype" id="2369855">false</span><span class="op" id="2369860">}</span><span class="op" id="2369861">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369865">//&nbsp;10^268</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369876">{</span><span class="num" id="2369877">0xe7109bfba19c0c9d</span><span class="op" id="2369895">,</span>&nbsp;<span class="num" id="2369897">853</span><span class="op" id="2369900">,</span>&nbsp;<span class="builtintype" id="2369902">false</span><span class="op" id="2369907">}</span><span class="op" id="2369908">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369912">//&nbsp;10^276</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369923">{</span><span class="num" id="2369924">0xac2820d9623bf429</span><span class="op" id="2369942">,</span>&nbsp;<span class="num" id="2369944">880</span><span class="op" id="2369947">,</span>&nbsp;<span class="builtintype" id="2369949">false</span><span class="op" id="2369954">}</span><span class="op" id="2369955">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2369959">//&nbsp;10^284</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2369970">{</span><span class="num" id="2369971">0x80444b5e7aa7cf85</span><span class="op" id="2369989">,</span>&nbsp;<span class="num" id="2369991">907</span><span class="op" id="2369994">,</span>&nbsp;<span class="builtintype" id="2369996">false</span><span class="op" id="2370001">}</span><span class="op" id="2370002">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2370006">//&nbsp;10^292</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370017">{</span><span class="num" id="2370018">0xbf21e44003acdd2d</span><span class="op" id="2370036">,</span>&nbsp;<span class="num" id="2370038">933</span><span class="op" id="2370041">,</span>&nbsp;<span class="builtintype" id="2370043">false</span><span class="op" id="2370048">}</span><span class="op" id="2370049">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2370053">//&nbsp;10^300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370064">{</span><span class="num" id="2370065">0x8e679c2f5e44ff8f</span><span class="op" id="2370083">,</span>&nbsp;<span class="num" id="2370085">960</span><span class="op" id="2370088">,</span>&nbsp;<span class="builtintype" id="2370090">false</span><span class="op" id="2370095">}</span><span class="op" id="2370096">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2370100">//&nbsp;10^308</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370111">{</span><span class="num" id="2370112">0xd433179d9c8cb841</span><span class="op" id="2370130">,</span>&nbsp;<span class="num" id="2370132">986</span><span class="op" id="2370135">,</span>&nbsp;<span class="builtintype" id="2370137">false</span><span class="op" id="2370142">}</span><span class="op" id="2370143">,</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2370147">//&nbsp;10^316</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370158">{</span><span class="num" id="2370159">0x9e19db92b4e31ba9</span><span class="op" id="2370177">,</span>&nbsp;<span class="num" id="2370179">1013</span><span class="op" id="2370183">,</span>&nbsp;<span class="builtintype" id="2370185">false</span><span class="op" id="2370190">}</span><span class="op" id="2370191">,</span>&nbsp;&nbsp;<span class="comment" id="2370194">//&nbsp;10^324</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370205">{</span><span class="num" id="2370206">0xeb96bf6ebadf77d9</span><span class="op" id="2370224">,</span>&nbsp;<span class="num" id="2370226">1039</span><span class="op" id="2370230">,</span>&nbsp;<span class="builtintype" id="2370232">false</span><span class="op" id="2370237">}</span><span class="op" id="2370238">,</span>&nbsp;&nbsp;<span class="comment" id="2370241">//&nbsp;10^332</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370252">{</span><span class="num" id="2370253">0xaf87023b9bf0ee6b</span><span class="op" id="2370271">,</span>&nbsp;<span class="num" id="2370273">1066</span><span class="op" id="2370277">,</span>&nbsp;<span class="builtintype" id="2370279">false</span><span class="op" id="2370284">}</span><span class="op" id="2370285">,</span>&nbsp;&nbsp;<span class="comment" id="2370288">//&nbsp;10^340</span><br>
<span class="lineno"></span><span class="op" id="2370298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="2370301">//&nbsp;floatBits&nbsp;returns&nbsp;the&nbsp;bits&nbsp;of&nbsp;the&nbsp;float64&nbsp;that&nbsp;best&nbsp;approximates</span><br>
<span class="lineno"></span><span class="comment" id="2370369">//&nbsp;the&nbsp;extFloat&nbsp;passed&nbsp;as&nbsp;receiver.&nbsp;Overflow&nbsp;is&nbsp;set&nbsp;to&nbsp;true&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2370432">//&nbsp;the&nbsp;resulting&nbsp;float64&nbsp;is&nbsp;±Inf.</span><br>
<span class="lineno"></span><span class="keyword" id="2370467">func</span>&nbsp;<span class="op" id="2370472">(</span><span class="ident" id="2370473">f</span>&nbsp;<span class="op" id="2370475">*</span><span class="ident" id="2370476"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2370484">)</span>&nbsp;<span class="ident" id="2370486">floatBits</span><span class="op" id="2370495">(</span><span class="ident" id="2370496">flt</span>&nbsp;<span class="op" id="2370500">*</span><span class="ident" id="2370501"><a href="/gostd/strconv/ftoa.go.html#2385845">floatInfo</a></span><span class="op" id="2370510">)</span>&nbsp;<span class="op" id="2370512">(</span><span class="ident" id="2370513">bits</span>&nbsp;<span class="builtintype" id="2370518">uint64</span><span class="op" id="2370524">,</span>&nbsp;<span class="ident" id="2370526">overflow</span>&nbsp;<span class="builtintype" id="2370535">bool</span><span class="op" id="2370539">)</span>&nbsp;<span class="op" id="2370541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370544"><a href="/gostd/strconv/extfloat.go.html#2370473">f</a></span><span class="op" id="2370545">.</span><span class="ident" id="2370546"><a href="/gostd/strconv/extfloat.go.html#2372404">Normalize</a></span><span class="op" id="2370555">(</span><span class="op" id="2370556">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370560">exp</span>&nbsp;<span class="op" id="2370564">:=</span>&nbsp;<span class="ident" id="2370567"><a href="/gostd/strconv/extfloat.go.html#2370473">f</a></span><span class="op" id="2370568">.</span><span class="ident" id="2370569"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2370573">+</span>&nbsp;<span class="num" id="2370575">63</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370580">//&nbsp;Exponent&nbsp;too&nbsp;small.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370604">if</span>&nbsp;<span class="ident" id="2370607"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span>&nbsp;<span class="op" id="2370611">&lt;</span>&nbsp;<span class="ident" id="2370613"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2370616">.</span><span class="ident" id="2370617"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><span class="op" id="2370621">+</span><span class="num" id="2370622">1</span>&nbsp;<span class="op" id="2370624">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370628">n</span>&nbsp;<span class="op" id="2370630">:=</span>&nbsp;<span class="ident" id="2370633"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2370636">.</span><span class="ident" id="2370637"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span>&nbsp;<span class="op" id="2370642">+</span>&nbsp;<span class="num" id="2370644">1</span>&nbsp;<span class="op" id="2370646">-</span>&nbsp;<span class="ident" id="2370648"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370654"><a href="/gostd/strconv/extfloat.go.html#2370473">f</a></span><span class="op" id="2370655">.</span><span class="ident" id="2370656"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2370661">&gt;&gt;=</span>&nbsp;<span class="builtintype" id="2370665">uint</span><span class="op" id="2370669">(</span><span class="ident" id="2370670"><a href="/gostd/strconv/extfloat.go.html#2370628">n</a></span><span class="op" id="2370671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370675"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span>&nbsp;<span class="op" id="2370679">+=</span>&nbsp;<span class="ident" id="2370682"><a href="/gostd/strconv/extfloat.go.html#2370628">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370689">//&nbsp;Extract&nbsp;1+flt.mantbits&nbsp;bits&nbsp;from&nbsp;the&nbsp;64-bit&nbsp;mantissa.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370747">mant</span>&nbsp;<span class="op" id="2370752">:=</span>&nbsp;<span class="ident" id="2370755"><a href="/gostd/strconv/extfloat.go.html#2370473">f</a></span><span class="op" id="2370756">.</span><span class="ident" id="2370757"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2370762">&gt;&gt;</span>&nbsp;<span class="op" id="2370765">(</span><span class="num" id="2370766">63</span>&nbsp;<span class="op" id="2370769">-</span>&nbsp;<span class="ident" id="2370771"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2370774">.</span><span class="ident" id="2370775"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><span class="op" id="2370783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370786">if</span>&nbsp;<span class="ident" id="2370789"><a href="/gostd/strconv/extfloat.go.html#2370473">f</a></span><span class="op" id="2370790">.</span><span class="ident" id="2370791"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2370795">&amp;</span><span class="op" id="2370796">(</span><span class="num" id="2370797">1</span><span class="op" id="2370798">&lt;&lt;</span><span class="op" id="2370800">(</span><span class="num" id="2370801">62</span><span class="op" id="2370803">-</span><span class="ident" id="2370804"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2370807">.</span><span class="ident" id="2370808"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><span class="op" id="2370816">)</span><span class="op" id="2370817">)</span>&nbsp;<span class="op" id="2370819">!=</span>&nbsp;<span class="num" id="2370822">0</span>&nbsp;<span class="op" id="2370824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370828">//&nbsp;Round&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370843"><a href="/gostd/strconv/extfloat.go.html#2370747">mant</a></span>&nbsp;<span class="op" id="2370848">+=</span>&nbsp;<span class="num" id="2370851">1</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370858">//&nbsp;Rounding&nbsp;might&nbsp;have&nbsp;added&nbsp;a&nbsp;bit;&nbsp;shift&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370907">if</span>&nbsp;<span class="ident" id="2370910"><a href="/gostd/strconv/extfloat.go.html#2370747">mant</a></span>&nbsp;<span class="op" id="2370915">==</span>&nbsp;<span class="num" id="2370918">2</span><span class="op" id="2370919">&lt;&lt;</span><span class="ident" id="2370921"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2370924">.</span><span class="ident" id="2370925"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2370934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370938"><a href="/gostd/strconv/extfloat.go.html#2370747">mant</a></span>&nbsp;<span class="op" id="2370943">&gt;&gt;=</span>&nbsp;<span class="num" id="2370947">1</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2370951"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span><span class="op" id="2370954">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2370958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2370962">//&nbsp;Infinities.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2370978">if</span>&nbsp;<span class="ident" id="2370981"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span><span class="op" id="2370984">-</span><span class="ident" id="2370985"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2370988">.</span><span class="ident" id="2370989"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span>&nbsp;<span class="op" id="2370994">&gt;=</span>&nbsp;<span class="num" id="2370997">1</span><span class="op" id="2370998">&lt;&lt;</span><span class="ident" id="2371000"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371003">.</span><span class="ident" id="2371004"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span><span class="op" id="2371011">-</span><span class="num" id="2371012">1</span>&nbsp;<span class="op" id="2371014">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2371018">//&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371029"><a href="/gostd/strconv/extfloat.go.html#2370747">mant</a></span>&nbsp;<span class="op" id="2371034">=</span>&nbsp;<span class="num" id="2371036">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371040"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span>&nbsp;<span class="op" id="2371044">=</span>&nbsp;<span class="num" id="2371046">1</span><span class="op" id="2371047">&lt;&lt;</span><span class="ident" id="2371049"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371052">.</span><span class="ident" id="2371053"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span>&nbsp;<span class="op" id="2371061">-</span>&nbsp;<span class="num" id="2371063">1</span>&nbsp;<span class="op" id="2371065">+</span>&nbsp;<span class="ident" id="2371067"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371070">.</span><span class="ident" id="2371071"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371078"><a href="/gostd/strconv/extfloat.go.html#2370526">overflow</a></span>&nbsp;<span class="op" id="2371087">=</span>&nbsp;<span class="builtintype" id="2371089">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2371095">}</span>&nbsp;<span class="keyword" id="2371097">else</span>&nbsp;<span class="keyword" id="2371102">if</span>&nbsp;<span class="ident" id="2371105"><a href="/gostd/strconv/extfloat.go.html#2370747">mant</a></span><span class="op" id="2371109">&amp;</span><span class="op" id="2371110">(</span><span class="num" id="2371111">1</span><span class="op" id="2371112">&lt;&lt;</span><span class="ident" id="2371114"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371117">.</span><span class="ident" id="2371118"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><span class="op" id="2371126">)</span>&nbsp;<span class="op" id="2371128">==</span>&nbsp;<span class="num" id="2371131">0</span>&nbsp;<span class="op" id="2371133">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2371137">//&nbsp;Denormalized?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371156"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span>&nbsp;<span class="op" id="2371160">=</span>&nbsp;<span class="ident" id="2371162"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371165">.</span><span class="ident" id="2371166"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2371172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2371175">//&nbsp;Assemble&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371194"><a href="/gostd/strconv/extfloat.go.html#2370513">bits</a></span>&nbsp;<span class="op" id="2371199">=</span>&nbsp;<span class="ident" id="2371201"><a href="/gostd/strconv/extfloat.go.html#2370747">mant</a></span>&nbsp;<span class="op" id="2371206">&amp;</span>&nbsp;<span class="op" id="2371208">(</span><span class="builtintype" id="2371209">uint64</span><span class="op" id="2371215">(</span><span class="num" id="2371216">1</span><span class="op" id="2371217">)</span><span class="op" id="2371218">&lt;&lt;</span><span class="ident" id="2371220"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371223">.</span><span class="ident" id="2371224"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2371233">-</span>&nbsp;<span class="num" id="2371235">1</span><span class="op" id="2371236">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371239"><a href="/gostd/strconv/extfloat.go.html#2370513">bits</a></span>&nbsp;<span class="op" id="2371244">|=</span>&nbsp;<span class="builtintype" id="2371247">uint64</span><span class="op" id="2371253">(</span><span class="op" id="2371254">(</span><span class="ident" id="2371255"><a href="/gostd/strconv/extfloat.go.html#2370560">exp</a></span><span class="op" id="2371258">-</span><span class="ident" id="2371259"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371262">.</span><span class="ident" id="2371263"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><span class="op" id="2371267">)</span><span class="op" id="2371268">&amp;</span><span class="op" id="2371269">(</span><span class="num" id="2371270">1</span><span class="op" id="2371271">&lt;&lt;</span><span class="ident" id="2371273"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371276">.</span><span class="ident" id="2371277"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span><span class="op" id="2371284">-</span><span class="num" id="2371285">1</span><span class="op" id="2371286">)</span><span class="op" id="2371287">)</span>&nbsp;<span class="op" id="2371289">&lt;&lt;</span>&nbsp;<span class="ident" id="2371292"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371295">.</span><span class="ident" id="2371296"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371306">if</span>&nbsp;<span class="ident" id="2371309"><a href="/gostd/strconv/extfloat.go.html#2370473">f</a></span><span class="op" id="2371310">.</span><span class="ident" id="2371311"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span>&nbsp;<span class="op" id="2371315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371319"><a href="/gostd/strconv/extfloat.go.html#2370513">bits</a></span>&nbsp;<span class="op" id="2371324">|=</span>&nbsp;<span class="num" id="2371327">1</span>&nbsp;<span class="op" id="2371329">&lt;&lt;</span>&nbsp;<span class="op" id="2371332">(</span><span class="ident" id="2371333"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371336">.</span><span class="ident" id="2371337"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2371346">+</span>&nbsp;<span class="ident" id="2371348"><a href="/gostd/strconv/extfloat.go.html#2370496">flt</a></span><span class="op" id="2371351">.</span><span class="ident" id="2371352"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span><span class="op" id="2371359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2371362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371365">return</span><br>
<span class="lineno">170</span><span class="op" id="2371372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2371375">//&nbsp;AssignComputeBounds&nbsp;sets&nbsp;f&nbsp;to&nbsp;the&nbsp;floating&nbsp;point&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2371433">//&nbsp;defined&nbsp;by&nbsp;mant,&nbsp;exp&nbsp;and&nbsp;precision&nbsp;given&nbsp;by&nbsp;flt.&nbsp;It&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="2371496">//&nbsp;lower,&nbsp;upper&nbsp;such&nbsp;that&nbsp;any&nbsp;number&nbsp;in&nbsp;the&nbsp;closed&nbsp;interval</span><br>
<span class="lineno">175</span><span class="comment" id="2371556">//&nbsp;[lower,&nbsp;upper]&nbsp;is&nbsp;converted&nbsp;back&nbsp;to&nbsp;the&nbsp;same&nbsp;floating&nbsp;point&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="2371627">func</span>&nbsp;<span class="op" id="2371632">(</span><span class="ident" id="2371633">f</span>&nbsp;<span class="op" id="2371635">*</span><span class="ident" id="2371636"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2371644">)</span>&nbsp;<span class="ident" id="2371646">AssignComputeBounds</span><span class="op" id="2371665">(</span><span class="ident" id="2371666">mant</span>&nbsp;<span class="builtintype" id="2371671">uint64</span><span class="op" id="2371677">,</span>&nbsp;<span class="ident" id="2371679">exp</span>&nbsp;<span class="builtintype" id="2371683">int</span><span class="op" id="2371686">,</span>&nbsp;<span class="ident" id="2371688">neg</span>&nbsp;<span class="builtintype" id="2371692">bool</span><span class="op" id="2371696">,</span>&nbsp;<span class="ident" id="2371698">flt</span>&nbsp;<span class="op" id="2371702">*</span><span class="ident" id="2371703"><a href="/gostd/strconv/ftoa.go.html#2385845">floatInfo</a></span><span class="op" id="2371712">)</span>&nbsp;<span class="op" id="2371714">(</span><span class="ident" id="2371715">lower</span><span class="op" id="2371720">,</span>&nbsp;<span class="ident" id="2371722">upper</span>&nbsp;<span class="ident" id="2371728"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2371736">)</span>&nbsp;<span class="op" id="2371738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371741"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371742">.</span><span class="ident" id="2371743"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2371748">=</span>&nbsp;<span class="ident" id="2371750"><a href="/gostd/strconv/extfloat.go.html#2371666">mant</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371756"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371757">.</span><span class="ident" id="2371758"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2371762">=</span>&nbsp;<span class="ident" id="2371764"><a href="/gostd/strconv/extfloat.go.html#2371679">exp</a></span>&nbsp;<span class="op" id="2371768">-</span>&nbsp;<span class="builtintype" id="2371770">int</span><span class="op" id="2371773">(</span><span class="ident" id="2371774"><a href="/gostd/strconv/extfloat.go.html#2371698">flt</a></span><span class="op" id="2371777">.</span><span class="ident" id="2371778"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><span class="op" id="2371786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371789"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371790">.</span><span class="ident" id="2371791"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span>&nbsp;<span class="op" id="2371795">=</span>&nbsp;<span class="ident" id="2371797"><a href="/gostd/strconv/extfloat.go.html#2371688">neg</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371802">if</span>&nbsp;<span class="ident" id="2371805"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371806">.</span><span class="ident" id="2371807"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2371811">&lt;=</span>&nbsp;<span class="num" id="2371814">0</span>&nbsp;<span class="op" id="2371816">&amp;&amp;</span>&nbsp;<span class="ident" id="2371819"><a href="/gostd/strconv/extfloat.go.html#2371666">mant</a></span>&nbsp;<span class="op" id="2371824">==</span>&nbsp;<span class="op" id="2371827">(</span><span class="ident" id="2371828"><a href="/gostd/strconv/extfloat.go.html#2371666">mant</a></span><span class="op" id="2371832">&gt;&gt;</span><span class="builtintype" id="2371834">uint</span><span class="op" id="2371838">(</span><span class="op" id="2371839">-</span><span class="ident" id="2371840"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371841">.</span><span class="ident" id="2371842"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2371845">)</span><span class="op" id="2371846">)</span><span class="op" id="2371847">&lt;&lt;</span><span class="builtintype" id="2371849">uint</span><span class="op" id="2371853">(</span><span class="op" id="2371854">-</span><span class="ident" id="2371855"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371856">.</span><span class="ident" id="2371857"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2371860">)</span>&nbsp;<span class="op" id="2371862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2371866">//&nbsp;An&nbsp;exact&nbsp;integer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371888"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371889">.</span><span class="ident" id="2371890"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2371895">&gt;&gt;=</span>&nbsp;<span class="builtintype" id="2371899">uint</span><span class="op" id="2371903">(</span><span class="op" id="2371904">-</span><span class="ident" id="2371905"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371906">.</span><span class="ident" id="2371907"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2371910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371914"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371915">.</span><span class="ident" id="2371916"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2371920">=</span>&nbsp;<span class="num" id="2371922">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2371926">return</span>&nbsp;<span class="op" id="2371933">*</span><span class="ident" id="2371934"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2371935">,</span>&nbsp;<span class="op" id="2371937">*</span><span class="ident" id="2371938"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2371941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371944">expBiased</span>&nbsp;<span class="op" id="2371954">:=</span>&nbsp;<span class="ident" id="2371957"><a href="/gostd/strconv/extfloat.go.html#2371679">exp</a></span>&nbsp;<span class="op" id="2371961">-</span>&nbsp;<span class="ident" id="2371963"><a href="/gostd/strconv/extfloat.go.html#2371698">flt</a></span><span class="op" id="2371966">.</span><span class="ident" id="2371967"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2371974"><a href="/gostd/strconv/extfloat.go.html#2371722">upper</a></span>&nbsp;<span class="op" id="2371980">=</span>&nbsp;<span class="ident" id="2371982"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2371990">{</span><span class="ident" id="2371991"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2371995">:</span>&nbsp;<span class="num" id="2371997">2</span><span class="op" id="2371998">*</span><span class="ident" id="2371999"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372000">.</span><span class="ident" id="2372001"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2372006">+</span>&nbsp;<span class="num" id="2372008">1</span><span class="op" id="2372009">,</span>&nbsp;<span class="ident" id="2372011"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2372014">:</span>&nbsp;<span class="ident" id="2372016"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372017">.</span><span class="ident" id="2372018"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2372022">-</span>&nbsp;<span class="num" id="2372024">1</span><span class="op" id="2372025">,</span>&nbsp;<span class="ident" id="2372027"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><span class="op" id="2372030">:</span>&nbsp;<span class="ident" id="2372032"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372033">.</span><span class="ident" id="2372034"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><span class="op" id="2372037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372040">if</span>&nbsp;<span class="ident" id="2372043"><a href="/gostd/strconv/extfloat.go.html#2371666">mant</a></span>&nbsp;<span class="op" id="2372048">!=</span>&nbsp;<span class="num" id="2372051">1</span><span class="op" id="2372052">&lt;&lt;</span><span class="ident" id="2372054"><a href="/gostd/strconv/extfloat.go.html#2371698">flt</a></span><span class="op" id="2372057">.</span><span class="ident" id="2372058"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2372067">||</span>&nbsp;<span class="ident" id="2372070"><a href="/gostd/strconv/extfloat.go.html#2371944">expBiased</a></span>&nbsp;<span class="op" id="2372080">==</span>&nbsp;<span class="num" id="2372083">1</span>&nbsp;<span class="op" id="2372085">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372089"><a href="/gostd/strconv/extfloat.go.html#2371715">lower</a></span>&nbsp;<span class="op" id="2372095">=</span>&nbsp;<span class="ident" id="2372097"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2372105">{</span><span class="ident" id="2372106"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2372110">:</span>&nbsp;<span class="num" id="2372112">2</span><span class="op" id="2372113">*</span><span class="ident" id="2372114"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372115">.</span><span class="ident" id="2372116"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2372121">-</span>&nbsp;<span class="num" id="2372123">1</span><span class="op" id="2372124">,</span>&nbsp;<span class="ident" id="2372126"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2372129">:</span>&nbsp;<span class="ident" id="2372131"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372132">.</span><span class="ident" id="2372133"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2372137">-</span>&nbsp;<span class="num" id="2372139">1</span><span class="op" id="2372140">,</span>&nbsp;<span class="ident" id="2372142"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><span class="op" id="2372145">:</span>&nbsp;<span class="ident" id="2372147"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372148">.</span><span class="ident" id="2372149"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><span class="op" id="2372152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372155">}</span>&nbsp;<span class="keyword" id="2372157">else</span>&nbsp;<span class="op" id="2372162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372166"><a href="/gostd/strconv/extfloat.go.html#2371715">lower</a></span>&nbsp;<span class="op" id="2372172">=</span>&nbsp;<span class="ident" id="2372174"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2372182">{</span><span class="ident" id="2372183"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2372187">:</span>&nbsp;<span class="num" id="2372189">4</span><span class="op" id="2372190">*</span><span class="ident" id="2372191"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372192">.</span><span class="ident" id="2372193"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2372198">-</span>&nbsp;<span class="num" id="2372200">1</span><span class="op" id="2372201">,</span>&nbsp;<span class="ident" id="2372203"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2372206">:</span>&nbsp;<span class="ident" id="2372208"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372209">.</span><span class="ident" id="2372210"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2372214">-</span>&nbsp;<span class="num" id="2372216">2</span><span class="op" id="2372217">,</span>&nbsp;<span class="ident" id="2372219"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><span class="op" id="2372222">:</span>&nbsp;<span class="ident" id="2372224"><a href="/gostd/strconv/extfloat.go.html#2371633">f</a></span><span class="op" id="2372225">.</span><span class="ident" id="2372226"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><span class="op" id="2372229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372235">return</span><br>
<span class="lineno">195</span><span class="op" id="2372242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2372245">//&nbsp;Normalize&nbsp;normalizes&nbsp;f&nbsp;so&nbsp;that&nbsp;the&nbsp;highest&nbsp;bit&nbsp;of&nbsp;the&nbsp;mantissa&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2372314">//&nbsp;set,&nbsp;and&nbsp;returns&nbsp;the&nbsp;number&nbsp;by&nbsp;which&nbsp;the&nbsp;mantissa&nbsp;was&nbsp;left-shifted.</span><br>
<span class="lineno"></span><span class="keyword" id="2372385">func</span>&nbsp;<span class="op" id="2372390">(</span><span class="ident" id="2372391">f</span>&nbsp;<span class="op" id="2372393">*</span><span class="ident" id="2372394"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2372402">)</span>&nbsp;<span class="ident" id="2372404">Normalize</span><span class="op" id="2372413">(</span><span class="op" id="2372414">)</span>&nbsp;<span class="op" id="2372416">(</span><span class="ident" id="2372417">shift</span>&nbsp;<span class="builtintype" id="2372423">uint</span><span class="op" id="2372427">)</span>&nbsp;<span class="op" id="2372429">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372432">mant</span><span class="op" id="2372436">,</span>&nbsp;<span class="ident" id="2372438">exp</span>&nbsp;<span class="op" id="2372442">:=</span>&nbsp;<span class="ident" id="2372445"><a href="/gostd/strconv/extfloat.go.html#2372391">f</a></span><span class="op" id="2372446">.</span><span class="ident" id="2372447"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2372451">,</span>&nbsp;<span class="ident" id="2372453"><a href="/gostd/strconv/extfloat.go.html#2372391">f</a></span><span class="op" id="2372454">.</span><span class="ident" id="2372455"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372460">if</span>&nbsp;<span class="ident" id="2372463"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span>&nbsp;<span class="op" id="2372468">==</span>&nbsp;<span class="num" id="2372471">0</span>&nbsp;<span class="op" id="2372473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372477">return</span>&nbsp;<span class="num" id="2372484">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372490">if</span>&nbsp;<span class="ident" id="2372493"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span><span class="op" id="2372497">&gt;&gt;</span><span class="op" id="2372499">(</span><span class="num" id="2372500">64</span><span class="op" id="2372502">-</span><span class="num" id="2372503">32</span><span class="op" id="2372505">)</span>&nbsp;<span class="op" id="2372507">==</span>&nbsp;<span class="num" id="2372510">0</span>&nbsp;<span class="op" id="2372512">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372516"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span>&nbsp;<span class="op" id="2372521">&lt;&lt;=</span>&nbsp;<span class="num" id="2372525">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372530"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span>&nbsp;<span class="op" id="2372534">-=</span>&nbsp;<span class="num" id="2372537">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372544">if</span>&nbsp;<span class="ident" id="2372547"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span><span class="op" id="2372551">&gt;&gt;</span><span class="op" id="2372553">(</span><span class="num" id="2372554">64</span><span class="op" id="2372556">-</span><span class="num" id="2372557">16</span><span class="op" id="2372559">)</span>&nbsp;<span class="op" id="2372561">==</span>&nbsp;<span class="num" id="2372564">0</span>&nbsp;<span class="op" id="2372566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372570"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span>&nbsp;<span class="op" id="2372575">&lt;&lt;=</span>&nbsp;<span class="num" id="2372579">16</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372584"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span>&nbsp;<span class="op" id="2372588">-=</span>&nbsp;<span class="num" id="2372591">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372598">if</span>&nbsp;<span class="ident" id="2372601"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span><span class="op" id="2372605">&gt;&gt;</span><span class="op" id="2372607">(</span><span class="num" id="2372608">64</span><span class="op" id="2372610">-</span><span class="num" id="2372611">8</span><span class="op" id="2372612">)</span>&nbsp;<span class="op" id="2372614">==</span>&nbsp;<span class="num" id="2372617">0</span>&nbsp;<span class="op" id="2372619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372623"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span>&nbsp;<span class="op" id="2372628">&lt;&lt;=</span>&nbsp;<span class="num" id="2372632">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372636"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span>&nbsp;<span class="op" id="2372640">-=</span>&nbsp;<span class="num" id="2372643">8</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372649">if</span>&nbsp;<span class="ident" id="2372652"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span><span class="op" id="2372656">&gt;&gt;</span><span class="op" id="2372658">(</span><span class="num" id="2372659">64</span><span class="op" id="2372661">-</span><span class="num" id="2372662">4</span><span class="op" id="2372663">)</span>&nbsp;<span class="op" id="2372665">==</span>&nbsp;<span class="num" id="2372668">0</span>&nbsp;<span class="op" id="2372670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372674"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span>&nbsp;<span class="op" id="2372679">&lt;&lt;=</span>&nbsp;<span class="num" id="2372683">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372687"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span>&nbsp;<span class="op" id="2372691">-=</span>&nbsp;<span class="num" id="2372694">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372697">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372700">if</span>&nbsp;<span class="ident" id="2372703"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span><span class="op" id="2372707">&gt;&gt;</span><span class="op" id="2372709">(</span><span class="num" id="2372710">64</span><span class="op" id="2372712">-</span><span class="num" id="2372713">2</span><span class="op" id="2372714">)</span>&nbsp;<span class="op" id="2372716">==</span>&nbsp;<span class="num" id="2372719">0</span>&nbsp;<span class="op" id="2372721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372725"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span>&nbsp;<span class="op" id="2372730">&lt;&lt;=</span>&nbsp;<span class="num" id="2372734">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372738"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span>&nbsp;<span class="op" id="2372742">-=</span>&nbsp;<span class="num" id="2372745">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372751">if</span>&nbsp;<span class="ident" id="2372754"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span><span class="op" id="2372758">&gt;&gt;</span><span class="op" id="2372760">(</span><span class="num" id="2372761">64</span><span class="op" id="2372763">-</span><span class="num" id="2372764">1</span><span class="op" id="2372765">)</span>&nbsp;<span class="op" id="2372767">==</span>&nbsp;<span class="num" id="2372770">0</span>&nbsp;<span class="op" id="2372772">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372776"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span>&nbsp;<span class="op" id="2372781">&lt;&lt;=</span>&nbsp;<span class="num" id="2372785">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372789"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span>&nbsp;<span class="op" id="2372793">-=</span>&nbsp;<span class="num" id="2372796">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2372799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372802"><a href="/gostd/strconv/extfloat.go.html#2372417">shift</a></span>&nbsp;<span class="op" id="2372808">=</span>&nbsp;<span class="builtintype" id="2372810">uint</span><span class="op" id="2372814">(</span><span class="ident" id="2372815"><a href="/gostd/strconv/extfloat.go.html#2372391">f</a></span><span class="op" id="2372816">.</span><span class="ident" id="2372817"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2372821">-</span>&nbsp;<span class="ident" id="2372823"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span><span class="op" id="2372826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2372829"><a href="/gostd/strconv/extfloat.go.html#2372391">f</a></span><span class="op" id="2372830">.</span><span class="ident" id="2372831"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2372835">,</span>&nbsp;<span class="ident" id="2372837"><a href="/gostd/strconv/extfloat.go.html#2372391">f</a></span><span class="op" id="2372838">.</span><span class="ident" id="2372839"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2372843">=</span>&nbsp;<span class="ident" id="2372845"><a href="/gostd/strconv/extfloat.go.html#2372432">mant</a></span><span class="op" id="2372849">,</span>&nbsp;<span class="ident" id="2372851"><a href="/gostd/strconv/extfloat.go.html#2372438">exp</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2372856">return</span><br>
<span class="lineno"></span><span class="op" id="2372863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2372866">//&nbsp;Multiply&nbsp;sets&nbsp;f&nbsp;to&nbsp;the&nbsp;product&nbsp;f*g:&nbsp;the&nbsp;result&nbsp;is&nbsp;correctly&nbsp;rounded,</span><br>
<span class="lineno"></span><span class="comment" id="2372938">//&nbsp;but&nbsp;not&nbsp;normalized.</span><br>
<span class="lineno">235</span><span class="keyword" id="2372961">func</span>&nbsp;<span class="op" id="2372966">(</span><span class="ident" id="2372967">f</span>&nbsp;<span class="op" id="2372969">*</span><span class="ident" id="2372970"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2372978">)</span>&nbsp;<span class="ident" id="2372980">Multiply</span><span class="op" id="2372988">(</span><span class="ident" id="2372989">g</span>&nbsp;<span class="ident" id="2372991"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2372999">)</span>&nbsp;<span class="op" id="2373001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373004">fhi</span><span class="op" id="2373007">,</span>&nbsp;<span class="ident" id="2373009">flo</span>&nbsp;<span class="op" id="2373013">:=</span>&nbsp;<span class="ident" id="2373016"><a href="/gostd/strconv/extfloat.go.html#2372967">f</a></span><span class="op" id="2373017">.</span><span class="ident" id="2373018"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2373022">&gt;&gt;</span><span class="num" id="2373024">32</span><span class="op" id="2373026">,</span>&nbsp;<span class="builtintype" id="2373028">uint64</span><span class="op" id="2373034">(</span><span class="builtintype" id="2373035">uint32</span><span class="op" id="2373041">(</span><span class="ident" id="2373042"><a href="/gostd/strconv/extfloat.go.html#2372967">f</a></span><span class="op" id="2373043">.</span><span class="ident" id="2373044"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2373048">)</span><span class="op" id="2373049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373052">ghi</span><span class="op" id="2373055">,</span>&nbsp;<span class="ident" id="2373057">glo</span>&nbsp;<span class="op" id="2373061">:=</span>&nbsp;<span class="ident" id="2373064"><a href="/gostd/strconv/extfloat.go.html#2372989">g</a></span><span class="op" id="2373065">.</span><span class="ident" id="2373066"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2373070">&gt;&gt;</span><span class="num" id="2373072">32</span><span class="op" id="2373074">,</span>&nbsp;<span class="builtintype" id="2373076">uint64</span><span class="op" id="2373082">(</span><span class="builtintype" id="2373083">uint32</span><span class="op" id="2373089">(</span><span class="ident" id="2373090"><a href="/gostd/strconv/extfloat.go.html#2372989">g</a></span><span class="op" id="2373091">.</span><span class="ident" id="2373092"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2373096">)</span><span class="op" id="2373097">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2373101">//&nbsp;Cross&nbsp;products.</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373121">cross1</span>&nbsp;<span class="op" id="2373128">:=</span>&nbsp;<span class="ident" id="2373131"><a href="/gostd/strconv/extfloat.go.html#2373004">fhi</a></span>&nbsp;<span class="op" id="2373135">*</span>&nbsp;<span class="ident" id="2373137"><a href="/gostd/strconv/extfloat.go.html#2373057">glo</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373142">cross2</span>&nbsp;<span class="op" id="2373149">:=</span>&nbsp;<span class="ident" id="2373152"><a href="/gostd/strconv/extfloat.go.html#2373009">flo</a></span>&nbsp;<span class="op" id="2373156">*</span>&nbsp;<span class="ident" id="2373158"><a href="/gostd/strconv/extfloat.go.html#2373052">ghi</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2373164">//&nbsp;f.mant*g.mant&nbsp;is&nbsp;fhi*ghi&nbsp;&lt;&lt;&nbsp;64&nbsp;+&nbsp;(cross1+cross2)&nbsp;&lt;&lt;&nbsp;32&nbsp;+&nbsp;flo*glo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373233"><a href="/gostd/strconv/extfloat.go.html#2372967">f</a></span><span class="op" id="2373234">.</span><span class="ident" id="2373235"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2373240">=</span>&nbsp;<span class="ident" id="2373242"><a href="/gostd/strconv/extfloat.go.html#2373004">fhi</a></span><span class="op" id="2373245">*</span><span class="ident" id="2373246"><a href="/gostd/strconv/extfloat.go.html#2373052">ghi</a></span>&nbsp;<span class="op" id="2373250">+</span>&nbsp;<span class="op" id="2373252">(</span><span class="ident" id="2373253"><a href="/gostd/strconv/extfloat.go.html#2373121">cross1</a></span>&nbsp;<span class="op" id="2373260">&gt;&gt;</span>&nbsp;<span class="num" id="2373263">32</span><span class="op" id="2373265">)</span>&nbsp;<span class="op" id="2373267">+</span>&nbsp;<span class="op" id="2373269">(</span><span class="ident" id="2373270"><a href="/gostd/strconv/extfloat.go.html#2373142">cross2</a></span>&nbsp;<span class="op" id="2373277">&gt;&gt;</span>&nbsp;<span class="num" id="2373280">32</span><span class="op" id="2373282">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373285">rem</span>&nbsp;<span class="op" id="2373289">:=</span>&nbsp;<span class="builtintype" id="2373292">uint64</span><span class="op" id="2373298">(</span><span class="builtintype" id="2373299">uint32</span><span class="op" id="2373305">(</span><span class="ident" id="2373306"><a href="/gostd/strconv/extfloat.go.html#2373121">cross1</a></span><span class="op" id="2373312">)</span><span class="op" id="2373313">)</span>&nbsp;<span class="op" id="2373315">+</span>&nbsp;<span class="builtintype" id="2373317">uint64</span><span class="op" id="2373323">(</span><span class="builtintype" id="2373324">uint32</span><span class="op" id="2373330">(</span><span class="ident" id="2373331"><a href="/gostd/strconv/extfloat.go.html#2373142">cross2</a></span><span class="op" id="2373337">)</span><span class="op" id="2373338">)</span>&nbsp;<span class="op" id="2373340">+</span>&nbsp;<span class="op" id="2373342">(</span><span class="op" id="2373343">(</span><span class="ident" id="2373344"><a href="/gostd/strconv/extfloat.go.html#2373009">flo</a></span>&nbsp;<span class="op" id="2373348">*</span>&nbsp;<span class="ident" id="2373350"><a href="/gostd/strconv/extfloat.go.html#2373057">glo</a></span><span class="op" id="2373353">)</span>&nbsp;<span class="op" id="2373355">&gt;&gt;</span>&nbsp;<span class="num" id="2373358">32</span><span class="op" id="2373360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2373363">//&nbsp;Round&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373377"><a href="/gostd/strconv/extfloat.go.html#2373285">rem</a></span>&nbsp;<span class="op" id="2373381">+=</span>&nbsp;<span class="op" id="2373384">(</span><span class="num" id="2373385">1</span>&nbsp;<span class="op" id="2373387">&lt;&lt;</span>&nbsp;<span class="num" id="2373390">31</span><span class="op" id="2373392">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373396"><a href="/gostd/strconv/extfloat.go.html#2372967">f</a></span><span class="op" id="2373397">.</span><span class="ident" id="2373398"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2373403">+=</span>&nbsp;<span class="op" id="2373406">(</span><span class="ident" id="2373407"><a href="/gostd/strconv/extfloat.go.html#2373285">rem</a></span>&nbsp;<span class="op" id="2373411">&gt;&gt;</span>&nbsp;<span class="num" id="2373414">32</span><span class="op" id="2373416">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373419"><a href="/gostd/strconv/extfloat.go.html#2372967">f</a></span><span class="op" id="2373420">.</span><span class="ident" id="2373421"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2373425">=</span>&nbsp;<span class="ident" id="2373427"><a href="/gostd/strconv/extfloat.go.html#2372967">f</a></span><span class="op" id="2373428">.</span><span class="ident" id="2373429"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2373433">+</span>&nbsp;<span class="ident" id="2373435"><a href="/gostd/strconv/extfloat.go.html#2372989">g</a></span><span class="op" id="2373436">.</span><span class="ident" id="2373437"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2373441">+</span>&nbsp;<span class="num" id="2373443">64</span><br>
<span class="lineno"></span><span class="op" id="2373446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2373449">var</span>&nbsp;<span class="ident" id="2373453">uint64pow10</span>&nbsp;<span class="op" id="2373465">=</span>&nbsp;<span class="op" id="2373467">[</span><span class="op" id="2373468">...</span><span class="op" id="2373471">]</span><span class="builtintype" id="2373472">uint64</span><span class="op" id="2373478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="2373481">1</span><span class="op" id="2373482">,</span>&nbsp;<span class="num" id="2373484">1e1</span><span class="op" id="2373487">,</span>&nbsp;<span class="num" id="2373489">1e2</span><span class="op" id="2373492">,</span>&nbsp;<span class="num" id="2373494">1e3</span><span class="op" id="2373497">,</span>&nbsp;<span class="num" id="2373499">1e4</span><span class="op" id="2373502">,</span>&nbsp;<span class="num" id="2373504">1e5</span><span class="op" id="2373507">,</span>&nbsp;<span class="num" id="2373509">1e6</span><span class="op" id="2373512">,</span>&nbsp;<span class="num" id="2373514">1e7</span><span class="op" id="2373517">,</span>&nbsp;<span class="num" id="2373519">1e8</span><span class="op" id="2373522">,</span>&nbsp;<span class="num" id="2373524">1e9</span><span class="op" id="2373527">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="2373530">1e10</span><span class="op" id="2373534">,</span>&nbsp;<span class="num" id="2373536">1e11</span><span class="op" id="2373540">,</span>&nbsp;<span class="num" id="2373542">1e12</span><span class="op" id="2373546">,</span>&nbsp;<span class="num" id="2373548">1e13</span><span class="op" id="2373552">,</span>&nbsp;<span class="num" id="2373554">1e14</span><span class="op" id="2373558">,</span>&nbsp;<span class="num" id="2373560">1e15</span><span class="op" id="2373564">,</span>&nbsp;<span class="num" id="2373566">1e16</span><span class="op" id="2373570">,</span>&nbsp;<span class="num" id="2373572">1e17</span><span class="op" id="2373576">,</span>&nbsp;<span class="num" id="2373578">1e18</span><span class="op" id="2373582">,</span>&nbsp;<span class="num" id="2373584">1e19</span><span class="op" id="2373588">,</span><br>
<span class="lineno"></span><span class="op" id="2373590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2373593">//&nbsp;AssignDecimal&nbsp;sets&nbsp;f&nbsp;to&nbsp;an&nbsp;approximate&nbsp;value&nbsp;mantissa*10^exp.&nbsp;It</span><br>
<span class="lineno"></span><span class="comment" id="2373661">//&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;value&nbsp;represented&nbsp;by&nbsp;f&nbsp;is&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;the</span><br>
<span class="lineno">260</span><span class="comment" id="2373731">//&nbsp;best&nbsp;approximation&nbsp;of&nbsp;d&nbsp;after&nbsp;being&nbsp;rounded&nbsp;to&nbsp;a&nbsp;float64&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2373794">//&nbsp;float32&nbsp;depending&nbsp;on&nbsp;flt.</span><br>
<span class="lineno"></span><span class="keyword" id="2373823">func</span>&nbsp;<span class="op" id="2373828">(</span><span class="ident" id="2373829">f</span>&nbsp;<span class="op" id="2373831">*</span><span class="ident" id="2373832"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2373840">)</span>&nbsp;<span class="ident" id="2373842">AssignDecimal</span><span class="op" id="2373855">(</span><span class="ident" id="2373856">mantissa</span>&nbsp;<span class="builtintype" id="2373865">uint64</span><span class="op" id="2373871">,</span>&nbsp;<span class="ident" id="2373873">exp10</span>&nbsp;<span class="builtintype" id="2373879">int</span><span class="op" id="2373882">,</span>&nbsp;<span class="ident" id="2373884">neg</span>&nbsp;<span class="builtintype" id="2373888">bool</span><span class="op" id="2373892">,</span>&nbsp;<span class="ident" id="2373894">trunc</span>&nbsp;<span class="builtintype" id="2373900">bool</span><span class="op" id="2373904">,</span>&nbsp;<span class="ident" id="2373906">flt</span>&nbsp;<span class="op" id="2373910">*</span><span class="ident" id="2373911"><a href="/gostd/strconv/ftoa.go.html#2385845">floatInfo</a></span><span class="op" id="2373920">)</span>&nbsp;<span class="op" id="2373922">(</span><span class="ident" id="2373923">ok</span>&nbsp;<span class="builtintype" id="2373926">bool</span><span class="op" id="2373930">)</span>&nbsp;<span class="op" id="2373932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373935">const</span>&nbsp;<span class="ident" id="2373941">uint64digits</span>&nbsp;<span class="op" id="2373954">=</span>&nbsp;<span class="num" id="2373956">19</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2373960">const</span>&nbsp;<span class="ident" id="2373966">errorscale</span>&nbsp;<span class="op" id="2373977">=</span>&nbsp;<span class="num" id="2373979">8</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2373982">errors</span>&nbsp;<span class="op" id="2373989">:=</span>&nbsp;<span class="num" id="2373992">0</span>&nbsp;<span class="comment" id="2373994">//&nbsp;An&nbsp;upper&nbsp;bound&nbsp;for&nbsp;error,&nbsp;computed&nbsp;in&nbsp;errorscale*ulp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374052">if</span>&nbsp;<span class="ident" id="2374055"><a href="/gostd/strconv/extfloat.go.html#2373894">trunc</a></span>&nbsp;<span class="op" id="2374061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374065">//&nbsp;the&nbsp;decimal&nbsp;number&nbsp;was&nbsp;truncated.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374104"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span>&nbsp;<span class="op" id="2374111">+=</span>&nbsp;<span class="ident" id="2374114"><a href="/gostd/strconv/extfloat.go.html#2373966">errorscale</a></span>&nbsp;<span class="op" id="2374125">/</span>&nbsp;<span class="num" id="2374127">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374130">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374134"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374135">.</span><span class="ident" id="2374136"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2374141">=</span>&nbsp;<span class="ident" id="2374143"><a href="/gostd/strconv/extfloat.go.html#2373856">mantissa</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374153"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374154">.</span><span class="ident" id="2374155"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2374159">=</span>&nbsp;<span class="num" id="2374161">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374164"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374165">.</span><span class="ident" id="2374166"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span>&nbsp;<span class="op" id="2374170">=</span>&nbsp;<span class="ident" id="2374172"><a href="/gostd/strconv/extfloat.go.html#2373884">neg</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374178">//&nbsp;Multiply&nbsp;by&nbsp;powers&nbsp;of&nbsp;ten.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374209">i</span>&nbsp;<span class="op" id="2374211">:=</span>&nbsp;<span class="op" id="2374214">(</span><span class="ident" id="2374215"><a href="/gostd/strconv/extfloat.go.html#2373873">exp10</a></span>&nbsp;<span class="op" id="2374221">-</span>&nbsp;<span class="ident" id="2374223"><a href="/gostd/strconv/extfloat.go.html#2365768">firstPowerOfTen</a></span><span class="op" id="2374238">)</span>&nbsp;<span class="op" id="2374240">/</span>&nbsp;<span class="ident" id="2374242"><a href="/gostd/strconv/extfloat.go.html#2365792">stepPowerOfTen</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374258">if</span>&nbsp;<span class="ident" id="2374261"><a href="/gostd/strconv/extfloat.go.html#2373873">exp10</a></span>&nbsp;<span class="op" id="2374267">&lt;</span>&nbsp;<span class="ident" id="2374269"><a href="/gostd/strconv/extfloat.go.html#2365768">firstPowerOfTen</a></span>&nbsp;<span class="op" id="2374285">||</span>&nbsp;<span class="ident" id="2374288"><a href="/gostd/strconv/extfloat.go.html#2374209">i</a></span>&nbsp;<span class="op" id="2374290">&gt;=</span>&nbsp;<span class="builtinfunc" id="2374293">len</span><span class="op" id="2374296">(</span><span class="ident" id="2374297"><a href="/gostd/strconv/extfloat.go.html#2366162">powersOfTen</a></span><span class="op" id="2374308">)</span>&nbsp;<span class="op" id="2374310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374314">return</span>&nbsp;<span class="builtintype" id="2374321">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374328">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374331">adjExp</span>&nbsp;<span class="op" id="2374338">:=</span>&nbsp;<span class="op" id="2374341">(</span><span class="ident" id="2374342"><a href="/gostd/strconv/extfloat.go.html#2373873">exp10</a></span>&nbsp;<span class="op" id="2374348">-</span>&nbsp;<span class="ident" id="2374350"><a href="/gostd/strconv/extfloat.go.html#2365768">firstPowerOfTen</a></span><span class="op" id="2374365">)</span>&nbsp;<span class="op" id="2374367">%</span>&nbsp;<span class="ident" id="2374369"><a href="/gostd/strconv/extfloat.go.html#2365792">stepPowerOfTen</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374386">//&nbsp;We&nbsp;multiply&nbsp;by&nbsp;exp%step</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374414">if</span>&nbsp;<span class="ident" id="2374417"><a href="/gostd/strconv/extfloat.go.html#2374331">adjExp</a></span>&nbsp;<span class="op" id="2374424">&lt;</span>&nbsp;<span class="ident" id="2374426"><a href="/gostd/strconv/extfloat.go.html#2373941">uint64digits</a></span>&nbsp;<span class="op" id="2374439">&amp;&amp;</span>&nbsp;<span class="ident" id="2374442"><a href="/gostd/strconv/extfloat.go.html#2373856">mantissa</a></span>&nbsp;<span class="op" id="2374451">&lt;</span>&nbsp;<span class="ident" id="2374453"><a href="/gostd/strconv/extfloat.go.html#2373453">uint64pow10</a></span><span class="op" id="2374464">[</span><span class="ident" id="2374465"><a href="/gostd/strconv/extfloat.go.html#2373941">uint64digits</a></span><span class="op" id="2374477">-</span><span class="ident" id="2374478"><a href="/gostd/strconv/extfloat.go.html#2374331">adjExp</a></span><span class="op" id="2374484">]</span>&nbsp;<span class="op" id="2374486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374490">//&nbsp;We&nbsp;can&nbsp;multiply&nbsp;the&nbsp;mantissa&nbsp;exactly.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374533"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374534">.</span><span class="ident" id="2374535"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2374540">*=</span>&nbsp;<span class="ident" id="2374543"><a href="/gostd/strconv/extfloat.go.html#2373453">uint64pow10</a></span><span class="op" id="2374554">[</span><span class="ident" id="2374555"><a href="/gostd/strconv/extfloat.go.html#2374331">adjExp</a></span><span class="op" id="2374561">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374565"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374566">.</span><span class="ident" id="2374567"><a href="/gostd/strconv/extfloat.go.html#2372404">Normalize</a></span><span class="op" id="2374576">(</span><span class="op" id="2374577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374580">}</span>&nbsp;<span class="keyword" id="2374582">else</span>&nbsp;<span class="op" id="2374587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374591"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374592">.</span><span class="ident" id="2374593"><a href="/gostd/strconv/extfloat.go.html#2372404">Normalize</a></span><span class="op" id="2374602">(</span><span class="op" id="2374603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374607"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374608">.</span><span class="ident" id="2374609"><a href="/gostd/strconv/extfloat.go.html#2372980">Multiply</a></span><span class="op" id="2374617">(</span><span class="ident" id="2374618"><a href="/gostd/strconv/extfloat.go.html#2365819">smallPowersOfTen</a></span><span class="op" id="2374634">[</span><span class="ident" id="2374635"><a href="/gostd/strconv/extfloat.go.html#2374331">adjExp</a></span><span class="op" id="2374641">]</span><span class="op" id="2374642">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374646"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span>&nbsp;<span class="op" id="2374653">+=</span>&nbsp;<span class="ident" id="2374656"><a href="/gostd/strconv/extfloat.go.html#2373966">errorscale</a></span>&nbsp;<span class="op" id="2374667">/</span>&nbsp;<span class="num" id="2374669">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374676">//&nbsp;We&nbsp;multiply&nbsp;by&nbsp;10&nbsp;to&nbsp;the&nbsp;exp&nbsp;-&nbsp;exp%step.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374721"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374722">.</span><span class="ident" id="2374723"><a href="/gostd/strconv/extfloat.go.html#2372980">Multiply</a></span><span class="op" id="2374731">(</span><span class="ident" id="2374732"><a href="/gostd/strconv/extfloat.go.html#2366162">powersOfTen</a></span><span class="op" id="2374743">[</span><span class="ident" id="2374744"><a href="/gostd/strconv/extfloat.go.html#2374209">i</a></span><span class="op" id="2374745">]</span><span class="op" id="2374746">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2374749">if</span>&nbsp;<span class="ident" id="2374752"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span>&nbsp;<span class="op" id="2374759">&gt;</span>&nbsp;<span class="num" id="2374761">0</span>&nbsp;<span class="op" id="2374763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374767"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span>&nbsp;<span class="op" id="2374774">+=</span>&nbsp;<span class="num" id="2374777">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2374780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374783"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span>&nbsp;<span class="op" id="2374790">+=</span>&nbsp;<span class="ident" id="2374793"><a href="/gostd/strconv/extfloat.go.html#2373966">errorscale</a></span>&nbsp;<span class="op" id="2374804">/</span>&nbsp;<span class="num" id="2374806">2</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374810">//&nbsp;Normalize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374824">shift</span>&nbsp;<span class="op" id="2374830">:=</span>&nbsp;<span class="ident" id="2374833"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2374834">.</span><span class="ident" id="2374835"><a href="/gostd/strconv/extfloat.go.html#2372404">Normalize</a></span><span class="op" id="2374844">(</span><span class="op" id="2374845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2374848"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span>&nbsp;<span class="op" id="2374855">&lt;&lt;=</span>&nbsp;<span class="ident" id="2374859"><a href="/gostd/strconv/extfloat.go.html#2374824">shift</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374867">//&nbsp;Now&nbsp;f&nbsp;is&nbsp;a&nbsp;good&nbsp;approximation&nbsp;of&nbsp;the&nbsp;decimal.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374917">//&nbsp;Check&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;too&nbsp;large:&nbsp;that&nbsp;is,&nbsp;if&nbsp;the&nbsp;mantissa</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2374984">//&nbsp;is&nbsp;perturbated&nbsp;by&nbsp;the&nbsp;error,&nbsp;the&nbsp;resulting&nbsp;float64&nbsp;will&nbsp;change.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375052">//&nbsp;The&nbsp;64&nbsp;bits&nbsp;mantissa&nbsp;is&nbsp;1&nbsp;+&nbsp;52&nbsp;bits&nbsp;for&nbsp;float64&nbsp;+&nbsp;11&nbsp;extra&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375121">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375125">//&nbsp;In&nbsp;many&nbsp;cases&nbsp;the&nbsp;approximation&nbsp;will&nbsp;be&nbsp;good&nbsp;enough.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375182">denormalExp</span>&nbsp;<span class="op" id="2375194">:=</span>&nbsp;<span class="ident" id="2375197"><a href="/gostd/strconv/extfloat.go.html#2373906">flt</a></span><span class="op" id="2375200">.</span><span class="ident" id="2375201"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span>&nbsp;<span class="op" id="2375206">-</span>&nbsp;<span class="num" id="2375208">63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375212">var</span>&nbsp;<span class="ident" id="2375216">extrabits</span>&nbsp;<span class="builtintype" id="2375226">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375232">if</span>&nbsp;<span class="ident" id="2375235"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2375236">.</span><span class="ident" id="2375237"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2375241">&lt;=</span>&nbsp;<span class="ident" id="2375244"><a href="/gostd/strconv/extfloat.go.html#2375182">denormalExp</a></span>&nbsp;<span class="op" id="2375256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375260">//&nbsp;f.mant&nbsp;*&nbsp;2^f.exp&nbsp;is&nbsp;smaller&nbsp;than&nbsp;2^(flt.bias+1).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375314"><a href="/gostd/strconv/extfloat.go.html#2375216">extrabits</a></span>&nbsp;<span class="op" id="2375324">=</span>&nbsp;<span class="builtintype" id="2375326">uint</span><span class="op" id="2375330">(</span><span class="num" id="2375331">63</span>&nbsp;<span class="op" id="2375334">-</span>&nbsp;<span class="ident" id="2375336"><a href="/gostd/strconv/extfloat.go.html#2373906">flt</a></span><span class="op" id="2375339">.</span><span class="ident" id="2375340"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2375349">+</span>&nbsp;<span class="num" id="2375351">1</span>&nbsp;<span class="op" id="2375353">+</span>&nbsp;<span class="builtintype" id="2375355">uint</span><span class="op" id="2375359">(</span><span class="ident" id="2375360"><a href="/gostd/strconv/extfloat.go.html#2375182">denormalExp</a></span><span class="op" id="2375371">-</span><span class="ident" id="2375372"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2375373">.</span><span class="ident" id="2375374"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2375377">)</span><span class="op" id="2375378">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375381">}</span>&nbsp;<span class="keyword" id="2375383">else</span>&nbsp;<span class="op" id="2375388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375392"><a href="/gostd/strconv/extfloat.go.html#2375216">extrabits</a></span>&nbsp;<span class="op" id="2375402">=</span>&nbsp;<span class="builtintype" id="2375404">uint</span><span class="op" id="2375408">(</span><span class="num" id="2375409">63</span>&nbsp;<span class="op" id="2375412">-</span>&nbsp;<span class="ident" id="2375414"><a href="/gostd/strconv/extfloat.go.html#2373906">flt</a></span><span class="op" id="2375417">.</span><span class="ident" id="2375418"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><span class="op" id="2375426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375433">halfway</span>&nbsp;<span class="op" id="2375441">:=</span>&nbsp;<span class="builtintype" id="2375444">uint64</span><span class="op" id="2375450">(</span><span class="num" id="2375451">1</span><span class="op" id="2375452">)</span>&nbsp;<span class="op" id="2375454">&lt;&lt;</span>&nbsp;<span class="op" id="2375457">(</span><span class="ident" id="2375458"><a href="/gostd/strconv/extfloat.go.html#2375216">extrabits</a></span>&nbsp;<span class="op" id="2375468">-</span>&nbsp;<span class="num" id="2375470">1</span><span class="op" id="2375471">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2375474">mant_extra</span>&nbsp;<span class="op" id="2375485">:=</span>&nbsp;<span class="ident" id="2375488"><a href="/gostd/strconv/extfloat.go.html#2373829">f</a></span><span class="op" id="2375489">.</span><span class="ident" id="2375490"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2375495">&amp;</span>&nbsp;<span class="op" id="2375497">(</span><span class="num" id="2375498">1</span><span class="op" id="2375499">&lt;&lt;</span><span class="ident" id="2375501"><a href="/gostd/strconv/extfloat.go.html#2375216">extrabits</a></span>&nbsp;<span class="op" id="2375511">-</span>&nbsp;<span class="num" id="2375513">1</span><span class="op" id="2375514">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375518">//&nbsp;Do&nbsp;a&nbsp;signed&nbsp;comparison&nbsp;here!&nbsp;If&nbsp;the&nbsp;error&nbsp;estimate&nbsp;could&nbsp;make</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375584">//&nbsp;the&nbsp;mantissa&nbsp;round&nbsp;differently&nbsp;for&nbsp;the&nbsp;conversion&nbsp;to&nbsp;double,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2375649">//&nbsp;then&nbsp;we&nbsp;can&#39;t&nbsp;give&nbsp;a&nbsp;definite&nbsp;answer.</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375691">if</span>&nbsp;<span class="builtintype" id="2375694">int64</span><span class="op" id="2375699">(</span><span class="ident" id="2375700"><a href="/gostd/strconv/extfloat.go.html#2375433">halfway</a></span><span class="op" id="2375707">)</span><span class="op" id="2375708">-</span><span class="builtintype" id="2375709">int64</span><span class="op" id="2375714">(</span><span class="ident" id="2375715"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span><span class="op" id="2375721">)</span>&nbsp;<span class="op" id="2375723">&lt;</span>&nbsp;<span class="builtintype" id="2375725">int64</span><span class="op" id="2375730">(</span><span class="ident" id="2375731"><a href="/gostd/strconv/extfloat.go.html#2375474">mant_extra</a></span><span class="op" id="2375741">)</span>&nbsp;<span class="op" id="2375743">&amp;&amp;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2375748">int64</span><span class="op" id="2375753">(</span><span class="ident" id="2375754"><a href="/gostd/strconv/extfloat.go.html#2375474">mant_extra</a></span><span class="op" id="2375764">)</span>&nbsp;<span class="op" id="2375766">&lt;</span>&nbsp;<span class="builtintype" id="2375768">int64</span><span class="op" id="2375773">(</span><span class="ident" id="2375774"><a href="/gostd/strconv/extfloat.go.html#2375433">halfway</a></span><span class="op" id="2375781">)</span><span class="op" id="2375782">+</span><span class="builtintype" id="2375783">int64</span><span class="op" id="2375788">(</span><span class="ident" id="2375789"><a href="/gostd/strconv/extfloat.go.html#2373982">errors</a></span><span class="op" id="2375795">)</span>&nbsp;<span class="op" id="2375797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375801">return</span>&nbsp;<span class="builtintype" id="2375808">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2375815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2375818">return</span>&nbsp;<span class="builtintype" id="2375825">true</span><br>
<span class="lineno">330</span><span class="op" id="2375830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2375833">//&nbsp;Frexp10&nbsp;is&nbsp;an&nbsp;analogue&nbsp;of&nbsp;math.Frexp&nbsp;for&nbsp;decimal&nbsp;powers.&nbsp;It&nbsp;scales</span><br>
<span class="lineno"></span><span class="comment" id="2375903">//&nbsp;f&nbsp;by&nbsp;an&nbsp;approximate&nbsp;power&nbsp;of&nbsp;ten&nbsp;10^-exp,&nbsp;and&nbsp;returns&nbsp;exp10,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="2375970">//&nbsp;that&nbsp;f*10^exp10&nbsp;has&nbsp;the&nbsp;same&nbsp;value&nbsp;as&nbsp;the&nbsp;old&nbsp;f,&nbsp;up&nbsp;to&nbsp;an&nbsp;ulp,</span><br>
<span class="lineno">335</span><span class="comment" id="2376036">//&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;index&nbsp;of&nbsp;10^-exp&nbsp;in&nbsp;the&nbsp;powersOfTen&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="2376097">func</span>&nbsp;<span class="op" id="2376102">(</span><span class="ident" id="2376103">f</span>&nbsp;<span class="op" id="2376105">*</span><span class="ident" id="2376106"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2376114">)</span>&nbsp;<span class="ident" id="2376116">frexp10</span><span class="op" id="2376123">(</span><span class="op" id="2376124">)</span>&nbsp;<span class="op" id="2376126">(</span><span class="ident" id="2376127">exp10</span><span class="op" id="2376132">,</span>&nbsp;<span class="ident" id="2376134">index</span>&nbsp;<span class="builtintype" id="2376140">int</span><span class="op" id="2376143">)</span>&nbsp;<span class="op" id="2376145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376148">//&nbsp;The&nbsp;constants&nbsp;expMin&nbsp;and&nbsp;expMax&nbsp;constrain&nbsp;the&nbsp;final&nbsp;value&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376217">//&nbsp;binary&nbsp;exponent&nbsp;of&nbsp;f.&nbsp;We&nbsp;want&nbsp;a&nbsp;small&nbsp;integral&nbsp;part&nbsp;in&nbsp;the&nbsp;result</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376287">//&nbsp;because&nbsp;finding&nbsp;digits&nbsp;of&nbsp;an&nbsp;integer&nbsp;requires&nbsp;divisions,&nbsp;whereas</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376356">//&nbsp;digits&nbsp;of&nbsp;the&nbsp;fractional&nbsp;part&nbsp;can&nbsp;be&nbsp;found&nbsp;by&nbsp;repeatedly&nbsp;multiplying</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376429">//&nbsp;by&nbsp;10.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376440">const</span>&nbsp;<span class="ident" id="2376446">expMin</span>&nbsp;<span class="op" id="2376453">=</span>&nbsp;<span class="op" id="2376455">-</span><span class="num" id="2376456">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376460">const</span>&nbsp;<span class="ident" id="2376466">expMax</span>&nbsp;<span class="op" id="2376473">=</span>&nbsp;<span class="op" id="2376475">-</span><span class="num" id="2376476">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376480">//&nbsp;Find&nbsp;power&nbsp;of&nbsp;ten&nbsp;such&nbsp;that&nbsp;x&nbsp;*&nbsp;10^n&nbsp;has&nbsp;a&nbsp;binary&nbsp;exponent</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376543">//&nbsp;between&nbsp;expMin&nbsp;and&nbsp;expMax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376574">approxExp10</span>&nbsp;<span class="op" id="2376586">:=</span>&nbsp;<span class="op" id="2376589">(</span><span class="op" id="2376590">(</span><span class="ident" id="2376591"><a href="/gostd/strconv/extfloat.go.html#2376446">expMin</a></span><span class="op" id="2376597">+</span><span class="ident" id="2376598"><a href="/gostd/strconv/extfloat.go.html#2376466">expMax</a></span><span class="op" id="2376604">)</span><span class="op" id="2376605">/</span><span class="num" id="2376606">2</span>&nbsp;<span class="op" id="2376608">-</span>&nbsp;<span class="ident" id="2376610"><a href="/gostd/strconv/extfloat.go.html#2376103">f</a></span><span class="op" id="2376611">.</span><span class="ident" id="2376612"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2376615">)</span>&nbsp;<span class="op" id="2376617">*</span>&nbsp;<span class="num" id="2376619">28</span>&nbsp;<span class="op" id="2376622">/</span>&nbsp;<span class="num" id="2376624">93</span>&nbsp;<span class="comment" id="2376627">//&nbsp;log(10)/log(2)&nbsp;is&nbsp;close&nbsp;to&nbsp;93/28.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376665">i</span>&nbsp;<span class="op" id="2376667">:=</span>&nbsp;<span class="op" id="2376670">(</span><span class="ident" id="2376671"><a href="/gostd/strconv/extfloat.go.html#2376574">approxExp10</a></span>&nbsp;<span class="op" id="2376683">-</span>&nbsp;<span class="ident" id="2376685"><a href="/gostd/strconv/extfloat.go.html#2365768">firstPowerOfTen</a></span><span class="op" id="2376700">)</span>&nbsp;<span class="op" id="2376702">/</span>&nbsp;<span class="ident" id="2376704"><a href="/gostd/strconv/extfloat.go.html#2365792">stepPowerOfTen</a></span><br>
<span class="lineno"></span><span class="ident" id="2376719">Loop</span><span class="op" id="2376723">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376726">for</span>&nbsp;<span class="op" id="2376730">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376734">exp</span>&nbsp;<span class="op" id="2376738">:=</span>&nbsp;<span class="ident" id="2376741"><a href="/gostd/strconv/extfloat.go.html#2376103">f</a></span><span class="op" id="2376742">.</span><span class="ident" id="2376743"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2376747">+</span>&nbsp;<span class="ident" id="2376749"><a href="/gostd/strconv/extfloat.go.html#2366162">powersOfTen</a></span><span class="op" id="2376760">[</span><span class="ident" id="2376761"><a href="/gostd/strconv/extfloat.go.html#2376665">i</a></span><span class="op" id="2376762">]</span><span class="op" id="2376763">.</span><span class="ident" id="2376764"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2376768">+</span>&nbsp;<span class="num" id="2376770">64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376775">switch</span>&nbsp;<span class="op" id="2376782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376786">case</span>&nbsp;<span class="ident" id="2376791"><a href="/gostd/strconv/extfloat.go.html#2376734">exp</a></span>&nbsp;<span class="op" id="2376795">&lt;</span>&nbsp;<span class="ident" id="2376797"><a href="/gostd/strconv/extfloat.go.html#2376446">expMin</a></span><span class="op" id="2376803">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376808"><a href="/gostd/strconv/extfloat.go.html#2376665">i</a></span><span class="op" id="2376809">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376814">case</span>&nbsp;<span class="ident" id="2376819"><a href="/gostd/strconv/extfloat.go.html#2376734">exp</a></span>&nbsp;<span class="op" id="2376823">&gt;</span>&nbsp;<span class="ident" id="2376825"><a href="/gostd/strconv/extfloat.go.html#2376466">expMax</a></span><span class="op" id="2376831">:</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2376836"><a href="/gostd/strconv/extfloat.go.html#2376665">i</a></span><span class="op" id="2376837">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376842">default</span><span class="op" id="2376849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2376854">break</span>&nbsp;<span class="ident" id="2376860"><a href="/gostd/strconv/extfloat.go.html#2376719">Loop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2376867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2376870">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376873">//&nbsp;Apply&nbsp;the&nbsp;desired&nbsp;decimal&nbsp;shift&nbsp;on&nbsp;f.&nbsp;It&nbsp;will&nbsp;have&nbsp;exponent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2376937">//&nbsp;in&nbsp;the&nbsp;desired&nbsp;range.&nbsp;This&nbsp;is&nbsp;multiplication&nbsp;by&nbsp;10^-exp10.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377000"><a href="/gostd/strconv/extfloat.go.html#2376103">f</a></span><span class="op" id="2377001">.</span><span class="ident" id="2377002"><a href="/gostd/strconv/extfloat.go.html#2372980">Multiply</a></span><span class="op" id="2377010">(</span><span class="ident" id="2377011"><a href="/gostd/strconv/extfloat.go.html#2366162">powersOfTen</a></span><span class="op" id="2377022">[</span><span class="ident" id="2377023"><a href="/gostd/strconv/extfloat.go.html#2376665">i</a></span><span class="op" id="2377024">]</span><span class="op" id="2377025">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377029">return</span>&nbsp;<span class="op" id="2377036">-</span><span class="op" id="2377037">(</span><span class="ident" id="2377038"><a href="/gostd/strconv/extfloat.go.html#2365768">firstPowerOfTen</a></span>&nbsp;<span class="op" id="2377054">+</span>&nbsp;<span class="ident" id="2377056"><a href="/gostd/strconv/extfloat.go.html#2376665">i</a></span><span class="op" id="2377057">*</span><span class="ident" id="2377058"><a href="/gostd/strconv/extfloat.go.html#2365792">stepPowerOfTen</a></span><span class="op" id="2377072">)</span><span class="op" id="2377073">,</span>&nbsp;<span class="ident" id="2377075"><a href="/gostd/strconv/extfloat.go.html#2376665">i</a></span><br>
<span class="lineno">365</span><span class="op" id="2377077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2377080">//&nbsp;frexp10Many&nbsp;applies&nbsp;a&nbsp;common&nbsp;shift&nbsp;by&nbsp;a&nbsp;power&nbsp;of&nbsp;ten&nbsp;to&nbsp;a,&nbsp;b,&nbsp;c.</span><br>
<span class="lineno"></span><span class="keyword" id="2377148">func</span>&nbsp;<span class="ident" id="2377153">frexp10Many</span><span class="op" id="2377164">(</span><span class="ident" id="2377165">a</span><span class="op" id="2377166">,</span>&nbsp;<span class="ident" id="2377168">b</span><span class="op" id="2377169">,</span>&nbsp;<span class="ident" id="2377171">c</span>&nbsp;<span class="op" id="2377173">*</span><span class="ident" id="2377174"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2377182">)</span>&nbsp;<span class="op" id="2377184">(</span><span class="ident" id="2377185">exp10</span>&nbsp;<span class="builtintype" id="2377191">int</span><span class="op" id="2377194">)</span>&nbsp;<span class="op" id="2377196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377199"><a href="/gostd/strconv/extfloat.go.html#2377185">exp10</a></span><span class="op" id="2377204">,</span>&nbsp;<span class="ident" id="2377206">i</span>&nbsp;<span class="op" id="2377208">:=</span>&nbsp;<span class="ident" id="2377211"><a href="/gostd/strconv/extfloat.go.html#2377171">c</a></span><span class="op" id="2377212">.</span><span class="ident" id="2377213"><a href="/gostd/strconv/extfloat.go.html#2376116">frexp10</a></span><span class="op" id="2377220">(</span><span class="op" id="2377221">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377224"><a href="/gostd/strconv/extfloat.go.html#2377165">a</a></span><span class="op" id="2377225">.</span><span class="ident" id="2377226"><a href="/gostd/strconv/extfloat.go.html#2372980">Multiply</a></span><span class="op" id="2377234">(</span><span class="ident" id="2377235"><a href="/gostd/strconv/extfloat.go.html#2366162">powersOfTen</a></span><span class="op" id="2377246">[</span><span class="ident" id="2377247"><a href="/gostd/strconv/extfloat.go.html#2377206">i</a></span><span class="op" id="2377248">]</span><span class="op" id="2377249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377252"><a href="/gostd/strconv/extfloat.go.html#2377168">b</a></span><span class="op" id="2377253">.</span><span class="ident" id="2377254"><a href="/gostd/strconv/extfloat.go.html#2372980">Multiply</a></span><span class="op" id="2377262">(</span><span class="ident" id="2377263"><a href="/gostd/strconv/extfloat.go.html#2366162">powersOfTen</a></span><span class="op" id="2377274">[</span><span class="ident" id="2377275"><a href="/gostd/strconv/extfloat.go.html#2377206">i</a></span><span class="op" id="2377276">]</span><span class="op" id="2377277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377280">return</span><br>
<span class="lineno"></span><span class="op" id="2377287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span><span class="comment" id="2377290">//&nbsp;FixedDecimal&nbsp;stores&nbsp;in&nbsp;d&nbsp;the&nbsp;first&nbsp;n&nbsp;significant&nbsp;digits</span><br>
<span class="lineno"></span><span class="comment" id="2377349">//&nbsp;of&nbsp;the&nbsp;decimal&nbsp;representation&nbsp;of&nbsp;f.&nbsp;It&nbsp;returns&nbsp;false</span><br>
<span class="lineno"></span><span class="comment" id="2377405">//&nbsp;if&nbsp;it&nbsp;cannot&nbsp;be&nbsp;sure&nbsp;of&nbsp;the&nbsp;answer.</span><br>
<span class="lineno"></span><span class="keyword" id="2377444">func</span>&nbsp;<span class="op" id="2377449">(</span><span class="ident" id="2377450">f</span>&nbsp;<span class="op" id="2377452">*</span><span class="ident" id="2377453"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2377461">)</span>&nbsp;<span class="ident" id="2377463">FixedDecimal</span><span class="op" id="2377475">(</span><span class="ident" id="2377476">d</span>&nbsp;<span class="op" id="2377478">*</span><span class="ident" id="2377479"><a href="/gostd/strconv/ftoa.go.html#2394578">decimalSlice</a></span><span class="op" id="2377491">,</span>&nbsp;<span class="ident" id="2377493">n</span>&nbsp;<span class="builtintype" id="2377495">int</span><span class="op" id="2377498">)</span>&nbsp;<span class="builtintype" id="2377500">bool</span>&nbsp;<span class="op" id="2377505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377508">if</span>&nbsp;<span class="ident" id="2377511"><a href="/gostd/strconv/extfloat.go.html#2377450">f</a></span><span class="op" id="2377512">.</span><span class="ident" id="2377513"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2377518">==</span>&nbsp;<span class="num" id="2377521">0</span>&nbsp;<span class="op" id="2377523">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377527"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2377528">.</span><span class="ident" id="2377529"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2377532">=</span>&nbsp;<span class="num" id="2377534">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377538"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2377539">.</span><span class="ident" id="2377540"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2377543">=</span>&nbsp;<span class="num" id="2377545">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377549"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2377550">.</span><span class="ident" id="2377551"><a href="/gostd/strconv/ftoa.go.html#2394628">neg</a></span>&nbsp;<span class="op" id="2377555">=</span>&nbsp;<span class="ident" id="2377557"><a href="/gostd/strconv/extfloat.go.html#2377450">f</a></span><span class="op" id="2377558">.</span><span class="ident" id="2377559"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377565">return</span>&nbsp;<span class="builtintype" id="2377572">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2377578">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2377581">if</span>&nbsp;<span class="ident" id="2377584"><a href="/gostd/strconv/extfloat.go.html#2377493">n</a></span>&nbsp;<span class="op" id="2377586">==</span>&nbsp;<span class="num" id="2377589">0</span>&nbsp;<span class="op" id="2377591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2377595">panic</span><span class="op" id="2377600">(</span><span class="string" id="2377601">&#34;strconv:&nbsp;internal&nbsp;error:&nbsp;extFloat.FixedDecimal&nbsp;called&nbsp;with&nbsp;n&nbsp;==&nbsp;0&#34;</span><span class="op" id="2377668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2377671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2377674">//&nbsp;Multiply&nbsp;by&nbsp;an&nbsp;appropriate&nbsp;power&nbsp;of&nbsp;ten&nbsp;to&nbsp;have&nbsp;a&nbsp;reasonable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2377739">//&nbsp;number&nbsp;to&nbsp;process.</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377762"><a href="/gostd/strconv/extfloat.go.html#2377450">f</a></span><span class="op" id="2377763">.</span><span class="ident" id="2377764"><a href="/gostd/strconv/extfloat.go.html#2372404">Normalize</a></span><span class="op" id="2377773">(</span><span class="op" id="2377774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377777">exp10</span><span class="op" id="2377782">,</span>&nbsp;<span class="ident" id="2377784">_</span>&nbsp;<span class="op" id="2377786">:=</span>&nbsp;<span class="ident" id="2377789"><a href="/gostd/strconv/extfloat.go.html#2377450">f</a></span><span class="op" id="2377790">.</span><span class="ident" id="2377791"><a href="/gostd/strconv/extfloat.go.html#2376116">frexp10</a></span><span class="op" id="2377798">(</span><span class="op" id="2377799">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377803">shift</span>&nbsp;<span class="op" id="2377809">:=</span>&nbsp;<span class="builtintype" id="2377812">uint</span><span class="op" id="2377816">(</span><span class="op" id="2377817">-</span><span class="ident" id="2377818"><a href="/gostd/strconv/extfloat.go.html#2377450">f</a></span><span class="op" id="2377819">.</span><span class="ident" id="2377820"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2377823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377826">integer</span>&nbsp;<span class="op" id="2377834">:=</span>&nbsp;<span class="builtintype" id="2377837">uint32</span><span class="op" id="2377843">(</span><span class="ident" id="2377844"><a href="/gostd/strconv/extfloat.go.html#2377450">f</a></span><span class="op" id="2377845">.</span><span class="ident" id="2377846"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2377851">&gt;&gt;</span>&nbsp;<span class="ident" id="2377854"><a href="/gostd/strconv/extfloat.go.html#2377803">shift</a></span><span class="op" id="2377859">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377862">fraction</span>&nbsp;<span class="op" id="2377871">:=</span>&nbsp;<span class="ident" id="2377874"><a href="/gostd/strconv/extfloat.go.html#2377450">f</a></span><span class="op" id="2377875">.</span><span class="ident" id="2377876"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2377881">-</span>&nbsp;<span class="op" id="2377883">(</span><span class="builtintype" id="2377884">uint64</span><span class="op" id="2377890">(</span><span class="ident" id="2377891"><a href="/gostd/strconv/extfloat.go.html#2377826">integer</a></span><span class="op" id="2377898">)</span>&nbsp;<span class="op" id="2377900">&lt;&lt;</span>&nbsp;<span class="ident" id="2377903"><a href="/gostd/strconv/extfloat.go.html#2377803">shift</a></span><span class="op" id="2377908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2377911">ε</span>&nbsp;<span class="op" id="2377914">:=</span>&nbsp;<span class="builtintype" id="2377917">uint64</span><span class="op" id="2377923">(</span><span class="num" id="2377924">1</span><span class="op" id="2377925">)</span>&nbsp;<span class="comment" id="2377927">//&nbsp;ε&nbsp;is&nbsp;the&nbsp;uncertainty&nbsp;we&nbsp;have&nbsp;on&nbsp;the&nbsp;mantissa&nbsp;of&nbsp;f.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2377984">//&nbsp;Write&nbsp;exactly&nbsp;n&nbsp;digits&nbsp;to&nbsp;d.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378017">needed</span>&nbsp;<span class="op" id="2378024">:=</span>&nbsp;<span class="ident" id="2378027"><a href="/gostd/strconv/extfloat.go.html#2377493">n</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378036">//&nbsp;how&nbsp;many&nbsp;digits&nbsp;are&nbsp;left&nbsp;to&nbsp;write.</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378075">integerDigits</span>&nbsp;<span class="op" id="2378089">:=</span>&nbsp;<span class="num" id="2378092">0</span>&nbsp;<span class="comment" id="2378094">//&nbsp;the&nbsp;number&nbsp;of&nbsp;decimal&nbsp;digits&nbsp;of&nbsp;integer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378139">pow10</span>&nbsp;<span class="op" id="2378145">:=</span>&nbsp;<span class="builtintype" id="2378148">uint64</span><span class="op" id="2378154">(</span><span class="num" id="2378155">1</span><span class="op" id="2378156">)</span>&nbsp;<span class="comment" id="2378158">//&nbsp;the&nbsp;power&nbsp;of&nbsp;ten&nbsp;by&nbsp;which&nbsp;f&nbsp;was&nbsp;scaled.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378202">for</span>&nbsp;<span class="ident" id="2378206">i</span><span class="op" id="2378207">,</span>&nbsp;<span class="ident" id="2378209">pow</span>&nbsp;<span class="op" id="2378213">:=</span>&nbsp;<span class="num" id="2378216">0</span><span class="op" id="2378217">,</span>&nbsp;<span class="builtintype" id="2378219">uint64</span><span class="op" id="2378225">(</span><span class="num" id="2378226">1</span><span class="op" id="2378227">)</span><span class="op" id="2378228">;</span>&nbsp;<span class="ident" id="2378230"><a href="/gostd/strconv/extfloat.go.html#2378206">i</a></span>&nbsp;<span class="op" id="2378232">&lt;</span>&nbsp;<span class="num" id="2378234">20</span><span class="op" id="2378236">;</span>&nbsp;<span class="ident" id="2378238"><a href="/gostd/strconv/extfloat.go.html#2378206">i</a></span><span class="op" id="2378239">++</span>&nbsp;<span class="op" id="2378242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378246">if</span>&nbsp;<span class="ident" id="2378249"><a href="/gostd/strconv/extfloat.go.html#2378209">pow</a></span>&nbsp;<span class="op" id="2378253">&gt;</span>&nbsp;<span class="builtintype" id="2378255">uint64</span><span class="op" id="2378261">(</span><span class="ident" id="2378262"><a href="/gostd/strconv/extfloat.go.html#2377826">integer</a></span><span class="op" id="2378269">)</span>&nbsp;<span class="op" id="2378271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378276"><a href="/gostd/strconv/extfloat.go.html#2378075">integerDigits</a></span>&nbsp;<span class="op" id="2378290">=</span>&nbsp;<span class="ident" id="2378292"><a href="/gostd/strconv/extfloat.go.html#2378206">i</a></span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378297">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378309"><a href="/gostd/strconv/extfloat.go.html#2378209">pow</a></span>&nbsp;<span class="op" id="2378313">*=</span>&nbsp;<span class="num" id="2378316">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378323">rest</span>&nbsp;<span class="op" id="2378328">:=</span>&nbsp;<span class="ident" id="2378331"><a href="/gostd/strconv/extfloat.go.html#2377826">integer</a></span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378340">if</span>&nbsp;<span class="ident" id="2378343"><a href="/gostd/strconv/extfloat.go.html#2378075">integerDigits</a></span>&nbsp;<span class="op" id="2378357">&gt;</span>&nbsp;<span class="ident" id="2378359"><a href="/gostd/strconv/extfloat.go.html#2378017">needed</a></span>&nbsp;<span class="op" id="2378366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378370">//&nbsp;the&nbsp;integral&nbsp;part&nbsp;is&nbsp;already&nbsp;large,&nbsp;trim&nbsp;the&nbsp;last&nbsp;digits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378433"><a href="/gostd/strconv/extfloat.go.html#2378139">pow10</a></span>&nbsp;<span class="op" id="2378439">=</span>&nbsp;<span class="ident" id="2378441"><a href="/gostd/strconv/extfloat.go.html#2373453">uint64pow10</a></span><span class="op" id="2378452">[</span><span class="ident" id="2378453"><a href="/gostd/strconv/extfloat.go.html#2378075">integerDigits</a></span><span class="op" id="2378466">-</span><span class="ident" id="2378467"><a href="/gostd/strconv/extfloat.go.html#2378017">needed</a></span><span class="op" id="2378473">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378477"><a href="/gostd/strconv/extfloat.go.html#2377826">integer</a></span>&nbsp;<span class="op" id="2378485">/=</span>&nbsp;<span class="builtintype" id="2378488">uint32</span><span class="op" id="2378494">(</span><span class="ident" id="2378495"><a href="/gostd/strconv/extfloat.go.html#2378139">pow10</a></span><span class="op" id="2378500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378504"><a href="/gostd/strconv/extfloat.go.html#2378323">rest</a></span>&nbsp;<span class="op" id="2378509">-=</span>&nbsp;<span class="ident" id="2378512"><a href="/gostd/strconv/extfloat.go.html#2377826">integer</a></span>&nbsp;<span class="op" id="2378520">*</span>&nbsp;<span class="builtintype" id="2378522">uint32</span><span class="op" id="2378528">(</span><span class="ident" id="2378529"><a href="/gostd/strconv/extfloat.go.html#2378139">pow10</a></span><span class="op" id="2378534">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378537">}</span>&nbsp;<span class="keyword" id="2378539">else</span>&nbsp;<span class="op" id="2378544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378548"><a href="/gostd/strconv/extfloat.go.html#2378323">rest</a></span>&nbsp;<span class="op" id="2378553">=</span>&nbsp;<span class="num" id="2378555">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2378562">//&nbsp;Write&nbsp;the&nbsp;digits&nbsp;of&nbsp;integer:&nbsp;the&nbsp;digits&nbsp;of&nbsp;rest&nbsp;are&nbsp;omitted.</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378627">var</span>&nbsp;<span class="ident" id="2378631">buf</span>&nbsp;<span class="op" id="2378635">[</span><span class="num" id="2378636">32</span><span class="op" id="2378638">]</span><span class="builtintype" id="2378639">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378645">pos</span>&nbsp;<span class="op" id="2378649">:=</span>&nbsp;<span class="builtinfunc" id="2378652">len</span><span class="op" id="2378655">(</span><span class="ident" id="2378656"><a href="/gostd/strconv/extfloat.go.html#2378631">buf</a></span><span class="op" id="2378659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378662">for</span>&nbsp;<span class="ident" id="2378666">v</span>&nbsp;<span class="op" id="2378668">:=</span>&nbsp;<span class="ident" id="2378671"><a href="/gostd/strconv/extfloat.go.html#2377826">integer</a></span><span class="op" id="2378678">;</span>&nbsp;<span class="ident" id="2378680"><a href="/gostd/strconv/extfloat.go.html#2378666">v</a></span>&nbsp;<span class="op" id="2378682">&gt;</span>&nbsp;<span class="num" id="2378684">0</span><span class="op" id="2378685">;</span>&nbsp;<span class="op" id="2378687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378691">v1</span>&nbsp;<span class="op" id="2378694">:=</span>&nbsp;<span class="ident" id="2378697"><a href="/gostd/strconv/extfloat.go.html#2378666">v</a></span>&nbsp;<span class="op" id="2378699">/</span>&nbsp;<span class="num" id="2378701">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378706"><a href="/gostd/strconv/extfloat.go.html#2378666">v</a></span>&nbsp;<span class="op" id="2378708">-=</span>&nbsp;<span class="num" id="2378711">10</span>&nbsp;<span class="op" id="2378714">*</span>&nbsp;<span class="ident" id="2378716"><a href="/gostd/strconv/extfloat.go.html#2378691">v1</a></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378721"><a href="/gostd/strconv/extfloat.go.html#2378645">pos</a></span><span class="op" id="2378724">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378729"><a href="/gostd/strconv/extfloat.go.html#2378631">buf</a></span><span class="op" id="2378732">[</span><span class="ident" id="2378733"><a href="/gostd/strconv/extfloat.go.html#2378645">pos</a></span><span class="op" id="2378736">]</span>&nbsp;<span class="op" id="2378738">=</span>&nbsp;<span class="builtintype" id="2378740">byte</span><span class="op" id="2378744">(</span><span class="ident" id="2378745"><a href="/gostd/strconv/extfloat.go.html#2378666">v</a></span>&nbsp;<span class="op" id="2378747">+</span>&nbsp;<span class="string" id="2378749">&#39;0&#39;</span><span class="op" id="2378752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378756"><a href="/gostd/strconv/extfloat.go.html#2378666">v</a></span>&nbsp;<span class="op" id="2378758">=</span>&nbsp;<span class="ident" id="2378760"><a href="/gostd/strconv/extfloat.go.html#2378691">v1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378767">for</span>&nbsp;<span class="ident" id="2378771">i</span>&nbsp;<span class="op" id="2378773">:=</span>&nbsp;<span class="ident" id="2378776"><a href="/gostd/strconv/extfloat.go.html#2378645">pos</a></span><span class="op" id="2378779">;</span>&nbsp;<span class="ident" id="2378781"><a href="/gostd/strconv/extfloat.go.html#2378771">i</a></span>&nbsp;<span class="op" id="2378783">&lt;</span>&nbsp;<span class="builtinfunc" id="2378785">len</span><span class="op" id="2378788">(</span><span class="ident" id="2378789"><a href="/gostd/strconv/extfloat.go.html#2378631">buf</a></span><span class="op" id="2378792">)</span><span class="op" id="2378793">;</span>&nbsp;<span class="ident" id="2378795"><a href="/gostd/strconv/extfloat.go.html#2378771">i</a></span><span class="op" id="2378796">++</span>&nbsp;<span class="op" id="2378799">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378803"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2378804">.</span><span class="ident" id="2378805"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2378806">[</span><span class="ident" id="2378807"><a href="/gostd/strconv/extfloat.go.html#2378771">i</a></span><span class="op" id="2378808">-</span><span class="ident" id="2378809"><a href="/gostd/strconv/extfloat.go.html#2378645">pos</a></span><span class="op" id="2378812">]</span>&nbsp;<span class="op" id="2378814">=</span>&nbsp;<span class="ident" id="2378816"><a href="/gostd/strconv/extfloat.go.html#2378631">buf</a></span><span class="op" id="2378819">[</span><span class="ident" id="2378820"><a href="/gostd/strconv/extfloat.go.html#2378771">i</a></span><span class="op" id="2378821">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2378824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378827">nd</span>&nbsp;<span class="op" id="2378830">:=</span>&nbsp;<span class="builtinfunc" id="2378833">len</span><span class="op" id="2378836">(</span><span class="ident" id="2378837"><a href="/gostd/strconv/extfloat.go.html#2378631">buf</a></span><span class="op" id="2378840">)</span>&nbsp;<span class="op" id="2378842">-</span>&nbsp;<span class="ident" id="2378844"><a href="/gostd/strconv/extfloat.go.html#2378645">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378849"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2378850">.</span><span class="ident" id="2378851"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2378854">=</span>&nbsp;<span class="ident" id="2378856"><a href="/gostd/strconv/extfloat.go.html#2378827">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378860"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2378861">.</span><span class="ident" id="2378862"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2378865">=</span>&nbsp;<span class="ident" id="2378867"><a href="/gostd/strconv/extfloat.go.html#2378075">integerDigits</a></span>&nbsp;<span class="op" id="2378881">+</span>&nbsp;<span class="ident" id="2378883"><a href="/gostd/strconv/extfloat.go.html#2377777">exp10</a></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2378890"><a href="/gostd/strconv/extfloat.go.html#2378017">needed</a></span>&nbsp;<span class="op" id="2378897">-=</span>&nbsp;<span class="ident" id="2378900"><a href="/gostd/strconv/extfloat.go.html#2378827">nd</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378905">if</span>&nbsp;<span class="ident" id="2378908"><a href="/gostd/strconv/extfloat.go.html#2378017">needed</a></span>&nbsp;<span class="op" id="2378915">&gt;</span>&nbsp;<span class="num" id="2378917">0</span>&nbsp;<span class="op" id="2378919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2378923">if</span>&nbsp;<span class="ident" id="2378926"><a href="/gostd/strconv/extfloat.go.html#2378323">rest</a></span>&nbsp;<span class="op" id="2378931">!=</span>&nbsp;<span class="num" id="2378934">0</span>&nbsp;<span class="op" id="2378936">||</span>&nbsp;<span class="ident" id="2378939"><a href="/gostd/strconv/extfloat.go.html#2378139">pow10</a></span>&nbsp;<span class="op" id="2378945">!=</span>&nbsp;<span class="num" id="2378948">1</span>&nbsp;<span class="op" id="2378950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2378955">panic</span><span class="op" id="2378960">(</span><span class="string" id="2378961">&#34;strconv:&nbsp;internal&nbsp;error,&nbsp;rest&nbsp;!=&nbsp;0&nbsp;but&nbsp;needed&nbsp;&gt;&nbsp;0&#34;</span><span class="op" id="2379012">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379020">//&nbsp;Emit&nbsp;digits&nbsp;for&nbsp;the&nbsp;fractional&nbsp;part.&nbsp;Each&nbsp;time,&nbsp;10*fraction</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379085">//&nbsp;fits&nbsp;in&nbsp;a&nbsp;uint64&nbsp;without&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379125">for</span>&nbsp;<span class="ident" id="2379129"><a href="/gostd/strconv/extfloat.go.html#2378017">needed</a></span>&nbsp;<span class="op" id="2379136">&gt;</span>&nbsp;<span class="num" id="2379138">0</span>&nbsp;<span class="op" id="2379140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379145"><a href="/gostd/strconv/extfloat.go.html#2377862">fraction</a></span>&nbsp;<span class="op" id="2379154">*=</span>&nbsp;<span class="num" id="2379157">10</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379163"><a href="/gostd/strconv/extfloat.go.html#2377911">ε</a></span>&nbsp;<span class="op" id="2379166">*=</span>&nbsp;<span class="num" id="2379169">10</span>&nbsp;<span class="comment" id="2379172">//&nbsp;the&nbsp;uncertainty&nbsp;scales&nbsp;as&nbsp;we&nbsp;multiply&nbsp;by&nbsp;ten.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379224">if</span>&nbsp;<span class="num" id="2379227">2</span><span class="op" id="2379228">*</span><span class="ident" id="2379229"><a href="/gostd/strconv/extfloat.go.html#2377911">ε</a></span>&nbsp;<span class="op" id="2379232">&gt;</span>&nbsp;<span class="num" id="2379234">1</span><span class="op" id="2379235">&lt;&lt;</span><span class="ident" id="2379237"><a href="/gostd/strconv/extfloat.go.html#2377803">shift</a></span>&nbsp;<span class="op" id="2379243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379249">//&nbsp;the&nbsp;error&nbsp;is&nbsp;so&nbsp;large&nbsp;it&nbsp;could&nbsp;modify&nbsp;which&nbsp;digit&nbsp;to&nbsp;write,&nbsp;abort.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2379323">return</span>&nbsp;<span class="builtintype" id="2379330">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379339">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379344">digit</span>&nbsp;<span class="op" id="2379350">:=</span>&nbsp;<span class="ident" id="2379353"><a href="/gostd/strconv/extfloat.go.html#2377862">fraction</a></span>&nbsp;<span class="op" id="2379362">&gt;&gt;</span>&nbsp;<span class="ident" id="2379365"><a href="/gostd/strconv/extfloat.go.html#2377803">shift</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379374"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2379375">.</span><span class="ident" id="2379376"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2379377">[</span><span class="ident" id="2379378"><a href="/gostd/strconv/extfloat.go.html#2378827">nd</a></span><span class="op" id="2379380">]</span>&nbsp;<span class="op" id="2379382">=</span>&nbsp;<span class="builtintype" id="2379384">byte</span><span class="op" id="2379388">(</span><span class="ident" id="2379389"><a href="/gostd/strconv/extfloat.go.html#2379344">digit</a></span>&nbsp;<span class="op" id="2379395">+</span>&nbsp;<span class="string" id="2379397">&#39;0&#39;</span><span class="op" id="2379400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379405"><a href="/gostd/strconv/extfloat.go.html#2377862">fraction</a></span>&nbsp;<span class="op" id="2379414">-=</span>&nbsp;<span class="ident" id="2379417"><a href="/gostd/strconv/extfloat.go.html#2379344">digit</a></span>&nbsp;<span class="op" id="2379423">&lt;&lt;</span>&nbsp;<span class="ident" id="2379426"><a href="/gostd/strconv/extfloat.go.html#2377803">shift</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379435"><a href="/gostd/strconv/extfloat.go.html#2378827">nd</a></span><span class="op" id="2379437">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379443"><a href="/gostd/strconv/extfloat.go.html#2378017">needed</a></span><span class="op" id="2379449">--</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2379458"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2379459">.</span><span class="ident" id="2379460"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2379463">=</span>&nbsp;<span class="ident" id="2379465"><a href="/gostd/strconv/extfloat.go.html#2378827">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2379469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379473">//&nbsp;We&nbsp;have&nbsp;written&nbsp;a&nbsp;truncation&nbsp;of&nbsp;f&nbsp;(a&nbsp;numerator&nbsp;/&nbsp;10^d.dp).&nbsp;The&nbsp;remaining&nbsp;part</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379555">//&nbsp;can&nbsp;be&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;small&nbsp;number&nbsp;(&lt;&nbsp;1)&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;last&nbsp;digit&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379639">//&nbsp;numerator.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379654">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379658">//&nbsp;If&nbsp;rest&nbsp;&gt;&nbsp;0,&nbsp;the&nbsp;amount&nbsp;is:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379690">//&nbsp;&nbsp;&nbsp;&nbsp;(rest&lt;&lt;shift&nbsp;|&nbsp;fraction)&nbsp;/&nbsp;(pow10&nbsp;&lt;&lt;&nbsp;shift)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379741">//&nbsp;&nbsp;&nbsp;&nbsp;fraction&nbsp;being&nbsp;known&nbsp;with&nbsp;a&nbsp;±ε&nbsp;uncertainty.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379794">//&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;fact&nbsp;that&nbsp;n&nbsp;&gt;&nbsp;0&nbsp;guarantees&nbsp;that&nbsp;pow10&nbsp;&lt;&lt;&nbsp;shift&nbsp;does&nbsp;not&nbsp;overflow&nbsp;a&nbsp;uint64.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379880">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379884">//&nbsp;If&nbsp;rest&nbsp;=&nbsp;0,&nbsp;pow10&nbsp;==&nbsp;1&nbsp;and&nbsp;the&nbsp;amount&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379930">//&nbsp;&nbsp;&nbsp;&nbsp;fraction&nbsp;/&nbsp;(1&nbsp;&lt;&lt;&nbsp;shift)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2379961">//&nbsp;&nbsp;&nbsp;&nbsp;fraction&nbsp;being&nbsp;known&nbsp;with&nbsp;a&nbsp;±ε&nbsp;uncertainty.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380014">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380018">//&nbsp;We&nbsp;pass&nbsp;this&nbsp;information&nbsp;to&nbsp;the&nbsp;rounding&nbsp;routine&nbsp;for&nbsp;adjustment.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380088">ok</span>&nbsp;<span class="op" id="2380091">:=</span>&nbsp;<span class="ident" id="2380094"><a href="/gostd/strconv/extfloat.go.html#2380802">adjustLastDigitFixed</a></span><span class="op" id="2380114">(</span><span class="ident" id="2380115"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2380116">,</span>&nbsp;<span class="builtintype" id="2380118">uint64</span><span class="op" id="2380124">(</span><span class="ident" id="2380125"><a href="/gostd/strconv/extfloat.go.html#2378323">rest</a></span><span class="op" id="2380129">)</span><span class="op" id="2380130">&lt;&lt;</span><span class="ident" id="2380132"><a href="/gostd/strconv/extfloat.go.html#2377803">shift</a></span><span class="op" id="2380137">|</span><span class="ident" id="2380138"><a href="/gostd/strconv/extfloat.go.html#2377862">fraction</a></span><span class="op" id="2380146">,</span>&nbsp;<span class="ident" id="2380148"><a href="/gostd/strconv/extfloat.go.html#2378139">pow10</a></span><span class="op" id="2380153">,</span>&nbsp;<span class="ident" id="2380155"><a href="/gostd/strconv/extfloat.go.html#2377803">shift</a></span><span class="op" id="2380160">,</span>&nbsp;<span class="ident" id="2380162"><a href="/gostd/strconv/extfloat.go.html#2377911">ε</a></span><span class="op" id="2380164">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380167">if</span>&nbsp;<span class="op" id="2380170">!</span><span class="ident" id="2380171"><a href="/gostd/strconv/extfloat.go.html#2380088">ok</a></span>&nbsp;<span class="op" id="2380174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380178">return</span>&nbsp;<span class="builtintype" id="2380185">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2380195">//&nbsp;Trim&nbsp;trailing&nbsp;zeros.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380220">for</span>&nbsp;<span class="ident" id="2380224">i</span>&nbsp;<span class="op" id="2380226">:=</span>&nbsp;<span class="ident" id="2380229"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2380230">.</span><span class="ident" id="2380231"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2380234">-</span>&nbsp;<span class="num" id="2380236">1</span><span class="op" id="2380237">;</span>&nbsp;<span class="ident" id="2380239"><a href="/gostd/strconv/extfloat.go.html#2380224">i</a></span>&nbsp;<span class="op" id="2380241">&gt;=</span>&nbsp;<span class="num" id="2380244">0</span><span class="op" id="2380245">;</span>&nbsp;<span class="ident" id="2380247"><a href="/gostd/strconv/extfloat.go.html#2380224">i</a></span><span class="op" id="2380248">--</span>&nbsp;<span class="op" id="2380251">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380255">if</span>&nbsp;<span class="ident" id="2380258"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2380259">.</span><span class="ident" id="2380260"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2380261">[</span><span class="ident" id="2380262"><a href="/gostd/strconv/extfloat.go.html#2380224">i</a></span><span class="op" id="2380263">]</span>&nbsp;<span class="op" id="2380265">!=</span>&nbsp;<span class="string" id="2380268">&#39;0&#39;</span>&nbsp;<span class="op" id="2380272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2380277"><a href="/gostd/strconv/extfloat.go.html#2377476">d</a></span><span class="op" id="2380278">.</span><span class="ident" id="2380279"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2380282">=</span>&nbsp;<span class="ident" id="2380284"><a href="/gostd/strconv/extfloat.go.html#2380224">i</a></span>&nbsp;<span class="op" id="2380286">+</span>&nbsp;<span class="num" id="2380288">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380293">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380304">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380307">return</span>&nbsp;<span class="builtintype" id="2380314">true</span><br>
<span class="lineno"></span><span class="op" id="2380319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2380322">//&nbsp;adjustLastDigitFixed&nbsp;assumes&nbsp;d&nbsp;contains&nbsp;the&nbsp;representation&nbsp;of&nbsp;the&nbsp;integral&nbsp;part</span><br>
<span class="lineno"></span><span class="comment" id="2380405">//&nbsp;of&nbsp;some&nbsp;number,&nbsp;whose&nbsp;fractional&nbsp;part&nbsp;is&nbsp;num&nbsp;/&nbsp;(den&nbsp;&lt;&lt;&nbsp;shift).&nbsp;The&nbsp;numerator</span><br>
<span class="lineno">490</span><span class="comment" id="2380485">//&nbsp;num&nbsp;is&nbsp;only&nbsp;known&nbsp;up&nbsp;to&nbsp;an&nbsp;uncertainty&nbsp;of&nbsp;size&nbsp;ε,&nbsp;assumed&nbsp;to&nbsp;be&nbsp;less&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="2380563">//&nbsp;(den&nbsp;&lt;&lt;&nbsp;shift)/2.</span><br>
<span class="lineno"></span><span class="comment" id="2380584">//</span><br>
<span class="lineno"></span><span class="comment" id="2380587">//&nbsp;It&nbsp;will&nbsp;increase&nbsp;the&nbsp;last&nbsp;digit&nbsp;by&nbsp;one&nbsp;to&nbsp;account&nbsp;for&nbsp;correct&nbsp;rounding,&nbsp;typically</span><br>
<span class="lineno"></span><span class="comment" id="2380672">//&nbsp;when&nbsp;the&nbsp;fractional&nbsp;part&nbsp;is&nbsp;greater&nbsp;than&nbsp;1/2,&nbsp;and&nbsp;will&nbsp;return&nbsp;false&nbsp;if&nbsp;ε&nbsp;is&nbsp;such</span><br>
<span class="lineno">495</span><span class="comment" id="2380757">//&nbsp;that&nbsp;no&nbsp;correct&nbsp;answer&nbsp;can&nbsp;be&nbsp;given.</span><br>
<span class="lineno"></span><span class="keyword" id="2380797">func</span>&nbsp;<span class="ident" id="2380802">adjustLastDigitFixed</span><span class="op" id="2380822">(</span><span class="ident" id="2380823">d</span>&nbsp;<span class="op" id="2380825">*</span><span class="ident" id="2380826"><a href="/gostd/strconv/ftoa.go.html#2394578">decimalSlice</a></span><span class="op" id="2380838">,</span>&nbsp;<span class="ident" id="2380840">num</span><span class="op" id="2380843">,</span>&nbsp;<span class="ident" id="2380845">den</span>&nbsp;<span class="builtintype" id="2380849">uint64</span><span class="op" id="2380855">,</span>&nbsp;<span class="ident" id="2380857">shift</span>&nbsp;<span class="builtintype" id="2380863">uint</span><span class="op" id="2380867">,</span>&nbsp;<span class="ident" id="2380869">ε</span>&nbsp;<span class="builtintype" id="2380872">uint64</span><span class="op" id="2380878">)</span>&nbsp;<span class="builtintype" id="2380880">bool</span>&nbsp;<span class="op" id="2380885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380888">if</span>&nbsp;<span class="ident" id="2380891"><a href="/gostd/strconv/extfloat.go.html#2380840">num</a></span>&nbsp;<span class="op" id="2380895">&gt;</span>&nbsp;<span class="ident" id="2380897"><a href="/gostd/strconv/extfloat.go.html#2380845">den</a></span><span class="op" id="2380900">&lt;&lt;</span><span class="ident" id="2380902"><a href="/gostd/strconv/extfloat.go.html#2380857">shift</a></span>&nbsp;<span class="op" id="2380908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2380912">panic</span><span class="op" id="2380917">(</span><span class="string" id="2380918">&#34;strconv:&nbsp;num&nbsp;&gt;&nbsp;den&lt;&lt;shift&nbsp;in&nbsp;adjustLastDigitFixed&#34;</span><span class="op" id="2380969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2380972">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2380975">if</span>&nbsp;<span class="num" id="2380978">2</span><span class="op" id="2380979">*</span><span class="ident" id="2380980"><a href="/gostd/strconv/extfloat.go.html#2380869">ε</a></span>&nbsp;<span class="op" id="2380983">&gt;</span>&nbsp;<span class="ident" id="2380985"><a href="/gostd/strconv/extfloat.go.html#2380845">den</a></span><span class="op" id="2380988">&lt;&lt;</span><span class="ident" id="2380990"><a href="/gostd/strconv/extfloat.go.html#2380857">shift</a></span>&nbsp;<span class="op" id="2380996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2381000">panic</span><span class="op" id="2381005">(</span><span class="string" id="2381006">&#34;strconv:&nbsp;ε&nbsp;&gt;&nbsp;(den&lt;&lt;shift)/2&#34;</span><span class="op" id="2381036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381042">if</span>&nbsp;<span class="num" id="2381045">2</span><span class="op" id="2381046">*</span><span class="op" id="2381047">(</span><span class="ident" id="2381048"><a href="/gostd/strconv/extfloat.go.html#2380840">num</a></span><span class="op" id="2381051">+</span><span class="ident" id="2381052"><a href="/gostd/strconv/extfloat.go.html#2380869">ε</a></span><span class="op" id="2381054">)</span>&nbsp;<span class="op" id="2381056">&lt;</span>&nbsp;<span class="ident" id="2381058"><a href="/gostd/strconv/extfloat.go.html#2380845">den</a></span><span class="op" id="2381061">&lt;&lt;</span><span class="ident" id="2381063"><a href="/gostd/strconv/extfloat.go.html#2380857">shift</a></span>&nbsp;<span class="op" id="2381069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381073">return</span>&nbsp;<span class="builtintype" id="2381080">true</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381089">if</span>&nbsp;<span class="num" id="2381092">2</span><span class="op" id="2381093">*</span><span class="op" id="2381094">(</span><span class="ident" id="2381095"><a href="/gostd/strconv/extfloat.go.html#2380840">num</a></span><span class="op" id="2381098">-</span><span class="ident" id="2381099"><a href="/gostd/strconv/extfloat.go.html#2380869">ε</a></span><span class="op" id="2381101">)</span>&nbsp;<span class="op" id="2381103">&gt;</span>&nbsp;<span class="ident" id="2381105"><a href="/gostd/strconv/extfloat.go.html#2380845">den</a></span><span class="op" id="2381108">&lt;&lt;</span><span class="ident" id="2381110"><a href="/gostd/strconv/extfloat.go.html#2380857">shift</a></span>&nbsp;<span class="op" id="2381116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2381120">//&nbsp;increment&nbsp;d&nbsp;by&nbsp;1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381143">i</span>&nbsp;<span class="op" id="2381145">:=</span>&nbsp;<span class="ident" id="2381148"><a href="/gostd/strconv/extfloat.go.html#2380823">d</a></span><span class="op" id="2381149">.</span><span class="ident" id="2381150"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2381153">-</span>&nbsp;<span class="num" id="2381155">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381159">for</span>&nbsp;<span class="op" id="2381163">;</span>&nbsp;<span class="ident" id="2381165"><a href="/gostd/strconv/extfloat.go.html#2381143">i</a></span>&nbsp;<span class="op" id="2381167">&gt;=</span>&nbsp;<span class="num" id="2381170">0</span><span class="op" id="2381171">;</span>&nbsp;<span class="ident" id="2381173"><a href="/gostd/strconv/extfloat.go.html#2381143">i</a></span><span class="op" id="2381174">--</span>&nbsp;<span class="op" id="2381177">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381182">if</span>&nbsp;<span class="ident" id="2381185"><a href="/gostd/strconv/extfloat.go.html#2380823">d</a></span><span class="op" id="2381186">.</span><span class="ident" id="2381187"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2381188">[</span><span class="ident" id="2381189"><a href="/gostd/strconv/extfloat.go.html#2381143">i</a></span><span class="op" id="2381190">]</span>&nbsp;<span class="op" id="2381192">==</span>&nbsp;<span class="string" id="2381195">&#39;9&#39;</span>&nbsp;<span class="op" id="2381199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381205"><a href="/gostd/strconv/extfloat.go.html#2380823">d</a></span><span class="op" id="2381206">.</span><span class="ident" id="2381207"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span><span class="op" id="2381209">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381215">}</span>&nbsp;<span class="keyword" id="2381217">else</span>&nbsp;<span class="op" id="2381222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381228">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381237">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381245">if</span>&nbsp;<span class="ident" id="2381248"><a href="/gostd/strconv/extfloat.go.html#2381143">i</a></span>&nbsp;<span class="op" id="2381250">&lt;</span>&nbsp;<span class="num" id="2381252">0</span>&nbsp;<span class="op" id="2381254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381259"><a href="/gostd/strconv/extfloat.go.html#2380823">d</a></span><span class="op" id="2381260">.</span><span class="ident" id="2381261"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2381262">[</span><span class="num" id="2381263">0</span><span class="op" id="2381264">]</span>&nbsp;<span class="op" id="2381266">=</span>&nbsp;<span class="string" id="2381268">&#39;1&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381275"><a href="/gostd/strconv/extfloat.go.html#2380823">d</a></span><span class="op" id="2381276">.</span><span class="ident" id="2381277"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2381280">=</span>&nbsp;<span class="num" id="2381282">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381287"><a href="/gostd/strconv/extfloat.go.html#2380823">d</a></span><span class="op" id="2381288">.</span><span class="ident" id="2381289"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span><span class="op" id="2381291">++</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381296">}</span>&nbsp;<span class="keyword" id="2381298">else</span>&nbsp;<span class="op" id="2381303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381308"><a href="/gostd/strconv/extfloat.go.html#2380823">d</a></span><span class="op" id="2381309">.</span><span class="ident" id="2381310"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2381311">[</span><span class="ident" id="2381312"><a href="/gostd/strconv/extfloat.go.html#2381143">i</a></span><span class="op" id="2381313">]</span><span class="op" id="2381314">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381323">return</span>&nbsp;<span class="builtintype" id="2381330">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381336">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381339">return</span>&nbsp;<span class="builtintype" id="2381346">false</span><br>
<span class="lineno"></span><span class="op" id="2381352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2381355">//&nbsp;ShortestDecimal&nbsp;stores&nbsp;in&nbsp;d&nbsp;the&nbsp;shortest&nbsp;decimal&nbsp;representation&nbsp;of&nbsp;f</span><br>
<span class="lineno"></span><span class="comment" id="2381427">//&nbsp;which&nbsp;belongs&nbsp;to&nbsp;the&nbsp;open&nbsp;interval&nbsp;(lower,&nbsp;upper),&nbsp;where&nbsp;f&nbsp;is&nbsp;supposed</span><br>
<span class="lineno">530</span><span class="comment" id="2381501">//&nbsp;to&nbsp;lie.&nbsp;It&nbsp;returns&nbsp;false&nbsp;whenever&nbsp;the&nbsp;result&nbsp;is&nbsp;unsure.&nbsp;The&nbsp;implementation</span><br>
<span class="lineno"></span><span class="comment" id="2381579">//&nbsp;uses&nbsp;the&nbsp;Grisu3&nbsp;algorithm.</span><br>
<span class="lineno"></span><span class="keyword" id="2381609">func</span>&nbsp;<span class="op" id="2381614">(</span><span class="ident" id="2381615">f</span>&nbsp;<span class="op" id="2381617">*</span><span class="ident" id="2381618"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2381626">)</span>&nbsp;<span class="ident" id="2381628">ShortestDecimal</span><span class="op" id="2381643">(</span><span class="ident" id="2381644">d</span>&nbsp;<span class="op" id="2381646">*</span><span class="ident" id="2381647"><a href="/gostd/strconv/ftoa.go.html#2394578">decimalSlice</a></span><span class="op" id="2381659">,</span>&nbsp;<span class="ident" id="2381661">lower</span><span class="op" id="2381666">,</span>&nbsp;<span class="ident" id="2381668">upper</span>&nbsp;<span class="op" id="2381674">*</span><span class="ident" id="2381675"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2381683">)</span>&nbsp;<span class="builtintype" id="2381685">bool</span>&nbsp;<span class="op" id="2381690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381693">if</span>&nbsp;<span class="ident" id="2381696"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2381697">.</span><span class="ident" id="2381698"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2381703">==</span>&nbsp;<span class="num" id="2381706">0</span>&nbsp;<span class="op" id="2381708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381712"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2381713">.</span><span class="ident" id="2381714"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2381717">=</span>&nbsp;<span class="num" id="2381719">0</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381723"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2381724">.</span><span class="ident" id="2381725"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2381728">=</span>&nbsp;<span class="num" id="2381730">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381734"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2381735">.</span><span class="ident" id="2381736"><a href="/gostd/strconv/ftoa.go.html#2394628">neg</a></span>&nbsp;<span class="op" id="2381740">=</span>&nbsp;<span class="ident" id="2381742"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2381743">.</span><span class="ident" id="2381744"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381750">return</span>&nbsp;<span class="builtintype" id="2381757">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381766">if</span>&nbsp;<span class="ident" id="2381769"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2381770">.</span><span class="ident" id="2381771"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2381775">==</span>&nbsp;<span class="num" id="2381778">0</span>&nbsp;<span class="op" id="2381780">&amp;&amp;</span>&nbsp;<span class="op" id="2381783">*</span><span class="ident" id="2381784"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span>&nbsp;<span class="op" id="2381790">==</span>&nbsp;<span class="op" id="2381793">*</span><span class="ident" id="2381794"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span>&nbsp;<span class="op" id="2381796">&amp;&amp;</span>&nbsp;<span class="op" id="2381799">*</span><span class="ident" id="2381800"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span>&nbsp;<span class="op" id="2381806">==</span>&nbsp;<span class="op" id="2381809">*</span><span class="ident" id="2381810"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span>&nbsp;<span class="op" id="2381816">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2381820">//&nbsp;an&nbsp;exact&nbsp;integer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381843">var</span>&nbsp;<span class="ident" id="2381847">buf</span>&nbsp;<span class="op" id="2381851">[</span><span class="num" id="2381852">24</span><span class="op" id="2381854">]</span><span class="builtintype" id="2381855">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381862">n</span>&nbsp;<span class="op" id="2381864">:=</span>&nbsp;<span class="builtinfunc" id="2381867">len</span><span class="op" id="2381870">(</span><span class="ident" id="2381871"><a href="/gostd/strconv/extfloat.go.html#2381847">buf</a></span><span class="op" id="2381874">)</span>&nbsp;<span class="op" id="2381876">-</span>&nbsp;<span class="num" id="2381878">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2381882">for</span>&nbsp;<span class="ident" id="2381886">v</span>&nbsp;<span class="op" id="2381888">:=</span>&nbsp;<span class="ident" id="2381891"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2381892">.</span><span class="ident" id="2381893"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2381897">;</span>&nbsp;<span class="ident" id="2381899"><a href="/gostd/strconv/extfloat.go.html#2381886">v</a></span>&nbsp;<span class="op" id="2381901">&gt;</span>&nbsp;<span class="num" id="2381903">0</span><span class="op" id="2381904">;</span>&nbsp;<span class="op" id="2381906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381911">v1</span>&nbsp;<span class="op" id="2381914">:=</span>&nbsp;<span class="ident" id="2381917"><a href="/gostd/strconv/extfloat.go.html#2381886">v</a></span>&nbsp;<span class="op" id="2381919">/</span>&nbsp;<span class="num" id="2381921">10</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381927"><a href="/gostd/strconv/extfloat.go.html#2381886">v</a></span>&nbsp;<span class="op" id="2381929">-=</span>&nbsp;<span class="num" id="2381932">10</span>&nbsp;<span class="op" id="2381935">*</span>&nbsp;<span class="ident" id="2381937"><a href="/gostd/strconv/extfloat.go.html#2381911">v1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381943"><a href="/gostd/strconv/extfloat.go.html#2381847">buf</a></span><span class="op" id="2381946">[</span><span class="ident" id="2381947"><a href="/gostd/strconv/extfloat.go.html#2381862">n</a></span><span class="op" id="2381948">]</span>&nbsp;<span class="op" id="2381950">=</span>&nbsp;<span class="builtintype" id="2381952">byte</span><span class="op" id="2381956">(</span><span class="ident" id="2381957"><a href="/gostd/strconv/extfloat.go.html#2381886">v</a></span>&nbsp;<span class="op" id="2381959">+</span>&nbsp;<span class="string" id="2381961">&#39;0&#39;</span><span class="op" id="2381964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381969"><a href="/gostd/strconv/extfloat.go.html#2381862">n</a></span><span class="op" id="2381970">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381976"><a href="/gostd/strconv/extfloat.go.html#2381886">v</a></span>&nbsp;<span class="op" id="2381978">=</span>&nbsp;<span class="ident" id="2381980"><a href="/gostd/strconv/extfloat.go.html#2381911">v1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2381985">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2381989">nd</span>&nbsp;<span class="op" id="2381992">:=</span>&nbsp;<span class="builtinfunc" id="2381995">len</span><span class="op" id="2381998">(</span><span class="ident" id="2381999"><a href="/gostd/strconv/extfloat.go.html#2381847">buf</a></span><span class="op" id="2382002">)</span>&nbsp;<span class="op" id="2382004">-</span>&nbsp;<span class="ident" id="2382006"><a href="/gostd/strconv/extfloat.go.html#2381862">n</a></span>&nbsp;<span class="op" id="2382008">-</span>&nbsp;<span class="num" id="2382010">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2382014">for</span>&nbsp;<span class="ident" id="2382018">i</span>&nbsp;<span class="op" id="2382020">:=</span>&nbsp;<span class="num" id="2382023">0</span><span class="op" id="2382024">;</span>&nbsp;<span class="ident" id="2382026"><a href="/gostd/strconv/extfloat.go.html#2382018">i</a></span>&nbsp;<span class="op" id="2382028">&lt;</span>&nbsp;<span class="ident" id="2382030"><a href="/gostd/strconv/extfloat.go.html#2381989">nd</a></span><span class="op" id="2382032">;</span>&nbsp;<span class="ident" id="2382034"><a href="/gostd/strconv/extfloat.go.html#2382018">i</a></span><span class="op" id="2382035">++</span>&nbsp;<span class="op" id="2382038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382043"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382044">.</span><span class="ident" id="2382045"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2382046">[</span><span class="ident" id="2382047"><a href="/gostd/strconv/extfloat.go.html#2382018">i</a></span><span class="op" id="2382048">]</span>&nbsp;<span class="op" id="2382050">=</span>&nbsp;<span class="ident" id="2382052"><a href="/gostd/strconv/extfloat.go.html#2381847">buf</a></span><span class="op" id="2382055">[</span><span class="ident" id="2382056"><a href="/gostd/strconv/extfloat.go.html#2381862">n</a></span><span class="op" id="2382057">+</span><span class="num" id="2382058">1</span><span class="op" id="2382059">+</span><span class="ident" id="2382060"><a href="/gostd/strconv/extfloat.go.html#2382018">i</a></span><span class="op" id="2382061">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382069"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382070">.</span><span class="ident" id="2382071"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span><span class="op" id="2382073">,</span>&nbsp;<span class="ident" id="2382075"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382076">.</span><span class="ident" id="2382077"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2382080">=</span>&nbsp;<span class="ident" id="2382082"><a href="/gostd/strconv/extfloat.go.html#2381989">nd</a></span><span class="op" id="2382084">,</span>&nbsp;<span class="ident" id="2382086"><a href="/gostd/strconv/extfloat.go.html#2381989">nd</a></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2382091">for</span>&nbsp;<span class="ident" id="2382095"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382096">.</span><span class="ident" id="2382097"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2382100">&gt;</span>&nbsp;<span class="num" id="2382102">0</span>&nbsp;<span class="op" id="2382104">&amp;&amp;</span>&nbsp;<span class="ident" id="2382107"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382108">.</span><span class="ident" id="2382109"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2382110">[</span><span class="ident" id="2382111"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382112">.</span><span class="ident" id="2382113"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span><span class="op" id="2382115">-</span><span class="num" id="2382116">1</span><span class="op" id="2382117">]</span>&nbsp;<span class="op" id="2382119">==</span>&nbsp;<span class="string" id="2382122">&#39;0&#39;</span>&nbsp;<span class="op" id="2382126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382131"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382132">.</span><span class="ident" id="2382133"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span><span class="op" id="2382135">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2382144">if</span>&nbsp;<span class="ident" id="2382147"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382148">.</span><span class="ident" id="2382149"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2382152">==</span>&nbsp;<span class="num" id="2382155">0</span>&nbsp;<span class="op" id="2382157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382162"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382163">.</span><span class="ident" id="2382164"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2382167">=</span>&nbsp;<span class="num" id="2382169">0</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382177"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2382178">.</span><span class="ident" id="2382179"><a href="/gostd/strconv/ftoa.go.html#2394628">neg</a></span>&nbsp;<span class="op" id="2382183">=</span>&nbsp;<span class="ident" id="2382185"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2382186">.</span><span class="ident" id="2382187"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2382193">return</span>&nbsp;<span class="builtintype" id="2382200">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382209"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382214">.</span><span class="ident" id="2382215"><a href="/gostd/strconv/extfloat.go.html#2372404">Normalize</a></span><span class="op" id="2382224">(</span><span class="op" id="2382225">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2382228">//&nbsp;Uniformize&nbsp;exponents.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2382254">if</span>&nbsp;<span class="ident" id="2382257"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2382258">.</span><span class="ident" id="2382259"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382263">&gt;</span>&nbsp;<span class="ident" id="2382265"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382270">.</span><span class="ident" id="2382271"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382279"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2382280">.</span><span class="ident" id="2382281"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2382286">&lt;&lt;=</span>&nbsp;<span class="builtintype" id="2382290">uint</span><span class="op" id="2382294">(</span><span class="ident" id="2382295"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2382296">.</span><span class="ident" id="2382297"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382301">-</span>&nbsp;<span class="ident" id="2382303"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382308">.</span><span class="ident" id="2382309"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2382312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382316"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2382317">.</span><span class="ident" id="2382318"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382322">=</span>&nbsp;<span class="ident" id="2382324"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382329">.</span><span class="ident" id="2382330"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382335">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2382338">if</span>&nbsp;<span class="ident" id="2382341"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span><span class="op" id="2382346">.</span><span class="ident" id="2382347"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382351">&gt;</span>&nbsp;<span class="ident" id="2382353"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382358">.</span><span class="ident" id="2382359"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382367"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span><span class="op" id="2382372">.</span><span class="ident" id="2382373"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2382378">&lt;&lt;=</span>&nbsp;<span class="builtintype" id="2382382">uint</span><span class="op" id="2382386">(</span><span class="ident" id="2382387"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span><span class="op" id="2382392">.</span><span class="ident" id="2382393"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382397">-</span>&nbsp;<span class="ident" id="2382399"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382404">.</span><span class="ident" id="2382405"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2382408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382412"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span><span class="op" id="2382417">.</span><span class="ident" id="2382418"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span>&nbsp;<span class="op" id="2382422">=</span>&nbsp;<span class="ident" id="2382424"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382429">.</span><span class="ident" id="2382430"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2382435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382439">exp10</span>&nbsp;<span class="op" id="2382445">:=</span>&nbsp;<span class="ident" id="2382448"><a href="/gostd/strconv/extfloat.go.html#2377153">frexp10Many</a></span><span class="op" id="2382459">(</span><span class="ident" id="2382460"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span><span class="op" id="2382465">,</span>&nbsp;<span class="ident" id="2382467"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2382468">,</span>&nbsp;<span class="ident" id="2382470"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2382478">//&nbsp;Take&nbsp;a&nbsp;safety&nbsp;margin&nbsp;due&nbsp;to&nbsp;rounding&nbsp;in&nbsp;frexp10Many,&nbsp;but&nbsp;we&nbsp;lose&nbsp;precision.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382558"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382563">.</span><span class="ident" id="2382564"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2382568">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382572"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span><span class="op" id="2382577">.</span><span class="ident" id="2382578"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><span class="op" id="2382582">--</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2382587">//&nbsp;The&nbsp;shortest&nbsp;representation&nbsp;of&nbsp;f&nbsp;is&nbsp;either&nbsp;rounded&nbsp;up&nbsp;or&nbsp;down,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2382658">//&nbsp;in&nbsp;any&nbsp;case,&nbsp;it&nbsp;is&nbsp;a&nbsp;truncation&nbsp;of&nbsp;upper.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382704">shift</span>&nbsp;<span class="op" id="2382710">:=</span>&nbsp;<span class="builtintype" id="2382713">uint</span><span class="op" id="2382717">(</span><span class="op" id="2382718">-</span><span class="ident" id="2382719"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382724">.</span><span class="ident" id="2382725"><a href="/gostd/strconv/extfloat.go.html#2365634">exp</a></span><span class="op" id="2382728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382731">integer</span>&nbsp;<span class="op" id="2382739">:=</span>&nbsp;<span class="builtintype" id="2382742">uint32</span><span class="op" id="2382748">(</span><span class="ident" id="2382749"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382754">.</span><span class="ident" id="2382755"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2382760">&gt;&gt;</span>&nbsp;<span class="ident" id="2382763"><a href="/gostd/strconv/extfloat.go.html#2382704">shift</a></span><span class="op" id="2382768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382771">fraction</span>&nbsp;<span class="op" id="2382780">:=</span>&nbsp;<span class="ident" id="2382783"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382788">.</span><span class="ident" id="2382789"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2382794">-</span>&nbsp;<span class="op" id="2382796">(</span><span class="builtintype" id="2382797">uint64</span><span class="op" id="2382803">(</span><span class="ident" id="2382804"><a href="/gostd/strconv/extfloat.go.html#2382731">integer</a></span><span class="op" id="2382811">)</span>&nbsp;<span class="op" id="2382813">&lt;&lt;</span>&nbsp;<span class="ident" id="2382816"><a href="/gostd/strconv/extfloat.go.html#2382704">shift</a></span><span class="op" id="2382821">)</span><br>
<span class="lineno">585</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2382825">//&nbsp;How&nbsp;far&nbsp;we&nbsp;can&nbsp;go&nbsp;down&nbsp;from&nbsp;upper&nbsp;until&nbsp;the&nbsp;result&nbsp;is&nbsp;wrong.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382890">allowance</span>&nbsp;<span class="op" id="2382900">:=</span>&nbsp;<span class="ident" id="2382903"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2382908">.</span><span class="ident" id="2382909"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2382914">-</span>&nbsp;<span class="ident" id="2382916"><a href="/gostd/strconv/extfloat.go.html#2381661">lower</a></span><span class="op" id="2382921">.</span><span class="ident" id="2382922"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2382928">//&nbsp;How&nbsp;far&nbsp;we&nbsp;should&nbsp;go&nbsp;to&nbsp;get&nbsp;a&nbsp;very&nbsp;precise&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2382983">targetDiff</span>&nbsp;<span class="op" id="2382994">:=</span>&nbsp;<span class="ident" id="2382997"><a href="/gostd/strconv/extfloat.go.html#2381668">upper</a></span><span class="op" id="2383002">.</span><span class="ident" id="2383003"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span>&nbsp;<span class="op" id="2383008">-</span>&nbsp;<span class="ident" id="2383010"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2383011">.</span><span class="ident" id="2383012"><a href="/gostd/strconv/extfloat.go.html#2365621">mant</a></span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2383019">//&nbsp;Count&nbsp;integral&nbsp;digits:&nbsp;there&nbsp;are&nbsp;at&nbsp;most&nbsp;10.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383068">var</span>&nbsp;<span class="ident" id="2383072">integerDigits</span>&nbsp;<span class="builtintype" id="2383086">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383091">for</span>&nbsp;<span class="ident" id="2383095">i</span><span class="op" id="2383096">,</span>&nbsp;<span class="ident" id="2383098">pow</span>&nbsp;<span class="op" id="2383102">:=</span>&nbsp;<span class="num" id="2383105">0</span><span class="op" id="2383106">,</span>&nbsp;<span class="builtintype" id="2383108">uint64</span><span class="op" id="2383114">(</span><span class="num" id="2383115">1</span><span class="op" id="2383116">)</span><span class="op" id="2383117">;</span>&nbsp;<span class="ident" id="2383119"><a href="/gostd/strconv/extfloat.go.html#2383095">i</a></span>&nbsp;<span class="op" id="2383121">&lt;</span>&nbsp;<span class="num" id="2383123">20</span><span class="op" id="2383125">;</span>&nbsp;<span class="ident" id="2383127"><a href="/gostd/strconv/extfloat.go.html#2383095">i</a></span><span class="op" id="2383128">++</span>&nbsp;<span class="op" id="2383131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383135">if</span>&nbsp;<span class="ident" id="2383138"><a href="/gostd/strconv/extfloat.go.html#2383098">pow</a></span>&nbsp;<span class="op" id="2383142">&gt;</span>&nbsp;<span class="builtintype" id="2383144">uint64</span><span class="op" id="2383150">(</span><span class="ident" id="2383151"><a href="/gostd/strconv/extfloat.go.html#2382731">integer</a></span><span class="op" id="2383158">)</span>&nbsp;<span class="op" id="2383160">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383165"><a href="/gostd/strconv/extfloat.go.html#2383072">integerDigits</a></span>&nbsp;<span class="op" id="2383179">=</span>&nbsp;<span class="ident" id="2383181"><a href="/gostd/strconv/extfloat.go.html#2383095">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383186">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383198"><a href="/gostd/strconv/extfloat.go.html#2383098">pow</a></span>&nbsp;<span class="op" id="2383202">*=</span>&nbsp;<span class="num" id="2383205">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383209">}</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383212">for</span>&nbsp;<span class="ident" id="2383216">i</span>&nbsp;<span class="op" id="2383218">:=</span>&nbsp;<span class="num" id="2383221">0</span><span class="op" id="2383222">;</span>&nbsp;<span class="ident" id="2383224"><a href="/gostd/strconv/extfloat.go.html#2383216">i</a></span>&nbsp;<span class="op" id="2383226">&lt;</span>&nbsp;<span class="ident" id="2383228"><a href="/gostd/strconv/extfloat.go.html#2383072">integerDigits</a></span><span class="op" id="2383241">;</span>&nbsp;<span class="ident" id="2383243"><a href="/gostd/strconv/extfloat.go.html#2383216">i</a></span><span class="op" id="2383244">++</span>&nbsp;<span class="op" id="2383247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383251">pow</span>&nbsp;<span class="op" id="2383255">:=</span>&nbsp;<span class="ident" id="2383258"><a href="/gostd/strconv/extfloat.go.html#2373453">uint64pow10</a></span><span class="op" id="2383269">[</span><span class="ident" id="2383270"><a href="/gostd/strconv/extfloat.go.html#2383072">integerDigits</a></span><span class="op" id="2383283">-</span><span class="ident" id="2383284"><a href="/gostd/strconv/extfloat.go.html#2383216">i</a></span><span class="op" id="2383285">-</span><span class="num" id="2383286">1</span><span class="op" id="2383287">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383291">digit</span>&nbsp;<span class="op" id="2383297">:=</span>&nbsp;<span class="ident" id="2383300"><a href="/gostd/strconv/extfloat.go.html#2382731">integer</a></span>&nbsp;<span class="op" id="2383308">/</span>&nbsp;<span class="builtintype" id="2383310">uint32</span><span class="op" id="2383316">(</span><span class="ident" id="2383317"><a href="/gostd/strconv/extfloat.go.html#2383251">pow</a></span><span class="op" id="2383320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383324"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383325">.</span><span class="ident" id="2383326"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2383327">[</span><span class="ident" id="2383328"><a href="/gostd/strconv/extfloat.go.html#2383216">i</a></span><span class="op" id="2383329">]</span>&nbsp;<span class="op" id="2383331">=</span>&nbsp;<span class="builtintype" id="2383333">byte</span><span class="op" id="2383337">(</span><span class="ident" id="2383338"><a href="/gostd/strconv/extfloat.go.html#2383291">digit</a></span>&nbsp;<span class="op" id="2383344">+</span>&nbsp;<span class="string" id="2383346">&#39;0&#39;</span><span class="op" id="2383349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383353"><a href="/gostd/strconv/extfloat.go.html#2382731">integer</a></span>&nbsp;<span class="op" id="2383361">-=</span>&nbsp;<span class="ident" id="2383364"><a href="/gostd/strconv/extfloat.go.html#2383291">digit</a></span>&nbsp;<span class="op" id="2383370">*</span>&nbsp;<span class="builtintype" id="2383372">uint32</span><span class="op" id="2383378">(</span><span class="ident" id="2383379"><a href="/gostd/strconv/extfloat.go.html#2383251">pow</a></span><span class="op" id="2383382">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2383386">//&nbsp;evaluate&nbsp;whether&nbsp;we&nbsp;should&nbsp;stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383424">if</span>&nbsp;<span class="ident" id="2383427">currentDiff</span>&nbsp;<span class="op" id="2383439">:=</span>&nbsp;<span class="builtintype" id="2383442">uint64</span><span class="op" id="2383448">(</span><span class="ident" id="2383449"><a href="/gostd/strconv/extfloat.go.html#2382731">integer</a></span><span class="op" id="2383456">)</span><span class="op" id="2383457">&lt;&lt;</span><span class="ident" id="2383459"><a href="/gostd/strconv/extfloat.go.html#2382704">shift</a></span>&nbsp;<span class="op" id="2383465">+</span>&nbsp;<span class="ident" id="2383467"><a href="/gostd/strconv/extfloat.go.html#2382771">fraction</a></span><span class="op" id="2383475">;</span>&nbsp;<span class="ident" id="2383477"><a href="/gostd/strconv/extfloat.go.html#2383427">currentDiff</a></span>&nbsp;<span class="op" id="2383489">&lt;</span>&nbsp;<span class="ident" id="2383491"><a href="/gostd/strconv/extfloat.go.html#2382890">allowance</a></span>&nbsp;<span class="op" id="2383501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383506"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383507">.</span><span class="ident" id="2383508"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2383511">=</span>&nbsp;<span class="ident" id="2383513"><a href="/gostd/strconv/extfloat.go.html#2383216">i</a></span>&nbsp;<span class="op" id="2383515">+</span>&nbsp;<span class="num" id="2383517">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383522"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383523">.</span><span class="ident" id="2383524"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2383527">=</span>&nbsp;<span class="ident" id="2383529"><a href="/gostd/strconv/extfloat.go.html#2383072">integerDigits</a></span>&nbsp;<span class="op" id="2383543">+</span>&nbsp;<span class="ident" id="2383545"><a href="/gostd/strconv/extfloat.go.html#2382439">exp10</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383554"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383555">.</span><span class="ident" id="2383556"><a href="/gostd/strconv/ftoa.go.html#2394628">neg</a></span>&nbsp;<span class="op" id="2383560">=</span>&nbsp;<span class="ident" id="2383562"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2383563">.</span><span class="ident" id="2383564"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2383571">//&nbsp;Sometimes&nbsp;allowance&nbsp;is&nbsp;so&nbsp;large&nbsp;the&nbsp;last&nbsp;digit&nbsp;might&nbsp;need&nbsp;to&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2383641">//&nbsp;decremented&nbsp;to&nbsp;get&nbsp;closer&nbsp;to&nbsp;f.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383679">return</span>&nbsp;<span class="ident" id="2383686"><a href="/gostd/strconv/extfloat.go.html#2384799">adjustLastDigit</a></span><span class="op" id="2383701">(</span><span class="ident" id="2383702"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383703">,</span>&nbsp;<span class="ident" id="2383705"><a href="/gostd/strconv/extfloat.go.html#2383427">currentDiff</a></span><span class="op" id="2383716">,</span>&nbsp;<span class="ident" id="2383718"><a href="/gostd/strconv/extfloat.go.html#2382983">targetDiff</a></span><span class="op" id="2383728">,</span>&nbsp;<span class="ident" id="2383730"><a href="/gostd/strconv/extfloat.go.html#2382890">allowance</a></span><span class="op" id="2383739">,</span>&nbsp;<span class="ident" id="2383741"><a href="/gostd/strconv/extfloat.go.html#2383251">pow</a></span><span class="op" id="2383744">&lt;&lt;</span><span class="ident" id="2383746"><a href="/gostd/strconv/extfloat.go.html#2382704">shift</a></span><span class="op" id="2383751">,</span>&nbsp;<span class="num" id="2383753">2</span><span class="op" id="2383754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2383761">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383764"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383765">.</span><span class="ident" id="2383766"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2383769">=</span>&nbsp;<span class="ident" id="2383771"><a href="/gostd/strconv/extfloat.go.html#2383072">integerDigits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383786"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383787">.</span><span class="ident" id="2383788"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2383791">=</span>&nbsp;<span class="ident" id="2383793"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383794">.</span><span class="ident" id="2383795"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2383798">+</span>&nbsp;<span class="ident" id="2383800"><a href="/gostd/strconv/extfloat.go.html#2382439">exp10</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383807"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2383808">.</span><span class="ident" id="2383809"><a href="/gostd/strconv/ftoa.go.html#2394628">neg</a></span>&nbsp;<span class="op" id="2383813">=</span>&nbsp;<span class="ident" id="2383815"><a href="/gostd/strconv/extfloat.go.html#2381615">f</a></span><span class="op" id="2383816">.</span><span class="ident" id="2383817"><a href="/gostd/strconv/extfloat.go.html#2365644">neg</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2383823">//&nbsp;Compute&nbsp;digits&nbsp;of&nbsp;the&nbsp;fractional&nbsp;part.&nbsp;At&nbsp;each&nbsp;step&nbsp;fraction&nbsp;does&nbsp;not</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2383897">//&nbsp;overflow.&nbsp;The&nbsp;choice&nbsp;of&nbsp;minExp&nbsp;implies&nbsp;that&nbsp;fraction&nbsp;is&nbsp;less&nbsp;than&nbsp;2^60.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2383973">var</span>&nbsp;<span class="ident" id="2383977">digit</span>&nbsp;<span class="builtintype" id="2383983">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2383988">multiplier</span>&nbsp;<span class="op" id="2383999">:=</span>&nbsp;<span class="builtintype" id="2384002">uint64</span><span class="op" id="2384008">(</span><span class="num" id="2384009">1</span><span class="op" id="2384010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2384013">for</span>&nbsp;<span class="op" id="2384017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2384021"><a href="/gostd/strconv/extfloat.go.html#2382771">fraction</a></span>&nbsp;<span class="op" id="2384030">*=</span>&nbsp;<span class="num" id="2384033">10</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2384038"><a href="/gostd/strconv/extfloat.go.html#2383988">multiplier</a></span>&nbsp;<span class="op" id="2384049">*=</span>&nbsp;<span class="num" id="2384052">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2384057"><a href="/gostd/strconv/extfloat.go.html#2383977">digit</a></span>&nbsp;<span class="op" id="2384063">=</span>&nbsp;<span class="builtintype" id="2384065">int</span><span class="op" id="2384068">(</span><span class="ident" id="2384069"><a href="/gostd/strconv/extfloat.go.html#2382771">fraction</a></span>&nbsp;<span class="op" id="2384078">&gt;&gt;</span>&nbsp;<span class="ident" id="2384081"><a href="/gostd/strconv/extfloat.go.html#2382704">shift</a></span><span class="op" id="2384086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2384090"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2384091">.</span><span class="ident" id="2384092"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2384093">[</span><span class="ident" id="2384094"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2384095">.</span><span class="ident" id="2384096"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span><span class="op" id="2384098">]</span>&nbsp;<span class="op" id="2384100">=</span>&nbsp;<span class="builtintype" id="2384102">byte</span><span class="op" id="2384106">(</span><span class="ident" id="2384107"><a href="/gostd/strconv/extfloat.go.html#2383977">digit</a></span>&nbsp;<span class="op" id="2384113">+</span>&nbsp;<span class="string" id="2384115">&#39;0&#39;</span><span class="op" id="2384118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2384122"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2384123">.</span><span class="ident" id="2384124"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span><span class="op" id="2384126">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2384131"><a href="/gostd/strconv/extfloat.go.html#2382771">fraction</a></span>&nbsp;<span class="op" id="2384140">-=</span>&nbsp;<span class="builtintype" id="2384143">uint64</span><span class="op" id="2384149">(</span><span class="ident" id="2384150"><a href="/gostd/strconv/extfloat.go.html#2383977">digit</a></span><span class="op" id="2384155">)</span>&nbsp;<span class="op" id="2384157">&lt;&lt;</span>&nbsp;<span class="ident" id="2384160"><a href="/gostd/strconv/extfloat.go.html#2382704">shift</a></span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2384168">if</span>&nbsp;<span class="ident" id="2384171"><a href="/gostd/strconv/extfloat.go.html#2382771">fraction</a></span>&nbsp;<span class="op" id="2384180">&lt;</span>&nbsp;<span class="ident" id="2384182"><a href="/gostd/strconv/extfloat.go.html#2382890">allowance</a></span><span class="op" id="2384191">*</span><span class="ident" id="2384192"><a href="/gostd/strconv/extfloat.go.html#2383988">multiplier</a></span>&nbsp;<span class="op" id="2384203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2384208">//&nbsp;We&nbsp;are&nbsp;in&nbsp;the&nbsp;admissible&nbsp;range.&nbsp;Note&nbsp;that&nbsp;if&nbsp;allowance&nbsp;is&nbsp;about&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2384281">//&nbsp;overflow,&nbsp;that&nbsp;is,&nbsp;allowance&nbsp;&gt;&nbsp;2^64/10,&nbsp;the&nbsp;condition&nbsp;is&nbsp;automatically</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2384358">//&nbsp;true&nbsp;due&nbsp;to&nbsp;the&nbsp;limited&nbsp;range&nbsp;of&nbsp;fraction.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2384407">return</span>&nbsp;<span class="ident" id="2384414"><a href="/gostd/strconv/extfloat.go.html#2384799">adjustLastDigit</a></span><span class="op" id="2384429">(</span><span class="ident" id="2384430"><a href="/gostd/strconv/extfloat.go.html#2381644">d</a></span><span class="op" id="2384431">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2384437"><a href="/gostd/strconv/extfloat.go.html#2382771">fraction</a></span><span class="op" id="2384445">,</span>&nbsp;<span class="ident" id="2384447"><a href="/gostd/strconv/extfloat.go.html#2382983">targetDiff</a></span><span class="op" id="2384457">*</span><span class="ident" id="2384458"><a href="/gostd/strconv/extfloat.go.html#2383988">multiplier</a></span><span class="op" id="2384468">,</span>&nbsp;<span class="ident" id="2384470"><a href="/gostd/strconv/extfloat.go.html#2382890">allowance</a></span><span class="op" id="2384479">*</span><span class="ident" id="2384480"><a href="/gostd/strconv/extfloat.go.html#2383988">multiplier</a></span><span class="op" id="2384490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="2384496">1</span><span class="op" id="2384497">&lt;&lt;</span><span class="ident" id="2384499"><a href="/gostd/strconv/extfloat.go.html#2382704">shift</a></span><span class="op" id="2384504">,</span>&nbsp;<span class="ident" id="2384506"><a href="/gostd/strconv/extfloat.go.html#2383988">multiplier</a></span><span class="op" id="2384516">*</span><span class="num" id="2384517">2</span><span class="op" id="2384518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2384522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2384525">}</span><br>
<span class="lineno"></span><span class="op" id="2384527">}</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span><span class="comment" id="2384530">//&nbsp;adjustLastDigit&nbsp;modifies&nbsp;d&nbsp;=&nbsp;x-currentDiff*ε,&nbsp;to&nbsp;get&nbsp;closest&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2384598">//&nbsp;d&nbsp;=&nbsp;x-targetDiff*ε,&nbsp;without&nbsp;becoming&nbsp;smaller&nbsp;than&nbsp;x-maxDiff*ε.</span><br>
<span class="lineno"></span><span class="comment" id="2384666">//&nbsp;It&nbsp;assumes&nbsp;that&nbsp;a&nbsp;decimal&nbsp;digit&nbsp;is&nbsp;worth&nbsp;ulpDecimal*ε,&nbsp;and&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2384734">//&nbsp;all&nbsp;data&nbsp;is&nbsp;known&nbsp;with&nbsp;a&nbsp;error&nbsp;estimate&nbsp;of&nbsp;ulpBinary*ε.</span><br>
<span class="lineno">645</span><span class="keyword" id="2384794">func</span>&nbsp;<span class="ident" id="2384799">adjustLastDigit</span><span class="op" id="2384814">(</span><span class="ident" id="2384815">d</span>&nbsp;<span class="op" id="2384817">*</span><span class="ident" id="2384818"><a href="/gostd/strconv/ftoa.go.html#2394578">decimalSlice</a></span><span class="op" id="2384830">,</span>&nbsp;<span class="ident" id="2384832">currentDiff</span><span class="op" id="2384843">,</span>&nbsp;<span class="ident" id="2384845">targetDiff</span><span class="op" id="2384855">,</span>&nbsp;<span class="ident" id="2384857">maxDiff</span><span class="op" id="2384864">,</span>&nbsp;<span class="ident" id="2384866">ulpDecimal</span><span class="op" id="2384876">,</span>&nbsp;<span class="ident" id="2384878">ulpBinary</span>&nbsp;<span class="builtintype" id="2384888">uint64</span><span class="op" id="2384894">)</span>&nbsp;<span class="builtintype" id="2384896">bool</span>&nbsp;<span class="op" id="2384901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2384904">if</span>&nbsp;<span class="ident" id="2384907"><a href="/gostd/strconv/extfloat.go.html#2384866">ulpDecimal</a></span>&nbsp;<span class="op" id="2384918">&lt;</span>&nbsp;<span class="num" id="2384920">2</span><span class="op" id="2384921">*</span><span class="ident" id="2384922"><a href="/gostd/strconv/extfloat.go.html#2384878">ulpBinary</a></span>&nbsp;<span class="op" id="2384932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2384936">//&nbsp;Approximation&nbsp;is&nbsp;too&nbsp;wide.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2384968">return</span>&nbsp;<span class="builtintype" id="2384975">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2384982">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2384985">for</span>&nbsp;<span class="ident" id="2384989"><a href="/gostd/strconv/extfloat.go.html#2384832">currentDiff</a></span><span class="op" id="2385000">+</span><span class="ident" id="2385001"><a href="/gostd/strconv/extfloat.go.html#2384866">ulpDecimal</a></span><span class="op" id="2385011">/</span><span class="num" id="2385012">2</span><span class="op" id="2385013">+</span><span class="ident" id="2385014"><a href="/gostd/strconv/extfloat.go.html#2384878">ulpBinary</a></span>&nbsp;<span class="op" id="2385024">&lt;</span>&nbsp;<span class="ident" id="2385026"><a href="/gostd/strconv/extfloat.go.html#2384845">targetDiff</a></span>&nbsp;<span class="op" id="2385037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2385041"><a href="/gostd/strconv/extfloat.go.html#2384815">d</a></span><span class="op" id="2385042">.</span><span class="ident" id="2385043"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2385044">[</span><span class="ident" id="2385045"><a href="/gostd/strconv/extfloat.go.html#2384815">d</a></span><span class="op" id="2385046">.</span><span class="ident" id="2385047"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span><span class="op" id="2385049">-</span><span class="num" id="2385050">1</span><span class="op" id="2385051">]</span><span class="op" id="2385052">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2385057"><a href="/gostd/strconv/extfloat.go.html#2384832">currentDiff</a></span>&nbsp;<span class="op" id="2385069">+=</span>&nbsp;<span class="ident" id="2385072"><a href="/gostd/strconv/extfloat.go.html#2384866">ulpDecimal</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2385084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2385087">if</span>&nbsp;<span class="ident" id="2385090"><a href="/gostd/strconv/extfloat.go.html#2384832">currentDiff</a></span><span class="op" id="2385101">+</span><span class="ident" id="2385102"><a href="/gostd/strconv/extfloat.go.html#2384866">ulpDecimal</a></span>&nbsp;<span class="op" id="2385113">&lt;=</span>&nbsp;<span class="ident" id="2385116"><a href="/gostd/strconv/extfloat.go.html#2384845">targetDiff</a></span><span class="op" id="2385126">+</span><span class="ident" id="2385127"><a href="/gostd/strconv/extfloat.go.html#2384866">ulpDecimal</a></span><span class="op" id="2385137">/</span><span class="num" id="2385138">2</span><span class="op" id="2385139">+</span><span class="ident" id="2385140"><a href="/gostd/strconv/extfloat.go.html#2384878">ulpBinary</a></span>&nbsp;<span class="op" id="2385150">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2385154">//&nbsp;we&nbsp;have&nbsp;two&nbsp;choices,&nbsp;and&nbsp;don&#39;t&nbsp;know&nbsp;what&nbsp;to&nbsp;do.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2385207">return</span>&nbsp;<span class="builtintype" id="2385214">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2385221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2385224">if</span>&nbsp;<span class="ident" id="2385227"><a href="/gostd/strconv/extfloat.go.html#2384832">currentDiff</a></span>&nbsp;<span class="op" id="2385239">&lt;</span>&nbsp;<span class="ident" id="2385241"><a href="/gostd/strconv/extfloat.go.html#2384878">ulpBinary</a></span>&nbsp;<span class="op" id="2385251">||</span>&nbsp;<span class="ident" id="2385254"><a href="/gostd/strconv/extfloat.go.html#2384832">currentDiff</a></span>&nbsp;<span class="op" id="2385266">&gt;</span>&nbsp;<span class="ident" id="2385268"><a href="/gostd/strconv/extfloat.go.html#2384857">maxDiff</a></span><span class="op" id="2385275">-</span><span class="ident" id="2385276"><a href="/gostd/strconv/extfloat.go.html#2384878">ulpBinary</a></span>&nbsp;<span class="op" id="2385286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2385290">//&nbsp;we&nbsp;went&nbsp;too&nbsp;far</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2385311">return</span>&nbsp;<span class="builtintype" id="2385318">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2385325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2385328">if</span>&nbsp;<span class="ident" id="2385331"><a href="/gostd/strconv/extfloat.go.html#2384815">d</a></span><span class="op" id="2385332">.</span><span class="ident" id="2385333"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2385336">==</span>&nbsp;<span class="num" id="2385339">1</span>&nbsp;<span class="op" id="2385341">&amp;&amp;</span>&nbsp;<span class="ident" id="2385344"><a href="/gostd/strconv/extfloat.go.html#2384815">d</a></span><span class="op" id="2385345">.</span><span class="ident" id="2385346"><a href="/gostd/strconv/ftoa.go.html#2394601">d</a></span><span class="op" id="2385347">[</span><span class="num" id="2385348">0</span><span class="op" id="2385349">]</span>&nbsp;<span class="op" id="2385351">==</span>&nbsp;<span class="string" id="2385354">&#39;0&#39;</span>&nbsp;<span class="op" id="2385358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2385362">//&nbsp;the&nbsp;number&nbsp;has&nbsp;actually&nbsp;reached&nbsp;zero.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2385405"><a href="/gostd/strconv/extfloat.go.html#2384815">d</a></span><span class="op" id="2385406">.</span><span class="ident" id="2385407"><a href="/gostd/strconv/ftoa.go.html#2394616">nd</a></span>&nbsp;<span class="op" id="2385410">=</span>&nbsp;<span class="num" id="2385412">0</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2385416"><a href="/gostd/strconv/extfloat.go.html#2384815">d</a></span><span class="op" id="2385417">.</span><span class="ident" id="2385418"><a href="/gostd/strconv/ftoa.go.html#2394620">dp</a></span>&nbsp;<span class="op" id="2385421">=</span>&nbsp;<span class="num" id="2385423">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2385426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2385429">return</span>&nbsp;<span class="builtintype" id="2385436">true</span><br>
<span class="lineno"></span><span class="op" id="2385441">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
