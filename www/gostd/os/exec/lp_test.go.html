<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7486082">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7486137">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7486191">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7486242">package</span>&nbsp;<span class="ident" id="7486250">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7486256">import</span>&nbsp;<span class="op" id="7486263">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7486266">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7486276">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7486279">var</span>&nbsp;<span class="ident" id="7486283">nonExistentPaths</span>&nbsp;<span class="op" id="7486300">=</span>&nbsp;<span class="op" id="7486302">[</span><span class="op" id="7486303">]</span><span class="builtintype" id="7486304">string</span><span class="op" id="7486310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7486313">&#34;some-non-existent-path&#34;</span><span class="op" id="7486337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7486340">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7486367">,</span><br>
<span class="lineno"></span><span class="op" id="7486369">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7486372">func</span>&nbsp;<span class="ident" id="7486377">TestLookPathNotFound</span><span class="op" id="7486397">(</span><span class="ident" id="7486398">t</span>&nbsp;<span class="op" id="7486400">*</span><span class="ident" id="7486401">testing</span><span class="op" id="7486408">.</span><span class="ident" id="7486409">T</span><span class="op" id="7486410">)</span>&nbsp;<span class="op" id="7486412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486415">for</span>&nbsp;<span class="ident" id="7486419">_</span><span class="op" id="7486420">,</span>&nbsp;<span class="ident" id="7486422">name</span>&nbsp;<span class="op" id="7486427">:=</span>&nbsp;<span class="keyword" id="7486430">range</span>&nbsp;<span class="ident" id="7486436">nonExistentPaths</span>&nbsp;<span class="op" id="7486453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486457">path</span><span class="op" id="7486461">,</span>&nbsp;<span class="ident" id="7486463">err</span>&nbsp;<span class="op" id="7486467">:=</span>&nbsp;<span class="ident" id="7486470">LookPath</span><span class="op" id="7486478">(</span><span class="ident" id="7486479">name</span><span class="op" id="7486483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486487">if</span>&nbsp;<span class="ident" id="7486490">err</span>&nbsp;<span class="op" id="7486494">==</span>&nbsp;<span class="ident" id="7486497">nil</span>&nbsp;<span class="op" id="7486501">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486506">t</span><span class="op" id="7486507">.</span><span class="ident" id="7486508">Fatalf</span><span class="op" id="7486514">(</span><span class="string" id="7486515">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7486543">,</span>&nbsp;<span class="ident" id="7486545">name</span><span class="op" id="7486549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486557">if</span>&nbsp;<span class="ident" id="7486560">path</span>&nbsp;<span class="op" id="7486565">!=</span>&nbsp;<span class="string" id="7486568">&#34;&#34;</span>&nbsp;<span class="op" id="7486571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486576">t</span><span class="op" id="7486577">.</span><span class="ident" id="7486578">Fatalf</span><span class="op" id="7486584">(</span><span class="string" id="7486585">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7486622">,</span>&nbsp;<span class="ident" id="7486624">path</span><span class="op" id="7486628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486632">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486636">perr</span><span class="op" id="7486640">,</span>&nbsp;<span class="ident" id="7486642">ok</span>&nbsp;<span class="op" id="7486645">:=</span>&nbsp;<span class="ident" id="7486648">err</span><span class="op" id="7486651">.</span><span class="op" id="7486652">(</span><span class="op" id="7486653">*</span><span class="ident" id="7486654">Error</span><span class="op" id="7486659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486663">if</span>&nbsp;<span class="op" id="7486666">!</span><span class="ident" id="7486667">ok</span>&nbsp;<span class="op" id="7486670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486675">t</span><span class="op" id="7486676">.</span><span class="ident" id="7486677">Fatal</span><span class="op" id="7486682">(</span><span class="string" id="7486683">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7486720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7486728">if</span>&nbsp;<span class="ident" id="7486731">perr</span><span class="op" id="7486735">.</span><span class="ident" id="7486736">Name</span>&nbsp;<span class="op" id="7486741">!=</span>&nbsp;<span class="ident" id="7486744">name</span>&nbsp;<span class="op" id="7486749">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7486754">t</span><span class="op" id="7486755">.</span><span class="ident" id="7486756">Fatalf</span><span class="op" id="7486762">(</span><span class="string" id="7486763">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7486791">,</span>&nbsp;<span class="ident" id="7486793">name</span><span class="op" id="7486797">,</span>&nbsp;<span class="ident" id="7486799">perr</span><span class="op" id="7486803">.</span><span class="ident" id="7486804">Name</span><span class="op" id="7486808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7486815">}</span><br>
<span class="lineno"></span><span class="op" id="7486817">}</span>
</div>
</body>
</html>
