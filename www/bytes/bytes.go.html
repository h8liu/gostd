<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3189098">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3189153">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3189207">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3189258">//&nbsp;Package&nbsp;bytes&nbsp;implements&nbsp;functions&nbsp;for&nbsp;the&nbsp;manipulation&nbsp;of&nbsp;byte&nbsp;slices.</span><br>
<span class="lineno"></span><span class="comment" id="3189333">//&nbsp;It&nbsp;is&nbsp;analogous&nbsp;to&nbsp;the&nbsp;facilities&nbsp;of&nbsp;the&nbsp;strings&nbsp;package.</span><br>
<span class="lineno"></span><span class="keyword" id="3189394">package</span>&nbsp;<span class="ident" id="3189402">bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3189409">import</span>&nbsp;<span class="op" id="3189416">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3189419">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3189430">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3189445">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3189448">func</span>&nbsp;<span class="ident" id="3189453">equalPortable</span><span class="op" id="3189466">(</span><span class="ident" id="3189467">a</span><span class="op" id="3189468">,</span>&nbsp;<span class="ident" id="3189470">b</span>&nbsp;<span class="op" id="3189472">[</span><span class="op" id="3189473">]</span><span class="builtintype" id="3189474">byte</span><span class="op" id="3189478">)</span>&nbsp;<span class="builtintype" id="3189480">bool</span>&nbsp;<span class="op" id="3189485">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189488">if</span>&nbsp;<span class="builtinfunc" id="3189491">len</span><span class="op" id="3189494">(</span><span class="ident" id="3189495"><a href="/bytes/bytes.go.html#3189467">a</a></span><span class="op" id="3189496">)</span>&nbsp;<span class="op" id="3189498">!=</span>&nbsp;<span class="builtinfunc" id="3189501">len</span><span class="op" id="3189504">(</span><span class="ident" id="3189505"><a href="/bytes/bytes.go.html#3189470">b</a></span><span class="op" id="3189506">)</span>&nbsp;<span class="op" id="3189508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189512">return</span>&nbsp;<span class="ident" id="3189519">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189529">for</span>&nbsp;<span class="ident" id="3189533">i</span><span class="op" id="3189534">,</span>&nbsp;<span class="ident" id="3189536">c</span>&nbsp;<span class="op" id="3189538">:=</span>&nbsp;<span class="keyword" id="3189541">range</span>&nbsp;<span class="ident" id="3189547"><a href="/bytes/bytes.go.html#3189467">a</a></span>&nbsp;<span class="op" id="3189549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189553">if</span>&nbsp;<span class="ident" id="3189556"><a href="/bytes/bytes.go.html#3189536">c</a></span>&nbsp;<span class="op" id="3189558">!=</span>&nbsp;<span class="ident" id="3189561"><a href="/bytes/bytes.go.html#3189470">b</a></span><span class="op" id="3189562">[</span><span class="ident" id="3189563"><a href="/bytes/bytes.go.html#3189533">i</a></span><span class="op" id="3189564">]</span>&nbsp;<span class="op" id="3189566">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189571">return</span>&nbsp;<span class="ident" id="3189578">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189592">return</span>&nbsp;<span class="ident" id="3189599">true</span><br>
<span class="lineno"></span><span class="op" id="3189604">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3189607">//&nbsp;explode&nbsp;splits&nbsp;s&nbsp;into&nbsp;a&nbsp;slice&nbsp;of&nbsp;UTF-8&nbsp;sequences,&nbsp;one&nbsp;per&nbsp;Unicode&nbsp;character&nbsp;(still&nbsp;slices&nbsp;of&nbsp;bytes),</span><br>
<span class="lineno"></span><span class="comment" id="3189711">//&nbsp;up&nbsp;to&nbsp;a&nbsp;maximum&nbsp;of&nbsp;n&nbsp;byte&nbsp;slices.&nbsp;Invalid&nbsp;UTF-8&nbsp;sequences&nbsp;are&nbsp;chopped&nbsp;into&nbsp;individual&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="3189807">func</span>&nbsp;<span class="ident" id="3189812">explode</span><span class="op" id="3189819">(</span><span class="ident" id="3189820">s</span>&nbsp;<span class="op" id="3189822">[</span><span class="op" id="3189823">]</span><span class="builtintype" id="3189824">byte</span><span class="op" id="3189828">,</span>&nbsp;<span class="ident" id="3189830">n</span>&nbsp;<span class="builtintype" id="3189832">int</span><span class="op" id="3189835">)</span>&nbsp;<span class="op" id="3189837">[</span><span class="op" id="3189838">]</span><span class="op" id="3189839">[</span><span class="op" id="3189840">]</span><span class="builtintype" id="3189841">byte</span>&nbsp;<span class="op" id="3189846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189849">if</span>&nbsp;<span class="ident" id="3189852"><a href="/bytes/bytes.go.html#3189830">n</a></span>&nbsp;<span class="op" id="3189854">&lt;=</span>&nbsp;<span class="num" id="3189857">0</span>&nbsp;<span class="op" id="3189859">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189863"><a href="/bytes/bytes.go.html#3189830">n</a></span>&nbsp;<span class="op" id="3189865">=</span>&nbsp;<span class="builtinfunc" id="3189867">len</span><span class="op" id="3189870">(</span><span class="ident" id="3189871"><a href="/bytes/bytes.go.html#3189820">s</a></span><span class="op" id="3189872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189878">a</span>&nbsp;<span class="op" id="3189880">:=</span>&nbsp;<span class="builtinfunc" id="3189883">make</span><span class="op" id="3189887">(</span><span class="op" id="3189888">[</span><span class="op" id="3189889">]</span><span class="op" id="3189890">[</span><span class="op" id="3189891">]</span><span class="builtintype" id="3189892">byte</span><span class="op" id="3189896">,</span>&nbsp;<span class="ident" id="3189898"><a href="/bytes/bytes.go.html#3189830">n</a></span><span class="op" id="3189899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189902">var</span>&nbsp;<span class="ident" id="3189906">size</span>&nbsp;<span class="builtintype" id="3189911">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189916">na</span>&nbsp;<span class="op" id="3189919">:=</span>&nbsp;<span class="num" id="3189922">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189925">for</span>&nbsp;<span class="builtinfunc" id="3189929">len</span><span class="op" id="3189932">(</span><span class="ident" id="3189933"><a href="/bytes/bytes.go.html#3189820">s</a></span><span class="op" id="3189934">)</span>&nbsp;<span class="op" id="3189936">&gt;</span>&nbsp;<span class="num" id="3189938">0</span>&nbsp;<span class="op" id="3189940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189944">if</span>&nbsp;<span class="ident" id="3189947"><a href="/bytes/bytes.go.html#3189916">na</a></span><span class="op" id="3189949">+</span><span class="num" id="3189950">1</span>&nbsp;<span class="op" id="3189952">&gt;=</span>&nbsp;<span class="ident" id="3189955"><a href="/bytes/bytes.go.html#3189830">n</a></span>&nbsp;<span class="op" id="3189957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189962"><a href="/bytes/bytes.go.html#3189878">a</a></span><span class="op" id="3189963">[</span><span class="ident" id="3189964"><a href="/bytes/bytes.go.html#3189916">na</a></span><span class="op" id="3189966">]</span>&nbsp;<span class="op" id="3189968">=</span>&nbsp;<span class="ident" id="3189970"><a href="/bytes/bytes.go.html#3189820">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189975"><a href="/bytes/bytes.go.html#3189916">na</a></span><span class="op" id="3189977">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3189983">break</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3189991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3189995">_</span><span class="op" id="3189996">,</span>&nbsp;<span class="ident" id="3189998"><a href="/bytes/bytes.go.html#3189906">size</a></span>&nbsp;<span class="op" id="3190003">=</span>&nbsp;<span class="ident" id="3190005"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3190009">.</span><span class="ident" id="3190010">DecodeRune</span><span class="op" id="3190020">(</span><span class="ident" id="3190021"><a href="/bytes/bytes.go.html#3189820">s</a></span><span class="op" id="3190022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190026"><a href="/bytes/bytes.go.html#3189878">a</a></span><span class="op" id="3190027">[</span><span class="ident" id="3190028"><a href="/bytes/bytes.go.html#3189916">na</a></span><span class="op" id="3190030">]</span>&nbsp;<span class="op" id="3190032">=</span>&nbsp;<span class="ident" id="3190034"><a href="/bytes/bytes.go.html#3189820">s</a></span><span class="op" id="3190035">[</span><span class="num" id="3190036">0</span><span class="op" id="3190037">:</span><span class="ident" id="3190038"><a href="/bytes/bytes.go.html#3189906">size</a></span><span class="op" id="3190042">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190046"><a href="/bytes/bytes.go.html#3189820">s</a></span>&nbsp;<span class="op" id="3190048">=</span>&nbsp;<span class="ident" id="3190050"><a href="/bytes/bytes.go.html#3189820">s</a></span><span class="op" id="3190051">[</span><span class="ident" id="3190052"><a href="/bytes/bytes.go.html#3189906">size</a></span><span class="op" id="3190056">:</span><span class="op" id="3190057">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190061"><a href="/bytes/bytes.go.html#3189916">na</a></span><span class="op" id="3190063">++</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190070">return</span>&nbsp;<span class="ident" id="3190077"><a href="/bytes/bytes.go.html#3189878">a</a></span><span class="op" id="3190078">[</span><span class="num" id="3190079">0</span><span class="op" id="3190080">:</span><span class="ident" id="3190081"><a href="/bytes/bytes.go.html#3189916">na</a></span><span class="op" id="3190083">]</span><br>
<span class="lineno"></span><span class="op" id="3190085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3190088">//&nbsp;Count&nbsp;counts&nbsp;the&nbsp;number&nbsp;of&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;sep&nbsp;in&nbsp;s.</span><br>
<span class="lineno">50</span><span class="keyword" id="3190157">func</span>&nbsp;<span class="ident" id="3190162">Count</span><span class="op" id="3190167">(</span><span class="ident" id="3190168">s</span><span class="op" id="3190169">,</span>&nbsp;<span class="ident" id="3190171">sep</span>&nbsp;<span class="op" id="3190175">[</span><span class="op" id="3190176">]</span><span class="builtintype" id="3190177">byte</span><span class="op" id="3190181">)</span>&nbsp;<span class="builtintype" id="3190183">int</span>&nbsp;<span class="op" id="3190187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190190">n</span>&nbsp;<span class="op" id="3190192">:=</span>&nbsp;<span class="builtinfunc" id="3190195">len</span><span class="op" id="3190198">(</span><span class="ident" id="3190199"><a href="/bytes/bytes.go.html#3190171">sep</a></span><span class="op" id="3190202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190205">if</span>&nbsp;<span class="ident" id="3190208"><a href="/bytes/bytes.go.html#3190190">n</a></span>&nbsp;<span class="op" id="3190210">==</span>&nbsp;<span class="num" id="3190213">0</span>&nbsp;<span class="op" id="3190215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190219">return</span>&nbsp;<span class="ident" id="3190226"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3190230">.</span><span class="ident" id="3190231">RuneCount</span><span class="op" id="3190240">(</span><span class="ident" id="3190241"><a href="/bytes/bytes.go.html#3190168">s</a></span><span class="op" id="3190242">)</span>&nbsp;<span class="op" id="3190244">+</span>&nbsp;<span class="num" id="3190246">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190249">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190252">if</span>&nbsp;<span class="ident" id="3190255"><a href="/bytes/bytes.go.html#3190190">n</a></span>&nbsp;<span class="op" id="3190257">&gt;</span>&nbsp;<span class="builtinfunc" id="3190259">len</span><span class="op" id="3190262">(</span><span class="ident" id="3190263"><a href="/bytes/bytes.go.html#3190168">s</a></span><span class="op" id="3190264">)</span>&nbsp;<span class="op" id="3190266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190270">return</span>&nbsp;<span class="num" id="3190277">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190283">count</span>&nbsp;<span class="op" id="3190289">:=</span>&nbsp;<span class="num" id="3190292">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190295">c</span>&nbsp;<span class="op" id="3190297">:=</span>&nbsp;<span class="ident" id="3190300"><a href="/bytes/bytes.go.html#3190171">sep</a></span><span class="op" id="3190303">[</span><span class="num" id="3190304">0</span><span class="op" id="3190305">]</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190308">i</span>&nbsp;<span class="op" id="3190310">:=</span>&nbsp;<span class="num" id="3190313">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190316">t</span>&nbsp;<span class="op" id="3190318">:=</span>&nbsp;<span class="ident" id="3190321"><a href="/bytes/bytes.go.html#3190168">s</a></span><span class="op" id="3190322">[</span><span class="op" id="3190323">:</span><span class="builtinfunc" id="3190324">len</span><span class="op" id="3190327">(</span><span class="ident" id="3190328"><a href="/bytes/bytes.go.html#3190168">s</a></span><span class="op" id="3190329">)</span><span class="op" id="3190330">-</span><span class="ident" id="3190331"><a href="/bytes/bytes.go.html#3190190">n</a></span><span class="op" id="3190332">+</span><span class="num" id="3190333">1</span><span class="op" id="3190334">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190337">for</span>&nbsp;<span class="ident" id="3190341"><a href="/bytes/bytes.go.html#3190308">i</a></span>&nbsp;<span class="op" id="3190343">&lt;</span>&nbsp;<span class="builtinfunc" id="3190345">len</span><span class="op" id="3190348">(</span><span class="ident" id="3190349"><a href="/bytes/bytes.go.html#3190316">t</a></span><span class="op" id="3190350">)</span>&nbsp;<span class="op" id="3190352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190356">if</span>&nbsp;<span class="ident" id="3190359"><a href="/bytes/bytes.go.html#3190316">t</a></span><span class="op" id="3190360">[</span><span class="ident" id="3190361"><a href="/bytes/bytes.go.html#3190308">i</a></span><span class="op" id="3190362">]</span>&nbsp;<span class="op" id="3190364">!=</span>&nbsp;<span class="ident" id="3190367"><a href="/bytes/bytes.go.html#3190295">c</a></span>&nbsp;<span class="op" id="3190369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190374">o</span>&nbsp;<span class="op" id="3190376">:=</span>&nbsp;<span class="ident" id="3190379"><a href="/bytes/bytes_decl.go.html#3207682">IndexByte</a></span><span class="op" id="3190388">(</span><span class="ident" id="3190389"><a href="/bytes/bytes.go.html#3190316">t</a></span><span class="op" id="3190390">[</span><span class="ident" id="3190391"><a href="/bytes/bytes.go.html#3190308">i</a></span><span class="op" id="3190392">:</span><span class="op" id="3190393">]</span><span class="op" id="3190394">,</span>&nbsp;<span class="ident" id="3190396"><a href="/bytes/bytes.go.html#3190295">c</a></span><span class="op" id="3190397">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190402">if</span>&nbsp;<span class="ident" id="3190405"><a href="/bytes/bytes.go.html#3190374">o</a></span>&nbsp;<span class="op" id="3190407">&lt;</span>&nbsp;<span class="num" id="3190409">0</span>&nbsp;<span class="op" id="3190411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190417">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190431"><a href="/bytes/bytes.go.html#3190308">i</a></span>&nbsp;<span class="op" id="3190433">+=</span>&nbsp;<span class="ident" id="3190436"><a href="/bytes/bytes.go.html#3190374">o</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190440">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190444">if</span>&nbsp;<span class="ident" id="3190447"><a href="/bytes/bytes.go.html#3190190">n</a></span>&nbsp;<span class="op" id="3190449">==</span>&nbsp;<span class="num" id="3190452">1</span>&nbsp;<span class="op" id="3190454">||</span>&nbsp;<span class="ident" id="3190457"><a href="/bytes/bytes_decl.go.html#3207918">Equal</a></span><span class="op" id="3190462">(</span><span class="ident" id="3190463"><a href="/bytes/bytes.go.html#3190168">s</a></span><span class="op" id="3190464">[</span><span class="ident" id="3190465"><a href="/bytes/bytes.go.html#3190308">i</a></span><span class="op" id="3190466">:</span><span class="ident" id="3190467"><a href="/bytes/bytes.go.html#3190308">i</a></span><span class="op" id="3190468">+</span><span class="ident" id="3190469"><a href="/bytes/bytes.go.html#3190190">n</a></span><span class="op" id="3190470">]</span><span class="op" id="3190471">,</span>&nbsp;<span class="ident" id="3190473"><a href="/bytes/bytes.go.html#3190171">sep</a></span><span class="op" id="3190476">)</span>&nbsp;<span class="op" id="3190478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190483"><a href="/bytes/bytes.go.html#3190283">count</a></span><span class="op" id="3190488">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190494"><a href="/bytes/bytes.go.html#3190308">i</a></span>&nbsp;<span class="op" id="3190496">+=</span>&nbsp;<span class="ident" id="3190499"><a href="/bytes/bytes.go.html#3190190">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190504">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190515">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190519"><a href="/bytes/bytes.go.html#3190308">i</a></span><span class="op" id="3190520">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190527">return</span>&nbsp;<span class="ident" id="3190534"><a href="/bytes/bytes.go.html#3190283">count</a></span><br>
<span class="lineno"></span><span class="op" id="3190540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3190543">//&nbsp;Contains&nbsp;reports&nbsp;whether&nbsp;subslice&nbsp;is&nbsp;within&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3190593">func</span>&nbsp;<span class="ident" id="3190598">Contains</span><span class="op" id="3190606">(</span><span class="ident" id="3190607">b</span><span class="op" id="3190608">,</span>&nbsp;<span class="ident" id="3190610">subslice</span>&nbsp;<span class="op" id="3190619">[</span><span class="op" id="3190620">]</span><span class="builtintype" id="3190621">byte</span><span class="op" id="3190625">)</span>&nbsp;<span class="builtintype" id="3190627">bool</span>&nbsp;<span class="op" id="3190632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190635">return</span>&nbsp;<span class="ident" id="3190642"><a href="/bytes/bytes.go.html#3190771">Index</a></span><span class="op" id="3190647">(</span><span class="ident" id="3190648"><a href="/bytes/bytes.go.html#3190607">b</a></span><span class="op" id="3190649">,</span>&nbsp;<span class="ident" id="3190651"><a href="/bytes/bytes.go.html#3190610">subslice</a></span><span class="op" id="3190659">)</span>&nbsp;<span class="op" id="3190661">!=</span>&nbsp;<span class="op" id="3190664">-</span><span class="num" id="3190665">1</span><br>
<span class="lineno"></span><span class="op" id="3190667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="3190670">//&nbsp;Index&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3190766">func</span>&nbsp;<span class="ident" id="3190771">Index</span><span class="op" id="3190776">(</span><span class="ident" id="3190777">s</span><span class="op" id="3190778">,</span>&nbsp;<span class="ident" id="3190780">sep</span>&nbsp;<span class="op" id="3190784">[</span><span class="op" id="3190785">]</span><span class="builtintype" id="3190786">byte</span><span class="op" id="3190790">)</span>&nbsp;<span class="builtintype" id="3190792">int</span>&nbsp;<span class="op" id="3190796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190799">n</span>&nbsp;<span class="op" id="3190801">:=</span>&nbsp;<span class="builtinfunc" id="3190804">len</span><span class="op" id="3190807">(</span><span class="ident" id="3190808"><a href="/bytes/bytes.go.html#3190780">sep</a></span><span class="op" id="3190811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190814">if</span>&nbsp;<span class="ident" id="3190817"><a href="/bytes/bytes.go.html#3190799">n</a></span>&nbsp;<span class="op" id="3190819">==</span>&nbsp;<span class="num" id="3190822">0</span>&nbsp;<span class="op" id="3190824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190828">return</span>&nbsp;<span class="num" id="3190835">0</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190841">if</span>&nbsp;<span class="ident" id="3190844"><a href="/bytes/bytes.go.html#3190799">n</a></span>&nbsp;<span class="op" id="3190846">&gt;</span>&nbsp;<span class="builtinfunc" id="3190848">len</span><span class="op" id="3190851">(</span><span class="ident" id="3190852"><a href="/bytes/bytes.go.html#3190777">s</a></span><span class="op" id="3190853">)</span>&nbsp;<span class="op" id="3190855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190859">return</span>&nbsp;<span class="op" id="3190866">-</span><span class="num" id="3190867">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190873">c</span>&nbsp;<span class="op" id="3190875">:=</span>&nbsp;<span class="ident" id="3190878"><a href="/bytes/bytes.go.html#3190780">sep</a></span><span class="op" id="3190881">[</span><span class="num" id="3190882">0</span><span class="op" id="3190883">]</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190886">if</span>&nbsp;<span class="ident" id="3190889"><a href="/bytes/bytes.go.html#3190799">n</a></span>&nbsp;<span class="op" id="3190891">==</span>&nbsp;<span class="num" id="3190894">1</span>&nbsp;<span class="op" id="3190896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190900">return</span>&nbsp;<span class="ident" id="3190907"><a href="/bytes/bytes_decl.go.html#3207682">IndexByte</a></span><span class="op" id="3190916">(</span><span class="ident" id="3190917"><a href="/bytes/bytes.go.html#3190777">s</a></span><span class="op" id="3190918">,</span>&nbsp;<span class="ident" id="3190920"><a href="/bytes/bytes.go.html#3190873">c</a></span><span class="op" id="3190921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3190924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190927">i</span>&nbsp;<span class="op" id="3190929">:=</span>&nbsp;<span class="num" id="3190932">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190935">t</span>&nbsp;<span class="op" id="3190937">:=</span>&nbsp;<span class="ident" id="3190940"><a href="/bytes/bytes.go.html#3190777">s</a></span><span class="op" id="3190941">[</span><span class="op" id="3190942">:</span><span class="builtinfunc" id="3190943">len</span><span class="op" id="3190946">(</span><span class="ident" id="3190947"><a href="/bytes/bytes.go.html#3190777">s</a></span><span class="op" id="3190948">)</span><span class="op" id="3190949">-</span><span class="ident" id="3190950"><a href="/bytes/bytes.go.html#3190799">n</a></span><span class="op" id="3190951">+</span><span class="num" id="3190952">1</span><span class="op" id="3190953">]</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190956">for</span>&nbsp;<span class="ident" id="3190960"><a href="/bytes/bytes.go.html#3190927">i</a></span>&nbsp;<span class="op" id="3190962">&lt;</span>&nbsp;<span class="builtinfunc" id="3190964">len</span><span class="op" id="3190967">(</span><span class="ident" id="3190968"><a href="/bytes/bytes.go.html#3190935">t</a></span><span class="op" id="3190969">)</span>&nbsp;<span class="op" id="3190971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3190975">if</span>&nbsp;<span class="ident" id="3190978"><a href="/bytes/bytes.go.html#3190935">t</a></span><span class="op" id="3190979">[</span><span class="ident" id="3190980"><a href="/bytes/bytes.go.html#3190927">i</a></span><span class="op" id="3190981">]</span>&nbsp;<span class="op" id="3190983">!=</span>&nbsp;<span class="ident" id="3190986"><a href="/bytes/bytes.go.html#3190873">c</a></span>&nbsp;<span class="op" id="3190988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3190993">o</span>&nbsp;<span class="op" id="3190995">:=</span>&nbsp;<span class="ident" id="3190998"><a href="/bytes/bytes_decl.go.html#3207682">IndexByte</a></span><span class="op" id="3191007">(</span><span class="ident" id="3191008"><a href="/bytes/bytes.go.html#3190935">t</a></span><span class="op" id="3191009">[</span><span class="ident" id="3191010"><a href="/bytes/bytes.go.html#3190927">i</a></span><span class="op" id="3191011">:</span><span class="op" id="3191012">]</span><span class="op" id="3191013">,</span>&nbsp;<span class="ident" id="3191015"><a href="/bytes/bytes.go.html#3190873">c</a></span><span class="op" id="3191016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191021">if</span>&nbsp;<span class="ident" id="3191024"><a href="/bytes/bytes.go.html#3190993">o</a></span>&nbsp;<span class="op" id="3191026">&lt;</span>&nbsp;<span class="num" id="3191028">0</span>&nbsp;<span class="op" id="3191030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191036">break</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3191050"><a href="/bytes/bytes.go.html#3190927">i</a></span>&nbsp;<span class="op" id="3191052">+=</span>&nbsp;<span class="ident" id="3191055"><a href="/bytes/bytes.go.html#3190993">o</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191063">if</span>&nbsp;<span class="ident" id="3191066"><a href="/bytes/bytes_decl.go.html#3207918">Equal</a></span><span class="op" id="3191071">(</span><span class="ident" id="3191072"><a href="/bytes/bytes.go.html#3190777">s</a></span><span class="op" id="3191073">[</span><span class="ident" id="3191074"><a href="/bytes/bytes.go.html#3190927">i</a></span><span class="op" id="3191075">:</span><span class="ident" id="3191076"><a href="/bytes/bytes.go.html#3190927">i</a></span><span class="op" id="3191077">+</span><span class="ident" id="3191078"><a href="/bytes/bytes.go.html#3190799">n</a></span><span class="op" id="3191079">]</span><span class="op" id="3191080">,</span>&nbsp;<span class="ident" id="3191082"><a href="/bytes/bytes.go.html#3190780">sep</a></span><span class="op" id="3191085">)</span>&nbsp;<span class="op" id="3191087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191092">return</span>&nbsp;<span class="ident" id="3191099"><a href="/bytes/bytes.go.html#3190927">i</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3191107"><a href="/bytes/bytes.go.html#3190927">i</a></span><span class="op" id="3191108">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191115">return</span>&nbsp;<span class="op" id="3191122">-</span><span class="num" id="3191123">1</span><br>
<span class="lineno"></span><span class="op" id="3191125">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="3191128">func</span>&nbsp;<span class="ident" id="3191133">indexBytePortable</span><span class="op" id="3191150">(</span><span class="ident" id="3191151">s</span>&nbsp;<span class="op" id="3191153">[</span><span class="op" id="3191154">]</span><span class="builtintype" id="3191155">byte</span><span class="op" id="3191159">,</span>&nbsp;<span class="ident" id="3191161">c</span>&nbsp;<span class="builtintype" id="3191163">byte</span><span class="op" id="3191167">)</span>&nbsp;<span class="builtintype" id="3191169">int</span>&nbsp;<span class="op" id="3191173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191176">for</span>&nbsp;<span class="ident" id="3191180">i</span><span class="op" id="3191181">,</span>&nbsp;<span class="ident" id="3191183">b</span>&nbsp;<span class="op" id="3191185">:=</span>&nbsp;<span class="keyword" id="3191188">range</span>&nbsp;<span class="ident" id="3191194"><a href="/bytes/bytes.go.html#3191151">s</a></span>&nbsp;<span class="op" id="3191196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191200">if</span>&nbsp;<span class="ident" id="3191203"><a href="/bytes/bytes.go.html#3191183">b</a></span>&nbsp;<span class="op" id="3191205">==</span>&nbsp;<span class="ident" id="3191208"><a href="/bytes/bytes.go.html#3191161">c</a></span>&nbsp;<span class="op" id="3191210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191215">return</span>&nbsp;<span class="ident" id="3191222"><a href="/bytes/bytes.go.html#3191180">i</a></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191232">return</span>&nbsp;<span class="op" id="3191239">-</span><span class="num" id="3191240">1</span><br>
<span class="lineno"></span><span class="op" id="3191242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="3191245">//&nbsp;LastIndex&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;instance&nbsp;of&nbsp;sep&nbsp;in&nbsp;s,&nbsp;or&nbsp;-1&nbsp;if&nbsp;sep&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3191344">func</span>&nbsp;<span class="ident" id="3191349">LastIndex</span><span class="op" id="3191358">(</span><span class="ident" id="3191359">s</span><span class="op" id="3191360">,</span>&nbsp;<span class="ident" id="3191362">sep</span>&nbsp;<span class="op" id="3191366">[</span><span class="op" id="3191367">]</span><span class="builtintype" id="3191368">byte</span><span class="op" id="3191372">)</span>&nbsp;<span class="builtintype" id="3191374">int</span>&nbsp;<span class="op" id="3191378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3191381">n</span>&nbsp;<span class="op" id="3191383">:=</span>&nbsp;<span class="builtinfunc" id="3191386">len</span><span class="op" id="3191389">(</span><span class="ident" id="3191390"><a href="/bytes/bytes.go.html#3191362">sep</a></span><span class="op" id="3191393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191396">if</span>&nbsp;<span class="ident" id="3191399"><a href="/bytes/bytes.go.html#3191381">n</a></span>&nbsp;<span class="op" id="3191401">==</span>&nbsp;<span class="num" id="3191404">0</span>&nbsp;<span class="op" id="3191406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191410">return</span>&nbsp;<span class="builtinfunc" id="3191417">len</span><span class="op" id="3191420">(</span><span class="ident" id="3191421"><a href="/bytes/bytes.go.html#3191359">s</a></span><span class="op" id="3191422">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3191428">c</span>&nbsp;<span class="op" id="3191430">:=</span>&nbsp;<span class="ident" id="3191433"><a href="/bytes/bytes.go.html#3191362">sep</a></span><span class="op" id="3191436">[</span><span class="num" id="3191437">0</span><span class="op" id="3191438">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191441">for</span>&nbsp;<span class="ident" id="3191445">i</span>&nbsp;<span class="op" id="3191447">:=</span>&nbsp;<span class="builtinfunc" id="3191450">len</span><span class="op" id="3191453">(</span><span class="ident" id="3191454"><a href="/bytes/bytes.go.html#3191359">s</a></span><span class="op" id="3191455">)</span>&nbsp;<span class="op" id="3191457">-</span>&nbsp;<span class="ident" id="3191459"><a href="/bytes/bytes.go.html#3191381">n</a></span><span class="op" id="3191460">;</span>&nbsp;<span class="ident" id="3191462"><a href="/bytes/bytes.go.html#3191445">i</a></span>&nbsp;<span class="op" id="3191464">&gt;=</span>&nbsp;<span class="num" id="3191467">0</span><span class="op" id="3191468">;</span>&nbsp;<span class="ident" id="3191470"><a href="/bytes/bytes.go.html#3191445">i</a></span><span class="op" id="3191471">--</span>&nbsp;<span class="op" id="3191474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191478">if</span>&nbsp;<span class="ident" id="3191481"><a href="/bytes/bytes.go.html#3191359">s</a></span><span class="op" id="3191482">[</span><span class="ident" id="3191483"><a href="/bytes/bytes.go.html#3191445">i</a></span><span class="op" id="3191484">]</span>&nbsp;<span class="op" id="3191486">==</span>&nbsp;<span class="ident" id="3191489"><a href="/bytes/bytes.go.html#3191428">c</a></span>&nbsp;<span class="op" id="3191491">&amp;&amp;</span>&nbsp;<span class="op" id="3191494">(</span><span class="ident" id="3191495"><a href="/bytes/bytes.go.html#3191381">n</a></span>&nbsp;<span class="op" id="3191497">==</span>&nbsp;<span class="num" id="3191500">1</span>&nbsp;<span class="op" id="3191502">||</span>&nbsp;<span class="ident" id="3191505"><a href="/bytes/bytes_decl.go.html#3207918">Equal</a></span><span class="op" id="3191510">(</span><span class="ident" id="3191511"><a href="/bytes/bytes.go.html#3191359">s</a></span><span class="op" id="3191512">[</span><span class="ident" id="3191513"><a href="/bytes/bytes.go.html#3191445">i</a></span><span class="op" id="3191514">:</span><span class="ident" id="3191515"><a href="/bytes/bytes.go.html#3191445">i</a></span><span class="op" id="3191516">+</span><span class="ident" id="3191517"><a href="/bytes/bytes.go.html#3191381">n</a></span><span class="op" id="3191518">]</span><span class="op" id="3191519">,</span>&nbsp;<span class="ident" id="3191521"><a href="/bytes/bytes.go.html#3191362">sep</a></span><span class="op" id="3191524">)</span><span class="op" id="3191525">)</span>&nbsp;<span class="op" id="3191527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191532">return</span>&nbsp;<span class="ident" id="3191539"><a href="/bytes/bytes.go.html#3191445">i</a></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191549">return</span>&nbsp;<span class="op" id="3191556">-</span><span class="num" id="3191557">1</span><br>
<span class="lineno"></span><span class="op" id="3191559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="3191562">//&nbsp;IndexRune&nbsp;interprets&nbsp;s&nbsp;as&nbsp;a&nbsp;sequence&nbsp;of&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points.</span><br>
<span class="lineno"></span><span class="comment" id="3191640">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;byte&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;in&nbsp;s&nbsp;of&nbsp;the&nbsp;given&nbsp;rune.</span><br>
<span class="lineno"></span><span class="comment" id="3191717">//&nbsp;It&nbsp;returns&nbsp;-1&nbsp;if&nbsp;rune&nbsp;is&nbsp;not&nbsp;present&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3191763">func</span>&nbsp;<span class="ident" id="3191768">IndexRune</span><span class="op" id="3191777">(</span><span class="ident" id="3191778">s</span>&nbsp;<span class="op" id="3191780">[</span><span class="op" id="3191781">]</span><span class="builtintype" id="3191782">byte</span><span class="op" id="3191786">,</span>&nbsp;<span class="ident" id="3191788">r</span>&nbsp;<span class="builtintype" id="3191790">rune</span><span class="op" id="3191794">)</span>&nbsp;<span class="builtintype" id="3191796">int</span>&nbsp;<span class="op" id="3191800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191803">for</span>&nbsp;<span class="ident" id="3191807">i</span>&nbsp;<span class="op" id="3191809">:=</span>&nbsp;<span class="num" id="3191812">0</span><span class="op" id="3191813">;</span>&nbsp;<span class="ident" id="3191815"><a href="/bytes/bytes.go.html#3191807">i</a></span>&nbsp;<span class="op" id="3191817">&lt;</span>&nbsp;<span class="builtinfunc" id="3191819">len</span><span class="op" id="3191822">(</span><span class="ident" id="3191823"><a href="/bytes/bytes.go.html#3191778">s</a></span><span class="op" id="3191824">)</span><span class="op" id="3191825">;</span>&nbsp;<span class="op" id="3191827">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3191831">r1</span><span class="op" id="3191833">,</span>&nbsp;<span class="ident" id="3191835">size</span>&nbsp;<span class="op" id="3191840">:=</span>&nbsp;<span class="ident" id="3191843"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3191847">.</span><span class="ident" id="3191848">DecodeRune</span><span class="op" id="3191858">(</span><span class="ident" id="3191859"><a href="/bytes/bytes.go.html#3191778">s</a></span><span class="op" id="3191860">[</span><span class="ident" id="3191861"><a href="/bytes/bytes.go.html#3191807">i</a></span><span class="op" id="3191862">:</span><span class="op" id="3191863">]</span><span class="op" id="3191864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191868">if</span>&nbsp;<span class="ident" id="3191871"><a href="/bytes/bytes.go.html#3191788">r</a></span>&nbsp;<span class="op" id="3191873">==</span>&nbsp;<span class="ident" id="3191876"><a href="/bytes/bytes.go.html#3191831">r1</a></span>&nbsp;<span class="op" id="3191879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191884">return</span>&nbsp;<span class="ident" id="3191891"><a href="/bytes/bytes.go.html#3191807">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3191899"><a href="/bytes/bytes.go.html#3191807">i</a></span>&nbsp;<span class="op" id="3191901">+=</span>&nbsp;<span class="ident" id="3191904"><a href="/bytes/bytes.go.html#3191835">size</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3191910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3191913">return</span>&nbsp;<span class="op" id="3191920">-</span><span class="num" id="3191921">1</span><br>
<span class="lineno"></span><span class="op" id="3191923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3191926">//&nbsp;IndexAny&nbsp;interprets&nbsp;s&nbsp;as&nbsp;a&nbsp;sequence&nbsp;of&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points.</span><br>
<span class="lineno">155</span><span class="comment" id="3192003">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;byte&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;of&nbsp;the&nbsp;Unicode</span><br>
<span class="lineno"></span><span class="comment" id="3192083">//&nbsp;code&nbsp;points&nbsp;in&nbsp;chars.&nbsp;&nbsp;It&nbsp;returns&nbsp;-1&nbsp;if&nbsp;chars&nbsp;is&nbsp;empty&nbsp;or&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;code</span><br>
<span class="lineno"></span><span class="comment" id="3192164">//&nbsp;point&nbsp;in&nbsp;common.</span><br>
<span class="lineno"></span><span class="keyword" id="3192184">func</span>&nbsp;<span class="ident" id="3192189">IndexAny</span><span class="op" id="3192197">(</span><span class="ident" id="3192198">s</span>&nbsp;<span class="op" id="3192200">[</span><span class="op" id="3192201">]</span><span class="builtintype" id="3192202">byte</span><span class="op" id="3192206">,</span>&nbsp;<span class="ident" id="3192208">chars</span>&nbsp;<span class="builtintype" id="3192214">string</span><span class="op" id="3192220">)</span>&nbsp;<span class="builtintype" id="3192222">int</span>&nbsp;<span class="op" id="3192226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192229">if</span>&nbsp;<span class="builtinfunc" id="3192232">len</span><span class="op" id="3192235">(</span><span class="ident" id="3192236"><a href="/bytes/bytes.go.html#3192208">chars</a></span><span class="op" id="3192241">)</span>&nbsp;<span class="op" id="3192243">&gt;</span>&nbsp;<span class="num" id="3192245">0</span>&nbsp;<span class="op" id="3192247">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192251">var</span>&nbsp;<span class="ident" id="3192255">r</span>&nbsp;<span class="builtintype" id="3192257">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192264">var</span>&nbsp;<span class="ident" id="3192268">width</span>&nbsp;<span class="builtintype" id="3192274">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192280">for</span>&nbsp;<span class="ident" id="3192284">i</span>&nbsp;<span class="op" id="3192286">:=</span>&nbsp;<span class="num" id="3192289">0</span><span class="op" id="3192290">;</span>&nbsp;<span class="ident" id="3192292"><a href="/bytes/bytes.go.html#3192284">i</a></span>&nbsp;<span class="op" id="3192294">&lt;</span>&nbsp;<span class="builtinfunc" id="3192296">len</span><span class="op" id="3192299">(</span><span class="ident" id="3192300"><a href="/bytes/bytes.go.html#3192198">s</a></span><span class="op" id="3192301">)</span><span class="op" id="3192302">;</span>&nbsp;<span class="ident" id="3192304"><a href="/bytes/bytes.go.html#3192284">i</a></span>&nbsp;<span class="op" id="3192306">+=</span>&nbsp;<span class="ident" id="3192309"><a href="/bytes/bytes.go.html#3192268">width</a></span>&nbsp;<span class="op" id="3192315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3192320"><a href="/bytes/bytes.go.html#3192255">r</a></span>&nbsp;<span class="op" id="3192322">=</span>&nbsp;<span class="builtintype" id="3192324">rune</span><span class="op" id="3192328">(</span><span class="ident" id="3192329"><a href="/bytes/bytes.go.html#3192198">s</a></span><span class="op" id="3192330">[</span><span class="ident" id="3192331"><a href="/bytes/bytes.go.html#3192284">i</a></span><span class="op" id="3192332">]</span><span class="op" id="3192333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192338">if</span>&nbsp;<span class="ident" id="3192341"><a href="/bytes/bytes.go.html#3192255">r</a></span>&nbsp;<span class="op" id="3192343">&lt;</span>&nbsp;<span class="ident" id="3192345"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3192349">.</span><span class="ident" id="3192350">RuneSelf</span>&nbsp;<span class="op" id="3192359">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3192365"><a href="/bytes/bytes.go.html#3192268">width</a></span>&nbsp;<span class="op" id="3192371">=</span>&nbsp;<span class="num" id="3192373">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3192378">}</span>&nbsp;<span class="keyword" id="3192380">else</span>&nbsp;<span class="op" id="3192385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3192391"><a href="/bytes/bytes.go.html#3192255">r</a></span><span class="op" id="3192392">,</span>&nbsp;<span class="ident" id="3192394"><a href="/bytes/bytes.go.html#3192268">width</a></span>&nbsp;<span class="op" id="3192400">=</span>&nbsp;<span class="ident" id="3192402"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3192406">.</span><span class="ident" id="3192407">DecodeRune</span><span class="op" id="3192417">(</span><span class="ident" id="3192418"><a href="/bytes/bytes.go.html#3192198">s</a></span><span class="op" id="3192419">[</span><span class="ident" id="3192420"><a href="/bytes/bytes.go.html#3192284">i</a></span><span class="op" id="3192421">:</span><span class="op" id="3192422">]</span><span class="op" id="3192423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3192428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192433">for</span>&nbsp;<span class="ident" id="3192437">_</span><span class="op" id="3192438">,</span>&nbsp;<span class="ident" id="3192440">ch</span>&nbsp;<span class="op" id="3192443">:=</span>&nbsp;<span class="keyword" id="3192446">range</span>&nbsp;<span class="ident" id="3192452"><a href="/bytes/bytes.go.html#3192208">chars</a></span>&nbsp;<span class="op" id="3192458">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192464">if</span>&nbsp;<span class="ident" id="3192467"><a href="/bytes/bytes.go.html#3192255">r</a></span>&nbsp;<span class="op" id="3192469">==</span>&nbsp;<span class="ident" id="3192472"><a href="/bytes/bytes.go.html#3192440">ch</a></span>&nbsp;<span class="op" id="3192475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192482">return</span>&nbsp;<span class="ident" id="3192489"><a href="/bytes/bytes.go.html#3192284">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3192495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3192500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3192504">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3192507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192510">return</span>&nbsp;<span class="op" id="3192517">-</span><span class="num" id="3192518">1</span><br>
<span class="lineno"></span><span class="op" id="3192520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3192523">//&nbsp;LastIndexAny&nbsp;interprets&nbsp;s&nbsp;as&nbsp;a&nbsp;sequence&nbsp;of&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code</span><br>
<span class="lineno">180</span><span class="comment" id="3192596">//&nbsp;points.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;byte&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3192672">//&nbsp;the&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;in&nbsp;chars.&nbsp;&nbsp;It&nbsp;returns&nbsp;-1&nbsp;if&nbsp;chars&nbsp;is&nbsp;empty&nbsp;or&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="3192748">//&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;point&nbsp;in&nbsp;common.</span><br>
<span class="lineno"></span><span class="keyword" id="3192785">func</span>&nbsp;<span class="ident" id="3192790">LastIndexAny</span><span class="op" id="3192802">(</span><span class="ident" id="3192803">s</span>&nbsp;<span class="op" id="3192805">[</span><span class="op" id="3192806">]</span><span class="builtintype" id="3192807">byte</span><span class="op" id="3192811">,</span>&nbsp;<span class="ident" id="3192813">chars</span>&nbsp;<span class="builtintype" id="3192819">string</span><span class="op" id="3192825">)</span>&nbsp;<span class="builtintype" id="3192827">int</span>&nbsp;<span class="op" id="3192831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192834">if</span>&nbsp;<span class="builtinfunc" id="3192837">len</span><span class="op" id="3192840">(</span><span class="ident" id="3192841"><a href="/bytes/bytes.go.html#3192813">chars</a></span><span class="op" id="3192846">)</span>&nbsp;<span class="op" id="3192848">&gt;</span>&nbsp;<span class="num" id="3192850">0</span>&nbsp;<span class="op" id="3192852">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192856">for</span>&nbsp;<span class="ident" id="3192860">i</span>&nbsp;<span class="op" id="3192862">:=</span>&nbsp;<span class="builtinfunc" id="3192865">len</span><span class="op" id="3192868">(</span><span class="ident" id="3192869"><a href="/bytes/bytes.go.html#3192803">s</a></span><span class="op" id="3192870">)</span><span class="op" id="3192871">;</span>&nbsp;<span class="ident" id="3192873"><a href="/bytes/bytes.go.html#3192860">i</a></span>&nbsp;<span class="op" id="3192875">&gt;</span>&nbsp;<span class="num" id="3192877">0</span><span class="op" id="3192878">;</span>&nbsp;<span class="op" id="3192880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3192885">r</span><span class="op" id="3192886">,</span>&nbsp;<span class="ident" id="3192888">size</span>&nbsp;<span class="op" id="3192893">:=</span>&nbsp;<span class="ident" id="3192896"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3192900">.</span><span class="ident" id="3192901">DecodeLastRune</span><span class="op" id="3192915">(</span><span class="ident" id="3192916"><a href="/bytes/bytes.go.html#3192803">s</a></span><span class="op" id="3192917">[</span><span class="num" id="3192918">0</span><span class="op" id="3192919">:</span><span class="ident" id="3192920"><a href="/bytes/bytes.go.html#3192860">i</a></span><span class="op" id="3192921">]</span><span class="op" id="3192922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3192927"><a href="/bytes/bytes.go.html#3192860">i</a></span>&nbsp;<span class="op" id="3192929">-=</span>&nbsp;<span class="ident" id="3192932"><a href="/bytes/bytes.go.html#3192888">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192940">for</span>&nbsp;<span class="ident" id="3192944">_</span><span class="op" id="3192945">,</span>&nbsp;<span class="ident" id="3192947">ch</span>&nbsp;<span class="op" id="3192950">:=</span>&nbsp;<span class="keyword" id="3192953">range</span>&nbsp;<span class="ident" id="3192959"><a href="/bytes/bytes.go.html#3192813">chars</a></span>&nbsp;<span class="op" id="3192965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192971">if</span>&nbsp;<span class="ident" id="3192974"><a href="/bytes/bytes.go.html#3192885">r</a></span>&nbsp;<span class="op" id="3192976">==</span>&nbsp;<span class="ident" id="3192979"><a href="/bytes/bytes.go.html#3192947">ch</a></span>&nbsp;<span class="op" id="3192982">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3192989">return</span>&nbsp;<span class="ident" id="3192996"><a href="/bytes/bytes.go.html#3192860">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193014">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193017">return</span>&nbsp;<span class="op" id="3193024">-</span><span class="num" id="3193025">1</span><br>
<span class="lineno"></span><span class="op" id="3193027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3193030">//&nbsp;Generic&nbsp;split:&nbsp;splits&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep,</span><br>
<span class="lineno"></span><span class="comment" id="3193083">//&nbsp;including&nbsp;sepSave&nbsp;bytes&nbsp;of&nbsp;sep&nbsp;in&nbsp;the&nbsp;subslices.</span><br>
<span class="lineno">200</span><span class="keyword" id="3193135">func</span>&nbsp;<span class="ident" id="3193140">genSplit</span><span class="op" id="3193148">(</span><span class="ident" id="3193149">s</span><span class="op" id="3193150">,</span>&nbsp;<span class="ident" id="3193152">sep</span>&nbsp;<span class="op" id="3193156">[</span><span class="op" id="3193157">]</span><span class="builtintype" id="3193158">byte</span><span class="op" id="3193162">,</span>&nbsp;<span class="ident" id="3193164">sepSave</span><span class="op" id="3193171">,</span>&nbsp;<span class="ident" id="3193173">n</span>&nbsp;<span class="builtintype" id="3193175">int</span><span class="op" id="3193178">)</span>&nbsp;<span class="op" id="3193180">[</span><span class="op" id="3193181">]</span><span class="op" id="3193182">[</span><span class="op" id="3193183">]</span><span class="builtintype" id="3193184">byte</span>&nbsp;<span class="op" id="3193189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193192">if</span>&nbsp;<span class="ident" id="3193195"><a href="/bytes/bytes.go.html#3193173">n</a></span>&nbsp;<span class="op" id="3193197">==</span>&nbsp;<span class="num" id="3193200">0</span>&nbsp;<span class="op" id="3193202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193206">return</span>&nbsp;<span class="ident" id="3193213">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193221">if</span>&nbsp;<span class="builtinfunc" id="3193224">len</span><span class="op" id="3193227">(</span><span class="ident" id="3193228"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193231">)</span>&nbsp;<span class="op" id="3193233">==</span>&nbsp;<span class="num" id="3193236">0</span>&nbsp;<span class="op" id="3193238">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193242">return</span>&nbsp;<span class="ident" id="3193249"><a href="/bytes/bytes.go.html#3189812">explode</a></span><span class="op" id="3193256">(</span><span class="ident" id="3193257"><a href="/bytes/bytes.go.html#3193149">s</a></span><span class="op" id="3193258">,</span>&nbsp;<span class="ident" id="3193260"><a href="/bytes/bytes.go.html#3193173">n</a></span><span class="op" id="3193261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193267">if</span>&nbsp;<span class="ident" id="3193270"><a href="/bytes/bytes.go.html#3193173">n</a></span>&nbsp;<span class="op" id="3193272">&lt;</span>&nbsp;<span class="num" id="3193274">0</span>&nbsp;<span class="op" id="3193276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193280"><a href="/bytes/bytes.go.html#3193173">n</a></span>&nbsp;<span class="op" id="3193282">=</span>&nbsp;<span class="ident" id="3193284"><a href="/bytes/bytes.go.html#3190162">Count</a></span><span class="op" id="3193289">(</span><span class="ident" id="3193290"><a href="/bytes/bytes.go.html#3193149">s</a></span><span class="op" id="3193291">,</span>&nbsp;<span class="ident" id="3193293"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193296">)</span>&nbsp;<span class="op" id="3193298">+</span>&nbsp;<span class="num" id="3193300">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193303">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193306">c</span>&nbsp;<span class="op" id="3193308">:=</span>&nbsp;<span class="ident" id="3193311"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193314">[</span><span class="num" id="3193315">0</span><span class="op" id="3193316">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193319">start</span>&nbsp;<span class="op" id="3193325">:=</span>&nbsp;<span class="num" id="3193328">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193331">a</span>&nbsp;<span class="op" id="3193333">:=</span>&nbsp;<span class="builtinfunc" id="3193336">make</span><span class="op" id="3193340">(</span><span class="op" id="3193341">[</span><span class="op" id="3193342">]</span><span class="op" id="3193343">[</span><span class="op" id="3193344">]</span><span class="builtintype" id="3193345">byte</span><span class="op" id="3193349">,</span>&nbsp;<span class="ident" id="3193351"><a href="/bytes/bytes.go.html#3193173">n</a></span><span class="op" id="3193352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193355">na</span>&nbsp;<span class="op" id="3193358">:=</span>&nbsp;<span class="num" id="3193361">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193364">for</span>&nbsp;<span class="ident" id="3193368">i</span>&nbsp;<span class="op" id="3193370">:=</span>&nbsp;<span class="num" id="3193373">0</span><span class="op" id="3193374">;</span>&nbsp;<span class="ident" id="3193376"><a href="/bytes/bytes.go.html#3193368">i</a></span><span class="op" id="3193377">+</span><span class="builtinfunc" id="3193378">len</span><span class="op" id="3193381">(</span><span class="ident" id="3193382"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193385">)</span>&nbsp;<span class="op" id="3193387">&lt;=</span>&nbsp;<span class="builtinfunc" id="3193390">len</span><span class="op" id="3193393">(</span><span class="ident" id="3193394"><a href="/bytes/bytes.go.html#3193149">s</a></span><span class="op" id="3193395">)</span>&nbsp;<span class="op" id="3193397">&amp;&amp;</span>&nbsp;<span class="ident" id="3193400"><a href="/bytes/bytes.go.html#3193355">na</a></span><span class="op" id="3193402">+</span><span class="num" id="3193403">1</span>&nbsp;<span class="op" id="3193405">&lt;</span>&nbsp;<span class="ident" id="3193407"><a href="/bytes/bytes.go.html#3193173">n</a></span><span class="op" id="3193408">;</span>&nbsp;<span class="ident" id="3193410"><a href="/bytes/bytes.go.html#3193368">i</a></span><span class="op" id="3193411">++</span>&nbsp;<span class="op" id="3193414">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193418">if</span>&nbsp;<span class="ident" id="3193421"><a href="/bytes/bytes.go.html#3193149">s</a></span><span class="op" id="3193422">[</span><span class="ident" id="3193423"><a href="/bytes/bytes.go.html#3193368">i</a></span><span class="op" id="3193424">]</span>&nbsp;<span class="op" id="3193426">==</span>&nbsp;<span class="ident" id="3193429"><a href="/bytes/bytes.go.html#3193306">c</a></span>&nbsp;<span class="op" id="3193431">&amp;&amp;</span>&nbsp;<span class="op" id="3193434">(</span><span class="builtinfunc" id="3193435">len</span><span class="op" id="3193438">(</span><span class="ident" id="3193439"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193442">)</span>&nbsp;<span class="op" id="3193444">==</span>&nbsp;<span class="num" id="3193447">1</span>&nbsp;<span class="op" id="3193449">||</span>&nbsp;<span class="ident" id="3193452"><a href="/bytes/bytes_decl.go.html#3207918">Equal</a></span><span class="op" id="3193457">(</span><span class="ident" id="3193458"><a href="/bytes/bytes.go.html#3193149">s</a></span><span class="op" id="3193459">[</span><span class="ident" id="3193460"><a href="/bytes/bytes.go.html#3193368">i</a></span><span class="op" id="3193461">:</span><span class="ident" id="3193462"><a href="/bytes/bytes.go.html#3193368">i</a></span><span class="op" id="3193463">+</span><span class="builtinfunc" id="3193464">len</span><span class="op" id="3193467">(</span><span class="ident" id="3193468"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193471">)</span><span class="op" id="3193472">]</span><span class="op" id="3193473">,</span>&nbsp;<span class="ident" id="3193475"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193478">)</span><span class="op" id="3193479">)</span>&nbsp;<span class="op" id="3193481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193486"><a href="/bytes/bytes.go.html#3193331">a</a></span><span class="op" id="3193487">[</span><span class="ident" id="3193488"><a href="/bytes/bytes.go.html#3193355">na</a></span><span class="op" id="3193490">]</span>&nbsp;<span class="op" id="3193492">=</span>&nbsp;<span class="ident" id="3193494"><a href="/bytes/bytes.go.html#3193149">s</a></span><span class="op" id="3193495">[</span><span class="ident" id="3193496"><a href="/bytes/bytes.go.html#3193319">start</a></span>&nbsp;<span class="op" id="3193502">:</span>&nbsp;<span class="ident" id="3193504"><a href="/bytes/bytes.go.html#3193368">i</a></span><span class="op" id="3193505">+</span><span class="ident" id="3193506"><a href="/bytes/bytes.go.html#3193164">sepSave</a></span><span class="op" id="3193513">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193518"><a href="/bytes/bytes.go.html#3193355">na</a></span><span class="op" id="3193520">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193526"><a href="/bytes/bytes.go.html#3193319">start</a></span>&nbsp;<span class="op" id="3193532">=</span>&nbsp;<span class="ident" id="3193534"><a href="/bytes/bytes.go.html#3193368">i</a></span>&nbsp;<span class="op" id="3193536">+</span>&nbsp;<span class="builtinfunc" id="3193538">len</span><span class="op" id="3193541">(</span><span class="ident" id="3193542"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193550"><a href="/bytes/bytes.go.html#3193368">i</a></span>&nbsp;<span class="op" id="3193552">+=</span>&nbsp;<span class="builtinfunc" id="3193555">len</span><span class="op" id="3193558">(</span><span class="ident" id="3193559"><a href="/bytes/bytes.go.html#3193152">sep</a></span><span class="op" id="3193562">)</span>&nbsp;<span class="op" id="3193564">-</span>&nbsp;<span class="num" id="3193566">1</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193576"><a href="/bytes/bytes.go.html#3193331">a</a></span><span class="op" id="3193577">[</span><span class="ident" id="3193578"><a href="/bytes/bytes.go.html#3193355">na</a></span><span class="op" id="3193580">]</span>&nbsp;<span class="op" id="3193582">=</span>&nbsp;<span class="ident" id="3193584"><a href="/bytes/bytes.go.html#3193149">s</a></span><span class="op" id="3193585">[</span><span class="ident" id="3193586"><a href="/bytes/bytes.go.html#3193319">start</a></span><span class="op" id="3193591">:</span><span class="op" id="3193592">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193595">return</span>&nbsp;<span class="ident" id="3193602"><a href="/bytes/bytes.go.html#3193331">a</a></span><span class="op" id="3193603">[</span><span class="num" id="3193604">0</span>&nbsp;<span class="op" id="3193606">:</span>&nbsp;<span class="ident" id="3193608"><a href="/bytes/bytes.go.html#3193355">na</a></span><span class="op" id="3193610">+</span><span class="num" id="3193611">1</span><span class="op" id="3193612">]</span><br>
<span class="lineno"></span><span class="op" id="3193614">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="3193617">//&nbsp;SplitN&nbsp;slices&nbsp;s&nbsp;into&nbsp;subslices&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3193691">//&nbsp;the&nbsp;subslices&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="3193734">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="3193795">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;subslices&nbsp;to&nbsp;return:</span><br>
<span class="lineno">230</span><span class="comment" id="3193854">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;subslices;&nbsp;the&nbsp;last&nbsp;subslice&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="3193936">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;subslices)</span><br>
<span class="lineno"></span><span class="comment" id="3193984">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;subslices</span><br>
<span class="lineno"></span><span class="keyword" id="3194010">func</span>&nbsp;<span class="ident" id="3194015">SplitN</span><span class="op" id="3194021">(</span><span class="ident" id="3194022">s</span><span class="op" id="3194023">,</span>&nbsp;<span class="ident" id="3194025">sep</span>&nbsp;<span class="op" id="3194029">[</span><span class="op" id="3194030">]</span><span class="builtintype" id="3194031">byte</span><span class="op" id="3194035">,</span>&nbsp;<span class="ident" id="3194037">n</span>&nbsp;<span class="builtintype" id="3194039">int</span><span class="op" id="3194042">)</span>&nbsp;<span class="op" id="3194044">[</span><span class="op" id="3194045">]</span><span class="op" id="3194046">[</span><span class="op" id="3194047">]</span><span class="builtintype" id="3194048">byte</span>&nbsp;<span class="op" id="3194053">{</span>&nbsp;<span class="keyword" id="3194055">return</span>&nbsp;<span class="ident" id="3194062"><a href="/bytes/bytes.go.html#3193140">genSplit</a></span><span class="op" id="3194070">(</span><span class="ident" id="3194071"><a href="/bytes/bytes.go.html#3194022">s</a></span><span class="op" id="3194072">,</span>&nbsp;<span class="ident" id="3194074"><a href="/bytes/bytes.go.html#3194025">sep</a></span><span class="op" id="3194077">,</span>&nbsp;<span class="num" id="3194079">0</span><span class="op" id="3194080">,</span>&nbsp;<span class="ident" id="3194082"><a href="/bytes/bytes.go.html#3194037">n</a></span><span class="op" id="3194083">)</span>&nbsp;<span class="op" id="3194085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="3194088">//&nbsp;SplitAfterN&nbsp;slices&nbsp;s&nbsp;into&nbsp;subslices&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3194158">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;subslices.</span><br>
<span class="lineno"></span><span class="comment" id="3194197">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfterN&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="3194263">//&nbsp;The&nbsp;count&nbsp;determines&nbsp;the&nbsp;number&nbsp;of&nbsp;subslices&nbsp;to&nbsp;return:</span><br>
<span class="lineno"></span><span class="comment" id="3194322">//&nbsp;&nbsp;&nbsp;n&nbsp;&gt;&nbsp;0:&nbsp;at&nbsp;most&nbsp;n&nbsp;subslices;&nbsp;the&nbsp;last&nbsp;subslice&nbsp;will&nbsp;be&nbsp;the&nbsp;unsplit&nbsp;remainder.</span><br>
<span class="lineno">240</span><span class="comment" id="3194404">//&nbsp;&nbsp;&nbsp;n&nbsp;==&nbsp;0:&nbsp;the&nbsp;result&nbsp;is&nbsp;nil&nbsp;(zero&nbsp;subslices)</span><br>
<span class="lineno"></span><span class="comment" id="3194452">//&nbsp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0:&nbsp;all&nbsp;subslices</span><br>
<span class="lineno"></span><span class="keyword" id="3194478">func</span>&nbsp;<span class="ident" id="3194483">SplitAfterN</span><span class="op" id="3194494">(</span><span class="ident" id="3194495">s</span><span class="op" id="3194496">,</span>&nbsp;<span class="ident" id="3194498">sep</span>&nbsp;<span class="op" id="3194502">[</span><span class="op" id="3194503">]</span><span class="builtintype" id="3194504">byte</span><span class="op" id="3194508">,</span>&nbsp;<span class="ident" id="3194510">n</span>&nbsp;<span class="builtintype" id="3194512">int</span><span class="op" id="3194515">)</span>&nbsp;<span class="op" id="3194517">[</span><span class="op" id="3194518">]</span><span class="op" id="3194519">[</span><span class="op" id="3194520">]</span><span class="builtintype" id="3194521">byte</span>&nbsp;<span class="op" id="3194526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194529">return</span>&nbsp;<span class="ident" id="3194536"><a href="/bytes/bytes.go.html#3193140">genSplit</a></span><span class="op" id="3194544">(</span><span class="ident" id="3194545"><a href="/bytes/bytes.go.html#3194495">s</a></span><span class="op" id="3194546">,</span>&nbsp;<span class="ident" id="3194548"><a href="/bytes/bytes.go.html#3194498">sep</a></span><span class="op" id="3194551">,</span>&nbsp;<span class="builtinfunc" id="3194553">len</span><span class="op" id="3194556">(</span><span class="ident" id="3194557"><a href="/bytes/bytes.go.html#3194498">sep</a></span><span class="op" id="3194560">)</span><span class="op" id="3194561">,</span>&nbsp;<span class="ident" id="3194563"><a href="/bytes/bytes.go.html#3194510">n</a></span><span class="op" id="3194564">)</span><br>
<span class="lineno"></span><span class="op" id="3194566">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3194569">//&nbsp;Split&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;subslices&nbsp;separated&nbsp;by&nbsp;sep&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3194646">//&nbsp;the&nbsp;subslices&nbsp;between&nbsp;those&nbsp;separators.</span><br>
<span class="lineno"></span><span class="comment" id="3194689">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;Split&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="3194749">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno">250</span><span class="keyword" id="3194799">func</span>&nbsp;<span class="ident" id="3194804">Split</span><span class="op" id="3194809">(</span><span class="ident" id="3194810">s</span><span class="op" id="3194811">,</span>&nbsp;<span class="ident" id="3194813">sep</span>&nbsp;<span class="op" id="3194817">[</span><span class="op" id="3194818">]</span><span class="builtintype" id="3194819">byte</span><span class="op" id="3194823">)</span>&nbsp;<span class="op" id="3194825">[</span><span class="op" id="3194826">]</span><span class="op" id="3194827">[</span><span class="op" id="3194828">]</span><span class="builtintype" id="3194829">byte</span>&nbsp;<span class="op" id="3194834">{</span>&nbsp;<span class="keyword" id="3194836">return</span>&nbsp;<span class="ident" id="3194843"><a href="/bytes/bytes.go.html#3193140">genSplit</a></span><span class="op" id="3194851">(</span><span class="ident" id="3194852"><a href="/bytes/bytes.go.html#3194810">s</a></span><span class="op" id="3194853">,</span>&nbsp;<span class="ident" id="3194855"><a href="/bytes/bytes.go.html#3194813">sep</a></span><span class="op" id="3194858">,</span>&nbsp;<span class="num" id="3194860">0</span><span class="op" id="3194861">,</span>&nbsp;<span class="op" id="3194863">-</span><span class="num" id="3194864">1</span><span class="op" id="3194865">)</span>&nbsp;<span class="op" id="3194867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3194870">//&nbsp;SplitAfter&nbsp;slices&nbsp;s&nbsp;into&nbsp;all&nbsp;subslices&nbsp;after&nbsp;each&nbsp;instance&nbsp;of&nbsp;sep&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3194943">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;those&nbsp;subslices.</span><br>
<span class="lineno"></span><span class="comment" id="3194982">//&nbsp;If&nbsp;sep&nbsp;is&nbsp;empty,&nbsp;SplitAfter&nbsp;splits&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence.</span><br>
<span class="lineno">255</span><span class="comment" id="3195047">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;SplitAfterN&nbsp;with&nbsp;a&nbsp;count&nbsp;of&nbsp;-1.</span><br>
<span class="lineno"></span><span class="keyword" id="3195102">func</span>&nbsp;<span class="ident" id="3195107">SplitAfter</span><span class="op" id="3195117">(</span><span class="ident" id="3195118">s</span><span class="op" id="3195119">,</span>&nbsp;<span class="ident" id="3195121">sep</span>&nbsp;<span class="op" id="3195125">[</span><span class="op" id="3195126">]</span><span class="builtintype" id="3195127">byte</span><span class="op" id="3195131">)</span>&nbsp;<span class="op" id="3195133">[</span><span class="op" id="3195134">]</span><span class="op" id="3195135">[</span><span class="op" id="3195136">]</span><span class="builtintype" id="3195137">byte</span>&nbsp;<span class="op" id="3195142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195145">return</span>&nbsp;<span class="ident" id="3195152"><a href="/bytes/bytes.go.html#3193140">genSplit</a></span><span class="op" id="3195160">(</span><span class="ident" id="3195161"><a href="/bytes/bytes.go.html#3195118">s</a></span><span class="op" id="3195162">,</span>&nbsp;<span class="ident" id="3195164"><a href="/bytes/bytes.go.html#3195121">sep</a></span><span class="op" id="3195167">,</span>&nbsp;<span class="builtinfunc" id="3195169">len</span><span class="op" id="3195172">(</span><span class="ident" id="3195173"><a href="/bytes/bytes.go.html#3195121">sep</a></span><span class="op" id="3195176">)</span><span class="op" id="3195177">,</span>&nbsp;<span class="op" id="3195179">-</span><span class="num" id="3195180">1</span><span class="op" id="3195181">)</span><br>
<span class="lineno"></span><span class="op" id="3195183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="3195186">//&nbsp;Fields&nbsp;splits&nbsp;the&nbsp;slice&nbsp;s&nbsp;around&nbsp;each&nbsp;instance&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;consecutive&nbsp;white&nbsp;space</span><br>
<span class="lineno"></span><span class="comment" id="3195275">//&nbsp;characters,&nbsp;returning&nbsp;a&nbsp;slice&nbsp;of&nbsp;subslices&nbsp;of&nbsp;s&nbsp;or&nbsp;an&nbsp;empty&nbsp;list&nbsp;if&nbsp;s&nbsp;contains&nbsp;only&nbsp;white&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="3195375">func</span>&nbsp;<span class="ident" id="3195380">Fields</span><span class="op" id="3195386">(</span><span class="ident" id="3195387">s</span>&nbsp;<span class="op" id="3195389">[</span><span class="op" id="3195390">]</span><span class="builtintype" id="3195391">byte</span><span class="op" id="3195395">)</span>&nbsp;<span class="op" id="3195397">[</span><span class="op" id="3195398">]</span><span class="op" id="3195399">[</span><span class="op" id="3195400">]</span><span class="builtintype" id="3195401">byte</span>&nbsp;<span class="op" id="3195406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195409">return</span>&nbsp;<span class="ident" id="3195416"><a href="/bytes/bytes.go.html#3195886">FieldsFunc</a></span><span class="op" id="3195426">(</span><span class="ident" id="3195427"><a href="/bytes/bytes.go.html#3195387">s</a></span><span class="op" id="3195428">,</span>&nbsp;<span class="ident" id="3195430"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3195437">.</span><span class="ident" id="3195438">IsSpace</span><span class="op" id="3195445">)</span><br>
<span class="lineno"></span><span class="op" id="3195447">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3195450">//&nbsp;FieldsFunc&nbsp;interprets&nbsp;s&nbsp;as&nbsp;a&nbsp;sequence&nbsp;of&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points.</span><br>
<span class="lineno"></span><span class="comment" id="3195529">//&nbsp;It&nbsp;splits&nbsp;the&nbsp;slice&nbsp;s&nbsp;at&nbsp;each&nbsp;run&nbsp;of&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c)&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3195603">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;subslices&nbsp;of&nbsp;s.&nbsp;&nbsp;If&nbsp;all&nbsp;code&nbsp;points&nbsp;in&nbsp;s&nbsp;satisfy&nbsp;f(c),&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3195683">//&nbsp;len(s)&nbsp;==&nbsp;0,&nbsp;an&nbsp;empty&nbsp;slice&nbsp;is&nbsp;returned.</span><br>
<span class="lineno">270</span><span class="comment" id="3195727">//&nbsp;FieldsFunc&nbsp;makes&nbsp;no&nbsp;guarantees&nbsp;about&nbsp;the&nbsp;order&nbsp;in&nbsp;which&nbsp;it&nbsp;calls&nbsp;f(c).</span><br>
<span class="lineno"></span><span class="comment" id="3195801">//&nbsp;If&nbsp;f&nbsp;does&nbsp;not&nbsp;return&nbsp;consistent&nbsp;results&nbsp;for&nbsp;a&nbsp;given&nbsp;c,&nbsp;FieldsFunc&nbsp;may&nbsp;crash.</span><br>
<span class="lineno"></span><span class="keyword" id="3195881">func</span>&nbsp;<span class="ident" id="3195886">FieldsFunc</span><span class="op" id="3195896">(</span><span class="ident" id="3195897">s</span>&nbsp;<span class="op" id="3195899">[</span><span class="op" id="3195900">]</span><span class="builtintype" id="3195901">byte</span><span class="op" id="3195905">,</span>&nbsp;<span class="ident" id="3195907">f</span>&nbsp;<span class="keyword" id="3195909">func</span><span class="op" id="3195913">(</span><span class="builtintype" id="3195914">rune</span><span class="op" id="3195918">)</span>&nbsp;<span class="builtintype" id="3195920">bool</span><span class="op" id="3195924">)</span>&nbsp;<span class="op" id="3195926">[</span><span class="op" id="3195927">]</span><span class="op" id="3195928">[</span><span class="op" id="3195929">]</span><span class="builtintype" id="3195930">byte</span>&nbsp;<span class="op" id="3195935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195938">n</span>&nbsp;<span class="op" id="3195940">:=</span>&nbsp;<span class="num" id="3195943">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195946">inField</span>&nbsp;<span class="op" id="3195954">:=</span>&nbsp;<span class="ident" id="3195957">false</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195964">for</span>&nbsp;<span class="ident" id="3195968">i</span>&nbsp;<span class="op" id="3195970">:=</span>&nbsp;<span class="num" id="3195973">0</span><span class="op" id="3195974">;</span>&nbsp;<span class="ident" id="3195976"><a href="/bytes/bytes.go.html#3195968">i</a></span>&nbsp;<span class="op" id="3195978">&lt;</span>&nbsp;<span class="builtinfunc" id="3195980">len</span><span class="op" id="3195983">(</span><span class="ident" id="3195984"><a href="/bytes/bytes.go.html#3195897">s</a></span><span class="op" id="3195985">)</span><span class="op" id="3195986">;</span>&nbsp;<span class="op" id="3195988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195992">r</span><span class="op" id="3195993">,</span>&nbsp;<span class="ident" id="3195995">size</span>&nbsp;<span class="op" id="3196000">:=</span>&nbsp;<span class="ident" id="3196003"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3196007">.</span><span class="ident" id="3196008">DecodeRune</span><span class="op" id="3196018">(</span><span class="ident" id="3196019"><a href="/bytes/bytes.go.html#3195897">s</a></span><span class="op" id="3196020">[</span><span class="ident" id="3196021"><a href="/bytes/bytes.go.html#3195968">i</a></span><span class="op" id="3196022">:</span><span class="op" id="3196023">]</span><span class="op" id="3196024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196028">wasInField</span>&nbsp;<span class="op" id="3196039">:=</span>&nbsp;<span class="ident" id="3196042"><a href="/bytes/bytes.go.html#3195946">inField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196052"><a href="/bytes/bytes.go.html#3195946">inField</a></span>&nbsp;<span class="op" id="3196060">=</span>&nbsp;<span class="op" id="3196062">!</span><span class="ident" id="3196063"><a href="/bytes/bytes.go.html#3195907">f</a></span><span class="op" id="3196064">(</span><span class="ident" id="3196065"><a href="/bytes/bytes.go.html#3195992">r</a></span><span class="op" id="3196066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196070">if</span>&nbsp;<span class="ident" id="3196073"><a href="/bytes/bytes.go.html#3195946">inField</a></span>&nbsp;<span class="op" id="3196081">&amp;&amp;</span>&nbsp;<span class="op" id="3196084">!</span><span class="ident" id="3196085"><a href="/bytes/bytes.go.html#3196028">wasInField</a></span>&nbsp;<span class="op" id="3196096">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196101"><a href="/bytes/bytes.go.html#3195938">n</a></span><span class="op" id="3196102">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196111"><a href="/bytes/bytes.go.html#3195968">i</a></span>&nbsp;<span class="op" id="3196113">+=</span>&nbsp;<span class="ident" id="3196116"><a href="/bytes/bytes.go.html#3195995">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196126">a</span>&nbsp;<span class="op" id="3196128">:=</span>&nbsp;<span class="builtinfunc" id="3196131">make</span><span class="op" id="3196135">(</span><span class="op" id="3196136">[</span><span class="op" id="3196137">]</span><span class="op" id="3196138">[</span><span class="op" id="3196139">]</span><span class="builtintype" id="3196140">byte</span><span class="op" id="3196144">,</span>&nbsp;<span class="ident" id="3196146"><a href="/bytes/bytes.go.html#3195938">n</a></span><span class="op" id="3196147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196150">na</span>&nbsp;<span class="op" id="3196153">:=</span>&nbsp;<span class="num" id="3196156">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196159">fieldStart</span>&nbsp;<span class="op" id="3196170">:=</span>&nbsp;<span class="op" id="3196173">-</span><span class="num" id="3196174">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196177">for</span>&nbsp;<span class="ident" id="3196181">i</span>&nbsp;<span class="op" id="3196183">:=</span>&nbsp;<span class="num" id="3196186">0</span><span class="op" id="3196187">;</span>&nbsp;<span class="ident" id="3196189"><a href="/bytes/bytes.go.html#3196181">i</a></span>&nbsp;<span class="op" id="3196191">&lt;=</span>&nbsp;<span class="builtinfunc" id="3196194">len</span><span class="op" id="3196197">(</span><span class="ident" id="3196198"><a href="/bytes/bytes.go.html#3195897">s</a></span><span class="op" id="3196199">)</span>&nbsp;<span class="op" id="3196201">&amp;&amp;</span>&nbsp;<span class="ident" id="3196204"><a href="/bytes/bytes.go.html#3196150">na</a></span>&nbsp;<span class="op" id="3196207">&lt;</span>&nbsp;<span class="ident" id="3196209"><a href="/bytes/bytes.go.html#3195938">n</a></span><span class="op" id="3196210">;</span>&nbsp;<span class="op" id="3196212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196216">r</span><span class="op" id="3196217">,</span>&nbsp;<span class="ident" id="3196219">size</span>&nbsp;<span class="op" id="3196224">:=</span>&nbsp;<span class="ident" id="3196227"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3196231">.</span><span class="ident" id="3196232">DecodeRune</span><span class="op" id="3196242">(</span><span class="ident" id="3196243"><a href="/bytes/bytes.go.html#3195897">s</a></span><span class="op" id="3196244">[</span><span class="ident" id="3196245"><a href="/bytes/bytes.go.html#3196181">i</a></span><span class="op" id="3196246">:</span><span class="op" id="3196247">]</span><span class="op" id="3196248">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196252">if</span>&nbsp;<span class="ident" id="3196255"><a href="/bytes/bytes.go.html#3196159">fieldStart</a></span>&nbsp;<span class="op" id="3196266">&lt;</span>&nbsp;<span class="num" id="3196268">0</span>&nbsp;<span class="op" id="3196270">&amp;&amp;</span>&nbsp;<span class="ident" id="3196273"><a href="/bytes/bytes.go.html#3196219">size</a></span>&nbsp;<span class="op" id="3196278">&gt;</span>&nbsp;<span class="num" id="3196280">0</span>&nbsp;<span class="op" id="3196282">&amp;&amp;</span>&nbsp;<span class="op" id="3196285">!</span><span class="ident" id="3196286"><a href="/bytes/bytes.go.html#3195907">f</a></span><span class="op" id="3196287">(</span><span class="ident" id="3196288"><a href="/bytes/bytes.go.html#3196216">r</a></span><span class="op" id="3196289">)</span>&nbsp;<span class="op" id="3196291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196296"><a href="/bytes/bytes.go.html#3196159">fieldStart</a></span>&nbsp;<span class="op" id="3196307">=</span>&nbsp;<span class="ident" id="3196309"><a href="/bytes/bytes.go.html#3196181">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196314"><a href="/bytes/bytes.go.html#3196181">i</a></span>&nbsp;<span class="op" id="3196316">+=</span>&nbsp;<span class="ident" id="3196319"><a href="/bytes/bytes.go.html#3196219">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196327">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196338">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196342">if</span>&nbsp;<span class="ident" id="3196345"><a href="/bytes/bytes.go.html#3196159">fieldStart</a></span>&nbsp;<span class="op" id="3196356">&gt;=</span>&nbsp;<span class="num" id="3196359">0</span>&nbsp;<span class="op" id="3196361">&amp;&amp;</span>&nbsp;<span class="op" id="3196364">(</span><span class="ident" id="3196365"><a href="/bytes/bytes.go.html#3196219">size</a></span>&nbsp;<span class="op" id="3196370">==</span>&nbsp;<span class="num" id="3196373">0</span>&nbsp;<span class="op" id="3196375">||</span>&nbsp;<span class="ident" id="3196378"><a href="/bytes/bytes.go.html#3195907">f</a></span><span class="op" id="3196379">(</span><span class="ident" id="3196380"><a href="/bytes/bytes.go.html#3196216">r</a></span><span class="op" id="3196381">)</span><span class="op" id="3196382">)</span>&nbsp;<span class="op" id="3196384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196389"><a href="/bytes/bytes.go.html#3196126">a</a></span><span class="op" id="3196390">[</span><span class="ident" id="3196391"><a href="/bytes/bytes.go.html#3196150">na</a></span><span class="op" id="3196393">]</span>&nbsp;<span class="op" id="3196395">=</span>&nbsp;<span class="ident" id="3196397"><a href="/bytes/bytes.go.html#3195897">s</a></span><span class="op" id="3196398">[</span><span class="ident" id="3196399"><a href="/bytes/bytes.go.html#3196159">fieldStart</a></span><span class="op" id="3196409">:</span><span class="ident" id="3196410"><a href="/bytes/bytes.go.html#3196181">i</a></span><span class="op" id="3196411">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196416"><a href="/bytes/bytes.go.html#3196150">na</a></span><span class="op" id="3196418">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196424"><a href="/bytes/bytes.go.html#3196159">fieldStart</a></span>&nbsp;<span class="op" id="3196435">=</span>&nbsp;<span class="op" id="3196437">-</span><span class="num" id="3196438">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196442">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196446">if</span>&nbsp;<span class="ident" id="3196449"><a href="/bytes/bytes.go.html#3196219">size</a></span>&nbsp;<span class="op" id="3196454">==</span>&nbsp;<span class="num" id="3196457">0</span>&nbsp;<span class="op" id="3196459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196464">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196476"><a href="/bytes/bytes.go.html#3196181">i</a></span>&nbsp;<span class="op" id="3196478">+=</span>&nbsp;<span class="ident" id="3196481"><a href="/bytes/bytes.go.html#3196219">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196487">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196490">return</span>&nbsp;<span class="ident" id="3196497"><a href="/bytes/bytes.go.html#3196126">a</a></span><span class="op" id="3196498">[</span><span class="num" id="3196499">0</span><span class="op" id="3196500">:</span><span class="ident" id="3196501"><a href="/bytes/bytes.go.html#3196150">na</a></span><span class="op" id="3196503">]</span><br>
<span class="lineno"></span><span class="op" id="3196505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3196508">//&nbsp;Join&nbsp;concatenates&nbsp;the&nbsp;elements&nbsp;of&nbsp;s&nbsp;to&nbsp;create&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;separator</span><br>
<span class="lineno"></span><span class="comment" id="3196589">//&nbsp;sep&nbsp;is&nbsp;placed&nbsp;between&nbsp;elements&nbsp;in&nbsp;the&nbsp;resulting&nbsp;slice.</span><br>
<span class="lineno">310</span><span class="keyword" id="3196647">func</span>&nbsp;<span class="ident" id="3196652">Join</span><span class="op" id="3196656">(</span><span class="ident" id="3196657">s</span>&nbsp;<span class="op" id="3196659">[</span><span class="op" id="3196660">]</span><span class="op" id="3196661">[</span><span class="op" id="3196662">]</span><span class="builtintype" id="3196663">byte</span><span class="op" id="3196667">,</span>&nbsp;<span class="ident" id="3196669">sep</span>&nbsp;<span class="op" id="3196673">[</span><span class="op" id="3196674">]</span><span class="builtintype" id="3196675">byte</span><span class="op" id="3196679">)</span>&nbsp;<span class="op" id="3196681">[</span><span class="op" id="3196682">]</span><span class="builtintype" id="3196683">byte</span>&nbsp;<span class="op" id="3196688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196691">if</span>&nbsp;<span class="builtinfunc" id="3196694">len</span><span class="op" id="3196697">(</span><span class="ident" id="3196698"><a href="/bytes/bytes.go.html#3196657">s</a></span><span class="op" id="3196699">)</span>&nbsp;<span class="op" id="3196701">==</span>&nbsp;<span class="num" id="3196704">0</span>&nbsp;<span class="op" id="3196706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196710">return</span>&nbsp;<span class="op" id="3196717">[</span><span class="op" id="3196718">]</span><span class="builtintype" id="3196719">byte</span><span class="op" id="3196723">{</span><span class="op" id="3196724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196730">if</span>&nbsp;<span class="builtinfunc" id="3196733">len</span><span class="op" id="3196736">(</span><span class="ident" id="3196737"><a href="/bytes/bytes.go.html#3196657">s</a></span><span class="op" id="3196738">)</span>&nbsp;<span class="op" id="3196740">==</span>&nbsp;<span class="num" id="3196743">1</span>&nbsp;<span class="op" id="3196745">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3196749">//&nbsp;Just&nbsp;return&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196774">return</span>&nbsp;<span class="builtinfunc" id="3196781">append</span><span class="op" id="3196787">(</span><span class="op" id="3196788">[</span><span class="op" id="3196789">]</span><span class="builtintype" id="3196790">byte</span><span class="op" id="3196794">(</span><span class="ident" id="3196795">nil</span><span class="op" id="3196798">)</span><span class="op" id="3196799">,</span>&nbsp;<span class="ident" id="3196801"><a href="/bytes/bytes.go.html#3196657">s</a></span><span class="op" id="3196802">[</span><span class="num" id="3196803">0</span><span class="op" id="3196804">]</span><span class="op" id="3196805">...</span><span class="op" id="3196808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196814">n</span>&nbsp;<span class="op" id="3196816">:=</span>&nbsp;<span class="builtinfunc" id="3196819">len</span><span class="op" id="3196822">(</span><span class="ident" id="3196823"><a href="/bytes/bytes.go.html#3196669">sep</a></span><span class="op" id="3196826">)</span>&nbsp;<span class="op" id="3196828">*</span>&nbsp;<span class="op" id="3196830">(</span><span class="builtinfunc" id="3196831">len</span><span class="op" id="3196834">(</span><span class="ident" id="3196835"><a href="/bytes/bytes.go.html#3196657">s</a></span><span class="op" id="3196836">)</span>&nbsp;<span class="op" id="3196838">-</span>&nbsp;<span class="num" id="3196840">1</span><span class="op" id="3196841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196844">for</span>&nbsp;<span class="ident" id="3196848">_</span><span class="op" id="3196849">,</span>&nbsp;<span class="ident" id="3196851">v</span>&nbsp;<span class="op" id="3196853">:=</span>&nbsp;<span class="keyword" id="3196856">range</span>&nbsp;<span class="ident" id="3196862"><a href="/bytes/bytes.go.html#3196657">s</a></span>&nbsp;<span class="op" id="3196864">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196868"><a href="/bytes/bytes.go.html#3196814">n</a></span>&nbsp;<span class="op" id="3196870">+=</span>&nbsp;<span class="builtinfunc" id="3196873">len</span><span class="op" id="3196876">(</span><span class="ident" id="3196877"><a href="/bytes/bytes.go.html#3196851">v</a></span><span class="op" id="3196878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3196881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196885">b</span>&nbsp;<span class="op" id="3196887">:=</span>&nbsp;<span class="builtinfunc" id="3196890">make</span><span class="op" id="3196894">(</span><span class="op" id="3196895">[</span><span class="op" id="3196896">]</span><span class="builtintype" id="3196897">byte</span><span class="op" id="3196901">,</span>&nbsp;<span class="ident" id="3196903"><a href="/bytes/bytes.go.html#3196814">n</a></span><span class="op" id="3196904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196907">bp</span>&nbsp;<span class="op" id="3196910">:=</span>&nbsp;<span class="builtinfunc" id="3196913">copy</span><span class="op" id="3196917">(</span><span class="ident" id="3196918"><a href="/bytes/bytes.go.html#3196885">b</a></span><span class="op" id="3196919">,</span>&nbsp;<span class="ident" id="3196921"><a href="/bytes/bytes.go.html#3196657">s</a></span><span class="op" id="3196922">[</span><span class="num" id="3196923">0</span><span class="op" id="3196924">]</span><span class="op" id="3196925">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3196928">for</span>&nbsp;<span class="ident" id="3196932">_</span><span class="op" id="3196933">,</span>&nbsp;<span class="ident" id="3196935">v</span>&nbsp;<span class="op" id="3196937">:=</span>&nbsp;<span class="keyword" id="3196940">range</span>&nbsp;<span class="ident" id="3196946"><a href="/bytes/bytes.go.html#3196657">s</a></span><span class="op" id="3196947">[</span><span class="num" id="3196948">1</span><span class="op" id="3196949">:</span><span class="op" id="3196950">]</span>&nbsp;<span class="op" id="3196952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196956"><a href="/bytes/bytes.go.html#3196907">bp</a></span>&nbsp;<span class="op" id="3196959">+=</span>&nbsp;<span class="builtinfunc" id="3196962">copy</span><span class="op" id="3196966">(</span><span class="ident" id="3196967"><a href="/bytes/bytes.go.html#3196885">b</a></span><span class="op" id="3196968">[</span><span class="ident" id="3196969"><a href="/bytes/bytes.go.html#3196907">bp</a></span><span class="op" id="3196971">:</span><span class="op" id="3196972">]</span><span class="op" id="3196973">,</span>&nbsp;<span class="ident" id="3196975"><a href="/bytes/bytes.go.html#3196669">sep</a></span><span class="op" id="3196978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3196982"><a href="/bytes/bytes.go.html#3196907">bp</a></span>&nbsp;<span class="op" id="3196985">+=</span>&nbsp;<span class="builtinfunc" id="3196988">copy</span><span class="op" id="3196992">(</span><span class="ident" id="3196993"><a href="/bytes/bytes.go.html#3196885">b</a></span><span class="op" id="3196994">[</span><span class="ident" id="3196995"><a href="/bytes/bytes.go.html#3196907">bp</a></span><span class="op" id="3196997">:</span><span class="op" id="3196998">]</span><span class="op" id="3196999">,</span>&nbsp;<span class="ident" id="3197001"><a href="/bytes/bytes.go.html#3196935">v</a></span><span class="op" id="3197002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3197005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3197008">return</span>&nbsp;<span class="ident" id="3197015"><a href="/bytes/bytes.go.html#3196885">b</a></span><br>
<span class="lineno">330</span><span class="op" id="3197017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3197020">//&nbsp;HasPrefix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;begins&nbsp;with&nbsp;prefix.</span><br>
<span class="lineno"></span><span class="keyword" id="3197084">func</span>&nbsp;<span class="ident" id="3197089">HasPrefix</span><span class="op" id="3197098">(</span><span class="ident" id="3197099">s</span><span class="op" id="3197100">,</span>&nbsp;<span class="ident" id="3197102">prefix</span>&nbsp;<span class="op" id="3197109">[</span><span class="op" id="3197110">]</span><span class="builtintype" id="3197111">byte</span><span class="op" id="3197115">)</span>&nbsp;<span class="builtintype" id="3197117">bool</span>&nbsp;<span class="op" id="3197122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3197125">return</span>&nbsp;<span class="builtinfunc" id="3197132">len</span><span class="op" id="3197135">(</span><span class="ident" id="3197136"><a href="/bytes/bytes.go.html#3197099">s</a></span><span class="op" id="3197137">)</span>&nbsp;<span class="op" id="3197139">&gt;=</span>&nbsp;<span class="builtinfunc" id="3197142">len</span><span class="op" id="3197145">(</span><span class="ident" id="3197146"><a href="/bytes/bytes.go.html#3197102">prefix</a></span><span class="op" id="3197152">)</span>&nbsp;<span class="op" id="3197154">&amp;&amp;</span>&nbsp;<span class="ident" id="3197157"><a href="/bytes/bytes_decl.go.html#3207918">Equal</a></span><span class="op" id="3197162">(</span><span class="ident" id="3197163"><a href="/bytes/bytes.go.html#3197099">s</a></span><span class="op" id="3197164">[</span><span class="num" id="3197165">0</span><span class="op" id="3197166">:</span><span class="builtinfunc" id="3197167">len</span><span class="op" id="3197170">(</span><span class="ident" id="3197171"><a href="/bytes/bytes.go.html#3197102">prefix</a></span><span class="op" id="3197177">)</span><span class="op" id="3197178">]</span><span class="op" id="3197179">,</span>&nbsp;<span class="ident" id="3197181"><a href="/bytes/bytes.go.html#3197102">prefix</a></span><span class="op" id="3197187">)</span><br>
<span class="lineno">335</span><span class="op" id="3197189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3197192">//&nbsp;HasSuffix&nbsp;tests&nbsp;whether&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;ends&nbsp;with&nbsp;suffix.</span><br>
<span class="lineno"></span><span class="keyword" id="3197254">func</span>&nbsp;<span class="ident" id="3197259">HasSuffix</span><span class="op" id="3197268">(</span><span class="ident" id="3197269">s</span><span class="op" id="3197270">,</span>&nbsp;<span class="ident" id="3197272">suffix</span>&nbsp;<span class="op" id="3197279">[</span><span class="op" id="3197280">]</span><span class="builtintype" id="3197281">byte</span><span class="op" id="3197285">)</span>&nbsp;<span class="builtintype" id="3197287">bool</span>&nbsp;<span class="op" id="3197292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3197295">return</span>&nbsp;<span class="builtinfunc" id="3197302">len</span><span class="op" id="3197305">(</span><span class="ident" id="3197306"><a href="/bytes/bytes.go.html#3197269">s</a></span><span class="op" id="3197307">)</span>&nbsp;<span class="op" id="3197309">&gt;=</span>&nbsp;<span class="builtinfunc" id="3197312">len</span><span class="op" id="3197315">(</span><span class="ident" id="3197316"><a href="/bytes/bytes.go.html#3197272">suffix</a></span><span class="op" id="3197322">)</span>&nbsp;<span class="op" id="3197324">&amp;&amp;</span>&nbsp;<span class="ident" id="3197327"><a href="/bytes/bytes_decl.go.html#3207918">Equal</a></span><span class="op" id="3197332">(</span><span class="ident" id="3197333"><a href="/bytes/bytes.go.html#3197269">s</a></span><span class="op" id="3197334">[</span><span class="builtinfunc" id="3197335">len</span><span class="op" id="3197338">(</span><span class="ident" id="3197339"><a href="/bytes/bytes.go.html#3197269">s</a></span><span class="op" id="3197340">)</span><span class="op" id="3197341">-</span><span class="builtinfunc" id="3197342">len</span><span class="op" id="3197345">(</span><span class="ident" id="3197346"><a href="/bytes/bytes.go.html#3197272">suffix</a></span><span class="op" id="3197352">)</span><span class="op" id="3197353">:</span><span class="op" id="3197354">]</span><span class="op" id="3197355">,</span>&nbsp;<span class="ident" id="3197357"><a href="/bytes/bytes.go.html#3197272">suffix</a></span><span class="op" id="3197363">)</span><br>
<span class="lineno">340</span><span class="op" id="3197365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3197368">//&nbsp;Map&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;with&nbsp;all&nbsp;its&nbsp;characters&nbsp;modified</span><br>
<span class="lineno"></span><span class="comment" id="3197443">//&nbsp;according&nbsp;to&nbsp;the&nbsp;mapping&nbsp;function.&nbsp;If&nbsp;mapping&nbsp;returns&nbsp;a&nbsp;negative&nbsp;value,&nbsp;the&nbsp;character&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3197535">//&nbsp;dropped&nbsp;from&nbsp;the&nbsp;string&nbsp;with&nbsp;no&nbsp;replacement.&nbsp;&nbsp;The&nbsp;characters&nbsp;in&nbsp;s&nbsp;and&nbsp;the</span><br>
<span class="lineno">345</span><span class="comment" id="3197612">//&nbsp;output&nbsp;are&nbsp;interpreted&nbsp;as&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points.</span><br>
<span class="lineno"></span><span class="keyword" id="3197676">func</span>&nbsp;<span class="ident" id="3197681">Map</span><span class="op" id="3197684">(</span><span class="ident" id="3197685">mapping</span>&nbsp;<span class="keyword" id="3197693">func</span><span class="op" id="3197697">(</span><span class="ident" id="3197698">r</span>&nbsp;<span class="builtintype" id="3197700">rune</span><span class="op" id="3197704">)</span>&nbsp;<span class="builtintype" id="3197706">rune</span><span class="op" id="3197710">,</span>&nbsp;<span class="ident" id="3197712">s</span>&nbsp;<span class="op" id="3197714">[</span><span class="op" id="3197715">]</span><span class="builtintype" id="3197716">byte</span><span class="op" id="3197720">)</span>&nbsp;<span class="op" id="3197722">[</span><span class="op" id="3197723">]</span><span class="builtintype" id="3197724">byte</span>&nbsp;<span class="op" id="3197729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3197732">//&nbsp;In&nbsp;the&nbsp;worst&nbsp;case,&nbsp;the&nbsp;slice&nbsp;can&nbsp;grow&nbsp;when&nbsp;mapped,&nbsp;making</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3197794">//&nbsp;things&nbsp;unpleasant.&nbsp;&nbsp;But&nbsp;it&#39;s&nbsp;so&nbsp;rare&nbsp;we&nbsp;barge&nbsp;in&nbsp;assuming&nbsp;it&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3197861">//&nbsp;fine.&nbsp;&nbsp;It&nbsp;could&nbsp;also&nbsp;shrink&nbsp;but&nbsp;that&nbsp;falls&nbsp;out&nbsp;naturally.</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197923">maxbytes</span>&nbsp;<span class="op" id="3197932">:=</span>&nbsp;<span class="builtinfunc" id="3197935">len</span><span class="op" id="3197938">(</span><span class="ident" id="3197939"><a href="/bytes/bytes.go.html#3197712">s</a></span><span class="op" id="3197940">)</span>&nbsp;<span class="comment" id="3197942">//&nbsp;length&nbsp;of&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3197958">nbytes</span>&nbsp;<span class="op" id="3197965">:=</span>&nbsp;<span class="num" id="3197968">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3197977">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;encoded&nbsp;in&nbsp;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198010">b</span>&nbsp;<span class="op" id="3198012">:=</span>&nbsp;<span class="builtinfunc" id="3198015">make</span><span class="op" id="3198019">(</span><span class="op" id="3198020">[</span><span class="op" id="3198021">]</span><span class="builtintype" id="3198022">byte</span><span class="op" id="3198026">,</span>&nbsp;<span class="ident" id="3198028"><a href="/bytes/bytes.go.html#3197923">maxbytes</a></span><span class="op" id="3198036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198039">for</span>&nbsp;<span class="ident" id="3198043">i</span>&nbsp;<span class="op" id="3198045">:=</span>&nbsp;<span class="num" id="3198048">0</span><span class="op" id="3198049">;</span>&nbsp;<span class="ident" id="3198051"><a href="/bytes/bytes.go.html#3198043">i</a></span>&nbsp;<span class="op" id="3198053">&lt;</span>&nbsp;<span class="builtinfunc" id="3198055">len</span><span class="op" id="3198058">(</span><span class="ident" id="3198059"><a href="/bytes/bytes.go.html#3197712">s</a></span><span class="op" id="3198060">)</span><span class="op" id="3198061">;</span>&nbsp;<span class="op" id="3198063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198067">wid</span>&nbsp;<span class="op" id="3198071">:=</span>&nbsp;<span class="num" id="3198074">1</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198078">r</span>&nbsp;<span class="op" id="3198080">:=</span>&nbsp;<span class="builtintype" id="3198083">rune</span><span class="op" id="3198087">(</span><span class="ident" id="3198088"><a href="/bytes/bytes.go.html#3197712">s</a></span><span class="op" id="3198089">[</span><span class="ident" id="3198090"><a href="/bytes/bytes.go.html#3198043">i</a></span><span class="op" id="3198091">]</span><span class="op" id="3198092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198096">if</span>&nbsp;<span class="ident" id="3198099"><a href="/bytes/bytes.go.html#3198078">r</a></span>&nbsp;<span class="op" id="3198101">&gt;=</span>&nbsp;<span class="ident" id="3198104"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3198108">.</span><span class="ident" id="3198109">RuneSelf</span>&nbsp;<span class="op" id="3198118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198123"><a href="/bytes/bytes.go.html#3198078">r</a></span><span class="op" id="3198124">,</span>&nbsp;<span class="ident" id="3198126"><a href="/bytes/bytes.go.html#3198067">wid</a></span>&nbsp;<span class="op" id="3198130">=</span>&nbsp;<span class="ident" id="3198132"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3198136">.</span><span class="ident" id="3198137">DecodeRune</span><span class="op" id="3198147">(</span><span class="ident" id="3198148"><a href="/bytes/bytes.go.html#3197712">s</a></span><span class="op" id="3198149">[</span><span class="ident" id="3198150"><a href="/bytes/bytes.go.html#3198043">i</a></span><span class="op" id="3198151">:</span><span class="op" id="3198152">]</span><span class="op" id="3198153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198161"><a href="/bytes/bytes.go.html#3198078">r</a></span>&nbsp;<span class="op" id="3198163">=</span>&nbsp;<span class="ident" id="3198165"><a href="/bytes/bytes.go.html#3197685">mapping</a></span><span class="op" id="3198172">(</span><span class="ident" id="3198173"><a href="/bytes/bytes.go.html#3198078">r</a></span><span class="op" id="3198174">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198178">if</span>&nbsp;<span class="ident" id="3198181"><a href="/bytes/bytes.go.html#3198078">r</a></span>&nbsp;<span class="op" id="3198183">&gt;=</span>&nbsp;<span class="num" id="3198186">0</span>&nbsp;<span class="op" id="3198188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198193">rl</span>&nbsp;<span class="op" id="3198196">:=</span>&nbsp;<span class="ident" id="3198199"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3198203">.</span><span class="ident" id="3198204">RuneLen</span><span class="op" id="3198211">(</span><span class="ident" id="3198212"><a href="/bytes/bytes.go.html#3198078">r</a></span><span class="op" id="3198213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198218">if</span>&nbsp;<span class="ident" id="3198221"><a href="/bytes/bytes.go.html#3198193">rl</a></span>&nbsp;<span class="op" id="3198224">&lt;</span>&nbsp;<span class="num" id="3198226">0</span>&nbsp;<span class="op" id="3198228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198234"><a href="/bytes/bytes.go.html#3198193">rl</a></span>&nbsp;<span class="op" id="3198237">=</span>&nbsp;<span class="builtinfunc" id="3198239">len</span><span class="op" id="3198242">(</span><span class="builtintype" id="3198243">string</span><span class="op" id="3198249">(</span><span class="ident" id="3198250"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3198254">.</span><span class="ident" id="3198255">RuneError</span><span class="op" id="3198264">)</span><span class="op" id="3198265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198270">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198275">if</span>&nbsp;<span class="ident" id="3198278"><a href="/bytes/bytes.go.html#3197958">nbytes</a></span><span class="op" id="3198284">+</span><span class="ident" id="3198285"><a href="/bytes/bytes.go.html#3198193">rl</a></span>&nbsp;<span class="op" id="3198288">&gt;</span>&nbsp;<span class="ident" id="3198290"><a href="/bytes/bytes.go.html#3197923">maxbytes</a></span>&nbsp;<span class="op" id="3198299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3198305">//&nbsp;Grow&nbsp;the&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198329"><a href="/bytes/bytes.go.html#3197923">maxbytes</a></span>&nbsp;<span class="op" id="3198338">=</span>&nbsp;<span class="ident" id="3198340"><a href="/bytes/bytes.go.html#3197923">maxbytes</a></span><span class="op" id="3198348">*</span><span class="num" id="3198349">2</span>&nbsp;<span class="op" id="3198351">+</span>&nbsp;<span class="ident" id="3198353"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3198357">.</span><span class="ident" id="3198358">UTFMax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198369">nb</span>&nbsp;<span class="op" id="3198372">:=</span>&nbsp;<span class="builtinfunc" id="3198375">make</span><span class="op" id="3198379">(</span><span class="op" id="3198380">[</span><span class="op" id="3198381">]</span><span class="builtintype" id="3198382">byte</span><span class="op" id="3198386">,</span>&nbsp;<span class="ident" id="3198388"><a href="/bytes/bytes.go.html#3197923">maxbytes</a></span><span class="op" id="3198396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3198402">copy</span><span class="op" id="3198406">(</span><span class="ident" id="3198407"><a href="/bytes/bytes.go.html#3198369">nb</a></span><span class="op" id="3198409">,</span>&nbsp;<span class="ident" id="3198411"><a href="/bytes/bytes.go.html#3198010">b</a></span><span class="op" id="3198412">[</span><span class="num" id="3198413">0</span><span class="op" id="3198414">:</span><span class="ident" id="3198415"><a href="/bytes/bytes.go.html#3197958">nbytes</a></span><span class="op" id="3198421">]</span><span class="op" id="3198422">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198428"><a href="/bytes/bytes.go.html#3198010">b</a></span>&nbsp;<span class="op" id="3198430">=</span>&nbsp;<span class="ident" id="3198432"><a href="/bytes/bytes.go.html#3198369">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198443"><a href="/bytes/bytes.go.html#3197958">nbytes</a></span>&nbsp;<span class="op" id="3198450">+=</span>&nbsp;<span class="ident" id="3198453"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3198457">.</span><span class="ident" id="3198458">EncodeRune</span><span class="op" id="3198468">(</span><span class="ident" id="3198469"><a href="/bytes/bytes.go.html#3198010">b</a></span><span class="op" id="3198470">[</span><span class="ident" id="3198471"><a href="/bytes/bytes.go.html#3197958">nbytes</a></span><span class="op" id="3198477">:</span><span class="ident" id="3198478"><a href="/bytes/bytes.go.html#3197923">maxbytes</a></span><span class="op" id="3198486">]</span><span class="op" id="3198487">,</span>&nbsp;<span class="ident" id="3198489"><a href="/bytes/bytes.go.html#3198078">r</a></span><span class="op" id="3198490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198498"><a href="/bytes/bytes.go.html#3198043">i</a></span>&nbsp;<span class="op" id="3198500">+=</span>&nbsp;<span class="ident" id="3198503"><a href="/bytes/bytes.go.html#3198067">wid</a></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198511">return</span>&nbsp;<span class="ident" id="3198518"><a href="/bytes/bytes.go.html#3198010">b</a></span><span class="op" id="3198519">[</span><span class="num" id="3198520">0</span><span class="op" id="3198521">:</span><span class="ident" id="3198522"><a href="/bytes/bytes.go.html#3197958">nbytes</a></span><span class="op" id="3198528">]</span><br>
<span class="lineno"></span><span class="op" id="3198530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3198533">//&nbsp;Repeat&nbsp;returns&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice&nbsp;consisting&nbsp;of&nbsp;count&nbsp;copies&nbsp;of&nbsp;b.</span><br>
<span class="lineno">380</span><span class="keyword" id="3198601">func</span>&nbsp;<span class="ident" id="3198606">Repeat</span><span class="op" id="3198612">(</span><span class="ident" id="3198613">b</span>&nbsp;<span class="op" id="3198615">[</span><span class="op" id="3198616">]</span><span class="builtintype" id="3198617">byte</span><span class="op" id="3198621">,</span>&nbsp;<span class="ident" id="3198623">count</span>&nbsp;<span class="builtintype" id="3198629">int</span><span class="op" id="3198632">)</span>&nbsp;<span class="op" id="3198634">[</span><span class="op" id="3198635">]</span><span class="builtintype" id="3198636">byte</span>&nbsp;<span class="op" id="3198641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198644">nb</span>&nbsp;<span class="op" id="3198647">:=</span>&nbsp;<span class="builtinfunc" id="3198650">make</span><span class="op" id="3198654">(</span><span class="op" id="3198655">[</span><span class="op" id="3198656">]</span><span class="builtintype" id="3198657">byte</span><span class="op" id="3198661">,</span>&nbsp;<span class="builtinfunc" id="3198663">len</span><span class="op" id="3198666">(</span><span class="ident" id="3198667"><a href="/bytes/bytes.go.html#3198613">b</a></span><span class="op" id="3198668">)</span><span class="op" id="3198669">*</span><span class="ident" id="3198670"><a href="/bytes/bytes.go.html#3198623">count</a></span><span class="op" id="3198675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198678">bp</span>&nbsp;<span class="op" id="3198681">:=</span>&nbsp;<span class="builtinfunc" id="3198684">copy</span><span class="op" id="3198688">(</span><span class="ident" id="3198689"><a href="/bytes/bytes.go.html#3198644">nb</a></span><span class="op" id="3198691">,</span>&nbsp;<span class="ident" id="3198693"><a href="/bytes/bytes.go.html#3198613">b</a></span><span class="op" id="3198694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198697">for</span>&nbsp;<span class="ident" id="3198701"><a href="/bytes/bytes.go.html#3198678">bp</a></span>&nbsp;<span class="op" id="3198704">&lt;</span>&nbsp;<span class="builtinfunc" id="3198706">len</span><span class="op" id="3198709">(</span><span class="ident" id="3198710"><a href="/bytes/bytes.go.html#3198644">nb</a></span><span class="op" id="3198712">)</span>&nbsp;<span class="op" id="3198714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3198718">copy</span><span class="op" id="3198722">(</span><span class="ident" id="3198723"><a href="/bytes/bytes.go.html#3198644">nb</a></span><span class="op" id="3198725">[</span><span class="ident" id="3198726"><a href="/bytes/bytes.go.html#3198678">bp</a></span><span class="op" id="3198728">:</span><span class="op" id="3198729">]</span><span class="op" id="3198730">,</span>&nbsp;<span class="ident" id="3198732"><a href="/bytes/bytes.go.html#3198644">nb</a></span><span class="op" id="3198734">[</span><span class="op" id="3198735">:</span><span class="ident" id="3198736"><a href="/bytes/bytes.go.html#3198678">bp</a></span><span class="op" id="3198738">]</span><span class="op" id="3198739">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3198743"><a href="/bytes/bytes.go.html#3198678">bp</a></span>&nbsp;<span class="op" id="3198746">*=</span>&nbsp;<span class="num" id="3198749">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3198752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3198755">return</span>&nbsp;<span class="ident" id="3198762"><a href="/bytes/bytes.go.html#3198644">nb</a></span><br>
<span class="lineno"></span><span class="op" id="3198765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span><span class="comment" id="3198768">//&nbsp;ToUpper&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;upper&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="3198867">func</span>&nbsp;<span class="ident" id="3198872">ToUpper</span><span class="op" id="3198879">(</span><span class="ident" id="3198880">s</span>&nbsp;<span class="op" id="3198882">[</span><span class="op" id="3198883">]</span><span class="builtintype" id="3198884">byte</span><span class="op" id="3198888">)</span>&nbsp;<span class="op" id="3198890">[</span><span class="op" id="3198891">]</span><span class="builtintype" id="3198892">byte</span>&nbsp;<span class="op" id="3198897">{</span>&nbsp;<span class="keyword" id="3198899">return</span>&nbsp;<span class="ident" id="3198906"><a href="/bytes/bytes.go.html#3197681">Map</a></span><span class="op" id="3198909">(</span><span class="ident" id="3198910"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3198917">.</span><span class="ident" id="3198918">ToUpper</span><span class="op" id="3198925">,</span>&nbsp;<span class="ident" id="3198927"><a href="/bytes/bytes.go.html#3198880">s</a></span><span class="op" id="3198928">)</span>&nbsp;<span class="op" id="3198930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3198933">//&nbsp;ToLower&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="3199032">func</span>&nbsp;<span class="ident" id="3199037">ToLower</span><span class="op" id="3199044">(</span><span class="ident" id="3199045">s</span>&nbsp;<span class="op" id="3199047">[</span><span class="op" id="3199048">]</span><span class="builtintype" id="3199049">byte</span><span class="op" id="3199053">)</span>&nbsp;<span class="op" id="3199055">[</span><span class="op" id="3199056">]</span><span class="builtintype" id="3199057">byte</span>&nbsp;<span class="op" id="3199062">{</span>&nbsp;<span class="keyword" id="3199064">return</span>&nbsp;<span class="ident" id="3199071"><a href="/bytes/bytes.go.html#3197681">Map</a></span><span class="op" id="3199074">(</span><span class="ident" id="3199075"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3199082">.</span><span class="ident" id="3199083">ToLower</span><span class="op" id="3199090">,</span>&nbsp;<span class="ident" id="3199092"><a href="/bytes/bytes.go.html#3199045">s</a></span><span class="op" id="3199093">)</span>&nbsp;<span class="op" id="3199095">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span><span class="comment" id="3199098">//&nbsp;ToTitle&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="3199197">func</span>&nbsp;<span class="ident" id="3199202">ToTitle</span><span class="op" id="3199209">(</span><span class="ident" id="3199210">s</span>&nbsp;<span class="op" id="3199212">[</span><span class="op" id="3199213">]</span><span class="builtintype" id="3199214">byte</span><span class="op" id="3199218">)</span>&nbsp;<span class="op" id="3199220">[</span><span class="op" id="3199221">]</span><span class="builtintype" id="3199222">byte</span>&nbsp;<span class="op" id="3199227">{</span>&nbsp;<span class="keyword" id="3199229">return</span>&nbsp;<span class="ident" id="3199236"><a href="/bytes/bytes.go.html#3197681">Map</a></span><span class="op" id="3199239">(</span><span class="ident" id="3199240"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3199247">.</span><span class="ident" id="3199248">ToTitle</span><span class="op" id="3199255">,</span>&nbsp;<span class="ident" id="3199257"><a href="/bytes/bytes.go.html#3199210">s</a></span><span class="op" id="3199258">)</span>&nbsp;<span class="op" id="3199260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3199263">//&nbsp;ToUpperSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno">400</span><span class="comment" id="3199357">//&nbsp;upper&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="3199417">func</span>&nbsp;<span class="ident" id="3199422">ToUpperSpecial</span><span class="op" id="3199436">(</span><span class="ident" id="3199437">_case</span>&nbsp;<span class="ident" id="3199443"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3199450">.</span><span class="ident" id="3199451">SpecialCase</span><span class="op" id="3199462">,</span>&nbsp;<span class="ident" id="3199464">s</span>&nbsp;<span class="op" id="3199466">[</span><span class="op" id="3199467">]</span><span class="builtintype" id="3199468">byte</span><span class="op" id="3199472">)</span>&nbsp;<span class="op" id="3199474">[</span><span class="op" id="3199475">]</span><span class="builtintype" id="3199476">byte</span>&nbsp;<span class="op" id="3199481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199484">return</span>&nbsp;<span class="ident" id="3199491"><a href="/bytes/bytes.go.html#3197681">Map</a></span><span class="op" id="3199494">(</span><span class="keyword" id="3199495">func</span><span class="op" id="3199499">(</span><span class="ident" id="3199500">r</span>&nbsp;<span class="builtintype" id="3199502">rune</span><span class="op" id="3199506">)</span>&nbsp;<span class="builtintype" id="3199508">rune</span>&nbsp;<span class="op" id="3199513">{</span>&nbsp;<span class="keyword" id="3199515">return</span>&nbsp;<span class="ident" id="3199522"><a href="/bytes/bytes.go.html#3199437">_case</a></span><span class="op" id="3199527">.</span><span class="ident" id="3199528">ToUpper</span><span class="op" id="3199535">(</span><span class="ident" id="3199536"><a href="/bytes/bytes.go.html#3199500">r</a></span><span class="op" id="3199537">)</span>&nbsp;<span class="op" id="3199539">}</span><span class="op" id="3199540">,</span>&nbsp;<span class="ident" id="3199542"><a href="/bytes/bytes.go.html#3199464">s</a></span><span class="op" id="3199543">)</span><br>
<span class="lineno"></span><span class="op" id="3199545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="comment" id="3199548">//&nbsp;ToLowerSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="3199642">//&nbsp;lower&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="3199702">func</span>&nbsp;<span class="ident" id="3199707">ToLowerSpecial</span><span class="op" id="3199721">(</span><span class="ident" id="3199722">_case</span>&nbsp;<span class="ident" id="3199728"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3199735">.</span><span class="ident" id="3199736">SpecialCase</span><span class="op" id="3199747">,</span>&nbsp;<span class="ident" id="3199749">s</span>&nbsp;<span class="op" id="3199751">[</span><span class="op" id="3199752">]</span><span class="builtintype" id="3199753">byte</span><span class="op" id="3199757">)</span>&nbsp;<span class="op" id="3199759">[</span><span class="op" id="3199760">]</span><span class="builtintype" id="3199761">byte</span>&nbsp;<span class="op" id="3199766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3199769">return</span>&nbsp;<span class="ident" id="3199776"><a href="/bytes/bytes.go.html#3197681">Map</a></span><span class="op" id="3199779">(</span><span class="keyword" id="3199780">func</span><span class="op" id="3199784">(</span><span class="ident" id="3199785">r</span>&nbsp;<span class="builtintype" id="3199787">rune</span><span class="op" id="3199791">)</span>&nbsp;<span class="builtintype" id="3199793">rune</span>&nbsp;<span class="op" id="3199798">{</span>&nbsp;<span class="keyword" id="3199800">return</span>&nbsp;<span class="ident" id="3199807"><a href="/bytes/bytes.go.html#3199722">_case</a></span><span class="op" id="3199812">.</span><span class="ident" id="3199813">ToLower</span><span class="op" id="3199820">(</span><span class="ident" id="3199821"><a href="/bytes/bytes.go.html#3199785">r</a></span><span class="op" id="3199822">)</span>&nbsp;<span class="op" id="3199824">}</span><span class="op" id="3199825">,</span>&nbsp;<span class="ident" id="3199827"><a href="/bytes/bytes.go.html#3199749">s</a></span><span class="op" id="3199828">)</span><br>
<span class="lineno"></span><span class="op" id="3199830">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="comment" id="3199833">//&nbsp;ToTitleSpecial&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;byte&nbsp;slice&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;mapped&nbsp;to&nbsp;their</span><br>
<span class="lineno"></span><span class="comment" id="3199927">//&nbsp;title&nbsp;case,&nbsp;giving&nbsp;priority&nbsp;to&nbsp;the&nbsp;special&nbsp;casing&nbsp;rules.</span><br>
<span class="lineno"></span><span class="keyword" id="3199987">func</span>&nbsp;<span class="ident" id="3199992">ToTitleSpecial</span><span class="op" id="3200006">(</span><span class="ident" id="3200007">_case</span>&nbsp;<span class="ident" id="3200013"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3200020">.</span><span class="ident" id="3200021">SpecialCase</span><span class="op" id="3200032">,</span>&nbsp;<span class="ident" id="3200034">s</span>&nbsp;<span class="op" id="3200036">[</span><span class="op" id="3200037">]</span><span class="builtintype" id="3200038">byte</span><span class="op" id="3200042">)</span>&nbsp;<span class="op" id="3200044">[</span><span class="op" id="3200045">]</span><span class="builtintype" id="3200046">byte</span>&nbsp;<span class="op" id="3200051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200054">return</span>&nbsp;<span class="ident" id="3200061"><a href="/bytes/bytes.go.html#3197681">Map</a></span><span class="op" id="3200064">(</span><span class="keyword" id="3200065">func</span><span class="op" id="3200069">(</span><span class="ident" id="3200070">r</span>&nbsp;<span class="builtintype" id="3200072">rune</span><span class="op" id="3200076">)</span>&nbsp;<span class="builtintype" id="3200078">rune</span>&nbsp;<span class="op" id="3200083">{</span>&nbsp;<span class="keyword" id="3200085">return</span>&nbsp;<span class="ident" id="3200092"><a href="/bytes/bytes.go.html#3200007">_case</a></span><span class="op" id="3200097">.</span><span class="ident" id="3200098">ToTitle</span><span class="op" id="3200105">(</span><span class="ident" id="3200106"><a href="/bytes/bytes.go.html#3200070">r</a></span><span class="op" id="3200107">)</span>&nbsp;<span class="op" id="3200109">}</span><span class="op" id="3200110">,</span>&nbsp;<span class="ident" id="3200112"><a href="/bytes/bytes.go.html#3200034">s</a></span><span class="op" id="3200113">)</span><br>
<span class="lineno">415</span><span class="op" id="3200115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3200118">//&nbsp;isSeparator&nbsp;reports&nbsp;whether&nbsp;the&nbsp;rune&nbsp;could&nbsp;mark&nbsp;a&nbsp;word&nbsp;boundary.</span><br>
<span class="lineno"></span><span class="comment" id="3200186">//&nbsp;TODO:&nbsp;update&nbsp;when&nbsp;package&nbsp;unicode&nbsp;captures&nbsp;more&nbsp;of&nbsp;the&nbsp;properties.</span><br>
<span class="lineno"></span><span class="keyword" id="3200256">func</span>&nbsp;<span class="ident" id="3200261">isSeparator</span><span class="op" id="3200272">(</span><span class="ident" id="3200273">r</span>&nbsp;<span class="builtintype" id="3200275">rune</span><span class="op" id="3200279">)</span>&nbsp;<span class="builtintype" id="3200281">bool</span>&nbsp;<span class="op" id="3200286">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200289">//&nbsp;ASCII&nbsp;alphanumerics&nbsp;and&nbsp;underscore&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200347">if</span>&nbsp;<span class="ident" id="3200350"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200352">&lt;=</span>&nbsp;<span class="num" id="3200355">0x7F</span>&nbsp;<span class="op" id="3200360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200364">switch</span>&nbsp;<span class="op" id="3200371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200375">case</span>&nbsp;<span class="string" id="3200380">&#39;0&#39;</span>&nbsp;<span class="op" id="3200384">&lt;=</span>&nbsp;<span class="ident" id="3200387"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200389">&amp;&amp;</span>&nbsp;<span class="ident" id="3200392"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200394">&lt;=</span>&nbsp;<span class="string" id="3200397">&#39;9&#39;</span><span class="op" id="3200400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200405">return</span>&nbsp;<span class="ident" id="3200412">false</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200420">case</span>&nbsp;<span class="string" id="3200425">&#39;a&#39;</span>&nbsp;<span class="op" id="3200429">&lt;=</span>&nbsp;<span class="ident" id="3200432"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200434">&amp;&amp;</span>&nbsp;<span class="ident" id="3200437"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200439">&lt;=</span>&nbsp;<span class="string" id="3200442">&#39;z&#39;</span><span class="op" id="3200445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200450">return</span>&nbsp;<span class="ident" id="3200457">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200465">case</span>&nbsp;<span class="string" id="3200470">&#39;A&#39;</span>&nbsp;<span class="op" id="3200474">&lt;=</span>&nbsp;<span class="ident" id="3200477"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200479">&amp;&amp;</span>&nbsp;<span class="ident" id="3200482"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200484">&lt;=</span>&nbsp;<span class="string" id="3200487">&#39;Z&#39;</span><span class="op" id="3200490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200495">return</span>&nbsp;<span class="ident" id="3200502">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200510">case</span>&nbsp;<span class="ident" id="3200515"><a href="/bytes/bytes.go.html#3200273">r</a></span>&nbsp;<span class="op" id="3200517">==</span>&nbsp;<span class="string" id="3200520">&#39;_&#39;</span><span class="op" id="3200523">:</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200528">return</span>&nbsp;<span class="ident" id="3200535">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200547">return</span>&nbsp;<span class="ident" id="3200554">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200563">//&nbsp;Letters&nbsp;and&nbsp;digits&nbsp;are&nbsp;not&nbsp;separators</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200605">if</span>&nbsp;<span class="ident" id="3200608"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3200615">.</span><span class="ident" id="3200616">IsLetter</span><span class="op" id="3200624">(</span><span class="ident" id="3200625"><a href="/bytes/bytes.go.html#3200273">r</a></span><span class="op" id="3200626">)</span>&nbsp;<span class="op" id="3200628">||</span>&nbsp;<span class="ident" id="3200631"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3200638">.</span><span class="ident" id="3200639">IsDigit</span><span class="op" id="3200646">(</span><span class="ident" id="3200647"><a href="/bytes/bytes.go.html#3200273">r</a></span><span class="op" id="3200648">)</span>&nbsp;<span class="op" id="3200650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200654">return</span>&nbsp;<span class="ident" id="3200661">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3200668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200671">//&nbsp;Otherwise,&nbsp;all&nbsp;we&nbsp;can&nbsp;do&nbsp;for&nbsp;now&nbsp;is&nbsp;treat&nbsp;spaces&nbsp;as&nbsp;separators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3200739">return</span>&nbsp;<span class="ident" id="3200746"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3200753">.</span><span class="ident" id="3200754">IsSpace</span><span class="op" id="3200761">(</span><span class="ident" id="3200762"><a href="/bytes/bytes.go.html#3200273">r</a></span><span class="op" id="3200763">)</span><br>
<span class="lineno">440</span><span class="op" id="3200765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3200768">//&nbsp;Title&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;s&nbsp;with&nbsp;all&nbsp;Unicode&nbsp;letters&nbsp;that&nbsp;begin&nbsp;words</span><br>
<span class="lineno"></span><span class="comment" id="3200839">//&nbsp;mapped&nbsp;to&nbsp;their&nbsp;title&nbsp;case.</span><br>
<span class="lineno"></span><span class="comment" id="3200870">//</span><br>
<span class="lineno">445</span><span class="comment" id="3200873">//&nbsp;BUG:&nbsp;The&nbsp;rule&nbsp;Title&nbsp;uses&nbsp;for&nbsp;word&nbsp;boundaries&nbsp;does&nbsp;not&nbsp;handle&nbsp;Unicode&nbsp;punctuation&nbsp;properly.</span><br>
<span class="lineno"></span><span class="keyword" id="3200967">func</span>&nbsp;<span class="ident" id="3200972">Title</span><span class="op" id="3200977">(</span><span class="ident" id="3200978">s</span>&nbsp;<span class="op" id="3200980">[</span><span class="op" id="3200981">]</span><span class="builtintype" id="3200982">byte</span><span class="op" id="3200986">)</span>&nbsp;<span class="op" id="3200988">[</span><span class="op" id="3200989">]</span><span class="builtintype" id="3200990">byte</span>&nbsp;<span class="op" id="3200995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3200998">//&nbsp;Use&nbsp;a&nbsp;closure&nbsp;here&nbsp;to&nbsp;remember&nbsp;state.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3201040">//&nbsp;Hackish&nbsp;but&nbsp;effective.&nbsp;Depends&nbsp;on&nbsp;Map&nbsp;scanning&nbsp;in&nbsp;order&nbsp;and&nbsp;calling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3201112">//&nbsp;the&nbsp;closure&nbsp;once&nbsp;per&nbsp;rune.</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201143">prev</span>&nbsp;<span class="op" id="3201148">:=</span>&nbsp;<span class="string" id="3201151">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201156">return</span>&nbsp;<span class="ident" id="3201163"><a href="/bytes/bytes.go.html#3197681">Map</a></span><span class="op" id="3201166">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201170">func</span><span class="op" id="3201174">(</span><span class="ident" id="3201175">r</span>&nbsp;<span class="builtintype" id="3201177">rune</span><span class="op" id="3201181">)</span>&nbsp;<span class="builtintype" id="3201183">rune</span>&nbsp;<span class="op" id="3201188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201193">if</span>&nbsp;<span class="ident" id="3201196"><a href="/bytes/bytes.go.html#3200261">isSeparator</a></span><span class="op" id="3201207">(</span><span class="ident" id="3201208"><a href="/bytes/bytes.go.html#3201143">prev</a></span><span class="op" id="3201212">)</span>&nbsp;<span class="op" id="3201214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201220"><a href="/bytes/bytes.go.html#3201143">prev</a></span>&nbsp;<span class="op" id="3201225">=</span>&nbsp;<span class="ident" id="3201227"><a href="/bytes/bytes.go.html#3201175">r</a></span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201233">return</span>&nbsp;<span class="ident" id="3201240"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3201247">.</span><span class="ident" id="3201248">ToTitle</span><span class="op" id="3201255">(</span><span class="ident" id="3201256"><a href="/bytes/bytes.go.html#3201175">r</a></span><span class="op" id="3201257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201267"><a href="/bytes/bytes.go.html#3201143">prev</a></span>&nbsp;<span class="op" id="3201272">=</span>&nbsp;<span class="ident" id="3201274"><a href="/bytes/bytes.go.html#3201175">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201279">return</span>&nbsp;<span class="ident" id="3201286"><a href="/bytes/bytes.go.html#3201175">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201290">}</span><span class="op" id="3201291">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201295"><a href="/bytes/bytes.go.html#3200978">s</a></span><span class="op" id="3201296">)</span><br>
<span class="lineno"></span><span class="op" id="3201298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3201301">//&nbsp;TrimLeftFunc&nbsp;returns&nbsp;a&nbsp;subslice&nbsp;of&nbsp;s&nbsp;by&nbsp;slicing&nbsp;off&nbsp;all&nbsp;leading&nbsp;UTF-8-encoded</span><br>
<span class="lineno"></span><span class="comment" id="3201382">//&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;that&nbsp;satisfy&nbsp;f(c).</span><br>
<span class="lineno">465</span><span class="keyword" id="3201426">func</span>&nbsp;<span class="ident" id="3201431">TrimLeftFunc</span><span class="op" id="3201443">(</span><span class="ident" id="3201444">s</span>&nbsp;<span class="op" id="3201446">[</span><span class="op" id="3201447">]</span><span class="builtintype" id="3201448">byte</span><span class="op" id="3201452">,</span>&nbsp;<span class="ident" id="3201454">f</span>&nbsp;<span class="keyword" id="3201456">func</span><span class="op" id="3201460">(</span><span class="ident" id="3201461">r</span>&nbsp;<span class="builtintype" id="3201463">rune</span><span class="op" id="3201467">)</span>&nbsp;<span class="builtintype" id="3201469">bool</span><span class="op" id="3201473">)</span>&nbsp;<span class="op" id="3201475">[</span><span class="op" id="3201476">]</span><span class="builtintype" id="3201477">byte</span>&nbsp;<span class="op" id="3201482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201485">i</span>&nbsp;<span class="op" id="3201487">:=</span>&nbsp;<span class="ident" id="3201490"><a href="/bytes/bytes.go.html#3203292">indexFunc</a></span><span class="op" id="3201499">(</span><span class="ident" id="3201500"><a href="/bytes/bytes.go.html#3201444">s</a></span><span class="op" id="3201501">,</span>&nbsp;<span class="ident" id="3201503"><a href="/bytes/bytes.go.html#3201454">f</a></span><span class="op" id="3201504">,</span>&nbsp;<span class="ident" id="3201506">false</span><span class="op" id="3201511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201514">if</span>&nbsp;<span class="ident" id="3201517"><a href="/bytes/bytes.go.html#3201485">i</a></span>&nbsp;<span class="op" id="3201519">==</span>&nbsp;<span class="op" id="3201522">-</span><span class="num" id="3201523">1</span>&nbsp;<span class="op" id="3201525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201529">return</span>&nbsp;<span class="ident" id="3201536">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201541">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201544">return</span>&nbsp;<span class="ident" id="3201551"><a href="/bytes/bytes.go.html#3201444">s</a></span><span class="op" id="3201552">[</span><span class="ident" id="3201553"><a href="/bytes/bytes.go.html#3201485">i</a></span><span class="op" id="3201554">:</span><span class="op" id="3201555">]</span><br>
<span class="lineno"></span><span class="op" id="3201557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3201560">//&nbsp;TrimRightFunc&nbsp;returns&nbsp;a&nbsp;subslice&nbsp;of&nbsp;s&nbsp;by&nbsp;slicing&nbsp;off&nbsp;all&nbsp;trailing&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="3201635">//&nbsp;encoded&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;that&nbsp;satisfy&nbsp;f(c).</span><br>
<span class="lineno">475</span><span class="keyword" id="3201687">func</span>&nbsp;<span class="ident" id="3201692">TrimRightFunc</span><span class="op" id="3201705">(</span><span class="ident" id="3201706">s</span>&nbsp;<span class="op" id="3201708">[</span><span class="op" id="3201709">]</span><span class="builtintype" id="3201710">byte</span><span class="op" id="3201714">,</span>&nbsp;<span class="ident" id="3201716">f</span>&nbsp;<span class="keyword" id="3201718">func</span><span class="op" id="3201722">(</span><span class="ident" id="3201723">r</span>&nbsp;<span class="builtintype" id="3201725">rune</span><span class="op" id="3201729">)</span>&nbsp;<span class="builtintype" id="3201731">bool</span><span class="op" id="3201735">)</span>&nbsp;<span class="op" id="3201737">[</span><span class="op" id="3201738">]</span><span class="builtintype" id="3201739">byte</span>&nbsp;<span class="op" id="3201744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201747">i</span>&nbsp;<span class="op" id="3201749">:=</span>&nbsp;<span class="ident" id="3201752"><a href="/bytes/bytes.go.html#3203695">lastIndexFunc</a></span><span class="op" id="3201765">(</span><span class="ident" id="3201766"><a href="/bytes/bytes.go.html#3201706">s</a></span><span class="op" id="3201767">,</span>&nbsp;<span class="ident" id="3201769"><a href="/bytes/bytes.go.html#3201716">f</a></span><span class="op" id="3201770">,</span>&nbsp;<span class="ident" id="3201772">false</span><span class="op" id="3201777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201780">if</span>&nbsp;<span class="ident" id="3201783"><a href="/bytes/bytes.go.html#3201747">i</a></span>&nbsp;<span class="op" id="3201785">&gt;=</span>&nbsp;<span class="num" id="3201788">0</span>&nbsp;<span class="op" id="3201790">&amp;&amp;</span>&nbsp;<span class="ident" id="3201793"><a href="/bytes/bytes.go.html#3201706">s</a></span><span class="op" id="3201794">[</span><span class="ident" id="3201795"><a href="/bytes/bytes.go.html#3201747">i</a></span><span class="op" id="3201796">]</span>&nbsp;<span class="op" id="3201798">&gt;=</span>&nbsp;<span class="ident" id="3201801"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3201805">.</span><span class="ident" id="3201806">RuneSelf</span>&nbsp;<span class="op" id="3201815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201819">_</span><span class="op" id="3201820">,</span>&nbsp;<span class="ident" id="3201822">wid</span>&nbsp;<span class="op" id="3201826">:=</span>&nbsp;<span class="ident" id="3201829"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3201833">.</span><span class="ident" id="3201834">DecodeRune</span><span class="op" id="3201844">(</span><span class="ident" id="3201845"><a href="/bytes/bytes.go.html#3201706">s</a></span><span class="op" id="3201846">[</span><span class="ident" id="3201847"><a href="/bytes/bytes.go.html#3201747">i</a></span><span class="op" id="3201848">:</span><span class="op" id="3201849">]</span><span class="op" id="3201850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201854"><a href="/bytes/bytes.go.html#3201747">i</a></span>&nbsp;<span class="op" id="3201856">+=</span>&nbsp;<span class="ident" id="3201859"><a href="/bytes/bytes.go.html#3201822">wid</a></span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201864">}</span>&nbsp;<span class="keyword" id="3201866">else</span>&nbsp;<span class="op" id="3201871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3201875"><a href="/bytes/bytes.go.html#3201747">i</a></span><span class="op" id="3201876">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3201880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3201883">return</span>&nbsp;<span class="ident" id="3201890"><a href="/bytes/bytes.go.html#3201706">s</a></span><span class="op" id="3201891">[</span><span class="num" id="3201892">0</span><span class="op" id="3201893">:</span><span class="ident" id="3201894"><a href="/bytes/bytes.go.html#3201747">i</a></span><span class="op" id="3201895">]</span><br>
<span class="lineno"></span><span class="op" id="3201897">}</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span><span class="comment" id="3201900">//&nbsp;TrimFunc&nbsp;returns&nbsp;a&nbsp;subslice&nbsp;of&nbsp;s&nbsp;by&nbsp;slicing&nbsp;off&nbsp;all&nbsp;leading&nbsp;and&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="3201976">//&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;that&nbsp;satisfy&nbsp;f(c).</span><br>
<span class="lineno"></span><span class="keyword" id="3202034">func</span>&nbsp;<span class="ident" id="3202039">TrimFunc</span><span class="op" id="3202047">(</span><span class="ident" id="3202048">s</span>&nbsp;<span class="op" id="3202050">[</span><span class="op" id="3202051">]</span><span class="builtintype" id="3202052">byte</span><span class="op" id="3202056">,</span>&nbsp;<span class="ident" id="3202058">f</span>&nbsp;<span class="keyword" id="3202060">func</span><span class="op" id="3202064">(</span><span class="ident" id="3202065">r</span>&nbsp;<span class="builtintype" id="3202067">rune</span><span class="op" id="3202071">)</span>&nbsp;<span class="builtintype" id="3202073">bool</span><span class="op" id="3202077">)</span>&nbsp;<span class="op" id="3202079">[</span><span class="op" id="3202080">]</span><span class="builtintype" id="3202081">byte</span>&nbsp;<span class="op" id="3202086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202089">return</span>&nbsp;<span class="ident" id="3202096"><a href="/bytes/bytes.go.html#3201692">TrimRightFunc</a></span><span class="op" id="3202109">(</span><span class="ident" id="3202110"><a href="/bytes/bytes.go.html#3201431">TrimLeftFunc</a></span><span class="op" id="3202122">(</span><span class="ident" id="3202123"><a href="/bytes/bytes.go.html#3202048">s</a></span><span class="op" id="3202124">,</span>&nbsp;<span class="ident" id="3202126"><a href="/bytes/bytes.go.html#3202058">f</a></span><span class="op" id="3202127">)</span><span class="op" id="3202128">,</span>&nbsp;<span class="ident" id="3202130"><a href="/bytes/bytes.go.html#3202058">f</a></span><span class="op" id="3202131">)</span><br>
<span class="lineno">490</span><span class="op" id="3202133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3202136">//&nbsp;TrimPrefix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;leading&nbsp;prefix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="3202204">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;start&nbsp;with&nbsp;prefix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="3202264">func</span>&nbsp;<span class="ident" id="3202269">TrimPrefix</span><span class="op" id="3202279">(</span><span class="ident" id="3202280">s</span><span class="op" id="3202281">,</span>&nbsp;<span class="ident" id="3202283">prefix</span>&nbsp;<span class="op" id="3202290">[</span><span class="op" id="3202291">]</span><span class="builtintype" id="3202292">byte</span><span class="op" id="3202296">)</span>&nbsp;<span class="op" id="3202298">[</span><span class="op" id="3202299">]</span><span class="builtintype" id="3202300">byte</span>&nbsp;<span class="op" id="3202305">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202308">if</span>&nbsp;<span class="ident" id="3202311"><a href="/bytes/bytes.go.html#3197089">HasPrefix</a></span><span class="op" id="3202320">(</span><span class="ident" id="3202321"><a href="/bytes/bytes.go.html#3202280">s</a></span><span class="op" id="3202322">,</span>&nbsp;<span class="ident" id="3202324"><a href="/bytes/bytes.go.html#3202283">prefix</a></span><span class="op" id="3202330">)</span>&nbsp;<span class="op" id="3202332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202336">return</span>&nbsp;<span class="ident" id="3202343"><a href="/bytes/bytes.go.html#3202280">s</a></span><span class="op" id="3202344">[</span><span class="builtinfunc" id="3202345">len</span><span class="op" id="3202348">(</span><span class="ident" id="3202349"><a href="/bytes/bytes.go.html#3202283">prefix</a></span><span class="op" id="3202355">)</span><span class="op" id="3202356">:</span><span class="op" id="3202357">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202363">return</span>&nbsp;<span class="ident" id="3202370"><a href="/bytes/bytes.go.html#3202280">s</a></span><br>
<span class="lineno"></span><span class="op" id="3202372">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span><span class="comment" id="3202375">//&nbsp;TrimSuffix&nbsp;returns&nbsp;s&nbsp;without&nbsp;the&nbsp;provided&nbsp;trailing&nbsp;suffix&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="3202444">//&nbsp;If&nbsp;s&nbsp;doesn&#39;t&nbsp;end&nbsp;with&nbsp;suffix,&nbsp;s&nbsp;is&nbsp;returned&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="3202502">func</span>&nbsp;<span class="ident" id="3202507">TrimSuffix</span><span class="op" id="3202517">(</span><span class="ident" id="3202518">s</span><span class="op" id="3202519">,</span>&nbsp;<span class="ident" id="3202521">suffix</span>&nbsp;<span class="op" id="3202528">[</span><span class="op" id="3202529">]</span><span class="builtintype" id="3202530">byte</span><span class="op" id="3202534">)</span>&nbsp;<span class="op" id="3202536">[</span><span class="op" id="3202537">]</span><span class="builtintype" id="3202538">byte</span>&nbsp;<span class="op" id="3202543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202546">if</span>&nbsp;<span class="ident" id="3202549"><a href="/bytes/bytes.go.html#3197259">HasSuffix</a></span><span class="op" id="3202558">(</span><span class="ident" id="3202559"><a href="/bytes/bytes.go.html#3202518">s</a></span><span class="op" id="3202560">,</span>&nbsp;<span class="ident" id="3202562"><a href="/bytes/bytes.go.html#3202521">suffix</a></span><span class="op" id="3202568">)</span>&nbsp;<span class="op" id="3202570">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202574">return</span>&nbsp;<span class="ident" id="3202581"><a href="/bytes/bytes.go.html#3202518">s</a></span><span class="op" id="3202582">[</span><span class="op" id="3202583">:</span><span class="builtinfunc" id="3202584">len</span><span class="op" id="3202587">(</span><span class="ident" id="3202588"><a href="/bytes/bytes.go.html#3202518">s</a></span><span class="op" id="3202589">)</span><span class="op" id="3202590">-</span><span class="builtinfunc" id="3202591">len</span><span class="op" id="3202594">(</span><span class="ident" id="3202595"><a href="/bytes/bytes.go.html#3202521">suffix</a></span><span class="op" id="3202601">)</span><span class="op" id="3202602">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3202605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202608">return</span>&nbsp;<span class="ident" id="3202615"><a href="/bytes/bytes.go.html#3202518">s</a></span><br>
<span class="lineno"></span><span class="op" id="3202617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="comment" id="3202620">//&nbsp;IndexFunc&nbsp;interprets&nbsp;s&nbsp;as&nbsp;a&nbsp;sequence&nbsp;of&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points.</span><br>
<span class="lineno"></span><span class="comment" id="3202698">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;byte&nbsp;index&nbsp;in&nbsp;s&nbsp;of&nbsp;the&nbsp;first&nbsp;Unicode</span><br>
<span class="lineno"></span><span class="comment" id="3202753">//&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno"></span><span class="keyword" id="3202802">func</span>&nbsp;<span class="ident" id="3202807">IndexFunc</span><span class="op" id="3202816">(</span><span class="ident" id="3202817">s</span>&nbsp;<span class="op" id="3202819">[</span><span class="op" id="3202820">]</span><span class="builtintype" id="3202821">byte</span><span class="op" id="3202825">,</span>&nbsp;<span class="ident" id="3202827">f</span>&nbsp;<span class="keyword" id="3202829">func</span><span class="op" id="3202833">(</span><span class="ident" id="3202834">r</span>&nbsp;<span class="builtintype" id="3202836">rune</span><span class="op" id="3202840">)</span>&nbsp;<span class="builtintype" id="3202842">bool</span><span class="op" id="3202846">)</span>&nbsp;<span class="builtintype" id="3202848">int</span>&nbsp;<span class="op" id="3202852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3202855">return</span>&nbsp;<span class="ident" id="3202862"><a href="/bytes/bytes.go.html#3203292">indexFunc</a></span><span class="op" id="3202871">(</span><span class="ident" id="3202872"><a href="/bytes/bytes.go.html#3202817">s</a></span><span class="op" id="3202873">,</span>&nbsp;<span class="ident" id="3202875"><a href="/bytes/bytes.go.html#3202827">f</a></span><span class="op" id="3202876">,</span>&nbsp;<span class="ident" id="3202878">true</span><span class="op" id="3202882">)</span><br>
<span class="lineno">515</span><span class="op" id="3202884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3202887">//&nbsp;LastIndexFunc&nbsp;interprets&nbsp;s&nbsp;as&nbsp;a&nbsp;sequence&nbsp;of&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points.</span><br>
<span class="lineno"></span><span class="comment" id="3202969">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;byte&nbsp;index&nbsp;in&nbsp;s&nbsp;of&nbsp;the&nbsp;last&nbsp;Unicode</span><br>
<span class="lineno"></span><span class="comment" id="3203023">//&nbsp;code&nbsp;point&nbsp;satisfying&nbsp;f(c),&nbsp;or&nbsp;-1&nbsp;if&nbsp;none&nbsp;do.</span><br>
<span class="lineno">520</span><span class="keyword" id="3203072">func</span>&nbsp;<span class="ident" id="3203077">LastIndexFunc</span><span class="op" id="3203090">(</span><span class="ident" id="3203091">s</span>&nbsp;<span class="op" id="3203093">[</span><span class="op" id="3203094">]</span><span class="builtintype" id="3203095">byte</span><span class="op" id="3203099">,</span>&nbsp;<span class="ident" id="3203101">f</span>&nbsp;<span class="keyword" id="3203103">func</span><span class="op" id="3203107">(</span><span class="ident" id="3203108">r</span>&nbsp;<span class="builtintype" id="3203110">rune</span><span class="op" id="3203114">)</span>&nbsp;<span class="builtintype" id="3203116">bool</span><span class="op" id="3203120">)</span>&nbsp;<span class="builtintype" id="3203122">int</span>&nbsp;<span class="op" id="3203126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203129">return</span>&nbsp;<span class="ident" id="3203136"><a href="/bytes/bytes.go.html#3203695">lastIndexFunc</a></span><span class="op" id="3203149">(</span><span class="ident" id="3203150"><a href="/bytes/bytes.go.html#3203091">s</a></span><span class="op" id="3203151">,</span>&nbsp;<span class="ident" id="3203153"><a href="/bytes/bytes.go.html#3203101">f</a></span><span class="op" id="3203154">,</span>&nbsp;<span class="ident" id="3203156">true</span><span class="op" id="3203160">)</span><br>
<span class="lineno"></span><span class="op" id="3203162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3203165">//&nbsp;indexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;IndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno">525</span><span class="comment" id="3203218">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3203274">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="3203287">func</span>&nbsp;<span class="ident" id="3203292">indexFunc</span><span class="op" id="3203301">(</span><span class="ident" id="3203302">s</span>&nbsp;<span class="op" id="3203304">[</span><span class="op" id="3203305">]</span><span class="builtintype" id="3203306">byte</span><span class="op" id="3203310">,</span>&nbsp;<span class="ident" id="3203312">f</span>&nbsp;<span class="keyword" id="3203314">func</span><span class="op" id="3203318">(</span><span class="ident" id="3203319">r</span>&nbsp;<span class="builtintype" id="3203321">rune</span><span class="op" id="3203325">)</span>&nbsp;<span class="builtintype" id="3203327">bool</span><span class="op" id="3203331">,</span>&nbsp;<span class="ident" id="3203333">truth</span>&nbsp;<span class="builtintype" id="3203339">bool</span><span class="op" id="3203343">)</span>&nbsp;<span class="builtintype" id="3203345">int</span>&nbsp;<span class="op" id="3203349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203352">start</span>&nbsp;<span class="op" id="3203358">:=</span>&nbsp;<span class="num" id="3203361">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203364">for</span>&nbsp;<span class="ident" id="3203368"><a href="/bytes/bytes.go.html#3203352">start</a></span>&nbsp;<span class="op" id="3203374">&lt;</span>&nbsp;<span class="builtinfunc" id="3203376">len</span><span class="op" id="3203379">(</span><span class="ident" id="3203380"><a href="/bytes/bytes.go.html#3203302">s</a></span><span class="op" id="3203381">)</span>&nbsp;<span class="op" id="3203383">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203387">wid</span>&nbsp;<span class="op" id="3203391">:=</span>&nbsp;<span class="num" id="3203394">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203398">r</span>&nbsp;<span class="op" id="3203400">:=</span>&nbsp;<span class="builtintype" id="3203403">rune</span><span class="op" id="3203407">(</span><span class="ident" id="3203408"><a href="/bytes/bytes.go.html#3203302">s</a></span><span class="op" id="3203409">[</span><span class="ident" id="3203410"><a href="/bytes/bytes.go.html#3203352">start</a></span><span class="op" id="3203415">]</span><span class="op" id="3203416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203420">if</span>&nbsp;<span class="ident" id="3203423"><a href="/bytes/bytes.go.html#3203398">r</a></span>&nbsp;<span class="op" id="3203425">&gt;=</span>&nbsp;<span class="ident" id="3203428"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3203432">.</span><span class="ident" id="3203433">RuneSelf</span>&nbsp;<span class="op" id="3203442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203447"><a href="/bytes/bytes.go.html#3203398">r</a></span><span class="op" id="3203448">,</span>&nbsp;<span class="ident" id="3203450"><a href="/bytes/bytes.go.html#3203387">wid</a></span>&nbsp;<span class="op" id="3203454">=</span>&nbsp;<span class="ident" id="3203456"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3203460">.</span><span class="ident" id="3203461">DecodeRune</span><span class="op" id="3203471">(</span><span class="ident" id="3203472"><a href="/bytes/bytes.go.html#3203302">s</a></span><span class="op" id="3203473">[</span><span class="ident" id="3203474"><a href="/bytes/bytes.go.html#3203352">start</a></span><span class="op" id="3203479">:</span><span class="op" id="3203480">]</span><span class="op" id="3203481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203485">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203489">if</span>&nbsp;<span class="ident" id="3203492"><a href="/bytes/bytes.go.html#3203312">f</a></span><span class="op" id="3203493">(</span><span class="ident" id="3203494"><a href="/bytes/bytes.go.html#3203398">r</a></span><span class="op" id="3203495">)</span>&nbsp;<span class="op" id="3203497">==</span>&nbsp;<span class="ident" id="3203500"><a href="/bytes/bytes.go.html#3203333">truth</a></span>&nbsp;<span class="op" id="3203506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203511">return</span>&nbsp;<span class="ident" id="3203518"><a href="/bytes/bytes.go.html#3203352">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203530"><a href="/bytes/bytes.go.html#3203352">start</a></span>&nbsp;<span class="op" id="3203536">+=</span>&nbsp;<span class="ident" id="3203539"><a href="/bytes/bytes.go.html#3203387">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203544">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203547">return</span>&nbsp;<span class="op" id="3203554">-</span><span class="num" id="3203555">1</span><br>
<span class="lineno"></span><span class="op" id="3203557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3203560">//&nbsp;lastIndexFunc&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;LastIndexFunc&nbsp;except&nbsp;that&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="3203621">//&nbsp;truth==false,&nbsp;the&nbsp;sense&nbsp;of&nbsp;the&nbsp;predicate&nbsp;function&nbsp;is</span><br>
<span class="lineno">545</span><span class="comment" id="3203677">//&nbsp;inverted.</span><br>
<span class="lineno"></span><span class="keyword" id="3203690">func</span>&nbsp;<span class="ident" id="3203695">lastIndexFunc</span><span class="op" id="3203708">(</span><span class="ident" id="3203709">s</span>&nbsp;<span class="op" id="3203711">[</span><span class="op" id="3203712">]</span><span class="builtintype" id="3203713">byte</span><span class="op" id="3203717">,</span>&nbsp;<span class="ident" id="3203719">f</span>&nbsp;<span class="keyword" id="3203721">func</span><span class="op" id="3203725">(</span><span class="ident" id="3203726">r</span>&nbsp;<span class="builtintype" id="3203728">rune</span><span class="op" id="3203732">)</span>&nbsp;<span class="builtintype" id="3203734">bool</span><span class="op" id="3203738">,</span>&nbsp;<span class="ident" id="3203740">truth</span>&nbsp;<span class="builtintype" id="3203746">bool</span><span class="op" id="3203750">)</span>&nbsp;<span class="builtintype" id="3203752">int</span>&nbsp;<span class="op" id="3203756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203759">for</span>&nbsp;<span class="ident" id="3203763">i</span>&nbsp;<span class="op" id="3203765">:=</span>&nbsp;<span class="builtinfunc" id="3203768">len</span><span class="op" id="3203771">(</span><span class="ident" id="3203772"><a href="/bytes/bytes.go.html#3203709">s</a></span><span class="op" id="3203773">)</span><span class="op" id="3203774">;</span>&nbsp;<span class="ident" id="3203776"><a href="/bytes/bytes.go.html#3203763">i</a></span>&nbsp;<span class="op" id="3203778">&gt;</span>&nbsp;<span class="num" id="3203780">0</span><span class="op" id="3203781">;</span>&nbsp;<span class="op" id="3203783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203787">r</span><span class="op" id="3203788">,</span>&nbsp;<span class="ident" id="3203790">size</span>&nbsp;<span class="op" id="3203795">:=</span>&nbsp;<span class="builtintype" id="3203798">rune</span><span class="op" id="3203802">(</span><span class="ident" id="3203803"><a href="/bytes/bytes.go.html#3203709">s</a></span><span class="op" id="3203804">[</span><span class="ident" id="3203805"><a href="/bytes/bytes.go.html#3203763">i</a></span><span class="op" id="3203806">-</span><span class="num" id="3203807">1</span><span class="op" id="3203808">]</span><span class="op" id="3203809">)</span><span class="op" id="3203810">,</span>&nbsp;<span class="num" id="3203812">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203816">if</span>&nbsp;<span class="ident" id="3203819"><a href="/bytes/bytes.go.html#3203787">r</a></span>&nbsp;<span class="op" id="3203821">&gt;=</span>&nbsp;<span class="ident" id="3203824"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3203828">.</span><span class="ident" id="3203829">RuneSelf</span>&nbsp;<span class="op" id="3203838">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203843"><a href="/bytes/bytes.go.html#3203787">r</a></span><span class="op" id="3203844">,</span>&nbsp;<span class="ident" id="3203846"><a href="/bytes/bytes.go.html#3203790">size</a></span>&nbsp;<span class="op" id="3203851">=</span>&nbsp;<span class="ident" id="3203853"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3203857">.</span><span class="ident" id="3203858">DecodeLastRune</span><span class="op" id="3203872">(</span><span class="ident" id="3203873"><a href="/bytes/bytes.go.html#3203709">s</a></span><span class="op" id="3203874">[</span><span class="num" id="3203875">0</span><span class="op" id="3203876">:</span><span class="ident" id="3203877"><a href="/bytes/bytes.go.html#3203763">i</a></span><span class="op" id="3203878">]</span><span class="op" id="3203879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3203887"><a href="/bytes/bytes.go.html#3203763">i</a></span>&nbsp;<span class="op" id="3203889">-=</span>&nbsp;<span class="ident" id="3203892"><a href="/bytes/bytes.go.html#3203790">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203899">if</span>&nbsp;<span class="ident" id="3203902"><a href="/bytes/bytes.go.html#3203719">f</a></span><span class="op" id="3203903">(</span><span class="ident" id="3203904"><a href="/bytes/bytes.go.html#3203787">r</a></span><span class="op" id="3203905">)</span>&nbsp;<span class="op" id="3203907">==</span>&nbsp;<span class="ident" id="3203910"><a href="/bytes/bytes.go.html#3203740">truth</a></span>&nbsp;<span class="op" id="3203916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203921">return</span>&nbsp;<span class="ident" id="3203928"><a href="/bytes/bytes.go.html#3203763">i</a></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3203935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3203938">return</span>&nbsp;<span class="op" id="3203945">-</span><span class="num" id="3203946">1</span><br>
<span class="lineno"></span><span class="op" id="3203948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span><span class="keyword" id="3203951">func</span>&nbsp;<span class="ident" id="3203956">makeCutsetFunc</span><span class="op" id="3203970">(</span><span class="ident" id="3203971">cutset</span>&nbsp;<span class="builtintype" id="3203978">string</span><span class="op" id="3203984">)</span>&nbsp;<span class="keyword" id="3203986">func</span><span class="op" id="3203990">(</span><span class="ident" id="3203991">r</span>&nbsp;<span class="builtintype" id="3203993">rune</span><span class="op" id="3203997">)</span>&nbsp;<span class="builtintype" id="3203999">bool</span>&nbsp;<span class="op" id="3204004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204007">return</span>&nbsp;<span class="keyword" id="3204014">func</span><span class="op" id="3204018">(</span><span class="ident" id="3204019">r</span>&nbsp;<span class="builtintype" id="3204021">rune</span><span class="op" id="3204025">)</span>&nbsp;<span class="builtintype" id="3204027">bool</span>&nbsp;<span class="op" id="3204032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204036">for</span>&nbsp;<span class="ident" id="3204040">_</span><span class="op" id="3204041">,</span>&nbsp;<span class="ident" id="3204043">c</span>&nbsp;<span class="op" id="3204045">:=</span>&nbsp;<span class="keyword" id="3204048">range</span>&nbsp;<span class="ident" id="3204054"><a href="/bytes/bytes.go.html#3203971">cutset</a></span>&nbsp;<span class="op" id="3204061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204066">if</span>&nbsp;<span class="ident" id="3204069"><a href="/bytes/bytes.go.html#3204043">c</a></span>&nbsp;<span class="op" id="3204071">==</span>&nbsp;<span class="ident" id="3204074"><a href="/bytes/bytes.go.html#3204019">r</a></span>&nbsp;<span class="op" id="3204076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204082">return</span>&nbsp;<span class="ident" id="3204089">true</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204105">return</span>&nbsp;<span class="ident" id="3204112">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3204119">}</span><br>
<span class="lineno"></span><span class="op" id="3204121">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3204124">//&nbsp;Trim&nbsp;returns&nbsp;a&nbsp;subslice&nbsp;of&nbsp;s&nbsp;by&nbsp;slicing&nbsp;off&nbsp;all&nbsp;leading&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3204187">//&nbsp;trailing&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset.</span><br>
<span class="lineno"></span><span class="keyword" id="3204254">func</span>&nbsp;<span class="ident" id="3204259">Trim</span><span class="op" id="3204263">(</span><span class="ident" id="3204264">s</span>&nbsp;<span class="op" id="3204266">[</span><span class="op" id="3204267">]</span><span class="builtintype" id="3204268">byte</span><span class="op" id="3204272">,</span>&nbsp;<span class="ident" id="3204274">cutset</span>&nbsp;<span class="builtintype" id="3204281">string</span><span class="op" id="3204287">)</span>&nbsp;<span class="op" id="3204289">[</span><span class="op" id="3204290">]</span><span class="builtintype" id="3204291">byte</span>&nbsp;<span class="op" id="3204296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204299">return</span>&nbsp;<span class="ident" id="3204306"><a href="/bytes/bytes.go.html#3202039">TrimFunc</a></span><span class="op" id="3204314">(</span><span class="ident" id="3204315"><a href="/bytes/bytes.go.html#3204264">s</a></span><span class="op" id="3204316">,</span>&nbsp;<span class="ident" id="3204318"><a href="/bytes/bytes.go.html#3203956">makeCutsetFunc</a></span><span class="op" id="3204332">(</span><span class="ident" id="3204333"><a href="/bytes/bytes.go.html#3204274">cutset</a></span><span class="op" id="3204339">)</span><span class="op" id="3204340">)</span><br>
<span class="lineno">575</span><span class="op" id="3204342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3204345">//&nbsp;TrimLeft&nbsp;returns&nbsp;a&nbsp;subslice&nbsp;of&nbsp;s&nbsp;by&nbsp;slicing&nbsp;off&nbsp;all&nbsp;leading</span><br>
<span class="lineno"></span><span class="comment" id="3204408">//&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;contained&nbsp;in&nbsp;cutset.</span><br>
<span class="lineno"></span><span class="keyword" id="3204466">func</span>&nbsp;<span class="ident" id="3204471">TrimLeft</span><span class="op" id="3204479">(</span><span class="ident" id="3204480">s</span>&nbsp;<span class="op" id="3204482">[</span><span class="op" id="3204483">]</span><span class="builtintype" id="3204484">byte</span><span class="op" id="3204488">,</span>&nbsp;<span class="ident" id="3204490">cutset</span>&nbsp;<span class="builtintype" id="3204497">string</span><span class="op" id="3204503">)</span>&nbsp;<span class="op" id="3204505">[</span><span class="op" id="3204506">]</span><span class="builtintype" id="3204507">byte</span>&nbsp;<span class="op" id="3204512">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204515">return</span>&nbsp;<span class="ident" id="3204522"><a href="/bytes/bytes.go.html#3201431">TrimLeftFunc</a></span><span class="op" id="3204534">(</span><span class="ident" id="3204535"><a href="/bytes/bytes.go.html#3204480">s</a></span><span class="op" id="3204536">,</span>&nbsp;<span class="ident" id="3204538"><a href="/bytes/bytes.go.html#3203956">makeCutsetFunc</a></span><span class="op" id="3204552">(</span><span class="ident" id="3204553"><a href="/bytes/bytes.go.html#3204490">cutset</a></span><span class="op" id="3204559">)</span><span class="op" id="3204560">)</span><br>
<span class="lineno"></span><span class="op" id="3204562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3204565">//&nbsp;TrimRight&nbsp;returns&nbsp;a&nbsp;subslice&nbsp;of&nbsp;s&nbsp;by&nbsp;slicing&nbsp;off&nbsp;all&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="3204630">//&nbsp;UTF-8-encoded&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;cutset.</span><br>
<span class="lineno">585</span><span class="keyword" id="3204697">func</span>&nbsp;<span class="ident" id="3204702">TrimRight</span><span class="op" id="3204711">(</span><span class="ident" id="3204712">s</span>&nbsp;<span class="op" id="3204714">[</span><span class="op" id="3204715">]</span><span class="builtintype" id="3204716">byte</span><span class="op" id="3204720">,</span>&nbsp;<span class="ident" id="3204722">cutset</span>&nbsp;<span class="builtintype" id="3204729">string</span><span class="op" id="3204735">)</span>&nbsp;<span class="op" id="3204737">[</span><span class="op" id="3204738">]</span><span class="builtintype" id="3204739">byte</span>&nbsp;<span class="op" id="3204744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204747">return</span>&nbsp;<span class="ident" id="3204754"><a href="/bytes/bytes.go.html#3201692">TrimRightFunc</a></span><span class="op" id="3204767">(</span><span class="ident" id="3204768"><a href="/bytes/bytes.go.html#3204712">s</a></span><span class="op" id="3204769">,</span>&nbsp;<span class="ident" id="3204771"><a href="/bytes/bytes.go.html#3203956">makeCutsetFunc</a></span><span class="op" id="3204785">(</span><span class="ident" id="3204786"><a href="/bytes/bytes.go.html#3204722">cutset</a></span><span class="op" id="3204792">)</span><span class="op" id="3204793">)</span><br>
<span class="lineno"></span><span class="op" id="3204795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3204798">//&nbsp;TrimSpace&nbsp;returns&nbsp;a&nbsp;subslice&nbsp;of&nbsp;s&nbsp;by&nbsp;slicing&nbsp;off&nbsp;all&nbsp;leading&nbsp;and</span><br>
<span class="lineno">590</span><span class="comment" id="3204866">//&nbsp;trailing&nbsp;white&nbsp;space,&nbsp;as&nbsp;defined&nbsp;by&nbsp;Unicode.</span><br>
<span class="lineno"></span><span class="keyword" id="3204914">func</span>&nbsp;<span class="ident" id="3204919">TrimSpace</span><span class="op" id="3204928">(</span><span class="ident" id="3204929">s</span>&nbsp;<span class="op" id="3204931">[</span><span class="op" id="3204932">]</span><span class="builtintype" id="3204933">byte</span><span class="op" id="3204937">)</span>&nbsp;<span class="op" id="3204939">[</span><span class="op" id="3204940">]</span><span class="builtintype" id="3204941">byte</span>&nbsp;<span class="op" id="3204946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3204949">return</span>&nbsp;<span class="ident" id="3204956"><a href="/bytes/bytes.go.html#3202039">TrimFunc</a></span><span class="op" id="3204964">(</span><span class="ident" id="3204965"><a href="/bytes/bytes.go.html#3204929">s</a></span><span class="op" id="3204966">,</span>&nbsp;<span class="ident" id="3204968"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3204975">.</span><span class="ident" id="3204976">IsSpace</span><span class="op" id="3204983">)</span><br>
<span class="lineno"></span><span class="op" id="3204985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span><span class="comment" id="3204988">//&nbsp;Runes&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;runes&nbsp;(Unicode&nbsp;code&nbsp;points)&nbsp;equivalent&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3205061">func</span>&nbsp;<span class="ident" id="3205066">Runes</span><span class="op" id="3205071">(</span><span class="ident" id="3205072">s</span>&nbsp;<span class="op" id="3205074">[</span><span class="op" id="3205075">]</span><span class="builtintype" id="3205076">byte</span><span class="op" id="3205080">)</span>&nbsp;<span class="op" id="3205082">[</span><span class="op" id="3205083">]</span><span class="builtintype" id="3205084">rune</span>&nbsp;<span class="op" id="3205089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205092">t</span>&nbsp;<span class="op" id="3205094">:=</span>&nbsp;<span class="builtinfunc" id="3205097">make</span><span class="op" id="3205101">(</span><span class="op" id="3205102">[</span><span class="op" id="3205103">]</span><span class="builtintype" id="3205104">rune</span><span class="op" id="3205108">,</span>&nbsp;<span class="ident" id="3205110"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3205114">.</span><span class="ident" id="3205115">RuneCount</span><span class="op" id="3205124">(</span><span class="ident" id="3205125"><a href="/bytes/bytes.go.html#3205072">s</a></span><span class="op" id="3205126">)</span><span class="op" id="3205127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205130">i</span>&nbsp;<span class="op" id="3205132">:=</span>&nbsp;<span class="num" id="3205135">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205138">for</span>&nbsp;<span class="builtinfunc" id="3205142">len</span><span class="op" id="3205145">(</span><span class="ident" id="3205146"><a href="/bytes/bytes.go.html#3205072">s</a></span><span class="op" id="3205147">)</span>&nbsp;<span class="op" id="3205149">&gt;</span>&nbsp;<span class="num" id="3205151">0</span>&nbsp;<span class="op" id="3205153">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205157">r</span><span class="op" id="3205158">,</span>&nbsp;<span class="ident" id="3205160">l</span>&nbsp;<span class="op" id="3205162">:=</span>&nbsp;<span class="ident" id="3205165"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3205169">.</span><span class="ident" id="3205170">DecodeRune</span><span class="op" id="3205180">(</span><span class="ident" id="3205181"><a href="/bytes/bytes.go.html#3205072">s</a></span><span class="op" id="3205182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205186"><a href="/bytes/bytes.go.html#3205092">t</a></span><span class="op" id="3205187">[</span><span class="ident" id="3205188"><a href="/bytes/bytes.go.html#3205130">i</a></span><span class="op" id="3205189">]</span>&nbsp;<span class="op" id="3205191">=</span>&nbsp;<span class="ident" id="3205193"><a href="/bytes/bytes.go.html#3205157">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205197"><a href="/bytes/bytes.go.html#3205130">i</a></span><span class="op" id="3205198">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205203"><a href="/bytes/bytes.go.html#3205072">s</a></span>&nbsp;<span class="op" id="3205205">=</span>&nbsp;<span class="ident" id="3205207"><a href="/bytes/bytes.go.html#3205072">s</a></span><span class="op" id="3205208">[</span><span class="ident" id="3205209"><a href="/bytes/bytes.go.html#3205160">l</a></span><span class="op" id="3205210">:</span><span class="op" id="3205211">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205214">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205217">return</span>&nbsp;<span class="ident" id="3205224"><a href="/bytes/bytes.go.html#3205092">t</a></span><br>
<span class="lineno"></span><span class="op" id="3205226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3205229">//&nbsp;Replace&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;slice&nbsp;s&nbsp;with&nbsp;the&nbsp;first&nbsp;n</span><br>
<span class="lineno"></span><span class="comment" id="3205287">//&nbsp;non-overlapping&nbsp;instances&nbsp;of&nbsp;old&nbsp;replaced&nbsp;by&nbsp;new.</span><br>
<span class="lineno">610</span><span class="comment" id="3205340">//&nbsp;If&nbsp;old&nbsp;is&nbsp;empty,&nbsp;it&nbsp;matches&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;slice</span><br>
<span class="lineno"></span><span class="comment" id="3205401">//&nbsp;and&nbsp;after&nbsp;each&nbsp;UTF-8&nbsp;sequence,&nbsp;yielding&nbsp;up&nbsp;to&nbsp;k+1&nbsp;replacements</span><br>
<span class="lineno"></span><span class="comment" id="3205467">//&nbsp;for&nbsp;a&nbsp;k-rune&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="3205490">//&nbsp;If&nbsp;n&nbsp;&lt;&nbsp;0,&nbsp;there&nbsp;is&nbsp;no&nbsp;limit&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno"></span><span class="keyword" id="3205552">func</span>&nbsp;<span class="ident" id="3205557">Replace</span><span class="op" id="3205564">(</span><span class="ident" id="3205565">s</span><span class="op" id="3205566">,</span>&nbsp;<span class="ident" id="3205568">old</span><span class="op" id="3205571">,</span>&nbsp;<span class="builtinfunc" id="3205573">new</span>&nbsp;<span class="op" id="3205577">[</span><span class="op" id="3205578">]</span><span class="builtintype" id="3205579">byte</span><span class="op" id="3205583">,</span>&nbsp;<span class="ident" id="3205585">n</span>&nbsp;<span class="builtintype" id="3205587">int</span><span class="op" id="3205590">)</span>&nbsp;<span class="op" id="3205592">[</span><span class="op" id="3205593">]</span><span class="builtintype" id="3205594">byte</span>&nbsp;<span class="op" id="3205599">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205602">m</span>&nbsp;<span class="op" id="3205604">:=</span>&nbsp;<span class="num" id="3205607">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205610">if</span>&nbsp;<span class="ident" id="3205613"><a href="/bytes/bytes.go.html#3205585">n</a></span>&nbsp;<span class="op" id="3205615">!=</span>&nbsp;<span class="num" id="3205618">0</span>&nbsp;<span class="op" id="3205620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3205624">//&nbsp;Compute&nbsp;number&nbsp;of&nbsp;replacements.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205661"><a href="/bytes/bytes.go.html#3205602">m</a></span>&nbsp;<span class="op" id="3205663">=</span>&nbsp;<span class="ident" id="3205665"><a href="/bytes/bytes.go.html#3190162">Count</a></span><span class="op" id="3205670">(</span><span class="ident" id="3205671"><a href="/bytes/bytes.go.html#3205565">s</a></span><span class="op" id="3205672">,</span>&nbsp;<span class="ident" id="3205674"><a href="/bytes/bytes.go.html#3205568">old</a></span><span class="op" id="3205677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205680">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205683">if</span>&nbsp;<span class="ident" id="3205686"><a href="/bytes/bytes.go.html#3205602">m</a></span>&nbsp;<span class="op" id="3205688">==</span>&nbsp;<span class="num" id="3205691">0</span>&nbsp;<span class="op" id="3205693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3205697">//&nbsp;Just&nbsp;return&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205722">return</span>&nbsp;<span class="builtinfunc" id="3205729">append</span><span class="op" id="3205735">(</span><span class="op" id="3205736">[</span><span class="op" id="3205737">]</span><span class="builtintype" id="3205738">byte</span><span class="op" id="3205742">(</span><span class="ident" id="3205743">nil</span><span class="op" id="3205746">)</span><span class="op" id="3205747">,</span>&nbsp;<span class="ident" id="3205749"><a href="/bytes/bytes.go.html#3205565">s</a></span><span class="op" id="3205750">...</span><span class="op" id="3205753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205759">if</span>&nbsp;<span class="ident" id="3205762"><a href="/bytes/bytes.go.html#3205585">n</a></span>&nbsp;<span class="op" id="3205764">&lt;</span>&nbsp;<span class="num" id="3205766">0</span>&nbsp;<span class="op" id="3205768">||</span>&nbsp;<span class="ident" id="3205771"><a href="/bytes/bytes.go.html#3205602">m</a></span>&nbsp;<span class="op" id="3205773">&lt;</span>&nbsp;<span class="ident" id="3205775"><a href="/bytes/bytes.go.html#3205585">n</a></span>&nbsp;<span class="op" id="3205777">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205781"><a href="/bytes/bytes.go.html#3205585">n</a></span>&nbsp;<span class="op" id="3205783">=</span>&nbsp;<span class="ident" id="3205785"><a href="/bytes/bytes.go.html#3205602">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3205788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3205792">//&nbsp;Apply&nbsp;replacements&nbsp;to&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205826">t</span>&nbsp;<span class="op" id="3205828">:=</span>&nbsp;<span class="builtinfunc" id="3205831">make</span><span class="op" id="3205835">(</span><span class="op" id="3205836">[</span><span class="op" id="3205837">]</span><span class="builtintype" id="3205838">byte</span><span class="op" id="3205842">,</span>&nbsp;<span class="builtinfunc" id="3205844">len</span><span class="op" id="3205847">(</span><span class="ident" id="3205848"><a href="/bytes/bytes.go.html#3205565">s</a></span><span class="op" id="3205849">)</span><span class="op" id="3205850">+</span><span class="ident" id="3205851"><a href="/bytes/bytes.go.html#3205585">n</a></span><span class="op" id="3205852">*</span><span class="op" id="3205853">(</span><span class="builtinfunc" id="3205854">len</span><span class="op" id="3205857">(</span><span class="builtinfunc" id="3205858"><a href="/bytes/bytes.go.html#3205573">new</a></span><span class="op" id="3205861">)</span><span class="op" id="3205862">-</span><span class="builtinfunc" id="3205863">len</span><span class="op" id="3205866">(</span><span class="ident" id="3205867"><a href="/bytes/bytes.go.html#3205568">old</a></span><span class="op" id="3205870">)</span><span class="op" id="3205871">)</span><span class="op" id="3205872">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205875">w</span>&nbsp;<span class="op" id="3205877">:=</span>&nbsp;<span class="num" id="3205880">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205883">start</span>&nbsp;<span class="op" id="3205889">:=</span>&nbsp;<span class="num" id="3205892">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205895">for</span>&nbsp;<span class="ident" id="3205899">i</span>&nbsp;<span class="op" id="3205901">:=</span>&nbsp;<span class="num" id="3205904">0</span><span class="op" id="3205905">;</span>&nbsp;<span class="ident" id="3205907"><a href="/bytes/bytes.go.html#3205899">i</a></span>&nbsp;<span class="op" id="3205909">&lt;</span>&nbsp;<span class="ident" id="3205911"><a href="/bytes/bytes.go.html#3205585">n</a></span><span class="op" id="3205912">;</span>&nbsp;<span class="ident" id="3205914"><a href="/bytes/bytes.go.html#3205899">i</a></span><span class="op" id="3205915">++</span>&nbsp;<span class="op" id="3205918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205922">j</span>&nbsp;<span class="op" id="3205924">:=</span>&nbsp;<span class="ident" id="3205927"><a href="/bytes/bytes.go.html#3205883">start</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205935">if</span>&nbsp;<span class="builtinfunc" id="3205938">len</span><span class="op" id="3205941">(</span><span class="ident" id="3205942"><a href="/bytes/bytes.go.html#3205568">old</a></span><span class="op" id="3205945">)</span>&nbsp;<span class="op" id="3205947">==</span>&nbsp;<span class="num" id="3205950">0</span>&nbsp;<span class="op" id="3205952">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3205957">if</span>&nbsp;<span class="ident" id="3205960"><a href="/bytes/bytes.go.html#3205899">i</a></span>&nbsp;<span class="op" id="3205962">&gt;</span>&nbsp;<span class="num" id="3205964">0</span>&nbsp;<span class="op" id="3205966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3205972">_</span><span class="op" id="3205973">,</span>&nbsp;<span class="ident" id="3205975">wid</span>&nbsp;<span class="op" id="3205979">:=</span>&nbsp;<span class="ident" id="3205982"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3205986">.</span><span class="ident" id="3205987">DecodeRune</span><span class="op" id="3205997">(</span><span class="ident" id="3205998"><a href="/bytes/bytes.go.html#3205565">s</a></span><span class="op" id="3205999">[</span><span class="ident" id="3206000"><a href="/bytes/bytes.go.html#3205883">start</a></span><span class="op" id="3206005">:</span><span class="op" id="3206006">]</span><span class="op" id="3206007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206013"><a href="/bytes/bytes.go.html#3205922">j</a></span>&nbsp;<span class="op" id="3206015">+=</span>&nbsp;<span class="ident" id="3206018"><a href="/bytes/bytes.go.html#3205975">wid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206029">}</span>&nbsp;<span class="keyword" id="3206031">else</span>&nbsp;<span class="op" id="3206036">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206041"><a href="/bytes/bytes.go.html#3205922">j</a></span>&nbsp;<span class="op" id="3206043">+=</span>&nbsp;<span class="ident" id="3206046"><a href="/bytes/bytes.go.html#3190771">Index</a></span><span class="op" id="3206051">(</span><span class="ident" id="3206052"><a href="/bytes/bytes.go.html#3205565">s</a></span><span class="op" id="3206053">[</span><span class="ident" id="3206054"><a href="/bytes/bytes.go.html#3205883">start</a></span><span class="op" id="3206059">:</span><span class="op" id="3206060">]</span><span class="op" id="3206061">,</span>&nbsp;<span class="ident" id="3206063"><a href="/bytes/bytes.go.html#3205568">old</a></span><span class="op" id="3206066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206074"><a href="/bytes/bytes.go.html#3205875">w</a></span>&nbsp;<span class="op" id="3206076">+=</span>&nbsp;<span class="builtinfunc" id="3206079">copy</span><span class="op" id="3206083">(</span><span class="ident" id="3206084"><a href="/bytes/bytes.go.html#3205826">t</a></span><span class="op" id="3206085">[</span><span class="ident" id="3206086"><a href="/bytes/bytes.go.html#3205875">w</a></span><span class="op" id="3206087">:</span><span class="op" id="3206088">]</span><span class="op" id="3206089">,</span>&nbsp;<span class="ident" id="3206091"><a href="/bytes/bytes.go.html#3205565">s</a></span><span class="op" id="3206092">[</span><span class="ident" id="3206093"><a href="/bytes/bytes.go.html#3205883">start</a></span><span class="op" id="3206098">:</span><span class="ident" id="3206099"><a href="/bytes/bytes.go.html#3205922">j</a></span><span class="op" id="3206100">]</span><span class="op" id="3206101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206105"><a href="/bytes/bytes.go.html#3205875">w</a></span>&nbsp;<span class="op" id="3206107">+=</span>&nbsp;<span class="builtinfunc" id="3206110">copy</span><span class="op" id="3206114">(</span><span class="ident" id="3206115"><a href="/bytes/bytes.go.html#3205826">t</a></span><span class="op" id="3206116">[</span><span class="ident" id="3206117"><a href="/bytes/bytes.go.html#3205875">w</a></span><span class="op" id="3206118">:</span><span class="op" id="3206119">]</span><span class="op" id="3206120">,</span>&nbsp;<span class="builtinfunc" id="3206122"><a href="/bytes/bytes.go.html#3205573">new</a></span><span class="op" id="3206125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206129"><a href="/bytes/bytes.go.html#3205883">start</a></span>&nbsp;<span class="op" id="3206135">=</span>&nbsp;<span class="ident" id="3206137"><a href="/bytes/bytes.go.html#3205922">j</a></span>&nbsp;<span class="op" id="3206139">+</span>&nbsp;<span class="builtinfunc" id="3206141">len</span><span class="op" id="3206144">(</span><span class="ident" id="3206145"><a href="/bytes/bytes.go.html#3205568">old</a></span><span class="op" id="3206148">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206154"><a href="/bytes/bytes.go.html#3205875">w</a></span>&nbsp;<span class="op" id="3206156">+=</span>&nbsp;<span class="builtinfunc" id="3206159">copy</span><span class="op" id="3206163">(</span><span class="ident" id="3206164"><a href="/bytes/bytes.go.html#3205826">t</a></span><span class="op" id="3206165">[</span><span class="ident" id="3206166"><a href="/bytes/bytes.go.html#3205875">w</a></span><span class="op" id="3206167">:</span><span class="op" id="3206168">]</span><span class="op" id="3206169">,</span>&nbsp;<span class="ident" id="3206171"><a href="/bytes/bytes.go.html#3205565">s</a></span><span class="op" id="3206172">[</span><span class="ident" id="3206173"><a href="/bytes/bytes.go.html#3205883">start</a></span><span class="op" id="3206178">:</span><span class="op" id="3206179">]</span><span class="op" id="3206180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206183">return</span>&nbsp;<span class="ident" id="3206190"><a href="/bytes/bytes.go.html#3205826">t</a></span><span class="op" id="3206191">[</span><span class="num" id="3206192">0</span><span class="op" id="3206193">:</span><span class="ident" id="3206194"><a href="/bytes/bytes.go.html#3205875">w</a></span><span class="op" id="3206195">]</span><br>
<span class="lineno"></span><span class="op" id="3206197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="3206200">//&nbsp;EqualFold&nbsp;reports&nbsp;whether&nbsp;s&nbsp;and&nbsp;t,&nbsp;interpreted&nbsp;as&nbsp;UTF-8&nbsp;strings,</span><br>
<span class="lineno"></span><span class="comment" id="3206268">//&nbsp;are&nbsp;equal&nbsp;under&nbsp;Unicode&nbsp;case-folding.</span><br>
<span class="lineno"></span><span class="keyword" id="3206309">func</span>&nbsp;<span class="ident" id="3206314">EqualFold</span><span class="op" id="3206323">(</span><span class="ident" id="3206324">s</span><span class="op" id="3206325">,</span>&nbsp;<span class="ident" id="3206327">t</span>&nbsp;<span class="op" id="3206329">[</span><span class="op" id="3206330">]</span><span class="builtintype" id="3206331">byte</span><span class="op" id="3206335">)</span>&nbsp;<span class="builtintype" id="3206337">bool</span>&nbsp;<span class="op" id="3206342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206345">for</span>&nbsp;<span class="builtinfunc" id="3206349">len</span><span class="op" id="3206352">(</span><span class="ident" id="3206353"><a href="/bytes/bytes.go.html#3206324">s</a></span><span class="op" id="3206354">)</span>&nbsp;<span class="op" id="3206356">!=</span>&nbsp;<span class="num" id="3206359">0</span>&nbsp;<span class="op" id="3206361">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3206364">len</span><span class="op" id="3206367">(</span><span class="ident" id="3206368"><a href="/bytes/bytes.go.html#3206327">t</a></span><span class="op" id="3206369">)</span>&nbsp;<span class="op" id="3206371">!=</span>&nbsp;<span class="num" id="3206374">0</span>&nbsp;<span class="op" id="3206376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206380">//&nbsp;Extract&nbsp;first&nbsp;rune&nbsp;from&nbsp;each.</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206415">var</span>&nbsp;<span class="ident" id="3206419">sr</span><span class="op" id="3206421">,</span>&nbsp;<span class="ident" id="3206423">tr</span>&nbsp;<span class="builtintype" id="3206426">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206433">if</span>&nbsp;<span class="ident" id="3206436"><a href="/bytes/bytes.go.html#3206324">s</a></span><span class="op" id="3206437">[</span><span class="num" id="3206438">0</span><span class="op" id="3206439">]</span>&nbsp;<span class="op" id="3206441">&lt;</span>&nbsp;<span class="ident" id="3206443"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3206447">.</span><span class="ident" id="3206448">RuneSelf</span>&nbsp;<span class="op" id="3206457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206462"><a href="/bytes/bytes.go.html#3206419">sr</a></span><span class="op" id="3206464">,</span>&nbsp;<span class="ident" id="3206466"><a href="/bytes/bytes.go.html#3206324">s</a></span>&nbsp;<span class="op" id="3206468">=</span>&nbsp;<span class="builtintype" id="3206470">rune</span><span class="op" id="3206474">(</span><span class="ident" id="3206475"><a href="/bytes/bytes.go.html#3206324">s</a></span><span class="op" id="3206476">[</span><span class="num" id="3206477">0</span><span class="op" id="3206478">]</span><span class="op" id="3206479">)</span><span class="op" id="3206480">,</span>&nbsp;<span class="ident" id="3206482"><a href="/bytes/bytes.go.html#3206324">s</a></span><span class="op" id="3206483">[</span><span class="num" id="3206484">1</span><span class="op" id="3206485">:</span><span class="op" id="3206486">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206490">}</span>&nbsp;<span class="keyword" id="3206492">else</span>&nbsp;<span class="op" id="3206497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206502">r</span><span class="op" id="3206503">,</span>&nbsp;<span class="ident" id="3206505">size</span>&nbsp;<span class="op" id="3206510">:=</span>&nbsp;<span class="ident" id="3206513"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3206517">.</span><span class="ident" id="3206518">DecodeRune</span><span class="op" id="3206528">(</span><span class="ident" id="3206529"><a href="/bytes/bytes.go.html#3206324">s</a></span><span class="op" id="3206530">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206535"><a href="/bytes/bytes.go.html#3206419">sr</a></span><span class="op" id="3206537">,</span>&nbsp;<span class="ident" id="3206539"><a href="/bytes/bytes.go.html#3206324">s</a></span>&nbsp;<span class="op" id="3206541">=</span>&nbsp;<span class="ident" id="3206543"><a href="/bytes/bytes.go.html#3206502">r</a></span><span class="op" id="3206544">,</span>&nbsp;<span class="ident" id="3206546"><a href="/bytes/bytes.go.html#3206324">s</a></span><span class="op" id="3206547">[</span><span class="ident" id="3206548"><a href="/bytes/bytes.go.html#3206505">size</a></span><span class="op" id="3206552">:</span><span class="op" id="3206553">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206561">if</span>&nbsp;<span class="ident" id="3206564"><a href="/bytes/bytes.go.html#3206327">t</a></span><span class="op" id="3206565">[</span><span class="num" id="3206566">0</span><span class="op" id="3206567">]</span>&nbsp;<span class="op" id="3206569">&lt;</span>&nbsp;<span class="ident" id="3206571"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3206575">.</span><span class="ident" id="3206576">RuneSelf</span>&nbsp;<span class="op" id="3206585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206590"><a href="/bytes/bytes.go.html#3206423">tr</a></span><span class="op" id="3206592">,</span>&nbsp;<span class="ident" id="3206594"><a href="/bytes/bytes.go.html#3206327">t</a></span>&nbsp;<span class="op" id="3206596">=</span>&nbsp;<span class="builtintype" id="3206598">rune</span><span class="op" id="3206602">(</span><span class="ident" id="3206603"><a href="/bytes/bytes.go.html#3206327">t</a></span><span class="op" id="3206604">[</span><span class="num" id="3206605">0</span><span class="op" id="3206606">]</span><span class="op" id="3206607">)</span><span class="op" id="3206608">,</span>&nbsp;<span class="ident" id="3206610"><a href="/bytes/bytes.go.html#3206327">t</a></span><span class="op" id="3206611">[</span><span class="num" id="3206612">1</span><span class="op" id="3206613">:</span><span class="op" id="3206614">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206618">}</span>&nbsp;<span class="keyword" id="3206620">else</span>&nbsp;<span class="op" id="3206625">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206630">r</span><span class="op" id="3206631">,</span>&nbsp;<span class="ident" id="3206633">size</span>&nbsp;<span class="op" id="3206638">:=</span>&nbsp;<span class="ident" id="3206641"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3206645">.</span><span class="ident" id="3206646">DecodeRune</span><span class="op" id="3206656">(</span><span class="ident" id="3206657"><a href="/bytes/bytes.go.html#3206327">t</a></span><span class="op" id="3206658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206663"><a href="/bytes/bytes.go.html#3206423">tr</a></span><span class="op" id="3206665">,</span>&nbsp;<span class="ident" id="3206667"><a href="/bytes/bytes.go.html#3206327">t</a></span>&nbsp;<span class="op" id="3206669">=</span>&nbsp;<span class="ident" id="3206671"><a href="/bytes/bytes.go.html#3206630">r</a></span><span class="op" id="3206672">,</span>&nbsp;<span class="ident" id="3206674"><a href="/bytes/bytes.go.html#3206327">t</a></span><span class="op" id="3206675">[</span><span class="ident" id="3206676"><a href="/bytes/bytes.go.html#3206633">size</a></span><span class="op" id="3206680">:</span><span class="op" id="3206681">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206690">//&nbsp;If&nbsp;they&nbsp;match,&nbsp;keep&nbsp;going;&nbsp;if&nbsp;not,&nbsp;return&nbsp;false.</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206745">//&nbsp;Easy&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206761">if</span>&nbsp;<span class="ident" id="3206764"><a href="/bytes/bytes.go.html#3206423">tr</a></span>&nbsp;<span class="op" id="3206767">==</span>&nbsp;<span class="ident" id="3206770"><a href="/bytes/bytes.go.html#3206419">sr</a></span>&nbsp;<span class="op" id="3206773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206778">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206789">}</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206794">//&nbsp;Make&nbsp;sr&nbsp;&lt;&nbsp;tr&nbsp;to&nbsp;simplify&nbsp;what&nbsp;follows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206838">if</span>&nbsp;<span class="ident" id="3206841"><a href="/bytes/bytes.go.html#3206423">tr</a></span>&nbsp;<span class="op" id="3206844">&lt;</span>&nbsp;<span class="ident" id="3206846"><a href="/bytes/bytes.go.html#3206419">sr</a></span>&nbsp;<span class="op" id="3206849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3206854"><a href="/bytes/bytes.go.html#3206423">tr</a></span><span class="op" id="3206856">,</span>&nbsp;<span class="ident" id="3206858"><a href="/bytes/bytes.go.html#3206419">sr</a></span>&nbsp;<span class="op" id="3206861">=</span>&nbsp;<span class="ident" id="3206863"><a href="/bytes/bytes.go.html#3206419">sr</a></span><span class="op" id="3206865">,</span>&nbsp;<span class="ident" id="3206867"><a href="/bytes/bytes.go.html#3206423">tr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3206872">}</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206876">//&nbsp;Fast&nbsp;check&nbsp;for&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3206903">if</span>&nbsp;<span class="ident" id="3206906"><a href="/bytes/bytes.go.html#3206423">tr</a></span>&nbsp;<span class="op" id="3206909">&lt;</span>&nbsp;<span class="ident" id="3206911"><a href="/bytes/bytes.go.html#3189430">utf8</a></span><span class="op" id="3206915">.</span><span class="ident" id="3206916">RuneSelf</span>&nbsp;<span class="op" id="3206925">&amp;&amp;</span>&nbsp;<span class="string" id="3206928">&#39;A&#39;</span>&nbsp;<span class="op" id="3206932">&lt;=</span>&nbsp;<span class="ident" id="3206935"><a href="/bytes/bytes.go.html#3206419">sr</a></span>&nbsp;<span class="op" id="3206938">&amp;&amp;</span>&nbsp;<span class="ident" id="3206941"><a href="/bytes/bytes.go.html#3206419">sr</a></span>&nbsp;<span class="op" id="3206944">&lt;=</span>&nbsp;<span class="string" id="3206947">&#39;Z&#39;</span>&nbsp;<span class="op" id="3206951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3206956">//&nbsp;ASCII,&nbsp;and&nbsp;sr&nbsp;is&nbsp;upper&nbsp;case.&nbsp;&nbsp;tr&nbsp;must&nbsp;be&nbsp;lower&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207015">if</span>&nbsp;<span class="ident" id="3207018"><a href="/bytes/bytes.go.html#3206423">tr</a></span>&nbsp;<span class="op" id="3207021">==</span>&nbsp;<span class="ident" id="3207024"><a href="/bytes/bytes.go.html#3206419">sr</a></span><span class="op" id="3207026">+</span><span class="string" id="3207027">&#39;a&#39;</span><span class="op" id="3207030">-</span><span class="string" id="3207031">&#39;A&#39;</span>&nbsp;<span class="op" id="3207035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207041">continue</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207058">return</span>&nbsp;<span class="ident" id="3207065">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207078">//&nbsp;General&nbsp;case.&nbsp;&nbsp;SimpleFold(x)&nbsp;returns&nbsp;the&nbsp;next&nbsp;equivalent&nbsp;rune&nbsp;&gt;&nbsp;x</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207149">//&nbsp;or&nbsp;wraps&nbsp;around&nbsp;to&nbsp;smaller&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3207189">r</span>&nbsp;<span class="op" id="3207191">:=</span>&nbsp;<span class="ident" id="3207194"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3207201">.</span><span class="ident" id="3207202">SimpleFold</span><span class="op" id="3207212">(</span><span class="ident" id="3207213"><a href="/bytes/bytes.go.html#3206419">sr</a></span><span class="op" id="3207215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207219">for</span>&nbsp;<span class="ident" id="3207223"><a href="/bytes/bytes.go.html#3207189">r</a></span>&nbsp;<span class="op" id="3207225">!=</span>&nbsp;<span class="ident" id="3207228"><a href="/bytes/bytes.go.html#3206419">sr</a></span>&nbsp;<span class="op" id="3207231">&amp;&amp;</span>&nbsp;<span class="ident" id="3207234"><a href="/bytes/bytes.go.html#3207189">r</a></span>&nbsp;<span class="op" id="3207236">&lt;</span>&nbsp;<span class="ident" id="3207238"><a href="/bytes/bytes.go.html#3206423">tr</a></span>&nbsp;<span class="op" id="3207241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3207246"><a href="/bytes/bytes.go.html#3207189">r</a></span>&nbsp;<span class="op" id="3207248">=</span>&nbsp;<span class="ident" id="3207250"><a href="/bytes/bytes.go.html#3189419">unicode</a></span><span class="op" id="3207257">.</span><span class="ident" id="3207258">SimpleFold</span><span class="op" id="3207268">(</span><span class="ident" id="3207269"><a href="/bytes/bytes.go.html#3207189">r</a></span><span class="op" id="3207270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207274">}</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207278">if</span>&nbsp;<span class="ident" id="3207281"><a href="/bytes/bytes.go.html#3207189">r</a></span>&nbsp;<span class="op" id="3207283">==</span>&nbsp;<span class="ident" id="3207286"><a href="/bytes/bytes.go.html#3206423">tr</a></span>&nbsp;<span class="op" id="3207289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207294">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207309">return</span>&nbsp;<span class="ident" id="3207316">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3207323">}</span><br>
<span class="lineno">700</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3207327">//&nbsp;One&nbsp;string&nbsp;is&nbsp;empty.&nbsp;&nbsp;Are&nbsp;both?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3207363">return</span>&nbsp;<span class="builtinfunc" id="3207370">len</span><span class="op" id="3207373">(</span><span class="ident" id="3207374"><a href="/bytes/bytes.go.html#3206324">s</a></span><span class="op" id="3207375">)</span>&nbsp;<span class="op" id="3207377">==</span>&nbsp;<span class="builtinfunc" id="3207380">len</span><span class="op" id="3207383">(</span><span class="ident" id="3207384"><a href="/bytes/bytes.go.html#3206327">t</a></span><span class="op" id="3207385">)</span><br>
<span class="lineno"></span><span class="op" id="3207387">}</span>
</div>
</body>
</html>
