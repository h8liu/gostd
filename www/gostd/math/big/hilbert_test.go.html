<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6645049">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6645104">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6645158">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6645209">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="6645274">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="6645333">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6645391">package</span>&nbsp;<span class="ident" id="6645399">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6645404">import</span>&nbsp;<span class="op" id="6645411">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6645414">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6645421">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6645431">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6645434">type</span>&nbsp;<span class="ident" id="6645439">matrix</span>&nbsp;<span class="keyword" id="6645446">struct</span>&nbsp;<span class="op" id="6645453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645456">n</span><span class="op" id="6645457">,</span>&nbsp;<span class="ident" id="6645459">m</span>&nbsp;<span class="builtintype" id="6645461">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645466">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6645471">[</span><span class="op" id="6645472">]</span><span class="op" id="6645473">*</span><span class="ident" id="6645474">Rat</span><br>
<span class="lineno"></span><span class="op" id="6645478">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6645481">func</span>&nbsp;<span class="op" id="6645486">(</span><span class="ident" id="6645487">a</span>&nbsp;<span class="op" id="6645489">*</span><span class="ident" id="6645490">matrix</span><span class="op" id="6645496">)</span>&nbsp;<span class="ident" id="6645498">at</span><span class="op" id="6645500">(</span><span class="ident" id="6645501">i</span><span class="op" id="6645502">,</span>&nbsp;<span class="ident" id="6645504">j</span>&nbsp;<span class="builtintype" id="6645506">int</span><span class="op" id="6645509">)</span>&nbsp;<span class="op" id="6645511">*</span><span class="ident" id="6645512">Rat</span>&nbsp;<span class="op" id="6645516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645519">if</span>&nbsp;<span class="op" id="6645522">!</span><span class="op" id="6645523">(</span><span class="num" id="6645524">0</span>&nbsp;<span class="op" id="6645526">&lt;=</span>&nbsp;<span class="ident" id="6645529">i</span>&nbsp;<span class="op" id="6645531">&amp;&amp;</span>&nbsp;<span class="ident" id="6645534">i</span>&nbsp;<span class="op" id="6645536">&lt;</span>&nbsp;<span class="ident" id="6645538">a</span><span class="op" id="6645539">.</span><span class="ident" id="6645540">n</span>&nbsp;<span class="op" id="6645542">&amp;&amp;</span>&nbsp;<span class="num" id="6645545">0</span>&nbsp;<span class="op" id="6645547">&lt;=</span>&nbsp;<span class="ident" id="6645550">j</span>&nbsp;<span class="op" id="6645552">&amp;&amp;</span>&nbsp;<span class="ident" id="6645555">j</span>&nbsp;<span class="op" id="6645557">&lt;</span>&nbsp;<span class="ident" id="6645559">a</span><span class="op" id="6645560">.</span><span class="ident" id="6645561">m</span><span class="op" id="6645562">)</span>&nbsp;<span class="op" id="6645564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6645568">panic</span><span class="op" id="6645573">(</span><span class="string" id="6645574">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="6645594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645597">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645600">return</span>&nbsp;<span class="ident" id="6645607">a</span><span class="op" id="6645608">.</span><span class="ident" id="6645609">a</span><span class="op" id="6645610">[</span><span class="ident" id="6645611">i</span><span class="op" id="6645612">*</span><span class="ident" id="6645613">a</span><span class="op" id="6645614">.</span><span class="ident" id="6645615">m</span><span class="op" id="6645616">+</span><span class="ident" id="6645617">j</span><span class="op" id="6645618">]</span><br>
<span class="lineno"></span><span class="op" id="6645620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6645623">func</span>&nbsp;<span class="op" id="6645628">(</span><span class="ident" id="6645629">a</span>&nbsp;<span class="op" id="6645631">*</span><span class="ident" id="6645632">matrix</span><span class="op" id="6645638">)</span>&nbsp;<span class="ident" id="6645640">set</span><span class="op" id="6645643">(</span><span class="ident" id="6645644">i</span><span class="op" id="6645645">,</span>&nbsp;<span class="ident" id="6645647">j</span>&nbsp;<span class="builtintype" id="6645649">int</span><span class="op" id="6645652">,</span>&nbsp;<span class="ident" id="6645654">x</span>&nbsp;<span class="op" id="6645656">*</span><span class="ident" id="6645657">Rat</span><span class="op" id="6645660">)</span>&nbsp;<span class="op" id="6645662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645665">if</span>&nbsp;<span class="op" id="6645668">!</span><span class="op" id="6645669">(</span><span class="num" id="6645670">0</span>&nbsp;<span class="op" id="6645672">&lt;=</span>&nbsp;<span class="ident" id="6645675">i</span>&nbsp;<span class="op" id="6645677">&amp;&amp;</span>&nbsp;<span class="ident" id="6645680">i</span>&nbsp;<span class="op" id="6645682">&lt;</span>&nbsp;<span class="ident" id="6645684">a</span><span class="op" id="6645685">.</span><span class="ident" id="6645686">n</span>&nbsp;<span class="op" id="6645688">&amp;&amp;</span>&nbsp;<span class="num" id="6645691">0</span>&nbsp;<span class="op" id="6645693">&lt;=</span>&nbsp;<span class="ident" id="6645696">j</span>&nbsp;<span class="op" id="6645698">&amp;&amp;</span>&nbsp;<span class="ident" id="6645701">j</span>&nbsp;<span class="op" id="6645703">&lt;</span>&nbsp;<span class="ident" id="6645705">a</span><span class="op" id="6645706">.</span><span class="ident" id="6645707">m</span><span class="op" id="6645708">)</span>&nbsp;<span class="op" id="6645710">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6645714">panic</span><span class="op" id="6645719">(</span><span class="string" id="6645720">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="6645740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645746">a</span><span class="op" id="6645747">.</span><span class="ident" id="6645748">a</span><span class="op" id="6645749">[</span><span class="ident" id="6645750">i</span><span class="op" id="6645751">*</span><span class="ident" id="6645752">a</span><span class="op" id="6645753">.</span><span class="ident" id="6645754">m</span><span class="op" id="6645755">+</span><span class="ident" id="6645756">j</span><span class="op" id="6645757">]</span>&nbsp;<span class="op" id="6645759">=</span>&nbsp;<span class="ident" id="6645761">x</span><br>
<span class="lineno"></span><span class="op" id="6645763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="6645766">func</span>&nbsp;<span class="ident" id="6645771">newMatrix</span><span class="op" id="6645780">(</span><span class="ident" id="6645781">n</span><span class="op" id="6645782">,</span>&nbsp;<span class="ident" id="6645784">m</span>&nbsp;<span class="builtintype" id="6645786">int</span><span class="op" id="6645789">)</span>&nbsp;<span class="op" id="6645791">*</span><span class="ident" id="6645792">matrix</span>&nbsp;<span class="op" id="6645799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645802">if</span>&nbsp;<span class="op" id="6645805">!</span><span class="op" id="6645806">(</span><span class="num" id="6645807">0</span>&nbsp;<span class="op" id="6645809">&lt;=</span>&nbsp;<span class="ident" id="6645812">n</span>&nbsp;<span class="op" id="6645814">&amp;&amp;</span>&nbsp;<span class="num" id="6645817">0</span>&nbsp;<span class="op" id="6645819">&lt;=</span>&nbsp;<span class="ident" id="6645822">m</span><span class="op" id="6645823">)</span>&nbsp;<span class="op" id="6645825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6645829">panic</span><span class="op" id="6645834">(</span><span class="string" id="6645835">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="6645851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645857">a</span>&nbsp;<span class="op" id="6645859">:=</span>&nbsp;<span class="builtinfunc" id="6645862">new</span><span class="op" id="6645865">(</span><span class="ident" id="6645866">matrix</span><span class="op" id="6645872">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645875">a</span><span class="op" id="6645876">.</span><span class="ident" id="6645877">n</span>&nbsp;<span class="op" id="6645879">=</span>&nbsp;<span class="ident" id="6645881">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645884">a</span><span class="op" id="6645885">.</span><span class="ident" id="6645886">m</span>&nbsp;<span class="op" id="6645888">=</span>&nbsp;<span class="ident" id="6645890">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645893">a</span><span class="op" id="6645894">.</span><span class="ident" id="6645895">a</span>&nbsp;<span class="op" id="6645897">=</span>&nbsp;<span class="builtinfunc" id="6645899">make</span><span class="op" id="6645903">(</span><span class="op" id="6645904">[</span><span class="op" id="6645905">]</span><span class="op" id="6645906">*</span><span class="ident" id="6645907">Rat</span><span class="op" id="6645910">,</span>&nbsp;<span class="ident" id="6645912">n</span><span class="op" id="6645913">*</span><span class="ident" id="6645914">m</span><span class="op" id="6645915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645918">return</span>&nbsp;<span class="ident" id="6645925">a</span><br>
<span class="lineno"></span><span class="op" id="6645927">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="6645930">func</span>&nbsp;<span class="ident" id="6645935">newUnit</span><span class="op" id="6645942">(</span><span class="ident" id="6645943">n</span>&nbsp;<span class="builtintype" id="6645945">int</span><span class="op" id="6645948">)</span>&nbsp;<span class="op" id="6645950">*</span><span class="ident" id="6645951">matrix</span>&nbsp;<span class="op" id="6645958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645961">a</span>&nbsp;<span class="op" id="6645963">:=</span>&nbsp;<span class="ident" id="6645966">newMatrix</span><span class="op" id="6645975">(</span><span class="ident" id="6645976">n</span><span class="op" id="6645977">,</span>&nbsp;<span class="ident" id="6645979">n</span><span class="op" id="6645980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645983">for</span>&nbsp;<span class="ident" id="6645987">i</span>&nbsp;<span class="op" id="6645989">:=</span>&nbsp;<span class="num" id="6645992">0</span><span class="op" id="6645993">;</span>&nbsp;<span class="ident" id="6645995">i</span>&nbsp;<span class="op" id="6645997">&lt;</span>&nbsp;<span class="ident" id="6645999">n</span><span class="op" id="6646000">;</span>&nbsp;<span class="ident" id="6646002">i</span><span class="op" id="6646003">++</span>&nbsp;<span class="op" id="6646006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646010">for</span>&nbsp;<span class="ident" id="6646014">j</span>&nbsp;<span class="op" id="6646016">:=</span>&nbsp;<span class="num" id="6646019">0</span><span class="op" id="6646020">;</span>&nbsp;<span class="ident" id="6646022">j</span>&nbsp;<span class="op" id="6646024">&lt;</span>&nbsp;<span class="ident" id="6646026">n</span><span class="op" id="6646027">;</span>&nbsp;<span class="ident" id="6646029">j</span><span class="op" id="6646030">++</span>&nbsp;<span class="op" id="6646033">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646038">x</span>&nbsp;<span class="op" id="6646040">:=</span>&nbsp;<span class="ident" id="6646043">NewRat</span><span class="op" id="6646049">(</span><span class="num" id="6646050">0</span><span class="op" id="6646051">,</span>&nbsp;<span class="num" id="6646053">1</span><span class="op" id="6646054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646059">if</span>&nbsp;<span class="ident" id="6646062">i</span>&nbsp;<span class="op" id="6646064">==</span>&nbsp;<span class="ident" id="6646067">j</span>&nbsp;<span class="op" id="6646069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646075">x</span><span class="op" id="6646076">.</span><span class="ident" id="6646077">SetInt64</span><span class="op" id="6646085">(</span><span class="num" id="6646086">1</span><span class="op" id="6646087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646097">a</span><span class="op" id="6646098">.</span><span class="ident" id="6646099">set</span><span class="op" id="6646102">(</span><span class="ident" id="6646103">i</span><span class="op" id="6646104">,</span>&nbsp;<span class="ident" id="6646106">j</span><span class="op" id="6646107">,</span>&nbsp;<span class="ident" id="6646109">x</span><span class="op" id="6646110">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646120">return</span>&nbsp;<span class="ident" id="6646127">a</span><br>
<span class="lineno"></span><span class="op" id="6646129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6646132">func</span>&nbsp;<span class="ident" id="6646137">newHilbert</span><span class="op" id="6646147">(</span><span class="ident" id="6646148">n</span>&nbsp;<span class="builtintype" id="6646150">int</span><span class="op" id="6646153">)</span>&nbsp;<span class="op" id="6646155">*</span><span class="ident" id="6646156">matrix</span>&nbsp;<span class="op" id="6646163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646166">a</span>&nbsp;<span class="op" id="6646168">:=</span>&nbsp;<span class="ident" id="6646171">newMatrix</span><span class="op" id="6646180">(</span><span class="ident" id="6646181">n</span><span class="op" id="6646182">,</span>&nbsp;<span class="ident" id="6646184">n</span><span class="op" id="6646185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646188">for</span>&nbsp;<span class="ident" id="6646192">i</span>&nbsp;<span class="op" id="6646194">:=</span>&nbsp;<span class="num" id="6646197">0</span><span class="op" id="6646198">;</span>&nbsp;<span class="ident" id="6646200">i</span>&nbsp;<span class="op" id="6646202">&lt;</span>&nbsp;<span class="ident" id="6646204">n</span><span class="op" id="6646205">;</span>&nbsp;<span class="ident" id="6646207">i</span><span class="op" id="6646208">++</span>&nbsp;<span class="op" id="6646211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646215">for</span>&nbsp;<span class="ident" id="6646219">j</span>&nbsp;<span class="op" id="6646221">:=</span>&nbsp;<span class="num" id="6646224">0</span><span class="op" id="6646225">;</span>&nbsp;<span class="ident" id="6646227">j</span>&nbsp;<span class="op" id="6646229">&lt;</span>&nbsp;<span class="ident" id="6646231">n</span><span class="op" id="6646232">;</span>&nbsp;<span class="ident" id="6646234">j</span><span class="op" id="6646235">++</span>&nbsp;<span class="op" id="6646238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646243">a</span><span class="op" id="6646244">.</span><span class="ident" id="6646245">set</span><span class="op" id="6646248">(</span><span class="ident" id="6646249">i</span><span class="op" id="6646250">,</span>&nbsp;<span class="ident" id="6646252">j</span><span class="op" id="6646253">,</span>&nbsp;<span class="ident" id="6646255">NewRat</span><span class="op" id="6646261">(</span><span class="num" id="6646262">1</span><span class="op" id="6646263">,</span>&nbsp;<span class="ident" id="6646265">int64</span><span class="op" id="6646270">(</span><span class="ident" id="6646271">i</span><span class="op" id="6646272">+</span><span class="ident" id="6646273">j</span><span class="op" id="6646274">+</span><span class="num" id="6646275">1</span><span class="op" id="6646276">)</span><span class="op" id="6646277">)</span><span class="op" id="6646278">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646288">return</span>&nbsp;<span class="ident" id="6646295">a</span><br>
<span class="lineno"></span><span class="op" id="6646297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6646300">func</span>&nbsp;<span class="ident" id="6646305">newInverseHilbert</span><span class="op" id="6646322">(</span><span class="ident" id="6646323">n</span>&nbsp;<span class="builtintype" id="6646325">int</span><span class="op" id="6646328">)</span>&nbsp;<span class="op" id="6646330">*</span><span class="ident" id="6646331">matrix</span>&nbsp;<span class="op" id="6646338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646341">a</span>&nbsp;<span class="op" id="6646343">:=</span>&nbsp;<span class="ident" id="6646346">newMatrix</span><span class="op" id="6646355">(</span><span class="ident" id="6646356">n</span><span class="op" id="6646357">,</span>&nbsp;<span class="ident" id="6646359">n</span><span class="op" id="6646360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646363">for</span>&nbsp;<span class="ident" id="6646367">i</span>&nbsp;<span class="op" id="6646369">:=</span>&nbsp;<span class="num" id="6646372">0</span><span class="op" id="6646373">;</span>&nbsp;<span class="ident" id="6646375">i</span>&nbsp;<span class="op" id="6646377">&lt;</span>&nbsp;<span class="ident" id="6646379">n</span><span class="op" id="6646380">;</span>&nbsp;<span class="ident" id="6646382">i</span><span class="op" id="6646383">++</span>&nbsp;<span class="op" id="6646386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646390">for</span>&nbsp;<span class="ident" id="6646394">j</span>&nbsp;<span class="op" id="6646396">:=</span>&nbsp;<span class="num" id="6646399">0</span><span class="op" id="6646400">;</span>&nbsp;<span class="ident" id="6646402">j</span>&nbsp;<span class="op" id="6646404">&lt;</span>&nbsp;<span class="ident" id="6646406">n</span><span class="op" id="6646407">;</span>&nbsp;<span class="ident" id="6646409">j</span><span class="op" id="6646410">++</span>&nbsp;<span class="op" id="6646413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646418">x1</span>&nbsp;<span class="op" id="6646421">:=</span>&nbsp;<span class="builtinfunc" id="6646424">new</span><span class="op" id="6646427">(</span><span class="ident" id="6646428">Rat</span><span class="op" id="6646431">)</span><span class="op" id="6646432">.</span><span class="ident" id="6646433">SetInt64</span><span class="op" id="6646441">(</span><span class="ident" id="6646442">int64</span><span class="op" id="6646447">(</span><span class="ident" id="6646448">i</span>&nbsp;<span class="op" id="6646450">+</span>&nbsp;<span class="ident" id="6646452">j</span>&nbsp;<span class="op" id="6646454">+</span>&nbsp;<span class="num" id="6646456">1</span><span class="op" id="6646457">)</span><span class="op" id="6646458">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646463">x2</span>&nbsp;<span class="op" id="6646466">:=</span>&nbsp;<span class="builtinfunc" id="6646469">new</span><span class="op" id="6646472">(</span><span class="ident" id="6646473">Rat</span><span class="op" id="6646476">)</span><span class="op" id="6646477">.</span><span class="ident" id="6646478">SetInt</span><span class="op" id="6646484">(</span><span class="builtinfunc" id="6646485">new</span><span class="op" id="6646488">(</span><span class="ident" id="6646489">Int</span><span class="op" id="6646492">)</span><span class="op" id="6646493">.</span><span class="ident" id="6646494">Binomial</span><span class="op" id="6646502">(</span><span class="ident" id="6646503">int64</span><span class="op" id="6646508">(</span><span class="ident" id="6646509">n</span><span class="op" id="6646510">+</span><span class="ident" id="6646511">i</span><span class="op" id="6646512">)</span><span class="op" id="6646513">,</span>&nbsp;<span class="ident" id="6646515">int64</span><span class="op" id="6646520">(</span><span class="ident" id="6646521">n</span><span class="op" id="6646522">-</span><span class="ident" id="6646523">j</span><span class="op" id="6646524">-</span><span class="num" id="6646525">1</span><span class="op" id="6646526">)</span><span class="op" id="6646527">)</span><span class="op" id="6646528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646533">x3</span>&nbsp;<span class="op" id="6646536">:=</span>&nbsp;<span class="builtinfunc" id="6646539">new</span><span class="op" id="6646542">(</span><span class="ident" id="6646543">Rat</span><span class="op" id="6646546">)</span><span class="op" id="6646547">.</span><span class="ident" id="6646548">SetInt</span><span class="op" id="6646554">(</span><span class="builtinfunc" id="6646555">new</span><span class="op" id="6646558">(</span><span class="ident" id="6646559">Int</span><span class="op" id="6646562">)</span><span class="op" id="6646563">.</span><span class="ident" id="6646564">Binomial</span><span class="op" id="6646572">(</span><span class="ident" id="6646573">int64</span><span class="op" id="6646578">(</span><span class="ident" id="6646579">n</span><span class="op" id="6646580">+</span><span class="ident" id="6646581">j</span><span class="op" id="6646582">)</span><span class="op" id="6646583">,</span>&nbsp;<span class="ident" id="6646585">int64</span><span class="op" id="6646590">(</span><span class="ident" id="6646591">n</span><span class="op" id="6646592">-</span><span class="ident" id="6646593">i</span><span class="op" id="6646594">-</span><span class="num" id="6646595">1</span><span class="op" id="6646596">)</span><span class="op" id="6646597">)</span><span class="op" id="6646598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646603">x4</span>&nbsp;<span class="op" id="6646606">:=</span>&nbsp;<span class="builtinfunc" id="6646609">new</span><span class="op" id="6646612">(</span><span class="ident" id="6646613">Rat</span><span class="op" id="6646616">)</span><span class="op" id="6646617">.</span><span class="ident" id="6646618">SetInt</span><span class="op" id="6646624">(</span><span class="builtinfunc" id="6646625">new</span><span class="op" id="6646628">(</span><span class="ident" id="6646629">Int</span><span class="op" id="6646632">)</span><span class="op" id="6646633">.</span><span class="ident" id="6646634">Binomial</span><span class="op" id="6646642">(</span><span class="ident" id="6646643">int64</span><span class="op" id="6646648">(</span><span class="ident" id="6646649">i</span><span class="op" id="6646650">+</span><span class="ident" id="6646651">j</span><span class="op" id="6646652">)</span><span class="op" id="6646653">,</span>&nbsp;<span class="ident" id="6646655">int64</span><span class="op" id="6646660">(</span><span class="ident" id="6646661">i</span><span class="op" id="6646662">)</span><span class="op" id="6646663">)</span><span class="op" id="6646664">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646670">x1</span><span class="op" id="6646672">.</span><span class="ident" id="6646673">Mul</span><span class="op" id="6646676">(</span><span class="ident" id="6646677">x1</span><span class="op" id="6646679">,</span>&nbsp;<span class="ident" id="6646681">x2</span><span class="op" id="6646683">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646688">x1</span><span class="op" id="6646690">.</span><span class="ident" id="6646691">Mul</span><span class="op" id="6646694">(</span><span class="ident" id="6646695">x1</span><span class="op" id="6646697">,</span>&nbsp;<span class="ident" id="6646699">x3</span><span class="op" id="6646701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646706">x1</span><span class="op" id="6646708">.</span><span class="ident" id="6646709">Mul</span><span class="op" id="6646712">(</span><span class="ident" id="6646713">x1</span><span class="op" id="6646715">,</span>&nbsp;<span class="ident" id="6646717">x4</span><span class="op" id="6646719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646724">x1</span><span class="op" id="6646726">.</span><span class="ident" id="6646727">Mul</span><span class="op" id="6646730">(</span><span class="ident" id="6646731">x1</span><span class="op" id="6646733">,</span>&nbsp;<span class="ident" id="6646735">x4</span><span class="op" id="6646737">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646743">if</span>&nbsp;<span class="op" id="6646746">(</span><span class="ident" id="6646747">i</span><span class="op" id="6646748">+</span><span class="ident" id="6646749">j</span><span class="op" id="6646750">)</span><span class="op" id="6646751">&amp;</span><span class="num" id="6646752">1</span>&nbsp;<span class="op" id="6646754">!=</span>&nbsp;<span class="num" id="6646757">0</span>&nbsp;<span class="op" id="6646759">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646765">x1</span><span class="op" id="6646767">.</span><span class="ident" id="6646768">Neg</span><span class="op" id="6646771">(</span><span class="ident" id="6646772">x1</span><span class="op" id="6646774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646785">a</span><span class="op" id="6646786">.</span><span class="ident" id="6646787">set</span><span class="op" id="6646790">(</span><span class="ident" id="6646791">i</span><span class="op" id="6646792">,</span>&nbsp;<span class="ident" id="6646794">j</span><span class="op" id="6646795">,</span>&nbsp;<span class="ident" id="6646797">x1</span><span class="op" id="6646799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646803">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646809">return</span>&nbsp;<span class="ident" id="6646816">a</span><br>
<span class="lineno"></span><span class="op" id="6646818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6646821">func</span>&nbsp;<span class="op" id="6646826">(</span><span class="ident" id="6646827">a</span>&nbsp;<span class="op" id="6646829">*</span><span class="ident" id="6646830">matrix</span><span class="op" id="6646836">)</span>&nbsp;<span class="ident" id="6646838">mul</span><span class="op" id="6646841">(</span><span class="ident" id="6646842">b</span>&nbsp;<span class="op" id="6646844">*</span><span class="ident" id="6646845">matrix</span><span class="op" id="6646851">)</span>&nbsp;<span class="op" id="6646853">*</span><span class="ident" id="6646854">matrix</span>&nbsp;<span class="op" id="6646861">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646864">if</span>&nbsp;<span class="ident" id="6646867">a</span><span class="op" id="6646868">.</span><span class="ident" id="6646869">m</span>&nbsp;<span class="op" id="6646871">!=</span>&nbsp;<span class="ident" id="6646874">b</span><span class="op" id="6646875">.</span><span class="ident" id="6646876">n</span>&nbsp;<span class="op" id="6646878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6646882">panic</span><span class="op" id="6646887">(</span><span class="string" id="6646888">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="6646913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646919">c</span>&nbsp;<span class="op" id="6646921">:=</span>&nbsp;<span class="ident" id="6646924">newMatrix</span><span class="op" id="6646933">(</span><span class="ident" id="6646934">a</span><span class="op" id="6646935">.</span><span class="ident" id="6646936">n</span><span class="op" id="6646937">,</span>&nbsp;<span class="ident" id="6646939">b</span><span class="op" id="6646940">.</span><span class="ident" id="6646941">m</span><span class="op" id="6646942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646945">for</span>&nbsp;<span class="ident" id="6646949">i</span>&nbsp;<span class="op" id="6646951">:=</span>&nbsp;<span class="num" id="6646954">0</span><span class="op" id="6646955">;</span>&nbsp;<span class="ident" id="6646957">i</span>&nbsp;<span class="op" id="6646959">&lt;</span>&nbsp;<span class="ident" id="6646961">c</span><span class="op" id="6646962">.</span><span class="ident" id="6646963">n</span><span class="op" id="6646964">;</span>&nbsp;<span class="ident" id="6646966">i</span><span class="op" id="6646967">++</span>&nbsp;<span class="op" id="6646970">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646974">for</span>&nbsp;<span class="ident" id="6646978">j</span>&nbsp;<span class="op" id="6646980">:=</span>&nbsp;<span class="num" id="6646983">0</span><span class="op" id="6646984">;</span>&nbsp;<span class="ident" id="6646986">j</span>&nbsp;<span class="op" id="6646988">&lt;</span>&nbsp;<span class="ident" id="6646990">c</span><span class="op" id="6646991">.</span><span class="ident" id="6646992">m</span><span class="op" id="6646993">;</span>&nbsp;<span class="ident" id="6646995">j</span><span class="op" id="6646996">++</span>&nbsp;<span class="op" id="6646999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647004">x</span>&nbsp;<span class="op" id="6647006">:=</span>&nbsp;<span class="ident" id="6647009">NewRat</span><span class="op" id="6647015">(</span><span class="num" id="6647016">0</span><span class="op" id="6647017">,</span>&nbsp;<span class="num" id="6647019">1</span><span class="op" id="6647020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647025">for</span>&nbsp;<span class="ident" id="6647029">k</span>&nbsp;<span class="op" id="6647031">:=</span>&nbsp;<span class="num" id="6647034">0</span><span class="op" id="6647035">;</span>&nbsp;<span class="ident" id="6647037">k</span>&nbsp;<span class="op" id="6647039">&lt;</span>&nbsp;<span class="ident" id="6647041">a</span><span class="op" id="6647042">.</span><span class="ident" id="6647043">m</span><span class="op" id="6647044">;</span>&nbsp;<span class="ident" id="6647046">k</span><span class="op" id="6647047">++</span>&nbsp;<span class="op" id="6647050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647056">x</span><span class="op" id="6647057">.</span><span class="ident" id="6647058">Add</span><span class="op" id="6647061">(</span><span class="ident" id="6647062">x</span><span class="op" id="6647063">,</span>&nbsp;<span class="builtinfunc" id="6647065">new</span><span class="op" id="6647068">(</span><span class="ident" id="6647069">Rat</span><span class="op" id="6647072">)</span><span class="op" id="6647073">.</span><span class="ident" id="6647074">Mul</span><span class="op" id="6647077">(</span><span class="ident" id="6647078">a</span><span class="op" id="6647079">.</span><span class="ident" id="6647080">at</span><span class="op" id="6647082">(</span><span class="ident" id="6647083">i</span><span class="op" id="6647084">,</span>&nbsp;<span class="ident" id="6647086">k</span><span class="op" id="6647087">)</span><span class="op" id="6647088">,</span>&nbsp;<span class="ident" id="6647090">b</span><span class="op" id="6647091">.</span><span class="ident" id="6647092">at</span><span class="op" id="6647094">(</span><span class="ident" id="6647095">k</span><span class="op" id="6647096">,</span>&nbsp;<span class="ident" id="6647098">j</span><span class="op" id="6647099">)</span><span class="op" id="6647100">)</span><span class="op" id="6647101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647106">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647111">c</span><span class="op" id="6647112">.</span><span class="ident" id="6647113">set</span><span class="op" id="6647116">(</span><span class="ident" id="6647117">i</span><span class="op" id="6647118">,</span>&nbsp;<span class="ident" id="6647120">j</span><span class="op" id="6647121">,</span>&nbsp;<span class="ident" id="6647123">x</span><span class="op" id="6647124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647134">return</span>&nbsp;<span class="ident" id="6647141">c</span><br>
<span class="lineno"></span><span class="op" id="6647143">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="6647146">func</span>&nbsp;<span class="op" id="6647151">(</span><span class="ident" id="6647152">a</span>&nbsp;<span class="op" id="6647154">*</span><span class="ident" id="6647155">matrix</span><span class="op" id="6647161">)</span>&nbsp;<span class="ident" id="6647163">eql</span><span class="op" id="6647166">(</span><span class="ident" id="6647167">b</span>&nbsp;<span class="op" id="6647169">*</span><span class="ident" id="6647170">matrix</span><span class="op" id="6647176">)</span>&nbsp;<span class="builtintype" id="6647178">bool</span>&nbsp;<span class="op" id="6647183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647186">if</span>&nbsp;<span class="ident" id="6647189">a</span><span class="op" id="6647190">.</span><span class="ident" id="6647191">n</span>&nbsp;<span class="op" id="6647193">!=</span>&nbsp;<span class="ident" id="6647196">b</span><span class="op" id="6647197">.</span><span class="ident" id="6647198">n</span>&nbsp;<span class="op" id="6647200">||</span>&nbsp;<span class="ident" id="6647203">a</span><span class="op" id="6647204">.</span><span class="ident" id="6647205">m</span>&nbsp;<span class="op" id="6647207">!=</span>&nbsp;<span class="ident" id="6647210">b</span><span class="op" id="6647211">.</span><span class="ident" id="6647212">m</span>&nbsp;<span class="op" id="6647214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647218">return</span>&nbsp;<span class="builtintype" id="6647225">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647232">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647235">for</span>&nbsp;<span class="ident" id="6647239">i</span>&nbsp;<span class="op" id="6647241">:=</span>&nbsp;<span class="num" id="6647244">0</span><span class="op" id="6647245">;</span>&nbsp;<span class="ident" id="6647247">i</span>&nbsp;<span class="op" id="6647249">&lt;</span>&nbsp;<span class="ident" id="6647251">a</span><span class="op" id="6647252">.</span><span class="ident" id="6647253">n</span><span class="op" id="6647254">;</span>&nbsp;<span class="ident" id="6647256">i</span><span class="op" id="6647257">++</span>&nbsp;<span class="op" id="6647260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647264">for</span>&nbsp;<span class="ident" id="6647268">j</span>&nbsp;<span class="op" id="6647270">:=</span>&nbsp;<span class="num" id="6647273">0</span><span class="op" id="6647274">;</span>&nbsp;<span class="ident" id="6647276">j</span>&nbsp;<span class="op" id="6647278">&lt;</span>&nbsp;<span class="ident" id="6647280">a</span><span class="op" id="6647281">.</span><span class="ident" id="6647282">m</span><span class="op" id="6647283">;</span>&nbsp;<span class="ident" id="6647285">j</span><span class="op" id="6647286">++</span>&nbsp;<span class="op" id="6647289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647294">if</span>&nbsp;<span class="ident" id="6647297">a</span><span class="op" id="6647298">.</span><span class="ident" id="6647299">at</span><span class="op" id="6647301">(</span><span class="ident" id="6647302">i</span><span class="op" id="6647303">,</span>&nbsp;<span class="ident" id="6647305">j</span><span class="op" id="6647306">)</span><span class="op" id="6647307">.</span><span class="ident" id="6647308">Cmp</span><span class="op" id="6647311">(</span><span class="ident" id="6647312">b</span><span class="op" id="6647313">.</span><span class="ident" id="6647314">at</span><span class="op" id="6647316">(</span><span class="ident" id="6647317">i</span><span class="op" id="6647318">,</span>&nbsp;<span class="ident" id="6647320">j</span><span class="op" id="6647321">)</span><span class="op" id="6647322">)</span>&nbsp;<span class="op" id="6647324">!=</span>&nbsp;<span class="num" id="6647327">0</span>&nbsp;<span class="op" id="6647329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647335">return</span>&nbsp;<span class="builtintype" id="6647342">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647351">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647361">return</span>&nbsp;<span class="builtintype" id="6647368">true</span><br>
<span class="lineno"></span><span class="op" id="6647373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6647376">func</span>&nbsp;<span class="op" id="6647381">(</span><span class="ident" id="6647382">a</span>&nbsp;<span class="op" id="6647384">*</span><span class="ident" id="6647385">matrix</span><span class="op" id="6647391">)</span>&nbsp;<span class="ident" id="6647393">String</span><span class="op" id="6647399">(</span><span class="op" id="6647400">)</span>&nbsp;<span class="builtintype" id="6647402">string</span>&nbsp;<span class="op" id="6647409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647412">s</span>&nbsp;<span class="op" id="6647414">:=</span>&nbsp;<span class="string" id="6647417">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647421">for</span>&nbsp;<span class="ident" id="6647425">i</span>&nbsp;<span class="op" id="6647427">:=</span>&nbsp;<span class="num" id="6647430">0</span><span class="op" id="6647431">;</span>&nbsp;<span class="ident" id="6647433">i</span>&nbsp;<span class="op" id="6647435">&lt;</span>&nbsp;<span class="ident" id="6647437">a</span><span class="op" id="6647438">.</span><span class="ident" id="6647439">n</span><span class="op" id="6647440">;</span>&nbsp;<span class="ident" id="6647442">i</span><span class="op" id="6647443">++</span>&nbsp;<span class="op" id="6647446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647450">for</span>&nbsp;<span class="ident" id="6647454">j</span>&nbsp;<span class="op" id="6647456">:=</span>&nbsp;<span class="num" id="6647459">0</span><span class="op" id="6647460">;</span>&nbsp;<span class="ident" id="6647462">j</span>&nbsp;<span class="op" id="6647464">&lt;</span>&nbsp;<span class="ident" id="6647466">a</span><span class="op" id="6647467">.</span><span class="ident" id="6647468">m</span><span class="op" id="6647469">;</span>&nbsp;<span class="ident" id="6647471">j</span><span class="op" id="6647472">++</span>&nbsp;<span class="op" id="6647475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647480">s</span>&nbsp;<span class="op" id="6647482">+=</span>&nbsp;<span class="ident" id="6647485">fmt</span><span class="op" id="6647488">.</span><span class="ident" id="6647489">Sprintf</span><span class="op" id="6647496">(</span><span class="string" id="6647497">&#34;\t%s&#34;</span><span class="op" id="6647503">,</span>&nbsp;<span class="ident" id="6647505">a</span><span class="op" id="6647506">.</span><span class="ident" id="6647507">at</span><span class="op" id="6647509">(</span><span class="ident" id="6647510">i</span><span class="op" id="6647511">,</span>&nbsp;<span class="ident" id="6647513">j</span><span class="op" id="6647514">)</span><span class="op" id="6647515">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647523">s</span>&nbsp;<span class="op" id="6647525">+=</span>&nbsp;<span class="string" id="6647528">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647537">return</span>&nbsp;<span class="ident" id="6647544">s</span><br>
<span class="lineno"></span><span class="op" id="6647546">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="6647549">func</span>&nbsp;<span class="ident" id="6647554">doHilbert</span><span class="op" id="6647563">(</span><span class="ident" id="6647564">t</span>&nbsp;<span class="op" id="6647566">*</span><span class="ident" id="6647567">testing</span><span class="op" id="6647574">.</span><span class="ident" id="6647575">T</span><span class="op" id="6647576">,</span>&nbsp;<span class="ident" id="6647578">n</span>&nbsp;<span class="builtintype" id="6647580">int</span><span class="op" id="6647583">)</span>&nbsp;<span class="op" id="6647585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647588">a</span>&nbsp;<span class="op" id="6647590">:=</span>&nbsp;<span class="ident" id="6647593">newHilbert</span><span class="op" id="6647603">(</span><span class="ident" id="6647604">n</span><span class="op" id="6647605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647608">b</span>&nbsp;<span class="op" id="6647610">:=</span>&nbsp;<span class="ident" id="6647613">newInverseHilbert</span><span class="op" id="6647630">(</span><span class="ident" id="6647631">n</span><span class="op" id="6647632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647635">I</span>&nbsp;<span class="op" id="6647637">:=</span>&nbsp;<span class="ident" id="6647640">newUnit</span><span class="op" id="6647647">(</span><span class="ident" id="6647648">n</span><span class="op" id="6647649">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647652">ab</span>&nbsp;<span class="op" id="6647655">:=</span>&nbsp;<span class="ident" id="6647658">a</span><span class="op" id="6647659">.</span><span class="ident" id="6647660">mul</span><span class="op" id="6647663">(</span><span class="ident" id="6647664">b</span><span class="op" id="6647665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647668">if</span>&nbsp;<span class="op" id="6647671">!</span><span class="ident" id="6647672">ab</span><span class="op" id="6647674">.</span><span class="ident" id="6647675">eql</span><span class="op" id="6647678">(</span><span class="ident" id="6647679">I</span><span class="op" id="6647680">)</span>&nbsp;<span class="op" id="6647682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647686">if</span>&nbsp;<span class="ident" id="6647689">t</span>&nbsp;<span class="op" id="6647691">==</span>&nbsp;<span class="ident" id="6647694">nil</span>&nbsp;<span class="op" id="6647698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6647703">panic</span><span class="op" id="6647708">(</span><span class="string" id="6647709">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="6647725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647729">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647733">t</span><span class="op" id="6647734">.</span><span class="ident" id="6647735">Errorf</span><span class="op" id="6647741">(</span><span class="string" id="6647742">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6647754">,</span>&nbsp;<span class="ident" id="6647756">a</span><span class="op" id="6647757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647761">t</span><span class="op" id="6647762">.</span><span class="ident" id="6647763">Errorf</span><span class="op" id="6647769">(</span><span class="string" id="6647770">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6647782">,</span>&nbsp;<span class="ident" id="6647784">b</span><span class="op" id="6647785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647789">t</span><span class="op" id="6647790">.</span><span class="ident" id="6647791">Errorf</span><span class="op" id="6647797">(</span><span class="string" id="6647798">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6647810">,</span>&nbsp;<span class="ident" id="6647812">ab</span><span class="op" id="6647814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647818">t</span><span class="op" id="6647819">.</span><span class="ident" id="6647820">Errorf</span><span class="op" id="6647826">(</span><span class="string" id="6647827">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6647839">,</span>&nbsp;<span class="ident" id="6647841">I</span><span class="op" id="6647842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647845">}</span><br>
<span class="lineno">150</span><span class="op" id="6647847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6647850">func</span>&nbsp;<span class="ident" id="6647855">TestHilbert</span><span class="op" id="6647866">(</span><span class="ident" id="6647867">t</span>&nbsp;<span class="op" id="6647869">*</span><span class="ident" id="6647870">testing</span><span class="op" id="6647877">.</span><span class="ident" id="6647878">T</span><span class="op" id="6647879">)</span>&nbsp;<span class="op" id="6647881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647884">doHilbert</span><span class="op" id="6647893">(</span><span class="ident" id="6647894">t</span><span class="op" id="6647895">,</span>&nbsp;<span class="num" id="6647897">10</span><span class="op" id="6647899">)</span><br>
<span class="lineno"></span><span class="op" id="6647901">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="6647904">func</span>&nbsp;<span class="ident" id="6647909">BenchmarkHilbert</span><span class="op" id="6647925">(</span><span class="ident" id="6647926">b</span>&nbsp;<span class="op" id="6647928">*</span><span class="ident" id="6647929">testing</span><span class="op" id="6647936">.</span><span class="ident" id="6647937">B</span><span class="op" id="6647938">)</span>&nbsp;<span class="op" id="6647940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647943">for</span>&nbsp;<span class="ident" id="6647947">i</span>&nbsp;<span class="op" id="6647949">:=</span>&nbsp;<span class="num" id="6647952">0</span><span class="op" id="6647953">;</span>&nbsp;<span class="ident" id="6647955">i</span>&nbsp;<span class="op" id="6647957">&lt;</span>&nbsp;<span class="ident" id="6647959">b</span><span class="op" id="6647960">.</span><span class="ident" id="6647961">N</span><span class="op" id="6647962">;</span>&nbsp;<span class="ident" id="6647964">i</span><span class="op" id="6647965">++</span>&nbsp;<span class="op" id="6647968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647972">doHilbert</span><span class="op" id="6647981">(</span><span class="ident" id="6647982">nil</span><span class="op" id="6647985">,</span>&nbsp;<span class="num" id="6647987">10</span><span class="op" id="6647989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647992">}</span><br>
<span class="lineno">160</span><span class="op" id="6647994">}</span>
</div>
</body>
</html>
