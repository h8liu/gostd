<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2789390">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2789446">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2789500">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2789551">package</span>&nbsp;<span class="ident" id="2789559">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2789566">import</span>&nbsp;<span class="op" id="2789573">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2789576">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2789583">&#34;strconv&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2789593">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2789596">//&nbsp;Parse&nbsp;the&nbsp;type&nbsp;units&nbsp;stored&nbsp;in&nbsp;a&nbsp;DWARF4&nbsp;.debug_types&nbsp;section.&nbsp;&nbsp;Each</span><br>
<span class="lineno"></span><span class="comment" id="2789667">//&nbsp;type&nbsp;unit&nbsp;defines&nbsp;a&nbsp;single&nbsp;primary&nbsp;type&nbsp;and&nbsp;an&nbsp;8-byte&nbsp;signature.</span><br>
<span class="lineno"></span><span class="comment" id="2789735">//&nbsp;Other&nbsp;sections&nbsp;may&nbsp;then&nbsp;use&nbsp;formRefSig8&nbsp;to&nbsp;refer&nbsp;to&nbsp;the&nbsp;type.</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2789801">//&nbsp;The&nbsp;typeUnit&nbsp;format&nbsp;is&nbsp;a&nbsp;single&nbsp;type&nbsp;with&nbsp;a&nbsp;signature.&nbsp;&nbsp;It&nbsp;holds</span><br>
<span class="lineno"></span><span class="comment" id="2789869">//&nbsp;the&nbsp;same&nbsp;data&nbsp;as&nbsp;a&nbsp;compilation&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="2789909">type</span>&nbsp;<span class="ident" id="2789914">typeUnit</span>&nbsp;<span class="keyword" id="2789923">struct</span>&nbsp;<span class="op" id="2789930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2789933"><a href="/debug/dwarf/unit.go.html#2793498">unit</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2789939">toff</span>&nbsp;&nbsp;<span class="ident" id="2789945"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span>&nbsp;<span class="comment" id="2789952">//&nbsp;Offset&nbsp;to&nbsp;signature&nbsp;type&nbsp;within&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2789994">name</span>&nbsp;&nbsp;<span class="builtintype" id="2790000">string</span>&nbsp;<span class="comment" id="2790007">//&nbsp;Name&nbsp;of&nbsp;.debug_type&nbsp;section.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790040">cache</span>&nbsp;<span class="ident" id="2790046"><a href="/debug/dwarf/type.go.html#2773119">Type</a></span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2790053">//&nbsp;Cache&nbsp;the&nbsp;type,&nbsp;nil&nbsp;to&nbsp;start.</span><br>
<span class="lineno"></span><span class="op" id="2790086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2790089">//&nbsp;Parse&nbsp;a&nbsp;.debug_types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="2790122">func</span>&nbsp;<span class="op" id="2790127">(</span><span class="ident" id="2790128">d</span>&nbsp;<span class="op" id="2790130">*</span><span class="ident" id="2790131"><a href="/debug/dwarf/open.go.html#2770502">Data</a></span><span class="op" id="2790135">)</span>&nbsp;<span class="ident" id="2790137">parseTypes</span><span class="op" id="2790147">(</span><span class="ident" id="2790148">name</span>&nbsp;<span class="builtintype" id="2790153">string</span><span class="op" id="2790159">,</span>&nbsp;<span class="ident" id="2790161">types</span>&nbsp;<span class="op" id="2790167">[</span><span class="op" id="2790168">]</span><span class="builtintype" id="2790169">byte</span><span class="op" id="2790173">)</span>&nbsp;<span class="builtintype" id="2790175">error</span>&nbsp;<span class="op" id="2790181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790184">b</span>&nbsp;<span class="op" id="2790186">:=</span>&nbsp;<span class="ident" id="2790189"><a href="/debug/dwarf/buf.go.html#2743672">makeBuf</a></span><span class="op" id="2790196">(</span><span class="ident" id="2790197"><a href="/debug/dwarf/typeunit.go.html#2790128">d</a></span><span class="op" id="2790198">,</span>&nbsp;<span class="ident" id="2790200"><a href="/debug/dwarf/buf.go.html#2743466">unknownFormat</a></span><span class="op" id="2790213">{</span><span class="op" id="2790214">}</span><span class="op" id="2790215">,</span>&nbsp;<span class="ident" id="2790217"><a href="/debug/dwarf/typeunit.go.html#2790148">name</a></span><span class="op" id="2790221">,</span>&nbsp;<span class="num" id="2790223">0</span><span class="op" id="2790224">,</span>&nbsp;<span class="ident" id="2790226"><a href="/debug/dwarf/typeunit.go.html#2790161">types</a></span><span class="op" id="2790231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790234">for</span>&nbsp;<span class="builtinfunc" id="2790238">len</span><span class="op" id="2790241">(</span><span class="ident" id="2790242"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790243">.</span><span class="ident" id="2790244">data</span><span class="op" id="2790248">)</span>&nbsp;<span class="op" id="2790250">&gt;</span>&nbsp;<span class="num" id="2790252">0</span>&nbsp;<span class="op" id="2790254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790258">base</span>&nbsp;<span class="op" id="2790263">:=</span>&nbsp;<span class="ident" id="2790266"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790267">.</span><span class="ident" id="2790268">off</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790274">dwarf64</span>&nbsp;<span class="op" id="2790282">:=</span>&nbsp;<span class="builtintype" id="2790285">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790293">n</span>&nbsp;<span class="op" id="2790295">:=</span>&nbsp;<span class="ident" id="2790298"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790299">.</span><span class="builtintype" id="2790300">uint32</span><span class="op" id="2790306">(</span><span class="op" id="2790307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790311">if</span>&nbsp;<span class="ident" id="2790314"><a href="/debug/dwarf/typeunit.go.html#2790293">n</a></span>&nbsp;<span class="op" id="2790316">==</span>&nbsp;<span class="num" id="2790319">0xffffffff</span>&nbsp;<span class="op" id="2790330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790335">n64</span>&nbsp;<span class="op" id="2790339">:=</span>&nbsp;<span class="ident" id="2790342"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790343">.</span><span class="ident" id="2790344">uint64</span><span class="op" id="2790350">(</span><span class="op" id="2790351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790356">if</span>&nbsp;<span class="ident" id="2790359"><a href="/debug/dwarf/typeunit.go.html#2790335">n64</a></span>&nbsp;<span class="op" id="2790363">!=</span>&nbsp;<span class="ident" id="2790366">uint64</span><span class="op" id="2790372">(</span><span class="builtintype" id="2790373">uint32</span><span class="op" id="2790379">(</span><span class="ident" id="2790380"><a href="/debug/dwarf/typeunit.go.html#2790335">n64</a></span><span class="op" id="2790383">)</span><span class="op" id="2790384">)</span>&nbsp;<span class="op" id="2790386">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790392"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790393">.</span><span class="builtintype" id="2790394">error</span><span class="op" id="2790399">(</span><span class="string" id="2790400">&#34;type&nbsp;unit&nbsp;length&nbsp;overflow&#34;</span><span class="op" id="2790427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790433">return</span>&nbsp;<span class="ident" id="2790440"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790441">.</span><span class="ident" id="2790442">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2790449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790454"><a href="/debug/dwarf/typeunit.go.html#2790293">n</a></span>&nbsp;<span class="op" id="2790456">=</span>&nbsp;<span class="builtintype" id="2790458">uint32</span><span class="op" id="2790464">(</span><span class="ident" id="2790465"><a href="/debug/dwarf/typeunit.go.html#2790335">n64</a></span><span class="op" id="2790468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790473"><a href="/debug/dwarf/typeunit.go.html#2790274">dwarf64</a></span>&nbsp;<span class="op" id="2790481">=</span>&nbsp;<span class="builtintype" id="2790483">true</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2790490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790494">hdroff</span>&nbsp;<span class="op" id="2790501">:=</span>&nbsp;<span class="ident" id="2790504"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790505">.</span><span class="ident" id="2790506">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790512">vers</span>&nbsp;<span class="op" id="2790517">:=</span>&nbsp;<span class="ident" id="2790520"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790521">.</span><span class="builtintype" id="2790522">uint16</span><span class="op" id="2790528">(</span><span class="op" id="2790529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790533">if</span>&nbsp;<span class="ident" id="2790536"><a href="/debug/dwarf/typeunit.go.html#2790512">vers</a></span>&nbsp;<span class="op" id="2790541">!=</span>&nbsp;<span class="num" id="2790544">4</span>&nbsp;<span class="op" id="2790546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790551"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790552">.</span><span class="builtintype" id="2790553">error</span><span class="op" id="2790558">(</span><span class="string" id="2790559">&#34;unsupported&nbsp;DWARF&nbsp;version&nbsp;&#34;</span>&nbsp;<span class="op" id="2790588">+</span>&nbsp;<span class="ident" id="2790590"><a href="/debug/dwarf/typeunit.go.html#2789583">strconv</a></span><span class="op" id="2790597">.</span><span class="ident" id="2790598">Itoa</span><span class="op" id="2790602">(</span><span class="builtintype" id="2790603">int</span><span class="op" id="2790606">(</span><span class="ident" id="2790607"><a href="/debug/dwarf/typeunit.go.html#2790512">vers</a></span><span class="op" id="2790611">)</span><span class="op" id="2790612">)</span><span class="op" id="2790613">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790618">return</span>&nbsp;<span class="ident" id="2790625"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790626">.</span><span class="ident" id="2790627">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2790633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790637">var</span>&nbsp;<span class="ident" id="2790641">ao</span>&nbsp;<span class="builtintype" id="2790644">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790653">if</span>&nbsp;<span class="op" id="2790656">!</span><span class="ident" id="2790657"><a href="/debug/dwarf/typeunit.go.html#2790274">dwarf64</a></span>&nbsp;<span class="op" id="2790665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790670"><a href="/debug/dwarf/typeunit.go.html#2790641">ao</a></span>&nbsp;<span class="op" id="2790673">=</span>&nbsp;<span class="ident" id="2790675"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790676">.</span><span class="builtintype" id="2790677">uint32</span><span class="op" id="2790683">(</span><span class="op" id="2790684">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2790688">}</span>&nbsp;<span class="keyword" id="2790690">else</span>&nbsp;<span class="op" id="2790695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790700">ao64</span>&nbsp;<span class="op" id="2790705">:=</span>&nbsp;<span class="ident" id="2790708"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790709">.</span><span class="ident" id="2790710">uint64</span><span class="op" id="2790716">(</span><span class="op" id="2790717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790722">if</span>&nbsp;<span class="ident" id="2790725"><a href="/debug/dwarf/typeunit.go.html#2790700">ao64</a></span>&nbsp;<span class="op" id="2790730">!=</span>&nbsp;<span class="ident" id="2790733">uint64</span><span class="op" id="2790739">(</span><span class="builtintype" id="2790740">uint32</span><span class="op" id="2790746">(</span><span class="ident" id="2790747"><a href="/debug/dwarf/typeunit.go.html#2790700">ao64</a></span><span class="op" id="2790751">)</span><span class="op" id="2790752">)</span>&nbsp;<span class="op" id="2790754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790760"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790761">.</span><span class="builtintype" id="2790762">error</span><span class="op" id="2790767">(</span><span class="string" id="2790768">&#34;type&nbsp;unit&nbsp;abbrev&nbsp;offset&nbsp;overflow&#34;</span><span class="op" id="2790802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790808">return</span>&nbsp;<span class="ident" id="2790815"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790816">.</span><span class="ident" id="2790817">err</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2790824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790829"><a href="/debug/dwarf/typeunit.go.html#2790641">ao</a></span>&nbsp;<span class="op" id="2790832">=</span>&nbsp;<span class="builtintype" id="2790834">uint32</span><span class="op" id="2790840">(</span><span class="ident" id="2790841"><a href="/debug/dwarf/typeunit.go.html#2790700">ao64</a></span><span class="op" id="2790845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2790849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790853">atable</span><span class="op" id="2790859">,</span>&nbsp;<span class="ident" id="2790861">err</span>&nbsp;<span class="op" id="2790865">:=</span>&nbsp;<span class="ident" id="2790868"><a href="/debug/dwarf/typeunit.go.html#2790128">d</a></span><span class="op" id="2790869">.</span><span class="ident" id="2790870">parseAbbrev</span><span class="op" id="2790881">(</span><span class="ident" id="2790882"><a href="/debug/dwarf/typeunit.go.html#2790641">ao</a></span><span class="op" id="2790884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790888">if</span>&nbsp;<span class="ident" id="2790891"><a href="/debug/dwarf/typeunit.go.html#2790861">err</a></span>&nbsp;<span class="op" id="2790895">!=</span>&nbsp;<span class="ident" id="2790898">nil</span>&nbsp;<span class="op" id="2790902">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790907">return</span>&nbsp;<span class="ident" id="2790914"><a href="/debug/dwarf/typeunit.go.html#2790861">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2790920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790924">asize</span>&nbsp;<span class="op" id="2790930">:=</span>&nbsp;<span class="ident" id="2790933"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790934">.</span><span class="builtintype" id="2790935">uint8</span><span class="op" id="2790940">(</span><span class="op" id="2790941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2790945">sig</span>&nbsp;<span class="op" id="2790949">:=</span>&nbsp;<span class="ident" id="2790952"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2790953">.</span><span class="ident" id="2790954">uint64</span><span class="op" id="2790960">(</span><span class="op" id="2790961">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790966">var</span>&nbsp;<span class="ident" id="2790970">toff</span>&nbsp;<span class="builtintype" id="2790975">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2790984">if</span>&nbsp;<span class="op" id="2790987">!</span><span class="ident" id="2790988"><a href="/debug/dwarf/typeunit.go.html#2790274">dwarf64</a></span>&nbsp;<span class="op" id="2790996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791001"><a href="/debug/dwarf/typeunit.go.html#2790970">toff</a></span>&nbsp;<span class="op" id="2791006">=</span>&nbsp;<span class="ident" id="2791008"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791009">.</span><span class="builtintype" id="2791010">uint32</span><span class="op" id="2791016">(</span><span class="op" id="2791017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791021">}</span>&nbsp;<span class="keyword" id="2791023">else</span>&nbsp;<span class="op" id="2791028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791033">to64</span>&nbsp;<span class="op" id="2791038">:=</span>&nbsp;<span class="ident" id="2791041"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791042">.</span><span class="ident" id="2791043">uint64</span><span class="op" id="2791049">(</span><span class="op" id="2791050">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791055">if</span>&nbsp;<span class="ident" id="2791058"><a href="/debug/dwarf/typeunit.go.html#2791033">to64</a></span>&nbsp;<span class="op" id="2791063">!=</span>&nbsp;<span class="ident" id="2791066">uint64</span><span class="op" id="2791072">(</span><span class="builtintype" id="2791073">uint32</span><span class="op" id="2791079">(</span><span class="ident" id="2791080"><a href="/debug/dwarf/typeunit.go.html#2791033">to64</a></span><span class="op" id="2791084">)</span><span class="op" id="2791085">)</span>&nbsp;<span class="op" id="2791087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791093"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791094">.</span><span class="builtintype" id="2791095">error</span><span class="op" id="2791100">(</span><span class="string" id="2791101">&#34;type&nbsp;unit&nbsp;type&nbsp;offset&nbsp;overflow&#34;</span><span class="op" id="2791133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791139">return</span>&nbsp;<span class="ident" id="2791146"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791147">.</span><span class="ident" id="2791148">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791160"><a href="/debug/dwarf/typeunit.go.html#2790970">toff</a></span>&nbsp;<span class="op" id="2791165">=</span>&nbsp;<span class="builtintype" id="2791167">uint32</span><span class="op" id="2791173">(</span><span class="ident" id="2791174"><a href="/debug/dwarf/typeunit.go.html#2791033">to64</a></span><span class="op" id="2791178">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791187">boff</span>&nbsp;<span class="op" id="2791192">:=</span>&nbsp;<span class="ident" id="2791195"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791196">.</span><span class="ident" id="2791197">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791203"><a href="/debug/dwarf/typeunit.go.html#2790128">d</a></span><span class="op" id="2791204">.</span><span class="ident" id="2791205">typeSigs</span><span class="op" id="2791213">[</span><span class="ident" id="2791214"><a href="/debug/dwarf/typeunit.go.html#2790945">sig</a></span><span class="op" id="2791217">]</span>&nbsp;<span class="op" id="2791219">=</span>&nbsp;<span class="op" id="2791221">&amp;</span><span class="ident" id="2791222"><a href="/debug/dwarf/typeunit.go.html#2789914">typeUnit</a></span><span class="op" id="2791230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791235">unit</span><span class="op" id="2791239">:</span>&nbsp;<span class="ident" id="2791241"><a href="/debug/dwarf/unit.go.html#2793498">unit</a></span><span class="op" id="2791245">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791251">base</span><span class="op" id="2791255">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2791259"><a href="/debug/dwarf/typeunit.go.html#2790258">base</a></span><span class="op" id="2791263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791269">off</span><span class="op" id="2791272">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791277"><a href="/debug/dwarf/typeunit.go.html#2791187">boff</a></span><span class="op" id="2791281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791287">data</span><span class="op" id="2791291">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2791295"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791296">.</span><span class="ident" id="2791297">bytes</span><span class="op" id="2791302">(</span><span class="builtintype" id="2791303">int</span><span class="op" id="2791306">(</span><span class="ident" id="2791307"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span><span class="op" id="2791313">(</span><span class="ident" id="2791314"><a href="/debug/dwarf/typeunit.go.html#2790293">n</a></span><span class="op" id="2791315">)</span>&nbsp;<span class="op" id="2791317">-</span>&nbsp;<span class="op" id="2791319">(</span><span class="ident" id="2791320"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791321">.</span><span class="ident" id="2791322">off</span>&nbsp;<span class="op" id="2791326">-</span>&nbsp;<span class="ident" id="2791328"><a href="/debug/dwarf/typeunit.go.html#2790494">hdroff</a></span><span class="op" id="2791334">)</span><span class="op" id="2791335">)</span><span class="op" id="2791336">)</span><span class="op" id="2791337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791343">atable</span><span class="op" id="2791349">:</span>&nbsp;<span class="ident" id="2791351"><a href="/debug/dwarf/typeunit.go.html#2790853">atable</a></span><span class="op" id="2791357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791363">asize</span><span class="op" id="2791368">:</span>&nbsp;&nbsp;<span class="builtintype" id="2791371">int</span><span class="op" id="2791374">(</span><span class="ident" id="2791375"><a href="/debug/dwarf/typeunit.go.html#2790924">asize</a></span><span class="op" id="2791380">)</span><span class="op" id="2791381">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791387">vers</span><span class="op" id="2791391">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2791395">int</span><span class="op" id="2791398">(</span><span class="ident" id="2791399"><a href="/debug/dwarf/typeunit.go.html#2790512">vers</a></span><span class="op" id="2791403">)</span><span class="op" id="2791404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791410">is64</span><span class="op" id="2791414">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2791418"><a href="/debug/dwarf/typeunit.go.html#2790274">dwarf64</a></span><span class="op" id="2791425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791430">}</span><span class="op" id="2791431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791436">toff</span><span class="op" id="2791440">:</span>&nbsp;<span class="ident" id="2791442"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span><span class="op" id="2791448">(</span><span class="ident" id="2791449"><a href="/debug/dwarf/typeunit.go.html#2790970">toff</a></span><span class="op" id="2791453">)</span><span class="op" id="2791454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791459">name</span><span class="op" id="2791463">:</span>&nbsp;<span class="ident" id="2791465"><a href="/debug/dwarf/typeunit.go.html#2790148">name</a></span><span class="op" id="2791469">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791477">if</span>&nbsp;<span class="ident" id="2791480"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791481">.</span><span class="ident" id="2791482">err</span>&nbsp;<span class="op" id="2791486">!=</span>&nbsp;<span class="ident" id="2791489">nil</span>&nbsp;<span class="op" id="2791493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791498">return</span>&nbsp;<span class="ident" id="2791505"><a href="/debug/dwarf/typeunit.go.html#2790184">b</a></span><span class="op" id="2791506">.</span><span class="ident" id="2791507">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791516">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791519">return</span>&nbsp;<span class="ident" id="2791526">nil</span><br>
<span class="lineno"></span><span class="op" id="2791530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2791533">//&nbsp;Return&nbsp;the&nbsp;type&nbsp;for&nbsp;a&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span><span class="keyword" id="2791574">func</span>&nbsp;<span class="op" id="2791579">(</span><span class="ident" id="2791580">d</span>&nbsp;<span class="op" id="2791582">*</span><span class="ident" id="2791583"><a href="/debug/dwarf/open.go.html#2770502">Data</a></span><span class="op" id="2791587">)</span>&nbsp;<span class="ident" id="2791589">sigToType</span><span class="op" id="2791598">(</span><span class="ident" id="2791599">sig</span>&nbsp;<span class="ident" id="2791603">uint64</span><span class="op" id="2791609">)</span>&nbsp;<span class="op" id="2791611">(</span><span class="ident" id="2791612"><a href="/debug/dwarf/type.go.html#2773119">Type</a></span><span class="op" id="2791616">,</span>&nbsp;<span class="builtintype" id="2791618">error</span><span class="op" id="2791623">)</span>&nbsp;<span class="op" id="2791625">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791628">tu</span>&nbsp;<span class="op" id="2791631">:=</span>&nbsp;<span class="ident" id="2791634"><a href="/debug/dwarf/typeunit.go.html#2791580">d</a></span><span class="op" id="2791635">.</span><span class="ident" id="2791636">typeSigs</span><span class="op" id="2791644">[</span><span class="ident" id="2791645"><a href="/debug/dwarf/typeunit.go.html#2791599">sig</a></span><span class="op" id="2791648">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791651">if</span>&nbsp;<span class="ident" id="2791654"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span>&nbsp;<span class="op" id="2791657">==</span>&nbsp;<span class="ident" id="2791660">nil</span>&nbsp;<span class="op" id="2791664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791668">return</span>&nbsp;<span class="ident" id="2791675">nil</span><span class="op" id="2791678">,</span>&nbsp;<span class="ident" id="2791680"><a href="/debug/dwarf/typeunit.go.html#2789576">fmt</a></span><span class="op" id="2791683">.</span><span class="ident" id="2791684">Errorf</span><span class="op" id="2791690">(</span><span class="string" id="2791691">&#34;no&nbsp;type&nbsp;unit&nbsp;with&nbsp;signature&nbsp;%v&#34;</span><span class="op" id="2791723">,</span>&nbsp;<span class="ident" id="2791725"><a href="/debug/dwarf/typeunit.go.html#2791599">sig</a></span><span class="op" id="2791728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791734">if</span>&nbsp;<span class="ident" id="2791737"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791739">.</span><span class="ident" id="2791740">cache</span>&nbsp;<span class="op" id="2791746">!=</span>&nbsp;<span class="ident" id="2791749">nil</span>&nbsp;<span class="op" id="2791753">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791757">return</span>&nbsp;<span class="ident" id="2791764"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791766">.</span><span class="ident" id="2791767">cache</span><span class="op" id="2791772">,</span>&nbsp;<span class="ident" id="2791774">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791783">b</span>&nbsp;<span class="op" id="2791785">:=</span>&nbsp;<span class="ident" id="2791788"><a href="/debug/dwarf/buf.go.html#2743672">makeBuf</a></span><span class="op" id="2791795">(</span><span class="ident" id="2791796"><a href="/debug/dwarf/typeunit.go.html#2791580">d</a></span><span class="op" id="2791797">,</span>&nbsp;<span class="ident" id="2791799"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791801">,</span>&nbsp;<span class="ident" id="2791803"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791805">.</span><span class="ident" id="2791806">name</span><span class="op" id="2791810">,</span>&nbsp;<span class="ident" id="2791812"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791814">.</span><span class="ident" id="2791815">off</span><span class="op" id="2791818">,</span>&nbsp;<span class="ident" id="2791820"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791822">.</span><span class="ident" id="2791823">data</span><span class="op" id="2791827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791830">r</span>&nbsp;<span class="op" id="2791832">:=</span>&nbsp;<span class="op" id="2791835">&amp;</span><span class="ident" id="2791836"><a href="/debug/dwarf/typeunit.go.html#2792074">typeUnitReader</a></span><span class="op" id="2791850">{</span><span class="ident" id="2791851">d</span><span class="op" id="2791852">:</span>&nbsp;<span class="ident" id="2791854"><a href="/debug/dwarf/typeunit.go.html#2791580">d</a></span><span class="op" id="2791855">,</span>&nbsp;<span class="ident" id="2791857">tu</span><span class="op" id="2791859">:</span>&nbsp;<span class="ident" id="2791861"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791863">,</span>&nbsp;<span class="ident" id="2791865">b</span><span class="op" id="2791866">:</span>&nbsp;<span class="ident" id="2791868"><a href="/debug/dwarf/typeunit.go.html#2791783">b</a></span><span class="op" id="2791869">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791872">t</span><span class="op" id="2791873">,</span>&nbsp;<span class="ident" id="2791875">err</span>&nbsp;<span class="op" id="2791879">:=</span>&nbsp;<span class="ident" id="2791882"><a href="/debug/dwarf/typeunit.go.html#2791580">d</a></span><span class="op" id="2791883">.</span><span class="ident" id="2791884">readType</span><span class="op" id="2791892">(</span><span class="ident" id="2791893"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791895">.</span><span class="ident" id="2791896">name</span><span class="op" id="2791900">,</span>&nbsp;<span class="ident" id="2791902"><a href="/debug/dwarf/typeunit.go.html#2791830">r</a></span><span class="op" id="2791903">,</span>&nbsp;<span class="ident" id="2791905"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span><span class="op" id="2791911">(</span><span class="ident" id="2791912"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791914">.</span><span class="ident" id="2791915">toff</span><span class="op" id="2791919">)</span><span class="op" id="2791920">,</span>&nbsp;<span class="builtinfunc" id="2791922">make</span><span class="op" id="2791926">(</span><span class="keyword" id="2791927">map</span><span class="op" id="2791930">[</span><span class="ident" id="2791931"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span><span class="op" id="2791937">]</span><span class="ident" id="2791938"><a href="/debug/dwarf/type.go.html#2773119">Type</a></span><span class="op" id="2791942">)</span><span class="op" id="2791943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791946">if</span>&nbsp;<span class="ident" id="2791949"><a href="/debug/dwarf/typeunit.go.html#2791875">err</a></span>&nbsp;<span class="op" id="2791953">!=</span>&nbsp;<span class="ident" id="2791956">nil</span>&nbsp;<span class="op" id="2791960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791964">return</span>&nbsp;<span class="ident" id="2791971">nil</span><span class="op" id="2791974">,</span>&nbsp;<span class="ident" id="2791976"><a href="/debug/dwarf/typeunit.go.html#2791875">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2791981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2791985"><a href="/debug/dwarf/typeunit.go.html#2791628">tu</a></span><span class="op" id="2791987">.</span><span class="ident" id="2791988">cache</span>&nbsp;<span class="op" id="2791994">=</span>&nbsp;<span class="ident" id="2791996"><a href="/debug/dwarf/typeunit.go.html#2791872">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2791999">return</span>&nbsp;<span class="ident" id="2792006"><a href="/debug/dwarf/typeunit.go.html#2791872">t</a></span><span class="op" id="2792007">,</span>&nbsp;<span class="ident" id="2792009">nil</span><br>
<span class="lineno"></span><span class="op" id="2792013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2792016">//&nbsp;typeUnitReader&nbsp;is&nbsp;a&nbsp;typeReader&nbsp;for&nbsp;a&nbsp;tagTypeUnit.</span><br>
<span class="lineno">120</span><span class="keyword" id="2792069">type</span>&nbsp;<span class="ident" id="2792074">typeUnitReader</span>&nbsp;<span class="keyword" id="2792089">struct</span>&nbsp;<span class="op" id="2792096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792099">d</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2792103">*</span><span class="ident" id="2792104"><a href="/debug/dwarf/open.go.html#2770502">Data</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792110">tu</span>&nbsp;&nbsp;<span class="op" id="2792114">*</span><span class="ident" id="2792115"><a href="/debug/dwarf/typeunit.go.html#2789914">typeUnit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792125">b</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2792129"><a href="/debug/dwarf/buf.go.html#2742943">buf</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792134">err</span>&nbsp;<span class="builtintype" id="2792138">error</span><br>
<span class="lineno">125</span><span class="op" id="2792144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2792147">//&nbsp;Seek&nbsp;to&nbsp;a&nbsp;new&nbsp;position&nbsp;in&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="2792191">func</span>&nbsp;<span class="op" id="2792196">(</span><span class="ident" id="2792197">tur</span>&nbsp;<span class="op" id="2792201">*</span><span class="ident" id="2792202"><a href="/debug/dwarf/typeunit.go.html#2792074">typeUnitReader</a></span><span class="op" id="2792216">)</span>&nbsp;<span class="ident" id="2792218">Seek</span><span class="op" id="2792222">(</span><span class="ident" id="2792223">off</span>&nbsp;<span class="ident" id="2792227"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span><span class="op" id="2792233">)</span>&nbsp;<span class="op" id="2792235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792238"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792241">.</span><span class="ident" id="2792242">err</span>&nbsp;<span class="op" id="2792246">=</span>&nbsp;<span class="ident" id="2792248">nil</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792253">doff</span>&nbsp;<span class="op" id="2792258">:=</span>&nbsp;<span class="ident" id="2792261"><a href="/debug/dwarf/typeunit.go.html#2792223">off</a></span>&nbsp;<span class="op" id="2792265">-</span>&nbsp;<span class="ident" id="2792267"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792270">.</span><span class="ident" id="2792271">tu</span><span class="op" id="2792273">.</span><span class="ident" id="2792274">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792279">if</span>&nbsp;<span class="ident" id="2792282"><a href="/debug/dwarf/typeunit.go.html#2792253">doff</a></span>&nbsp;<span class="op" id="2792287">&lt;</span>&nbsp;<span class="num" id="2792289">0</span>&nbsp;<span class="op" id="2792291">||</span>&nbsp;<span class="ident" id="2792294"><a href="/debug/dwarf/typeunit.go.html#2792253">doff</a></span>&nbsp;<span class="op" id="2792299">&gt;=</span>&nbsp;<span class="ident" id="2792302"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span><span class="op" id="2792308">(</span><span class="builtinfunc" id="2792309">len</span><span class="op" id="2792312">(</span><span class="ident" id="2792313"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792316">.</span><span class="ident" id="2792317">tu</span><span class="op" id="2792319">.</span><span class="ident" id="2792320">data</span><span class="op" id="2792324">)</span><span class="op" id="2792325">)</span>&nbsp;<span class="op" id="2792327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792331"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792334">.</span><span class="ident" id="2792335">err</span>&nbsp;<span class="op" id="2792339">=</span>&nbsp;<span class="ident" id="2792341"><a href="/debug/dwarf/typeunit.go.html#2789576">fmt</a></span><span class="op" id="2792344">.</span><span class="ident" id="2792345">Errorf</span><span class="op" id="2792351">(</span><span class="string" id="2792352">&#34;%s:&nbsp;offset&nbsp;%d&nbsp;out&nbsp;of&nbsp;range;&nbsp;max&nbsp;%d&#34;</span><span class="op" id="2792388">,</span>&nbsp;<span class="ident" id="2792390"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792393">.</span><span class="ident" id="2792394">tu</span><span class="op" id="2792396">.</span><span class="ident" id="2792397">name</span><span class="op" id="2792401">,</span>&nbsp;<span class="ident" id="2792403"><a href="/debug/dwarf/typeunit.go.html#2792253">doff</a></span><span class="op" id="2792407">,</span>&nbsp;<span class="builtinfunc" id="2792409">len</span><span class="op" id="2792412">(</span><span class="ident" id="2792413"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792416">.</span><span class="ident" id="2792417">tu</span><span class="op" id="2792419">.</span><span class="ident" id="2792420">data</span><span class="op" id="2792424">)</span><span class="op" id="2792425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792429">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2792437">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792440"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792443">.</span><span class="ident" id="2792444">b</span>&nbsp;<span class="op" id="2792446">=</span>&nbsp;<span class="ident" id="2792448"><a href="/debug/dwarf/buf.go.html#2743672">makeBuf</a></span><span class="op" id="2792455">(</span><span class="ident" id="2792456"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792459">.</span><span class="ident" id="2792460">d</span><span class="op" id="2792461">,</span>&nbsp;<span class="ident" id="2792463"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792466">.</span><span class="ident" id="2792467">tu</span><span class="op" id="2792469">,</span>&nbsp;<span class="ident" id="2792471"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792474">.</span><span class="ident" id="2792475">tu</span><span class="op" id="2792477">.</span><span class="ident" id="2792478">name</span><span class="op" id="2792482">,</span>&nbsp;<span class="ident" id="2792484"><a href="/debug/dwarf/typeunit.go.html#2792223">off</a></span><span class="op" id="2792487">,</span>&nbsp;<span class="ident" id="2792489"><a href="/debug/dwarf/typeunit.go.html#2792197">tur</a></span><span class="op" id="2792492">.</span><span class="ident" id="2792493">tu</span><span class="op" id="2792495">.</span><span class="ident" id="2792496">data</span><span class="op" id="2792500">[</span><span class="ident" id="2792501"><a href="/debug/dwarf/typeunit.go.html#2792253">doff</a></span><span class="op" id="2792505">:</span><span class="op" id="2792506">]</span><span class="op" id="2792507">)</span><br>
<span class="lineno"></span><span class="op" id="2792509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2792512">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;Entry&nbsp;from&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="2792561">func</span>&nbsp;<span class="op" id="2792566">(</span><span class="ident" id="2792567">tur</span>&nbsp;<span class="op" id="2792571">*</span><span class="ident" id="2792572"><a href="/debug/dwarf/typeunit.go.html#2792074">typeUnitReader</a></span><span class="op" id="2792586">)</span>&nbsp;<span class="ident" id="2792588">Next</span><span class="op" id="2792592">(</span><span class="op" id="2792593">)</span>&nbsp;<span class="op" id="2792595">(</span><span class="op" id="2792596">*</span><span class="ident" id="2792597"><a href="/debug/dwarf/entry.go.html#2762620">Entry</a></span><span class="op" id="2792602">,</span>&nbsp;<span class="builtintype" id="2792604">error</span><span class="op" id="2792609">)</span>&nbsp;<span class="op" id="2792611">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792614">if</span>&nbsp;<span class="ident" id="2792617"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792620">.</span><span class="ident" id="2792621">err</span>&nbsp;<span class="op" id="2792625">!=</span>&nbsp;<span class="ident" id="2792628">nil</span>&nbsp;<span class="op" id="2792632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792636">return</span>&nbsp;<span class="ident" id="2792643">nil</span><span class="op" id="2792646">,</span>&nbsp;<span class="ident" id="2792648"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792651">.</span><span class="ident" id="2792652">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2792657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792660">if</span>&nbsp;<span class="builtinfunc" id="2792663">len</span><span class="op" id="2792666">(</span><span class="ident" id="2792667"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792670">.</span><span class="ident" id="2792671">tu</span><span class="op" id="2792673">.</span><span class="ident" id="2792674">data</span><span class="op" id="2792678">)</span>&nbsp;<span class="op" id="2792680">==</span>&nbsp;<span class="num" id="2792683">0</span>&nbsp;<span class="op" id="2792685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792689">return</span>&nbsp;<span class="ident" id="2792696">nil</span><span class="op" id="2792699">,</span>&nbsp;<span class="ident" id="2792701">nil</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2792706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792709">e</span>&nbsp;<span class="op" id="2792711">:=</span>&nbsp;<span class="ident" id="2792714"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792717">.</span><span class="ident" id="2792718">b</span><span class="op" id="2792719">.</span><span class="ident" id="2792720">entry</span><span class="op" id="2792725">(</span><span class="ident" id="2792726"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792729">.</span><span class="ident" id="2792730">tu</span><span class="op" id="2792732">.</span><span class="ident" id="2792733">atable</span><span class="op" id="2792739">,</span>&nbsp;<span class="ident" id="2792741"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792744">.</span><span class="ident" id="2792745">tu</span><span class="op" id="2792747">.</span><span class="ident" id="2792748">base</span><span class="op" id="2792752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792755">if</span>&nbsp;<span class="ident" id="2792758"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792761">.</span><span class="ident" id="2792762">b</span><span class="op" id="2792763">.</span><span class="ident" id="2792764">err</span>&nbsp;<span class="op" id="2792768">!=</span>&nbsp;<span class="ident" id="2792771">nil</span>&nbsp;<span class="op" id="2792775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792779"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792782">.</span><span class="ident" id="2792783">err</span>&nbsp;<span class="op" id="2792787">=</span>&nbsp;<span class="ident" id="2792789"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792792">.</span><span class="ident" id="2792793">b</span><span class="op" id="2792794">.</span><span class="ident" id="2792795">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792801">return</span>&nbsp;<span class="ident" id="2792808">nil</span><span class="op" id="2792811">,</span>&nbsp;<span class="ident" id="2792813"><a href="/debug/dwarf/typeunit.go.html#2792567">tur</a></span><span class="op" id="2792816">.</span><span class="ident" id="2792817">err</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2792822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792825">return</span>&nbsp;<span class="ident" id="2792832"><a href="/debug/dwarf/typeunit.go.html#2792709">e</a></span><span class="op" id="2792833">,</span>&nbsp;<span class="ident" id="2792835">nil</span><br>
<span class="lineno"></span><span class="op" id="2792839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2792842">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;new&nbsp;reader&nbsp;for&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno">155</span><span class="keyword" id="2792891">func</span>&nbsp;<span class="op" id="2792896">(</span><span class="ident" id="2792897">tur</span>&nbsp;<span class="op" id="2792901">*</span><span class="ident" id="2792902"><a href="/debug/dwarf/typeunit.go.html#2792074">typeUnitReader</a></span><span class="op" id="2792916">)</span>&nbsp;<span class="ident" id="2792918">clone</span><span class="op" id="2792923">(</span><span class="op" id="2792924">)</span>&nbsp;<span class="ident" id="2792926"><a href="/debug/dwarf/type.go.html#2778304">typeReader</a></span>&nbsp;<span class="op" id="2792937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2792940">return</span>&nbsp;<span class="op" id="2792947">&amp;</span><span class="ident" id="2792948"><a href="/debug/dwarf/typeunit.go.html#2792074">typeUnitReader</a></span><span class="op" id="2792962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792966">d</span><span class="op" id="2792967">:</span>&nbsp;&nbsp;<span class="ident" id="2792970"><a href="/debug/dwarf/typeunit.go.html#2792897">tur</a></span><span class="op" id="2792973">.</span><span class="ident" id="2792974">d</span><span class="op" id="2792975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792979">tu</span><span class="op" id="2792981">:</span>&nbsp;<span class="ident" id="2792983"><a href="/debug/dwarf/typeunit.go.html#2792897">tur</a></span><span class="op" id="2792986">.</span><span class="ident" id="2792987">tu</span><span class="op" id="2792989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2792993">b</span><span class="op" id="2792994">:</span>&nbsp;&nbsp;<span class="ident" id="2792997"><a href="/debug/dwarf/buf.go.html#2743672">makeBuf</a></span><span class="op" id="2793004">(</span><span class="ident" id="2793005"><a href="/debug/dwarf/typeunit.go.html#2792897">tur</a></span><span class="op" id="2793008">.</span><span class="ident" id="2793009">d</span><span class="op" id="2793010">,</span>&nbsp;<span class="ident" id="2793012"><a href="/debug/dwarf/typeunit.go.html#2792897">tur</a></span><span class="op" id="2793015">.</span><span class="ident" id="2793016">tu</span><span class="op" id="2793018">,</span>&nbsp;<span class="ident" id="2793020"><a href="/debug/dwarf/typeunit.go.html#2792897">tur</a></span><span class="op" id="2793023">.</span><span class="ident" id="2793024">tu</span><span class="op" id="2793026">.</span><span class="ident" id="2793027">name</span><span class="op" id="2793031">,</span>&nbsp;<span class="ident" id="2793033"><a href="/debug/dwarf/typeunit.go.html#2792897">tur</a></span><span class="op" id="2793036">.</span><span class="ident" id="2793037">tu</span><span class="op" id="2793039">.</span><span class="ident" id="2793040">off</span><span class="op" id="2793043">,</span>&nbsp;<span class="ident" id="2793045"><a href="/debug/dwarf/typeunit.go.html#2792897">tur</a></span><span class="op" id="2793048">.</span><span class="ident" id="2793049">tu</span><span class="op" id="2793051">.</span><span class="ident" id="2793052">data</span><span class="op" id="2793056">)</span><span class="op" id="2793057">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2793060">}</span><br>
<span class="lineno"></span><span class="op" id="2793062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2793065">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;offset.</span><br>
<span class="lineno"></span><span class="keyword" id="2793103">func</span>&nbsp;<span class="op" id="2793108">(</span><span class="ident" id="2793109">tur</span>&nbsp;<span class="op" id="2793113">*</span><span class="ident" id="2793114"><a href="/debug/dwarf/typeunit.go.html#2792074">typeUnitReader</a></span><span class="op" id="2793128">)</span>&nbsp;<span class="ident" id="2793130">offset</span><span class="op" id="2793136">(</span><span class="op" id="2793137">)</span>&nbsp;<span class="ident" id="2793139"><a href="/debug/dwarf/entry.go.html#2763419">Offset</a></span>&nbsp;<span class="op" id="2793146">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2793149">return</span>&nbsp;<span class="ident" id="2793156"><a href="/debug/dwarf/typeunit.go.html#2793109">tur</a></span><span class="op" id="2793159">.</span><span class="ident" id="2793160">b</span><span class="op" id="2793161">.</span><span class="ident" id="2793162">off</span><br>
<span class="lineno"></span><span class="op" id="2793166">}</span>
</div>
</body>
</html>
