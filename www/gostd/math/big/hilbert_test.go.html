<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html" class="current">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7554168">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7554223">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7554277">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7554328">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7554393">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7554452">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7554510">package</span>&nbsp;<span class="ident" id="7554518">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7554523">import</span>&nbsp;<span class="op" id="7554530">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7554533">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7554540">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7554550">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7554553">type</span>&nbsp;<span class="ident" id="7554558">matrix</span>&nbsp;<span class="keyword" id="7554565">struct</span>&nbsp;<span class="op" id="7554572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554575">n</span><span class="op" id="7554576">,</span>&nbsp;<span class="ident" id="7554578">m</span>&nbsp;<span class="builtintype" id="7554580">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554585">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554590">[</span><span class="op" id="7554591">]</span><span class="op" id="7554592">*</span><span class="ident" id="7554593">Rat</span><br>
<span class="lineno"></span><span class="op" id="7554597">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7554600">func</span>&nbsp;<span class="op" id="7554605">(</span><span class="ident" id="7554606">a</span>&nbsp;<span class="op" id="7554608">*</span><span class="ident" id="7554609">matrix</span><span class="op" id="7554615">)</span>&nbsp;<span class="ident" id="7554617">at</span><span class="op" id="7554619">(</span><span class="ident" id="7554620">i</span><span class="op" id="7554621">,</span>&nbsp;<span class="ident" id="7554623">j</span>&nbsp;<span class="builtintype" id="7554625">int</span><span class="op" id="7554628">)</span>&nbsp;<span class="op" id="7554630">*</span><span class="ident" id="7554631">Rat</span>&nbsp;<span class="op" id="7554635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554638">if</span>&nbsp;<span class="op" id="7554641">!</span><span class="op" id="7554642">(</span><span class="num" id="7554643">0</span>&nbsp;<span class="op" id="7554645">&lt;=</span>&nbsp;<span class="ident" id="7554648">i</span>&nbsp;<span class="op" id="7554650">&amp;&amp;</span>&nbsp;<span class="ident" id="7554653">i</span>&nbsp;<span class="op" id="7554655">&lt;</span>&nbsp;<span class="ident" id="7554657">a</span><span class="op" id="7554658">.</span><span class="ident" id="7554659">n</span>&nbsp;<span class="op" id="7554661">&amp;&amp;</span>&nbsp;<span class="num" id="7554664">0</span>&nbsp;<span class="op" id="7554666">&lt;=</span>&nbsp;<span class="ident" id="7554669">j</span>&nbsp;<span class="op" id="7554671">&amp;&amp;</span>&nbsp;<span class="ident" id="7554674">j</span>&nbsp;<span class="op" id="7554676">&lt;</span>&nbsp;<span class="ident" id="7554678">a</span><span class="op" id="7554679">.</span><span class="ident" id="7554680">m</span><span class="op" id="7554681">)</span>&nbsp;<span class="op" id="7554683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7554687">panic</span><span class="op" id="7554692">(</span><span class="string" id="7554693">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7554713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554716">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554719">return</span>&nbsp;<span class="ident" id="7554726">a</span><span class="op" id="7554727">.</span><span class="ident" id="7554728">a</span><span class="op" id="7554729">[</span><span class="ident" id="7554730">i</span><span class="op" id="7554731">*</span><span class="ident" id="7554732">a</span><span class="op" id="7554733">.</span><span class="ident" id="7554734">m</span><span class="op" id="7554735">+</span><span class="ident" id="7554736">j</span><span class="op" id="7554737">]</span><br>
<span class="lineno"></span><span class="op" id="7554739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7554742">func</span>&nbsp;<span class="op" id="7554747">(</span><span class="ident" id="7554748">a</span>&nbsp;<span class="op" id="7554750">*</span><span class="ident" id="7554751">matrix</span><span class="op" id="7554757">)</span>&nbsp;<span class="ident" id="7554759">set</span><span class="op" id="7554762">(</span><span class="ident" id="7554763">i</span><span class="op" id="7554764">,</span>&nbsp;<span class="ident" id="7554766">j</span>&nbsp;<span class="builtintype" id="7554768">int</span><span class="op" id="7554771">,</span>&nbsp;<span class="ident" id="7554773">x</span>&nbsp;<span class="op" id="7554775">*</span><span class="ident" id="7554776">Rat</span><span class="op" id="7554779">)</span>&nbsp;<span class="op" id="7554781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554784">if</span>&nbsp;<span class="op" id="7554787">!</span><span class="op" id="7554788">(</span><span class="num" id="7554789">0</span>&nbsp;<span class="op" id="7554791">&lt;=</span>&nbsp;<span class="ident" id="7554794">i</span>&nbsp;<span class="op" id="7554796">&amp;&amp;</span>&nbsp;<span class="ident" id="7554799">i</span>&nbsp;<span class="op" id="7554801">&lt;</span>&nbsp;<span class="ident" id="7554803">a</span><span class="op" id="7554804">.</span><span class="ident" id="7554805">n</span>&nbsp;<span class="op" id="7554807">&amp;&amp;</span>&nbsp;<span class="num" id="7554810">0</span>&nbsp;<span class="op" id="7554812">&lt;=</span>&nbsp;<span class="ident" id="7554815">j</span>&nbsp;<span class="op" id="7554817">&amp;&amp;</span>&nbsp;<span class="ident" id="7554820">j</span>&nbsp;<span class="op" id="7554822">&lt;</span>&nbsp;<span class="ident" id="7554824">a</span><span class="op" id="7554825">.</span><span class="ident" id="7554826">m</span><span class="op" id="7554827">)</span>&nbsp;<span class="op" id="7554829">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7554833">panic</span><span class="op" id="7554838">(</span><span class="string" id="7554839">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7554859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554865">a</span><span class="op" id="7554866">.</span><span class="ident" id="7554867">a</span><span class="op" id="7554868">[</span><span class="ident" id="7554869">i</span><span class="op" id="7554870">*</span><span class="ident" id="7554871">a</span><span class="op" id="7554872">.</span><span class="ident" id="7554873">m</span><span class="op" id="7554874">+</span><span class="ident" id="7554875">j</span><span class="op" id="7554876">]</span>&nbsp;<span class="op" id="7554878">=</span>&nbsp;<span class="ident" id="7554880">x</span><br>
<span class="lineno"></span><span class="op" id="7554882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7554885">func</span>&nbsp;<span class="ident" id="7554890">newMatrix</span><span class="op" id="7554899">(</span><span class="ident" id="7554900">n</span><span class="op" id="7554901">,</span>&nbsp;<span class="ident" id="7554903">m</span>&nbsp;<span class="builtintype" id="7554905">int</span><span class="op" id="7554908">)</span>&nbsp;<span class="op" id="7554910">*</span><span class="ident" id="7554911">matrix</span>&nbsp;<span class="op" id="7554918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7554921">if</span>&nbsp;<span class="op" id="7554924">!</span><span class="op" id="7554925">(</span><span class="num" id="7554926">0</span>&nbsp;<span class="op" id="7554928">&lt;=</span>&nbsp;<span class="ident" id="7554931">n</span>&nbsp;<span class="op" id="7554933">&amp;&amp;</span>&nbsp;<span class="num" id="7554936">0</span>&nbsp;<span class="op" id="7554938">&lt;=</span>&nbsp;<span class="ident" id="7554941">m</span><span class="op" id="7554942">)</span>&nbsp;<span class="op" id="7554944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7554948">panic</span><span class="op" id="7554953">(</span><span class="string" id="7554954">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7554970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7554973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554976">a</span>&nbsp;<span class="op" id="7554978">:=</span>&nbsp;<span class="builtinfunc" id="7554981">new</span><span class="op" id="7554984">(</span><span class="ident" id="7554985">matrix</span><span class="op" id="7554991">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554994">a</span><span class="op" id="7554995">.</span><span class="ident" id="7554996">n</span>&nbsp;<span class="op" id="7554998">=</span>&nbsp;<span class="ident" id="7555000">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555003">a</span><span class="op" id="7555004">.</span><span class="ident" id="7555005">m</span>&nbsp;<span class="op" id="7555007">=</span>&nbsp;<span class="ident" id="7555009">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555012">a</span><span class="op" id="7555013">.</span><span class="ident" id="7555014">a</span>&nbsp;<span class="op" id="7555016">=</span>&nbsp;<span class="builtinfunc" id="7555018">make</span><span class="op" id="7555022">(</span><span class="op" id="7555023">[</span><span class="op" id="7555024">]</span><span class="op" id="7555025">*</span><span class="ident" id="7555026">Rat</span><span class="op" id="7555029">,</span>&nbsp;<span class="ident" id="7555031">n</span><span class="op" id="7555032">*</span><span class="ident" id="7555033">m</span><span class="op" id="7555034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555037">return</span>&nbsp;<span class="ident" id="7555044">a</span><br>
<span class="lineno"></span><span class="op" id="7555046">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7555049">func</span>&nbsp;<span class="ident" id="7555054">newUnit</span><span class="op" id="7555061">(</span><span class="ident" id="7555062">n</span>&nbsp;<span class="builtintype" id="7555064">int</span><span class="op" id="7555067">)</span>&nbsp;<span class="op" id="7555069">*</span><span class="ident" id="7555070">matrix</span>&nbsp;<span class="op" id="7555077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555080">a</span>&nbsp;<span class="op" id="7555082">:=</span>&nbsp;<span class="ident" id="7555085">newMatrix</span><span class="op" id="7555094">(</span><span class="ident" id="7555095">n</span><span class="op" id="7555096">,</span>&nbsp;<span class="ident" id="7555098">n</span><span class="op" id="7555099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555102">for</span>&nbsp;<span class="ident" id="7555106">i</span>&nbsp;<span class="op" id="7555108">:=</span>&nbsp;<span class="num" id="7555111">0</span><span class="op" id="7555112">;</span>&nbsp;<span class="ident" id="7555114">i</span>&nbsp;<span class="op" id="7555116">&lt;</span>&nbsp;<span class="ident" id="7555118">n</span><span class="op" id="7555119">;</span>&nbsp;<span class="ident" id="7555121">i</span><span class="op" id="7555122">++</span>&nbsp;<span class="op" id="7555125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555129">for</span>&nbsp;<span class="ident" id="7555133">j</span>&nbsp;<span class="op" id="7555135">:=</span>&nbsp;<span class="num" id="7555138">0</span><span class="op" id="7555139">;</span>&nbsp;<span class="ident" id="7555141">j</span>&nbsp;<span class="op" id="7555143">&lt;</span>&nbsp;<span class="ident" id="7555145">n</span><span class="op" id="7555146">;</span>&nbsp;<span class="ident" id="7555148">j</span><span class="op" id="7555149">++</span>&nbsp;<span class="op" id="7555152">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555157">x</span>&nbsp;<span class="op" id="7555159">:=</span>&nbsp;<span class="ident" id="7555162">NewRat</span><span class="op" id="7555168">(</span><span class="num" id="7555169">0</span><span class="op" id="7555170">,</span>&nbsp;<span class="num" id="7555172">1</span><span class="op" id="7555173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555178">if</span>&nbsp;<span class="ident" id="7555181">i</span>&nbsp;<span class="op" id="7555183">==</span>&nbsp;<span class="ident" id="7555186">j</span>&nbsp;<span class="op" id="7555188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555194">x</span><span class="op" id="7555195">.</span><span class="ident" id="7555196">SetInt64</span><span class="op" id="7555204">(</span><span class="num" id="7555205">1</span><span class="op" id="7555206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555216">a</span><span class="op" id="7555217">.</span><span class="ident" id="7555218">set</span><span class="op" id="7555221">(</span><span class="ident" id="7555222">i</span><span class="op" id="7555223">,</span>&nbsp;<span class="ident" id="7555225">j</span><span class="op" id="7555226">,</span>&nbsp;<span class="ident" id="7555228">x</span><span class="op" id="7555229">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555239">return</span>&nbsp;<span class="ident" id="7555246">a</span><br>
<span class="lineno"></span><span class="op" id="7555248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7555251">func</span>&nbsp;<span class="ident" id="7555256">newHilbert</span><span class="op" id="7555266">(</span><span class="ident" id="7555267">n</span>&nbsp;<span class="builtintype" id="7555269">int</span><span class="op" id="7555272">)</span>&nbsp;<span class="op" id="7555274">*</span><span class="ident" id="7555275">matrix</span>&nbsp;<span class="op" id="7555282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555285">a</span>&nbsp;<span class="op" id="7555287">:=</span>&nbsp;<span class="ident" id="7555290">newMatrix</span><span class="op" id="7555299">(</span><span class="ident" id="7555300">n</span><span class="op" id="7555301">,</span>&nbsp;<span class="ident" id="7555303">n</span><span class="op" id="7555304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555307">for</span>&nbsp;<span class="ident" id="7555311">i</span>&nbsp;<span class="op" id="7555313">:=</span>&nbsp;<span class="num" id="7555316">0</span><span class="op" id="7555317">;</span>&nbsp;<span class="ident" id="7555319">i</span>&nbsp;<span class="op" id="7555321">&lt;</span>&nbsp;<span class="ident" id="7555323">n</span><span class="op" id="7555324">;</span>&nbsp;<span class="ident" id="7555326">i</span><span class="op" id="7555327">++</span>&nbsp;<span class="op" id="7555330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555334">for</span>&nbsp;<span class="ident" id="7555338">j</span>&nbsp;<span class="op" id="7555340">:=</span>&nbsp;<span class="num" id="7555343">0</span><span class="op" id="7555344">;</span>&nbsp;<span class="ident" id="7555346">j</span>&nbsp;<span class="op" id="7555348">&lt;</span>&nbsp;<span class="ident" id="7555350">n</span><span class="op" id="7555351">;</span>&nbsp;<span class="ident" id="7555353">j</span><span class="op" id="7555354">++</span>&nbsp;<span class="op" id="7555357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555362">a</span><span class="op" id="7555363">.</span><span class="ident" id="7555364">set</span><span class="op" id="7555367">(</span><span class="ident" id="7555368">i</span><span class="op" id="7555369">,</span>&nbsp;<span class="ident" id="7555371">j</span><span class="op" id="7555372">,</span>&nbsp;<span class="ident" id="7555374">NewRat</span><span class="op" id="7555380">(</span><span class="num" id="7555381">1</span><span class="op" id="7555382">,</span>&nbsp;<span class="ident" id="7555384">int64</span><span class="op" id="7555389">(</span><span class="ident" id="7555390">i</span><span class="op" id="7555391">+</span><span class="ident" id="7555392">j</span><span class="op" id="7555393">+</span><span class="num" id="7555394">1</span><span class="op" id="7555395">)</span><span class="op" id="7555396">)</span><span class="op" id="7555397">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555407">return</span>&nbsp;<span class="ident" id="7555414">a</span><br>
<span class="lineno"></span><span class="op" id="7555416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7555419">func</span>&nbsp;<span class="ident" id="7555424">newInverseHilbert</span><span class="op" id="7555441">(</span><span class="ident" id="7555442">n</span>&nbsp;<span class="builtintype" id="7555444">int</span><span class="op" id="7555447">)</span>&nbsp;<span class="op" id="7555449">*</span><span class="ident" id="7555450">matrix</span>&nbsp;<span class="op" id="7555457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555460">a</span>&nbsp;<span class="op" id="7555462">:=</span>&nbsp;<span class="ident" id="7555465">newMatrix</span><span class="op" id="7555474">(</span><span class="ident" id="7555475">n</span><span class="op" id="7555476">,</span>&nbsp;<span class="ident" id="7555478">n</span><span class="op" id="7555479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555482">for</span>&nbsp;<span class="ident" id="7555486">i</span>&nbsp;<span class="op" id="7555488">:=</span>&nbsp;<span class="num" id="7555491">0</span><span class="op" id="7555492">;</span>&nbsp;<span class="ident" id="7555494">i</span>&nbsp;<span class="op" id="7555496">&lt;</span>&nbsp;<span class="ident" id="7555498">n</span><span class="op" id="7555499">;</span>&nbsp;<span class="ident" id="7555501">i</span><span class="op" id="7555502">++</span>&nbsp;<span class="op" id="7555505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555509">for</span>&nbsp;<span class="ident" id="7555513">j</span>&nbsp;<span class="op" id="7555515">:=</span>&nbsp;<span class="num" id="7555518">0</span><span class="op" id="7555519">;</span>&nbsp;<span class="ident" id="7555521">j</span>&nbsp;<span class="op" id="7555523">&lt;</span>&nbsp;<span class="ident" id="7555525">n</span><span class="op" id="7555526">;</span>&nbsp;<span class="ident" id="7555528">j</span><span class="op" id="7555529">++</span>&nbsp;<span class="op" id="7555532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555537">x1</span>&nbsp;<span class="op" id="7555540">:=</span>&nbsp;<span class="builtinfunc" id="7555543">new</span><span class="op" id="7555546">(</span><span class="ident" id="7555547">Rat</span><span class="op" id="7555550">)</span><span class="op" id="7555551">.</span><span class="ident" id="7555552">SetInt64</span><span class="op" id="7555560">(</span><span class="ident" id="7555561">int64</span><span class="op" id="7555566">(</span><span class="ident" id="7555567">i</span>&nbsp;<span class="op" id="7555569">+</span>&nbsp;<span class="ident" id="7555571">j</span>&nbsp;<span class="op" id="7555573">+</span>&nbsp;<span class="num" id="7555575">1</span><span class="op" id="7555576">)</span><span class="op" id="7555577">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555582">x2</span>&nbsp;<span class="op" id="7555585">:=</span>&nbsp;<span class="builtinfunc" id="7555588">new</span><span class="op" id="7555591">(</span><span class="ident" id="7555592">Rat</span><span class="op" id="7555595">)</span><span class="op" id="7555596">.</span><span class="ident" id="7555597">SetInt</span><span class="op" id="7555603">(</span><span class="builtinfunc" id="7555604">new</span><span class="op" id="7555607">(</span><span class="ident" id="7555608">Int</span><span class="op" id="7555611">)</span><span class="op" id="7555612">.</span><span class="ident" id="7555613">Binomial</span><span class="op" id="7555621">(</span><span class="ident" id="7555622">int64</span><span class="op" id="7555627">(</span><span class="ident" id="7555628">n</span><span class="op" id="7555629">+</span><span class="ident" id="7555630">i</span><span class="op" id="7555631">)</span><span class="op" id="7555632">,</span>&nbsp;<span class="ident" id="7555634">int64</span><span class="op" id="7555639">(</span><span class="ident" id="7555640">n</span><span class="op" id="7555641">-</span><span class="ident" id="7555642">j</span><span class="op" id="7555643">-</span><span class="num" id="7555644">1</span><span class="op" id="7555645">)</span><span class="op" id="7555646">)</span><span class="op" id="7555647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555652">x3</span>&nbsp;<span class="op" id="7555655">:=</span>&nbsp;<span class="builtinfunc" id="7555658">new</span><span class="op" id="7555661">(</span><span class="ident" id="7555662">Rat</span><span class="op" id="7555665">)</span><span class="op" id="7555666">.</span><span class="ident" id="7555667">SetInt</span><span class="op" id="7555673">(</span><span class="builtinfunc" id="7555674">new</span><span class="op" id="7555677">(</span><span class="ident" id="7555678">Int</span><span class="op" id="7555681">)</span><span class="op" id="7555682">.</span><span class="ident" id="7555683">Binomial</span><span class="op" id="7555691">(</span><span class="ident" id="7555692">int64</span><span class="op" id="7555697">(</span><span class="ident" id="7555698">n</span><span class="op" id="7555699">+</span><span class="ident" id="7555700">j</span><span class="op" id="7555701">)</span><span class="op" id="7555702">,</span>&nbsp;<span class="ident" id="7555704">int64</span><span class="op" id="7555709">(</span><span class="ident" id="7555710">n</span><span class="op" id="7555711">-</span><span class="ident" id="7555712">i</span><span class="op" id="7555713">-</span><span class="num" id="7555714">1</span><span class="op" id="7555715">)</span><span class="op" id="7555716">)</span><span class="op" id="7555717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555722">x4</span>&nbsp;<span class="op" id="7555725">:=</span>&nbsp;<span class="builtinfunc" id="7555728">new</span><span class="op" id="7555731">(</span><span class="ident" id="7555732">Rat</span><span class="op" id="7555735">)</span><span class="op" id="7555736">.</span><span class="ident" id="7555737">SetInt</span><span class="op" id="7555743">(</span><span class="builtinfunc" id="7555744">new</span><span class="op" id="7555747">(</span><span class="ident" id="7555748">Int</span><span class="op" id="7555751">)</span><span class="op" id="7555752">.</span><span class="ident" id="7555753">Binomial</span><span class="op" id="7555761">(</span><span class="ident" id="7555762">int64</span><span class="op" id="7555767">(</span><span class="ident" id="7555768">i</span><span class="op" id="7555769">+</span><span class="ident" id="7555770">j</span><span class="op" id="7555771">)</span><span class="op" id="7555772">,</span>&nbsp;<span class="ident" id="7555774">int64</span><span class="op" id="7555779">(</span><span class="ident" id="7555780">i</span><span class="op" id="7555781">)</span><span class="op" id="7555782">)</span><span class="op" id="7555783">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555789">x1</span><span class="op" id="7555791">.</span><span class="ident" id="7555792">Mul</span><span class="op" id="7555795">(</span><span class="ident" id="7555796">x1</span><span class="op" id="7555798">,</span>&nbsp;<span class="ident" id="7555800">x2</span><span class="op" id="7555802">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555807">x1</span><span class="op" id="7555809">.</span><span class="ident" id="7555810">Mul</span><span class="op" id="7555813">(</span><span class="ident" id="7555814">x1</span><span class="op" id="7555816">,</span>&nbsp;<span class="ident" id="7555818">x3</span><span class="op" id="7555820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555825">x1</span><span class="op" id="7555827">.</span><span class="ident" id="7555828">Mul</span><span class="op" id="7555831">(</span><span class="ident" id="7555832">x1</span><span class="op" id="7555834">,</span>&nbsp;<span class="ident" id="7555836">x4</span><span class="op" id="7555838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555843">x1</span><span class="op" id="7555845">.</span><span class="ident" id="7555846">Mul</span><span class="op" id="7555849">(</span><span class="ident" id="7555850">x1</span><span class="op" id="7555852">,</span>&nbsp;<span class="ident" id="7555854">x4</span><span class="op" id="7555856">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555862">if</span>&nbsp;<span class="op" id="7555865">(</span><span class="ident" id="7555866">i</span><span class="op" id="7555867">+</span><span class="ident" id="7555868">j</span><span class="op" id="7555869">)</span><span class="op" id="7555870">&amp;</span><span class="num" id="7555871">1</span>&nbsp;<span class="op" id="7555873">!=</span>&nbsp;<span class="num" id="7555876">0</span>&nbsp;<span class="op" id="7555878">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555884">x1</span><span class="op" id="7555886">.</span><span class="ident" id="7555887">Neg</span><span class="op" id="7555890">(</span><span class="ident" id="7555891">x1</span><span class="op" id="7555893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7555904">a</span><span class="op" id="7555905">.</span><span class="ident" id="7555906">set</span><span class="op" id="7555909">(</span><span class="ident" id="7555910">i</span><span class="op" id="7555911">,</span>&nbsp;<span class="ident" id="7555913">j</span><span class="op" id="7555914">,</span>&nbsp;<span class="ident" id="7555916">x1</span><span class="op" id="7555918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555922">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7555925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555928">return</span>&nbsp;<span class="ident" id="7555935">a</span><br>
<span class="lineno"></span><span class="op" id="7555937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7555940">func</span>&nbsp;<span class="op" id="7555945">(</span><span class="ident" id="7555946">a</span>&nbsp;<span class="op" id="7555948">*</span><span class="ident" id="7555949">matrix</span><span class="op" id="7555955">)</span>&nbsp;<span class="ident" id="7555957">mul</span><span class="op" id="7555960">(</span><span class="ident" id="7555961">b</span>&nbsp;<span class="op" id="7555963">*</span><span class="ident" id="7555964">matrix</span><span class="op" id="7555970">)</span>&nbsp;<span class="op" id="7555972">*</span><span class="ident" id="7555973">matrix</span>&nbsp;<span class="op" id="7555980">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7555983">if</span>&nbsp;<span class="ident" id="7555986">a</span><span class="op" id="7555987">.</span><span class="ident" id="7555988">m</span>&nbsp;<span class="op" id="7555990">!=</span>&nbsp;<span class="ident" id="7555993">b</span><span class="op" id="7555994">.</span><span class="ident" id="7555995">n</span>&nbsp;<span class="op" id="7555997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7556001">panic</span><span class="op" id="7556006">(</span><span class="string" id="7556007">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7556032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556038">c</span>&nbsp;<span class="op" id="7556040">:=</span>&nbsp;<span class="ident" id="7556043">newMatrix</span><span class="op" id="7556052">(</span><span class="ident" id="7556053">a</span><span class="op" id="7556054">.</span><span class="ident" id="7556055">n</span><span class="op" id="7556056">,</span>&nbsp;<span class="ident" id="7556058">b</span><span class="op" id="7556059">.</span><span class="ident" id="7556060">m</span><span class="op" id="7556061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556064">for</span>&nbsp;<span class="ident" id="7556068">i</span>&nbsp;<span class="op" id="7556070">:=</span>&nbsp;<span class="num" id="7556073">0</span><span class="op" id="7556074">;</span>&nbsp;<span class="ident" id="7556076">i</span>&nbsp;<span class="op" id="7556078">&lt;</span>&nbsp;<span class="ident" id="7556080">c</span><span class="op" id="7556081">.</span><span class="ident" id="7556082">n</span><span class="op" id="7556083">;</span>&nbsp;<span class="ident" id="7556085">i</span><span class="op" id="7556086">++</span>&nbsp;<span class="op" id="7556089">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556093">for</span>&nbsp;<span class="ident" id="7556097">j</span>&nbsp;<span class="op" id="7556099">:=</span>&nbsp;<span class="num" id="7556102">0</span><span class="op" id="7556103">;</span>&nbsp;<span class="ident" id="7556105">j</span>&nbsp;<span class="op" id="7556107">&lt;</span>&nbsp;<span class="ident" id="7556109">c</span><span class="op" id="7556110">.</span><span class="ident" id="7556111">m</span><span class="op" id="7556112">;</span>&nbsp;<span class="ident" id="7556114">j</span><span class="op" id="7556115">++</span>&nbsp;<span class="op" id="7556118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556123">x</span>&nbsp;<span class="op" id="7556125">:=</span>&nbsp;<span class="ident" id="7556128">NewRat</span><span class="op" id="7556134">(</span><span class="num" id="7556135">0</span><span class="op" id="7556136">,</span>&nbsp;<span class="num" id="7556138">1</span><span class="op" id="7556139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556144">for</span>&nbsp;<span class="ident" id="7556148">k</span>&nbsp;<span class="op" id="7556150">:=</span>&nbsp;<span class="num" id="7556153">0</span><span class="op" id="7556154">;</span>&nbsp;<span class="ident" id="7556156">k</span>&nbsp;<span class="op" id="7556158">&lt;</span>&nbsp;<span class="ident" id="7556160">a</span><span class="op" id="7556161">.</span><span class="ident" id="7556162">m</span><span class="op" id="7556163">;</span>&nbsp;<span class="ident" id="7556165">k</span><span class="op" id="7556166">++</span>&nbsp;<span class="op" id="7556169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556175">x</span><span class="op" id="7556176">.</span><span class="ident" id="7556177">Add</span><span class="op" id="7556180">(</span><span class="ident" id="7556181">x</span><span class="op" id="7556182">,</span>&nbsp;<span class="builtinfunc" id="7556184">new</span><span class="op" id="7556187">(</span><span class="ident" id="7556188">Rat</span><span class="op" id="7556191">)</span><span class="op" id="7556192">.</span><span class="ident" id="7556193">Mul</span><span class="op" id="7556196">(</span><span class="ident" id="7556197">a</span><span class="op" id="7556198">.</span><span class="ident" id="7556199">at</span><span class="op" id="7556201">(</span><span class="ident" id="7556202">i</span><span class="op" id="7556203">,</span>&nbsp;<span class="ident" id="7556205">k</span><span class="op" id="7556206">)</span><span class="op" id="7556207">,</span>&nbsp;<span class="ident" id="7556209">b</span><span class="op" id="7556210">.</span><span class="ident" id="7556211">at</span><span class="op" id="7556213">(</span><span class="ident" id="7556214">k</span><span class="op" id="7556215">,</span>&nbsp;<span class="ident" id="7556217">j</span><span class="op" id="7556218">)</span><span class="op" id="7556219">)</span><span class="op" id="7556220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556225">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556230">c</span><span class="op" id="7556231">.</span><span class="ident" id="7556232">set</span><span class="op" id="7556235">(</span><span class="ident" id="7556236">i</span><span class="op" id="7556237">,</span>&nbsp;<span class="ident" id="7556239">j</span><span class="op" id="7556240">,</span>&nbsp;<span class="ident" id="7556242">x</span><span class="op" id="7556243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556253">return</span>&nbsp;<span class="ident" id="7556260">c</span><br>
<span class="lineno"></span><span class="op" id="7556262">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7556265">func</span>&nbsp;<span class="op" id="7556270">(</span><span class="ident" id="7556271">a</span>&nbsp;<span class="op" id="7556273">*</span><span class="ident" id="7556274">matrix</span><span class="op" id="7556280">)</span>&nbsp;<span class="ident" id="7556282">eql</span><span class="op" id="7556285">(</span><span class="ident" id="7556286">b</span>&nbsp;<span class="op" id="7556288">*</span><span class="ident" id="7556289">matrix</span><span class="op" id="7556295">)</span>&nbsp;<span class="builtintype" id="7556297">bool</span>&nbsp;<span class="op" id="7556302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556305">if</span>&nbsp;<span class="ident" id="7556308">a</span><span class="op" id="7556309">.</span><span class="ident" id="7556310">n</span>&nbsp;<span class="op" id="7556312">!=</span>&nbsp;<span class="ident" id="7556315">b</span><span class="op" id="7556316">.</span><span class="ident" id="7556317">n</span>&nbsp;<span class="op" id="7556319">||</span>&nbsp;<span class="ident" id="7556322">a</span><span class="op" id="7556323">.</span><span class="ident" id="7556324">m</span>&nbsp;<span class="op" id="7556326">!=</span>&nbsp;<span class="ident" id="7556329">b</span><span class="op" id="7556330">.</span><span class="ident" id="7556331">m</span>&nbsp;<span class="op" id="7556333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556337">return</span>&nbsp;<span class="builtintype" id="7556344">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556351">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556354">for</span>&nbsp;<span class="ident" id="7556358">i</span>&nbsp;<span class="op" id="7556360">:=</span>&nbsp;<span class="num" id="7556363">0</span><span class="op" id="7556364">;</span>&nbsp;<span class="ident" id="7556366">i</span>&nbsp;<span class="op" id="7556368">&lt;</span>&nbsp;<span class="ident" id="7556370">a</span><span class="op" id="7556371">.</span><span class="ident" id="7556372">n</span><span class="op" id="7556373">;</span>&nbsp;<span class="ident" id="7556375">i</span><span class="op" id="7556376">++</span>&nbsp;<span class="op" id="7556379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556383">for</span>&nbsp;<span class="ident" id="7556387">j</span>&nbsp;<span class="op" id="7556389">:=</span>&nbsp;<span class="num" id="7556392">0</span><span class="op" id="7556393">;</span>&nbsp;<span class="ident" id="7556395">j</span>&nbsp;<span class="op" id="7556397">&lt;</span>&nbsp;<span class="ident" id="7556399">a</span><span class="op" id="7556400">.</span><span class="ident" id="7556401">m</span><span class="op" id="7556402">;</span>&nbsp;<span class="ident" id="7556404">j</span><span class="op" id="7556405">++</span>&nbsp;<span class="op" id="7556408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556413">if</span>&nbsp;<span class="ident" id="7556416">a</span><span class="op" id="7556417">.</span><span class="ident" id="7556418">at</span><span class="op" id="7556420">(</span><span class="ident" id="7556421">i</span><span class="op" id="7556422">,</span>&nbsp;<span class="ident" id="7556424">j</span><span class="op" id="7556425">)</span><span class="op" id="7556426">.</span><span class="ident" id="7556427">Cmp</span><span class="op" id="7556430">(</span><span class="ident" id="7556431">b</span><span class="op" id="7556432">.</span><span class="ident" id="7556433">at</span><span class="op" id="7556435">(</span><span class="ident" id="7556436">i</span><span class="op" id="7556437">,</span>&nbsp;<span class="ident" id="7556439">j</span><span class="op" id="7556440">)</span><span class="op" id="7556441">)</span>&nbsp;<span class="op" id="7556443">!=</span>&nbsp;<span class="num" id="7556446">0</span>&nbsp;<span class="op" id="7556448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556454">return</span>&nbsp;<span class="builtintype" id="7556461">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556470">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556480">return</span>&nbsp;<span class="builtintype" id="7556487">true</span><br>
<span class="lineno"></span><span class="op" id="7556492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7556495">func</span>&nbsp;<span class="op" id="7556500">(</span><span class="ident" id="7556501">a</span>&nbsp;<span class="op" id="7556503">*</span><span class="ident" id="7556504">matrix</span><span class="op" id="7556510">)</span>&nbsp;<span class="ident" id="7556512">String</span><span class="op" id="7556518">(</span><span class="op" id="7556519">)</span>&nbsp;<span class="builtintype" id="7556521">string</span>&nbsp;<span class="op" id="7556528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556531">s</span>&nbsp;<span class="op" id="7556533">:=</span>&nbsp;<span class="string" id="7556536">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556540">for</span>&nbsp;<span class="ident" id="7556544">i</span>&nbsp;<span class="op" id="7556546">:=</span>&nbsp;<span class="num" id="7556549">0</span><span class="op" id="7556550">;</span>&nbsp;<span class="ident" id="7556552">i</span>&nbsp;<span class="op" id="7556554">&lt;</span>&nbsp;<span class="ident" id="7556556">a</span><span class="op" id="7556557">.</span><span class="ident" id="7556558">n</span><span class="op" id="7556559">;</span>&nbsp;<span class="ident" id="7556561">i</span><span class="op" id="7556562">++</span>&nbsp;<span class="op" id="7556565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556569">for</span>&nbsp;<span class="ident" id="7556573">j</span>&nbsp;<span class="op" id="7556575">:=</span>&nbsp;<span class="num" id="7556578">0</span><span class="op" id="7556579">;</span>&nbsp;<span class="ident" id="7556581">j</span>&nbsp;<span class="op" id="7556583">&lt;</span>&nbsp;<span class="ident" id="7556585">a</span><span class="op" id="7556586">.</span><span class="ident" id="7556587">m</span><span class="op" id="7556588">;</span>&nbsp;<span class="ident" id="7556590">j</span><span class="op" id="7556591">++</span>&nbsp;<span class="op" id="7556594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556599">s</span>&nbsp;<span class="op" id="7556601">+=</span>&nbsp;<span class="ident" id="7556604">fmt</span><span class="op" id="7556607">.</span><span class="ident" id="7556608">Sprintf</span><span class="op" id="7556615">(</span><span class="string" id="7556616">&#34;\t%s&#34;</span><span class="op" id="7556622">,</span>&nbsp;<span class="ident" id="7556624">a</span><span class="op" id="7556625">.</span><span class="ident" id="7556626">at</span><span class="op" id="7556628">(</span><span class="ident" id="7556629">i</span><span class="op" id="7556630">,</span>&nbsp;<span class="ident" id="7556632">j</span><span class="op" id="7556633">)</span><span class="op" id="7556634">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556642">s</span>&nbsp;<span class="op" id="7556644">+=</span>&nbsp;<span class="string" id="7556647">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556656">return</span>&nbsp;<span class="ident" id="7556663">s</span><br>
<span class="lineno"></span><span class="op" id="7556665">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7556668">func</span>&nbsp;<span class="ident" id="7556673">doHilbert</span><span class="op" id="7556682">(</span><span class="ident" id="7556683">t</span>&nbsp;<span class="op" id="7556685">*</span><span class="ident" id="7556686">testing</span><span class="op" id="7556693">.</span><span class="ident" id="7556694">T</span><span class="op" id="7556695">,</span>&nbsp;<span class="ident" id="7556697">n</span>&nbsp;<span class="builtintype" id="7556699">int</span><span class="op" id="7556702">)</span>&nbsp;<span class="op" id="7556704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556707">a</span>&nbsp;<span class="op" id="7556709">:=</span>&nbsp;<span class="ident" id="7556712">newHilbert</span><span class="op" id="7556722">(</span><span class="ident" id="7556723">n</span><span class="op" id="7556724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556727">b</span>&nbsp;<span class="op" id="7556729">:=</span>&nbsp;<span class="ident" id="7556732">newInverseHilbert</span><span class="op" id="7556749">(</span><span class="ident" id="7556750">n</span><span class="op" id="7556751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556754">I</span>&nbsp;<span class="op" id="7556756">:=</span>&nbsp;<span class="ident" id="7556759">newUnit</span><span class="op" id="7556766">(</span><span class="ident" id="7556767">n</span><span class="op" id="7556768">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556771">ab</span>&nbsp;<span class="op" id="7556774">:=</span>&nbsp;<span class="ident" id="7556777">a</span><span class="op" id="7556778">.</span><span class="ident" id="7556779">mul</span><span class="op" id="7556782">(</span><span class="ident" id="7556783">b</span><span class="op" id="7556784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556787">if</span>&nbsp;<span class="op" id="7556790">!</span><span class="ident" id="7556791">ab</span><span class="op" id="7556793">.</span><span class="ident" id="7556794">eql</span><span class="op" id="7556797">(</span><span class="ident" id="7556798">I</span><span class="op" id="7556799">)</span>&nbsp;<span class="op" id="7556801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7556805">if</span>&nbsp;<span class="ident" id="7556808">t</span>&nbsp;<span class="op" id="7556810">==</span>&nbsp;<span class="builtintype" id="7556813">nil</span>&nbsp;<span class="op" id="7556817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7556822">panic</span><span class="op" id="7556827">(</span><span class="string" id="7556828">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7556844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556848">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556852">t</span><span class="op" id="7556853">.</span><span class="ident" id="7556854">Errorf</span><span class="op" id="7556860">(</span><span class="string" id="7556861">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7556873">,</span>&nbsp;<span class="ident" id="7556875">a</span><span class="op" id="7556876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556880">t</span><span class="op" id="7556881">.</span><span class="ident" id="7556882">Errorf</span><span class="op" id="7556888">(</span><span class="string" id="7556889">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7556901">,</span>&nbsp;<span class="ident" id="7556903">b</span><span class="op" id="7556904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556908">t</span><span class="op" id="7556909">.</span><span class="ident" id="7556910">Errorf</span><span class="op" id="7556916">(</span><span class="string" id="7556917">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7556929">,</span>&nbsp;<span class="ident" id="7556931">ab</span><span class="op" id="7556933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7556937">t</span><span class="op" id="7556938">.</span><span class="ident" id="7556939">Errorf</span><span class="op" id="7556945">(</span><span class="string" id="7556946">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7556958">,</span>&nbsp;<span class="ident" id="7556960">I</span><span class="op" id="7556961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7556964">}</span><br>
<span class="lineno">150</span><span class="op" id="7556966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7556969">func</span>&nbsp;<span class="ident" id="7556974">TestHilbert</span><span class="op" id="7556985">(</span><span class="ident" id="7556986">t</span>&nbsp;<span class="op" id="7556988">*</span><span class="ident" id="7556989">testing</span><span class="op" id="7556996">.</span><span class="ident" id="7556997">T</span><span class="op" id="7556998">)</span>&nbsp;<span class="op" id="7557000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7557003">doHilbert</span><span class="op" id="7557012">(</span><span class="ident" id="7557013">t</span><span class="op" id="7557014">,</span>&nbsp;<span class="num" id="7557016">10</span><span class="op" id="7557018">)</span><br>
<span class="lineno"></span><span class="op" id="7557020">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7557023">func</span>&nbsp;<span class="ident" id="7557028">BenchmarkHilbert</span><span class="op" id="7557044">(</span><span class="ident" id="7557045">b</span>&nbsp;<span class="op" id="7557047">*</span><span class="ident" id="7557048">testing</span><span class="op" id="7557055">.</span><span class="ident" id="7557056">B</span><span class="op" id="7557057">)</span>&nbsp;<span class="op" id="7557059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7557062">for</span>&nbsp;<span class="ident" id="7557066">i</span>&nbsp;<span class="op" id="7557068">:=</span>&nbsp;<span class="num" id="7557071">0</span><span class="op" id="7557072">;</span>&nbsp;<span class="ident" id="7557074">i</span>&nbsp;<span class="op" id="7557076">&lt;</span>&nbsp;<span class="ident" id="7557078">b</span><span class="op" id="7557079">.</span><span class="ident" id="7557080">N</span><span class="op" id="7557081">;</span>&nbsp;<span class="ident" id="7557083">i</span><span class="op" id="7557084">++</span>&nbsp;<span class="op" id="7557087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7557091">doHilbert</span><span class="op" id="7557100">(</span><span class="builtintype" id="7557101">nil</span><span class="op" id="7557104">,</span>&nbsp;<span class="num" id="7557106">10</span><span class="op" id="7557108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7557111">}</span><br>
<span class="lineno">160</span><span class="op" id="7557113">}</span>
</div>
</body>
</html>
