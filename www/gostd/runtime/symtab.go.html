<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html" class="current">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1661392">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1661447">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1661501">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1661552">package</span>&nbsp;<span class="ident" id="1661560">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1661569">import</span>&nbsp;<span class="string" id="1661576">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1661586">//&nbsp;NOTE:&nbsp;Func&nbsp;does&nbsp;not&nbsp;expose&nbsp;the&nbsp;actual&nbsp;unexported&nbsp;fields,&nbsp;because&nbsp;we&nbsp;return&nbsp;*Func</span><br>
<span class="lineno">10</span><span class="comment" id="1661670">//&nbsp;values&nbsp;to&nbsp;users,&nbsp;and&nbsp;we&nbsp;want&nbsp;to&nbsp;keep&nbsp;them&nbsp;from&nbsp;being&nbsp;able&nbsp;to&nbsp;overwrite&nbsp;the&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="1661753">//&nbsp;with&nbsp;(say)&nbsp;*f&nbsp;=&nbsp;Func{}.</span><br>
<span class="lineno"></span><span class="comment" id="1661780">//&nbsp;All&nbsp;code&nbsp;operating&nbsp;on&nbsp;a&nbsp;*Func&nbsp;must&nbsp;call&nbsp;raw&nbsp;to&nbsp;get&nbsp;the&nbsp;*_func&nbsp;instead.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1661855">//&nbsp;A&nbsp;Func&nbsp;represents&nbsp;a&nbsp;Go&nbsp;function&nbsp;in&nbsp;the&nbsp;running&nbsp;binary.</span><br>
<span class="lineno">15</span><span class="keyword" id="1661913">type</span>&nbsp;<span class="ident" id="1661918">Func</span>&nbsp;<span class="keyword" id="1661923">struct</span>&nbsp;<span class="op" id="1661930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1661933">opaque</span>&nbsp;<span class="keyword" id="1661940">struct</span><span class="op" id="1661946">{</span><span class="op" id="1661947">}</span>&nbsp;<span class="comment" id="1661949">//&nbsp;unexported&nbsp;field&nbsp;to&nbsp;disallow&nbsp;conversions</span><br>
<span class="lineno"></span><span class="op" id="1661993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1661996">func</span>&nbsp;<span class="op" id="1662001">(</span><span class="ident" id="1662002">f</span>&nbsp;<span class="op" id="1662004">*</span><span class="ident" id="1662005">Func</span><span class="op" id="1662009">)</span>&nbsp;<span class="ident" id="1662011">raw</span><span class="op" id="1662014">(</span><span class="op" id="1662015">)</span>&nbsp;<span class="op" id="1662017">*</span><span class="ident" id="1662018">_func</span>&nbsp;<span class="op" id="1662024">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1662027">return</span>&nbsp;<span class="op" id="1662034">(</span><span class="op" id="1662035">*</span><span class="ident" id="1662036">_func</span><span class="op" id="1662041">)</span><span class="op" id="1662042">(</span><span class="ident" id="1662043">unsafe</span><span class="op" id="1662049">.</span><span class="ident" id="1662050">Pointer</span><span class="op" id="1662057">(</span><span class="ident" id="1662058">f</span><span class="op" id="1662059">)</span><span class="op" id="1662060">)</span><br>
<span class="lineno"></span><span class="op" id="1662062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1662065">//&nbsp;funcdata.h</span><br>
<span class="lineno"></span><span class="keyword" id="1662079">const</span>&nbsp;<span class="op" id="1662085">(</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662088">_PCDATA_ArgSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1662116">=</span>&nbsp;<span class="num" id="1662118">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662121">_PCDATA_StackMapIndex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1662149">=</span>&nbsp;<span class="num" id="1662151">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662154">_FUNCDATA_ArgsPointerMaps</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1662182">=</span>&nbsp;<span class="num" id="1662184">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662187">_FUNCDATA_LocalsPointerMaps</span>&nbsp;<span class="op" id="1662215">=</span>&nbsp;<span class="num" id="1662217">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662220">_FUNCDATA_DeadValueMaps</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1662248">=</span>&nbsp;<span class="num" id="1662250">2</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662253">_ArgsSizeUnknown</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1662281">=</span>&nbsp;<span class="op" id="1662283">-</span><span class="num" id="1662284">0x80000000</span><br>
<span class="lineno"></span><span class="op" id="1662295">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1662298">var</span>&nbsp;<span class="op" id="1662302">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662305">pclntable</span>&nbsp;<span class="op" id="1662315">[</span><span class="op" id="1662316">]</span><span class="builtintype" id="1662317">byte</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662323">ftab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1662333">[</span><span class="op" id="1662334">]</span><span class="ident" id="1662335">functab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662344">filetab</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1662354">[</span><span class="op" id="1662355">]</span><span class="builtintype" id="1662356">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662365">pclntab</span><span class="op" id="1662372">,</span>&nbsp;<span class="ident" id="1662374">epclntab</span>&nbsp;<span class="keyword" id="1662383">struct</span><span class="op" id="1662389">{</span><span class="op" id="1662390">}</span>&nbsp;<span class="comment" id="1662392">//&nbsp;linker&nbsp;symbols</span><br>
<span class="lineno"></span><span class="op" id="1662410">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1662413">type</span>&nbsp;<span class="ident" id="1662418">functab</span>&nbsp;<span class="keyword" id="1662426">struct</span>&nbsp;<span class="op" id="1662433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662436">entry</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1662444">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662453">funcoff</span>&nbsp;<span class="builtintype" id="1662461">uintptr</span><br>
<span class="lineno"></span><span class="op" id="1662469">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="1662472">func</span>&nbsp;<span class="ident" id="1662477">symtabinit</span><span class="op" id="1662487">(</span><span class="op" id="1662488">)</span>&nbsp;<span class="op" id="1662490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1662493">//&nbsp;See&nbsp;golang.org/s/go12symtab&nbsp;for&nbsp;header:&nbsp;0xfffffffb,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1662549">//&nbsp;two&nbsp;zero&nbsp;bytes,&nbsp;a&nbsp;byte&nbsp;giving&nbsp;the&nbsp;PC&nbsp;quantum,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1662599">//&nbsp;and&nbsp;a&nbsp;byte&nbsp;giving&nbsp;the&nbsp;pointer&nbsp;width&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662649">pcln</span>&nbsp;<span class="op" id="1662654">:=</span>&nbsp;<span class="op" id="1662657">(</span><span class="op" id="1662658">*</span><span class="op" id="1662659">[</span><span class="num" id="1662660">8</span><span class="op" id="1662661">]</span><span class="builtintype" id="1662662">byte</span><span class="op" id="1662666">)</span><span class="op" id="1662667">(</span><span class="ident" id="1662668">unsafe</span><span class="op" id="1662674">.</span><span class="ident" id="1662675">Pointer</span><span class="op" id="1662682">(</span><span class="op" id="1662683">&amp;</span><span class="ident" id="1662684">pclntab</span><span class="op" id="1662691">)</span><span class="op" id="1662692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662695">pcln32</span>&nbsp;<span class="op" id="1662702">:=</span>&nbsp;<span class="op" id="1662705">(</span><span class="op" id="1662706">*</span><span class="op" id="1662707">[</span><span class="num" id="1662708">2</span><span class="op" id="1662709">]</span><span class="builtintype" id="1662710">uint32</span><span class="op" id="1662716">)</span><span class="op" id="1662717">(</span><span class="ident" id="1662718">unsafe</span><span class="op" id="1662724">.</span><span class="ident" id="1662725">Pointer</span><span class="op" id="1662732">(</span><span class="op" id="1662733">&amp;</span><span class="ident" id="1662734">pclntab</span><span class="op" id="1662741">)</span><span class="op" id="1662742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1662745">if</span>&nbsp;<span class="ident" id="1662748">pcln32</span><span class="op" id="1662754">[</span><span class="num" id="1662755">0</span><span class="op" id="1662756">]</span>&nbsp;<span class="op" id="1662758">!=</span>&nbsp;<span class="num" id="1662761">0xfffffffb</span>&nbsp;<span class="op" id="1662772">||</span>&nbsp;<span class="ident" id="1662775">pcln</span><span class="op" id="1662779">[</span><span class="num" id="1662780">4</span><span class="op" id="1662781">]</span>&nbsp;<span class="op" id="1662783">!=</span>&nbsp;<span class="num" id="1662786">0</span>&nbsp;<span class="op" id="1662788">||</span>&nbsp;<span class="ident" id="1662791">pcln</span><span class="op" id="1662795">[</span><span class="num" id="1662796">5</span><span class="op" id="1662797">]</span>&nbsp;<span class="op" id="1662799">!=</span>&nbsp;<span class="num" id="1662802">0</span>&nbsp;<span class="op" id="1662804">||</span>&nbsp;<span class="ident" id="1662807">pcln</span><span class="op" id="1662811">[</span><span class="num" id="1662812">6</span><span class="op" id="1662813">]</span>&nbsp;<span class="op" id="1662815">!=</span>&nbsp;<span class="ident" id="1662818">_PCQuantum</span>&nbsp;<span class="op" id="1662829">||</span>&nbsp;<span class="ident" id="1662832">pcln</span><span class="op" id="1662836">[</span><span class="num" id="1662837">7</span><span class="op" id="1662838">]</span>&nbsp;<span class="op" id="1662840">!=</span>&nbsp;<span class="ident" id="1662843">ptrSize</span>&nbsp;<span class="op" id="1662851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1662855">println</span><span class="op" id="1662862">(</span><span class="string" id="1662863">&#34;runtime:&nbsp;function&nbsp;symbol&nbsp;table&nbsp;header:&#34;</span><span class="op" id="1662903">,</span>&nbsp;<span class="ident" id="1662905">hex</span><span class="op" id="1662908">(</span><span class="ident" id="1662909">pcln32</span><span class="op" id="1662915">[</span><span class="num" id="1662916">0</span><span class="op" id="1662917">]</span><span class="op" id="1662918">)</span><span class="op" id="1662919">,</span>&nbsp;<span class="ident" id="1662921">hex</span><span class="op" id="1662924">(</span><span class="ident" id="1662925">pcln</span><span class="op" id="1662929">[</span><span class="num" id="1662930">4</span><span class="op" id="1662931">]</span><span class="op" id="1662932">)</span><span class="op" id="1662933">,</span>&nbsp;<span class="ident" id="1662935">hex</span><span class="op" id="1662938">(</span><span class="ident" id="1662939">pcln</span><span class="op" id="1662943">[</span><span class="num" id="1662944">5</span><span class="op" id="1662945">]</span><span class="op" id="1662946">)</span><span class="op" id="1662947">,</span>&nbsp;<span class="ident" id="1662949">hex</span><span class="op" id="1662952">(</span><span class="ident" id="1662953">pcln</span><span class="op" id="1662957">[</span><span class="num" id="1662958">6</span><span class="op" id="1662959">]</span><span class="op" id="1662960">)</span><span class="op" id="1662961">,</span>&nbsp;<span class="ident" id="1662963">hex</span><span class="op" id="1662966">(</span><span class="ident" id="1662967">pcln</span><span class="op" id="1662971">[</span><span class="num" id="1662972">7</span><span class="op" id="1662973">]</span><span class="op" id="1662974">)</span><span class="op" id="1662975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1662979">gothrow</span><span class="op" id="1662986">(</span><span class="string" id="1662987">&#34;invalid&nbsp;function&nbsp;symbol&nbsp;table\n&#34;</span><span class="op" id="1663020">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1663023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1663027">//&nbsp;pclntable&nbsp;is&nbsp;all&nbsp;bytes&nbsp;of&nbsp;pclntab&nbsp;symbol.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663073">sp</span>&nbsp;<span class="op" id="1663076">:=</span>&nbsp;<span class="op" id="1663079">(</span><span class="op" id="1663080">*</span><span class="ident" id="1663081">sliceStruct</span><span class="op" id="1663092">)</span><span class="op" id="1663093">(</span><span class="ident" id="1663094">unsafe</span><span class="op" id="1663100">.</span><span class="ident" id="1663101">Pointer</span><span class="op" id="1663108">(</span><span class="op" id="1663109">&amp;</span><span class="ident" id="1663110">pclntable</span><span class="op" id="1663119">)</span><span class="op" id="1663120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663123">sp</span><span class="op" id="1663125">.</span><span class="ident" id="1663126">array</span>&nbsp;<span class="op" id="1663132">=</span>&nbsp;<span class="ident" id="1663134">unsafe</span><span class="op" id="1663140">.</span><span class="ident" id="1663141">Pointer</span><span class="op" id="1663148">(</span><span class="op" id="1663149">&amp;</span><span class="ident" id="1663150">pclntab</span><span class="op" id="1663157">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663160">sp</span><span class="op" id="1663162">.</span><span class="builtinfunc" id="1663163">len</span>&nbsp;<span class="op" id="1663167">=</span>&nbsp;<span class="builtintype" id="1663169">int</span><span class="op" id="1663172">(</span><span class="builtintype" id="1663173">uintptr</span><span class="op" id="1663180">(</span><span class="ident" id="1663181">unsafe</span><span class="op" id="1663187">.</span><span class="ident" id="1663188">Pointer</span><span class="op" id="1663195">(</span><span class="op" id="1663196">&amp;</span><span class="ident" id="1663197">epclntab</span><span class="op" id="1663205">)</span><span class="op" id="1663206">)</span>&nbsp;<span class="op" id="1663208">-</span>&nbsp;<span class="builtintype" id="1663210">uintptr</span><span class="op" id="1663217">(</span><span class="ident" id="1663218">unsafe</span><span class="op" id="1663224">.</span><span class="ident" id="1663225">Pointer</span><span class="op" id="1663232">(</span><span class="op" id="1663233">&amp;</span><span class="ident" id="1663234">pclntab</span><span class="op" id="1663241">)</span><span class="op" id="1663242">)</span><span class="op" id="1663243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663246">sp</span><span class="op" id="1663248">.</span><span class="builtinfunc" id="1663249">cap</span>&nbsp;<span class="op" id="1663253">=</span>&nbsp;<span class="ident" id="1663255">sp</span><span class="op" id="1663257">.</span><span class="builtinfunc" id="1663258">len</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1663264">//&nbsp;ftab&nbsp;is&nbsp;lookup&nbsp;table&nbsp;for&nbsp;function&nbsp;by&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663322">nftab</span>&nbsp;<span class="op" id="1663328">:=</span>&nbsp;<span class="builtintype" id="1663331">int</span><span class="op" id="1663334">(</span><span class="op" id="1663335">*</span><span class="op" id="1663336">(</span><span class="op" id="1663337">*</span><span class="builtintype" id="1663338">uintptr</span><span class="op" id="1663345">)</span><span class="op" id="1663346">(</span><span class="ident" id="1663347">add</span><span class="op" id="1663350">(</span><span class="ident" id="1663351">unsafe</span><span class="op" id="1663357">.</span><span class="ident" id="1663358">Pointer</span><span class="op" id="1663365">(</span><span class="ident" id="1663366">pcln</span><span class="op" id="1663370">)</span><span class="op" id="1663371">,</span>&nbsp;<span class="num" id="1663373">8</span><span class="op" id="1663374">)</span><span class="op" id="1663375">)</span><span class="op" id="1663376">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663379">p</span>&nbsp;<span class="op" id="1663381">:=</span>&nbsp;<span class="ident" id="1663384">add</span><span class="op" id="1663387">(</span><span class="ident" id="1663388">unsafe</span><span class="op" id="1663394">.</span><span class="ident" id="1663395">Pointer</span><span class="op" id="1663402">(</span><span class="ident" id="1663403">pcln</span><span class="op" id="1663407">)</span><span class="op" id="1663408">,</span>&nbsp;<span class="num" id="1663410">8</span><span class="op" id="1663411">+</span><span class="ident" id="1663412">ptrSize</span><span class="op" id="1663419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663422">sp</span>&nbsp;<span class="op" id="1663425">=</span>&nbsp;<span class="op" id="1663427">(</span><span class="op" id="1663428">*</span><span class="ident" id="1663429">sliceStruct</span><span class="op" id="1663440">)</span><span class="op" id="1663441">(</span><span class="ident" id="1663442">unsafe</span><span class="op" id="1663448">.</span><span class="ident" id="1663449">Pointer</span><span class="op" id="1663456">(</span><span class="op" id="1663457">&amp;</span><span class="ident" id="1663458">ftab</span><span class="op" id="1663462">)</span><span class="op" id="1663463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663466">sp</span><span class="op" id="1663468">.</span><span class="ident" id="1663469">array</span>&nbsp;<span class="op" id="1663475">=</span>&nbsp;<span class="ident" id="1663477">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663480">sp</span><span class="op" id="1663482">.</span><span class="builtinfunc" id="1663483">len</span>&nbsp;<span class="op" id="1663487">=</span>&nbsp;<span class="ident" id="1663489">nftab</span>&nbsp;<span class="op" id="1663495">+</span>&nbsp;<span class="num" id="1663497">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663500">sp</span><span class="op" id="1663502">.</span><span class="builtinfunc" id="1663503">cap</span>&nbsp;<span class="op" id="1663507">=</span>&nbsp;<span class="ident" id="1663509">sp</span><span class="op" id="1663511">.</span><span class="builtinfunc" id="1663512">len</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1663517">for</span>&nbsp;<span class="ident" id="1663521">i</span>&nbsp;<span class="op" id="1663523">:=</span>&nbsp;<span class="num" id="1663526">0</span><span class="op" id="1663527">;</span>&nbsp;<span class="ident" id="1663529">i</span>&nbsp;<span class="op" id="1663531">&lt;</span>&nbsp;<span class="ident" id="1663533">nftab</span><span class="op" id="1663538">;</span>&nbsp;<span class="ident" id="1663540">i</span><span class="op" id="1663541">++</span>&nbsp;<span class="op" id="1663544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1663548">//&nbsp;NOTE:&nbsp;ftab[nftab].entry&nbsp;is&nbsp;legal;&nbsp;it&nbsp;is&nbsp;the&nbsp;address&nbsp;beyond&nbsp;the&nbsp;final&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1663632">if</span>&nbsp;<span class="ident" id="1663635">ftab</span><span class="op" id="1663639">[</span><span class="ident" id="1663640">i</span><span class="op" id="1663641">]</span><span class="op" id="1663642">.</span><span class="ident" id="1663643">entry</span>&nbsp;<span class="op" id="1663649">&gt;</span>&nbsp;<span class="ident" id="1663651">ftab</span><span class="op" id="1663655">[</span><span class="ident" id="1663656">i</span><span class="op" id="1663657">+</span><span class="num" id="1663658">1</span><span class="op" id="1663659">]</span><span class="op" id="1663660">.</span><span class="ident" id="1663661">entry</span>&nbsp;<span class="op" id="1663667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663672">f1</span>&nbsp;<span class="op" id="1663675">:=</span>&nbsp;<span class="op" id="1663678">(</span><span class="op" id="1663679">*</span><span class="ident" id="1663680">_func</span><span class="op" id="1663685">)</span><span class="op" id="1663686">(</span><span class="ident" id="1663687">unsafe</span><span class="op" id="1663693">.</span><span class="ident" id="1663694">Pointer</span><span class="op" id="1663701">(</span><span class="op" id="1663702">&amp;</span><span class="ident" id="1663703">pclntable</span><span class="op" id="1663712">[</span><span class="ident" id="1663713">ftab</span><span class="op" id="1663717">[</span><span class="ident" id="1663718">i</span><span class="op" id="1663719">]</span><span class="op" id="1663720">.</span><span class="ident" id="1663721">funcoff</span><span class="op" id="1663728">]</span><span class="op" id="1663729">)</span><span class="op" id="1663730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663735">f2</span>&nbsp;<span class="op" id="1663738">:=</span>&nbsp;<span class="op" id="1663741">(</span><span class="op" id="1663742">*</span><span class="ident" id="1663743">_func</span><span class="op" id="1663748">)</span><span class="op" id="1663749">(</span><span class="ident" id="1663750">unsafe</span><span class="op" id="1663756">.</span><span class="ident" id="1663757">Pointer</span><span class="op" id="1663764">(</span><span class="op" id="1663765">&amp;</span><span class="ident" id="1663766">pclntable</span><span class="op" id="1663775">[</span><span class="ident" id="1663776">ftab</span><span class="op" id="1663780">[</span><span class="ident" id="1663781">i</span><span class="op" id="1663782">+</span><span class="num" id="1663783">1</span><span class="op" id="1663784">]</span><span class="op" id="1663785">.</span><span class="ident" id="1663786">funcoff</span><span class="op" id="1663793">]</span><span class="op" id="1663794">)</span><span class="op" id="1663795">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663800">f2name</span>&nbsp;<span class="op" id="1663807">:=</span>&nbsp;<span class="string" id="1663810">&#34;end&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1663819">if</span>&nbsp;<span class="ident" id="1663822">i</span><span class="op" id="1663823">+</span><span class="num" id="1663824">1</span>&nbsp;<span class="op" id="1663826">&lt;</span>&nbsp;<span class="ident" id="1663828">nftab</span>&nbsp;<span class="op" id="1663834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1663840">f2name</span>&nbsp;<span class="op" id="1663847">=</span>&nbsp;<span class="ident" id="1663849">gofuncname</span><span class="op" id="1663859">(</span><span class="ident" id="1663860">f2</span><span class="op" id="1663862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1663867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1663872">println</span><span class="op" id="1663879">(</span><span class="string" id="1663880">&#34;function&nbsp;symbol&nbsp;table&nbsp;not&nbsp;sorted&nbsp;by&nbsp;program&nbsp;counter:&#34;</span><span class="op" id="1663934">,</span>&nbsp;<span class="ident" id="1663936">hex</span><span class="op" id="1663939">(</span><span class="ident" id="1663940">ftab</span><span class="op" id="1663944">[</span><span class="ident" id="1663945">i</span><span class="op" id="1663946">]</span><span class="op" id="1663947">.</span><span class="ident" id="1663948">entry</span><span class="op" id="1663953">)</span><span class="op" id="1663954">,</span>&nbsp;<span class="ident" id="1663956">gofuncname</span><span class="op" id="1663966">(</span><span class="ident" id="1663967">f1</span><span class="op" id="1663969">)</span><span class="op" id="1663970">,</span>&nbsp;<span class="string" id="1663972">&#34;&gt;&#34;</span><span class="op" id="1663975">,</span>&nbsp;<span class="ident" id="1663977">hex</span><span class="op" id="1663980">(</span><span class="ident" id="1663981">ftab</span><span class="op" id="1663985">[</span><span class="ident" id="1663986">i</span><span class="op" id="1663987">+</span><span class="num" id="1663988">1</span><span class="op" id="1663989">]</span><span class="op" id="1663990">.</span><span class="ident" id="1663991">entry</span><span class="op" id="1663996">)</span><span class="op" id="1663997">,</span>&nbsp;<span class="ident" id="1663999">f2name</span><span class="op" id="1664005">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1664010">for</span>&nbsp;<span class="ident" id="1664014">j</span>&nbsp;<span class="op" id="1664016">:=</span>&nbsp;<span class="num" id="1664019">0</span><span class="op" id="1664020">;</span>&nbsp;<span class="ident" id="1664022">j</span>&nbsp;<span class="op" id="1664024">&lt;=</span>&nbsp;<span class="ident" id="1664027">i</span><span class="op" id="1664028">;</span>&nbsp;<span class="ident" id="1664030">j</span><span class="op" id="1664031">++</span>&nbsp;<span class="op" id="1664034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1664040">print</span><span class="op" id="1664045">(</span><span class="string" id="1664046">&#34;\t&#34;</span><span class="op" id="1664050">,</span>&nbsp;<span class="ident" id="1664052">hex</span><span class="op" id="1664055">(</span><span class="ident" id="1664056">ftab</span><span class="op" id="1664060">[</span><span class="ident" id="1664061">j</span><span class="op" id="1664062">]</span><span class="op" id="1664063">.</span><span class="ident" id="1664064">entry</span><span class="op" id="1664069">)</span><span class="op" id="1664070">,</span>&nbsp;<span class="string" id="1664072">&#34;&nbsp;&#34;</span><span class="op" id="1664075">,</span>&nbsp;<span class="ident" id="1664077">gofuncname</span><span class="op" id="1664087">(</span><span class="op" id="1664088">(</span><span class="op" id="1664089">*</span><span class="ident" id="1664090">_func</span><span class="op" id="1664095">)</span><span class="op" id="1664096">(</span><span class="ident" id="1664097">unsafe</span><span class="op" id="1664103">.</span><span class="ident" id="1664104">Pointer</span><span class="op" id="1664111">(</span><span class="op" id="1664112">&amp;</span><span class="ident" id="1664113">pclntable</span><span class="op" id="1664122">[</span><span class="ident" id="1664123">ftab</span><span class="op" id="1664127">[</span><span class="ident" id="1664128">j</span><span class="op" id="1664129">]</span><span class="op" id="1664130">.</span><span class="ident" id="1664131">funcoff</span><span class="op" id="1664138">]</span><span class="op" id="1664139">)</span><span class="op" id="1664140">)</span><span class="op" id="1664141">)</span><span class="op" id="1664142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1664147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664152">gothrow</span><span class="op" id="1664159">(</span><span class="string" id="1664160">&#34;invalid&nbsp;runtime&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="1664190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1664194">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1664197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1664201">//&nbsp;The&nbsp;ftab&nbsp;ends&nbsp;with&nbsp;a&nbsp;half&nbsp;functab&nbsp;consisting&nbsp;only&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1664258">//&nbsp;&#39;entry&#39;,&nbsp;followed&nbsp;by&nbsp;a&nbsp;uint32&nbsp;giving&nbsp;the&nbsp;pcln-relative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1664317">//&nbsp;offset&nbsp;of&nbsp;the&nbsp;file&nbsp;table.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664347">sp</span>&nbsp;<span class="op" id="1664350">=</span>&nbsp;<span class="op" id="1664352">(</span><span class="op" id="1664353">*</span><span class="ident" id="1664354">sliceStruct</span><span class="op" id="1664365">)</span><span class="op" id="1664366">(</span><span class="ident" id="1664367">unsafe</span><span class="op" id="1664373">.</span><span class="ident" id="1664374">Pointer</span><span class="op" id="1664381">(</span><span class="op" id="1664382">&amp;</span><span class="ident" id="1664383">filetab</span><span class="op" id="1664390">)</span><span class="op" id="1664391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664394">end</span>&nbsp;<span class="op" id="1664398">:=</span>&nbsp;<span class="ident" id="1664401">unsafe</span><span class="op" id="1664407">.</span><span class="ident" id="1664408">Pointer</span><span class="op" id="1664415">(</span><span class="op" id="1664416">&amp;</span><span class="ident" id="1664417">ftab</span><span class="op" id="1664421">[</span><span class="ident" id="1664422">nftab</span><span class="op" id="1664427">]</span><span class="op" id="1664428">.</span><span class="ident" id="1664429">funcoff</span><span class="op" id="1664436">)</span>&nbsp;<span class="comment" id="1664438">//&nbsp;just&nbsp;beyond&nbsp;ftab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664459">fileoffset</span>&nbsp;<span class="op" id="1664470">:=</span>&nbsp;<span class="op" id="1664473">*</span><span class="op" id="1664474">(</span><span class="op" id="1664475">*</span><span class="builtintype" id="1664476">uint32</span><span class="op" id="1664482">)</span><span class="op" id="1664483">(</span><span class="ident" id="1664484">end</span><span class="op" id="1664487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664490">sp</span><span class="op" id="1664492">.</span><span class="ident" id="1664493">array</span>&nbsp;<span class="op" id="1664499">=</span>&nbsp;<span class="ident" id="1664501">unsafe</span><span class="op" id="1664507">.</span><span class="ident" id="1664508">Pointer</span><span class="op" id="1664515">(</span><span class="op" id="1664516">&amp;</span><span class="ident" id="1664517">pclntable</span><span class="op" id="1664526">[</span><span class="ident" id="1664527">fileoffset</span><span class="op" id="1664537">]</span><span class="op" id="1664538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1664541">//&nbsp;length&nbsp;is&nbsp;in&nbsp;first&nbsp;element&nbsp;of&nbsp;array.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1664582">//&nbsp;set&nbsp;len&nbsp;to&nbsp;1&nbsp;so&nbsp;we&nbsp;can&nbsp;get&nbsp;first&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664628">sp</span><span class="op" id="1664630">.</span><span class="builtinfunc" id="1664631">len</span>&nbsp;<span class="op" id="1664635">=</span>&nbsp;<span class="num" id="1664637">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664640">sp</span><span class="op" id="1664642">.</span><span class="builtinfunc" id="1664643">cap</span>&nbsp;<span class="op" id="1664647">=</span>&nbsp;<span class="num" id="1664649">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664652">sp</span><span class="op" id="1664654">.</span><span class="builtinfunc" id="1664655">len</span>&nbsp;<span class="op" id="1664659">=</span>&nbsp;<span class="builtintype" id="1664661">int</span><span class="op" id="1664664">(</span><span class="ident" id="1664665">filetab</span><span class="op" id="1664672">[</span><span class="num" id="1664673">0</span><span class="op" id="1664674">]</span><span class="op" id="1664675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1664678">sp</span><span class="op" id="1664680">.</span><span class="builtinfunc" id="1664681">cap</span>&nbsp;<span class="op" id="1664685">=</span>&nbsp;<span class="ident" id="1664687">sp</span><span class="op" id="1664689">.</span><span class="builtinfunc" id="1664690">len</span><br>
<span class="lineno">100</span><span class="op" id="1664694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1664697">//&nbsp;FuncForPC&nbsp;returns&nbsp;a&nbsp;*Func&nbsp;describing&nbsp;the&nbsp;function&nbsp;that&nbsp;contains&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1664768">//&nbsp;given&nbsp;program&nbsp;counter&nbsp;address,&nbsp;or&nbsp;else&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="1664815">func</span>&nbsp;<span class="ident" id="1664820">FuncForPC</span><span class="op" id="1664829">(</span><span class="ident" id="1664830">pc</span>&nbsp;<span class="builtintype" id="1664833">uintptr</span><span class="op" id="1664840">)</span>&nbsp;<span class="op" id="1664842">*</span><span class="ident" id="1664843">Func</span>&nbsp;<span class="op" id="1664848">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1664851">return</span>&nbsp;<span class="op" id="1664858">(</span><span class="op" id="1664859">*</span><span class="ident" id="1664860">Func</span><span class="op" id="1664864">)</span><span class="op" id="1664865">(</span><span class="ident" id="1664866">unsafe</span><span class="op" id="1664872">.</span><span class="ident" id="1664873">Pointer</span><span class="op" id="1664880">(</span><span class="ident" id="1664881">findfunc</span><span class="op" id="1664889">(</span><span class="ident" id="1664890">pc</span><span class="op" id="1664892">)</span><span class="op" id="1664893">)</span><span class="op" id="1664894">)</span><br>
<span class="lineno"></span><span class="op" id="1664896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1664899">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="1664941">func</span>&nbsp;<span class="op" id="1664946">(</span><span class="ident" id="1664947">f</span>&nbsp;<span class="op" id="1664949">*</span><span class="ident" id="1664950">Func</span><span class="op" id="1664954">)</span>&nbsp;<span class="ident" id="1664956">Name</span><span class="op" id="1664960">(</span><span class="op" id="1664961">)</span>&nbsp;<span class="builtintype" id="1664963">string</span>&nbsp;<span class="op" id="1664970">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1664973">return</span>&nbsp;<span class="ident" id="1664980">gofuncname</span><span class="op" id="1664990">(</span><span class="ident" id="1664991">f</span><span class="op" id="1664992">.</span><span class="ident" id="1664993">raw</span><span class="op" id="1664996">(</span><span class="op" id="1664997">)</span><span class="op" id="1664998">)</span><br>
<span class="lineno"></span><span class="op" id="1665000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1665003">//&nbsp;Entry&nbsp;returns&nbsp;the&nbsp;entry&nbsp;address&nbsp;of&nbsp;the&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="1665055">func</span>&nbsp;<span class="op" id="1665060">(</span><span class="ident" id="1665061">f</span>&nbsp;<span class="op" id="1665063">*</span><span class="ident" id="1665064">Func</span><span class="op" id="1665068">)</span>&nbsp;<span class="ident" id="1665070">Entry</span><span class="op" id="1665075">(</span><span class="op" id="1665076">)</span>&nbsp;<span class="builtintype" id="1665078">uintptr</span>&nbsp;<span class="op" id="1665086">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665089">return</span>&nbsp;<span class="ident" id="1665096">f</span><span class="op" id="1665097">.</span><span class="ident" id="1665098">raw</span><span class="op" id="1665101">(</span><span class="op" id="1665102">)</span><span class="op" id="1665103">.</span><span class="ident" id="1665104">entry</span><br>
<span class="lineno"></span><span class="op" id="1665110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1665113">//&nbsp;FileLine&nbsp;returns&nbsp;the&nbsp;file&nbsp;name&nbsp;and&nbsp;line&nbsp;number&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1665170">//&nbsp;source&nbsp;code&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc.</span><br>
<span class="lineno">120</span><span class="comment" id="1665226">//&nbsp;The&nbsp;result&nbsp;will&nbsp;not&nbsp;be&nbsp;accurate&nbsp;if&nbsp;pc&nbsp;is&nbsp;not&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="1665284">//&nbsp;counter&nbsp;within&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="1665305">func</span>&nbsp;<span class="op" id="1665310">(</span><span class="ident" id="1665311">f</span>&nbsp;<span class="op" id="1665313">*</span><span class="ident" id="1665314">Func</span><span class="op" id="1665318">)</span>&nbsp;<span class="ident" id="1665320">FileLine</span><span class="op" id="1665328">(</span><span class="ident" id="1665329">pc</span>&nbsp;<span class="builtintype" id="1665332">uintptr</span><span class="op" id="1665339">)</span>&nbsp;<span class="op" id="1665341">(</span><span class="ident" id="1665342">file</span>&nbsp;<span class="builtintype" id="1665347">string</span><span class="op" id="1665353">,</span>&nbsp;<span class="ident" id="1665355">line</span>&nbsp;<span class="builtintype" id="1665360">int</span><span class="op" id="1665363">)</span>&nbsp;<span class="op" id="1665365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1665368">//&nbsp;Pass&nbsp;strict=false&nbsp;here,&nbsp;because&nbsp;anyone&nbsp;can&nbsp;call&nbsp;this&nbsp;function,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1665435">//&nbsp;and&nbsp;they&nbsp;might&nbsp;just&nbsp;be&nbsp;wrong&nbsp;about&nbsp;targetpc&nbsp;belonging&nbsp;to&nbsp;f.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1665499">line</span>&nbsp;<span class="op" id="1665504">=</span>&nbsp;<span class="builtintype" id="1665506">int</span><span class="op" id="1665509">(</span><span class="ident" id="1665510">funcline1</span><span class="op" id="1665519">(</span><span class="ident" id="1665520">f</span><span class="op" id="1665521">.</span><span class="ident" id="1665522">raw</span><span class="op" id="1665525">(</span><span class="op" id="1665526">)</span><span class="op" id="1665527">,</span>&nbsp;<span class="ident" id="1665529">pc</span><span class="op" id="1665531">,</span>&nbsp;<span class="op" id="1665533">&amp;</span><span class="ident" id="1665534">file</span><span class="op" id="1665538">,</span>&nbsp;<span class="builtintype" id="1665540">false</span><span class="op" id="1665545">)</span><span class="op" id="1665546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665549">return</span>&nbsp;<span class="ident" id="1665556">file</span><span class="op" id="1665560">,</span>&nbsp;<span class="ident" id="1665562">line</span><br>
<span class="lineno"></span><span class="op" id="1665567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1665570">func</span>&nbsp;<span class="ident" id="1665575">findfunc</span><span class="op" id="1665583">(</span><span class="ident" id="1665584">pc</span>&nbsp;<span class="builtintype" id="1665587">uintptr</span><span class="op" id="1665594">)</span>&nbsp;<span class="op" id="1665596">*</span><span class="ident" id="1665597">_func</span>&nbsp;<span class="op" id="1665603">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665606">if</span>&nbsp;<span class="builtinfunc" id="1665609">len</span><span class="op" id="1665612">(</span><span class="ident" id="1665613">ftab</span><span class="op" id="1665617">)</span>&nbsp;<span class="op" id="1665619">==</span>&nbsp;<span class="num" id="1665622">0</span>&nbsp;<span class="op" id="1665624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665628">return</span>&nbsp;<span class="builtintype" id="1665635">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1665640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665644">if</span>&nbsp;<span class="ident" id="1665647">pc</span>&nbsp;<span class="op" id="1665650">&lt;</span>&nbsp;<span class="ident" id="1665652">ftab</span><span class="op" id="1665656">[</span><span class="num" id="1665657">0</span><span class="op" id="1665658">]</span><span class="op" id="1665659">.</span><span class="ident" id="1665660">entry</span>&nbsp;<span class="op" id="1665666">||</span>&nbsp;<span class="ident" id="1665669">pc</span>&nbsp;<span class="op" id="1665672">&gt;=</span>&nbsp;<span class="ident" id="1665675">ftab</span><span class="op" id="1665679">[</span><span class="builtinfunc" id="1665680">len</span><span class="op" id="1665683">(</span><span class="ident" id="1665684">ftab</span><span class="op" id="1665688">)</span><span class="op" id="1665689">-</span><span class="num" id="1665690">1</span><span class="op" id="1665691">]</span><span class="op" id="1665692">.</span><span class="ident" id="1665693">entry</span>&nbsp;<span class="op" id="1665699">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665703">return</span>&nbsp;<span class="builtintype" id="1665710">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1665715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1665719">//&nbsp;binary&nbsp;search&nbsp;to&nbsp;find&nbsp;func&nbsp;with&nbsp;entry&nbsp;&lt;=&nbsp;pc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1665768">lo</span>&nbsp;<span class="op" id="1665771">:=</span>&nbsp;<span class="num" id="1665774">0</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1665777">nf</span>&nbsp;<span class="op" id="1665780">:=</span>&nbsp;<span class="builtinfunc" id="1665783">len</span><span class="op" id="1665786">(</span><span class="ident" id="1665787">ftab</span><span class="op" id="1665791">)</span>&nbsp;<span class="op" id="1665793">-</span>&nbsp;<span class="num" id="1665795">1</span>&nbsp;<span class="comment" id="1665797">//&nbsp;last&nbsp;entry&nbsp;is&nbsp;sentinel</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665824">for</span>&nbsp;<span class="ident" id="1665828">nf</span>&nbsp;<span class="op" id="1665831">&gt;</span>&nbsp;<span class="num" id="1665833">0</span>&nbsp;<span class="op" id="1665835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1665839">n</span>&nbsp;<span class="op" id="1665841">:=</span>&nbsp;<span class="ident" id="1665844">nf</span>&nbsp;<span class="op" id="1665847">/</span>&nbsp;<span class="num" id="1665849">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1665853">f</span>&nbsp;<span class="op" id="1665855">:=</span>&nbsp;<span class="op" id="1665858">&amp;</span><span class="ident" id="1665859">ftab</span><span class="op" id="1665863">[</span><span class="ident" id="1665864">lo</span><span class="op" id="1665866">+</span><span class="ident" id="1665867">n</span><span class="op" id="1665868">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665872">if</span>&nbsp;<span class="ident" id="1665875">f</span><span class="op" id="1665876">.</span><span class="ident" id="1665877">entry</span>&nbsp;<span class="op" id="1665883">&lt;=</span>&nbsp;<span class="ident" id="1665886">pc</span>&nbsp;<span class="op" id="1665889">&amp;&amp;</span>&nbsp;<span class="ident" id="1665892">pc</span>&nbsp;<span class="op" id="1665895">&lt;</span>&nbsp;<span class="ident" id="1665897">ftab</span><span class="op" id="1665901">[</span><span class="ident" id="1665902">lo</span><span class="op" id="1665904">+</span><span class="ident" id="1665905">n</span><span class="op" id="1665906">+</span><span class="num" id="1665907">1</span><span class="op" id="1665908">]</span><span class="op" id="1665909">.</span><span class="ident" id="1665910">entry</span>&nbsp;<span class="op" id="1665916">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1665921">return</span>&nbsp;<span class="op" id="1665928">(</span><span class="op" id="1665929">*</span><span class="ident" id="1665930">_func</span><span class="op" id="1665935">)</span><span class="op" id="1665936">(</span><span class="ident" id="1665937">unsafe</span><span class="op" id="1665943">.</span><span class="ident" id="1665944">Pointer</span><span class="op" id="1665951">(</span><span class="op" id="1665952">&amp;</span><span class="ident" id="1665953">pclntable</span><span class="op" id="1665962">[</span><span class="ident" id="1665963">f</span><span class="op" id="1665964">.</span><span class="ident" id="1665965">funcoff</span><span class="op" id="1665972">]</span><span class="op" id="1665973">)</span><span class="op" id="1665974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1665978">}</span>&nbsp;<span class="keyword" id="1665980">else</span>&nbsp;<span class="keyword" id="1665985">if</span>&nbsp;<span class="ident" id="1665988">pc</span>&nbsp;<span class="op" id="1665991">&lt;</span>&nbsp;<span class="ident" id="1665993">f</span><span class="op" id="1665994">.</span><span class="ident" id="1665995">entry</span>&nbsp;<span class="op" id="1666001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666006">nf</span>&nbsp;<span class="op" id="1666009">=</span>&nbsp;<span class="ident" id="1666011">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666015">}</span>&nbsp;<span class="keyword" id="1666017">else</span>&nbsp;<span class="op" id="1666022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666027">lo</span>&nbsp;<span class="op" id="1666030">+=</span>&nbsp;<span class="ident" id="1666033">n</span>&nbsp;<span class="op" id="1666035">+</span>&nbsp;<span class="num" id="1666037">1</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666042">nf</span>&nbsp;<span class="op" id="1666045">-=</span>&nbsp;<span class="ident" id="1666048">n</span>&nbsp;<span class="op" id="1666050">+</span>&nbsp;<span class="num" id="1666052">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666063">gothrow</span><span class="op" id="1666070">(</span><span class="string" id="1666071">&#34;findfunc:&nbsp;binary&nbsp;search&nbsp;failed&#34;</span><span class="op" id="1666103">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666106">return</span>&nbsp;<span class="builtintype" id="1666113">nil</span><br>
<span class="lineno"></span><span class="op" id="1666117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1666120">func</span>&nbsp;<span class="ident" id="1666125">pcvalue</span><span class="op" id="1666132">(</span><span class="ident" id="1666133">f</span>&nbsp;<span class="op" id="1666135">*</span><span class="ident" id="1666136">_func</span><span class="op" id="1666141">,</span>&nbsp;<span class="ident" id="1666143">off</span>&nbsp;<span class="builtintype" id="1666147">int32</span><span class="op" id="1666152">,</span>&nbsp;<span class="ident" id="1666154">targetpc</span>&nbsp;<span class="builtintype" id="1666163">uintptr</span><span class="op" id="1666170">,</span>&nbsp;<span class="ident" id="1666172">strict</span>&nbsp;<span class="builtintype" id="1666179">bool</span><span class="op" id="1666183">)</span>&nbsp;<span class="builtintype" id="1666185">int32</span>&nbsp;<span class="op" id="1666191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666194">if</span>&nbsp;<span class="ident" id="1666197">off</span>&nbsp;<span class="op" id="1666201">==</span>&nbsp;<span class="num" id="1666204">0</span>&nbsp;<span class="op" id="1666206">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666210">return</span>&nbsp;<span class="op" id="1666217">-</span><span class="num" id="1666218">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666224">p</span>&nbsp;<span class="op" id="1666226">:=</span>&nbsp;<span class="ident" id="1666229">pclntable</span><span class="op" id="1666238">[</span><span class="ident" id="1666239">off</span><span class="op" id="1666242">:</span><span class="op" id="1666243">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666246">pc</span>&nbsp;<span class="op" id="1666249">:=</span>&nbsp;<span class="ident" id="1666252">f</span><span class="op" id="1666253">.</span><span class="ident" id="1666254">entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666261">val</span>&nbsp;<span class="op" id="1666265">:=</span>&nbsp;<span class="builtintype" id="1666268">int32</span><span class="op" id="1666273">(</span><span class="op" id="1666274">-</span><span class="num" id="1666275">1</span><span class="op" id="1666276">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666279">for</span>&nbsp;<span class="op" id="1666283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666287">var</span>&nbsp;<span class="ident" id="1666291">ok</span>&nbsp;<span class="builtintype" id="1666294">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666301">p</span><span class="op" id="1666302">,</span>&nbsp;<span class="ident" id="1666304">ok</span>&nbsp;<span class="op" id="1666307">=</span>&nbsp;<span class="ident" id="1666309">step</span><span class="op" id="1666313">(</span><span class="ident" id="1666314">p</span><span class="op" id="1666315">,</span>&nbsp;<span class="op" id="1666317">&amp;</span><span class="ident" id="1666318">pc</span><span class="op" id="1666320">,</span>&nbsp;<span class="op" id="1666322">&amp;</span><span class="ident" id="1666323">val</span><span class="op" id="1666326">,</span>&nbsp;<span class="ident" id="1666328">pc</span>&nbsp;<span class="op" id="1666331">==</span>&nbsp;<span class="ident" id="1666334">f</span><span class="op" id="1666335">.</span><span class="ident" id="1666336">entry</span><span class="op" id="1666341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666345">if</span>&nbsp;<span class="op" id="1666348">!</span><span class="ident" id="1666349">ok</span>&nbsp;<span class="op" id="1666352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666357">break</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666369">if</span>&nbsp;<span class="ident" id="1666372">targetpc</span>&nbsp;<span class="op" id="1666381">&lt;</span>&nbsp;<span class="ident" id="1666383">pc</span>&nbsp;<span class="op" id="1666386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666391">return</span>&nbsp;<span class="ident" id="1666398">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666407">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1666411">//&nbsp;If&nbsp;there&nbsp;was&nbsp;a&nbsp;table,&nbsp;it&nbsp;should&nbsp;have&nbsp;covered&nbsp;all&nbsp;program&nbsp;counters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1666482">//&nbsp;If&nbsp;not,&nbsp;something&nbsp;is&nbsp;wrong.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666514">if</span>&nbsp;<span class="ident" id="1666517">panicking</span>&nbsp;<span class="op" id="1666527">!=</span>&nbsp;<span class="num" id="1666530">0</span>&nbsp;<span class="op" id="1666532">||</span>&nbsp;<span class="op" id="1666535">!</span><span class="ident" id="1666536">strict</span>&nbsp;<span class="op" id="1666543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666547">return</span>&nbsp;<span class="op" id="1666554">-</span><span class="num" id="1666555">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1666562">print</span><span class="op" id="1666567">(</span><span class="string" id="1666568">&#34;runtime:&nbsp;invalid&nbsp;pc-encoded&nbsp;table&nbsp;f=&#34;</span><span class="op" id="1666606">,</span>&nbsp;<span class="ident" id="1666608">gofuncname</span><span class="op" id="1666618">(</span><span class="ident" id="1666619">f</span><span class="op" id="1666620">)</span><span class="op" id="1666621">,</span>&nbsp;<span class="string" id="1666623">&#34;&nbsp;pc=&#34;</span><span class="op" id="1666629">,</span>&nbsp;<span class="ident" id="1666631">hex</span><span class="op" id="1666634">(</span><span class="ident" id="1666635">pc</span><span class="op" id="1666637">)</span><span class="op" id="1666638">,</span>&nbsp;<span class="string" id="1666640">&#34;&nbsp;targetpc=&#34;</span><span class="op" id="1666652">,</span>&nbsp;<span class="ident" id="1666654">hex</span><span class="op" id="1666657">(</span><span class="ident" id="1666658">targetpc</span><span class="op" id="1666666">)</span><span class="op" id="1666667">,</span>&nbsp;<span class="string" id="1666669">&#34;&nbsp;tab=&#34;</span><span class="op" id="1666676">,</span>&nbsp;<span class="ident" id="1666678">p</span><span class="op" id="1666679">,</span>&nbsp;<span class="string" id="1666681">&#34;\n&#34;</span><span class="op" id="1666685">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666689">p</span>&nbsp;<span class="op" id="1666691">=</span>&nbsp;<span class="ident" id="1666693">pclntable</span><span class="op" id="1666702">[</span><span class="ident" id="1666703">off</span><span class="op" id="1666706">:</span><span class="op" id="1666707">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666710">pc</span>&nbsp;<span class="op" id="1666713">=</span>&nbsp;<span class="ident" id="1666715">f</span><span class="op" id="1666716">.</span><span class="ident" id="1666717">entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666724">val</span>&nbsp;<span class="op" id="1666728">=</span>&nbsp;<span class="op" id="1666730">-</span><span class="num" id="1666731">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666734">for</span>&nbsp;<span class="op" id="1666738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666742">var</span>&nbsp;<span class="ident" id="1666746">ok</span>&nbsp;<span class="builtintype" id="1666749">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666756">p</span><span class="op" id="1666757">,</span>&nbsp;<span class="ident" id="1666759">ok</span>&nbsp;<span class="op" id="1666762">=</span>&nbsp;<span class="ident" id="1666764">step</span><span class="op" id="1666768">(</span><span class="ident" id="1666769">p</span><span class="op" id="1666770">,</span>&nbsp;<span class="op" id="1666772">&amp;</span><span class="ident" id="1666773">pc</span><span class="op" id="1666775">,</span>&nbsp;<span class="op" id="1666777">&amp;</span><span class="ident" id="1666778">val</span><span class="op" id="1666781">,</span>&nbsp;<span class="ident" id="1666783">pc</span>&nbsp;<span class="op" id="1666786">==</span>&nbsp;<span class="ident" id="1666789">f</span><span class="op" id="1666790">.</span><span class="ident" id="1666791">entry</span><span class="op" id="1666796">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666800">if</span>&nbsp;<span class="op" id="1666803">!</span><span class="ident" id="1666804">ok</span>&nbsp;<span class="op" id="1666807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666812">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1666824">print</span><span class="op" id="1666829">(</span><span class="string" id="1666830">&#34;\tvalue=&#34;</span><span class="op" id="1666840">,</span>&nbsp;<span class="ident" id="1666842">val</span><span class="op" id="1666845">,</span>&nbsp;<span class="string" id="1666847">&#34;&nbsp;until&nbsp;pc=&#34;</span><span class="op" id="1666859">,</span>&nbsp;<span class="ident" id="1666861">hex</span><span class="op" id="1666864">(</span><span class="ident" id="1666865">pc</span><span class="op" id="1666867">)</span><span class="op" id="1666868">,</span>&nbsp;<span class="string" id="1666870">&#34;\n&#34;</span><span class="op" id="1666874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1666877">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1666881">gothrow</span><span class="op" id="1666888">(</span><span class="string" id="1666889">&#34;invalid&nbsp;runtime&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="1666919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666922">return</span>&nbsp;<span class="op" id="1666929">-</span><span class="num" id="1666930">1</span><br>
<span class="lineno"></span><span class="op" id="1666932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="1666935">func</span>&nbsp;<span class="ident" id="1666940">funcname</span><span class="op" id="1666948">(</span><span class="ident" id="1666949">f</span>&nbsp;<span class="op" id="1666951">*</span><span class="ident" id="1666952">_func</span><span class="op" id="1666957">)</span>&nbsp;<span class="op" id="1666959">*</span><span class="builtintype" id="1666960">byte</span>&nbsp;<span class="op" id="1666965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1666968">if</span>&nbsp;<span class="ident" id="1666971">f</span>&nbsp;<span class="op" id="1666973">==</span>&nbsp;<span class="builtintype" id="1666976">nil</span>&nbsp;<span class="op" id="1666980">||</span>&nbsp;<span class="ident" id="1666983">f</span><span class="op" id="1666984">.</span><span class="ident" id="1666985">nameoff</span>&nbsp;<span class="op" id="1666993">==</span>&nbsp;<span class="num" id="1666996">0</span>&nbsp;<span class="op" id="1666998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667002">return</span>&nbsp;<span class="builtintype" id="1667009">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1667014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667017">return</span>&nbsp;<span class="op" id="1667024">(</span><span class="op" id="1667025">*</span><span class="builtintype" id="1667026">byte</span><span class="op" id="1667030">)</span><span class="op" id="1667031">(</span><span class="ident" id="1667032">unsafe</span><span class="op" id="1667038">.</span><span class="ident" id="1667039">Pointer</span><span class="op" id="1667046">(</span><span class="op" id="1667047">&amp;</span><span class="ident" id="1667048">pclntable</span><span class="op" id="1667057">[</span><span class="ident" id="1667058">f</span><span class="op" id="1667059">.</span><span class="ident" id="1667060">nameoff</span><span class="op" id="1667067">]</span><span class="op" id="1667068">)</span><span class="op" id="1667069">)</span><br>
<span class="lineno">205</span><span class="op" id="1667071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1667074">func</span>&nbsp;<span class="ident" id="1667079">gofuncname</span><span class="op" id="1667089">(</span><span class="ident" id="1667090">f</span>&nbsp;<span class="op" id="1667092">*</span><span class="ident" id="1667093">_func</span><span class="op" id="1667098">)</span>&nbsp;<span class="builtintype" id="1667100">string</span>&nbsp;<span class="op" id="1667107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667110">return</span>&nbsp;<span class="ident" id="1667117">gostringnocopy</span><span class="op" id="1667131">(</span><span class="ident" id="1667132">funcname</span><span class="op" id="1667140">(</span><span class="ident" id="1667141">f</span><span class="op" id="1667142">)</span><span class="op" id="1667143">)</span><br>
<span class="lineno"></span><span class="op" id="1667145">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="1667148">func</span>&nbsp;<span class="ident" id="1667153">funcline1</span><span class="op" id="1667162">(</span><span class="ident" id="1667163">f</span>&nbsp;<span class="op" id="1667165">*</span><span class="ident" id="1667166">_func</span><span class="op" id="1667171">,</span>&nbsp;<span class="ident" id="1667173">targetpc</span>&nbsp;<span class="builtintype" id="1667182">uintptr</span><span class="op" id="1667189">,</span>&nbsp;<span class="ident" id="1667191">file</span>&nbsp;<span class="op" id="1667196">*</span><span class="builtintype" id="1667197">string</span><span class="op" id="1667203">,</span>&nbsp;<span class="ident" id="1667205">strict</span>&nbsp;<span class="builtintype" id="1667212">bool</span><span class="op" id="1667216">)</span>&nbsp;<span class="builtintype" id="1667218">int32</span>&nbsp;<span class="op" id="1667224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1667227">*</span><span class="ident" id="1667228">file</span>&nbsp;<span class="op" id="1667233">=</span>&nbsp;<span class="string" id="1667235">&#34;?&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1667240">fileno</span>&nbsp;<span class="op" id="1667247">:=</span>&nbsp;<span class="builtintype" id="1667250">int</span><span class="op" id="1667253">(</span><span class="ident" id="1667254">pcvalue</span><span class="op" id="1667261">(</span><span class="ident" id="1667262">f</span><span class="op" id="1667263">,</span>&nbsp;<span class="ident" id="1667265">f</span><span class="op" id="1667266">.</span><span class="ident" id="1667267">pcfile</span><span class="op" id="1667273">,</span>&nbsp;<span class="ident" id="1667275">targetpc</span><span class="op" id="1667283">,</span>&nbsp;<span class="ident" id="1667285">strict</span><span class="op" id="1667291">)</span><span class="op" id="1667292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1667295">line</span>&nbsp;<span class="op" id="1667300">:=</span>&nbsp;<span class="ident" id="1667303">pcvalue</span><span class="op" id="1667310">(</span><span class="ident" id="1667311">f</span><span class="op" id="1667312">,</span>&nbsp;<span class="ident" id="1667314">f</span><span class="op" id="1667315">.</span><span class="ident" id="1667316">pcln</span><span class="op" id="1667320">,</span>&nbsp;<span class="ident" id="1667322">targetpc</span><span class="op" id="1667330">,</span>&nbsp;<span class="ident" id="1667332">strict</span><span class="op" id="1667338">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667341">if</span>&nbsp;<span class="ident" id="1667344">fileno</span>&nbsp;<span class="op" id="1667351">==</span>&nbsp;<span class="op" id="1667354">-</span><span class="num" id="1667355">1</span>&nbsp;<span class="op" id="1667357">||</span>&nbsp;<span class="ident" id="1667360">line</span>&nbsp;<span class="op" id="1667365">==</span>&nbsp;<span class="op" id="1667368">-</span><span class="num" id="1667369">1</span>&nbsp;<span class="op" id="1667371">||</span>&nbsp;<span class="ident" id="1667374">fileno</span>&nbsp;<span class="op" id="1667381">&gt;=</span>&nbsp;<span class="builtinfunc" id="1667384">len</span><span class="op" id="1667387">(</span><span class="ident" id="1667388">filetab</span><span class="op" id="1667395">)</span>&nbsp;<span class="op" id="1667397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1667401">//&nbsp;print(&#34;looking&nbsp;for&nbsp;&#34;,&nbsp;hex(targetpc),&nbsp;&#34;&nbsp;in&nbsp;&#34;,&nbsp;gofuncname(f),&nbsp;&#34;&nbsp;got&nbsp;file=&#34;,&nbsp;fileno,&nbsp;&#34;&nbsp;line=&#34;,&nbsp;lineno,&nbsp;&#34;\n&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667512">return</span>&nbsp;<span class="num" id="1667519">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1667522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1667525">*</span><span class="ident" id="1667526">file</span>&nbsp;<span class="op" id="1667531">=</span>&nbsp;<span class="ident" id="1667533">gostringnocopy</span><span class="op" id="1667547">(</span><span class="op" id="1667548">&amp;</span><span class="ident" id="1667549">pclntable</span><span class="op" id="1667558">[</span><span class="ident" id="1667559">filetab</span><span class="op" id="1667566">[</span><span class="ident" id="1667567">fileno</span><span class="op" id="1667573">]</span><span class="op" id="1667574">]</span><span class="op" id="1667575">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667578">return</span>&nbsp;<span class="ident" id="1667585">line</span><br>
<span class="lineno"></span><span class="op" id="1667590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1667593">func</span>&nbsp;<span class="ident" id="1667598">funcline</span><span class="op" id="1667606">(</span><span class="ident" id="1667607">f</span>&nbsp;<span class="op" id="1667609">*</span><span class="ident" id="1667610">_func</span><span class="op" id="1667615">,</span>&nbsp;<span class="ident" id="1667617">targetpc</span>&nbsp;<span class="builtintype" id="1667626">uintptr</span><span class="op" id="1667633">,</span>&nbsp;<span class="ident" id="1667635">file</span>&nbsp;<span class="op" id="1667640">*</span><span class="builtintype" id="1667641">string</span><span class="op" id="1667647">)</span>&nbsp;<span class="builtintype" id="1667649">int32</span>&nbsp;<span class="op" id="1667655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667658">return</span>&nbsp;<span class="ident" id="1667665">funcline1</span><span class="op" id="1667674">(</span><span class="ident" id="1667675">f</span><span class="op" id="1667676">,</span>&nbsp;<span class="ident" id="1667678">targetpc</span><span class="op" id="1667686">,</span>&nbsp;<span class="ident" id="1667688">file</span><span class="op" id="1667692">,</span>&nbsp;<span class="builtintype" id="1667694">true</span><span class="op" id="1667698">)</span><br>
<span class="lineno">225</span><span class="op" id="1667700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1667703">func</span>&nbsp;<span class="ident" id="1667708">funcspdelta</span><span class="op" id="1667719">(</span><span class="ident" id="1667720">f</span>&nbsp;<span class="op" id="1667722">*</span><span class="ident" id="1667723">_func</span><span class="op" id="1667728">,</span>&nbsp;<span class="ident" id="1667730">targetpc</span>&nbsp;<span class="builtintype" id="1667739">uintptr</span><span class="op" id="1667746">)</span>&nbsp;<span class="builtintype" id="1667748">int32</span>&nbsp;<span class="op" id="1667754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1667757">x</span>&nbsp;<span class="op" id="1667759">:=</span>&nbsp;<span class="ident" id="1667762">pcvalue</span><span class="op" id="1667769">(</span><span class="ident" id="1667770">f</span><span class="op" id="1667771">,</span>&nbsp;<span class="ident" id="1667773">f</span><span class="op" id="1667774">.</span><span class="ident" id="1667775">pcsp</span><span class="op" id="1667779">,</span>&nbsp;<span class="ident" id="1667781">targetpc</span><span class="op" id="1667789">,</span>&nbsp;<span class="builtintype" id="1667791">true</span><span class="op" id="1667795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667798">if</span>&nbsp;<span class="ident" id="1667801">x</span><span class="op" id="1667802">&amp;</span><span class="op" id="1667803">(</span><span class="ident" id="1667804">ptrSize</span><span class="op" id="1667811">-</span><span class="num" id="1667812">1</span><span class="op" id="1667813">)</span>&nbsp;<span class="op" id="1667815">!=</span>&nbsp;<span class="num" id="1667818">0</span>&nbsp;<span class="op" id="1667820">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1667824">print</span><span class="op" id="1667829">(</span><span class="string" id="1667830">&#34;invalid&nbsp;spdelta&nbsp;&#34;</span><span class="op" id="1667848">,</span>&nbsp;<span class="ident" id="1667850">hex</span><span class="op" id="1667853">(</span><span class="ident" id="1667854">f</span><span class="op" id="1667855">.</span><span class="ident" id="1667856">entry</span><span class="op" id="1667861">)</span><span class="op" id="1667862">,</span>&nbsp;<span class="string" id="1667864">&#34;&nbsp;&#34;</span><span class="op" id="1667867">,</span>&nbsp;<span class="ident" id="1667869">hex</span><span class="op" id="1667872">(</span><span class="ident" id="1667873">targetpc</span><span class="op" id="1667881">)</span><span class="op" id="1667882">,</span>&nbsp;<span class="string" id="1667884">&#34;&nbsp;&#34;</span><span class="op" id="1667887">,</span>&nbsp;<span class="ident" id="1667889">hex</span><span class="op" id="1667892">(</span><span class="ident" id="1667893">f</span><span class="op" id="1667894">.</span><span class="ident" id="1667895">pcsp</span><span class="op" id="1667899">)</span><span class="op" id="1667900">,</span>&nbsp;<span class="string" id="1667902">&#34;&nbsp;&#34;</span><span class="op" id="1667905">,</span>&nbsp;<span class="ident" id="1667907">x</span><span class="op" id="1667908">,</span>&nbsp;<span class="string" id="1667910">&#34;\n&#34;</span><span class="op" id="1667914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1667917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667920">return</span>&nbsp;<span class="ident" id="1667927">x</span><br>
<span class="lineno"></span><span class="op" id="1667929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="1667932">func</span>&nbsp;<span class="ident" id="1667937">pcdatavalue</span><span class="op" id="1667948">(</span><span class="ident" id="1667949">f</span>&nbsp;<span class="op" id="1667951">*</span><span class="ident" id="1667952">_func</span><span class="op" id="1667957">,</span>&nbsp;<span class="ident" id="1667959">table</span>&nbsp;<span class="builtintype" id="1667965">int32</span><span class="op" id="1667970">,</span>&nbsp;<span class="ident" id="1667972">targetpc</span>&nbsp;<span class="builtintype" id="1667981">uintptr</span><span class="op" id="1667988">)</span>&nbsp;<span class="builtintype" id="1667990">int32</span>&nbsp;<span class="op" id="1667996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1667999">if</span>&nbsp;<span class="ident" id="1668002">table</span>&nbsp;<span class="op" id="1668008">&lt;</span>&nbsp;<span class="num" id="1668010">0</span>&nbsp;<span class="op" id="1668012">||</span>&nbsp;<span class="ident" id="1668015">table</span>&nbsp;<span class="op" id="1668021">&gt;=</span>&nbsp;<span class="ident" id="1668024">f</span><span class="op" id="1668025">.</span><span class="ident" id="1668026">npcdata</span>&nbsp;<span class="op" id="1668034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668038">return</span>&nbsp;<span class="op" id="1668045">-</span><span class="num" id="1668046">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668052">off</span>&nbsp;<span class="op" id="1668056">:=</span>&nbsp;<span class="op" id="1668059">*</span><span class="op" id="1668060">(</span><span class="op" id="1668061">*</span><span class="builtintype" id="1668062">int32</span><span class="op" id="1668067">)</span><span class="op" id="1668068">(</span><span class="ident" id="1668069">add</span><span class="op" id="1668072">(</span><span class="ident" id="1668073">unsafe</span><span class="op" id="1668079">.</span><span class="ident" id="1668080">Pointer</span><span class="op" id="1668087">(</span><span class="op" id="1668088">&amp;</span><span class="ident" id="1668089">f</span><span class="op" id="1668090">.</span><span class="ident" id="1668091">nfuncdata</span><span class="op" id="1668100">)</span><span class="op" id="1668101">,</span>&nbsp;<span class="ident" id="1668103">unsafe</span><span class="op" id="1668109">.</span><span class="ident" id="1668110">Sizeof</span><span class="op" id="1668116">(</span><span class="ident" id="1668117">f</span><span class="op" id="1668118">.</span><span class="ident" id="1668119">nfuncdata</span><span class="op" id="1668128">)</span><span class="op" id="1668129">+</span><span class="builtintype" id="1668130">uintptr</span><span class="op" id="1668137">(</span><span class="ident" id="1668138">table</span><span class="op" id="1668143">)</span><span class="op" id="1668144">*</span><span class="num" id="1668145">4</span><span class="op" id="1668146">)</span><span class="op" id="1668147">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668150">return</span>&nbsp;<span class="ident" id="1668157">pcvalue</span><span class="op" id="1668164">(</span><span class="ident" id="1668165">f</span><span class="op" id="1668166">,</span>&nbsp;<span class="ident" id="1668168">off</span><span class="op" id="1668171">,</span>&nbsp;<span class="ident" id="1668173">targetpc</span><span class="op" id="1668181">,</span>&nbsp;<span class="builtintype" id="1668183">true</span><span class="op" id="1668187">)</span><br>
<span class="lineno"></span><span class="op" id="1668189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1668192">func</span>&nbsp;<span class="ident" id="1668197">funcdata</span><span class="op" id="1668205">(</span><span class="ident" id="1668206">f</span>&nbsp;<span class="op" id="1668208">*</span><span class="ident" id="1668209">_func</span><span class="op" id="1668214">,</span>&nbsp;<span class="ident" id="1668216">i</span>&nbsp;<span class="builtintype" id="1668218">int32</span><span class="op" id="1668223">)</span>&nbsp;<span class="ident" id="1668225">unsafe</span><span class="op" id="1668231">.</span><span class="ident" id="1668232">Pointer</span>&nbsp;<span class="op" id="1668240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668243">if</span>&nbsp;<span class="ident" id="1668246">i</span>&nbsp;<span class="op" id="1668248">&lt;</span>&nbsp;<span class="num" id="1668250">0</span>&nbsp;<span class="op" id="1668252">||</span>&nbsp;<span class="ident" id="1668255">i</span>&nbsp;<span class="op" id="1668257">&gt;=</span>&nbsp;<span class="ident" id="1668260">f</span><span class="op" id="1668261">.</span><span class="ident" id="1668262">nfuncdata</span>&nbsp;<span class="op" id="1668272">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668276">return</span>&nbsp;<span class="builtintype" id="1668283">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668291">p</span>&nbsp;<span class="op" id="1668293">:=</span>&nbsp;<span class="ident" id="1668296">add</span><span class="op" id="1668299">(</span><span class="ident" id="1668300">unsafe</span><span class="op" id="1668306">.</span><span class="ident" id="1668307">Pointer</span><span class="op" id="1668314">(</span><span class="op" id="1668315">&amp;</span><span class="ident" id="1668316">f</span><span class="op" id="1668317">.</span><span class="ident" id="1668318">nfuncdata</span><span class="op" id="1668327">)</span><span class="op" id="1668328">,</span>&nbsp;<span class="ident" id="1668330">unsafe</span><span class="op" id="1668336">.</span><span class="ident" id="1668337">Sizeof</span><span class="op" id="1668343">(</span><span class="ident" id="1668344">f</span><span class="op" id="1668345">.</span><span class="ident" id="1668346">nfuncdata</span><span class="op" id="1668355">)</span><span class="op" id="1668356">+</span><span class="builtintype" id="1668357">uintptr</span><span class="op" id="1668364">(</span><span class="ident" id="1668365">f</span><span class="op" id="1668366">.</span><span class="ident" id="1668367">npcdata</span><span class="op" id="1668374">)</span><span class="op" id="1668375">*</span><span class="num" id="1668376">4</span><span class="op" id="1668377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668380">if</span>&nbsp;<span class="ident" id="1668383">ptrSize</span>&nbsp;<span class="op" id="1668391">==</span>&nbsp;<span class="num" id="1668394">8</span>&nbsp;<span class="op" id="1668396">&amp;&amp;</span>&nbsp;<span class="builtintype" id="1668399">uintptr</span><span class="op" id="1668406">(</span><span class="ident" id="1668407">p</span><span class="op" id="1668408">)</span><span class="op" id="1668409">&amp;</span><span class="num" id="1668410">4</span>&nbsp;<span class="op" id="1668412">!=</span>&nbsp;<span class="num" id="1668415">0</span>&nbsp;<span class="op" id="1668417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668421">if</span>&nbsp;<span class="builtintype" id="1668424">uintptr</span><span class="op" id="1668431">(</span><span class="ident" id="1668432">unsafe</span><span class="op" id="1668438">.</span><span class="ident" id="1668439">Pointer</span><span class="op" id="1668446">(</span><span class="ident" id="1668447">f</span><span class="op" id="1668448">)</span><span class="op" id="1668449">)</span><span class="op" id="1668450">&amp;</span><span class="num" id="1668451">4</span>&nbsp;<span class="op" id="1668453">!=</span>&nbsp;<span class="num" id="1668456">0</span>&nbsp;<span class="op" id="1668458">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1668463">println</span><span class="op" id="1668470">(</span><span class="string" id="1668471">&#34;runtime:&nbsp;misaligned&nbsp;func&#34;</span><span class="op" id="1668497">,</span>&nbsp;<span class="ident" id="1668499">f</span><span class="op" id="1668500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668508">p</span>&nbsp;<span class="op" id="1668510">=</span>&nbsp;<span class="ident" id="1668512">add</span><span class="op" id="1668515">(</span><span class="ident" id="1668516">p</span><span class="op" id="1668517">,</span>&nbsp;<span class="num" id="1668519">4</span><span class="op" id="1668520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668526">return</span>&nbsp;<span class="op" id="1668533">*</span><span class="op" id="1668534">(</span><span class="op" id="1668535">*</span><span class="ident" id="1668536">unsafe</span><span class="op" id="1668542">.</span><span class="ident" id="1668543">Pointer</span><span class="op" id="1668550">)</span><span class="op" id="1668551">(</span><span class="ident" id="1668552">add</span><span class="op" id="1668555">(</span><span class="ident" id="1668556">p</span><span class="op" id="1668557">,</span>&nbsp;<span class="builtintype" id="1668559">uintptr</span><span class="op" id="1668566">(</span><span class="ident" id="1668567">i</span><span class="op" id="1668568">)</span><span class="op" id="1668569">*</span><span class="ident" id="1668570">ptrSize</span><span class="op" id="1668577">)</span><span class="op" id="1668578">)</span><br>
<span class="lineno">255</span><span class="op" id="1668580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1668583">//&nbsp;step&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;pc,&nbsp;value&nbsp;pair&nbsp;in&nbsp;the&nbsp;encoded&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="1668649">func</span>&nbsp;<span class="ident" id="1668654">step</span><span class="op" id="1668658">(</span><span class="ident" id="1668659">p</span>&nbsp;<span class="op" id="1668661">[</span><span class="op" id="1668662">]</span><span class="builtintype" id="1668663">byte</span><span class="op" id="1668667">,</span>&nbsp;<span class="ident" id="1668669">pc</span>&nbsp;<span class="op" id="1668672">*</span><span class="builtintype" id="1668673">uintptr</span><span class="op" id="1668680">,</span>&nbsp;<span class="ident" id="1668682">val</span>&nbsp;<span class="op" id="1668686">*</span><span class="builtintype" id="1668687">int32</span><span class="op" id="1668692">,</span>&nbsp;<span class="ident" id="1668694">first</span>&nbsp;<span class="builtintype" id="1668700">bool</span><span class="op" id="1668704">)</span>&nbsp;<span class="op" id="1668706">(</span><span class="ident" id="1668707">newp</span>&nbsp;<span class="op" id="1668712">[</span><span class="op" id="1668713">]</span><span class="builtintype" id="1668714">byte</span><span class="op" id="1668718">,</span>&nbsp;<span class="ident" id="1668720">ok</span>&nbsp;<span class="builtintype" id="1668723">bool</span><span class="op" id="1668727">)</span>&nbsp;<span class="op" id="1668729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668732">p</span><span class="op" id="1668733">,</span>&nbsp;<span class="ident" id="1668735">uvdelta</span>&nbsp;<span class="op" id="1668743">:=</span>&nbsp;<span class="ident" id="1668746">readvarint</span><span class="op" id="1668756">(</span><span class="ident" id="1668757">p</span><span class="op" id="1668758">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668761">if</span>&nbsp;<span class="ident" id="1668764">uvdelta</span>&nbsp;<span class="op" id="1668772">==</span>&nbsp;<span class="num" id="1668775">0</span>&nbsp;<span class="op" id="1668777">&amp;&amp;</span>&nbsp;<span class="op" id="1668780">!</span><span class="ident" id="1668781">first</span>&nbsp;<span class="op" id="1668787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668791">return</span>&nbsp;<span class="builtintype" id="1668798">nil</span><span class="op" id="1668801">,</span>&nbsp;<span class="builtintype" id="1668803">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1668813">if</span>&nbsp;<span class="ident" id="1668816">uvdelta</span><span class="op" id="1668823">&amp;</span><span class="num" id="1668824">1</span>&nbsp;<span class="op" id="1668826">!=</span>&nbsp;<span class="num" id="1668829">0</span>&nbsp;<span class="op" id="1668831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668835">uvdelta</span>&nbsp;<span class="op" id="1668843">=</span>&nbsp;<span class="op" id="1668845">^</span><span class="op" id="1668846">(</span><span class="ident" id="1668847">uvdelta</span>&nbsp;<span class="op" id="1668855">&gt;&gt;</span>&nbsp;<span class="num" id="1668858">1</span><span class="op" id="1668859">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668862">}</span>&nbsp;<span class="keyword" id="1668864">else</span>&nbsp;<span class="op" id="1668869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668873">uvdelta</span>&nbsp;<span class="op" id="1668881">&gt;&gt;=</span>&nbsp;<span class="num" id="1668885">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668891">vdelta</span>&nbsp;<span class="op" id="1668898">:=</span>&nbsp;<span class="builtintype" id="1668901">int32</span><span class="op" id="1668906">(</span><span class="ident" id="1668907">uvdelta</span><span class="op" id="1668914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1668917">p</span><span class="op" id="1668918">,</span>&nbsp;<span class="ident" id="1668920">pcdelta</span>&nbsp;<span class="op" id="1668928">:=</span>&nbsp;<span class="ident" id="1668931">readvarint</span><span class="op" id="1668941">(</span><span class="ident" id="1668942">p</span><span class="op" id="1668943">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668946">*</span><span class="ident" id="1668947">pc</span>&nbsp;<span class="op" id="1668950">+=</span>&nbsp;<span class="builtintype" id="1668953">uintptr</span><span class="op" id="1668960">(</span><span class="ident" id="1668961">pcdelta</span>&nbsp;<span class="op" id="1668969">*</span>&nbsp;<span class="ident" id="1668971">_PCQuantum</span><span class="op" id="1668981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1668984">*</span><span class="ident" id="1668985">val</span>&nbsp;<span class="op" id="1668989">+=</span>&nbsp;<span class="ident" id="1668992">vdelta</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1669000">return</span>&nbsp;<span class="ident" id="1669007">p</span><span class="op" id="1669008">,</span>&nbsp;<span class="builtintype" id="1669010">true</span><br>
<span class="lineno"></span><span class="op" id="1669015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span><span class="comment" id="1669018">//&nbsp;readvarint&nbsp;reads&nbsp;a&nbsp;varint&nbsp;from&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1669055">func</span>&nbsp;<span class="ident" id="1669060">readvarint</span><span class="op" id="1669070">(</span><span class="ident" id="1669071">p</span>&nbsp;<span class="op" id="1669073">[</span><span class="op" id="1669074">]</span><span class="builtintype" id="1669075">byte</span><span class="op" id="1669079">)</span>&nbsp;<span class="op" id="1669081">(</span><span class="ident" id="1669082">newp</span>&nbsp;<span class="op" id="1669087">[</span><span class="op" id="1669088">]</span><span class="builtintype" id="1669089">byte</span><span class="op" id="1669093">,</span>&nbsp;<span class="ident" id="1669095">val</span>&nbsp;<span class="builtintype" id="1669099">uint32</span><span class="op" id="1669105">)</span>&nbsp;<span class="op" id="1669107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1669110">var</span>&nbsp;<span class="ident" id="1669114">v</span><span class="op" id="1669115">,</span>&nbsp;<span class="ident" id="1669117">shift</span>&nbsp;<span class="builtintype" id="1669123">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1669131">for</span>&nbsp;<span class="op" id="1669135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1669139">b</span>&nbsp;<span class="op" id="1669141">:=</span>&nbsp;<span class="ident" id="1669144">p</span><span class="op" id="1669145">[</span><span class="num" id="1669146">0</span><span class="op" id="1669147">]</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1669151">p</span>&nbsp;<span class="op" id="1669153">=</span>&nbsp;<span class="ident" id="1669155">p</span><span class="op" id="1669156">[</span><span class="num" id="1669157">1</span><span class="op" id="1669158">:</span><span class="op" id="1669159">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1669163">v</span>&nbsp;<span class="op" id="1669165">|=</span>&nbsp;<span class="op" id="1669168">(</span><span class="builtintype" id="1669169">uint32</span><span class="op" id="1669175">(</span><span class="ident" id="1669176">b</span><span class="op" id="1669177">)</span>&nbsp;<span class="op" id="1669179">&amp;</span>&nbsp;<span class="num" id="1669181">0x7F</span><span class="op" id="1669185">)</span>&nbsp;<span class="op" id="1669187">&lt;&lt;</span>&nbsp;<span class="ident" id="1669190">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1669198">if</span>&nbsp;<span class="ident" id="1669201">b</span><span class="op" id="1669202">&amp;</span><span class="num" id="1669203">0x80</span>&nbsp;<span class="op" id="1669208">==</span>&nbsp;<span class="num" id="1669211">0</span>&nbsp;<span class="op" id="1669213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1669218">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1669226">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1669230">shift</span>&nbsp;<span class="op" id="1669236">+=</span>&nbsp;<span class="num" id="1669239">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1669242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1669245">return</span>&nbsp;<span class="ident" id="1669252">p</span><span class="op" id="1669253">,</span>&nbsp;<span class="ident" id="1669255">v</span><br>
<span class="lineno"></span><span class="op" id="1669257">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
