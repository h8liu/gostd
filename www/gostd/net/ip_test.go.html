<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html" class="current">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6626910">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6626965">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6627019">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6627070">package</span>&nbsp;<span class="ident" id="6627078">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6627083">import</span>&nbsp;<span class="op" id="6627090">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6627093">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6627104">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6627115">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6627125">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6627128">var</span>&nbsp;<span class="ident" id="6627132">parseIPTests</span>&nbsp;<span class="op" id="6627145">=</span>&nbsp;<span class="op" id="6627147">[</span><span class="op" id="6627148">]</span><span class="keyword" id="6627149">struct</span>&nbsp;<span class="op" id="6627156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627159">in</span>&nbsp;&nbsp;<span class="builtintype" id="6627163">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627171">out</span>&nbsp;<span class="ident" id="6627175">IP</span><br>
<span class="lineno"></span><span class="op" id="6627178">}</span><span class="op" id="6627179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627182">{</span><span class="string" id="6627183">&#34;127.0.1.2&#34;</span><span class="op" id="6627194">,</span>&nbsp;<span class="ident" id="6627196">IPv4</span><span class="op" id="6627200">(</span><span class="num" id="6627201">127</span><span class="op" id="6627204">,</span>&nbsp;<span class="num" id="6627206">0</span><span class="op" id="6627207">,</span>&nbsp;<span class="num" id="6627209">1</span><span class="op" id="6627210">,</span>&nbsp;<span class="num" id="6627212">2</span><span class="op" id="6627213">)</span><span class="op" id="6627214">}</span><span class="op" id="6627215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627218">{</span><span class="string" id="6627219">&#34;127.0.0.1&#34;</span><span class="op" id="6627230">,</span>&nbsp;<span class="ident" id="6627232">IPv4</span><span class="op" id="6627236">(</span><span class="num" id="6627237">127</span><span class="op" id="6627240">,</span>&nbsp;<span class="num" id="6627242">0</span><span class="op" id="6627243">,</span>&nbsp;<span class="num" id="6627245">0</span><span class="op" id="6627246">,</span>&nbsp;<span class="num" id="6627248">1</span><span class="op" id="6627249">)</span><span class="op" id="6627250">}</span><span class="op" id="6627251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627254">{</span><span class="string" id="6627255">&#34;127.0.0.256&#34;</span><span class="op" id="6627268">,</span>&nbsp;<span class="ident" id="6627270">nil</span><span class="op" id="6627273">}</span><span class="op" id="6627274">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627277">{</span><span class="string" id="6627278">&#34;abc&#34;</span><span class="op" id="6627283">,</span>&nbsp;<span class="ident" id="6627285">nil</span><span class="op" id="6627288">}</span><span class="op" id="6627289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627292">{</span><span class="string" id="6627293">&#34;123:&#34;</span><span class="op" id="6627299">,</span>&nbsp;<span class="ident" id="6627301">nil</span><span class="op" id="6627304">}</span><span class="op" id="6627305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627308">{</span><span class="string" id="6627309">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="6627327">,</span>&nbsp;<span class="ident" id="6627329">IPv4</span><span class="op" id="6627333">(</span><span class="num" id="6627334">127</span><span class="op" id="6627337">,</span>&nbsp;<span class="num" id="6627339">0</span><span class="op" id="6627340">,</span>&nbsp;<span class="num" id="6627342">0</span><span class="op" id="6627343">,</span>&nbsp;<span class="num" id="6627345">1</span><span class="op" id="6627346">)</span><span class="op" id="6627347">}</span><span class="op" id="6627348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627351">{</span><span class="string" id="6627352">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="6627374">,</span>&nbsp;<span class="ident" id="6627376">IP</span><span class="op" id="6627378">{</span><span class="num" id="6627379">0x20</span><span class="op" id="6627383">,</span>&nbsp;<span class="num" id="6627385">0x01</span><span class="op" id="6627389">,</span>&nbsp;<span class="num" id="6627391">0x48</span><span class="op" id="6627395">,</span>&nbsp;<span class="num" id="6627397">0x60</span><span class="op" id="6627401">,</span>&nbsp;<span class="num" id="6627403">0</span><span class="op" id="6627404">,</span>&nbsp;<span class="num" id="6627406">0</span><span class="op" id="6627407">,</span>&nbsp;<span class="num" id="6627409">0x20</span><span class="op" id="6627413">,</span>&nbsp;<span class="num" id="6627415">0x01</span><span class="op" id="6627419">,</span>&nbsp;<span class="num" id="6627421">0</span><span class="op" id="6627422">,</span>&nbsp;<span class="num" id="6627424">0</span><span class="op" id="6627425">,</span>&nbsp;<span class="num" id="6627427">0</span><span class="op" id="6627428">,</span>&nbsp;<span class="num" id="6627430">0</span><span class="op" id="6627431">,</span>&nbsp;<span class="num" id="6627433">0</span><span class="op" id="6627434">,</span>&nbsp;<span class="num" id="6627436">0</span><span class="op" id="6627437">,</span>&nbsp;<span class="num" id="6627439">0x00</span><span class="op" id="6627443">,</span>&nbsp;<span class="num" id="6627445">0x68</span><span class="op" id="6627449">}</span><span class="op" id="6627450">}</span><span class="op" id="6627451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627454">{</span><span class="string" id="6627455">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="6627473">,</span>&nbsp;<span class="ident" id="6627475">IPv4</span><span class="op" id="6627479">(</span><span class="num" id="6627480">74</span><span class="op" id="6627482">,</span>&nbsp;<span class="num" id="6627484">125</span><span class="op" id="6627487">,</span>&nbsp;<span class="num" id="6627489">19</span><span class="op" id="6627491">,</span>&nbsp;<span class="num" id="6627493">99</span><span class="op" id="6627495">)</span><span class="op" id="6627496">}</span><span class="op" id="6627497">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627500">{</span><span class="string" id="6627501">&#34;fe80::1%lo0&#34;</span><span class="op" id="6627514">,</span>&nbsp;<span class="ident" id="6627516">nil</span><span class="op" id="6627519">}</span><span class="op" id="6627520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627523">{</span><span class="string" id="6627524">&#34;fe80::1%911&#34;</span><span class="op" id="6627537">,</span>&nbsp;<span class="ident" id="6627539">nil</span><span class="op" id="6627542">}</span><span class="op" id="6627543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627546">{</span><span class="string" id="6627547">&#34;&#34;</span><span class="op" id="6627549">,</span>&nbsp;<span class="ident" id="6627551">nil</span><span class="op" id="6627554">}</span><span class="op" id="6627555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627558">{</span><span class="string" id="6627559">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="6627585">,</span>&nbsp;<span class="ident" id="6627587">nil</span><span class="op" id="6627590">}</span><span class="op" id="6627591">,</span>&nbsp;<span class="comment" id="6627593">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="6627607">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="6627610">func</span>&nbsp;<span class="ident" id="6627615">TestParseIP</span><span class="op" id="6627626">(</span><span class="ident" id="6627627">t</span>&nbsp;<span class="op" id="6627629">*</span><span class="ident" id="6627630">testing</span><span class="op" id="6627637">.</span><span class="ident" id="6627638">T</span><span class="op" id="6627639">)</span>&nbsp;<span class="op" id="6627641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627644">for</span>&nbsp;<span class="ident" id="6627648">_</span><span class="op" id="6627649">,</span>&nbsp;<span class="ident" id="6627651">tt</span>&nbsp;<span class="op" id="6627654">:=</span>&nbsp;<span class="keyword" id="6627657">range</span>&nbsp;<span class="ident" id="6627663">parseIPTests</span>&nbsp;<span class="op" id="6627676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627680">if</span>&nbsp;<span class="ident" id="6627683">out</span>&nbsp;<span class="op" id="6627687">:=</span>&nbsp;<span class="ident" id="6627690">ParseIP</span><span class="op" id="6627697">(</span><span class="ident" id="6627698">tt</span><span class="op" id="6627700">.</span><span class="ident" id="6627701">in</span><span class="op" id="6627703">)</span><span class="op" id="6627704">;</span>&nbsp;<span class="op" id="6627706">!</span><span class="ident" id="6627707">reflect</span><span class="op" id="6627714">.</span><span class="ident" id="6627715">DeepEqual</span><span class="op" id="6627724">(</span><span class="ident" id="6627725">out</span><span class="op" id="6627728">,</span>&nbsp;<span class="ident" id="6627730">tt</span><span class="op" id="6627732">.</span><span class="ident" id="6627733">out</span><span class="op" id="6627736">)</span>&nbsp;<span class="op" id="6627738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627743">t</span><span class="op" id="6627744">.</span><span class="ident" id="6627745">Errorf</span><span class="op" id="6627751">(</span><span class="string" id="6627752">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6627779">,</span>&nbsp;<span class="ident" id="6627781">tt</span><span class="op" id="6627783">.</span><span class="ident" id="6627784">in</span><span class="op" id="6627786">,</span>&nbsp;<span class="ident" id="6627788">out</span><span class="op" id="6627791">,</span>&nbsp;<span class="ident" id="6627793">tt</span><span class="op" id="6627795">.</span><span class="ident" id="6627796">out</span><span class="op" id="6627799">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627807">if</span>&nbsp;<span class="ident" id="6627810">tt</span><span class="op" id="6627812">.</span><span class="ident" id="6627813">in</span>&nbsp;<span class="op" id="6627816">==</span>&nbsp;<span class="string" id="6627819">&#34;&#34;</span>&nbsp;<span class="op" id="6627822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6627827">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627869">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6627880">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627884">var</span>&nbsp;<span class="ident" id="6627888">out</span>&nbsp;<span class="ident" id="6627892">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6627897">if</span>&nbsp;<span class="ident" id="6627900">err</span>&nbsp;<span class="op" id="6627904">:=</span>&nbsp;<span class="ident" id="6627907">out</span><span class="op" id="6627910">.</span><span class="ident" id="6627911">UnmarshalText</span><span class="op" id="6627924">(</span><span class="op" id="6627925">[</span><span class="op" id="6627926">]</span><span class="builtintype" id="6627927">byte</span><span class="op" id="6627931">(</span><span class="ident" id="6627932">tt</span><span class="op" id="6627934">.</span><span class="ident" id="6627935">in</span><span class="op" id="6627937">)</span><span class="op" id="6627938">)</span><span class="op" id="6627939">;</span>&nbsp;<span class="op" id="6627941">!</span><span class="ident" id="6627942">reflect</span><span class="op" id="6627949">.</span><span class="ident" id="6627950">DeepEqual</span><span class="op" id="6627959">(</span><span class="ident" id="6627960">out</span><span class="op" id="6627963">,</span>&nbsp;<span class="ident" id="6627965">tt</span><span class="op" id="6627967">.</span><span class="ident" id="6627968">out</span><span class="op" id="6627971">)</span>&nbsp;<span class="op" id="6627973">||</span>&nbsp;<span class="op" id="6627976">(</span><span class="ident" id="6627977">tt</span><span class="op" id="6627979">.</span><span class="ident" id="6627980">out</span>&nbsp;<span class="op" id="6627984">==</span>&nbsp;<span class="ident" id="6627987">nil</span><span class="op" id="6627990">)</span>&nbsp;<span class="op" id="6627992">!=</span>&nbsp;<span class="op" id="6627995">(</span><span class="ident" id="6627996">err</span>&nbsp;<span class="op" id="6628000">!=</span>&nbsp;<span class="ident" id="6628003">nil</span><span class="op" id="6628006">)</span>&nbsp;<span class="op" id="6628008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628013">t</span><span class="op" id="6628014">.</span><span class="ident" id="6628015">Errorf</span><span class="op" id="6628021">(</span><span class="string" id="6628022">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6628062">,</span>&nbsp;<span class="ident" id="6628064">tt</span><span class="op" id="6628066">.</span><span class="ident" id="6628067">in</span><span class="op" id="6628069">,</span>&nbsp;<span class="ident" id="6628071">out</span><span class="op" id="6628074">,</span>&nbsp;<span class="ident" id="6628076">err</span><span class="op" id="6628079">,</span>&nbsp;<span class="ident" id="6628081">tt</span><span class="op" id="6628083">.</span><span class="ident" id="6628084">out</span><span class="op" id="6628087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628094">}</span><br>
<span class="lineno">45</span><span class="op" id="6628096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6628099">func</span>&nbsp;<span class="ident" id="6628104">BenchmarkParseIP</span><span class="op" id="6628120">(</span><span class="ident" id="6628121">b</span>&nbsp;<span class="op" id="6628123">*</span><span class="ident" id="6628124">testing</span><span class="op" id="6628131">.</span><span class="ident" id="6628132">B</span><span class="op" id="6628133">)</span>&nbsp;<span class="op" id="6628135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628138">for</span>&nbsp;<span class="ident" id="6628142">i</span>&nbsp;<span class="op" id="6628144">:=</span>&nbsp;<span class="num" id="6628147">0</span><span class="op" id="6628148">;</span>&nbsp;<span class="ident" id="6628150">i</span>&nbsp;<span class="op" id="6628152">&lt;</span>&nbsp;<span class="ident" id="6628154">b</span><span class="op" id="6628155">.</span><span class="ident" id="6628156">N</span><span class="op" id="6628157">;</span>&nbsp;<span class="ident" id="6628159">i</span><span class="op" id="6628160">++</span>&nbsp;<span class="op" id="6628163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628167">for</span>&nbsp;<span class="ident" id="6628171">_</span><span class="op" id="6628172">,</span>&nbsp;<span class="ident" id="6628174">tt</span>&nbsp;<span class="op" id="6628177">:=</span>&nbsp;<span class="keyword" id="6628180">range</span>&nbsp;<span class="ident" id="6628186">parseIPTests</span>&nbsp;<span class="op" id="6628199">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628204">ParseIP</span><span class="op" id="6628211">(</span><span class="ident" id="6628212">tt</span><span class="op" id="6628214">.</span><span class="ident" id="6628215">in</span><span class="op" id="6628217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628224">}</span><br>
<span class="lineno"></span><span class="op" id="6628226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="6628229">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="6628243">func</span>&nbsp;<span class="ident" id="6628248">TestMarshalEmptyIP</span><span class="op" id="6628266">(</span><span class="ident" id="6628267">t</span>&nbsp;<span class="op" id="6628269">*</span><span class="ident" id="6628270">testing</span><span class="op" id="6628277">.</span><span class="ident" id="6628278">T</span><span class="op" id="6628279">)</span>&nbsp;<span class="op" id="6628281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628284">for</span>&nbsp;<span class="ident" id="6628288">_</span><span class="op" id="6628289">,</span>&nbsp;<span class="ident" id="6628291">in</span>&nbsp;<span class="op" id="6628294">:=</span>&nbsp;<span class="keyword" id="6628297">range</span>&nbsp;<span class="op" id="6628303">[</span><span class="op" id="6628304">]</span><span class="op" id="6628305">[</span><span class="op" id="6628306">]</span><span class="builtintype" id="6628307">byte</span><span class="op" id="6628311">{</span><span class="ident" id="6628312">nil</span><span class="op" id="6628315">,</span>&nbsp;<span class="op" id="6628317">[</span><span class="op" id="6628318">]</span><span class="builtintype" id="6628319">byte</span><span class="op" id="6628323">(</span><span class="string" id="6628324">&#34;&#34;</span><span class="op" id="6628326">)</span><span class="op" id="6628327">}</span>&nbsp;<span class="op" id="6628329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628333">var</span>&nbsp;<span class="ident" id="6628337">out</span>&nbsp;<span class="op" id="6628341">=</span>&nbsp;<span class="ident" id="6628343">IP</span><span class="op" id="6628345">{</span><span class="num" id="6628346">1</span><span class="op" id="6628347">,</span>&nbsp;<span class="num" id="6628349">2</span><span class="op" id="6628350">,</span>&nbsp;<span class="num" id="6628352">3</span><span class="op" id="6628353">,</span>&nbsp;<span class="num" id="6628355">4</span><span class="op" id="6628356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628360">if</span>&nbsp;<span class="ident" id="6628363">err</span>&nbsp;<span class="op" id="6628367">:=</span>&nbsp;<span class="ident" id="6628370">out</span><span class="op" id="6628373">.</span><span class="ident" id="6628374">UnmarshalText</span><span class="op" id="6628387">(</span><span class="ident" id="6628388">in</span><span class="op" id="6628390">)</span><span class="op" id="6628391">;</span>&nbsp;<span class="ident" id="6628393">err</span>&nbsp;<span class="op" id="6628397">!=</span>&nbsp;<span class="ident" id="6628400">nil</span>&nbsp;<span class="op" id="6628404">||</span>&nbsp;<span class="ident" id="6628407">out</span>&nbsp;<span class="op" id="6628411">!=</span>&nbsp;<span class="ident" id="6628414">nil</span>&nbsp;<span class="op" id="6628418">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628423">t</span><span class="op" id="6628424">.</span><span class="ident" id="6628425">Errorf</span><span class="op" id="6628431">(</span><span class="string" id="6628432">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="6628475">,</span>&nbsp;<span class="ident" id="6628477">in</span><span class="op" id="6628479">,</span>&nbsp;<span class="ident" id="6628481">out</span><span class="op" id="6628484">,</span>&nbsp;<span class="ident" id="6628486">err</span><span class="op" id="6628489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628499">var</span>&nbsp;<span class="ident" id="6628503">ip</span>&nbsp;<span class="ident" id="6628506">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628510">got</span><span class="op" id="6628513">,</span>&nbsp;<span class="ident" id="6628515">err</span>&nbsp;<span class="op" id="6628519">:=</span>&nbsp;<span class="ident" id="6628522">ip</span><span class="op" id="6628524">.</span><span class="ident" id="6628525">MarshalText</span><span class="op" id="6628536">(</span><span class="op" id="6628537">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628540">if</span>&nbsp;<span class="ident" id="6628543">err</span>&nbsp;<span class="op" id="6628547">!=</span>&nbsp;<span class="ident" id="6628550">nil</span>&nbsp;<span class="op" id="6628554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628558">t</span><span class="op" id="6628559">.</span><span class="ident" id="6628560">Fatal</span><span class="op" id="6628565">(</span><span class="ident" id="6628566">err</span><span class="op" id="6628569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628575">if</span>&nbsp;<span class="op" id="6628578">!</span><span class="ident" id="6628579">reflect</span><span class="op" id="6628586">.</span><span class="ident" id="6628587">DeepEqual</span><span class="op" id="6628596">(</span><span class="ident" id="6628597">got</span><span class="op" id="6628600">,</span>&nbsp;<span class="op" id="6628602">[</span><span class="op" id="6628603">]</span><span class="builtintype" id="6628604">byte</span><span class="op" id="6628608">(</span><span class="string" id="6628609">&#34;&#34;</span><span class="op" id="6628611">)</span><span class="op" id="6628612">)</span>&nbsp;<span class="op" id="6628614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628618">t</span><span class="op" id="6628619">.</span><span class="ident" id="6628620">Errorf</span><span class="op" id="6628626">(</span><span class="string" id="6628627">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="6628653">,</span>&nbsp;<span class="ident" id="6628655">got</span><span class="op" id="6628658">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628661">}</span><br>
<span class="lineno"></span><span class="op" id="6628663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6628666">var</span>&nbsp;<span class="ident" id="6628670">ipStringTests</span>&nbsp;<span class="op" id="6628684">=</span>&nbsp;<span class="op" id="6628686">[</span><span class="op" id="6628687">]</span><span class="keyword" id="6628688">struct</span>&nbsp;<span class="op" id="6628695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628698">in</span>&nbsp;&nbsp;<span class="ident" id="6628702">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628706">out</span>&nbsp;<span class="builtintype" id="6628710">string</span>&nbsp;<span class="comment" id="6628717">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="6628733">}</span><span class="op" id="6628734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628737">{</span><span class="ident" id="6628738">IP</span><span class="op" id="6628740">{</span><span class="num" id="6628741">0x20</span><span class="op" id="6628745">,</span>&nbsp;<span class="num" id="6628747">0x1</span><span class="op" id="6628750">,</span>&nbsp;<span class="num" id="6628752">0xd</span><span class="op" id="6628755">,</span>&nbsp;<span class="num" id="6628757">0xb8</span><span class="op" id="6628761">,</span>&nbsp;<span class="num" id="6628763">0</span><span class="op" id="6628764">,</span>&nbsp;<span class="num" id="6628766">0</span><span class="op" id="6628767">,</span>&nbsp;<span class="num" id="6628769">0</span><span class="op" id="6628770">,</span>&nbsp;<span class="num" id="6628772">0</span><span class="op" id="6628773">,</span>&nbsp;<span class="num" id="6628775">0</span><span class="op" id="6628776">,</span>&nbsp;<span class="num" id="6628778">0</span><span class="op" id="6628779">,</span>&nbsp;<span class="num" id="6628781">0x1</span><span class="op" id="6628784">,</span>&nbsp;<span class="num" id="6628786">0x23</span><span class="op" id="6628790">,</span>&nbsp;<span class="num" id="6628792">0</span><span class="op" id="6628793">,</span>&nbsp;<span class="num" id="6628795">0x12</span><span class="op" id="6628799">,</span>&nbsp;<span class="num" id="6628801">0</span><span class="op" id="6628802">,</span>&nbsp;<span class="num" id="6628804">0x1</span><span class="op" id="6628807">}</span><span class="op" id="6628808">,</span>&nbsp;<span class="string" id="6628810">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6628830">}</span><span class="op" id="6628831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628834">{</span><span class="ident" id="6628835">IP</span><span class="op" id="6628837">{</span><span class="num" id="6628838">0x20</span><span class="op" id="6628842">,</span>&nbsp;<span class="num" id="6628844">0x1</span><span class="op" id="6628847">,</span>&nbsp;<span class="num" id="6628849">0xd</span><span class="op" id="6628852">,</span>&nbsp;<span class="num" id="6628854">0xb8</span><span class="op" id="6628858">,</span>&nbsp;<span class="num" id="6628860">0</span><span class="op" id="6628861">,</span>&nbsp;<span class="num" id="6628863">0</span><span class="op" id="6628864">,</span>&nbsp;<span class="num" id="6628866">0</span><span class="op" id="6628867">,</span>&nbsp;<span class="num" id="6628869">0</span><span class="op" id="6628870">,</span>&nbsp;<span class="num" id="6628872">0</span><span class="op" id="6628873">,</span>&nbsp;<span class="num" id="6628875">0</span><span class="op" id="6628876">,</span>&nbsp;<span class="num" id="6628878">0</span><span class="op" id="6628879">,</span>&nbsp;<span class="num" id="6628881">0</span><span class="op" id="6628882">,</span>&nbsp;<span class="num" id="6628884">0</span><span class="op" id="6628885">,</span>&nbsp;<span class="num" id="6628887">0</span><span class="op" id="6628888">,</span>&nbsp;<span class="num" id="6628890">0</span><span class="op" id="6628891">,</span>&nbsp;<span class="num" id="6628893">0x1</span><span class="op" id="6628896">}</span><span class="op" id="6628897">,</span>&nbsp;<span class="string" id="6628899">&#34;2001:db8::1&#34;</span><span class="op" id="6628912">}</span><span class="op" id="6628913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628916">{</span><span class="ident" id="6628917">IP</span><span class="op" id="6628919">{</span><span class="num" id="6628920">0x20</span><span class="op" id="6628924">,</span>&nbsp;<span class="num" id="6628926">0x1</span><span class="op" id="6628929">,</span>&nbsp;<span class="num" id="6628931">0xd</span><span class="op" id="6628934">,</span>&nbsp;<span class="num" id="6628936">0xb8</span><span class="op" id="6628940">,</span>&nbsp;<span class="num" id="6628942">0</span><span class="op" id="6628943">,</span>&nbsp;<span class="num" id="6628945">0</span><span class="op" id="6628946">,</span>&nbsp;<span class="num" id="6628948">0</span><span class="op" id="6628949">,</span>&nbsp;<span class="num" id="6628951">0x1</span><span class="op" id="6628954">,</span>&nbsp;<span class="num" id="6628956">0</span><span class="op" id="6628957">,</span>&nbsp;<span class="num" id="6628959">0</span><span class="op" id="6628960">,</span>&nbsp;<span class="num" id="6628962">0</span><span class="op" id="6628963">,</span>&nbsp;<span class="num" id="6628965">0x1</span><span class="op" id="6628968">,</span>&nbsp;<span class="num" id="6628970">0</span><span class="op" id="6628971">,</span>&nbsp;<span class="num" id="6628973">0</span><span class="op" id="6628974">,</span>&nbsp;<span class="num" id="6628976">0</span><span class="op" id="6628977">,</span>&nbsp;<span class="num" id="6628979">0x1</span><span class="op" id="6628982">}</span><span class="op" id="6628983">,</span>&nbsp;<span class="string" id="6628985">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="6629007">}</span><span class="op" id="6629008">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629011">{</span><span class="ident" id="6629012">IP</span><span class="op" id="6629014">{</span><span class="num" id="6629015">0x20</span><span class="op" id="6629019">,</span>&nbsp;<span class="num" id="6629021">0x1</span><span class="op" id="6629024">,</span>&nbsp;<span class="num" id="6629026">0xd</span><span class="op" id="6629029">,</span>&nbsp;<span class="num" id="6629031">0xb8</span><span class="op" id="6629035">,</span>&nbsp;<span class="num" id="6629037">0</span><span class="op" id="6629038">,</span>&nbsp;<span class="num" id="6629040">0x1</span><span class="op" id="6629043">,</span>&nbsp;<span class="num" id="6629045">0</span><span class="op" id="6629046">,</span>&nbsp;<span class="num" id="6629048">0</span><span class="op" id="6629049">,</span>&nbsp;<span class="num" id="6629051">0</span><span class="op" id="6629052">,</span>&nbsp;<span class="num" id="6629054">0x1</span><span class="op" id="6629057">,</span>&nbsp;<span class="num" id="6629059">0</span><span class="op" id="6629060">,</span>&nbsp;<span class="num" id="6629062">0</span><span class="op" id="6629063">,</span>&nbsp;<span class="num" id="6629065">0</span><span class="op" id="6629066">,</span>&nbsp;<span class="num" id="6629068">0x1</span><span class="op" id="6629071">,</span>&nbsp;<span class="num" id="6629073">0</span><span class="op" id="6629074">,</span>&nbsp;<span class="num" id="6629076">0</span><span class="op" id="6629077">}</span><span class="op" id="6629078">,</span>&nbsp;<span class="string" id="6629080">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="6629102">}</span><span class="op" id="6629103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629106">{</span><span class="ident" id="6629107">IP</span><span class="op" id="6629109">{</span><span class="num" id="6629110">0x20</span><span class="op" id="6629114">,</span>&nbsp;<span class="num" id="6629116">0x1</span><span class="op" id="6629119">,</span>&nbsp;<span class="num" id="6629121">0</span><span class="op" id="6629122">,</span>&nbsp;<span class="num" id="6629124">0</span><span class="op" id="6629125">,</span>&nbsp;<span class="num" id="6629127">0</span><span class="op" id="6629128">,</span>&nbsp;<span class="num" id="6629130">0</span><span class="op" id="6629131">,</span>&nbsp;<span class="num" id="6629133">0</span><span class="op" id="6629134">,</span>&nbsp;<span class="num" id="6629136">0</span><span class="op" id="6629137">,</span>&nbsp;<span class="num" id="6629139">0</span><span class="op" id="6629140">,</span>&nbsp;<span class="num" id="6629142">0x1</span><span class="op" id="6629145">,</span>&nbsp;<span class="num" id="6629147">0</span><span class="op" id="6629148">,</span>&nbsp;<span class="num" id="6629150">0</span><span class="op" id="6629151">,</span>&nbsp;<span class="num" id="6629153">0</span><span class="op" id="6629154">,</span>&nbsp;<span class="num" id="6629156">0</span><span class="op" id="6629157">,</span>&nbsp;<span class="num" id="6629159">0</span><span class="op" id="6629160">,</span>&nbsp;<span class="num" id="6629162">0x1</span><span class="op" id="6629165">}</span><span class="op" id="6629166">,</span>&nbsp;<span class="string" id="6629168">&#34;2001::1:0:0:1&#34;</span><span class="op" id="6629183">}</span><span class="op" id="6629184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629187">{</span><span class="ident" id="6629188">IP</span><span class="op" id="6629190">{</span><span class="num" id="6629191">0x20</span><span class="op" id="6629195">,</span>&nbsp;<span class="num" id="6629197">0x1</span><span class="op" id="6629200">,</span>&nbsp;<span class="num" id="6629202">0xd</span><span class="op" id="6629205">,</span>&nbsp;<span class="num" id="6629207">0xb8</span><span class="op" id="6629211">,</span>&nbsp;<span class="num" id="6629213">0</span><span class="op" id="6629214">,</span>&nbsp;<span class="num" id="6629216">0</span><span class="op" id="6629217">,</span>&nbsp;<span class="num" id="6629219">0</span><span class="op" id="6629220">,</span>&nbsp;<span class="num" id="6629222">0</span><span class="op" id="6629223">,</span>&nbsp;<span class="num" id="6629225">0</span><span class="op" id="6629226">,</span>&nbsp;<span class="num" id="6629228">0x1</span><span class="op" id="6629231">,</span>&nbsp;<span class="num" id="6629233">0</span><span class="op" id="6629234">,</span>&nbsp;<span class="num" id="6629236">0</span><span class="op" id="6629237">,</span>&nbsp;<span class="num" id="6629239">0</span><span class="op" id="6629240">,</span>&nbsp;<span class="num" id="6629242">0</span><span class="op" id="6629243">,</span>&nbsp;<span class="num" id="6629245">0</span><span class="op" id="6629246">,</span>&nbsp;<span class="num" id="6629248">0</span><span class="op" id="6629249">}</span><span class="op" id="6629250">,</span>&nbsp;<span class="string" id="6629252">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="6629270">}</span><span class="op" id="6629271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629274">{</span><span class="ident" id="6629275">IP</span><span class="op" id="6629277">{</span><span class="num" id="6629278">0x20</span><span class="op" id="6629282">,</span>&nbsp;<span class="num" id="6629284">0x1</span><span class="op" id="6629287">,</span>&nbsp;<span class="num" id="6629289">0xd</span><span class="op" id="6629292">,</span>&nbsp;<span class="num" id="6629294">0xb8</span><span class="op" id="6629298">,</span>&nbsp;<span class="num" id="6629300">0</span><span class="op" id="6629301">,</span>&nbsp;<span class="num" id="6629303">0</span><span class="op" id="6629304">,</span>&nbsp;<span class="num" id="6629306">0</span><span class="op" id="6629307">,</span>&nbsp;<span class="num" id="6629309">0</span><span class="op" id="6629310">,</span>&nbsp;<span class="num" id="6629312">0</span><span class="op" id="6629313">,</span>&nbsp;<span class="num" id="6629315">0x1</span><span class="op" id="6629318">,</span>&nbsp;<span class="num" id="6629320">0</span><span class="op" id="6629321">,</span>&nbsp;<span class="num" id="6629323">0</span><span class="op" id="6629324">,</span>&nbsp;<span class="num" id="6629326">0</span><span class="op" id="6629327">,</span>&nbsp;<span class="num" id="6629329">0</span><span class="op" id="6629330">,</span>&nbsp;<span class="num" id="6629332">0</span><span class="op" id="6629333">,</span>&nbsp;<span class="num" id="6629335">0x1</span><span class="op" id="6629338">}</span><span class="op" id="6629339">,</span>&nbsp;<span class="string" id="6629341">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="6629360">}</span><span class="op" id="6629361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629364">{</span><span class="ident" id="6629365">IP</span><span class="op" id="6629367">{</span><span class="num" id="6629368">0x20</span><span class="op" id="6629372">,</span>&nbsp;<span class="num" id="6629374">0x1</span><span class="op" id="6629377">,</span>&nbsp;<span class="num" id="6629379">0xD</span><span class="op" id="6629382">,</span>&nbsp;<span class="num" id="6629384">0xB8</span><span class="op" id="6629388">,</span>&nbsp;<span class="num" id="6629390">0</span><span class="op" id="6629391">,</span>&nbsp;<span class="num" id="6629393">0</span><span class="op" id="6629394">,</span>&nbsp;<span class="num" id="6629396">0</span><span class="op" id="6629397">,</span>&nbsp;<span class="num" id="6629399">0</span><span class="op" id="6629400">,</span>&nbsp;<span class="num" id="6629402">0</span><span class="op" id="6629403">,</span>&nbsp;<span class="num" id="6629405">0xA</span><span class="op" id="6629408">,</span>&nbsp;<span class="num" id="6629410">0</span><span class="op" id="6629411">,</span>&nbsp;<span class="num" id="6629413">0xB</span><span class="op" id="6629416">,</span>&nbsp;<span class="num" id="6629418">0</span><span class="op" id="6629419">,</span>&nbsp;<span class="num" id="6629421">0xC</span><span class="op" id="6629424">,</span>&nbsp;<span class="num" id="6629426">0</span><span class="op" id="6629427">,</span>&nbsp;<span class="num" id="6629429">0xD</span><span class="op" id="6629432">}</span><span class="op" id="6629433">,</span>&nbsp;<span class="string" id="6629435">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="6629454">}</span><span class="op" id="6629455">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629458">{</span><span class="ident" id="6629459">IPv4</span><span class="op" id="6629463">(</span><span class="num" id="6629464">192</span><span class="op" id="6629467">,</span>&nbsp;<span class="num" id="6629469">168</span><span class="op" id="6629472">,</span>&nbsp;<span class="num" id="6629474">0</span><span class="op" id="6629475">,</span>&nbsp;<span class="num" id="6629477">1</span><span class="op" id="6629478">)</span><span class="op" id="6629479">,</span>&nbsp;<span class="string" id="6629481">&#34;192.168.0.1&#34;</span><span class="op" id="6629494">}</span><span class="op" id="6629495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629498">{</span><span class="ident" id="6629499">nil</span><span class="op" id="6629502">,</span>&nbsp;<span class="string" id="6629504">&#34;&#34;</span><span class="op" id="6629506">}</span><span class="op" id="6629507">,</span><br>
<span class="lineno"></span><span class="op" id="6629509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6629512">func</span>&nbsp;<span class="ident" id="6629517">TestIPString</span><span class="op" id="6629529">(</span><span class="ident" id="6629530">t</span>&nbsp;<span class="op" id="6629532">*</span><span class="ident" id="6629533">testing</span><span class="op" id="6629540">.</span><span class="ident" id="6629541">T</span><span class="op" id="6629542">)</span>&nbsp;<span class="op" id="6629544">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629547">for</span>&nbsp;<span class="ident" id="6629551">_</span><span class="op" id="6629552">,</span>&nbsp;<span class="ident" id="6629554">tt</span>&nbsp;<span class="op" id="6629557">:=</span>&nbsp;<span class="keyword" id="6629560">range</span>&nbsp;<span class="ident" id="6629566">ipStringTests</span>&nbsp;<span class="op" id="6629580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629584">if</span>&nbsp;<span class="ident" id="6629587">tt</span><span class="op" id="6629589">.</span><span class="ident" id="6629590">in</span>&nbsp;<span class="op" id="6629593">!=</span>&nbsp;<span class="ident" id="6629596">nil</span>&nbsp;<span class="op" id="6629600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629605">if</span>&nbsp;<span class="ident" id="6629608">out</span>&nbsp;<span class="op" id="6629612">:=</span>&nbsp;<span class="ident" id="6629615">tt</span><span class="op" id="6629617">.</span><span class="ident" id="6629618">in</span><span class="op" id="6629620">.</span><span class="ident" id="6629621">String</span><span class="op" id="6629627">(</span><span class="op" id="6629628">)</span><span class="op" id="6629629">;</span>&nbsp;<span class="ident" id="6629631">out</span>&nbsp;<span class="op" id="6629635">!=</span>&nbsp;<span class="ident" id="6629638">tt</span><span class="op" id="6629640">.</span><span class="ident" id="6629641">out</span>&nbsp;<span class="op" id="6629645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629651">t</span><span class="op" id="6629652">.</span><span class="ident" id="6629653">Errorf</span><span class="op" id="6629659">(</span><span class="string" id="6629660">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6629689">,</span>&nbsp;<span class="ident" id="6629691">tt</span><span class="op" id="6629693">.</span><span class="ident" id="6629694">in</span><span class="op" id="6629696">,</span>&nbsp;<span class="ident" id="6629698">out</span><span class="op" id="6629701">,</span>&nbsp;<span class="ident" id="6629703">tt</span><span class="op" id="6629705">.</span><span class="ident" id="6629706">out</span><span class="op" id="6629709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629714">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629722">if</span>&nbsp;<span class="ident" id="6629725">out</span><span class="op" id="6629728">,</span>&nbsp;<span class="ident" id="6629730">err</span>&nbsp;<span class="op" id="6629734">:=</span>&nbsp;<span class="ident" id="6629737">tt</span><span class="op" id="6629739">.</span><span class="ident" id="6629740">in</span><span class="op" id="6629742">.</span><span class="ident" id="6629743">MarshalText</span><span class="op" id="6629754">(</span><span class="op" id="6629755">)</span><span class="op" id="6629756">;</span>&nbsp;<span class="builtintype" id="6629758">string</span><span class="op" id="6629764">(</span><span class="ident" id="6629765">out</span><span class="op" id="6629768">)</span>&nbsp;<span class="op" id="6629770">!=</span>&nbsp;<span class="ident" id="6629773">tt</span><span class="op" id="6629775">.</span><span class="ident" id="6629776">out</span>&nbsp;<span class="op" id="6629780">||</span>&nbsp;<span class="ident" id="6629783">err</span>&nbsp;<span class="op" id="6629787">!=</span>&nbsp;<span class="ident" id="6629790">nil</span>&nbsp;<span class="op" id="6629794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629799">t</span><span class="op" id="6629800">.</span><span class="ident" id="6629801">Errorf</span><span class="op" id="6629807">(</span><span class="string" id="6629808">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6629851">,</span>&nbsp;<span class="ident" id="6629853">tt</span><span class="op" id="6629855">.</span><span class="ident" id="6629856">in</span><span class="op" id="6629858">,</span>&nbsp;<span class="ident" id="6629860">out</span><span class="op" id="6629863">,</span>&nbsp;<span class="ident" id="6629865">err</span><span class="op" id="6629868">,</span>&nbsp;<span class="ident" id="6629870">tt</span><span class="op" id="6629872">.</span><span class="ident" id="6629873">out</span><span class="op" id="6629876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629883">}</span><br>
<span class="lineno">100</span><span class="op" id="6629885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6629888">func</span>&nbsp;<span class="ident" id="6629893">BenchmarkIPString</span><span class="op" id="6629910">(</span><span class="ident" id="6629911">b</span>&nbsp;<span class="op" id="6629913">*</span><span class="ident" id="6629914">testing</span><span class="op" id="6629921">.</span><span class="ident" id="6629922">B</span><span class="op" id="6629923">)</span>&nbsp;<span class="op" id="6629925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629928">for</span>&nbsp;<span class="ident" id="6629932">i</span>&nbsp;<span class="op" id="6629934">:=</span>&nbsp;<span class="num" id="6629937">0</span><span class="op" id="6629938">;</span>&nbsp;<span class="ident" id="6629940">i</span>&nbsp;<span class="op" id="6629942">&lt;</span>&nbsp;<span class="ident" id="6629944">b</span><span class="op" id="6629945">.</span><span class="ident" id="6629946">N</span><span class="op" id="6629947">;</span>&nbsp;<span class="ident" id="6629949">i</span><span class="op" id="6629950">++</span>&nbsp;<span class="op" id="6629953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629957">for</span>&nbsp;<span class="ident" id="6629961">_</span><span class="op" id="6629962">,</span>&nbsp;<span class="ident" id="6629964">tt</span>&nbsp;<span class="op" id="6629967">:=</span>&nbsp;<span class="keyword" id="6629970">range</span>&nbsp;<span class="ident" id="6629976">ipStringTests</span>&nbsp;<span class="op" id="6629990">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629995">if</span>&nbsp;<span class="ident" id="6629998">tt</span><span class="op" id="6630000">.</span><span class="ident" id="6630001">in</span>&nbsp;<span class="op" id="6630004">!=</span>&nbsp;<span class="ident" id="6630007">nil</span>&nbsp;<span class="op" id="6630011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630017">tt</span><span class="op" id="6630019">.</span><span class="ident" id="6630020">in</span><span class="op" id="6630022">.</span><span class="ident" id="6630023">String</span><span class="op" id="6630029">(</span><span class="op" id="6630030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630042">}</span><br>
<span class="lineno">110</span><span class="op" id="6630044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6630047">var</span>&nbsp;<span class="ident" id="6630051">ipMaskTests</span>&nbsp;<span class="op" id="6630063">=</span>&nbsp;<span class="op" id="6630065">[</span><span class="op" id="6630066">]</span><span class="keyword" id="6630067">struct</span>&nbsp;<span class="op" id="6630074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630077">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6630082">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630086">mask</span>&nbsp;<span class="ident" id="6630091">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630099">out</span>&nbsp;&nbsp;<span class="ident" id="6630104">IP</span><br>
<span class="lineno"></span><span class="op" id="6630107">}</span><span class="op" id="6630108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630111">{</span><span class="ident" id="6630112">IPv4</span><span class="op" id="6630116">(</span><span class="num" id="6630117">192</span><span class="op" id="6630120">,</span>&nbsp;<span class="num" id="6630122">168</span><span class="op" id="6630125">,</span>&nbsp;<span class="num" id="6630127">1</span><span class="op" id="6630128">,</span>&nbsp;<span class="num" id="6630130">127</span><span class="op" id="6630133">)</span><span class="op" id="6630134">,</span>&nbsp;<span class="ident" id="6630136">IPv4Mask</span><span class="op" id="6630144">(</span><span class="num" id="6630145">255</span><span class="op" id="6630148">,</span>&nbsp;<span class="num" id="6630150">255</span><span class="op" id="6630153">,</span>&nbsp;<span class="num" id="6630155">255</span><span class="op" id="6630158">,</span>&nbsp;<span class="num" id="6630160">128</span><span class="op" id="6630163">)</span><span class="op" id="6630164">,</span>&nbsp;<span class="ident" id="6630166">IPv4</span><span class="op" id="6630170">(</span><span class="num" id="6630171">192</span><span class="op" id="6630174">,</span>&nbsp;<span class="num" id="6630176">168</span><span class="op" id="6630179">,</span>&nbsp;<span class="num" id="6630181">1</span><span class="op" id="6630182">,</span>&nbsp;<span class="num" id="6630184">0</span><span class="op" id="6630185">)</span><span class="op" id="6630186">}</span><span class="op" id="6630187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630190">{</span><span class="ident" id="6630191">IPv4</span><span class="op" id="6630195">(</span><span class="num" id="6630196">192</span><span class="op" id="6630199">,</span>&nbsp;<span class="num" id="6630201">168</span><span class="op" id="6630204">,</span>&nbsp;<span class="num" id="6630206">1</span><span class="op" id="6630207">,</span>&nbsp;<span class="num" id="6630209">127</span><span class="op" id="6630212">)</span><span class="op" id="6630213">,</span>&nbsp;<span class="ident" id="6630215">IPMask</span><span class="op" id="6630221">(</span><span class="ident" id="6630222">ParseIP</span><span class="op" id="6630229">(</span><span class="string" id="6630230">&#34;255.255.255.192&#34;</span><span class="op" id="6630247">)</span><span class="op" id="6630248">)</span><span class="op" id="6630249">,</span>&nbsp;<span class="ident" id="6630251">IPv4</span><span class="op" id="6630255">(</span><span class="num" id="6630256">192</span><span class="op" id="6630259">,</span>&nbsp;<span class="num" id="6630261">168</span><span class="op" id="6630264">,</span>&nbsp;<span class="num" id="6630266">1</span><span class="op" id="6630267">,</span>&nbsp;<span class="num" id="6630269">64</span><span class="op" id="6630271">)</span><span class="op" id="6630272">}</span><span class="op" id="6630273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630276">{</span><span class="ident" id="6630277">IPv4</span><span class="op" id="6630281">(</span><span class="num" id="6630282">192</span><span class="op" id="6630285">,</span>&nbsp;<span class="num" id="6630287">168</span><span class="op" id="6630290">,</span>&nbsp;<span class="num" id="6630292">1</span><span class="op" id="6630293">,</span>&nbsp;<span class="num" id="6630295">127</span><span class="op" id="6630298">)</span><span class="op" id="6630299">,</span>&nbsp;<span class="ident" id="6630301">IPMask</span><span class="op" id="6630307">(</span><span class="ident" id="6630308">ParseIP</span><span class="op" id="6630315">(</span><span class="string" id="6630316">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="6630357">)</span><span class="op" id="6630358">)</span><span class="op" id="6630359">,</span>&nbsp;<span class="ident" id="6630361">IPv4</span><span class="op" id="6630365">(</span><span class="num" id="6630366">192</span><span class="op" id="6630369">,</span>&nbsp;<span class="num" id="6630371">168</span><span class="op" id="6630374">,</span>&nbsp;<span class="num" id="6630376">1</span><span class="op" id="6630377">,</span>&nbsp;<span class="num" id="6630379">96</span><span class="op" id="6630381">)</span><span class="op" id="6630382">}</span><span class="op" id="6630383">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630386">{</span><span class="ident" id="6630387">IPv4</span><span class="op" id="6630391">(</span><span class="num" id="6630392">192</span><span class="op" id="6630395">,</span>&nbsp;<span class="num" id="6630397">168</span><span class="op" id="6630400">,</span>&nbsp;<span class="num" id="6630402">1</span><span class="op" id="6630403">,</span>&nbsp;<span class="num" id="6630405">127</span><span class="op" id="6630408">)</span><span class="op" id="6630409">,</span>&nbsp;<span class="ident" id="6630411">IPv4Mask</span><span class="op" id="6630419">(</span><span class="num" id="6630420">255</span><span class="op" id="6630423">,</span>&nbsp;<span class="num" id="6630425">0</span><span class="op" id="6630426">,</span>&nbsp;<span class="num" id="6630428">255</span><span class="op" id="6630431">,</span>&nbsp;<span class="num" id="6630433">0</span><span class="op" id="6630434">)</span><span class="op" id="6630435">,</span>&nbsp;<span class="ident" id="6630437">IPv4</span><span class="op" id="6630441">(</span><span class="num" id="6630442">192</span><span class="op" id="6630445">,</span>&nbsp;<span class="num" id="6630447">0</span><span class="op" id="6630448">,</span>&nbsp;<span class="num" id="6630450">1</span><span class="op" id="6630451">,</span>&nbsp;<span class="num" id="6630453">0</span><span class="op" id="6630454">)</span><span class="op" id="6630455">}</span><span class="op" id="6630456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630459">{</span><span class="ident" id="6630460">ParseIP</span><span class="op" id="6630467">(</span><span class="string" id="6630468">&#34;2001:db8::1&#34;</span><span class="op" id="6630481">)</span><span class="op" id="6630482">,</span>&nbsp;<span class="ident" id="6630484">IPMask</span><span class="op" id="6630490">(</span><span class="ident" id="6630491">ParseIP</span><span class="op" id="6630498">(</span><span class="string" id="6630499">&#34;ffff:ff80::&#34;</span><span class="op" id="6630512">)</span><span class="op" id="6630513">)</span><span class="op" id="6630514">,</span>&nbsp;<span class="ident" id="6630516">ParseIP</span><span class="op" id="6630523">(</span><span class="string" id="6630524">&#34;2001:d80::&#34;</span><span class="op" id="6630536">)</span><span class="op" id="6630537">}</span><span class="op" id="6630538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630541">{</span><span class="ident" id="6630542">ParseIP</span><span class="op" id="6630549">(</span><span class="string" id="6630550">&#34;2001:db8::1&#34;</span><span class="op" id="6630563">)</span><span class="op" id="6630564">,</span>&nbsp;<span class="ident" id="6630566">IPMask</span><span class="op" id="6630572">(</span><span class="ident" id="6630573">ParseIP</span><span class="op" id="6630580">(</span><span class="string" id="6630581">&#34;f0f0:0f0f::&#34;</span><span class="op" id="6630594">)</span><span class="op" id="6630595">)</span><span class="op" id="6630596">,</span>&nbsp;<span class="ident" id="6630598">ParseIP</span><span class="op" id="6630605">(</span><span class="string" id="6630606">&#34;2000:d08::&#34;</span><span class="op" id="6630618">)</span><span class="op" id="6630619">}</span><span class="op" id="6630620">,</span><br>
<span class="lineno"></span><span class="op" id="6630622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6630625">func</span>&nbsp;<span class="ident" id="6630630">TestIPMask</span><span class="op" id="6630640">(</span><span class="ident" id="6630641">t</span>&nbsp;<span class="op" id="6630643">*</span><span class="ident" id="6630644">testing</span><span class="op" id="6630651">.</span><span class="ident" id="6630652">T</span><span class="op" id="6630653">)</span>&nbsp;<span class="op" id="6630655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630658">for</span>&nbsp;<span class="ident" id="6630662">_</span><span class="op" id="6630663">,</span>&nbsp;<span class="ident" id="6630665">tt</span>&nbsp;<span class="op" id="6630668">:=</span>&nbsp;<span class="keyword" id="6630671">range</span>&nbsp;<span class="ident" id="6630677">ipMaskTests</span>&nbsp;<span class="op" id="6630689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630693">if</span>&nbsp;<span class="ident" id="6630696">out</span>&nbsp;<span class="op" id="6630700">:=</span>&nbsp;<span class="ident" id="6630703">tt</span><span class="op" id="6630705">.</span><span class="ident" id="6630706">in</span><span class="op" id="6630708">.</span><span class="ident" id="6630709">Mask</span><span class="op" id="6630713">(</span><span class="ident" id="6630714">tt</span><span class="op" id="6630716">.</span><span class="ident" id="6630717">mask</span><span class="op" id="6630721">)</span><span class="op" id="6630722">;</span>&nbsp;<span class="ident" id="6630724">out</span>&nbsp;<span class="op" id="6630728">==</span>&nbsp;<span class="ident" id="6630731">nil</span>&nbsp;<span class="op" id="6630735">||</span>&nbsp;<span class="op" id="6630738">!</span><span class="ident" id="6630739">tt</span><span class="op" id="6630741">.</span><span class="ident" id="6630742">out</span><span class="op" id="6630745">.</span><span class="ident" id="6630746">Equal</span><span class="op" id="6630751">(</span><span class="ident" id="6630752">out</span><span class="op" id="6630755">)</span>&nbsp;<span class="op" id="6630757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630762">t</span><span class="op" id="6630763">.</span><span class="ident" id="6630764">Errorf</span><span class="op" id="6630770">(</span><span class="string" id="6630771">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6630802">,</span>&nbsp;<span class="ident" id="6630804">tt</span><span class="op" id="6630806">.</span><span class="ident" id="6630807">in</span><span class="op" id="6630809">,</span>&nbsp;<span class="ident" id="6630811">tt</span><span class="op" id="6630813">.</span><span class="ident" id="6630814">mask</span><span class="op" id="6630818">,</span>&nbsp;<span class="ident" id="6630820">out</span><span class="op" id="6630823">,</span>&nbsp;<span class="ident" id="6630825">tt</span><span class="op" id="6630827">.</span><span class="ident" id="6630828">out</span><span class="op" id="6630831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630835">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630838">}</span><br>
<span class="lineno"></span><span class="op" id="6630840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6630843">var</span>&nbsp;<span class="ident" id="6630847">ipMaskStringTests</span>&nbsp;<span class="op" id="6630865">=</span>&nbsp;<span class="op" id="6630867">[</span><span class="op" id="6630868">]</span><span class="keyword" id="6630869">struct</span>&nbsp;<span class="op" id="6630876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630879">in</span>&nbsp;&nbsp;<span class="ident" id="6630883">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630891">out</span>&nbsp;<span class="builtintype" id="6630895">string</span><br>
<span class="lineno"></span><span class="op" id="6630902">}</span><span class="op" id="6630903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630906">{</span><span class="ident" id="6630907">IPv4Mask</span><span class="op" id="6630915">(</span><span class="num" id="6630916">255</span><span class="op" id="6630919">,</span>&nbsp;<span class="num" id="6630921">255</span><span class="op" id="6630924">,</span>&nbsp;<span class="num" id="6630926">255</span><span class="op" id="6630929">,</span>&nbsp;<span class="num" id="6630931">240</span><span class="op" id="6630934">)</span><span class="op" id="6630935">,</span>&nbsp;<span class="string" id="6630937">&#34;fffffff0&#34;</span><span class="op" id="6630947">}</span><span class="op" id="6630948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630951">{</span><span class="ident" id="6630952">IPv4Mask</span><span class="op" id="6630960">(</span><span class="num" id="6630961">255</span><span class="op" id="6630964">,</span>&nbsp;<span class="num" id="6630966">0</span><span class="op" id="6630967">,</span>&nbsp;<span class="num" id="6630969">128</span><span class="op" id="6630972">,</span>&nbsp;<span class="num" id="6630974">0</span><span class="op" id="6630975">)</span><span class="op" id="6630976">,</span>&nbsp;<span class="string" id="6630978">&#34;ff008000&#34;</span><span class="op" id="6630988">}</span><span class="op" id="6630989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630992">{</span><span class="ident" id="6630993">IPMask</span><span class="op" id="6630999">(</span><span class="ident" id="6631000">ParseIP</span><span class="op" id="6631007">(</span><span class="string" id="6631008">&#34;ffff:ff80::&#34;</span><span class="op" id="6631021">)</span><span class="op" id="6631022">)</span><span class="op" id="6631023">,</span>&nbsp;<span class="string" id="6631025">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="6631059">}</span><span class="op" id="6631060">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631063">{</span><span class="ident" id="6631064">IPMask</span><span class="op" id="6631070">(</span><span class="ident" id="6631071">ParseIP</span><span class="op" id="6631078">(</span><span class="string" id="6631079">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="6631098">)</span><span class="op" id="6631099">)</span><span class="op" id="6631100">,</span>&nbsp;<span class="string" id="6631102">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="6631136">}</span><span class="op" id="6631137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631140">{</span><span class="ident" id="6631141">nil</span><span class="op" id="6631144">,</span>&nbsp;<span class="string" id="6631146">&#34;&lt;nil&gt;&#34;</span><span class="op" id="6631153">}</span><span class="op" id="6631154">,</span><br>
<span class="lineno"></span><span class="op" id="6631156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6631159">func</span>&nbsp;<span class="ident" id="6631164">TestIPMaskString</span><span class="op" id="6631180">(</span><span class="ident" id="6631181">t</span>&nbsp;<span class="op" id="6631183">*</span><span class="ident" id="6631184">testing</span><span class="op" id="6631191">.</span><span class="ident" id="6631192">T</span><span class="op" id="6631193">)</span>&nbsp;<span class="op" id="6631195">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631198">for</span>&nbsp;<span class="ident" id="6631202">_</span><span class="op" id="6631203">,</span>&nbsp;<span class="ident" id="6631205">tt</span>&nbsp;<span class="op" id="6631208">:=</span>&nbsp;<span class="keyword" id="6631211">range</span>&nbsp;<span class="ident" id="6631217">ipMaskStringTests</span>&nbsp;<span class="op" id="6631235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631239">if</span>&nbsp;<span class="ident" id="6631242">out</span>&nbsp;<span class="op" id="6631246">:=</span>&nbsp;<span class="ident" id="6631249">tt</span><span class="op" id="6631251">.</span><span class="ident" id="6631252">in</span><span class="op" id="6631254">.</span><span class="ident" id="6631255">String</span><span class="op" id="6631261">(</span><span class="op" id="6631262">)</span><span class="op" id="6631263">;</span>&nbsp;<span class="ident" id="6631265">out</span>&nbsp;<span class="op" id="6631269">!=</span>&nbsp;<span class="ident" id="6631272">tt</span><span class="op" id="6631274">.</span><span class="ident" id="6631275">out</span>&nbsp;<span class="op" id="6631279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631284">t</span><span class="op" id="6631285">.</span><span class="ident" id="6631286">Errorf</span><span class="op" id="6631292">(</span><span class="string" id="6631293">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6631326">,</span>&nbsp;<span class="ident" id="6631328">tt</span><span class="op" id="6631330">.</span><span class="ident" id="6631331">in</span><span class="op" id="6631333">,</span>&nbsp;<span class="ident" id="6631335">out</span><span class="op" id="6631338">,</span>&nbsp;<span class="ident" id="6631340">tt</span><span class="op" id="6631342">.</span><span class="ident" id="6631343">out</span><span class="op" id="6631346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631353">}</span><br>
<span class="lineno">150</span><span class="op" id="6631355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6631358">func</span>&nbsp;<span class="ident" id="6631363">BenchmarkIPMaskString</span><span class="op" id="6631384">(</span><span class="ident" id="6631385">b</span>&nbsp;<span class="op" id="6631387">*</span><span class="ident" id="6631388">testing</span><span class="op" id="6631395">.</span><span class="ident" id="6631396">B</span><span class="op" id="6631397">)</span>&nbsp;<span class="op" id="6631399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631402">for</span>&nbsp;<span class="ident" id="6631406">i</span>&nbsp;<span class="op" id="6631408">:=</span>&nbsp;<span class="num" id="6631411">0</span><span class="op" id="6631412">;</span>&nbsp;<span class="ident" id="6631414">i</span>&nbsp;<span class="op" id="6631416">&lt;</span>&nbsp;<span class="ident" id="6631418">b</span><span class="op" id="6631419">.</span><span class="ident" id="6631420">N</span><span class="op" id="6631421">;</span>&nbsp;<span class="ident" id="6631423">i</span><span class="op" id="6631424">++</span>&nbsp;<span class="op" id="6631427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631431">for</span>&nbsp;<span class="ident" id="6631435">_</span><span class="op" id="6631436">,</span>&nbsp;<span class="ident" id="6631438">tt</span>&nbsp;<span class="op" id="6631441">:=</span>&nbsp;<span class="keyword" id="6631444">range</span>&nbsp;<span class="ident" id="6631450">ipMaskStringTests</span>&nbsp;<span class="op" id="6631468">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631473">tt</span><span class="op" id="6631475">.</span><span class="ident" id="6631476">in</span><span class="op" id="6631478">.</span><span class="ident" id="6631479">String</span><span class="op" id="6631485">(</span><span class="op" id="6631486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631493">}</span><br>
<span class="lineno"></span><span class="op" id="6631495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6631498">var</span>&nbsp;<span class="ident" id="6631502">parseCIDRTests</span>&nbsp;<span class="op" id="6631517">=</span>&nbsp;<span class="op" id="6631519">[</span><span class="op" id="6631520">]</span><span class="keyword" id="6631521">struct</span>&nbsp;<span class="op" id="6631528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631531">in</span>&nbsp;&nbsp;<span class="builtintype" id="6631535">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631543">ip</span>&nbsp;&nbsp;<span class="ident" id="6631547">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631551">net</span>&nbsp;<span class="op" id="6631555">*</span><span class="ident" id="6631556">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631563">err</span>&nbsp;<span class="builtintype" id="6631567">error</span><br>
<span class="lineno">165</span><span class="op" id="6631573">}</span><span class="op" id="6631574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631577">{</span><span class="string" id="6631578">&#34;135.104.0.0/32&#34;</span><span class="op" id="6631594">,</span>&nbsp;<span class="ident" id="6631596">IPv4</span><span class="op" id="6631600">(</span><span class="num" id="6631601">135</span><span class="op" id="6631604">,</span>&nbsp;<span class="num" id="6631606">104</span><span class="op" id="6631609">,</span>&nbsp;<span class="num" id="6631611">0</span><span class="op" id="6631612">,</span>&nbsp;<span class="num" id="6631614">0</span><span class="op" id="6631615">)</span><span class="op" id="6631616">,</span>&nbsp;<span class="op" id="6631618">&amp;</span><span class="ident" id="6631619">IPNet</span><span class="op" id="6631624">{</span><span class="ident" id="6631625">IP</span><span class="op" id="6631627">:</span>&nbsp;<span class="ident" id="6631629">IPv4</span><span class="op" id="6631633">(</span><span class="num" id="6631634">135</span><span class="op" id="6631637">,</span>&nbsp;<span class="num" id="6631639">104</span><span class="op" id="6631642">,</span>&nbsp;<span class="num" id="6631644">0</span><span class="op" id="6631645">,</span>&nbsp;<span class="num" id="6631647">0</span><span class="op" id="6631648">)</span><span class="op" id="6631649">,</span>&nbsp;<span class="ident" id="6631651">Mask</span><span class="op" id="6631655">:</span>&nbsp;<span class="ident" id="6631657">IPv4Mask</span><span class="op" id="6631665">(</span><span class="num" id="6631666">255</span><span class="op" id="6631669">,</span>&nbsp;<span class="num" id="6631671">255</span><span class="op" id="6631674">,</span>&nbsp;<span class="num" id="6631676">255</span><span class="op" id="6631679">,</span>&nbsp;<span class="num" id="6631681">255</span><span class="op" id="6631684">)</span><span class="op" id="6631685">}</span><span class="op" id="6631686">,</span>&nbsp;<span class="ident" id="6631688">nil</span><span class="op" id="6631691">}</span><span class="op" id="6631692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631695">{</span><span class="string" id="6631696">&#34;0.0.0.0/24&#34;</span><span class="op" id="6631708">,</span>&nbsp;<span class="ident" id="6631710">IPv4</span><span class="op" id="6631714">(</span><span class="num" id="6631715">0</span><span class="op" id="6631716">,</span>&nbsp;<span class="num" id="6631718">0</span><span class="op" id="6631719">,</span>&nbsp;<span class="num" id="6631721">0</span><span class="op" id="6631722">,</span>&nbsp;<span class="num" id="6631724">0</span><span class="op" id="6631725">)</span><span class="op" id="6631726">,</span>&nbsp;<span class="op" id="6631728">&amp;</span><span class="ident" id="6631729">IPNet</span><span class="op" id="6631734">{</span><span class="ident" id="6631735">IP</span><span class="op" id="6631737">:</span>&nbsp;<span class="ident" id="6631739">IPv4</span><span class="op" id="6631743">(</span><span class="num" id="6631744">0</span><span class="op" id="6631745">,</span>&nbsp;<span class="num" id="6631747">0</span><span class="op" id="6631748">,</span>&nbsp;<span class="num" id="6631750">0</span><span class="op" id="6631751">,</span>&nbsp;<span class="num" id="6631753">0</span><span class="op" id="6631754">)</span><span class="op" id="6631755">,</span>&nbsp;<span class="ident" id="6631757">Mask</span><span class="op" id="6631761">:</span>&nbsp;<span class="ident" id="6631763">IPv4Mask</span><span class="op" id="6631771">(</span><span class="num" id="6631772">255</span><span class="op" id="6631775">,</span>&nbsp;<span class="num" id="6631777">255</span><span class="op" id="6631780">,</span>&nbsp;<span class="num" id="6631782">255</span><span class="op" id="6631785">,</span>&nbsp;<span class="num" id="6631787">0</span><span class="op" id="6631788">)</span><span class="op" id="6631789">}</span><span class="op" id="6631790">,</span>&nbsp;<span class="ident" id="6631792">nil</span><span class="op" id="6631795">}</span><span class="op" id="6631796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631799">{</span><span class="string" id="6631800">&#34;135.104.0.0/24&#34;</span><span class="op" id="6631816">,</span>&nbsp;<span class="ident" id="6631818">IPv4</span><span class="op" id="6631822">(</span><span class="num" id="6631823">135</span><span class="op" id="6631826">,</span>&nbsp;<span class="num" id="6631828">104</span><span class="op" id="6631831">,</span>&nbsp;<span class="num" id="6631833">0</span><span class="op" id="6631834">,</span>&nbsp;<span class="num" id="6631836">0</span><span class="op" id="6631837">)</span><span class="op" id="6631838">,</span>&nbsp;<span class="op" id="6631840">&amp;</span><span class="ident" id="6631841">IPNet</span><span class="op" id="6631846">{</span><span class="ident" id="6631847">IP</span><span class="op" id="6631849">:</span>&nbsp;<span class="ident" id="6631851">IPv4</span><span class="op" id="6631855">(</span><span class="num" id="6631856">135</span><span class="op" id="6631859">,</span>&nbsp;<span class="num" id="6631861">104</span><span class="op" id="6631864">,</span>&nbsp;<span class="num" id="6631866">0</span><span class="op" id="6631867">,</span>&nbsp;<span class="num" id="6631869">0</span><span class="op" id="6631870">)</span><span class="op" id="6631871">,</span>&nbsp;<span class="ident" id="6631873">Mask</span><span class="op" id="6631877">:</span>&nbsp;<span class="ident" id="6631879">IPv4Mask</span><span class="op" id="6631887">(</span><span class="num" id="6631888">255</span><span class="op" id="6631891">,</span>&nbsp;<span class="num" id="6631893">255</span><span class="op" id="6631896">,</span>&nbsp;<span class="num" id="6631898">255</span><span class="op" id="6631901">,</span>&nbsp;<span class="num" id="6631903">0</span><span class="op" id="6631904">)</span><span class="op" id="6631905">}</span><span class="op" id="6631906">,</span>&nbsp;<span class="ident" id="6631908">nil</span><span class="op" id="6631911">}</span><span class="op" id="6631912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631915">{</span><span class="string" id="6631916">&#34;135.104.0.1/32&#34;</span><span class="op" id="6631932">,</span>&nbsp;<span class="ident" id="6631934">IPv4</span><span class="op" id="6631938">(</span><span class="num" id="6631939">135</span><span class="op" id="6631942">,</span>&nbsp;<span class="num" id="6631944">104</span><span class="op" id="6631947">,</span>&nbsp;<span class="num" id="6631949">0</span><span class="op" id="6631950">,</span>&nbsp;<span class="num" id="6631952">1</span><span class="op" id="6631953">)</span><span class="op" id="6631954">,</span>&nbsp;<span class="op" id="6631956">&amp;</span><span class="ident" id="6631957">IPNet</span><span class="op" id="6631962">{</span><span class="ident" id="6631963">IP</span><span class="op" id="6631965">:</span>&nbsp;<span class="ident" id="6631967">IPv4</span><span class="op" id="6631971">(</span><span class="num" id="6631972">135</span><span class="op" id="6631975">,</span>&nbsp;<span class="num" id="6631977">104</span><span class="op" id="6631980">,</span>&nbsp;<span class="num" id="6631982">0</span><span class="op" id="6631983">,</span>&nbsp;<span class="num" id="6631985">1</span><span class="op" id="6631986">)</span><span class="op" id="6631987">,</span>&nbsp;<span class="ident" id="6631989">Mask</span><span class="op" id="6631993">:</span>&nbsp;<span class="ident" id="6631995">IPv4Mask</span><span class="op" id="6632003">(</span><span class="num" id="6632004">255</span><span class="op" id="6632007">,</span>&nbsp;<span class="num" id="6632009">255</span><span class="op" id="6632012">,</span>&nbsp;<span class="num" id="6632014">255</span><span class="op" id="6632017">,</span>&nbsp;<span class="num" id="6632019">255</span><span class="op" id="6632022">)</span><span class="op" id="6632023">}</span><span class="op" id="6632024">,</span>&nbsp;<span class="ident" id="6632026">nil</span><span class="op" id="6632029">}</span><span class="op" id="6632030">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632033">{</span><span class="string" id="6632034">&#34;135.104.0.1/24&#34;</span><span class="op" id="6632050">,</span>&nbsp;<span class="ident" id="6632052">IPv4</span><span class="op" id="6632056">(</span><span class="num" id="6632057">135</span><span class="op" id="6632060">,</span>&nbsp;<span class="num" id="6632062">104</span><span class="op" id="6632065">,</span>&nbsp;<span class="num" id="6632067">0</span><span class="op" id="6632068">,</span>&nbsp;<span class="num" id="6632070">1</span><span class="op" id="6632071">)</span><span class="op" id="6632072">,</span>&nbsp;<span class="op" id="6632074">&amp;</span><span class="ident" id="6632075">IPNet</span><span class="op" id="6632080">{</span><span class="ident" id="6632081">IP</span><span class="op" id="6632083">:</span>&nbsp;<span class="ident" id="6632085">IPv4</span><span class="op" id="6632089">(</span><span class="num" id="6632090">135</span><span class="op" id="6632093">,</span>&nbsp;<span class="num" id="6632095">104</span><span class="op" id="6632098">,</span>&nbsp;<span class="num" id="6632100">0</span><span class="op" id="6632101">,</span>&nbsp;<span class="num" id="6632103">0</span><span class="op" id="6632104">)</span><span class="op" id="6632105">,</span>&nbsp;<span class="ident" id="6632107">Mask</span><span class="op" id="6632111">:</span>&nbsp;<span class="ident" id="6632113">IPv4Mask</span><span class="op" id="6632121">(</span><span class="num" id="6632122">255</span><span class="op" id="6632125">,</span>&nbsp;<span class="num" id="6632127">255</span><span class="op" id="6632130">,</span>&nbsp;<span class="num" id="6632132">255</span><span class="op" id="6632135">,</span>&nbsp;<span class="num" id="6632137">0</span><span class="op" id="6632138">)</span><span class="op" id="6632139">}</span><span class="op" id="6632140">,</span>&nbsp;<span class="ident" id="6632142">nil</span><span class="op" id="6632145">}</span><span class="op" id="6632146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632149">{</span><span class="string" id="6632150">&#34;::1/128&#34;</span><span class="op" id="6632159">,</span>&nbsp;<span class="ident" id="6632161">ParseIP</span><span class="op" id="6632168">(</span><span class="string" id="6632169">&#34;::1&#34;</span><span class="op" id="6632174">)</span><span class="op" id="6632175">,</span>&nbsp;<span class="op" id="6632177">&amp;</span><span class="ident" id="6632178">IPNet</span><span class="op" id="6632183">{</span><span class="ident" id="6632184">IP</span><span class="op" id="6632186">:</span>&nbsp;<span class="ident" id="6632188">ParseIP</span><span class="op" id="6632195">(</span><span class="string" id="6632196">&#34;::1&#34;</span><span class="op" id="6632201">)</span><span class="op" id="6632202">,</span>&nbsp;<span class="ident" id="6632204">Mask</span><span class="op" id="6632208">:</span>&nbsp;<span class="ident" id="6632210">IPMask</span><span class="op" id="6632216">(</span><span class="ident" id="6632217">ParseIP</span><span class="op" id="6632224">(</span><span class="string" id="6632225">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="6632266">)</span><span class="op" id="6632267">)</span><span class="op" id="6632268">}</span><span class="op" id="6632269">,</span>&nbsp;<span class="ident" id="6632271">nil</span><span class="op" id="6632274">}</span><span class="op" id="6632275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632278">{</span><span class="string" id="6632279">&#34;abcd:2345::/127&#34;</span><span class="op" id="6632296">,</span>&nbsp;<span class="ident" id="6632298">ParseIP</span><span class="op" id="6632305">(</span><span class="string" id="6632306">&#34;abcd:2345::&#34;</span><span class="op" id="6632319">)</span><span class="op" id="6632320">,</span>&nbsp;<span class="op" id="6632322">&amp;</span><span class="ident" id="6632323">IPNet</span><span class="op" id="6632328">{</span><span class="ident" id="6632329">IP</span><span class="op" id="6632331">:</span>&nbsp;<span class="ident" id="6632333">ParseIP</span><span class="op" id="6632340">(</span><span class="string" id="6632341">&#34;abcd:2345::&#34;</span><span class="op" id="6632354">)</span><span class="op" id="6632355">,</span>&nbsp;<span class="ident" id="6632357">Mask</span><span class="op" id="6632361">:</span>&nbsp;<span class="ident" id="6632363">IPMask</span><span class="op" id="6632369">(</span><span class="ident" id="6632370">ParseIP</span><span class="op" id="6632377">(</span><span class="string" id="6632378">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="6632419">)</span><span class="op" id="6632420">)</span><span class="op" id="6632421">}</span><span class="op" id="6632422">,</span>&nbsp;<span class="ident" id="6632424">nil</span><span class="op" id="6632427">}</span><span class="op" id="6632428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632431">{</span><span class="string" id="6632432">&#34;abcd:2345::/65&#34;</span><span class="op" id="6632448">,</span>&nbsp;<span class="ident" id="6632450">ParseIP</span><span class="op" id="6632457">(</span><span class="string" id="6632458">&#34;abcd:2345::&#34;</span><span class="op" id="6632471">)</span><span class="op" id="6632472">,</span>&nbsp;<span class="op" id="6632474">&amp;</span><span class="ident" id="6632475">IPNet</span><span class="op" id="6632480">{</span><span class="ident" id="6632481">IP</span><span class="op" id="6632483">:</span>&nbsp;<span class="ident" id="6632485">ParseIP</span><span class="op" id="6632492">(</span><span class="string" id="6632493">&#34;abcd:2345::&#34;</span><span class="op" id="6632506">)</span><span class="op" id="6632507">,</span>&nbsp;<span class="ident" id="6632509">Mask</span><span class="op" id="6632513">:</span>&nbsp;<span class="ident" id="6632515">IPMask</span><span class="op" id="6632521">(</span><span class="ident" id="6632522">ParseIP</span><span class="op" id="6632529">(</span><span class="string" id="6632530">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="6632558">)</span><span class="op" id="6632559">)</span><span class="op" id="6632560">}</span><span class="op" id="6632561">,</span>&nbsp;<span class="ident" id="6632563">nil</span><span class="op" id="6632566">}</span><span class="op" id="6632567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632570">{</span><span class="string" id="6632571">&#34;abcd:2345::/64&#34;</span><span class="op" id="6632587">,</span>&nbsp;<span class="ident" id="6632589">ParseIP</span><span class="op" id="6632596">(</span><span class="string" id="6632597">&#34;abcd:2345::&#34;</span><span class="op" id="6632610">)</span><span class="op" id="6632611">,</span>&nbsp;<span class="op" id="6632613">&amp;</span><span class="ident" id="6632614">IPNet</span><span class="op" id="6632619">{</span><span class="ident" id="6632620">IP</span><span class="op" id="6632622">:</span>&nbsp;<span class="ident" id="6632624">ParseIP</span><span class="op" id="6632631">(</span><span class="string" id="6632632">&#34;abcd:2345::&#34;</span><span class="op" id="6632645">)</span><span class="op" id="6632646">,</span>&nbsp;<span class="ident" id="6632648">Mask</span><span class="op" id="6632652">:</span>&nbsp;<span class="ident" id="6632654">IPMask</span><span class="op" id="6632660">(</span><span class="ident" id="6632661">ParseIP</span><span class="op" id="6632668">(</span><span class="string" id="6632669">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="6632692">)</span><span class="op" id="6632693">)</span><span class="op" id="6632694">}</span><span class="op" id="6632695">,</span>&nbsp;<span class="ident" id="6632697">nil</span><span class="op" id="6632700">}</span><span class="op" id="6632701">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632704">{</span><span class="string" id="6632705">&#34;abcd:2345::/63&#34;</span><span class="op" id="6632721">,</span>&nbsp;<span class="ident" id="6632723">ParseIP</span><span class="op" id="6632730">(</span><span class="string" id="6632731">&#34;abcd:2345::&#34;</span><span class="op" id="6632744">)</span><span class="op" id="6632745">,</span>&nbsp;<span class="op" id="6632747">&amp;</span><span class="ident" id="6632748">IPNet</span><span class="op" id="6632753">{</span><span class="ident" id="6632754">IP</span><span class="op" id="6632756">:</span>&nbsp;<span class="ident" id="6632758">ParseIP</span><span class="op" id="6632765">(</span><span class="string" id="6632766">&#34;abcd:2345::&#34;</span><span class="op" id="6632779">)</span><span class="op" id="6632780">,</span>&nbsp;<span class="ident" id="6632782">Mask</span><span class="op" id="6632786">:</span>&nbsp;<span class="ident" id="6632788">IPMask</span><span class="op" id="6632794">(</span><span class="ident" id="6632795">ParseIP</span><span class="op" id="6632802">(</span><span class="string" id="6632803">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="6632826">)</span><span class="op" id="6632827">)</span><span class="op" id="6632828">}</span><span class="op" id="6632829">,</span>&nbsp;<span class="ident" id="6632831">nil</span><span class="op" id="6632834">}</span><span class="op" id="6632835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632838">{</span><span class="string" id="6632839">&#34;abcd:2345::/33&#34;</span><span class="op" id="6632855">,</span>&nbsp;<span class="ident" id="6632857">ParseIP</span><span class="op" id="6632864">(</span><span class="string" id="6632865">&#34;abcd:2345::&#34;</span><span class="op" id="6632878">)</span><span class="op" id="6632879">,</span>&nbsp;<span class="op" id="6632881">&amp;</span><span class="ident" id="6632882">IPNet</span><span class="op" id="6632887">{</span><span class="ident" id="6632888">IP</span><span class="op" id="6632890">:</span>&nbsp;<span class="ident" id="6632892">ParseIP</span><span class="op" id="6632899">(</span><span class="string" id="6632900">&#34;abcd:2345::&#34;</span><span class="op" id="6632913">)</span><span class="op" id="6632914">,</span>&nbsp;<span class="ident" id="6632916">Mask</span><span class="op" id="6632920">:</span>&nbsp;<span class="ident" id="6632922">IPMask</span><span class="op" id="6632928">(</span><span class="ident" id="6632929">ParseIP</span><span class="op" id="6632936">(</span><span class="string" id="6632937">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="6632955">)</span><span class="op" id="6632956">)</span><span class="op" id="6632957">}</span><span class="op" id="6632958">,</span>&nbsp;<span class="ident" id="6632960">nil</span><span class="op" id="6632963">}</span><span class="op" id="6632964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6632967">{</span><span class="string" id="6632968">&#34;abcd:2345::/32&#34;</span><span class="op" id="6632984">,</span>&nbsp;<span class="ident" id="6632986">ParseIP</span><span class="op" id="6632993">(</span><span class="string" id="6632994">&#34;abcd:2345::&#34;</span><span class="op" id="6633007">)</span><span class="op" id="6633008">,</span>&nbsp;<span class="op" id="6633010">&amp;</span><span class="ident" id="6633011">IPNet</span><span class="op" id="6633016">{</span><span class="ident" id="6633017">IP</span><span class="op" id="6633019">:</span>&nbsp;<span class="ident" id="6633021">ParseIP</span><span class="op" id="6633028">(</span><span class="string" id="6633029">&#34;abcd:2345::&#34;</span><span class="op" id="6633042">)</span><span class="op" id="6633043">,</span>&nbsp;<span class="ident" id="6633045">Mask</span><span class="op" id="6633049">:</span>&nbsp;<span class="ident" id="6633051">IPMask</span><span class="op" id="6633057">(</span><span class="ident" id="6633058">ParseIP</span><span class="op" id="6633065">(</span><span class="string" id="6633066">&#34;ffff:ffff::&#34;</span><span class="op" id="6633079">)</span><span class="op" id="6633080">)</span><span class="op" id="6633081">}</span><span class="op" id="6633082">,</span>&nbsp;<span class="ident" id="6633084">nil</span><span class="op" id="6633087">}</span><span class="op" id="6633088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633091">{</span><span class="string" id="6633092">&#34;abcd:2344::/31&#34;</span><span class="op" id="6633108">,</span>&nbsp;<span class="ident" id="6633110">ParseIP</span><span class="op" id="6633117">(</span><span class="string" id="6633118">&#34;abcd:2344::&#34;</span><span class="op" id="6633131">)</span><span class="op" id="6633132">,</span>&nbsp;<span class="op" id="6633134">&amp;</span><span class="ident" id="6633135">IPNet</span><span class="op" id="6633140">{</span><span class="ident" id="6633141">IP</span><span class="op" id="6633143">:</span>&nbsp;<span class="ident" id="6633145">ParseIP</span><span class="op" id="6633152">(</span><span class="string" id="6633153">&#34;abcd:2344::&#34;</span><span class="op" id="6633166">)</span><span class="op" id="6633167">,</span>&nbsp;<span class="ident" id="6633169">Mask</span><span class="op" id="6633173">:</span>&nbsp;<span class="ident" id="6633175">IPMask</span><span class="op" id="6633181">(</span><span class="ident" id="6633182">ParseIP</span><span class="op" id="6633189">(</span><span class="string" id="6633190">&#34;ffff:fffe::&#34;</span><span class="op" id="6633203">)</span><span class="op" id="6633204">)</span><span class="op" id="6633205">}</span><span class="op" id="6633206">,</span>&nbsp;<span class="ident" id="6633208">nil</span><span class="op" id="6633211">}</span><span class="op" id="6633212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633215">{</span><span class="string" id="6633216">&#34;abcd:2300::/24&#34;</span><span class="op" id="6633232">,</span>&nbsp;<span class="ident" id="6633234">ParseIP</span><span class="op" id="6633241">(</span><span class="string" id="6633242">&#34;abcd:2300::&#34;</span><span class="op" id="6633255">)</span><span class="op" id="6633256">,</span>&nbsp;<span class="op" id="6633258">&amp;</span><span class="ident" id="6633259">IPNet</span><span class="op" id="6633264">{</span><span class="ident" id="6633265">IP</span><span class="op" id="6633267">:</span>&nbsp;<span class="ident" id="6633269">ParseIP</span><span class="op" id="6633276">(</span><span class="string" id="6633277">&#34;abcd:2300::&#34;</span><span class="op" id="6633290">)</span><span class="op" id="6633291">,</span>&nbsp;<span class="ident" id="6633293">Mask</span><span class="op" id="6633297">:</span>&nbsp;<span class="ident" id="6633299">IPMask</span><span class="op" id="6633305">(</span><span class="ident" id="6633306">ParseIP</span><span class="op" id="6633313">(</span><span class="string" id="6633314">&#34;ffff:ff00::&#34;</span><span class="op" id="6633327">)</span><span class="op" id="6633328">)</span><span class="op" id="6633329">}</span><span class="op" id="6633330">,</span>&nbsp;<span class="ident" id="6633332">nil</span><span class="op" id="6633335">}</span><span class="op" id="6633336">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633339">{</span><span class="string" id="6633340">&#34;abcd:2345::/24&#34;</span><span class="op" id="6633356">,</span>&nbsp;<span class="ident" id="6633358">ParseIP</span><span class="op" id="6633365">(</span><span class="string" id="6633366">&#34;abcd:2345::&#34;</span><span class="op" id="6633379">)</span><span class="op" id="6633380">,</span>&nbsp;<span class="op" id="6633382">&amp;</span><span class="ident" id="6633383">IPNet</span><span class="op" id="6633388">{</span><span class="ident" id="6633389">IP</span><span class="op" id="6633391">:</span>&nbsp;<span class="ident" id="6633393">ParseIP</span><span class="op" id="6633400">(</span><span class="string" id="6633401">&#34;abcd:2300::&#34;</span><span class="op" id="6633414">)</span><span class="op" id="6633415">,</span>&nbsp;<span class="ident" id="6633417">Mask</span><span class="op" id="6633421">:</span>&nbsp;<span class="ident" id="6633423">IPMask</span><span class="op" id="6633429">(</span><span class="ident" id="6633430">ParseIP</span><span class="op" id="6633437">(</span><span class="string" id="6633438">&#34;ffff:ff00::&#34;</span><span class="op" id="6633451">)</span><span class="op" id="6633452">)</span><span class="op" id="6633453">}</span><span class="op" id="6633454">,</span>&nbsp;<span class="ident" id="6633456">nil</span><span class="op" id="6633459">}</span><span class="op" id="6633460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633463">{</span><span class="string" id="6633464">&#34;2001:DB8::/48&#34;</span><span class="op" id="6633479">,</span>&nbsp;<span class="ident" id="6633481">ParseIP</span><span class="op" id="6633488">(</span><span class="string" id="6633489">&#34;2001:DB8::&#34;</span><span class="op" id="6633501">)</span><span class="op" id="6633502">,</span>&nbsp;<span class="op" id="6633504">&amp;</span><span class="ident" id="6633505">IPNet</span><span class="op" id="6633510">{</span><span class="ident" id="6633511">IP</span><span class="op" id="6633513">:</span>&nbsp;<span class="ident" id="6633515">ParseIP</span><span class="op" id="6633522">(</span><span class="string" id="6633523">&#34;2001:DB8::&#34;</span><span class="op" id="6633535">)</span><span class="op" id="6633536">,</span>&nbsp;<span class="ident" id="6633538">Mask</span><span class="op" id="6633542">:</span>&nbsp;<span class="ident" id="6633544">IPMask</span><span class="op" id="6633550">(</span><span class="ident" id="6633551">ParseIP</span><span class="op" id="6633558">(</span><span class="string" id="6633559">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6633577">)</span><span class="op" id="6633578">)</span><span class="op" id="6633579">}</span><span class="op" id="6633580">,</span>&nbsp;<span class="ident" id="6633582">nil</span><span class="op" id="6633585">}</span><span class="op" id="6633586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633589">{</span><span class="string" id="6633590">&#34;2001:DB8::1/48&#34;</span><span class="op" id="6633606">,</span>&nbsp;<span class="ident" id="6633608">ParseIP</span><span class="op" id="6633615">(</span><span class="string" id="6633616">&#34;2001:DB8::1&#34;</span><span class="op" id="6633629">)</span><span class="op" id="6633630">,</span>&nbsp;<span class="op" id="6633632">&amp;</span><span class="ident" id="6633633">IPNet</span><span class="op" id="6633638">{</span><span class="ident" id="6633639">IP</span><span class="op" id="6633641">:</span>&nbsp;<span class="ident" id="6633643">ParseIP</span><span class="op" id="6633650">(</span><span class="string" id="6633651">&#34;2001:DB8::&#34;</span><span class="op" id="6633663">)</span><span class="op" id="6633664">,</span>&nbsp;<span class="ident" id="6633666">Mask</span><span class="op" id="6633670">:</span>&nbsp;<span class="ident" id="6633672">IPMask</span><span class="op" id="6633678">(</span><span class="ident" id="6633679">ParseIP</span><span class="op" id="6633686">(</span><span class="string" id="6633687">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6633705">)</span><span class="op" id="6633706">)</span><span class="op" id="6633707">}</span><span class="op" id="6633708">,</span>&nbsp;<span class="ident" id="6633710">nil</span><span class="op" id="6633713">}</span><span class="op" id="6633714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633717">{</span><span class="string" id="6633718">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6633745">,</span>&nbsp;<span class="ident" id="6633747">nil</span><span class="op" id="6633750">,</span>&nbsp;<span class="ident" id="6633752">nil</span><span class="op" id="6633755">,</span>&nbsp;<span class="op" id="6633757">&amp;</span><span class="ident" id="6633758">ParseError</span><span class="op" id="6633768">{</span><span class="string" id="6633769">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6633783">,</span>&nbsp;<span class="string" id="6633785">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6633812">}</span><span class="op" id="6633813">}</span><span class="op" id="6633814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633817">{</span><span class="string" id="6633818">&#34;192.168.1.1/35&#34;</span><span class="op" id="6633834">,</span>&nbsp;<span class="ident" id="6633836">nil</span><span class="op" id="6633839">,</span>&nbsp;<span class="ident" id="6633841">nil</span><span class="op" id="6633844">,</span>&nbsp;<span class="op" id="6633846">&amp;</span><span class="ident" id="6633847">ParseError</span><span class="op" id="6633857">{</span><span class="string" id="6633858">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6633872">,</span>&nbsp;<span class="string" id="6633874">&#34;192.168.1.1/35&#34;</span><span class="op" id="6633890">}</span><span class="op" id="6633891">}</span><span class="op" id="6633892">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633895">{</span><span class="string" id="6633896">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6633912">,</span>&nbsp;<span class="ident" id="6633914">nil</span><span class="op" id="6633917">,</span>&nbsp;<span class="ident" id="6633919">nil</span><span class="op" id="6633922">,</span>&nbsp;<span class="op" id="6633924">&amp;</span><span class="ident" id="6633925">ParseError</span><span class="op" id="6633935">{</span><span class="string" id="6633936">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6633950">,</span>&nbsp;<span class="string" id="6633952">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6633968">}</span><span class="op" id="6633969">}</span><span class="op" id="6633970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633973">{</span><span class="string" id="6633974">&#34;&#34;</span><span class="op" id="6633976">,</span>&nbsp;<span class="ident" id="6633978">nil</span><span class="op" id="6633981">,</span>&nbsp;<span class="ident" id="6633983">nil</span><span class="op" id="6633986">,</span>&nbsp;<span class="op" id="6633988">&amp;</span><span class="ident" id="6633989">ParseError</span><span class="op" id="6633999">{</span><span class="string" id="6634000">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6634014">,</span>&nbsp;<span class="string" id="6634016">&#34;&#34;</span><span class="op" id="6634018">}</span><span class="op" id="6634019">}</span><span class="op" id="6634020">,</span><br>
<span class="lineno"></span><span class="op" id="6634022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6634025">func</span>&nbsp;<span class="ident" id="6634030">TestParseCIDR</span><span class="op" id="6634043">(</span><span class="ident" id="6634044">t</span>&nbsp;<span class="op" id="6634046">*</span><span class="ident" id="6634047">testing</span><span class="op" id="6634054">.</span><span class="ident" id="6634055">T</span><span class="op" id="6634056">)</span>&nbsp;<span class="op" id="6634058">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634061">for</span>&nbsp;<span class="ident" id="6634065">_</span><span class="op" id="6634066">,</span>&nbsp;<span class="ident" id="6634068">tt</span>&nbsp;<span class="op" id="6634071">:=</span>&nbsp;<span class="keyword" id="6634074">range</span>&nbsp;<span class="ident" id="6634080">parseCIDRTests</span>&nbsp;<span class="op" id="6634095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634099">ip</span><span class="op" id="6634101">,</span>&nbsp;<span class="ident" id="6634103">net</span><span class="op" id="6634106">,</span>&nbsp;<span class="ident" id="6634108">err</span>&nbsp;<span class="op" id="6634112">:=</span>&nbsp;<span class="ident" id="6634115">ParseCIDR</span><span class="op" id="6634124">(</span><span class="ident" id="6634125">tt</span><span class="op" id="6634127">.</span><span class="ident" id="6634128">in</span><span class="op" id="6634130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634134">if</span>&nbsp;<span class="op" id="6634137">!</span><span class="ident" id="6634138">reflect</span><span class="op" id="6634145">.</span><span class="ident" id="6634146">DeepEqual</span><span class="op" id="6634155">(</span><span class="ident" id="6634156">err</span><span class="op" id="6634159">,</span>&nbsp;<span class="ident" id="6634161">tt</span><span class="op" id="6634163">.</span><span class="ident" id="6634164">err</span><span class="op" id="6634167">)</span>&nbsp;<span class="op" id="6634169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634174">t</span><span class="op" id="6634175">.</span><span class="ident" id="6634176">Errorf</span><span class="op" id="6634182">(</span><span class="string" id="6634183">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6634220">,</span>&nbsp;<span class="ident" id="6634222">tt</span><span class="op" id="6634224">.</span><span class="ident" id="6634225">in</span><span class="op" id="6634227">,</span>&nbsp;<span class="ident" id="6634229">ip</span><span class="op" id="6634231">,</span>&nbsp;<span class="ident" id="6634233">net</span><span class="op" id="6634236">,</span>&nbsp;<span class="ident" id="6634238">tt</span><span class="op" id="6634240">.</span><span class="ident" id="6634241">ip</span><span class="op" id="6634243">,</span>&nbsp;<span class="ident" id="6634245">tt</span><span class="op" id="6634247">.</span><span class="ident" id="6634248">net</span><span class="op" id="6634251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634255">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634259">if</span>&nbsp;<span class="ident" id="6634262">err</span>&nbsp;<span class="op" id="6634266">==</span>&nbsp;<span class="ident" id="6634269">nil</span>&nbsp;<span class="op" id="6634273">&amp;&amp;</span>&nbsp;<span class="op" id="6634276">(</span><span class="op" id="6634277">!</span><span class="ident" id="6634278">tt</span><span class="op" id="6634280">.</span><span class="ident" id="6634281">ip</span><span class="op" id="6634283">.</span><span class="ident" id="6634284">Equal</span><span class="op" id="6634289">(</span><span class="ident" id="6634290">ip</span><span class="op" id="6634292">)</span>&nbsp;<span class="op" id="6634294">||</span>&nbsp;<span class="op" id="6634297">!</span><span class="ident" id="6634298">tt</span><span class="op" id="6634300">.</span><span class="ident" id="6634301">net</span><span class="op" id="6634304">.</span><span class="ident" id="6634305">IP</span><span class="op" id="6634307">.</span><span class="ident" id="6634308">Equal</span><span class="op" id="6634313">(</span><span class="ident" id="6634314">net</span><span class="op" id="6634317">.</span><span class="ident" id="6634318">IP</span><span class="op" id="6634320">)</span>&nbsp;<span class="op" id="6634322">||</span>&nbsp;<span class="op" id="6634325">!</span><span class="ident" id="6634326">reflect</span><span class="op" id="6634333">.</span><span class="ident" id="6634334">DeepEqual</span><span class="op" id="6634343">(</span><span class="ident" id="6634344">net</span><span class="op" id="6634347">.</span><span class="ident" id="6634348">Mask</span><span class="op" id="6634352">,</span>&nbsp;<span class="ident" id="6634354">tt</span><span class="op" id="6634356">.</span><span class="ident" id="6634357">net</span><span class="op" id="6634360">.</span><span class="ident" id="6634361">Mask</span><span class="op" id="6634365">)</span><span class="op" id="6634366">)</span>&nbsp;<span class="op" id="6634368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634373">t</span><span class="op" id="6634374">.</span><span class="ident" id="6634375">Errorf</span><span class="op" id="6634381">(</span><span class="string" id="6634382">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="6634431">,</span>&nbsp;<span class="ident" id="6634433">tt</span><span class="op" id="6634435">.</span><span class="ident" id="6634436">in</span><span class="op" id="6634438">,</span>&nbsp;<span class="ident" id="6634440">ip</span><span class="op" id="6634442">,</span>&nbsp;<span class="ident" id="6634444">net</span><span class="op" id="6634447">.</span><span class="ident" id="6634448">IP</span><span class="op" id="6634450">,</span>&nbsp;<span class="ident" id="6634452">net</span><span class="op" id="6634455">.</span><span class="ident" id="6634456">Mask</span><span class="op" id="6634460">,</span>&nbsp;<span class="ident" id="6634462">tt</span><span class="op" id="6634464">.</span><span class="ident" id="6634465">ip</span><span class="op" id="6634467">,</span>&nbsp;<span class="ident" id="6634469">tt</span><span class="op" id="6634471">.</span><span class="ident" id="6634472">net</span><span class="op" id="6634475">.</span><span class="ident" id="6634476">IP</span><span class="op" id="6634478">,</span>&nbsp;<span class="ident" id="6634480">tt</span><span class="op" id="6634482">.</span><span class="ident" id="6634483">net</span><span class="op" id="6634486">.</span><span class="ident" id="6634487">Mask</span><span class="op" id="6634491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634498">}</span><br>
<span class="lineno"></span><span class="op" id="6634500">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6634503">var</span>&nbsp;<span class="ident" id="6634507">ipNetContainsTests</span>&nbsp;<span class="op" id="6634526">=</span>&nbsp;<span class="op" id="6634528">[</span><span class="op" id="6634529">]</span><span class="keyword" id="6634530">struct</span>&nbsp;<span class="op" id="6634537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634540">ip</span>&nbsp;&nbsp;<span class="ident" id="6634544">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634548">net</span>&nbsp;<span class="op" id="6634552">*</span><span class="ident" id="6634553">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634560">ok</span>&nbsp;&nbsp;<span class="builtintype" id="6634564">bool</span><br>
<span class="lineno">205</span><span class="op" id="6634569">}</span><span class="op" id="6634570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634573">{</span><span class="ident" id="6634574">IPv4</span><span class="op" id="6634578">(</span><span class="num" id="6634579">172</span><span class="op" id="6634582">,</span>&nbsp;<span class="num" id="6634584">16</span><span class="op" id="6634586">,</span>&nbsp;<span class="num" id="6634588">1</span><span class="op" id="6634589">,</span>&nbsp;<span class="num" id="6634591">1</span><span class="op" id="6634592">)</span><span class="op" id="6634593">,</span>&nbsp;<span class="op" id="6634595">&amp;</span><span class="ident" id="6634596">IPNet</span><span class="op" id="6634601">{</span><span class="ident" id="6634602">IP</span><span class="op" id="6634604">:</span>&nbsp;<span class="ident" id="6634606">IPv4</span><span class="op" id="6634610">(</span><span class="num" id="6634611">172</span><span class="op" id="6634614">,</span>&nbsp;<span class="num" id="6634616">16</span><span class="op" id="6634618">,</span>&nbsp;<span class="num" id="6634620">0</span><span class="op" id="6634621">,</span>&nbsp;<span class="num" id="6634623">0</span><span class="op" id="6634624">)</span><span class="op" id="6634625">,</span>&nbsp;<span class="ident" id="6634627">Mask</span><span class="op" id="6634631">:</span>&nbsp;<span class="ident" id="6634633">CIDRMask</span><span class="op" id="6634641">(</span><span class="num" id="6634642">12</span><span class="op" id="6634644">,</span>&nbsp;<span class="num" id="6634646">32</span><span class="op" id="6634648">)</span><span class="op" id="6634649">}</span><span class="op" id="6634650">,</span>&nbsp;<span class="builtintype" id="6634652">true</span><span class="op" id="6634656">}</span><span class="op" id="6634657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634660">{</span><span class="ident" id="6634661">IPv4</span><span class="op" id="6634665">(</span><span class="num" id="6634666">172</span><span class="op" id="6634669">,</span>&nbsp;<span class="num" id="6634671">24</span><span class="op" id="6634673">,</span>&nbsp;<span class="num" id="6634675">0</span><span class="op" id="6634676">,</span>&nbsp;<span class="num" id="6634678">1</span><span class="op" id="6634679">)</span><span class="op" id="6634680">,</span>&nbsp;<span class="op" id="6634682">&amp;</span><span class="ident" id="6634683">IPNet</span><span class="op" id="6634688">{</span><span class="ident" id="6634689">IP</span><span class="op" id="6634691">:</span>&nbsp;<span class="ident" id="6634693">IPv4</span><span class="op" id="6634697">(</span><span class="num" id="6634698">172</span><span class="op" id="6634701">,</span>&nbsp;<span class="num" id="6634703">16</span><span class="op" id="6634705">,</span>&nbsp;<span class="num" id="6634707">0</span><span class="op" id="6634708">,</span>&nbsp;<span class="num" id="6634710">0</span><span class="op" id="6634711">)</span><span class="op" id="6634712">,</span>&nbsp;<span class="ident" id="6634714">Mask</span><span class="op" id="6634718">:</span>&nbsp;<span class="ident" id="6634720">CIDRMask</span><span class="op" id="6634728">(</span><span class="num" id="6634729">13</span><span class="op" id="6634731">,</span>&nbsp;<span class="num" id="6634733">32</span><span class="op" id="6634735">)</span><span class="op" id="6634736">}</span><span class="op" id="6634737">,</span>&nbsp;<span class="builtintype" id="6634739">false</span><span class="op" id="6634744">}</span><span class="op" id="6634745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634748">{</span><span class="ident" id="6634749">IPv4</span><span class="op" id="6634753">(</span><span class="num" id="6634754">192</span><span class="op" id="6634757">,</span>&nbsp;<span class="num" id="6634759">168</span><span class="op" id="6634762">,</span>&nbsp;<span class="num" id="6634764">0</span><span class="op" id="6634765">,</span>&nbsp;<span class="num" id="6634767">3</span><span class="op" id="6634768">)</span><span class="op" id="6634769">,</span>&nbsp;<span class="op" id="6634771">&amp;</span><span class="ident" id="6634772">IPNet</span><span class="op" id="6634777">{</span><span class="ident" id="6634778">IP</span><span class="op" id="6634780">:</span>&nbsp;<span class="ident" id="6634782">IPv4</span><span class="op" id="6634786">(</span><span class="num" id="6634787">192</span><span class="op" id="6634790">,</span>&nbsp;<span class="num" id="6634792">168</span><span class="op" id="6634795">,</span>&nbsp;<span class="num" id="6634797">0</span><span class="op" id="6634798">,</span>&nbsp;<span class="num" id="6634800">0</span><span class="op" id="6634801">)</span><span class="op" id="6634802">,</span>&nbsp;<span class="ident" id="6634804">Mask</span><span class="op" id="6634808">:</span>&nbsp;<span class="ident" id="6634810">IPv4Mask</span><span class="op" id="6634818">(</span><span class="num" id="6634819">0</span><span class="op" id="6634820">,</span>&nbsp;<span class="num" id="6634822">0</span><span class="op" id="6634823">,</span>&nbsp;<span class="num" id="6634825">255</span><span class="op" id="6634828">,</span>&nbsp;<span class="num" id="6634830">252</span><span class="op" id="6634833">)</span><span class="op" id="6634834">}</span><span class="op" id="6634835">,</span>&nbsp;<span class="builtintype" id="6634837">true</span><span class="op" id="6634841">}</span><span class="op" id="6634842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634845">{</span><span class="ident" id="6634846">IPv4</span><span class="op" id="6634850">(</span><span class="num" id="6634851">192</span><span class="op" id="6634854">,</span>&nbsp;<span class="num" id="6634856">168</span><span class="op" id="6634859">,</span>&nbsp;<span class="num" id="6634861">0</span><span class="op" id="6634862">,</span>&nbsp;<span class="num" id="6634864">4</span><span class="op" id="6634865">)</span><span class="op" id="6634866">,</span>&nbsp;<span class="op" id="6634868">&amp;</span><span class="ident" id="6634869">IPNet</span><span class="op" id="6634874">{</span><span class="ident" id="6634875">IP</span><span class="op" id="6634877">:</span>&nbsp;<span class="ident" id="6634879">IPv4</span><span class="op" id="6634883">(</span><span class="num" id="6634884">192</span><span class="op" id="6634887">,</span>&nbsp;<span class="num" id="6634889">168</span><span class="op" id="6634892">,</span>&nbsp;<span class="num" id="6634894">0</span><span class="op" id="6634895">,</span>&nbsp;<span class="num" id="6634897">0</span><span class="op" id="6634898">)</span><span class="op" id="6634899">,</span>&nbsp;<span class="ident" id="6634901">Mask</span><span class="op" id="6634905">:</span>&nbsp;<span class="ident" id="6634907">IPv4Mask</span><span class="op" id="6634915">(</span><span class="num" id="6634916">0</span><span class="op" id="6634917">,</span>&nbsp;<span class="num" id="6634919">255</span><span class="op" id="6634922">,</span>&nbsp;<span class="num" id="6634924">0</span><span class="op" id="6634925">,</span>&nbsp;<span class="num" id="6634927">252</span><span class="op" id="6634930">)</span><span class="op" id="6634931">}</span><span class="op" id="6634932">,</span>&nbsp;<span class="builtintype" id="6634934">false</span><span class="op" id="6634939">}</span><span class="op" id="6634940">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634943">{</span><span class="ident" id="6634944">ParseIP</span><span class="op" id="6634951">(</span><span class="string" id="6634952">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6634969">)</span><span class="op" id="6634970">,</span>&nbsp;<span class="op" id="6634972">&amp;</span><span class="ident" id="6634973">IPNet</span><span class="op" id="6634978">{</span><span class="ident" id="6634979">IP</span><span class="op" id="6634981">:</span>&nbsp;<span class="ident" id="6634983">ParseIP</span><span class="op" id="6634990">(</span><span class="string" id="6634991">&#34;2001:db8:1::&#34;</span><span class="op" id="6635005">)</span><span class="op" id="6635006">,</span>&nbsp;<span class="ident" id="6635008">Mask</span><span class="op" id="6635012">:</span>&nbsp;<span class="ident" id="6635014">CIDRMask</span><span class="op" id="6635022">(</span><span class="num" id="6635023">47</span><span class="op" id="6635025">,</span>&nbsp;<span class="num" id="6635027">128</span><span class="op" id="6635030">)</span><span class="op" id="6635031">}</span><span class="op" id="6635032">,</span>&nbsp;<span class="builtintype" id="6635034">true</span><span class="op" id="6635038">}</span><span class="op" id="6635039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635042">{</span><span class="ident" id="6635043">ParseIP</span><span class="op" id="6635050">(</span><span class="string" id="6635051">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6635068">)</span><span class="op" id="6635069">,</span>&nbsp;<span class="op" id="6635071">&amp;</span><span class="ident" id="6635072">IPNet</span><span class="op" id="6635077">{</span><span class="ident" id="6635078">IP</span><span class="op" id="6635080">:</span>&nbsp;<span class="ident" id="6635082">ParseIP</span><span class="op" id="6635089">(</span><span class="string" id="6635090">&#34;2001:db8:2::&#34;</span><span class="op" id="6635104">)</span><span class="op" id="6635105">,</span>&nbsp;<span class="ident" id="6635107">Mask</span><span class="op" id="6635111">:</span>&nbsp;<span class="ident" id="6635113">CIDRMask</span><span class="op" id="6635121">(</span><span class="num" id="6635122">47</span><span class="op" id="6635124">,</span>&nbsp;<span class="num" id="6635126">128</span><span class="op" id="6635129">)</span><span class="op" id="6635130">}</span><span class="op" id="6635131">,</span>&nbsp;<span class="builtintype" id="6635133">false</span><span class="op" id="6635138">}</span><span class="op" id="6635139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635142">{</span><span class="ident" id="6635143">ParseIP</span><span class="op" id="6635150">(</span><span class="string" id="6635151">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6635168">)</span><span class="op" id="6635169">,</span>&nbsp;<span class="op" id="6635171">&amp;</span><span class="ident" id="6635172">IPNet</span><span class="op" id="6635177">{</span><span class="ident" id="6635178">IP</span><span class="op" id="6635180">:</span>&nbsp;<span class="ident" id="6635182">ParseIP</span><span class="op" id="6635189">(</span><span class="string" id="6635190">&#34;2001:db8:1::&#34;</span><span class="op" id="6635204">)</span><span class="op" id="6635205">,</span>&nbsp;<span class="ident" id="6635207">Mask</span><span class="op" id="6635211">:</span>&nbsp;<span class="ident" id="6635213">IPMask</span><span class="op" id="6635219">(</span><span class="ident" id="6635220">ParseIP</span><span class="op" id="6635227">(</span><span class="string" id="6635228">&#34;ffff:0:ffff::&#34;</span><span class="op" id="6635243">)</span><span class="op" id="6635244">)</span><span class="op" id="6635245">}</span><span class="op" id="6635246">,</span>&nbsp;<span class="builtintype" id="6635248">true</span><span class="op" id="6635252">}</span><span class="op" id="6635253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635256">{</span><span class="ident" id="6635257">ParseIP</span><span class="op" id="6635264">(</span><span class="string" id="6635265">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6635282">)</span><span class="op" id="6635283">,</span>&nbsp;<span class="op" id="6635285">&amp;</span><span class="ident" id="6635286">IPNet</span><span class="op" id="6635291">{</span><span class="ident" id="6635292">IP</span><span class="op" id="6635294">:</span>&nbsp;<span class="ident" id="6635296">ParseIP</span><span class="op" id="6635303">(</span><span class="string" id="6635304">&#34;2001:db8:1::&#34;</span><span class="op" id="6635318">)</span><span class="op" id="6635319">,</span>&nbsp;<span class="ident" id="6635321">Mask</span><span class="op" id="6635325">:</span>&nbsp;<span class="ident" id="6635327">IPMask</span><span class="op" id="6635333">(</span><span class="ident" id="6635334">ParseIP</span><span class="op" id="6635341">(</span><span class="string" id="6635342">&#34;0:0:0:ffff::&#34;</span><span class="op" id="6635356">)</span><span class="op" id="6635357">)</span><span class="op" id="6635358">}</span><span class="op" id="6635359">,</span>&nbsp;<span class="builtintype" id="6635361">false</span><span class="op" id="6635366">}</span><span class="op" id="6635367">,</span><br>
<span class="lineno"></span><span class="op" id="6635369">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="6635372">func</span>&nbsp;<span class="ident" id="6635377">TestIPNetContains</span><span class="op" id="6635394">(</span><span class="ident" id="6635395">t</span>&nbsp;<span class="op" id="6635397">*</span><span class="ident" id="6635398">testing</span><span class="op" id="6635405">.</span><span class="ident" id="6635406">T</span><span class="op" id="6635407">)</span>&nbsp;<span class="op" id="6635409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635412">for</span>&nbsp;<span class="ident" id="6635416">_</span><span class="op" id="6635417">,</span>&nbsp;<span class="ident" id="6635419">tt</span>&nbsp;<span class="op" id="6635422">:=</span>&nbsp;<span class="keyword" id="6635425">range</span>&nbsp;<span class="ident" id="6635431">ipNetContainsTests</span>&nbsp;<span class="op" id="6635450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635454">if</span>&nbsp;<span class="ident" id="6635457">ok</span>&nbsp;<span class="op" id="6635460">:=</span>&nbsp;<span class="ident" id="6635463">tt</span><span class="op" id="6635465">.</span><span class="ident" id="6635466">net</span><span class="op" id="6635469">.</span><span class="ident" id="6635470">Contains</span><span class="op" id="6635478">(</span><span class="ident" id="6635479">tt</span><span class="op" id="6635481">.</span><span class="ident" id="6635482">ip</span><span class="op" id="6635484">)</span><span class="op" id="6635485">;</span>&nbsp;<span class="ident" id="6635487">ok</span>&nbsp;<span class="op" id="6635490">!=</span>&nbsp;<span class="ident" id="6635493">tt</span><span class="op" id="6635495">.</span><span class="ident" id="6635496">ok</span>&nbsp;<span class="op" id="6635499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635504">t</span><span class="op" id="6635505">.</span><span class="ident" id="6635506">Errorf</span><span class="op" id="6635512">(</span><span class="string" id="6635513">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6635551">,</span>&nbsp;<span class="ident" id="6635553">tt</span><span class="op" id="6635555">.</span><span class="ident" id="6635556">net</span><span class="op" id="6635559">,</span>&nbsp;<span class="ident" id="6635561">tt</span><span class="op" id="6635563">.</span><span class="ident" id="6635564">ip</span><span class="op" id="6635566">,</span>&nbsp;<span class="ident" id="6635568">ok</span><span class="op" id="6635570">,</span>&nbsp;<span class="ident" id="6635572">tt</span><span class="op" id="6635574">.</span><span class="ident" id="6635575">ok</span><span class="op" id="6635577">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635584">}</span><br>
<span class="lineno"></span><span class="op" id="6635586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6635589">var</span>&nbsp;<span class="ident" id="6635593">ipNetStringTests</span>&nbsp;<span class="op" id="6635610">=</span>&nbsp;<span class="op" id="6635612">[</span><span class="op" id="6635613">]</span><span class="keyword" id="6635614">struct</span>&nbsp;<span class="op" id="6635621">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635624">in</span>&nbsp;&nbsp;<span class="op" id="6635628">*</span><span class="ident" id="6635629">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635636">out</span>&nbsp;<span class="builtintype" id="6635640">string</span><br>
<span class="lineno"></span><span class="op" id="6635647">}</span><span class="op" id="6635648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635651">{</span><span class="op" id="6635652">&amp;</span><span class="ident" id="6635653">IPNet</span><span class="op" id="6635658">{</span><span class="ident" id="6635659">IP</span><span class="op" id="6635661">:</span>&nbsp;<span class="ident" id="6635663">IPv4</span><span class="op" id="6635667">(</span><span class="num" id="6635668">192</span><span class="op" id="6635671">,</span>&nbsp;<span class="num" id="6635673">168</span><span class="op" id="6635676">,</span>&nbsp;<span class="num" id="6635678">1</span><span class="op" id="6635679">,</span>&nbsp;<span class="num" id="6635681">0</span><span class="op" id="6635682">)</span><span class="op" id="6635683">,</span>&nbsp;<span class="ident" id="6635685">Mask</span><span class="op" id="6635689">:</span>&nbsp;<span class="ident" id="6635691">CIDRMask</span><span class="op" id="6635699">(</span><span class="num" id="6635700">26</span><span class="op" id="6635702">,</span>&nbsp;<span class="num" id="6635704">32</span><span class="op" id="6635706">)</span><span class="op" id="6635707">}</span><span class="op" id="6635708">,</span>&nbsp;<span class="string" id="6635710">&#34;192.168.1.0/26&#34;</span><span class="op" id="6635726">}</span><span class="op" id="6635727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635730">{</span><span class="op" id="6635731">&amp;</span><span class="ident" id="6635732">IPNet</span><span class="op" id="6635737">{</span><span class="ident" id="6635738">IP</span><span class="op" id="6635740">:</span>&nbsp;<span class="ident" id="6635742">IPv4</span><span class="op" id="6635746">(</span><span class="num" id="6635747">192</span><span class="op" id="6635750">,</span>&nbsp;<span class="num" id="6635752">168</span><span class="op" id="6635755">,</span>&nbsp;<span class="num" id="6635757">1</span><span class="op" id="6635758">,</span>&nbsp;<span class="num" id="6635760">0</span><span class="op" id="6635761">)</span><span class="op" id="6635762">,</span>&nbsp;<span class="ident" id="6635764">Mask</span><span class="op" id="6635768">:</span>&nbsp;<span class="ident" id="6635770">IPv4Mask</span><span class="op" id="6635778">(</span><span class="num" id="6635779">255</span><span class="op" id="6635782">,</span>&nbsp;<span class="num" id="6635784">0</span><span class="op" id="6635785">,</span>&nbsp;<span class="num" id="6635787">255</span><span class="op" id="6635790">,</span>&nbsp;<span class="num" id="6635792">0</span><span class="op" id="6635793">)</span><span class="op" id="6635794">}</span><span class="op" id="6635795">,</span>&nbsp;<span class="string" id="6635797">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="6635819">}</span><span class="op" id="6635820">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635823">{</span><span class="op" id="6635824">&amp;</span><span class="ident" id="6635825">IPNet</span><span class="op" id="6635830">{</span><span class="ident" id="6635831">IP</span><span class="op" id="6635833">:</span>&nbsp;<span class="ident" id="6635835">ParseIP</span><span class="op" id="6635842">(</span><span class="string" id="6635843">&#34;2001:db8::&#34;</span><span class="op" id="6635855">)</span><span class="op" id="6635856">,</span>&nbsp;<span class="ident" id="6635858">Mask</span><span class="op" id="6635862">:</span>&nbsp;<span class="ident" id="6635864">CIDRMask</span><span class="op" id="6635872">(</span><span class="num" id="6635873">55</span><span class="op" id="6635875">,</span>&nbsp;<span class="num" id="6635877">128</span><span class="op" id="6635880">)</span><span class="op" id="6635881">}</span><span class="op" id="6635882">,</span>&nbsp;<span class="string" id="6635884">&#34;2001:db8::/55&#34;</span><span class="op" id="6635899">}</span><span class="op" id="6635900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635903">{</span><span class="op" id="6635904">&amp;</span><span class="ident" id="6635905">IPNet</span><span class="op" id="6635910">{</span><span class="ident" id="6635911">IP</span><span class="op" id="6635913">:</span>&nbsp;<span class="ident" id="6635915">ParseIP</span><span class="op" id="6635922">(</span><span class="string" id="6635923">&#34;2001:db8::&#34;</span><span class="op" id="6635935">)</span><span class="op" id="6635936">,</span>&nbsp;<span class="ident" id="6635938">Mask</span><span class="op" id="6635942">:</span>&nbsp;<span class="ident" id="6635944">IPMask</span><span class="op" id="6635950">(</span><span class="ident" id="6635951">ParseIP</span><span class="op" id="6635958">(</span><span class="string" id="6635959">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="6635979">)</span><span class="op" id="6635980">)</span><span class="op" id="6635981">}</span><span class="op" id="6635982">,</span>&nbsp;<span class="string" id="6635984">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="6636029">}</span><span class="op" id="6636030">,</span><br>
<span class="lineno"></span><span class="op" id="6636032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6636035">func</span>&nbsp;<span class="ident" id="6636040">TestIPNetString</span><span class="op" id="6636055">(</span><span class="ident" id="6636056">t</span>&nbsp;<span class="op" id="6636058">*</span><span class="ident" id="6636059">testing</span><span class="op" id="6636066">.</span><span class="ident" id="6636067">T</span><span class="op" id="6636068">)</span>&nbsp;<span class="op" id="6636070">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6636073">for</span>&nbsp;<span class="ident" id="6636077">_</span><span class="op" id="6636078">,</span>&nbsp;<span class="ident" id="6636080">tt</span>&nbsp;<span class="op" id="6636083">:=</span>&nbsp;<span class="keyword" id="6636086">range</span>&nbsp;<span class="ident" id="6636092">ipNetStringTests</span>&nbsp;<span class="op" id="6636109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6636113">if</span>&nbsp;<span class="ident" id="6636116">out</span>&nbsp;<span class="op" id="6636120">:=</span>&nbsp;<span class="ident" id="6636123">tt</span><span class="op" id="6636125">.</span><span class="ident" id="6636126">in</span><span class="op" id="6636128">.</span><span class="ident" id="6636129">String</span><span class="op" id="6636135">(</span><span class="op" id="6636136">)</span><span class="op" id="6636137">;</span>&nbsp;<span class="ident" id="6636139">out</span>&nbsp;<span class="op" id="6636143">!=</span>&nbsp;<span class="ident" id="6636146">tt</span><span class="op" id="6636148">.</span><span class="ident" id="6636149">out</span>&nbsp;<span class="op" id="6636153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6636158">t</span><span class="op" id="6636159">.</span><span class="ident" id="6636160">Errorf</span><span class="op" id="6636166">(</span><span class="string" id="6636167">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6636199">,</span>&nbsp;<span class="ident" id="6636201">tt</span><span class="op" id="6636203">.</span><span class="ident" id="6636204">in</span><span class="op" id="6636206">,</span>&nbsp;<span class="ident" id="6636208">out</span><span class="op" id="6636211">,</span>&nbsp;<span class="ident" id="6636213">tt</span><span class="op" id="6636215">.</span><span class="ident" id="6636216">out</span><span class="op" id="6636219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636226">}</span><br>
<span class="lineno">240</span><span class="op" id="6636228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6636231">var</span>&nbsp;<span class="ident" id="6636235">cidrMaskTests</span>&nbsp;<span class="op" id="6636249">=</span>&nbsp;<span class="op" id="6636251">[</span><span class="op" id="6636252">]</span><span class="keyword" id="6636253">struct</span>&nbsp;<span class="op" id="6636260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6636263">ones</span>&nbsp;<span class="builtintype" id="6636268">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6636273">bits</span>&nbsp;<span class="builtintype" id="6636278">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6636283">out</span>&nbsp;&nbsp;<span class="ident" id="6636288">IPMask</span><br>
<span class="lineno"></span><span class="op" id="6636295">}</span><span class="op" id="6636296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636299">{</span><span class="num" id="6636300">0</span><span class="op" id="6636301">,</span>&nbsp;<span class="num" id="6636303">32</span><span class="op" id="6636305">,</span>&nbsp;<span class="ident" id="6636307">IPv4Mask</span><span class="op" id="6636315">(</span><span class="num" id="6636316">0</span><span class="op" id="6636317">,</span>&nbsp;<span class="num" id="6636319">0</span><span class="op" id="6636320">,</span>&nbsp;<span class="num" id="6636322">0</span><span class="op" id="6636323">,</span>&nbsp;<span class="num" id="6636325">0</span><span class="op" id="6636326">)</span><span class="op" id="6636327">}</span><span class="op" id="6636328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636331">{</span><span class="num" id="6636332">12</span><span class="op" id="6636334">,</span>&nbsp;<span class="num" id="6636336">32</span><span class="op" id="6636338">,</span>&nbsp;<span class="ident" id="6636340">IPv4Mask</span><span class="op" id="6636348">(</span><span class="num" id="6636349">255</span><span class="op" id="6636352">,</span>&nbsp;<span class="num" id="6636354">240</span><span class="op" id="6636357">,</span>&nbsp;<span class="num" id="6636359">0</span><span class="op" id="6636360">,</span>&nbsp;<span class="num" id="6636362">0</span><span class="op" id="6636363">)</span><span class="op" id="6636364">}</span><span class="op" id="6636365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636368">{</span><span class="num" id="6636369">24</span><span class="op" id="6636371">,</span>&nbsp;<span class="num" id="6636373">32</span><span class="op" id="6636375">,</span>&nbsp;<span class="ident" id="6636377">IPv4Mask</span><span class="op" id="6636385">(</span><span class="num" id="6636386">255</span><span class="op" id="6636389">,</span>&nbsp;<span class="num" id="6636391">255</span><span class="op" id="6636394">,</span>&nbsp;<span class="num" id="6636396">255</span><span class="op" id="6636399">,</span>&nbsp;<span class="num" id="6636401">0</span><span class="op" id="6636402">)</span><span class="op" id="6636403">}</span><span class="op" id="6636404">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636407">{</span><span class="num" id="6636408">32</span><span class="op" id="6636410">,</span>&nbsp;<span class="num" id="6636412">32</span><span class="op" id="6636414">,</span>&nbsp;<span class="ident" id="6636416">IPv4Mask</span><span class="op" id="6636424">(</span><span class="num" id="6636425">255</span><span class="op" id="6636428">,</span>&nbsp;<span class="num" id="6636430">255</span><span class="op" id="6636433">,</span>&nbsp;<span class="num" id="6636435">255</span><span class="op" id="6636438">,</span>&nbsp;<span class="num" id="6636440">255</span><span class="op" id="6636443">)</span><span class="op" id="6636444">}</span><span class="op" id="6636445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636448">{</span><span class="num" id="6636449">0</span><span class="op" id="6636450">,</span>&nbsp;<span class="num" id="6636452">128</span><span class="op" id="6636455">,</span>&nbsp;<span class="ident" id="6636457">IPMask</span><span class="op" id="6636463">{</span><span class="num" id="6636464">0</span><span class="op" id="6636465">,</span>&nbsp;<span class="num" id="6636467">0</span><span class="op" id="6636468">,</span>&nbsp;<span class="num" id="6636470">0</span><span class="op" id="6636471">,</span>&nbsp;<span class="num" id="6636473">0</span><span class="op" id="6636474">,</span>&nbsp;<span class="num" id="6636476">0</span><span class="op" id="6636477">,</span>&nbsp;<span class="num" id="6636479">0</span><span class="op" id="6636480">,</span>&nbsp;<span class="num" id="6636482">0</span><span class="op" id="6636483">,</span>&nbsp;<span class="num" id="6636485">0</span><span class="op" id="6636486">,</span>&nbsp;<span class="num" id="6636488">0</span><span class="op" id="6636489">,</span>&nbsp;<span class="num" id="6636491">0</span><span class="op" id="6636492">,</span>&nbsp;<span class="num" id="6636494">0</span><span class="op" id="6636495">,</span>&nbsp;<span class="num" id="6636497">0</span><span class="op" id="6636498">,</span>&nbsp;<span class="num" id="6636500">0</span><span class="op" id="6636501">,</span>&nbsp;<span class="num" id="6636503">0</span><span class="op" id="6636504">,</span>&nbsp;<span class="num" id="6636506">0</span><span class="op" id="6636507">,</span>&nbsp;<span class="num" id="6636509">0</span><span class="op" id="6636510">}</span><span class="op" id="6636511">}</span><span class="op" id="6636512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636515">{</span><span class="num" id="6636516">4</span><span class="op" id="6636517">,</span>&nbsp;<span class="num" id="6636519">128</span><span class="op" id="6636522">,</span>&nbsp;<span class="ident" id="6636524">IPMask</span><span class="op" id="6636530">{</span><span class="num" id="6636531">0xf0</span><span class="op" id="6636535">,</span>&nbsp;<span class="num" id="6636537">0</span><span class="op" id="6636538">,</span>&nbsp;<span class="num" id="6636540">0</span><span class="op" id="6636541">,</span>&nbsp;<span class="num" id="6636543">0</span><span class="op" id="6636544">,</span>&nbsp;<span class="num" id="6636546">0</span><span class="op" id="6636547">,</span>&nbsp;<span class="num" id="6636549">0</span><span class="op" id="6636550">,</span>&nbsp;<span class="num" id="6636552">0</span><span class="op" id="6636553">,</span>&nbsp;<span class="num" id="6636555">0</span><span class="op" id="6636556">,</span>&nbsp;<span class="num" id="6636558">0</span><span class="op" id="6636559">,</span>&nbsp;<span class="num" id="6636561">0</span><span class="op" id="6636562">,</span>&nbsp;<span class="num" id="6636564">0</span><span class="op" id="6636565">,</span>&nbsp;<span class="num" id="6636567">0</span><span class="op" id="6636568">,</span>&nbsp;<span class="num" id="6636570">0</span><span class="op" id="6636571">,</span>&nbsp;<span class="num" id="6636573">0</span><span class="op" id="6636574">,</span>&nbsp;<span class="num" id="6636576">0</span><span class="op" id="6636577">,</span>&nbsp;<span class="num" id="6636579">0</span><span class="op" id="6636580">}</span><span class="op" id="6636581">}</span><span class="op" id="6636582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636585">{</span><span class="num" id="6636586">48</span><span class="op" id="6636588">,</span>&nbsp;<span class="num" id="6636590">128</span><span class="op" id="6636593">,</span>&nbsp;<span class="ident" id="6636595">IPMask</span><span class="op" id="6636601">{</span><span class="num" id="6636602">0xff</span><span class="op" id="6636606">,</span>&nbsp;<span class="num" id="6636608">0xff</span><span class="op" id="6636612">,</span>&nbsp;<span class="num" id="6636614">0xff</span><span class="op" id="6636618">,</span>&nbsp;<span class="num" id="6636620">0xff</span><span class="op" id="6636624">,</span>&nbsp;<span class="num" id="6636626">0xff</span><span class="op" id="6636630">,</span>&nbsp;<span class="num" id="6636632">0xff</span><span class="op" id="6636636">,</span>&nbsp;<span class="num" id="6636638">0</span><span class="op" id="6636639">,</span>&nbsp;<span class="num" id="6636641">0</span><span class="op" id="6636642">,</span>&nbsp;<span class="num" id="6636644">0</span><span class="op" id="6636645">,</span>&nbsp;<span class="num" id="6636647">0</span><span class="op" id="6636648">,</span>&nbsp;<span class="num" id="6636650">0</span><span class="op" id="6636651">,</span>&nbsp;<span class="num" id="6636653">0</span><span class="op" id="6636654">,</span>&nbsp;<span class="num" id="6636656">0</span><span class="op" id="6636657">,</span>&nbsp;<span class="num" id="6636659">0</span><span class="op" id="6636660">,</span>&nbsp;<span class="num" id="6636662">0</span><span class="op" id="6636663">,</span>&nbsp;<span class="num" id="6636665">0</span><span class="op" id="6636666">}</span><span class="op" id="6636667">}</span><span class="op" id="6636668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636671">{</span><span class="num" id="6636672">128</span><span class="op" id="6636675">,</span>&nbsp;<span class="num" id="6636677">128</span><span class="op" id="6636680">,</span>&nbsp;<span class="ident" id="6636682">IPMask</span><span class="op" id="6636688">{</span><span class="num" id="6636689">0xff</span><span class="op" id="6636693">,</span>&nbsp;<span class="num" id="6636695">0xff</span><span class="op" id="6636699">,</span>&nbsp;<span class="num" id="6636701">0xff</span><span class="op" id="6636705">,</span>&nbsp;<span class="num" id="6636707">0xff</span><span class="op" id="6636711">,</span>&nbsp;<span class="num" id="6636713">0xff</span><span class="op" id="6636717">,</span>&nbsp;<span class="num" id="6636719">0xff</span><span class="op" id="6636723">,</span>&nbsp;<span class="num" id="6636725">0xff</span><span class="op" id="6636729">,</span>&nbsp;<span class="num" id="6636731">0xff</span><span class="op" id="6636735">,</span>&nbsp;<span class="num" id="6636737">0xff</span><span class="op" id="6636741">,</span>&nbsp;<span class="num" id="6636743">0xff</span><span class="op" id="6636747">,</span>&nbsp;<span class="num" id="6636749">0xff</span><span class="op" id="6636753">,</span>&nbsp;<span class="num" id="6636755">0xff</span><span class="op" id="6636759">,</span>&nbsp;<span class="num" id="6636761">0xff</span><span class="op" id="6636765">,</span>&nbsp;<span class="num" id="6636767">0xff</span><span class="op" id="6636771">,</span>&nbsp;<span class="num" id="6636773">0xff</span><span class="op" id="6636777">,</span>&nbsp;<span class="num" id="6636779">0xff</span><span class="op" id="6636783">}</span><span class="op" id="6636784">}</span><span class="op" id="6636785">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636788">{</span><span class="num" id="6636789">33</span><span class="op" id="6636791">,</span>&nbsp;<span class="num" id="6636793">32</span><span class="op" id="6636795">,</span>&nbsp;<span class="ident" id="6636797">nil</span><span class="op" id="6636800">}</span><span class="op" id="6636801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636804">{</span><span class="num" id="6636805">32</span><span class="op" id="6636807">,</span>&nbsp;<span class="num" id="6636809">33</span><span class="op" id="6636811">,</span>&nbsp;<span class="ident" id="6636813">nil</span><span class="op" id="6636816">}</span><span class="op" id="6636817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636820">{</span><span class="op" id="6636821">-</span><span class="num" id="6636822">1</span><span class="op" id="6636823">,</span>&nbsp;<span class="num" id="6636825">128</span><span class="op" id="6636828">,</span>&nbsp;<span class="ident" id="6636830">nil</span><span class="op" id="6636833">}</span><span class="op" id="6636834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6636837">{</span><span class="num" id="6636838">128</span><span class="op" id="6636841">,</span>&nbsp;<span class="op" id="6636843">-</span><span class="num" id="6636844">1</span><span class="op" id="6636845">,</span>&nbsp;<span class="ident" id="6636847">nil</span><span class="op" id="6636850">}</span><span class="op" id="6636851">,</span><br>
<span class="lineno"></span><span class="op" id="6636853">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="6636856">func</span>&nbsp;<span class="ident" id="6636861">TestCIDRMask</span><span class="op" id="6636873">(</span><span class="ident" id="6636874">t</span>&nbsp;<span class="op" id="6636876">*</span><span class="ident" id="6636877">testing</span><span class="op" id="6636884">.</span><span class="ident" id="6636885">T</span><span class="op" id="6636886">)</span>&nbsp;<span class="op" id="6636888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6636891">for</span>&nbsp;<span class="ident" id="6636895">_</span><span class="op" id="6636896">,</span>&nbsp;<span class="ident" id="6636898">tt</span>&nbsp;<span class="op" id="6636901">:=</span>&nbsp;<span class="keyword" id="6636904">range</span>&nbsp;<span class="ident" id="6636910">cidrMaskTests</span>&nbsp;<span class="op" id="6636924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6636928">if</span>&nbsp;<span class="ident" id="6636931">out</span>&nbsp;<span class="op" id="6636935">:=</span>&nbsp;<span class="ident" id="6636938">CIDRMask</span><span class="op" id="6636946">(</span><span class="ident" id="6636947">tt</span><span class="op" id="6636949">.</span><span class="ident" id="6636950">ones</span><span class="op" id="6636954">,</span>&nbsp;<span class="ident" id="6636956">tt</span><span class="op" id="6636958">.</span><span class="ident" id="6636959">bits</span><span class="op" id="6636963">)</span><span class="op" id="6636964">;</span>&nbsp;<span class="op" id="6636966">!</span><span class="ident" id="6636967">reflect</span><span class="op" id="6636974">.</span><span class="ident" id="6636975">DeepEqual</span><span class="op" id="6636984">(</span><span class="ident" id="6636985">out</span><span class="op" id="6636988">,</span>&nbsp;<span class="ident" id="6636990">tt</span><span class="op" id="6636992">.</span><span class="ident" id="6636993">out</span><span class="op" id="6636996">)</span>&nbsp;<span class="op" id="6636998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637003">t</span><span class="op" id="6637004">.</span><span class="ident" id="6637005">Errorf</span><span class="op" id="6637011">(</span><span class="string" id="6637012">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6637044">,</span>&nbsp;<span class="ident" id="6637046">tt</span><span class="op" id="6637048">.</span><span class="ident" id="6637049">ones</span><span class="op" id="6637053">,</span>&nbsp;<span class="ident" id="6637055">tt</span><span class="op" id="6637057">.</span><span class="ident" id="6637058">bits</span><span class="op" id="6637062">,</span>&nbsp;<span class="ident" id="6637064">out</span><span class="op" id="6637067">,</span>&nbsp;<span class="ident" id="6637069">tt</span><span class="op" id="6637071">.</span><span class="ident" id="6637072">out</span><span class="op" id="6637075">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6637079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6637082">}</span><br>
<span class="lineno"></span><span class="op" id="6637084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6637087">var</span>&nbsp;<span class="op" id="6637091">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637094">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6637109">=</span>&nbsp;<span class="ident" id="6637111">IP</span><span class="op" id="6637113">{</span><span class="num" id="6637114">192</span><span class="op" id="6637117">,</span>&nbsp;<span class="num" id="6637119">168</span><span class="op" id="6637122">,</span>&nbsp;<span class="num" id="6637124">0</span><span class="op" id="6637125">,</span>&nbsp;<span class="num" id="6637127">1</span><span class="op" id="6637128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637131">v4mappedv6addr</span>&nbsp;<span class="op" id="6637146">=</span>&nbsp;<span class="ident" id="6637148">IP</span><span class="op" id="6637150">{</span><span class="num" id="6637151">0</span><span class="op" id="6637152">,</span>&nbsp;<span class="num" id="6637154">0</span><span class="op" id="6637155">,</span>&nbsp;<span class="num" id="6637157">0</span><span class="op" id="6637158">,</span>&nbsp;<span class="num" id="6637160">0</span><span class="op" id="6637161">,</span>&nbsp;<span class="num" id="6637163">0</span><span class="op" id="6637164">,</span>&nbsp;<span class="num" id="6637166">0</span><span class="op" id="6637167">,</span>&nbsp;<span class="num" id="6637169">0</span><span class="op" id="6637170">,</span>&nbsp;<span class="num" id="6637172">0</span><span class="op" id="6637173">,</span>&nbsp;<span class="num" id="6637175">0</span><span class="op" id="6637176">,</span>&nbsp;<span class="num" id="6637178">0</span><span class="op" id="6637179">,</span>&nbsp;<span class="num" id="6637181">0xff</span><span class="op" id="6637185">,</span>&nbsp;<span class="num" id="6637187">0xff</span><span class="op" id="6637191">,</span>&nbsp;<span class="num" id="6637193">192</span><span class="op" id="6637196">,</span>&nbsp;<span class="num" id="6637198">168</span><span class="op" id="6637201">,</span>&nbsp;<span class="num" id="6637203">0</span><span class="op" id="6637204">,</span>&nbsp;<span class="num" id="6637206">1</span><span class="op" id="6637207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637210">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6637225">=</span>&nbsp;<span class="ident" id="6637227">IP</span><span class="op" id="6637229">{</span><span class="num" id="6637230">0x20</span><span class="op" id="6637234">,</span>&nbsp;<span class="num" id="6637236">0x1</span><span class="op" id="6637239">,</span>&nbsp;<span class="num" id="6637241">0xd</span><span class="op" id="6637244">,</span>&nbsp;<span class="num" id="6637246">0xb8</span><span class="op" id="6637250">,</span>&nbsp;<span class="num" id="6637252">0</span><span class="op" id="6637253">,</span>&nbsp;<span class="num" id="6637255">0</span><span class="op" id="6637256">,</span>&nbsp;<span class="num" id="6637258">0</span><span class="op" id="6637259">,</span>&nbsp;<span class="num" id="6637261">0</span><span class="op" id="6637262">,</span>&nbsp;<span class="num" id="6637264">0</span><span class="op" id="6637265">,</span>&nbsp;<span class="num" id="6637267">0</span><span class="op" id="6637268">,</span>&nbsp;<span class="num" id="6637270">0x1</span><span class="op" id="6637273">,</span>&nbsp;<span class="num" id="6637275">0x23</span><span class="op" id="6637279">,</span>&nbsp;<span class="num" id="6637281">0</span><span class="op" id="6637282">,</span>&nbsp;<span class="num" id="6637284">0x12</span><span class="op" id="6637288">,</span>&nbsp;<span class="num" id="6637290">0</span><span class="op" id="6637291">,</span>&nbsp;<span class="num" id="6637293">0x1</span><span class="op" id="6637296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637299">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6637314">=</span>&nbsp;<span class="ident" id="6637316">IPMask</span><span class="op" id="6637322">{</span><span class="num" id="6637323">255</span><span class="op" id="6637326">,</span>&nbsp;<span class="num" id="6637328">255</span><span class="op" id="6637331">,</span>&nbsp;<span class="num" id="6637333">255</span><span class="op" id="6637336">,</span>&nbsp;<span class="num" id="6637338">0</span><span class="op" id="6637339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637342">v4mappedv6mask</span>&nbsp;<span class="op" id="6637357">=</span>&nbsp;<span class="ident" id="6637359">IPMask</span><span class="op" id="6637365">{</span><span class="num" id="6637366">0xff</span><span class="op" id="6637370">,</span>&nbsp;<span class="num" id="6637372">0xff</span><span class="op" id="6637376">,</span>&nbsp;<span class="num" id="6637378">0xff</span><span class="op" id="6637382">,</span>&nbsp;<span class="num" id="6637384">0xff</span><span class="op" id="6637388">,</span>&nbsp;<span class="num" id="6637390">0xff</span><span class="op" id="6637394">,</span>&nbsp;<span class="num" id="6637396">0xff</span><span class="op" id="6637400">,</span>&nbsp;<span class="num" id="6637402">0xff</span><span class="op" id="6637406">,</span>&nbsp;<span class="num" id="6637408">0xff</span><span class="op" id="6637412">,</span>&nbsp;<span class="num" id="6637414">0xff</span><span class="op" id="6637418">,</span>&nbsp;<span class="num" id="6637420">0xff</span><span class="op" id="6637424">,</span>&nbsp;<span class="num" id="6637426">0xff</span><span class="op" id="6637430">,</span>&nbsp;<span class="num" id="6637432">0xff</span><span class="op" id="6637436">,</span>&nbsp;<span class="num" id="6637438">255</span><span class="op" id="6637441">,</span>&nbsp;<span class="num" id="6637443">255</span><span class="op" id="6637446">,</span>&nbsp;<span class="num" id="6637448">255</span><span class="op" id="6637451">,</span>&nbsp;<span class="num" id="6637453">0</span><span class="op" id="6637454">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637457">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6637472">=</span>&nbsp;<span class="ident" id="6637474">IPMask</span><span class="op" id="6637480">{</span><span class="num" id="6637481">0xff</span><span class="op" id="6637485">,</span>&nbsp;<span class="num" id="6637487">0xff</span><span class="op" id="6637491">,</span>&nbsp;<span class="num" id="6637493">0xff</span><span class="op" id="6637497">,</span>&nbsp;<span class="num" id="6637499">0xff</span><span class="op" id="6637503">,</span>&nbsp;<span class="num" id="6637505">0xff</span><span class="op" id="6637509">,</span>&nbsp;<span class="num" id="6637511">0xff</span><span class="op" id="6637515">,</span>&nbsp;<span class="num" id="6637517">0xff</span><span class="op" id="6637521">,</span>&nbsp;<span class="num" id="6637523">0xff</span><span class="op" id="6637527">,</span>&nbsp;<span class="num" id="6637529">0</span><span class="op" id="6637530">,</span>&nbsp;<span class="num" id="6637532">0</span><span class="op" id="6637533">,</span>&nbsp;<span class="num" id="6637535">0</span><span class="op" id="6637536">,</span>&nbsp;<span class="num" id="6637538">0</span><span class="op" id="6637539">,</span>&nbsp;<span class="num" id="6637541">0</span><span class="op" id="6637542">,</span>&nbsp;<span class="num" id="6637544">0</span><span class="op" id="6637545">,</span>&nbsp;<span class="num" id="6637547">0</span><span class="op" id="6637548">,</span>&nbsp;<span class="num" id="6637550">0</span><span class="op" id="6637551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637554">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6637569">=</span>&nbsp;<span class="ident" id="6637571">IP</span><span class="op" id="6637573">{</span><span class="num" id="6637574">192</span><span class="op" id="6637577">,</span>&nbsp;<span class="num" id="6637579">168</span><span class="op" id="6637582">,</span>&nbsp;<span class="num" id="6637584">0</span><span class="op" id="6637585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637588">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6637603">=</span>&nbsp;<span class="ident" id="6637605">IPMask</span><span class="op" id="6637611">{</span><span class="num" id="6637612">255</span><span class="op" id="6637615">,</span>&nbsp;<span class="num" id="6637617">255</span><span class="op" id="6637620">,</span>&nbsp;<span class="num" id="6637622">0</span><span class="op" id="6637623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637626">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6637641">=</span>&nbsp;<span class="ident" id="6637643">IPMask</span><span class="op" id="6637649">{</span><span class="num" id="6637650">0</span><span class="op" id="6637651">,</span>&nbsp;<span class="num" id="6637653">0</span><span class="op" id="6637654">,</span>&nbsp;<span class="num" id="6637656">0</span><span class="op" id="6637657">,</span>&nbsp;<span class="num" id="6637659">0</span><span class="op" id="6637660">}</span><br>
<span class="lineno"></span><span class="op" id="6637662">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6637665">var</span>&nbsp;<span class="ident" id="6637669">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6637695">=</span>&nbsp;<span class="op" id="6637697">[</span><span class="op" id="6637698">]</span><span class="keyword" id="6637699">struct</span>&nbsp;<span class="op" id="6637706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637709">in</span>&nbsp;&nbsp;<span class="ident" id="6637713">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6637720">out</span>&nbsp;<span class="ident" id="6637724">IPNet</span><br>
<span class="lineno"></span><span class="op" id="6637730">}</span><span class="op" id="6637731">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6637734">{</span><span class="ident" id="6637735">IPNet</span><span class="op" id="6637740">{</span><span class="ident" id="6637741">IP</span><span class="op" id="6637743">:</span>&nbsp;<span class="ident" id="6637745">v4addr</span><span class="op" id="6637751">,</span>&nbsp;<span class="ident" id="6637753">Mask</span><span class="op" id="6637757">:</span>&nbsp;<span class="ident" id="6637759">v4mask</span><span class="op" id="6637765">}</span><span class="op" id="6637766">,</span>&nbsp;<span class="ident" id="6637768">IPNet</span><span class="op" id="6637773">{</span><span class="ident" id="6637774">IP</span><span class="op" id="6637776">:</span>&nbsp;<span class="ident" id="6637778">v4addr</span><span class="op" id="6637784">,</span>&nbsp;<span class="ident" id="6637786">Mask</span><span class="op" id="6637790">:</span>&nbsp;<span class="ident" id="6637792">v4mask</span><span class="op" id="6637798">}</span><span class="op" id="6637799">}</span><span class="op" id="6637800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6637803">{</span><span class="ident" id="6637804">IPNet</span><span class="op" id="6637809">{</span><span class="ident" id="6637810">IP</span><span class="op" id="6637812">:</span>&nbsp;<span class="ident" id="6637814">v4addr</span><span class="op" id="6637820">,</span>&nbsp;<span class="ident" id="6637822">Mask</span><span class="op" id="6637826">:</span>&nbsp;<span class="ident" id="6637828">v4mappedv6mask</span><span class="op" id="6637842">}</span><span class="op" id="6637843">,</span>&nbsp;<span class="ident" id="6637845">IPNet</span><span class="op" id="6637850">{</span><span class="ident" id="6637851">IP</span><span class="op" id="6637853">:</span>&nbsp;<span class="ident" id="6637855">v4addr</span><span class="op" id="6637861">,</span>&nbsp;<span class="ident" id="6637863">Mask</span><span class="op" id="6637867">:</span>&nbsp;<span class="ident" id="6637869">v4mask</span><span class="op" id="6637875">}</span><span class="op" id="6637876">}</span><span class="op" id="6637877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6637880">{</span><span class="ident" id="6637881">IPNet</span><span class="op" id="6637886">{</span><span class="ident" id="6637887">IP</span><span class="op" id="6637889">:</span>&nbsp;<span class="ident" id="6637891">v4mappedv6addr</span><span class="op" id="6637905">,</span>&nbsp;<span class="ident" id="6637907">Mask</span><span class="op" id="6637911">:</span>&nbsp;<span class="ident" id="6637913">v4mappedv6mask</span><span class="op" id="6637927">}</span><span class="op" id="6637928">,</span>&nbsp;<span class="ident" id="6637930">IPNet</span><span class="op" id="6637935">{</span><span class="ident" id="6637936">IP</span><span class="op" id="6637938">:</span>&nbsp;<span class="ident" id="6637940">v4addr</span><span class="op" id="6637946">,</span>&nbsp;<span class="ident" id="6637948">Mask</span><span class="op" id="6637952">:</span>&nbsp;<span class="ident" id="6637954">v4mask</span><span class="op" id="6637960">}</span><span class="op" id="6637961">}</span><span class="op" id="6637962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6637965">{</span><span class="ident" id="6637966">IPNet</span><span class="op" id="6637971">{</span><span class="ident" id="6637972">IP</span><span class="op" id="6637974">:</span>&nbsp;<span class="ident" id="6637976">v4mappedv6addr</span><span class="op" id="6637990">,</span>&nbsp;<span class="ident" id="6637992">Mask</span><span class="op" id="6637996">:</span>&nbsp;<span class="ident" id="6637998">v6mask</span><span class="op" id="6638004">}</span><span class="op" id="6638005">,</span>&nbsp;<span class="ident" id="6638007">IPNet</span><span class="op" id="6638012">{</span><span class="ident" id="6638013">IP</span><span class="op" id="6638015">:</span>&nbsp;<span class="ident" id="6638017">v4addr</span><span class="op" id="6638023">,</span>&nbsp;<span class="ident" id="6638025">Mask</span><span class="op" id="6638029">:</span>&nbsp;<span class="ident" id="6638031">v4maskzero</span><span class="op" id="6638041">}</span><span class="op" id="6638042">}</span><span class="op" id="6638043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638046">{</span><span class="ident" id="6638047">IPNet</span><span class="op" id="6638052">{</span><span class="ident" id="6638053">IP</span><span class="op" id="6638055">:</span>&nbsp;<span class="ident" id="6638057">v4addr</span><span class="op" id="6638063">,</span>&nbsp;<span class="ident" id="6638065">Mask</span><span class="op" id="6638069">:</span>&nbsp;<span class="ident" id="6638071">v6mask</span><span class="op" id="6638077">}</span><span class="op" id="6638078">,</span>&nbsp;<span class="ident" id="6638080">IPNet</span><span class="op" id="6638085">{</span><span class="ident" id="6638086">IP</span><span class="op" id="6638088">:</span>&nbsp;<span class="ident" id="6638090">v4addr</span><span class="op" id="6638096">,</span>&nbsp;<span class="ident" id="6638098">Mask</span><span class="op" id="6638102">:</span>&nbsp;<span class="ident" id="6638104">v4maskzero</span><span class="op" id="6638114">}</span><span class="op" id="6638115">}</span><span class="op" id="6638116">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638119">{</span><span class="ident" id="6638120">IPNet</span><span class="op" id="6638125">{</span><span class="ident" id="6638126">IP</span><span class="op" id="6638128">:</span>&nbsp;<span class="ident" id="6638130">v6addr</span><span class="op" id="6638136">,</span>&nbsp;<span class="ident" id="6638138">Mask</span><span class="op" id="6638142">:</span>&nbsp;<span class="ident" id="6638144">v6mask</span><span class="op" id="6638150">}</span><span class="op" id="6638151">,</span>&nbsp;<span class="ident" id="6638153">IPNet</span><span class="op" id="6638158">{</span><span class="ident" id="6638159">IP</span><span class="op" id="6638161">:</span>&nbsp;<span class="ident" id="6638163">v6addr</span><span class="op" id="6638169">,</span>&nbsp;<span class="ident" id="6638171">Mask</span><span class="op" id="6638175">:</span>&nbsp;<span class="ident" id="6638177">v6mask</span><span class="op" id="6638183">}</span><span class="op" id="6638184">}</span><span class="op" id="6638185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638188">{</span><span class="ident" id="6638189">IPNet</span><span class="op" id="6638194">{</span><span class="ident" id="6638195">IP</span><span class="op" id="6638197">:</span>&nbsp;<span class="ident" id="6638199">v6addr</span><span class="op" id="6638205">,</span>&nbsp;<span class="ident" id="6638207">Mask</span><span class="op" id="6638211">:</span>&nbsp;<span class="ident" id="6638213">v4mappedv6mask</span><span class="op" id="6638227">}</span><span class="op" id="6638228">,</span>&nbsp;<span class="ident" id="6638230">IPNet</span><span class="op" id="6638235">{</span><span class="ident" id="6638236">IP</span><span class="op" id="6638238">:</span>&nbsp;<span class="ident" id="6638240">v6addr</span><span class="op" id="6638246">,</span>&nbsp;<span class="ident" id="6638248">Mask</span><span class="op" id="6638252">:</span>&nbsp;<span class="ident" id="6638254">v4mappedv6mask</span><span class="op" id="6638268">}</span><span class="op" id="6638269">}</span><span class="op" id="6638270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638273">{</span><span class="ident" id="6638274">in</span><span class="op" id="6638276">:</span>&nbsp;<span class="ident" id="6638278">IPNet</span><span class="op" id="6638283">{</span><span class="ident" id="6638284">IP</span><span class="op" id="6638286">:</span>&nbsp;<span class="ident" id="6638288">v6addr</span><span class="op" id="6638294">,</span>&nbsp;<span class="ident" id="6638296">Mask</span><span class="op" id="6638300">:</span>&nbsp;<span class="ident" id="6638302">v4mask</span><span class="op" id="6638308">}</span><span class="op" id="6638309">}</span><span class="op" id="6638310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638313">{</span><span class="ident" id="6638314">in</span><span class="op" id="6638316">:</span>&nbsp;<span class="ident" id="6638318">IPNet</span><span class="op" id="6638323">{</span><span class="ident" id="6638324">IP</span><span class="op" id="6638326">:</span>&nbsp;<span class="ident" id="6638328">v4addr</span><span class="op" id="6638334">,</span>&nbsp;<span class="ident" id="6638336">Mask</span><span class="op" id="6638340">:</span>&nbsp;<span class="ident" id="6638342">badmask</span><span class="op" id="6638349">}</span><span class="op" id="6638350">}</span><span class="op" id="6638351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638354">{</span><span class="ident" id="6638355">in</span><span class="op" id="6638357">:</span>&nbsp;<span class="ident" id="6638359">IPNet</span><span class="op" id="6638364">{</span><span class="ident" id="6638365">IP</span><span class="op" id="6638367">:</span>&nbsp;<span class="ident" id="6638369">v4mappedv6addr</span><span class="op" id="6638383">,</span>&nbsp;<span class="ident" id="6638385">Mask</span><span class="op" id="6638389">:</span>&nbsp;<span class="ident" id="6638391">badmask</span><span class="op" id="6638398">}</span><span class="op" id="6638399">}</span><span class="op" id="6638400">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638403">{</span><span class="ident" id="6638404">in</span><span class="op" id="6638406">:</span>&nbsp;<span class="ident" id="6638408">IPNet</span><span class="op" id="6638413">{</span><span class="ident" id="6638414">IP</span><span class="op" id="6638416">:</span>&nbsp;<span class="ident" id="6638418">v6addr</span><span class="op" id="6638424">,</span>&nbsp;<span class="ident" id="6638426">Mask</span><span class="op" id="6638430">:</span>&nbsp;<span class="ident" id="6638432">badmask</span><span class="op" id="6638439">}</span><span class="op" id="6638440">}</span><span class="op" id="6638441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638444">{</span><span class="ident" id="6638445">in</span><span class="op" id="6638447">:</span>&nbsp;<span class="ident" id="6638449">IPNet</span><span class="op" id="6638454">{</span><span class="ident" id="6638455">IP</span><span class="op" id="6638457">:</span>&nbsp;<span class="ident" id="6638459">badaddr</span><span class="op" id="6638466">,</span>&nbsp;<span class="ident" id="6638468">Mask</span><span class="op" id="6638472">:</span>&nbsp;<span class="ident" id="6638474">v4mask</span><span class="op" id="6638480">}</span><span class="op" id="6638481">}</span><span class="op" id="6638482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638485">{</span><span class="ident" id="6638486">in</span><span class="op" id="6638488">:</span>&nbsp;<span class="ident" id="6638490">IPNet</span><span class="op" id="6638495">{</span><span class="ident" id="6638496">IP</span><span class="op" id="6638498">:</span>&nbsp;<span class="ident" id="6638500">badaddr</span><span class="op" id="6638507">,</span>&nbsp;<span class="ident" id="6638509">Mask</span><span class="op" id="6638513">:</span>&nbsp;<span class="ident" id="6638515">v4mappedv6mask</span><span class="op" id="6638529">}</span><span class="op" id="6638530">}</span><span class="op" id="6638531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638534">{</span><span class="ident" id="6638535">in</span><span class="op" id="6638537">:</span>&nbsp;<span class="ident" id="6638539">IPNet</span><span class="op" id="6638544">{</span><span class="ident" id="6638545">IP</span><span class="op" id="6638547">:</span>&nbsp;<span class="ident" id="6638549">badaddr</span><span class="op" id="6638556">,</span>&nbsp;<span class="ident" id="6638558">Mask</span><span class="op" id="6638562">:</span>&nbsp;<span class="ident" id="6638564">v6mask</span><span class="op" id="6638570">}</span><span class="op" id="6638571">}</span><span class="op" id="6638572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638575">{</span><span class="ident" id="6638576">in</span><span class="op" id="6638578">:</span>&nbsp;<span class="ident" id="6638580">IPNet</span><span class="op" id="6638585">{</span><span class="ident" id="6638586">IP</span><span class="op" id="6638588">:</span>&nbsp;<span class="ident" id="6638590">badaddr</span><span class="op" id="6638597">,</span>&nbsp;<span class="ident" id="6638599">Mask</span><span class="op" id="6638603">:</span>&nbsp;<span class="ident" id="6638605">badmask</span><span class="op" id="6638612">}</span><span class="op" id="6638613">}</span><span class="op" id="6638614">,</span><br>
<span class="lineno">300</span><span class="op" id="6638616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6638619">func</span>&nbsp;<span class="ident" id="6638624">TestNetworkNumberAndMask</span><span class="op" id="6638648">(</span><span class="ident" id="6638649">t</span>&nbsp;<span class="op" id="6638651">*</span><span class="ident" id="6638652">testing</span><span class="op" id="6638659">.</span><span class="ident" id="6638660">T</span><span class="op" id="6638661">)</span>&nbsp;<span class="op" id="6638663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638666">for</span>&nbsp;<span class="ident" id="6638670">_</span><span class="op" id="6638671">,</span>&nbsp;<span class="ident" id="6638673">tt</span>&nbsp;<span class="op" id="6638676">:=</span>&nbsp;<span class="keyword" id="6638679">range</span>&nbsp;<span class="ident" id="6638685">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6638711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638715">ip</span><span class="op" id="6638717">,</span>&nbsp;<span class="ident" id="6638719">m</span>&nbsp;<span class="op" id="6638721">:=</span>&nbsp;<span class="ident" id="6638724">networkNumberAndMask</span><span class="op" id="6638744">(</span><span class="op" id="6638745">&amp;</span><span class="ident" id="6638746">tt</span><span class="op" id="6638748">.</span><span class="ident" id="6638749">in</span><span class="op" id="6638751">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638755">out</span>&nbsp;<span class="op" id="6638759">:=</span>&nbsp;<span class="op" id="6638762">&amp;</span><span class="ident" id="6638763">IPNet</span><span class="op" id="6638768">{</span><span class="ident" id="6638769">IP</span><span class="op" id="6638771">:</span>&nbsp;<span class="ident" id="6638773">ip</span><span class="op" id="6638775">,</span>&nbsp;<span class="ident" id="6638777">Mask</span><span class="op" id="6638781">:</span>&nbsp;<span class="ident" id="6638783">m</span><span class="op" id="6638784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638788">if</span>&nbsp;<span class="op" id="6638791">!</span><span class="ident" id="6638792">reflect</span><span class="op" id="6638799">.</span><span class="ident" id="6638800">DeepEqual</span><span class="op" id="6638809">(</span><span class="op" id="6638810">&amp;</span><span class="ident" id="6638811">tt</span><span class="op" id="6638813">.</span><span class="ident" id="6638814">out</span><span class="op" id="6638817">,</span>&nbsp;<span class="ident" id="6638819">out</span><span class="op" id="6638822">)</span>&nbsp;<span class="op" id="6638824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638829">t</span><span class="op" id="6638830">.</span><span class="ident" id="6638831">Errorf</span><span class="op" id="6638837">(</span><span class="string" id="6638838">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6638878">,</span>&nbsp;<span class="ident" id="6638880">tt</span><span class="op" id="6638882">.</span><span class="ident" id="6638883">in</span><span class="op" id="6638885">,</span>&nbsp;<span class="ident" id="6638887">out</span><span class="op" id="6638890">,</span>&nbsp;<span class="op" id="6638892">&amp;</span><span class="ident" id="6638893">tt</span><span class="op" id="6638895">.</span><span class="ident" id="6638896">out</span><span class="op" id="6638899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638906">}</span><br>
<span class="lineno">310</span><span class="op" id="6638908">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6638911">var</span>&nbsp;<span class="ident" id="6638915">splitJoinTests</span>&nbsp;<span class="op" id="6638930">=</span>&nbsp;<span class="op" id="6638932">[</span><span class="op" id="6638933">]</span><span class="keyword" id="6638934">struct</span>&nbsp;<span class="op" id="6638941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638944">host</span>&nbsp;<span class="builtintype" id="6638949">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638957">port</span>&nbsp;<span class="builtintype" id="6638962">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638970">join</span>&nbsp;<span class="builtintype" id="6638975">string</span><br>
<span class="lineno"></span><span class="op" id="6638982">}</span><span class="op" id="6638983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638986">{</span><span class="string" id="6638987">&#34;www.google.com&#34;</span><span class="op" id="6639003">,</span>&nbsp;<span class="string" id="6639005">&#34;80&#34;</span><span class="op" id="6639009">,</span>&nbsp;<span class="string" id="6639011">&#34;www.google.com:80&#34;</span><span class="op" id="6639030">}</span><span class="op" id="6639031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639034">{</span><span class="string" id="6639035">&#34;127.0.0.1&#34;</span><span class="op" id="6639046">,</span>&nbsp;<span class="string" id="6639048">&#34;1234&#34;</span><span class="op" id="6639054">,</span>&nbsp;<span class="string" id="6639056">&#34;127.0.0.1:1234&#34;</span><span class="op" id="6639072">}</span><span class="op" id="6639073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639076">{</span><span class="string" id="6639077">&#34;::1&#34;</span><span class="op" id="6639082">,</span>&nbsp;<span class="string" id="6639084">&#34;80&#34;</span><span class="op" id="6639088">,</span>&nbsp;<span class="string" id="6639090">&#34;[::1]:80&#34;</span><span class="op" id="6639100">}</span><span class="op" id="6639101">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639104">{</span><span class="string" id="6639105">&#34;fe80::1%lo0&#34;</span><span class="op" id="6639118">,</span>&nbsp;<span class="string" id="6639120">&#34;80&#34;</span><span class="op" id="6639124">,</span>&nbsp;<span class="string" id="6639126">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="6639144">}</span><span class="op" id="6639145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639148">{</span><span class="string" id="6639149">&#34;localhost%lo0&#34;</span><span class="op" id="6639164">,</span>&nbsp;<span class="string" id="6639166">&#34;80&#34;</span><span class="op" id="6639170">,</span>&nbsp;<span class="string" id="6639172">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="6639192">}</span><span class="op" id="6639193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639196">{</span><span class="string" id="6639197">&#34;&#34;</span><span class="op" id="6639199">,</span>&nbsp;<span class="string" id="6639201">&#34;0&#34;</span><span class="op" id="6639204">,</span>&nbsp;<span class="string" id="6639206">&#34;:0&#34;</span><span class="op" id="6639210">}</span><span class="op" id="6639211">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639215">{</span><span class="string" id="6639216">&#34;google.com&#34;</span><span class="op" id="6639228">,</span>&nbsp;<span class="string" id="6639230">&#34;https%foo&#34;</span><span class="op" id="6639241">,</span>&nbsp;<span class="string" id="6639243">&#34;google.com:https%foo&#34;</span><span class="op" id="6639265">}</span><span class="op" id="6639266">,</span>&nbsp;<span class="comment" id="6639268">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639288">{</span><span class="string" id="6639289">&#34;127.0.0.1&#34;</span><span class="op" id="6639300">,</span>&nbsp;<span class="string" id="6639302">&#34;&#34;</span><span class="op" id="6639304">,</span>&nbsp;<span class="string" id="6639306">&#34;127.0.0.1:&#34;</span><span class="op" id="6639318">}</span><span class="op" id="6639319">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6639341">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639362">{</span><span class="string" id="6639363">&#34;www.google.com&#34;</span><span class="op" id="6639379">,</span>&nbsp;<span class="string" id="6639381">&#34;&#34;</span><span class="op" id="6639383">,</span>&nbsp;<span class="string" id="6639385">&#34;www.google.com:&#34;</span><span class="op" id="6639402">}</span><span class="op" id="6639403">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6639415">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="6639435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6639438">var</span>&nbsp;<span class="ident" id="6639442">splitFailureTests</span>&nbsp;<span class="op" id="6639460">=</span>&nbsp;<span class="op" id="6639462">[</span><span class="op" id="6639463">]</span><span class="keyword" id="6639464">struct</span>&nbsp;<span class="op" id="6639471">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639474">hostPort</span>&nbsp;<span class="builtintype" id="6639483">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639491">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6639500">string</span><br>
<span class="lineno"></span><span class="op" id="6639507">}</span><span class="op" id="6639508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639511">{</span><span class="string" id="6639512">&#34;www.google.com&#34;</span><span class="op" id="6639528">,</span>&nbsp;<span class="string" id="6639530">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639555">}</span><span class="op" id="6639556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639559">{</span><span class="string" id="6639560">&#34;127.0.0.1&#34;</span><span class="op" id="6639571">,</span>&nbsp;<span class="string" id="6639573">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639598">}</span><span class="op" id="6639599">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639602">{</span><span class="string" id="6639603">&#34;[::1]&#34;</span><span class="op" id="6639610">,</span>&nbsp;<span class="string" id="6639612">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639637">}</span><span class="op" id="6639638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639641">{</span><span class="string" id="6639642">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="6639657">,</span>&nbsp;<span class="string" id="6639659">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639684">}</span><span class="op" id="6639685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639688">{</span><span class="string" id="6639689">&#34;[localhost%lo0]&#34;</span><span class="op" id="6639706">,</span>&nbsp;<span class="string" id="6639708">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639733">}</span><span class="op" id="6639734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639737">{</span><span class="string" id="6639738">&#34;localhost%lo0&#34;</span><span class="op" id="6639753">,</span>&nbsp;<span class="string" id="6639755">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639780">}</span><span class="op" id="6639781">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639785">{</span><span class="string" id="6639786">&#34;::1&#34;</span><span class="op" id="6639791">,</span>&nbsp;<span class="string" id="6639793">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639821">}</span><span class="op" id="6639822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639825">{</span><span class="string" id="6639826">&#34;fe80::1%lo0&#34;</span><span class="op" id="6639839">,</span>&nbsp;<span class="string" id="6639841">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639869">}</span><span class="op" id="6639870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639873">{</span><span class="string" id="6639874">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="6639890">,</span>&nbsp;<span class="string" id="6639892">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639920">}</span><span class="op" id="6639921">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639925">{</span><span class="string" id="6639926">&#34;localhost%lo0:80&#34;</span><span class="op" id="6639944">,</span>&nbsp;<span class="string" id="6639946">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="6639975">}</span><span class="op" id="6639976">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639980">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640023">{</span><span class="string" id="6640024">&#34;[foo:bar]&#34;</span><span class="op" id="6640035">,</span>&nbsp;<span class="string" id="6640037">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6640062">}</span><span class="op" id="6640063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640066">{</span><span class="string" id="6640067">&#34;[foo:bar]baz&#34;</span><span class="op" id="6640081">,</span>&nbsp;<span class="string" id="6640083">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6640108">}</span><span class="op" id="6640109">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640112">{</span><span class="string" id="6640113">&#34;[foo]bar:baz&#34;</span><span class="op" id="6640127">,</span>&nbsp;<span class="string" id="6640129">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6640154">}</span><span class="op" id="6640155">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640159">{</span><span class="string" id="6640160">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="6640177">,</span>&nbsp;<span class="string" id="6640179">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6640207">}</span><span class="op" id="6640208">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640212">{</span><span class="string" id="6640213">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="6640229">,</span>&nbsp;<span class="string" id="6640231">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6640258">}</span><span class="op" id="6640259">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640262">{</span><span class="string" id="6640263">&#34;foo[bar]:baz&#34;</span><span class="op" id="6640277">,</span>&nbsp;<span class="string" id="6640279">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6640306">}</span><span class="op" id="6640307">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640311">{</span><span class="string" id="6640312">&#34;foo]bar:baz&#34;</span><span class="op" id="6640325">,</span>&nbsp;<span class="string" id="6640327">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6640354">}</span><span class="op" id="6640355">,</span><br>
<span class="lineno"></span><span class="op" id="6640357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6640360">func</span>&nbsp;<span class="ident" id="6640365">TestSplitHostPort</span><span class="op" id="6640382">(</span><span class="ident" id="6640383">t</span>&nbsp;<span class="op" id="6640385">*</span><span class="ident" id="6640386">testing</span><span class="op" id="6640393">.</span><span class="ident" id="6640394">T</span><span class="op" id="6640395">)</span>&nbsp;<span class="op" id="6640397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640400">for</span>&nbsp;<span class="ident" id="6640404">_</span><span class="op" id="6640405">,</span>&nbsp;<span class="ident" id="6640407">tt</span>&nbsp;<span class="op" id="6640410">:=</span>&nbsp;<span class="keyword" id="6640413">range</span>&nbsp;<span class="ident" id="6640419">splitJoinTests</span>&nbsp;<span class="op" id="6640434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640438">if</span>&nbsp;<span class="ident" id="6640441">host</span><span class="op" id="6640445">,</span>&nbsp;<span class="ident" id="6640447">port</span><span class="op" id="6640451">,</span>&nbsp;<span class="ident" id="6640453">err</span>&nbsp;<span class="op" id="6640457">:=</span>&nbsp;<span class="ident" id="6640460">SplitHostPort</span><span class="op" id="6640473">(</span><span class="ident" id="6640474">tt</span><span class="op" id="6640476">.</span><span class="ident" id="6640477">join</span><span class="op" id="6640481">)</span><span class="op" id="6640482">;</span>&nbsp;<span class="ident" id="6640484">host</span>&nbsp;<span class="op" id="6640489">!=</span>&nbsp;<span class="ident" id="6640492">tt</span><span class="op" id="6640494">.</span><span class="ident" id="6640495">host</span>&nbsp;<span class="op" id="6640500">||</span>&nbsp;<span class="ident" id="6640503">port</span>&nbsp;<span class="op" id="6640508">!=</span>&nbsp;<span class="ident" id="6640511">tt</span><span class="op" id="6640513">.</span><span class="ident" id="6640514">port</span>&nbsp;<span class="op" id="6640519">||</span>&nbsp;<span class="ident" id="6640522">err</span>&nbsp;<span class="op" id="6640526">!=</span>&nbsp;<span class="ident" id="6640529">nil</span>&nbsp;<span class="op" id="6640533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640538">t</span><span class="op" id="6640539">.</span><span class="ident" id="6640540">Errorf</span><span class="op" id="6640546">(</span><span class="string" id="6640547">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6640597">,</span>&nbsp;<span class="ident" id="6640599">tt</span><span class="op" id="6640601">.</span><span class="ident" id="6640602">join</span><span class="op" id="6640606">,</span>&nbsp;<span class="ident" id="6640608">host</span><span class="op" id="6640612">,</span>&nbsp;<span class="ident" id="6640614">port</span><span class="op" id="6640618">,</span>&nbsp;<span class="ident" id="6640620">err</span><span class="op" id="6640623">,</span>&nbsp;<span class="ident" id="6640625">tt</span><span class="op" id="6640627">.</span><span class="ident" id="6640628">host</span><span class="op" id="6640632">,</span>&nbsp;<span class="ident" id="6640634">tt</span><span class="op" id="6640636">.</span><span class="ident" id="6640637">port</span><span class="op" id="6640641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640645">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640651">for</span>&nbsp;<span class="ident" id="6640655">_</span><span class="op" id="6640656">,</span>&nbsp;<span class="ident" id="6640658">tt</span>&nbsp;<span class="op" id="6640661">:=</span>&nbsp;<span class="keyword" id="6640664">range</span>&nbsp;<span class="ident" id="6640670">splitFailureTests</span>&nbsp;<span class="op" id="6640688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640692">if</span>&nbsp;<span class="ident" id="6640695">_</span><span class="op" id="6640696">,</span>&nbsp;<span class="ident" id="6640698">_</span><span class="op" id="6640699">,</span>&nbsp;<span class="ident" id="6640701">err</span>&nbsp;<span class="op" id="6640705">:=</span>&nbsp;<span class="ident" id="6640708">SplitHostPort</span><span class="op" id="6640721">(</span><span class="ident" id="6640722">tt</span><span class="op" id="6640724">.</span><span class="ident" id="6640725">hostPort</span><span class="op" id="6640733">)</span><span class="op" id="6640734">;</span>&nbsp;<span class="ident" id="6640736">err</span>&nbsp;<span class="op" id="6640740">==</span>&nbsp;<span class="ident" id="6640743">nil</span>&nbsp;<span class="op" id="6640747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640752">t</span><span class="op" id="6640753">.</span><span class="ident" id="6640754">Errorf</span><span class="op" id="6640760">(</span><span class="string" id="6640761">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="6640799">,</span>&nbsp;<span class="ident" id="6640801">tt</span><span class="op" id="6640803">.</span><span class="ident" id="6640804">hostPort</span><span class="op" id="6640812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640816">}</span>&nbsp;<span class="keyword" id="6640818">else</span>&nbsp;<span class="op" id="6640823">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640828">e</span>&nbsp;<span class="op" id="6640830">:=</span>&nbsp;<span class="ident" id="6640833">err</span><span class="op" id="6640836">.</span><span class="op" id="6640837">(</span><span class="op" id="6640838">*</span><span class="ident" id="6640839">AddrError</span><span class="op" id="6640848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640853">if</span>&nbsp;<span class="ident" id="6640856">e</span><span class="op" id="6640857">.</span><span class="ident" id="6640858">Err</span>&nbsp;<span class="op" id="6640862">!=</span>&nbsp;<span class="ident" id="6640865">tt</span><span class="op" id="6640867">.</span><span class="ident" id="6640868">err</span>&nbsp;<span class="op" id="6640872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640878">t</span><span class="op" id="6640879">.</span><span class="ident" id="6640880">Errorf</span><span class="op" id="6640886">(</span><span class="string" id="6640887">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6640926">,</span>&nbsp;<span class="ident" id="6640928">tt</span><span class="op" id="6640930">.</span><span class="ident" id="6640931">hostPort</span><span class="op" id="6640939">,</span>&nbsp;<span class="ident" id="6640941">e</span><span class="op" id="6640942">.</span><span class="ident" id="6640943">Err</span><span class="op" id="6640946">,</span>&nbsp;<span class="ident" id="6640948">tt</span><span class="op" id="6640950">.</span><span class="ident" id="6640951">err</span><span class="op" id="6640954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640963">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640966">}</span><br>
<span class="lineno"></span><span class="op" id="6640968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6640971">func</span>&nbsp;<span class="ident" id="6640976">TestJoinHostPort</span><span class="op" id="6640992">(</span><span class="ident" id="6640993">t</span>&nbsp;<span class="op" id="6640995">*</span><span class="ident" id="6640996">testing</span><span class="op" id="6641003">.</span><span class="ident" id="6641004">T</span><span class="op" id="6641005">)</span>&nbsp;<span class="op" id="6641007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641010">for</span>&nbsp;<span class="ident" id="6641014">_</span><span class="op" id="6641015">,</span>&nbsp;<span class="ident" id="6641017">tt</span>&nbsp;<span class="op" id="6641020">:=</span>&nbsp;<span class="keyword" id="6641023">range</span>&nbsp;<span class="ident" id="6641029">splitJoinTests</span>&nbsp;<span class="op" id="6641044">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641048">if</span>&nbsp;<span class="ident" id="6641051">join</span>&nbsp;<span class="op" id="6641056">:=</span>&nbsp;<span class="ident" id="6641059">JoinHostPort</span><span class="op" id="6641071">(</span><span class="ident" id="6641072">tt</span><span class="op" id="6641074">.</span><span class="ident" id="6641075">host</span><span class="op" id="6641079">,</span>&nbsp;<span class="ident" id="6641081">tt</span><span class="op" id="6641083">.</span><span class="ident" id="6641084">port</span><span class="op" id="6641088">)</span><span class="op" id="6641089">;</span>&nbsp;<span class="ident" id="6641091">join</span>&nbsp;<span class="op" id="6641096">!=</span>&nbsp;<span class="ident" id="6641099">tt</span><span class="op" id="6641101">.</span><span class="ident" id="6641102">join</span>&nbsp;<span class="op" id="6641107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641112">t</span><span class="op" id="6641113">.</span><span class="ident" id="6641114">Errorf</span><span class="op" id="6641120">(</span><span class="string" id="6641121">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6641157">,</span>&nbsp;<span class="ident" id="6641159">tt</span><span class="op" id="6641161">.</span><span class="ident" id="6641162">host</span><span class="op" id="6641166">,</span>&nbsp;<span class="ident" id="6641168">tt</span><span class="op" id="6641170">.</span><span class="ident" id="6641171">port</span><span class="op" id="6641175">,</span>&nbsp;<span class="ident" id="6641177">join</span><span class="op" id="6641181">,</span>&nbsp;<span class="ident" id="6641183">tt</span><span class="op" id="6641185">.</span><span class="ident" id="6641186">join</span><span class="op" id="6641190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641197">}</span><br>
<span class="lineno"></span><span class="op" id="6641199">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6641202">var</span>&nbsp;<span class="ident" id="6641206">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6641224">=</span>&nbsp;<span class="op" id="6641226">[</span><span class="op" id="6641227">]</span><span class="keyword" id="6641228">struct</span>&nbsp;<span class="op" id="6641235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641238">in</span>&nbsp;&nbsp;<span class="ident" id="6641242">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641246">af4</span>&nbsp;<span class="builtintype" id="6641250">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641256">af6</span>&nbsp;<span class="builtintype" id="6641260">bool</span><br>
<span class="lineno">390</span><span class="op" id="6641265">}</span><span class="op" id="6641266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641269">{</span><span class="ident" id="6641270">IPv4bcast</span><span class="op" id="6641279">,</span>&nbsp;<span class="builtintype" id="6641281">true</span><span class="op" id="6641285">,</span>&nbsp;<span class="builtintype" id="6641287">false</span><span class="op" id="6641292">}</span><span class="op" id="6641293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641296">{</span><span class="ident" id="6641297">IPv4allsys</span><span class="op" id="6641307">,</span>&nbsp;<span class="builtintype" id="6641309">true</span><span class="op" id="6641313">,</span>&nbsp;<span class="builtintype" id="6641315">false</span><span class="op" id="6641320">}</span><span class="op" id="6641321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641324">{</span><span class="ident" id="6641325">IPv4allrouter</span><span class="op" id="6641338">,</span>&nbsp;<span class="builtintype" id="6641340">true</span><span class="op" id="6641344">,</span>&nbsp;<span class="builtintype" id="6641346">false</span><span class="op" id="6641351">}</span><span class="op" id="6641352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641355">{</span><span class="ident" id="6641356">IPv4zero</span><span class="op" id="6641364">,</span>&nbsp;<span class="builtintype" id="6641366">true</span><span class="op" id="6641370">,</span>&nbsp;<span class="builtintype" id="6641372">false</span><span class="op" id="6641377">}</span><span class="op" id="6641378">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641381">{</span><span class="ident" id="6641382">IPv4</span><span class="op" id="6641386">(</span><span class="num" id="6641387">224</span><span class="op" id="6641390">,</span>&nbsp;<span class="num" id="6641392">0</span><span class="op" id="6641393">,</span>&nbsp;<span class="num" id="6641395">0</span><span class="op" id="6641396">,</span>&nbsp;<span class="num" id="6641398">1</span><span class="op" id="6641399">)</span><span class="op" id="6641400">,</span>&nbsp;<span class="builtintype" id="6641402">true</span><span class="op" id="6641406">,</span>&nbsp;<span class="builtintype" id="6641408">false</span><span class="op" id="6641413">}</span><span class="op" id="6641414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641417">{</span><span class="ident" id="6641418">IPv4</span><span class="op" id="6641422">(</span><span class="num" id="6641423">127</span><span class="op" id="6641426">,</span>&nbsp;<span class="num" id="6641428">0</span><span class="op" id="6641429">,</span>&nbsp;<span class="num" id="6641431">0</span><span class="op" id="6641432">,</span>&nbsp;<span class="num" id="6641434">1</span><span class="op" id="6641435">)</span><span class="op" id="6641436">,</span>&nbsp;<span class="builtintype" id="6641438">true</span><span class="op" id="6641442">,</span>&nbsp;<span class="builtintype" id="6641444">false</span><span class="op" id="6641449">}</span><span class="op" id="6641450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641453">{</span><span class="ident" id="6641454">IPv4</span><span class="op" id="6641458">(</span><span class="num" id="6641459">240</span><span class="op" id="6641462">,</span>&nbsp;<span class="num" id="6641464">0</span><span class="op" id="6641465">,</span>&nbsp;<span class="num" id="6641467">0</span><span class="op" id="6641468">,</span>&nbsp;<span class="num" id="6641470">1</span><span class="op" id="6641471">)</span><span class="op" id="6641472">,</span>&nbsp;<span class="builtintype" id="6641474">true</span><span class="op" id="6641478">,</span>&nbsp;<span class="builtintype" id="6641480">false</span><span class="op" id="6641485">}</span><span class="op" id="6641486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641489">{</span><span class="ident" id="6641490">IPv6unspecified</span><span class="op" id="6641505">,</span>&nbsp;<span class="builtintype" id="6641507">false</span><span class="op" id="6641512">,</span>&nbsp;<span class="builtintype" id="6641514">true</span><span class="op" id="6641518">}</span><span class="op" id="6641519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641522">{</span><span class="ident" id="6641523">IPv6loopback</span><span class="op" id="6641535">,</span>&nbsp;<span class="builtintype" id="6641537">false</span><span class="op" id="6641542">,</span>&nbsp;<span class="builtintype" id="6641544">true</span><span class="op" id="6641548">}</span><span class="op" id="6641549">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641552">{</span><span class="ident" id="6641553">IPv6interfacelocalallnodes</span><span class="op" id="6641579">,</span>&nbsp;<span class="builtintype" id="6641581">false</span><span class="op" id="6641586">,</span>&nbsp;<span class="builtintype" id="6641588">true</span><span class="op" id="6641592">}</span><span class="op" id="6641593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641596">{</span><span class="ident" id="6641597">IPv6linklocalallnodes</span><span class="op" id="6641618">,</span>&nbsp;<span class="builtintype" id="6641620">false</span><span class="op" id="6641625">,</span>&nbsp;<span class="builtintype" id="6641627">true</span><span class="op" id="6641631">}</span><span class="op" id="6641632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641635">{</span><span class="ident" id="6641636">IPv6linklocalallrouters</span><span class="op" id="6641659">,</span>&nbsp;<span class="builtintype" id="6641661">false</span><span class="op" id="6641666">,</span>&nbsp;<span class="builtintype" id="6641668">true</span><span class="op" id="6641672">}</span><span class="op" id="6641673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641676">{</span><span class="ident" id="6641677">ParseIP</span><span class="op" id="6641684">(</span><span class="string" id="6641685">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="6641700">)</span><span class="op" id="6641701">,</span>&nbsp;<span class="builtintype" id="6641703">false</span><span class="op" id="6641708">,</span>&nbsp;<span class="builtintype" id="6641710">true</span><span class="op" id="6641714">}</span><span class="op" id="6641715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641718">{</span><span class="ident" id="6641719">ParseIP</span><span class="op" id="6641726">(</span><span class="string" id="6641727">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="6641742">)</span><span class="op" id="6641743">,</span>&nbsp;<span class="builtintype" id="6641745">false</span><span class="op" id="6641750">,</span>&nbsp;<span class="builtintype" id="6641752">true</span><span class="op" id="6641756">}</span><span class="op" id="6641757">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641760">{</span><span class="ident" id="6641761">ParseIP</span><span class="op" id="6641768">(</span><span class="string" id="6641769">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6641789">)</span><span class="op" id="6641790">,</span>&nbsp;<span class="builtintype" id="6641792">false</span><span class="op" id="6641797">,</span>&nbsp;<span class="builtintype" id="6641799">true</span><span class="op" id="6641803">}</span><span class="op" id="6641804">,</span><br>
<span class="lineno"></span><span class="op" id="6641806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6641809">func</span>&nbsp;<span class="ident" id="6641814">TestIPAddrFamily</span><span class="op" id="6641830">(</span><span class="ident" id="6641831">t</span>&nbsp;<span class="op" id="6641833">*</span><span class="ident" id="6641834">testing</span><span class="op" id="6641841">.</span><span class="ident" id="6641842">T</span><span class="op" id="6641843">)</span>&nbsp;<span class="op" id="6641845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641848">for</span>&nbsp;<span class="ident" id="6641852">_</span><span class="op" id="6641853">,</span>&nbsp;<span class="ident" id="6641855">tt</span>&nbsp;<span class="op" id="6641858">:=</span>&nbsp;<span class="keyword" id="6641861">range</span>&nbsp;<span class="ident" id="6641867">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6641885">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641889">if</span>&nbsp;<span class="ident" id="6641892">af</span>&nbsp;<span class="op" id="6641895">:=</span>&nbsp;<span class="ident" id="6641898">tt</span><span class="op" id="6641900">.</span><span class="ident" id="6641901">in</span><span class="op" id="6641903">.</span><span class="ident" id="6641904">To4</span><span class="op" id="6641907">(</span><span class="op" id="6641908">)</span>&nbsp;<span class="op" id="6641910">!=</span>&nbsp;<span class="ident" id="6641913">nil</span><span class="op" id="6641916">;</span>&nbsp;<span class="ident" id="6641918">af</span>&nbsp;<span class="op" id="6641921">!=</span>&nbsp;<span class="ident" id="6641924">tt</span><span class="op" id="6641926">.</span><span class="ident" id="6641927">af4</span>&nbsp;<span class="op" id="6641931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641936">t</span><span class="op" id="6641937">.</span><span class="ident" id="6641938">Errorf</span><span class="op" id="6641944">(</span><span class="string" id="6641945">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6641997">,</span>&nbsp;<span class="ident" id="6641999">tt</span><span class="op" id="6642001">.</span><span class="ident" id="6642002">in</span><span class="op" id="6642004">,</span>&nbsp;<span class="ident" id="6642006">af</span><span class="op" id="6642008">,</span>&nbsp;<span class="ident" id="6642010">tt</span><span class="op" id="6642012">.</span><span class="ident" id="6642013">af4</span><span class="op" id="6642016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642024">if</span>&nbsp;<span class="ident" id="6642027">af</span>&nbsp;<span class="op" id="6642030">:=</span>&nbsp;<span class="builtinfunc" id="6642033">len</span><span class="op" id="6642036">(</span><span class="ident" id="6642037">tt</span><span class="op" id="6642039">.</span><span class="ident" id="6642040">in</span><span class="op" id="6642042">)</span>&nbsp;<span class="op" id="6642044">==</span>&nbsp;<span class="ident" id="6642047">IPv6len</span>&nbsp;<span class="op" id="6642055">&amp;&amp;</span>&nbsp;<span class="ident" id="6642058">tt</span><span class="op" id="6642060">.</span><span class="ident" id="6642061">in</span><span class="op" id="6642063">.</span><span class="ident" id="6642064">To4</span><span class="op" id="6642067">(</span><span class="op" id="6642068">)</span>&nbsp;<span class="op" id="6642070">==</span>&nbsp;<span class="ident" id="6642073">nil</span><span class="op" id="6642076">;</span>&nbsp;<span class="ident" id="6642078">af</span>&nbsp;<span class="op" id="6642081">!=</span>&nbsp;<span class="ident" id="6642084">tt</span><span class="op" id="6642086">.</span><span class="ident" id="6642087">af6</span>&nbsp;<span class="op" id="6642091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642096">t</span><span class="op" id="6642097">.</span><span class="ident" id="6642098">Errorf</span><span class="op" id="6642104">(</span><span class="string" id="6642105">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6642157">,</span>&nbsp;<span class="ident" id="6642159">tt</span><span class="op" id="6642161">.</span><span class="ident" id="6642162">in</span><span class="op" id="6642164">,</span>&nbsp;<span class="ident" id="6642166">af</span><span class="op" id="6642168">,</span>&nbsp;<span class="ident" id="6642170">tt</span><span class="op" id="6642172">.</span><span class="ident" id="6642173">af6</span><span class="op" id="6642176">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642183">}</span><br>
<span class="lineno"></span><span class="op" id="6642185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6642188">var</span>&nbsp;<span class="ident" id="6642192">ipAddrScopeTests</span>&nbsp;<span class="op" id="6642209">=</span>&nbsp;<span class="op" id="6642211">[</span><span class="op" id="6642212">]</span><span class="keyword" id="6642213">struct</span>&nbsp;<span class="op" id="6642220">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642223">scope</span>&nbsp;<span class="keyword" id="6642229">func</span><span class="op" id="6642233">(</span><span class="ident" id="6642234">IP</span><span class="op" id="6642236">)</span>&nbsp;<span class="builtintype" id="6642238">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642244">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6642250">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642254">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6642260">bool</span><br>
<span class="lineno"></span><span class="op" id="6642265">}</span><span class="op" id="6642266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642269">{</span><span class="ident" id="6642270">IP</span><span class="op" id="6642272">.</span><span class="ident" id="6642273">IsUnspecified</span><span class="op" id="6642286">,</span>&nbsp;<span class="ident" id="6642288">IPv4zero</span><span class="op" id="6642296">,</span>&nbsp;<span class="builtintype" id="6642298">true</span><span class="op" id="6642302">}</span><span class="op" id="6642303">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642306">{</span><span class="ident" id="6642307">IP</span><span class="op" id="6642309">.</span><span class="ident" id="6642310">IsUnspecified</span><span class="op" id="6642323">,</span>&nbsp;<span class="ident" id="6642325">IPv4</span><span class="op" id="6642329">(</span><span class="num" id="6642330">127</span><span class="op" id="6642333">,</span>&nbsp;<span class="num" id="6642335">0</span><span class="op" id="6642336">,</span>&nbsp;<span class="num" id="6642338">0</span><span class="op" id="6642339">,</span>&nbsp;<span class="num" id="6642341">1</span><span class="op" id="6642342">)</span><span class="op" id="6642343">,</span>&nbsp;<span class="builtintype" id="6642345">false</span><span class="op" id="6642350">}</span><span class="op" id="6642351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642354">{</span><span class="ident" id="6642355">IP</span><span class="op" id="6642357">.</span><span class="ident" id="6642358">IsUnspecified</span><span class="op" id="6642371">,</span>&nbsp;<span class="ident" id="6642373">IPv6unspecified</span><span class="op" id="6642388">,</span>&nbsp;<span class="builtintype" id="6642390">true</span><span class="op" id="6642394">}</span><span class="op" id="6642395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642398">{</span><span class="ident" id="6642399">IP</span><span class="op" id="6642401">.</span><span class="ident" id="6642402">IsUnspecified</span><span class="op" id="6642415">,</span>&nbsp;<span class="ident" id="6642417">IPv6interfacelocalallnodes</span><span class="op" id="6642443">,</span>&nbsp;<span class="builtintype" id="6642445">false</span><span class="op" id="6642450">}</span><span class="op" id="6642451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642454">{</span><span class="ident" id="6642455">IP</span><span class="op" id="6642457">.</span><span class="ident" id="6642458">IsLoopback</span><span class="op" id="6642468">,</span>&nbsp;<span class="ident" id="6642470">IPv4</span><span class="op" id="6642474">(</span><span class="num" id="6642475">127</span><span class="op" id="6642478">,</span>&nbsp;<span class="num" id="6642480">0</span><span class="op" id="6642481">,</span>&nbsp;<span class="num" id="6642483">0</span><span class="op" id="6642484">,</span>&nbsp;<span class="num" id="6642486">1</span><span class="op" id="6642487">)</span><span class="op" id="6642488">,</span>&nbsp;<span class="builtintype" id="6642490">true</span><span class="op" id="6642494">}</span><span class="op" id="6642495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642498">{</span><span class="ident" id="6642499">IP</span><span class="op" id="6642501">.</span><span class="ident" id="6642502">IsLoopback</span><span class="op" id="6642512">,</span>&nbsp;<span class="ident" id="6642514">IPv4</span><span class="op" id="6642518">(</span><span class="num" id="6642519">127</span><span class="op" id="6642522">,</span>&nbsp;<span class="num" id="6642524">255</span><span class="op" id="6642527">,</span>&nbsp;<span class="num" id="6642529">255</span><span class="op" id="6642532">,</span>&nbsp;<span class="num" id="6642534">254</span><span class="op" id="6642537">)</span><span class="op" id="6642538">,</span>&nbsp;<span class="builtintype" id="6642540">true</span><span class="op" id="6642544">}</span><span class="op" id="6642545">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642548">{</span><span class="ident" id="6642549">IP</span><span class="op" id="6642551">.</span><span class="ident" id="6642552">IsLoopback</span><span class="op" id="6642562">,</span>&nbsp;<span class="ident" id="6642564">IPv4</span><span class="op" id="6642568">(</span><span class="num" id="6642569">128</span><span class="op" id="6642572">,</span>&nbsp;<span class="num" id="6642574">1</span><span class="op" id="6642575">,</span>&nbsp;<span class="num" id="6642577">2</span><span class="op" id="6642578">,</span>&nbsp;<span class="num" id="6642580">3</span><span class="op" id="6642581">)</span><span class="op" id="6642582">,</span>&nbsp;<span class="builtintype" id="6642584">false</span><span class="op" id="6642589">}</span><span class="op" id="6642590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642593">{</span><span class="ident" id="6642594">IP</span><span class="op" id="6642596">.</span><span class="ident" id="6642597">IsLoopback</span><span class="op" id="6642607">,</span>&nbsp;<span class="ident" id="6642609">IPv6loopback</span><span class="op" id="6642621">,</span>&nbsp;<span class="builtintype" id="6642623">true</span><span class="op" id="6642627">}</span><span class="op" id="6642628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642631">{</span><span class="ident" id="6642632">IP</span><span class="op" id="6642634">.</span><span class="ident" id="6642635">IsLoopback</span><span class="op" id="6642645">,</span>&nbsp;<span class="ident" id="6642647">IPv6linklocalallrouters</span><span class="op" id="6642670">,</span>&nbsp;<span class="builtintype" id="6642672">false</span><span class="op" id="6642677">}</span><span class="op" id="6642678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642681">{</span><span class="ident" id="6642682">IP</span><span class="op" id="6642684">.</span><span class="ident" id="6642685">IsMulticast</span><span class="op" id="6642696">,</span>&nbsp;<span class="ident" id="6642698">IPv4</span><span class="op" id="6642702">(</span><span class="num" id="6642703">224</span><span class="op" id="6642706">,</span>&nbsp;<span class="num" id="6642708">0</span><span class="op" id="6642709">,</span>&nbsp;<span class="num" id="6642711">0</span><span class="op" id="6642712">,</span>&nbsp;<span class="num" id="6642714">0</span><span class="op" id="6642715">)</span><span class="op" id="6642716">,</span>&nbsp;<span class="builtintype" id="6642718">true</span><span class="op" id="6642722">}</span><span class="op" id="6642723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642726">{</span><span class="ident" id="6642727">IP</span><span class="op" id="6642729">.</span><span class="ident" id="6642730">IsMulticast</span><span class="op" id="6642741">,</span>&nbsp;<span class="ident" id="6642743">IPv4</span><span class="op" id="6642747">(</span><span class="num" id="6642748">239</span><span class="op" id="6642751">,</span>&nbsp;<span class="num" id="6642753">0</span><span class="op" id="6642754">,</span>&nbsp;<span class="num" id="6642756">0</span><span class="op" id="6642757">,</span>&nbsp;<span class="num" id="6642759">0</span><span class="op" id="6642760">)</span><span class="op" id="6642761">,</span>&nbsp;<span class="builtintype" id="6642763">true</span><span class="op" id="6642767">}</span><span class="op" id="6642768">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642771">{</span><span class="ident" id="6642772">IP</span><span class="op" id="6642774">.</span><span class="ident" id="6642775">IsMulticast</span><span class="op" id="6642786">,</span>&nbsp;<span class="ident" id="6642788">IPv4</span><span class="op" id="6642792">(</span><span class="num" id="6642793">240</span><span class="op" id="6642796">,</span>&nbsp;<span class="num" id="6642798">0</span><span class="op" id="6642799">,</span>&nbsp;<span class="num" id="6642801">0</span><span class="op" id="6642802">,</span>&nbsp;<span class="num" id="6642804">0</span><span class="op" id="6642805">)</span><span class="op" id="6642806">,</span>&nbsp;<span class="builtintype" id="6642808">false</span><span class="op" id="6642813">}</span><span class="op" id="6642814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642817">{</span><span class="ident" id="6642818">IP</span><span class="op" id="6642820">.</span><span class="ident" id="6642821">IsMulticast</span><span class="op" id="6642832">,</span>&nbsp;<span class="ident" id="6642834">IPv6linklocalallnodes</span><span class="op" id="6642855">,</span>&nbsp;<span class="builtintype" id="6642857">true</span><span class="op" id="6642861">}</span><span class="op" id="6642862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642865">{</span><span class="ident" id="6642866">IP</span><span class="op" id="6642868">.</span><span class="ident" id="6642869">IsMulticast</span><span class="op" id="6642880">,</span>&nbsp;<span class="ident" id="6642882">IP</span><span class="op" id="6642884">{</span><span class="num" id="6642885">0xff</span><span class="op" id="6642889">,</span>&nbsp;<span class="num" id="6642891">0x05</span><span class="op" id="6642895">,</span>&nbsp;<span class="num" id="6642897">0</span><span class="op" id="6642898">,</span>&nbsp;<span class="num" id="6642900">0</span><span class="op" id="6642901">,</span>&nbsp;<span class="num" id="6642903">0</span><span class="op" id="6642904">,</span>&nbsp;<span class="num" id="6642906">0</span><span class="op" id="6642907">,</span>&nbsp;<span class="num" id="6642909">0</span><span class="op" id="6642910">,</span>&nbsp;<span class="num" id="6642912">0</span><span class="op" id="6642913">,</span>&nbsp;<span class="num" id="6642915">0</span><span class="op" id="6642916">,</span>&nbsp;<span class="num" id="6642918">0</span><span class="op" id="6642919">,</span>&nbsp;<span class="num" id="6642921">0</span><span class="op" id="6642922">,</span>&nbsp;<span class="num" id="6642924">0</span><span class="op" id="6642925">,</span>&nbsp;<span class="num" id="6642927">0</span><span class="op" id="6642928">,</span>&nbsp;<span class="num" id="6642930">0</span><span class="op" id="6642931">,</span>&nbsp;<span class="num" id="6642933">0</span><span class="op" id="6642934">,</span>&nbsp;<span class="num" id="6642936">0</span><span class="op" id="6642937">}</span><span class="op" id="6642938">,</span>&nbsp;<span class="builtintype" id="6642940">true</span><span class="op" id="6642944">}</span><span class="op" id="6642945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642948">{</span><span class="ident" id="6642949">IP</span><span class="op" id="6642951">.</span><span class="ident" id="6642952">IsMulticast</span><span class="op" id="6642963">,</span>&nbsp;<span class="ident" id="6642965">IP</span><span class="op" id="6642967">{</span><span class="num" id="6642968">0xfe</span><span class="op" id="6642972">,</span>&nbsp;<span class="num" id="6642974">0x80</span><span class="op" id="6642978">,</span>&nbsp;<span class="num" id="6642980">0</span><span class="op" id="6642981">,</span>&nbsp;<span class="num" id="6642983">0</span><span class="op" id="6642984">,</span>&nbsp;<span class="num" id="6642986">0</span><span class="op" id="6642987">,</span>&nbsp;<span class="num" id="6642989">0</span><span class="op" id="6642990">,</span>&nbsp;<span class="num" id="6642992">0</span><span class="op" id="6642993">,</span>&nbsp;<span class="num" id="6642995">0</span><span class="op" id="6642996">,</span>&nbsp;<span class="num" id="6642998">0</span><span class="op" id="6642999">,</span>&nbsp;<span class="num" id="6643001">0</span><span class="op" id="6643002">,</span>&nbsp;<span class="num" id="6643004">0</span><span class="op" id="6643005">,</span>&nbsp;<span class="num" id="6643007">0</span><span class="op" id="6643008">,</span>&nbsp;<span class="num" id="6643010">0</span><span class="op" id="6643011">,</span>&nbsp;<span class="num" id="6643013">0</span><span class="op" id="6643014">,</span>&nbsp;<span class="num" id="6643016">0</span><span class="op" id="6643017">,</span>&nbsp;<span class="num" id="6643019">0</span><span class="op" id="6643020">}</span><span class="op" id="6643021">,</span>&nbsp;<span class="builtintype" id="6643023">false</span><span class="op" id="6643028">}</span><span class="op" id="6643029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643032">{</span><span class="ident" id="6643033">IP</span><span class="op" id="6643035">.</span><span class="ident" id="6643036">IsLinkLocalMulticast</span><span class="op" id="6643056">,</span>&nbsp;<span class="ident" id="6643058">IPv4</span><span class="op" id="6643062">(</span><span class="num" id="6643063">224</span><span class="op" id="6643066">,</span>&nbsp;<span class="num" id="6643068">0</span><span class="op" id="6643069">,</span>&nbsp;<span class="num" id="6643071">0</span><span class="op" id="6643072">,</span>&nbsp;<span class="num" id="6643074">0</span><span class="op" id="6643075">)</span><span class="op" id="6643076">,</span>&nbsp;<span class="builtintype" id="6643078">true</span><span class="op" id="6643082">}</span><span class="op" id="6643083">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643086">{</span><span class="ident" id="6643087">IP</span><span class="op" id="6643089">.</span><span class="ident" id="6643090">IsLinkLocalMulticast</span><span class="op" id="6643110">,</span>&nbsp;<span class="ident" id="6643112">IPv4</span><span class="op" id="6643116">(</span><span class="num" id="6643117">239</span><span class="op" id="6643120">,</span>&nbsp;<span class="num" id="6643122">0</span><span class="op" id="6643123">,</span>&nbsp;<span class="num" id="6643125">0</span><span class="op" id="6643126">,</span>&nbsp;<span class="num" id="6643128">0</span><span class="op" id="6643129">)</span><span class="op" id="6643130">,</span>&nbsp;<span class="builtintype" id="6643132">false</span><span class="op" id="6643137">}</span><span class="op" id="6643138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643141">{</span><span class="ident" id="6643142">IP</span><span class="op" id="6643144">.</span><span class="ident" id="6643145">IsLinkLocalMulticast</span><span class="op" id="6643165">,</span>&nbsp;<span class="ident" id="6643167">IPv6linklocalallrouters</span><span class="op" id="6643190">,</span>&nbsp;<span class="builtintype" id="6643192">true</span><span class="op" id="6643196">}</span><span class="op" id="6643197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643200">{</span><span class="ident" id="6643201">IP</span><span class="op" id="6643203">.</span><span class="ident" id="6643204">IsLinkLocalMulticast</span><span class="op" id="6643224">,</span>&nbsp;<span class="ident" id="6643226">IP</span><span class="op" id="6643228">{</span><span class="num" id="6643229">0xff</span><span class="op" id="6643233">,</span>&nbsp;<span class="num" id="6643235">0x05</span><span class="op" id="6643239">,</span>&nbsp;<span class="num" id="6643241">0</span><span class="op" id="6643242">,</span>&nbsp;<span class="num" id="6643244">0</span><span class="op" id="6643245">,</span>&nbsp;<span class="num" id="6643247">0</span><span class="op" id="6643248">,</span>&nbsp;<span class="num" id="6643250">0</span><span class="op" id="6643251">,</span>&nbsp;<span class="num" id="6643253">0</span><span class="op" id="6643254">,</span>&nbsp;<span class="num" id="6643256">0</span><span class="op" id="6643257">,</span>&nbsp;<span class="num" id="6643259">0</span><span class="op" id="6643260">,</span>&nbsp;<span class="num" id="6643262">0</span><span class="op" id="6643263">,</span>&nbsp;<span class="num" id="6643265">0</span><span class="op" id="6643266">,</span>&nbsp;<span class="num" id="6643268">0</span><span class="op" id="6643269">,</span>&nbsp;<span class="num" id="6643271">0</span><span class="op" id="6643272">,</span>&nbsp;<span class="num" id="6643274">0</span><span class="op" id="6643275">,</span>&nbsp;<span class="num" id="6643277">0</span><span class="op" id="6643278">,</span>&nbsp;<span class="num" id="6643280">0</span><span class="op" id="6643281">}</span><span class="op" id="6643282">,</span>&nbsp;<span class="builtintype" id="6643284">false</span><span class="op" id="6643289">}</span><span class="op" id="6643290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643293">{</span><span class="ident" id="6643294">IP</span><span class="op" id="6643296">.</span><span class="ident" id="6643297">IsLinkLocalUnicast</span><span class="op" id="6643315">,</span>&nbsp;<span class="ident" id="6643317">IPv4</span><span class="op" id="6643321">(</span><span class="num" id="6643322">169</span><span class="op" id="6643325">,</span>&nbsp;<span class="num" id="6643327">254</span><span class="op" id="6643330">,</span>&nbsp;<span class="num" id="6643332">0</span><span class="op" id="6643333">,</span>&nbsp;<span class="num" id="6643335">0</span><span class="op" id="6643336">)</span><span class="op" id="6643337">,</span>&nbsp;<span class="builtintype" id="6643339">true</span><span class="op" id="6643343">}</span><span class="op" id="6643344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643347">{</span><span class="ident" id="6643348">IP</span><span class="op" id="6643350">.</span><span class="ident" id="6643351">IsLinkLocalUnicast</span><span class="op" id="6643369">,</span>&nbsp;<span class="ident" id="6643371">IPv4</span><span class="op" id="6643375">(</span><span class="num" id="6643376">169</span><span class="op" id="6643379">,</span>&nbsp;<span class="num" id="6643381">255</span><span class="op" id="6643384">,</span>&nbsp;<span class="num" id="6643386">0</span><span class="op" id="6643387">,</span>&nbsp;<span class="num" id="6643389">0</span><span class="op" id="6643390">)</span><span class="op" id="6643391">,</span>&nbsp;<span class="builtintype" id="6643393">false</span><span class="op" id="6643398">}</span><span class="op" id="6643399">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643402">{</span><span class="ident" id="6643403">IP</span><span class="op" id="6643405">.</span><span class="ident" id="6643406">IsLinkLocalUnicast</span><span class="op" id="6643424">,</span>&nbsp;<span class="ident" id="6643426">IP</span><span class="op" id="6643428">{</span><span class="num" id="6643429">0xfe</span><span class="op" id="6643433">,</span>&nbsp;<span class="num" id="6643435">0x80</span><span class="op" id="6643439">,</span>&nbsp;<span class="num" id="6643441">0</span><span class="op" id="6643442">,</span>&nbsp;<span class="num" id="6643444">0</span><span class="op" id="6643445">,</span>&nbsp;<span class="num" id="6643447">0</span><span class="op" id="6643448">,</span>&nbsp;<span class="num" id="6643450">0</span><span class="op" id="6643451">,</span>&nbsp;<span class="num" id="6643453">0</span><span class="op" id="6643454">,</span>&nbsp;<span class="num" id="6643456">0</span><span class="op" id="6643457">,</span>&nbsp;<span class="num" id="6643459">0</span><span class="op" id="6643460">,</span>&nbsp;<span class="num" id="6643462">0</span><span class="op" id="6643463">,</span>&nbsp;<span class="num" id="6643465">0</span><span class="op" id="6643466">,</span>&nbsp;<span class="num" id="6643468">0</span><span class="op" id="6643469">,</span>&nbsp;<span class="num" id="6643471">0</span><span class="op" id="6643472">,</span>&nbsp;<span class="num" id="6643474">0</span><span class="op" id="6643475">,</span>&nbsp;<span class="num" id="6643477">0</span><span class="op" id="6643478">,</span>&nbsp;<span class="num" id="6643480">0</span><span class="op" id="6643481">}</span><span class="op" id="6643482">,</span>&nbsp;<span class="builtintype" id="6643484">true</span><span class="op" id="6643488">}</span><span class="op" id="6643489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643492">{</span><span class="ident" id="6643493">IP</span><span class="op" id="6643495">.</span><span class="ident" id="6643496">IsLinkLocalUnicast</span><span class="op" id="6643514">,</span>&nbsp;<span class="ident" id="6643516">IP</span><span class="op" id="6643518">{</span><span class="num" id="6643519">0xfe</span><span class="op" id="6643523">,</span>&nbsp;<span class="num" id="6643525">0xc0</span><span class="op" id="6643529">,</span>&nbsp;<span class="num" id="6643531">0</span><span class="op" id="6643532">,</span>&nbsp;<span class="num" id="6643534">0</span><span class="op" id="6643535">,</span>&nbsp;<span class="num" id="6643537">0</span><span class="op" id="6643538">,</span>&nbsp;<span class="num" id="6643540">0</span><span class="op" id="6643541">,</span>&nbsp;<span class="num" id="6643543">0</span><span class="op" id="6643544">,</span>&nbsp;<span class="num" id="6643546">0</span><span class="op" id="6643547">,</span>&nbsp;<span class="num" id="6643549">0</span><span class="op" id="6643550">,</span>&nbsp;<span class="num" id="6643552">0</span><span class="op" id="6643553">,</span>&nbsp;<span class="num" id="6643555">0</span><span class="op" id="6643556">,</span>&nbsp;<span class="num" id="6643558">0</span><span class="op" id="6643559">,</span>&nbsp;<span class="num" id="6643561">0</span><span class="op" id="6643562">,</span>&nbsp;<span class="num" id="6643564">0</span><span class="op" id="6643565">,</span>&nbsp;<span class="num" id="6643567">0</span><span class="op" id="6643568">,</span>&nbsp;<span class="num" id="6643570">0</span><span class="op" id="6643571">}</span><span class="op" id="6643572">,</span>&nbsp;<span class="builtintype" id="6643574">false</span><span class="op" id="6643579">}</span><span class="op" id="6643580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643583">{</span><span class="ident" id="6643584">IP</span><span class="op" id="6643586">.</span><span class="ident" id="6643587">IsGlobalUnicast</span><span class="op" id="6643602">,</span>&nbsp;<span class="ident" id="6643604">IPv4</span><span class="op" id="6643608">(</span><span class="num" id="6643609">240</span><span class="op" id="6643612">,</span>&nbsp;<span class="num" id="6643614">0</span><span class="op" id="6643615">,</span>&nbsp;<span class="num" id="6643617">0</span><span class="op" id="6643618">,</span>&nbsp;<span class="num" id="6643620">0</span><span class="op" id="6643621">)</span><span class="op" id="6643622">,</span>&nbsp;<span class="builtintype" id="6643624">true</span><span class="op" id="6643628">}</span><span class="op" id="6643629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643632">{</span><span class="ident" id="6643633">IP</span><span class="op" id="6643635">.</span><span class="ident" id="6643636">IsGlobalUnicast</span><span class="op" id="6643651">,</span>&nbsp;<span class="ident" id="6643653">IPv4</span><span class="op" id="6643657">(</span><span class="num" id="6643658">232</span><span class="op" id="6643661">,</span>&nbsp;<span class="num" id="6643663">0</span><span class="op" id="6643664">,</span>&nbsp;<span class="num" id="6643666">0</span><span class="op" id="6643667">,</span>&nbsp;<span class="num" id="6643669">0</span><span class="op" id="6643670">)</span><span class="op" id="6643671">,</span>&nbsp;<span class="builtintype" id="6643673">false</span><span class="op" id="6643678">}</span><span class="op" id="6643679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643682">{</span><span class="ident" id="6643683">IP</span><span class="op" id="6643685">.</span><span class="ident" id="6643686">IsGlobalUnicast</span><span class="op" id="6643701">,</span>&nbsp;<span class="ident" id="6643703">IPv4</span><span class="op" id="6643707">(</span><span class="num" id="6643708">169</span><span class="op" id="6643711">,</span>&nbsp;<span class="num" id="6643713">254</span><span class="op" id="6643716">,</span>&nbsp;<span class="num" id="6643718">0</span><span class="op" id="6643719">,</span>&nbsp;<span class="num" id="6643721">0</span><span class="op" id="6643722">)</span><span class="op" id="6643723">,</span>&nbsp;<span class="builtintype" id="6643725">false</span><span class="op" id="6643730">}</span><span class="op" id="6643731">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643734">{</span><span class="ident" id="6643735">IP</span><span class="op" id="6643737">.</span><span class="ident" id="6643738">IsGlobalUnicast</span><span class="op" id="6643753">,</span>&nbsp;<span class="ident" id="6643755">IP</span><span class="op" id="6643757">{</span><span class="num" id="6643758">0x20</span><span class="op" id="6643762">,</span>&nbsp;<span class="num" id="6643764">0x1</span><span class="op" id="6643767">,</span>&nbsp;<span class="num" id="6643769">0xd</span><span class="op" id="6643772">,</span>&nbsp;<span class="num" id="6643774">0xb8</span><span class="op" id="6643778">,</span>&nbsp;<span class="num" id="6643780">0</span><span class="op" id="6643781">,</span>&nbsp;<span class="num" id="6643783">0</span><span class="op" id="6643784">,</span>&nbsp;<span class="num" id="6643786">0</span><span class="op" id="6643787">,</span>&nbsp;<span class="num" id="6643789">0</span><span class="op" id="6643790">,</span>&nbsp;<span class="num" id="6643792">0</span><span class="op" id="6643793">,</span>&nbsp;<span class="num" id="6643795">0</span><span class="op" id="6643796">,</span>&nbsp;<span class="num" id="6643798">0x1</span><span class="op" id="6643801">,</span>&nbsp;<span class="num" id="6643803">0x23</span><span class="op" id="6643807">,</span>&nbsp;<span class="num" id="6643809">0</span><span class="op" id="6643810">,</span>&nbsp;<span class="num" id="6643812">0x12</span><span class="op" id="6643816">,</span>&nbsp;<span class="num" id="6643818">0</span><span class="op" id="6643819">,</span>&nbsp;<span class="num" id="6643821">0x1</span><span class="op" id="6643824">}</span><span class="op" id="6643825">,</span>&nbsp;<span class="builtintype" id="6643827">true</span><span class="op" id="6643831">}</span><span class="op" id="6643832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643835">{</span><span class="ident" id="6643836">IP</span><span class="op" id="6643838">.</span><span class="ident" id="6643839">IsGlobalUnicast</span><span class="op" id="6643854">,</span>&nbsp;<span class="ident" id="6643856">IP</span><span class="op" id="6643858">{</span><span class="num" id="6643859">0xfe</span><span class="op" id="6643863">,</span>&nbsp;<span class="num" id="6643865">0x80</span><span class="op" id="6643869">,</span>&nbsp;<span class="num" id="6643871">0</span><span class="op" id="6643872">,</span>&nbsp;<span class="num" id="6643874">0</span><span class="op" id="6643875">,</span>&nbsp;<span class="num" id="6643877">0</span><span class="op" id="6643878">,</span>&nbsp;<span class="num" id="6643880">0</span><span class="op" id="6643881">,</span>&nbsp;<span class="num" id="6643883">0</span><span class="op" id="6643884">,</span>&nbsp;<span class="num" id="6643886">0</span><span class="op" id="6643887">,</span>&nbsp;<span class="num" id="6643889">0</span><span class="op" id="6643890">,</span>&nbsp;<span class="num" id="6643892">0</span><span class="op" id="6643893">,</span>&nbsp;<span class="num" id="6643895">0</span><span class="op" id="6643896">,</span>&nbsp;<span class="num" id="6643898">0</span><span class="op" id="6643899">,</span>&nbsp;<span class="num" id="6643901">0</span><span class="op" id="6643902">,</span>&nbsp;<span class="num" id="6643904">0</span><span class="op" id="6643905">,</span>&nbsp;<span class="num" id="6643907">0</span><span class="op" id="6643908">,</span>&nbsp;<span class="num" id="6643910">0</span><span class="op" id="6643911">}</span><span class="op" id="6643912">,</span>&nbsp;<span class="builtintype" id="6643914">false</span><span class="op" id="6643919">}</span><span class="op" id="6643920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643923">{</span><span class="ident" id="6643924">IP</span><span class="op" id="6643926">.</span><span class="ident" id="6643927">IsGlobalUnicast</span><span class="op" id="6643942">,</span>&nbsp;<span class="ident" id="6643944">IP</span><span class="op" id="6643946">{</span><span class="num" id="6643947">0xff</span><span class="op" id="6643951">,</span>&nbsp;<span class="num" id="6643953">0x05</span><span class="op" id="6643957">,</span>&nbsp;<span class="num" id="6643959">0</span><span class="op" id="6643960">,</span>&nbsp;<span class="num" id="6643962">0</span><span class="op" id="6643963">,</span>&nbsp;<span class="num" id="6643965">0</span><span class="op" id="6643966">,</span>&nbsp;<span class="num" id="6643968">0</span><span class="op" id="6643969">,</span>&nbsp;<span class="num" id="6643971">0</span><span class="op" id="6643972">,</span>&nbsp;<span class="num" id="6643974">0</span><span class="op" id="6643975">,</span>&nbsp;<span class="num" id="6643977">0</span><span class="op" id="6643978">,</span>&nbsp;<span class="num" id="6643980">0</span><span class="op" id="6643981">,</span>&nbsp;<span class="num" id="6643983">0</span><span class="op" id="6643984">,</span>&nbsp;<span class="num" id="6643986">0</span><span class="op" id="6643987">,</span>&nbsp;<span class="num" id="6643989">0</span><span class="op" id="6643990">,</span>&nbsp;<span class="num" id="6643992">0</span><span class="op" id="6643993">,</span>&nbsp;<span class="num" id="6643995">0</span><span class="op" id="6643996">,</span>&nbsp;<span class="num" id="6643998">0</span><span class="op" id="6643999">}</span><span class="op" id="6644000">,</span>&nbsp;<span class="builtintype" id="6644002">false</span><span class="op" id="6644007">}</span><span class="op" id="6644008">,</span><br>
<span class="lineno"></span><span class="op" id="6644010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6644013">func</span>&nbsp;<span class="ident" id="6644018">name</span><span class="op" id="6644022">(</span><span class="ident" id="6644023">f</span>&nbsp;<span class="keyword" id="6644025">interface</span><span class="op" id="6644034">{</span><span class="op" id="6644035">}</span><span class="op" id="6644036">)</span>&nbsp;<span class="builtintype" id="6644038">string</span>&nbsp;<span class="op" id="6644045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6644048">return</span>&nbsp;<span class="ident" id="6644055">runtime</span><span class="op" id="6644062">.</span><span class="ident" id="6644063">FuncForPC</span><span class="op" id="6644072">(</span><span class="ident" id="6644073">reflect</span><span class="op" id="6644080">.</span><span class="ident" id="6644081">ValueOf</span><span class="op" id="6644088">(</span><span class="ident" id="6644089">f</span><span class="op" id="6644090">)</span><span class="op" id="6644091">.</span><span class="ident" id="6644092">Pointer</span><span class="op" id="6644099">(</span><span class="op" id="6644100">)</span><span class="op" id="6644101">)</span><span class="op" id="6644102">.</span><span class="ident" id="6644103">Name</span><span class="op" id="6644107">(</span><span class="op" id="6644108">)</span><br>
<span class="lineno"></span><span class="op" id="6644110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6644113">func</span>&nbsp;<span class="ident" id="6644118">TestIPAddrScope</span><span class="op" id="6644133">(</span><span class="ident" id="6644134">t</span>&nbsp;<span class="op" id="6644136">*</span><span class="ident" id="6644137">testing</span><span class="op" id="6644144">.</span><span class="ident" id="6644145">T</span><span class="op" id="6644146">)</span>&nbsp;<span class="op" id="6644148">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6644151">for</span>&nbsp;<span class="ident" id="6644155">_</span><span class="op" id="6644156">,</span>&nbsp;<span class="ident" id="6644158">tt</span>&nbsp;<span class="op" id="6644161">:=</span>&nbsp;<span class="keyword" id="6644164">range</span>&nbsp;<span class="ident" id="6644170">ipAddrScopeTests</span>&nbsp;<span class="op" id="6644187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6644191">if</span>&nbsp;<span class="ident" id="6644194">ok</span>&nbsp;<span class="op" id="6644197">:=</span>&nbsp;<span class="ident" id="6644200">tt</span><span class="op" id="6644202">.</span><span class="ident" id="6644203">scope</span><span class="op" id="6644208">(</span><span class="ident" id="6644209">tt</span><span class="op" id="6644211">.</span><span class="ident" id="6644212">in</span><span class="op" id="6644214">)</span><span class="op" id="6644215">;</span>&nbsp;<span class="ident" id="6644217">ok</span>&nbsp;<span class="op" id="6644220">!=</span>&nbsp;<span class="ident" id="6644223">tt</span><span class="op" id="6644225">.</span><span class="ident" id="6644226">ok</span>&nbsp;<span class="op" id="6644229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6644234">t</span><span class="op" id="6644235">.</span><span class="ident" id="6644236">Errorf</span><span class="op" id="6644242">(</span><span class="string" id="6644243">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6644265">,</span>&nbsp;<span class="ident" id="6644267">name</span><span class="op" id="6644271">(</span><span class="ident" id="6644272">tt</span><span class="op" id="6644274">.</span><span class="ident" id="6644275">scope</span><span class="op" id="6644280">)</span><span class="op" id="6644281">,</span>&nbsp;<span class="ident" id="6644283">tt</span><span class="op" id="6644285">.</span><span class="ident" id="6644286">in</span><span class="op" id="6644288">,</span>&nbsp;<span class="ident" id="6644290">ok</span><span class="op" id="6644292">,</span>&nbsp;<span class="ident" id="6644294">tt</span><span class="op" id="6644296">.</span><span class="ident" id="6644297">ok</span><span class="op" id="6644299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6644306">}</span><br>
<span class="lineno">465</span><span class="op" id="6644308">}</span>
</div>
</body>
</html>
