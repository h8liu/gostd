<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html" class="current">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7561224">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7561279">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7561333">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7561384">package</span>&nbsp;<span class="ident" id="7561392">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7561399">import</span>&nbsp;<span class="op" id="7561406">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561409">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561417">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561424">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561435">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7561445">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7561448">var</span>&nbsp;<span class="ident" id="7561452">debug</span>&nbsp;<span class="op" id="7561458">=</span>&nbsp;<span class="ident" id="7561460">flag</span><span class="op" id="7561464">.</span><span class="ident" id="7561465">Bool</span><span class="op" id="7561469">(</span><span class="string" id="7561470">&#34;debug&#34;</span><span class="op" id="7561477">,</span>&nbsp;<span class="builtintype" id="7561479">false</span><span class="op" id="7561484">,</span>&nbsp;<span class="string" id="7561486">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="7561530">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7561533">type</span>&nbsp;<span class="ident" id="7561538">numberTest</span>&nbsp;<span class="keyword" id="7561549">struct</span>&nbsp;<span class="op" id="7561556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561559">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561569">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561577">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561587">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561593">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561603">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561609">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561619">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561625">isComplex</span>&nbsp;<span class="builtintype" id="7561635">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561641">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561648">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561656">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7561665">complex128</span><br>
<span class="lineno"></span><span class="op" id="7561676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7561679">var</span>&nbsp;<span class="ident" id="7561683">numberTests</span>&nbsp;<span class="op" id="7561695">=</span>&nbsp;<span class="op" id="7561697">[</span><span class="op" id="7561698">]</span><span class="ident" id="7561699">numberTest</span><span class="op" id="7561709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7561712">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7561723">{</span><span class="string" id="7561724">&#34;0&#34;</span><span class="op" id="7561727">,</span>&nbsp;<span class="builtintype" id="7561729">true</span><span class="op" id="7561733">,</span>&nbsp;<span class="builtintype" id="7561735">true</span><span class="op" id="7561739">,</span>&nbsp;<span class="builtintype" id="7561741">true</span><span class="op" id="7561745">,</span>&nbsp;<span class="builtintype" id="7561747">false</span><span class="op" id="7561752">,</span>&nbsp;<span class="num" id="7561754">0</span><span class="op" id="7561755">,</span>&nbsp;<span class="num" id="7561757">0</span><span class="op" id="7561758">,</span>&nbsp;<span class="num" id="7561760">0</span><span class="op" id="7561761">,</span>&nbsp;<span class="num" id="7561763">0</span><span class="op" id="7561764">}</span><span class="op" id="7561765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7561768">{</span><span class="string" id="7561769">&#34;-0&#34;</span><span class="op" id="7561773">,</span>&nbsp;<span class="builtintype" id="7561775">true</span><span class="op" id="7561779">,</span>&nbsp;<span class="builtintype" id="7561781">true</span><span class="op" id="7561785">,</span>&nbsp;<span class="builtintype" id="7561787">true</span><span class="op" id="7561791">,</span>&nbsp;<span class="builtintype" id="7561793">false</span><span class="op" id="7561798">,</span>&nbsp;<span class="num" id="7561800">0</span><span class="op" id="7561801">,</span>&nbsp;<span class="num" id="7561803">0</span><span class="op" id="7561804">,</span>&nbsp;<span class="num" id="7561806">0</span><span class="op" id="7561807">,</span>&nbsp;<span class="num" id="7561809">0</span><span class="op" id="7561810">}</span><span class="op" id="7561811">,</span>&nbsp;<span class="comment" id="7561813">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7561842">{</span><span class="string" id="7561843">&#34;73&#34;</span><span class="op" id="7561847">,</span>&nbsp;<span class="builtintype" id="7561849">true</span><span class="op" id="7561853">,</span>&nbsp;<span class="builtintype" id="7561855">true</span><span class="op" id="7561859">,</span>&nbsp;<span class="builtintype" id="7561861">true</span><span class="op" id="7561865">,</span>&nbsp;<span class="builtintype" id="7561867">false</span><span class="op" id="7561872">,</span>&nbsp;<span class="num" id="7561874">73</span><span class="op" id="7561876">,</span>&nbsp;<span class="num" id="7561878">73</span><span class="op" id="7561880">,</span>&nbsp;<span class="num" id="7561882">73</span><span class="op" id="7561884">,</span>&nbsp;<span class="num" id="7561886">0</span><span class="op" id="7561887">}</span><span class="op" id="7561888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7561891">{</span><span class="string" id="7561892">&#34;073&#34;</span><span class="op" id="7561897">,</span>&nbsp;<span class="builtintype" id="7561899">true</span><span class="op" id="7561903">,</span>&nbsp;<span class="builtintype" id="7561905">true</span><span class="op" id="7561909">,</span>&nbsp;<span class="builtintype" id="7561911">true</span><span class="op" id="7561915">,</span>&nbsp;<span class="builtintype" id="7561917">false</span><span class="op" id="7561922">,</span>&nbsp;<span class="num" id="7561924">073</span><span class="op" id="7561927">,</span>&nbsp;<span class="num" id="7561929">073</span><span class="op" id="7561932">,</span>&nbsp;<span class="num" id="7561934">073</span><span class="op" id="7561937">,</span>&nbsp;<span class="num" id="7561939">0</span><span class="op" id="7561940">}</span><span class="op" id="7561941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7561944">{</span><span class="string" id="7561945">&#34;0x73&#34;</span><span class="op" id="7561951">,</span>&nbsp;<span class="builtintype" id="7561953">true</span><span class="op" id="7561957">,</span>&nbsp;<span class="builtintype" id="7561959">true</span><span class="op" id="7561963">,</span>&nbsp;<span class="builtintype" id="7561965">true</span><span class="op" id="7561969">,</span>&nbsp;<span class="builtintype" id="7561971">false</span><span class="op" id="7561976">,</span>&nbsp;<span class="num" id="7561978">0x73</span><span class="op" id="7561982">,</span>&nbsp;<span class="num" id="7561984">0x73</span><span class="op" id="7561988">,</span>&nbsp;<span class="num" id="7561990">0x73</span><span class="op" id="7561994">,</span>&nbsp;<span class="num" id="7561996">0</span><span class="op" id="7561997">}</span><span class="op" id="7561998">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562001">{</span><span class="string" id="7562002">&#34;-73&#34;</span><span class="op" id="7562007">,</span>&nbsp;<span class="builtintype" id="7562009">true</span><span class="op" id="7562013">,</span>&nbsp;<span class="builtintype" id="7562015">false</span><span class="op" id="7562020">,</span>&nbsp;<span class="builtintype" id="7562022">true</span><span class="op" id="7562026">,</span>&nbsp;<span class="builtintype" id="7562028">false</span><span class="op" id="7562033">,</span>&nbsp;<span class="op" id="7562035">-</span><span class="num" id="7562036">73</span><span class="op" id="7562038">,</span>&nbsp;<span class="num" id="7562040">0</span><span class="op" id="7562041">,</span>&nbsp;<span class="op" id="7562043">-</span><span class="num" id="7562044">73</span><span class="op" id="7562046">,</span>&nbsp;<span class="num" id="7562048">0</span><span class="op" id="7562049">}</span><span class="op" id="7562050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562053">{</span><span class="string" id="7562054">&#34;+73&#34;</span><span class="op" id="7562059">,</span>&nbsp;<span class="builtintype" id="7562061">true</span><span class="op" id="7562065">,</span>&nbsp;<span class="builtintype" id="7562067">false</span><span class="op" id="7562072">,</span>&nbsp;<span class="builtintype" id="7562074">true</span><span class="op" id="7562078">,</span>&nbsp;<span class="builtintype" id="7562080">false</span><span class="op" id="7562085">,</span>&nbsp;<span class="num" id="7562087">73</span><span class="op" id="7562089">,</span>&nbsp;<span class="num" id="7562091">0</span><span class="op" id="7562092">,</span>&nbsp;<span class="num" id="7562094">73</span><span class="op" id="7562096">,</span>&nbsp;<span class="num" id="7562098">0</span><span class="op" id="7562099">}</span><span class="op" id="7562100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562103">{</span><span class="string" id="7562104">&#34;100&#34;</span><span class="op" id="7562109">,</span>&nbsp;<span class="builtintype" id="7562111">true</span><span class="op" id="7562115">,</span>&nbsp;<span class="builtintype" id="7562117">true</span><span class="op" id="7562121">,</span>&nbsp;<span class="builtintype" id="7562123">true</span><span class="op" id="7562127">,</span>&nbsp;<span class="builtintype" id="7562129">false</span><span class="op" id="7562134">,</span>&nbsp;<span class="num" id="7562136">100</span><span class="op" id="7562139">,</span>&nbsp;<span class="num" id="7562141">100</span><span class="op" id="7562144">,</span>&nbsp;<span class="num" id="7562146">100</span><span class="op" id="7562149">,</span>&nbsp;<span class="num" id="7562151">0</span><span class="op" id="7562152">}</span><span class="op" id="7562153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562156">{</span><span class="string" id="7562157">&#34;1e9&#34;</span><span class="op" id="7562162">,</span>&nbsp;<span class="builtintype" id="7562164">true</span><span class="op" id="7562168">,</span>&nbsp;<span class="builtintype" id="7562170">true</span><span class="op" id="7562174">,</span>&nbsp;<span class="builtintype" id="7562176">true</span><span class="op" id="7562180">,</span>&nbsp;<span class="builtintype" id="7562182">false</span><span class="op" id="7562187">,</span>&nbsp;<span class="num" id="7562189">1e9</span><span class="op" id="7562192">,</span>&nbsp;<span class="num" id="7562194">1e9</span><span class="op" id="7562197">,</span>&nbsp;<span class="num" id="7562199">1e9</span><span class="op" id="7562202">,</span>&nbsp;<span class="num" id="7562204">0</span><span class="op" id="7562205">}</span><span class="op" id="7562206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562209">{</span><span class="string" id="7562210">&#34;-1e9&#34;</span><span class="op" id="7562216">,</span>&nbsp;<span class="builtintype" id="7562218">true</span><span class="op" id="7562222">,</span>&nbsp;<span class="builtintype" id="7562224">false</span><span class="op" id="7562229">,</span>&nbsp;<span class="builtintype" id="7562231">true</span><span class="op" id="7562235">,</span>&nbsp;<span class="builtintype" id="7562237">false</span><span class="op" id="7562242">,</span>&nbsp;<span class="op" id="7562244">-</span><span class="num" id="7562245">1e9</span><span class="op" id="7562248">,</span>&nbsp;<span class="num" id="7562250">0</span><span class="op" id="7562251">,</span>&nbsp;<span class="op" id="7562253">-</span><span class="num" id="7562254">1e9</span><span class="op" id="7562257">,</span>&nbsp;<span class="num" id="7562259">0</span><span class="op" id="7562260">}</span><span class="op" id="7562261">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562264">{</span><span class="string" id="7562265">&#34;-1.2&#34;</span><span class="op" id="7562271">,</span>&nbsp;<span class="builtintype" id="7562273">false</span><span class="op" id="7562278">,</span>&nbsp;<span class="builtintype" id="7562280">false</span><span class="op" id="7562285">,</span>&nbsp;<span class="builtintype" id="7562287">true</span><span class="op" id="7562291">,</span>&nbsp;<span class="builtintype" id="7562293">false</span><span class="op" id="7562298">,</span>&nbsp;<span class="num" id="7562300">0</span><span class="op" id="7562301">,</span>&nbsp;<span class="num" id="7562303">0</span><span class="op" id="7562304">,</span>&nbsp;<span class="op" id="7562306">-</span><span class="num" id="7562307">1.2</span><span class="op" id="7562310">,</span>&nbsp;<span class="num" id="7562312">0</span><span class="op" id="7562313">}</span><span class="op" id="7562314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562317">{</span><span class="string" id="7562318">&#34;1e19&#34;</span><span class="op" id="7562324">,</span>&nbsp;<span class="builtintype" id="7562326">false</span><span class="op" id="7562331">,</span>&nbsp;<span class="builtintype" id="7562333">true</span><span class="op" id="7562337">,</span>&nbsp;<span class="builtintype" id="7562339">true</span><span class="op" id="7562343">,</span>&nbsp;<span class="builtintype" id="7562345">false</span><span class="op" id="7562350">,</span>&nbsp;<span class="num" id="7562352">0</span><span class="op" id="7562353">,</span>&nbsp;<span class="num" id="7562355">1e19</span><span class="op" id="7562359">,</span>&nbsp;<span class="num" id="7562361">1e19</span><span class="op" id="7562365">,</span>&nbsp;<span class="num" id="7562367">0</span><span class="op" id="7562368">}</span><span class="op" id="7562369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562372">{</span><span class="string" id="7562373">&#34;-1e19&#34;</span><span class="op" id="7562380">,</span>&nbsp;<span class="builtintype" id="7562382">false</span><span class="op" id="7562387">,</span>&nbsp;<span class="builtintype" id="7562389">false</span><span class="op" id="7562394">,</span>&nbsp;<span class="builtintype" id="7562396">true</span><span class="op" id="7562400">,</span>&nbsp;<span class="builtintype" id="7562402">false</span><span class="op" id="7562407">,</span>&nbsp;<span class="num" id="7562409">0</span><span class="op" id="7562410">,</span>&nbsp;<span class="num" id="7562412">0</span><span class="op" id="7562413">,</span>&nbsp;<span class="op" id="7562415">-</span><span class="num" id="7562416">1e19</span><span class="op" id="7562420">,</span>&nbsp;<span class="num" id="7562422">0</span><span class="op" id="7562423">}</span><span class="op" id="7562424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562427">{</span><span class="string" id="7562428">&#34;4i&#34;</span><span class="op" id="7562432">,</span>&nbsp;<span class="builtintype" id="7562434">false</span><span class="op" id="7562439">,</span>&nbsp;<span class="builtintype" id="7562441">false</span><span class="op" id="7562446">,</span>&nbsp;<span class="builtintype" id="7562448">false</span><span class="op" id="7562453">,</span>&nbsp;<span class="builtintype" id="7562455">true</span><span class="op" id="7562459">,</span>&nbsp;<span class="num" id="7562461">0</span><span class="op" id="7562462">,</span>&nbsp;<span class="num" id="7562464">0</span><span class="op" id="7562465">,</span>&nbsp;<span class="num" id="7562467">0</span><span class="op" id="7562468">,</span>&nbsp;<span class="num" id="7562470">4i</span><span class="op" id="7562472">}</span><span class="op" id="7562473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562476">{</span><span class="string" id="7562477">&#34;-1.2+4.2i&#34;</span><span class="op" id="7562488">,</span>&nbsp;<span class="builtintype" id="7562490">false</span><span class="op" id="7562495">,</span>&nbsp;<span class="builtintype" id="7562497">false</span><span class="op" id="7562502">,</span>&nbsp;<span class="builtintype" id="7562504">false</span><span class="op" id="7562509">,</span>&nbsp;<span class="builtintype" id="7562511">true</span><span class="op" id="7562515">,</span>&nbsp;<span class="num" id="7562517">0</span><span class="op" id="7562518">,</span>&nbsp;<span class="num" id="7562520">0</span><span class="op" id="7562521">,</span>&nbsp;<span class="num" id="7562523">0</span><span class="op" id="7562524">,</span>&nbsp;<span class="op" id="7562526">-</span><span class="num" id="7562527">1.2</span>&nbsp;<span class="op" id="7562531">+</span>&nbsp;<span class="num" id="7562533">4.2i</span><span class="op" id="7562537">}</span><span class="op" id="7562538">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562541">{</span><span class="string" id="7562542">&#34;073i&#34;</span><span class="op" id="7562548">,</span>&nbsp;<span class="builtintype" id="7562550">false</span><span class="op" id="7562555">,</span>&nbsp;<span class="builtintype" id="7562557">false</span><span class="op" id="7562562">,</span>&nbsp;<span class="builtintype" id="7562564">false</span><span class="op" id="7562569">,</span>&nbsp;<span class="builtintype" id="7562571">true</span><span class="op" id="7562575">,</span>&nbsp;<span class="num" id="7562577">0</span><span class="op" id="7562578">,</span>&nbsp;<span class="num" id="7562580">0</span><span class="op" id="7562581">,</span>&nbsp;<span class="num" id="7562583">0</span><span class="op" id="7562584">,</span>&nbsp;<span class="num" id="7562586">73i</span><span class="op" id="7562589">}</span><span class="op" id="7562590">,</span>&nbsp;<span class="comment" id="7562592">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7562607">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562666">{</span><span class="string" id="7562667">&#34;0i&#34;</span><span class="op" id="7562671">,</span>&nbsp;<span class="builtintype" id="7562673">true</span><span class="op" id="7562677">,</span>&nbsp;<span class="builtintype" id="7562679">true</span><span class="op" id="7562683">,</span>&nbsp;<span class="builtintype" id="7562685">true</span><span class="op" id="7562689">,</span>&nbsp;<span class="builtintype" id="7562691">true</span><span class="op" id="7562695">,</span>&nbsp;<span class="num" id="7562697">0</span><span class="op" id="7562698">,</span>&nbsp;<span class="num" id="7562700">0</span><span class="op" id="7562701">,</span>&nbsp;<span class="num" id="7562703">0</span><span class="op" id="7562704">,</span>&nbsp;<span class="num" id="7562706">0</span><span class="op" id="7562707">}</span><span class="op" id="7562708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562711">{</span><span class="string" id="7562712">&#34;-1.2+0i&#34;</span><span class="op" id="7562721">,</span>&nbsp;<span class="builtintype" id="7562723">false</span><span class="op" id="7562728">,</span>&nbsp;<span class="builtintype" id="7562730">false</span><span class="op" id="7562735">,</span>&nbsp;<span class="builtintype" id="7562737">true</span><span class="op" id="7562741">,</span>&nbsp;<span class="builtintype" id="7562743">true</span><span class="op" id="7562747">,</span>&nbsp;<span class="num" id="7562749">0</span><span class="op" id="7562750">,</span>&nbsp;<span class="num" id="7562752">0</span><span class="op" id="7562753">,</span>&nbsp;<span class="op" id="7562755">-</span><span class="num" id="7562756">1.2</span><span class="op" id="7562759">,</span>&nbsp;<span class="op" id="7562761">-</span><span class="num" id="7562762">1.2</span><span class="op" id="7562765">}</span><span class="op" id="7562766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562769">{</span><span class="string" id="7562770">&#34;-12+0i&#34;</span><span class="op" id="7562778">,</span>&nbsp;<span class="builtintype" id="7562780">true</span><span class="op" id="7562784">,</span>&nbsp;<span class="builtintype" id="7562786">false</span><span class="op" id="7562791">,</span>&nbsp;<span class="builtintype" id="7562793">true</span><span class="op" id="7562797">,</span>&nbsp;<span class="builtintype" id="7562799">true</span><span class="op" id="7562803">,</span>&nbsp;<span class="op" id="7562805">-</span><span class="num" id="7562806">12</span><span class="op" id="7562808">,</span>&nbsp;<span class="num" id="7562810">0</span><span class="op" id="7562811">,</span>&nbsp;<span class="op" id="7562813">-</span><span class="num" id="7562814">12</span><span class="op" id="7562816">,</span>&nbsp;<span class="op" id="7562818">-</span><span class="num" id="7562819">12</span><span class="op" id="7562821">}</span><span class="op" id="7562822">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562825">{</span><span class="string" id="7562826">&#34;13+0i&#34;</span><span class="op" id="7562833">,</span>&nbsp;<span class="builtintype" id="7562835">true</span><span class="op" id="7562839">,</span>&nbsp;<span class="builtintype" id="7562841">true</span><span class="op" id="7562845">,</span>&nbsp;<span class="builtintype" id="7562847">true</span><span class="op" id="7562851">,</span>&nbsp;<span class="builtintype" id="7562853">true</span><span class="op" id="7562857">,</span>&nbsp;<span class="num" id="7562859">13</span><span class="op" id="7562861">,</span>&nbsp;<span class="num" id="7562863">13</span><span class="op" id="7562865">,</span>&nbsp;<span class="num" id="7562867">13</span><span class="op" id="7562869">,</span>&nbsp;<span class="num" id="7562871">13</span><span class="op" id="7562873">}</span><span class="op" id="7562874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7562877">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562893">{</span><span class="string" id="7562894">&#34;0123&#34;</span><span class="op" id="7562900">,</span>&nbsp;<span class="builtintype" id="7562902">true</span><span class="op" id="7562906">,</span>&nbsp;<span class="builtintype" id="7562908">true</span><span class="op" id="7562912">,</span>&nbsp;<span class="builtintype" id="7562914">true</span><span class="op" id="7562918">,</span>&nbsp;<span class="builtintype" id="7562920">false</span><span class="op" id="7562925">,</span>&nbsp;<span class="num" id="7562927">0123</span><span class="op" id="7562931">,</span>&nbsp;<span class="num" id="7562933">0123</span><span class="op" id="7562937">,</span>&nbsp;<span class="num" id="7562939">0123</span><span class="op" id="7562943">,</span>&nbsp;<span class="num" id="7562945">0</span><span class="op" id="7562946">}</span><span class="op" id="7562947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562950">{</span><span class="string" id="7562951">&#34;-0x0&#34;</span><span class="op" id="7562957">,</span>&nbsp;<span class="builtintype" id="7562959">true</span><span class="op" id="7562963">,</span>&nbsp;<span class="builtintype" id="7562965">true</span><span class="op" id="7562969">,</span>&nbsp;<span class="builtintype" id="7562971">true</span><span class="op" id="7562975">,</span>&nbsp;<span class="builtintype" id="7562977">false</span><span class="op" id="7562982">,</span>&nbsp;<span class="num" id="7562984">0</span><span class="op" id="7562985">,</span>&nbsp;<span class="num" id="7562987">0</span><span class="op" id="7562988">,</span>&nbsp;<span class="num" id="7562990">0</span><span class="op" id="7562991">,</span>&nbsp;<span class="num" id="7562993">0</span><span class="op" id="7562994">}</span><span class="op" id="7562995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562998">{</span><span class="string" id="7562999">&#34;0xdeadbeef&#34;</span><span class="op" id="7563011">,</span>&nbsp;<span class="builtintype" id="7563013">true</span><span class="op" id="7563017">,</span>&nbsp;<span class="builtintype" id="7563019">true</span><span class="op" id="7563023">,</span>&nbsp;<span class="builtintype" id="7563025">true</span><span class="op" id="7563029">,</span>&nbsp;<span class="builtintype" id="7563031">false</span><span class="op" id="7563036">,</span>&nbsp;<span class="num" id="7563038">0xdeadbeef</span><span class="op" id="7563048">,</span>&nbsp;<span class="num" id="7563050">0xdeadbeef</span><span class="op" id="7563060">,</span>&nbsp;<span class="num" id="7563062">0xdeadbeef</span><span class="op" id="7563072">,</span>&nbsp;<span class="num" id="7563074">0</span><span class="op" id="7563075">}</span><span class="op" id="7563076">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7563079">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563103">{</span><span class="string" id="7563104">`&#39;a&#39;`</span><span class="op" id="7563109">,</span>&nbsp;<span class="builtintype" id="7563111">true</span><span class="op" id="7563115">,</span>&nbsp;<span class="builtintype" id="7563117">true</span><span class="op" id="7563121">,</span>&nbsp;<span class="builtintype" id="7563123">true</span><span class="op" id="7563127">,</span>&nbsp;<span class="builtintype" id="7563129">false</span><span class="op" id="7563134">,</span>&nbsp;<span class="string" id="7563136">&#39;a&#39;</span><span class="op" id="7563139">,</span>&nbsp;<span class="string" id="7563141">&#39;a&#39;</span><span class="op" id="7563144">,</span>&nbsp;<span class="string" id="7563146">&#39;a&#39;</span><span class="op" id="7563149">,</span>&nbsp;<span class="num" id="7563151">0</span><span class="op" id="7563152">}</span><span class="op" id="7563153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563156">{</span><span class="string" id="7563157">`&#39;\n&#39;`</span><span class="op" id="7563163">,</span>&nbsp;<span class="builtintype" id="7563165">true</span><span class="op" id="7563169">,</span>&nbsp;<span class="builtintype" id="7563171">true</span><span class="op" id="7563175">,</span>&nbsp;<span class="builtintype" id="7563177">true</span><span class="op" id="7563181">,</span>&nbsp;<span class="builtintype" id="7563183">false</span><span class="op" id="7563188">,</span>&nbsp;<span class="string" id="7563190">&#39;\n&#39;</span><span class="op" id="7563194">,</span>&nbsp;<span class="string" id="7563196">&#39;\n&#39;</span><span class="op" id="7563200">,</span>&nbsp;<span class="string" id="7563202">&#39;\n&#39;</span><span class="op" id="7563206">,</span>&nbsp;<span class="num" id="7563208">0</span><span class="op" id="7563209">}</span><span class="op" id="7563210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563213">{</span><span class="string" id="7563214">`&#39;\\&#39;`</span><span class="op" id="7563220">,</span>&nbsp;<span class="builtintype" id="7563222">true</span><span class="op" id="7563226">,</span>&nbsp;<span class="builtintype" id="7563228">true</span><span class="op" id="7563232">,</span>&nbsp;<span class="builtintype" id="7563234">true</span><span class="op" id="7563238">,</span>&nbsp;<span class="builtintype" id="7563240">false</span><span class="op" id="7563245">,</span>&nbsp;<span class="string" id="7563247">&#39;\\&#39;</span><span class="op" id="7563251">,</span>&nbsp;<span class="string" id="7563253">&#39;\\&#39;</span><span class="op" id="7563257">,</span>&nbsp;<span class="string" id="7563259">&#39;\\&#39;</span><span class="op" id="7563263">,</span>&nbsp;<span class="num" id="7563265">0</span><span class="op" id="7563266">}</span><span class="op" id="7563267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563270">{</span><span class="string" id="7563271">`&#39;\&#39;&#39;`</span><span class="op" id="7563277">,</span>&nbsp;<span class="builtintype" id="7563279">true</span><span class="op" id="7563283">,</span>&nbsp;<span class="builtintype" id="7563285">true</span><span class="op" id="7563289">,</span>&nbsp;<span class="builtintype" id="7563291">true</span><span class="op" id="7563295">,</span>&nbsp;<span class="builtintype" id="7563297">false</span><span class="op" id="7563302">,</span>&nbsp;<span class="string" id="7563304">&#39;\&#39;&#39;</span><span class="op" id="7563308">,</span>&nbsp;<span class="string" id="7563310">&#39;\&#39;&#39;</span><span class="op" id="7563314">,</span>&nbsp;<span class="string" id="7563316">&#39;\&#39;&#39;</span><span class="op" id="7563320">,</span>&nbsp;<span class="num" id="7563322">0</span><span class="op" id="7563323">}</span><span class="op" id="7563324">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563327">{</span><span class="string" id="7563328">`&#39;\xFF&#39;`</span><span class="op" id="7563336">,</span>&nbsp;<span class="builtintype" id="7563338">true</span><span class="op" id="7563342">,</span>&nbsp;<span class="builtintype" id="7563344">true</span><span class="op" id="7563348">,</span>&nbsp;<span class="builtintype" id="7563350">true</span><span class="op" id="7563354">,</span>&nbsp;<span class="builtintype" id="7563356">false</span><span class="op" id="7563361">,</span>&nbsp;<span class="num" id="7563363">0xFF</span><span class="op" id="7563367">,</span>&nbsp;<span class="num" id="7563369">0xFF</span><span class="op" id="7563373">,</span>&nbsp;<span class="num" id="7563375">0xFF</span><span class="op" id="7563379">,</span>&nbsp;<span class="num" id="7563381">0</span><span class="op" id="7563382">}</span><span class="op" id="7563383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563386">{</span><span class="string" id="7563387">`&#39;パ&#39;`</span><span class="op" id="7563394">,</span>&nbsp;<span class="builtintype" id="7563396">true</span><span class="op" id="7563400">,</span>&nbsp;<span class="builtintype" id="7563402">true</span><span class="op" id="7563406">,</span>&nbsp;<span class="builtintype" id="7563408">true</span><span class="op" id="7563412">,</span>&nbsp;<span class="builtintype" id="7563414">false</span><span class="op" id="7563419">,</span>&nbsp;<span class="num" id="7563421">0x30d1</span><span class="op" id="7563427">,</span>&nbsp;<span class="num" id="7563429">0x30d1</span><span class="op" id="7563435">,</span>&nbsp;<span class="num" id="7563437">0x30d1</span><span class="op" id="7563443">,</span>&nbsp;<span class="num" id="7563445">0</span><span class="op" id="7563446">}</span><span class="op" id="7563447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563450">{</span><span class="string" id="7563451">`&#39;\u30d1&#39;`</span><span class="op" id="7563461">,</span>&nbsp;<span class="builtintype" id="7563463">true</span><span class="op" id="7563467">,</span>&nbsp;<span class="builtintype" id="7563469">true</span><span class="op" id="7563473">,</span>&nbsp;<span class="builtintype" id="7563475">true</span><span class="op" id="7563479">,</span>&nbsp;<span class="builtintype" id="7563481">false</span><span class="op" id="7563486">,</span>&nbsp;<span class="num" id="7563488">0x30d1</span><span class="op" id="7563494">,</span>&nbsp;<span class="num" id="7563496">0x30d1</span><span class="op" id="7563502">,</span>&nbsp;<span class="num" id="7563504">0x30d1</span><span class="op" id="7563510">,</span>&nbsp;<span class="num" id="7563512">0</span><span class="op" id="7563513">}</span><span class="op" id="7563514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563517">{</span><span class="string" id="7563518">`&#39;\U000030d1&#39;`</span><span class="op" id="7563532">,</span>&nbsp;<span class="builtintype" id="7563534">true</span><span class="op" id="7563538">,</span>&nbsp;<span class="builtintype" id="7563540">true</span><span class="op" id="7563544">,</span>&nbsp;<span class="builtintype" id="7563546">true</span><span class="op" id="7563550">,</span>&nbsp;<span class="builtintype" id="7563552">false</span><span class="op" id="7563557">,</span>&nbsp;<span class="num" id="7563559">0x30d1</span><span class="op" id="7563565">,</span>&nbsp;<span class="num" id="7563567">0x30d1</span><span class="op" id="7563573">,</span>&nbsp;<span class="num" id="7563575">0x30d1</span><span class="op" id="7563581">,</span>&nbsp;<span class="num" id="7563583">0</span><span class="op" id="7563584">}</span><span class="op" id="7563585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7563588">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563611">{</span><span class="ident" id="7563612">text</span><span class="op" id="7563616">:</span>&nbsp;<span class="string" id="7563618">&#34;+-2&#34;</span><span class="op" id="7563623">}</span><span class="op" id="7563624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563627">{</span><span class="ident" id="7563628">text</span><span class="op" id="7563632">:</span>&nbsp;<span class="string" id="7563634">&#34;0x123.&#34;</span><span class="op" id="7563642">}</span><span class="op" id="7563643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563646">{</span><span class="ident" id="7563647">text</span><span class="op" id="7563651">:</span>&nbsp;<span class="string" id="7563653">&#34;1e.&#34;</span><span class="op" id="7563658">}</span><span class="op" id="7563659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563662">{</span><span class="ident" id="7563663">text</span><span class="op" id="7563667">:</span>&nbsp;<span class="string" id="7563669">&#34;0xi.&#34;</span><span class="op" id="7563675">}</span><span class="op" id="7563676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563679">{</span><span class="ident" id="7563680">text</span><span class="op" id="7563684">:</span>&nbsp;<span class="string" id="7563686">&#34;1+2.&#34;</span><span class="op" id="7563692">}</span><span class="op" id="7563693">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563696">{</span><span class="ident" id="7563697">text</span><span class="op" id="7563701">:</span>&nbsp;<span class="string" id="7563703">&#34;&#39;x&#34;</span><span class="op" id="7563707">}</span><span class="op" id="7563708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563711">{</span><span class="ident" id="7563712">text</span><span class="op" id="7563716">:</span>&nbsp;<span class="string" id="7563718">&#34;&#39;xx&#39;&#34;</span><span class="op" id="7563724">}</span><span class="op" id="7563725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7563728">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7563794">{</span><span class="string" id="7563795">&#34;0xef&#34;</span><span class="op" id="7563801">,</span>&nbsp;<span class="builtintype" id="7563803">true</span><span class="op" id="7563807">,</span>&nbsp;<span class="builtintype" id="7563809">true</span><span class="op" id="7563813">,</span>&nbsp;<span class="builtintype" id="7563815">true</span><span class="op" id="7563819">,</span>&nbsp;<span class="builtintype" id="7563821">false</span><span class="op" id="7563826">,</span>&nbsp;<span class="num" id="7563828">0xef</span><span class="op" id="7563832">,</span>&nbsp;<span class="num" id="7563834">0xef</span><span class="op" id="7563838">,</span>&nbsp;<span class="num" id="7563840">0xef</span><span class="op" id="7563844">,</span>&nbsp;<span class="num" id="7563846">0</span><span class="op" id="7563847">}</span><span class="op" id="7563848">,</span><br>
<span class="lineno"></span><span class="op" id="7563850">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="7563853">func</span>&nbsp;<span class="ident" id="7563858">TestNumberParse</span><span class="op" id="7563873">(</span><span class="ident" id="7563874">t</span>&nbsp;<span class="op" id="7563876">*</span><span class="ident" id="7563877">testing</span><span class="op" id="7563884">.</span><span class="ident" id="7563885">T</span><span class="op" id="7563886">)</span>&nbsp;<span class="op" id="7563888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7563891">for</span>&nbsp;<span class="ident" id="7563895">_</span><span class="op" id="7563896">,</span>&nbsp;<span class="ident" id="7563898">test</span>&nbsp;<span class="op" id="7563903">:=</span>&nbsp;<span class="keyword" id="7563906">range</span>&nbsp;<span class="ident" id="7563912">numberTests</span>&nbsp;<span class="op" id="7563924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7563928">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7564008">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564054">var</span>&nbsp;<span class="ident" id="7564058">c</span>&nbsp;<span class="builtintype" id="7564060">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564073">typ</span>&nbsp;<span class="op" id="7564077">:=</span>&nbsp;<span class="ident" id="7564080">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564093">var</span>&nbsp;<span class="ident" id="7564097">tree</span>&nbsp;<span class="op" id="7564102">*</span><span class="ident" id="7564103">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564110">if</span>&nbsp;<span class="ident" id="7564113">test</span><span class="op" id="7564117">.</span><span class="ident" id="7564118">text</span><span class="op" id="7564122">[</span><span class="num" id="7564123">0</span><span class="op" id="7564124">]</span>&nbsp;<span class="op" id="7564126">==</span>&nbsp;<span class="string" id="7564129">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="7564134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564139">typ</span>&nbsp;<span class="op" id="7564143">=</span>&nbsp;<span class="ident" id="7564145">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564164">}</span>&nbsp;<span class="keyword" id="7564166">else</span>&nbsp;<span class="op" id="7564171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564176">_</span><span class="op" id="7564177">,</span>&nbsp;<span class="ident" id="7564179">err</span>&nbsp;<span class="op" id="7564183">:=</span>&nbsp;<span class="ident" id="7564186">fmt</span><span class="op" id="7564189">.</span><span class="ident" id="7564190">Sscan</span><span class="op" id="7564195">(</span><span class="ident" id="7564196">test</span><span class="op" id="7564200">.</span><span class="ident" id="7564201">text</span><span class="op" id="7564205">,</span>&nbsp;<span class="op" id="7564207">&amp;</span><span class="ident" id="7564208">c</span><span class="op" id="7564209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564214">if</span>&nbsp;<span class="ident" id="7564217">err</span>&nbsp;<span class="op" id="7564221">==</span>&nbsp;<span class="builtintype" id="7564224">nil</span>&nbsp;<span class="op" id="7564228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564234">typ</span>&nbsp;<span class="op" id="7564238">=</span>&nbsp;<span class="ident" id="7564240">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564255">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564263">n</span><span class="op" id="7564264">,</span>&nbsp;<span class="ident" id="7564266">err</span>&nbsp;<span class="op" id="7564270">:=</span>&nbsp;<span class="ident" id="7564273">tree</span><span class="op" id="7564277">.</span><span class="ident" id="7564278">newNumber</span><span class="op" id="7564287">(</span><span class="num" id="7564288">0</span><span class="op" id="7564289">,</span>&nbsp;<span class="ident" id="7564291">test</span><span class="op" id="7564295">.</span><span class="ident" id="7564296">text</span><span class="op" id="7564300">,</span>&nbsp;<span class="ident" id="7564302">typ</span><span class="op" id="7564305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564309">ok</span>&nbsp;<span class="op" id="7564312">:=</span>&nbsp;<span class="ident" id="7564315">test</span><span class="op" id="7564319">.</span><span class="ident" id="7564320">isInt</span>&nbsp;<span class="op" id="7564326">||</span>&nbsp;<span class="ident" id="7564329">test</span><span class="op" id="7564333">.</span><span class="ident" id="7564334">isUint</span>&nbsp;<span class="op" id="7564341">||</span>&nbsp;<span class="ident" id="7564344">test</span><span class="op" id="7564348">.</span><span class="ident" id="7564349">isFloat</span>&nbsp;<span class="op" id="7564357">||</span>&nbsp;<span class="ident" id="7564360">test</span><span class="op" id="7564364">.</span><span class="ident" id="7564365">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564377">if</span>&nbsp;<span class="ident" id="7564380">ok</span>&nbsp;<span class="op" id="7564383">&amp;&amp;</span>&nbsp;<span class="ident" id="7564386">err</span>&nbsp;<span class="op" id="7564390">!=</span>&nbsp;<span class="builtintype" id="7564393">nil</span>&nbsp;<span class="op" id="7564397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564402">t</span><span class="op" id="7564403">.</span><span class="ident" id="7564404">Errorf</span><span class="op" id="7564410">(</span><span class="string" id="7564411">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7564440">,</span>&nbsp;<span class="ident" id="7564442">test</span><span class="op" id="7564446">.</span><span class="ident" id="7564447">text</span><span class="op" id="7564451">,</span>&nbsp;<span class="ident" id="7564453">err</span><span class="op" id="7564456">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564461">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564476">if</span>&nbsp;<span class="op" id="7564479">!</span><span class="ident" id="7564480">ok</span>&nbsp;<span class="op" id="7564483">&amp;&amp;</span>&nbsp;<span class="ident" id="7564486">err</span>&nbsp;<span class="op" id="7564490">==</span>&nbsp;<span class="builtintype" id="7564493">nil</span>&nbsp;<span class="op" id="7564497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564502">t</span><span class="op" id="7564503">.</span><span class="ident" id="7564504">Errorf</span><span class="op" id="7564510">(</span><span class="string" id="7564511">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7564534">,</span>&nbsp;<span class="ident" id="7564536">test</span><span class="op" id="7564540">.</span><span class="ident" id="7564541">text</span><span class="op" id="7564545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564550">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564565">if</span>&nbsp;<span class="op" id="7564568">!</span><span class="ident" id="7564569">ok</span>&nbsp;<span class="op" id="7564572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564577">if</span>&nbsp;<span class="op" id="7564580">*</span><span class="ident" id="7564581">debug</span>&nbsp;<span class="op" id="7564587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564593">fmt</span><span class="op" id="7564596">.</span><span class="ident" id="7564597">Printf</span><span class="op" id="7564603">(</span><span class="string" id="7564604">&#34;%s\n\t%s\n&#34;</span><span class="op" id="7564616">,</span>&nbsp;<span class="ident" id="7564618">test</span><span class="op" id="7564622">.</span><span class="ident" id="7564623">text</span><span class="op" id="7564627">,</span>&nbsp;<span class="ident" id="7564629">err</span><span class="op" id="7564632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564637">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564642">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564657">if</span>&nbsp;<span class="ident" id="7564660">n</span><span class="op" id="7564661">.</span><span class="ident" id="7564662">IsComplex</span>&nbsp;<span class="op" id="7564672">!=</span>&nbsp;<span class="ident" id="7564675">test</span><span class="op" id="7564679">.</span><span class="ident" id="7564680">isComplex</span>&nbsp;<span class="op" id="7564690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564695">t</span><span class="op" id="7564696">.</span><span class="ident" id="7564697">Errorf</span><span class="op" id="7564703">(</span><span class="string" id="7564704">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7564744">,</span>&nbsp;<span class="ident" id="7564746">test</span><span class="op" id="7564750">.</span><span class="ident" id="7564751">text</span><span class="op" id="7564755">,</span>&nbsp;<span class="ident" id="7564757">test</span><span class="op" id="7564761">.</span><span class="ident" id="7564762">isComplex</span><span class="op" id="7564771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564775">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564779">if</span>&nbsp;<span class="ident" id="7564782">test</span><span class="op" id="7564786">.</span><span class="ident" id="7564787">isInt</span>&nbsp;<span class="op" id="7564793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564798">if</span>&nbsp;<span class="op" id="7564801">!</span><span class="ident" id="7564802">n</span><span class="op" id="7564803">.</span><span class="ident" id="7564804">IsInt</span>&nbsp;<span class="op" id="7564810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564816">t</span><span class="op" id="7564817">.</span><span class="ident" id="7564818">Errorf</span><span class="op" id="7564824">(</span><span class="string" id="7564825">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7564850">,</span>&nbsp;<span class="ident" id="7564852">test</span><span class="op" id="7564856">.</span><span class="ident" id="7564857">text</span><span class="op" id="7564861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7564871">if</span>&nbsp;<span class="ident" id="7564874">n</span><span class="op" id="7564875">.</span><span class="ident" id="7564876">Int64</span>&nbsp;<span class="op" id="7564882">!=</span>&nbsp;<span class="ident" id="7564885">test</span><span class="op" id="7564889">.</span><span class="builtintype" id="7564890">int64</span>&nbsp;<span class="op" id="7564896">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7564902">t</span><span class="op" id="7564903">.</span><span class="ident" id="7564904">Errorf</span><span class="op" id="7564910">(</span><span class="string" id="7564911">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7564944">,</span>&nbsp;<span class="ident" id="7564946">test</span><span class="op" id="7564950">.</span><span class="ident" id="7564951">text</span><span class="op" id="7564955">,</span>&nbsp;<span class="ident" id="7564957">test</span><span class="op" id="7564961">.</span><span class="builtintype" id="7564962">int64</span><span class="op" id="7564967">,</span>&nbsp;<span class="ident" id="7564969">n</span><span class="op" id="7564970">.</span><span class="ident" id="7564971">Int64</span><span class="op" id="7564976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7564985">}</span>&nbsp;<span class="keyword" id="7564987">else</span>&nbsp;<span class="keyword" id="7564992">if</span>&nbsp;<span class="ident" id="7564995">n</span><span class="op" id="7564996">.</span><span class="ident" id="7564997">IsInt</span>&nbsp;<span class="op" id="7565003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565008">t</span><span class="op" id="7565009">.</span><span class="ident" id="7565010">Errorf</span><span class="op" id="7565016">(</span><span class="string" id="7565017">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7565048">,</span>&nbsp;<span class="ident" id="7565050">test</span><span class="op" id="7565054">.</span><span class="ident" id="7565055">text</span><span class="op" id="7565059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565063">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565067">if</span>&nbsp;<span class="ident" id="7565070">test</span><span class="op" id="7565074">.</span><span class="ident" id="7565075">isUint</span>&nbsp;<span class="op" id="7565082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565087">if</span>&nbsp;<span class="op" id="7565090">!</span><span class="ident" id="7565091">n</span><span class="op" id="7565092">.</span><span class="ident" id="7565093">IsUint</span>&nbsp;<span class="op" id="7565100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565106">t</span><span class="op" id="7565107">.</span><span class="ident" id="7565108">Errorf</span><span class="op" id="7565114">(</span><span class="string" id="7565115">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7565149">,</span>&nbsp;<span class="ident" id="7565151">test</span><span class="op" id="7565155">.</span><span class="ident" id="7565156">text</span><span class="op" id="7565160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565170">if</span>&nbsp;<span class="ident" id="7565173">n</span><span class="op" id="7565174">.</span><span class="ident" id="7565175">Uint64</span>&nbsp;<span class="op" id="7565182">!=</span>&nbsp;<span class="ident" id="7565185">test</span><span class="op" id="7565189">.</span><span class="builtintype" id="7565190">uint64</span>&nbsp;<span class="op" id="7565197">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565203">t</span><span class="op" id="7565204">.</span><span class="ident" id="7565205">Errorf</span><span class="op" id="7565211">(</span><span class="string" id="7565212">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7565246">,</span>&nbsp;<span class="ident" id="7565248">test</span><span class="op" id="7565252">.</span><span class="ident" id="7565253">text</span><span class="op" id="7565257">,</span>&nbsp;<span class="ident" id="7565259">test</span><span class="op" id="7565263">.</span><span class="builtintype" id="7565264">uint64</span><span class="op" id="7565270">,</span>&nbsp;<span class="ident" id="7565272">n</span><span class="op" id="7565273">.</span><span class="ident" id="7565274">Uint64</span><span class="op" id="7565280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565289">}</span>&nbsp;<span class="keyword" id="7565291">else</span>&nbsp;<span class="keyword" id="7565296">if</span>&nbsp;<span class="ident" id="7565299">n</span><span class="op" id="7565300">.</span><span class="ident" id="7565301">IsUint</span>&nbsp;<span class="op" id="7565308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565313">t</span><span class="op" id="7565314">.</span><span class="ident" id="7565315">Errorf</span><span class="op" id="7565321">(</span><span class="string" id="7565322">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7565362">,</span>&nbsp;<span class="ident" id="7565364">test</span><span class="op" id="7565368">.</span><span class="ident" id="7565369">text</span><span class="op" id="7565373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565377">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565381">if</span>&nbsp;<span class="ident" id="7565384">test</span><span class="op" id="7565388">.</span><span class="ident" id="7565389">isFloat</span>&nbsp;<span class="op" id="7565397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565402">if</span>&nbsp;<span class="op" id="7565405">!</span><span class="ident" id="7565406">n</span><span class="op" id="7565407">.</span><span class="ident" id="7565408">IsFloat</span>&nbsp;<span class="op" id="7565416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565422">t</span><span class="op" id="7565423">.</span><span class="ident" id="7565424">Errorf</span><span class="op" id="7565430">(</span><span class="string" id="7565431">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7565454">,</span>&nbsp;<span class="ident" id="7565456">test</span><span class="op" id="7565460">.</span><span class="ident" id="7565461">text</span><span class="op" id="7565465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565475">if</span>&nbsp;<span class="ident" id="7565478">n</span><span class="op" id="7565479">.</span><span class="ident" id="7565480">Float64</span>&nbsp;<span class="op" id="7565488">!=</span>&nbsp;<span class="ident" id="7565491">test</span><span class="op" id="7565495">.</span><span class="builtintype" id="7565496">float64</span>&nbsp;<span class="op" id="7565504">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565510">t</span><span class="op" id="7565511">.</span><span class="ident" id="7565512">Errorf</span><span class="op" id="7565518">(</span><span class="string" id="7565519">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7565554">,</span>&nbsp;<span class="ident" id="7565556">test</span><span class="op" id="7565560">.</span><span class="ident" id="7565561">text</span><span class="op" id="7565565">,</span>&nbsp;<span class="ident" id="7565567">test</span><span class="op" id="7565571">.</span><span class="builtintype" id="7565572">float64</span><span class="op" id="7565579">,</span>&nbsp;<span class="ident" id="7565581">n</span><span class="op" id="7565582">.</span><span class="ident" id="7565583">Float64</span><span class="op" id="7565590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565599">}</span>&nbsp;<span class="keyword" id="7565601">else</span>&nbsp;<span class="keyword" id="7565606">if</span>&nbsp;<span class="ident" id="7565609">n</span><span class="op" id="7565610">.</span><span class="ident" id="7565611">IsFloat</span>&nbsp;<span class="op" id="7565619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565624">t</span><span class="op" id="7565625">.</span><span class="ident" id="7565626">Errorf</span><span class="op" id="7565632">(</span><span class="string" id="7565633">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7565662">,</span>&nbsp;<span class="ident" id="7565664">test</span><span class="op" id="7565668">.</span><span class="ident" id="7565669">text</span><span class="op" id="7565673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565677">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565681">if</span>&nbsp;<span class="ident" id="7565684">test</span><span class="op" id="7565688">.</span><span class="ident" id="7565689">isComplex</span>&nbsp;<span class="op" id="7565699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565704">if</span>&nbsp;<span class="op" id="7565707">!</span><span class="ident" id="7565708">n</span><span class="op" id="7565709">.</span><span class="ident" id="7565710">IsComplex</span>&nbsp;<span class="op" id="7565720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565726">t</span><span class="op" id="7565727">.</span><span class="ident" id="7565728">Errorf</span><span class="op" id="7565734">(</span><span class="string" id="7565735">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7565760">,</span>&nbsp;<span class="ident" id="7565762">test</span><span class="op" id="7565766">.</span><span class="ident" id="7565767">text</span><span class="op" id="7565771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7565781">if</span>&nbsp;<span class="ident" id="7565784">n</span><span class="op" id="7565785">.</span><span class="ident" id="7565786">Complex128</span>&nbsp;<span class="op" id="7565797">!=</span>&nbsp;<span class="ident" id="7565800">test</span><span class="op" id="7565804">.</span><span class="builtintype" id="7565805">complex128</span>&nbsp;<span class="op" id="7565816">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565822">t</span><span class="op" id="7565823">.</span><span class="ident" id="7565824">Errorf</span><span class="op" id="7565830">(</span><span class="string" id="7565831">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7565869">,</span>&nbsp;<span class="ident" id="7565871">test</span><span class="op" id="7565875">.</span><span class="ident" id="7565876">text</span><span class="op" id="7565880">,</span>&nbsp;<span class="ident" id="7565882">test</span><span class="op" id="7565886">.</span><span class="builtintype" id="7565887">complex128</span><span class="op" id="7565897">,</span>&nbsp;<span class="ident" id="7565899">n</span><span class="op" id="7565900">.</span><span class="ident" id="7565901">Complex128</span><span class="op" id="7565911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7565920">}</span>&nbsp;<span class="keyword" id="7565922">else</span>&nbsp;<span class="keyword" id="7565927">if</span>&nbsp;<span class="ident" id="7565930">n</span><span class="op" id="7565931">.</span><span class="ident" id="7565932">IsComplex</span>&nbsp;<span class="op" id="7565942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7565947">t</span><span class="op" id="7565948">.</span><span class="ident" id="7565949">Errorf</span><span class="op" id="7565955">(</span><span class="string" id="7565956">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7565987">,</span>&nbsp;<span class="ident" id="7565989">test</span><span class="op" id="7565993">.</span><span class="ident" id="7565994">text</span><span class="op" id="7565998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566002">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566005">}</span><br>
<span class="lineno"></span><span class="op" id="7566007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7566010">type</span>&nbsp;<span class="ident" id="7566015">parseTest</span>&nbsp;<span class="keyword" id="7566025">struct</span>&nbsp;<span class="op" id="7566032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7566035">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7566042">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7566050">input</span>&nbsp;&nbsp;<span class="builtintype" id="7566057">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7566065">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7566072">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7566078">result</span>&nbsp;<span class="builtintype" id="7566085">string</span>&nbsp;<span class="comment" id="7566092">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="7566140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7566143">const</span>&nbsp;<span class="op" id="7566149">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7566152">noError</span>&nbsp;&nbsp;<span class="op" id="7566161">=</span>&nbsp;<span class="builtintype" id="7566163">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7566169">hasError</span>&nbsp;<span class="op" id="7566178">=</span>&nbsp;<span class="builtintype" id="7566180">false</span><br>
<span class="lineno"></span><span class="op" id="7566186">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="7566189">var</span>&nbsp;<span class="ident" id="7566193">parseTests</span>&nbsp;<span class="op" id="7566204">=</span>&nbsp;<span class="op" id="7566206">[</span><span class="op" id="7566207">]</span><span class="ident" id="7566208">parseTest</span><span class="op" id="7566217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566220">{</span><span class="string" id="7566221">&#34;empty&#34;</span><span class="op" id="7566228">,</span>&nbsp;<span class="string" id="7566230">&#34;&#34;</span><span class="op" id="7566232">,</span>&nbsp;<span class="ident" id="7566234">noError</span><span class="op" id="7566241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566245">``</span><span class="op" id="7566247">}</span><span class="op" id="7566248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566251">{</span><span class="string" id="7566252">&#34;comment&#34;</span><span class="op" id="7566261">,</span>&nbsp;<span class="string" id="7566263">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="7566279">,</span>&nbsp;<span class="ident" id="7566281">noError</span><span class="op" id="7566288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566292">``</span><span class="op" id="7566294">}</span><span class="op" id="7566295">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566298">{</span><span class="string" id="7566299">&#34;spaces&#34;</span><span class="op" id="7566307">,</span>&nbsp;<span class="string" id="7566309">&#34;&nbsp;\t\n&#34;</span><span class="op" id="7566316">,</span>&nbsp;<span class="ident" id="7566318">noError</span><span class="op" id="7566325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566329">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="7566338">}</span><span class="op" id="7566339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566342">{</span><span class="string" id="7566343">&#34;text&#34;</span><span class="op" id="7566349">,</span>&nbsp;<span class="string" id="7566351">&#34;some&nbsp;text&#34;</span><span class="op" id="7566362">,</span>&nbsp;<span class="ident" id="7566364">noError</span><span class="op" id="7566371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566375">`&#34;some&nbsp;text&#34;`</span><span class="op" id="7566388">}</span><span class="op" id="7566389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566392">{</span><span class="string" id="7566393">&#34;emptyAction&#34;</span><span class="op" id="7566406">,</span>&nbsp;<span class="string" id="7566408">&#34;{{}}&#34;</span><span class="op" id="7566414">,</span>&nbsp;<span class="ident" id="7566416">hasError</span><span class="op" id="7566424">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566428">`{{}}`</span><span class="op" id="7566434">}</span><span class="op" id="7566435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566438">{</span><span class="string" id="7566439">&#34;field&#34;</span><span class="op" id="7566446">,</span>&nbsp;<span class="string" id="7566448">&#34;{{.X}}&#34;</span><span class="op" id="7566456">,</span>&nbsp;<span class="ident" id="7566458">noError</span><span class="op" id="7566465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566469">`{{.X}}`</span><span class="op" id="7566477">}</span><span class="op" id="7566478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566481">{</span><span class="string" id="7566482">&#34;simple&nbsp;command&#34;</span><span class="op" id="7566498">,</span>&nbsp;<span class="string" id="7566500">&#34;{{printf}}&#34;</span><span class="op" id="7566512">,</span>&nbsp;<span class="ident" id="7566514">noError</span><span class="op" id="7566521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566525">`{{printf}}`</span><span class="op" id="7566537">}</span><span class="op" id="7566538">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566541">{</span><span class="string" id="7566542">&#34;$&nbsp;invocation&#34;</span><span class="op" id="7566556">,</span>&nbsp;<span class="string" id="7566558">&#34;{{$}}&#34;</span><span class="op" id="7566565">,</span>&nbsp;<span class="ident" id="7566567">noError</span><span class="op" id="7566574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566578">&#34;{{$}}&#34;</span><span class="op" id="7566585">}</span><span class="op" id="7566586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566589">{</span><span class="string" id="7566590">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="7566611">,</span>&nbsp;<span class="string" id="7566613">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7566647">,</span>&nbsp;<span class="ident" id="7566649">noError</span><span class="op" id="7566656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566660">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7566694">}</span><span class="op" id="7566695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566698">{</span><span class="string" id="7566699">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="7566721">,</span>&nbsp;<span class="string" id="7566723">&#34;{{$.I}}&#34;</span><span class="op" id="7566732">,</span>&nbsp;<span class="ident" id="7566734">noError</span><span class="op" id="7566741">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566745">&#34;{{$.I}}&#34;</span><span class="op" id="7566754">}</span><span class="op" id="7566755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566758">{</span><span class="string" id="7566759">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="7566779">,</span>&nbsp;<span class="string" id="7566781">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7566801">,</span>&nbsp;<span class="ident" id="7566803">noError</span><span class="op" id="7566810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566814">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7566834">}</span><span class="op" id="7566835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566838">{</span><span class="string" id="7566839">&#34;pipeline&#34;</span><span class="op" id="7566849">,</span>&nbsp;<span class="string" id="7566851">&#34;{{.X|.Y}}&#34;</span><span class="op" id="7566862">,</span>&nbsp;<span class="ident" id="7566864">noError</span><span class="op" id="7566871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566875">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7566888">}</span><span class="op" id="7566889">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566892">{</span><span class="string" id="7566893">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="7566913">,</span>&nbsp;<span class="string" id="7566915">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="7566932">,</span>&nbsp;<span class="ident" id="7566934">noError</span><span class="op" id="7566941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7566945">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7566964">}</span><span class="op" id="7566965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7566968">{</span><span class="string" id="7566969">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="7566986">,</span>&nbsp;<span class="string" id="7566988">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="7567022">,</span>&nbsp;<span class="ident" id="7567024">noError</span><span class="op" id="7567031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567035">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="7567069">}</span><span class="op" id="7567070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567073">{</span><span class="string" id="7567074">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7567104">,</span>&nbsp;<span class="string" id="7567106">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="7567125">,</span>&nbsp;<span class="ident" id="7567127">noError</span><span class="op" id="7567134">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567138">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="7567157">}</span><span class="op" id="7567158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567161">{</span><span class="string" id="7567162">&#34;simple&nbsp;if&#34;</span><span class="op" id="7567173">,</span>&nbsp;<span class="string" id="7567175">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7567198">,</span>&nbsp;<span class="ident" id="7567200">noError</span><span class="op" id="7567207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567211">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7567236">}</span><span class="op" id="7567237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567240">{</span><span class="string" id="7567241">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="7567255">,</span>&nbsp;<span class="string" id="7567257">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7567292">,</span>&nbsp;<span class="ident" id="7567294">noError</span><span class="op" id="7567301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567305">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7567344">}</span><span class="op" id="7567345">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567348">{</span><span class="string" id="7567349">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="7567366">,</span>&nbsp;<span class="string" id="7567368">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="7567409">,</span>&nbsp;<span class="ident" id="7567411">noError</span><span class="op" id="7567418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567422">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="7567477">}</span><span class="op" id="7567478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567481">{</span><span class="string" id="7567482">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="7567497">,</span>&nbsp;<span class="string" id="7567499">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="7567550">,</span>&nbsp;<span class="ident" id="7567552">noError</span><span class="op" id="7567559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567563">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="7567644">}</span><span class="op" id="7567645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567648">{</span><span class="string" id="7567649">&#34;simple&nbsp;range&#34;</span><span class="op" id="7567663">,</span>&nbsp;<span class="string" id="7567665">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7567691">,</span>&nbsp;<span class="ident" id="7567693">noError</span><span class="op" id="7567700">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567704">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7567732">}</span><span class="op" id="7567733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567736">{</span><span class="string" id="7567737">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="7567758">,</span>&nbsp;<span class="string" id="7567760">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="7567790">,</span>&nbsp;<span class="ident" id="7567792">noError</span><span class="op" id="7567799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567803">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="7567835">}</span><span class="op" id="7567836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567839">{</span><span class="string" id="7567840">&#34;nested&nbsp;range&#34;</span><span class="op" id="7567854">,</span>&nbsp;<span class="string" id="7567856">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="7567908">,</span>&nbsp;<span class="ident" id="7567910">noError</span><span class="op" id="7567917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7567921">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="7567977">}</span><span class="op" id="7567978">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7567981">{</span><span class="string" id="7567982">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="7567999">,</span>&nbsp;<span class="string" id="7568001">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7568039">,</span>&nbsp;<span class="ident" id="7568041">noError</span><span class="op" id="7568048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568052">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7568094">}</span><span class="op" id="7568095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568098">{</span><span class="string" id="7568099">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="7568120">,</span>&nbsp;<span class="string" id="7568122">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="7568163">,</span>&nbsp;<span class="ident" id="7568165">noError</span><span class="op" id="7568172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568176">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7568223">}</span><span class="op" id="7568224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568227">{</span><span class="string" id="7568228">&#34;range&nbsp;[]int&#34;</span><span class="op" id="7568241">,</span>&nbsp;<span class="string" id="7568243">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7568270">,</span>&nbsp;<span class="ident" id="7568272">noError</span><span class="op" id="7568279">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568283">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7568310">}</span><span class="op" id="7568311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568314">{</span><span class="string" id="7568315">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="7568328">,</span>&nbsp;<span class="string" id="7568330">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7568363">,</span>&nbsp;<span class="ident" id="7568365">noError</span><span class="op" id="7568372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568376">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7568409">}</span><span class="op" id="7568410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568413">{</span><span class="string" id="7568414">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="7568428">,</span>&nbsp;<span class="string" id="7568430">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7568467">,</span>&nbsp;<span class="ident" id="7568469">noError</span><span class="op" id="7568476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568480">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7568517">}</span><span class="op" id="7568518">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568521">{</span><span class="string" id="7568522">&#34;constants&#34;</span><span class="op" id="7568533">,</span>&nbsp;<span class="string" id="7568535">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="7568584">,</span>&nbsp;<span class="ident" id="7568586">noError</span><span class="op" id="7568593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568597">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="7568646">}</span><span class="op" id="7568647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568650">{</span><span class="string" id="7568651">&#34;template&#34;</span><span class="op" id="7568661">,</span>&nbsp;<span class="string" id="7568663">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="7568681">,</span>&nbsp;<span class="ident" id="7568683">noError</span><span class="op" id="7568690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568694">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="7568712">}</span><span class="op" id="7568713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568716">{</span><span class="string" id="7568717">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="7568736">,</span>&nbsp;<span class="string" id="7568738">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="7568759">,</span>&nbsp;<span class="ident" id="7568761">noError</span><span class="op" id="7568768">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568772">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="7568793">}</span><span class="op" id="7568794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568797">{</span><span class="string" id="7568798">&#34;with&#34;</span><span class="op" id="7568804">,</span>&nbsp;<span class="string" id="7568806">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7568831">,</span>&nbsp;<span class="ident" id="7568833">noError</span><span class="op" id="7568840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568844">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7568871">}</span><span class="op" id="7568872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7568875">{</span><span class="string" id="7568876">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="7568892">,</span>&nbsp;<span class="string" id="7568894">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="7568934">,</span>&nbsp;<span class="ident" id="7568936">noError</span><span class="op" id="7568943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7568947">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="7568991">}</span><span class="op" id="7568992">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7568995">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569007">{</span><span class="string" id="7569008">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="7569025">,</span>&nbsp;<span class="string" id="7569027">&#34;hello{{range&#34;</span><span class="op" id="7569041">,</span>&nbsp;<span class="ident" id="7569043">hasError</span><span class="op" id="7569051">,</span>&nbsp;<span class="string" id="7569053">&#34;&#34;</span><span class="op" id="7569055">}</span><span class="op" id="7569056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569059">{</span><span class="string" id="7569060">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="7569075">,</span>&nbsp;<span class="string" id="7569077">&#34;{{end}}&#34;</span><span class="op" id="7569086">,</span>&nbsp;<span class="ident" id="7569088">hasError</span><span class="op" id="7569096">,</span>&nbsp;<span class="string" id="7569098">&#34;&#34;</span><span class="op" id="7569100">}</span><span class="op" id="7569101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569104">{</span><span class="string" id="7569105">&#34;missing&nbsp;end&#34;</span><span class="op" id="7569118">,</span>&nbsp;<span class="string" id="7569120">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="7569139">,</span>&nbsp;<span class="ident" id="7569141">hasError</span><span class="op" id="7569149">,</span>&nbsp;<span class="string" id="7569151">&#34;&#34;</span><span class="op" id="7569153">}</span><span class="op" id="7569154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569157">{</span><span class="string" id="7569158">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="7569182">,</span>&nbsp;<span class="string" id="7569184">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="7569211">,</span>&nbsp;<span class="ident" id="7569213">hasError</span><span class="op" id="7569221">,</span>&nbsp;<span class="string" id="7569223">&#34;&#34;</span><span class="op" id="7569225">}</span><span class="op" id="7569226">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569229">{</span><span class="string" id="7569230">&#34;undefined&nbsp;function&#34;</span><span class="op" id="7569250">,</span>&nbsp;<span class="string" id="7569252">&#34;hello{{undefined}}&#34;</span><span class="op" id="7569272">,</span>&nbsp;<span class="ident" id="7569274">hasError</span><span class="op" id="7569282">,</span>&nbsp;<span class="string" id="7569284">&#34;&#34;</span><span class="op" id="7569286">}</span><span class="op" id="7569287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569290">{</span><span class="string" id="7569291">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="7569311">,</span>&nbsp;<span class="string" id="7569313">&#34;{{$x}}&#34;</span><span class="op" id="7569321">,</span>&nbsp;<span class="ident" id="7569323">hasError</span><span class="op" id="7569331">,</span>&nbsp;<span class="string" id="7569333">&#34;&#34;</span><span class="op" id="7569335">}</span><span class="op" id="7569336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569339">{</span><span class="string" id="7569340">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="7569370">,</span>&nbsp;<span class="string" id="7569372">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="7569403">,</span>&nbsp;<span class="ident" id="7569405">hasError</span><span class="op" id="7569413">,</span>&nbsp;<span class="string" id="7569415">&#34;&#34;</span><span class="op" id="7569417">}</span><span class="op" id="7569418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569421">{</span><span class="string" id="7569422">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="7569454">,</span>&nbsp;<span class="string" id="7569456">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7569473">,</span>&nbsp;<span class="ident" id="7569475">hasError</span><span class="op" id="7569483">,</span>&nbsp;<span class="string" id="7569485">&#34;&#34;</span><span class="op" id="7569487">}</span><span class="op" id="7569488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569491">{</span><span class="string" id="7569492">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="7569512">,</span>&nbsp;<span class="string" id="7569514">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="7569541">,</span>&nbsp;<span class="ident" id="7569543">hasError</span><span class="op" id="7569551">,</span>&nbsp;<span class="string" id="7569553">&#34;&#34;</span><span class="op" id="7569555">}</span><span class="op" id="7569556">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569559">{</span><span class="string" id="7569560">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="7569585">,</span>&nbsp;<span class="string" id="7569587">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="7569604">,</span>&nbsp;<span class="ident" id="7569606">hasError</span><span class="op" id="7569614">,</span>&nbsp;<span class="string" id="7569616">&#34;&#34;</span><span class="op" id="7569618">}</span><span class="op" id="7569619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569622">{</span><span class="string" id="7569623">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="7569642">,</span>&nbsp;<span class="string" id="7569644">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7569661">,</span>&nbsp;<span class="ident" id="7569663">hasError</span><span class="op" id="7569671">,</span>&nbsp;<span class="string" id="7569673">&#34;&#34;</span><span class="op" id="7569675">}</span><span class="op" id="7569676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569679">{</span><span class="string" id="7569680">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="7569701">,</span>&nbsp;<span class="string" id="7569703">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="7569720">,</span>&nbsp;<span class="ident" id="7569722">hasError</span><span class="op" id="7569730">,</span>&nbsp;<span class="string" id="7569732">&#34;&#34;</span><span class="op" id="7569734">}</span><span class="op" id="7569735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569738">{</span><span class="string" id="7569739">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="7569764">,</span>&nbsp;<span class="string" id="7569766">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7569795">,</span>&nbsp;<span class="ident" id="7569797">hasError</span><span class="op" id="7569805">,</span>&nbsp;<span class="string" id="7569807">&#34;&#34;</span><span class="op" id="7569809">}</span><span class="op" id="7569810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569813">{</span><span class="string" id="7569814">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="7569839">,</span>&nbsp;<span class="string" id="7569841">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7569875">,</span>&nbsp;<span class="ident" id="7569877">hasError</span><span class="op" id="7569885">,</span>&nbsp;<span class="string" id="7569887">&#34;&#34;</span><span class="op" id="7569889">}</span><span class="op" id="7569890">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569893">{</span><span class="string" id="7569894">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7569922">,</span>&nbsp;<span class="string" id="7569924">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="7569948">,</span>&nbsp;<span class="ident" id="7569950">hasError</span><span class="op" id="7569958">,</span>&nbsp;<span class="string" id="7569960">&#34;&#34;</span><span class="op" id="7569962">}</span><span class="op" id="7569963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7569966">{</span><span class="string" id="7569967">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="7569982">,</span>&nbsp;<span class="string" id="7569984">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="7570001">,</span>&nbsp;<span class="ident" id="7570003">hasError</span><span class="op" id="7570011">,</span>&nbsp;<span class="string" id="7570013">&#34;&#34;</span><span class="op" id="7570015">}</span><span class="op" id="7570016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570019">{</span><span class="string" id="7570020">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="7570042">,</span>&nbsp;<span class="string" id="7570044">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="7570061">,</span>&nbsp;<span class="ident" id="7570063">hasError</span><span class="op" id="7570071">,</span>&nbsp;<span class="string" id="7570073">&#34;&#34;</span><span class="op" id="7570075">}</span><span class="op" id="7570076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570079">{</span><span class="string" id="7570080">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="7570100">,</span>&nbsp;<span class="string" id="7570102">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="7570143">,</span>&nbsp;<span class="ident" id="7570145">hasError</span><span class="op" id="7570153">,</span>&nbsp;<span class="string" id="7570155">&#34;&#34;</span><span class="op" id="7570157">}</span><span class="op" id="7570158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7570161">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570221">{</span><span class="string" id="7570222">&#34;bug0a&#34;</span><span class="op" id="7570229">,</span>&nbsp;<span class="string" id="7570231">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7570250">,</span>&nbsp;<span class="ident" id="7570252">noError</span><span class="op" id="7570259">,</span>&nbsp;<span class="string" id="7570261">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7570280">}</span><span class="op" id="7570281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570284">{</span><span class="string" id="7570285">&#34;bug0b&#34;</span><span class="op" id="7570292">,</span>&nbsp;<span class="string" id="7570294">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="7570312">,</span>&nbsp;<span class="ident" id="7570314">hasError</span><span class="op" id="7570322">,</span>&nbsp;<span class="string" id="7570324">&#34;&#34;</span><span class="op" id="7570326">}</span><span class="op" id="7570327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570330">{</span><span class="string" id="7570331">&#34;bug0c&#34;</span><span class="op" id="7570338">,</span>&nbsp;<span class="string" id="7570340">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="7570358">,</span>&nbsp;<span class="ident" id="7570360">hasError</span><span class="op" id="7570368">,</span>&nbsp;<span class="string" id="7570370">&#34;&#34;</span><span class="op" id="7570372">}</span><span class="op" id="7570373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570376">{</span><span class="string" id="7570377">&#34;bug0d&#34;</span><span class="op" id="7570384">,</span>&nbsp;<span class="string" id="7570386">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="7570404">,</span>&nbsp;<span class="ident" id="7570406">hasError</span><span class="op" id="7570414">,</span>&nbsp;<span class="string" id="7570416">&#34;&#34;</span><span class="op" id="7570418">}</span><span class="op" id="7570419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7570422">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570474">{</span><span class="string" id="7570475">&#34;bug0e&#34;</span><span class="op" id="7570482">,</span>&nbsp;<span class="string" id="7570484">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7570516">,</span>&nbsp;<span class="ident" id="7570518">hasError</span><span class="op" id="7570526">,</span>&nbsp;<span class="string" id="7570528">&#34;&#34;</span><span class="op" id="7570530">}</span><span class="op" id="7570531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7570534">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570600">{</span><span class="string" id="7570601">&#34;bug1a&#34;</span><span class="op" id="7570608">,</span>&nbsp;<span class="string" id="7570610">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="7570629">,</span>&nbsp;<span class="ident" id="7570631">hasError</span><span class="op" id="7570639">,</span>&nbsp;<span class="string" id="7570641">&#34;&#34;</span><span class="op" id="7570643">}</span><span class="op" id="7570644">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7570666">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570694">{</span><span class="string" id="7570695">&#34;bug1b&#34;</span><span class="op" id="7570702">,</span>&nbsp;<span class="string" id="7570704">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="7570723">,</span>&nbsp;<span class="ident" id="7570725">hasError</span><span class="op" id="7570733">,</span>&nbsp;<span class="string" id="7570735">&#34;&#34;</span><span class="op" id="7570737">}</span><span class="op" id="7570738">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7570760">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7570800">{</span><span class="string" id="7570801">&#34;bug1c&#34;</span><span class="op" id="7570808">,</span>&nbsp;<span class="string" id="7570810">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7570830">,</span>&nbsp;<span class="ident" id="7570832">noError</span><span class="op" id="7570839">,</span>&nbsp;<span class="string" id="7570841">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7570863">}</span><span class="op" id="7570864">,</span>&nbsp;<span class="comment" id="7570866">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="7570891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7570894">var</span>&nbsp;<span class="ident" id="7570898">builtins</span>&nbsp;<span class="op" id="7570907">=</span>&nbsp;<span class="keyword" id="7570909">map</span><span class="op" id="7570912">[</span><span class="builtintype" id="7570913">string</span><span class="op" id="7570919">]</span><span class="keyword" id="7570920">interface</span><span class="op" id="7570929">{</span><span class="op" id="7570930">}</span><span class="op" id="7570931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7570934">&#34;printf&#34;</span><span class="op" id="7570942">:</span>&nbsp;<span class="ident" id="7570944">fmt</span><span class="op" id="7570947">.</span><span class="ident" id="7570948">Sprintf</span><span class="op" id="7570955">,</span><br>
<span class="lineno"></span><span class="op" id="7570957">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="7570960">func</span>&nbsp;<span class="ident" id="7570965">testParse</span><span class="op" id="7570974">(</span><span class="ident" id="7570975">doCopy</span>&nbsp;<span class="builtintype" id="7570982">bool</span><span class="op" id="7570986">,</span>&nbsp;<span class="ident" id="7570988">t</span>&nbsp;<span class="op" id="7570990">*</span><span class="ident" id="7570991">testing</span><span class="op" id="7570998">.</span><span class="ident" id="7570999">T</span><span class="op" id="7571000">)</span>&nbsp;<span class="op" id="7571002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571005">textFormat</span>&nbsp;<span class="op" id="7571016">=</span>&nbsp;<span class="string" id="7571018">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571024">defer</span>&nbsp;<span class="keyword" id="7571030">func</span><span class="op" id="7571034">(</span><span class="op" id="7571035">)</span>&nbsp;<span class="op" id="7571037">{</span>&nbsp;<span class="ident" id="7571039">textFormat</span>&nbsp;<span class="op" id="7571050">=</span>&nbsp;<span class="string" id="7571052">&#34;%s&#34;</span>&nbsp;<span class="op" id="7571057">}</span><span class="op" id="7571058">(</span><span class="op" id="7571059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571062">for</span>&nbsp;<span class="ident" id="7571066">_</span><span class="op" id="7571067">,</span>&nbsp;<span class="ident" id="7571069">test</span>&nbsp;<span class="op" id="7571074">:=</span>&nbsp;<span class="keyword" id="7571077">range</span>&nbsp;<span class="ident" id="7571083">parseTests</span>&nbsp;<span class="op" id="7571094">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571098">tmpl</span><span class="op" id="7571102">,</span>&nbsp;<span class="ident" id="7571104">err</span>&nbsp;<span class="op" id="7571108">:=</span>&nbsp;<span class="ident" id="7571111">New</span><span class="op" id="7571114">(</span><span class="ident" id="7571115">test</span><span class="op" id="7571119">.</span><span class="ident" id="7571120">name</span><span class="op" id="7571124">)</span><span class="op" id="7571125">.</span><span class="ident" id="7571126">Parse</span><span class="op" id="7571131">(</span><span class="ident" id="7571132">test</span><span class="op" id="7571136">.</span><span class="ident" id="7571137">input</span><span class="op" id="7571142">,</span>&nbsp;<span class="string" id="7571144">&#34;&#34;</span><span class="op" id="7571146">,</span>&nbsp;<span class="string" id="7571148">&#34;&#34;</span><span class="op" id="7571150">,</span>&nbsp;<span class="builtinfunc" id="7571152">make</span><span class="op" id="7571156">(</span><span class="keyword" id="7571157">map</span><span class="op" id="7571160">[</span><span class="builtintype" id="7571161">string</span><span class="op" id="7571167">]</span><span class="op" id="7571168">*</span><span class="ident" id="7571169">Tree</span><span class="op" id="7571173">)</span><span class="op" id="7571174">,</span>&nbsp;<span class="ident" id="7571176">builtins</span><span class="op" id="7571184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571188">switch</span>&nbsp;<span class="op" id="7571195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571199">case</span>&nbsp;<span class="ident" id="7571204">err</span>&nbsp;<span class="op" id="7571208">==</span>&nbsp;<span class="builtintype" id="7571211">nil</span>&nbsp;<span class="op" id="7571215">&amp;&amp;</span>&nbsp;<span class="op" id="7571218">!</span><span class="ident" id="7571219">test</span><span class="op" id="7571223">.</span><span class="ident" id="7571224">ok</span><span class="op" id="7571226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571231">t</span><span class="op" id="7571232">.</span><span class="ident" id="7571233">Errorf</span><span class="op" id="7571239">(</span><span class="string" id="7571240">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7571270">,</span>&nbsp;<span class="ident" id="7571272">test</span><span class="op" id="7571276">.</span><span class="ident" id="7571277">name</span><span class="op" id="7571281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571286">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571297">case</span>&nbsp;<span class="ident" id="7571302">err</span>&nbsp;<span class="op" id="7571306">!=</span>&nbsp;<span class="builtintype" id="7571309">nil</span>&nbsp;<span class="op" id="7571313">&amp;&amp;</span>&nbsp;<span class="ident" id="7571316">test</span><span class="op" id="7571320">.</span><span class="ident" id="7571321">ok</span><span class="op" id="7571323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571328">t</span><span class="op" id="7571329">.</span><span class="ident" id="7571330">Errorf</span><span class="op" id="7571336">(</span><span class="string" id="7571337">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7571363">,</span>&nbsp;<span class="ident" id="7571365">test</span><span class="op" id="7571369">.</span><span class="ident" id="7571370">name</span><span class="op" id="7571374">,</span>&nbsp;<span class="ident" id="7571376">err</span><span class="op" id="7571379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571384">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571395">case</span>&nbsp;<span class="ident" id="7571400">err</span>&nbsp;<span class="op" id="7571404">!=</span>&nbsp;<span class="builtintype" id="7571407">nil</span>&nbsp;<span class="op" id="7571411">&amp;&amp;</span>&nbsp;<span class="op" id="7571414">!</span><span class="ident" id="7571415">test</span><span class="op" id="7571419">.</span><span class="ident" id="7571420">ok</span><span class="op" id="7571422">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7571427">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571457">if</span>&nbsp;<span class="op" id="7571460">*</span><span class="ident" id="7571461">debug</span>&nbsp;<span class="op" id="7571467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571473">fmt</span><span class="op" id="7571476">.</span><span class="ident" id="7571477">Printf</span><span class="op" id="7571483">(</span><span class="string" id="7571484">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="7571500">,</span>&nbsp;<span class="ident" id="7571502">test</span><span class="op" id="7571506">.</span><span class="ident" id="7571507">name</span><span class="op" id="7571511">,</span>&nbsp;<span class="ident" id="7571513">test</span><span class="op" id="7571517">.</span><span class="ident" id="7571518">input</span><span class="op" id="7571523">,</span>&nbsp;<span class="ident" id="7571525">err</span><span class="op" id="7571528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7571533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571538">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7571549">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571553">var</span>&nbsp;<span class="ident" id="7571557">result</span>&nbsp;<span class="builtintype" id="7571564">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571573">if</span>&nbsp;<span class="ident" id="7571576">doCopy</span>&nbsp;<span class="op" id="7571583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571588">result</span>&nbsp;<span class="op" id="7571595">=</span>&nbsp;<span class="ident" id="7571597">tmpl</span><span class="op" id="7571601">.</span><span class="ident" id="7571602">Root</span><span class="op" id="7571606">.</span><span class="ident" id="7571607">Copy</span><span class="op" id="7571611">(</span><span class="op" id="7571612">)</span><span class="op" id="7571613">.</span><span class="ident" id="7571614">String</span><span class="op" id="7571620">(</span><span class="op" id="7571621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7571625">}</span>&nbsp;<span class="keyword" id="7571627">else</span>&nbsp;<span class="op" id="7571632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571637">result</span>&nbsp;<span class="op" id="7571644">=</span>&nbsp;<span class="ident" id="7571646">tmpl</span><span class="op" id="7571650">.</span><span class="ident" id="7571651">Root</span><span class="op" id="7571655">.</span><span class="ident" id="7571656">String</span><span class="op" id="7571662">(</span><span class="op" id="7571663">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7571667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7571671">if</span>&nbsp;<span class="ident" id="7571674">result</span>&nbsp;<span class="op" id="7571681">!=</span>&nbsp;<span class="ident" id="7571684">test</span><span class="op" id="7571688">.</span><span class="ident" id="7571689">result</span>&nbsp;<span class="op" id="7571696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571701">t</span><span class="op" id="7571702">.</span><span class="ident" id="7571703">Errorf</span><span class="op" id="7571709">(</span><span class="string" id="7571710">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="7571746">,</span>&nbsp;<span class="ident" id="7571748">test</span><span class="op" id="7571752">.</span><span class="ident" id="7571753">name</span><span class="op" id="7571757">,</span>&nbsp;<span class="ident" id="7571759">test</span><span class="op" id="7571763">.</span><span class="ident" id="7571764">input</span><span class="op" id="7571769">,</span>&nbsp;<span class="ident" id="7571771">result</span><span class="op" id="7571777">,</span>&nbsp;<span class="ident" id="7571779">test</span><span class="op" id="7571783">.</span><span class="ident" id="7571784">result</span><span class="op" id="7571790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7571794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7571797">}</span><br>
<span class="lineno">295</span><span class="op" id="7571799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7571802">func</span>&nbsp;<span class="ident" id="7571807">TestParse</span><span class="op" id="7571816">(</span><span class="ident" id="7571817">t</span>&nbsp;<span class="op" id="7571819">*</span><span class="ident" id="7571820">testing</span><span class="op" id="7571827">.</span><span class="ident" id="7571828">T</span><span class="op" id="7571829">)</span>&nbsp;<span class="op" id="7571831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571834">testParse</span><span class="op" id="7571843">(</span><span class="builtintype" id="7571844">false</span><span class="op" id="7571849">,</span>&nbsp;<span class="ident" id="7571851">t</span><span class="op" id="7571852">)</span><br>
<span class="lineno"></span><span class="op" id="7571854">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="7571857">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="7571906">func</span>&nbsp;<span class="ident" id="7571911">TestParseCopy</span><span class="op" id="7571924">(</span><span class="ident" id="7571925">t</span>&nbsp;<span class="op" id="7571927">*</span><span class="ident" id="7571928">testing</span><span class="op" id="7571935">.</span><span class="ident" id="7571936">T</span><span class="op" id="7571937">)</span>&nbsp;<span class="op" id="7571939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571942">testParse</span><span class="op" id="7571951">(</span><span class="builtintype" id="7571952">true</span><span class="op" id="7571956">,</span>&nbsp;<span class="ident" id="7571958">t</span><span class="op" id="7571959">)</span><br>
<span class="lineno"></span><span class="op" id="7571961">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7571964">type</span>&nbsp;<span class="ident" id="7571969">isEmptyTest</span>&nbsp;<span class="keyword" id="7571981">struct</span>&nbsp;<span class="op" id="7571988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7571991">name</span>&nbsp;&nbsp;<span class="builtintype" id="7571997">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7572005">input</span>&nbsp;<span class="builtintype" id="7572011">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7572019">empty</span>&nbsp;<span class="builtintype" id="7572025">bool</span><br>
<span class="lineno">310</span><span class="op" id="7572030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7572033">var</span>&nbsp;<span class="ident" id="7572037">isEmptyTests</span>&nbsp;<span class="op" id="7572050">=</span>&nbsp;<span class="op" id="7572052">[</span><span class="op" id="7572053">]</span><span class="ident" id="7572054">isEmptyTest</span><span class="op" id="7572065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572068">{</span><span class="string" id="7572069">&#34;empty&#34;</span><span class="op" id="7572076">,</span>&nbsp;<span class="string" id="7572078">``</span><span class="op" id="7572080">,</span>&nbsp;<span class="builtintype" id="7572082">true</span><span class="op" id="7572086">}</span><span class="op" id="7572087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572090">{</span><span class="string" id="7572091">&#34;nonempty&#34;</span><span class="op" id="7572101">,</span>&nbsp;<span class="string" id="7572103">`hello`</span><span class="op" id="7572110">,</span>&nbsp;<span class="builtintype" id="7572112">false</span><span class="op" id="7572117">}</span><span class="op" id="7572118">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572121">{</span><span class="string" id="7572122">&#34;spaces&nbsp;only&#34;</span><span class="op" id="7572135">,</span>&nbsp;<span class="string" id="7572137">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="7572149">,</span>&nbsp;<span class="builtintype" id="7572151">true</span><span class="op" id="7572155">}</span><span class="op" id="7572156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572159">{</span><span class="string" id="7572160">&#34;definition&#34;</span><span class="op" id="7572172">,</span>&nbsp;<span class="string" id="7572174">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="7572206">,</span>&nbsp;<span class="builtintype" id="7572208">true</span><span class="op" id="7572212">}</span><span class="op" id="7572213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572216">{</span><span class="string" id="7572217">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="7572240">,</span>&nbsp;<span class="string" id="7572242">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="7572312">,</span>&nbsp;<span class="builtintype" id="7572314">true</span><span class="op" id="7572318">}</span><span class="op" id="7572319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572322">{</span><span class="string" id="7572323">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="7572345">,</span>&nbsp;<span class="string" id="7572347">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="7572419">,</span>&nbsp;<span class="builtintype" id="7572421">false</span><span class="op" id="7572426">}</span><span class="op" id="7572427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572430">{</span><span class="string" id="7572431">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="7572454">,</span>&nbsp;<span class="string" id="7572456">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="7572506">,</span>&nbsp;<span class="builtintype" id="7572508">false</span><span class="op" id="7572513">}</span><span class="op" id="7572514">,</span><br>
<span class="lineno">320</span><span class="op" id="7572516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7572519">func</span>&nbsp;<span class="ident" id="7572524">TestIsEmpty</span><span class="op" id="7572535">(</span><span class="ident" id="7572536">t</span>&nbsp;<span class="op" id="7572538">*</span><span class="ident" id="7572539">testing</span><span class="op" id="7572546">.</span><span class="ident" id="7572547">T</span><span class="op" id="7572548">)</span>&nbsp;<span class="op" id="7572550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7572553">if</span>&nbsp;<span class="op" id="7572556">!</span><span class="ident" id="7572557">IsEmptyTree</span><span class="op" id="7572568">(</span><span class="builtintype" id="7572569">nil</span><span class="op" id="7572572">)</span>&nbsp;<span class="op" id="7572574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7572578">t</span><span class="op" id="7572579">.</span><span class="ident" id="7572580">Errorf</span><span class="op" id="7572586">(</span><span class="string" id="7572587">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="7572610">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7572616">for</span>&nbsp;<span class="ident" id="7572620">_</span><span class="op" id="7572621">,</span>&nbsp;<span class="ident" id="7572623">test</span>&nbsp;<span class="op" id="7572628">:=</span>&nbsp;<span class="keyword" id="7572631">range</span>&nbsp;<span class="ident" id="7572637">isEmptyTests</span>&nbsp;<span class="op" id="7572650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7572654">tree</span><span class="op" id="7572658">,</span>&nbsp;<span class="ident" id="7572660">err</span>&nbsp;<span class="op" id="7572664">:=</span>&nbsp;<span class="ident" id="7572667">New</span><span class="op" id="7572670">(</span><span class="string" id="7572671">&#34;root&#34;</span><span class="op" id="7572677">)</span><span class="op" id="7572678">.</span><span class="ident" id="7572679">Parse</span><span class="op" id="7572684">(</span><span class="ident" id="7572685">test</span><span class="op" id="7572689">.</span><span class="ident" id="7572690">input</span><span class="op" id="7572695">,</span>&nbsp;<span class="string" id="7572697">&#34;&#34;</span><span class="op" id="7572699">,</span>&nbsp;<span class="string" id="7572701">&#34;&#34;</span><span class="op" id="7572703">,</span>&nbsp;<span class="builtinfunc" id="7572705">make</span><span class="op" id="7572709">(</span><span class="keyword" id="7572710">map</span><span class="op" id="7572713">[</span><span class="builtintype" id="7572714">string</span><span class="op" id="7572720">]</span><span class="op" id="7572721">*</span><span class="ident" id="7572722">Tree</span><span class="op" id="7572726">)</span><span class="op" id="7572727">,</span>&nbsp;<span class="builtintype" id="7572729">nil</span><span class="op" id="7572732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7572736">if</span>&nbsp;<span class="ident" id="7572739">err</span>&nbsp;<span class="op" id="7572743">!=</span>&nbsp;<span class="builtintype" id="7572746">nil</span>&nbsp;<span class="op" id="7572750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7572755">t</span><span class="op" id="7572756">.</span><span class="ident" id="7572757">Errorf</span><span class="op" id="7572763">(</span><span class="string" id="7572764">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7572790">,</span>&nbsp;<span class="ident" id="7572792">test</span><span class="op" id="7572796">.</span><span class="ident" id="7572797">name</span><span class="op" id="7572801">,</span>&nbsp;<span class="ident" id="7572803">err</span><span class="op" id="7572806">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7572811">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7572826">if</span>&nbsp;<span class="ident" id="7572829">empty</span>&nbsp;<span class="op" id="7572835">:=</span>&nbsp;<span class="ident" id="7572838">IsEmptyTree</span><span class="op" id="7572849">(</span><span class="ident" id="7572850">tree</span><span class="op" id="7572854">.</span><span class="ident" id="7572855">Root</span><span class="op" id="7572859">)</span><span class="op" id="7572860">;</span>&nbsp;<span class="ident" id="7572862">empty</span>&nbsp;<span class="op" id="7572868">!=</span>&nbsp;<span class="ident" id="7572871">test</span><span class="op" id="7572875">.</span><span class="ident" id="7572876">empty</span>&nbsp;<span class="op" id="7572882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7572887">t</span><span class="op" id="7572888">.</span><span class="ident" id="7572889">Errorf</span><span class="op" id="7572895">(</span><span class="string" id="7572896">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="7572920">,</span>&nbsp;<span class="ident" id="7572922">test</span><span class="op" id="7572926">.</span><span class="ident" id="7572927">name</span><span class="op" id="7572931">,</span>&nbsp;<span class="ident" id="7572933">test</span><span class="op" id="7572937">.</span><span class="ident" id="7572938">empty</span><span class="op" id="7572943">,</span>&nbsp;<span class="ident" id="7572945">empty</span><span class="op" id="7572950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572954">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7572957">}</span><br>
<span class="lineno"></span><span class="op" id="7572959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7572962">func</span>&nbsp;<span class="ident" id="7572967">TestErrorContextWithTreeCopy</span><span class="op" id="7572995">(</span><span class="ident" id="7572996">t</span>&nbsp;<span class="op" id="7572998">*</span><span class="ident" id="7572999">testing</span><span class="op" id="7573006">.</span><span class="ident" id="7573007">T</span><span class="op" id="7573008">)</span>&nbsp;<span class="op" id="7573010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573013">tree</span><span class="op" id="7573017">,</span>&nbsp;<span class="ident" id="7573019">err</span>&nbsp;<span class="op" id="7573023">:=</span>&nbsp;<span class="ident" id="7573026">New</span><span class="op" id="7573029">(</span><span class="string" id="7573030">&#34;root&#34;</span><span class="op" id="7573036">)</span><span class="op" id="7573037">.</span><span class="ident" id="7573038">Parse</span><span class="op" id="7573043">(</span><span class="string" id="7573044">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="7573064">,</span>&nbsp;<span class="string" id="7573066">&#34;&#34;</span><span class="op" id="7573068">,</span>&nbsp;<span class="string" id="7573070">&#34;&#34;</span><span class="op" id="7573072">,</span>&nbsp;<span class="builtinfunc" id="7573074">make</span><span class="op" id="7573078">(</span><span class="keyword" id="7573079">map</span><span class="op" id="7573082">[</span><span class="builtintype" id="7573083">string</span><span class="op" id="7573089">]</span><span class="op" id="7573090">*</span><span class="ident" id="7573091">Tree</span><span class="op" id="7573095">)</span><span class="op" id="7573096">,</span>&nbsp;<span class="builtintype" id="7573098">nil</span><span class="op" id="7573101">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7573104">if</span>&nbsp;<span class="ident" id="7573107">err</span>&nbsp;<span class="op" id="7573111">!=</span>&nbsp;<span class="builtintype" id="7573114">nil</span>&nbsp;<span class="op" id="7573118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573122">t</span><span class="op" id="7573123">.</span><span class="ident" id="7573124">Fatalf</span><span class="op" id="7573130">(</span><span class="string" id="7573131">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="7573166">,</span>&nbsp;<span class="ident" id="7573168">err</span><span class="op" id="7573171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7573174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573177">treeCopy</span>&nbsp;<span class="op" id="7573186">:=</span>&nbsp;<span class="ident" id="7573189">tree</span><span class="op" id="7573193">.</span><span class="ident" id="7573194">Copy</span><span class="op" id="7573198">(</span><span class="op" id="7573199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573202">wantLocation</span><span class="op" id="7573214">,</span>&nbsp;<span class="ident" id="7573216">wantContext</span>&nbsp;<span class="op" id="7573228">:=</span>&nbsp;<span class="ident" id="7573231">tree</span><span class="op" id="7573235">.</span><span class="ident" id="7573236">ErrorContext</span><span class="op" id="7573248">(</span><span class="ident" id="7573249">tree</span><span class="op" id="7573253">.</span><span class="ident" id="7573254">Root</span><span class="op" id="7573258">.</span><span class="ident" id="7573259">Nodes</span><span class="op" id="7573264">[</span><span class="num" id="7573265">0</span><span class="op" id="7573266">]</span><span class="op" id="7573267">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573270">gotLocation</span><span class="op" id="7573281">,</span>&nbsp;<span class="ident" id="7573283">gotContext</span>&nbsp;<span class="op" id="7573294">:=</span>&nbsp;<span class="ident" id="7573297">treeCopy</span><span class="op" id="7573305">.</span><span class="ident" id="7573306">ErrorContext</span><span class="op" id="7573318">(</span><span class="ident" id="7573319">treeCopy</span><span class="op" id="7573327">.</span><span class="ident" id="7573328">Root</span><span class="op" id="7573332">.</span><span class="ident" id="7573333">Nodes</span><span class="op" id="7573338">[</span><span class="num" id="7573339">0</span><span class="op" id="7573340">]</span><span class="op" id="7573341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7573344">if</span>&nbsp;<span class="ident" id="7573347">wantLocation</span>&nbsp;<span class="op" id="7573360">!=</span>&nbsp;<span class="ident" id="7573363">gotLocation</span>&nbsp;<span class="op" id="7573375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573379">t</span><span class="op" id="7573380">.</span><span class="ident" id="7573381">Errorf</span><span class="op" id="7573387">(</span><span class="string" id="7573388">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7573425">,</span>&nbsp;<span class="ident" id="7573427">wantLocation</span><span class="op" id="7573439">,</span>&nbsp;<span class="ident" id="7573441">gotLocation</span><span class="op" id="7573452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7573455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7573458">if</span>&nbsp;<span class="ident" id="7573461">wantContext</span>&nbsp;<span class="op" id="7573473">!=</span>&nbsp;<span class="ident" id="7573476">gotContext</span>&nbsp;<span class="op" id="7573487">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573491">t</span><span class="op" id="7573492">.</span><span class="ident" id="7573493">Errorf</span><span class="op" id="7573499">(</span><span class="string" id="7573500">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7573537">,</span>&nbsp;<span class="ident" id="7573539">wantContext</span><span class="op" id="7573550">,</span>&nbsp;<span class="ident" id="7573552">gotContext</span><span class="op" id="7573562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7573565">}</span><br>
<span class="lineno"></span><span class="op" id="7573567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7573570">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="7573653">var</span>&nbsp;<span class="ident" id="7573657">errorTests</span>&nbsp;<span class="op" id="7573668">=</span>&nbsp;<span class="op" id="7573670">[</span><span class="op" id="7573671">]</span><span class="ident" id="7573672">parseTest</span><span class="op" id="7573681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7573684">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7573721">{</span><span class="string" id="7573722">&#34;unclosed1&#34;</span><span class="op" id="7573733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7573737">&#34;line1\n{{&#34;</span><span class="op" id="7573748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573752">hasError</span><span class="op" id="7573760">,</span>&nbsp;<span class="string" id="7573762">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7573814">}</span><span class="op" id="7573815">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7573818">{</span><span class="string" id="7573819">&#34;unclosed2&#34;</span><span class="op" id="7573830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7573834">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="7573866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573870">hasError</span><span class="op" id="7573878">,</span>&nbsp;<span class="string" id="7573880">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7573932">}</span><span class="op" id="7573933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7573936">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7573957">{</span><span class="string" id="7573958">&#34;function&#34;</span><span class="op" id="7573968">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7573972">&#34;{{foo}}&#34;</span><span class="op" id="7573981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7573985">hasError</span><span class="op" id="7573993">,</span>&nbsp;<span class="string" id="7573995">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="7574023">}</span><span class="op" id="7574024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574027">{</span><span class="string" id="7574028">&#34;comment&#34;</span><span class="op" id="7574037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574041">&#34;{{/*}}&#34;</span><span class="op" id="7574049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574053">hasError</span><span class="op" id="7574061">,</span>&nbsp;<span class="string" id="7574063">`unclosed&nbsp;comment`</span><span class="op" id="7574081">}</span><span class="op" id="7574082">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574085">{</span><span class="string" id="7574086">&#34;lparen&#34;</span><span class="op" id="7574094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574098">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="7574113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574117">hasError</span><span class="op" id="7574125">,</span>&nbsp;<span class="string" id="7574127">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="7574148">}</span><span class="op" id="7574149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574152">{</span><span class="string" id="7574153">&#34;rparen&#34;</span><span class="op" id="7574161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574165">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="7574180">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574184">hasError</span><span class="op" id="7574192">,</span>&nbsp;<span class="string" id="7574194">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="7574210">}</span><span class="op" id="7574211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574214">{</span><span class="string" id="7574215">&#34;space&#34;</span><span class="op" id="7574222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574226">&#34;{{`x`3}}&#34;</span><span class="op" id="7574236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574240">hasError</span><span class="op" id="7574248">,</span>&nbsp;<span class="string" id="7574250">`missing&nbsp;space?`</span><span class="op" id="7574266">}</span><span class="op" id="7574267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574270">{</span><span class="string" id="7574271">&#34;idchar&#34;</span><span class="op" id="7574279">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574283">&#34;{{a#}}&#34;</span><span class="op" id="7574291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574295">hasError</span><span class="op" id="7574303">,</span>&nbsp;<span class="string" id="7574305">`&#39;#&#39;`</span><span class="op" id="7574310">}</span><span class="op" id="7574311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574314">{</span><span class="string" id="7574315">&#34;charconst&#34;</span><span class="op" id="7574326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574330">&#34;{{&#39;a}}&#34;</span><span class="op" id="7574338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574342">hasError</span><span class="op" id="7574350">,</span>&nbsp;<span class="string" id="7574352">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="7574385">}</span><span class="op" id="7574386">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574389">{</span><span class="string" id="7574390">&#34;stringconst&#34;</span><span class="op" id="7574403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574407">`{{&#34;a}}`</span><span class="op" id="7574415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574419">hasError</span><span class="op" id="7574427">,</span>&nbsp;<span class="string" id="7574429">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="7574457">}</span><span class="op" id="7574458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574461">{</span><span class="string" id="7574462">&#34;rawstringconst&#34;</span><span class="op" id="7574478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574482">&#34;{{`a}}&#34;</span><span class="op" id="7574490">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574494">hasError</span><span class="op" id="7574502">,</span>&nbsp;<span class="string" id="7574504">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="7574536">}</span><span class="op" id="7574537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574540">{</span><span class="string" id="7574541">&#34;number&#34;</span><span class="op" id="7574549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574553">&#34;{{0xi}}&#34;</span><span class="op" id="7574562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574566">hasError</span><span class="op" id="7574574">,</span>&nbsp;<span class="string" id="7574576">`number&nbsp;syntax`</span><span class="op" id="7574591">}</span><span class="op" id="7574592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574595">{</span><span class="string" id="7574596">&#34;multidefine&#34;</span><span class="op" id="7574609">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574613">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="7574659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574663">hasError</span><span class="op" id="7574671">,</span>&nbsp;<span class="string" id="7574673">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="7574706">}</span><span class="op" id="7574707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574710">{</span><span class="string" id="7574711">&#34;eof&#34;</span><span class="op" id="7574716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574720">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="7574734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574738">hasError</span><span class="op" id="7574746">,</span>&nbsp;<span class="string" id="7574748">`unexpected&nbsp;EOF`</span><span class="op" id="7574764">}</span><span class="op" id="7574765">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574768">{</span><span class="string" id="7574769">&#34;variable&#34;</span><span class="op" id="7574779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7574783">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574882">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7574930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7574934">hasError</span><span class="op" id="7574942">,</span>&nbsp;<span class="string" id="7574944">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="7574961">}</span><span class="op" id="7574962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7574965">{</span><span class="string" id="7574966">&#34;multidecl&#34;</span><span class="op" id="7574977">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7574981">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="7575001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7575005">hasError</span><span class="op" id="7575013">,</span>&nbsp;<span class="string" id="7575015">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="7575038">}</span><span class="op" id="7575039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7575042">{</span><span class="string" id="7575043">&#34;undefvar&#34;</span><span class="op" id="7575053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7575057">&#34;{{$a}}&#34;</span><span class="op" id="7575065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7575069">hasError</span><span class="op" id="7575077">,</span>&nbsp;<span class="string" id="7575079">`undefined&nbsp;variable`</span><span class="op" id="7575099">}</span><span class="op" id="7575100">,</span><br>
<span class="lineno">410</span><span class="op" id="7575102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7575105">func</span>&nbsp;<span class="ident" id="7575110">TestErrors</span><span class="op" id="7575120">(</span><span class="ident" id="7575121">t</span>&nbsp;<span class="op" id="7575123">*</span><span class="ident" id="7575124">testing</span><span class="op" id="7575131">.</span><span class="ident" id="7575132">T</span><span class="op" id="7575133">)</span>&nbsp;<span class="op" id="7575135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7575138">for</span>&nbsp;<span class="ident" id="7575142">_</span><span class="op" id="7575143">,</span>&nbsp;<span class="ident" id="7575145">test</span>&nbsp;<span class="op" id="7575150">:=</span>&nbsp;<span class="keyword" id="7575153">range</span>&nbsp;<span class="ident" id="7575159">errorTests</span>&nbsp;<span class="op" id="7575170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7575174">_</span><span class="op" id="7575175">,</span>&nbsp;<span class="ident" id="7575177">err</span>&nbsp;<span class="op" id="7575181">:=</span>&nbsp;<span class="ident" id="7575184">New</span><span class="op" id="7575187">(</span><span class="ident" id="7575188">test</span><span class="op" id="7575192">.</span><span class="ident" id="7575193">name</span><span class="op" id="7575197">)</span><span class="op" id="7575198">.</span><span class="ident" id="7575199">Parse</span><span class="op" id="7575204">(</span><span class="ident" id="7575205">test</span><span class="op" id="7575209">.</span><span class="ident" id="7575210">input</span><span class="op" id="7575215">,</span>&nbsp;<span class="string" id="7575217">&#34;&#34;</span><span class="op" id="7575219">,</span>&nbsp;<span class="string" id="7575221">&#34;&#34;</span><span class="op" id="7575223">,</span>&nbsp;<span class="builtinfunc" id="7575225">make</span><span class="op" id="7575229">(</span><span class="keyword" id="7575230">map</span><span class="op" id="7575233">[</span><span class="builtintype" id="7575234">string</span><span class="op" id="7575240">]</span><span class="op" id="7575241">*</span><span class="ident" id="7575242">Tree</span><span class="op" id="7575246">)</span><span class="op" id="7575247">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7575251">if</span>&nbsp;<span class="ident" id="7575254">err</span>&nbsp;<span class="op" id="7575258">==</span>&nbsp;<span class="builtintype" id="7575261">nil</span>&nbsp;<span class="op" id="7575265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7575270">t</span><span class="op" id="7575271">.</span><span class="ident" id="7575272">Errorf</span><span class="op" id="7575278">(</span><span class="string" id="7575279">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="7575299">,</span>&nbsp;<span class="ident" id="7575301">test</span><span class="op" id="7575305">.</span><span class="ident" id="7575306">name</span><span class="op" id="7575310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7575315">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7575326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7575330">if</span>&nbsp;<span class="op" id="7575333">!</span><span class="ident" id="7575334">strings</span><span class="op" id="7575341">.</span><span class="ident" id="7575342">Contains</span><span class="op" id="7575350">(</span><span class="ident" id="7575351">err</span><span class="op" id="7575354">.</span><span class="ident" id="7575355">Error</span><span class="op" id="7575360">(</span><span class="op" id="7575361">)</span><span class="op" id="7575362">,</span>&nbsp;<span class="ident" id="7575364">test</span><span class="op" id="7575368">.</span><span class="ident" id="7575369">result</span><span class="op" id="7575375">)</span>&nbsp;<span class="op" id="7575377">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7575382">t</span><span class="op" id="7575383">.</span><span class="ident" id="7575384">Errorf</span><span class="op" id="7575390">(</span><span class="string" id="7575391">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="7575425">,</span>&nbsp;<span class="ident" id="7575427">test</span><span class="op" id="7575431">.</span><span class="ident" id="7575432">name</span><span class="op" id="7575436">,</span>&nbsp;<span class="ident" id="7575438">err</span><span class="op" id="7575441">,</span>&nbsp;<span class="ident" id="7575443">test</span><span class="op" id="7575447">.</span><span class="ident" id="7575448">result</span><span class="op" id="7575454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7575458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7575461">}</span><br>
<span class="lineno"></span><span class="op" id="7575463">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
