<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html" class="current">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3979654">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3979709">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3979763">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3979814">//&nbsp;Simple&nbsp;file&nbsp;i/o&nbsp;and&nbsp;string&nbsp;manipulation,&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="3979867">//&nbsp;depending&nbsp;on&nbsp;strconv&nbsp;and&nbsp;bufio&nbsp;and&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3979915">package</span>&nbsp;<span class="ident" id="3979923">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3979928">import</span>&nbsp;<span class="op" id="3979935">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3979938">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3979944">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3979949">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3979952">type</span>&nbsp;<span class="ident" id="3979957">file</span>&nbsp;<span class="keyword" id="3979962">struct</span>&nbsp;<span class="op" id="3979969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3979972">file</span>&nbsp;&nbsp;<span class="op" id="3979978">*</span><span class="ident" id="3979979">os</span><span class="op" id="3979981">.</span><span class="ident" id="3979982">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3979988">data</span>&nbsp;&nbsp;<span class="op" id="3979994">[</span><span class="op" id="3979995">]</span><span class="builtintype" id="3979996">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980002">atEOF</span>&nbsp;<span class="builtintype" id="3980008">bool</span><br>
<span class="lineno"></span><span class="op" id="3980013">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3980016">func</span>&nbsp;<span class="op" id="3980021">(</span><span class="ident" id="3980022">f</span>&nbsp;<span class="op" id="3980024">*</span><span class="ident" id="3980025">file</span><span class="op" id="3980029">)</span>&nbsp;<span class="builtinfunc" id="3980031">close</span><span class="op" id="3980036">(</span><span class="op" id="3980037">)</span>&nbsp;<span class="op" id="3980039">{</span>&nbsp;<span class="ident" id="3980041">f</span><span class="op" id="3980042">.</span><span class="ident" id="3980043">file</span><span class="op" id="3980047">.</span><span class="ident" id="3980048">Close</span><span class="op" id="3980053">(</span><span class="op" id="3980054">)</span>&nbsp;<span class="op" id="3980056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3980059">func</span>&nbsp;<span class="op" id="3980064">(</span><span class="ident" id="3980065">f</span>&nbsp;<span class="op" id="3980067">*</span><span class="ident" id="3980068">file</span><span class="op" id="3980072">)</span>&nbsp;<span class="ident" id="3980074">getLineFromData</span><span class="op" id="3980089">(</span><span class="op" id="3980090">)</span>&nbsp;<span class="op" id="3980092">(</span><span class="ident" id="3980093">s</span>&nbsp;<span class="builtintype" id="3980095">string</span><span class="op" id="3980101">,</span>&nbsp;<span class="ident" id="3980103">ok</span>&nbsp;<span class="builtintype" id="3980106">bool</span><span class="op" id="3980110">)</span>&nbsp;<span class="op" id="3980112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980115">data</span>&nbsp;<span class="op" id="3980120">:=</span>&nbsp;<span class="ident" id="3980123">f</span><span class="op" id="3980124">.</span><span class="ident" id="3980125">data</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980131">i</span>&nbsp;<span class="op" id="3980133">:=</span>&nbsp;<span class="num" id="3980136">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980139">for</span>&nbsp;<span class="ident" id="3980143">i</span>&nbsp;<span class="op" id="3980145">=</span>&nbsp;<span class="num" id="3980147">0</span><span class="op" id="3980148">;</span>&nbsp;<span class="ident" id="3980150">i</span>&nbsp;<span class="op" id="3980152">&lt;</span>&nbsp;<span class="builtinfunc" id="3980154">len</span><span class="op" id="3980157">(</span><span class="ident" id="3980158">data</span><span class="op" id="3980162">)</span><span class="op" id="3980163">;</span>&nbsp;<span class="ident" id="3980165">i</span><span class="op" id="3980166">++</span>&nbsp;<span class="op" id="3980169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980173">if</span>&nbsp;<span class="ident" id="3980176">data</span><span class="op" id="3980180">[</span><span class="ident" id="3980181">i</span><span class="op" id="3980182">]</span>&nbsp;<span class="op" id="3980184">==</span>&nbsp;<span class="string" id="3980187">&#39;\n&#39;</span>&nbsp;<span class="op" id="3980192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980197">s</span>&nbsp;<span class="op" id="3980199">=</span>&nbsp;<span class="builtintype" id="3980201">string</span><span class="op" id="3980207">(</span><span class="ident" id="3980208">data</span><span class="op" id="3980212">[</span><span class="num" id="3980213">0</span><span class="op" id="3980214">:</span><span class="ident" id="3980215">i</span><span class="op" id="3980216">]</span><span class="op" id="3980217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980222">ok</span>&nbsp;<span class="op" id="3980225">=</span>&nbsp;<span class="builtintype" id="3980227">true</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3980235">//&nbsp;move&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980251">i</span><span class="op" id="3980252">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980258">n</span>&nbsp;<span class="op" id="3980260">:=</span>&nbsp;<span class="builtinfunc" id="3980263">len</span><span class="op" id="3980266">(</span><span class="ident" id="3980267">data</span><span class="op" id="3980271">)</span>&nbsp;<span class="op" id="3980273">-</span>&nbsp;<span class="ident" id="3980275">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3980280">copy</span><span class="op" id="3980284">(</span><span class="ident" id="3980285">data</span><span class="op" id="3980289">[</span><span class="num" id="3980290">0</span><span class="op" id="3980291">:</span><span class="op" id="3980292">]</span><span class="op" id="3980293">,</span>&nbsp;<span class="ident" id="3980295">data</span><span class="op" id="3980299">[</span><span class="ident" id="3980300">i</span><span class="op" id="3980301">:</span><span class="op" id="3980302">]</span><span class="op" id="3980303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980308">f</span><span class="op" id="3980309">.</span><span class="ident" id="3980310">data</span>&nbsp;<span class="op" id="3980315">=</span>&nbsp;<span class="ident" id="3980317">data</span><span class="op" id="3980321">[</span><span class="num" id="3980322">0</span><span class="op" id="3980323">:</span><span class="ident" id="3980324">n</span><span class="op" id="3980325">]</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980330">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980345">if</span>&nbsp;<span class="ident" id="3980348">f</span><span class="op" id="3980349">.</span><span class="ident" id="3980350">atEOF</span>&nbsp;<span class="op" id="3980356">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3980359">len</span><span class="op" id="3980362">(</span><span class="ident" id="3980363">f</span><span class="op" id="3980364">.</span><span class="ident" id="3980365">data</span><span class="op" id="3980369">)</span>&nbsp;<span class="op" id="3980371">&gt;</span>&nbsp;<span class="num" id="3980373">0</span>&nbsp;<span class="op" id="3980375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3980379">//&nbsp;EOF,&nbsp;return&nbsp;all&nbsp;we&nbsp;have</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980408">s</span>&nbsp;<span class="op" id="3980410">=</span>&nbsp;<span class="builtintype" id="3980412">string</span><span class="op" id="3980418">(</span><span class="ident" id="3980419">data</span><span class="op" id="3980423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980427">f</span><span class="op" id="3980428">.</span><span class="ident" id="3980429">data</span>&nbsp;<span class="op" id="3980434">=</span>&nbsp;<span class="ident" id="3980436">f</span><span class="op" id="3980437">.</span><span class="ident" id="3980438">data</span><span class="op" id="3980442">[</span><span class="num" id="3980443">0</span><span class="op" id="3980444">:</span><span class="num" id="3980445">0</span><span class="op" id="3980446">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980450">ok</span>&nbsp;<span class="op" id="3980453">=</span>&nbsp;<span class="builtintype" id="3980455">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980464">return</span><br>
<span class="lineno">45</span><span class="op" id="3980471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3980474">func</span>&nbsp;<span class="op" id="3980479">(</span><span class="ident" id="3980480">f</span>&nbsp;<span class="op" id="3980482">*</span><span class="ident" id="3980483">file</span><span class="op" id="3980487">)</span>&nbsp;<span class="ident" id="3980489">readLine</span><span class="op" id="3980497">(</span><span class="op" id="3980498">)</span>&nbsp;<span class="op" id="3980500">(</span><span class="ident" id="3980501">s</span>&nbsp;<span class="builtintype" id="3980503">string</span><span class="op" id="3980509">,</span>&nbsp;<span class="ident" id="3980511">ok</span>&nbsp;<span class="builtintype" id="3980514">bool</span><span class="op" id="3980518">)</span>&nbsp;<span class="op" id="3980520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980523">if</span>&nbsp;<span class="ident" id="3980526">s</span><span class="op" id="3980527">,</span>&nbsp;<span class="ident" id="3980529">ok</span>&nbsp;<span class="op" id="3980532">=</span>&nbsp;<span class="ident" id="3980534">f</span><span class="op" id="3980535">.</span><span class="ident" id="3980536">getLineFromData</span><span class="op" id="3980551">(</span><span class="op" id="3980552">)</span><span class="op" id="3980553">;</span>&nbsp;<span class="ident" id="3980555">ok</span>&nbsp;<span class="op" id="3980558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980562">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980573">if</span>&nbsp;<span class="builtinfunc" id="3980576">len</span><span class="op" id="3980579">(</span><span class="ident" id="3980580">f</span><span class="op" id="3980581">.</span><span class="ident" id="3980582">data</span><span class="op" id="3980586">)</span>&nbsp;<span class="op" id="3980588">&lt;</span>&nbsp;<span class="builtinfunc" id="3980590">cap</span><span class="op" id="3980593">(</span><span class="ident" id="3980594">f</span><span class="op" id="3980595">.</span><span class="ident" id="3980596">data</span><span class="op" id="3980600">)</span>&nbsp;<span class="op" id="3980602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980606">ln</span>&nbsp;<span class="op" id="3980609">:=</span>&nbsp;<span class="builtinfunc" id="3980612">len</span><span class="op" id="3980615">(</span><span class="ident" id="3980616">f</span><span class="op" id="3980617">.</span><span class="ident" id="3980618">data</span><span class="op" id="3980622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980626">n</span><span class="op" id="3980627">,</span>&nbsp;<span class="ident" id="3980629">err</span>&nbsp;<span class="op" id="3980633">:=</span>&nbsp;<span class="ident" id="3980636">io</span><span class="op" id="3980638">.</span><span class="ident" id="3980639">ReadFull</span><span class="op" id="3980647">(</span><span class="ident" id="3980648">f</span><span class="op" id="3980649">.</span><span class="ident" id="3980650">file</span><span class="op" id="3980654">,</span>&nbsp;<span class="ident" id="3980656">f</span><span class="op" id="3980657">.</span><span class="ident" id="3980658">data</span><span class="op" id="3980662">[</span><span class="ident" id="3980663">ln</span><span class="op" id="3980665">:</span><span class="builtinfunc" id="3980666">cap</span><span class="op" id="3980669">(</span><span class="ident" id="3980670">f</span><span class="op" id="3980671">.</span><span class="ident" id="3980672">data</span><span class="op" id="3980676">)</span><span class="op" id="3980677">]</span><span class="op" id="3980678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980682">if</span>&nbsp;<span class="ident" id="3980685">n</span>&nbsp;<span class="op" id="3980687">&gt;=</span>&nbsp;<span class="num" id="3980690">0</span>&nbsp;<span class="op" id="3980692">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980697">f</span><span class="op" id="3980698">.</span><span class="ident" id="3980699">data</span>&nbsp;<span class="op" id="3980704">=</span>&nbsp;<span class="ident" id="3980706">f</span><span class="op" id="3980707">.</span><span class="ident" id="3980708">data</span><span class="op" id="3980712">[</span><span class="num" id="3980713">0</span>&nbsp;<span class="op" id="3980715">:</span>&nbsp;<span class="ident" id="3980717">ln</span><span class="op" id="3980719">+</span><span class="ident" id="3980720">n</span><span class="op" id="3980721">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980729">if</span>&nbsp;<span class="ident" id="3980732">err</span>&nbsp;<span class="op" id="3980736">==</span>&nbsp;<span class="ident" id="3980739">io</span><span class="op" id="3980741">.</span><span class="ident" id="3980742">EOF</span>&nbsp;<span class="op" id="3980746">||</span>&nbsp;<span class="ident" id="3980749">err</span>&nbsp;<span class="op" id="3980753">==</span>&nbsp;<span class="ident" id="3980756">io</span><span class="op" id="3980758">.</span><span class="ident" id="3980759">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="3980776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980781">f</span><span class="op" id="3980782">.</span><span class="ident" id="3980783">atEOF</span>&nbsp;<span class="op" id="3980789">=</span>&nbsp;<span class="builtintype" id="3980791">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980798">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980804">s</span><span class="op" id="3980805">,</span>&nbsp;<span class="ident" id="3980807">ok</span>&nbsp;<span class="op" id="3980810">=</span>&nbsp;<span class="ident" id="3980812">f</span><span class="op" id="3980813">.</span><span class="ident" id="3980814">getLineFromData</span><span class="op" id="3980829">(</span><span class="op" id="3980830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980833">return</span><br>
<span class="lineno"></span><span class="op" id="3980840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3980843">func</span>&nbsp;<span class="ident" id="3980848">open</span><span class="op" id="3980852">(</span><span class="ident" id="3980853">name</span>&nbsp;<span class="builtintype" id="3980858">string</span><span class="op" id="3980864">)</span>&nbsp;<span class="op" id="3980866">(</span><span class="op" id="3980867">*</span><span class="ident" id="3980868">file</span><span class="op" id="3980872">,</span>&nbsp;<span class="builtintype" id="3980874">error</span><span class="op" id="3980879">)</span>&nbsp;<span class="op" id="3980881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3980884">fd</span><span class="op" id="3980886">,</span>&nbsp;<span class="ident" id="3980888">err</span>&nbsp;<span class="op" id="3980892">:=</span>&nbsp;<span class="ident" id="3980895">os</span><span class="op" id="3980897">.</span><span class="ident" id="3980898">Open</span><span class="op" id="3980902">(</span><span class="ident" id="3980903">name</span><span class="op" id="3980907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980910">if</span>&nbsp;<span class="ident" id="3980913">err</span>&nbsp;<span class="op" id="3980917">!=</span>&nbsp;<span class="builtintype" id="3980920">nil</span>&nbsp;<span class="op" id="3980924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980928">return</span>&nbsp;<span class="builtintype" id="3980935">nil</span><span class="op" id="3980938">,</span>&nbsp;<span class="ident" id="3980940">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3980945">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3980948">return</span>&nbsp;<span class="op" id="3980955">&amp;</span><span class="ident" id="3980956">file</span><span class="op" id="3980960">{</span><span class="ident" id="3980961">fd</span><span class="op" id="3980963">,</span>&nbsp;<span class="builtinfunc" id="3980965">make</span><span class="op" id="3980969">(</span><span class="op" id="3980970">[</span><span class="op" id="3980971">]</span><span class="builtintype" id="3980972">byte</span><span class="op" id="3980976">,</span>&nbsp;<span class="num" id="3980978">0</span><span class="op" id="3980979">,</span>&nbsp;<span class="ident" id="3980981">os</span><span class="op" id="3980983">.</span><span class="ident" id="3980984">Getpagesize</span><span class="op" id="3980995">(</span><span class="op" id="3980996">)</span><span class="op" id="3980997">)</span><span class="op" id="3980998">,</span>&nbsp;<span class="builtintype" id="3981000">false</span><span class="op" id="3981005">}</span><span class="op" id="3981006">,</span>&nbsp;<span class="builtintype" id="3981008">nil</span><br>
<span class="lineno"></span><span class="op" id="3981012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3981015">func</span>&nbsp;<span class="ident" id="3981020">byteIndex</span><span class="op" id="3981029">(</span><span class="ident" id="3981030">s</span>&nbsp;<span class="builtintype" id="3981032">string</span><span class="op" id="3981038">,</span>&nbsp;<span class="ident" id="3981040">c</span>&nbsp;<span class="builtintype" id="3981042">byte</span><span class="op" id="3981046">)</span>&nbsp;<span class="builtintype" id="3981048">int</span>&nbsp;<span class="op" id="3981052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981055">for</span>&nbsp;<span class="ident" id="3981059">i</span>&nbsp;<span class="op" id="3981061">:=</span>&nbsp;<span class="num" id="3981064">0</span><span class="op" id="3981065">;</span>&nbsp;<span class="ident" id="3981067">i</span>&nbsp;<span class="op" id="3981069">&lt;</span>&nbsp;<span class="builtinfunc" id="3981071">len</span><span class="op" id="3981074">(</span><span class="ident" id="3981075">s</span><span class="op" id="3981076">)</span><span class="op" id="3981077">;</span>&nbsp;<span class="ident" id="3981079">i</span><span class="op" id="3981080">++</span>&nbsp;<span class="op" id="3981083">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981087">if</span>&nbsp;<span class="ident" id="3981090">s</span><span class="op" id="3981091">[</span><span class="ident" id="3981092">i</span><span class="op" id="3981093">]</span>&nbsp;<span class="op" id="3981095">==</span>&nbsp;<span class="ident" id="3981098">c</span>&nbsp;<span class="op" id="3981100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981105">return</span>&nbsp;<span class="ident" id="3981112">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981122">return</span>&nbsp;<span class="op" id="3981129">-</span><span class="num" id="3981130">1</span><br>
<span class="lineno">80</span><span class="op" id="3981132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3981135">//&nbsp;Count&nbsp;occurrences&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3981180">func</span>&nbsp;<span class="ident" id="3981185">countAnyByte</span><span class="op" id="3981197">(</span><span class="ident" id="3981198">s</span>&nbsp;<span class="builtintype" id="3981200">string</span><span class="op" id="3981206">,</span>&nbsp;<span class="ident" id="3981208">t</span>&nbsp;<span class="builtintype" id="3981210">string</span><span class="op" id="3981216">)</span>&nbsp;<span class="builtintype" id="3981218">int</span>&nbsp;<span class="op" id="3981222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981225">n</span>&nbsp;<span class="op" id="3981227">:=</span>&nbsp;<span class="num" id="3981230">0</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981233">for</span>&nbsp;<span class="ident" id="3981237">i</span>&nbsp;<span class="op" id="3981239">:=</span>&nbsp;<span class="num" id="3981242">0</span><span class="op" id="3981243">;</span>&nbsp;<span class="ident" id="3981245">i</span>&nbsp;<span class="op" id="3981247">&lt;</span>&nbsp;<span class="builtinfunc" id="3981249">len</span><span class="op" id="3981252">(</span><span class="ident" id="3981253">s</span><span class="op" id="3981254">)</span><span class="op" id="3981255">;</span>&nbsp;<span class="ident" id="3981257">i</span><span class="op" id="3981258">++</span>&nbsp;<span class="op" id="3981261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981265">if</span>&nbsp;<span class="ident" id="3981268">byteIndex</span><span class="op" id="3981277">(</span><span class="ident" id="3981278">t</span><span class="op" id="3981279">,</span>&nbsp;<span class="ident" id="3981281">s</span><span class="op" id="3981282">[</span><span class="ident" id="3981283">i</span><span class="op" id="3981284">]</span><span class="op" id="3981285">)</span>&nbsp;<span class="op" id="3981287">&gt;=</span>&nbsp;<span class="num" id="3981290">0</span>&nbsp;<span class="op" id="3981292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981297">n</span><span class="op" id="3981298">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981306">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981309">return</span>&nbsp;<span class="ident" id="3981316">n</span><br>
<span class="lineno"></span><span class="op" id="3981318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3981321">//&nbsp;Split&nbsp;s&nbsp;at&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3981351">func</span>&nbsp;<span class="ident" id="3981356">splitAtBytes</span><span class="op" id="3981368">(</span><span class="ident" id="3981369">s</span>&nbsp;<span class="builtintype" id="3981371">string</span><span class="op" id="3981377">,</span>&nbsp;<span class="ident" id="3981379">t</span>&nbsp;<span class="builtintype" id="3981381">string</span><span class="op" id="3981387">)</span>&nbsp;<span class="op" id="3981389">[</span><span class="op" id="3981390">]</span><span class="builtintype" id="3981391">string</span>&nbsp;<span class="op" id="3981398">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981401">a</span>&nbsp;<span class="op" id="3981403">:=</span>&nbsp;<span class="builtinfunc" id="3981406">make</span><span class="op" id="3981410">(</span><span class="op" id="3981411">[</span><span class="op" id="3981412">]</span><span class="builtintype" id="3981413">string</span><span class="op" id="3981419">,</span>&nbsp;<span class="num" id="3981421">1</span><span class="op" id="3981422">+</span><span class="ident" id="3981423">countAnyByte</span><span class="op" id="3981435">(</span><span class="ident" id="3981436">s</span><span class="op" id="3981437">,</span>&nbsp;<span class="ident" id="3981439">t</span><span class="op" id="3981440">)</span><span class="op" id="3981441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981444">n</span>&nbsp;<span class="op" id="3981446">:=</span>&nbsp;<span class="num" id="3981449">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981452">last</span>&nbsp;<span class="op" id="3981457">:=</span>&nbsp;<span class="num" id="3981460">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981463">for</span>&nbsp;<span class="ident" id="3981467">i</span>&nbsp;<span class="op" id="3981469">:=</span>&nbsp;<span class="num" id="3981472">0</span><span class="op" id="3981473">;</span>&nbsp;<span class="ident" id="3981475">i</span>&nbsp;<span class="op" id="3981477">&lt;</span>&nbsp;<span class="builtinfunc" id="3981479">len</span><span class="op" id="3981482">(</span><span class="ident" id="3981483">s</span><span class="op" id="3981484">)</span><span class="op" id="3981485">;</span>&nbsp;<span class="ident" id="3981487">i</span><span class="op" id="3981488">++</span>&nbsp;<span class="op" id="3981491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981495">if</span>&nbsp;<span class="ident" id="3981498">byteIndex</span><span class="op" id="3981507">(</span><span class="ident" id="3981508">t</span><span class="op" id="3981509">,</span>&nbsp;<span class="ident" id="3981511">s</span><span class="op" id="3981512">[</span><span class="ident" id="3981513">i</span><span class="op" id="3981514">]</span><span class="op" id="3981515">)</span>&nbsp;<span class="op" id="3981517">&gt;=</span>&nbsp;<span class="num" id="3981520">0</span>&nbsp;<span class="op" id="3981522">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981527">if</span>&nbsp;<span class="ident" id="3981530">last</span>&nbsp;<span class="op" id="3981535">&lt;</span>&nbsp;<span class="ident" id="3981537">i</span>&nbsp;<span class="op" id="3981539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981545">a</span><span class="op" id="3981546">[</span><span class="ident" id="3981547">n</span><span class="op" id="3981548">]</span>&nbsp;<span class="op" id="3981550">=</span>&nbsp;<span class="builtintype" id="3981552">string</span><span class="op" id="3981558">(</span><span class="ident" id="3981559">s</span><span class="op" id="3981560">[</span><span class="ident" id="3981561">last</span><span class="op" id="3981565">:</span><span class="ident" id="3981566">i</span><span class="op" id="3981567">]</span><span class="op" id="3981568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981574">n</span><span class="op" id="3981575">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981586">last</span>&nbsp;<span class="op" id="3981591">=</span>&nbsp;<span class="ident" id="3981593">i</span>&nbsp;<span class="op" id="3981595">+</span>&nbsp;<span class="num" id="3981597">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981607">if</span>&nbsp;<span class="ident" id="3981610">last</span>&nbsp;<span class="op" id="3981615">&lt;</span>&nbsp;<span class="builtinfunc" id="3981617">len</span><span class="op" id="3981620">(</span><span class="ident" id="3981621">s</span><span class="op" id="3981622">)</span>&nbsp;<span class="op" id="3981624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981628">a</span><span class="op" id="3981629">[</span><span class="ident" id="3981630">n</span><span class="op" id="3981631">]</span>&nbsp;<span class="op" id="3981633">=</span>&nbsp;<span class="builtintype" id="3981635">string</span><span class="op" id="3981641">(</span><span class="ident" id="3981642">s</span><span class="op" id="3981643">[</span><span class="ident" id="3981644">last</span><span class="op" id="3981648">:</span><span class="op" id="3981649">]</span><span class="op" id="3981650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981654">n</span><span class="op" id="3981655">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3981659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981662">return</span>&nbsp;<span class="ident" id="3981669">a</span><span class="op" id="3981670">[</span><span class="num" id="3981671">0</span><span class="op" id="3981672">:</span><span class="ident" id="3981673">n</span><span class="op" id="3981674">]</span><br>
<span class="lineno"></span><span class="op" id="3981676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3981679">func</span>&nbsp;<span class="ident" id="3981684">getFields</span><span class="op" id="3981693">(</span><span class="ident" id="3981694">s</span>&nbsp;<span class="builtintype" id="3981696">string</span><span class="op" id="3981702">)</span>&nbsp;<span class="op" id="3981704">[</span><span class="op" id="3981705">]</span><span class="builtintype" id="3981706">string</span>&nbsp;<span class="op" id="3981713">{</span>&nbsp;<span class="keyword" id="3981715">return</span>&nbsp;<span class="ident" id="3981722">splitAtBytes</span><span class="op" id="3981734">(</span><span class="ident" id="3981735">s</span><span class="op" id="3981736">,</span>&nbsp;<span class="string" id="3981738">&#34;&nbsp;\r\t\n&#34;</span><span class="op" id="3981747">)</span>&nbsp;<span class="op" id="3981749">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3981752">//&nbsp;Bigger&nbsp;than&nbsp;we&nbsp;need,&nbsp;not&nbsp;too&nbsp;big&nbsp;to&nbsp;worry&nbsp;about&nbsp;overflow</span><br>
<span class="lineno"></span><span class="keyword" id="3981812">const</span>&nbsp;<span class="ident" id="3981818">big</span>&nbsp;<span class="op" id="3981822">=</span>&nbsp;<span class="num" id="3981824">0xFFFFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3981834">//&nbsp;Decimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno">120</span><span class="comment" id="3981876">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3981916">func</span>&nbsp;<span class="ident" id="3981921">dtoi</span><span class="op" id="3981925">(</span><span class="ident" id="3981926">s</span>&nbsp;<span class="builtintype" id="3981928">string</span><span class="op" id="3981934">,</span>&nbsp;<span class="ident" id="3981936">i0</span>&nbsp;<span class="builtintype" id="3981939">int</span><span class="op" id="3981942">)</span>&nbsp;<span class="op" id="3981944">(</span><span class="ident" id="3981945">n</span>&nbsp;<span class="builtintype" id="3981947">int</span><span class="op" id="3981950">,</span>&nbsp;<span class="ident" id="3981952">i</span>&nbsp;<span class="builtintype" id="3981954">int</span><span class="op" id="3981957">,</span>&nbsp;<span class="ident" id="3981959">ok</span>&nbsp;<span class="builtintype" id="3981962">bool</span><span class="op" id="3981966">)</span>&nbsp;<span class="op" id="3981968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3981971">n</span>&nbsp;<span class="op" id="3981973">=</span>&nbsp;<span class="num" id="3981975">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3981978">for</span>&nbsp;<span class="ident" id="3981982">i</span>&nbsp;<span class="op" id="3981984">=</span>&nbsp;<span class="ident" id="3981986">i0</span><span class="op" id="3981988">;</span>&nbsp;<span class="ident" id="3981990">i</span>&nbsp;<span class="op" id="3981992">&lt;</span>&nbsp;<span class="builtinfunc" id="3981994">len</span><span class="op" id="3981997">(</span><span class="ident" id="3981998">s</span><span class="op" id="3981999">)</span>&nbsp;<span class="op" id="3982001">&amp;&amp;</span>&nbsp;<span class="string" id="3982004">&#39;0&#39;</span>&nbsp;<span class="op" id="3982008">&lt;=</span>&nbsp;<span class="ident" id="3982011">s</span><span class="op" id="3982012">[</span><span class="ident" id="3982013">i</span><span class="op" id="3982014">]</span>&nbsp;<span class="op" id="3982016">&amp;&amp;</span>&nbsp;<span class="ident" id="3982019">s</span><span class="op" id="3982020">[</span><span class="ident" id="3982021">i</span><span class="op" id="3982022">]</span>&nbsp;<span class="op" id="3982024">&lt;=</span>&nbsp;<span class="string" id="3982027">&#39;9&#39;</span><span class="op" id="3982030">;</span>&nbsp;<span class="ident" id="3982032">i</span><span class="op" id="3982033">++</span>&nbsp;<span class="op" id="3982036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982040">n</span>&nbsp;<span class="op" id="3982042">=</span>&nbsp;<span class="ident" id="3982044">n</span><span class="op" id="3982045">*</span><span class="num" id="3982046">10</span>&nbsp;<span class="op" id="3982049">+</span>&nbsp;<span class="builtintype" id="3982051">int</span><span class="op" id="3982054">(</span><span class="ident" id="3982055">s</span><span class="op" id="3982056">[</span><span class="ident" id="3982057">i</span><span class="op" id="3982058">]</span><span class="op" id="3982059">-</span><span class="string" id="3982060">&#39;0&#39;</span><span class="op" id="3982063">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982067">if</span>&nbsp;<span class="ident" id="3982070">n</span>&nbsp;<span class="op" id="3982072">&gt;=</span>&nbsp;<span class="ident" id="3982075">big</span>&nbsp;<span class="op" id="3982079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982084">return</span>&nbsp;<span class="num" id="3982091">0</span><span class="op" id="3982092">,</span>&nbsp;<span class="ident" id="3982094">i</span><span class="op" id="3982095">,</span>&nbsp;<span class="builtintype" id="3982097">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982111">if</span>&nbsp;<span class="ident" id="3982114">i</span>&nbsp;<span class="op" id="3982116">==</span>&nbsp;<span class="ident" id="3982119">i0</span>&nbsp;<span class="op" id="3982122">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982126">return</span>&nbsp;<span class="num" id="3982133">0</span><span class="op" id="3982134">,</span>&nbsp;<span class="ident" id="3982136">i</span><span class="op" id="3982137">,</span>&nbsp;<span class="builtintype" id="3982139">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982149">return</span>&nbsp;<span class="ident" id="3982156">n</span><span class="op" id="3982157">,</span>&nbsp;<span class="ident" id="3982159">i</span><span class="op" id="3982160">,</span>&nbsp;<span class="builtintype" id="3982162">true</span><br>
<span class="lineno"></span><span class="op" id="3982167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="3982170">//&nbsp;Hexadecimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno"></span><span class="comment" id="3982216">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3982256">func</span>&nbsp;<span class="ident" id="3982261">xtoi</span><span class="op" id="3982265">(</span><span class="ident" id="3982266">s</span>&nbsp;<span class="builtintype" id="3982268">string</span><span class="op" id="3982274">,</span>&nbsp;<span class="ident" id="3982276">i0</span>&nbsp;<span class="builtintype" id="3982279">int</span><span class="op" id="3982282">)</span>&nbsp;<span class="op" id="3982284">(</span><span class="ident" id="3982285">n</span>&nbsp;<span class="builtintype" id="3982287">int</span><span class="op" id="3982290">,</span>&nbsp;<span class="ident" id="3982292">i</span>&nbsp;<span class="builtintype" id="3982294">int</span><span class="op" id="3982297">,</span>&nbsp;<span class="ident" id="3982299">ok</span>&nbsp;<span class="builtintype" id="3982302">bool</span><span class="op" id="3982306">)</span>&nbsp;<span class="op" id="3982308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982311">n</span>&nbsp;<span class="op" id="3982313">=</span>&nbsp;<span class="num" id="3982315">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982318">for</span>&nbsp;<span class="ident" id="3982322">i</span>&nbsp;<span class="op" id="3982324">=</span>&nbsp;<span class="ident" id="3982326">i0</span><span class="op" id="3982328">;</span>&nbsp;<span class="ident" id="3982330">i</span>&nbsp;<span class="op" id="3982332">&lt;</span>&nbsp;<span class="builtinfunc" id="3982334">len</span><span class="op" id="3982337">(</span><span class="ident" id="3982338">s</span><span class="op" id="3982339">)</span><span class="op" id="3982340">;</span>&nbsp;<span class="ident" id="3982342">i</span><span class="op" id="3982343">++</span>&nbsp;<span class="op" id="3982346">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982350">if</span>&nbsp;<span class="string" id="3982353">&#39;0&#39;</span>&nbsp;<span class="op" id="3982357">&lt;=</span>&nbsp;<span class="ident" id="3982360">s</span><span class="op" id="3982361">[</span><span class="ident" id="3982362">i</span><span class="op" id="3982363">]</span>&nbsp;<span class="op" id="3982365">&amp;&amp;</span>&nbsp;<span class="ident" id="3982368">s</span><span class="op" id="3982369">[</span><span class="ident" id="3982370">i</span><span class="op" id="3982371">]</span>&nbsp;<span class="op" id="3982373">&lt;=</span>&nbsp;<span class="string" id="3982376">&#39;9&#39;</span>&nbsp;<span class="op" id="3982380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982385">n</span>&nbsp;<span class="op" id="3982387">*=</span>&nbsp;<span class="num" id="3982390">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982396">n</span>&nbsp;<span class="op" id="3982398">+=</span>&nbsp;<span class="builtintype" id="3982401">int</span><span class="op" id="3982404">(</span><span class="ident" id="3982405">s</span><span class="op" id="3982406">[</span><span class="ident" id="3982407">i</span><span class="op" id="3982408">]</span>&nbsp;<span class="op" id="3982410">-</span>&nbsp;<span class="string" id="3982412">&#39;0&#39;</span><span class="op" id="3982415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982419">}</span>&nbsp;<span class="keyword" id="3982421">else</span>&nbsp;<span class="keyword" id="3982426">if</span>&nbsp;<span class="string" id="3982429">&#39;a&#39;</span>&nbsp;<span class="op" id="3982433">&lt;=</span>&nbsp;<span class="ident" id="3982436">s</span><span class="op" id="3982437">[</span><span class="ident" id="3982438">i</span><span class="op" id="3982439">]</span>&nbsp;<span class="op" id="3982441">&amp;&amp;</span>&nbsp;<span class="ident" id="3982444">s</span><span class="op" id="3982445">[</span><span class="ident" id="3982446">i</span><span class="op" id="3982447">]</span>&nbsp;<span class="op" id="3982449">&lt;=</span>&nbsp;<span class="string" id="3982452">&#39;f&#39;</span>&nbsp;<span class="op" id="3982456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982461">n</span>&nbsp;<span class="op" id="3982463">*=</span>&nbsp;<span class="num" id="3982466">16</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982472">n</span>&nbsp;<span class="op" id="3982474">+=</span>&nbsp;<span class="builtintype" id="3982477">int</span><span class="op" id="3982480">(</span><span class="ident" id="3982481">s</span><span class="op" id="3982482">[</span><span class="ident" id="3982483">i</span><span class="op" id="3982484">]</span><span class="op" id="3982485">-</span><span class="string" id="3982486">&#39;a&#39;</span><span class="op" id="3982489">)</span>&nbsp;<span class="op" id="3982491">+</span>&nbsp;<span class="num" id="3982493">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982498">}</span>&nbsp;<span class="keyword" id="3982500">else</span>&nbsp;<span class="keyword" id="3982505">if</span>&nbsp;<span class="string" id="3982508">&#39;A&#39;</span>&nbsp;<span class="op" id="3982512">&lt;=</span>&nbsp;<span class="ident" id="3982515">s</span><span class="op" id="3982516">[</span><span class="ident" id="3982517">i</span><span class="op" id="3982518">]</span>&nbsp;<span class="op" id="3982520">&amp;&amp;</span>&nbsp;<span class="ident" id="3982523">s</span><span class="op" id="3982524">[</span><span class="ident" id="3982525">i</span><span class="op" id="3982526">]</span>&nbsp;<span class="op" id="3982528">&lt;=</span>&nbsp;<span class="string" id="3982531">&#39;F&#39;</span>&nbsp;<span class="op" id="3982535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982540">n</span>&nbsp;<span class="op" id="3982542">*=</span>&nbsp;<span class="num" id="3982545">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3982551">n</span>&nbsp;<span class="op" id="3982553">+=</span>&nbsp;<span class="builtintype" id="3982556">int</span><span class="op" id="3982559">(</span><span class="ident" id="3982560">s</span><span class="op" id="3982561">[</span><span class="ident" id="3982562">i</span><span class="op" id="3982563">]</span><span class="op" id="3982564">-</span><span class="string" id="3982565">&#39;A&#39;</span><span class="op" id="3982568">)</span>&nbsp;<span class="op" id="3982570">+</span>&nbsp;<span class="num" id="3982572">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982577">}</span>&nbsp;<span class="keyword" id="3982579">else</span>&nbsp;<span class="op" id="3982584">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982589">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982601">if</span>&nbsp;<span class="ident" id="3982604">n</span>&nbsp;<span class="op" id="3982606">&gt;=</span>&nbsp;<span class="ident" id="3982609">big</span>&nbsp;<span class="op" id="3982613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982618">return</span>&nbsp;<span class="num" id="3982625">0</span><span class="op" id="3982626">,</span>&nbsp;<span class="ident" id="3982628">i</span><span class="op" id="3982629">,</span>&nbsp;<span class="builtintype" id="3982631">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982639">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982645">if</span>&nbsp;<span class="ident" id="3982648">i</span>&nbsp;<span class="op" id="3982650">==</span>&nbsp;<span class="ident" id="3982653">i0</span>&nbsp;<span class="op" id="3982656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982660">return</span>&nbsp;<span class="num" id="3982667">0</span><span class="op" id="3982668">,</span>&nbsp;<span class="ident" id="3982670">i</span><span class="op" id="3982671">,</span>&nbsp;<span class="builtintype" id="3982673">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3982680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982683">return</span>&nbsp;<span class="ident" id="3982690">n</span><span class="op" id="3982691">,</span>&nbsp;<span class="ident" id="3982693">i</span><span class="op" id="3982694">,</span>&nbsp;<span class="builtintype" id="3982696">true</span><br>
<span class="lineno">160</span><span class="op" id="3982701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3982704">//&nbsp;xtoi2&nbsp;converts&nbsp;the&nbsp;next&nbsp;two&nbsp;hex&nbsp;digits&nbsp;of&nbsp;s&nbsp;into&nbsp;a&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="3982764">//&nbsp;If&nbsp;s&nbsp;is&nbsp;longer&nbsp;than&nbsp;2&nbsp;bytes&nbsp;then&nbsp;the&nbsp;third&nbsp;byte&nbsp;must&nbsp;be&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="3982826">//&nbsp;If&nbsp;the&nbsp;first&nbsp;two&nbsp;bytes&nbsp;of&nbsp;s&nbsp;are&nbsp;not&nbsp;hex&nbsp;digits&nbsp;or&nbsp;the&nbsp;third&nbsp;byte</span><br>
<span class="lineno">165</span><span class="comment" id="3982894">//&nbsp;does&nbsp;not&nbsp;match&nbsp;e,&nbsp;false&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="3982934">func</span>&nbsp;<span class="ident" id="3982939">xtoi2</span><span class="op" id="3982944">(</span><span class="ident" id="3982945">s</span>&nbsp;<span class="builtintype" id="3982947">string</span><span class="op" id="3982953">,</span>&nbsp;<span class="ident" id="3982955">e</span>&nbsp;<span class="builtintype" id="3982957">byte</span><span class="op" id="3982961">)</span>&nbsp;<span class="op" id="3982963">(</span><span class="builtintype" id="3982964">byte</span><span class="op" id="3982968">,</span>&nbsp;<span class="builtintype" id="3982970">bool</span><span class="op" id="3982974">)</span>&nbsp;<span class="op" id="3982976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3982979">if</span>&nbsp;<span class="builtinfunc" id="3982982">len</span><span class="op" id="3982985">(</span><span class="ident" id="3982986">s</span><span class="op" id="3982987">)</span>&nbsp;<span class="op" id="3982989">&gt;</span>&nbsp;<span class="num" id="3982991">2</span>&nbsp;<span class="op" id="3982993">&amp;&amp;</span>&nbsp;<span class="ident" id="3982996">s</span><span class="op" id="3982997">[</span><span class="num" id="3982998">2</span><span class="op" id="3982999">]</span>&nbsp;<span class="op" id="3983001">!=</span>&nbsp;<span class="ident" id="3983004">e</span>&nbsp;<span class="op" id="3983006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983010">return</span>&nbsp;<span class="num" id="3983017">0</span><span class="op" id="3983018">,</span>&nbsp;<span class="builtintype" id="3983020">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983027">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983030">n</span><span class="op" id="3983031">,</span>&nbsp;<span class="ident" id="3983033">ei</span><span class="op" id="3983035">,</span>&nbsp;<span class="ident" id="3983037">ok</span>&nbsp;<span class="op" id="3983040">:=</span>&nbsp;<span class="ident" id="3983043">xtoi</span><span class="op" id="3983047">(</span><span class="ident" id="3983048">s</span><span class="op" id="3983049">[</span><span class="op" id="3983050">:</span><span class="num" id="3983051">2</span><span class="op" id="3983052">]</span><span class="op" id="3983053">,</span>&nbsp;<span class="num" id="3983055">0</span><span class="op" id="3983056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983059">return</span>&nbsp;<span class="builtintype" id="3983066">byte</span><span class="op" id="3983070">(</span><span class="ident" id="3983071">n</span><span class="op" id="3983072">)</span><span class="op" id="3983073">,</span>&nbsp;<span class="ident" id="3983075">ok</span>&nbsp;<span class="op" id="3983078">&amp;&amp;</span>&nbsp;<span class="ident" id="3983081">ei</span>&nbsp;<span class="op" id="3983084">==</span>&nbsp;<span class="num" id="3983087">2</span><br>
<span class="lineno"></span><span class="op" id="3983089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3983092">//&nbsp;Integer&nbsp;to&nbsp;decimal.</span><br>
<span class="lineno">175</span><span class="keyword" id="3983115">func</span>&nbsp;<span class="ident" id="3983120">itoa</span><span class="op" id="3983124">(</span><span class="ident" id="3983125">i</span>&nbsp;<span class="builtintype" id="3983127">int</span><span class="op" id="3983130">)</span>&nbsp;<span class="builtintype" id="3983132">string</span>&nbsp;<span class="op" id="3983139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983142">var</span>&nbsp;<span class="ident" id="3983146">buf</span>&nbsp;<span class="op" id="3983150">[</span><span class="num" id="3983151">30</span><span class="op" id="3983153">]</span><span class="builtintype" id="3983154">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983160">n</span>&nbsp;<span class="op" id="3983162">:=</span>&nbsp;<span class="builtinfunc" id="3983165">len</span><span class="op" id="3983168">(</span><span class="ident" id="3983169">buf</span><span class="op" id="3983172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983175">neg</span>&nbsp;<span class="op" id="3983179">:=</span>&nbsp;<span class="builtintype" id="3983182">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983189">if</span>&nbsp;<span class="ident" id="3983192">i</span>&nbsp;<span class="op" id="3983194">&lt;</span>&nbsp;<span class="num" id="3983196">0</span>&nbsp;<span class="op" id="3983198">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983202">i</span>&nbsp;<span class="op" id="3983204">=</span>&nbsp;<span class="op" id="3983206">-</span><span class="ident" id="3983207">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983211">neg</span>&nbsp;<span class="op" id="3983215">=</span>&nbsp;<span class="builtintype" id="3983217">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983226">ui</span>&nbsp;<span class="op" id="3983229">:=</span>&nbsp;<span class="builtintype" id="3983232">uint</span><span class="op" id="3983236">(</span><span class="ident" id="3983237">i</span><span class="op" id="3983238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983241">for</span>&nbsp;<span class="ident" id="3983245">ui</span>&nbsp;<span class="op" id="3983248">&gt;</span>&nbsp;<span class="num" id="3983250">0</span>&nbsp;<span class="op" id="3983252">||</span>&nbsp;<span class="ident" id="3983255">n</span>&nbsp;<span class="op" id="3983257">==</span>&nbsp;<span class="builtinfunc" id="3983260">len</span><span class="op" id="3983263">(</span><span class="ident" id="3983264">buf</span><span class="op" id="3983267">)</span>&nbsp;<span class="op" id="3983269">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983273">n</span><span class="op" id="3983274">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983279">buf</span><span class="op" id="3983282">[</span><span class="ident" id="3983283">n</span><span class="op" id="3983284">]</span>&nbsp;<span class="op" id="3983286">=</span>&nbsp;<span class="builtintype" id="3983288">byte</span><span class="op" id="3983292">(</span><span class="string" id="3983293">&#39;0&#39;</span>&nbsp;<span class="op" id="3983297">+</span>&nbsp;<span class="ident" id="3983299">ui</span><span class="op" id="3983301">%</span><span class="num" id="3983302">10</span><span class="op" id="3983304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983308">ui</span>&nbsp;<span class="op" id="3983311">/=</span>&nbsp;<span class="num" id="3983314">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983321">if</span>&nbsp;<span class="ident" id="3983324">neg</span>&nbsp;<span class="op" id="3983328">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983332">n</span><span class="op" id="3983333">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983338">buf</span><span class="op" id="3983341">[</span><span class="ident" id="3983342">n</span><span class="op" id="3983343">]</span>&nbsp;<span class="op" id="3983345">=</span>&nbsp;<span class="string" id="3983347">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983355">return</span>&nbsp;<span class="builtintype" id="3983362">string</span><span class="op" id="3983368">(</span><span class="ident" id="3983369">buf</span><span class="op" id="3983372">[</span><span class="ident" id="3983373">n</span><span class="op" id="3983374">:</span><span class="op" id="3983375">]</span><span class="op" id="3983376">)</span><br>
<span class="lineno"></span><span class="op" id="3983378">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3983381">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3983413">func</span>&nbsp;<span class="ident" id="3983418">itod</span><span class="op" id="3983422">(</span><span class="ident" id="3983423">i</span>&nbsp;<span class="builtintype" id="3983425">uint</span><span class="op" id="3983429">)</span>&nbsp;<span class="builtintype" id="3983431">string</span>&nbsp;<span class="op" id="3983438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983441">if</span>&nbsp;<span class="ident" id="3983444">i</span>&nbsp;<span class="op" id="3983446">==</span>&nbsp;<span class="num" id="3983449">0</span>&nbsp;<span class="op" id="3983451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983455">return</span>&nbsp;<span class="string" id="3983462">&#34;0&#34;</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3983471">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983510">var</span>&nbsp;<span class="ident" id="3983514">b</span>&nbsp;<span class="op" id="3983516">[</span><span class="num" id="3983517">32</span><span class="op" id="3983519">]</span><span class="builtintype" id="3983520">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983526">bp</span>&nbsp;<span class="op" id="3983529">:=</span>&nbsp;<span class="builtinfunc" id="3983532">len</span><span class="op" id="3983535">(</span><span class="ident" id="3983536">b</span><span class="op" id="3983537">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983540">for</span>&nbsp;<span class="op" id="3983544">;</span>&nbsp;<span class="ident" id="3983546">i</span>&nbsp;<span class="op" id="3983548">&gt;</span>&nbsp;<span class="num" id="3983550">0</span><span class="op" id="3983551">;</span>&nbsp;<span class="ident" id="3983553">i</span>&nbsp;<span class="op" id="3983555">/=</span>&nbsp;<span class="num" id="3983558">10</span>&nbsp;<span class="op" id="3983561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983565">bp</span><span class="op" id="3983567">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983572">b</span><span class="op" id="3983573">[</span><span class="ident" id="3983574">bp</span><span class="op" id="3983576">]</span>&nbsp;<span class="op" id="3983578">=</span>&nbsp;<span class="builtintype" id="3983580">byte</span><span class="op" id="3983584">(</span><span class="ident" id="3983585">i</span><span class="op" id="3983586">%</span><span class="num" id="3983587">10</span><span class="op" id="3983589">)</span>&nbsp;<span class="op" id="3983591">+</span>&nbsp;<span class="string" id="3983593">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983602">return</span>&nbsp;<span class="builtintype" id="3983609">string</span><span class="op" id="3983615">(</span><span class="ident" id="3983616">b</span><span class="op" id="3983617">[</span><span class="ident" id="3983618">bp</span><span class="op" id="3983620">:</span><span class="op" id="3983621">]</span><span class="op" id="3983622">)</span><br>
<span class="lineno"></span><span class="op" id="3983624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3983627">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;a&nbsp;hexadecimal&nbsp;string.&nbsp;Leading&nbsp;zeros&nbsp;are&nbsp;not&nbsp;printed.</span><br>
<span class="lineno"></span><span class="keyword" id="3983696">func</span>&nbsp;<span class="ident" id="3983701">appendHex</span><span class="op" id="3983710">(</span><span class="ident" id="3983711">dst</span>&nbsp;<span class="op" id="3983715">[</span><span class="op" id="3983716">]</span><span class="builtintype" id="3983717">byte</span><span class="op" id="3983721">,</span>&nbsp;<span class="ident" id="3983723">i</span>&nbsp;<span class="builtintype" id="3983725">uint32</span><span class="op" id="3983731">)</span>&nbsp;<span class="op" id="3983733">[</span><span class="op" id="3983734">]</span><span class="builtintype" id="3983735">byte</span>&nbsp;<span class="op" id="3983740">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983743">if</span>&nbsp;<span class="ident" id="3983746">i</span>&nbsp;<span class="op" id="3983748">==</span>&nbsp;<span class="num" id="3983751">0</span>&nbsp;<span class="op" id="3983753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983757">return</span>&nbsp;<span class="builtinfunc" id="3983764">append</span><span class="op" id="3983770">(</span><span class="ident" id="3983771">dst</span><span class="op" id="3983774">,</span>&nbsp;<span class="string" id="3983776">&#39;0&#39;</span><span class="op" id="3983779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983785">for</span>&nbsp;<span class="ident" id="3983789">j</span>&nbsp;<span class="op" id="3983791">:=</span>&nbsp;<span class="num" id="3983794">7</span><span class="op" id="3983795">;</span>&nbsp;<span class="ident" id="3983797">j</span>&nbsp;<span class="op" id="3983799">&gt;=</span>&nbsp;<span class="num" id="3983802">0</span><span class="op" id="3983803">;</span>&nbsp;<span class="ident" id="3983805">j</span><span class="op" id="3983806">--</span>&nbsp;<span class="op" id="3983809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983813">v</span>&nbsp;<span class="op" id="3983815">:=</span>&nbsp;<span class="ident" id="3983818">i</span>&nbsp;<span class="op" id="3983820">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3983823">uint</span><span class="op" id="3983827">(</span><span class="ident" id="3983828">j</span><span class="op" id="3983829">*</span><span class="num" id="3983830">4</span><span class="op" id="3983831">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983835">if</span>&nbsp;<span class="ident" id="3983838">v</span>&nbsp;<span class="op" id="3983840">&gt;</span>&nbsp;<span class="num" id="3983842">0</span>&nbsp;<span class="op" id="3983844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983849">dst</span>&nbsp;<span class="op" id="3983853">=</span>&nbsp;<span class="builtinfunc" id="3983855">append</span><span class="op" id="3983861">(</span><span class="ident" id="3983862">dst</span><span class="op" id="3983865">,</span>&nbsp;<span class="ident" id="3983867">hexDigit</span><span class="op" id="3983875">[</span><span class="ident" id="3983876">v</span><span class="op" id="3983877">&amp;</span><span class="num" id="3983878">0xf</span><span class="op" id="3983881">]</span><span class="op" id="3983882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3983889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983892">return</span>&nbsp;<span class="ident" id="3983899">dst</span><br>
<span class="lineno">225</span><span class="op" id="3983903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3983906">//&nbsp;Number&nbsp;of&nbsp;occurrences&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3983942">func</span>&nbsp;<span class="ident" id="3983947">count</span><span class="op" id="3983952">(</span><span class="ident" id="3983953">s</span>&nbsp;<span class="builtintype" id="3983955">string</span><span class="op" id="3983961">,</span>&nbsp;<span class="ident" id="3983963">b</span>&nbsp;<span class="builtintype" id="3983965">byte</span><span class="op" id="3983969">)</span>&nbsp;<span class="builtintype" id="3983971">int</span>&nbsp;<span class="op" id="3983975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3983978">n</span>&nbsp;<span class="op" id="3983980">:=</span>&nbsp;<span class="num" id="3983983">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3983986">for</span>&nbsp;<span class="ident" id="3983990">i</span>&nbsp;<span class="op" id="3983992">:=</span>&nbsp;<span class="num" id="3983995">0</span><span class="op" id="3983996">;</span>&nbsp;<span class="ident" id="3983998">i</span>&nbsp;<span class="op" id="3984000">&lt;</span>&nbsp;<span class="builtinfunc" id="3984002">len</span><span class="op" id="3984005">(</span><span class="ident" id="3984006">s</span><span class="op" id="3984007">)</span><span class="op" id="3984008">;</span>&nbsp;<span class="ident" id="3984010">i</span><span class="op" id="3984011">++</span>&nbsp;<span class="op" id="3984014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984018">if</span>&nbsp;<span class="ident" id="3984021">s</span><span class="op" id="3984022">[</span><span class="ident" id="3984023">i</span><span class="op" id="3984024">]</span>&nbsp;<span class="op" id="3984026">==</span>&nbsp;<span class="ident" id="3984029">b</span>&nbsp;<span class="op" id="3984031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3984036">n</span><span class="op" id="3984037">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3984042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3984045">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984048">return</span>&nbsp;<span class="ident" id="3984055">n</span><br>
<span class="lineno"></span><span class="op" id="3984057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3984060">//&nbsp;Index&nbsp;of&nbsp;rightmost&nbsp;occurrence&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3984104">func</span>&nbsp;<span class="ident" id="3984109">last</span><span class="op" id="3984113">(</span><span class="ident" id="3984114">s</span>&nbsp;<span class="builtintype" id="3984116">string</span><span class="op" id="3984122">,</span>&nbsp;<span class="ident" id="3984124">b</span>&nbsp;<span class="builtintype" id="3984126">byte</span><span class="op" id="3984130">)</span>&nbsp;<span class="builtintype" id="3984132">int</span>&nbsp;<span class="op" id="3984136">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3984139">i</span>&nbsp;<span class="op" id="3984141">:=</span>&nbsp;<span class="builtinfunc" id="3984144">len</span><span class="op" id="3984147">(</span><span class="ident" id="3984148">s</span><span class="op" id="3984149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984152">for</span>&nbsp;<span class="ident" id="3984156">i</span><span class="op" id="3984157">--</span><span class="op" id="3984159">;</span>&nbsp;<span class="ident" id="3984161">i</span>&nbsp;<span class="op" id="3984163">&gt;=</span>&nbsp;<span class="num" id="3984166">0</span><span class="op" id="3984167">;</span>&nbsp;<span class="ident" id="3984169">i</span><span class="op" id="3984170">--</span>&nbsp;<span class="op" id="3984173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984177">if</span>&nbsp;<span class="ident" id="3984180">s</span><span class="op" id="3984181">[</span><span class="ident" id="3984182">i</span><span class="op" id="3984183">]</span>&nbsp;<span class="op" id="3984185">==</span>&nbsp;<span class="ident" id="3984188">b</span>&nbsp;<span class="op" id="3984190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984195">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3984203">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3984206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984209">return</span>&nbsp;<span class="ident" id="3984216">i</span><br>
<span class="lineno"></span><span class="op" id="3984218">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
