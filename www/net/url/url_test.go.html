<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7057084">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7057139">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7057193">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7057244">package</span>&nbsp;<span class="ident" id="7057252">url</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7057257">import</span>&nbsp;<span class="op" id="7057264">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057267">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057274">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057285">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057296">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7057306">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7057309">type</span>&nbsp;<span class="ident" id="7057314">URLTest</span>&nbsp;<span class="keyword" id="7057322">struct</span>&nbsp;<span class="op" id="7057329">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057332">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7057342">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057350">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7057360">*</span><span class="ident" id="7057361"><a href="/net/url/url.go.html#3591999">URL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057366">roundtrip</span>&nbsp;<span class="builtintype" id="7057376">string</span>&nbsp;<span class="comment" id="7057383">//&nbsp;expected&nbsp;result&nbsp;of&nbsp;reserializing&nbsp;the&nbsp;URL;&nbsp;empty&nbsp;means&nbsp;same&nbsp;as&nbsp;&#34;in&#34;.</span><br>
<span class="lineno"></span><span class="op" id="7057454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="keyword" id="7057457">var</span>&nbsp;<span class="ident" id="7057461">urltests</span>&nbsp;<span class="op" id="7057470">=</span>&nbsp;<span class="op" id="7057472">[</span><span class="op" id="7057473">]</span><span class="ident" id="7057474"><a href="/net/url/url_test.go.html#7057314">URLTest</a></span><span class="op" id="7057481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057484">//&nbsp;no&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057500">&#34;http://www.google.com&#34;</span><span class="op" id="7057523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057527">&amp;</span><span class="ident" id="7057528"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7057531">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057536">Scheme</span><span class="op" id="7057542">:</span>&nbsp;<span class="string" id="7057544">&#34;http&#34;</span><span class="op" id="7057550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057555">Host</span><span class="op" id="7057559">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7057563">&#34;www.google.com&#34;</span><span class="op" id="7057579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057583">}</span><span class="op" id="7057584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057588">&#34;&#34;</span><span class="op" id="7057590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057593">}</span><span class="op" id="7057594">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057597">//&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057610">&#34;http://www.google.com/&#34;</span><span class="op" id="7057634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057638">&amp;</span><span class="ident" id="7057639"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7057642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057647">Scheme</span><span class="op" id="7057653">:</span>&nbsp;<span class="string" id="7057655">&#34;http&#34;</span><span class="op" id="7057661">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057666">Host</span><span class="op" id="7057670">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7057674">&#34;www.google.com&#34;</span><span class="op" id="7057690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057695">Path</span><span class="op" id="7057699">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7057703">&#34;/&#34;</span><span class="op" id="7057706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057710">}</span><span class="op" id="7057711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057715">&#34;&#34;</span><span class="op" id="7057717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057720">}</span><span class="op" id="7057721">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057724">//&nbsp;path&nbsp;with&nbsp;hex&nbsp;escaping</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057755">&#34;http://www.google.com/file%20one%26two&#34;</span><span class="op" id="7057795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057799">&amp;</span><span class="ident" id="7057800"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7057803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057808">Scheme</span><span class="op" id="7057814">:</span>&nbsp;<span class="string" id="7057816">&#34;http&#34;</span><span class="op" id="7057822">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057827">Host</span><span class="op" id="7057831">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7057835">&#34;www.google.com&#34;</span><span class="op" id="7057851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057856">Path</span><span class="op" id="7057860">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7057864">&#34;/file&nbsp;one&amp;two&#34;</span><span class="op" id="7057879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057883">}</span><span class="op" id="7057884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057888">&#34;http://www.google.com/file%20one&amp;two&#34;</span><span class="op" id="7057926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057929">}</span><span class="op" id="7057930">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057933">//&nbsp;user</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057946">&#34;ftp://webmaster@www.google.com/&#34;</span><span class="op" id="7057979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057983">&amp;</span><span class="ident" id="7057984"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7057987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057992">Scheme</span><span class="op" id="7057998">:</span>&nbsp;<span class="string" id="7058000">&#34;ftp&#34;</span><span class="op" id="7058005">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058010">User</span><span class="op" id="7058014">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7058018"><a href="/net/url/url.go.html#3592390">User</a></span><span class="op" id="7058022">(</span><span class="string" id="7058023">&#34;webmaster&#34;</span><span class="op" id="7058034">)</span><span class="op" id="7058035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058040">Host</span><span class="op" id="7058044">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058048">&#34;www.google.com&#34;</span><span class="op" id="7058064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058069">Path</span><span class="op" id="7058073">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058077">&#34;/&#34;</span><span class="op" id="7058080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058084">}</span><span class="op" id="7058085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058089">&#34;&#34;</span><span class="op" id="7058091">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058094">}</span><span class="op" id="7058095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058098">//&nbsp;escape&nbsp;sequence&nbsp;in&nbsp;username</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058134">&#34;ftp://john%20doe@www.google.com/&#34;</span><span class="op" id="7058168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058172">&amp;</span><span class="ident" id="7058173"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7058176">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058181">Scheme</span><span class="op" id="7058187">:</span>&nbsp;<span class="string" id="7058189">&#34;ftp&#34;</span><span class="op" id="7058194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058199">User</span><span class="op" id="7058203">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7058207"><a href="/net/url/url.go.html#3592390">User</a></span><span class="op" id="7058211">(</span><span class="string" id="7058212">&#34;john&nbsp;doe&#34;</span><span class="op" id="7058222">)</span><span class="op" id="7058223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058228">Host</span><span class="op" id="7058232">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058236">&#34;www.google.com&#34;</span><span class="op" id="7058252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058257">Path</span><span class="op" id="7058261">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058265">&#34;/&#34;</span><span class="op" id="7058268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058272">}</span><span class="op" id="7058273">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058277">&#34;ftp://john%20doe@www.google.com/&#34;</span><span class="op" id="7058311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058314">}</span><span class="op" id="7058315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058318">//&nbsp;query</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058332">&#34;http://www.google.com/?q=go+language&#34;</span><span class="op" id="7058370">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058374">&amp;</span><span class="ident" id="7058375"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7058378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058383">Scheme</span><span class="op" id="7058389">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058393">&#34;http&#34;</span><span class="op" id="7058399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058404">Host</span><span class="op" id="7058408">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058414">&#34;www.google.com&#34;</span><span class="op" id="7058430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058435">Path</span><span class="op" id="7058439">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058445">&#34;/&#34;</span><span class="op" id="7058448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058453">RawQuery</span><span class="op" id="7058461">:</span>&nbsp;<span class="string" id="7058463">&#34;q=go+language&#34;</span><span class="op" id="7058478">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058482">}</span><span class="op" id="7058483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058487">&#34;&#34;</span><span class="op" id="7058489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058492">}</span><span class="op" id="7058493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058496">//&nbsp;query&nbsp;with&nbsp;hex&nbsp;escaping:&nbsp;NOT&nbsp;parsed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058536">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058540">&#34;http://www.google.com/?q=go%20language&#34;</span><span class="op" id="7058580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058584">&amp;</span><span class="ident" id="7058585"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7058588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058593">Scheme</span><span class="op" id="7058599">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058603">&#34;http&#34;</span><span class="op" id="7058609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058614">Host</span><span class="op" id="7058618">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058624">&#34;www.google.com&#34;</span><span class="op" id="7058640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058645">Path</span><span class="op" id="7058649">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058655">&#34;/&#34;</span><span class="op" id="7058658">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058663">RawQuery</span><span class="op" id="7058671">:</span>&nbsp;<span class="string" id="7058673">&#34;q=go%20language&#34;</span><span class="op" id="7058690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058694">}</span><span class="op" id="7058695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058699">&#34;&#34;</span><span class="op" id="7058701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058704">}</span><span class="op" id="7058705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058708">//&nbsp;%20&nbsp;outside&nbsp;query</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058734">&#34;http://www.google.com/a%20b?q=c+d&#34;</span><span class="op" id="7058769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058773">&amp;</span><span class="ident" id="7058774"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7058777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058782">Scheme</span><span class="op" id="7058788">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058792">&#34;http&#34;</span><span class="op" id="7058798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058803">Host</span><span class="op" id="7058807">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058813">&#34;www.google.com&#34;</span><span class="op" id="7058829">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058834">Path</span><span class="op" id="7058838">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058844">&#34;/a&nbsp;b&#34;</span><span class="op" id="7058850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058855">RawQuery</span><span class="op" id="7058863">:</span>&nbsp;<span class="string" id="7058865">&#34;q=c+d&#34;</span><span class="op" id="7058872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058876">}</span><span class="op" id="7058877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058881">&#34;&#34;</span><span class="op" id="7058883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058886">}</span><span class="op" id="7058887">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058890">//&nbsp;path&nbsp;without&nbsp;leading&nbsp;/,&nbsp;so&nbsp;no&nbsp;parsing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058936">&#34;http:www.google.com/?q=go+language&#34;</span><span class="op" id="7058972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058976">&amp;</span><span class="ident" id="7058977"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7058980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058985">Scheme</span><span class="op" id="7058991">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7058995">&#34;http&#34;</span><span class="op" id="7059001">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059006">Opaque</span><span class="op" id="7059012">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7059016">&#34;www.google.com/&#34;</span><span class="op" id="7059033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059038">RawQuery</span><span class="op" id="7059046">:</span>&nbsp;<span class="string" id="7059048">&#34;q=go+language&#34;</span><span class="op" id="7059063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059067">}</span><span class="op" id="7059068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059072">&#34;http:www.google.com/?q=go+language&#34;</span><span class="op" id="7059108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059111">}</span><span class="op" id="7059112">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059115">//&nbsp;path&nbsp;without&nbsp;leading&nbsp;/,&nbsp;so&nbsp;no&nbsp;parsing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059161">&#34;http:%2f%2fwww.google.com/?q=go+language&#34;</span><span class="op" id="7059203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059207">&amp;</span><span class="ident" id="7059208"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7059211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059216">Scheme</span><span class="op" id="7059222">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7059226">&#34;http&#34;</span><span class="op" id="7059232">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059237">Opaque</span><span class="op" id="7059243">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7059247">&#34;%2f%2fwww.google.com/&#34;</span><span class="op" id="7059270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059275">RawQuery</span><span class="op" id="7059283">:</span>&nbsp;<span class="string" id="7059285">&#34;q=go+language&#34;</span><span class="op" id="7059300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059304">}</span><span class="op" id="7059305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059309">&#34;http:%2f%2fwww.google.com/?q=go+language&#34;</span><span class="op" id="7059351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059354">}</span><span class="op" id="7059355">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059358">//&nbsp;non-authority&nbsp;with&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059390">&#34;mailto:/webmaster@golang.org&#34;</span><span class="op" id="7059420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059424">&amp;</span><span class="ident" id="7059425"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7059428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059433">Scheme</span><span class="op" id="7059439">:</span>&nbsp;<span class="string" id="7059441">&#34;mailto&#34;</span><span class="op" id="7059449">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059454">Path</span><span class="op" id="7059458">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7059462">&#34;/webmaster@golang.org&#34;</span><span class="op" id="7059485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059489">}</span><span class="op" id="7059490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059494">&#34;mailto:///webmaster@golang.org&#34;</span><span class="op" id="7059526">,</span>&nbsp;<span class="comment" id="7059528">//&nbsp;unfortunate&nbsp;compromise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059555">}</span><span class="op" id="7059556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059559">//&nbsp;non-authority</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059581">&#34;mailto:webmaster@golang.org&#34;</span><span class="op" id="7059610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059614">&amp;</span><span class="ident" id="7059615"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7059618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059623">Scheme</span><span class="op" id="7059629">:</span>&nbsp;<span class="string" id="7059631">&#34;mailto&#34;</span><span class="op" id="7059639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059644">Opaque</span><span class="op" id="7059650">:</span>&nbsp;<span class="string" id="7059652">&#34;webmaster@golang.org&#34;</span><span class="op" id="7059674">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059678">}</span><span class="op" id="7059679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059683">&#34;&#34;</span><span class="op" id="7059685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059688">}</span><span class="op" id="7059689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059692">//&nbsp;unescaped&nbsp;://&nbsp;in&nbsp;query&nbsp;should&nbsp;not&nbsp;create&nbsp;a&nbsp;scheme</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059746">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059750">&#34;/foo?query=http://bad&#34;</span><span class="op" id="7059773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059777">&amp;</span><span class="ident" id="7059778"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7059781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059786">Path</span><span class="op" id="7059790">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7059796">&#34;/foo&#34;</span><span class="op" id="7059802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059807">RawQuery</span><span class="op" id="7059815">:</span>&nbsp;<span class="string" id="7059817">&#34;query=http://bad&#34;</span><span class="op" id="7059835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059839">}</span><span class="op" id="7059840">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059844">&#34;&#34;</span><span class="op" id="7059846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059849">}</span><span class="op" id="7059850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059853">//&nbsp;leading&nbsp;//&nbsp;without&nbsp;scheme&nbsp;should&nbsp;create&nbsp;an&nbsp;authority</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059914">&#34;//foo&#34;</span><span class="op" id="7059921">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059925">&amp;</span><span class="ident" id="7059926"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7059929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059934">Host</span><span class="op" id="7059938">:</span>&nbsp;<span class="string" id="7059940">&#34;foo&#34;</span><span class="op" id="7059945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059949">}</span><span class="op" id="7059950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7059954">&#34;&#34;</span><span class="op" id="7059956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059959">}</span><span class="op" id="7059960">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059963">//&nbsp;leading&nbsp;//&nbsp;without&nbsp;scheme,&nbsp;with&nbsp;userinfo,&nbsp;path,&nbsp;and&nbsp;query</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060029">&#34;//user@foo/path?a=b&#34;</span><span class="op" id="7060050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060054">&amp;</span><span class="ident" id="7060055"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7060058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060063">User</span><span class="op" id="7060067">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7060073"><a href="/net/url/url.go.html#3592390">User</a></span><span class="op" id="7060077">(</span><span class="string" id="7060078">&#34;user&#34;</span><span class="op" id="7060084">)</span><span class="op" id="7060085">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060090">Host</span><span class="op" id="7060094">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7060100">&#34;foo&#34;</span><span class="op" id="7060105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060110">Path</span><span class="op" id="7060114">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7060120">&#34;/path&#34;</span><span class="op" id="7060127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060132">RawQuery</span><span class="op" id="7060140">:</span>&nbsp;<span class="string" id="7060142">&#34;a=b&#34;</span><span class="op" id="7060147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060151">}</span><span class="op" id="7060152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060156">&#34;&#34;</span><span class="op" id="7060158">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060161">}</span><span class="op" id="7060162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060165">//&nbsp;Three&nbsp;leading&nbsp;slashes&nbsp;isn&#39;t&nbsp;an&nbsp;authority,&nbsp;but&nbsp;doesn&#39;t&nbsp;return&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060240">//&nbsp;(We&nbsp;can&#39;t&nbsp;return&nbsp;an&nbsp;error,&nbsp;as&nbsp;this&nbsp;code&nbsp;is&nbsp;also&nbsp;used&nbsp;via</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060301">//&nbsp;ServeHTTP&nbsp;-&gt;&nbsp;ReadRequest&nbsp;-&gt;&nbsp;Parse,&nbsp;which&nbsp;is&nbsp;arguably&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060360">//&nbsp;different&nbsp;URL&nbsp;parsing&nbsp;context,&nbsp;but&nbsp;currently&nbsp;shares&nbsp;the</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060420">//&nbsp;same&nbsp;codepath)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060443">&#34;///threeslashes&#34;</span><span class="op" id="7060460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060464">&amp;</span><span class="ident" id="7060465"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7060468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060473">Path</span><span class="op" id="7060477">:</span>&nbsp;<span class="string" id="7060479">&#34;///threeslashes&#34;</span><span class="op" id="7060496">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060500">}</span><span class="op" id="7060501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060505">&#34;&#34;</span><span class="op" id="7060507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060510">}</span><span class="op" id="7060511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060518">&#34;http://user:password@google.com&#34;</span><span class="op" id="7060551">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060555">&amp;</span><span class="ident" id="7060556"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7060559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060564">Scheme</span><span class="op" id="7060570">:</span>&nbsp;<span class="string" id="7060572">&#34;http&#34;</span><span class="op" id="7060578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060583">User</span><span class="op" id="7060587">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7060591"><a href="/net/url/url.go.html#3592864">UserPassword</a></span><span class="op" id="7060603">(</span><span class="string" id="7060604">&#34;user&#34;</span><span class="op" id="7060610">,</span>&nbsp;<span class="string" id="7060612">&#34;password&#34;</span><span class="op" id="7060622">)</span><span class="op" id="7060623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060628">Host</span><span class="op" id="7060632">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7060636">&#34;google.com&#34;</span><span class="op" id="7060648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060652">}</span><span class="op" id="7060653">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060657">&#34;http://user:password@google.com&#34;</span><span class="op" id="7060690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060693">}</span><span class="op" id="7060694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060697">//&nbsp;unescaped&nbsp;@&nbsp;in&nbsp;username&nbsp;should&nbsp;not&nbsp;confuse&nbsp;host</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060753">&#34;http://j@ne:password@google.com&#34;</span><span class="op" id="7060786">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060790">&amp;</span><span class="ident" id="7060791"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7060794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060799">Scheme</span><span class="op" id="7060805">:</span>&nbsp;<span class="string" id="7060807">&#34;http&#34;</span><span class="op" id="7060813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060818">User</span><span class="op" id="7060822">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7060826"><a href="/net/url/url.go.html#3592864">UserPassword</a></span><span class="op" id="7060838">(</span><span class="string" id="7060839">&#34;j@ne&#34;</span><span class="op" id="7060845">,</span>&nbsp;<span class="string" id="7060847">&#34;password&#34;</span><span class="op" id="7060857">)</span><span class="op" id="7060858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060863">Host</span><span class="op" id="7060867">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7060871">&#34;google.com&#34;</span><span class="op" id="7060883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060887">}</span><span class="op" id="7060888">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060892">&#34;http://j%40ne:password@google.com&#34;</span><span class="op" id="7060927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060930">}</span><span class="op" id="7060931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060934">//&nbsp;unescaped&nbsp;@&nbsp;in&nbsp;password&nbsp;should&nbsp;not&nbsp;confuse&nbsp;host</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7060990">&#34;http://jane:p@ssword@google.com&#34;</span><span class="op" id="7061023">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061027">&amp;</span><span class="ident" id="7061028"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7061031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061036">Scheme</span><span class="op" id="7061042">:</span>&nbsp;<span class="string" id="7061044">&#34;http&#34;</span><span class="op" id="7061050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061055">User</span><span class="op" id="7061059">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7061063"><a href="/net/url/url.go.html#3592864">UserPassword</a></span><span class="op" id="7061075">(</span><span class="string" id="7061076">&#34;jane&#34;</span><span class="op" id="7061082">,</span>&nbsp;<span class="string" id="7061084">&#34;p@ssword&#34;</span><span class="op" id="7061094">)</span><span class="op" id="7061095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061100">Host</span><span class="op" id="7061104">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7061108">&#34;google.com&#34;</span><span class="op" id="7061120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061124">}</span><span class="op" id="7061125">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061129">&#34;http://jane:p%40ssword@google.com&#34;</span><span class="op" id="7061164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061167">}</span><span class="op" id="7061168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061175">&#34;http://j@ne:password@google.com/p@th?q=@go&#34;</span><span class="op" id="7061219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061223">&amp;</span><span class="ident" id="7061224"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7061227">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061232">Scheme</span><span class="op" id="7061238">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7061242">&#34;http&#34;</span><span class="op" id="7061248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061253">User</span><span class="op" id="7061257">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7061263"><a href="/net/url/url.go.html#3592864">UserPassword</a></span><span class="op" id="7061275">(</span><span class="string" id="7061276">&#34;j@ne&#34;</span><span class="op" id="7061282">,</span>&nbsp;<span class="string" id="7061284">&#34;password&#34;</span><span class="op" id="7061294">)</span><span class="op" id="7061295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061300">Host</span><span class="op" id="7061304">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7061310">&#34;google.com&#34;</span><span class="op" id="7061322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061327">Path</span><span class="op" id="7061331">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7061337">&#34;/p@th&#34;</span><span class="op" id="7061344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061349">RawQuery</span><span class="op" id="7061357">:</span>&nbsp;<span class="string" id="7061359">&#34;q=@go&#34;</span><span class="op" id="7061366">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061370">}</span><span class="op" id="7061371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061375">&#34;http://j%40ne:password@google.com/p@th?q=@go&#34;</span><span class="op" id="7061421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061424">}</span><span class="op" id="7061425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061432">&#34;http://www.google.com/?q=go+language#foo&#34;</span><span class="op" id="7061474">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061478">&amp;</span><span class="ident" id="7061479"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7061482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061487">Scheme</span><span class="op" id="7061493">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7061497">&#34;http&#34;</span><span class="op" id="7061503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061508">Host</span><span class="op" id="7061512">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7061518">&#34;www.google.com&#34;</span><span class="op" id="7061534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061539">Path</span><span class="op" id="7061543">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7061549">&#34;/&#34;</span><span class="op" id="7061552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061557">RawQuery</span><span class="op" id="7061565">:</span>&nbsp;<span class="string" id="7061567">&#34;q=go+language&#34;</span><span class="op" id="7061582">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061587">Fragment</span><span class="op" id="7061595">:</span>&nbsp;<span class="string" id="7061597">&#34;foo&#34;</span><span class="op" id="7061602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061606">}</span><span class="op" id="7061607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061611">&#34;&#34;</span><span class="op" id="7061613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061616">}</span><span class="op" id="7061617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061620">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061624">&#34;http://www.google.com/?q=go+language#foo%26bar&#34;</span><span class="op" id="7061672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061676">&amp;</span><span class="ident" id="7061677"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7061680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061685">Scheme</span><span class="op" id="7061691">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7061695">&#34;http&#34;</span><span class="op" id="7061701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061706">Host</span><span class="op" id="7061710">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7061716">&#34;www.google.com&#34;</span><span class="op" id="7061732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061737">Path</span><span class="op" id="7061741">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7061747">&#34;/&#34;</span><span class="op" id="7061750">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061755">RawQuery</span><span class="op" id="7061763">:</span>&nbsp;<span class="string" id="7061765">&#34;q=go+language&#34;</span><span class="op" id="7061780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061785">Fragment</span><span class="op" id="7061793">:</span>&nbsp;<span class="string" id="7061795">&#34;foo&amp;bar&#34;</span><span class="op" id="7061804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061808">}</span><span class="op" id="7061809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061813">&#34;http://www.google.com/?q=go+language#foo&amp;bar&#34;</span><span class="op" id="7061859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061862">}</span><span class="op" id="7061863">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061870">&#34;file:///home/adg/rabbits&#34;</span><span class="op" id="7061896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061900">&amp;</span><span class="ident" id="7061901"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7061904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061909">Scheme</span><span class="op" id="7061915">:</span>&nbsp;<span class="string" id="7061917">&#34;file&#34;</span><span class="op" id="7061923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061928">Host</span><span class="op" id="7061932">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7061936">&#34;&#34;</span><span class="op" id="7061938">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061943">Path</span><span class="op" id="7061947">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7061951">&#34;/home/adg/rabbits&#34;</span><span class="op" id="7061970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061974">}</span><span class="op" id="7061975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061979">&#34;file:///home/adg/rabbits&#34;</span><span class="op" id="7062005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062008">}</span><span class="op" id="7062009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7062012">//&nbsp;&#34;Windows&#34;&nbsp;paths&nbsp;are&nbsp;no&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7062062">//&nbsp;See&nbsp;golang.org/issue/6027,&nbsp;especially&nbsp;comment&nbsp;#9.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062120">&#34;file:///C:/FooBar/Baz.txt&#34;</span><span class="op" id="7062147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062151">&amp;</span><span class="ident" id="7062152"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7062155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062160">Scheme</span><span class="op" id="7062166">:</span>&nbsp;<span class="string" id="7062168">&#34;file&#34;</span><span class="op" id="7062174">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062179">Host</span><span class="op" id="7062183">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7062187">&#34;&#34;</span><span class="op" id="7062189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062194">Path</span><span class="op" id="7062198">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7062202">&#34;/C:/FooBar/Baz.txt&#34;</span><span class="op" id="7062222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062226">}</span><span class="op" id="7062227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062231">&#34;file:///C:/FooBar/Baz.txt&#34;</span><span class="op" id="7062258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062261">}</span><span class="op" id="7062262">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7062265">//&nbsp;case-insensitive&nbsp;scheme</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062297">&#34;MaIlTo:webmaster@golang.org&#34;</span><span class="op" id="7062326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062330">&amp;</span><span class="ident" id="7062331"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7062334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062339">Scheme</span><span class="op" id="7062345">:</span>&nbsp;<span class="string" id="7062347">&#34;mailto&#34;</span><span class="op" id="7062355">,</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062360">Opaque</span><span class="op" id="7062366">:</span>&nbsp;<span class="string" id="7062368">&#34;webmaster@golang.org&#34;</span><span class="op" id="7062390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062394">}</span><span class="op" id="7062395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062399">&#34;mailto:webmaster@golang.org&#34;</span><span class="op" id="7062428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062431">}</span><span class="op" id="7062432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7062435">//&nbsp;Relative&nbsp;path</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062457">&#34;a/b/c&#34;</span><span class="op" id="7062464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062468">&amp;</span><span class="ident" id="7062469"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7062472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062477">Path</span><span class="op" id="7062481">:</span>&nbsp;<span class="string" id="7062483">&#34;a/b/c&#34;</span><span class="op" id="7062490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062494">}</span><span class="op" id="7062495">,</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062499">&#34;a/b/c&#34;</span><span class="op" id="7062506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062509">}</span><span class="op" id="7062510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7062513">//&nbsp;escaped&nbsp;&#39;?&#39;&nbsp;in&nbsp;username&nbsp;and&nbsp;password</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062558">&#34;http://%3Fam:pa%3Fsword@google.com&#34;</span><span class="op" id="7062594">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062598">&amp;</span><span class="ident" id="7062599"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7062602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062607">Scheme</span><span class="op" id="7062613">:</span>&nbsp;<span class="string" id="7062615">&#34;http&#34;</span><span class="op" id="7062621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062626">User</span><span class="op" id="7062630">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7062634"><a href="/net/url/url.go.html#3592864">UserPassword</a></span><span class="op" id="7062646">(</span><span class="string" id="7062647">&#34;?am&#34;</span><span class="op" id="7062652">,</span>&nbsp;<span class="string" id="7062654">&#34;pa?sword&#34;</span><span class="op" id="7062664">)</span><span class="op" id="7062665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062670">Host</span><span class="op" id="7062674">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7062678">&#34;google.com&#34;</span><span class="op" id="7062690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062694">}</span><span class="op" id="7062695">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7062699">&#34;&#34;</span><span class="op" id="7062701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062704">}</span><span class="op" id="7062705">,</span><br>
<span class="lineno"></span><span class="op" id="7062707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7062710">//&nbsp;more&nbsp;useful&nbsp;string&nbsp;for&nbsp;debugging&nbsp;than&nbsp;fmt&#39;s&nbsp;struct&nbsp;printer</span><br>
<span class="lineno">295</span><span class="keyword" id="7062772">func</span>&nbsp;<span class="ident" id="7062777">ufmt</span><span class="op" id="7062781">(</span><span class="ident" id="7062782">u</span>&nbsp;<span class="op" id="7062784">*</span><span class="ident" id="7062785"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7062788">)</span>&nbsp;<span class="builtintype" id="7062790">string</span>&nbsp;<span class="op" id="7062797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7062800">var</span>&nbsp;<span class="ident" id="7062804">user</span><span class="op" id="7062808">,</span>&nbsp;<span class="ident" id="7062810">pass</span>&nbsp;<span class="keyword" id="7062815">interface</span><span class="op" id="7062824">{</span><span class="op" id="7062825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7062828">if</span>&nbsp;<span class="ident" id="7062831"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7062832">.</span><span class="ident" id="7062833">User</span>&nbsp;<span class="op" id="7062838">!=</span>&nbsp;<span class="ident" id="7062841">nil</span>&nbsp;<span class="op" id="7062845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062849"><a href="/net/url/url_test.go.html#7062804">user</a></span>&nbsp;<span class="op" id="7062854">=</span>&nbsp;<span class="ident" id="7062856"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7062857">.</span><span class="ident" id="7062858">User</span><span class="op" id="7062862">.</span><span class="ident" id="7062863">Username</span><span class="op" id="7062871">(</span><span class="op" id="7062872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7062876">if</span>&nbsp;<span class="ident" id="7062879">p</span><span class="op" id="7062880">,</span>&nbsp;<span class="ident" id="7062882">ok</span>&nbsp;<span class="op" id="7062885">:=</span>&nbsp;<span class="ident" id="7062888"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7062889">.</span><span class="ident" id="7062890">User</span><span class="op" id="7062894">.</span><span class="ident" id="7062895">Password</span><span class="op" id="7062903">(</span><span class="op" id="7062904">)</span><span class="op" id="7062905">;</span>&nbsp;<span class="ident" id="7062907"><a href="/net/url/url_test.go.html#7062882">ok</a></span>&nbsp;<span class="op" id="7062910">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7062915"><a href="/net/url/url_test.go.html#7062810">pass</a></span>&nbsp;<span class="op" id="7062920">=</span>&nbsp;<span class="ident" id="7062922"><a href="/net/url/url_test.go.html#7062879">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7062929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7062932">return</span>&nbsp;<span class="ident" id="7062939"><a href="/net/url/url_test.go.html#7057267">fmt</a></span><span class="op" id="7062942">.</span><span class="ident" id="7062943">Sprintf</span><span class="op" id="7062950">(</span><span class="string" id="7062951">&#34;opaque=%q,&nbsp;scheme=%q,&nbsp;user=%#v,&nbsp;pass=%#v,&nbsp;host=%q,&nbsp;path=%q,&nbsp;rawq=%q,&nbsp;frag=%q&#34;</span><span class="op" id="7063029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063033"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7063034">.</span><span class="ident" id="7063035">Opaque</span><span class="op" id="7063041">,</span>&nbsp;<span class="ident" id="7063043"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7063044">.</span><span class="ident" id="7063045">Scheme</span><span class="op" id="7063051">,</span>&nbsp;<span class="ident" id="7063053"><a href="/net/url/url_test.go.html#7062804">user</a></span><span class="op" id="7063057">,</span>&nbsp;<span class="ident" id="7063059"><a href="/net/url/url_test.go.html#7062810">pass</a></span><span class="op" id="7063063">,</span>&nbsp;<span class="ident" id="7063065"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7063066">.</span><span class="ident" id="7063067">Host</span><span class="op" id="7063071">,</span>&nbsp;<span class="ident" id="7063073"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7063074">.</span><span class="ident" id="7063075">Path</span><span class="op" id="7063079">,</span>&nbsp;<span class="ident" id="7063081"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7063082">.</span><span class="ident" id="7063083">RawQuery</span><span class="op" id="7063091">,</span>&nbsp;<span class="ident" id="7063093"><a href="/net/url/url_test.go.html#7062782">u</a></span><span class="op" id="7063094">.</span><span class="ident" id="7063095">Fragment</span><span class="op" id="7063103">)</span><br>
<span class="lineno">305</span><span class="op" id="7063105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7063108">func</span>&nbsp;<span class="ident" id="7063113">DoTest</span><span class="op" id="7063119">(</span><span class="ident" id="7063120">t</span>&nbsp;<span class="op" id="7063122">*</span><span class="ident" id="7063123"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7063130">.</span><span class="ident" id="7063131">T</span><span class="op" id="7063132">,</span>&nbsp;<span class="ident" id="7063134">parse</span>&nbsp;<span class="keyword" id="7063140">func</span><span class="op" id="7063144">(</span><span class="builtintype" id="7063145">string</span><span class="op" id="7063151">)</span>&nbsp;<span class="op" id="7063153">(</span><span class="op" id="7063154">*</span><span class="ident" id="7063155"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7063158">,</span>&nbsp;<span class="builtintype" id="7063160">error</span><span class="op" id="7063165">)</span><span class="op" id="7063166">,</span>&nbsp;<span class="ident" id="7063168">name</span>&nbsp;<span class="builtintype" id="7063173">string</span><span class="op" id="7063179">,</span>&nbsp;<span class="ident" id="7063181">tests</span>&nbsp;<span class="op" id="7063187">[</span><span class="op" id="7063188">]</span><span class="ident" id="7063189"><a href="/net/url/url_test.go.html#7057314">URLTest</a></span><span class="op" id="7063196">)</span>&nbsp;<span class="op" id="7063198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063201">for</span>&nbsp;<span class="ident" id="7063205">_</span><span class="op" id="7063206">,</span>&nbsp;<span class="ident" id="7063208">tt</span>&nbsp;<span class="op" id="7063211">:=</span>&nbsp;<span class="keyword" id="7063214">range</span>&nbsp;<span class="ident" id="7063220"><a href="/net/url/url_test.go.html#7063181">tests</a></span>&nbsp;<span class="op" id="7063226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063230">u</span><span class="op" id="7063231">,</span>&nbsp;<span class="ident" id="7063233">err</span>&nbsp;<span class="op" id="7063237">:=</span>&nbsp;<span class="ident" id="7063240"><a href="/net/url/url_test.go.html#7063134">parse</a></span><span class="op" id="7063245">(</span><span class="ident" id="7063246"><a href="/net/url/url_test.go.html#7063208">tt</a></span><span class="op" id="7063248">.</span><span class="ident" id="7063249">in</span><span class="op" id="7063251">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063255">if</span>&nbsp;<span class="ident" id="7063258"><a href="/net/url/url_test.go.html#7063233">err</a></span>&nbsp;<span class="op" id="7063262">!=</span>&nbsp;<span class="ident" id="7063265">nil</span>&nbsp;<span class="op" id="7063269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063274"><a href="/net/url/url_test.go.html#7063120">t</a></span><span class="op" id="7063275">.</span><span class="ident" id="7063276">Errorf</span><span class="op" id="7063282">(</span><span class="string" id="7063283">&#34;%s(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7063309">,</span>&nbsp;<span class="ident" id="7063311"><a href="/net/url/url_test.go.html#7063168">name</a></span><span class="op" id="7063315">,</span>&nbsp;<span class="ident" id="7063317"><a href="/net/url/url_test.go.html#7063208">tt</a></span><span class="op" id="7063319">.</span><span class="ident" id="7063320">in</span><span class="op" id="7063322">,</span>&nbsp;<span class="ident" id="7063324"><a href="/net/url/url_test.go.html#7063233">err</a></span><span class="op" id="7063327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063332">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063347">if</span>&nbsp;<span class="op" id="7063350">!</span><span class="ident" id="7063351"><a href="/net/url/url_test.go.html#7057274">reflect</a></span><span class="op" id="7063358">.</span><span class="ident" id="7063359">DeepEqual</span><span class="op" id="7063368">(</span><span class="ident" id="7063369"><a href="/net/url/url_test.go.html#7063230">u</a></span><span class="op" id="7063370">,</span>&nbsp;<span class="ident" id="7063372"><a href="/net/url/url_test.go.html#7063208">tt</a></span><span class="op" id="7063374">.</span><span class="ident" id="7063375">out</span><span class="op" id="7063378">)</span>&nbsp;<span class="op" id="7063380">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063385"><a href="/net/url/url_test.go.html#7063120">t</a></span><span class="op" id="7063386">.</span><span class="ident" id="7063387">Errorf</span><span class="op" id="7063393">(</span><span class="string" id="7063394">&#34;%s(%q):\n\thave&nbsp;%v\n\twant&nbsp;%v\n&#34;</span><span class="op" id="7063427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063433"><a href="/net/url/url_test.go.html#7063168">name</a></span><span class="op" id="7063437">,</span>&nbsp;<span class="ident" id="7063439"><a href="/net/url/url_test.go.html#7063208">tt</a></span><span class="op" id="7063441">.</span><span class="ident" id="7063442">in</span><span class="op" id="7063444">,</span>&nbsp;<span class="ident" id="7063446"><a href="/net/url/url_test.go.html#7062777">ufmt</a></span><span class="op" id="7063450">(</span><span class="ident" id="7063451"><a href="/net/url/url_test.go.html#7063230">u</a></span><span class="op" id="7063452">)</span><span class="op" id="7063453">,</span>&nbsp;<span class="ident" id="7063455"><a href="/net/url/url_test.go.html#7062777">ufmt</a></span><span class="op" id="7063459">(</span><span class="ident" id="7063460"><a href="/net/url/url_test.go.html#7063208">tt</a></span><span class="op" id="7063462">.</span><span class="ident" id="7063463">out</span><span class="op" id="7063466">)</span><span class="op" id="7063467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063474">}</span><br>
<span class="lineno"></span><span class="op" id="7063476">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="keyword" id="7063479">func</span>&nbsp;<span class="ident" id="7063484">BenchmarkString</span><span class="op" id="7063499">(</span><span class="ident" id="7063500">b</span>&nbsp;<span class="op" id="7063502">*</span><span class="ident" id="7063503"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7063510">.</span><span class="ident" id="7063511">B</span><span class="op" id="7063512">)</span>&nbsp;<span class="op" id="7063514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063517"><a href="/net/url/url_test.go.html#7063500">b</a></span><span class="op" id="7063518">.</span><span class="ident" id="7063519">StopTimer</span><span class="op" id="7063528">(</span><span class="op" id="7063529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063532"><a href="/net/url/url_test.go.html#7063500">b</a></span><span class="op" id="7063533">.</span><span class="ident" id="7063534">ReportAllocs</span><span class="op" id="7063546">(</span><span class="op" id="7063547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063550">for</span>&nbsp;<span class="ident" id="7063554">_</span><span class="op" id="7063555">,</span>&nbsp;<span class="ident" id="7063557">tt</span>&nbsp;<span class="op" id="7063560">:=</span>&nbsp;<span class="keyword" id="7063563">range</span>&nbsp;<span class="ident" id="7063569"><a href="/net/url/url_test.go.html#7057461">urltests</a></span>&nbsp;<span class="op" id="7063578">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063582">u</span><span class="op" id="7063583">,</span>&nbsp;<span class="ident" id="7063585">err</span>&nbsp;<span class="op" id="7063589">:=</span>&nbsp;<span class="ident" id="7063592"><a href="/net/url/url.go.html#3594974">Parse</a></span><span class="op" id="7063597">(</span><span class="ident" id="7063598"><a href="/net/url/url_test.go.html#7063557">tt</a></span><span class="op" id="7063600">.</span><span class="ident" id="7063601">in</span><span class="op" id="7063603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063607">if</span>&nbsp;<span class="ident" id="7063610"><a href="/net/url/url_test.go.html#7063585">err</a></span>&nbsp;<span class="op" id="7063614">!=</span>&nbsp;<span class="ident" id="7063617">nil</span>&nbsp;<span class="op" id="7063621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063626"><a href="/net/url/url_test.go.html#7063500">b</a></span><span class="op" id="7063627">.</span><span class="ident" id="7063628">Errorf</span><span class="op" id="7063634">(</span><span class="string" id="7063635">&#34;Parse(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7063664">,</span>&nbsp;<span class="ident" id="7063666"><a href="/net/url/url_test.go.html#7063557">tt</a></span><span class="op" id="7063668">.</span><span class="ident" id="7063669">in</span><span class="op" id="7063671">,</span>&nbsp;<span class="ident" id="7063673"><a href="/net/url/url_test.go.html#7063585">err</a></span><span class="op" id="7063676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063681">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063692">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063696">if</span>&nbsp;<span class="ident" id="7063699"><a href="/net/url/url_test.go.html#7063557">tt</a></span><span class="op" id="7063701">.</span><span class="ident" id="7063702">roundtrip</span>&nbsp;<span class="op" id="7063712">==</span>&nbsp;<span class="string" id="7063715">&#34;&#34;</span>&nbsp;<span class="op" id="7063718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063723">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063738"><a href="/net/url/url_test.go.html#7063500">b</a></span><span class="op" id="7063739">.</span><span class="ident" id="7063740">StartTimer</span><span class="op" id="7063750">(</span><span class="op" id="7063751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063755">var</span>&nbsp;<span class="ident" id="7063759">g</span>&nbsp;<span class="builtintype" id="7063761">string</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063770">for</span>&nbsp;<span class="ident" id="7063774">i</span>&nbsp;<span class="op" id="7063776">:=</span>&nbsp;<span class="num" id="7063779">0</span><span class="op" id="7063780">;</span>&nbsp;<span class="ident" id="7063782"><a href="/net/url/url_test.go.html#7063774">i</a></span>&nbsp;<span class="op" id="7063784">&lt;</span>&nbsp;<span class="ident" id="7063786"><a href="/net/url/url_test.go.html#7063500">b</a></span><span class="op" id="7063787">.</span><span class="ident" id="7063788">N</span><span class="op" id="7063789">;</span>&nbsp;<span class="ident" id="7063791"><a href="/net/url/url_test.go.html#7063774">i</a></span><span class="op" id="7063792">++</span>&nbsp;<span class="op" id="7063795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063800"><a href="/net/url/url_test.go.html#7063759">g</a></span>&nbsp;<span class="op" id="7063802">=</span>&nbsp;<span class="ident" id="7063804"><a href="/net/url/url_test.go.html#7063582">u</a></span><span class="op" id="7063805">.</span><span class="ident" id="7063806">String</span><span class="op" id="7063812">(</span><span class="op" id="7063813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063821"><a href="/net/url/url_test.go.html#7063500">b</a></span><span class="op" id="7063822">.</span><span class="ident" id="7063823">StopTimer</span><span class="op" id="7063832">(</span><span class="op" id="7063833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063837">if</span>&nbsp;<span class="ident" id="7063840">w</span>&nbsp;<span class="op" id="7063842">:=</span>&nbsp;<span class="ident" id="7063845"><a href="/net/url/url_test.go.html#7063557">tt</a></span><span class="op" id="7063847">.</span><span class="ident" id="7063848">roundtrip</span><span class="op" id="7063857">;</span>&nbsp;<span class="ident" id="7063859"><a href="/net/url/url_test.go.html#7063759">g</a></span>&nbsp;<span class="op" id="7063861">!=</span>&nbsp;<span class="ident" id="7063864"><a href="/net/url/url_test.go.html#7063840">w</a></span>&nbsp;<span class="op" id="7063866">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063871"><a href="/net/url/url_test.go.html#7063500">b</a></span><span class="op" id="7063872">.</span><span class="ident" id="7063873">Errorf</span><span class="op" id="7063879">(</span><span class="string" id="7063880">&#34;Parse(%q).String()&nbsp;==&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7063915">,</span>&nbsp;<span class="ident" id="7063917"><a href="/net/url/url_test.go.html#7063557">tt</a></span><span class="op" id="7063919">.</span><span class="ident" id="7063920">in</span><span class="op" id="7063922">,</span>&nbsp;<span class="ident" id="7063924"><a href="/net/url/url_test.go.html#7063759">g</a></span><span class="op" id="7063925">,</span>&nbsp;<span class="ident" id="7063927"><a href="/net/url/url_test.go.html#7063840">w</a></span><span class="op" id="7063928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063935">}</span><br>
<span class="lineno"></span><span class="op" id="7063937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7063940">func</span>&nbsp;<span class="ident" id="7063945">TestParse</span><span class="op" id="7063954">(</span><span class="ident" id="7063955">t</span>&nbsp;<span class="op" id="7063957">*</span><span class="ident" id="7063958"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7063965">.</span><span class="ident" id="7063966">T</span><span class="op" id="7063967">)</span>&nbsp;<span class="op" id="7063969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063972"><a href="/net/url/url_test.go.html#7063113">DoTest</a></span><span class="op" id="7063978">(</span><span class="ident" id="7063979"><a href="/net/url/url_test.go.html#7063955">t</a></span><span class="op" id="7063980">,</span>&nbsp;<span class="ident" id="7063982"><a href="/net/url/url.go.html#3594974">Parse</a></span><span class="op" id="7063987">,</span>&nbsp;<span class="string" id="7063989">&#34;Parse&#34;</span><span class="op" id="7063996">,</span>&nbsp;<span class="ident" id="7063998"><a href="/net/url/url_test.go.html#7057461">urltests</a></span><span class="op" id="7064006">)</span><br>
<span class="lineno"></span><span class="op" id="7064008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7064011">const</span>&nbsp;<span class="ident" id="7064017">pathThatLooksSchemeRelative</span>&nbsp;<span class="op" id="7064045">=</span>&nbsp;<span class="string" id="7064047">&#34;//not.a.user@not.a.host/just/a/path&#34;</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7064086">var</span>&nbsp;<span class="ident" id="7064090">parseRequestURLTests</span>&nbsp;<span class="op" id="7064111">=</span>&nbsp;<span class="op" id="7064113">[</span><span class="op" id="7064114">]</span><span class="keyword" id="7064115">struct</span>&nbsp;<span class="op" id="7064122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064125">url</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7064139">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064147">expectedValid</span>&nbsp;<span class="builtintype" id="7064161">bool</span><br>
<span class="lineno"></span><span class="op" id="7064166">}</span><span class="op" id="7064167">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064170">{</span><span class="string" id="7064171">&#34;http://foo.com&#34;</span><span class="op" id="7064187">,</span>&nbsp;<span class="ident" id="7064189">true</span><span class="op" id="7064193">}</span><span class="op" id="7064194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064197">{</span><span class="string" id="7064198">&#34;http://foo.com/&#34;</span><span class="op" id="7064215">,</span>&nbsp;<span class="ident" id="7064217">true</span><span class="op" id="7064221">}</span><span class="op" id="7064222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064225">{</span><span class="string" id="7064226">&#34;http://foo.com/path&#34;</span><span class="op" id="7064247">,</span>&nbsp;<span class="ident" id="7064249">true</span><span class="op" id="7064253">}</span><span class="op" id="7064254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064257">{</span><span class="string" id="7064258">&#34;/&#34;</span><span class="op" id="7064261">,</span>&nbsp;<span class="ident" id="7064263">true</span><span class="op" id="7064267">}</span><span class="op" id="7064268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064271">{</span><span class="ident" id="7064272"><a href="/net/url/url_test.go.html#7064017">pathThatLooksSchemeRelative</a></span><span class="op" id="7064299">,</span>&nbsp;<span class="ident" id="7064301">true</span><span class="op" id="7064305">}</span><span class="op" id="7064306">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064309">{</span><span class="string" id="7064310">&#34;//not.a.user@%66%6f%6f.com/just/a/path/also&#34;</span><span class="op" id="7064355">,</span>&nbsp;<span class="ident" id="7064357">true</span><span class="op" id="7064361">}</span><span class="op" id="7064362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064365">{</span><span class="string" id="7064366">&#34;foo.html&#34;</span><span class="op" id="7064376">,</span>&nbsp;<span class="ident" id="7064378">false</span><span class="op" id="7064383">}</span><span class="op" id="7064384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064387">{</span><span class="string" id="7064388">&#34;../dir/&#34;</span><span class="op" id="7064397">,</span>&nbsp;<span class="ident" id="7064399">false</span><span class="op" id="7064404">}</span><span class="op" id="7064405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064408">{</span><span class="string" id="7064409">&#34;*&#34;</span><span class="op" id="7064412">,</span>&nbsp;<span class="ident" id="7064414">true</span><span class="op" id="7064418">}</span><span class="op" id="7064419">,</span><br>
<span class="lineno"></span><span class="op" id="7064421">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="7064424">func</span>&nbsp;<span class="ident" id="7064429">TestParseRequestURI</span><span class="op" id="7064448">(</span><span class="ident" id="7064449">t</span>&nbsp;<span class="op" id="7064451">*</span><span class="ident" id="7064452"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7064459">.</span><span class="ident" id="7064460">T</span><span class="op" id="7064461">)</span>&nbsp;<span class="op" id="7064463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064466">for</span>&nbsp;<span class="ident" id="7064470">_</span><span class="op" id="7064471">,</span>&nbsp;<span class="ident" id="7064473">test</span>&nbsp;<span class="op" id="7064478">:=</span>&nbsp;<span class="keyword" id="7064481">range</span>&nbsp;<span class="ident" id="7064487"><a href="/net/url/url_test.go.html#7064090">parseRequestURLTests</a></span>&nbsp;<span class="op" id="7064508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064512">_</span><span class="op" id="7064513">,</span>&nbsp;<span class="ident" id="7064515">err</span>&nbsp;<span class="op" id="7064519">:=</span>&nbsp;<span class="ident" id="7064522"><a href="/net/url/url.go.html#3595648">ParseRequestURI</a></span><span class="op" id="7064537">(</span><span class="ident" id="7064538"><a href="/net/url/url_test.go.html#7064473">test</a></span><span class="op" id="7064542">.</span><span class="ident" id="7064543">url</span><span class="op" id="7064546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064550">valid</span>&nbsp;<span class="op" id="7064556">:=</span>&nbsp;<span class="ident" id="7064559"><a href="/net/url/url_test.go.html#7064515">err</a></span>&nbsp;<span class="op" id="7064563">==</span>&nbsp;<span class="ident" id="7064566">nil</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064572">if</span>&nbsp;<span class="ident" id="7064575"><a href="/net/url/url_test.go.html#7064550">valid</a></span>&nbsp;<span class="op" id="7064581">!=</span>&nbsp;<span class="ident" id="7064584"><a href="/net/url/url_test.go.html#7064473">test</a></span><span class="op" id="7064588">.</span><span class="ident" id="7064589">expectedValid</span>&nbsp;<span class="op" id="7064603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064608"><a href="/net/url/url_test.go.html#7064449">t</a></span><span class="op" id="7064609">.</span><span class="ident" id="7064610">Errorf</span><span class="op" id="7064616">(</span><span class="string" id="7064617">&#34;Expected&nbsp;valid=%v&nbsp;for&nbsp;%q;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7064651">,</span>&nbsp;<span class="ident" id="7064653"><a href="/net/url/url_test.go.html#7064473">test</a></span><span class="op" id="7064657">.</span><span class="ident" id="7064658">expectedValid</span><span class="op" id="7064671">,</span>&nbsp;<span class="ident" id="7064673"><a href="/net/url/url_test.go.html#7064473">test</a></span><span class="op" id="7064677">.</span><span class="ident" id="7064678">url</span><span class="op" id="7064681">,</span>&nbsp;<span class="ident" id="7064683"><a href="/net/url/url_test.go.html#7064550">valid</a></span><span class="op" id="7064688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064699">url</span><span class="op" id="7064702">,</span>&nbsp;<span class="ident" id="7064704">err</span>&nbsp;<span class="op" id="7064708">:=</span>&nbsp;<span class="ident" id="7064711"><a href="/net/url/url.go.html#3595648">ParseRequestURI</a></span><span class="op" id="7064726">(</span><span class="ident" id="7064727"><a href="/net/url/url_test.go.html#7064017">pathThatLooksSchemeRelative</a></span><span class="op" id="7064754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064757">if</span>&nbsp;<span class="ident" id="7064760"><a href="/net/url/url_test.go.html#7064704">err</a></span>&nbsp;<span class="op" id="7064764">!=</span>&nbsp;<span class="ident" id="7064767">nil</span>&nbsp;<span class="op" id="7064771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064775"><a href="/net/url/url_test.go.html#7064449">t</a></span><span class="op" id="7064776">.</span><span class="ident" id="7064777">Fatalf</span><span class="op" id="7064783">(</span><span class="string" id="7064784">&#34;Unexpected&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7064805">,</span>&nbsp;<span class="ident" id="7064807"><a href="/net/url/url_test.go.html#7064704">err</a></span><span class="op" id="7064810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064816">if</span>&nbsp;<span class="ident" id="7064819"><a href="/net/url/url_test.go.html#7064699">url</a></span><span class="op" id="7064822">.</span><span class="ident" id="7064823">Path</span>&nbsp;<span class="op" id="7064828">!=</span>&nbsp;<span class="ident" id="7064831"><a href="/net/url/url_test.go.html#7064017">pathThatLooksSchemeRelative</a></span>&nbsp;<span class="op" id="7064859">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064863"><a href="/net/url/url_test.go.html#7064449">t</a></span><span class="op" id="7064864">.</span><span class="ident" id="7064865">Errorf</span><span class="op" id="7064871">(</span><span class="string" id="7064872">&#34;Expected&nbsp;path&nbsp;%q;&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7064898">,</span>&nbsp;<span class="ident" id="7064900"><a href="/net/url/url_test.go.html#7064017">pathThatLooksSchemeRelative</a></span><span class="op" id="7064927">,</span>&nbsp;<span class="ident" id="7064929"><a href="/net/url/url_test.go.html#7064699">url</a></span><span class="op" id="7064932">.</span><span class="ident" id="7064933">Path</span><span class="op" id="7064937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064940">}</span><br>
<span class="lineno"></span><span class="op" id="7064942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7064945">func</span>&nbsp;<span class="ident" id="7064950">DoTestString</span><span class="op" id="7064962">(</span><span class="ident" id="7064963">t</span>&nbsp;<span class="op" id="7064965">*</span><span class="ident" id="7064966"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7064973">.</span><span class="ident" id="7064974">T</span><span class="op" id="7064975">,</span>&nbsp;<span class="ident" id="7064977">parse</span>&nbsp;<span class="keyword" id="7064983">func</span><span class="op" id="7064987">(</span><span class="builtintype" id="7064988">string</span><span class="op" id="7064994">)</span>&nbsp;<span class="op" id="7064996">(</span><span class="op" id="7064997">*</span><span class="ident" id="7064998"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7065001">,</span>&nbsp;<span class="builtintype" id="7065003">error</span><span class="op" id="7065008">)</span><span class="op" id="7065009">,</span>&nbsp;<span class="ident" id="7065011">name</span>&nbsp;<span class="builtintype" id="7065016">string</span><span class="op" id="7065022">,</span>&nbsp;<span class="ident" id="7065024">tests</span>&nbsp;<span class="op" id="7065030">[</span><span class="op" id="7065031">]</span><span class="ident" id="7065032"><a href="/net/url/url_test.go.html#7057314">URLTest</a></span><span class="op" id="7065039">)</span>&nbsp;<span class="op" id="7065041">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065044">for</span>&nbsp;<span class="ident" id="7065048">_</span><span class="op" id="7065049">,</span>&nbsp;<span class="ident" id="7065051">tt</span>&nbsp;<span class="op" id="7065054">:=</span>&nbsp;<span class="keyword" id="7065057">range</span>&nbsp;<span class="ident" id="7065063"><a href="/net/url/url_test.go.html#7065024">tests</a></span>&nbsp;<span class="op" id="7065069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065073">u</span><span class="op" id="7065074">,</span>&nbsp;<span class="ident" id="7065076">err</span>&nbsp;<span class="op" id="7065080">:=</span>&nbsp;<span class="ident" id="7065083"><a href="/net/url/url_test.go.html#7064977">parse</a></span><span class="op" id="7065088">(</span><span class="ident" id="7065089"><a href="/net/url/url_test.go.html#7065051">tt</a></span><span class="op" id="7065091">.</span><span class="ident" id="7065092">in</span><span class="op" id="7065094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065098">if</span>&nbsp;<span class="ident" id="7065101"><a href="/net/url/url_test.go.html#7065076">err</a></span>&nbsp;<span class="op" id="7065105">!=</span>&nbsp;<span class="ident" id="7065108">nil</span>&nbsp;<span class="op" id="7065112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065117"><a href="/net/url/url_test.go.html#7064963">t</a></span><span class="op" id="7065118">.</span><span class="ident" id="7065119">Errorf</span><span class="op" id="7065125">(</span><span class="string" id="7065126">&#34;%s(%q)&nbsp;returned&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7065152">,</span>&nbsp;<span class="ident" id="7065154"><a href="/net/url/url_test.go.html#7065011">name</a></span><span class="op" id="7065158">,</span>&nbsp;<span class="ident" id="7065160"><a href="/net/url/url_test.go.html#7065051">tt</a></span><span class="op" id="7065162">.</span><span class="ident" id="7065163">in</span><span class="op" id="7065165">,</span>&nbsp;<span class="ident" id="7065167"><a href="/net/url/url_test.go.html#7065076">err</a></span><span class="op" id="7065170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065175">continue</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065190">expected</span>&nbsp;<span class="op" id="7065199">:=</span>&nbsp;<span class="ident" id="7065202"><a href="/net/url/url_test.go.html#7065051">tt</a></span><span class="op" id="7065204">.</span><span class="ident" id="7065205">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065210">if</span>&nbsp;<span class="builtinfunc" id="7065213">len</span><span class="op" id="7065216">(</span><span class="ident" id="7065217"><a href="/net/url/url_test.go.html#7065051">tt</a></span><span class="op" id="7065219">.</span><span class="ident" id="7065220">roundtrip</span><span class="op" id="7065229">)</span>&nbsp;<span class="op" id="7065231">&gt;</span>&nbsp;<span class="num" id="7065233">0</span>&nbsp;<span class="op" id="7065235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065240"><a href="/net/url/url_test.go.html#7065190">expected</a></span>&nbsp;<span class="op" id="7065249">=</span>&nbsp;<span class="ident" id="7065251"><a href="/net/url/url_test.go.html#7065051">tt</a></span><span class="op" id="7065253">.</span><span class="ident" id="7065254">roundtrip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065266">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065270">s</span>&nbsp;<span class="op" id="7065272">:=</span>&nbsp;<span class="ident" id="7065275"><a href="/net/url/url_test.go.html#7065073">u</a></span><span class="op" id="7065276">.</span><span class="ident" id="7065277">String</span><span class="op" id="7065283">(</span><span class="op" id="7065284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065288">if</span>&nbsp;<span class="ident" id="7065291"><a href="/net/url/url_test.go.html#7065270">s</a></span>&nbsp;<span class="op" id="7065293">!=</span>&nbsp;<span class="ident" id="7065296"><a href="/net/url/url_test.go.html#7065190">expected</a></span>&nbsp;<span class="op" id="7065305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065310"><a href="/net/url/url_test.go.html#7064963">t</a></span><span class="op" id="7065311">.</span><span class="ident" id="7065312">Errorf</span><span class="op" id="7065318">(</span><span class="string" id="7065319">&#34;%s(%q).String()&nbsp;==&nbsp;%q&nbsp;(expected&nbsp;%q)&#34;</span><span class="op" id="7065356">,</span>&nbsp;<span class="ident" id="7065358"><a href="/net/url/url_test.go.html#7065011">name</a></span><span class="op" id="7065362">,</span>&nbsp;<span class="ident" id="7065364"><a href="/net/url/url_test.go.html#7065051">tt</a></span><span class="op" id="7065366">.</span><span class="ident" id="7065367">in</span><span class="op" id="7065369">,</span>&nbsp;<span class="ident" id="7065371"><a href="/net/url/url_test.go.html#7065270">s</a></span><span class="op" id="7065372">,</span>&nbsp;<span class="ident" id="7065374"><a href="/net/url/url_test.go.html#7065190">expected</a></span><span class="op" id="7065382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065389">}</span><br>
<span class="lineno">400</span><span class="op" id="7065391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7065394">func</span>&nbsp;<span class="ident" id="7065399">TestURLString</span><span class="op" id="7065412">(</span><span class="ident" id="7065413">t</span>&nbsp;<span class="op" id="7065415">*</span><span class="ident" id="7065416"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7065423">.</span><span class="ident" id="7065424">T</span><span class="op" id="7065425">)</span>&nbsp;<span class="op" id="7065427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065430"><a href="/net/url/url_test.go.html#7064950">DoTestString</a></span><span class="op" id="7065442">(</span><span class="ident" id="7065443"><a href="/net/url/url_test.go.html#7065413">t</a></span><span class="op" id="7065444">,</span>&nbsp;<span class="ident" id="7065446"><a href="/net/url/url.go.html#3594974">Parse</a></span><span class="op" id="7065451">,</span>&nbsp;<span class="string" id="7065453">&#34;Parse&#34;</span><span class="op" id="7065460">,</span>&nbsp;<span class="ident" id="7065462"><a href="/net/url/url_test.go.html#7057461">urltests</a></span><span class="op" id="7065470">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7065474">//&nbsp;no&nbsp;leading&nbsp;slash&nbsp;on&nbsp;path&nbsp;should&nbsp;prepend</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7065518">//&nbsp;slash&nbsp;on&nbsp;String()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065545">noslash</span>&nbsp;<span class="op" id="7065553">:=</span>&nbsp;<span class="ident" id="7065556"><a href="/net/url/url_test.go.html#7057314">URLTest</a></span><span class="op" id="7065563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065567">&#34;http://www.google.com/search&#34;</span><span class="op" id="7065597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065601">&amp;</span><span class="ident" id="7065602"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7065605">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065610">Scheme</span><span class="op" id="7065616">:</span>&nbsp;<span class="string" id="7065618">&#34;http&#34;</span><span class="op" id="7065624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065629">Host</span><span class="op" id="7065633">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7065637">&#34;www.google.com&#34;</span><span class="op" id="7065653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065658">Path</span><span class="op" id="7065662">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7065666">&#34;search&#34;</span><span class="op" id="7065674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065678">}</span><span class="op" id="7065679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065683">&#34;&#34;</span><span class="op" id="7065685">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065691">s</span>&nbsp;<span class="op" id="7065693">:=</span>&nbsp;<span class="ident" id="7065696"><a href="/net/url/url_test.go.html#7065545">noslash</a></span><span class="op" id="7065703">.</span><span class="ident" id="7065704">out</span><span class="op" id="7065707">.</span><span class="ident" id="7065708">String</span><span class="op" id="7065714">(</span><span class="op" id="7065715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7065718">if</span>&nbsp;<span class="ident" id="7065721"><a href="/net/url/url_test.go.html#7065691">s</a></span>&nbsp;<span class="op" id="7065723">!=</span>&nbsp;<span class="ident" id="7065726"><a href="/net/url/url_test.go.html#7065545">noslash</a></span><span class="op" id="7065733">.</span><span class="ident" id="7065734">in</span>&nbsp;<span class="op" id="7065737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065741"><a href="/net/url/url_test.go.html#7065413">t</a></span><span class="op" id="7065742">.</span><span class="ident" id="7065743">Errorf</span><span class="op" id="7065749">(</span><span class="string" id="7065750">&#34;Expected&nbsp;%s;&nbsp;go&nbsp;%s&#34;</span><span class="op" id="7065770">,</span>&nbsp;<span class="ident" id="7065772"><a href="/net/url/url_test.go.html#7065545">noslash</a></span><span class="op" id="7065779">.</span><span class="ident" id="7065780">in</span><span class="op" id="7065782">,</span>&nbsp;<span class="ident" id="7065784"><a href="/net/url/url_test.go.html#7065691">s</a></span><span class="op" id="7065785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065788">}</span><br>
<span class="lineno">420</span><span class="op" id="7065790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7065793">type</span>&nbsp;<span class="ident" id="7065798">EscapeTest</span>&nbsp;<span class="keyword" id="7065809">struct</span>&nbsp;<span class="op" id="7065816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065819">in</span>&nbsp;&nbsp;<span class="builtintype" id="7065823">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065831">out</span>&nbsp;<span class="builtintype" id="7065835">string</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065843">err</span>&nbsp;<span class="builtintype" id="7065847">error</span><br>
<span class="lineno"></span><span class="op" id="7065853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7065856">var</span>&nbsp;<span class="ident" id="7065860">unescapeTests</span>&nbsp;<span class="op" id="7065874">=</span>&nbsp;<span class="op" id="7065876">[</span><span class="op" id="7065877">]</span><span class="ident" id="7065878"><a href="/net/url/url_test.go.html#7065798">EscapeTest</a></span><span class="op" id="7065888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065891">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065895">&#34;&#34;</span><span class="op" id="7065897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065901">&#34;&#34;</span><span class="op" id="7065903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065907">nil</span><span class="op" id="7065910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065913">}</span><span class="op" id="7065914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065917">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065921">&#34;abc&#34;</span><span class="op" id="7065926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065930">&#34;abc&#34;</span><span class="op" id="7065935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065939">nil</span><span class="op" id="7065942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065945">}</span><span class="op" id="7065946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065949">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065953">&#34;1%41&#34;</span><span class="op" id="7065959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065963">&#34;1A&#34;</span><span class="op" id="7065967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7065971">nil</span><span class="op" id="7065974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065977">}</span><span class="op" id="7065978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065981">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7065985">&#34;1%41%42%43&#34;</span><span class="op" id="7065997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066001">&#34;1ABC&#34;</span><span class="op" id="7066007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066011">nil</span><span class="op" id="7066014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066017">}</span><span class="op" id="7066018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066021">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066025">&#34;%4a&#34;</span><span class="op" id="7066030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066034">&#34;J&#34;</span><span class="op" id="7066037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066041">nil</span><span class="op" id="7066044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066047">}</span><span class="op" id="7066048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066051">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066055">&#34;%6F&#34;</span><span class="op" id="7066060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066064">&#34;o&#34;</span><span class="op" id="7066067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066071">nil</span><span class="op" id="7066074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066077">}</span><span class="op" id="7066078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066081">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066085">&#34;%&#34;</span><span class="op" id="7066088">,</span>&nbsp;<span class="comment" id="7066090">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066125">&#34;&#34;</span><span class="op" id="7066127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066131"><a href="/net/url/url.go.html#3587509">EscapeError</a></span><span class="op" id="7066142">(</span><span class="string" id="7066143">&#34;%&#34;</span><span class="op" id="7066146">)</span><span class="op" id="7066147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066150">}</span><span class="op" id="7066151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066154">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066158">&#34;%a&#34;</span><span class="op" id="7066162">,</span>&nbsp;<span class="comment" id="7066164">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066199">&#34;&#34;</span><span class="op" id="7066201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066205"><a href="/net/url/url.go.html#3587509">EscapeError</a></span><span class="op" id="7066216">(</span><span class="string" id="7066217">&#34;%a&#34;</span><span class="op" id="7066221">)</span><span class="op" id="7066222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066225">}</span><span class="op" id="7066226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066229">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066233">&#34;%1&#34;</span><span class="op" id="7066237">,</span>&nbsp;<span class="comment" id="7066239">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066274">&#34;&#34;</span><span class="op" id="7066276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066280"><a href="/net/url/url.go.html#3587509">EscapeError</a></span><span class="op" id="7066291">(</span><span class="string" id="7066292">&#34;%1&#34;</span><span class="op" id="7066296">)</span><span class="op" id="7066297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066300">}</span><span class="op" id="7066301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066304">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066308">&#34;123%45%6&#34;</span><span class="op" id="7066318">,</span>&nbsp;<span class="comment" id="7066320">//&nbsp;not&nbsp;enough&nbsp;characters&nbsp;after&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066355">&#34;&#34;</span><span class="op" id="7066357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066361"><a href="/net/url/url.go.html#3587509">EscapeError</a></span><span class="op" id="7066372">(</span><span class="string" id="7066373">&#34;%6&#34;</span><span class="op" id="7066377">)</span><span class="op" id="7066378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066381">}</span><span class="op" id="7066382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066385">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066389">&#34;%zzzzz&#34;</span><span class="op" id="7066397">,</span>&nbsp;<span class="comment" id="7066399">//&nbsp;invalid&nbsp;hex&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066423">&#34;&#34;</span><span class="op" id="7066425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066429"><a href="/net/url/url.go.html#3587509">EscapeError</a></span><span class="op" id="7066440">(</span><span class="string" id="7066441">&#34;%zz&#34;</span><span class="op" id="7066446">)</span><span class="op" id="7066447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066450">}</span><span class="op" id="7066451">,</span><br>
<span class="lineno"></span><span class="op" id="7066453">}</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span><span class="keyword" id="7066456">func</span>&nbsp;<span class="ident" id="7066461">TestUnescape</span><span class="op" id="7066473">(</span><span class="ident" id="7066474">t</span>&nbsp;<span class="op" id="7066476">*</span><span class="ident" id="7066477"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7066484">.</span><span class="ident" id="7066485">T</span><span class="op" id="7066486">)</span>&nbsp;<span class="op" id="7066488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066491">for</span>&nbsp;<span class="ident" id="7066495">_</span><span class="op" id="7066496">,</span>&nbsp;<span class="ident" id="7066498">tt</span>&nbsp;<span class="op" id="7066501">:=</span>&nbsp;<span class="keyword" id="7066504">range</span>&nbsp;<span class="ident" id="7066510"><a href="/net/url/url_test.go.html#7065860">unescapeTests</a></span>&nbsp;<span class="op" id="7066524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066528">actual</span><span class="op" id="7066534">,</span>&nbsp;<span class="ident" id="7066536">err</span>&nbsp;<span class="op" id="7066540">:=</span>&nbsp;<span class="ident" id="7066543"><a href="/net/url/url.go.html#3589332">QueryUnescape</a></span><span class="op" id="7066556">(</span><span class="ident" id="7066557"><a href="/net/url/url_test.go.html#7066498">tt</a></span><span class="op" id="7066559">.</span><span class="ident" id="7066560">in</span><span class="op" id="7066562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7066566">if</span>&nbsp;<span class="ident" id="7066569"><a href="/net/url/url_test.go.html#7066528">actual</a></span>&nbsp;<span class="op" id="7066576">!=</span>&nbsp;<span class="ident" id="7066579"><a href="/net/url/url_test.go.html#7066498">tt</a></span><span class="op" id="7066581">.</span><span class="ident" id="7066582">out</span>&nbsp;<span class="op" id="7066586">||</span>&nbsp;<span class="op" id="7066589">(</span><span class="ident" id="7066590"><a href="/net/url/url_test.go.html#7066536">err</a></span>&nbsp;<span class="op" id="7066594">!=</span>&nbsp;<span class="ident" id="7066597">nil</span><span class="op" id="7066600">)</span>&nbsp;<span class="op" id="7066602">!=</span>&nbsp;<span class="op" id="7066605">(</span><span class="ident" id="7066606"><a href="/net/url/url_test.go.html#7066498">tt</a></span><span class="op" id="7066608">.</span><span class="ident" id="7066609">err</span>&nbsp;<span class="op" id="7066613">!=</span>&nbsp;<span class="ident" id="7066616">nil</span><span class="op" id="7066619">)</span>&nbsp;<span class="op" id="7066621">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066626"><a href="/net/url/url_test.go.html#7066474">t</a></span><span class="op" id="7066627">.</span><span class="ident" id="7066628">Errorf</span><span class="op" id="7066634">(</span><span class="string" id="7066635">&#34;QueryUnescape(%q)&nbsp;=&nbsp;%q,&nbsp;%s;&nbsp;want&nbsp;%q,&nbsp;%s&#34;</span><span class="op" id="7066676">,</span>&nbsp;<span class="ident" id="7066678"><a href="/net/url/url_test.go.html#7066498">tt</a></span><span class="op" id="7066680">.</span><span class="ident" id="7066681">in</span><span class="op" id="7066683">,</span>&nbsp;<span class="ident" id="7066685"><a href="/net/url/url_test.go.html#7066528">actual</a></span><span class="op" id="7066691">,</span>&nbsp;<span class="ident" id="7066693"><a href="/net/url/url_test.go.html#7066536">err</a></span><span class="op" id="7066696">,</span>&nbsp;<span class="ident" id="7066698"><a href="/net/url/url_test.go.html#7066498">tt</a></span><span class="op" id="7066700">.</span><span class="ident" id="7066701">out</span><span class="op" id="7066704">,</span>&nbsp;<span class="ident" id="7066706"><a href="/net/url/url_test.go.html#7066498">tt</a></span><span class="op" id="7066708">.</span><span class="ident" id="7066709">err</span><span class="op" id="7066712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066719">}</span><br>
<span class="lineno"></span><span class="op" id="7066721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span><span class="keyword" id="7066724">var</span>&nbsp;<span class="ident" id="7066728">escapeTests</span>&nbsp;<span class="op" id="7066740">=</span>&nbsp;<span class="op" id="7066742">[</span><span class="op" id="7066743">]</span><span class="ident" id="7066744"><a href="/net/url/url_test.go.html#7065798">EscapeTest</a></span><span class="op" id="7066754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066761">&#34;&#34;</span><span class="op" id="7066763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066767">&#34;&#34;</span><span class="op" id="7066769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066773">nil</span><span class="op" id="7066776">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066779">}</span><span class="op" id="7066780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066787">&#34;abc&#34;</span><span class="op" id="7066792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066796">&#34;abc&#34;</span><span class="op" id="7066801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066805">nil</span><span class="op" id="7066808">,</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066811">}</span><span class="op" id="7066812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066819">&#34;one&nbsp;two&#34;</span><span class="op" id="7066828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066832">&#34;one+two&#34;</span><span class="op" id="7066841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066845">nil</span><span class="op" id="7066848">,</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066851">}</span><span class="op" id="7066852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066859">&#34;10%&#34;</span><span class="op" id="7066864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066868">&#34;10%25&#34;</span><span class="op" id="7066875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7066879">nil</span><span class="op" id="7066882">,</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066885">}</span><span class="op" id="7066886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066893">&#34;&nbsp;?&amp;=#+%!&lt;&gt;#\&#34;{}|\\^[]`☺\t:/@$&#39;()*,;&#34;</span><span class="op" id="7066932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7066936">&#34;+%3F%26%3D%23%2B%25%21%3C%3E%23%22%7B%7D%7C%5C%5E%5B%5D%60%E2%98%BA%09%3A%2F%40%24%27%28%29%2A%2C%3B&#34;</span><span class="op" id="7067038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067042">nil</span><span class="op" id="7067045">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067048">}</span><span class="op" id="7067049">,</span><br>
<span class="lineno"></span><span class="op" id="7067051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067054">func</span>&nbsp;<span class="ident" id="7067059">TestEscape</span><span class="op" id="7067069">(</span><span class="ident" id="7067070">t</span>&nbsp;<span class="op" id="7067072">*</span><span class="ident" id="7067073"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7067080">.</span><span class="ident" id="7067081">T</span><span class="op" id="7067082">)</span>&nbsp;<span class="op" id="7067084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067087">for</span>&nbsp;<span class="ident" id="7067091">_</span><span class="op" id="7067092">,</span>&nbsp;<span class="ident" id="7067094">tt</span>&nbsp;<span class="op" id="7067097">:=</span>&nbsp;<span class="keyword" id="7067100">range</span>&nbsp;<span class="ident" id="7067106"><a href="/net/url/url_test.go.html#7066728">escapeTests</a></span>&nbsp;<span class="op" id="7067118">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067122">actual</span>&nbsp;<span class="op" id="7067129">:=</span>&nbsp;<span class="ident" id="7067132"><a href="/net/url/url.go.html#3590432">QueryEscape</a></span><span class="op" id="7067143">(</span><span class="ident" id="7067144"><a href="/net/url/url_test.go.html#7067094">tt</a></span><span class="op" id="7067146">.</span><span class="ident" id="7067147">in</span><span class="op" id="7067149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067153">if</span>&nbsp;<span class="ident" id="7067156"><a href="/net/url/url_test.go.html#7067094">tt</a></span><span class="op" id="7067158">.</span><span class="ident" id="7067159">out</span>&nbsp;<span class="op" id="7067163">!=</span>&nbsp;<span class="ident" id="7067166"><a href="/net/url/url_test.go.html#7067122">actual</a></span>&nbsp;<span class="op" id="7067173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067178"><a href="/net/url/url_test.go.html#7067070">t</a></span><span class="op" id="7067179">.</span><span class="ident" id="7067180">Errorf</span><span class="op" id="7067186">(</span><span class="string" id="7067187">&#34;QueryEscape(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7067218">,</span>&nbsp;<span class="ident" id="7067220"><a href="/net/url/url_test.go.html#7067094">tt</a></span><span class="op" id="7067222">.</span><span class="ident" id="7067223">in</span><span class="op" id="7067225">,</span>&nbsp;<span class="ident" id="7067227"><a href="/net/url/url_test.go.html#7067122">actual</a></span><span class="op" id="7067233">,</span>&nbsp;<span class="ident" id="7067235"><a href="/net/url/url_test.go.html#7067094">tt</a></span><span class="op" id="7067237">.</span><span class="ident" id="7067238">out</span><span class="op" id="7067241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7067250">//&nbsp;for&nbsp;bonus&nbsp;points,&nbsp;verify&nbsp;that&nbsp;escape:unescape&nbsp;is&nbsp;an&nbsp;identity.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067317">roundtrip</span><span class="op" id="7067326">,</span>&nbsp;<span class="ident" id="7067328">err</span>&nbsp;<span class="op" id="7067332">:=</span>&nbsp;<span class="ident" id="7067335"><a href="/net/url/url.go.html#3589332">QueryUnescape</a></span><span class="op" id="7067348">(</span><span class="ident" id="7067349"><a href="/net/url/url_test.go.html#7067122">actual</a></span><span class="op" id="7067355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7067359">if</span>&nbsp;<span class="ident" id="7067362"><a href="/net/url/url_test.go.html#7067317">roundtrip</a></span>&nbsp;<span class="op" id="7067372">!=</span>&nbsp;<span class="ident" id="7067375"><a href="/net/url/url_test.go.html#7067094">tt</a></span><span class="op" id="7067377">.</span><span class="ident" id="7067378">in</span>&nbsp;<span class="op" id="7067381">||</span>&nbsp;<span class="ident" id="7067384"><a href="/net/url/url_test.go.html#7067328">err</a></span>&nbsp;<span class="op" id="7067388">!=</span>&nbsp;<span class="ident" id="7067391">nil</span>&nbsp;<span class="op" id="7067395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067400"><a href="/net/url/url_test.go.html#7067070">t</a></span><span class="op" id="7067401">.</span><span class="ident" id="7067402">Errorf</span><span class="op" id="7067408">(</span><span class="string" id="7067409">&#34;QueryUnescape(%q)&nbsp;=&nbsp;%q,&nbsp;%s;&nbsp;want&nbsp;%q,&nbsp;%s&#34;</span><span class="op" id="7067450">,</span>&nbsp;<span class="ident" id="7067452"><a href="/net/url/url_test.go.html#7067122">actual</a></span><span class="op" id="7067458">,</span>&nbsp;<span class="ident" id="7067460"><a href="/net/url/url_test.go.html#7067317">roundtrip</a></span><span class="op" id="7067469">,</span>&nbsp;<span class="ident" id="7067471"><a href="/net/url/url_test.go.html#7067328">err</a></span><span class="op" id="7067474">,</span>&nbsp;<span class="ident" id="7067476"><a href="/net/url/url_test.go.html#7067094">tt</a></span><span class="op" id="7067478">.</span><span class="ident" id="7067479">in</span><span class="op" id="7067481">,</span>&nbsp;<span class="string" id="7067483">&#34;[no&nbsp;error]&#34;</span><span class="op" id="7067495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067499">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067502">}</span><br>
<span class="lineno"></span><span class="op" id="7067504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7067507">//var&nbsp;userinfoTests&nbsp;=&nbsp;[]UserinfoTest{</span><br>
<span class="lineno"></span><span class="comment" id="7067545">//&nbsp;&nbsp;&nbsp;&nbsp{&#34;user&#34;,&nbsp;&#34;password&#34;,&nbsp;&#34;user:password&#34;},</span><br>
<span class="lineno">540</span><span class="comment" id="7067587">//&nbsp;&nbsp;&nbsp;&nbsp{&#34;foo:bar&#34;,&nbsp;&#34;~!@#$%^&amp;*()_+{}|[]\\-=`:;&#39;\&#34;&lt;&gt;?,./&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="7067640">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;foo%3Abar:~!%40%23$%25%5E&amp;*()_+%7B%7D%7C%5B%5D%5C-=%60%3A;&#39;%22%3C%3E?,.%2F&#34;},</span><br>
<span class="lineno"></span><span class="comment" id="7067723">//}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067728">type</span>&nbsp;<span class="ident" id="7067733">EncodeQueryTest</span>&nbsp;<span class="keyword" id="7067749">struct</span>&nbsp;<span class="op" id="7067756">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067759">m</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7067768"><a href="/net/url/url.go.html#3599666">Values</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067776">expected</span>&nbsp;<span class="builtintype" id="7067785">string</span><br>
<span class="lineno"></span><span class="op" id="7067792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7067795">var</span>&nbsp;<span class="ident" id="7067799">encodeQueryTests</span>&nbsp;<span class="op" id="7067816">=</span>&nbsp;<span class="op" id="7067818">[</span><span class="op" id="7067819">]</span><span class="ident" id="7067820"><a href="/net/url/url_test.go.html#7067733">EncodeQueryTest</a></span><span class="op" id="7067835">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067838">{</span><span class="ident" id="7067839">nil</span><span class="op" id="7067842">,</span>&nbsp;<span class="string" id="7067844">&#34;&#34;</span><span class="op" id="7067846">}</span><span class="op" id="7067847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067850">{</span><span class="ident" id="7067851"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7067857">{</span><span class="string" id="7067858">&#34;q&#34;</span><span class="op" id="7067861">:</span>&nbsp;<span class="op" id="7067863">{</span><span class="string" id="7067864">&#34;puppies&#34;</span><span class="op" id="7067873">}</span><span class="op" id="7067874">,</span>&nbsp;<span class="string" id="7067876">&#34;oe&#34;</span><span class="op" id="7067880">:</span>&nbsp;<span class="op" id="7067882">{</span><span class="string" id="7067883">&#34;utf8&#34;</span><span class="op" id="7067889">}</span><span class="op" id="7067890">}</span><span class="op" id="7067891">,</span>&nbsp;<span class="string" id="7067893">&#34;oe=utf8&amp;q=puppies&#34;</span><span class="op" id="7067912">}</span><span class="op" id="7067913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067916">{</span><span class="ident" id="7067917"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7067923">{</span><span class="string" id="7067924">&#34;q&#34;</span><span class="op" id="7067927">:</span>&nbsp;<span class="op" id="7067929">{</span><span class="string" id="7067930">&#34;dogs&#34;</span><span class="op" id="7067936">,</span>&nbsp;<span class="string" id="7067938">&#34;&amp;&#34;</span><span class="op" id="7067941">,</span>&nbsp;<span class="string" id="7067943">&#34;7&#34;</span><span class="op" id="7067946">}</span><span class="op" id="7067947">}</span><span class="op" id="7067948">,</span>&nbsp;<span class="string" id="7067950">&#34;q=dogs&amp;q=%26&amp;q=7&#34;</span><span class="op" id="7067968">}</span><span class="op" id="7067969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067972">{</span><span class="ident" id="7067973"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7067979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7067983">&#34;a&#34;</span><span class="op" id="7067986">:</span>&nbsp;<span class="op" id="7067988">{</span><span class="string" id="7067989">&#34;a1&#34;</span><span class="op" id="7067993">,</span>&nbsp;<span class="string" id="7067995">&#34;a2&#34;</span><span class="op" id="7067999">,</span>&nbsp;<span class="string" id="7068001">&#34;a3&#34;</span><span class="op" id="7068005">}</span><span class="op" id="7068006">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7068010">&#34;b&#34;</span><span class="op" id="7068013">:</span>&nbsp;<span class="op" id="7068015">{</span><span class="string" id="7068016">&#34;b1&#34;</span><span class="op" id="7068020">,</span>&nbsp;<span class="string" id="7068022">&#34;b2&#34;</span><span class="op" id="7068026">,</span>&nbsp;<span class="string" id="7068028">&#34;b3&#34;</span><span class="op" id="7068032">}</span><span class="op" id="7068033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7068037">&#34;c&#34;</span><span class="op" id="7068040">:</span>&nbsp;<span class="op" id="7068042">{</span><span class="string" id="7068043">&#34;c1&#34;</span><span class="op" id="7068047">,</span>&nbsp;<span class="string" id="7068049">&#34;c2&#34;</span><span class="op" id="7068053">,</span>&nbsp;<span class="string" id="7068055">&#34;c3&#34;</span><span class="op" id="7068059">}</span><span class="op" id="7068060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068063">}</span><span class="op" id="7068064">,</span>&nbsp;<span class="string" id="7068066">&#34;a=a1&amp;a=a2&amp;a=a3&amp;b=b1&amp;b=b2&amp;b=b3&amp;c=c1&amp;c=c2&amp;c=c3&#34;</span><span class="op" id="7068112">}</span><span class="op" id="7068113">,</span><br>
<span class="lineno"></span><span class="op" id="7068115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span><span class="keyword" id="7068118">func</span>&nbsp;<span class="ident" id="7068123">TestEncodeQuery</span><span class="op" id="7068138">(</span><span class="ident" id="7068139">t</span>&nbsp;<span class="op" id="7068141">*</span><span class="ident" id="7068142"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7068149">.</span><span class="ident" id="7068150">T</span><span class="op" id="7068151">)</span>&nbsp;<span class="op" id="7068153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068156">for</span>&nbsp;<span class="ident" id="7068160">_</span><span class="op" id="7068161">,</span>&nbsp;<span class="ident" id="7068163">tt</span>&nbsp;<span class="op" id="7068166">:=</span>&nbsp;<span class="keyword" id="7068169">range</span>&nbsp;<span class="ident" id="7068175"><a href="/net/url/url_test.go.html#7067799">encodeQueryTests</a></span>&nbsp;<span class="op" id="7068192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068196">if</span>&nbsp;<span class="ident" id="7068199">q</span>&nbsp;<span class="op" id="7068201">:=</span>&nbsp;<span class="ident" id="7068204"><a href="/net/url/url_test.go.html#7068163">tt</a></span><span class="op" id="7068206">.</span><span class="ident" id="7068207">m</span><span class="op" id="7068208">.</span><span class="ident" id="7068209">Encode</span><span class="op" id="7068215">(</span><span class="op" id="7068216">)</span><span class="op" id="7068217">;</span>&nbsp;<span class="ident" id="7068219"><a href="/net/url/url_test.go.html#7068199">q</a></span>&nbsp;<span class="op" id="7068221">!=</span>&nbsp;<span class="ident" id="7068224"><a href="/net/url/url_test.go.html#7068163">tt</a></span><span class="op" id="7068226">.</span><span class="ident" id="7068227">expected</span>&nbsp;<span class="op" id="7068236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068241"><a href="/net/url/url_test.go.html#7068139">t</a></span><span class="op" id="7068242">.</span><span class="ident" id="7068243">Errorf</span><span class="op" id="7068249">(</span><span class="string" id="7068250">`EncodeQuery(%+v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q`</span><span class="op" id="7068282">,</span>&nbsp;<span class="ident" id="7068284"><a href="/net/url/url_test.go.html#7068163">tt</a></span><span class="op" id="7068286">.</span><span class="ident" id="7068287">m</span><span class="op" id="7068288">,</span>&nbsp;<span class="ident" id="7068290"><a href="/net/url/url_test.go.html#7068199">q</a></span><span class="op" id="7068291">,</span>&nbsp;<span class="ident" id="7068293"><a href="/net/url/url_test.go.html#7068163">tt</a></span><span class="op" id="7068295">.</span><span class="ident" id="7068296">expected</span><span class="op" id="7068304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068308">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068311">}</span><br>
<span class="lineno"></span><span class="op" id="7068313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7068316">var</span>&nbsp;<span class="ident" id="7068320">resolvePathTests</span>&nbsp;<span class="op" id="7068337">=</span>&nbsp;<span class="op" id="7068339">[</span><span class="op" id="7068340">]</span><span class="keyword" id="7068341">struct</span>&nbsp;<span class="op" id="7068348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068351">base</span><span class="op" id="7068355">,</span>&nbsp;<span class="ident" id="7068357">ref</span><span class="op" id="7068360">,</span>&nbsp;<span class="ident" id="7068362">expected</span>&nbsp;<span class="builtintype" id="7068371">string</span><br>
<span class="lineno">570</span><span class="op" id="7068378">}</span><span class="op" id="7068379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068382">{</span><span class="string" id="7068383">&#34;a/b&#34;</span><span class="op" id="7068388">,</span>&nbsp;<span class="string" id="7068390">&#34;.&#34;</span><span class="op" id="7068393">,</span>&nbsp;<span class="string" id="7068395">&#34;/a/&#34;</span><span class="op" id="7068400">}</span><span class="op" id="7068401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068404">{</span><span class="string" id="7068405">&#34;a/b&#34;</span><span class="op" id="7068410">,</span>&nbsp;<span class="string" id="7068412">&#34;c&#34;</span><span class="op" id="7068415">,</span>&nbsp;<span class="string" id="7068417">&#34;/a/c&#34;</span><span class="op" id="7068423">}</span><span class="op" id="7068424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068427">{</span><span class="string" id="7068428">&#34;a/b&#34;</span><span class="op" id="7068433">,</span>&nbsp;<span class="string" id="7068435">&#34;..&#34;</span><span class="op" id="7068439">,</span>&nbsp;<span class="string" id="7068441">&#34;/&#34;</span><span class="op" id="7068444">}</span><span class="op" id="7068445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068448">{</span><span class="string" id="7068449">&#34;a/&#34;</span><span class="op" id="7068453">,</span>&nbsp;<span class="string" id="7068455">&#34;..&#34;</span><span class="op" id="7068459">,</span>&nbsp;<span class="string" id="7068461">&#34;/&#34;</span><span class="op" id="7068464">}</span><span class="op" id="7068465">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068468">{</span><span class="string" id="7068469">&#34;a/&#34;</span><span class="op" id="7068473">,</span>&nbsp;<span class="string" id="7068475">&#34;../..&#34;</span><span class="op" id="7068482">,</span>&nbsp;<span class="string" id="7068484">&#34;/&#34;</span><span class="op" id="7068487">}</span><span class="op" id="7068488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068491">{</span><span class="string" id="7068492">&#34;a/b/c&#34;</span><span class="op" id="7068499">,</span>&nbsp;<span class="string" id="7068501">&#34;..&#34;</span><span class="op" id="7068505">,</span>&nbsp;<span class="string" id="7068507">&#34;/a/&#34;</span><span class="op" id="7068512">}</span><span class="op" id="7068513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068516">{</span><span class="string" id="7068517">&#34;a/b/c&#34;</span><span class="op" id="7068524">,</span>&nbsp;<span class="string" id="7068526">&#34;../d&#34;</span><span class="op" id="7068532">,</span>&nbsp;<span class="string" id="7068534">&#34;/a/d&#34;</span><span class="op" id="7068540">}</span><span class="op" id="7068541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068544">{</span><span class="string" id="7068545">&#34;a/b/c&#34;</span><span class="op" id="7068552">,</span>&nbsp;<span class="string" id="7068554">&#34;.././d&#34;</span><span class="op" id="7068562">,</span>&nbsp;<span class="string" id="7068564">&#34;/a/d&#34;</span><span class="op" id="7068570">}</span><span class="op" id="7068571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068574">{</span><span class="string" id="7068575">&#34;a/b&#34;</span><span class="op" id="7068580">,</span>&nbsp;<span class="string" id="7068582">&#34;./..&#34;</span><span class="op" id="7068588">,</span>&nbsp;<span class="string" id="7068590">&#34;/&#34;</span><span class="op" id="7068593">}</span><span class="op" id="7068594">,</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068597">{</span><span class="string" id="7068598">&#34;a/./b&#34;</span><span class="op" id="7068605">,</span>&nbsp;<span class="string" id="7068607">&#34;.&#34;</span><span class="op" id="7068610">,</span>&nbsp;<span class="string" id="7068612">&#34;/a/&#34;</span><span class="op" id="7068617">}</span><span class="op" id="7068618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068621">{</span><span class="string" id="7068622">&#34;a/../&#34;</span><span class="op" id="7068629">,</span>&nbsp;<span class="string" id="7068631">&#34;.&#34;</span><span class="op" id="7068634">,</span>&nbsp;<span class="string" id="7068636">&#34;/&#34;</span><span class="op" id="7068639">}</span><span class="op" id="7068640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068643">{</span><span class="string" id="7068644">&#34;a/.././b&#34;</span><span class="op" id="7068654">,</span>&nbsp;<span class="string" id="7068656">&#34;c&#34;</span><span class="op" id="7068659">,</span>&nbsp;<span class="string" id="7068661">&#34;/c&#34;</span><span class="op" id="7068665">}</span><span class="op" id="7068666">,</span><br>
<span class="lineno"></span><span class="op" id="7068668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7068671">func</span>&nbsp;<span class="ident" id="7068676">TestResolvePath</span><span class="op" id="7068691">(</span><span class="ident" id="7068692">t</span>&nbsp;<span class="op" id="7068694">*</span><span class="ident" id="7068695"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7068702">.</span><span class="ident" id="7068703">T</span><span class="op" id="7068704">)</span>&nbsp;<span class="op" id="7068706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068709">for</span>&nbsp;<span class="ident" id="7068713">_</span><span class="op" id="7068714">,</span>&nbsp;<span class="ident" id="7068716">test</span>&nbsp;<span class="op" id="7068721">:=</span>&nbsp;<span class="keyword" id="7068724">range</span>&nbsp;<span class="ident" id="7068730"><a href="/net/url/url_test.go.html#7068320">resolvePathTests</a></span>&nbsp;<span class="op" id="7068747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068751">got</span>&nbsp;<span class="op" id="7068755">:=</span>&nbsp;<span class="ident" id="7068758"><a href="/net/url/url.go.html#3602045">resolvePath</a></span><span class="op" id="7068769">(</span><span class="ident" id="7068770"><a href="/net/url/url_test.go.html#7068716">test</a></span><span class="op" id="7068774">.</span><span class="ident" id="7068775">base</span><span class="op" id="7068779">,</span>&nbsp;<span class="ident" id="7068781"><a href="/net/url/url_test.go.html#7068716">test</a></span><span class="op" id="7068785">.</span><span class="ident" id="7068786">ref</span><span class="op" id="7068789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068793">if</span>&nbsp;<span class="ident" id="7068796"><a href="/net/url/url_test.go.html#7068751">got</a></span>&nbsp;<span class="op" id="7068800">!=</span>&nbsp;<span class="ident" id="7068803"><a href="/net/url/url_test.go.html#7068716">test</a></span><span class="op" id="7068807">.</span><span class="ident" id="7068808">expected</span>&nbsp;<span class="op" id="7068817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068822"><a href="/net/url/url_test.go.html#7068692">t</a></span><span class="op" id="7068823">.</span><span class="ident" id="7068824">Errorf</span><span class="op" id="7068830">(</span><span class="string" id="7068831">&#34;For&nbsp;%q&nbsp;+&nbsp;%q&nbsp;got&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7068864">,</span>&nbsp;<span class="ident" id="7068866"><a href="/net/url/url_test.go.html#7068716">test</a></span><span class="op" id="7068870">.</span><span class="ident" id="7068871">base</span><span class="op" id="7068875">,</span>&nbsp;<span class="ident" id="7068877"><a href="/net/url/url_test.go.html#7068716">test</a></span><span class="op" id="7068881">.</span><span class="ident" id="7068882">ref</span><span class="op" id="7068885">,</span>&nbsp;<span class="ident" id="7068887"><a href="/net/url/url_test.go.html#7068751">got</a></span><span class="op" id="7068890">,</span>&nbsp;<span class="ident" id="7068892"><a href="/net/url/url_test.go.html#7068716">test</a></span><span class="op" id="7068896">.</span><span class="ident" id="7068897">expected</span><span class="op" id="7068905">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068912">}</span><br>
<span class="lineno"></span><span class="op" id="7068914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7068917">var</span>&nbsp;<span class="ident" id="7068921">resolveReferenceTests</span>&nbsp;<span class="op" id="7068943">=</span>&nbsp;<span class="op" id="7068945">[</span><span class="op" id="7068946">]</span><span class="keyword" id="7068947">struct</span>&nbsp;<span class="op" id="7068954">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068957">base</span><span class="op" id="7068961">,</span>&nbsp;<span class="ident" id="7068963">rel</span><span class="op" id="7068966">,</span>&nbsp;<span class="ident" id="7068968">expected</span>&nbsp;<span class="builtintype" id="7068977">string</span><br>
<span class="lineno"></span><span class="op" id="7068984">}</span><span class="op" id="7068985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7068988">//&nbsp;Absolute&nbsp;URL&nbsp;references</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069016">{</span><span class="string" id="7069017">&#34;http://foo.com?a=b&#34;</span><span class="op" id="7069037">,</span>&nbsp;<span class="string" id="7069039">&#34;https://bar.com/&#34;</span><span class="op" id="7069057">,</span>&nbsp;<span class="string" id="7069059">&#34;https://bar.com/&#34;</span><span class="op" id="7069077">}</span><span class="op" id="7069078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069081">{</span><span class="string" id="7069082">&#34;http://foo.com/&#34;</span><span class="op" id="7069099">,</span>&nbsp;<span class="string" id="7069101">&#34;https://bar.com/?a=b&#34;</span><span class="op" id="7069123">,</span>&nbsp;<span class="string" id="7069125">&#34;https://bar.com/?a=b&#34;</span><span class="op" id="7069147">}</span><span class="op" id="7069148">,</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069151">{</span><span class="string" id="7069152">&#34;http://foo.com/bar&#34;</span><span class="op" id="7069172">,</span>&nbsp;<span class="string" id="7069174">&#34;mailto:foo@example.com&#34;</span><span class="op" id="7069198">,</span>&nbsp;<span class="string" id="7069200">&#34;mailto:foo@example.com&#34;</span><span class="op" id="7069224">}</span><span class="op" id="7069225">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069229">//&nbsp;Path-absolute&nbsp;references</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069258">{</span><span class="string" id="7069259">&#34;http://foo.com/bar&#34;</span><span class="op" id="7069279">,</span>&nbsp;<span class="string" id="7069281">&#34;/baz&#34;</span><span class="op" id="7069287">,</span>&nbsp;<span class="string" id="7069289">&#34;http://foo.com/baz&#34;</span><span class="op" id="7069309">}</span><span class="op" id="7069310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069313">{</span><span class="string" id="7069314">&#34;http://foo.com/bar?a=b#f&#34;</span><span class="op" id="7069340">,</span>&nbsp;<span class="string" id="7069342">&#34;/baz&#34;</span><span class="op" id="7069348">,</span>&nbsp;<span class="string" id="7069350">&#34;http://foo.com/baz&#34;</span><span class="op" id="7069370">}</span><span class="op" id="7069371">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069374">{</span><span class="string" id="7069375">&#34;http://foo.com/bar?a=b&#34;</span><span class="op" id="7069399">,</span>&nbsp;<span class="string" id="7069401">&#34;/baz?c=d&#34;</span><span class="op" id="7069411">,</span>&nbsp;<span class="string" id="7069413">&#34;http://foo.com/baz?c=d&#34;</span><span class="op" id="7069437">}</span><span class="op" id="7069438">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069442">//&nbsp;Scheme-relative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069462">{</span><span class="string" id="7069463">&#34;https://foo.com/bar?a=b&#34;</span><span class="op" id="7069488">,</span>&nbsp;<span class="string" id="7069490">&#34;//bar.com/quux&#34;</span><span class="op" id="7069506">,</span>&nbsp;<span class="string" id="7069508">&#34;https://bar.com/quux&#34;</span><span class="op" id="7069530">}</span><span class="op" id="7069531">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069535">//&nbsp;Path-relative&nbsp;references:</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069566">//&nbsp;...&nbsp;current&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069592">{</span><span class="string" id="7069593">&#34;http://foo.com&#34;</span><span class="op" id="7069609">,</span>&nbsp;<span class="string" id="7069611">&#34;.&#34;</span><span class="op" id="7069614">,</span>&nbsp;<span class="string" id="7069616">&#34;http://foo.com/&#34;</span><span class="op" id="7069633">}</span><span class="op" id="7069634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069637">{</span><span class="string" id="7069638">&#34;http://foo.com/bar&#34;</span><span class="op" id="7069658">,</span>&nbsp;<span class="string" id="7069660">&#34;.&#34;</span><span class="op" id="7069663">,</span>&nbsp;<span class="string" id="7069665">&#34;http://foo.com/&#34;</span><span class="op" id="7069682">}</span><span class="op" id="7069683">,</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069686">{</span><span class="string" id="7069687">&#34;http://foo.com/bar/&#34;</span><span class="op" id="7069708">,</span>&nbsp;<span class="string" id="7069710">&#34;.&#34;</span><span class="op" id="7069713">,</span>&nbsp;<span class="string" id="7069715">&#34;http://foo.com/bar/&#34;</span><span class="op" id="7069736">}</span><span class="op" id="7069737">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069741">//&nbsp;...&nbsp;going&nbsp;down</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069760">{</span><span class="string" id="7069761">&#34;http://foo.com&#34;</span><span class="op" id="7069777">,</span>&nbsp;<span class="string" id="7069779">&#34;bar&#34;</span><span class="op" id="7069784">,</span>&nbsp;<span class="string" id="7069786">&#34;http://foo.com/bar&#34;</span><span class="op" id="7069806">}</span><span class="op" id="7069807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069810">{</span><span class="string" id="7069811">&#34;http://foo.com/&#34;</span><span class="op" id="7069828">,</span>&nbsp;<span class="string" id="7069830">&#34;bar&#34;</span><span class="op" id="7069835">,</span>&nbsp;<span class="string" id="7069837">&#34;http://foo.com/bar&#34;</span><span class="op" id="7069857">}</span><span class="op" id="7069858">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069861">{</span><span class="string" id="7069862">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7069886">,</span>&nbsp;<span class="string" id="7069888">&#34;quux&#34;</span><span class="op" id="7069894">,</span>&nbsp;<span class="string" id="7069896">&#34;http://foo.com/bar/quux&#34;</span><span class="op" id="7069921">}</span><span class="op" id="7069922">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069926">//&nbsp;...&nbsp;going&nbsp;up</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069943">{</span><span class="string" id="7069944">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7069968">,</span>&nbsp;<span class="string" id="7069970">&#34;../quux&#34;</span><span class="op" id="7069979">,</span>&nbsp;<span class="string" id="7069981">&#34;http://foo.com/quux&#34;</span><span class="op" id="7070002">}</span><span class="op" id="7070003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070006">{</span><span class="string" id="7070007">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070031">,</span>&nbsp;<span class="string" id="7070033">&#34;../../../../../quux&#34;</span><span class="op" id="7070054">,</span>&nbsp;<span class="string" id="7070056">&#34;http://foo.com/quux&#34;</span><span class="op" id="7070077">}</span><span class="op" id="7070078">,</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070081">{</span><span class="string" id="7070082">&#34;http://foo.com/bar&#34;</span><span class="op" id="7070102">,</span>&nbsp;<span class="string" id="7070104">&#34;..&#34;</span><span class="op" id="7070108">,</span>&nbsp;<span class="string" id="7070110">&#34;http://foo.com/&#34;</span><span class="op" id="7070127">}</span><span class="op" id="7070128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070131">{</span><span class="string" id="7070132">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070156">,</span>&nbsp;<span class="string" id="7070158">&#34;./..&#34;</span><span class="op" id="7070164">,</span>&nbsp;<span class="string" id="7070166">&#34;http://foo.com/&#34;</span><span class="op" id="7070183">}</span><span class="op" id="7070184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070187">//&nbsp;&#34;..&#34;&nbsp;in&nbsp;the&nbsp;middle&nbsp;(issue&nbsp;3560)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070223">{</span><span class="string" id="7070224">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070248">,</span>&nbsp;<span class="string" id="7070250">&#34;quux/dotdot/../tail&#34;</span><span class="op" id="7070271">,</span>&nbsp;<span class="string" id="7070273">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="7070303">}</span><span class="op" id="7070304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070307">{</span><span class="string" id="7070308">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070332">,</span>&nbsp;<span class="string" id="7070334">&#34;quux/./dotdot/../tail&#34;</span><span class="op" id="7070357">,</span>&nbsp;<span class="string" id="7070359">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="7070389">}</span><span class="op" id="7070390">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070393">{</span><span class="string" id="7070394">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070418">,</span>&nbsp;<span class="string" id="7070420">&#34;quux/./dotdot/.././tail&#34;</span><span class="op" id="7070445">,</span>&nbsp;<span class="string" id="7070447">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="7070477">}</span><span class="op" id="7070478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070481">{</span><span class="string" id="7070482">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070506">,</span>&nbsp;<span class="string" id="7070508">&#34;quux/./dotdot/./../tail&#34;</span><span class="op" id="7070533">,</span>&nbsp;<span class="string" id="7070535">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="7070565">}</span><span class="op" id="7070566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070569">{</span><span class="string" id="7070570">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070594">,</span>&nbsp;<span class="string" id="7070596">&#34;quux/./dotdot/dotdot/././../../tail&#34;</span><span class="op" id="7070633">,</span>&nbsp;<span class="string" id="7070635">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="7070665">}</span><span class="op" id="7070666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070669">{</span><span class="string" id="7070670">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070694">,</span>&nbsp;<span class="string" id="7070696">&#34;quux/./dotdot/dotdot/./.././../tail&#34;</span><span class="op" id="7070733">,</span>&nbsp;<span class="string" id="7070735">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="7070765">}</span><span class="op" id="7070766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070769">{</span><span class="string" id="7070770">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070794">,</span>&nbsp;<span class="string" id="7070796">&#34;quux/./dotdot/dotdot/dotdot/./../../.././././tail&#34;</span><span class="op" id="7070847">,</span>&nbsp;<span class="string" id="7070849">&#34;http://foo.com/bar/quux/tail&#34;</span><span class="op" id="7070879">}</span><span class="op" id="7070880">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070883">{</span><span class="string" id="7070884">&#34;http://foo.com/bar/baz&#34;</span><span class="op" id="7070908">,</span>&nbsp;<span class="string" id="7070910">&#34;quux/./dotdot/../dotdot/../dot/./tail/..&#34;</span><span class="op" id="7070952">,</span>&nbsp;<span class="string" id="7070954">&#34;http://foo.com/bar/quux/dot/&#34;</span><span class="op" id="7070984">}</span><span class="op" id="7070985">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070989">//&nbsp;Remove&nbsp;any&nbsp;dot-segments&nbsp;prior&nbsp;to&nbsp;forming&nbsp;the&nbsp;target&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071050">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.2.4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071103">{</span><span class="string" id="7071104">&#34;http://foo.com/dot/./dotdot/../foo/bar&#34;</span><span class="op" id="7071144">,</span>&nbsp;<span class="string" id="7071146">&#34;../baz&#34;</span><span class="op" id="7071154">,</span>&nbsp;<span class="string" id="7071156">&#34;http://foo.com/dot/baz&#34;</span><span class="op" id="7071180">}</span><span class="op" id="7071181">,</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071185">//&nbsp;Triple&nbsp;dot&nbsp;isn&#39;t&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071214">{</span><span class="string" id="7071215">&#34;http://foo.com/bar&#34;</span><span class="op" id="7071235">,</span>&nbsp;<span class="string" id="7071237">&#34;...&#34;</span><span class="op" id="7071242">,</span>&nbsp;<span class="string" id="7071244">&#34;http://foo.com/...&#34;</span><span class="op" id="7071264">}</span><span class="op" id="7071265">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071269">//&nbsp;Fragment</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071282">{</span><span class="string" id="7071283">&#34;http://foo.com/bar&#34;</span><span class="op" id="7071303">,</span>&nbsp;<span class="string" id="7071305">&#34;.#frag&#34;</span><span class="op" id="7071313">,</span>&nbsp;<span class="string" id="7071315">&#34;http://foo.com/#frag&#34;</span><span class="op" id="7071337">}</span><span class="op" id="7071338">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071342">//&nbsp;RFC&nbsp;3986:&nbsp;Normal&nbsp;Examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071372">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.4.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071425">{</span><span class="string" id="7071426">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071446">,</span>&nbsp;<span class="string" id="7071448">&#34;g:h&#34;</span><span class="op" id="7071453">,</span>&nbsp;<span class="string" id="7071455">&#34;g:h&#34;</span><span class="op" id="7071460">}</span><span class="op" id="7071461">,</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071464">{</span><span class="string" id="7071465">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071485">,</span>&nbsp;<span class="string" id="7071487">&#34;g&#34;</span><span class="op" id="7071490">,</span>&nbsp;<span class="string" id="7071492">&#34;http://a/b/c/g&#34;</span><span class="op" id="7071508">}</span><span class="op" id="7071509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071512">{</span><span class="string" id="7071513">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071533">,</span>&nbsp;<span class="string" id="7071535">&#34;./g&#34;</span><span class="op" id="7071540">,</span>&nbsp;<span class="string" id="7071542">&#34;http://a/b/c/g&#34;</span><span class="op" id="7071558">}</span><span class="op" id="7071559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071562">{</span><span class="string" id="7071563">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071583">,</span>&nbsp;<span class="string" id="7071585">&#34;g/&#34;</span><span class="op" id="7071589">,</span>&nbsp;<span class="string" id="7071591">&#34;http://a/b/c/g/&#34;</span><span class="op" id="7071608">}</span><span class="op" id="7071609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071612">{</span><span class="string" id="7071613">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071633">,</span>&nbsp;<span class="string" id="7071635">&#34;/g&#34;</span><span class="op" id="7071639">,</span>&nbsp;<span class="string" id="7071641">&#34;http://a/g&#34;</span><span class="op" id="7071653">}</span><span class="op" id="7071654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071657">{</span><span class="string" id="7071658">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071678">,</span>&nbsp;<span class="string" id="7071680">&#34;//g&#34;</span><span class="op" id="7071685">,</span>&nbsp;<span class="string" id="7071687">&#34;http://g&#34;</span><span class="op" id="7071697">}</span><span class="op" id="7071698">,</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071701">{</span><span class="string" id="7071702">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071722">,</span>&nbsp;<span class="string" id="7071724">&#34;?y&#34;</span><span class="op" id="7071728">,</span>&nbsp;<span class="string" id="7071730">&#34;http://a/b/c/d;p?y&#34;</span><span class="op" id="7071750">}</span><span class="op" id="7071751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071754">{</span><span class="string" id="7071755">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071775">,</span>&nbsp;<span class="string" id="7071777">&#34;g?y&#34;</span><span class="op" id="7071782">,</span>&nbsp;<span class="string" id="7071784">&#34;http://a/b/c/g?y&#34;</span><span class="op" id="7071802">}</span><span class="op" id="7071803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071806">{</span><span class="string" id="7071807">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071827">,</span>&nbsp;<span class="string" id="7071829">&#34;#s&#34;</span><span class="op" id="7071833">,</span>&nbsp;<span class="string" id="7071835">&#34;http://a/b/c/d;p?q#s&#34;</span><span class="op" id="7071857">}</span><span class="op" id="7071858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071861">{</span><span class="string" id="7071862">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071882">,</span>&nbsp;<span class="string" id="7071884">&#34;g#s&#34;</span><span class="op" id="7071889">,</span>&nbsp;<span class="string" id="7071891">&#34;http://a/b/c/g#s&#34;</span><span class="op" id="7071909">}</span><span class="op" id="7071910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071913">{</span><span class="string" id="7071914">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071934">,</span>&nbsp;<span class="string" id="7071936">&#34;g?y#s&#34;</span><span class="op" id="7071943">,</span>&nbsp;<span class="string" id="7071945">&#34;http://a/b/c/g?y#s&#34;</span><span class="op" id="7071965">}</span><span class="op" id="7071966">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071969">{</span><span class="string" id="7071970">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7071990">,</span>&nbsp;<span class="string" id="7071992">&#34;;x&#34;</span><span class="op" id="7071996">,</span>&nbsp;<span class="string" id="7071998">&#34;http://a/b/c/;x&#34;</span><span class="op" id="7072015">}</span><span class="op" id="7072016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072019">{</span><span class="string" id="7072020">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072040">,</span>&nbsp;<span class="string" id="7072042">&#34;g;x&#34;</span><span class="op" id="7072047">,</span>&nbsp;<span class="string" id="7072049">&#34;http://a/b/c/g;x&#34;</span><span class="op" id="7072067">}</span><span class="op" id="7072068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072071">{</span><span class="string" id="7072072">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072092">,</span>&nbsp;<span class="string" id="7072094">&#34;g;x?y#s&#34;</span><span class="op" id="7072103">,</span>&nbsp;<span class="string" id="7072105">&#34;http://a/b/c/g;x?y#s&#34;</span><span class="op" id="7072127">}</span><span class="op" id="7072128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072131">{</span><span class="string" id="7072132">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072152">,</span>&nbsp;<span class="string" id="7072154">&#34;&#34;</span><span class="op" id="7072156">,</span>&nbsp;<span class="string" id="7072158">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072178">}</span><span class="op" id="7072179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072182">{</span><span class="string" id="7072183">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072203">,</span>&nbsp;<span class="string" id="7072205">&#34;.&#34;</span><span class="op" id="7072208">,</span>&nbsp;<span class="string" id="7072210">&#34;http://a/b/c/&#34;</span><span class="op" id="7072225">}</span><span class="op" id="7072226">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072229">{</span><span class="string" id="7072230">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072250">,</span>&nbsp;<span class="string" id="7072252">&#34;./&#34;</span><span class="op" id="7072256">,</span>&nbsp;<span class="string" id="7072258">&#34;http://a/b/c/&#34;</span><span class="op" id="7072273">}</span><span class="op" id="7072274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072277">{</span><span class="string" id="7072278">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072298">,</span>&nbsp;<span class="string" id="7072300">&#34;..&#34;</span><span class="op" id="7072304">,</span>&nbsp;<span class="string" id="7072306">&#34;http://a/b/&#34;</span><span class="op" id="7072319">}</span><span class="op" id="7072320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072323">{</span><span class="string" id="7072324">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072344">,</span>&nbsp;<span class="string" id="7072346">&#34;../&#34;</span><span class="op" id="7072351">,</span>&nbsp;<span class="string" id="7072353">&#34;http://a/b/&#34;</span><span class="op" id="7072366">}</span><span class="op" id="7072367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072370">{</span><span class="string" id="7072371">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072391">,</span>&nbsp;<span class="string" id="7072393">&#34;../g&#34;</span><span class="op" id="7072399">,</span>&nbsp;<span class="string" id="7072401">&#34;http://a/b/g&#34;</span><span class="op" id="7072415">}</span><span class="op" id="7072416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072419">{</span><span class="string" id="7072420">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072440">,</span>&nbsp;<span class="string" id="7072442">&#34;../..&#34;</span><span class="op" id="7072449">,</span>&nbsp;<span class="string" id="7072451">&#34;http://a/&#34;</span><span class="op" id="7072462">}</span><span class="op" id="7072463">,</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072466">{</span><span class="string" id="7072467">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072487">,</span>&nbsp;<span class="string" id="7072489">&#34;../../&#34;</span><span class="op" id="7072497">,</span>&nbsp;<span class="string" id="7072499">&#34;http://a/&#34;</span><span class="op" id="7072510">}</span><span class="op" id="7072511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072514">{</span><span class="string" id="7072515">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072535">,</span>&nbsp;<span class="string" id="7072537">&#34;../../g&#34;</span><span class="op" id="7072546">,</span>&nbsp;<span class="string" id="7072548">&#34;http://a/g&#34;</span><span class="op" id="7072560">}</span><span class="op" id="7072561">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072565">//&nbsp;RFC&nbsp;3986:&nbsp;Abnormal&nbsp;Examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072597">//&nbsp;http://tools.ietf.org/html/rfc3986#section-5.4.2</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072650">{</span><span class="string" id="7072651">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072671">,</span>&nbsp;<span class="string" id="7072673">&#34;../../../g&#34;</span><span class="op" id="7072685">,</span>&nbsp;<span class="string" id="7072687">&#34;http://a/g&#34;</span><span class="op" id="7072699">}</span><span class="op" id="7072700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072703">{</span><span class="string" id="7072704">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072724">,</span>&nbsp;<span class="string" id="7072726">&#34;../../../../g&#34;</span><span class="op" id="7072741">,</span>&nbsp;<span class="string" id="7072743">&#34;http://a/g&#34;</span><span class="op" id="7072755">}</span><span class="op" id="7072756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072759">{</span><span class="string" id="7072760">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072780">,</span>&nbsp;<span class="string" id="7072782">&#34;/./g&#34;</span><span class="op" id="7072788">,</span>&nbsp;<span class="string" id="7072790">&#34;http://a/g&#34;</span><span class="op" id="7072802">}</span><span class="op" id="7072803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072806">{</span><span class="string" id="7072807">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072827">,</span>&nbsp;<span class="string" id="7072829">&#34;/../g&#34;</span><span class="op" id="7072836">,</span>&nbsp;<span class="string" id="7072838">&#34;http://a/g&#34;</span><span class="op" id="7072850">}</span><span class="op" id="7072851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072854">{</span><span class="string" id="7072855">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072875">,</span>&nbsp;<span class="string" id="7072877">&#34;g.&#34;</span><span class="op" id="7072881">,</span>&nbsp;<span class="string" id="7072883">&#34;http://a/b/c/g.&#34;</span><span class="op" id="7072900">}</span><span class="op" id="7072901">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072904">{</span><span class="string" id="7072905">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072925">,</span>&nbsp;<span class="string" id="7072927">&#34;.g&#34;</span><span class="op" id="7072931">,</span>&nbsp;<span class="string" id="7072933">&#34;http://a/b/c/.g&#34;</span><span class="op" id="7072950">}</span><span class="op" id="7072951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072954">{</span><span class="string" id="7072955">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7072975">,</span>&nbsp;<span class="string" id="7072977">&#34;g..&#34;</span><span class="op" id="7072982">,</span>&nbsp;<span class="string" id="7072984">&#34;http://a/b/c/g..&#34;</span><span class="op" id="7073002">}</span><span class="op" id="7073003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073006">{</span><span class="string" id="7073007">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073027">,</span>&nbsp;<span class="string" id="7073029">&#34;..g&#34;</span><span class="op" id="7073034">,</span>&nbsp;<span class="string" id="7073036">&#34;http://a/b/c/..g&#34;</span><span class="op" id="7073054">}</span><span class="op" id="7073055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073058">{</span><span class="string" id="7073059">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073079">,</span>&nbsp;<span class="string" id="7073081">&#34;./../g&#34;</span><span class="op" id="7073089">,</span>&nbsp;<span class="string" id="7073091">&#34;http://a/b/g&#34;</span><span class="op" id="7073105">}</span><span class="op" id="7073106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073109">{</span><span class="string" id="7073110">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073130">,</span>&nbsp;<span class="string" id="7073132">&#34;./g/.&#34;</span><span class="op" id="7073139">,</span>&nbsp;<span class="string" id="7073141">&#34;http://a/b/c/g/&#34;</span><span class="op" id="7073158">}</span><span class="op" id="7073159">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073162">{</span><span class="string" id="7073163">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073183">,</span>&nbsp;<span class="string" id="7073185">&#34;g/./h&#34;</span><span class="op" id="7073192">,</span>&nbsp;<span class="string" id="7073194">&#34;http://a/b/c/g/h&#34;</span><span class="op" id="7073212">}</span><span class="op" id="7073213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073216">{</span><span class="string" id="7073217">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073237">,</span>&nbsp;<span class="string" id="7073239">&#34;g/../h&#34;</span><span class="op" id="7073247">,</span>&nbsp;<span class="string" id="7073249">&#34;http://a/b/c/h&#34;</span><span class="op" id="7073265">}</span><span class="op" id="7073266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073269">{</span><span class="string" id="7073270">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073290">,</span>&nbsp;<span class="string" id="7073292">&#34;g;x=1/./y&#34;</span><span class="op" id="7073303">,</span>&nbsp;<span class="string" id="7073305">&#34;http://a/b/c/g;x=1/y&#34;</span><span class="op" id="7073327">}</span><span class="op" id="7073328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073331">{</span><span class="string" id="7073332">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073352">,</span>&nbsp;<span class="string" id="7073354">&#34;g;x=1/../y&#34;</span><span class="op" id="7073366">,</span>&nbsp;<span class="string" id="7073368">&#34;http://a/b/c/y&#34;</span><span class="op" id="7073384">}</span><span class="op" id="7073385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073388">{</span><span class="string" id="7073389">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073409">,</span>&nbsp;<span class="string" id="7073411">&#34;g?y/./x&#34;</span><span class="op" id="7073420">,</span>&nbsp;<span class="string" id="7073422">&#34;http://a/b/c/g?y/./x&#34;</span><span class="op" id="7073444">}</span><span class="op" id="7073445">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073448">{</span><span class="string" id="7073449">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073469">,</span>&nbsp;<span class="string" id="7073471">&#34;g?y/../x&#34;</span><span class="op" id="7073481">,</span>&nbsp;<span class="string" id="7073483">&#34;http://a/b/c/g?y/../x&#34;</span><span class="op" id="7073506">}</span><span class="op" id="7073507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073510">{</span><span class="string" id="7073511">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073531">,</span>&nbsp;<span class="string" id="7073533">&#34;g#s/./x&#34;</span><span class="op" id="7073542">,</span>&nbsp;<span class="string" id="7073544">&#34;http://a/b/c/g#s/./x&#34;</span><span class="op" id="7073566">}</span><span class="op" id="7073567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073570">{</span><span class="string" id="7073571">&#34;http://a/b/c/d;p?q&#34;</span><span class="op" id="7073591">,</span>&nbsp;<span class="string" id="7073593">&#34;g#s/../x&#34;</span><span class="op" id="7073603">,</span>&nbsp;<span class="string" id="7073605">&#34;http://a/b/c/g#s/../x&#34;</span><span class="op" id="7073628">}</span><span class="op" id="7073629">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7073633">//&nbsp;Extras.</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073645">{</span><span class="string" id="7073646">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="7073667">,</span>&nbsp;<span class="string" id="7073669">&#34;//g?q&#34;</span><span class="op" id="7073676">,</span>&nbsp;<span class="string" id="7073678">&#34;https://g?q&#34;</span><span class="op" id="7073691">}</span><span class="op" id="7073692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073695">{</span><span class="string" id="7073696">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="7073717">,</span>&nbsp;<span class="string" id="7073719">&#34;//g#s&#34;</span><span class="op" id="7073726">,</span>&nbsp;<span class="string" id="7073728">&#34;https://g#s&#34;</span><span class="op" id="7073741">}</span><span class="op" id="7073742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073745">{</span><span class="string" id="7073746">&#34;https://a/b/c/d;p?q&#34;</span><span class="op" id="7073767">,</span>&nbsp;<span class="string" id="7073769">&#34;//g/d/e/f?y#s&#34;</span><span class="op" id="7073784">,</span>&nbsp;<span class="string" id="7073786">&#34;https://g/d/e/f?y#s&#34;</span><span class="op" id="7073807">}</span><span class="op" id="7073808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073811">{</span><span class="string" id="7073812">&#34;https://a/b/c/d;p#s&#34;</span><span class="op" id="7073833">,</span>&nbsp;<span class="string" id="7073835">&#34;?y&#34;</span><span class="op" id="7073839">,</span>&nbsp;<span class="string" id="7073841">&#34;https://a/b/c/d;p?y&#34;</span><span class="op" id="7073862">}</span><span class="op" id="7073863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073866">{</span><span class="string" id="7073867">&#34;https://a/b/c/d;p?q#s&#34;</span><span class="op" id="7073890">,</span>&nbsp;<span class="string" id="7073892">&#34;?y&#34;</span><span class="op" id="7073896">,</span>&nbsp;<span class="string" id="7073898">&#34;https://a/b/c/d;p?y&#34;</span><span class="op" id="7073919">}</span><span class="op" id="7073920">,</span><br>
<span class="lineno">700</span><span class="op" id="7073922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7073925">func</span>&nbsp;<span class="ident" id="7073930">TestResolveReference</span><span class="op" id="7073950">(</span><span class="ident" id="7073951">t</span>&nbsp;<span class="op" id="7073953">*</span><span class="ident" id="7073954"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7073961">.</span><span class="ident" id="7073962">T</span><span class="op" id="7073963">)</span>&nbsp;<span class="op" id="7073965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073968">mustParse</span>&nbsp;<span class="op" id="7073978">:=</span>&nbsp;<span class="keyword" id="7073981">func</span><span class="op" id="7073985">(</span><span class="ident" id="7073986">url</span>&nbsp;<span class="builtintype" id="7073990">string</span><span class="op" id="7073996">)</span>&nbsp;<span class="op" id="7073998">*</span><span class="ident" id="7073999"><a href="/net/url/url.go.html#3591999">URL</a></span>&nbsp;<span class="op" id="7074003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074007">u</span><span class="op" id="7074008">,</span>&nbsp;<span class="ident" id="7074010">err</span>&nbsp;<span class="op" id="7074014">:=</span>&nbsp;<span class="ident" id="7074017"><a href="/net/url/url.go.html#3594974">Parse</a></span><span class="op" id="7074022">(</span><span class="ident" id="7074023"><a href="/net/url/url_test.go.html#7073986">url</a></span><span class="op" id="7074026">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074030">if</span>&nbsp;<span class="ident" id="7074033"><a href="/net/url/url_test.go.html#7074010">err</a></span>&nbsp;<span class="op" id="7074037">!=</span>&nbsp;<span class="ident" id="7074040">nil</span>&nbsp;<span class="op" id="7074044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074049"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7074050">.</span><span class="ident" id="7074051">Fatalf</span><span class="op" id="7074057">(</span><span class="string" id="7074058">&#34;Expected&nbsp;URL&nbsp;to&nbsp;parse:&nbsp;%q,&nbsp;got&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7074100">,</span>&nbsp;<span class="ident" id="7074102"><a href="/net/url/url_test.go.html#7073986">url</a></span><span class="op" id="7074105">,</span>&nbsp;<span class="ident" id="7074107"><a href="/net/url/url_test.go.html#7074010">err</a></span><span class="op" id="7074110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074118">return</span>&nbsp;<span class="ident" id="7074125"><a href="/net/url/url_test.go.html#7074007">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074128">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074131">opaque</span>&nbsp;<span class="op" id="7074138">:=</span>&nbsp;<span class="op" id="7074141">&amp;</span><span class="ident" id="7074142"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7074145">{</span><span class="ident" id="7074146">Scheme</span><span class="op" id="7074152">:</span>&nbsp;<span class="string" id="7074154">&#34;scheme&#34;</span><span class="op" id="7074162">,</span>&nbsp;<span class="ident" id="7074164">Opaque</span><span class="op" id="7074170">:</span>&nbsp;<span class="string" id="7074172">&#34;opaque&#34;</span><span class="op" id="7074180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074183">for</span>&nbsp;<span class="ident" id="7074187">_</span><span class="op" id="7074188">,</span>&nbsp;<span class="ident" id="7074190">test</span>&nbsp;<span class="op" id="7074195">:=</span>&nbsp;<span class="keyword" id="7074198">range</span>&nbsp;<span class="ident" id="7074204"><a href="/net/url/url_test.go.html#7068921">resolveReferenceTests</a></span>&nbsp;<span class="op" id="7074226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074230">base</span>&nbsp;<span class="op" id="7074235">:=</span>&nbsp;<span class="ident" id="7074238"><a href="/net/url/url_test.go.html#7073968">mustParse</a></span><span class="op" id="7074247">(</span><span class="ident" id="7074248"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074252">.</span><span class="ident" id="7074253">base</span><span class="op" id="7074257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074261">rel</span>&nbsp;<span class="op" id="7074265">:=</span>&nbsp;<span class="ident" id="7074268"><a href="/net/url/url_test.go.html#7073968">mustParse</a></span><span class="op" id="7074277">(</span><span class="ident" id="7074278"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074282">.</span><span class="ident" id="7074283">rel</span><span class="op" id="7074286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074290">url</span>&nbsp;<span class="op" id="7074294">:=</span>&nbsp;<span class="ident" id="7074297"><a href="/net/url/url_test.go.html#7074230">base</a></span><span class="op" id="7074301">.</span><span class="ident" id="7074302">ResolveReference</span><span class="op" id="7074318">(</span><span class="ident" id="7074319"><a href="/net/url/url_test.go.html#7074261">rel</a></span><span class="op" id="7074322">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074326">if</span>&nbsp;<span class="ident" id="7074329"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7074332">.</span><span class="ident" id="7074333">String</span><span class="op" id="7074339">(</span><span class="op" id="7074340">)</span>&nbsp;<span class="op" id="7074342">!=</span>&nbsp;<span class="ident" id="7074345"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074349">.</span><span class="ident" id="7074350">expected</span>&nbsp;<span class="op" id="7074359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074364"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7074365">.</span><span class="ident" id="7074366">Errorf</span><span class="op" id="7074372">(</span><span class="string" id="7074373">&#34;URL(%q).ResolveReference(%q)&nbsp;==&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7074417">,</span>&nbsp;<span class="ident" id="7074419"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074423">.</span><span class="ident" id="7074424">base</span><span class="op" id="7074428">,</span>&nbsp;<span class="ident" id="7074430"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074434">.</span><span class="ident" id="7074435">rel</span><span class="op" id="7074438">,</span>&nbsp;<span class="ident" id="7074440"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074444">.</span><span class="ident" id="7074445">expected</span><span class="op" id="7074453">,</span>&nbsp;<span class="ident" id="7074455"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7074458">.</span><span class="ident" id="7074459">String</span><span class="op" id="7074465">(</span><span class="op" id="7074466">)</span><span class="op" id="7074467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074475">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074520">if</span>&nbsp;<span class="ident" id="7074523"><a href="/net/url/url_test.go.html#7074230">base</a></span>&nbsp;<span class="op" id="7074528">==</span>&nbsp;<span class="ident" id="7074531"><a href="/net/url/url_test.go.html#7074290">url</a></span>&nbsp;<span class="op" id="7074535">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074540"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7074541">.</span><span class="ident" id="7074542">Errorf</span><span class="op" id="7074548">(</span><span class="string" id="7074549">&#34;Expected&nbsp;URL.ResolveReference&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="7074608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074616">//&nbsp;Test&nbsp;the&nbsp;convenience&nbsp;wrapper&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074655"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7074658">,</span>&nbsp;<span class="ident" id="7074660">err</span>&nbsp;<span class="op" id="7074664">:=</span>&nbsp;<span class="ident" id="7074667"><a href="/net/url/url_test.go.html#7074230">base</a></span><span class="op" id="7074671">.</span><span class="ident" id="7074672">Parse</span><span class="op" id="7074677">(</span><span class="ident" id="7074678"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074682">.</span><span class="ident" id="7074683">rel</span><span class="op" id="7074686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074690">if</span>&nbsp;<span class="ident" id="7074693"><a href="/net/url/url_test.go.html#7074660">err</a></span>&nbsp;<span class="op" id="7074697">!=</span>&nbsp;<span class="ident" id="7074700">nil</span>&nbsp;<span class="op" id="7074704">{</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074709"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7074710">.</span><span class="ident" id="7074711">Errorf</span><span class="op" id="7074717">(</span><span class="string" id="7074718">&#34;URL(%q).Parse(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7074748">,</span>&nbsp;<span class="ident" id="7074750"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074754">.</span><span class="ident" id="7074755">base</span><span class="op" id="7074759">,</span>&nbsp;<span class="ident" id="7074761"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074765">.</span><span class="ident" id="7074766">rel</span><span class="op" id="7074769">,</span>&nbsp;<span class="ident" id="7074771"><a href="/net/url/url_test.go.html#7074660">err</a></span><span class="op" id="7074774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074778">}</span>&nbsp;<span class="keyword" id="7074780">else</span>&nbsp;<span class="keyword" id="7074785">if</span>&nbsp;<span class="ident" id="7074788"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7074791">.</span><span class="ident" id="7074792">String</span><span class="op" id="7074798">(</span><span class="op" id="7074799">)</span>&nbsp;<span class="op" id="7074801">!=</span>&nbsp;<span class="ident" id="7074804"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074808">.</span><span class="ident" id="7074809">expected</span>&nbsp;<span class="op" id="7074818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074823"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7074824">.</span><span class="ident" id="7074825">Errorf</span><span class="op" id="7074831">(</span><span class="string" id="7074832">&#34;URL(%q).Parse(%q)&nbsp;==&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7074865">,</span>&nbsp;<span class="ident" id="7074867"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074871">.</span><span class="ident" id="7074872">base</span><span class="op" id="7074876">,</span>&nbsp;<span class="ident" id="7074878"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074882">.</span><span class="ident" id="7074883">rel</span><span class="op" id="7074886">,</span>&nbsp;<span class="ident" id="7074888"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7074892">.</span><span class="ident" id="7074893">expected</span><span class="op" id="7074901">,</span>&nbsp;<span class="ident" id="7074903"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7074906">.</span><span class="ident" id="7074907">String</span><span class="op" id="7074913">(</span><span class="op" id="7074914">)</span><span class="op" id="7074915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074919">}</span>&nbsp;<span class="keyword" id="7074921">else</span>&nbsp;<span class="keyword" id="7074926">if</span>&nbsp;<span class="ident" id="7074929"><a href="/net/url/url_test.go.html#7074230">base</a></span>&nbsp;<span class="op" id="7074934">==</span>&nbsp;<span class="ident" id="7074937"><a href="/net/url/url_test.go.html#7074290">url</a></span>&nbsp;<span class="op" id="7074941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074946">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned&nbsp;for&nbsp;the&nbsp;wrapper&nbsp;too.</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075012"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7075013">.</span><span class="ident" id="7075014">Errorf</span><span class="op" id="7075020">(</span><span class="string" id="7075021">&#34;Expected&nbsp;URL.Parse&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="7075069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075077">//&nbsp;Ensure&nbsp;Opaque&nbsp;resets&nbsp;the&nbsp;URL.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075112"><a href="/net/url/url_test.go.html#7074290">url</a></span>&nbsp;<span class="op" id="7075116">=</span>&nbsp;<span class="ident" id="7075118"><a href="/net/url/url_test.go.html#7074230">base</a></span><span class="op" id="7075122">.</span><span class="ident" id="7075123">ResolveReference</span><span class="op" id="7075139">(</span><span class="ident" id="7075140"><a href="/net/url/url_test.go.html#7074131">opaque</a></span><span class="op" id="7075146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075150">if</span>&nbsp;<span class="op" id="7075153">*</span><span class="ident" id="7075154"><a href="/net/url/url_test.go.html#7074290">url</a></span>&nbsp;<span class="op" id="7075158">!=</span>&nbsp;<span class="op" id="7075161">*</span><span class="ident" id="7075162"><a href="/net/url/url_test.go.html#7074131">opaque</a></span>&nbsp;<span class="op" id="7075169">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075174"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7075175">.</span><span class="ident" id="7075176">Errorf</span><span class="op" id="7075182">(</span><span class="string" id="7075183">&#34;ResolveReference&nbsp;failed&nbsp;to&nbsp;resolve&nbsp;opaque&nbsp;URL:&nbsp;want&nbsp;%#v,&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="7075249">,</span>&nbsp;<span class="ident" id="7075251"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7075254">,</span>&nbsp;<span class="ident" id="7075256"><a href="/net/url/url_test.go.html#7074131">opaque</a></span><span class="op" id="7075262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075270">//&nbsp;Test&nbsp;the&nbsp;convenience&nbsp;wrapper&nbsp;with&nbsp;an&nbsp;opaque&nbsp;URL&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075328"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7075331">,</span>&nbsp;<span class="ident" id="7075333"><a href="/net/url/url_test.go.html#7074660">err</a></span>&nbsp;<span class="op" id="7075337">=</span>&nbsp;<span class="ident" id="7075339"><a href="/net/url/url_test.go.html#7074230">base</a></span><span class="op" id="7075343">.</span><span class="ident" id="7075344">Parse</span><span class="op" id="7075349">(</span><span class="string" id="7075350">&#34;scheme:opaque&#34;</span><span class="op" id="7075365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075369">if</span>&nbsp;<span class="ident" id="7075372"><a href="/net/url/url_test.go.html#7074660">err</a></span>&nbsp;<span class="op" id="7075376">!=</span>&nbsp;<span class="ident" id="7075379">nil</span>&nbsp;<span class="op" id="7075383">{</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075388"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7075389">.</span><span class="ident" id="7075390">Errorf</span><span class="op" id="7075396">(</span><span class="string" id="7075397">`URL(%q).Parse(&#34;scheme:opaque&#34;)&nbsp;failed:&nbsp;%v`</span><span class="op" id="7075440">,</span>&nbsp;<span class="ident" id="7075442"><a href="/net/url/url_test.go.html#7074190">test</a></span><span class="op" id="7075446">.</span><span class="ident" id="7075447">base</span><span class="op" id="7075451">,</span>&nbsp;<span class="ident" id="7075453"><a href="/net/url/url_test.go.html#7074660">err</a></span><span class="op" id="7075456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075460">}</span>&nbsp;<span class="keyword" id="7075462">else</span>&nbsp;<span class="keyword" id="7075467">if</span>&nbsp;<span class="op" id="7075470">*</span><span class="ident" id="7075471"><a href="/net/url/url_test.go.html#7074290">url</a></span>&nbsp;<span class="op" id="7075475">!=</span>&nbsp;<span class="op" id="7075478">*</span><span class="ident" id="7075479"><a href="/net/url/url_test.go.html#7074131">opaque</a></span>&nbsp;<span class="op" id="7075486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075491"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7075492">.</span><span class="ident" id="7075493">Errorf</span><span class="op" id="7075499">(</span><span class="string" id="7075500">&#34;Parse&nbsp;failed&nbsp;to&nbsp;resolve&nbsp;opaque&nbsp;URL:&nbsp;want&nbsp;%#v,&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="7075555">,</span>&nbsp;<span class="ident" id="7075557"><a href="/net/url/url_test.go.html#7074290">url</a></span><span class="op" id="7075560">,</span>&nbsp;<span class="ident" id="7075562"><a href="/net/url/url_test.go.html#7074131">opaque</a></span><span class="op" id="7075568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075572">}</span>&nbsp;<span class="keyword" id="7075574">else</span>&nbsp;<span class="keyword" id="7075579">if</span>&nbsp;<span class="ident" id="7075582"><a href="/net/url/url_test.go.html#7074230">base</a></span>&nbsp;<span class="op" id="7075587">==</span>&nbsp;<span class="ident" id="7075590"><a href="/net/url/url_test.go.html#7074290">url</a></span>&nbsp;<span class="op" id="7075594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075599">//&nbsp;Ensure&nbsp;that&nbsp;new&nbsp;instances&nbsp;are&nbsp;returned,&nbsp;again.</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075652"><a href="/net/url/url_test.go.html#7073951">t</a></span><span class="op" id="7075653">.</span><span class="ident" id="7075654">Errorf</span><span class="op" id="7075660">(</span><span class="string" id="7075661">&#34;Expected&nbsp;URL.Parse&nbsp;to&nbsp;return&nbsp;new&nbsp;URL&nbsp;instance.&#34;</span><span class="op" id="7075709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075716">}</span><br>
<span class="lineno"></span><span class="op" id="7075718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">750</span><span class="keyword" id="7075721">func</span>&nbsp;<span class="ident" id="7075726">TestQueryValues</span><span class="op" id="7075741">(</span><span class="ident" id="7075742">t</span>&nbsp;<span class="op" id="7075744">*</span><span class="ident" id="7075745"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7075752">.</span><span class="ident" id="7075753">T</span><span class="op" id="7075754">)</span>&nbsp;<span class="op" id="7075756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075759">u</span><span class="op" id="7075760">,</span>&nbsp;<span class="ident" id="7075762">_</span>&nbsp;<span class="op" id="7075764">:=</span>&nbsp;<span class="ident" id="7075767"><a href="/net/url/url.go.html#3594974">Parse</a></span><span class="op" id="7075772">(</span><span class="string" id="7075773">&#34;http://x.com?foo=bar&amp;bar=1&amp;bar=2&#34;</span><span class="op" id="7075807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075810">v</span>&nbsp;<span class="op" id="7075812">:=</span>&nbsp;<span class="ident" id="7075815"><a href="/net/url/url_test.go.html#7075759">u</a></span><span class="op" id="7075816">.</span><span class="ident" id="7075817">Query</span><span class="op" id="7075822">(</span><span class="op" id="7075823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075826">if</span>&nbsp;<span class="builtinfunc" id="7075829">len</span><span class="op" id="7075832">(</span><span class="ident" id="7075833"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7075834">)</span>&nbsp;<span class="op" id="7075836">!=</span>&nbsp;<span class="num" id="7075839">2</span>&nbsp;<span class="op" id="7075841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075845"><a href="/net/url/url_test.go.html#7075742">t</a></span><span class="op" id="7075846">.</span><span class="ident" id="7075847">Errorf</span><span class="op" id="7075853">(</span><span class="string" id="7075854">&#34;got&nbsp;%d&nbsp;keys&nbsp;in&nbsp;Query&nbsp;values,&nbsp;want&nbsp;2&#34;</span><span class="op" id="7075891">,</span>&nbsp;<span class="builtinfunc" id="7075893">len</span><span class="op" id="7075896">(</span><span class="ident" id="7075897"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7075898">)</span><span class="op" id="7075899">)</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075905">if</span>&nbsp;<span class="ident" id="7075908">g</span><span class="op" id="7075909">,</span>&nbsp;<span class="ident" id="7075911">e</span>&nbsp;<span class="op" id="7075913">:=</span>&nbsp;<span class="ident" id="7075916"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7075917">.</span><span class="ident" id="7075918">Get</span><span class="op" id="7075921">(</span><span class="string" id="7075922">&#34;foo&#34;</span><span class="op" id="7075927">)</span><span class="op" id="7075928">,</span>&nbsp;<span class="string" id="7075930">&#34;bar&#34;</span><span class="op" id="7075935">;</span>&nbsp;<span class="ident" id="7075937"><a href="/net/url/url_test.go.html#7075908">g</a></span>&nbsp;<span class="op" id="7075939">!=</span>&nbsp;<span class="ident" id="7075942"><a href="/net/url/url_test.go.html#7075911">e</a></span>&nbsp;<span class="op" id="7075944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075948"><a href="/net/url/url_test.go.html#7075742">t</a></span><span class="op" id="7075949">.</span><span class="ident" id="7075950">Errorf</span><span class="op" id="7075956">(</span><span class="string" id="7075957">&#34;Get(foo)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7075981">,</span>&nbsp;<span class="ident" id="7075983"><a href="/net/url/url_test.go.html#7075908">g</a></span><span class="op" id="7075984">,</span>&nbsp;<span class="ident" id="7075986"><a href="/net/url/url_test.go.html#7075911">e</a></span><span class="op" id="7075987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075993">//&nbsp;Case&nbsp;sensitive:</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076013">if</span>&nbsp;<span class="ident" id="7076016">g</span><span class="op" id="7076017">,</span>&nbsp;<span class="ident" id="7076019">e</span>&nbsp;<span class="op" id="7076021">:=</span>&nbsp;<span class="ident" id="7076024"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7076025">.</span><span class="ident" id="7076026">Get</span><span class="op" id="7076029">(</span><span class="string" id="7076030">&#34;Foo&#34;</span><span class="op" id="7076035">)</span><span class="op" id="7076036">,</span>&nbsp;<span class="string" id="7076038">&#34;&#34;</span><span class="op" id="7076040">;</span>&nbsp;<span class="ident" id="7076042"><a href="/net/url/url_test.go.html#7076016">g</a></span>&nbsp;<span class="op" id="7076044">!=</span>&nbsp;<span class="ident" id="7076047"><a href="/net/url/url_test.go.html#7076019">e</a></span>&nbsp;<span class="op" id="7076049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076053"><a href="/net/url/url_test.go.html#7075742">t</a></span><span class="op" id="7076054">.</span><span class="ident" id="7076055">Errorf</span><span class="op" id="7076061">(</span><span class="string" id="7076062">&#34;Get(Foo)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7076086">,</span>&nbsp;<span class="ident" id="7076088"><a href="/net/url/url_test.go.html#7076016">g</a></span><span class="op" id="7076089">,</span>&nbsp;<span class="ident" id="7076091"><a href="/net/url/url_test.go.html#7076019">e</a></span><span class="op" id="7076092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076098">if</span>&nbsp;<span class="ident" id="7076101">g</span><span class="op" id="7076102">,</span>&nbsp;<span class="ident" id="7076104">e</span>&nbsp;<span class="op" id="7076106">:=</span>&nbsp;<span class="ident" id="7076109"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7076110">.</span><span class="ident" id="7076111">Get</span><span class="op" id="7076114">(</span><span class="string" id="7076115">&#34;bar&#34;</span><span class="op" id="7076120">)</span><span class="op" id="7076121">,</span>&nbsp;<span class="string" id="7076123">&#34;1&#34;</span><span class="op" id="7076126">;</span>&nbsp;<span class="ident" id="7076128"><a href="/net/url/url_test.go.html#7076101">g</a></span>&nbsp;<span class="op" id="7076130">!=</span>&nbsp;<span class="ident" id="7076133"><a href="/net/url/url_test.go.html#7076104">e</a></span>&nbsp;<span class="op" id="7076135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076139"><a href="/net/url/url_test.go.html#7075742">t</a></span><span class="op" id="7076140">.</span><span class="ident" id="7076141">Errorf</span><span class="op" id="7076147">(</span><span class="string" id="7076148">&#34;Get(bar)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7076172">,</span>&nbsp;<span class="ident" id="7076174"><a href="/net/url/url_test.go.html#7076101">g</a></span><span class="op" id="7076175">,</span>&nbsp;<span class="ident" id="7076177"><a href="/net/url/url_test.go.html#7076104">e</a></span><span class="op" id="7076178">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076184">if</span>&nbsp;<span class="ident" id="7076187">g</span><span class="op" id="7076188">,</span>&nbsp;<span class="ident" id="7076190">e</span>&nbsp;<span class="op" id="7076192">:=</span>&nbsp;<span class="ident" id="7076195"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7076196">.</span><span class="ident" id="7076197">Get</span><span class="op" id="7076200">(</span><span class="string" id="7076201">&#34;baz&#34;</span><span class="op" id="7076206">)</span><span class="op" id="7076207">,</span>&nbsp;<span class="string" id="7076209">&#34;&#34;</span><span class="op" id="7076211">;</span>&nbsp;<span class="ident" id="7076213"><a href="/net/url/url_test.go.html#7076187">g</a></span>&nbsp;<span class="op" id="7076215">!=</span>&nbsp;<span class="ident" id="7076218"><a href="/net/url/url_test.go.html#7076190">e</a></span>&nbsp;<span class="op" id="7076220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076224"><a href="/net/url/url_test.go.html#7075742">t</a></span><span class="op" id="7076225">.</span><span class="ident" id="7076226">Errorf</span><span class="op" id="7076232">(</span><span class="string" id="7076233">&#34;Get(baz)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7076257">,</span>&nbsp;<span class="ident" id="7076259"><a href="/net/url/url_test.go.html#7076187">g</a></span><span class="op" id="7076260">,</span>&nbsp;<span class="ident" id="7076262"><a href="/net/url/url_test.go.html#7076190">e</a></span><span class="op" id="7076263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076269"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7076270">.</span><span class="ident" id="7076271">Del</span><span class="op" id="7076274">(</span><span class="string" id="7076275">&#34;bar&#34;</span><span class="op" id="7076280">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076283">if</span>&nbsp;<span class="ident" id="7076286">g</span><span class="op" id="7076287">,</span>&nbsp;<span class="ident" id="7076289">e</span>&nbsp;<span class="op" id="7076291">:=</span>&nbsp;<span class="ident" id="7076294"><a href="/net/url/url_test.go.html#7075810">v</a></span><span class="op" id="7076295">.</span><span class="ident" id="7076296">Get</span><span class="op" id="7076299">(</span><span class="string" id="7076300">&#34;bar&#34;</span><span class="op" id="7076305">)</span><span class="op" id="7076306">,</span>&nbsp;<span class="string" id="7076308">&#34;&#34;</span><span class="op" id="7076310">;</span>&nbsp;<span class="ident" id="7076312"><a href="/net/url/url_test.go.html#7076286">g</a></span>&nbsp;<span class="op" id="7076314">!=</span>&nbsp;<span class="ident" id="7076317"><a href="/net/url/url_test.go.html#7076289">e</a></span>&nbsp;<span class="op" id="7076319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076323"><a href="/net/url/url_test.go.html#7075742">t</a></span><span class="op" id="7076324">.</span><span class="ident" id="7076325">Errorf</span><span class="op" id="7076331">(</span><span class="string" id="7076332">&#34;second&nbsp;Get(bar)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7076363">,</span>&nbsp;<span class="ident" id="7076365"><a href="/net/url/url_test.go.html#7076286">g</a></span><span class="op" id="7076366">,</span>&nbsp;<span class="ident" id="7076368"><a href="/net/url/url_test.go.html#7076289">e</a></span><span class="op" id="7076369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076372">}</span><br>
<span class="lineno"></span><span class="op" id="7076374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">775</span><span class="keyword" id="7076377">type</span>&nbsp;<span class="ident" id="7076382">parseTest</span>&nbsp;<span class="keyword" id="7076392">struct</span>&nbsp;<span class="op" id="7076399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076402">query</span>&nbsp;<span class="builtintype" id="7076408">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076416">out</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7076422"><a href="/net/url/url.go.html#3599666">Values</a></span><br>
<span class="lineno"></span><span class="op" id="7076429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">780</span><span class="keyword" id="7076432">var</span>&nbsp;<span class="ident" id="7076436">parseTests</span>&nbsp;<span class="op" id="7076447">=</span>&nbsp;<span class="op" id="7076449">[</span><span class="op" id="7076450">]</span><span class="ident" id="7076451"><a href="/net/url/url_test.go.html#7076382">parseTest</a></span><span class="op" id="7076460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076467">query</span><span class="op" id="7076472">:</span>&nbsp;<span class="string" id="7076474">&#34;a=1&amp;b=2&#34;</span><span class="op" id="7076483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076487">out</span><span class="op" id="7076490">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7076494"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7076500">{</span><span class="string" id="7076501">&#34;a&#34;</span><span class="op" id="7076504">:</span>&nbsp;<span class="op" id="7076506">[</span><span class="op" id="7076507">]</span><span class="builtintype" id="7076508">string</span><span class="op" id="7076514">{</span><span class="string" id="7076515">&#34;1&#34;</span><span class="op" id="7076518">}</span><span class="op" id="7076519">,</span>&nbsp;<span class="string" id="7076521">&#34;b&#34;</span><span class="op" id="7076524">:</span>&nbsp;<span class="op" id="7076526">[</span><span class="op" id="7076527">]</span><span class="builtintype" id="7076528">string</span><span class="op" id="7076534">{</span><span class="string" id="7076535">&#34;2&#34;</span><span class="op" id="7076538">}</span><span class="op" id="7076539">}</span><span class="op" id="7076540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076543">}</span><span class="op" id="7076544">,</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076551">query</span><span class="op" id="7076556">:</span>&nbsp;<span class="string" id="7076558">&#34;a=1&amp;a=2&amp;a=banana&#34;</span><span class="op" id="7076576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076580">out</span><span class="op" id="7076583">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7076587"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7076593">{</span><span class="string" id="7076594">&#34;a&#34;</span><span class="op" id="7076597">:</span>&nbsp;<span class="op" id="7076599">[</span><span class="op" id="7076600">]</span><span class="builtintype" id="7076601">string</span><span class="op" id="7076607">{</span><span class="string" id="7076608">&#34;1&#34;</span><span class="op" id="7076611">,</span>&nbsp;<span class="string" id="7076613">&#34;2&#34;</span><span class="op" id="7076616">,</span>&nbsp;<span class="string" id="7076618">&#34;banana&#34;</span><span class="op" id="7076626">}</span><span class="op" id="7076627">}</span><span class="op" id="7076628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076631">}</span><span class="op" id="7076632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076635">{</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076639">query</span><span class="op" id="7076644">:</span>&nbsp;<span class="string" id="7076646">&#34;ascii=%3Ckey%3A+0x90%3E&#34;</span><span class="op" id="7076671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076675">out</span><span class="op" id="7076678">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7076682"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7076688">{</span><span class="string" id="7076689">&#34;ascii&#34;</span><span class="op" id="7076696">:</span>&nbsp;<span class="op" id="7076698">[</span><span class="op" id="7076699">]</span><span class="builtintype" id="7076700">string</span><span class="op" id="7076706">{</span><span class="string" id="7076707">&#34;&lt;key:&nbsp;0x90&gt;&#34;</span><span class="op" id="7076720">}</span><span class="op" id="7076721">}</span><span class="op" id="7076722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076725">}</span><span class="op" id="7076726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076733">query</span><span class="op" id="7076738">:</span>&nbsp;<span class="string" id="7076740">&#34;a=1;b=2&#34;</span><span class="op" id="7076749">,</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076753">out</span><span class="op" id="7076756">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7076760"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7076766">{</span><span class="string" id="7076767">&#34;a&#34;</span><span class="op" id="7076770">:</span>&nbsp;<span class="op" id="7076772">[</span><span class="op" id="7076773">]</span><span class="builtintype" id="7076774">string</span><span class="op" id="7076780">{</span><span class="string" id="7076781">&#34;1&#34;</span><span class="op" id="7076784">}</span><span class="op" id="7076785">,</span>&nbsp;<span class="string" id="7076787">&#34;b&#34;</span><span class="op" id="7076790">:</span>&nbsp;<span class="op" id="7076792">[</span><span class="op" id="7076793">]</span><span class="builtintype" id="7076794">string</span><span class="op" id="7076800">{</span><span class="string" id="7076801">&#34;2&#34;</span><span class="op" id="7076804">}</span><span class="op" id="7076805">}</span><span class="op" id="7076806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076809">}</span><span class="op" id="7076810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076817">query</span><span class="op" id="7076822">:</span>&nbsp;<span class="string" id="7076824">&#34;a=1&amp;a=2;a=banana&#34;</span><span class="op" id="7076842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076846">out</span><span class="op" id="7076849">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7076853"><a href="/net/url/url.go.html#3599666">Values</a></span><span class="op" id="7076859">{</span><span class="string" id="7076860">&#34;a&#34;</span><span class="op" id="7076863">:</span>&nbsp;<span class="op" id="7076865">[</span><span class="op" id="7076866">]</span><span class="builtintype" id="7076867">string</span><span class="op" id="7076873">{</span><span class="string" id="7076874">&#34;1&#34;</span><span class="op" id="7076877">,</span>&nbsp;<span class="string" id="7076879">&#34;2&#34;</span><span class="op" id="7076882">,</span>&nbsp;<span class="string" id="7076884">&#34;banana&#34;</span><span class="op" id="7076892">}</span><span class="op" id="7076893">}</span><span class="op" id="7076894">,</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076897">}</span><span class="op" id="7076898">,</span><br>
<span class="lineno"></span><span class="op" id="7076900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7076903">func</span>&nbsp;<span class="ident" id="7076908">TestParseQuery</span><span class="op" id="7076922">(</span><span class="ident" id="7076923">t</span>&nbsp;<span class="op" id="7076925">*</span><span class="ident" id="7076926"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7076933">.</span><span class="ident" id="7076934">T</span><span class="op" id="7076935">)</span>&nbsp;<span class="op" id="7076937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076940">for</span>&nbsp;<span class="ident" id="7076944">i</span><span class="op" id="7076945">,</span>&nbsp;<span class="ident" id="7076947">test</span>&nbsp;<span class="op" id="7076952">:=</span>&nbsp;<span class="keyword" id="7076955">range</span>&nbsp;<span class="ident" id="7076961"><a href="/net/url/url_test.go.html#7076436">parseTests</a></span>&nbsp;<span class="op" id="7076972">{</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076976">form</span><span class="op" id="7076980">,</span>&nbsp;<span class="ident" id="7076982">err</span>&nbsp;<span class="op" id="7076986">:=</span>&nbsp;<span class="ident" id="7076989"><a href="/net/url/url.go.html#3600713">ParseQuery</a></span><span class="op" id="7076999">(</span><span class="ident" id="7077000"><a href="/net/url/url_test.go.html#7076947">test</a></span><span class="op" id="7077004">.</span><span class="ident" id="7077005">query</span><span class="op" id="7077010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077014">if</span>&nbsp;<span class="ident" id="7077017"><a href="/net/url/url_test.go.html#7076982">err</a></span>&nbsp;<span class="op" id="7077021">!=</span>&nbsp;<span class="ident" id="7077024">nil</span>&nbsp;<span class="op" id="7077028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077033"><a href="/net/url/url_test.go.html#7076923">t</a></span><span class="op" id="7077034">.</span><span class="ident" id="7077035">Errorf</span><span class="op" id="7077041">(</span><span class="string" id="7077042">&#34;test&nbsp;%d:&nbsp;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7077073">,</span>&nbsp;<span class="ident" id="7077075"><a href="/net/url/url_test.go.html#7076944">i</a></span><span class="op" id="7077076">,</span>&nbsp;<span class="ident" id="7077078"><a href="/net/url/url_test.go.html#7076982">err</a></span><span class="op" id="7077081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077086">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077097">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077101">if</span>&nbsp;<span class="builtinfunc" id="7077104">len</span><span class="op" id="7077107">(</span><span class="ident" id="7077108"><a href="/net/url/url_test.go.html#7076976">form</a></span><span class="op" id="7077112">)</span>&nbsp;<span class="op" id="7077114">!=</span>&nbsp;<span class="builtinfunc" id="7077117">len</span><span class="op" id="7077120">(</span><span class="ident" id="7077121"><a href="/net/url/url_test.go.html#7076947">test</a></span><span class="op" id="7077125">.</span><span class="ident" id="7077126">out</span><span class="op" id="7077129">)</span>&nbsp;<span class="op" id="7077131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077136"><a href="/net/url/url_test.go.html#7076923">t</a></span><span class="op" id="7077137">.</span><span class="ident" id="7077138">Errorf</span><span class="op" id="7077144">(</span><span class="string" id="7077145">&#34;test&nbsp;%d:&nbsp;len(form)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7077179">,</span>&nbsp;<span class="ident" id="7077181"><a href="/net/url/url_test.go.html#7076944">i</a></span><span class="op" id="7077182">,</span>&nbsp;<span class="builtinfunc" id="7077184">len</span><span class="op" id="7077187">(</span><span class="ident" id="7077188"><a href="/net/url/url_test.go.html#7076976">form</a></span><span class="op" id="7077192">)</span><span class="op" id="7077193">,</span>&nbsp;<span class="builtinfunc" id="7077195">len</span><span class="op" id="7077198">(</span><span class="ident" id="7077199"><a href="/net/url/url_test.go.html#7076947">test</a></span><span class="op" id="7077203">.</span><span class="ident" id="7077204">out</span><span class="op" id="7077207">)</span><span class="op" id="7077208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077216">for</span>&nbsp;<span class="ident" id="7077220">k</span><span class="op" id="7077221">,</span>&nbsp;<span class="ident" id="7077223">evs</span>&nbsp;<span class="op" id="7077227">:=</span>&nbsp;<span class="keyword" id="7077230">range</span>&nbsp;<span class="ident" id="7077236"><a href="/net/url/url_test.go.html#7076947">test</a></span><span class="op" id="7077240">.</span><span class="ident" id="7077241">out</span>&nbsp;<span class="op" id="7077245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077250">vs</span><span class="op" id="7077252">,</span>&nbsp;<span class="ident" id="7077254">ok</span>&nbsp;<span class="op" id="7077257">:=</span>&nbsp;<span class="ident" id="7077260"><a href="/net/url/url_test.go.html#7076976">form</a></span><span class="op" id="7077264">[</span><span class="ident" id="7077265"><a href="/net/url/url_test.go.html#7077220">k</a></span><span class="op" id="7077266">]</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077271">if</span>&nbsp;<span class="op" id="7077274">!</span><span class="ident" id="7077275"><a href="/net/url/url_test.go.html#7077254">ok</a></span>&nbsp;<span class="op" id="7077278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077284"><a href="/net/url/url_test.go.html#7076923">t</a></span><span class="op" id="7077285">.</span><span class="ident" id="7077286">Errorf</span><span class="op" id="7077292">(</span><span class="string" id="7077293">&#34;test&nbsp;%d:&nbsp;Missing&nbsp;key&nbsp;%q&#34;</span><span class="op" id="7077318">,</span>&nbsp;<span class="ident" id="7077320"><a href="/net/url/url_test.go.html#7076944">i</a></span><span class="op" id="7077321">,</span>&nbsp;<span class="ident" id="7077323"><a href="/net/url/url_test.go.html#7077220">k</a></span><span class="op" id="7077324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077330">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077347">if</span>&nbsp;<span class="builtinfunc" id="7077350">len</span><span class="op" id="7077353">(</span><span class="ident" id="7077354"><a href="/net/url/url_test.go.html#7077250">vs</a></span><span class="op" id="7077356">)</span>&nbsp;<span class="op" id="7077358">!=</span>&nbsp;<span class="builtinfunc" id="7077361">len</span><span class="op" id="7077364">(</span><span class="ident" id="7077365"><a href="/net/url/url_test.go.html#7077223">evs</a></span><span class="op" id="7077368">)</span>&nbsp;<span class="op" id="7077370">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077376"><a href="/net/url/url_test.go.html#7076923">t</a></span><span class="op" id="7077377">.</span><span class="ident" id="7077378">Errorf</span><span class="op" id="7077384">(</span><span class="string" id="7077385">&#34;test&nbsp;%d:&nbsp;len(form[%q])&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7077423">,</span>&nbsp;<span class="ident" id="7077425"><a href="/net/url/url_test.go.html#7076944">i</a></span><span class="op" id="7077426">,</span>&nbsp;<span class="ident" id="7077428"><a href="/net/url/url_test.go.html#7077220">k</a></span><span class="op" id="7077429">,</span>&nbsp;<span class="builtinfunc" id="7077431">len</span><span class="op" id="7077434">(</span><span class="ident" id="7077435"><a href="/net/url/url_test.go.html#7077250">vs</a></span><span class="op" id="7077437">)</span><span class="op" id="7077438">,</span>&nbsp;<span class="builtinfunc" id="7077440">len</span><span class="op" id="7077443">(</span><span class="ident" id="7077444"><a href="/net/url/url_test.go.html#7077223">evs</a></span><span class="op" id="7077447">)</span><span class="op" id="7077448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077454">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077471">for</span>&nbsp;<span class="ident" id="7077475">j</span><span class="op" id="7077476">,</span>&nbsp;<span class="ident" id="7077478">ev</span>&nbsp;<span class="op" id="7077481">:=</span>&nbsp;<span class="keyword" id="7077484">range</span>&nbsp;<span class="ident" id="7077490"><a href="/net/url/url_test.go.html#7077223">evs</a></span>&nbsp;<span class="op" id="7077494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077500">if</span>&nbsp;<span class="ident" id="7077503">v</span>&nbsp;<span class="op" id="7077505">:=</span>&nbsp;<span class="ident" id="7077508"><a href="/net/url/url_test.go.html#7077250">vs</a></span><span class="op" id="7077510">[</span><span class="ident" id="7077511"><a href="/net/url/url_test.go.html#7077475">j</a></span><span class="op" id="7077512">]</span><span class="op" id="7077513">;</span>&nbsp;<span class="ident" id="7077515"><a href="/net/url/url_test.go.html#7077503">v</a></span>&nbsp;<span class="op" id="7077517">!=</span>&nbsp;<span class="ident" id="7077520"><a href="/net/url/url_test.go.html#7077478">ev</a></span>&nbsp;<span class="op" id="7077523">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077530"><a href="/net/url/url_test.go.html#7076923">t</a></span><span class="op" id="7077531">.</span><span class="ident" id="7077532">Errorf</span><span class="op" id="7077538">(</span><span class="string" id="7077539">&#34;test&nbsp;%d:&nbsp;form[%q][%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7077576">,</span>&nbsp;<span class="ident" id="7077578"><a href="/net/url/url_test.go.html#7076944">i</a></span><span class="op" id="7077579">,</span>&nbsp;<span class="ident" id="7077581"><a href="/net/url/url_test.go.html#7077220">k</a></span><span class="op" id="7077582">,</span>&nbsp;<span class="ident" id="7077584"><a href="/net/url/url_test.go.html#7077475">j</a></span><span class="op" id="7077585">,</span>&nbsp;<span class="ident" id="7077587"><a href="/net/url/url_test.go.html#7077503">v</a></span><span class="op" id="7077588">,</span>&nbsp;<span class="ident" id="7077590"><a href="/net/url/url_test.go.html#7077478">ev</a></span><span class="op" id="7077592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077610">}</span><br>
<span class="lineno">830</span><span class="op" id="7077612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7077615">type</span>&nbsp;<span class="ident" id="7077620">RequestURITest</span>&nbsp;<span class="keyword" id="7077635">struct</span>&nbsp;<span class="op" id="7077642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077645">url</span>&nbsp;<span class="op" id="7077649">*</span><span class="ident" id="7077650"><a href="/net/url/url.go.html#3591999">URL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077655">out</span>&nbsp;<span class="builtintype" id="7077659">string</span><br>
<span class="lineno">835</span><span class="op" id="7077666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7077669">var</span>&nbsp;<span class="ident" id="7077673">requritests</span>&nbsp;<span class="op" id="7077685">=</span>&nbsp;<span class="op" id="7077687">[</span><span class="op" id="7077688">]</span><span class="ident" id="7077689"><a href="/net/url/url_test.go.html#7077620">RequestURITest</a></span><span class="op" id="7077703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077710">&amp;</span><span class="ident" id="7077711"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7077714">{</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077719">Scheme</span><span class="op" id="7077725">:</span>&nbsp;<span class="string" id="7077727">&#34;http&#34;</span><span class="op" id="7077733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077738">Host</span><span class="op" id="7077742">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7077746">&#34;example.com&#34;</span><span class="op" id="7077759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077764">Path</span><span class="op" id="7077768">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7077772">&#34;&#34;</span><span class="op" id="7077774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077778">}</span><span class="op" id="7077779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7077783">&#34;/&#34;</span><span class="op" id="7077786">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077789">}</span><span class="op" id="7077790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077797">&amp;</span><span class="ident" id="7077798"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7077801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077806">Scheme</span><span class="op" id="7077812">:</span>&nbsp;<span class="string" id="7077814">&#34;http&#34;</span><span class="op" id="7077820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077825">Host</span><span class="op" id="7077829">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7077833">&#34;example.com&#34;</span><span class="op" id="7077846">,</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077851">Path</span><span class="op" id="7077855">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7077859">&#34;/a&nbsp;b&#34;</span><span class="op" id="7077865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077869">}</span><span class="op" id="7077870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7077874">&#34;/a%20b&#34;</span><span class="op" id="7077882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077885">}</span><span class="op" id="7077886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077889">//&nbsp;golang.org/issue/4860&nbsp;variant&nbsp;1</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077929">&amp;</span><span class="ident" id="7077930"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7077933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077938">Scheme</span><span class="op" id="7077944">:</span>&nbsp;<span class="string" id="7077946">&#34;http&#34;</span><span class="op" id="7077952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077957">Host</span><span class="op" id="7077961">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7077965">&#34;example.com&#34;</span><span class="op" id="7077978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077983">Opaque</span><span class="op" id="7077989">:</span>&nbsp;<span class="string" id="7077991">&#34;/%2F/%2F/&#34;</span><span class="op" id="7078002">,</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078006">}</span><span class="op" id="7078007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7078011">&#34;/%2F/%2F/&#34;</span><span class="op" id="7078022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078025">}</span><span class="op" id="7078026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7078029">//&nbsp;golang.org/issue/4860&nbsp;variant&nbsp;2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078065">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078069">&amp;</span><span class="ident" id="7078070"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7078073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078078">Scheme</span><span class="op" id="7078084">:</span>&nbsp;<span class="string" id="7078086">&#34;http&#34;</span><span class="op" id="7078092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078097">Host</span><span class="op" id="7078101">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7078105">&#34;example.com&#34;</span><span class="op" id="7078118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078123">Opaque</span><span class="op" id="7078129">:</span>&nbsp;<span class="string" id="7078131">&#34;//other.example.com/%2F/%2F/&#34;</span><span class="op" id="7078161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078165">}</span><span class="op" id="7078166">,</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7078170">&#34;http://other.example.com/%2F/%2F/&#34;</span><span class="op" id="7078205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078208">}</span><span class="op" id="7078209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078216">&amp;</span><span class="ident" id="7078217"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7078220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078225">Scheme</span><span class="op" id="7078231">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7078235">&#34;http&#34;</span><span class="op" id="7078241">,</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078246">Host</span><span class="op" id="7078250">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7078256">&#34;example.com&#34;</span><span class="op" id="7078269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078274">Path</span><span class="op" id="7078278">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7078284">&#34;/a&nbsp;b&#34;</span><span class="op" id="7078290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078295">RawQuery</span><span class="op" id="7078303">:</span>&nbsp;<span class="string" id="7078305">&#34;q=go+language&#34;</span><span class="op" id="7078320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078324">}</span><span class="op" id="7078325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7078329">&#34;/a%20b?q=go+language&#34;</span><span class="op" id="7078351">,</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078354">}</span><span class="op" id="7078355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078362">&amp;</span><span class="ident" id="7078363"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7078366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078371">Scheme</span><span class="op" id="7078377">:</span>&nbsp;<span class="string" id="7078379">&#34;myschema&#34;</span><span class="op" id="7078389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078394">Opaque</span><span class="op" id="7078400">:</span>&nbsp;<span class="string" id="7078402">&#34;opaque&#34;</span><span class="op" id="7078410">,</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078414">}</span><span class="op" id="7078415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7078419">&#34;opaque&#34;</span><span class="op" id="7078427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078430">}</span><span class="op" id="7078431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078438">&amp;</span><span class="ident" id="7078439"><a href="/net/url/url.go.html#3591999">URL</a></span><span class="op" id="7078442">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078447">Scheme</span><span class="op" id="7078453">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7078457">&#34;myschema&#34;</span><span class="op" id="7078467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078472">Opaque</span><span class="op" id="7078478">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7078482">&#34;opaque&#34;</span><span class="op" id="7078490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078495">RawQuery</span><span class="op" id="7078503">:</span>&nbsp;<span class="string" id="7078505">&#34;q=go+language&#34;</span><span class="op" id="7078520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078524">}</span><span class="op" id="7078525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7078529">&#34;opaque?q=go+language&#34;</span><span class="op" id="7078551">,</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078554">}</span><span class="op" id="7078555">,</span><br>
<span class="lineno"></span><span class="op" id="7078557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7078560">func</span>&nbsp;<span class="ident" id="7078565">TestRequestURI</span><span class="op" id="7078579">(</span><span class="ident" id="7078580">t</span>&nbsp;<span class="op" id="7078582">*</span><span class="ident" id="7078583"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7078590">.</span><span class="ident" id="7078591">T</span><span class="op" id="7078592">)</span>&nbsp;<span class="op" id="7078594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078597">for</span>&nbsp;<span class="ident" id="7078601">_</span><span class="op" id="7078602">,</span>&nbsp;<span class="ident" id="7078604">tt</span>&nbsp;<span class="op" id="7078607">:=</span>&nbsp;<span class="keyword" id="7078610">range</span>&nbsp;<span class="ident" id="7078616"><a href="/net/url/url_test.go.html#7077673">requritests</a></span>&nbsp;<span class="op" id="7078628">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078632">s</span>&nbsp;<span class="op" id="7078634">:=</span>&nbsp;<span class="ident" id="7078637"><a href="/net/url/url_test.go.html#7078604">tt</a></span><span class="op" id="7078639">.</span><span class="ident" id="7078640">url</span><span class="op" id="7078643">.</span><span class="ident" id="7078644">RequestURI</span><span class="op" id="7078654">(</span><span class="op" id="7078655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078659">if</span>&nbsp;<span class="ident" id="7078662"><a href="/net/url/url_test.go.html#7078632">s</a></span>&nbsp;<span class="op" id="7078664">!=</span>&nbsp;<span class="ident" id="7078667"><a href="/net/url/url_test.go.html#7078604">tt</a></span><span class="op" id="7078669">.</span><span class="ident" id="7078670">out</span>&nbsp;<span class="op" id="7078674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078679"><a href="/net/url/url_test.go.html#7078580">t</a></span><span class="op" id="7078680">.</span><span class="ident" id="7078681">Errorf</span><span class="op" id="7078687">(</span><span class="string" id="7078688">&#34;%#v.RequestURI()&nbsp;==&nbsp;%q&nbsp;(expected&nbsp;%q)&#34;</span><span class="op" id="7078726">,</span>&nbsp;<span class="ident" id="7078728"><a href="/net/url/url_test.go.html#7078604">tt</a></span><span class="op" id="7078730">.</span><span class="ident" id="7078731">url</span><span class="op" id="7078734">,</span>&nbsp;<span class="ident" id="7078736"><a href="/net/url/url_test.go.html#7078632">s</a></span><span class="op" id="7078737">,</span>&nbsp;<span class="ident" id="7078739"><a href="/net/url/url_test.go.html#7078604">tt</a></span><span class="op" id="7078741">.</span><span class="ident" id="7078742">out</span><span class="op" id="7078745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078752">}</span><br>
<span class="lineno">905</span><span class="op" id="7078754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7078757">func</span>&nbsp;<span class="ident" id="7078762">TestParseFailure</span><span class="op" id="7078778">(</span><span class="ident" id="7078779">t</span>&nbsp;<span class="op" id="7078781">*</span><span class="ident" id="7078782"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7078789">.</span><span class="ident" id="7078790">T</span><span class="op" id="7078791">)</span>&nbsp;<span class="op" id="7078793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7078796">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;first&nbsp;parse&nbsp;error&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078845">const</span>&nbsp;<span class="ident" id="7078851">url</span>&nbsp;<span class="op" id="7078855">=</span>&nbsp;<span class="string" id="7078857">&#34;%gh&amp;%ij&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078868">_</span><span class="op" id="7078869">,</span>&nbsp;<span class="ident" id="7078871">err</span>&nbsp;<span class="op" id="7078875">:=</span>&nbsp;<span class="ident" id="7078878"><a href="/net/url/url.go.html#3600713">ParseQuery</a></span><span class="op" id="7078888">(</span><span class="ident" id="7078889"><a href="/net/url/url_test.go.html#7078851">url</a></span><span class="op" id="7078892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078895">errStr</span>&nbsp;<span class="op" id="7078902">:=</span>&nbsp;<span class="ident" id="7078905"><a href="/net/url/url_test.go.html#7057267">fmt</a></span><span class="op" id="7078908">.</span><span class="ident" id="7078909">Sprint</span><span class="op" id="7078915">(</span><span class="ident" id="7078916"><a href="/net/url/url_test.go.html#7078871">err</a></span><span class="op" id="7078919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078922">if</span>&nbsp;<span class="op" id="7078925">!</span><span class="ident" id="7078926"><a href="/net/url/url_test.go.html#7057285">strings</a></span><span class="op" id="7078933">.</span><span class="ident" id="7078934">Contains</span><span class="op" id="7078942">(</span><span class="ident" id="7078943"><a href="/net/url/url_test.go.html#7078895">errStr</a></span><span class="op" id="7078949">,</span>&nbsp;<span class="string" id="7078951">&#34;%gh&#34;</span><span class="op" id="7078956">)</span>&nbsp;<span class="op" id="7078958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078962"><a href="/net/url/url_test.go.html#7078779">t</a></span><span class="op" id="7078963">.</span><span class="ident" id="7078964">Errorf</span><span class="op" id="7078970">(</span><span class="string" id="7078971">`ParseQuery(%q)&nbsp;returned&nbsp;error&nbsp;%q,&nbsp;want&nbsp;something&nbsp;containing&nbsp;%q&#34;`</span><span class="op" id="7079036">,</span>&nbsp;<span class="ident" id="7079038"><a href="/net/url/url_test.go.html#7078851">url</a></span><span class="op" id="7079041">,</span>&nbsp;<span class="ident" id="7079043"><a href="/net/url/url_test.go.html#7078895">errStr</a></span><span class="op" id="7079049">,</span>&nbsp;<span class="string" id="7079051">&#34;%gh&#34;</span><span class="op" id="7079056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079059">}</span><br>
<span class="lineno">915</span><span class="op" id="7079061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7079064">type</span>&nbsp;<span class="ident" id="7079069">shouldEscapeTest</span>&nbsp;<span class="keyword" id="7079086">struct</span>&nbsp;<span class="op" id="7079093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079096">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7079103">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079109">mode</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7079116"><a href="/net/url/url.go.html#3587389">encoding</a></span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079126">escape</span>&nbsp;<span class="builtintype" id="7079133">bool</span><br>
<span class="lineno"></span><span class="op" id="7079138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7079141">var</span>&nbsp;<span class="ident" id="7079145">shouldEscapeTests</span>&nbsp;<span class="op" id="7079163">=</span>&nbsp;<span class="op" id="7079165">[</span><span class="op" id="7079166">]</span><span class="ident" id="7079167"><a href="/net/url/url_test.go.html#7079069">shouldEscapeTest</a></span><span class="op" id="7079183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7079186">//&nbsp;Unreserved&nbsp;characters&nbsp;(§2.3)</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079220">{</span><span class="string" id="7079221">&#39;a&#39;</span><span class="op" id="7079224">,</span>&nbsp;<span class="ident" id="7079226"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079236">,</span>&nbsp;<span class="ident" id="7079238">false</span><span class="op" id="7079243">}</span><span class="op" id="7079244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079247">{</span><span class="string" id="7079248">&#39;a&#39;</span><span class="op" id="7079251">,</span>&nbsp;<span class="ident" id="7079253"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079271">,</span>&nbsp;<span class="ident" id="7079273">false</span><span class="op" id="7079278">}</span><span class="op" id="7079279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079282">{</span><span class="string" id="7079283">&#39;a&#39;</span><span class="op" id="7079286">,</span>&nbsp;<span class="ident" id="7079288"><a href="/net/url/url.go.html#3587464">encodeQueryComponent</a></span><span class="op" id="7079308">,</span>&nbsp;<span class="ident" id="7079310">false</span><span class="op" id="7079315">}</span><span class="op" id="7079316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079319">{</span><span class="string" id="7079320">&#39;a&#39;</span><span class="op" id="7079323">,</span>&nbsp;<span class="ident" id="7079325"><a href="/net/url/url.go.html#3587486">encodeFragment</a></span><span class="op" id="7079339">,</span>&nbsp;<span class="ident" id="7079341">false</span><span class="op" id="7079346">}</span><span class="op" id="7079347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079350">{</span><span class="string" id="7079351">&#39;z&#39;</span><span class="op" id="7079354">,</span>&nbsp;<span class="ident" id="7079356"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079366">,</span>&nbsp;<span class="ident" id="7079368">false</span><span class="op" id="7079373">}</span><span class="op" id="7079374">,</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079377">{</span><span class="string" id="7079378">&#39;A&#39;</span><span class="op" id="7079381">,</span>&nbsp;<span class="ident" id="7079383"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079393">,</span>&nbsp;<span class="ident" id="7079395">false</span><span class="op" id="7079400">}</span><span class="op" id="7079401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079404">{</span><span class="string" id="7079405">&#39;Z&#39;</span><span class="op" id="7079408">,</span>&nbsp;<span class="ident" id="7079410"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079420">,</span>&nbsp;<span class="ident" id="7079422">false</span><span class="op" id="7079427">}</span><span class="op" id="7079428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079431">{</span><span class="string" id="7079432">&#39;0&#39;</span><span class="op" id="7079435">,</span>&nbsp;<span class="ident" id="7079437"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079447">,</span>&nbsp;<span class="ident" id="7079449">false</span><span class="op" id="7079454">}</span><span class="op" id="7079455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079458">{</span><span class="string" id="7079459">&#39;9&#39;</span><span class="op" id="7079462">,</span>&nbsp;<span class="ident" id="7079464"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079474">,</span>&nbsp;<span class="ident" id="7079476">false</span><span class="op" id="7079481">}</span><span class="op" id="7079482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079485">{</span><span class="string" id="7079486">&#39;-&#39;</span><span class="op" id="7079489">,</span>&nbsp;<span class="ident" id="7079491"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079501">,</span>&nbsp;<span class="ident" id="7079503">false</span><span class="op" id="7079508">}</span><span class="op" id="7079509">,</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079512">{</span><span class="string" id="7079513">&#39;-&#39;</span><span class="op" id="7079516">,</span>&nbsp;<span class="ident" id="7079518"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079536">,</span>&nbsp;<span class="ident" id="7079538">false</span><span class="op" id="7079543">}</span><span class="op" id="7079544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079547">{</span><span class="string" id="7079548">&#39;-&#39;</span><span class="op" id="7079551">,</span>&nbsp;<span class="ident" id="7079553"><a href="/net/url/url.go.html#3587464">encodeQueryComponent</a></span><span class="op" id="7079573">,</span>&nbsp;<span class="ident" id="7079575">false</span><span class="op" id="7079580">}</span><span class="op" id="7079581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079584">{</span><span class="string" id="7079585">&#39;-&#39;</span><span class="op" id="7079588">,</span>&nbsp;<span class="ident" id="7079590"><a href="/net/url/url.go.html#3587486">encodeFragment</a></span><span class="op" id="7079604">,</span>&nbsp;<span class="ident" id="7079606">false</span><span class="op" id="7079611">}</span><span class="op" id="7079612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079615">{</span><span class="string" id="7079616">&#39;.&#39;</span><span class="op" id="7079619">,</span>&nbsp;<span class="ident" id="7079621"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079631">,</span>&nbsp;<span class="ident" id="7079633">false</span><span class="op" id="7079638">}</span><span class="op" id="7079639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079642">{</span><span class="string" id="7079643">&#39;_&#39;</span><span class="op" id="7079646">,</span>&nbsp;<span class="ident" id="7079648"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079658">,</span>&nbsp;<span class="ident" id="7079660">false</span><span class="op" id="7079665">}</span><span class="op" id="7079666">,</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079669">{</span><span class="string" id="7079670">&#39;~&#39;</span><span class="op" id="7079673">,</span>&nbsp;<span class="ident" id="7079675"><a href="/net/url/url.go.html#3587412">encodePath</a></span><span class="op" id="7079685">,</span>&nbsp;<span class="ident" id="7079687">false</span><span class="op" id="7079692">}</span><span class="op" id="7079693">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7079697">//&nbsp;User&nbsp;information&nbsp;(§3.2.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079728">{</span><span class="string" id="7079729">&#39;:&#39;</span><span class="op" id="7079732">,</span>&nbsp;<span class="ident" id="7079734"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079752">,</span>&nbsp;<span class="ident" id="7079754">true</span><span class="op" id="7079758">}</span><span class="op" id="7079759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079762">{</span><span class="string" id="7079763">&#39;/&#39;</span><span class="op" id="7079766">,</span>&nbsp;<span class="ident" id="7079768"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079786">,</span>&nbsp;<span class="ident" id="7079788">true</span><span class="op" id="7079792">}</span><span class="op" id="7079793">,</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079796">{</span><span class="string" id="7079797">&#39;?&#39;</span><span class="op" id="7079800">,</span>&nbsp;<span class="ident" id="7079802"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079820">,</span>&nbsp;<span class="ident" id="7079822">true</span><span class="op" id="7079826">}</span><span class="op" id="7079827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079830">{</span><span class="string" id="7079831">&#39;@&#39;</span><span class="op" id="7079834">,</span>&nbsp;<span class="ident" id="7079836"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079854">,</span>&nbsp;<span class="ident" id="7079856">true</span><span class="op" id="7079860">}</span><span class="op" id="7079861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079864">{</span><span class="string" id="7079865">&#39;$&#39;</span><span class="op" id="7079868">,</span>&nbsp;<span class="ident" id="7079870"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079888">,</span>&nbsp;<span class="ident" id="7079890">false</span><span class="op" id="7079895">}</span><span class="op" id="7079896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079899">{</span><span class="string" id="7079900">&#39;&amp;&#39;</span><span class="op" id="7079903">,</span>&nbsp;<span class="ident" id="7079905"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079923">,</span>&nbsp;<span class="ident" id="7079925">false</span><span class="op" id="7079930">}</span><span class="op" id="7079931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079934">{</span><span class="string" id="7079935">&#39;+&#39;</span><span class="op" id="7079938">,</span>&nbsp;<span class="ident" id="7079940"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079958">,</span>&nbsp;<span class="ident" id="7079960">false</span><span class="op" id="7079965">}</span><span class="op" id="7079966">,</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079969">{</span><span class="string" id="7079970">&#39;,&#39;</span><span class="op" id="7079973">,</span>&nbsp;<span class="ident" id="7079975"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7079993">,</span>&nbsp;<span class="ident" id="7079995">false</span><span class="op" id="7080000">}</span><span class="op" id="7080001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7080004">{</span><span class="string" id="7080005">&#39;;&#39;</span><span class="op" id="7080008">,</span>&nbsp;<span class="ident" id="7080010"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7080028">,</span>&nbsp;<span class="ident" id="7080030">false</span><span class="op" id="7080035">}</span><span class="op" id="7080036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7080039">{</span><span class="string" id="7080040">&#39;=&#39;</span><span class="op" id="7080043">,</span>&nbsp;<span class="ident" id="7080045"><a href="/net/url/url.go.html#3587444">encodeUserPassword</a></span><span class="op" id="7080063">,</span>&nbsp;<span class="ident" id="7080065">false</span><span class="op" id="7080070">}</span><span class="op" id="7080071">,</span><br>
<span class="lineno"></span><span class="op" id="7080073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">955</span><span class="keyword" id="7080076">func</span>&nbsp;<span class="ident" id="7080081">TestShouldEscape</span><span class="op" id="7080097">(</span><span class="ident" id="7080098">t</span>&nbsp;<span class="op" id="7080100">*</span><span class="ident" id="7080101"><a href="/net/url/url_test.go.html#7057296">testing</a></span><span class="op" id="7080108">.</span><span class="ident" id="7080109">T</span><span class="op" id="7080110">)</span>&nbsp;<span class="op" id="7080112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7080115">for</span>&nbsp;<span class="ident" id="7080119">_</span><span class="op" id="7080120">,</span>&nbsp;<span class="ident" id="7080122">tt</span>&nbsp;<span class="op" id="7080125">:=</span>&nbsp;<span class="keyword" id="7080128">range</span>&nbsp;<span class="ident" id="7080134"><a href="/net/url/url_test.go.html#7079145">shouldEscapeTests</a></span>&nbsp;<span class="op" id="7080152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7080156">if</span>&nbsp;<span class="ident" id="7080159"><a href="/net/url/url.go.html#3587750">shouldEscape</a></span><span class="op" id="7080171">(</span><span class="ident" id="7080172"><a href="/net/url/url_test.go.html#7080122">tt</a></span><span class="op" id="7080174">.</span><span class="ident" id="7080175">in</span><span class="op" id="7080177">,</span>&nbsp;<span class="ident" id="7080179"><a href="/net/url/url_test.go.html#7080122">tt</a></span><span class="op" id="7080181">.</span><span class="ident" id="7080182">mode</span><span class="op" id="7080186">)</span>&nbsp;<span class="op" id="7080188">!=</span>&nbsp;<span class="ident" id="7080191"><a href="/net/url/url_test.go.html#7080122">tt</a></span><span class="op" id="7080193">.</span><span class="ident" id="7080194">escape</span>&nbsp;<span class="op" id="7080201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7080206"><a href="/net/url/url_test.go.html#7080098">t</a></span><span class="op" id="7080207">.</span><span class="ident" id="7080208">Errorf</span><span class="op" id="7080214">(</span><span class="string" id="7080215">&#34;shouldEscape(%q,&nbsp;%v)&nbsp;returned&nbsp;%v;&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="7080262">,</span>&nbsp;<span class="ident" id="7080264"><a href="/net/url/url_test.go.html#7080122">tt</a></span><span class="op" id="7080266">.</span><span class="ident" id="7080267">in</span><span class="op" id="7080269">,</span>&nbsp;<span class="ident" id="7080271"><a href="/net/url/url_test.go.html#7080122">tt</a></span><span class="op" id="7080273">.</span><span class="ident" id="7080274">mode</span><span class="op" id="7080278">,</span>&nbsp;<span class="op" id="7080280">!</span><span class="ident" id="7080281"><a href="/net/url/url_test.go.html#7080122">tt</a></span><span class="op" id="7080283">.</span><span class="ident" id="7080284">escape</span><span class="op" id="7080290">,</span>&nbsp;<span class="ident" id="7080292"><a href="/net/url/url_test.go.html#7080122">tt</a></span><span class="op" id="7080294">.</span><span class="ident" id="7080295">escape</span><span class="op" id="7080301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7080305">}</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7080308">}</span><br>
<span class="lineno"></span><span class="op" id="7080310">}</span>
</div>
</body>
</html>
