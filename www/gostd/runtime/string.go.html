<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html" class="current">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1644506">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1644561">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1644615">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1644666">package</span>&nbsp;<span class="ident" id="1644674">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1644683">import</span>&nbsp;<span class="op" id="1644690">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1644693">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1644702">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1644705">func</span>&nbsp;<span class="ident" id="1644710">concatstrings</span><span class="op" id="1644723">(</span><span class="ident" id="1644724">a</span>&nbsp;<span class="op" id="1644726">[</span><span class="op" id="1644727">]</span><span class="builtintype" id="1644728">string</span><span class="op" id="1644734">)</span>&nbsp;<span class="builtintype" id="1644736">string</span>&nbsp;<span class="op" id="1644743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644746">idx</span>&nbsp;<span class="op" id="1644750">:=</span>&nbsp;<span class="num" id="1644753">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644756">l</span>&nbsp;<span class="op" id="1644758">:=</span>&nbsp;<span class="num" id="1644761">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644764">count</span>&nbsp;<span class="op" id="1644770">:=</span>&nbsp;<span class="num" id="1644773">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644776">for</span>&nbsp;<span class="ident" id="1644780">i</span><span class="op" id="1644781">,</span>&nbsp;<span class="ident" id="1644783">x</span>&nbsp;<span class="op" id="1644785">:=</span>&nbsp;<span class="keyword" id="1644788">range</span>&nbsp;<span class="ident" id="1644794">a</span>&nbsp;<span class="op" id="1644796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644800">n</span>&nbsp;<span class="op" id="1644802">:=</span>&nbsp;<span class="builtinfunc" id="1644805">len</span><span class="op" id="1644808">(</span><span class="ident" id="1644809">x</span><span class="op" id="1644810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644814">if</span>&nbsp;<span class="ident" id="1644817">n</span>&nbsp;<span class="op" id="1644819">==</span>&nbsp;<span class="num" id="1644822">0</span>&nbsp;<span class="op" id="1644824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644829">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1644840">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644844">if</span>&nbsp;<span class="ident" id="1644847">l</span><span class="op" id="1644848">+</span><span class="ident" id="1644849">n</span>&nbsp;<span class="op" id="1644851">&lt;</span>&nbsp;<span class="ident" id="1644853">l</span>&nbsp;<span class="op" id="1644855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644860">gothrow</span><span class="op" id="1644867">(</span><span class="string" id="1644868">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="1644899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1644903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644907">l</span>&nbsp;<span class="op" id="1644909">+=</span>&nbsp;<span class="ident" id="1644912">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644916">count</span><span class="op" id="1644921">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644926">idx</span>&nbsp;<span class="op" id="1644930">=</span>&nbsp;<span class="ident" id="1644932">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1644935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644938">if</span>&nbsp;<span class="ident" id="1644941">count</span>&nbsp;<span class="op" id="1644947">==</span>&nbsp;<span class="num" id="1644950">0</span>&nbsp;<span class="op" id="1644952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644956">return</span>&nbsp;<span class="string" id="1644963">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1644967">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644970">if</span>&nbsp;<span class="ident" id="1644973">count</span>&nbsp;<span class="op" id="1644979">==</span>&nbsp;<span class="num" id="1644982">1</span>&nbsp;<span class="op" id="1644984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644988">return</span>&nbsp;<span class="ident" id="1644995">a</span><span class="op" id="1644996">[</span><span class="ident" id="1644997">idx</span><span class="op" id="1645000">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1645003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645006">s</span><span class="op" id="1645007">,</span>&nbsp;<span class="ident" id="1645009">b</span>&nbsp;<span class="op" id="1645011">:=</span>&nbsp;<span class="ident" id="1645014">rawstring</span><span class="op" id="1645023">(</span><span class="ident" id="1645024">l</span><span class="op" id="1645025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645028">l</span>&nbsp;<span class="op" id="1645030">=</span>&nbsp;<span class="num" id="1645032">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645035">for</span>&nbsp;<span class="ident" id="1645039">_</span><span class="op" id="1645040">,</span>&nbsp;<span class="ident" id="1645042">x</span>&nbsp;<span class="op" id="1645044">:=</span>&nbsp;<span class="keyword" id="1645047">range</span>&nbsp;<span class="ident" id="1645053">a</span>&nbsp;<span class="op" id="1645055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1645059">copy</span><span class="op" id="1645063">(</span><span class="ident" id="1645064">b</span><span class="op" id="1645065">[</span><span class="ident" id="1645066">l</span><span class="op" id="1645067">:</span><span class="op" id="1645068">]</span><span class="op" id="1645069">,</span>&nbsp;<span class="ident" id="1645071">x</span><span class="op" id="1645072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645076">l</span>&nbsp;<span class="op" id="1645078">+=</span>&nbsp;<span class="builtinfunc" id="1645081">len</span><span class="op" id="1645084">(</span><span class="ident" id="1645085">x</span><span class="op" id="1645086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1645089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645092">return</span>&nbsp;<span class="ident" id="1645099">s</span><br>
<span class="lineno">40</span><span class="op" id="1645101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1645104">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1645117">func</span>&nbsp;<span class="ident" id="1645122">concatstring2</span><span class="op" id="1645135">(</span><span class="ident" id="1645136">a</span>&nbsp;<span class="op" id="1645138">[</span><span class="num" id="1645139">2</span><span class="op" id="1645140">]</span><span class="builtintype" id="1645141">string</span><span class="op" id="1645147">)</span>&nbsp;<span class="builtintype" id="1645149">string</span>&nbsp;<span class="op" id="1645156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645159">return</span>&nbsp;<span class="ident" id="1645166">concatstrings</span><span class="op" id="1645179">(</span><span class="ident" id="1645180">a</span><span class="op" id="1645181">[</span><span class="op" id="1645182">:</span><span class="op" id="1645183">]</span><span class="op" id="1645184">)</span><br>
<span class="lineno">45</span><span class="op" id="1645186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1645189">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1645202">func</span>&nbsp;<span class="ident" id="1645207">concatstring3</span><span class="op" id="1645220">(</span><span class="ident" id="1645221">a</span>&nbsp;<span class="op" id="1645223">[</span><span class="num" id="1645224">3</span><span class="op" id="1645225">]</span><span class="builtintype" id="1645226">string</span><span class="op" id="1645232">)</span>&nbsp;<span class="builtintype" id="1645234">string</span>&nbsp;<span class="op" id="1645241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645244">return</span>&nbsp;<span class="ident" id="1645251">concatstrings</span><span class="op" id="1645264">(</span><span class="ident" id="1645265">a</span><span class="op" id="1645266">[</span><span class="op" id="1645267">:</span><span class="op" id="1645268">]</span><span class="op" id="1645269">)</span><br>
<span class="lineno">50</span><span class="op" id="1645271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1645274">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1645287">func</span>&nbsp;<span class="ident" id="1645292">concatstring4</span><span class="op" id="1645305">(</span><span class="ident" id="1645306">a</span>&nbsp;<span class="op" id="1645308">[</span><span class="num" id="1645309">4</span><span class="op" id="1645310">]</span><span class="builtintype" id="1645311">string</span><span class="op" id="1645317">)</span>&nbsp;<span class="builtintype" id="1645319">string</span>&nbsp;<span class="op" id="1645326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645329">return</span>&nbsp;<span class="ident" id="1645336">concatstrings</span><span class="op" id="1645349">(</span><span class="ident" id="1645350">a</span><span class="op" id="1645351">[</span><span class="op" id="1645352">:</span><span class="op" id="1645353">]</span><span class="op" id="1645354">)</span><br>
<span class="lineno">55</span><span class="op" id="1645356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1645359">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1645372">func</span>&nbsp;<span class="ident" id="1645377">concatstring5</span><span class="op" id="1645390">(</span><span class="ident" id="1645391">a</span>&nbsp;<span class="op" id="1645393">[</span><span class="num" id="1645394">5</span><span class="op" id="1645395">]</span><span class="builtintype" id="1645396">string</span><span class="op" id="1645402">)</span>&nbsp;<span class="builtintype" id="1645404">string</span>&nbsp;<span class="op" id="1645411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645414">return</span>&nbsp;<span class="ident" id="1645421">concatstrings</span><span class="op" id="1645434">(</span><span class="ident" id="1645435">a</span><span class="op" id="1645436">[</span><span class="op" id="1645437">:</span><span class="op" id="1645438">]</span><span class="op" id="1645439">)</span><br>
<span class="lineno">60</span><span class="op" id="1645441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1645444">func</span>&nbsp;<span class="ident" id="1645449">slicebytetostring</span><span class="op" id="1645466">(</span><span class="ident" id="1645467">b</span>&nbsp;<span class="op" id="1645469">[</span><span class="op" id="1645470">]</span><span class="builtintype" id="1645471">byte</span><span class="op" id="1645475">)</span>&nbsp;<span class="builtintype" id="1645477">string</span>&nbsp;<span class="op" id="1645484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645487">if</span>&nbsp;<span class="ident" id="1645490">raceenabled</span>&nbsp;<span class="op" id="1645502">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1645505">len</span><span class="op" id="1645508">(</span><span class="ident" id="1645509">b</span><span class="op" id="1645510">)</span>&nbsp;<span class="op" id="1645512">&gt;</span>&nbsp;<span class="num" id="1645514">0</span>&nbsp;<span class="op" id="1645516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645520">racereadrangepc</span><span class="op" id="1645535">(</span><span class="ident" id="1645536">unsafe</span><span class="op" id="1645542">.</span><span class="ident" id="1645543">Pointer</span><span class="op" id="1645550">(</span><span class="op" id="1645551">&amp;</span><span class="ident" id="1645552">b</span><span class="op" id="1645553">[</span><span class="num" id="1645554">0</span><span class="op" id="1645555">]</span><span class="op" id="1645556">)</span><span class="op" id="1645557">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1645562">uintptr</span><span class="op" id="1645569">(</span><span class="builtinfunc" id="1645570">len</span><span class="op" id="1645573">(</span><span class="ident" id="1645574">b</span><span class="op" id="1645575">)</span><span class="op" id="1645576">)</span><span class="op" id="1645577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645582">getcallerpc</span><span class="op" id="1645593">(</span><span class="ident" id="1645594">unsafe</span><span class="op" id="1645600">.</span><span class="ident" id="1645601">Pointer</span><span class="op" id="1645608">(</span><span class="op" id="1645609">&amp;</span><span class="ident" id="1645610">b</span><span class="op" id="1645611">)</span><span class="op" id="1645612">)</span><span class="op" id="1645613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645618">funcPC</span><span class="op" id="1645624">(</span><span class="ident" id="1645625">slicebytetostring</span><span class="op" id="1645642">)</span><span class="op" id="1645643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1645646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645649">s</span><span class="op" id="1645650">,</span>&nbsp;<span class="ident" id="1645652">c</span>&nbsp;<span class="op" id="1645654">:=</span>&nbsp;<span class="ident" id="1645657">rawstring</span><span class="op" id="1645666">(</span><span class="builtinfunc" id="1645667">len</span><span class="op" id="1645670">(</span><span class="ident" id="1645671">b</span><span class="op" id="1645672">)</span><span class="op" id="1645673">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1645676">copy</span><span class="op" id="1645680">(</span><span class="ident" id="1645681">c</span><span class="op" id="1645682">,</span>&nbsp;<span class="ident" id="1645684">b</span><span class="op" id="1645685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1645688">return</span>&nbsp;<span class="ident" id="1645695">s</span><br>
<span class="lineno"></span><span class="op" id="1645697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1645700">func</span>&nbsp;<span class="ident" id="1645705">slicebytetostringtmp</span><span class="op" id="1645725">(</span><span class="ident" id="1645726">b</span>&nbsp;<span class="op" id="1645728">[</span><span class="op" id="1645729">]</span><span class="builtintype" id="1645730">byte</span><span class="op" id="1645734">)</span>&nbsp;<span class="builtintype" id="1645736">string</span>&nbsp;<span class="op" id="1645743">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1645746">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1645806">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1645866">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1645926">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1645987">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1646036">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1646097">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646145">if</span>&nbsp;<span class="ident" id="1646148">raceenabled</span>&nbsp;<span class="op" id="1646160">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1646163">len</span><span class="op" id="1646166">(</span><span class="ident" id="1646167">b</span><span class="op" id="1646168">)</span>&nbsp;<span class="op" id="1646170">&gt;</span>&nbsp;<span class="num" id="1646172">0</span>&nbsp;<span class="op" id="1646174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646178">racereadrangepc</span><span class="op" id="1646193">(</span><span class="ident" id="1646194">unsafe</span><span class="op" id="1646200">.</span><span class="ident" id="1646201">Pointer</span><span class="op" id="1646208">(</span><span class="op" id="1646209">&amp;</span><span class="ident" id="1646210">b</span><span class="op" id="1646211">[</span><span class="num" id="1646212">0</span><span class="op" id="1646213">]</span><span class="op" id="1646214">)</span><span class="op" id="1646215">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1646220">uintptr</span><span class="op" id="1646227">(</span><span class="builtinfunc" id="1646228">len</span><span class="op" id="1646231">(</span><span class="ident" id="1646232">b</span><span class="op" id="1646233">)</span><span class="op" id="1646234">)</span><span class="op" id="1646235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646240">getcallerpc</span><span class="op" id="1646251">(</span><span class="ident" id="1646252">unsafe</span><span class="op" id="1646258">.</span><span class="ident" id="1646259">Pointer</span><span class="op" id="1646266">(</span><span class="op" id="1646267">&amp;</span><span class="ident" id="1646268">b</span><span class="op" id="1646269">)</span><span class="op" id="1646270">)</span><span class="op" id="1646271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646276">funcPC</span><span class="op" id="1646282">(</span><span class="ident" id="1646283">slicebytetostringtmp</span><span class="op" id="1646303">)</span><span class="op" id="1646304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1646307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646310">return</span>&nbsp;<span class="op" id="1646317">*</span><span class="op" id="1646318">(</span><span class="op" id="1646319">*</span><span class="builtintype" id="1646320">string</span><span class="op" id="1646326">)</span><span class="op" id="1646327">(</span><span class="ident" id="1646328">unsafe</span><span class="op" id="1646334">.</span><span class="ident" id="1646335">Pointer</span><span class="op" id="1646342">(</span><span class="op" id="1646343">&amp;</span><span class="ident" id="1646344">b</span><span class="op" id="1646345">)</span><span class="op" id="1646346">)</span><br>
<span class="lineno">90</span><span class="op" id="1646348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1646351">func</span>&nbsp;<span class="ident" id="1646356">stringtoslicebyte</span><span class="op" id="1646373">(</span><span class="ident" id="1646374">s</span>&nbsp;<span class="builtintype" id="1646376">string</span><span class="op" id="1646382">)</span>&nbsp;<span class="op" id="1646384">[</span><span class="op" id="1646385">]</span><span class="builtintype" id="1646386">byte</span>&nbsp;<span class="op" id="1646391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646394">b</span>&nbsp;<span class="op" id="1646396">:=</span>&nbsp;<span class="ident" id="1646399">rawbyteslice</span><span class="op" id="1646411">(</span><span class="builtinfunc" id="1646412">len</span><span class="op" id="1646415">(</span><span class="ident" id="1646416">s</span><span class="op" id="1646417">)</span><span class="op" id="1646418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1646421">copy</span><span class="op" id="1646425">(</span><span class="ident" id="1646426">b</span><span class="op" id="1646427">,</span>&nbsp;<span class="ident" id="1646429">s</span><span class="op" id="1646430">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646433">return</span>&nbsp;<span class="ident" id="1646440">b</span><br>
<span class="lineno"></span><span class="op" id="1646442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1646445">func</span>&nbsp;<span class="ident" id="1646450">stringtoslicerune</span><span class="op" id="1646467">(</span><span class="ident" id="1646468">s</span>&nbsp;<span class="builtintype" id="1646470">string</span><span class="op" id="1646476">)</span>&nbsp;<span class="op" id="1646478">[</span><span class="op" id="1646479">]</span><span class="builtintype" id="1646480">rune</span>&nbsp;<span class="op" id="1646485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1646488">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1646504">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646573">n</span>&nbsp;<span class="op" id="1646575">:=</span>&nbsp;<span class="num" id="1646578">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646581">t</span>&nbsp;<span class="op" id="1646583">:=</span>&nbsp;<span class="ident" id="1646586">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646589">for</span>&nbsp;<span class="builtinfunc" id="1646593">len</span><span class="op" id="1646596">(</span><span class="ident" id="1646597">s</span><span class="op" id="1646598">)</span>&nbsp;<span class="op" id="1646600">&gt;</span>&nbsp;<span class="num" id="1646602">0</span>&nbsp;<span class="op" id="1646604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646608">_</span><span class="op" id="1646609">,</span>&nbsp;<span class="ident" id="1646611">k</span>&nbsp;<span class="op" id="1646613">:=</span>&nbsp;<span class="ident" id="1646616">charntorune</span><span class="op" id="1646627">(</span><span class="ident" id="1646628">s</span><span class="op" id="1646629">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646633">s</span>&nbsp;<span class="op" id="1646635">=</span>&nbsp;<span class="ident" id="1646637">s</span><span class="op" id="1646638">[</span><span class="ident" id="1646639">k</span><span class="op" id="1646640">:</span><span class="op" id="1646641">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646645">n</span><span class="op" id="1646646">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1646650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646653">a</span>&nbsp;<span class="op" id="1646655">:=</span>&nbsp;<span class="ident" id="1646658">rawruneslice</span><span class="op" id="1646670">(</span><span class="ident" id="1646671">n</span><span class="op" id="1646672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646675">n</span>&nbsp;<span class="op" id="1646677">=</span>&nbsp;<span class="num" id="1646679">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646682">for</span>&nbsp;<span class="builtinfunc" id="1646686">len</span><span class="op" id="1646689">(</span><span class="ident" id="1646690">t</span><span class="op" id="1646691">)</span>&nbsp;<span class="op" id="1646693">&gt;</span>&nbsp;<span class="num" id="1646695">0</span>&nbsp;<span class="op" id="1646697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646701">r</span><span class="op" id="1646702">,</span>&nbsp;<span class="ident" id="1646704">k</span>&nbsp;<span class="op" id="1646706">:=</span>&nbsp;<span class="ident" id="1646709">charntorune</span><span class="op" id="1646720">(</span><span class="ident" id="1646721">t</span><span class="op" id="1646722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646726">t</span>&nbsp;<span class="op" id="1646728">=</span>&nbsp;<span class="ident" id="1646730">t</span><span class="op" id="1646731">[</span><span class="ident" id="1646732">k</span><span class="op" id="1646733">:</span><span class="op" id="1646734">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646738">a</span><span class="op" id="1646739">[</span><span class="ident" id="1646740">n</span><span class="op" id="1646741">]</span>&nbsp;<span class="op" id="1646743">=</span>&nbsp;<span class="ident" id="1646745">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646749">n</span><span class="op" id="1646750">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1646754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646757">return</span>&nbsp;<span class="ident" id="1646764">a</span><br>
<span class="lineno"></span><span class="op" id="1646766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1646769">func</span>&nbsp;<span class="ident" id="1646774">slicerunetostring</span><span class="op" id="1646791">(</span><span class="ident" id="1646792">a</span>&nbsp;<span class="op" id="1646794">[</span><span class="op" id="1646795">]</span><span class="builtintype" id="1646796">rune</span><span class="op" id="1646800">)</span>&nbsp;<span class="builtintype" id="1646802">string</span>&nbsp;<span class="op" id="1646809">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646812">if</span>&nbsp;<span class="ident" id="1646815">raceenabled</span>&nbsp;<span class="op" id="1646827">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1646830">len</span><span class="op" id="1646833">(</span><span class="ident" id="1646834">a</span><span class="op" id="1646835">)</span>&nbsp;<span class="op" id="1646837">&gt;</span>&nbsp;<span class="num" id="1646839">0</span>&nbsp;<span class="op" id="1646841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646845">racereadrangepc</span><span class="op" id="1646860">(</span><span class="ident" id="1646861">unsafe</span><span class="op" id="1646867">.</span><span class="ident" id="1646868">Pointer</span><span class="op" id="1646875">(</span><span class="op" id="1646876">&amp;</span><span class="ident" id="1646877">a</span><span class="op" id="1646878">[</span><span class="num" id="1646879">0</span><span class="op" id="1646880">]</span><span class="op" id="1646881">)</span><span class="op" id="1646882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1646887">uintptr</span><span class="op" id="1646894">(</span><span class="builtinfunc" id="1646895">len</span><span class="op" id="1646898">(</span><span class="ident" id="1646899">a</span><span class="op" id="1646900">)</span><span class="op" id="1646901">)</span><span class="op" id="1646902">*</span><span class="ident" id="1646903">unsafe</span><span class="op" id="1646909">.</span><span class="ident" id="1646910">Sizeof</span><span class="op" id="1646916">(</span><span class="ident" id="1646917">a</span><span class="op" id="1646918">[</span><span class="num" id="1646919">0</span><span class="op" id="1646920">]</span><span class="op" id="1646921">)</span><span class="op" id="1646922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646927">getcallerpc</span><span class="op" id="1646938">(</span><span class="ident" id="1646939">unsafe</span><span class="op" id="1646945">.</span><span class="ident" id="1646946">Pointer</span><span class="op" id="1646953">(</span><span class="op" id="1646954">&amp;</span><span class="ident" id="1646955">a</span><span class="op" id="1646956">)</span><span class="op" id="1646957">)</span><span class="op" id="1646958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646963">funcPC</span><span class="op" id="1646969">(</span><span class="ident" id="1646970">slicerunetostring</span><span class="op" id="1646987">)</span><span class="op" id="1646988">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1646991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1646994">var</span>&nbsp;<span class="ident" id="1646998">dum</span>&nbsp;<span class="op" id="1647002">[</span><span class="num" id="1647003">4</span><span class="op" id="1647004">]</span><span class="builtintype" id="1647005">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647011">size1</span>&nbsp;<span class="op" id="1647017">:=</span>&nbsp;<span class="num" id="1647020">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647023">for</span>&nbsp;<span class="ident" id="1647027">_</span><span class="op" id="1647028">,</span>&nbsp;<span class="ident" id="1647030">r</span>&nbsp;<span class="op" id="1647032">:=</span>&nbsp;<span class="keyword" id="1647035">range</span>&nbsp;<span class="ident" id="1647041">a</span>&nbsp;<span class="op" id="1647043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647047">size1</span>&nbsp;<span class="op" id="1647053">+=</span>&nbsp;<span class="ident" id="1647056">runetochar</span><span class="op" id="1647066">(</span><span class="ident" id="1647067">dum</span><span class="op" id="1647070">[</span><span class="op" id="1647071">:</span><span class="op" id="1647072">]</span><span class="op" id="1647073">,</span>&nbsp;<span class="ident" id="1647075">r</span><span class="op" id="1647076">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647082">s</span><span class="op" id="1647083">,</span>&nbsp;<span class="ident" id="1647085">b</span>&nbsp;<span class="op" id="1647087">:=</span>&nbsp;<span class="ident" id="1647090">rawstring</span><span class="op" id="1647099">(</span><span class="ident" id="1647100">size1</span>&nbsp;<span class="op" id="1647106">+</span>&nbsp;<span class="num" id="1647108">3</span><span class="op" id="1647109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647112">size2</span>&nbsp;<span class="op" id="1647118">:=</span>&nbsp;<span class="num" id="1647121">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647124">for</span>&nbsp;<span class="ident" id="1647128">_</span><span class="op" id="1647129">,</span>&nbsp;<span class="ident" id="1647131">r</span>&nbsp;<span class="op" id="1647133">:=</span>&nbsp;<span class="keyword" id="1647136">range</span>&nbsp;<span class="ident" id="1647142">a</span>&nbsp;<span class="op" id="1647144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647148">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647168">if</span>&nbsp;<span class="ident" id="1647171">size2</span>&nbsp;<span class="op" id="1647177">&gt;=</span>&nbsp;<span class="ident" id="1647180">size1</span>&nbsp;<span class="op" id="1647186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647191">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647203">size2</span>&nbsp;<span class="op" id="1647209">+=</span>&nbsp;<span class="ident" id="1647212">runetochar</span><span class="op" id="1647222">(</span><span class="ident" id="1647223">b</span><span class="op" id="1647224">[</span><span class="ident" id="1647225">size2</span><span class="op" id="1647230">:</span><span class="op" id="1647231">]</span><span class="op" id="1647232">,</span>&nbsp;<span class="ident" id="1647234">r</span><span class="op" id="1647235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647238">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647241">return</span>&nbsp;<span class="ident" id="1647248">s</span><span class="op" id="1647249">[</span><span class="op" id="1647250">:</span><span class="ident" id="1647251">size2</span><span class="op" id="1647256">]</span><br>
<span class="lineno"></span><span class="op" id="1647258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1647261">type</span>&nbsp;<span class="ident" id="1647266">stringStruct</span>&nbsp;<span class="keyword" id="1647279">struct</span>&nbsp;<span class="op" id="1647286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647289">str</span>&nbsp;<span class="ident" id="1647293">unsafe</span><span class="op" id="1647299">.</span><span class="ident" id="1647300">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1647309">len</span>&nbsp;<span class="builtintype" id="1647313">int</span><br>
<span class="lineno"></span><span class="op" id="1647317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1647320">func</span>&nbsp;<span class="ident" id="1647325">intstring</span><span class="op" id="1647334">(</span><span class="ident" id="1647335">v</span>&nbsp;<span class="builtintype" id="1647337">int64</span><span class="op" id="1647342">)</span>&nbsp;<span class="builtintype" id="1647344">string</span>&nbsp;<span class="op" id="1647351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647354">s</span><span class="op" id="1647355">,</span>&nbsp;<span class="ident" id="1647357">b</span>&nbsp;<span class="op" id="1647359">:=</span>&nbsp;<span class="ident" id="1647362">rawstring</span><span class="op" id="1647371">(</span><span class="num" id="1647372">4</span><span class="op" id="1647373">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647376">n</span>&nbsp;<span class="op" id="1647378">:=</span>&nbsp;<span class="ident" id="1647381">runetochar</span><span class="op" id="1647391">(</span><span class="ident" id="1647392">b</span><span class="op" id="1647393">,</span>&nbsp;<span class="builtintype" id="1647395">rune</span><span class="op" id="1647399">(</span><span class="ident" id="1647400">v</span><span class="op" id="1647401">)</span><span class="op" id="1647402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647405">return</span>&nbsp;<span class="ident" id="1647412">s</span><span class="op" id="1647413">[</span><span class="op" id="1647414">:</span><span class="ident" id="1647415">n</span><span class="op" id="1647416">]</span><br>
<span class="lineno"></span><span class="op" id="1647418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1647421">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="1647465">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="1647509">func</span>&nbsp;<span class="ident" id="1647514">stringiter</span><span class="op" id="1647524">(</span><span class="ident" id="1647525">s</span>&nbsp;<span class="builtintype" id="1647527">string</span><span class="op" id="1647533">,</span>&nbsp;<span class="ident" id="1647535">k</span>&nbsp;<span class="builtintype" id="1647537">int</span><span class="op" id="1647540">)</span>&nbsp;<span class="builtintype" id="1647542">int</span>&nbsp;<span class="op" id="1647546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647549">if</span>&nbsp;<span class="ident" id="1647552">k</span>&nbsp;<span class="op" id="1647554">&gt;=</span>&nbsp;<span class="builtinfunc" id="1647557">len</span><span class="op" id="1647560">(</span><span class="ident" id="1647561">s</span><span class="op" id="1647562">)</span>&nbsp;<span class="op" id="1647564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647568">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647595">return</span>&nbsp;<span class="num" id="1647602">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647609">c</span>&nbsp;<span class="op" id="1647611">:=</span>&nbsp;<span class="ident" id="1647614">s</span><span class="op" id="1647615">[</span><span class="ident" id="1647616">k</span><span class="op" id="1647617">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647620">if</span>&nbsp;<span class="ident" id="1647623">c</span>&nbsp;<span class="op" id="1647625">&lt;</span>&nbsp;<span class="ident" id="1647627">runeself</span>&nbsp;<span class="op" id="1647636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647640">return</span>&nbsp;<span class="ident" id="1647647">k</span>&nbsp;<span class="op" id="1647649">+</span>&nbsp;<span class="num" id="1647651">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647658">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647678">_</span><span class="op" id="1647679">,</span>&nbsp;<span class="ident" id="1647681">n</span>&nbsp;<span class="op" id="1647683">:=</span>&nbsp;<span class="ident" id="1647686">charntorune</span><span class="op" id="1647697">(</span><span class="ident" id="1647698">s</span><span class="op" id="1647699">[</span><span class="ident" id="1647700">k</span><span class="op" id="1647701">:</span><span class="op" id="1647702">]</span><span class="op" id="1647703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647706">return</span>&nbsp;<span class="ident" id="1647713">k</span>&nbsp;<span class="op" id="1647715">+</span>&nbsp;<span class="ident" id="1647717">n</span><br>
<span class="lineno">170</span><span class="op" id="1647719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1647722">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="1647774">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="1647819">func</span>&nbsp;<span class="ident" id="1647824">stringiter2</span><span class="op" id="1647835">(</span><span class="ident" id="1647836">s</span>&nbsp;<span class="builtintype" id="1647838">string</span><span class="op" id="1647844">,</span>&nbsp;<span class="ident" id="1647846">k</span>&nbsp;<span class="builtintype" id="1647848">int</span><span class="op" id="1647851">)</span>&nbsp;<span class="op" id="1647853">(</span><span class="builtintype" id="1647854">int</span><span class="op" id="1647857">,</span>&nbsp;<span class="builtintype" id="1647859">rune</span><span class="op" id="1647863">)</span>&nbsp;<span class="op" id="1647865">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647868">if</span>&nbsp;<span class="ident" id="1647871">k</span>&nbsp;<span class="op" id="1647873">&gt;=</span>&nbsp;<span class="builtinfunc" id="1647876">len</span><span class="op" id="1647879">(</span><span class="ident" id="1647880">s</span><span class="op" id="1647881">)</span>&nbsp;<span class="op" id="1647883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647887">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647914">return</span>&nbsp;<span class="num" id="1647921">0</span><span class="op" id="1647922">,</span>&nbsp;<span class="num" id="1647924">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647931">c</span>&nbsp;<span class="op" id="1647933">:=</span>&nbsp;<span class="ident" id="1647936">s</span><span class="op" id="1647937">[</span><span class="ident" id="1647938">k</span><span class="op" id="1647939">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647942">if</span>&nbsp;<span class="ident" id="1647945">c</span>&nbsp;<span class="op" id="1647947">&lt;</span>&nbsp;<span class="ident" id="1647949">runeself</span>&nbsp;<span class="op" id="1647958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647962">return</span>&nbsp;<span class="ident" id="1647969">k</span>&nbsp;<span class="op" id="1647971">+</span>&nbsp;<span class="num" id="1647973">1</span><span class="op" id="1647974">,</span>&nbsp;<span class="builtintype" id="1647976">rune</span><span class="op" id="1647980">(</span><span class="ident" id="1647981">c</span><span class="op" id="1647982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647989">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648009">r</span><span class="op" id="1648010">,</span>&nbsp;<span class="ident" id="1648012">n</span>&nbsp;<span class="op" id="1648014">:=</span>&nbsp;<span class="ident" id="1648017">charntorune</span><span class="op" id="1648028">(</span><span class="ident" id="1648029">s</span><span class="op" id="1648030">[</span><span class="ident" id="1648031">k</span><span class="op" id="1648032">:</span><span class="op" id="1648033">]</span><span class="op" id="1648034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648037">return</span>&nbsp;<span class="ident" id="1648044">k</span>&nbsp;<span class="op" id="1648046">+</span>&nbsp;<span class="ident" id="1648048">n</span><span class="op" id="1648049">,</span>&nbsp;<span class="ident" id="1648051">r</span><br>
<span class="lineno"></span><span class="op" id="1648053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="1648056">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="1648118">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="1648175">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="1648224">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1648273">func</span>&nbsp;<span class="ident" id="1648278">rawstring</span><span class="op" id="1648287">(</span><span class="ident" id="1648288">size</span>&nbsp;<span class="builtintype" id="1648293">int</span><span class="op" id="1648296">)</span>&nbsp;<span class="op" id="1648298">(</span><span class="ident" id="1648299">s</span>&nbsp;<span class="builtintype" id="1648301">string</span><span class="op" id="1648307">,</span>&nbsp;<span class="ident" id="1648309">b</span>&nbsp;<span class="op" id="1648311">[</span><span class="op" id="1648312">]</span><span class="builtintype" id="1648313">byte</span><span class="op" id="1648317">)</span>&nbsp;<span class="op" id="1648319">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648322">p</span>&nbsp;<span class="op" id="1648324">:=</span>&nbsp;<span class="ident" id="1648327">mallocgc</span><span class="op" id="1648335">(</span><span class="builtintype" id="1648336">uintptr</span><span class="op" id="1648343">(</span><span class="ident" id="1648344">size</span><span class="op" id="1648348">)</span><span class="op" id="1648349">,</span>&nbsp;<span class="builtintype" id="1648351">nil</span><span class="op" id="1648354">,</span>&nbsp;<span class="ident" id="1648356">flagNoScan</span><span class="op" id="1648366">|</span><span class="ident" id="1648367">flagNoZero</span><span class="op" id="1648377">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648381">(</span><span class="op" id="1648382">*</span><span class="ident" id="1648383">stringStruct</span><span class="op" id="1648395">)</span><span class="op" id="1648396">(</span><span class="ident" id="1648397">unsafe</span><span class="op" id="1648403">.</span><span class="ident" id="1648404">Pointer</span><span class="op" id="1648411">(</span><span class="op" id="1648412">&amp;</span><span class="ident" id="1648413">s</span><span class="op" id="1648414">)</span><span class="op" id="1648415">)</span><span class="op" id="1648416">.</span><span class="ident" id="1648417">str</span>&nbsp;<span class="op" id="1648421">=</span>&nbsp;<span class="ident" id="1648423">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648426">(</span><span class="op" id="1648427">*</span><span class="ident" id="1648428">stringStruct</span><span class="op" id="1648440">)</span><span class="op" id="1648441">(</span><span class="ident" id="1648442">unsafe</span><span class="op" id="1648448">.</span><span class="ident" id="1648449">Pointer</span><span class="op" id="1648456">(</span><span class="op" id="1648457">&amp;</span><span class="ident" id="1648458">s</span><span class="op" id="1648459">)</span><span class="op" id="1648460">)</span><span class="op" id="1648461">.</span><span class="builtinfunc" id="1648462">len</span>&nbsp;<span class="op" id="1648466">=</span>&nbsp;<span class="ident" id="1648468">size</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648475">(</span><span class="op" id="1648476">*</span><span class="ident" id="1648477">slice</span><span class="op" id="1648482">)</span><span class="op" id="1648483">(</span><span class="ident" id="1648484">unsafe</span><span class="op" id="1648490">.</span><span class="ident" id="1648491">Pointer</span><span class="op" id="1648498">(</span><span class="op" id="1648499">&amp;</span><span class="ident" id="1648500">b</span><span class="op" id="1648501">)</span><span class="op" id="1648502">)</span><span class="op" id="1648503">.</span><span class="ident" id="1648504">array</span>&nbsp;<span class="op" id="1648510">=</span>&nbsp;<span class="op" id="1648512">(</span><span class="op" id="1648513">*</span><span class="builtintype" id="1648514">uint8</span><span class="op" id="1648519">)</span><span class="op" id="1648520">(</span><span class="ident" id="1648521">p</span><span class="op" id="1648522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648525">(</span><span class="op" id="1648526">*</span><span class="ident" id="1648527">slice</span><span class="op" id="1648532">)</span><span class="op" id="1648533">(</span><span class="ident" id="1648534">unsafe</span><span class="op" id="1648540">.</span><span class="ident" id="1648541">Pointer</span><span class="op" id="1648548">(</span><span class="op" id="1648549">&amp;</span><span class="ident" id="1648550">b</span><span class="op" id="1648551">)</span><span class="op" id="1648552">)</span><span class="op" id="1648553">.</span><span class="builtinfunc" id="1648554">len</span>&nbsp;<span class="op" id="1648558">=</span>&nbsp;<span class="builtintype" id="1648560">uint</span><span class="op" id="1648564">(</span><span class="ident" id="1648565">size</span><span class="op" id="1648569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648572">(</span><span class="op" id="1648573">*</span><span class="ident" id="1648574">slice</span><span class="op" id="1648579">)</span><span class="op" id="1648580">(</span><span class="ident" id="1648581">unsafe</span><span class="op" id="1648587">.</span><span class="ident" id="1648588">Pointer</span><span class="op" id="1648595">(</span><span class="op" id="1648596">&amp;</span><span class="ident" id="1648597">b</span><span class="op" id="1648598">)</span><span class="op" id="1648599">)</span><span class="op" id="1648600">.</span><span class="builtinfunc" id="1648601">cap</span>&nbsp;<span class="op" id="1648605">=</span>&nbsp;<span class="builtintype" id="1648607">uint</span><span class="op" id="1648611">(</span><span class="ident" id="1648612">size</span><span class="op" id="1648616">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648620">for</span>&nbsp;<span class="op" id="1648624">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648628">ms</span>&nbsp;<span class="op" id="1648631">:=</span>&nbsp;<span class="ident" id="1648634">maxstring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648646">if</span>&nbsp;<span class="builtintype" id="1648649">uintptr</span><span class="op" id="1648656">(</span><span class="ident" id="1648657">size</span><span class="op" id="1648661">)</span>&nbsp;<span class="op" id="1648663">&lt;=</span>&nbsp;<span class="builtintype" id="1648666">uintptr</span><span class="op" id="1648673">(</span><span class="ident" id="1648674">ms</span><span class="op" id="1648676">)</span>&nbsp;<span class="op" id="1648678">||</span>&nbsp;<span class="ident" id="1648681">casuintptr</span><span class="op" id="1648691">(</span><span class="op" id="1648692">(</span><span class="op" id="1648693">*</span><span class="builtintype" id="1648694">uintptr</span><span class="op" id="1648701">)</span><span class="op" id="1648702">(</span><span class="ident" id="1648703">unsafe</span><span class="op" id="1648709">.</span><span class="ident" id="1648710">Pointer</span><span class="op" id="1648717">(</span><span class="op" id="1648718">&amp;</span><span class="ident" id="1648719">maxstring</span><span class="op" id="1648728">)</span><span class="op" id="1648729">)</span><span class="op" id="1648730">,</span>&nbsp;<span class="builtintype" id="1648732">uintptr</span><span class="op" id="1648739">(</span><span class="ident" id="1648740">ms</span><span class="op" id="1648742">)</span><span class="op" id="1648743">,</span>&nbsp;<span class="builtintype" id="1648745">uintptr</span><span class="op" id="1648752">(</span><span class="ident" id="1648753">size</span><span class="op" id="1648757">)</span><span class="op" id="1648758">)</span>&nbsp;<span class="op" id="1648760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648765">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648777">}</span><br>
<span class="lineno">210</span><span class="op" id="1648779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1648782">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1648856">func</span>&nbsp;<span class="ident" id="1648861">rawbyteslice</span><span class="op" id="1648873">(</span><span class="ident" id="1648874">size</span>&nbsp;<span class="builtintype" id="1648879">int</span><span class="op" id="1648882">)</span>&nbsp;<span class="op" id="1648884">(</span><span class="ident" id="1648885">b</span>&nbsp;<span class="op" id="1648887">[</span><span class="op" id="1648888">]</span><span class="builtintype" id="1648889">byte</span><span class="op" id="1648893">)</span>&nbsp;<span class="op" id="1648895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1648898">cap</span>&nbsp;<span class="op" id="1648902">:=</span>&nbsp;<span class="ident" id="1648905">goroundupsize</span><span class="op" id="1648918">(</span><span class="builtintype" id="1648919">uintptr</span><span class="op" id="1648926">(</span><span class="ident" id="1648927">size</span><span class="op" id="1648931">)</span><span class="op" id="1648932">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648935">p</span>&nbsp;<span class="op" id="1648937">:=</span>&nbsp;<span class="ident" id="1648940">mallocgc</span><span class="op" id="1648948">(</span><span class="builtinfunc" id="1648949">cap</span><span class="op" id="1648952">,</span>&nbsp;<span class="builtintype" id="1648954">nil</span><span class="op" id="1648957">,</span>&nbsp;<span class="ident" id="1648959">flagNoScan</span><span class="op" id="1648969">|</span><span class="ident" id="1648970">flagNoZero</span><span class="op" id="1648980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648983">if</span>&nbsp;<span class="builtinfunc" id="1648986">cap</span>&nbsp;<span class="op" id="1648990">!=</span>&nbsp;<span class="builtintype" id="1648993">uintptr</span><span class="op" id="1649000">(</span><span class="ident" id="1649001">size</span><span class="op" id="1649005">)</span>&nbsp;<span class="op" id="1649007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649011">memclr</span><span class="op" id="1649017">(</span><span class="ident" id="1649018">add</span><span class="op" id="1649021">(</span><span class="ident" id="1649022">p</span><span class="op" id="1649023">,</span>&nbsp;<span class="builtintype" id="1649025">uintptr</span><span class="op" id="1649032">(</span><span class="ident" id="1649033">size</span><span class="op" id="1649037">)</span><span class="op" id="1649038">)</span><span class="op" id="1649039">,</span>&nbsp;<span class="builtinfunc" id="1649041">cap</span><span class="op" id="1649044">-</span><span class="builtintype" id="1649045">uintptr</span><span class="op" id="1649052">(</span><span class="ident" id="1649053">size</span><span class="op" id="1649057">)</span><span class="op" id="1649058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649065">(</span><span class="op" id="1649066">*</span><span class="ident" id="1649067">slice</span><span class="op" id="1649072">)</span><span class="op" id="1649073">(</span><span class="ident" id="1649074">unsafe</span><span class="op" id="1649080">.</span><span class="ident" id="1649081">Pointer</span><span class="op" id="1649088">(</span><span class="op" id="1649089">&amp;</span><span class="ident" id="1649090">b</span><span class="op" id="1649091">)</span><span class="op" id="1649092">)</span><span class="op" id="1649093">.</span><span class="ident" id="1649094">array</span>&nbsp;<span class="op" id="1649100">=</span>&nbsp;<span class="op" id="1649102">(</span><span class="op" id="1649103">*</span><span class="builtintype" id="1649104">uint8</span><span class="op" id="1649109">)</span><span class="op" id="1649110">(</span><span class="ident" id="1649111">p</span><span class="op" id="1649112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649115">(</span><span class="op" id="1649116">*</span><span class="ident" id="1649117">slice</span><span class="op" id="1649122">)</span><span class="op" id="1649123">(</span><span class="ident" id="1649124">unsafe</span><span class="op" id="1649130">.</span><span class="ident" id="1649131">Pointer</span><span class="op" id="1649138">(</span><span class="op" id="1649139">&amp;</span><span class="ident" id="1649140">b</span><span class="op" id="1649141">)</span><span class="op" id="1649142">)</span><span class="op" id="1649143">.</span><span class="builtinfunc" id="1649144">len</span>&nbsp;<span class="op" id="1649148">=</span>&nbsp;<span class="builtintype" id="1649150">uint</span><span class="op" id="1649154">(</span><span class="ident" id="1649155">size</span><span class="op" id="1649159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649162">(</span><span class="op" id="1649163">*</span><span class="ident" id="1649164">slice</span><span class="op" id="1649169">)</span><span class="op" id="1649170">(</span><span class="ident" id="1649171">unsafe</span><span class="op" id="1649177">.</span><span class="ident" id="1649178">Pointer</span><span class="op" id="1649185">(</span><span class="op" id="1649186">&amp;</span><span class="ident" id="1649187">b</span><span class="op" id="1649188">)</span><span class="op" id="1649189">)</span><span class="op" id="1649190">.</span><span class="builtinfunc" id="1649191">cap</span>&nbsp;<span class="op" id="1649195">=</span>&nbsp;<span class="builtintype" id="1649197">uint</span><span class="op" id="1649201">(</span><span class="builtinfunc" id="1649202">cap</span><span class="op" id="1649205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649208">return</span><br>
<span class="lineno"></span><span class="op" id="1649215">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="1649218">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1649292">func</span>&nbsp;<span class="ident" id="1649297">rawruneslice</span><span class="op" id="1649309">(</span><span class="ident" id="1649310">size</span>&nbsp;<span class="builtintype" id="1649315">int</span><span class="op" id="1649318">)</span>&nbsp;<span class="op" id="1649320">(</span><span class="ident" id="1649321">b</span>&nbsp;<span class="op" id="1649323">[</span><span class="op" id="1649324">]</span><span class="builtintype" id="1649325">rune</span><span class="op" id="1649329">)</span>&nbsp;<span class="op" id="1649331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649334">if</span>&nbsp;<span class="builtintype" id="1649337">uintptr</span><span class="op" id="1649344">(</span><span class="ident" id="1649345">size</span><span class="op" id="1649349">)</span>&nbsp;<span class="op" id="1649351">&gt;</span>&nbsp;<span class="ident" id="1649353">maxmem</span><span class="op" id="1649359">/</span><span class="num" id="1649360">4</span>&nbsp;<span class="op" id="1649362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649366">gothrow</span><span class="op" id="1649373">(</span><span class="string" id="1649374">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="1649389">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649395">mem</span>&nbsp;<span class="op" id="1649399">:=</span>&nbsp;<span class="ident" id="1649402">goroundupsize</span><span class="op" id="1649415">(</span><span class="builtintype" id="1649416">uintptr</span><span class="op" id="1649423">(</span><span class="ident" id="1649424">size</span><span class="op" id="1649428">)</span>&nbsp;<span class="op" id="1649430">*</span>&nbsp;<span class="num" id="1649432">4</span><span class="op" id="1649433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649436">p</span>&nbsp;<span class="op" id="1649438">:=</span>&nbsp;<span class="ident" id="1649441">mallocgc</span><span class="op" id="1649449">(</span><span class="ident" id="1649450">mem</span><span class="op" id="1649453">,</span>&nbsp;<span class="builtintype" id="1649455">nil</span><span class="op" id="1649458">,</span>&nbsp;<span class="ident" id="1649460">flagNoScan</span><span class="op" id="1649470">|</span><span class="ident" id="1649471">flagNoZero</span><span class="op" id="1649481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649484">if</span>&nbsp;<span class="ident" id="1649487">mem</span>&nbsp;<span class="op" id="1649491">!=</span>&nbsp;<span class="builtintype" id="1649494">uintptr</span><span class="op" id="1649501">(</span><span class="ident" id="1649502">size</span><span class="op" id="1649506">)</span><span class="op" id="1649507">*</span><span class="num" id="1649508">4</span>&nbsp;<span class="op" id="1649510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649514">memclr</span><span class="op" id="1649520">(</span><span class="ident" id="1649521">add</span><span class="op" id="1649524">(</span><span class="ident" id="1649525">p</span><span class="op" id="1649526">,</span>&nbsp;<span class="builtintype" id="1649528">uintptr</span><span class="op" id="1649535">(</span><span class="ident" id="1649536">size</span><span class="op" id="1649540">)</span><span class="op" id="1649541">*</span><span class="num" id="1649542">4</span><span class="op" id="1649543">)</span><span class="op" id="1649544">,</span>&nbsp;<span class="ident" id="1649546">mem</span><span class="op" id="1649549">-</span><span class="builtintype" id="1649550">uintptr</span><span class="op" id="1649557">(</span><span class="ident" id="1649558">size</span><span class="op" id="1649562">)</span><span class="op" id="1649563">*</span><span class="num" id="1649564">4</span><span class="op" id="1649565">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649572">(</span><span class="op" id="1649573">*</span><span class="ident" id="1649574">slice</span><span class="op" id="1649579">)</span><span class="op" id="1649580">(</span><span class="ident" id="1649581">unsafe</span><span class="op" id="1649587">.</span><span class="ident" id="1649588">Pointer</span><span class="op" id="1649595">(</span><span class="op" id="1649596">&amp;</span><span class="ident" id="1649597">b</span><span class="op" id="1649598">)</span><span class="op" id="1649599">)</span><span class="op" id="1649600">.</span><span class="ident" id="1649601">array</span>&nbsp;<span class="op" id="1649607">=</span>&nbsp;<span class="op" id="1649609">(</span><span class="op" id="1649610">*</span><span class="builtintype" id="1649611">uint8</span><span class="op" id="1649616">)</span><span class="op" id="1649617">(</span><span class="ident" id="1649618">p</span><span class="op" id="1649619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649622">(</span><span class="op" id="1649623">*</span><span class="ident" id="1649624">slice</span><span class="op" id="1649629">)</span><span class="op" id="1649630">(</span><span class="ident" id="1649631">unsafe</span><span class="op" id="1649637">.</span><span class="ident" id="1649638">Pointer</span><span class="op" id="1649645">(</span><span class="op" id="1649646">&amp;</span><span class="ident" id="1649647">b</span><span class="op" id="1649648">)</span><span class="op" id="1649649">)</span><span class="op" id="1649650">.</span><span class="builtinfunc" id="1649651">len</span>&nbsp;<span class="op" id="1649655">=</span>&nbsp;<span class="builtintype" id="1649657">uint</span><span class="op" id="1649661">(</span><span class="ident" id="1649662">size</span><span class="op" id="1649666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649669">(</span><span class="op" id="1649670">*</span><span class="ident" id="1649671">slice</span><span class="op" id="1649676">)</span><span class="op" id="1649677">(</span><span class="ident" id="1649678">unsafe</span><span class="op" id="1649684">.</span><span class="ident" id="1649685">Pointer</span><span class="op" id="1649692">(</span><span class="op" id="1649693">&amp;</span><span class="ident" id="1649694">b</span><span class="op" id="1649695">)</span><span class="op" id="1649696">)</span><span class="op" id="1649697">.</span><span class="builtinfunc" id="1649698">cap</span>&nbsp;<span class="op" id="1649702">=</span>&nbsp;<span class="builtintype" id="1649704">uint</span><span class="op" id="1649708">(</span><span class="ident" id="1649709">mem</span>&nbsp;<span class="op" id="1649713">/</span>&nbsp;<span class="num" id="1649715">4</span><span class="op" id="1649716">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649719">return</span><br>
<span class="lineno"></span><span class="op" id="1649726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649729">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="1649748">func</span>&nbsp;<span class="ident" id="1649753">gobytes</span><span class="op" id="1649760">(</span><span class="ident" id="1649761">p</span>&nbsp;<span class="op" id="1649763">*</span><span class="builtintype" id="1649764">byte</span><span class="op" id="1649768">,</span>&nbsp;<span class="ident" id="1649770">n</span>&nbsp;<span class="builtintype" id="1649772">int</span><span class="op" id="1649775">)</span>&nbsp;<span class="op" id="1649777">[</span><span class="op" id="1649778">]</span><span class="builtintype" id="1649779">byte</span>&nbsp;<span class="op" id="1649784">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649787">if</span>&nbsp;<span class="ident" id="1649790">n</span>&nbsp;<span class="op" id="1649792">==</span>&nbsp;<span class="num" id="1649795">0</span>&nbsp;<span class="op" id="1649797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649801">return</span>&nbsp;<span class="builtinfunc" id="1649808">make</span><span class="op" id="1649812">(</span><span class="op" id="1649813">[</span><span class="op" id="1649814">]</span><span class="builtintype" id="1649815">byte</span><span class="op" id="1649819">,</span>&nbsp;<span class="num" id="1649821">0</span><span class="op" id="1649822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649828">x</span>&nbsp;<span class="op" id="1649830">:=</span>&nbsp;<span class="builtinfunc" id="1649833">make</span><span class="op" id="1649837">(</span><span class="op" id="1649838">[</span><span class="op" id="1649839">]</span><span class="builtintype" id="1649840">byte</span><span class="op" id="1649844">,</span>&nbsp;<span class="ident" id="1649846">n</span><span class="op" id="1649847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649850">memmove</span><span class="op" id="1649857">(</span><span class="ident" id="1649858">unsafe</span><span class="op" id="1649864">.</span><span class="ident" id="1649865">Pointer</span><span class="op" id="1649872">(</span><span class="op" id="1649873">&amp;</span><span class="ident" id="1649874">x</span><span class="op" id="1649875">[</span><span class="num" id="1649876">0</span><span class="op" id="1649877">]</span><span class="op" id="1649878">)</span><span class="op" id="1649879">,</span>&nbsp;<span class="ident" id="1649881">unsafe</span><span class="op" id="1649887">.</span><span class="ident" id="1649888">Pointer</span><span class="op" id="1649895">(</span><span class="ident" id="1649896">p</span><span class="op" id="1649897">)</span><span class="op" id="1649898">,</span>&nbsp;<span class="builtintype" id="1649900">uintptr</span><span class="op" id="1649907">(</span><span class="ident" id="1649908">n</span><span class="op" id="1649909">)</span><span class="op" id="1649910">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649913">return</span>&nbsp;<span class="ident" id="1649920">x</span><br>
<span class="lineno"></span><span class="op" id="1649922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1649925">func</span>&nbsp;<span class="ident" id="1649930">gostringsize</span><span class="op" id="1649942">(</span><span class="ident" id="1649943">n</span>&nbsp;<span class="builtintype" id="1649945">int</span><span class="op" id="1649948">)</span>&nbsp;<span class="builtintype" id="1649950">string</span>&nbsp;<span class="op" id="1649957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649960">s</span><span class="op" id="1649961">,</span>&nbsp;<span class="ident" id="1649963">_</span>&nbsp;<span class="op" id="1649965">:=</span>&nbsp;<span class="ident" id="1649968">rawstring</span><span class="op" id="1649977">(</span><span class="ident" id="1649978">n</span><span class="op" id="1649979">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649982">return</span>&nbsp;<span class="ident" id="1649989">s</span><br>
<span class="lineno"></span><span class="op" id="1649991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649994">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1650008">func</span>&nbsp;<span class="ident" id="1650013">findnull</span><span class="op" id="1650021">(</span><span class="op" id="1650022">*</span><span class="builtintype" id="1650023">byte</span><span class="op" id="1650027">)</span>&nbsp;<span class="builtintype" id="1650029">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="1650034">func</span>&nbsp;<span class="ident" id="1650039">gostring</span><span class="op" id="1650047">(</span><span class="ident" id="1650048">p</span>&nbsp;<span class="op" id="1650050">*</span><span class="builtintype" id="1650051">byte</span><span class="op" id="1650055">)</span>&nbsp;<span class="builtintype" id="1650057">string</span>&nbsp;<span class="op" id="1650064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1650067">l</span>&nbsp;<span class="op" id="1650069">:=</span>&nbsp;<span class="ident" id="1650072">findnull</span><span class="op" id="1650080">(</span><span class="ident" id="1650081">p</span><span class="op" id="1650082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650085">if</span>&nbsp;<span class="ident" id="1650088">l</span>&nbsp;<span class="op" id="1650090">==</span>&nbsp;<span class="num" id="1650093">0</span>&nbsp;<span class="op" id="1650095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650099">return</span>&nbsp;<span class="string" id="1650106">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1650110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1650113">s</span><span class="op" id="1650114">,</span>&nbsp;<span class="ident" id="1650116">b</span>&nbsp;<span class="op" id="1650118">:=</span>&nbsp;<span class="ident" id="1650121">rawstring</span><span class="op" id="1650130">(</span><span class="ident" id="1650131">l</span><span class="op" id="1650132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1650135">memmove</span><span class="op" id="1650142">(</span><span class="ident" id="1650143">unsafe</span><span class="op" id="1650149">.</span><span class="ident" id="1650150">Pointer</span><span class="op" id="1650157">(</span><span class="op" id="1650158">&amp;</span><span class="ident" id="1650159">b</span><span class="op" id="1650160">[</span><span class="num" id="1650161">0</span><span class="op" id="1650162">]</span><span class="op" id="1650163">)</span><span class="op" id="1650164">,</span>&nbsp;<span class="ident" id="1650166">unsafe</span><span class="op" id="1650172">.</span><span class="ident" id="1650173">Pointer</span><span class="op" id="1650180">(</span><span class="ident" id="1650181">p</span><span class="op" id="1650182">)</span><span class="op" id="1650183">,</span>&nbsp;<span class="builtintype" id="1650185">uintptr</span><span class="op" id="1650192">(</span><span class="ident" id="1650193">l</span><span class="op" id="1650194">)</span><span class="op" id="1650195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650198">return</span>&nbsp;<span class="ident" id="1650205">s</span><br>
<span class="lineno"></span><span class="op" id="1650207">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1650210">func</span>&nbsp;<span class="ident" id="1650215">gostringn</span><span class="op" id="1650224">(</span><span class="ident" id="1650225">p</span>&nbsp;<span class="op" id="1650227">*</span><span class="builtintype" id="1650228">byte</span><span class="op" id="1650232">,</span>&nbsp;<span class="ident" id="1650234">l</span>&nbsp;<span class="builtintype" id="1650236">int</span><span class="op" id="1650239">)</span>&nbsp;<span class="builtintype" id="1650241">string</span>&nbsp;<span class="op" id="1650248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650251">if</span>&nbsp;<span class="ident" id="1650254">l</span>&nbsp;<span class="op" id="1650256">==</span>&nbsp;<span class="num" id="1650259">0</span>&nbsp;<span class="op" id="1650261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650265">return</span>&nbsp;<span class="string" id="1650272">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1650276">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1650279">s</span><span class="op" id="1650280">,</span>&nbsp;<span class="ident" id="1650282">b</span>&nbsp;<span class="op" id="1650284">:=</span>&nbsp;<span class="ident" id="1650287">rawstring</span><span class="op" id="1650296">(</span><span class="ident" id="1650297">l</span><span class="op" id="1650298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1650301">memmove</span><span class="op" id="1650308">(</span><span class="ident" id="1650309">unsafe</span><span class="op" id="1650315">.</span><span class="ident" id="1650316">Pointer</span><span class="op" id="1650323">(</span><span class="op" id="1650324">&amp;</span><span class="ident" id="1650325">b</span><span class="op" id="1650326">[</span><span class="num" id="1650327">0</span><span class="op" id="1650328">]</span><span class="op" id="1650329">)</span><span class="op" id="1650330">,</span>&nbsp;<span class="ident" id="1650332">unsafe</span><span class="op" id="1650338">.</span><span class="ident" id="1650339">Pointer</span><span class="op" id="1650346">(</span><span class="ident" id="1650347">p</span><span class="op" id="1650348">)</span><span class="op" id="1650349">,</span>&nbsp;<span class="builtintype" id="1650351">uintptr</span><span class="op" id="1650358">(</span><span class="ident" id="1650359">l</span><span class="op" id="1650360">)</span><span class="op" id="1650361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650364">return</span>&nbsp;<span class="ident" id="1650371">s</span><br>
<span class="lineno"></span><span class="op" id="1650373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1650376">func</span>&nbsp;<span class="ident" id="1650381">index</span><span class="op" id="1650386">(</span><span class="ident" id="1650387">s</span><span class="op" id="1650388">,</span>&nbsp;<span class="ident" id="1650390">t</span>&nbsp;<span class="builtintype" id="1650392">string</span><span class="op" id="1650398">)</span>&nbsp;<span class="builtintype" id="1650400">int</span>&nbsp;<span class="op" id="1650404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650407">if</span>&nbsp;<span class="builtinfunc" id="1650410">len</span><span class="op" id="1650413">(</span><span class="ident" id="1650414">t</span><span class="op" id="1650415">)</span>&nbsp;<span class="op" id="1650417">==</span>&nbsp;<span class="num" id="1650420">0</span>&nbsp;<span class="op" id="1650422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650426">return</span>&nbsp;<span class="num" id="1650433">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1650436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650439">for</span>&nbsp;<span class="ident" id="1650443">i</span>&nbsp;<span class="op" id="1650445">:=</span>&nbsp;<span class="num" id="1650448">0</span><span class="op" id="1650449">;</span>&nbsp;<span class="ident" id="1650451">i</span>&nbsp;<span class="op" id="1650453">&lt;</span>&nbsp;<span class="builtinfunc" id="1650455">len</span><span class="op" id="1650458">(</span><span class="ident" id="1650459">s</span><span class="op" id="1650460">)</span><span class="op" id="1650461">;</span>&nbsp;<span class="ident" id="1650463">i</span><span class="op" id="1650464">++</span>&nbsp;<span class="op" id="1650467">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650471">if</span>&nbsp;<span class="ident" id="1650474">s</span><span class="op" id="1650475">[</span><span class="ident" id="1650476">i</span><span class="op" id="1650477">]</span>&nbsp;<span class="op" id="1650479">==</span>&nbsp;<span class="ident" id="1650482">t</span><span class="op" id="1650483">[</span><span class="num" id="1650484">0</span><span class="op" id="1650485">]</span>&nbsp;<span class="op" id="1650487">&amp;&amp;</span>&nbsp;<span class="ident" id="1650490">hasprefix</span><span class="op" id="1650499">(</span><span class="ident" id="1650500">s</span><span class="op" id="1650501">[</span><span class="ident" id="1650502">i</span><span class="op" id="1650503">:</span><span class="op" id="1650504">]</span><span class="op" id="1650505">,</span>&nbsp;<span class="ident" id="1650507">t</span><span class="op" id="1650508">)</span>&nbsp;<span class="op" id="1650510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650515">return</span>&nbsp;<span class="ident" id="1650522">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1650526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1650529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650532">return</span>&nbsp;<span class="op" id="1650539">-</span><span class="num" id="1650540">1</span><br>
<span class="lineno">290</span><span class="op" id="1650542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1650545">func</span>&nbsp;<span class="ident" id="1650550">contains</span><span class="op" id="1650558">(</span><span class="ident" id="1650559">s</span><span class="op" id="1650560">,</span>&nbsp;<span class="ident" id="1650562">t</span>&nbsp;<span class="builtintype" id="1650564">string</span><span class="op" id="1650570">)</span>&nbsp;<span class="builtintype" id="1650572">bool</span>&nbsp;<span class="op" id="1650577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650580">return</span>&nbsp;<span class="ident" id="1650587">index</span><span class="op" id="1650592">(</span><span class="ident" id="1650593">s</span><span class="op" id="1650594">,</span>&nbsp;<span class="ident" id="1650596">t</span><span class="op" id="1650597">)</span>&nbsp;<span class="op" id="1650599">&gt;=</span>&nbsp;<span class="num" id="1650602">0</span><br>
<span class="lineno"></span><span class="op" id="1650604">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1650607">func</span>&nbsp;<span class="ident" id="1650612">hasprefix</span><span class="op" id="1650621">(</span><span class="ident" id="1650622">s</span><span class="op" id="1650623">,</span>&nbsp;<span class="ident" id="1650625">t</span>&nbsp;<span class="builtintype" id="1650627">string</span><span class="op" id="1650633">)</span>&nbsp;<span class="builtintype" id="1650635">bool</span>&nbsp;<span class="op" id="1650640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1650643">return</span>&nbsp;<span class="builtinfunc" id="1650650">len</span><span class="op" id="1650653">(</span><span class="ident" id="1650654">s</span><span class="op" id="1650655">)</span>&nbsp;<span class="op" id="1650657">&gt;=</span>&nbsp;<span class="builtinfunc" id="1650660">len</span><span class="op" id="1650663">(</span><span class="ident" id="1650664">t</span><span class="op" id="1650665">)</span>&nbsp;<span class="op" id="1650667">&amp;&amp;</span>&nbsp;<span class="ident" id="1650670">s</span><span class="op" id="1650671">[</span><span class="op" id="1650672">:</span><span class="builtinfunc" id="1650673">len</span><span class="op" id="1650676">(</span><span class="ident" id="1650677">t</span><span class="op" id="1650678">)</span><span class="op" id="1650679">]</span>&nbsp;<span class="op" id="1650681">==</span>&nbsp;<span class="ident" id="1650684">t</span><br>
<span class="lineno"></span><span class="op" id="1650686">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
