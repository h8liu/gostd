<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html" class="current">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7805161">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7805216">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7805270">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7805321">package</span>&nbsp;<span class="ident" id="7805329">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7805337">import</span>&nbsp;<span class="op" id="7805344">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7805347">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7805354">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7805365">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7805375">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7805378">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="7805455">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="7805535">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="7805618">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="7805696">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="7805743">type</span>&nbsp;<span class="ident" id="7805748">FindTest</span>&nbsp;<span class="keyword" id="7805757">struct</span>&nbsp;<span class="op" id="7805764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7805767">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7805775">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7805783">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7805791">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7805799">matches</span>&nbsp;<span class="op" id="7805807">[</span><span class="op" id="7805808">]</span><span class="op" id="7805809">[</span><span class="op" id="7805810">]</span><span class="builtintype" id="7805811">int</span><br>
<span class="lineno"></span><span class="op" id="7805815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7805818">func</span>&nbsp;<span class="op" id="7805823">(</span><span class="ident" id="7805824">t</span>&nbsp;<span class="ident" id="7805826">FindTest</span><span class="op" id="7805834">)</span>&nbsp;<span class="ident" id="7805836">String</span><span class="op" id="7805842">(</span><span class="op" id="7805843">)</span>&nbsp;<span class="builtintype" id="7805845">string</span>&nbsp;<span class="op" id="7805852">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7805855">return</span>&nbsp;<span class="ident" id="7805862">fmt</span><span class="op" id="7805865">.</span><span class="ident" id="7805866">Sprintf</span><span class="op" id="7805873">(</span><span class="string" id="7805874">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="7805894">,</span>&nbsp;<span class="ident" id="7805896">t</span><span class="op" id="7805897">.</span><span class="ident" id="7805898">pat</span><span class="op" id="7805901">,</span>&nbsp;<span class="ident" id="7805903">t</span><span class="op" id="7805904">.</span><span class="ident" id="7805905">text</span><span class="op" id="7805909">)</span><br>
<span class="lineno"></span><span class="op" id="7805911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7805914">var</span>&nbsp;<span class="ident" id="7805918">findTests</span>&nbsp;<span class="op" id="7805928">=</span>&nbsp;<span class="op" id="7805930">[</span><span class="op" id="7805931">]</span><span class="ident" id="7805932">FindTest</span><span class="op" id="7805940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7805943">{</span><span class="string" id="7805944">``</span><span class="op" id="7805946">,</span>&nbsp;<span class="string" id="7805948">``</span><span class="op" id="7805950">,</span>&nbsp;<span class="ident" id="7805952">build</span><span class="op" id="7805957">(</span><span class="num" id="7805958">1</span><span class="op" id="7805959">,</span>&nbsp;<span class="num" id="7805961">0</span><span class="op" id="7805962">,</span>&nbsp;<span class="num" id="7805964">0</span><span class="op" id="7805965">)</span><span class="op" id="7805966">}</span><span class="op" id="7805967">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7805970">{</span><span class="string" id="7805971">`^abcdefg`</span><span class="op" id="7805981">,</span>&nbsp;<span class="string" id="7805983">&#34;abcdefg&#34;</span><span class="op" id="7805992">,</span>&nbsp;<span class="ident" id="7805994">build</span><span class="op" id="7805999">(</span><span class="num" id="7806000">1</span><span class="op" id="7806001">,</span>&nbsp;<span class="num" id="7806003">0</span><span class="op" id="7806004">,</span>&nbsp;<span class="num" id="7806006">7</span><span class="op" id="7806007">)</span><span class="op" id="7806008">}</span><span class="op" id="7806009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806012">{</span><span class="string" id="7806013">`a+`</span><span class="op" id="7806017">,</span>&nbsp;<span class="string" id="7806019">&#34;baaab&#34;</span><span class="op" id="7806026">,</span>&nbsp;<span class="ident" id="7806028">build</span><span class="op" id="7806033">(</span><span class="num" id="7806034">1</span><span class="op" id="7806035">,</span>&nbsp;<span class="num" id="7806037">1</span><span class="op" id="7806038">,</span>&nbsp;<span class="num" id="7806040">4</span><span class="op" id="7806041">)</span><span class="op" id="7806042">}</span><span class="op" id="7806043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806046">{</span><span class="string" id="7806047">&#34;abcd..&#34;</span><span class="op" id="7806055">,</span>&nbsp;<span class="string" id="7806057">&#34;abcdef&#34;</span><span class="op" id="7806065">,</span>&nbsp;<span class="ident" id="7806067">build</span><span class="op" id="7806072">(</span><span class="num" id="7806073">1</span><span class="op" id="7806074">,</span>&nbsp;<span class="num" id="7806076">0</span><span class="op" id="7806077">,</span>&nbsp;<span class="num" id="7806079">6</span><span class="op" id="7806080">)</span><span class="op" id="7806081">}</span><span class="op" id="7806082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806085">{</span><span class="string" id="7806086">`a`</span><span class="op" id="7806089">,</span>&nbsp;<span class="string" id="7806091">&#34;a&#34;</span><span class="op" id="7806094">,</span>&nbsp;<span class="ident" id="7806096">build</span><span class="op" id="7806101">(</span><span class="num" id="7806102">1</span><span class="op" id="7806103">,</span>&nbsp;<span class="num" id="7806105">0</span><span class="op" id="7806106">,</span>&nbsp;<span class="num" id="7806108">1</span><span class="op" id="7806109">)</span><span class="op" id="7806110">}</span><span class="op" id="7806111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806114">{</span><span class="string" id="7806115">`x`</span><span class="op" id="7806118">,</span>&nbsp;<span class="string" id="7806120">&#34;y&#34;</span><span class="op" id="7806123">,</span>&nbsp;<span class="builtintype" id="7806125">nil</span><span class="op" id="7806128">}</span><span class="op" id="7806129">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806132">{</span><span class="string" id="7806133">`b`</span><span class="op" id="7806136">,</span>&nbsp;<span class="string" id="7806138">&#34;abc&#34;</span><span class="op" id="7806143">,</span>&nbsp;<span class="ident" id="7806145">build</span><span class="op" id="7806150">(</span><span class="num" id="7806151">1</span><span class="op" id="7806152">,</span>&nbsp;<span class="num" id="7806154">1</span><span class="op" id="7806155">,</span>&nbsp;<span class="num" id="7806157">2</span><span class="op" id="7806158">)</span><span class="op" id="7806159">}</span><span class="op" id="7806160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806163">{</span><span class="string" id="7806164">`.`</span><span class="op" id="7806167">,</span>&nbsp;<span class="string" id="7806169">&#34;a&#34;</span><span class="op" id="7806172">,</span>&nbsp;<span class="ident" id="7806174">build</span><span class="op" id="7806179">(</span><span class="num" id="7806180">1</span><span class="op" id="7806181">,</span>&nbsp;<span class="num" id="7806183">0</span><span class="op" id="7806184">,</span>&nbsp;<span class="num" id="7806186">1</span><span class="op" id="7806187">)</span><span class="op" id="7806188">}</span><span class="op" id="7806189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806192">{</span><span class="string" id="7806193">`.*`</span><span class="op" id="7806197">,</span>&nbsp;<span class="string" id="7806199">&#34;abcdef&#34;</span><span class="op" id="7806207">,</span>&nbsp;<span class="ident" id="7806209">build</span><span class="op" id="7806214">(</span><span class="num" id="7806215">1</span><span class="op" id="7806216">,</span>&nbsp;<span class="num" id="7806218">0</span><span class="op" id="7806219">,</span>&nbsp;<span class="num" id="7806221">6</span><span class="op" id="7806222">)</span><span class="op" id="7806223">}</span><span class="op" id="7806224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806227">{</span><span class="string" id="7806228">`^`</span><span class="op" id="7806231">,</span>&nbsp;<span class="string" id="7806233">&#34;abcde&#34;</span><span class="op" id="7806240">,</span>&nbsp;<span class="ident" id="7806242">build</span><span class="op" id="7806247">(</span><span class="num" id="7806248">1</span><span class="op" id="7806249">,</span>&nbsp;<span class="num" id="7806251">0</span><span class="op" id="7806252">,</span>&nbsp;<span class="num" id="7806254">0</span><span class="op" id="7806255">)</span><span class="op" id="7806256">}</span><span class="op" id="7806257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806260">{</span><span class="string" id="7806261">`$`</span><span class="op" id="7806264">,</span>&nbsp;<span class="string" id="7806266">&#34;abcde&#34;</span><span class="op" id="7806273">,</span>&nbsp;<span class="ident" id="7806275">build</span><span class="op" id="7806280">(</span><span class="num" id="7806281">1</span><span class="op" id="7806282">,</span>&nbsp;<span class="num" id="7806284">5</span><span class="op" id="7806285">,</span>&nbsp;<span class="num" id="7806287">5</span><span class="op" id="7806288">)</span><span class="op" id="7806289">}</span><span class="op" id="7806290">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806293">{</span><span class="string" id="7806294">`^abcd$`</span><span class="op" id="7806302">,</span>&nbsp;<span class="string" id="7806304">&#34;abcd&#34;</span><span class="op" id="7806310">,</span>&nbsp;<span class="ident" id="7806312">build</span><span class="op" id="7806317">(</span><span class="num" id="7806318">1</span><span class="op" id="7806319">,</span>&nbsp;<span class="num" id="7806321">0</span><span class="op" id="7806322">,</span>&nbsp;<span class="num" id="7806324">4</span><span class="op" id="7806325">)</span><span class="op" id="7806326">}</span><span class="op" id="7806327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806330">{</span><span class="string" id="7806331">`^bcd&#39;`</span><span class="op" id="7806338">,</span>&nbsp;<span class="string" id="7806340">&#34;abcdef&#34;</span><span class="op" id="7806348">,</span>&nbsp;<span class="builtintype" id="7806350">nil</span><span class="op" id="7806353">}</span><span class="op" id="7806354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806357">{</span><span class="string" id="7806358">`^abcd$`</span><span class="op" id="7806366">,</span>&nbsp;<span class="string" id="7806368">&#34;abcde&#34;</span><span class="op" id="7806375">,</span>&nbsp;<span class="builtintype" id="7806377">nil</span><span class="op" id="7806380">}</span><span class="op" id="7806381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806384">{</span><span class="string" id="7806385">`a+`</span><span class="op" id="7806389">,</span>&nbsp;<span class="string" id="7806391">&#34;baaab&#34;</span><span class="op" id="7806398">,</span>&nbsp;<span class="ident" id="7806400">build</span><span class="op" id="7806405">(</span><span class="num" id="7806406">1</span><span class="op" id="7806407">,</span>&nbsp;<span class="num" id="7806409">1</span><span class="op" id="7806410">,</span>&nbsp;<span class="num" id="7806412">4</span><span class="op" id="7806413">)</span><span class="op" id="7806414">}</span><span class="op" id="7806415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806418">{</span><span class="string" id="7806419">`a*`</span><span class="op" id="7806423">,</span>&nbsp;<span class="string" id="7806425">&#34;baaab&#34;</span><span class="op" id="7806432">,</span>&nbsp;<span class="ident" id="7806434">build</span><span class="op" id="7806439">(</span><span class="num" id="7806440">3</span><span class="op" id="7806441">,</span>&nbsp;<span class="num" id="7806443">0</span><span class="op" id="7806444">,</span>&nbsp;<span class="num" id="7806446">0</span><span class="op" id="7806447">,</span>&nbsp;<span class="num" id="7806449">1</span><span class="op" id="7806450">,</span>&nbsp;<span class="num" id="7806452">4</span><span class="op" id="7806453">,</span>&nbsp;<span class="num" id="7806455">5</span><span class="op" id="7806456">,</span>&nbsp;<span class="num" id="7806458">5</span><span class="op" id="7806459">)</span><span class="op" id="7806460">}</span><span class="op" id="7806461">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806464">{</span><span class="string" id="7806465">`[a-z]+`</span><span class="op" id="7806473">,</span>&nbsp;<span class="string" id="7806475">&#34;abcd&#34;</span><span class="op" id="7806481">,</span>&nbsp;<span class="ident" id="7806483">build</span><span class="op" id="7806488">(</span><span class="num" id="7806489">1</span><span class="op" id="7806490">,</span>&nbsp;<span class="num" id="7806492">0</span><span class="op" id="7806493">,</span>&nbsp;<span class="num" id="7806495">4</span><span class="op" id="7806496">)</span><span class="op" id="7806497">}</span><span class="op" id="7806498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806501">{</span><span class="string" id="7806502">`[^a-z]+`</span><span class="op" id="7806511">,</span>&nbsp;<span class="string" id="7806513">&#34;ab1234cd&#34;</span><span class="op" id="7806523">,</span>&nbsp;<span class="ident" id="7806525">build</span><span class="op" id="7806530">(</span><span class="num" id="7806531">1</span><span class="op" id="7806532">,</span>&nbsp;<span class="num" id="7806534">2</span><span class="op" id="7806535">,</span>&nbsp;<span class="num" id="7806537">6</span><span class="op" id="7806538">)</span><span class="op" id="7806539">}</span><span class="op" id="7806540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806543">{</span><span class="string" id="7806544">`[a\-\]z]+`</span><span class="op" id="7806555">,</span>&nbsp;<span class="string" id="7806557">&#34;az]-bcz&#34;</span><span class="op" id="7806566">,</span>&nbsp;<span class="ident" id="7806568">build</span><span class="op" id="7806573">(</span><span class="num" id="7806574">2</span><span class="op" id="7806575">,</span>&nbsp;<span class="num" id="7806577">0</span><span class="op" id="7806578">,</span>&nbsp;<span class="num" id="7806580">4</span><span class="op" id="7806581">,</span>&nbsp;<span class="num" id="7806583">6</span><span class="op" id="7806584">,</span>&nbsp;<span class="num" id="7806586">7</span><span class="op" id="7806587">)</span><span class="op" id="7806588">}</span><span class="op" id="7806589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806592">{</span><span class="string" id="7806593">`[^\n]+`</span><span class="op" id="7806601">,</span>&nbsp;<span class="string" id="7806603">&#34;abcd\n&#34;</span><span class="op" id="7806611">,</span>&nbsp;<span class="ident" id="7806613">build</span><span class="op" id="7806618">(</span><span class="num" id="7806619">1</span><span class="op" id="7806620">,</span>&nbsp;<span class="num" id="7806622">0</span><span class="op" id="7806623">,</span>&nbsp;<span class="num" id="7806625">4</span><span class="op" id="7806626">)</span><span class="op" id="7806627">}</span><span class="op" id="7806628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806631">{</span><span class="string" id="7806632">`[日本語]+`</span><span class="op" id="7806646">,</span>&nbsp;<span class="string" id="7806648">&#34;日本語日本語&#34;</span><span class="op" id="7806668">,</span>&nbsp;<span class="ident" id="7806670">build</span><span class="op" id="7806675">(</span><span class="num" id="7806676">1</span><span class="op" id="7806677">,</span>&nbsp;<span class="num" id="7806679">0</span><span class="op" id="7806680">,</span>&nbsp;<span class="num" id="7806682">18</span><span class="op" id="7806684">)</span><span class="op" id="7806685">}</span><span class="op" id="7806686">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806689">{</span><span class="string" id="7806690">`日本語+`</span><span class="op" id="7806702">,</span>&nbsp;<span class="string" id="7806704">&#34;日本語&#34;</span><span class="op" id="7806715">,</span>&nbsp;<span class="ident" id="7806717">build</span><span class="op" id="7806722">(</span><span class="num" id="7806723">1</span><span class="op" id="7806724">,</span>&nbsp;<span class="num" id="7806726">0</span><span class="op" id="7806727">,</span>&nbsp;<span class="num" id="7806729">9</span><span class="op" id="7806730">)</span><span class="op" id="7806731">}</span><span class="op" id="7806732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806735">{</span><span class="string" id="7806736">`日本語+`</span><span class="op" id="7806748">,</span>&nbsp;<span class="string" id="7806750">&#34;日本語語語語&#34;</span><span class="op" id="7806770">,</span>&nbsp;<span class="ident" id="7806772">build</span><span class="op" id="7806777">(</span><span class="num" id="7806778">1</span><span class="op" id="7806779">,</span>&nbsp;<span class="num" id="7806781">0</span><span class="op" id="7806782">,</span>&nbsp;<span class="num" id="7806784">18</span><span class="op" id="7806786">)</span><span class="op" id="7806787">}</span><span class="op" id="7806788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806791">{</span><span class="string" id="7806792">`()`</span><span class="op" id="7806796">,</span>&nbsp;<span class="string" id="7806798">&#34;&#34;</span><span class="op" id="7806800">,</span>&nbsp;<span class="ident" id="7806802">build</span><span class="op" id="7806807">(</span><span class="num" id="7806808">1</span><span class="op" id="7806809">,</span>&nbsp;<span class="num" id="7806811">0</span><span class="op" id="7806812">,</span>&nbsp;<span class="num" id="7806814">0</span><span class="op" id="7806815">,</span>&nbsp;<span class="num" id="7806817">0</span><span class="op" id="7806818">,</span>&nbsp;<span class="num" id="7806820">0</span><span class="op" id="7806821">)</span><span class="op" id="7806822">}</span><span class="op" id="7806823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806826">{</span><span class="string" id="7806827">`(a)`</span><span class="op" id="7806832">,</span>&nbsp;<span class="string" id="7806834">&#34;a&#34;</span><span class="op" id="7806837">,</span>&nbsp;<span class="ident" id="7806839">build</span><span class="op" id="7806844">(</span><span class="num" id="7806845">1</span><span class="op" id="7806846">,</span>&nbsp;<span class="num" id="7806848">0</span><span class="op" id="7806849">,</span>&nbsp;<span class="num" id="7806851">1</span><span class="op" id="7806852">,</span>&nbsp;<span class="num" id="7806854">0</span><span class="op" id="7806855">,</span>&nbsp;<span class="num" id="7806857">1</span><span class="op" id="7806858">)</span><span class="op" id="7806859">}</span><span class="op" id="7806860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806863">{</span><span class="string" id="7806864">`(.)(.)`</span><span class="op" id="7806872">,</span>&nbsp;<span class="string" id="7806874">&#34;日a&#34;</span><span class="op" id="7806880">,</span>&nbsp;<span class="ident" id="7806882">build</span><span class="op" id="7806887">(</span><span class="num" id="7806888">1</span><span class="op" id="7806889">,</span>&nbsp;<span class="num" id="7806891">0</span><span class="op" id="7806892">,</span>&nbsp;<span class="num" id="7806894">4</span><span class="op" id="7806895">,</span>&nbsp;<span class="num" id="7806897">0</span><span class="op" id="7806898">,</span>&nbsp;<span class="num" id="7806900">3</span><span class="op" id="7806901">,</span>&nbsp;<span class="num" id="7806903">3</span><span class="op" id="7806904">,</span>&nbsp;<span class="num" id="7806906">4</span><span class="op" id="7806907">)</span><span class="op" id="7806908">}</span><span class="op" id="7806909">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806912">{</span><span class="string" id="7806913">`(.*)`</span><span class="op" id="7806919">,</span>&nbsp;<span class="string" id="7806921">&#34;&#34;</span><span class="op" id="7806923">,</span>&nbsp;<span class="ident" id="7806925">build</span><span class="op" id="7806930">(</span><span class="num" id="7806931">1</span><span class="op" id="7806932">,</span>&nbsp;<span class="num" id="7806934">0</span><span class="op" id="7806935">,</span>&nbsp;<span class="num" id="7806937">0</span><span class="op" id="7806938">,</span>&nbsp;<span class="num" id="7806940">0</span><span class="op" id="7806941">,</span>&nbsp;<span class="num" id="7806943">0</span><span class="op" id="7806944">)</span><span class="op" id="7806945">}</span><span class="op" id="7806946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806949">{</span><span class="string" id="7806950">`(.*)`</span><span class="op" id="7806956">,</span>&nbsp;<span class="string" id="7806958">&#34;abcd&#34;</span><span class="op" id="7806964">,</span>&nbsp;<span class="ident" id="7806966">build</span><span class="op" id="7806971">(</span><span class="num" id="7806972">1</span><span class="op" id="7806973">,</span>&nbsp;<span class="num" id="7806975">0</span><span class="op" id="7806976">,</span>&nbsp;<span class="num" id="7806978">4</span><span class="op" id="7806979">,</span>&nbsp;<span class="num" id="7806981">0</span><span class="op" id="7806982">,</span>&nbsp;<span class="num" id="7806984">4</span><span class="op" id="7806985">)</span><span class="op" id="7806986">}</span><span class="op" id="7806987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7806990">{</span><span class="string" id="7806991">`(..)(..)`</span><span class="op" id="7807001">,</span>&nbsp;<span class="string" id="7807003">&#34;abcd&#34;</span><span class="op" id="7807009">,</span>&nbsp;<span class="ident" id="7807011">build</span><span class="op" id="7807016">(</span><span class="num" id="7807017">1</span><span class="op" id="7807018">,</span>&nbsp;<span class="num" id="7807020">0</span><span class="op" id="7807021">,</span>&nbsp;<span class="num" id="7807023">4</span><span class="op" id="7807024">,</span>&nbsp;<span class="num" id="7807026">0</span><span class="op" id="7807027">,</span>&nbsp;<span class="num" id="7807029">2</span><span class="op" id="7807030">,</span>&nbsp;<span class="num" id="7807032">2</span><span class="op" id="7807033">,</span>&nbsp;<span class="num" id="7807035">4</span><span class="op" id="7807036">)</span><span class="op" id="7807037">}</span><span class="op" id="7807038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807041">{</span><span class="string" id="7807042">`(([^xyz]*)(d))`</span><span class="op" id="7807058">,</span>&nbsp;<span class="string" id="7807060">&#34;abcd&#34;</span><span class="op" id="7807066">,</span>&nbsp;<span class="ident" id="7807068">build</span><span class="op" id="7807073">(</span><span class="num" id="7807074">1</span><span class="op" id="7807075">,</span>&nbsp;<span class="num" id="7807077">0</span><span class="op" id="7807078">,</span>&nbsp;<span class="num" id="7807080">4</span><span class="op" id="7807081">,</span>&nbsp;<span class="num" id="7807083">0</span><span class="op" id="7807084">,</span>&nbsp;<span class="num" id="7807086">4</span><span class="op" id="7807087">,</span>&nbsp;<span class="num" id="7807089">0</span><span class="op" id="7807090">,</span>&nbsp;<span class="num" id="7807092">3</span><span class="op" id="7807093">,</span>&nbsp;<span class="num" id="7807095">3</span><span class="op" id="7807096">,</span>&nbsp;<span class="num" id="7807098">4</span><span class="op" id="7807099">)</span><span class="op" id="7807100">}</span><span class="op" id="7807101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807104">{</span><span class="string" id="7807105">`((a|b|c)*(d))`</span><span class="op" id="7807120">,</span>&nbsp;<span class="string" id="7807122">&#34;abcd&#34;</span><span class="op" id="7807128">,</span>&nbsp;<span class="ident" id="7807130">build</span><span class="op" id="7807135">(</span><span class="num" id="7807136">1</span><span class="op" id="7807137">,</span>&nbsp;<span class="num" id="7807139">0</span><span class="op" id="7807140">,</span>&nbsp;<span class="num" id="7807142">4</span><span class="op" id="7807143">,</span>&nbsp;<span class="num" id="7807145">0</span><span class="op" id="7807146">,</span>&nbsp;<span class="num" id="7807148">4</span><span class="op" id="7807149">,</span>&nbsp;<span class="num" id="7807151">2</span><span class="op" id="7807152">,</span>&nbsp;<span class="num" id="7807154">3</span><span class="op" id="7807155">,</span>&nbsp;<span class="num" id="7807157">3</span><span class="op" id="7807158">,</span>&nbsp;<span class="num" id="7807160">4</span><span class="op" id="7807161">)</span><span class="op" id="7807162">}</span><span class="op" id="7807163">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807166">{</span><span class="string" id="7807167">`(((a|b|c)*)(d))`</span><span class="op" id="7807184">,</span>&nbsp;<span class="string" id="7807186">&#34;abcd&#34;</span><span class="op" id="7807192">,</span>&nbsp;<span class="ident" id="7807194">build</span><span class="op" id="7807199">(</span><span class="num" id="7807200">1</span><span class="op" id="7807201">,</span>&nbsp;<span class="num" id="7807203">0</span><span class="op" id="7807204">,</span>&nbsp;<span class="num" id="7807206">4</span><span class="op" id="7807207">,</span>&nbsp;<span class="num" id="7807209">0</span><span class="op" id="7807210">,</span>&nbsp;<span class="num" id="7807212">4</span><span class="op" id="7807213">,</span>&nbsp;<span class="num" id="7807215">0</span><span class="op" id="7807216">,</span>&nbsp;<span class="num" id="7807218">3</span><span class="op" id="7807219">,</span>&nbsp;<span class="num" id="7807221">2</span><span class="op" id="7807222">,</span>&nbsp;<span class="num" id="7807224">3</span><span class="op" id="7807225">,</span>&nbsp;<span class="num" id="7807227">3</span><span class="op" id="7807228">,</span>&nbsp;<span class="num" id="7807230">4</span><span class="op" id="7807231">)</span><span class="op" id="7807232">}</span><span class="op" id="7807233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807236">{</span><span class="string" id="7807237">`\a\f\n\r\t\v`</span><span class="op" id="7807251">,</span>&nbsp;<span class="string" id="7807253">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7807267">,</span>&nbsp;<span class="ident" id="7807269">build</span><span class="op" id="7807274">(</span><span class="num" id="7807275">1</span><span class="op" id="7807276">,</span>&nbsp;<span class="num" id="7807278">0</span><span class="op" id="7807279">,</span>&nbsp;<span class="num" id="7807281">6</span><span class="op" id="7807282">)</span><span class="op" id="7807283">}</span><span class="op" id="7807284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807287">{</span><span class="string" id="7807288">`[\a\f\n\r\t\v]+`</span><span class="op" id="7807305">,</span>&nbsp;<span class="string" id="7807307">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7807321">,</span>&nbsp;<span class="ident" id="7807323">build</span><span class="op" id="7807328">(</span><span class="num" id="7807329">1</span><span class="op" id="7807330">,</span>&nbsp;<span class="num" id="7807332">0</span><span class="op" id="7807333">,</span>&nbsp;<span class="num" id="7807335">6</span><span class="op" id="7807336">)</span><span class="op" id="7807337">}</span><span class="op" id="7807338">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807342">{</span><span class="string" id="7807343">`a*(|(b))c*`</span><span class="op" id="7807355">,</span>&nbsp;<span class="string" id="7807357">&#34;aacc&#34;</span><span class="op" id="7807363">,</span>&nbsp;<span class="ident" id="7807365">build</span><span class="op" id="7807370">(</span><span class="num" id="7807371">1</span><span class="op" id="7807372">,</span>&nbsp;<span class="num" id="7807374">0</span><span class="op" id="7807375">,</span>&nbsp;<span class="num" id="7807377">4</span><span class="op" id="7807378">,</span>&nbsp;<span class="num" id="7807380">2</span><span class="op" id="7807381">,</span>&nbsp;<span class="num" id="7807383">2</span><span class="op" id="7807384">,</span>&nbsp;<span class="op" id="7807386">-</span><span class="num" id="7807387">1</span><span class="op" id="7807388">,</span>&nbsp;<span class="op" id="7807390">-</span><span class="num" id="7807391">1</span><span class="op" id="7807392">)</span><span class="op" id="7807393">}</span><span class="op" id="7807394">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807397">{</span><span class="string" id="7807398">`(.*).*`</span><span class="op" id="7807406">,</span>&nbsp;<span class="string" id="7807408">&#34;ab&#34;</span><span class="op" id="7807412">,</span>&nbsp;<span class="ident" id="7807414">build</span><span class="op" id="7807419">(</span><span class="num" id="7807420">1</span><span class="op" id="7807421">,</span>&nbsp;<span class="num" id="7807423">0</span><span class="op" id="7807424">,</span>&nbsp;<span class="num" id="7807426">2</span><span class="op" id="7807427">,</span>&nbsp;<span class="num" id="7807429">0</span><span class="op" id="7807430">,</span>&nbsp;<span class="num" id="7807432">2</span><span class="op" id="7807433">)</span><span class="op" id="7807434">}</span><span class="op" id="7807435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807438">{</span><span class="string" id="7807439">`[.]`</span><span class="op" id="7807444">,</span>&nbsp;<span class="string" id="7807446">&#34;.&#34;</span><span class="op" id="7807449">,</span>&nbsp;<span class="ident" id="7807451">build</span><span class="op" id="7807456">(</span><span class="num" id="7807457">1</span><span class="op" id="7807458">,</span>&nbsp;<span class="num" id="7807460">0</span><span class="op" id="7807461">,</span>&nbsp;<span class="num" id="7807463">1</span><span class="op" id="7807464">)</span><span class="op" id="7807465">}</span><span class="op" id="7807466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807469">{</span><span class="string" id="7807470">`/$`</span><span class="op" id="7807474">,</span>&nbsp;<span class="string" id="7807476">&#34;/abc/&#34;</span><span class="op" id="7807483">,</span>&nbsp;<span class="ident" id="7807485">build</span><span class="op" id="7807490">(</span><span class="num" id="7807491">1</span><span class="op" id="7807492">,</span>&nbsp;<span class="num" id="7807494">4</span><span class="op" id="7807495">,</span>&nbsp;<span class="num" id="7807497">5</span><span class="op" id="7807498">)</span><span class="op" id="7807499">}</span><span class="op" id="7807500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807503">{</span><span class="string" id="7807504">`/$`</span><span class="op" id="7807508">,</span>&nbsp;<span class="string" id="7807510">&#34;/abc&#34;</span><span class="op" id="7807516">,</span>&nbsp;<span class="builtintype" id="7807518">nil</span><span class="op" id="7807521">}</span><span class="op" id="7807522">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7807526">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807547">{</span><span class="string" id="7807548">`.`</span><span class="op" id="7807551">,</span>&nbsp;<span class="string" id="7807553">&#34;abc&#34;</span><span class="op" id="7807558">,</span>&nbsp;<span class="ident" id="7807560">build</span><span class="op" id="7807565">(</span><span class="num" id="7807566">3</span><span class="op" id="7807567">,</span>&nbsp;<span class="num" id="7807569">0</span><span class="op" id="7807570">,</span>&nbsp;<span class="num" id="7807572">1</span><span class="op" id="7807573">,</span>&nbsp;<span class="num" id="7807575">1</span><span class="op" id="7807576">,</span>&nbsp;<span class="num" id="7807578">2</span><span class="op" id="7807579">,</span>&nbsp;<span class="num" id="7807581">2</span><span class="op" id="7807582">,</span>&nbsp;<span class="num" id="7807584">3</span><span class="op" id="7807585">)</span><span class="op" id="7807586">}</span><span class="op" id="7807587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807590">{</span><span class="string" id="7807591">`(.)`</span><span class="op" id="7807596">,</span>&nbsp;<span class="string" id="7807598">&#34;abc&#34;</span><span class="op" id="7807603">,</span>&nbsp;<span class="ident" id="7807605">build</span><span class="op" id="7807610">(</span><span class="num" id="7807611">3</span><span class="op" id="7807612">,</span>&nbsp;<span class="num" id="7807614">0</span><span class="op" id="7807615">,</span>&nbsp;<span class="num" id="7807617">1</span><span class="op" id="7807618">,</span>&nbsp;<span class="num" id="7807620">0</span><span class="op" id="7807621">,</span>&nbsp;<span class="num" id="7807623">1</span><span class="op" id="7807624">,</span>&nbsp;<span class="num" id="7807626">1</span><span class="op" id="7807627">,</span>&nbsp;<span class="num" id="7807629">2</span><span class="op" id="7807630">,</span>&nbsp;<span class="num" id="7807632">1</span><span class="op" id="7807633">,</span>&nbsp;<span class="num" id="7807635">2</span><span class="op" id="7807636">,</span>&nbsp;<span class="num" id="7807638">2</span><span class="op" id="7807639">,</span>&nbsp;<span class="num" id="7807641">3</span><span class="op" id="7807642">,</span>&nbsp;<span class="num" id="7807644">2</span><span class="op" id="7807645">,</span>&nbsp;<span class="num" id="7807647">3</span><span class="op" id="7807648">)</span><span class="op" id="7807649">}</span><span class="op" id="7807650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807653">{</span><span class="string" id="7807654">`.(.)`</span><span class="op" id="7807660">,</span>&nbsp;<span class="string" id="7807662">&#34;abcd&#34;</span><span class="op" id="7807668">,</span>&nbsp;<span class="ident" id="7807670">build</span><span class="op" id="7807675">(</span><span class="num" id="7807676">2</span><span class="op" id="7807677">,</span>&nbsp;<span class="num" id="7807679">0</span><span class="op" id="7807680">,</span>&nbsp;<span class="num" id="7807682">2</span><span class="op" id="7807683">,</span>&nbsp;<span class="num" id="7807685">1</span><span class="op" id="7807686">,</span>&nbsp;<span class="num" id="7807688">2</span><span class="op" id="7807689">,</span>&nbsp;<span class="num" id="7807691">2</span><span class="op" id="7807692">,</span>&nbsp;<span class="num" id="7807694">4</span><span class="op" id="7807695">,</span>&nbsp;<span class="num" id="7807697">3</span><span class="op" id="7807698">,</span>&nbsp;<span class="num" id="7807700">4</span><span class="op" id="7807701">)</span><span class="op" id="7807702">}</span><span class="op" id="7807703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807706">{</span><span class="string" id="7807707">`ab*`</span><span class="op" id="7807712">,</span>&nbsp;<span class="string" id="7807714">&#34;abbaab&#34;</span><span class="op" id="7807722">,</span>&nbsp;<span class="ident" id="7807724">build</span><span class="op" id="7807729">(</span><span class="num" id="7807730">3</span><span class="op" id="7807731">,</span>&nbsp;<span class="num" id="7807733">0</span><span class="op" id="7807734">,</span>&nbsp;<span class="num" id="7807736">3</span><span class="op" id="7807737">,</span>&nbsp;<span class="num" id="7807739">3</span><span class="op" id="7807740">,</span>&nbsp;<span class="num" id="7807742">4</span><span class="op" id="7807743">,</span>&nbsp;<span class="num" id="7807745">4</span><span class="op" id="7807746">,</span>&nbsp;<span class="num" id="7807748">6</span><span class="op" id="7807749">)</span><span class="op" id="7807750">}</span><span class="op" id="7807751">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807754">{</span><span class="string" id="7807755">`a(b*)`</span><span class="op" id="7807762">,</span>&nbsp;<span class="string" id="7807764">&#34;abbaab&#34;</span><span class="op" id="7807772">,</span>&nbsp;<span class="ident" id="7807774">build</span><span class="op" id="7807779">(</span><span class="num" id="7807780">3</span><span class="op" id="7807781">,</span>&nbsp;<span class="num" id="7807783">0</span><span class="op" id="7807784">,</span>&nbsp;<span class="num" id="7807786">3</span><span class="op" id="7807787">,</span>&nbsp;<span class="num" id="7807789">1</span><span class="op" id="7807790">,</span>&nbsp;<span class="num" id="7807792">3</span><span class="op" id="7807793">,</span>&nbsp;<span class="num" id="7807795">3</span><span class="op" id="7807796">,</span>&nbsp;<span class="num" id="7807798">4</span><span class="op" id="7807799">,</span>&nbsp;<span class="num" id="7807801">4</span><span class="op" id="7807802">,</span>&nbsp;<span class="num" id="7807804">4</span><span class="op" id="7807805">,</span>&nbsp;<span class="num" id="7807807">4</span><span class="op" id="7807808">,</span>&nbsp;<span class="num" id="7807810">6</span><span class="op" id="7807811">,</span>&nbsp;<span class="num" id="7807813">5</span><span class="op" id="7807814">,</span>&nbsp;<span class="num" id="7807816">6</span><span class="op" id="7807817">)</span><span class="op" id="7807818">}</span><span class="op" id="7807819">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7807823">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807838">{</span><span class="string" id="7807839">`ab$`</span><span class="op" id="7807844">,</span>&nbsp;<span class="string" id="7807846">&#34;cab&#34;</span><span class="op" id="7807851">,</span>&nbsp;<span class="ident" id="7807853">build</span><span class="op" id="7807858">(</span><span class="num" id="7807859">1</span><span class="op" id="7807860">,</span>&nbsp;<span class="num" id="7807862">1</span><span class="op" id="7807863">,</span>&nbsp;<span class="num" id="7807865">3</span><span class="op" id="7807866">)</span><span class="op" id="7807867">}</span><span class="op" id="7807868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807871">{</span><span class="string" id="7807872">`axxb$`</span><span class="op" id="7807879">,</span>&nbsp;<span class="string" id="7807881">&#34;axxcb&#34;</span><span class="op" id="7807888">,</span>&nbsp;<span class="builtintype" id="7807890">nil</span><span class="op" id="7807893">}</span><span class="op" id="7807894">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807897">{</span><span class="string" id="7807898">`data`</span><span class="op" id="7807904">,</span>&nbsp;<span class="string" id="7807906">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7807917">,</span>&nbsp;<span class="ident" id="7807919">build</span><span class="op" id="7807924">(</span><span class="num" id="7807925">1</span><span class="op" id="7807926">,</span>&nbsp;<span class="num" id="7807928">5</span><span class="op" id="7807929">,</span>&nbsp;<span class="num" id="7807931">9</span><span class="op" id="7807932">)</span><span class="op" id="7807933">}</span><span class="op" id="7807934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807937">{</span><span class="string" id="7807938">`da(.)a$`</span><span class="op" id="7807947">,</span>&nbsp;<span class="string" id="7807949">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7807960">,</span>&nbsp;<span class="ident" id="7807962">build</span><span class="op" id="7807967">(</span><span class="num" id="7807968">1</span><span class="op" id="7807969">,</span>&nbsp;<span class="num" id="7807971">5</span><span class="op" id="7807972">,</span>&nbsp;<span class="num" id="7807974">9</span><span class="op" id="7807975">,</span>&nbsp;<span class="num" id="7807977">7</span><span class="op" id="7807978">,</span>&nbsp;<span class="num" id="7807980">8</span><span class="op" id="7807981">)</span><span class="op" id="7807982">}</span><span class="op" id="7807983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7807986">{</span><span class="string" id="7807987">`zx+`</span><span class="op" id="7807992">,</span>&nbsp;<span class="string" id="7807994">&#34;zzx&#34;</span><span class="op" id="7807999">,</span>&nbsp;<span class="ident" id="7808001">build</span><span class="op" id="7808006">(</span><span class="num" id="7808007">1</span><span class="op" id="7808008">,</span>&nbsp;<span class="num" id="7808010">1</span><span class="op" id="7808011">,</span>&nbsp;<span class="num" id="7808013">3</span><span class="op" id="7808014">)</span><span class="op" id="7808015">}</span><span class="op" id="7808016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808019">{</span><span class="string" id="7808020">`ab$`</span><span class="op" id="7808025">,</span>&nbsp;<span class="string" id="7808027">&#34;abcab&#34;</span><span class="op" id="7808034">,</span>&nbsp;<span class="ident" id="7808036">build</span><span class="op" id="7808041">(</span><span class="num" id="7808042">1</span><span class="op" id="7808043">,</span>&nbsp;<span class="num" id="7808045">3</span><span class="op" id="7808046">,</span>&nbsp;<span class="num" id="7808048">5</span><span class="op" id="7808049">)</span><span class="op" id="7808050">}</span><span class="op" id="7808051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808054">{</span><span class="string" id="7808055">`(aa)*$`</span><span class="op" id="7808063">,</span>&nbsp;<span class="string" id="7808065">&#34;a&#34;</span><span class="op" id="7808068">,</span>&nbsp;<span class="ident" id="7808070">build</span><span class="op" id="7808075">(</span><span class="num" id="7808076">1</span><span class="op" id="7808077">,</span>&nbsp;<span class="num" id="7808079">1</span><span class="op" id="7808080">,</span>&nbsp;<span class="num" id="7808082">1</span><span class="op" id="7808083">,</span>&nbsp;<span class="op" id="7808085">-</span><span class="num" id="7808086">1</span><span class="op" id="7808087">,</span>&nbsp;<span class="op" id="7808089">-</span><span class="num" id="7808090">1</span><span class="op" id="7808091">)</span><span class="op" id="7808092">}</span><span class="op" id="7808093">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808096">{</span><span class="string" id="7808097">`(?:.|(?:.a))`</span><span class="op" id="7808111">,</span>&nbsp;<span class="string" id="7808113">&#34;&#34;</span><span class="op" id="7808115">,</span>&nbsp;<span class="builtintype" id="7808117">nil</span><span class="op" id="7808120">}</span><span class="op" id="7808121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808124">{</span><span class="string" id="7808125">`(?:A(?:A|a))`</span><span class="op" id="7808139">,</span>&nbsp;<span class="string" id="7808141">&#34;Aa&#34;</span><span class="op" id="7808145">,</span>&nbsp;<span class="ident" id="7808147">build</span><span class="op" id="7808152">(</span><span class="num" id="7808153">1</span><span class="op" id="7808154">,</span>&nbsp;<span class="num" id="7808156">0</span><span class="op" id="7808157">,</span>&nbsp;<span class="num" id="7808159">2</span><span class="op" id="7808160">)</span><span class="op" id="7808161">}</span><span class="op" id="7808162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808165">{</span><span class="string" id="7808166">`(?:A|(?:A|a))`</span><span class="op" id="7808181">,</span>&nbsp;<span class="string" id="7808183">&#34;a&#34;</span><span class="op" id="7808186">,</span>&nbsp;<span class="ident" id="7808188">build</span><span class="op" id="7808193">(</span><span class="num" id="7808194">1</span><span class="op" id="7808195">,</span>&nbsp;<span class="num" id="7808197">0</span><span class="op" id="7808198">,</span>&nbsp;<span class="num" id="7808200">1</span><span class="op" id="7808201">)</span><span class="op" id="7808202">}</span><span class="op" id="7808203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808206">{</span><span class="string" id="7808207">`(a){0}`</span><span class="op" id="7808215">,</span>&nbsp;<span class="string" id="7808217">&#34;&#34;</span><span class="op" id="7808219">,</span>&nbsp;<span class="ident" id="7808221">build</span><span class="op" id="7808226">(</span><span class="num" id="7808227">1</span><span class="op" id="7808228">,</span>&nbsp;<span class="num" id="7808230">0</span><span class="op" id="7808231">,</span>&nbsp;<span class="num" id="7808233">0</span><span class="op" id="7808234">,</span>&nbsp;<span class="op" id="7808236">-</span><span class="num" id="7808237">1</span><span class="op" id="7808238">,</span>&nbsp;<span class="op" id="7808240">-</span><span class="num" id="7808241">1</span><span class="op" id="7808242">)</span><span class="op" id="7808243">}</span><span class="op" id="7808244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808247">{</span><span class="string" id="7808248">`(?-s)(?:(?:^).)`</span><span class="op" id="7808265">,</span>&nbsp;<span class="string" id="7808267">&#34;\n&#34;</span><span class="op" id="7808271">,</span>&nbsp;<span class="builtintype" id="7808273">nil</span><span class="op" id="7808276">}</span><span class="op" id="7808277">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808280">{</span><span class="string" id="7808281">`(?s)(?:(?:^).)`</span><span class="op" id="7808297">,</span>&nbsp;<span class="string" id="7808299">&#34;\n&#34;</span><span class="op" id="7808303">,</span>&nbsp;<span class="ident" id="7808305">build</span><span class="op" id="7808310">(</span><span class="num" id="7808311">1</span><span class="op" id="7808312">,</span>&nbsp;<span class="num" id="7808314">0</span><span class="op" id="7808315">,</span>&nbsp;<span class="num" id="7808317">1</span><span class="op" id="7808318">)</span><span class="op" id="7808319">}</span><span class="op" id="7808320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808323">{</span><span class="string" id="7808324">`(?:(?:^).)`</span><span class="op" id="7808336">,</span>&nbsp;<span class="string" id="7808338">&#34;\n&#34;</span><span class="op" id="7808342">,</span>&nbsp;<span class="builtintype" id="7808344">nil</span><span class="op" id="7808347">}</span><span class="op" id="7808348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808351">{</span><span class="string" id="7808352">`\b`</span><span class="op" id="7808356">,</span>&nbsp;<span class="string" id="7808358">&#34;x&#34;</span><span class="op" id="7808361">,</span>&nbsp;<span class="ident" id="7808363">build</span><span class="op" id="7808368">(</span><span class="num" id="7808369">2</span><span class="op" id="7808370">,</span>&nbsp;<span class="num" id="7808372">0</span><span class="op" id="7808373">,</span>&nbsp;<span class="num" id="7808375">0</span><span class="op" id="7808376">,</span>&nbsp;<span class="num" id="7808378">1</span><span class="op" id="7808379">,</span>&nbsp;<span class="num" id="7808381">1</span><span class="op" id="7808382">)</span><span class="op" id="7808383">}</span><span class="op" id="7808384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808387">{</span><span class="string" id="7808388">`\b`</span><span class="op" id="7808392">,</span>&nbsp;<span class="string" id="7808394">&#34;xx&#34;</span><span class="op" id="7808398">,</span>&nbsp;<span class="ident" id="7808400">build</span><span class="op" id="7808405">(</span><span class="num" id="7808406">2</span><span class="op" id="7808407">,</span>&nbsp;<span class="num" id="7808409">0</span><span class="op" id="7808410">,</span>&nbsp;<span class="num" id="7808412">0</span><span class="op" id="7808413">,</span>&nbsp;<span class="num" id="7808415">2</span><span class="op" id="7808416">,</span>&nbsp;<span class="num" id="7808418">2</span><span class="op" id="7808419">)</span><span class="op" id="7808420">}</span><span class="op" id="7808421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808424">{</span><span class="string" id="7808425">`\b`</span><span class="op" id="7808429">,</span>&nbsp;<span class="string" id="7808431">&#34;x&nbsp;y&#34;</span><span class="op" id="7808436">,</span>&nbsp;<span class="ident" id="7808438">build</span><span class="op" id="7808443">(</span><span class="num" id="7808444">4</span><span class="op" id="7808445">,</span>&nbsp;<span class="num" id="7808447">0</span><span class="op" id="7808448">,</span>&nbsp;<span class="num" id="7808450">0</span><span class="op" id="7808451">,</span>&nbsp;<span class="num" id="7808453">1</span><span class="op" id="7808454">,</span>&nbsp;<span class="num" id="7808456">1</span><span class="op" id="7808457">,</span>&nbsp;<span class="num" id="7808459">2</span><span class="op" id="7808460">,</span>&nbsp;<span class="num" id="7808462">2</span><span class="op" id="7808463">,</span>&nbsp;<span class="num" id="7808465">3</span><span class="op" id="7808466">,</span>&nbsp;<span class="num" id="7808468">3</span><span class="op" id="7808469">)</span><span class="op" id="7808470">}</span><span class="op" id="7808471">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808474">{</span><span class="string" id="7808475">`\b`</span><span class="op" id="7808479">,</span>&nbsp;<span class="string" id="7808481">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7808488">,</span>&nbsp;<span class="ident" id="7808490">build</span><span class="op" id="7808495">(</span><span class="num" id="7808496">4</span><span class="op" id="7808497">,</span>&nbsp;<span class="num" id="7808499">0</span><span class="op" id="7808500">,</span>&nbsp;<span class="num" id="7808502">0</span><span class="op" id="7808503">,</span>&nbsp;<span class="num" id="7808505">2</span><span class="op" id="7808506">,</span>&nbsp;<span class="num" id="7808508">2</span><span class="op" id="7808509">,</span>&nbsp;<span class="num" id="7808511">3</span><span class="op" id="7808512">,</span>&nbsp;<span class="num" id="7808514">3</span><span class="op" id="7808515">,</span>&nbsp;<span class="num" id="7808517">5</span><span class="op" id="7808518">,</span>&nbsp;<span class="num" id="7808520">5</span><span class="op" id="7808521">)</span><span class="op" id="7808522">}</span><span class="op" id="7808523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808526">{</span><span class="string" id="7808527">`\B`</span><span class="op" id="7808531">,</span>&nbsp;<span class="string" id="7808533">&#34;x&#34;</span><span class="op" id="7808536">,</span>&nbsp;<span class="builtintype" id="7808538">nil</span><span class="op" id="7808541">}</span><span class="op" id="7808542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808545">{</span><span class="string" id="7808546">`\B`</span><span class="op" id="7808550">,</span>&nbsp;<span class="string" id="7808552">&#34;xx&#34;</span><span class="op" id="7808556">,</span>&nbsp;<span class="ident" id="7808558">build</span><span class="op" id="7808563">(</span><span class="num" id="7808564">1</span><span class="op" id="7808565">,</span>&nbsp;<span class="num" id="7808567">1</span><span class="op" id="7808568">,</span>&nbsp;<span class="num" id="7808570">1</span><span class="op" id="7808571">)</span><span class="op" id="7808572">}</span><span class="op" id="7808573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808576">{</span><span class="string" id="7808577">`\B`</span><span class="op" id="7808581">,</span>&nbsp;<span class="string" id="7808583">&#34;x&nbsp;y&#34;</span><span class="op" id="7808588">,</span>&nbsp;<span class="builtintype" id="7808590">nil</span><span class="op" id="7808593">}</span><span class="op" id="7808594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808597">{</span><span class="string" id="7808598">`\B`</span><span class="op" id="7808602">,</span>&nbsp;<span class="string" id="7808604">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7808611">,</span>&nbsp;<span class="ident" id="7808613">build</span><span class="op" id="7808618">(</span><span class="num" id="7808619">2</span><span class="op" id="7808620">,</span>&nbsp;<span class="num" id="7808622">1</span><span class="op" id="7808623">,</span>&nbsp;<span class="num" id="7808625">1</span><span class="op" id="7808626">,</span>&nbsp;<span class="num" id="7808628">4</span><span class="op" id="7808629">,</span>&nbsp;<span class="num" id="7808631">4</span><span class="op" id="7808632">)</span><span class="op" id="7808633">}</span><span class="op" id="7808634">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7808638">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808652">{</span><span class="string" id="7808653">`[^\S\s]`</span><span class="op" id="7808662">,</span>&nbsp;<span class="string" id="7808664">&#34;abcd&#34;</span><span class="op" id="7808670">,</span>&nbsp;<span class="builtintype" id="7808672">nil</span><span class="op" id="7808675">}</span><span class="op" id="7808676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808679">{</span><span class="string" id="7808680">`[^\S[:space:]]`</span><span class="op" id="7808696">,</span>&nbsp;<span class="string" id="7808698">&#34;abcd&#34;</span><span class="op" id="7808704">,</span>&nbsp;<span class="builtintype" id="7808706">nil</span><span class="op" id="7808709">}</span><span class="op" id="7808710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808713">{</span><span class="string" id="7808714">`[^\D\d]`</span><span class="op" id="7808723">,</span>&nbsp;<span class="string" id="7808725">&#34;abcd&#34;</span><span class="op" id="7808731">,</span>&nbsp;<span class="builtintype" id="7808733">nil</span><span class="op" id="7808736">}</span><span class="op" id="7808737">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808740">{</span><span class="string" id="7808741">`[^\D[:digit:]]`</span><span class="op" id="7808757">,</span>&nbsp;<span class="string" id="7808759">&#34;abcd&#34;</span><span class="op" id="7808765">,</span>&nbsp;<span class="builtintype" id="7808767">nil</span><span class="op" id="7808770">}</span><span class="op" id="7808771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808774">{</span><span class="string" id="7808775">`(?i)\W`</span><span class="op" id="7808783">,</span>&nbsp;<span class="string" id="7808785">&#34;x&#34;</span><span class="op" id="7808788">,</span>&nbsp;<span class="builtintype" id="7808790">nil</span><span class="op" id="7808793">}</span><span class="op" id="7808794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808797">{</span><span class="string" id="7808798">`(?i)\W`</span><span class="op" id="7808806">,</span>&nbsp;<span class="string" id="7808808">&#34;k&#34;</span><span class="op" id="7808811">,</span>&nbsp;<span class="builtintype" id="7808813">nil</span><span class="op" id="7808816">}</span><span class="op" id="7808817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808820">{</span><span class="string" id="7808821">`(?i)\W`</span><span class="op" id="7808829">,</span>&nbsp;<span class="string" id="7808831">&#34;s&#34;</span><span class="op" id="7808834">,</span>&nbsp;<span class="builtintype" id="7808836">nil</span><span class="op" id="7808839">}</span><span class="op" id="7808840">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7808844">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7808885">{</span><span class="string" id="7808886">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="7808950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7808954">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7808987">,</span>&nbsp;<span class="ident" id="7808989">build</span><span class="op" id="7808994">(</span><span class="num" id="7808995">1</span><span class="op" id="7808996">,</span>&nbsp;<span class="num" id="7808998">0</span><span class="op" id="7808999">,</span>&nbsp;<span class="num" id="7809001">31</span><span class="op" id="7809003">)</span><span class="op" id="7809004">}</span><span class="op" id="7809005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7809008">{</span><span class="string" id="7809009">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="7809076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7809080">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7809113">,</span>&nbsp;<span class="ident" id="7809115">build</span><span class="op" id="7809120">(</span><span class="num" id="7809121">1</span><span class="op" id="7809122">,</span>&nbsp;<span class="num" id="7809124">0</span><span class="op" id="7809125">,</span>&nbsp;<span class="num" id="7809127">31</span><span class="op" id="7809129">)</span><span class="op" id="7809130">}</span><span class="op" id="7809131">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7809134">{</span><span class="string" id="7809135">&#34;\\`&#34;</span><span class="op" id="7809140">,</span>&nbsp;<span class="string" id="7809142">&#34;`&#34;</span><span class="op" id="7809145">,</span>&nbsp;<span class="ident" id="7809147">build</span><span class="op" id="7809152">(</span><span class="num" id="7809153">1</span><span class="op" id="7809154">,</span>&nbsp;<span class="num" id="7809156">0</span><span class="op" id="7809157">,</span>&nbsp;<span class="num" id="7809159">1</span><span class="op" id="7809160">)</span><span class="op" id="7809161">}</span><span class="op" id="7809162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7809165">{</span><span class="string" id="7809166">&#34;[\\`]+&#34;</span><span class="op" id="7809174">,</span>&nbsp;<span class="string" id="7809176">&#34;`&#34;</span><span class="op" id="7809179">,</span>&nbsp;<span class="ident" id="7809181">build</span><span class="op" id="7809186">(</span><span class="num" id="7809187">1</span><span class="op" id="7809188">,</span>&nbsp;<span class="num" id="7809190">0</span><span class="op" id="7809191">,</span>&nbsp;<span class="num" id="7809193">1</span><span class="op" id="7809194">)</span><span class="op" id="7809195">}</span><span class="op" id="7809196">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7809200">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7809248">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7809252">&#34;.&#34;</span><span class="op" id="7809255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7809259">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="7809297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7809301">build</span><span class="op" id="7809306">(</span><span class="num" id="7809307">36</span><span class="op" id="7809309">,</span>&nbsp;<span class="num" id="7809311">0</span><span class="op" id="7809312">,</span>&nbsp;<span class="num" id="7809314">1</span><span class="op" id="7809315">,</span>&nbsp;<span class="num" id="7809317">1</span><span class="op" id="7809318">,</span>&nbsp;<span class="num" id="7809320">2</span><span class="op" id="7809321">,</span>&nbsp;<span class="num" id="7809323">2</span><span class="op" id="7809324">,</span>&nbsp;<span class="num" id="7809326">3</span><span class="op" id="7809327">,</span>&nbsp;<span class="num" id="7809329">3</span><span class="op" id="7809330">,</span>&nbsp;<span class="num" id="7809332">4</span><span class="op" id="7809333">,</span>&nbsp;<span class="num" id="7809335">4</span><span class="op" id="7809336">,</span>&nbsp;<span class="num" id="7809338">5</span><span class="op" id="7809339">,</span>&nbsp;<span class="num" id="7809341">5</span><span class="op" id="7809342">,</span>&nbsp;<span class="num" id="7809344">6</span><span class="op" id="7809345">,</span>&nbsp;<span class="num" id="7809347">6</span><span class="op" id="7809348">,</span>&nbsp;<span class="num" id="7809350">7</span><span class="op" id="7809351">,</span>&nbsp;<span class="num" id="7809353">7</span><span class="op" id="7809354">,</span>&nbsp;<span class="num" id="7809356">8</span><span class="op" id="7809357">,</span>&nbsp;<span class="num" id="7809359">8</span><span class="op" id="7809360">,</span>&nbsp;<span class="num" id="7809362">9</span><span class="op" id="7809363">,</span>&nbsp;<span class="num" id="7809365">9</span><span class="op" id="7809366">,</span>&nbsp;<span class="num" id="7809368">10</span><span class="op" id="7809370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7809375">10</span><span class="op" id="7809377">,</span>&nbsp;<span class="num" id="7809379">11</span><span class="op" id="7809381">,</span>&nbsp;<span class="num" id="7809383">11</span><span class="op" id="7809385">,</span>&nbsp;<span class="num" id="7809387">12</span><span class="op" id="7809389">,</span>&nbsp;<span class="num" id="7809391">12</span><span class="op" id="7809393">,</span>&nbsp;<span class="num" id="7809395">13</span><span class="op" id="7809397">,</span>&nbsp;<span class="num" id="7809399">13</span><span class="op" id="7809401">,</span>&nbsp;<span class="num" id="7809403">14</span><span class="op" id="7809405">,</span>&nbsp;<span class="num" id="7809407">14</span><span class="op" id="7809409">,</span>&nbsp;<span class="num" id="7809411">15</span><span class="op" id="7809413">,</span>&nbsp;<span class="num" id="7809415">15</span><span class="op" id="7809417">,</span>&nbsp;<span class="num" id="7809419">16</span><span class="op" id="7809421">,</span>&nbsp;<span class="num" id="7809423">16</span><span class="op" id="7809425">,</span>&nbsp;<span class="num" id="7809427">17</span><span class="op" id="7809429">,</span>&nbsp;<span class="num" id="7809431">17</span><span class="op" id="7809433">,</span>&nbsp;<span class="num" id="7809435">18</span><span class="op" id="7809437">,</span>&nbsp;<span class="num" id="7809439">18</span><span class="op" id="7809441">,</span>&nbsp;<span class="num" id="7809443">19</span><span class="op" id="7809445">,</span>&nbsp;<span class="num" id="7809447">19</span><span class="op" id="7809449">,</span>&nbsp;<span class="num" id="7809451">20</span><span class="op" id="7809453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7809458">20</span><span class="op" id="7809460">,</span>&nbsp;<span class="num" id="7809462">21</span><span class="op" id="7809464">,</span>&nbsp;<span class="num" id="7809466">21</span><span class="op" id="7809468">,</span>&nbsp;<span class="num" id="7809470">22</span><span class="op" id="7809472">,</span>&nbsp;<span class="num" id="7809474">22</span><span class="op" id="7809476">,</span>&nbsp;<span class="num" id="7809478">23</span><span class="op" id="7809480">,</span>&nbsp;<span class="num" id="7809482">23</span><span class="op" id="7809484">,</span>&nbsp;<span class="num" id="7809486">24</span><span class="op" id="7809488">,</span>&nbsp;<span class="num" id="7809490">24</span><span class="op" id="7809492">,</span>&nbsp;<span class="num" id="7809494">25</span><span class="op" id="7809496">,</span>&nbsp;<span class="num" id="7809498">25</span><span class="op" id="7809500">,</span>&nbsp;<span class="num" id="7809502">26</span><span class="op" id="7809504">,</span>&nbsp;<span class="num" id="7809506">26</span><span class="op" id="7809508">,</span>&nbsp;<span class="num" id="7809510">27</span><span class="op" id="7809512">,</span>&nbsp;<span class="num" id="7809514">27</span><span class="op" id="7809516">,</span>&nbsp;<span class="num" id="7809518">28</span><span class="op" id="7809520">,</span>&nbsp;<span class="num" id="7809522">28</span><span class="op" id="7809524">,</span>&nbsp;<span class="num" id="7809526">29</span><span class="op" id="7809528">,</span>&nbsp;<span class="num" id="7809530">29</span><span class="op" id="7809532">,</span>&nbsp;<span class="num" id="7809534">30</span><span class="op" id="7809536">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7809541">30</span><span class="op" id="7809543">,</span>&nbsp;<span class="num" id="7809545">31</span><span class="op" id="7809547">,</span>&nbsp;<span class="num" id="7809549">31</span><span class="op" id="7809551">,</span>&nbsp;<span class="num" id="7809553">32</span><span class="op" id="7809555">,</span>&nbsp;<span class="num" id="7809557">32</span><span class="op" id="7809559">,</span>&nbsp;<span class="num" id="7809561">33</span><span class="op" id="7809563">,</span>&nbsp;<span class="num" id="7809565">33</span><span class="op" id="7809567">,</span>&nbsp;<span class="num" id="7809569">34</span><span class="op" id="7809571">,</span>&nbsp;<span class="num" id="7809573">34</span><span class="op" id="7809575">,</span>&nbsp;<span class="num" id="7809577">35</span><span class="op" id="7809579">,</span>&nbsp;<span class="num" id="7809581">35</span><span class="op" id="7809583">,</span>&nbsp;<span class="num" id="7809585">36</span><span class="op" id="7809587">)</span><span class="op" id="7809588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7809591">}</span><span class="op" id="7809592">,</span><br>
<span class="lineno"></span><span class="op" id="7809594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7809597">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="7809675">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="7809735">func</span>&nbsp;<span class="ident" id="7809740">build</span><span class="op" id="7809745">(</span><span class="ident" id="7809746">n</span>&nbsp;<span class="builtintype" id="7809748">int</span><span class="op" id="7809751">,</span>&nbsp;<span class="ident" id="7809753">x</span>&nbsp;<span class="op" id="7809755">...</span><span class="builtintype" id="7809758">int</span><span class="op" id="7809761">)</span>&nbsp;<span class="op" id="7809763">[</span><span class="op" id="7809764">]</span><span class="op" id="7809765">[</span><span class="op" id="7809766">]</span><span class="builtintype" id="7809767">int</span>&nbsp;<span class="op" id="7809771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7809774">ret</span>&nbsp;<span class="op" id="7809778">:=</span>&nbsp;<span class="builtinfunc" id="7809781">make</span><span class="op" id="7809785">(</span><span class="op" id="7809786">[</span><span class="op" id="7809787">]</span><span class="op" id="7809788">[</span><span class="op" id="7809789">]</span><span class="builtintype" id="7809790">int</span><span class="op" id="7809793">,</span>&nbsp;<span class="ident" id="7809795">n</span><span class="op" id="7809796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7809799">runLength</span>&nbsp;<span class="op" id="7809809">:=</span>&nbsp;<span class="builtinfunc" id="7809812">len</span><span class="op" id="7809815">(</span><span class="ident" id="7809816">x</span><span class="op" id="7809817">)</span>&nbsp;<span class="op" id="7809819">/</span>&nbsp;<span class="ident" id="7809821">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7809824">j</span>&nbsp;<span class="op" id="7809826">:=</span>&nbsp;<span class="num" id="7809829">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7809832">for</span>&nbsp;<span class="ident" id="7809836">i</span>&nbsp;<span class="op" id="7809838">:=</span>&nbsp;<span class="keyword" id="7809841">range</span>&nbsp;<span class="ident" id="7809847">ret</span>&nbsp;<span class="op" id="7809851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7809855">ret</span><span class="op" id="7809858">[</span><span class="ident" id="7809859">i</span><span class="op" id="7809860">]</span>&nbsp;<span class="op" id="7809862">=</span>&nbsp;<span class="builtinfunc" id="7809864">make</span><span class="op" id="7809868">(</span><span class="op" id="7809869">[</span><span class="op" id="7809870">]</span><span class="builtintype" id="7809871">int</span><span class="op" id="7809874">,</span>&nbsp;<span class="ident" id="7809876">runLength</span><span class="op" id="7809885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7809889">copy</span><span class="op" id="7809893">(</span><span class="ident" id="7809894">ret</span><span class="op" id="7809897">[</span><span class="ident" id="7809898">i</span><span class="op" id="7809899">]</span><span class="op" id="7809900">,</span>&nbsp;<span class="ident" id="7809902">x</span><span class="op" id="7809903">[</span><span class="ident" id="7809904">j</span><span class="op" id="7809905">:</span><span class="op" id="7809906">]</span><span class="op" id="7809907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7809911">j</span>&nbsp;<span class="op" id="7809913">+=</span>&nbsp;<span class="ident" id="7809916">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7809928">if</span>&nbsp;<span class="ident" id="7809931">j</span>&nbsp;<span class="op" id="7809933">&gt;</span>&nbsp;<span class="builtinfunc" id="7809935">len</span><span class="op" id="7809938">(</span><span class="ident" id="7809939">x</span><span class="op" id="7809940">)</span>&nbsp;<span class="op" id="7809942">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7809947">panic</span><span class="op" id="7809952">(</span><span class="string" id="7809953">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="7809974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7809978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7809981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7809984">return</span>&nbsp;<span class="ident" id="7809991">ret</span><br>
<span class="lineno"></span><span class="op" id="7809995">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="7809998">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7810026">func</span>&nbsp;<span class="ident" id="7810031">TestFind</span><span class="op" id="7810039">(</span><span class="ident" id="7810040">t</span>&nbsp;<span class="op" id="7810042">*</span><span class="ident" id="7810043">testing</span><span class="op" id="7810050">.</span><span class="ident" id="7810051">T</span><span class="op" id="7810052">)</span>&nbsp;<span class="op" id="7810054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810057">for</span>&nbsp;<span class="ident" id="7810061">_</span><span class="op" id="7810062">,</span>&nbsp;<span class="ident" id="7810064">test</span>&nbsp;<span class="op" id="7810069">:=</span>&nbsp;<span class="keyword" id="7810072">range</span>&nbsp;<span class="ident" id="7810078">findTests</span>&nbsp;<span class="op" id="7810088">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810092">re</span>&nbsp;<span class="op" id="7810095">:=</span>&nbsp;<span class="ident" id="7810098">MustCompile</span><span class="op" id="7810109">(</span><span class="ident" id="7810110">test</span><span class="op" id="7810114">.</span><span class="ident" id="7810115">pat</span><span class="op" id="7810118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810122">if</span>&nbsp;<span class="ident" id="7810125">re</span><span class="op" id="7810127">.</span><span class="ident" id="7810128">String</span><span class="op" id="7810134">(</span><span class="op" id="7810135">)</span>&nbsp;<span class="op" id="7810137">!=</span>&nbsp;<span class="ident" id="7810140">test</span><span class="op" id="7810144">.</span><span class="ident" id="7810145">pat</span>&nbsp;<span class="op" id="7810149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810154">t</span><span class="op" id="7810155">.</span><span class="ident" id="7810156">Errorf</span><span class="op" id="7810162">(</span><span class="string" id="7810163">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="7810196">,</span>&nbsp;<span class="ident" id="7810198">re</span><span class="op" id="7810200">.</span><span class="ident" id="7810201">String</span><span class="op" id="7810207">(</span><span class="op" id="7810208">)</span><span class="op" id="7810209">,</span>&nbsp;<span class="ident" id="7810211">test</span><span class="op" id="7810215">.</span><span class="ident" id="7810216">pat</span><span class="op" id="7810219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7810223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810227">result</span>&nbsp;<span class="op" id="7810234">:=</span>&nbsp;<span class="ident" id="7810237">re</span><span class="op" id="7810239">.</span><span class="ident" id="7810240">Find</span><span class="op" id="7810244">(</span><span class="op" id="7810245">[</span><span class="op" id="7810246">]</span><span class="builtintype" id="7810247">byte</span><span class="op" id="7810251">(</span><span class="ident" id="7810252">test</span><span class="op" id="7810256">.</span><span class="ident" id="7810257">text</span><span class="op" id="7810261">)</span><span class="op" id="7810262">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810266">switch</span>&nbsp;<span class="op" id="7810273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810277">case</span>&nbsp;<span class="builtinfunc" id="7810282">len</span><span class="op" id="7810285">(</span><span class="ident" id="7810286">test</span><span class="op" id="7810290">.</span><span class="ident" id="7810291">matches</span><span class="op" id="7810298">)</span>&nbsp;<span class="op" id="7810300">==</span>&nbsp;<span class="num" id="7810303">0</span>&nbsp;<span class="op" id="7810305">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7810308">len</span><span class="op" id="7810311">(</span><span class="ident" id="7810312">result</span><span class="op" id="7810318">)</span>&nbsp;<span class="op" id="7810320">==</span>&nbsp;<span class="num" id="7810323">0</span><span class="op" id="7810324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7810329">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810337">case</span>&nbsp;<span class="ident" id="7810342">test</span><span class="op" id="7810346">.</span><span class="ident" id="7810347">matches</span>&nbsp;<span class="op" id="7810355">==</span>&nbsp;<span class="builtintype" id="7810358">nil</span>&nbsp;<span class="op" id="7810362">&amp;&amp;</span>&nbsp;<span class="ident" id="7810365">result</span>&nbsp;<span class="op" id="7810372">!=</span>&nbsp;<span class="builtintype" id="7810375">nil</span><span class="op" id="7810378">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810383">t</span><span class="op" id="7810384">.</span><span class="ident" id="7810385">Errorf</span><span class="op" id="7810391">(</span><span class="string" id="7810392">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7810424">,</span>&nbsp;<span class="ident" id="7810426">test</span><span class="op" id="7810430">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810434">case</span>&nbsp;<span class="ident" id="7810439">test</span><span class="op" id="7810443">.</span><span class="ident" id="7810444">matches</span>&nbsp;<span class="op" id="7810452">!=</span>&nbsp;<span class="builtintype" id="7810455">nil</span>&nbsp;<span class="op" id="7810459">&amp;&amp;</span>&nbsp;<span class="ident" id="7810462">result</span>&nbsp;<span class="op" id="7810469">==</span>&nbsp;<span class="builtintype" id="7810472">nil</span><span class="op" id="7810475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810480">t</span><span class="op" id="7810481">.</span><span class="ident" id="7810482">Errorf</span><span class="op" id="7810488">(</span><span class="string" id="7810489">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7810519">,</span>&nbsp;<span class="ident" id="7810521">test</span><span class="op" id="7810525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810529">case</span>&nbsp;<span class="ident" id="7810534">test</span><span class="op" id="7810538">.</span><span class="ident" id="7810539">matches</span>&nbsp;<span class="op" id="7810547">!=</span>&nbsp;<span class="builtintype" id="7810550">nil</span>&nbsp;<span class="op" id="7810554">&amp;&amp;</span>&nbsp;<span class="ident" id="7810557">result</span>&nbsp;<span class="op" id="7810564">!=</span>&nbsp;<span class="builtintype" id="7810567">nil</span><span class="op" id="7810570">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810575">expect</span>&nbsp;<span class="op" id="7810582">:=</span>&nbsp;<span class="ident" id="7810585">test</span><span class="op" id="7810589">.</span><span class="ident" id="7810590">text</span><span class="op" id="7810594">[</span><span class="ident" id="7810595">test</span><span class="op" id="7810599">.</span><span class="ident" id="7810600">matches</span><span class="op" id="7810607">[</span><span class="num" id="7810608">0</span><span class="op" id="7810609">]</span><span class="op" id="7810610">[</span><span class="num" id="7810611">0</span><span class="op" id="7810612">]</span><span class="op" id="7810613">:</span><span class="ident" id="7810614">test</span><span class="op" id="7810618">.</span><span class="ident" id="7810619">matches</span><span class="op" id="7810626">[</span><span class="num" id="7810627">0</span><span class="op" id="7810628">]</span><span class="op" id="7810629">[</span><span class="num" id="7810630">1</span><span class="op" id="7810631">]</span><span class="op" id="7810632">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810637">if</span>&nbsp;<span class="ident" id="7810640">expect</span>&nbsp;<span class="op" id="7810647">!=</span>&nbsp;<span class="builtintype" id="7810650">string</span><span class="op" id="7810656">(</span><span class="ident" id="7810657">result</span><span class="op" id="7810663">)</span>&nbsp;<span class="op" id="7810665">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810671">t</span><span class="op" id="7810672">.</span><span class="ident" id="7810673">Errorf</span><span class="op" id="7810679">(</span><span class="string" id="7810680">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7810704">,</span>&nbsp;<span class="ident" id="7810706">expect</span><span class="op" id="7810712">,</span>&nbsp;<span class="ident" id="7810714">result</span><span class="op" id="7810720">,</span>&nbsp;<span class="ident" id="7810722">test</span><span class="op" id="7810726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7810731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7810735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7810738">}</span><br>
<span class="lineno"></span><span class="op" id="7810740">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7810743">func</span>&nbsp;<span class="ident" id="7810748">TestFindString</span><span class="op" id="7810762">(</span><span class="ident" id="7810763">t</span>&nbsp;<span class="op" id="7810765">*</span><span class="ident" id="7810766">testing</span><span class="op" id="7810773">.</span><span class="ident" id="7810774">T</span><span class="op" id="7810775">)</span>&nbsp;<span class="op" id="7810777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810780">for</span>&nbsp;<span class="ident" id="7810784">_</span><span class="op" id="7810785">,</span>&nbsp;<span class="ident" id="7810787">test</span>&nbsp;<span class="op" id="7810792">:=</span>&nbsp;<span class="keyword" id="7810795">range</span>&nbsp;<span class="ident" id="7810801">findTests</span>&nbsp;<span class="op" id="7810811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810815">result</span>&nbsp;<span class="op" id="7810822">:=</span>&nbsp;<span class="ident" id="7810825">MustCompile</span><span class="op" id="7810836">(</span><span class="ident" id="7810837">test</span><span class="op" id="7810841">.</span><span class="ident" id="7810842">pat</span><span class="op" id="7810845">)</span><span class="op" id="7810846">.</span><span class="ident" id="7810847">FindString</span><span class="op" id="7810857">(</span><span class="ident" id="7810858">test</span><span class="op" id="7810862">.</span><span class="ident" id="7810863">text</span><span class="op" id="7810867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810871">switch</span>&nbsp;<span class="op" id="7810878">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810882">case</span>&nbsp;<span class="builtinfunc" id="7810887">len</span><span class="op" id="7810890">(</span><span class="ident" id="7810891">test</span><span class="op" id="7810895">.</span><span class="ident" id="7810896">matches</span><span class="op" id="7810903">)</span>&nbsp;<span class="op" id="7810905">==</span>&nbsp;<span class="num" id="7810908">0</span>&nbsp;<span class="op" id="7810910">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7810913">len</span><span class="op" id="7810916">(</span><span class="ident" id="7810917">result</span><span class="op" id="7810923">)</span>&nbsp;<span class="op" id="7810925">==</span>&nbsp;<span class="num" id="7810928">0</span><span class="op" id="7810929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7810934">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7810942">case</span>&nbsp;<span class="ident" id="7810947">test</span><span class="op" id="7810951">.</span><span class="ident" id="7810952">matches</span>&nbsp;<span class="op" id="7810960">==</span>&nbsp;<span class="builtintype" id="7810963">nil</span>&nbsp;<span class="op" id="7810967">&amp;&amp;</span>&nbsp;<span class="ident" id="7810970">result</span>&nbsp;<span class="op" id="7810977">!=</span>&nbsp;<span class="string" id="7810980">&#34;&#34;</span><span class="op" id="7810982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7810987">t</span><span class="op" id="7810988">.</span><span class="ident" id="7810989">Errorf</span><span class="op" id="7810995">(</span><span class="string" id="7810996">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7811028">,</span>&nbsp;<span class="ident" id="7811030">test</span><span class="op" id="7811034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811038">case</span>&nbsp;<span class="ident" id="7811043">test</span><span class="op" id="7811047">.</span><span class="ident" id="7811048">matches</span>&nbsp;<span class="op" id="7811056">!=</span>&nbsp;<span class="builtintype" id="7811059">nil</span>&nbsp;<span class="op" id="7811063">&amp;&amp;</span>&nbsp;<span class="ident" id="7811066">result</span>&nbsp;<span class="op" id="7811073">==</span>&nbsp;<span class="string" id="7811076">&#34;&#34;</span><span class="op" id="7811078">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7811083">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811163">if</span>&nbsp;<span class="ident" id="7811166">test</span><span class="op" id="7811170">.</span><span class="ident" id="7811171">matches</span><span class="op" id="7811178">[</span><span class="num" id="7811179">0</span><span class="op" id="7811180">]</span><span class="op" id="7811181">[</span><span class="num" id="7811182">0</span><span class="op" id="7811183">]</span>&nbsp;<span class="op" id="7811185">!=</span>&nbsp;<span class="ident" id="7811188">test</span><span class="op" id="7811192">.</span><span class="ident" id="7811193">matches</span><span class="op" id="7811200">[</span><span class="num" id="7811201">0</span><span class="op" id="7811202">]</span><span class="op" id="7811203">[</span><span class="num" id="7811204">1</span><span class="op" id="7811205">]</span>&nbsp;<span class="op" id="7811207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7811213">t</span><span class="op" id="7811214">.</span><span class="ident" id="7811215">Errorf</span><span class="op" id="7811221">(</span><span class="string" id="7811222">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7811252">,</span>&nbsp;<span class="ident" id="7811254">test</span><span class="op" id="7811258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7811263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811267">case</span>&nbsp;<span class="ident" id="7811272">test</span><span class="op" id="7811276">.</span><span class="ident" id="7811277">matches</span>&nbsp;<span class="op" id="7811285">!=</span>&nbsp;<span class="builtintype" id="7811288">nil</span>&nbsp;<span class="op" id="7811292">&amp;&amp;</span>&nbsp;<span class="ident" id="7811295">result</span>&nbsp;<span class="op" id="7811302">!=</span>&nbsp;<span class="string" id="7811305">&#34;&#34;</span><span class="op" id="7811307">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7811312">expect</span>&nbsp;<span class="op" id="7811319">:=</span>&nbsp;<span class="ident" id="7811322">test</span><span class="op" id="7811326">.</span><span class="ident" id="7811327">text</span><span class="op" id="7811331">[</span><span class="ident" id="7811332">test</span><span class="op" id="7811336">.</span><span class="ident" id="7811337">matches</span><span class="op" id="7811344">[</span><span class="num" id="7811345">0</span><span class="op" id="7811346">]</span><span class="op" id="7811347">[</span><span class="num" id="7811348">0</span><span class="op" id="7811349">]</span><span class="op" id="7811350">:</span><span class="ident" id="7811351">test</span><span class="op" id="7811355">.</span><span class="ident" id="7811356">matches</span><span class="op" id="7811363">[</span><span class="num" id="7811364">0</span><span class="op" id="7811365">]</span><span class="op" id="7811366">[</span><span class="num" id="7811367">1</span><span class="op" id="7811368">]</span><span class="op" id="7811369">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811374">if</span>&nbsp;<span class="ident" id="7811377">expect</span>&nbsp;<span class="op" id="7811384">!=</span>&nbsp;<span class="ident" id="7811387">result</span>&nbsp;<span class="op" id="7811394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7811400">t</span><span class="op" id="7811401">.</span><span class="ident" id="7811402">Errorf</span><span class="op" id="7811408">(</span><span class="string" id="7811409">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7811433">,</span>&nbsp;<span class="ident" id="7811435">expect</span><span class="op" id="7811441">,</span>&nbsp;<span class="ident" id="7811443">result</span><span class="op" id="7811449">,</span>&nbsp;<span class="ident" id="7811451">test</span><span class="op" id="7811455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7811460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7811464">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7811467">}</span><br>
<span class="lineno"></span><span class="op" id="7811469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7811472">func</span>&nbsp;<span class="ident" id="7811477">testFindIndex</span><span class="op" id="7811490">(</span><span class="ident" id="7811491">test</span>&nbsp;<span class="op" id="7811496">*</span><span class="ident" id="7811497">FindTest</span><span class="op" id="7811505">,</span>&nbsp;<span class="ident" id="7811507">result</span>&nbsp;<span class="op" id="7811514">[</span><span class="op" id="7811515">]</span><span class="builtintype" id="7811516">int</span><span class="op" id="7811519">,</span>&nbsp;<span class="ident" id="7811521">t</span>&nbsp;<span class="op" id="7811523">*</span><span class="ident" id="7811524">testing</span><span class="op" id="7811531">.</span><span class="ident" id="7811532">T</span><span class="op" id="7811533">)</span>&nbsp;<span class="op" id="7811535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811538">switch</span>&nbsp;<span class="op" id="7811545">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811548">case</span>&nbsp;<span class="builtinfunc" id="7811553">len</span><span class="op" id="7811556">(</span><span class="ident" id="7811557">test</span><span class="op" id="7811561">.</span><span class="ident" id="7811562">matches</span><span class="op" id="7811569">)</span>&nbsp;<span class="op" id="7811571">==</span>&nbsp;<span class="num" id="7811574">0</span>&nbsp;<span class="op" id="7811576">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7811579">len</span><span class="op" id="7811582">(</span><span class="ident" id="7811583">result</span><span class="op" id="7811589">)</span>&nbsp;<span class="op" id="7811591">==</span>&nbsp;<span class="num" id="7811594">0</span><span class="op" id="7811595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7811599">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811606">case</span>&nbsp;<span class="ident" id="7811611">test</span><span class="op" id="7811615">.</span><span class="ident" id="7811616">matches</span>&nbsp;<span class="op" id="7811624">==</span>&nbsp;<span class="builtintype" id="7811627">nil</span>&nbsp;<span class="op" id="7811631">&amp;&amp;</span>&nbsp;<span class="ident" id="7811634">result</span>&nbsp;<span class="op" id="7811641">!=</span>&nbsp;<span class="builtintype" id="7811644">nil</span><span class="op" id="7811647">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7811651">t</span><span class="op" id="7811652">.</span><span class="ident" id="7811653">Errorf</span><span class="op" id="7811659">(</span><span class="string" id="7811660">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7811692">,</span>&nbsp;<span class="ident" id="7811694">test</span><span class="op" id="7811698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811701">case</span>&nbsp;<span class="ident" id="7811706">test</span><span class="op" id="7811710">.</span><span class="ident" id="7811711">matches</span>&nbsp;<span class="op" id="7811719">!=</span>&nbsp;<span class="builtintype" id="7811722">nil</span>&nbsp;<span class="op" id="7811726">&amp;&amp;</span>&nbsp;<span class="ident" id="7811729">result</span>&nbsp;<span class="op" id="7811736">==</span>&nbsp;<span class="builtintype" id="7811739">nil</span><span class="op" id="7811742">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7811746">t</span><span class="op" id="7811747">.</span><span class="ident" id="7811748">Errorf</span><span class="op" id="7811754">(</span><span class="string" id="7811755">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7811785">,</span>&nbsp;<span class="ident" id="7811787">test</span><span class="op" id="7811791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811794">case</span>&nbsp;<span class="ident" id="7811799">test</span><span class="op" id="7811803">.</span><span class="ident" id="7811804">matches</span>&nbsp;<span class="op" id="7811812">!=</span>&nbsp;<span class="builtintype" id="7811815">nil</span>&nbsp;<span class="op" id="7811819">&amp;&amp;</span>&nbsp;<span class="ident" id="7811822">result</span>&nbsp;<span class="op" id="7811829">!=</span>&nbsp;<span class="builtintype" id="7811832">nil</span><span class="op" id="7811835">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7811839">expect</span>&nbsp;<span class="op" id="7811846">:=</span>&nbsp;<span class="ident" id="7811849">test</span><span class="op" id="7811853">.</span><span class="ident" id="7811854">matches</span><span class="op" id="7811861">[</span><span class="num" id="7811862">0</span><span class="op" id="7811863">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7811867">if</span>&nbsp;<span class="ident" id="7811870">expect</span><span class="op" id="7811876">[</span><span class="num" id="7811877">0</span><span class="op" id="7811878">]</span>&nbsp;<span class="op" id="7811880">!=</span>&nbsp;<span class="ident" id="7811883">result</span><span class="op" id="7811889">[</span><span class="num" id="7811890">0</span><span class="op" id="7811891">]</span>&nbsp;<span class="op" id="7811893">||</span>&nbsp;<span class="ident" id="7811896">expect</span><span class="op" id="7811902">[</span><span class="num" id="7811903">1</span><span class="op" id="7811904">]</span>&nbsp;<span class="op" id="7811906">!=</span>&nbsp;<span class="ident" id="7811909">result</span><span class="op" id="7811915">[</span><span class="num" id="7811916">1</span><span class="op" id="7811917">]</span>&nbsp;<span class="op" id="7811919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7811924">t</span><span class="op" id="7811925">.</span><span class="ident" id="7811926">Errorf</span><span class="op" id="7811932">(</span><span class="string" id="7811933">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7811957">,</span>&nbsp;<span class="ident" id="7811959">expect</span><span class="op" id="7811965">,</span>&nbsp;<span class="ident" id="7811967">result</span><span class="op" id="7811973">,</span>&nbsp;<span class="ident" id="7811975">test</span><span class="op" id="7811979">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7811983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7811986">}</span><br>
<span class="lineno"></span><span class="op" id="7811988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7811991">func</span>&nbsp;<span class="ident" id="7811996">TestFindIndex</span><span class="op" id="7812009">(</span><span class="ident" id="7812010">t</span>&nbsp;<span class="op" id="7812012">*</span><span class="ident" id="7812013">testing</span><span class="op" id="7812020">.</span><span class="ident" id="7812021">T</span><span class="op" id="7812022">)</span>&nbsp;<span class="op" id="7812024">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812027">for</span>&nbsp;<span class="ident" id="7812031">_</span><span class="op" id="7812032">,</span>&nbsp;<span class="ident" id="7812034">test</span>&nbsp;<span class="op" id="7812039">:=</span>&nbsp;<span class="keyword" id="7812042">range</span>&nbsp;<span class="ident" id="7812048">findTests</span>&nbsp;<span class="op" id="7812058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7812062">testFindIndex</span><span class="op" id="7812075">(</span><span class="op" id="7812076">&amp;</span><span class="ident" id="7812077">test</span><span class="op" id="7812081">,</span>&nbsp;<span class="ident" id="7812083">MustCompile</span><span class="op" id="7812094">(</span><span class="ident" id="7812095">test</span><span class="op" id="7812099">.</span><span class="ident" id="7812100">pat</span><span class="op" id="7812103">)</span><span class="op" id="7812104">.</span><span class="ident" id="7812105">FindIndex</span><span class="op" id="7812114">(</span><span class="op" id="7812115">[</span><span class="op" id="7812116">]</span><span class="builtintype" id="7812117">byte</span><span class="op" id="7812121">(</span><span class="ident" id="7812122">test</span><span class="op" id="7812126">.</span><span class="ident" id="7812127">text</span><span class="op" id="7812131">)</span><span class="op" id="7812132">)</span><span class="op" id="7812133">,</span>&nbsp;<span class="ident" id="7812135">t</span><span class="op" id="7812136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7812139">}</span><br>
<span class="lineno"></span><span class="op" id="7812141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7812144">func</span>&nbsp;<span class="ident" id="7812149">TestFindStringIndex</span><span class="op" id="7812168">(</span><span class="ident" id="7812169">t</span>&nbsp;<span class="op" id="7812171">*</span><span class="ident" id="7812172">testing</span><span class="op" id="7812179">.</span><span class="ident" id="7812180">T</span><span class="op" id="7812181">)</span>&nbsp;<span class="op" id="7812183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812186">for</span>&nbsp;<span class="ident" id="7812190">_</span><span class="op" id="7812191">,</span>&nbsp;<span class="ident" id="7812193">test</span>&nbsp;<span class="op" id="7812198">:=</span>&nbsp;<span class="keyword" id="7812201">range</span>&nbsp;<span class="ident" id="7812207">findTests</span>&nbsp;<span class="op" id="7812217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7812221">testFindIndex</span><span class="op" id="7812234">(</span><span class="op" id="7812235">&amp;</span><span class="ident" id="7812236">test</span><span class="op" id="7812240">,</span>&nbsp;<span class="ident" id="7812242">MustCompile</span><span class="op" id="7812253">(</span><span class="ident" id="7812254">test</span><span class="op" id="7812258">.</span><span class="ident" id="7812259">pat</span><span class="op" id="7812262">)</span><span class="op" id="7812263">.</span><span class="ident" id="7812264">FindStringIndex</span><span class="op" id="7812279">(</span><span class="ident" id="7812280">test</span><span class="op" id="7812284">.</span><span class="ident" id="7812285">text</span><span class="op" id="7812289">)</span><span class="op" id="7812290">,</span>&nbsp;<span class="ident" id="7812292">t</span><span class="op" id="7812293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7812296">}</span><br>
<span class="lineno"></span><span class="op" id="7812298">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="7812301">func</span>&nbsp;<span class="ident" id="7812306">TestFindReaderIndex</span><span class="op" id="7812325">(</span><span class="ident" id="7812326">t</span>&nbsp;<span class="op" id="7812328">*</span><span class="ident" id="7812329">testing</span><span class="op" id="7812336">.</span><span class="ident" id="7812337">T</span><span class="op" id="7812338">)</span>&nbsp;<span class="op" id="7812340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812343">for</span>&nbsp;<span class="ident" id="7812347">_</span><span class="op" id="7812348">,</span>&nbsp;<span class="ident" id="7812350">test</span>&nbsp;<span class="op" id="7812355">:=</span>&nbsp;<span class="keyword" id="7812358">range</span>&nbsp;<span class="ident" id="7812364">findTests</span>&nbsp;<span class="op" id="7812374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7812378">testFindIndex</span><span class="op" id="7812391">(</span><span class="op" id="7812392">&amp;</span><span class="ident" id="7812393">test</span><span class="op" id="7812397">,</span>&nbsp;<span class="ident" id="7812399">MustCompile</span><span class="op" id="7812410">(</span><span class="ident" id="7812411">test</span><span class="op" id="7812415">.</span><span class="ident" id="7812416">pat</span><span class="op" id="7812419">)</span><span class="op" id="7812420">.</span><span class="ident" id="7812421">FindReaderIndex</span><span class="op" id="7812436">(</span><span class="ident" id="7812437">strings</span><span class="op" id="7812444">.</span><span class="ident" id="7812445">NewReader</span><span class="op" id="7812454">(</span><span class="ident" id="7812455">test</span><span class="op" id="7812459">.</span><span class="ident" id="7812460">text</span><span class="op" id="7812464">)</span><span class="op" id="7812465">)</span><span class="op" id="7812466">,</span>&nbsp;<span class="ident" id="7812468">t</span><span class="op" id="7812469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7812472">}</span><br>
<span class="lineno">225</span><span class="op" id="7812474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7812477">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7812512">func</span>&nbsp;<span class="ident" id="7812517">TestFindAll</span><span class="op" id="7812528">(</span><span class="ident" id="7812529">t</span>&nbsp;<span class="op" id="7812531">*</span><span class="ident" id="7812532">testing</span><span class="op" id="7812539">.</span><span class="ident" id="7812540">T</span><span class="op" id="7812541">)</span>&nbsp;<span class="op" id="7812543">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812546">for</span>&nbsp;<span class="ident" id="7812550">_</span><span class="op" id="7812551">,</span>&nbsp;<span class="ident" id="7812553">test</span>&nbsp;<span class="op" id="7812558">:=</span>&nbsp;<span class="keyword" id="7812561">range</span>&nbsp;<span class="ident" id="7812567">findTests</span>&nbsp;<span class="op" id="7812577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7812581">result</span>&nbsp;<span class="op" id="7812588">:=</span>&nbsp;<span class="ident" id="7812591">MustCompile</span><span class="op" id="7812602">(</span><span class="ident" id="7812603">test</span><span class="op" id="7812607">.</span><span class="ident" id="7812608">pat</span><span class="op" id="7812611">)</span><span class="op" id="7812612">.</span><span class="ident" id="7812613">FindAll</span><span class="op" id="7812620">(</span><span class="op" id="7812621">[</span><span class="op" id="7812622">]</span><span class="builtintype" id="7812623">byte</span><span class="op" id="7812627">(</span><span class="ident" id="7812628">test</span><span class="op" id="7812632">.</span><span class="ident" id="7812633">text</span><span class="op" id="7812637">)</span><span class="op" id="7812638">,</span>&nbsp;<span class="op" id="7812640">-</span><span class="num" id="7812641">1</span><span class="op" id="7812642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812646">switch</span>&nbsp;<span class="op" id="7812653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812657">case</span>&nbsp;<span class="ident" id="7812662">test</span><span class="op" id="7812666">.</span><span class="ident" id="7812667">matches</span>&nbsp;<span class="op" id="7812675">==</span>&nbsp;<span class="builtintype" id="7812678">nil</span>&nbsp;<span class="op" id="7812682">&amp;&amp;</span>&nbsp;<span class="ident" id="7812685">result</span>&nbsp;<span class="op" id="7812692">==</span>&nbsp;<span class="builtintype" id="7812695">nil</span><span class="op" id="7812698">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7812703">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812711">case</span>&nbsp;<span class="ident" id="7812716">test</span><span class="op" id="7812720">.</span><span class="ident" id="7812721">matches</span>&nbsp;<span class="op" id="7812729">==</span>&nbsp;<span class="builtintype" id="7812732">nil</span>&nbsp;<span class="op" id="7812736">&amp;&amp;</span>&nbsp;<span class="ident" id="7812739">result</span>&nbsp;<span class="op" id="7812746">!=</span>&nbsp;<span class="builtintype" id="7812749">nil</span><span class="op" id="7812752">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7812757">t</span><span class="op" id="7812758">.</span><span class="ident" id="7812759">Errorf</span><span class="op" id="7812765">(</span><span class="string" id="7812766">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7812798">,</span>&nbsp;<span class="ident" id="7812800">test</span><span class="op" id="7812804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812808">case</span>&nbsp;<span class="ident" id="7812813">test</span><span class="op" id="7812817">.</span><span class="ident" id="7812818">matches</span>&nbsp;<span class="op" id="7812826">!=</span>&nbsp;<span class="builtintype" id="7812829">nil</span>&nbsp;<span class="op" id="7812833">&amp;&amp;</span>&nbsp;<span class="ident" id="7812836">result</span>&nbsp;<span class="op" id="7812843">==</span>&nbsp;<span class="builtintype" id="7812846">nil</span><span class="op" id="7812849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7812854">t</span><span class="op" id="7812855">.</span><span class="ident" id="7812856">Fatalf</span><span class="op" id="7812862">(</span><span class="string" id="7812863">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7812893">,</span>&nbsp;<span class="ident" id="7812895">test</span><span class="op" id="7812899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812903">case</span>&nbsp;<span class="ident" id="7812908">test</span><span class="op" id="7812912">.</span><span class="ident" id="7812913">matches</span>&nbsp;<span class="op" id="7812921">!=</span>&nbsp;<span class="builtintype" id="7812924">nil</span>&nbsp;<span class="op" id="7812928">&amp;&amp;</span>&nbsp;<span class="ident" id="7812931">result</span>&nbsp;<span class="op" id="7812938">!=</span>&nbsp;<span class="builtintype" id="7812941">nil</span><span class="op" id="7812944">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7812949">if</span>&nbsp;<span class="builtinfunc" id="7812952">len</span><span class="op" id="7812955">(</span><span class="ident" id="7812956">test</span><span class="op" id="7812960">.</span><span class="ident" id="7812961">matches</span><span class="op" id="7812968">)</span>&nbsp;<span class="op" id="7812970">!=</span>&nbsp;<span class="builtinfunc" id="7812973">len</span><span class="op" id="7812976">(</span><span class="ident" id="7812977">result</span><span class="op" id="7812983">)</span>&nbsp;<span class="op" id="7812985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7812991">t</span><span class="op" id="7812992">.</span><span class="ident" id="7812993">Errorf</span><span class="op" id="7812999">(</span><span class="string" id="7813000">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7813033">,</span>&nbsp;<span class="builtinfunc" id="7813035">len</span><span class="op" id="7813038">(</span><span class="ident" id="7813039">test</span><span class="op" id="7813043">.</span><span class="ident" id="7813044">matches</span><span class="op" id="7813051">)</span><span class="op" id="7813052">,</span>&nbsp;<span class="builtinfunc" id="7813054">len</span><span class="op" id="7813057">(</span><span class="ident" id="7813058">result</span><span class="op" id="7813064">)</span><span class="op" id="7813065">,</span>&nbsp;<span class="ident" id="7813067">test</span><span class="op" id="7813071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813077">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813094">for</span>&nbsp;<span class="ident" id="7813098">k</span><span class="op" id="7813099">,</span>&nbsp;<span class="ident" id="7813101">e</span>&nbsp;<span class="op" id="7813103">:=</span>&nbsp;<span class="keyword" id="7813106">range</span>&nbsp;<span class="ident" id="7813112">test</span><span class="op" id="7813116">.</span><span class="ident" id="7813117">matches</span>&nbsp;<span class="op" id="7813125">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813131">expect</span>&nbsp;<span class="op" id="7813138">:=</span>&nbsp;<span class="ident" id="7813141">test</span><span class="op" id="7813145">.</span><span class="ident" id="7813146">text</span><span class="op" id="7813150">[</span><span class="ident" id="7813151">e</span><span class="op" id="7813152">[</span><span class="num" id="7813153">0</span><span class="op" id="7813154">]</span><span class="op" id="7813155">:</span><span class="ident" id="7813156">e</span><span class="op" id="7813157">[</span><span class="num" id="7813158">1</span><span class="op" id="7813159">]</span><span class="op" id="7813160">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813166">if</span>&nbsp;<span class="ident" id="7813169">expect</span>&nbsp;<span class="op" id="7813176">!=</span>&nbsp;<span class="builtintype" id="7813179">string</span><span class="op" id="7813185">(</span><span class="ident" id="7813186">result</span><span class="op" id="7813192">[</span><span class="ident" id="7813193">k</span><span class="op" id="7813194">]</span><span class="op" id="7813195">)</span>&nbsp;<span class="op" id="7813197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813204">t</span><span class="op" id="7813205">.</span><span class="ident" id="7813206">Errorf</span><span class="op" id="7813212">(</span><span class="string" id="7813213">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7813247">,</span>&nbsp;<span class="ident" id="7813249">k</span><span class="op" id="7813250">,</span>&nbsp;<span class="ident" id="7813252">expect</span><span class="op" id="7813258">,</span>&nbsp;<span class="ident" id="7813260">result</span><span class="op" id="7813266">[</span><span class="ident" id="7813267">k</span><span class="op" id="7813268">]</span><span class="op" id="7813269">,</span>&nbsp;<span class="ident" id="7813271">test</span><span class="op" id="7813275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813286">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813293">}</span><br>
<span class="lineno"></span><span class="op" id="7813295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7813298">func</span>&nbsp;<span class="ident" id="7813303">TestFindAllString</span><span class="op" id="7813320">(</span><span class="ident" id="7813321">t</span>&nbsp;<span class="op" id="7813323">*</span><span class="ident" id="7813324">testing</span><span class="op" id="7813331">.</span><span class="ident" id="7813332">T</span><span class="op" id="7813333">)</span>&nbsp;<span class="op" id="7813335">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813338">for</span>&nbsp;<span class="ident" id="7813342">_</span><span class="op" id="7813343">,</span>&nbsp;<span class="ident" id="7813345">test</span>&nbsp;<span class="op" id="7813350">:=</span>&nbsp;<span class="keyword" id="7813353">range</span>&nbsp;<span class="ident" id="7813359">findTests</span>&nbsp;<span class="op" id="7813369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813373">result</span>&nbsp;<span class="op" id="7813380">:=</span>&nbsp;<span class="ident" id="7813383">MustCompile</span><span class="op" id="7813394">(</span><span class="ident" id="7813395">test</span><span class="op" id="7813399">.</span><span class="ident" id="7813400">pat</span><span class="op" id="7813403">)</span><span class="op" id="7813404">.</span><span class="ident" id="7813405">FindAllString</span><span class="op" id="7813418">(</span><span class="ident" id="7813419">test</span><span class="op" id="7813423">.</span><span class="ident" id="7813424">text</span><span class="op" id="7813428">,</span>&nbsp;<span class="op" id="7813430">-</span><span class="num" id="7813431">1</span><span class="op" id="7813432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813436">switch</span>&nbsp;<span class="op" id="7813443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813447">case</span>&nbsp;<span class="ident" id="7813452">test</span><span class="op" id="7813456">.</span><span class="ident" id="7813457">matches</span>&nbsp;<span class="op" id="7813465">==</span>&nbsp;<span class="builtintype" id="7813468">nil</span>&nbsp;<span class="op" id="7813472">&amp;&amp;</span>&nbsp;<span class="ident" id="7813475">result</span>&nbsp;<span class="op" id="7813482">==</span>&nbsp;<span class="builtintype" id="7813485">nil</span><span class="op" id="7813488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7813493">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813501">case</span>&nbsp;<span class="ident" id="7813506">test</span><span class="op" id="7813510">.</span><span class="ident" id="7813511">matches</span>&nbsp;<span class="op" id="7813519">==</span>&nbsp;<span class="builtintype" id="7813522">nil</span>&nbsp;<span class="op" id="7813526">&amp;&amp;</span>&nbsp;<span class="ident" id="7813529">result</span>&nbsp;<span class="op" id="7813536">!=</span>&nbsp;<span class="builtintype" id="7813539">nil</span><span class="op" id="7813542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813547">t</span><span class="op" id="7813548">.</span><span class="ident" id="7813549">Errorf</span><span class="op" id="7813555">(</span><span class="string" id="7813556">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7813588">,</span>&nbsp;<span class="ident" id="7813590">test</span><span class="op" id="7813594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813598">case</span>&nbsp;<span class="ident" id="7813603">test</span><span class="op" id="7813607">.</span><span class="ident" id="7813608">matches</span>&nbsp;<span class="op" id="7813616">!=</span>&nbsp;<span class="builtintype" id="7813619">nil</span>&nbsp;<span class="op" id="7813623">&amp;&amp;</span>&nbsp;<span class="ident" id="7813626">result</span>&nbsp;<span class="op" id="7813633">==</span>&nbsp;<span class="builtintype" id="7813636">nil</span><span class="op" id="7813639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813644">t</span><span class="op" id="7813645">.</span><span class="ident" id="7813646">Errorf</span><span class="op" id="7813652">(</span><span class="string" id="7813653">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7813683">,</span>&nbsp;<span class="ident" id="7813685">test</span><span class="op" id="7813689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813693">case</span>&nbsp;<span class="ident" id="7813698">test</span><span class="op" id="7813702">.</span><span class="ident" id="7813703">matches</span>&nbsp;<span class="op" id="7813711">!=</span>&nbsp;<span class="builtintype" id="7813714">nil</span>&nbsp;<span class="op" id="7813718">&amp;&amp;</span>&nbsp;<span class="ident" id="7813721">result</span>&nbsp;<span class="op" id="7813728">!=</span>&nbsp;<span class="builtintype" id="7813731">nil</span><span class="op" id="7813734">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813739">if</span>&nbsp;<span class="builtinfunc" id="7813742">len</span><span class="op" id="7813745">(</span><span class="ident" id="7813746">test</span><span class="op" id="7813750">.</span><span class="ident" id="7813751">matches</span><span class="op" id="7813758">)</span>&nbsp;<span class="op" id="7813760">!=</span>&nbsp;<span class="builtinfunc" id="7813763">len</span><span class="op" id="7813766">(</span><span class="ident" id="7813767">result</span><span class="op" id="7813773">)</span>&nbsp;<span class="op" id="7813775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813781">t</span><span class="op" id="7813782">.</span><span class="ident" id="7813783">Errorf</span><span class="op" id="7813789">(</span><span class="string" id="7813790">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7813823">,</span>&nbsp;<span class="builtinfunc" id="7813825">len</span><span class="op" id="7813828">(</span><span class="ident" id="7813829">test</span><span class="op" id="7813833">.</span><span class="ident" id="7813834">matches</span><span class="op" id="7813841">)</span><span class="op" id="7813842">,</span>&nbsp;<span class="builtinfunc" id="7813844">len</span><span class="op" id="7813847">(</span><span class="ident" id="7813848">result</span><span class="op" id="7813854">)</span><span class="op" id="7813855">,</span>&nbsp;<span class="ident" id="7813857">test</span><span class="op" id="7813861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813867">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813884">for</span>&nbsp;<span class="ident" id="7813888">k</span><span class="op" id="7813889">,</span>&nbsp;<span class="ident" id="7813891">e</span>&nbsp;<span class="op" id="7813893">:=</span>&nbsp;<span class="keyword" id="7813896">range</span>&nbsp;<span class="ident" id="7813902">test</span><span class="op" id="7813906">.</span><span class="ident" id="7813907">matches</span>&nbsp;<span class="op" id="7813915">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813921">expect</span>&nbsp;<span class="op" id="7813928">:=</span>&nbsp;<span class="ident" id="7813931">test</span><span class="op" id="7813935">.</span><span class="ident" id="7813936">text</span><span class="op" id="7813940">[</span><span class="ident" id="7813941">e</span><span class="op" id="7813942">[</span><span class="num" id="7813943">0</span><span class="op" id="7813944">]</span><span class="op" id="7813945">:</span><span class="ident" id="7813946">e</span><span class="op" id="7813947">[</span><span class="num" id="7813948">1</span><span class="op" id="7813949">]</span><span class="op" id="7813950">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7813956">if</span>&nbsp;<span class="ident" id="7813959">expect</span>&nbsp;<span class="op" id="7813966">!=</span>&nbsp;<span class="ident" id="7813969">result</span><span class="op" id="7813975">[</span><span class="ident" id="7813976">k</span><span class="op" id="7813977">]</span>&nbsp;<span class="op" id="7813979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813986">t</span><span class="op" id="7813987">.</span><span class="ident" id="7813988">Errorf</span><span class="op" id="7813994">(</span><span class="string" id="7813995">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7814019">,</span>&nbsp;<span class="ident" id="7814021">expect</span><span class="op" id="7814027">,</span>&nbsp;<span class="ident" id="7814029">result</span><span class="op" id="7814035">,</span>&nbsp;<span class="ident" id="7814037">test</span><span class="op" id="7814041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814052">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814059">}</span><br>
<span class="lineno"></span><span class="op" id="7814061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7814064">func</span>&nbsp;<span class="ident" id="7814069">testFindAllIndex</span><span class="op" id="7814085">(</span><span class="ident" id="7814086">test</span>&nbsp;<span class="op" id="7814091">*</span><span class="ident" id="7814092">FindTest</span><span class="op" id="7814100">,</span>&nbsp;<span class="ident" id="7814102">result</span>&nbsp;<span class="op" id="7814109">[</span><span class="op" id="7814110">]</span><span class="op" id="7814111">[</span><span class="op" id="7814112">]</span><span class="builtintype" id="7814113">int</span><span class="op" id="7814116">,</span>&nbsp;<span class="ident" id="7814118">t</span>&nbsp;<span class="op" id="7814120">*</span><span class="ident" id="7814121">testing</span><span class="op" id="7814128">.</span><span class="ident" id="7814129">T</span><span class="op" id="7814130">)</span>&nbsp;<span class="op" id="7814132">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814135">switch</span>&nbsp;<span class="op" id="7814142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814145">case</span>&nbsp;<span class="ident" id="7814150">test</span><span class="op" id="7814154">.</span><span class="ident" id="7814155">matches</span>&nbsp;<span class="op" id="7814163">==</span>&nbsp;<span class="builtintype" id="7814166">nil</span>&nbsp;<span class="op" id="7814170">&amp;&amp;</span>&nbsp;<span class="ident" id="7814173">result</span>&nbsp;<span class="op" id="7814180">==</span>&nbsp;<span class="builtintype" id="7814183">nil</span><span class="op" id="7814186">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7814190">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814197">case</span>&nbsp;<span class="ident" id="7814202">test</span><span class="op" id="7814206">.</span><span class="ident" id="7814207">matches</span>&nbsp;<span class="op" id="7814215">==</span>&nbsp;<span class="builtintype" id="7814218">nil</span>&nbsp;<span class="op" id="7814222">&amp;&amp;</span>&nbsp;<span class="ident" id="7814225">result</span>&nbsp;<span class="op" id="7814232">!=</span>&nbsp;<span class="builtintype" id="7814235">nil</span><span class="op" id="7814238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814242">t</span><span class="op" id="7814243">.</span><span class="ident" id="7814244">Errorf</span><span class="op" id="7814250">(</span><span class="string" id="7814251">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7814283">,</span>&nbsp;<span class="ident" id="7814285">test</span><span class="op" id="7814289">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814292">case</span>&nbsp;<span class="ident" id="7814297">test</span><span class="op" id="7814301">.</span><span class="ident" id="7814302">matches</span>&nbsp;<span class="op" id="7814310">!=</span>&nbsp;<span class="builtintype" id="7814313">nil</span>&nbsp;<span class="op" id="7814317">&amp;&amp;</span>&nbsp;<span class="ident" id="7814320">result</span>&nbsp;<span class="op" id="7814327">==</span>&nbsp;<span class="builtintype" id="7814330">nil</span><span class="op" id="7814333">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814337">t</span><span class="op" id="7814338">.</span><span class="ident" id="7814339">Errorf</span><span class="op" id="7814345">(</span><span class="string" id="7814346">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7814376">,</span>&nbsp;<span class="ident" id="7814378">test</span><span class="op" id="7814382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814385">case</span>&nbsp;<span class="ident" id="7814390">test</span><span class="op" id="7814394">.</span><span class="ident" id="7814395">matches</span>&nbsp;<span class="op" id="7814403">!=</span>&nbsp;<span class="builtintype" id="7814406">nil</span>&nbsp;<span class="op" id="7814410">&amp;&amp;</span>&nbsp;<span class="ident" id="7814413">result</span>&nbsp;<span class="op" id="7814420">!=</span>&nbsp;<span class="builtintype" id="7814423">nil</span><span class="op" id="7814426">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814430">if</span>&nbsp;<span class="builtinfunc" id="7814433">len</span><span class="op" id="7814436">(</span><span class="ident" id="7814437">test</span><span class="op" id="7814441">.</span><span class="ident" id="7814442">matches</span><span class="op" id="7814449">)</span>&nbsp;<span class="op" id="7814451">!=</span>&nbsp;<span class="builtinfunc" id="7814454">len</span><span class="op" id="7814457">(</span><span class="ident" id="7814458">result</span><span class="op" id="7814464">)</span>&nbsp;<span class="op" id="7814466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814471">t</span><span class="op" id="7814472">.</span><span class="ident" id="7814473">Errorf</span><span class="op" id="7814479">(</span><span class="string" id="7814480">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7814513">,</span>&nbsp;<span class="builtinfunc" id="7814515">len</span><span class="op" id="7814518">(</span><span class="ident" id="7814519">test</span><span class="op" id="7814523">.</span><span class="ident" id="7814524">matches</span><span class="op" id="7814531">)</span><span class="op" id="7814532">,</span>&nbsp;<span class="builtinfunc" id="7814534">len</span><span class="op" id="7814537">(</span><span class="ident" id="7814538">result</span><span class="op" id="7814544">)</span><span class="op" id="7814545">,</span>&nbsp;<span class="ident" id="7814547">test</span><span class="op" id="7814551">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814556">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814569">for</span>&nbsp;<span class="ident" id="7814573">k</span><span class="op" id="7814574">,</span>&nbsp;<span class="ident" id="7814576">e</span>&nbsp;<span class="op" id="7814578">:=</span>&nbsp;<span class="keyword" id="7814581">range</span>&nbsp;<span class="ident" id="7814587">test</span><span class="op" id="7814591">.</span><span class="ident" id="7814592">matches</span>&nbsp;<span class="op" id="7814600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814605">if</span>&nbsp;<span class="ident" id="7814608">e</span><span class="op" id="7814609">[</span><span class="num" id="7814610">0</span><span class="op" id="7814611">]</span>&nbsp;<span class="op" id="7814613">!=</span>&nbsp;<span class="ident" id="7814616">result</span><span class="op" id="7814622">[</span><span class="ident" id="7814623">k</span><span class="op" id="7814624">]</span><span class="op" id="7814625">[</span><span class="num" id="7814626">0</span><span class="op" id="7814627">]</span>&nbsp;<span class="op" id="7814629">||</span>&nbsp;<span class="ident" id="7814632">e</span><span class="op" id="7814633">[</span><span class="num" id="7814634">1</span><span class="op" id="7814635">]</span>&nbsp;<span class="op" id="7814637">!=</span>&nbsp;<span class="ident" id="7814640">result</span><span class="op" id="7814646">[</span><span class="ident" id="7814647">k</span><span class="op" id="7814648">]</span><span class="op" id="7814649">[</span><span class="num" id="7814650">1</span><span class="op" id="7814651">]</span>&nbsp;<span class="op" id="7814653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814659">t</span><span class="op" id="7814660">.</span><span class="ident" id="7814661">Errorf</span><span class="op" id="7814667">(</span><span class="string" id="7814668">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7814702">,</span>&nbsp;<span class="ident" id="7814704">k</span><span class="op" id="7814705">,</span>&nbsp;<span class="ident" id="7814707">e</span><span class="op" id="7814708">,</span>&nbsp;<span class="ident" id="7814710">result</span><span class="op" id="7814716">[</span><span class="ident" id="7814717">k</span><span class="op" id="7814718">]</span><span class="op" id="7814719">,</span>&nbsp;<span class="ident" id="7814721">test</span><span class="op" id="7814725">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814737">}</span><br>
<span class="lineno"></span><span class="op" id="7814739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="7814742">func</span>&nbsp;<span class="ident" id="7814747">TestFindAllIndex</span><span class="op" id="7814763">(</span><span class="ident" id="7814764">t</span>&nbsp;<span class="op" id="7814766">*</span><span class="ident" id="7814767">testing</span><span class="op" id="7814774">.</span><span class="ident" id="7814775">T</span><span class="op" id="7814776">)</span>&nbsp;<span class="op" id="7814778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814781">for</span>&nbsp;<span class="ident" id="7814785">_</span><span class="op" id="7814786">,</span>&nbsp;<span class="ident" id="7814788">test</span>&nbsp;<span class="op" id="7814793">:=</span>&nbsp;<span class="keyword" id="7814796">range</span>&nbsp;<span class="ident" id="7814802">findTests</span>&nbsp;<span class="op" id="7814812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814816">testFindAllIndex</span><span class="op" id="7814832">(</span><span class="op" id="7814833">&amp;</span><span class="ident" id="7814834">test</span><span class="op" id="7814838">,</span>&nbsp;<span class="ident" id="7814840">MustCompile</span><span class="op" id="7814851">(</span><span class="ident" id="7814852">test</span><span class="op" id="7814856">.</span><span class="ident" id="7814857">pat</span><span class="op" id="7814860">)</span><span class="op" id="7814861">.</span><span class="ident" id="7814862">FindAllIndex</span><span class="op" id="7814874">(</span><span class="op" id="7814875">[</span><span class="op" id="7814876">]</span><span class="builtintype" id="7814877">byte</span><span class="op" id="7814881">(</span><span class="ident" id="7814882">test</span><span class="op" id="7814886">.</span><span class="ident" id="7814887">text</span><span class="op" id="7814891">)</span><span class="op" id="7814892">,</span>&nbsp;<span class="op" id="7814894">-</span><span class="num" id="7814895">1</span><span class="op" id="7814896">)</span><span class="op" id="7814897">,</span>&nbsp;<span class="ident" id="7814899">t</span><span class="op" id="7814900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814903">}</span><br>
<span class="lineno"></span><span class="op" id="7814905">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7814908">func</span>&nbsp;<span class="ident" id="7814913">TestFindAllStringIndex</span><span class="op" id="7814935">(</span><span class="ident" id="7814936">t</span>&nbsp;<span class="op" id="7814938">*</span><span class="ident" id="7814939">testing</span><span class="op" id="7814946">.</span><span class="ident" id="7814947">T</span><span class="op" id="7814948">)</span>&nbsp;<span class="op" id="7814950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814953">for</span>&nbsp;<span class="ident" id="7814957">_</span><span class="op" id="7814958">,</span>&nbsp;<span class="ident" id="7814960">test</span>&nbsp;<span class="op" id="7814965">:=</span>&nbsp;<span class="keyword" id="7814968">range</span>&nbsp;<span class="ident" id="7814974">findTests</span>&nbsp;<span class="op" id="7814984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814988">testFindAllIndex</span><span class="op" id="7815004">(</span><span class="op" id="7815005">&amp;</span><span class="ident" id="7815006">test</span><span class="op" id="7815010">,</span>&nbsp;<span class="ident" id="7815012">MustCompile</span><span class="op" id="7815023">(</span><span class="ident" id="7815024">test</span><span class="op" id="7815028">.</span><span class="ident" id="7815029">pat</span><span class="op" id="7815032">)</span><span class="op" id="7815033">.</span><span class="ident" id="7815034">FindAllStringIndex</span><span class="op" id="7815052">(</span><span class="ident" id="7815053">test</span><span class="op" id="7815057">.</span><span class="ident" id="7815058">text</span><span class="op" id="7815062">,</span>&nbsp;<span class="op" id="7815064">-</span><span class="num" id="7815065">1</span><span class="op" id="7815066">)</span><span class="op" id="7815067">,</span>&nbsp;<span class="ident" id="7815069">t</span><span class="op" id="7815070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815073">}</span><br>
<span class="lineno">310</span><span class="op" id="7815075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7815078">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7815111">func</span>&nbsp;<span class="ident" id="7815116">testSubmatchBytes</span><span class="op" id="7815133">(</span><span class="ident" id="7815134">test</span>&nbsp;<span class="op" id="7815139">*</span><span class="ident" id="7815140">FindTest</span><span class="op" id="7815148">,</span>&nbsp;<span class="ident" id="7815150">n</span>&nbsp;<span class="builtintype" id="7815152">int</span><span class="op" id="7815155">,</span>&nbsp;<span class="ident" id="7815157">submatches</span>&nbsp;<span class="op" id="7815168">[</span><span class="op" id="7815169">]</span><span class="builtintype" id="7815170">int</span><span class="op" id="7815173">,</span>&nbsp;<span class="ident" id="7815175">result</span>&nbsp;<span class="op" id="7815182">[</span><span class="op" id="7815183">]</span><span class="op" id="7815184">[</span><span class="op" id="7815185">]</span><span class="builtintype" id="7815186">byte</span><span class="op" id="7815190">,</span>&nbsp;<span class="ident" id="7815192">t</span>&nbsp;<span class="op" id="7815194">*</span><span class="ident" id="7815195">testing</span><span class="op" id="7815202">.</span><span class="ident" id="7815203">T</span><span class="op" id="7815204">)</span>&nbsp;<span class="op" id="7815206">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815209">if</span>&nbsp;<span class="builtinfunc" id="7815212">len</span><span class="op" id="7815215">(</span><span class="ident" id="7815216">submatches</span><span class="op" id="7815226">)</span>&nbsp;<span class="op" id="7815228">!=</span>&nbsp;<span class="builtinfunc" id="7815231">len</span><span class="op" id="7815234">(</span><span class="ident" id="7815235">result</span><span class="op" id="7815241">)</span><span class="op" id="7815242">*</span><span class="num" id="7815243">2</span>&nbsp;<span class="op" id="7815245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815249">t</span><span class="op" id="7815250">.</span><span class="ident" id="7815251">Errorf</span><span class="op" id="7815257">(</span><span class="string" id="7815258">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7815304">,</span>&nbsp;<span class="ident" id="7815306">n</span><span class="op" id="7815307">,</span>&nbsp;<span class="builtinfunc" id="7815309">len</span><span class="op" id="7815312">(</span><span class="ident" id="7815313">submatches</span><span class="op" id="7815323">)</span><span class="op" id="7815324">/</span><span class="num" id="7815325">2</span><span class="op" id="7815326">,</span>&nbsp;<span class="builtinfunc" id="7815328">len</span><span class="op" id="7815331">(</span><span class="ident" id="7815332">result</span><span class="op" id="7815338">)</span><span class="op" id="7815339">,</span>&nbsp;<span class="ident" id="7815341">test</span><span class="op" id="7815345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815349">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815360">for</span>&nbsp;<span class="ident" id="7815364">k</span>&nbsp;<span class="op" id="7815366">:=</span>&nbsp;<span class="num" id="7815369">0</span><span class="op" id="7815370">;</span>&nbsp;<span class="ident" id="7815372">k</span>&nbsp;<span class="op" id="7815374">&lt;</span>&nbsp;<span class="builtinfunc" id="7815376">len</span><span class="op" id="7815379">(</span><span class="ident" id="7815380">submatches</span><span class="op" id="7815390">)</span><span class="op" id="7815391">;</span>&nbsp;<span class="ident" id="7815393">k</span>&nbsp;<span class="op" id="7815395">+=</span>&nbsp;<span class="num" id="7815398">2</span>&nbsp;<span class="op" id="7815400">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815404">if</span>&nbsp;<span class="ident" id="7815407">submatches</span><span class="op" id="7815417">[</span><span class="ident" id="7815418">k</span><span class="op" id="7815419">]</span>&nbsp;<span class="op" id="7815421">==</span>&nbsp;<span class="op" id="7815424">-</span><span class="num" id="7815425">1</span>&nbsp;<span class="op" id="7815427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815432">if</span>&nbsp;<span class="ident" id="7815435">result</span><span class="op" id="7815441">[</span><span class="ident" id="7815442">k</span><span class="op" id="7815443">/</span><span class="num" id="7815444">2</span><span class="op" id="7815445">]</span>&nbsp;<span class="op" id="7815447">!=</span>&nbsp;<span class="builtintype" id="7815450">nil</span>&nbsp;<span class="op" id="7815454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815460">t</span><span class="op" id="7815461">.</span><span class="ident" id="7815462">Errorf</span><span class="op" id="7815468">(</span><span class="string" id="7815469">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7815504">,</span>&nbsp;<span class="ident" id="7815506">n</span><span class="op" id="7815507">,</span>&nbsp;<span class="ident" id="7815509">result</span><span class="op" id="7815515">,</span>&nbsp;<span class="ident" id="7815517">test</span><span class="op" id="7815521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815531">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815546">expect</span>&nbsp;<span class="op" id="7815553">:=</span>&nbsp;<span class="ident" id="7815556">test</span><span class="op" id="7815560">.</span><span class="ident" id="7815561">text</span><span class="op" id="7815565">[</span><span class="ident" id="7815566">submatches</span><span class="op" id="7815576">[</span><span class="ident" id="7815577">k</span><span class="op" id="7815578">]</span><span class="op" id="7815579">:</span><span class="ident" id="7815580">submatches</span><span class="op" id="7815590">[</span><span class="ident" id="7815591">k</span><span class="op" id="7815592">+</span><span class="num" id="7815593">1</span><span class="op" id="7815594">]</span><span class="op" id="7815595">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815599">if</span>&nbsp;<span class="ident" id="7815602">expect</span>&nbsp;<span class="op" id="7815609">!=</span>&nbsp;<span class="builtintype" id="7815612">string</span><span class="op" id="7815618">(</span><span class="ident" id="7815619">result</span><span class="op" id="7815625">[</span><span class="ident" id="7815626">k</span><span class="op" id="7815627">/</span><span class="num" id="7815628">2</span><span class="op" id="7815629">]</span><span class="op" id="7815630">)</span>&nbsp;<span class="op" id="7815632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815637">t</span><span class="op" id="7815638">.</span><span class="ident" id="7815639">Errorf</span><span class="op" id="7815645">(</span><span class="string" id="7815646">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7815680">,</span>&nbsp;<span class="ident" id="7815682">n</span><span class="op" id="7815683">,</span>&nbsp;<span class="ident" id="7815685">expect</span><span class="op" id="7815691">,</span>&nbsp;<span class="ident" id="7815693">result</span><span class="op" id="7815699">,</span>&nbsp;<span class="ident" id="7815701">test</span><span class="op" id="7815705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815710">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815722">}</span><br>
<span class="lineno"></span><span class="op" id="7815724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7815727">func</span>&nbsp;<span class="ident" id="7815732">TestFindSubmatch</span><span class="op" id="7815748">(</span><span class="ident" id="7815749">t</span>&nbsp;<span class="op" id="7815751">*</span><span class="ident" id="7815752">testing</span><span class="op" id="7815759">.</span><span class="ident" id="7815760">T</span><span class="op" id="7815761">)</span>&nbsp;<span class="op" id="7815763">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815766">for</span>&nbsp;<span class="ident" id="7815770">_</span><span class="op" id="7815771">,</span>&nbsp;<span class="ident" id="7815773">test</span>&nbsp;<span class="op" id="7815778">:=</span>&nbsp;<span class="keyword" id="7815781">range</span>&nbsp;<span class="ident" id="7815787">findTests</span>&nbsp;<span class="op" id="7815797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815801">result</span>&nbsp;<span class="op" id="7815808">:=</span>&nbsp;<span class="ident" id="7815811">MustCompile</span><span class="op" id="7815822">(</span><span class="ident" id="7815823">test</span><span class="op" id="7815827">.</span><span class="ident" id="7815828">pat</span><span class="op" id="7815831">)</span><span class="op" id="7815832">.</span><span class="ident" id="7815833">FindSubmatch</span><span class="op" id="7815845">(</span><span class="op" id="7815846">[</span><span class="op" id="7815847">]</span><span class="builtintype" id="7815848">byte</span><span class="op" id="7815852">(</span><span class="ident" id="7815853">test</span><span class="op" id="7815857">.</span><span class="ident" id="7815858">text</span><span class="op" id="7815862">)</span><span class="op" id="7815863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815867">switch</span>&nbsp;<span class="op" id="7815874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815878">case</span>&nbsp;<span class="ident" id="7815883">test</span><span class="op" id="7815887">.</span><span class="ident" id="7815888">matches</span>&nbsp;<span class="op" id="7815896">==</span>&nbsp;<span class="builtintype" id="7815899">nil</span>&nbsp;<span class="op" id="7815903">&amp;&amp;</span>&nbsp;<span class="ident" id="7815906">result</span>&nbsp;<span class="op" id="7815913">==</span>&nbsp;<span class="builtintype" id="7815916">nil</span><span class="op" id="7815919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7815924">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815932">case</span>&nbsp;<span class="ident" id="7815937">test</span><span class="op" id="7815941">.</span><span class="ident" id="7815942">matches</span>&nbsp;<span class="op" id="7815950">==</span>&nbsp;<span class="builtintype" id="7815953">nil</span>&nbsp;<span class="op" id="7815957">&amp;&amp;</span>&nbsp;<span class="ident" id="7815960">result</span>&nbsp;<span class="op" id="7815967">!=</span>&nbsp;<span class="builtintype" id="7815970">nil</span><span class="op" id="7815973">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815978">t</span><span class="op" id="7815979">.</span><span class="ident" id="7815980">Errorf</span><span class="op" id="7815986">(</span><span class="string" id="7815987">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7816019">,</span>&nbsp;<span class="ident" id="7816021">test</span><span class="op" id="7816025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816029">case</span>&nbsp;<span class="ident" id="7816034">test</span><span class="op" id="7816038">.</span><span class="ident" id="7816039">matches</span>&nbsp;<span class="op" id="7816047">!=</span>&nbsp;<span class="builtintype" id="7816050">nil</span>&nbsp;<span class="op" id="7816054">&amp;&amp;</span>&nbsp;<span class="ident" id="7816057">result</span>&nbsp;<span class="op" id="7816064">==</span>&nbsp;<span class="builtintype" id="7816067">nil</span><span class="op" id="7816070">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816075">t</span><span class="op" id="7816076">.</span><span class="ident" id="7816077">Errorf</span><span class="op" id="7816083">(</span><span class="string" id="7816084">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7816114">,</span>&nbsp;<span class="ident" id="7816116">test</span><span class="op" id="7816120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816124">case</span>&nbsp;<span class="ident" id="7816129">test</span><span class="op" id="7816133">.</span><span class="ident" id="7816134">matches</span>&nbsp;<span class="op" id="7816142">!=</span>&nbsp;<span class="builtintype" id="7816145">nil</span>&nbsp;<span class="op" id="7816149">&amp;&amp;</span>&nbsp;<span class="ident" id="7816152">result</span>&nbsp;<span class="op" id="7816159">!=</span>&nbsp;<span class="builtintype" id="7816162">nil</span><span class="op" id="7816165">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816170">testSubmatchBytes</span><span class="op" id="7816187">(</span><span class="op" id="7816188">&amp;</span><span class="ident" id="7816189">test</span><span class="op" id="7816193">,</span>&nbsp;<span class="num" id="7816195">0</span><span class="op" id="7816196">,</span>&nbsp;<span class="ident" id="7816198">test</span><span class="op" id="7816202">.</span><span class="ident" id="7816203">matches</span><span class="op" id="7816210">[</span><span class="num" id="7816211">0</span><span class="op" id="7816212">]</span><span class="op" id="7816213">,</span>&nbsp;<span class="ident" id="7816215">result</span><span class="op" id="7816221">,</span>&nbsp;<span class="ident" id="7816223">t</span><span class="op" id="7816224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816231">}</span><br>
<span class="lineno"></span><span class="op" id="7816233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="7816236">func</span>&nbsp;<span class="ident" id="7816241">testSubmatchString</span><span class="op" id="7816259">(</span><span class="ident" id="7816260">test</span>&nbsp;<span class="op" id="7816265">*</span><span class="ident" id="7816266">FindTest</span><span class="op" id="7816274">,</span>&nbsp;<span class="ident" id="7816276">n</span>&nbsp;<span class="builtintype" id="7816278">int</span><span class="op" id="7816281">,</span>&nbsp;<span class="ident" id="7816283">submatches</span>&nbsp;<span class="op" id="7816294">[</span><span class="op" id="7816295">]</span><span class="builtintype" id="7816296">int</span><span class="op" id="7816299">,</span>&nbsp;<span class="ident" id="7816301">result</span>&nbsp;<span class="op" id="7816308">[</span><span class="op" id="7816309">]</span><span class="builtintype" id="7816310">string</span><span class="op" id="7816316">,</span>&nbsp;<span class="ident" id="7816318">t</span>&nbsp;<span class="op" id="7816320">*</span><span class="ident" id="7816321">testing</span><span class="op" id="7816328">.</span><span class="ident" id="7816329">T</span><span class="op" id="7816330">)</span>&nbsp;<span class="op" id="7816332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816335">if</span>&nbsp;<span class="builtinfunc" id="7816338">len</span><span class="op" id="7816341">(</span><span class="ident" id="7816342">submatches</span><span class="op" id="7816352">)</span>&nbsp;<span class="op" id="7816354">!=</span>&nbsp;<span class="builtinfunc" id="7816357">len</span><span class="op" id="7816360">(</span><span class="ident" id="7816361">result</span><span class="op" id="7816367">)</span><span class="op" id="7816368">*</span><span class="num" id="7816369">2</span>&nbsp;<span class="op" id="7816371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816375">t</span><span class="op" id="7816376">.</span><span class="ident" id="7816377">Errorf</span><span class="op" id="7816383">(</span><span class="string" id="7816384">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7816430">,</span>&nbsp;<span class="ident" id="7816432">n</span><span class="op" id="7816433">,</span>&nbsp;<span class="builtinfunc" id="7816435">len</span><span class="op" id="7816438">(</span><span class="ident" id="7816439">submatches</span><span class="op" id="7816449">)</span><span class="op" id="7816450">/</span><span class="num" id="7816451">2</span><span class="op" id="7816452">,</span>&nbsp;<span class="builtinfunc" id="7816454">len</span><span class="op" id="7816457">(</span><span class="ident" id="7816458">result</span><span class="op" id="7816464">)</span><span class="op" id="7816465">,</span>&nbsp;<span class="ident" id="7816467">test</span><span class="op" id="7816471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816475">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816483">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816486">for</span>&nbsp;<span class="ident" id="7816490">k</span>&nbsp;<span class="op" id="7816492">:=</span>&nbsp;<span class="num" id="7816495">0</span><span class="op" id="7816496">;</span>&nbsp;<span class="ident" id="7816498">k</span>&nbsp;<span class="op" id="7816500">&lt;</span>&nbsp;<span class="builtinfunc" id="7816502">len</span><span class="op" id="7816505">(</span><span class="ident" id="7816506">submatches</span><span class="op" id="7816516">)</span><span class="op" id="7816517">;</span>&nbsp;<span class="ident" id="7816519">k</span>&nbsp;<span class="op" id="7816521">+=</span>&nbsp;<span class="num" id="7816524">2</span>&nbsp;<span class="op" id="7816526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816530">if</span>&nbsp;<span class="ident" id="7816533">submatches</span><span class="op" id="7816543">[</span><span class="ident" id="7816544">k</span><span class="op" id="7816545">]</span>&nbsp;<span class="op" id="7816547">==</span>&nbsp;<span class="op" id="7816550">-</span><span class="num" id="7816551">1</span>&nbsp;<span class="op" id="7816553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816558">if</span>&nbsp;<span class="ident" id="7816561">result</span><span class="op" id="7816567">[</span><span class="ident" id="7816568">k</span><span class="op" id="7816569">/</span><span class="num" id="7816570">2</span><span class="op" id="7816571">]</span>&nbsp;<span class="op" id="7816573">!=</span>&nbsp;<span class="string" id="7816576">&#34;&#34;</span>&nbsp;<span class="op" id="7816579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816585">t</span><span class="op" id="7816586">.</span><span class="ident" id="7816587">Errorf</span><span class="op" id="7816593">(</span><span class="string" id="7816594">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7816629">,</span>&nbsp;<span class="ident" id="7816631">n</span><span class="op" id="7816632">,</span>&nbsp;<span class="ident" id="7816634">result</span><span class="op" id="7816640">,</span>&nbsp;<span class="ident" id="7816642">test</span><span class="op" id="7816646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816651">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816656">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816671">expect</span>&nbsp;<span class="op" id="7816678">:=</span>&nbsp;<span class="ident" id="7816681">test</span><span class="op" id="7816685">.</span><span class="ident" id="7816686">text</span><span class="op" id="7816690">[</span><span class="ident" id="7816691">submatches</span><span class="op" id="7816701">[</span><span class="ident" id="7816702">k</span><span class="op" id="7816703">]</span><span class="op" id="7816704">:</span><span class="ident" id="7816705">submatches</span><span class="op" id="7816715">[</span><span class="ident" id="7816716">k</span><span class="op" id="7816717">+</span><span class="num" id="7816718">1</span><span class="op" id="7816719">]</span><span class="op" id="7816720">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816724">if</span>&nbsp;<span class="ident" id="7816727">expect</span>&nbsp;<span class="op" id="7816734">!=</span>&nbsp;<span class="ident" id="7816737">result</span><span class="op" id="7816743">[</span><span class="ident" id="7816744">k</span><span class="op" id="7816745">/</span><span class="num" id="7816746">2</span><span class="op" id="7816747">]</span>&nbsp;<span class="op" id="7816749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816754">t</span><span class="op" id="7816755">.</span><span class="ident" id="7816756">Errorf</span><span class="op" id="7816762">(</span><span class="string" id="7816763">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7816797">,</span>&nbsp;<span class="ident" id="7816799">n</span><span class="op" id="7816800">,</span>&nbsp;<span class="ident" id="7816802">expect</span><span class="op" id="7816808">,</span>&nbsp;<span class="ident" id="7816810">result</span><span class="op" id="7816816">,</span>&nbsp;<span class="ident" id="7816818">test</span><span class="op" id="7816822">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816827">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816839">}</span><br>
<span class="lineno"></span><span class="op" id="7816841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7816844">func</span>&nbsp;<span class="ident" id="7816849">TestFindStringSubmatch</span><span class="op" id="7816871">(</span><span class="ident" id="7816872">t</span>&nbsp;<span class="op" id="7816874">*</span><span class="ident" id="7816875">testing</span><span class="op" id="7816882">.</span><span class="ident" id="7816883">T</span><span class="op" id="7816884">)</span>&nbsp;<span class="op" id="7816886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816889">for</span>&nbsp;<span class="ident" id="7816893">_</span><span class="op" id="7816894">,</span>&nbsp;<span class="ident" id="7816896">test</span>&nbsp;<span class="op" id="7816901">:=</span>&nbsp;<span class="keyword" id="7816904">range</span>&nbsp;<span class="ident" id="7816910">findTests</span>&nbsp;<span class="op" id="7816920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816924">result</span>&nbsp;<span class="op" id="7816931">:=</span>&nbsp;<span class="ident" id="7816934">MustCompile</span><span class="op" id="7816945">(</span><span class="ident" id="7816946">test</span><span class="op" id="7816950">.</span><span class="ident" id="7816951">pat</span><span class="op" id="7816954">)</span><span class="op" id="7816955">.</span><span class="ident" id="7816956">FindStringSubmatch</span><span class="op" id="7816974">(</span><span class="ident" id="7816975">test</span><span class="op" id="7816979">.</span><span class="ident" id="7816980">text</span><span class="op" id="7816984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816988">switch</span>&nbsp;<span class="op" id="7816995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816999">case</span>&nbsp;<span class="ident" id="7817004">test</span><span class="op" id="7817008">.</span><span class="ident" id="7817009">matches</span>&nbsp;<span class="op" id="7817017">==</span>&nbsp;<span class="builtintype" id="7817020">nil</span>&nbsp;<span class="op" id="7817024">&amp;&amp;</span>&nbsp;<span class="ident" id="7817027">result</span>&nbsp;<span class="op" id="7817034">==</span>&nbsp;<span class="builtintype" id="7817037">nil</span><span class="op" id="7817040">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7817045">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817053">case</span>&nbsp;<span class="ident" id="7817058">test</span><span class="op" id="7817062">.</span><span class="ident" id="7817063">matches</span>&nbsp;<span class="op" id="7817071">==</span>&nbsp;<span class="builtintype" id="7817074">nil</span>&nbsp;<span class="op" id="7817078">&amp;&amp;</span>&nbsp;<span class="ident" id="7817081">result</span>&nbsp;<span class="op" id="7817088">!=</span>&nbsp;<span class="builtintype" id="7817091">nil</span><span class="op" id="7817094">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7817099">t</span><span class="op" id="7817100">.</span><span class="ident" id="7817101">Errorf</span><span class="op" id="7817107">(</span><span class="string" id="7817108">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7817140">,</span>&nbsp;<span class="ident" id="7817142">test</span><span class="op" id="7817146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817150">case</span>&nbsp;<span class="ident" id="7817155">test</span><span class="op" id="7817159">.</span><span class="ident" id="7817160">matches</span>&nbsp;<span class="op" id="7817168">!=</span>&nbsp;<span class="builtintype" id="7817171">nil</span>&nbsp;<span class="op" id="7817175">&amp;&amp;</span>&nbsp;<span class="ident" id="7817178">result</span>&nbsp;<span class="op" id="7817185">==</span>&nbsp;<span class="builtintype" id="7817188">nil</span><span class="op" id="7817191">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7817196">t</span><span class="op" id="7817197">.</span><span class="ident" id="7817198">Errorf</span><span class="op" id="7817204">(</span><span class="string" id="7817205">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7817235">,</span>&nbsp;<span class="ident" id="7817237">test</span><span class="op" id="7817241">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817245">case</span>&nbsp;<span class="ident" id="7817250">test</span><span class="op" id="7817254">.</span><span class="ident" id="7817255">matches</span>&nbsp;<span class="op" id="7817263">!=</span>&nbsp;<span class="builtintype" id="7817266">nil</span>&nbsp;<span class="op" id="7817270">&amp;&amp;</span>&nbsp;<span class="ident" id="7817273">result</span>&nbsp;<span class="op" id="7817280">!=</span>&nbsp;<span class="builtintype" id="7817283">nil</span><span class="op" id="7817286">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7817291">testSubmatchString</span><span class="op" id="7817309">(</span><span class="op" id="7817310">&amp;</span><span class="ident" id="7817311">test</span><span class="op" id="7817315">,</span>&nbsp;<span class="num" id="7817317">0</span><span class="op" id="7817318">,</span>&nbsp;<span class="ident" id="7817320">test</span><span class="op" id="7817324">.</span><span class="ident" id="7817325">matches</span><span class="op" id="7817332">[</span><span class="num" id="7817333">0</span><span class="op" id="7817334">]</span><span class="op" id="7817335">,</span>&nbsp;<span class="ident" id="7817337">result</span><span class="op" id="7817343">,</span>&nbsp;<span class="ident" id="7817345">t</span><span class="op" id="7817346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7817350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7817353">}</span><br>
<span class="lineno"></span><span class="op" id="7817355">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7817358">func</span>&nbsp;<span class="ident" id="7817363">testSubmatchIndices</span><span class="op" id="7817382">(</span><span class="ident" id="7817383">test</span>&nbsp;<span class="op" id="7817388">*</span><span class="ident" id="7817389">FindTest</span><span class="op" id="7817397">,</span>&nbsp;<span class="ident" id="7817399">n</span>&nbsp;<span class="builtintype" id="7817401">int</span><span class="op" id="7817404">,</span>&nbsp;<span class="ident" id="7817406">expect</span><span class="op" id="7817412">,</span>&nbsp;<span class="ident" id="7817414">result</span>&nbsp;<span class="op" id="7817421">[</span><span class="op" id="7817422">]</span><span class="builtintype" id="7817423">int</span><span class="op" id="7817426">,</span>&nbsp;<span class="ident" id="7817428">t</span>&nbsp;<span class="op" id="7817430">*</span><span class="ident" id="7817431">testing</span><span class="op" id="7817438">.</span><span class="ident" id="7817439">T</span><span class="op" id="7817440">)</span>&nbsp;<span class="op" id="7817442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817445">if</span>&nbsp;<span class="builtinfunc" id="7817448">len</span><span class="op" id="7817451">(</span><span class="ident" id="7817452">expect</span><span class="op" id="7817458">)</span>&nbsp;<span class="op" id="7817460">!=</span>&nbsp;<span class="builtinfunc" id="7817463">len</span><span class="op" id="7817466">(</span><span class="ident" id="7817467">result</span><span class="op" id="7817473">)</span>&nbsp;<span class="op" id="7817475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7817479">t</span><span class="op" id="7817480">.</span><span class="ident" id="7817481">Errorf</span><span class="op" id="7817487">(</span><span class="string" id="7817488">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7817531">,</span>&nbsp;<span class="ident" id="7817533">n</span><span class="op" id="7817534">,</span>&nbsp;<span class="builtinfunc" id="7817536">len</span><span class="op" id="7817539">(</span><span class="ident" id="7817540">expect</span><span class="op" id="7817546">)</span><span class="op" id="7817547">/</span><span class="num" id="7817548">2</span><span class="op" id="7817549">,</span>&nbsp;<span class="builtinfunc" id="7817551">len</span><span class="op" id="7817554">(</span><span class="ident" id="7817555">result</span><span class="op" id="7817561">)</span><span class="op" id="7817562">/</span><span class="num" id="7817563">2</span><span class="op" id="7817564">,</span>&nbsp;<span class="ident" id="7817566">test</span><span class="op" id="7817570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817574">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7817582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817585">for</span>&nbsp;<span class="ident" id="7817589">k</span><span class="op" id="7817590">,</span>&nbsp;<span class="ident" id="7817592">e</span>&nbsp;<span class="op" id="7817594">:=</span>&nbsp;<span class="keyword" id="7817597">range</span>&nbsp;<span class="ident" id="7817603">expect</span>&nbsp;<span class="op" id="7817610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817614">if</span>&nbsp;<span class="ident" id="7817617">e</span>&nbsp;<span class="op" id="7817619">!=</span>&nbsp;<span class="ident" id="7817622">result</span><span class="op" id="7817628">[</span><span class="ident" id="7817629">k</span><span class="op" id="7817630">]</span>&nbsp;<span class="op" id="7817632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7817637">t</span><span class="op" id="7817638">.</span><span class="ident" id="7817639">Errorf</span><span class="op" id="7817645">(</span><span class="string" id="7817646">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7817696">,</span>&nbsp;<span class="ident" id="7817698">n</span><span class="op" id="7817699">,</span>&nbsp;<span class="ident" id="7817701">expect</span><span class="op" id="7817707">,</span>&nbsp;<span class="ident" id="7817709">result</span><span class="op" id="7817715">,</span>&nbsp;<span class="ident" id="7817717">test</span><span class="op" id="7817721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7817725">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7817728">}</span><br>
<span class="lineno"></span><span class="op" id="7817730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7817733">func</span>&nbsp;<span class="ident" id="7817738">testFindSubmatchIndex</span><span class="op" id="7817759">(</span><span class="ident" id="7817760">test</span>&nbsp;<span class="op" id="7817765">*</span><span class="ident" id="7817766">FindTest</span><span class="op" id="7817774">,</span>&nbsp;<span class="ident" id="7817776">result</span>&nbsp;<span class="op" id="7817783">[</span><span class="op" id="7817784">]</span><span class="builtintype" id="7817785">int</span><span class="op" id="7817788">,</span>&nbsp;<span class="ident" id="7817790">t</span>&nbsp;<span class="op" id="7817792">*</span><span class="ident" id="7817793">testing</span><span class="op" id="7817800">.</span><span class="ident" id="7817801">T</span><span class="op" id="7817802">)</span>&nbsp;<span class="op" id="7817804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817807">switch</span>&nbsp;<span class="op" id="7817814">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817817">case</span>&nbsp;<span class="ident" id="7817822">test</span><span class="op" id="7817826">.</span><span class="ident" id="7817827">matches</span>&nbsp;<span class="op" id="7817835">==</span>&nbsp;<span class="builtintype" id="7817838">nil</span>&nbsp;<span class="op" id="7817842">&amp;&amp;</span>&nbsp;<span class="ident" id="7817845">result</span>&nbsp;<span class="op" id="7817852">==</span>&nbsp;<span class="builtintype" id="7817855">nil</span><span class="op" id="7817858">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7817862">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817869">case</span>&nbsp;<span class="ident" id="7817874">test</span><span class="op" id="7817878">.</span><span class="ident" id="7817879">matches</span>&nbsp;<span class="op" id="7817887">==</span>&nbsp;<span class="builtintype" id="7817890">nil</span>&nbsp;<span class="op" id="7817894">&amp;&amp;</span>&nbsp;<span class="ident" id="7817897">result</span>&nbsp;<span class="op" id="7817904">!=</span>&nbsp;<span class="builtintype" id="7817907">nil</span><span class="op" id="7817910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7817914">t</span><span class="op" id="7817915">.</span><span class="ident" id="7817916">Errorf</span><span class="op" id="7817922">(</span><span class="string" id="7817923">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7817955">,</span>&nbsp;<span class="ident" id="7817957">test</span><span class="op" id="7817961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7817964">case</span>&nbsp;<span class="ident" id="7817969">test</span><span class="op" id="7817973">.</span><span class="ident" id="7817974">matches</span>&nbsp;<span class="op" id="7817982">!=</span>&nbsp;<span class="builtintype" id="7817985">nil</span>&nbsp;<span class="op" id="7817989">&amp;&amp;</span>&nbsp;<span class="ident" id="7817992">result</span>&nbsp;<span class="op" id="7817999">==</span>&nbsp;<span class="builtintype" id="7818002">nil</span><span class="op" id="7818005">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7818009">t</span><span class="op" id="7818010">.</span><span class="ident" id="7818011">Errorf</span><span class="op" id="7818017">(</span><span class="string" id="7818018">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7818048">,</span>&nbsp;<span class="ident" id="7818050">test</span><span class="op" id="7818054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818057">case</span>&nbsp;<span class="ident" id="7818062">test</span><span class="op" id="7818066">.</span><span class="ident" id="7818067">matches</span>&nbsp;<span class="op" id="7818075">!=</span>&nbsp;<span class="builtintype" id="7818078">nil</span>&nbsp;<span class="op" id="7818082">&amp;&amp;</span>&nbsp;<span class="ident" id="7818085">result</span>&nbsp;<span class="op" id="7818092">!=</span>&nbsp;<span class="builtintype" id="7818095">nil</span><span class="op" id="7818098">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7818102">testSubmatchIndices</span><span class="op" id="7818121">(</span><span class="ident" id="7818122">test</span><span class="op" id="7818126">,</span>&nbsp;<span class="num" id="7818128">0</span><span class="op" id="7818129">,</span>&nbsp;<span class="ident" id="7818131">test</span><span class="op" id="7818135">.</span><span class="ident" id="7818136">matches</span><span class="op" id="7818143">[</span><span class="num" id="7818144">0</span><span class="op" id="7818145">]</span><span class="op" id="7818146">,</span>&nbsp;<span class="ident" id="7818148">result</span><span class="op" id="7818154">,</span>&nbsp;<span class="ident" id="7818156">t</span><span class="op" id="7818157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7818160">}</span><br>
<span class="lineno"></span><span class="op" id="7818162">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="7818165">func</span>&nbsp;<span class="ident" id="7818170">TestFindSubmatchIndex</span><span class="op" id="7818191">(</span><span class="ident" id="7818192">t</span>&nbsp;<span class="op" id="7818194">*</span><span class="ident" id="7818195">testing</span><span class="op" id="7818202">.</span><span class="ident" id="7818203">T</span><span class="op" id="7818204">)</span>&nbsp;<span class="op" id="7818206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818209">for</span>&nbsp;<span class="ident" id="7818213">_</span><span class="op" id="7818214">,</span>&nbsp;<span class="ident" id="7818216">test</span>&nbsp;<span class="op" id="7818221">:=</span>&nbsp;<span class="keyword" id="7818224">range</span>&nbsp;<span class="ident" id="7818230">findTests</span>&nbsp;<span class="op" id="7818240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7818244">testFindSubmatchIndex</span><span class="op" id="7818265">(</span><span class="op" id="7818266">&amp;</span><span class="ident" id="7818267">test</span><span class="op" id="7818271">,</span>&nbsp;<span class="ident" id="7818273">MustCompile</span><span class="op" id="7818284">(</span><span class="ident" id="7818285">test</span><span class="op" id="7818289">.</span><span class="ident" id="7818290">pat</span><span class="op" id="7818293">)</span><span class="op" id="7818294">.</span><span class="ident" id="7818295">FindSubmatchIndex</span><span class="op" id="7818312">(</span><span class="op" id="7818313">[</span><span class="op" id="7818314">]</span><span class="builtintype" id="7818315">byte</span><span class="op" id="7818319">(</span><span class="ident" id="7818320">test</span><span class="op" id="7818324">.</span><span class="ident" id="7818325">text</span><span class="op" id="7818329">)</span><span class="op" id="7818330">)</span><span class="op" id="7818331">,</span>&nbsp;<span class="ident" id="7818333">t</span><span class="op" id="7818334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7818337">}</span><br>
<span class="lineno">415</span><span class="op" id="7818339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7818342">func</span>&nbsp;<span class="ident" id="7818347">TestFindStringSubmatchIndex</span><span class="op" id="7818374">(</span><span class="ident" id="7818375">t</span>&nbsp;<span class="op" id="7818377">*</span><span class="ident" id="7818378">testing</span><span class="op" id="7818385">.</span><span class="ident" id="7818386">T</span><span class="op" id="7818387">)</span>&nbsp;<span class="op" id="7818389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818392">for</span>&nbsp;<span class="ident" id="7818396">_</span><span class="op" id="7818397">,</span>&nbsp;<span class="ident" id="7818399">test</span>&nbsp;<span class="op" id="7818404">:=</span>&nbsp;<span class="keyword" id="7818407">range</span>&nbsp;<span class="ident" id="7818413">findTests</span>&nbsp;<span class="op" id="7818423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7818427">testFindSubmatchIndex</span><span class="op" id="7818448">(</span><span class="op" id="7818449">&amp;</span><span class="ident" id="7818450">test</span><span class="op" id="7818454">,</span>&nbsp;<span class="ident" id="7818456">MustCompile</span><span class="op" id="7818467">(</span><span class="ident" id="7818468">test</span><span class="op" id="7818472">.</span><span class="ident" id="7818473">pat</span><span class="op" id="7818476">)</span><span class="op" id="7818477">.</span><span class="ident" id="7818478">FindStringSubmatchIndex</span><span class="op" id="7818501">(</span><span class="ident" id="7818502">test</span><span class="op" id="7818506">.</span><span class="ident" id="7818507">text</span><span class="op" id="7818511">)</span><span class="op" id="7818512">,</span>&nbsp;<span class="ident" id="7818514">t</span><span class="op" id="7818515">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7818518">}</span><br>
<span class="lineno"></span><span class="op" id="7818520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7818523">func</span>&nbsp;<span class="ident" id="7818528">TestFindReaderSubmatchIndex</span><span class="op" id="7818555">(</span><span class="ident" id="7818556">t</span>&nbsp;<span class="op" id="7818558">*</span><span class="ident" id="7818559">testing</span><span class="op" id="7818566">.</span><span class="ident" id="7818567">T</span><span class="op" id="7818568">)</span>&nbsp;<span class="op" id="7818570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818573">for</span>&nbsp;<span class="ident" id="7818577">_</span><span class="op" id="7818578">,</span>&nbsp;<span class="ident" id="7818580">test</span>&nbsp;<span class="op" id="7818585">:=</span>&nbsp;<span class="keyword" id="7818588">range</span>&nbsp;<span class="ident" id="7818594">findTests</span>&nbsp;<span class="op" id="7818604">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7818608">testFindSubmatchIndex</span><span class="op" id="7818629">(</span><span class="op" id="7818630">&amp;</span><span class="ident" id="7818631">test</span><span class="op" id="7818635">,</span>&nbsp;<span class="ident" id="7818637">MustCompile</span><span class="op" id="7818648">(</span><span class="ident" id="7818649">test</span><span class="op" id="7818653">.</span><span class="ident" id="7818654">pat</span><span class="op" id="7818657">)</span><span class="op" id="7818658">.</span><span class="ident" id="7818659">FindReaderSubmatchIndex</span><span class="op" id="7818682">(</span><span class="ident" id="7818683">strings</span><span class="op" id="7818690">.</span><span class="ident" id="7818691">NewReader</span><span class="op" id="7818700">(</span><span class="ident" id="7818701">test</span><span class="op" id="7818705">.</span><span class="ident" id="7818706">text</span><span class="op" id="7818710">)</span><span class="op" id="7818711">)</span><span class="op" id="7818712">,</span>&nbsp;<span class="ident" id="7818714">t</span><span class="op" id="7818715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7818718">}</span><br>
<span class="lineno"></span><span class="op" id="7818720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7818723">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="7818767">func</span>&nbsp;<span class="ident" id="7818772">TestFindAllSubmatch</span><span class="op" id="7818791">(</span><span class="ident" id="7818792">t</span>&nbsp;<span class="op" id="7818794">*</span><span class="ident" id="7818795">testing</span><span class="op" id="7818802">.</span><span class="ident" id="7818803">T</span><span class="op" id="7818804">)</span>&nbsp;<span class="op" id="7818806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818809">for</span>&nbsp;<span class="ident" id="7818813">_</span><span class="op" id="7818814">,</span>&nbsp;<span class="ident" id="7818816">test</span>&nbsp;<span class="op" id="7818821">:=</span>&nbsp;<span class="keyword" id="7818824">range</span>&nbsp;<span class="ident" id="7818830">findTests</span>&nbsp;<span class="op" id="7818840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7818844">result</span>&nbsp;<span class="op" id="7818851">:=</span>&nbsp;<span class="ident" id="7818854">MustCompile</span><span class="op" id="7818865">(</span><span class="ident" id="7818866">test</span><span class="op" id="7818870">.</span><span class="ident" id="7818871">pat</span><span class="op" id="7818874">)</span><span class="op" id="7818875">.</span><span class="ident" id="7818876">FindAllSubmatch</span><span class="op" id="7818891">(</span><span class="op" id="7818892">[</span><span class="op" id="7818893">]</span><span class="builtintype" id="7818894">byte</span><span class="op" id="7818898">(</span><span class="ident" id="7818899">test</span><span class="op" id="7818903">.</span><span class="ident" id="7818904">text</span><span class="op" id="7818908">)</span><span class="op" id="7818909">,</span>&nbsp;<span class="op" id="7818911">-</span><span class="num" id="7818912">1</span><span class="op" id="7818913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818917">switch</span>&nbsp;<span class="op" id="7818924">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818928">case</span>&nbsp;<span class="ident" id="7818933">test</span><span class="op" id="7818937">.</span><span class="ident" id="7818938">matches</span>&nbsp;<span class="op" id="7818946">==</span>&nbsp;<span class="builtintype" id="7818949">nil</span>&nbsp;<span class="op" id="7818953">&amp;&amp;</span>&nbsp;<span class="ident" id="7818956">result</span>&nbsp;<span class="op" id="7818963">==</span>&nbsp;<span class="builtintype" id="7818966">nil</span><span class="op" id="7818969">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7818974">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7818982">case</span>&nbsp;<span class="ident" id="7818987">test</span><span class="op" id="7818991">.</span><span class="ident" id="7818992">matches</span>&nbsp;<span class="op" id="7819000">==</span>&nbsp;<span class="builtintype" id="7819003">nil</span>&nbsp;<span class="op" id="7819007">&amp;&amp;</span>&nbsp;<span class="ident" id="7819010">result</span>&nbsp;<span class="op" id="7819017">!=</span>&nbsp;<span class="builtintype" id="7819020">nil</span><span class="op" id="7819023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819028">t</span><span class="op" id="7819029">.</span><span class="ident" id="7819030">Errorf</span><span class="op" id="7819036">(</span><span class="string" id="7819037">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7819069">,</span>&nbsp;<span class="ident" id="7819071">test</span><span class="op" id="7819075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819079">case</span>&nbsp;<span class="ident" id="7819084">test</span><span class="op" id="7819088">.</span><span class="ident" id="7819089">matches</span>&nbsp;<span class="op" id="7819097">!=</span>&nbsp;<span class="builtintype" id="7819100">nil</span>&nbsp;<span class="op" id="7819104">&amp;&amp;</span>&nbsp;<span class="ident" id="7819107">result</span>&nbsp;<span class="op" id="7819114">==</span>&nbsp;<span class="builtintype" id="7819117">nil</span><span class="op" id="7819120">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819125">t</span><span class="op" id="7819126">.</span><span class="ident" id="7819127">Errorf</span><span class="op" id="7819133">(</span><span class="string" id="7819134">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7819164">,</span>&nbsp;<span class="ident" id="7819166">test</span><span class="op" id="7819170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819174">case</span>&nbsp;<span class="builtinfunc" id="7819179">len</span><span class="op" id="7819182">(</span><span class="ident" id="7819183">test</span><span class="op" id="7819187">.</span><span class="ident" id="7819188">matches</span><span class="op" id="7819195">)</span>&nbsp;<span class="op" id="7819197">!=</span>&nbsp;<span class="builtinfunc" id="7819200">len</span><span class="op" id="7819203">(</span><span class="ident" id="7819204">result</span><span class="op" id="7819210">)</span><span class="op" id="7819211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819216">t</span><span class="op" id="7819217">.</span><span class="ident" id="7819218">Errorf</span><span class="op" id="7819224">(</span><span class="string" id="7819225">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7819258">,</span>&nbsp;<span class="builtinfunc" id="7819260">len</span><span class="op" id="7819263">(</span><span class="ident" id="7819264">test</span><span class="op" id="7819268">.</span><span class="ident" id="7819269">matches</span><span class="op" id="7819276">)</span><span class="op" id="7819277">,</span>&nbsp;<span class="builtinfunc" id="7819279">len</span><span class="op" id="7819282">(</span><span class="ident" id="7819283">result</span><span class="op" id="7819289">)</span><span class="op" id="7819290">,</span>&nbsp;<span class="ident" id="7819292">test</span><span class="op" id="7819296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819300">case</span>&nbsp;<span class="ident" id="7819305">test</span><span class="op" id="7819309">.</span><span class="ident" id="7819310">matches</span>&nbsp;<span class="op" id="7819318">!=</span>&nbsp;<span class="builtintype" id="7819321">nil</span>&nbsp;<span class="op" id="7819325">&amp;&amp;</span>&nbsp;<span class="ident" id="7819328">result</span>&nbsp;<span class="op" id="7819335">!=</span>&nbsp;<span class="builtintype" id="7819338">nil</span><span class="op" id="7819341">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819346">for</span>&nbsp;<span class="ident" id="7819350">k</span><span class="op" id="7819351">,</span>&nbsp;<span class="ident" id="7819353">match</span>&nbsp;<span class="op" id="7819359">:=</span>&nbsp;<span class="keyword" id="7819362">range</span>&nbsp;<span class="ident" id="7819368">test</span><span class="op" id="7819372">.</span><span class="ident" id="7819373">matches</span>&nbsp;<span class="op" id="7819381">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819387">testSubmatchBytes</span><span class="op" id="7819404">(</span><span class="op" id="7819405">&amp;</span><span class="ident" id="7819406">test</span><span class="op" id="7819410">,</span>&nbsp;<span class="ident" id="7819412">k</span><span class="op" id="7819413">,</span>&nbsp;<span class="ident" id="7819415">match</span><span class="op" id="7819420">,</span>&nbsp;<span class="ident" id="7819422">result</span><span class="op" id="7819428">[</span><span class="ident" id="7819429">k</span><span class="op" id="7819430">]</span><span class="op" id="7819431">,</span>&nbsp;<span class="ident" id="7819433">t</span><span class="op" id="7819434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7819439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7819443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7819446">}</span><br>
<span class="lineno"></span><span class="op" id="7819448">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7819451">func</span>&nbsp;<span class="ident" id="7819456">TestFindAllStringSubmatch</span><span class="op" id="7819481">(</span><span class="ident" id="7819482">t</span>&nbsp;<span class="op" id="7819484">*</span><span class="ident" id="7819485">testing</span><span class="op" id="7819492">.</span><span class="ident" id="7819493">T</span><span class="op" id="7819494">)</span>&nbsp;<span class="op" id="7819496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819499">for</span>&nbsp;<span class="ident" id="7819503">_</span><span class="op" id="7819504">,</span>&nbsp;<span class="ident" id="7819506">test</span>&nbsp;<span class="op" id="7819511">:=</span>&nbsp;<span class="keyword" id="7819514">range</span>&nbsp;<span class="ident" id="7819520">findTests</span>&nbsp;<span class="op" id="7819530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819534">result</span>&nbsp;<span class="op" id="7819541">:=</span>&nbsp;<span class="ident" id="7819544">MustCompile</span><span class="op" id="7819555">(</span><span class="ident" id="7819556">test</span><span class="op" id="7819560">.</span><span class="ident" id="7819561">pat</span><span class="op" id="7819564">)</span><span class="op" id="7819565">.</span><span class="ident" id="7819566">FindAllStringSubmatch</span><span class="op" id="7819587">(</span><span class="ident" id="7819588">test</span><span class="op" id="7819592">.</span><span class="ident" id="7819593">text</span><span class="op" id="7819597">,</span>&nbsp;<span class="op" id="7819599">-</span><span class="num" id="7819600">1</span><span class="op" id="7819601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819605">switch</span>&nbsp;<span class="op" id="7819612">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819616">case</span>&nbsp;<span class="ident" id="7819621">test</span><span class="op" id="7819625">.</span><span class="ident" id="7819626">matches</span>&nbsp;<span class="op" id="7819634">==</span>&nbsp;<span class="builtintype" id="7819637">nil</span>&nbsp;<span class="op" id="7819641">&amp;&amp;</span>&nbsp;<span class="ident" id="7819644">result</span>&nbsp;<span class="op" id="7819651">==</span>&nbsp;<span class="builtintype" id="7819654">nil</span><span class="op" id="7819657">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7819662">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819670">case</span>&nbsp;<span class="ident" id="7819675">test</span><span class="op" id="7819679">.</span><span class="ident" id="7819680">matches</span>&nbsp;<span class="op" id="7819688">==</span>&nbsp;<span class="builtintype" id="7819691">nil</span>&nbsp;<span class="op" id="7819695">&amp;&amp;</span>&nbsp;<span class="ident" id="7819698">result</span>&nbsp;<span class="op" id="7819705">!=</span>&nbsp;<span class="builtintype" id="7819708">nil</span><span class="op" id="7819711">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819716">t</span><span class="op" id="7819717">.</span><span class="ident" id="7819718">Errorf</span><span class="op" id="7819724">(</span><span class="string" id="7819725">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7819757">,</span>&nbsp;<span class="ident" id="7819759">test</span><span class="op" id="7819763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819767">case</span>&nbsp;<span class="ident" id="7819772">test</span><span class="op" id="7819776">.</span><span class="ident" id="7819777">matches</span>&nbsp;<span class="op" id="7819785">!=</span>&nbsp;<span class="builtintype" id="7819788">nil</span>&nbsp;<span class="op" id="7819792">&amp;&amp;</span>&nbsp;<span class="ident" id="7819795">result</span>&nbsp;<span class="op" id="7819802">==</span>&nbsp;<span class="builtintype" id="7819805">nil</span><span class="op" id="7819808">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819813">t</span><span class="op" id="7819814">.</span><span class="ident" id="7819815">Errorf</span><span class="op" id="7819821">(</span><span class="string" id="7819822">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7819852">,</span>&nbsp;<span class="ident" id="7819854">test</span><span class="op" id="7819858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819862">case</span>&nbsp;<span class="builtinfunc" id="7819867">len</span><span class="op" id="7819870">(</span><span class="ident" id="7819871">test</span><span class="op" id="7819875">.</span><span class="ident" id="7819876">matches</span><span class="op" id="7819883">)</span>&nbsp;<span class="op" id="7819885">!=</span>&nbsp;<span class="builtinfunc" id="7819888">len</span><span class="op" id="7819891">(</span><span class="ident" id="7819892">result</span><span class="op" id="7819898">)</span><span class="op" id="7819899">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7819904">t</span><span class="op" id="7819905">.</span><span class="ident" id="7819906">Errorf</span><span class="op" id="7819912">(</span><span class="string" id="7819913">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7819946">,</span>&nbsp;<span class="builtinfunc" id="7819948">len</span><span class="op" id="7819951">(</span><span class="ident" id="7819952">test</span><span class="op" id="7819956">.</span><span class="ident" id="7819957">matches</span><span class="op" id="7819964">)</span><span class="op" id="7819965">,</span>&nbsp;<span class="builtinfunc" id="7819967">len</span><span class="op" id="7819970">(</span><span class="ident" id="7819971">result</span><span class="op" id="7819977">)</span><span class="op" id="7819978">,</span>&nbsp;<span class="ident" id="7819980">test</span><span class="op" id="7819984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7819988">case</span>&nbsp;<span class="ident" id="7819993">test</span><span class="op" id="7819997">.</span><span class="ident" id="7819998">matches</span>&nbsp;<span class="op" id="7820006">!=</span>&nbsp;<span class="builtintype" id="7820009">nil</span>&nbsp;<span class="op" id="7820013">&amp;&amp;</span>&nbsp;<span class="ident" id="7820016">result</span>&nbsp;<span class="op" id="7820023">!=</span>&nbsp;<span class="builtintype" id="7820026">nil</span><span class="op" id="7820029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820034">for</span>&nbsp;<span class="ident" id="7820038">k</span><span class="op" id="7820039">,</span>&nbsp;<span class="ident" id="7820041">match</span>&nbsp;<span class="op" id="7820047">:=</span>&nbsp;<span class="keyword" id="7820050">range</span>&nbsp;<span class="ident" id="7820056">test</span><span class="op" id="7820060">.</span><span class="ident" id="7820061">matches</span>&nbsp;<span class="op" id="7820069">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7820075">testSubmatchString</span><span class="op" id="7820093">(</span><span class="op" id="7820094">&amp;</span><span class="ident" id="7820095">test</span><span class="op" id="7820099">,</span>&nbsp;<span class="ident" id="7820101">k</span><span class="op" id="7820102">,</span>&nbsp;<span class="ident" id="7820104">match</span><span class="op" id="7820109">,</span>&nbsp;<span class="ident" id="7820111">result</span><span class="op" id="7820117">[</span><span class="ident" id="7820118">k</span><span class="op" id="7820119">]</span><span class="op" id="7820120">,</span>&nbsp;<span class="ident" id="7820122">t</span><span class="op" id="7820123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7820128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7820132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7820135">}</span><br>
<span class="lineno"></span><span class="op" id="7820137">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7820140">func</span>&nbsp;<span class="ident" id="7820145">testFindAllSubmatchIndex</span><span class="op" id="7820169">(</span><span class="ident" id="7820170">test</span>&nbsp;<span class="op" id="7820175">*</span><span class="ident" id="7820176">FindTest</span><span class="op" id="7820184">,</span>&nbsp;<span class="ident" id="7820186">result</span>&nbsp;<span class="op" id="7820193">[</span><span class="op" id="7820194">]</span><span class="op" id="7820195">[</span><span class="op" id="7820196">]</span><span class="builtintype" id="7820197">int</span><span class="op" id="7820200">,</span>&nbsp;<span class="ident" id="7820202">t</span>&nbsp;<span class="op" id="7820204">*</span><span class="ident" id="7820205">testing</span><span class="op" id="7820212">.</span><span class="ident" id="7820213">T</span><span class="op" id="7820214">)</span>&nbsp;<span class="op" id="7820216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820219">switch</span>&nbsp;<span class="op" id="7820226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820229">case</span>&nbsp;<span class="ident" id="7820234">test</span><span class="op" id="7820238">.</span><span class="ident" id="7820239">matches</span>&nbsp;<span class="op" id="7820247">==</span>&nbsp;<span class="builtintype" id="7820250">nil</span>&nbsp;<span class="op" id="7820254">&amp;&amp;</span>&nbsp;<span class="ident" id="7820257">result</span>&nbsp;<span class="op" id="7820264">==</span>&nbsp;<span class="builtintype" id="7820267">nil</span><span class="op" id="7820270">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7820274">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820281">case</span>&nbsp;<span class="ident" id="7820286">test</span><span class="op" id="7820290">.</span><span class="ident" id="7820291">matches</span>&nbsp;<span class="op" id="7820299">==</span>&nbsp;<span class="builtintype" id="7820302">nil</span>&nbsp;<span class="op" id="7820306">&amp;&amp;</span>&nbsp;<span class="ident" id="7820309">result</span>&nbsp;<span class="op" id="7820316">!=</span>&nbsp;<span class="builtintype" id="7820319">nil</span><span class="op" id="7820322">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7820326">t</span><span class="op" id="7820327">.</span><span class="ident" id="7820328">Errorf</span><span class="op" id="7820334">(</span><span class="string" id="7820335">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7820367">,</span>&nbsp;<span class="ident" id="7820369">test</span><span class="op" id="7820373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820376">case</span>&nbsp;<span class="ident" id="7820381">test</span><span class="op" id="7820385">.</span><span class="ident" id="7820386">matches</span>&nbsp;<span class="op" id="7820394">!=</span>&nbsp;<span class="builtintype" id="7820397">nil</span>&nbsp;<span class="op" id="7820401">&amp;&amp;</span>&nbsp;<span class="ident" id="7820404">result</span>&nbsp;<span class="op" id="7820411">==</span>&nbsp;<span class="builtintype" id="7820414">nil</span><span class="op" id="7820417">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7820421">t</span><span class="op" id="7820422">.</span><span class="ident" id="7820423">Errorf</span><span class="op" id="7820429">(</span><span class="string" id="7820430">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7820460">,</span>&nbsp;<span class="ident" id="7820462">test</span><span class="op" id="7820466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820469">case</span>&nbsp;<span class="builtinfunc" id="7820474">len</span><span class="op" id="7820477">(</span><span class="ident" id="7820478">test</span><span class="op" id="7820482">.</span><span class="ident" id="7820483">matches</span><span class="op" id="7820490">)</span>&nbsp;<span class="op" id="7820492">!=</span>&nbsp;<span class="builtinfunc" id="7820495">len</span><span class="op" id="7820498">(</span><span class="ident" id="7820499">result</span><span class="op" id="7820505">)</span><span class="op" id="7820506">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7820510">t</span><span class="op" id="7820511">.</span><span class="ident" id="7820512">Errorf</span><span class="op" id="7820518">(</span><span class="string" id="7820519">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7820552">,</span>&nbsp;<span class="builtinfunc" id="7820554">len</span><span class="op" id="7820557">(</span><span class="ident" id="7820558">test</span><span class="op" id="7820562">.</span><span class="ident" id="7820563">matches</span><span class="op" id="7820570">)</span><span class="op" id="7820571">,</span>&nbsp;<span class="builtinfunc" id="7820573">len</span><span class="op" id="7820576">(</span><span class="ident" id="7820577">result</span><span class="op" id="7820583">)</span><span class="op" id="7820584">,</span>&nbsp;<span class="ident" id="7820586">test</span><span class="op" id="7820590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820593">case</span>&nbsp;<span class="ident" id="7820598">test</span><span class="op" id="7820602">.</span><span class="ident" id="7820603">matches</span>&nbsp;<span class="op" id="7820611">!=</span>&nbsp;<span class="builtintype" id="7820614">nil</span>&nbsp;<span class="op" id="7820618">&amp;&amp;</span>&nbsp;<span class="ident" id="7820621">result</span>&nbsp;<span class="op" id="7820628">!=</span>&nbsp;<span class="builtintype" id="7820631">nil</span><span class="op" id="7820634">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820638">for</span>&nbsp;<span class="ident" id="7820642">k</span><span class="op" id="7820643">,</span>&nbsp;<span class="ident" id="7820645">match</span>&nbsp;<span class="op" id="7820651">:=</span>&nbsp;<span class="keyword" id="7820654">range</span>&nbsp;<span class="ident" id="7820660">test</span><span class="op" id="7820664">.</span><span class="ident" id="7820665">matches</span>&nbsp;<span class="op" id="7820673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7820678">testSubmatchIndices</span><span class="op" id="7820697">(</span><span class="ident" id="7820698">test</span><span class="op" id="7820702">,</span>&nbsp;<span class="ident" id="7820704">k</span><span class="op" id="7820705">,</span>&nbsp;<span class="ident" id="7820707">match</span><span class="op" id="7820712">,</span>&nbsp;<span class="ident" id="7820714">result</span><span class="op" id="7820720">[</span><span class="ident" id="7820721">k</span><span class="op" id="7820722">]</span><span class="op" id="7820723">,</span>&nbsp;<span class="ident" id="7820725">t</span><span class="op" id="7820726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7820730">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7820733">}</span><br>
<span class="lineno"></span><span class="op" id="7820735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7820738">func</span>&nbsp;<span class="ident" id="7820743">TestFindAllSubmatchIndex</span><span class="op" id="7820767">(</span><span class="ident" id="7820768">t</span>&nbsp;<span class="op" id="7820770">*</span><span class="ident" id="7820771">testing</span><span class="op" id="7820778">.</span><span class="ident" id="7820779">T</span><span class="op" id="7820780">)</span>&nbsp;<span class="op" id="7820782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820785">for</span>&nbsp;<span class="ident" id="7820789">_</span><span class="op" id="7820790">,</span>&nbsp;<span class="ident" id="7820792">test</span>&nbsp;<span class="op" id="7820797">:=</span>&nbsp;<span class="keyword" id="7820800">range</span>&nbsp;<span class="ident" id="7820806">findTests</span>&nbsp;<span class="op" id="7820816">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7820820">testFindAllSubmatchIndex</span><span class="op" id="7820844">(</span><span class="op" id="7820845">&amp;</span><span class="ident" id="7820846">test</span><span class="op" id="7820850">,</span>&nbsp;<span class="ident" id="7820852">MustCompile</span><span class="op" id="7820863">(</span><span class="ident" id="7820864">test</span><span class="op" id="7820868">.</span><span class="ident" id="7820869">pat</span><span class="op" id="7820872">)</span><span class="op" id="7820873">.</span><span class="ident" id="7820874">FindAllSubmatchIndex</span><span class="op" id="7820894">(</span><span class="op" id="7820895">[</span><span class="op" id="7820896">]</span><span class="builtintype" id="7820897">byte</span><span class="op" id="7820901">(</span><span class="ident" id="7820902">test</span><span class="op" id="7820906">.</span><span class="ident" id="7820907">text</span><span class="op" id="7820911">)</span><span class="op" id="7820912">,</span>&nbsp;<span class="op" id="7820914">-</span><span class="num" id="7820915">1</span><span class="op" id="7820916">)</span><span class="op" id="7820917">,</span>&nbsp;<span class="ident" id="7820919">t</span><span class="op" id="7820920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7820923">}</span><br>
<span class="lineno"></span><span class="op" id="7820925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7820928">func</span>&nbsp;<span class="ident" id="7820933">TestFindAllStringSubmatchIndex</span><span class="op" id="7820963">(</span><span class="ident" id="7820964">t</span>&nbsp;<span class="op" id="7820966">*</span><span class="ident" id="7820967">testing</span><span class="op" id="7820974">.</span><span class="ident" id="7820975">T</span><span class="op" id="7820976">)</span>&nbsp;<span class="op" id="7820978">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7820981">for</span>&nbsp;<span class="ident" id="7820985">_</span><span class="op" id="7820986">,</span>&nbsp;<span class="ident" id="7820988">test</span>&nbsp;<span class="op" id="7820993">:=</span>&nbsp;<span class="keyword" id="7820996">range</span>&nbsp;<span class="ident" id="7821002">findTests</span>&nbsp;<span class="op" id="7821012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7821016">testFindAllSubmatchIndex</span><span class="op" id="7821040">(</span><span class="op" id="7821041">&amp;</span><span class="ident" id="7821042">test</span><span class="op" id="7821046">,</span>&nbsp;<span class="ident" id="7821048">MustCompile</span><span class="op" id="7821059">(</span><span class="ident" id="7821060">test</span><span class="op" id="7821064">.</span><span class="ident" id="7821065">pat</span><span class="op" id="7821068">)</span><span class="op" id="7821069">.</span><span class="ident" id="7821070">FindAllStringSubmatchIndex</span><span class="op" id="7821096">(</span><span class="ident" id="7821097">test</span><span class="op" id="7821101">.</span><span class="ident" id="7821102">text</span><span class="op" id="7821106">,</span>&nbsp;<span class="op" id="7821108">-</span><span class="num" id="7821109">1</span><span class="op" id="7821110">)</span><span class="op" id="7821111">,</span>&nbsp;<span class="ident" id="7821113">t</span><span class="op" id="7821114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821117">}</span><br>
<span class="lineno"></span><span class="op" id="7821119">}</span>
</div>
</body>
</html>
