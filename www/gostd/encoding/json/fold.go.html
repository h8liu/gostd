<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4791250">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4791305">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4791359">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4791410">package</span>&nbsp;<span class="ident" id="4791418">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4791424">import</span>&nbsp;<span class="op" id="4791431">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4791434">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4791443">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="4791458">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4791461">const</span>&nbsp;<span class="op" id="4791467">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791470">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4791483">=</span>&nbsp;<span class="op" id="4791485">^</span><span class="builtintype" id="4791486">byte</span><span class="op" id="4791490">(</span><span class="num" id="4791491">0x20</span><span class="op" id="4791495">)</span>&nbsp;<span class="comment" id="4791497">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791531">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4791544">=</span>&nbsp;<span class="string" id="4791546">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791556">smallLongEss</span>&nbsp;<span class="op" id="4791569">=</span>&nbsp;<span class="string" id="4791571">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="4791580">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791583">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="4791650">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="4791705">//</span><br>
<span class="lineno"></span><span class="comment" id="4791708">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="4791773">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="4791852">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="4791925">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="4791983">//</span><br>
<span class="lineno"></span><span class="comment" id="4791986">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="4792062">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="4792125">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="4792175">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="4792218">//</span><br>
<span class="lineno"></span><span class="comment" id="4792221">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4792288">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="4792357">func</span>&nbsp;<span class="ident" id="4792362">foldFunc</span><span class="op" id="4792370">(</span><span class="ident" id="4792371">s</span>&nbsp;<span class="op" id="4792373">[</span><span class="op" id="4792374">]</span><span class="builtintype" id="4792375">byte</span><span class="op" id="4792379">)</span>&nbsp;<span class="keyword" id="4792381">func</span><span class="op" id="4792385">(</span><span class="ident" id="4792386">s</span><span class="op" id="4792387">,</span>&nbsp;<span class="ident" id="4792389">t</span>&nbsp;<span class="op" id="4792391">[</span><span class="op" id="4792392">]</span><span class="builtintype" id="4792393">byte</span><span class="op" id="4792397">)</span>&nbsp;<span class="builtintype" id="4792399">bool</span>&nbsp;<span class="op" id="4792404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792407">nonLetter</span>&nbsp;<span class="op" id="4792417">:=</span>&nbsp;<span class="builtintype" id="4792420">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792427">special</span>&nbsp;<span class="op" id="4792435">:=</span>&nbsp;<span class="builtintype" id="4792438">false</span>&nbsp;<span class="comment" id="4792444">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792463">for</span>&nbsp;<span class="ident" id="4792467">_</span><span class="op" id="4792468">,</span>&nbsp;<span class="ident" id="4792470">b</span>&nbsp;<span class="op" id="4792472">:=</span>&nbsp;<span class="keyword" id="4792475">range</span>&nbsp;<span class="ident" id="4792481">s</span>&nbsp;<span class="op" id="4792483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792487">if</span>&nbsp;<span class="ident" id="4792490">b</span>&nbsp;<span class="op" id="4792492">&gt;=</span>&nbsp;<span class="ident" id="4792495">utf8</span><span class="op" id="4792499">.</span><span class="ident" id="4792500">RuneSelf</span>&nbsp;<span class="op" id="4792509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792514">return</span>&nbsp;<span class="ident" id="4792521">bytes</span><span class="op" id="4792526">.</span><span class="ident" id="4792527">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792539">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792543">upper</span>&nbsp;<span class="op" id="4792549">:=</span>&nbsp;<span class="ident" id="4792552">b</span>&nbsp;<span class="op" id="4792554">&amp;</span>&nbsp;<span class="ident" id="4792556">caseMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792567">if</span>&nbsp;<span class="ident" id="4792570">upper</span>&nbsp;<span class="op" id="4792576">&lt;</span>&nbsp;<span class="string" id="4792578">&#39;A&#39;</span>&nbsp;<span class="op" id="4792582">||</span>&nbsp;<span class="ident" id="4792585">upper</span>&nbsp;<span class="op" id="4792591">&gt;</span>&nbsp;<span class="string" id="4792593">&#39;Z&#39;</span>&nbsp;<span class="op" id="4792597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792602">nonLetter</span>&nbsp;<span class="op" id="4792612">=</span>&nbsp;<span class="builtintype" id="4792614">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792621">}</span>&nbsp;<span class="keyword" id="4792623">else</span>&nbsp;<span class="keyword" id="4792628">if</span>&nbsp;<span class="ident" id="4792631">upper</span>&nbsp;<span class="op" id="4792637">==</span>&nbsp;<span class="string" id="4792640">&#39;K&#39;</span>&nbsp;<span class="op" id="4792644">||</span>&nbsp;<span class="ident" id="4792647">upper</span>&nbsp;<span class="op" id="4792653">==</span>&nbsp;<span class="string" id="4792656">&#39;S&#39;</span>&nbsp;<span class="op" id="4792660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4792665">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792716">special</span>&nbsp;<span class="op" id="4792724">=</span>&nbsp;<span class="builtintype" id="4792726">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792739">if</span>&nbsp;<span class="ident" id="4792742">special</span>&nbsp;<span class="op" id="4792750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792754">return</span>&nbsp;<span class="ident" id="4792761">equalFoldRight</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792780">if</span>&nbsp;<span class="ident" id="4792783">nonLetter</span>&nbsp;<span class="op" id="4792793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792797">return</span>&nbsp;<span class="ident" id="4792804">asciiEqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792823">return</span>&nbsp;<span class="ident" id="4792830">simpleLetterEqualFold</span><br>
<span class="lineno">55</span><span class="op" id="4792852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4792855">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4792922">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="4792993">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="4793058">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4793087">func</span>&nbsp;<span class="ident" id="4793092">equalFoldRight</span><span class="op" id="4793106">(</span><span class="ident" id="4793107">s</span><span class="op" id="4793108">,</span>&nbsp;<span class="ident" id="4793110">t</span>&nbsp;<span class="op" id="4793112">[</span><span class="op" id="4793113">]</span><span class="builtintype" id="4793114">byte</span><span class="op" id="4793118">)</span>&nbsp;<span class="builtintype" id="4793120">bool</span>&nbsp;<span class="op" id="4793125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793128">for</span>&nbsp;<span class="ident" id="4793132">_</span><span class="op" id="4793133">,</span>&nbsp;<span class="ident" id="4793135">sb</span>&nbsp;<span class="op" id="4793138">:=</span>&nbsp;<span class="keyword" id="4793141">range</span>&nbsp;<span class="ident" id="4793147">s</span>&nbsp;<span class="op" id="4793149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793153">if</span>&nbsp;<span class="builtinfunc" id="4793156">len</span><span class="op" id="4793159">(</span><span class="ident" id="4793160">t</span><span class="op" id="4793161">)</span>&nbsp;<span class="op" id="4793163">==</span>&nbsp;<span class="num" id="4793166">0</span>&nbsp;<span class="op" id="4793168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793173">return</span>&nbsp;<span class="builtintype" id="4793180">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793192">tb</span>&nbsp;<span class="op" id="4793195">:=</span>&nbsp;<span class="ident" id="4793198">t</span><span class="op" id="4793199">[</span><span class="num" id="4793200">0</span><span class="op" id="4793201">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793205">if</span>&nbsp;<span class="ident" id="4793208">tb</span>&nbsp;<span class="op" id="4793211">&lt;</span>&nbsp;<span class="ident" id="4793213">utf8</span><span class="op" id="4793217">.</span><span class="ident" id="4793218">RuneSelf</span>&nbsp;<span class="op" id="4793227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793232">if</span>&nbsp;<span class="ident" id="4793235">sb</span>&nbsp;<span class="op" id="4793238">!=</span>&nbsp;<span class="ident" id="4793241">tb</span>&nbsp;<span class="op" id="4793244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793250">sbUpper</span>&nbsp;<span class="op" id="4793258">:=</span>&nbsp;<span class="ident" id="4793261">sb</span>&nbsp;<span class="op" id="4793264">&amp;</span>&nbsp;<span class="ident" id="4793266">caseMask</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793279">if</span>&nbsp;<span class="string" id="4793282">&#39;A&#39;</span>&nbsp;<span class="op" id="4793286">&lt;=</span>&nbsp;<span class="ident" id="4793289">sbUpper</span>&nbsp;<span class="op" id="4793297">&amp;&amp;</span>&nbsp;<span class="ident" id="4793300">sbUpper</span>&nbsp;<span class="op" id="4793308">&lt;=</span>&nbsp;<span class="string" id="4793311">&#39;Z&#39;</span>&nbsp;<span class="op" id="4793315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793322">if</span>&nbsp;<span class="ident" id="4793325">sbUpper</span>&nbsp;<span class="op" id="4793333">!=</span>&nbsp;<span class="ident" id="4793336">tb</span><span class="op" id="4793338">&amp;</span><span class="ident" id="4793339">caseMask</span>&nbsp;<span class="op" id="4793348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793356">return</span>&nbsp;<span class="builtintype" id="4793363">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793380">}</span>&nbsp;<span class="keyword" id="4793382">else</span>&nbsp;<span class="op" id="4793387">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793394">return</span>&nbsp;<span class="builtintype" id="4793401">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793421">t</span>&nbsp;<span class="op" id="4793423">=</span>&nbsp;<span class="ident" id="4793425">t</span><span class="op" id="4793426">[</span><span class="num" id="4793427">1</span><span class="op" id="4793428">:</span><span class="op" id="4793429">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793434">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4793449">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4793504">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793551">tr</span><span class="op" id="4793553">,</span>&nbsp;<span class="ident" id="4793555">size</span>&nbsp;<span class="op" id="4793560">:=</span>&nbsp;<span class="ident" id="4793563">utf8</span><span class="op" id="4793567">.</span><span class="ident" id="4793568">DecodeRune</span><span class="op" id="4793578">(</span><span class="ident" id="4793579">t</span><span class="op" id="4793580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793584">switch</span>&nbsp;<span class="ident" id="4793591">sb</span>&nbsp;<span class="op" id="4793594">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793598">case</span>&nbsp;<span class="string" id="4793603">&#39;s&#39;</span><span class="op" id="4793606">,</span>&nbsp;<span class="string" id="4793608">&#39;S&#39;</span><span class="op" id="4793611">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793616">if</span>&nbsp;<span class="ident" id="4793619">tr</span>&nbsp;<span class="op" id="4793622">!=</span>&nbsp;<span class="ident" id="4793625">smallLongEss</span>&nbsp;<span class="op" id="4793638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793644">return</span>&nbsp;<span class="builtintype" id="4793651">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793664">case</span>&nbsp;<span class="string" id="4793669">&#39;k&#39;</span><span class="op" id="4793672">,</span>&nbsp;<span class="string" id="4793674">&#39;K&#39;</span><span class="op" id="4793677">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793682">if</span>&nbsp;<span class="ident" id="4793685">tr</span>&nbsp;<span class="op" id="4793688">!=</span>&nbsp;<span class="ident" id="4793691">kelvin</span>&nbsp;<span class="op" id="4793698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793704">return</span>&nbsp;<span class="builtintype" id="4793711">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793724">default</span><span class="op" id="4793731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793736">return</span>&nbsp;<span class="builtintype" id="4793743">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4793755">t</span>&nbsp;<span class="op" id="4793757">=</span>&nbsp;<span class="ident" id="4793759">t</span><span class="op" id="4793760">[</span><span class="ident" id="4793761">size</span><span class="op" id="4793765">:</span><span class="op" id="4793766">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793773">if</span>&nbsp;<span class="builtinfunc" id="4793776">len</span><span class="op" id="4793779">(</span><span class="ident" id="4793780">t</span><span class="op" id="4793781">)</span>&nbsp;<span class="op" id="4793783">&gt;</span>&nbsp;<span class="num" id="4793785">0</span>&nbsp;<span class="op" id="4793787">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793791">return</span>&nbsp;<span class="builtintype" id="4793798">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793808">return</span>&nbsp;<span class="builtintype" id="4793815">true</span><br>
<span class="lineno"></span><span class="op" id="4793820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4793823">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="4793893">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="4793957">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="4793985">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4794014">func</span>&nbsp;<span class="ident" id="4794019">asciiEqualFold</span><span class="op" id="4794033">(</span><span class="ident" id="4794034">s</span><span class="op" id="4794035">,</span>&nbsp;<span class="ident" id="4794037">t</span>&nbsp;<span class="op" id="4794039">[</span><span class="op" id="4794040">]</span><span class="builtintype" id="4794041">byte</span><span class="op" id="4794045">)</span>&nbsp;<span class="builtintype" id="4794047">bool</span>&nbsp;<span class="op" id="4794052">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794055">if</span>&nbsp;<span class="builtinfunc" id="4794058">len</span><span class="op" id="4794061">(</span><span class="ident" id="4794062">s</span><span class="op" id="4794063">)</span>&nbsp;<span class="op" id="4794065">!=</span>&nbsp;<span class="builtinfunc" id="4794068">len</span><span class="op" id="4794071">(</span><span class="ident" id="4794072">t</span><span class="op" id="4794073">)</span>&nbsp;<span class="op" id="4794075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794079">return</span>&nbsp;<span class="builtintype" id="4794086">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794096">for</span>&nbsp;<span class="ident" id="4794100">i</span><span class="op" id="4794101">,</span>&nbsp;<span class="ident" id="4794103">sb</span>&nbsp;<span class="op" id="4794106">:=</span>&nbsp;<span class="keyword" id="4794109">range</span>&nbsp;<span class="ident" id="4794115">s</span>&nbsp;<span class="op" id="4794117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4794121">tb</span>&nbsp;<span class="op" id="4794124">:=</span>&nbsp;<span class="ident" id="4794127">t</span><span class="op" id="4794128">[</span><span class="ident" id="4794129">i</span><span class="op" id="4794130">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794134">if</span>&nbsp;<span class="ident" id="4794137">sb</span>&nbsp;<span class="op" id="4794140">==</span>&nbsp;<span class="ident" id="4794143">tb</span>&nbsp;<span class="op" id="4794146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794151">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794166">if</span>&nbsp;<span class="op" id="4794169">(</span><span class="string" id="4794170">&#39;a&#39;</span>&nbsp;<span class="op" id="4794174">&lt;=</span>&nbsp;<span class="ident" id="4794177">sb</span>&nbsp;<span class="op" id="4794180">&amp;&amp;</span>&nbsp;<span class="ident" id="4794183">sb</span>&nbsp;<span class="op" id="4794186">&lt;=</span>&nbsp;<span class="string" id="4794189">&#39;z&#39;</span><span class="op" id="4794192">)</span>&nbsp;<span class="op" id="4794194">||</span>&nbsp;<span class="op" id="4794197">(</span><span class="string" id="4794198">&#39;A&#39;</span>&nbsp;<span class="op" id="4794202">&lt;=</span>&nbsp;<span class="ident" id="4794205">sb</span>&nbsp;<span class="op" id="4794208">&amp;&amp;</span>&nbsp;<span class="ident" id="4794211">sb</span>&nbsp;<span class="op" id="4794214">&lt;=</span>&nbsp;<span class="string" id="4794217">&#39;Z&#39;</span><span class="op" id="4794220">)</span>&nbsp;<span class="op" id="4794222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794227">if</span>&nbsp;<span class="ident" id="4794230">sb</span><span class="op" id="4794232">&amp;</span><span class="ident" id="4794233">caseMask</span>&nbsp;<span class="op" id="4794242">!=</span>&nbsp;<span class="ident" id="4794245">tb</span><span class="op" id="4794247">&amp;</span><span class="ident" id="4794248">caseMask</span>&nbsp;<span class="op" id="4794257">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794263">return</span>&nbsp;<span class="builtintype" id="4794270">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794283">}</span>&nbsp;<span class="keyword" id="4794285">else</span>&nbsp;<span class="op" id="4794290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794295">return</span>&nbsp;<span class="builtintype" id="4794302">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794310">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794316">return</span>&nbsp;<span class="builtintype" id="4794323">true</span><br>
<span class="lineno"></span><span class="op" id="4794328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4794331">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="4794399">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="4794465">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="4794507">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="4794536">func</span>&nbsp;<span class="ident" id="4794541">simpleLetterEqualFold</span><span class="op" id="4794562">(</span><span class="ident" id="4794563">s</span><span class="op" id="4794564">,</span>&nbsp;<span class="ident" id="4794566">t</span>&nbsp;<span class="op" id="4794568">[</span><span class="op" id="4794569">]</span><span class="builtintype" id="4794570">byte</span><span class="op" id="4794574">)</span>&nbsp;<span class="builtintype" id="4794576">bool</span>&nbsp;<span class="op" id="4794581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794584">if</span>&nbsp;<span class="builtinfunc" id="4794587">len</span><span class="op" id="4794590">(</span><span class="ident" id="4794591">s</span><span class="op" id="4794592">)</span>&nbsp;<span class="op" id="4794594">!=</span>&nbsp;<span class="builtinfunc" id="4794597">len</span><span class="op" id="4794600">(</span><span class="ident" id="4794601">t</span><span class="op" id="4794602">)</span>&nbsp;<span class="op" id="4794604">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794608">return</span>&nbsp;<span class="builtintype" id="4794615">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794625">for</span>&nbsp;<span class="ident" id="4794629">i</span><span class="op" id="4794630">,</span>&nbsp;<span class="ident" id="4794632">b</span>&nbsp;<span class="op" id="4794634">:=</span>&nbsp;<span class="keyword" id="4794637">range</span>&nbsp;<span class="ident" id="4794643">s</span>&nbsp;<span class="op" id="4794645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794649">if</span>&nbsp;<span class="ident" id="4794652">b</span><span class="op" id="4794653">&amp;</span><span class="ident" id="4794654">caseMask</span>&nbsp;<span class="op" id="4794663">!=</span>&nbsp;<span class="ident" id="4794666">t</span><span class="op" id="4794667">[</span><span class="ident" id="4794668">i</span><span class="op" id="4794669">]</span><span class="op" id="4794670">&amp;</span><span class="ident" id="4794671">caseMask</span>&nbsp;<span class="op" id="4794680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794685">return</span>&nbsp;<span class="builtintype" id="4794692">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4794703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4794706">return</span>&nbsp;<span class="builtintype" id="4794713">true</span><br>
<span class="lineno"></span><span class="op" id="4794718">}</span>
</div>
</body>
</html>
