<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html" class="current">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4144668">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4144723">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4144777">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4144828">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4144889">package</span>&nbsp;<span class="ident" id="4144897">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4144902">import</span>&nbsp;<span class="op" id="4144909">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4144912">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4144921">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4144931">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4144938">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4144943">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4144946">const</span>&nbsp;<span class="ident" id="4144952">hextable</span>&nbsp;<span class="op" id="4144961">=</span>&nbsp;<span class="string" id="4144963">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4144983">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4145050">func</span>&nbsp;<span class="ident" id="4145055">EncodedLen</span><span class="op" id="4145065">(</span><span class="ident" id="4145066">n</span>&nbsp;<span class="builtintype" id="4145068">int</span><span class="op" id="4145071">)</span>&nbsp;<span class="builtintype" id="4145073">int</span>&nbsp;<span class="op" id="4145077">{</span>&nbsp;<span class="keyword" id="4145079">return</span>&nbsp;<span class="ident" id="4145086">n</span>&nbsp;<span class="op" id="4145088">*</span>&nbsp;<span class="num" id="4145090">2</span>&nbsp;<span class="op" id="4145092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4145095">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4145143">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4145201">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4145276">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4145319">func</span>&nbsp;<span class="ident" id="4145324">Encode</span><span class="op" id="4145330">(</span><span class="ident" id="4145331">dst</span><span class="op" id="4145334">,</span>&nbsp;<span class="ident" id="4145336">src</span>&nbsp;<span class="op" id="4145340">[</span><span class="op" id="4145341">]</span><span class="builtintype" id="4145342">byte</span><span class="op" id="4145346">)</span>&nbsp;<span class="builtintype" id="4145348">int</span>&nbsp;<span class="op" id="4145352">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4145355">for</span>&nbsp;<span class="ident" id="4145359">i</span><span class="op" id="4145360">,</span>&nbsp;<span class="ident" id="4145362">v</span>&nbsp;<span class="op" id="4145364">:=</span>&nbsp;<span class="keyword" id="4145367">range</span>&nbsp;<span class="ident" id="4145373">src</span>&nbsp;<span class="op" id="4145377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4145381">dst</span><span class="op" id="4145384">[</span><span class="ident" id="4145385">i</span><span class="op" id="4145386">*</span><span class="num" id="4145387">2</span><span class="op" id="4145388">]</span>&nbsp;<span class="op" id="4145390">=</span>&nbsp;<span class="ident" id="4145392">hextable</span><span class="op" id="4145400">[</span><span class="ident" id="4145401">v</span><span class="op" id="4145402">&gt;&gt;</span><span class="num" id="4145404">4</span><span class="op" id="4145405">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4145409">dst</span><span class="op" id="4145412">[</span><span class="ident" id="4145413">i</span><span class="op" id="4145414">*</span><span class="num" id="4145415">2</span><span class="op" id="4145416">+</span><span class="num" id="4145417">1</span><span class="op" id="4145418">]</span>&nbsp;<span class="op" id="4145420">=</span>&nbsp;<span class="ident" id="4145422">hextable</span><span class="op" id="4145430">[</span><span class="ident" id="4145431">v</span><span class="op" id="4145432">&amp;</span><span class="num" id="4145433">0x0f</span><span class="op" id="4145437">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4145440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4145444">return</span>&nbsp;<span class="builtinfunc" id="4145451">len</span><span class="op" id="4145454">(</span><span class="ident" id="4145455">src</span><span class="op" id="4145458">)</span>&nbsp;<span class="op" id="4145460">*</span>&nbsp;<span class="num" id="4145462">2</span><br>
<span class="lineno"></span><span class="op" id="4145464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4145467">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4145523">var</span>&nbsp;<span class="ident" id="4145527">ErrLength</span>&nbsp;<span class="op" id="4145537">=</span>&nbsp;<span class="ident" id="4145539">errors</span><span class="op" id="4145545">.</span><span class="ident" id="4145546">New</span><span class="op" id="4145549">(</span><span class="string" id="4145550">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4145587">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4145590">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4145681">type</span>&nbsp;<span class="ident" id="4145686">InvalidByteError</span>&nbsp;<span class="builtintype" id="4145703">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4145709">func</span>&nbsp;<span class="op" id="4145714">(</span><span class="ident" id="4145715">e</span>&nbsp;<span class="ident" id="4145717">InvalidByteError</span><span class="op" id="4145733">)</span>&nbsp;<span class="ident" id="4145735">Error</span><span class="op" id="4145740">(</span><span class="op" id="4145741">)</span>&nbsp;<span class="builtintype" id="4145743">string</span>&nbsp;<span class="op" id="4145750">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4145753">return</span>&nbsp;<span class="ident" id="4145760">fmt</span><span class="op" id="4145763">.</span><span class="ident" id="4145764">Sprintf</span><span class="op" id="4145771">(</span><span class="string" id="4145772">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4145805">,</span>&nbsp;<span class="builtintype" id="4145807">rune</span><span class="op" id="4145811">(</span><span class="ident" id="4145812">e</span><span class="op" id="4145813">)</span><span class="op" id="4145814">)</span><br>
<span class="lineno"></span><span class="op" id="4145816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4145819">func</span>&nbsp;<span class="ident" id="4145824">DecodedLen</span><span class="op" id="4145834">(</span><span class="ident" id="4145835">x</span>&nbsp;<span class="builtintype" id="4145837">int</span><span class="op" id="4145840">)</span>&nbsp;<span class="builtintype" id="4145842">int</span>&nbsp;<span class="op" id="4145846">{</span>&nbsp;<span class="keyword" id="4145848">return</span>&nbsp;<span class="ident" id="4145855">x</span>&nbsp;<span class="op" id="4145857">/</span>&nbsp;<span class="num" id="4145859">2</span>&nbsp;<span class="op" id="4145861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4145864">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4145940">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4145975">//</span><br>
<span class="lineno"></span><span class="comment" id="4145978">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4146061">func</span>&nbsp;<span class="ident" id="4146066">Decode</span><span class="op" id="4146072">(</span><span class="ident" id="4146073">dst</span><span class="op" id="4146076">,</span>&nbsp;<span class="ident" id="4146078">src</span>&nbsp;<span class="op" id="4146082">[</span><span class="op" id="4146083">]</span><span class="builtintype" id="4146084">byte</span><span class="op" id="4146088">)</span>&nbsp;<span class="op" id="4146090">(</span><span class="builtintype" id="4146091">int</span><span class="op" id="4146094">,</span>&nbsp;<span class="builtintype" id="4146096">error</span><span class="op" id="4146101">)</span>&nbsp;<span class="op" id="4146103">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146106">if</span>&nbsp;<span class="builtinfunc" id="4146109">len</span><span class="op" id="4146112">(</span><span class="ident" id="4146113">src</span><span class="op" id="4146116">)</span><span class="op" id="4146117">%</span><span class="num" id="4146118">2</span>&nbsp;<span class="op" id="4146120">==</span>&nbsp;<span class="num" id="4146123">1</span>&nbsp;<span class="op" id="4146125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146129">return</span>&nbsp;<span class="num" id="4146136">0</span><span class="op" id="4146137">,</span>&nbsp;<span class="ident" id="4146139">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4146150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146154">for</span>&nbsp;<span class="ident" id="4146158">i</span>&nbsp;<span class="op" id="4146160">:=</span>&nbsp;<span class="num" id="4146163">0</span><span class="op" id="4146164">;</span>&nbsp;<span class="ident" id="4146166">i</span>&nbsp;<span class="op" id="4146168">&lt;</span>&nbsp;<span class="builtinfunc" id="4146170">len</span><span class="op" id="4146173">(</span><span class="ident" id="4146174">src</span><span class="op" id="4146177">)</span><span class="op" id="4146178">/</span><span class="num" id="4146179">2</span><span class="op" id="4146180">;</span>&nbsp;<span class="ident" id="4146182">i</span><span class="op" id="4146183">++</span>&nbsp;<span class="op" id="4146186">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4146190">a</span><span class="op" id="4146191">,</span>&nbsp;<span class="ident" id="4146193">ok</span>&nbsp;<span class="op" id="4146196">:=</span>&nbsp;<span class="ident" id="4146199">fromHexChar</span><span class="op" id="4146210">(</span><span class="ident" id="4146211">src</span><span class="op" id="4146214">[</span><span class="ident" id="4146215">i</span><span class="op" id="4146216">*</span><span class="num" id="4146217">2</span><span class="op" id="4146218">]</span><span class="op" id="4146219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146223">if</span>&nbsp;<span class="op" id="4146226">!</span><span class="ident" id="4146227">ok</span>&nbsp;<span class="op" id="4146230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146235">return</span>&nbsp;<span class="num" id="4146242">0</span><span class="op" id="4146243">,</span>&nbsp;<span class="ident" id="4146245">InvalidByteError</span><span class="op" id="4146261">(</span><span class="ident" id="4146262">src</span><span class="op" id="4146265">[</span><span class="ident" id="4146266">i</span><span class="op" id="4146267">*</span><span class="num" id="4146268">2</span><span class="op" id="4146269">]</span><span class="op" id="4146270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4146274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4146278">b</span><span class="op" id="4146279">,</span>&nbsp;<span class="ident" id="4146281">ok</span>&nbsp;<span class="op" id="4146284">:=</span>&nbsp;<span class="ident" id="4146287">fromHexChar</span><span class="op" id="4146298">(</span><span class="ident" id="4146299">src</span><span class="op" id="4146302">[</span><span class="ident" id="4146303">i</span><span class="op" id="4146304">*</span><span class="num" id="4146305">2</span><span class="op" id="4146306">+</span><span class="num" id="4146307">1</span><span class="op" id="4146308">]</span><span class="op" id="4146309">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146313">if</span>&nbsp;<span class="op" id="4146316">!</span><span class="ident" id="4146317">ok</span>&nbsp;<span class="op" id="4146320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146325">return</span>&nbsp;<span class="num" id="4146332">0</span><span class="op" id="4146333">,</span>&nbsp;<span class="ident" id="4146335">InvalidByteError</span><span class="op" id="4146351">(</span><span class="ident" id="4146352">src</span><span class="op" id="4146355">[</span><span class="ident" id="4146356">i</span><span class="op" id="4146357">*</span><span class="num" id="4146358">2</span><span class="op" id="4146359">+</span><span class="num" id="4146360">1</span><span class="op" id="4146361">]</span><span class="op" id="4146362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4146366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4146370">dst</span><span class="op" id="4146373">[</span><span class="ident" id="4146374">i</span><span class="op" id="4146375">]</span>&nbsp;<span class="op" id="4146377">=</span>&nbsp;<span class="op" id="4146379">(</span><span class="ident" id="4146380">a</span>&nbsp;<span class="op" id="4146382">&lt;&lt;</span>&nbsp;<span class="num" id="4146385">4</span><span class="op" id="4146386">)</span>&nbsp;<span class="op" id="4146388">|</span>&nbsp;<span class="ident" id="4146390">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4146393">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146397">return</span>&nbsp;<span class="builtinfunc" id="4146404">len</span><span class="op" id="4146407">(</span><span class="ident" id="4146408">src</span><span class="op" id="4146411">)</span>&nbsp;<span class="op" id="4146413">/</span>&nbsp;<span class="num" id="4146415">2</span><span class="op" id="4146416">,</span>&nbsp;<span class="ident" id="4146418">nil</span><br>
<span class="lineno"></span><span class="op" id="4146422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4146425">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4146500">func</span>&nbsp;<span class="ident" id="4146505">fromHexChar</span><span class="op" id="4146516">(</span><span class="ident" id="4146517">c</span>&nbsp;<span class="builtintype" id="4146519">byte</span><span class="op" id="4146523">)</span>&nbsp;<span class="op" id="4146525">(</span><span class="builtintype" id="4146526">byte</span><span class="op" id="4146530">,</span>&nbsp;<span class="builtintype" id="4146532">bool</span><span class="op" id="4146536">)</span>&nbsp;<span class="op" id="4146538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146541">switch</span>&nbsp;<span class="op" id="4146548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146551">case</span>&nbsp;<span class="string" id="4146556">&#39;0&#39;</span>&nbsp;<span class="op" id="4146560">&lt;=</span>&nbsp;<span class="ident" id="4146563">c</span>&nbsp;<span class="op" id="4146565">&amp;&amp;</span>&nbsp;<span class="ident" id="4146568">c</span>&nbsp;<span class="op" id="4146570">&lt;=</span>&nbsp;<span class="string" id="4146573">&#39;9&#39;</span><span class="op" id="4146576">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146580">return</span>&nbsp;<span class="ident" id="4146587">c</span>&nbsp;<span class="op" id="4146589">-</span>&nbsp;<span class="string" id="4146591">&#39;0&#39;</span><span class="op" id="4146594">,</span>&nbsp;<span class="builtintype" id="4146596">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146602">case</span>&nbsp;<span class="string" id="4146607">&#39;a&#39;</span>&nbsp;<span class="op" id="4146611">&lt;=</span>&nbsp;<span class="ident" id="4146614">c</span>&nbsp;<span class="op" id="4146616">&amp;&amp;</span>&nbsp;<span class="ident" id="4146619">c</span>&nbsp;<span class="op" id="4146621">&lt;=</span>&nbsp;<span class="string" id="4146624">&#39;f&#39;</span><span class="op" id="4146627">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146631">return</span>&nbsp;<span class="ident" id="4146638">c</span>&nbsp;<span class="op" id="4146640">-</span>&nbsp;<span class="string" id="4146642">&#39;a&#39;</span>&nbsp;<span class="op" id="4146646">+</span>&nbsp;<span class="num" id="4146648">10</span><span class="op" id="4146650">,</span>&nbsp;<span class="builtintype" id="4146652">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146658">case</span>&nbsp;<span class="string" id="4146663">&#39;A&#39;</span>&nbsp;<span class="op" id="4146667">&lt;=</span>&nbsp;<span class="ident" id="4146670">c</span>&nbsp;<span class="op" id="4146672">&amp;&amp;</span>&nbsp;<span class="ident" id="4146675">c</span>&nbsp;<span class="op" id="4146677">&lt;=</span>&nbsp;<span class="string" id="4146680">&#39;F&#39;</span><span class="op" id="4146683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146687">return</span>&nbsp;<span class="ident" id="4146694">c</span>&nbsp;<span class="op" id="4146696">-</span>&nbsp;<span class="string" id="4146698">&#39;A&#39;</span>&nbsp;<span class="op" id="4146702">+</span>&nbsp;<span class="num" id="4146704">10</span><span class="op" id="4146706">,</span>&nbsp;<span class="builtintype" id="4146708">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4146714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146718">return</span>&nbsp;<span class="num" id="4146725">0</span><span class="op" id="4146726">,</span>&nbsp;<span class="builtintype" id="4146728">false</span><br>
<span class="lineno"></span><span class="op" id="4146734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4146737">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4146796">func</span>&nbsp;<span class="ident" id="4146801">EncodeToString</span><span class="op" id="4146815">(</span><span class="ident" id="4146816">src</span>&nbsp;<span class="op" id="4146820">[</span><span class="op" id="4146821">]</span><span class="builtintype" id="4146822">byte</span><span class="op" id="4146826">)</span>&nbsp;<span class="builtintype" id="4146828">string</span>&nbsp;<span class="op" id="4146835">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4146838">dst</span>&nbsp;<span class="op" id="4146842">:=</span>&nbsp;<span class="builtinfunc" id="4146845">make</span><span class="op" id="4146849">(</span><span class="op" id="4146850">[</span><span class="op" id="4146851">]</span><span class="builtintype" id="4146852">byte</span><span class="op" id="4146856">,</span>&nbsp;<span class="ident" id="4146858">EncodedLen</span><span class="op" id="4146868">(</span><span class="builtinfunc" id="4146869">len</span><span class="op" id="4146872">(</span><span class="ident" id="4146873">src</span><span class="op" id="4146876">)</span><span class="op" id="4146877">)</span><span class="op" id="4146878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4146881">Encode</span><span class="op" id="4146887">(</span><span class="ident" id="4146888">dst</span><span class="op" id="4146891">,</span>&nbsp;<span class="ident" id="4146893">src</span><span class="op" id="4146896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4146899">return</span>&nbsp;<span class="builtintype" id="4146906">string</span><span class="op" id="4146912">(</span><span class="ident" id="4146913">dst</span><span class="op" id="4146916">)</span><br>
<span class="lineno"></span><span class="op" id="4146918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4146921">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4146996">func</span>&nbsp;<span class="ident" id="4147001">DecodeString</span><span class="op" id="4147013">(</span><span class="ident" id="4147014">s</span>&nbsp;<span class="builtintype" id="4147016">string</span><span class="op" id="4147022">)</span>&nbsp;<span class="op" id="4147024">(</span><span class="op" id="4147025">[</span><span class="op" id="4147026">]</span><span class="builtintype" id="4147027">byte</span><span class="op" id="4147031">,</span>&nbsp;<span class="builtintype" id="4147033">error</span><span class="op" id="4147038">)</span>&nbsp;<span class="op" id="4147040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147043">src</span>&nbsp;<span class="op" id="4147047">:=</span>&nbsp;<span class="op" id="4147050">[</span><span class="op" id="4147051">]</span><span class="builtintype" id="4147052">byte</span><span class="op" id="4147056">(</span><span class="ident" id="4147057">s</span><span class="op" id="4147058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147061">dst</span>&nbsp;<span class="op" id="4147065">:=</span>&nbsp;<span class="builtinfunc" id="4147068">make</span><span class="op" id="4147072">(</span><span class="op" id="4147073">[</span><span class="op" id="4147074">]</span><span class="builtintype" id="4147075">byte</span><span class="op" id="4147079">,</span>&nbsp;<span class="ident" id="4147081">DecodedLen</span><span class="op" id="4147091">(</span><span class="builtinfunc" id="4147092">len</span><span class="op" id="4147095">(</span><span class="ident" id="4147096">src</span><span class="op" id="4147099">)</span><span class="op" id="4147100">)</span><span class="op" id="4147101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147104">_</span><span class="op" id="4147105">,</span>&nbsp;<span class="ident" id="4147107">err</span>&nbsp;<span class="op" id="4147111">:=</span>&nbsp;<span class="ident" id="4147114">Decode</span><span class="op" id="4147120">(</span><span class="ident" id="4147121">dst</span><span class="op" id="4147124">,</span>&nbsp;<span class="ident" id="4147126">src</span><span class="op" id="4147129">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147132">if</span>&nbsp;<span class="ident" id="4147135">err</span>&nbsp;<span class="op" id="4147139">!=</span>&nbsp;<span class="ident" id="4147142">nil</span>&nbsp;<span class="op" id="4147146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147150">return</span>&nbsp;<span class="ident" id="4147157">nil</span><span class="op" id="4147160">,</span>&nbsp;<span class="ident" id="4147162">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4147167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147170">return</span>&nbsp;<span class="ident" id="4147177">dst</span><span class="op" id="4147180">,</span>&nbsp;<span class="ident" id="4147182">nil</span><br>
<span class="lineno"></span><span class="op" id="4147186">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4147189">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4147269">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4147344">func</span>&nbsp;<span class="ident" id="4147349">Dump</span><span class="op" id="4147353">(</span><span class="ident" id="4147354">data</span>&nbsp;<span class="op" id="4147359">[</span><span class="op" id="4147360">]</span><span class="builtintype" id="4147361">byte</span><span class="op" id="4147365">)</span>&nbsp;<span class="builtintype" id="4147367">string</span>&nbsp;<span class="op" id="4147374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147377">var</span>&nbsp;<span class="ident" id="4147381">buf</span>&nbsp;<span class="ident" id="4147385">bytes</span><span class="op" id="4147390">.</span><span class="ident" id="4147391">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147399">dumper</span>&nbsp;<span class="op" id="4147406">:=</span>&nbsp;<span class="ident" id="4147409">Dumper</span><span class="op" id="4147415">(</span><span class="op" id="4147416">&amp;</span><span class="ident" id="4147417">buf</span><span class="op" id="4147420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147423">dumper</span><span class="op" id="4147429">.</span><span class="ident" id="4147430">Write</span><span class="op" id="4147435">(</span><span class="ident" id="4147436">data</span><span class="op" id="4147440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147443">dumper</span><span class="op" id="4147449">.</span><span class="ident" id="4147450">Close</span><span class="op" id="4147455">(</span><span class="op" id="4147456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147459">return</span>&nbsp;<span class="builtintype" id="4147466">string</span><span class="op" id="4147472">(</span><span class="ident" id="4147473">buf</span><span class="op" id="4147476">.</span><span class="ident" id="4147477">Bytes</span><span class="op" id="4147482">(</span><span class="op" id="4147483">)</span><span class="op" id="4147484">)</span><br>
<span class="lineno"></span><span class="op" id="4147486">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4147489">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4147567">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4147646">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4147655">func</span>&nbsp;<span class="ident" id="4147660">Dumper</span><span class="op" id="4147666">(</span><span class="ident" id="4147667">w</span>&nbsp;<span class="ident" id="4147669">io</span><span class="op" id="4147671">.</span><span class="ident" id="4147672">Writer</span><span class="op" id="4147678">)</span>&nbsp;<span class="ident" id="4147680">io</span><span class="op" id="4147682">.</span><span class="ident" id="4147683">WriteCloser</span>&nbsp;<span class="op" id="4147695">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147698">return</span>&nbsp;<span class="op" id="4147705">&amp;</span><span class="ident" id="4147706">dumper</span><span class="op" id="4147712">{</span><span class="ident" id="4147713">w</span><span class="op" id="4147714">:</span>&nbsp;<span class="ident" id="4147716">w</span><span class="op" id="4147717">}</span><br>
<span class="lineno"></span><span class="op" id="4147719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4147722">type</span>&nbsp;<span class="ident" id="4147727">dumper</span>&nbsp;<span class="keyword" id="4147734">struct</span>&nbsp;<span class="op" id="4147741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147744">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147755">io</span><span class="op" id="4147757">.</span><span class="ident" id="4147758">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147766">rightChars</span>&nbsp;<span class="op" id="4147777">[</span><span class="num" id="4147778">18</span><span class="op" id="4147780">]</span><span class="builtintype" id="4147781">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147787">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4147798">[</span><span class="num" id="4147799">14</span><span class="op" id="4147801">]</span><span class="builtintype" id="4147802">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147808">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4147819">int</span>&nbsp;&nbsp;<span class="comment" id="4147824">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4147864">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4147875">uint</span>&nbsp;<span class="comment" id="4147880">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4147906">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4147909">func</span>&nbsp;<span class="ident" id="4147914">toChar</span><span class="op" id="4147920">(</span><span class="ident" id="4147921">b</span>&nbsp;<span class="builtintype" id="4147923">byte</span><span class="op" id="4147927">)</span>&nbsp;<span class="builtintype" id="4147929">byte</span>&nbsp;<span class="op" id="4147934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147937">if</span>&nbsp;<span class="ident" id="4147940">b</span>&nbsp;<span class="op" id="4147942">&lt;</span>&nbsp;<span class="num" id="4147944">32</span>&nbsp;<span class="op" id="4147947">||</span>&nbsp;<span class="ident" id="4147950">b</span>&nbsp;<span class="op" id="4147952">&gt;</span>&nbsp;<span class="num" id="4147954">126</span>&nbsp;<span class="op" id="4147958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147962">return</span>&nbsp;<span class="string" id="4147969">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4147974">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4147977">return</span>&nbsp;<span class="ident" id="4147984">b</span><br>
<span class="lineno"></span><span class="op" id="4147986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4147989">func</span>&nbsp;<span class="op" id="4147994">(</span><span class="ident" id="4147995">h</span>&nbsp;<span class="op" id="4147997">*</span><span class="ident" id="4147998">dumper</span><span class="op" id="4148004">)</span>&nbsp;<span class="ident" id="4148006">Write</span><span class="op" id="4148011">(</span><span class="ident" id="4148012">data</span>&nbsp;<span class="op" id="4148017">[</span><span class="op" id="4148018">]</span><span class="builtintype" id="4148019">byte</span><span class="op" id="4148023">)</span>&nbsp;<span class="op" id="4148025">(</span><span class="ident" id="4148026">n</span>&nbsp;<span class="builtintype" id="4148028">int</span><span class="op" id="4148031">,</span>&nbsp;<span class="ident" id="4148033">err</span>&nbsp;<span class="builtintype" id="4148037">error</span><span class="op" id="4148042">)</span>&nbsp;<span class="op" id="4148044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148047">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148075">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148158">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4148240">for</span>&nbsp;<span class="ident" id="4148244">i</span>&nbsp;<span class="op" id="4148246">:=</span>&nbsp;<span class="keyword" id="4148249">range</span>&nbsp;<span class="ident" id="4148255">data</span>&nbsp;<span class="op" id="4148260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4148264">if</span>&nbsp;<span class="ident" id="4148267">h</span><span class="op" id="4148268">.</span><span class="ident" id="4148269">used</span>&nbsp;<span class="op" id="4148274">==</span>&nbsp;<span class="num" id="4148277">0</span>&nbsp;<span class="op" id="4148279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148284">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148338">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148359">h</span><span class="op" id="4148360">.</span><span class="ident" id="4148361">buf</span><span class="op" id="4148364">[</span><span class="num" id="4148365">0</span><span class="op" id="4148366">]</span>&nbsp;<span class="op" id="4148368">=</span>&nbsp;<span class="builtintype" id="4148370">byte</span><span class="op" id="4148374">(</span><span class="ident" id="4148375">h</span><span class="op" id="4148376">.</span><span class="ident" id="4148377">n</span>&nbsp;<span class="op" id="4148379">&gt;&gt;</span>&nbsp;<span class="num" id="4148382">24</span><span class="op" id="4148384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148389">h</span><span class="op" id="4148390">.</span><span class="ident" id="4148391">buf</span><span class="op" id="4148394">[</span><span class="num" id="4148395">1</span><span class="op" id="4148396">]</span>&nbsp;<span class="op" id="4148398">=</span>&nbsp;<span class="builtintype" id="4148400">byte</span><span class="op" id="4148404">(</span><span class="ident" id="4148405">h</span><span class="op" id="4148406">.</span><span class="ident" id="4148407">n</span>&nbsp;<span class="op" id="4148409">&gt;&gt;</span>&nbsp;<span class="num" id="4148412">16</span><span class="op" id="4148414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148419">h</span><span class="op" id="4148420">.</span><span class="ident" id="4148421">buf</span><span class="op" id="4148424">[</span><span class="num" id="4148425">2</span><span class="op" id="4148426">]</span>&nbsp;<span class="op" id="4148428">=</span>&nbsp;<span class="builtintype" id="4148430">byte</span><span class="op" id="4148434">(</span><span class="ident" id="4148435">h</span><span class="op" id="4148436">.</span><span class="ident" id="4148437">n</span>&nbsp;<span class="op" id="4148439">&gt;&gt;</span>&nbsp;<span class="num" id="4148442">8</span><span class="op" id="4148443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148448">h</span><span class="op" id="4148449">.</span><span class="ident" id="4148450">buf</span><span class="op" id="4148453">[</span><span class="num" id="4148454">3</span><span class="op" id="4148455">]</span>&nbsp;<span class="op" id="4148457">=</span>&nbsp;<span class="builtintype" id="4148459">byte</span><span class="op" id="4148463">(</span><span class="ident" id="4148464">h</span><span class="op" id="4148465">.</span><span class="ident" id="4148466">n</span><span class="op" id="4148467">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148472">Encode</span><span class="op" id="4148478">(</span><span class="ident" id="4148479">h</span><span class="op" id="4148480">.</span><span class="ident" id="4148481">buf</span><span class="op" id="4148484">[</span><span class="num" id="4148485">4</span><span class="op" id="4148486">:</span><span class="op" id="4148487">]</span><span class="op" id="4148488">,</span>&nbsp;<span class="ident" id="4148490">h</span><span class="op" id="4148491">.</span><span class="ident" id="4148492">buf</span><span class="op" id="4148495">[</span><span class="op" id="4148496">:</span><span class="num" id="4148497">4</span><span class="op" id="4148498">]</span><span class="op" id="4148499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148504">h</span><span class="op" id="4148505">.</span><span class="ident" id="4148506">buf</span><span class="op" id="4148509">[</span><span class="num" id="4148510">12</span><span class="op" id="4148512">]</span>&nbsp;<span class="op" id="4148514">=</span>&nbsp;<span class="string" id="4148516">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148523">h</span><span class="op" id="4148524">.</span><span class="ident" id="4148525">buf</span><span class="op" id="4148528">[</span><span class="num" id="4148529">13</span><span class="op" id="4148531">]</span>&nbsp;<span class="op" id="4148533">=</span>&nbsp;<span class="string" id="4148535">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148542">_</span><span class="op" id="4148543">,</span>&nbsp;<span class="ident" id="4148545">err</span>&nbsp;<span class="op" id="4148549">=</span>&nbsp;<span class="ident" id="4148551">h</span><span class="op" id="4148552">.</span><span class="ident" id="4148553">w</span><span class="op" id="4148554">.</span><span class="ident" id="4148555">Write</span><span class="op" id="4148560">(</span><span class="ident" id="4148561">h</span><span class="op" id="4148562">.</span><span class="ident" id="4148563">buf</span><span class="op" id="4148566">[</span><span class="num" id="4148567">4</span><span class="op" id="4148568">:</span><span class="op" id="4148569">]</span><span class="op" id="4148570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4148575">if</span>&nbsp;<span class="ident" id="4148578">err</span>&nbsp;<span class="op" id="4148582">!=</span>&nbsp;<span class="ident" id="4148585">nil</span>&nbsp;<span class="op" id="4148589">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4148595">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4148605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4148609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148613">Encode</span><span class="op" id="4148619">(</span><span class="ident" id="4148620">h</span><span class="op" id="4148621">.</span><span class="ident" id="4148622">buf</span><span class="op" id="4148625">[</span><span class="op" id="4148626">:</span><span class="op" id="4148627">]</span><span class="op" id="4148628">,</span>&nbsp;<span class="ident" id="4148630">data</span><span class="op" id="4148634">[</span><span class="ident" id="4148635">i</span><span class="op" id="4148636">:</span><span class="ident" id="4148637">i</span><span class="op" id="4148638">+</span><span class="num" id="4148639">1</span><span class="op" id="4148640">]</span><span class="op" id="4148641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148645">h</span><span class="op" id="4148646">.</span><span class="ident" id="4148647">buf</span><span class="op" id="4148650">[</span><span class="num" id="4148651">2</span><span class="op" id="4148652">]</span>&nbsp;<span class="op" id="4148654">=</span>&nbsp;<span class="string" id="4148656">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148662">l</span>&nbsp;<span class="op" id="4148664">:=</span>&nbsp;<span class="num" id="4148667">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4148671">if</span>&nbsp;<span class="ident" id="4148674">h</span><span class="op" id="4148675">.</span><span class="ident" id="4148676">used</span>&nbsp;<span class="op" id="4148681">==</span>&nbsp;<span class="num" id="4148684">7</span>&nbsp;<span class="op" id="4148686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148691">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148745">h</span><span class="op" id="4148746">.</span><span class="ident" id="4148747">buf</span><span class="op" id="4148750">[</span><span class="num" id="4148751">3</span><span class="op" id="4148752">]</span>&nbsp;<span class="op" id="4148754">=</span>&nbsp;<span class="string" id="4148756">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148763">l</span>&nbsp;<span class="op" id="4148765">=</span>&nbsp;<span class="num" id="4148767">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4148771">}</span>&nbsp;<span class="keyword" id="4148773">else</span>&nbsp;<span class="keyword" id="4148778">if</span>&nbsp;<span class="ident" id="4148781">h</span><span class="op" id="4148782">.</span><span class="ident" id="4148783">used</span>&nbsp;<span class="op" id="4148788">==</span>&nbsp;<span class="num" id="4148791">15</span>&nbsp;<span class="op" id="4148794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148799">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4148855">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148891">h</span><span class="op" id="4148892">.</span><span class="ident" id="4148893">buf</span><span class="op" id="4148896">[</span><span class="num" id="4148897">3</span><span class="op" id="4148898">]</span>&nbsp;<span class="op" id="4148900">=</span>&nbsp;<span class="string" id="4148902">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148909">h</span><span class="op" id="4148910">.</span><span class="ident" id="4148911">buf</span><span class="op" id="4148914">[</span><span class="num" id="4148915">4</span><span class="op" id="4148916">]</span>&nbsp;<span class="op" id="4148918">=</span>&nbsp;<span class="string" id="4148920">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148927">l</span>&nbsp;<span class="op" id="4148929">=</span>&nbsp;<span class="num" id="4148931">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4148935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4148939">_</span><span class="op" id="4148940">,</span>&nbsp;<span class="ident" id="4148942">err</span>&nbsp;<span class="op" id="4148946">=</span>&nbsp;<span class="ident" id="4148948">h</span><span class="op" id="4148949">.</span><span class="ident" id="4148950">w</span><span class="op" id="4148951">.</span><span class="ident" id="4148952">Write</span><span class="op" id="4148957">(</span><span class="ident" id="4148958">h</span><span class="op" id="4148959">.</span><span class="ident" id="4148960">buf</span><span class="op" id="4148963">[</span><span class="op" id="4148964">:</span><span class="ident" id="4148965">l</span><span class="op" id="4148966">]</span><span class="op" id="4148967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4148971">if</span>&nbsp;<span class="ident" id="4148974">err</span>&nbsp;<span class="op" id="4148978">!=</span>&nbsp;<span class="ident" id="4148981">nil</span>&nbsp;<span class="op" id="4148985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4148990">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4148999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149003">n</span><span class="op" id="4149004">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149009">h</span><span class="op" id="4149010">.</span><span class="ident" id="4149011">rightChars</span><span class="op" id="4149021">[</span><span class="ident" id="4149022">h</span><span class="op" id="4149023">.</span><span class="ident" id="4149024">used</span><span class="op" id="4149028">]</span>&nbsp;<span class="op" id="4149030">=</span>&nbsp;<span class="ident" id="4149032">toChar</span><span class="op" id="4149038">(</span><span class="ident" id="4149039">data</span><span class="op" id="4149043">[</span><span class="ident" id="4149044">i</span><span class="op" id="4149045">]</span><span class="op" id="4149046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149050">h</span><span class="op" id="4149051">.</span><span class="ident" id="4149052">used</span><span class="op" id="4149056">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149061">h</span><span class="op" id="4149062">.</span><span class="ident" id="4149063">n</span><span class="op" id="4149064">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149069">if</span>&nbsp;<span class="ident" id="4149072">h</span><span class="op" id="4149073">.</span><span class="ident" id="4149074">used</span>&nbsp;<span class="op" id="4149079">==</span>&nbsp;<span class="num" id="4149082">16</span>&nbsp;<span class="op" id="4149085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149090">h</span><span class="op" id="4149091">.</span><span class="ident" id="4149092">rightChars</span><span class="op" id="4149102">[</span><span class="num" id="4149103">16</span><span class="op" id="4149105">]</span>&nbsp;<span class="op" id="4149107">=</span>&nbsp;<span class="string" id="4149109">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149116">h</span><span class="op" id="4149117">.</span><span class="ident" id="4149118">rightChars</span><span class="op" id="4149128">[</span><span class="num" id="4149129">17</span><span class="op" id="4149131">]</span>&nbsp;<span class="op" id="4149133">=</span>&nbsp;<span class="string" id="4149135">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149143">_</span><span class="op" id="4149144">,</span>&nbsp;<span class="ident" id="4149146">err</span>&nbsp;<span class="op" id="4149150">=</span>&nbsp;<span class="ident" id="4149152">h</span><span class="op" id="4149153">.</span><span class="ident" id="4149154">w</span><span class="op" id="4149155">.</span><span class="ident" id="4149156">Write</span><span class="op" id="4149161">(</span><span class="ident" id="4149162">h</span><span class="op" id="4149163">.</span><span class="ident" id="4149164">rightChars</span><span class="op" id="4149174">[</span><span class="op" id="4149175">:</span><span class="op" id="4149176">]</span><span class="op" id="4149177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149182">if</span>&nbsp;<span class="ident" id="4149185">err</span>&nbsp;<span class="op" id="4149189">!=</span>&nbsp;<span class="ident" id="4149192">nil</span>&nbsp;<span class="op" id="4149196">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149202">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149217">h</span><span class="op" id="4149218">.</span><span class="ident" id="4149219">used</span>&nbsp;<span class="op" id="4149224">=</span>&nbsp;<span class="num" id="4149226">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149233">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149236">return</span><br>
<span class="lineno"></span><span class="op" id="4149243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4149246">func</span>&nbsp;<span class="op" id="4149251">(</span><span class="ident" id="4149252">h</span>&nbsp;<span class="op" id="4149254">*</span><span class="ident" id="4149255">dumper</span><span class="op" id="4149261">)</span>&nbsp;<span class="ident" id="4149263">Close</span><span class="op" id="4149268">(</span><span class="op" id="4149269">)</span>&nbsp;<span class="op" id="4149271">(</span><span class="ident" id="4149272">err</span>&nbsp;<span class="builtintype" id="4149276">error</span><span class="op" id="4149281">)</span>&nbsp;<span class="op" id="4149283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4149286">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149350">if</span>&nbsp;<span class="ident" id="4149353">h</span><span class="op" id="4149354">.</span><span class="ident" id="4149355">used</span>&nbsp;<span class="op" id="4149360">==</span>&nbsp;<span class="num" id="4149363">0</span>&nbsp;<span class="op" id="4149365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149369">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149380">h</span><span class="op" id="4149381">.</span><span class="ident" id="4149382">buf</span><span class="op" id="4149385">[</span><span class="num" id="4149386">0</span><span class="op" id="4149387">]</span>&nbsp;<span class="op" id="4149389">=</span>&nbsp;<span class="string" id="4149391">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149396">h</span><span class="op" id="4149397">.</span><span class="ident" id="4149398">buf</span><span class="op" id="4149401">[</span><span class="num" id="4149402">1</span><span class="op" id="4149403">]</span>&nbsp;<span class="op" id="4149405">=</span>&nbsp;<span class="string" id="4149407">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149412">h</span><span class="op" id="4149413">.</span><span class="ident" id="4149414">buf</span><span class="op" id="4149417">[</span><span class="num" id="4149418">2</span><span class="op" id="4149419">]</span>&nbsp;<span class="op" id="4149421">=</span>&nbsp;<span class="string" id="4149423">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149428">h</span><span class="op" id="4149429">.</span><span class="ident" id="4149430">buf</span><span class="op" id="4149433">[</span><span class="num" id="4149434">3</span><span class="op" id="4149435">]</span>&nbsp;<span class="op" id="4149437">=</span>&nbsp;<span class="string" id="4149439">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149444">h</span><span class="op" id="4149445">.</span><span class="ident" id="4149446">buf</span><span class="op" id="4149449">[</span><span class="num" id="4149450">4</span><span class="op" id="4149451">]</span>&nbsp;<span class="op" id="4149453">=</span>&nbsp;<span class="string" id="4149455">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149460">nBytes</span>&nbsp;<span class="op" id="4149467">:=</span>&nbsp;<span class="ident" id="4149470">h</span><span class="op" id="4149471">.</span><span class="ident" id="4149472">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149478">for</span>&nbsp;<span class="ident" id="4149482">h</span><span class="op" id="4149483">.</span><span class="ident" id="4149484">used</span>&nbsp;<span class="op" id="4149489">&lt;</span>&nbsp;<span class="num" id="4149491">16</span>&nbsp;<span class="op" id="4149494">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149498">l</span>&nbsp;<span class="op" id="4149500">:=</span>&nbsp;<span class="num" id="4149503">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149507">if</span>&nbsp;<span class="ident" id="4149510">h</span><span class="op" id="4149511">.</span><span class="ident" id="4149512">used</span>&nbsp;<span class="op" id="4149517">==</span>&nbsp;<span class="num" id="4149520">7</span>&nbsp;<span class="op" id="4149522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149527">l</span>&nbsp;<span class="op" id="4149529">=</span>&nbsp;<span class="num" id="4149531">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149535">}</span>&nbsp;<span class="keyword" id="4149537">else</span>&nbsp;<span class="keyword" id="4149542">if</span>&nbsp;<span class="ident" id="4149545">h</span><span class="op" id="4149546">.</span><span class="ident" id="4149547">used</span>&nbsp;<span class="op" id="4149552">==</span>&nbsp;<span class="num" id="4149555">15</span>&nbsp;<span class="op" id="4149558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149563">l</span>&nbsp;<span class="op" id="4149565">=</span>&nbsp;<span class="num" id="4149567">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149575">_</span><span class="op" id="4149576">,</span>&nbsp;<span class="ident" id="4149578">err</span>&nbsp;<span class="op" id="4149582">=</span>&nbsp;<span class="ident" id="4149584">h</span><span class="op" id="4149585">.</span><span class="ident" id="4149586">w</span><span class="op" id="4149587">.</span><span class="ident" id="4149588">Write</span><span class="op" id="4149593">(</span><span class="ident" id="4149594">h</span><span class="op" id="4149595">.</span><span class="ident" id="4149596">buf</span><span class="op" id="4149599">[</span><span class="op" id="4149600">:</span><span class="ident" id="4149601">l</span><span class="op" id="4149602">]</span><span class="op" id="4149603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149607">if</span>&nbsp;<span class="ident" id="4149610">err</span>&nbsp;<span class="op" id="4149614">!=</span>&nbsp;<span class="ident" id="4149617">nil</span>&nbsp;<span class="op" id="4149621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149626">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149635">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149639">h</span><span class="op" id="4149640">.</span><span class="ident" id="4149641">used</span><span class="op" id="4149645">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4149649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149652">h</span><span class="op" id="4149653">.</span><span class="ident" id="4149654">rightChars</span><span class="op" id="4149664">[</span><span class="ident" id="4149665">nBytes</span><span class="op" id="4149671">]</span>&nbsp;<span class="op" id="4149673">=</span>&nbsp;<span class="string" id="4149675">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149680">h</span><span class="op" id="4149681">.</span><span class="ident" id="4149682">rightChars</span><span class="op" id="4149692">[</span><span class="ident" id="4149693">nBytes</span><span class="op" id="4149699">+</span><span class="num" id="4149700">1</span><span class="op" id="4149701">]</span>&nbsp;<span class="op" id="4149703">=</span>&nbsp;<span class="string" id="4149705">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4149711">_</span><span class="op" id="4149712">,</span>&nbsp;<span class="ident" id="4149714">err</span>&nbsp;<span class="op" id="4149718">=</span>&nbsp;<span class="ident" id="4149720">h</span><span class="op" id="4149721">.</span><span class="ident" id="4149722">w</span><span class="op" id="4149723">.</span><span class="ident" id="4149724">Write</span><span class="op" id="4149729">(</span><span class="ident" id="4149730">h</span><span class="op" id="4149731">.</span><span class="ident" id="4149732">rightChars</span><span class="op" id="4149742">[</span><span class="op" id="4149743">:</span><span class="ident" id="4149744">nBytes</span><span class="op" id="4149750">+</span><span class="num" id="4149751">2</span><span class="op" id="4149752">]</span><span class="op" id="4149753">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4149756">return</span><br>
<span class="lineno"></span><span class="op" id="4149763">}</span>
</div>
</body>
</html>
