<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html" class="current">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6465832">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6465887">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6465941">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6465992">package</span>&nbsp;<span class="ident" id="6466000">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6466005">import</span>&nbsp;<span class="op" id="6466012">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6466015">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6466026">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6466037">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6466047">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6466050">var</span>&nbsp;<span class="ident" id="6466054">parseIPTests</span>&nbsp;<span class="op" id="6466067">=</span>&nbsp;<span class="op" id="6466069">[</span><span class="op" id="6466070">]</span><span class="keyword" id="6466071">struct</span>&nbsp;<span class="op" id="6466078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6466081">in</span>&nbsp;&nbsp;<span class="builtintype" id="6466085">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6466093">out</span>&nbsp;<span class="ident" id="6466097">IP</span><br>
<span class="lineno"></span><span class="op" id="6466100">}</span><span class="op" id="6466101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466104">{</span><span class="string" id="6466105">&#34;127.0.1.2&#34;</span><span class="op" id="6466116">,</span>&nbsp;<span class="ident" id="6466118">IPv4</span><span class="op" id="6466122">(</span><span class="num" id="6466123">127</span><span class="op" id="6466126">,</span>&nbsp;<span class="num" id="6466128">0</span><span class="op" id="6466129">,</span>&nbsp;<span class="num" id="6466131">1</span><span class="op" id="6466132">,</span>&nbsp;<span class="num" id="6466134">2</span><span class="op" id="6466135">)</span><span class="op" id="6466136">}</span><span class="op" id="6466137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466140">{</span><span class="string" id="6466141">&#34;127.0.0.1&#34;</span><span class="op" id="6466152">,</span>&nbsp;<span class="ident" id="6466154">IPv4</span><span class="op" id="6466158">(</span><span class="num" id="6466159">127</span><span class="op" id="6466162">,</span>&nbsp;<span class="num" id="6466164">0</span><span class="op" id="6466165">,</span>&nbsp;<span class="num" id="6466167">0</span><span class="op" id="6466168">,</span>&nbsp;<span class="num" id="6466170">1</span><span class="op" id="6466171">)</span><span class="op" id="6466172">}</span><span class="op" id="6466173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466176">{</span><span class="string" id="6466177">&#34;127.0.0.256&#34;</span><span class="op" id="6466190">,</span>&nbsp;<span class="builtintype" id="6466192">nil</span><span class="op" id="6466195">}</span><span class="op" id="6466196">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466199">{</span><span class="string" id="6466200">&#34;abc&#34;</span><span class="op" id="6466205">,</span>&nbsp;<span class="builtintype" id="6466207">nil</span><span class="op" id="6466210">}</span><span class="op" id="6466211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466214">{</span><span class="string" id="6466215">&#34;123:&#34;</span><span class="op" id="6466221">,</span>&nbsp;<span class="builtintype" id="6466223">nil</span><span class="op" id="6466226">}</span><span class="op" id="6466227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466230">{</span><span class="string" id="6466231">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="6466249">,</span>&nbsp;<span class="ident" id="6466251">IPv4</span><span class="op" id="6466255">(</span><span class="num" id="6466256">127</span><span class="op" id="6466259">,</span>&nbsp;<span class="num" id="6466261">0</span><span class="op" id="6466262">,</span>&nbsp;<span class="num" id="6466264">0</span><span class="op" id="6466265">,</span>&nbsp;<span class="num" id="6466267">1</span><span class="op" id="6466268">)</span><span class="op" id="6466269">}</span><span class="op" id="6466270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466273">{</span><span class="string" id="6466274">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="6466296">,</span>&nbsp;<span class="ident" id="6466298">IP</span><span class="op" id="6466300">{</span><span class="num" id="6466301">0x20</span><span class="op" id="6466305">,</span>&nbsp;<span class="num" id="6466307">0x01</span><span class="op" id="6466311">,</span>&nbsp;<span class="num" id="6466313">0x48</span><span class="op" id="6466317">,</span>&nbsp;<span class="num" id="6466319">0x60</span><span class="op" id="6466323">,</span>&nbsp;<span class="num" id="6466325">0</span><span class="op" id="6466326">,</span>&nbsp;<span class="num" id="6466328">0</span><span class="op" id="6466329">,</span>&nbsp;<span class="num" id="6466331">0x20</span><span class="op" id="6466335">,</span>&nbsp;<span class="num" id="6466337">0x01</span><span class="op" id="6466341">,</span>&nbsp;<span class="num" id="6466343">0</span><span class="op" id="6466344">,</span>&nbsp;<span class="num" id="6466346">0</span><span class="op" id="6466347">,</span>&nbsp;<span class="num" id="6466349">0</span><span class="op" id="6466350">,</span>&nbsp;<span class="num" id="6466352">0</span><span class="op" id="6466353">,</span>&nbsp;<span class="num" id="6466355">0</span><span class="op" id="6466356">,</span>&nbsp;<span class="num" id="6466358">0</span><span class="op" id="6466359">,</span>&nbsp;<span class="num" id="6466361">0x00</span><span class="op" id="6466365">,</span>&nbsp;<span class="num" id="6466367">0x68</span><span class="op" id="6466371">}</span><span class="op" id="6466372">}</span><span class="op" id="6466373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466376">{</span><span class="string" id="6466377">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="6466395">,</span>&nbsp;<span class="ident" id="6466397">IPv4</span><span class="op" id="6466401">(</span><span class="num" id="6466402">74</span><span class="op" id="6466404">,</span>&nbsp;<span class="num" id="6466406">125</span><span class="op" id="6466409">,</span>&nbsp;<span class="num" id="6466411">19</span><span class="op" id="6466413">,</span>&nbsp;<span class="num" id="6466415">99</span><span class="op" id="6466417">)</span><span class="op" id="6466418">}</span><span class="op" id="6466419">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466422">{</span><span class="string" id="6466423">&#34;fe80::1%lo0&#34;</span><span class="op" id="6466436">,</span>&nbsp;<span class="builtintype" id="6466438">nil</span><span class="op" id="6466441">}</span><span class="op" id="6466442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466445">{</span><span class="string" id="6466446">&#34;fe80::1%911&#34;</span><span class="op" id="6466459">,</span>&nbsp;<span class="builtintype" id="6466461">nil</span><span class="op" id="6466464">}</span><span class="op" id="6466465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466468">{</span><span class="string" id="6466469">&#34;&#34;</span><span class="op" id="6466471">,</span>&nbsp;<span class="builtintype" id="6466473">nil</span><span class="op" id="6466476">}</span><span class="op" id="6466477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466480">{</span><span class="string" id="6466481">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="6466507">,</span>&nbsp;<span class="builtintype" id="6466509">nil</span><span class="op" id="6466512">}</span><span class="op" id="6466513">,</span>&nbsp;<span class="comment" id="6466515">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="6466529">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="6466532">func</span>&nbsp;<span class="ident" id="6466537">TestParseIP</span><span class="op" id="6466548">(</span><span class="ident" id="6466549">t</span>&nbsp;<span class="op" id="6466551">*</span><span class="ident" id="6466552">testing</span><span class="op" id="6466559">.</span><span class="ident" id="6466560">T</span><span class="op" id="6466561">)</span>&nbsp;<span class="op" id="6466563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6466566">for</span>&nbsp;<span class="ident" id="6466570">_</span><span class="op" id="6466571">,</span>&nbsp;<span class="ident" id="6466573">tt</span>&nbsp;<span class="op" id="6466576">:=</span>&nbsp;<span class="keyword" id="6466579">range</span>&nbsp;<span class="ident" id="6466585">parseIPTests</span>&nbsp;<span class="op" id="6466598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6466602">if</span>&nbsp;<span class="ident" id="6466605">out</span>&nbsp;<span class="op" id="6466609">:=</span>&nbsp;<span class="ident" id="6466612">ParseIP</span><span class="op" id="6466619">(</span><span class="ident" id="6466620">tt</span><span class="op" id="6466622">.</span><span class="ident" id="6466623">in</span><span class="op" id="6466625">)</span><span class="op" id="6466626">;</span>&nbsp;<span class="op" id="6466628">!</span><span class="ident" id="6466629">reflect</span><span class="op" id="6466636">.</span><span class="ident" id="6466637">DeepEqual</span><span class="op" id="6466646">(</span><span class="ident" id="6466647">out</span><span class="op" id="6466650">,</span>&nbsp;<span class="ident" id="6466652">tt</span><span class="op" id="6466654">.</span><span class="ident" id="6466655">out</span><span class="op" id="6466658">)</span>&nbsp;<span class="op" id="6466660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6466665">t</span><span class="op" id="6466666">.</span><span class="ident" id="6466667">Errorf</span><span class="op" id="6466673">(</span><span class="string" id="6466674">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6466701">,</span>&nbsp;<span class="ident" id="6466703">tt</span><span class="op" id="6466705">.</span><span class="ident" id="6466706">in</span><span class="op" id="6466708">,</span>&nbsp;<span class="ident" id="6466710">out</span><span class="op" id="6466713">,</span>&nbsp;<span class="ident" id="6466715">tt</span><span class="op" id="6466717">.</span><span class="ident" id="6466718">out</span><span class="op" id="6466721">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6466729">if</span>&nbsp;<span class="ident" id="6466732">tt</span><span class="op" id="6466734">.</span><span class="ident" id="6466735">in</span>&nbsp;<span class="op" id="6466738">==</span>&nbsp;<span class="string" id="6466741">&#34;&#34;</span>&nbsp;<span class="op" id="6466744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6466749">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6466791">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6466802">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6466806">var</span>&nbsp;<span class="ident" id="6466810">out</span>&nbsp;<span class="ident" id="6466814">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6466819">if</span>&nbsp;<span class="ident" id="6466822">err</span>&nbsp;<span class="op" id="6466826">:=</span>&nbsp;<span class="ident" id="6466829">out</span><span class="op" id="6466832">.</span><span class="ident" id="6466833">UnmarshalText</span><span class="op" id="6466846">(</span><span class="op" id="6466847">[</span><span class="op" id="6466848">]</span><span class="builtintype" id="6466849">byte</span><span class="op" id="6466853">(</span><span class="ident" id="6466854">tt</span><span class="op" id="6466856">.</span><span class="ident" id="6466857">in</span><span class="op" id="6466859">)</span><span class="op" id="6466860">)</span><span class="op" id="6466861">;</span>&nbsp;<span class="op" id="6466863">!</span><span class="ident" id="6466864">reflect</span><span class="op" id="6466871">.</span><span class="ident" id="6466872">DeepEqual</span><span class="op" id="6466881">(</span><span class="ident" id="6466882">out</span><span class="op" id="6466885">,</span>&nbsp;<span class="ident" id="6466887">tt</span><span class="op" id="6466889">.</span><span class="ident" id="6466890">out</span><span class="op" id="6466893">)</span>&nbsp;<span class="op" id="6466895">||</span>&nbsp;<span class="op" id="6466898">(</span><span class="ident" id="6466899">tt</span><span class="op" id="6466901">.</span><span class="ident" id="6466902">out</span>&nbsp;<span class="op" id="6466906">==</span>&nbsp;<span class="builtintype" id="6466909">nil</span><span class="op" id="6466912">)</span>&nbsp;<span class="op" id="6466914">!=</span>&nbsp;<span class="op" id="6466917">(</span><span class="ident" id="6466918">err</span>&nbsp;<span class="op" id="6466922">!=</span>&nbsp;<span class="builtintype" id="6466925">nil</span><span class="op" id="6466928">)</span>&nbsp;<span class="op" id="6466930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6466935">t</span><span class="op" id="6466936">.</span><span class="ident" id="6466937">Errorf</span><span class="op" id="6466943">(</span><span class="string" id="6466944">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6466984">,</span>&nbsp;<span class="ident" id="6466986">tt</span><span class="op" id="6466988">.</span><span class="ident" id="6466989">in</span><span class="op" id="6466991">,</span>&nbsp;<span class="ident" id="6466993">out</span><span class="op" id="6466996">,</span>&nbsp;<span class="ident" id="6466998">err</span><span class="op" id="6467001">,</span>&nbsp;<span class="ident" id="6467003">tt</span><span class="op" id="6467005">.</span><span class="ident" id="6467006">out</span><span class="op" id="6467009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467016">}</span><br>
<span class="lineno">45</span><span class="op" id="6467018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6467021">func</span>&nbsp;<span class="ident" id="6467026">BenchmarkParseIP</span><span class="op" id="6467042">(</span><span class="ident" id="6467043">b</span>&nbsp;<span class="op" id="6467045">*</span><span class="ident" id="6467046">testing</span><span class="op" id="6467053">.</span><span class="ident" id="6467054">B</span><span class="op" id="6467055">)</span>&nbsp;<span class="op" id="6467057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467060">for</span>&nbsp;<span class="ident" id="6467064">i</span>&nbsp;<span class="op" id="6467066">:=</span>&nbsp;<span class="num" id="6467069">0</span><span class="op" id="6467070">;</span>&nbsp;<span class="ident" id="6467072">i</span>&nbsp;<span class="op" id="6467074">&lt;</span>&nbsp;<span class="ident" id="6467076">b</span><span class="op" id="6467077">.</span><span class="ident" id="6467078">N</span><span class="op" id="6467079">;</span>&nbsp;<span class="ident" id="6467081">i</span><span class="op" id="6467082">++</span>&nbsp;<span class="op" id="6467085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467089">for</span>&nbsp;<span class="ident" id="6467093">_</span><span class="op" id="6467094">,</span>&nbsp;<span class="ident" id="6467096">tt</span>&nbsp;<span class="op" id="6467099">:=</span>&nbsp;<span class="keyword" id="6467102">range</span>&nbsp;<span class="ident" id="6467108">parseIPTests</span>&nbsp;<span class="op" id="6467121">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6467126">ParseIP</span><span class="op" id="6467133">(</span><span class="ident" id="6467134">tt</span><span class="op" id="6467136">.</span><span class="ident" id="6467137">in</span><span class="op" id="6467139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467146">}</span><br>
<span class="lineno"></span><span class="op" id="6467148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="6467151">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="6467165">func</span>&nbsp;<span class="ident" id="6467170">TestMarshalEmptyIP</span><span class="op" id="6467188">(</span><span class="ident" id="6467189">t</span>&nbsp;<span class="op" id="6467191">*</span><span class="ident" id="6467192">testing</span><span class="op" id="6467199">.</span><span class="ident" id="6467200">T</span><span class="op" id="6467201">)</span>&nbsp;<span class="op" id="6467203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467206">for</span>&nbsp;<span class="ident" id="6467210">_</span><span class="op" id="6467211">,</span>&nbsp;<span class="ident" id="6467213">in</span>&nbsp;<span class="op" id="6467216">:=</span>&nbsp;<span class="keyword" id="6467219">range</span>&nbsp;<span class="op" id="6467225">[</span><span class="op" id="6467226">]</span><span class="op" id="6467227">[</span><span class="op" id="6467228">]</span><span class="builtintype" id="6467229">byte</span><span class="op" id="6467233">{</span><span class="builtintype" id="6467234">nil</span><span class="op" id="6467237">,</span>&nbsp;<span class="op" id="6467239">[</span><span class="op" id="6467240">]</span><span class="builtintype" id="6467241">byte</span><span class="op" id="6467245">(</span><span class="string" id="6467246">&#34;&#34;</span><span class="op" id="6467248">)</span><span class="op" id="6467249">}</span>&nbsp;<span class="op" id="6467251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467255">var</span>&nbsp;<span class="ident" id="6467259">out</span>&nbsp;<span class="op" id="6467263">=</span>&nbsp;<span class="ident" id="6467265">IP</span><span class="op" id="6467267">{</span><span class="num" id="6467268">1</span><span class="op" id="6467269">,</span>&nbsp;<span class="num" id="6467271">2</span><span class="op" id="6467272">,</span>&nbsp;<span class="num" id="6467274">3</span><span class="op" id="6467275">,</span>&nbsp;<span class="num" id="6467277">4</span><span class="op" id="6467278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467282">if</span>&nbsp;<span class="ident" id="6467285">err</span>&nbsp;<span class="op" id="6467289">:=</span>&nbsp;<span class="ident" id="6467292">out</span><span class="op" id="6467295">.</span><span class="ident" id="6467296">UnmarshalText</span><span class="op" id="6467309">(</span><span class="ident" id="6467310">in</span><span class="op" id="6467312">)</span><span class="op" id="6467313">;</span>&nbsp;<span class="ident" id="6467315">err</span>&nbsp;<span class="op" id="6467319">!=</span>&nbsp;<span class="builtintype" id="6467322">nil</span>&nbsp;<span class="op" id="6467326">||</span>&nbsp;<span class="ident" id="6467329">out</span>&nbsp;<span class="op" id="6467333">!=</span>&nbsp;<span class="builtintype" id="6467336">nil</span>&nbsp;<span class="op" id="6467340">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6467345">t</span><span class="op" id="6467346">.</span><span class="ident" id="6467347">Errorf</span><span class="op" id="6467353">(</span><span class="string" id="6467354">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="6467397">,</span>&nbsp;<span class="ident" id="6467399">in</span><span class="op" id="6467401">,</span>&nbsp;<span class="ident" id="6467403">out</span><span class="op" id="6467406">,</span>&nbsp;<span class="ident" id="6467408">err</span><span class="op" id="6467411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467421">var</span>&nbsp;<span class="ident" id="6467425">ip</span>&nbsp;<span class="ident" id="6467428">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6467432">got</span><span class="op" id="6467435">,</span>&nbsp;<span class="ident" id="6467437">err</span>&nbsp;<span class="op" id="6467441">:=</span>&nbsp;<span class="ident" id="6467444">ip</span><span class="op" id="6467446">.</span><span class="ident" id="6467447">MarshalText</span><span class="op" id="6467458">(</span><span class="op" id="6467459">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467462">if</span>&nbsp;<span class="ident" id="6467465">err</span>&nbsp;<span class="op" id="6467469">!=</span>&nbsp;<span class="builtintype" id="6467472">nil</span>&nbsp;<span class="op" id="6467476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6467480">t</span><span class="op" id="6467481">.</span><span class="ident" id="6467482">Fatal</span><span class="op" id="6467487">(</span><span class="ident" id="6467488">err</span><span class="op" id="6467491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6467497">if</span>&nbsp;<span class="op" id="6467500">!</span><span class="ident" id="6467501">reflect</span><span class="op" id="6467508">.</span><span class="ident" id="6467509">DeepEqual</span><span class="op" id="6467518">(</span><span class="ident" id="6467519">got</span><span class="op" id="6467522">,</span>&nbsp;<span class="op" id="6467524">[</span><span class="op" id="6467525">]</span><span class="builtintype" id="6467526">byte</span><span class="op" id="6467530">(</span><span class="string" id="6467531">&#34;&#34;</span><span class="op" id="6467533">)</span><span class="op" id="6467534">)</span>&nbsp;<span class="op" id="6467536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6467540">t</span><span class="op" id="6467541">.</span><span class="ident" id="6467542">Errorf</span><span class="op" id="6467548">(</span><span class="string" id="6467549">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="6467575">,</span>&nbsp;<span class="ident" id="6467577">got</span><span class="op" id="6467580">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467583">}</span><br>
<span class="lineno"></span><span class="op" id="6467585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6467588">var</span>&nbsp;<span class="ident" id="6467592">ipStringTests</span>&nbsp;<span class="op" id="6467606">=</span>&nbsp;<span class="op" id="6467608">[</span><span class="op" id="6467609">]</span><span class="keyword" id="6467610">struct</span>&nbsp;<span class="op" id="6467617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6467620">in</span>&nbsp;&nbsp;<span class="ident" id="6467624">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6467628">out</span>&nbsp;<span class="builtintype" id="6467632">string</span>&nbsp;<span class="comment" id="6467639">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="6467655">}</span><span class="op" id="6467656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467659">{</span><span class="ident" id="6467660">IP</span><span class="op" id="6467662">{</span><span class="num" id="6467663">0x20</span><span class="op" id="6467667">,</span>&nbsp;<span class="num" id="6467669">0x1</span><span class="op" id="6467672">,</span>&nbsp;<span class="num" id="6467674">0xd</span><span class="op" id="6467677">,</span>&nbsp;<span class="num" id="6467679">0xb8</span><span class="op" id="6467683">,</span>&nbsp;<span class="num" id="6467685">0</span><span class="op" id="6467686">,</span>&nbsp;<span class="num" id="6467688">0</span><span class="op" id="6467689">,</span>&nbsp;<span class="num" id="6467691">0</span><span class="op" id="6467692">,</span>&nbsp;<span class="num" id="6467694">0</span><span class="op" id="6467695">,</span>&nbsp;<span class="num" id="6467697">0</span><span class="op" id="6467698">,</span>&nbsp;<span class="num" id="6467700">0</span><span class="op" id="6467701">,</span>&nbsp;<span class="num" id="6467703">0x1</span><span class="op" id="6467706">,</span>&nbsp;<span class="num" id="6467708">0x23</span><span class="op" id="6467712">,</span>&nbsp;<span class="num" id="6467714">0</span><span class="op" id="6467715">,</span>&nbsp;<span class="num" id="6467717">0x12</span><span class="op" id="6467721">,</span>&nbsp;<span class="num" id="6467723">0</span><span class="op" id="6467724">,</span>&nbsp;<span class="num" id="6467726">0x1</span><span class="op" id="6467729">}</span><span class="op" id="6467730">,</span>&nbsp;<span class="string" id="6467732">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6467752">}</span><span class="op" id="6467753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467756">{</span><span class="ident" id="6467757">IP</span><span class="op" id="6467759">{</span><span class="num" id="6467760">0x20</span><span class="op" id="6467764">,</span>&nbsp;<span class="num" id="6467766">0x1</span><span class="op" id="6467769">,</span>&nbsp;<span class="num" id="6467771">0xd</span><span class="op" id="6467774">,</span>&nbsp;<span class="num" id="6467776">0xb8</span><span class="op" id="6467780">,</span>&nbsp;<span class="num" id="6467782">0</span><span class="op" id="6467783">,</span>&nbsp;<span class="num" id="6467785">0</span><span class="op" id="6467786">,</span>&nbsp;<span class="num" id="6467788">0</span><span class="op" id="6467789">,</span>&nbsp;<span class="num" id="6467791">0</span><span class="op" id="6467792">,</span>&nbsp;<span class="num" id="6467794">0</span><span class="op" id="6467795">,</span>&nbsp;<span class="num" id="6467797">0</span><span class="op" id="6467798">,</span>&nbsp;<span class="num" id="6467800">0</span><span class="op" id="6467801">,</span>&nbsp;<span class="num" id="6467803">0</span><span class="op" id="6467804">,</span>&nbsp;<span class="num" id="6467806">0</span><span class="op" id="6467807">,</span>&nbsp;<span class="num" id="6467809">0</span><span class="op" id="6467810">,</span>&nbsp;<span class="num" id="6467812">0</span><span class="op" id="6467813">,</span>&nbsp;<span class="num" id="6467815">0x1</span><span class="op" id="6467818">}</span><span class="op" id="6467819">,</span>&nbsp;<span class="string" id="6467821">&#34;2001:db8::1&#34;</span><span class="op" id="6467834">}</span><span class="op" id="6467835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467838">{</span><span class="ident" id="6467839">IP</span><span class="op" id="6467841">{</span><span class="num" id="6467842">0x20</span><span class="op" id="6467846">,</span>&nbsp;<span class="num" id="6467848">0x1</span><span class="op" id="6467851">,</span>&nbsp;<span class="num" id="6467853">0xd</span><span class="op" id="6467856">,</span>&nbsp;<span class="num" id="6467858">0xb8</span><span class="op" id="6467862">,</span>&nbsp;<span class="num" id="6467864">0</span><span class="op" id="6467865">,</span>&nbsp;<span class="num" id="6467867">0</span><span class="op" id="6467868">,</span>&nbsp;<span class="num" id="6467870">0</span><span class="op" id="6467871">,</span>&nbsp;<span class="num" id="6467873">0x1</span><span class="op" id="6467876">,</span>&nbsp;<span class="num" id="6467878">0</span><span class="op" id="6467879">,</span>&nbsp;<span class="num" id="6467881">0</span><span class="op" id="6467882">,</span>&nbsp;<span class="num" id="6467884">0</span><span class="op" id="6467885">,</span>&nbsp;<span class="num" id="6467887">0x1</span><span class="op" id="6467890">,</span>&nbsp;<span class="num" id="6467892">0</span><span class="op" id="6467893">,</span>&nbsp;<span class="num" id="6467895">0</span><span class="op" id="6467896">,</span>&nbsp;<span class="num" id="6467898">0</span><span class="op" id="6467899">,</span>&nbsp;<span class="num" id="6467901">0x1</span><span class="op" id="6467904">}</span><span class="op" id="6467905">,</span>&nbsp;<span class="string" id="6467907">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="6467929">}</span><span class="op" id="6467930">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467933">{</span><span class="ident" id="6467934">IP</span><span class="op" id="6467936">{</span><span class="num" id="6467937">0x20</span><span class="op" id="6467941">,</span>&nbsp;<span class="num" id="6467943">0x1</span><span class="op" id="6467946">,</span>&nbsp;<span class="num" id="6467948">0xd</span><span class="op" id="6467951">,</span>&nbsp;<span class="num" id="6467953">0xb8</span><span class="op" id="6467957">,</span>&nbsp;<span class="num" id="6467959">0</span><span class="op" id="6467960">,</span>&nbsp;<span class="num" id="6467962">0x1</span><span class="op" id="6467965">,</span>&nbsp;<span class="num" id="6467967">0</span><span class="op" id="6467968">,</span>&nbsp;<span class="num" id="6467970">0</span><span class="op" id="6467971">,</span>&nbsp;<span class="num" id="6467973">0</span><span class="op" id="6467974">,</span>&nbsp;<span class="num" id="6467976">0x1</span><span class="op" id="6467979">,</span>&nbsp;<span class="num" id="6467981">0</span><span class="op" id="6467982">,</span>&nbsp;<span class="num" id="6467984">0</span><span class="op" id="6467985">,</span>&nbsp;<span class="num" id="6467987">0</span><span class="op" id="6467988">,</span>&nbsp;<span class="num" id="6467990">0x1</span><span class="op" id="6467993">,</span>&nbsp;<span class="num" id="6467995">0</span><span class="op" id="6467996">,</span>&nbsp;<span class="num" id="6467998">0</span><span class="op" id="6467999">}</span><span class="op" id="6468000">,</span>&nbsp;<span class="string" id="6468002">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="6468024">}</span><span class="op" id="6468025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468028">{</span><span class="ident" id="6468029">IP</span><span class="op" id="6468031">{</span><span class="num" id="6468032">0x20</span><span class="op" id="6468036">,</span>&nbsp;<span class="num" id="6468038">0x1</span><span class="op" id="6468041">,</span>&nbsp;<span class="num" id="6468043">0</span><span class="op" id="6468044">,</span>&nbsp;<span class="num" id="6468046">0</span><span class="op" id="6468047">,</span>&nbsp;<span class="num" id="6468049">0</span><span class="op" id="6468050">,</span>&nbsp;<span class="num" id="6468052">0</span><span class="op" id="6468053">,</span>&nbsp;<span class="num" id="6468055">0</span><span class="op" id="6468056">,</span>&nbsp;<span class="num" id="6468058">0</span><span class="op" id="6468059">,</span>&nbsp;<span class="num" id="6468061">0</span><span class="op" id="6468062">,</span>&nbsp;<span class="num" id="6468064">0x1</span><span class="op" id="6468067">,</span>&nbsp;<span class="num" id="6468069">0</span><span class="op" id="6468070">,</span>&nbsp;<span class="num" id="6468072">0</span><span class="op" id="6468073">,</span>&nbsp;<span class="num" id="6468075">0</span><span class="op" id="6468076">,</span>&nbsp;<span class="num" id="6468078">0</span><span class="op" id="6468079">,</span>&nbsp;<span class="num" id="6468081">0</span><span class="op" id="6468082">,</span>&nbsp;<span class="num" id="6468084">0x1</span><span class="op" id="6468087">}</span><span class="op" id="6468088">,</span>&nbsp;<span class="string" id="6468090">&#34;2001::1:0:0:1&#34;</span><span class="op" id="6468105">}</span><span class="op" id="6468106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468109">{</span><span class="ident" id="6468110">IP</span><span class="op" id="6468112">{</span><span class="num" id="6468113">0x20</span><span class="op" id="6468117">,</span>&nbsp;<span class="num" id="6468119">0x1</span><span class="op" id="6468122">,</span>&nbsp;<span class="num" id="6468124">0xd</span><span class="op" id="6468127">,</span>&nbsp;<span class="num" id="6468129">0xb8</span><span class="op" id="6468133">,</span>&nbsp;<span class="num" id="6468135">0</span><span class="op" id="6468136">,</span>&nbsp;<span class="num" id="6468138">0</span><span class="op" id="6468139">,</span>&nbsp;<span class="num" id="6468141">0</span><span class="op" id="6468142">,</span>&nbsp;<span class="num" id="6468144">0</span><span class="op" id="6468145">,</span>&nbsp;<span class="num" id="6468147">0</span><span class="op" id="6468148">,</span>&nbsp;<span class="num" id="6468150">0x1</span><span class="op" id="6468153">,</span>&nbsp;<span class="num" id="6468155">0</span><span class="op" id="6468156">,</span>&nbsp;<span class="num" id="6468158">0</span><span class="op" id="6468159">,</span>&nbsp;<span class="num" id="6468161">0</span><span class="op" id="6468162">,</span>&nbsp;<span class="num" id="6468164">0</span><span class="op" id="6468165">,</span>&nbsp;<span class="num" id="6468167">0</span><span class="op" id="6468168">,</span>&nbsp;<span class="num" id="6468170">0</span><span class="op" id="6468171">}</span><span class="op" id="6468172">,</span>&nbsp;<span class="string" id="6468174">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="6468192">}</span><span class="op" id="6468193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468196">{</span><span class="ident" id="6468197">IP</span><span class="op" id="6468199">{</span><span class="num" id="6468200">0x20</span><span class="op" id="6468204">,</span>&nbsp;<span class="num" id="6468206">0x1</span><span class="op" id="6468209">,</span>&nbsp;<span class="num" id="6468211">0xd</span><span class="op" id="6468214">,</span>&nbsp;<span class="num" id="6468216">0xb8</span><span class="op" id="6468220">,</span>&nbsp;<span class="num" id="6468222">0</span><span class="op" id="6468223">,</span>&nbsp;<span class="num" id="6468225">0</span><span class="op" id="6468226">,</span>&nbsp;<span class="num" id="6468228">0</span><span class="op" id="6468229">,</span>&nbsp;<span class="num" id="6468231">0</span><span class="op" id="6468232">,</span>&nbsp;<span class="num" id="6468234">0</span><span class="op" id="6468235">,</span>&nbsp;<span class="num" id="6468237">0x1</span><span class="op" id="6468240">,</span>&nbsp;<span class="num" id="6468242">0</span><span class="op" id="6468243">,</span>&nbsp;<span class="num" id="6468245">0</span><span class="op" id="6468246">,</span>&nbsp;<span class="num" id="6468248">0</span><span class="op" id="6468249">,</span>&nbsp;<span class="num" id="6468251">0</span><span class="op" id="6468252">,</span>&nbsp;<span class="num" id="6468254">0</span><span class="op" id="6468255">,</span>&nbsp;<span class="num" id="6468257">0x1</span><span class="op" id="6468260">}</span><span class="op" id="6468261">,</span>&nbsp;<span class="string" id="6468263">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="6468282">}</span><span class="op" id="6468283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468286">{</span><span class="ident" id="6468287">IP</span><span class="op" id="6468289">{</span><span class="num" id="6468290">0x20</span><span class="op" id="6468294">,</span>&nbsp;<span class="num" id="6468296">0x1</span><span class="op" id="6468299">,</span>&nbsp;<span class="num" id="6468301">0xD</span><span class="op" id="6468304">,</span>&nbsp;<span class="num" id="6468306">0xB8</span><span class="op" id="6468310">,</span>&nbsp;<span class="num" id="6468312">0</span><span class="op" id="6468313">,</span>&nbsp;<span class="num" id="6468315">0</span><span class="op" id="6468316">,</span>&nbsp;<span class="num" id="6468318">0</span><span class="op" id="6468319">,</span>&nbsp;<span class="num" id="6468321">0</span><span class="op" id="6468322">,</span>&nbsp;<span class="num" id="6468324">0</span><span class="op" id="6468325">,</span>&nbsp;<span class="num" id="6468327">0xA</span><span class="op" id="6468330">,</span>&nbsp;<span class="num" id="6468332">0</span><span class="op" id="6468333">,</span>&nbsp;<span class="num" id="6468335">0xB</span><span class="op" id="6468338">,</span>&nbsp;<span class="num" id="6468340">0</span><span class="op" id="6468341">,</span>&nbsp;<span class="num" id="6468343">0xC</span><span class="op" id="6468346">,</span>&nbsp;<span class="num" id="6468348">0</span><span class="op" id="6468349">,</span>&nbsp;<span class="num" id="6468351">0xD</span><span class="op" id="6468354">}</span><span class="op" id="6468355">,</span>&nbsp;<span class="string" id="6468357">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="6468376">}</span><span class="op" id="6468377">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468380">{</span><span class="ident" id="6468381">IPv4</span><span class="op" id="6468385">(</span><span class="num" id="6468386">192</span><span class="op" id="6468389">,</span>&nbsp;<span class="num" id="6468391">168</span><span class="op" id="6468394">,</span>&nbsp;<span class="num" id="6468396">0</span><span class="op" id="6468397">,</span>&nbsp;<span class="num" id="6468399">1</span><span class="op" id="6468400">)</span><span class="op" id="6468401">,</span>&nbsp;<span class="string" id="6468403">&#34;192.168.0.1&#34;</span><span class="op" id="6468416">}</span><span class="op" id="6468417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468420">{</span><span class="builtintype" id="6468421">nil</span><span class="op" id="6468424">,</span>&nbsp;<span class="string" id="6468426">&#34;&#34;</span><span class="op" id="6468428">}</span><span class="op" id="6468429">,</span><br>
<span class="lineno"></span><span class="op" id="6468431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6468434">func</span>&nbsp;<span class="ident" id="6468439">TestIPString</span><span class="op" id="6468451">(</span><span class="ident" id="6468452">t</span>&nbsp;<span class="op" id="6468454">*</span><span class="ident" id="6468455">testing</span><span class="op" id="6468462">.</span><span class="ident" id="6468463">T</span><span class="op" id="6468464">)</span>&nbsp;<span class="op" id="6468466">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6468469">for</span>&nbsp;<span class="ident" id="6468473">_</span><span class="op" id="6468474">,</span>&nbsp;<span class="ident" id="6468476">tt</span>&nbsp;<span class="op" id="6468479">:=</span>&nbsp;<span class="keyword" id="6468482">range</span>&nbsp;<span class="ident" id="6468488">ipStringTests</span>&nbsp;<span class="op" id="6468502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6468506">if</span>&nbsp;<span class="ident" id="6468509">tt</span><span class="op" id="6468511">.</span><span class="ident" id="6468512">in</span>&nbsp;<span class="op" id="6468515">!=</span>&nbsp;<span class="builtintype" id="6468518">nil</span>&nbsp;<span class="op" id="6468522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6468527">if</span>&nbsp;<span class="ident" id="6468530">out</span>&nbsp;<span class="op" id="6468534">:=</span>&nbsp;<span class="ident" id="6468537">tt</span><span class="op" id="6468539">.</span><span class="ident" id="6468540">in</span><span class="op" id="6468542">.</span><span class="ident" id="6468543">String</span><span class="op" id="6468549">(</span><span class="op" id="6468550">)</span><span class="op" id="6468551">;</span>&nbsp;<span class="ident" id="6468553">out</span>&nbsp;<span class="op" id="6468557">!=</span>&nbsp;<span class="ident" id="6468560">tt</span><span class="op" id="6468562">.</span><span class="ident" id="6468563">out</span>&nbsp;<span class="op" id="6468567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6468573">t</span><span class="op" id="6468574">.</span><span class="ident" id="6468575">Errorf</span><span class="op" id="6468581">(</span><span class="string" id="6468582">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6468611">,</span>&nbsp;<span class="ident" id="6468613">tt</span><span class="op" id="6468615">.</span><span class="ident" id="6468616">in</span><span class="op" id="6468618">,</span>&nbsp;<span class="ident" id="6468620">out</span><span class="op" id="6468623">,</span>&nbsp;<span class="ident" id="6468625">tt</span><span class="op" id="6468627">.</span><span class="ident" id="6468628">out</span><span class="op" id="6468631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468636">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6468644">if</span>&nbsp;<span class="ident" id="6468647">out</span><span class="op" id="6468650">,</span>&nbsp;<span class="ident" id="6468652">err</span>&nbsp;<span class="op" id="6468656">:=</span>&nbsp;<span class="ident" id="6468659">tt</span><span class="op" id="6468661">.</span><span class="ident" id="6468662">in</span><span class="op" id="6468664">.</span><span class="ident" id="6468665">MarshalText</span><span class="op" id="6468676">(</span><span class="op" id="6468677">)</span><span class="op" id="6468678">;</span>&nbsp;<span class="builtintype" id="6468680">string</span><span class="op" id="6468686">(</span><span class="ident" id="6468687">out</span><span class="op" id="6468690">)</span>&nbsp;<span class="op" id="6468692">!=</span>&nbsp;<span class="ident" id="6468695">tt</span><span class="op" id="6468697">.</span><span class="ident" id="6468698">out</span>&nbsp;<span class="op" id="6468702">||</span>&nbsp;<span class="ident" id="6468705">err</span>&nbsp;<span class="op" id="6468709">!=</span>&nbsp;<span class="builtintype" id="6468712">nil</span>&nbsp;<span class="op" id="6468716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6468721">t</span><span class="op" id="6468722">.</span><span class="ident" id="6468723">Errorf</span><span class="op" id="6468729">(</span><span class="string" id="6468730">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6468773">,</span>&nbsp;<span class="ident" id="6468775">tt</span><span class="op" id="6468777">.</span><span class="ident" id="6468778">in</span><span class="op" id="6468780">,</span>&nbsp;<span class="ident" id="6468782">out</span><span class="op" id="6468785">,</span>&nbsp;<span class="ident" id="6468787">err</span><span class="op" id="6468790">,</span>&nbsp;<span class="ident" id="6468792">tt</span><span class="op" id="6468794">.</span><span class="ident" id="6468795">out</span><span class="op" id="6468798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468805">}</span><br>
<span class="lineno">100</span><span class="op" id="6468807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6468810">func</span>&nbsp;<span class="ident" id="6468815">BenchmarkIPString</span><span class="op" id="6468832">(</span><span class="ident" id="6468833">b</span>&nbsp;<span class="op" id="6468835">*</span><span class="ident" id="6468836">testing</span><span class="op" id="6468843">.</span><span class="ident" id="6468844">B</span><span class="op" id="6468845">)</span>&nbsp;<span class="op" id="6468847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6468850">for</span>&nbsp;<span class="ident" id="6468854">i</span>&nbsp;<span class="op" id="6468856">:=</span>&nbsp;<span class="num" id="6468859">0</span><span class="op" id="6468860">;</span>&nbsp;<span class="ident" id="6468862">i</span>&nbsp;<span class="op" id="6468864">&lt;</span>&nbsp;<span class="ident" id="6468866">b</span><span class="op" id="6468867">.</span><span class="ident" id="6468868">N</span><span class="op" id="6468869">;</span>&nbsp;<span class="ident" id="6468871">i</span><span class="op" id="6468872">++</span>&nbsp;<span class="op" id="6468875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6468879">for</span>&nbsp;<span class="ident" id="6468883">_</span><span class="op" id="6468884">,</span>&nbsp;<span class="ident" id="6468886">tt</span>&nbsp;<span class="op" id="6468889">:=</span>&nbsp;<span class="keyword" id="6468892">range</span>&nbsp;<span class="ident" id="6468898">ipStringTests</span>&nbsp;<span class="op" id="6468912">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6468917">if</span>&nbsp;<span class="ident" id="6468920">tt</span><span class="op" id="6468922">.</span><span class="ident" id="6468923">in</span>&nbsp;<span class="op" id="6468926">!=</span>&nbsp;<span class="builtintype" id="6468929">nil</span>&nbsp;<span class="op" id="6468933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6468939">tt</span><span class="op" id="6468941">.</span><span class="ident" id="6468942">in</span><span class="op" id="6468944">.</span><span class="ident" id="6468945">String</span><span class="op" id="6468951">(</span><span class="op" id="6468952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6468964">}</span><br>
<span class="lineno">110</span><span class="op" id="6468966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6468969">var</span>&nbsp;<span class="ident" id="6468973">ipMaskTests</span>&nbsp;<span class="op" id="6468985">=</span>&nbsp;<span class="op" id="6468987">[</span><span class="op" id="6468988">]</span><span class="keyword" id="6468989">struct</span>&nbsp;<span class="op" id="6468996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6468999">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6469004">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469008">mask</span>&nbsp;<span class="ident" id="6469013">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469021">out</span>&nbsp;&nbsp;<span class="ident" id="6469026">IP</span><br>
<span class="lineno"></span><span class="op" id="6469029">}</span><span class="op" id="6469030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469033">{</span><span class="ident" id="6469034">IPv4</span><span class="op" id="6469038">(</span><span class="num" id="6469039">192</span><span class="op" id="6469042">,</span>&nbsp;<span class="num" id="6469044">168</span><span class="op" id="6469047">,</span>&nbsp;<span class="num" id="6469049">1</span><span class="op" id="6469050">,</span>&nbsp;<span class="num" id="6469052">127</span><span class="op" id="6469055">)</span><span class="op" id="6469056">,</span>&nbsp;<span class="ident" id="6469058">IPv4Mask</span><span class="op" id="6469066">(</span><span class="num" id="6469067">255</span><span class="op" id="6469070">,</span>&nbsp;<span class="num" id="6469072">255</span><span class="op" id="6469075">,</span>&nbsp;<span class="num" id="6469077">255</span><span class="op" id="6469080">,</span>&nbsp;<span class="num" id="6469082">128</span><span class="op" id="6469085">)</span><span class="op" id="6469086">,</span>&nbsp;<span class="ident" id="6469088">IPv4</span><span class="op" id="6469092">(</span><span class="num" id="6469093">192</span><span class="op" id="6469096">,</span>&nbsp;<span class="num" id="6469098">168</span><span class="op" id="6469101">,</span>&nbsp;<span class="num" id="6469103">1</span><span class="op" id="6469104">,</span>&nbsp;<span class="num" id="6469106">0</span><span class="op" id="6469107">)</span><span class="op" id="6469108">}</span><span class="op" id="6469109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469112">{</span><span class="ident" id="6469113">IPv4</span><span class="op" id="6469117">(</span><span class="num" id="6469118">192</span><span class="op" id="6469121">,</span>&nbsp;<span class="num" id="6469123">168</span><span class="op" id="6469126">,</span>&nbsp;<span class="num" id="6469128">1</span><span class="op" id="6469129">,</span>&nbsp;<span class="num" id="6469131">127</span><span class="op" id="6469134">)</span><span class="op" id="6469135">,</span>&nbsp;<span class="ident" id="6469137">IPMask</span><span class="op" id="6469143">(</span><span class="ident" id="6469144">ParseIP</span><span class="op" id="6469151">(</span><span class="string" id="6469152">&#34;255.255.255.192&#34;</span><span class="op" id="6469169">)</span><span class="op" id="6469170">)</span><span class="op" id="6469171">,</span>&nbsp;<span class="ident" id="6469173">IPv4</span><span class="op" id="6469177">(</span><span class="num" id="6469178">192</span><span class="op" id="6469181">,</span>&nbsp;<span class="num" id="6469183">168</span><span class="op" id="6469186">,</span>&nbsp;<span class="num" id="6469188">1</span><span class="op" id="6469189">,</span>&nbsp;<span class="num" id="6469191">64</span><span class="op" id="6469193">)</span><span class="op" id="6469194">}</span><span class="op" id="6469195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469198">{</span><span class="ident" id="6469199">IPv4</span><span class="op" id="6469203">(</span><span class="num" id="6469204">192</span><span class="op" id="6469207">,</span>&nbsp;<span class="num" id="6469209">168</span><span class="op" id="6469212">,</span>&nbsp;<span class="num" id="6469214">1</span><span class="op" id="6469215">,</span>&nbsp;<span class="num" id="6469217">127</span><span class="op" id="6469220">)</span><span class="op" id="6469221">,</span>&nbsp;<span class="ident" id="6469223">IPMask</span><span class="op" id="6469229">(</span><span class="ident" id="6469230">ParseIP</span><span class="op" id="6469237">(</span><span class="string" id="6469238">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="6469279">)</span><span class="op" id="6469280">)</span><span class="op" id="6469281">,</span>&nbsp;<span class="ident" id="6469283">IPv4</span><span class="op" id="6469287">(</span><span class="num" id="6469288">192</span><span class="op" id="6469291">,</span>&nbsp;<span class="num" id="6469293">168</span><span class="op" id="6469296">,</span>&nbsp;<span class="num" id="6469298">1</span><span class="op" id="6469299">,</span>&nbsp;<span class="num" id="6469301">96</span><span class="op" id="6469303">)</span><span class="op" id="6469304">}</span><span class="op" id="6469305">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469308">{</span><span class="ident" id="6469309">IPv4</span><span class="op" id="6469313">(</span><span class="num" id="6469314">192</span><span class="op" id="6469317">,</span>&nbsp;<span class="num" id="6469319">168</span><span class="op" id="6469322">,</span>&nbsp;<span class="num" id="6469324">1</span><span class="op" id="6469325">,</span>&nbsp;<span class="num" id="6469327">127</span><span class="op" id="6469330">)</span><span class="op" id="6469331">,</span>&nbsp;<span class="ident" id="6469333">IPv4Mask</span><span class="op" id="6469341">(</span><span class="num" id="6469342">255</span><span class="op" id="6469345">,</span>&nbsp;<span class="num" id="6469347">0</span><span class="op" id="6469348">,</span>&nbsp;<span class="num" id="6469350">255</span><span class="op" id="6469353">,</span>&nbsp;<span class="num" id="6469355">0</span><span class="op" id="6469356">)</span><span class="op" id="6469357">,</span>&nbsp;<span class="ident" id="6469359">IPv4</span><span class="op" id="6469363">(</span><span class="num" id="6469364">192</span><span class="op" id="6469367">,</span>&nbsp;<span class="num" id="6469369">0</span><span class="op" id="6469370">,</span>&nbsp;<span class="num" id="6469372">1</span><span class="op" id="6469373">,</span>&nbsp;<span class="num" id="6469375">0</span><span class="op" id="6469376">)</span><span class="op" id="6469377">}</span><span class="op" id="6469378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469381">{</span><span class="ident" id="6469382">ParseIP</span><span class="op" id="6469389">(</span><span class="string" id="6469390">&#34;2001:db8::1&#34;</span><span class="op" id="6469403">)</span><span class="op" id="6469404">,</span>&nbsp;<span class="ident" id="6469406">IPMask</span><span class="op" id="6469412">(</span><span class="ident" id="6469413">ParseIP</span><span class="op" id="6469420">(</span><span class="string" id="6469421">&#34;ffff:ff80::&#34;</span><span class="op" id="6469434">)</span><span class="op" id="6469435">)</span><span class="op" id="6469436">,</span>&nbsp;<span class="ident" id="6469438">ParseIP</span><span class="op" id="6469445">(</span><span class="string" id="6469446">&#34;2001:d80::&#34;</span><span class="op" id="6469458">)</span><span class="op" id="6469459">}</span><span class="op" id="6469460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469463">{</span><span class="ident" id="6469464">ParseIP</span><span class="op" id="6469471">(</span><span class="string" id="6469472">&#34;2001:db8::1&#34;</span><span class="op" id="6469485">)</span><span class="op" id="6469486">,</span>&nbsp;<span class="ident" id="6469488">IPMask</span><span class="op" id="6469494">(</span><span class="ident" id="6469495">ParseIP</span><span class="op" id="6469502">(</span><span class="string" id="6469503">&#34;f0f0:0f0f::&#34;</span><span class="op" id="6469516">)</span><span class="op" id="6469517">)</span><span class="op" id="6469518">,</span>&nbsp;<span class="ident" id="6469520">ParseIP</span><span class="op" id="6469527">(</span><span class="string" id="6469528">&#34;2000:d08::&#34;</span><span class="op" id="6469540">)</span><span class="op" id="6469541">}</span><span class="op" id="6469542">,</span><br>
<span class="lineno"></span><span class="op" id="6469544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6469547">func</span>&nbsp;<span class="ident" id="6469552">TestIPMask</span><span class="op" id="6469562">(</span><span class="ident" id="6469563">t</span>&nbsp;<span class="op" id="6469565">*</span><span class="ident" id="6469566">testing</span><span class="op" id="6469573">.</span><span class="ident" id="6469574">T</span><span class="op" id="6469575">)</span>&nbsp;<span class="op" id="6469577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6469580">for</span>&nbsp;<span class="ident" id="6469584">_</span><span class="op" id="6469585">,</span>&nbsp;<span class="ident" id="6469587">tt</span>&nbsp;<span class="op" id="6469590">:=</span>&nbsp;<span class="keyword" id="6469593">range</span>&nbsp;<span class="ident" id="6469599">ipMaskTests</span>&nbsp;<span class="op" id="6469611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6469615">if</span>&nbsp;<span class="ident" id="6469618">out</span>&nbsp;<span class="op" id="6469622">:=</span>&nbsp;<span class="ident" id="6469625">tt</span><span class="op" id="6469627">.</span><span class="ident" id="6469628">in</span><span class="op" id="6469630">.</span><span class="ident" id="6469631">Mask</span><span class="op" id="6469635">(</span><span class="ident" id="6469636">tt</span><span class="op" id="6469638">.</span><span class="ident" id="6469639">mask</span><span class="op" id="6469643">)</span><span class="op" id="6469644">;</span>&nbsp;<span class="ident" id="6469646">out</span>&nbsp;<span class="op" id="6469650">==</span>&nbsp;<span class="builtintype" id="6469653">nil</span>&nbsp;<span class="op" id="6469657">||</span>&nbsp;<span class="op" id="6469660">!</span><span class="ident" id="6469661">tt</span><span class="op" id="6469663">.</span><span class="ident" id="6469664">out</span><span class="op" id="6469667">.</span><span class="ident" id="6469668">Equal</span><span class="op" id="6469673">(</span><span class="ident" id="6469674">out</span><span class="op" id="6469677">)</span>&nbsp;<span class="op" id="6469679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469684">t</span><span class="op" id="6469685">.</span><span class="ident" id="6469686">Errorf</span><span class="op" id="6469692">(</span><span class="string" id="6469693">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6469724">,</span>&nbsp;<span class="ident" id="6469726">tt</span><span class="op" id="6469728">.</span><span class="ident" id="6469729">in</span><span class="op" id="6469731">,</span>&nbsp;<span class="ident" id="6469733">tt</span><span class="op" id="6469735">.</span><span class="ident" id="6469736">mask</span><span class="op" id="6469740">,</span>&nbsp;<span class="ident" id="6469742">out</span><span class="op" id="6469745">,</span>&nbsp;<span class="ident" id="6469747">tt</span><span class="op" id="6469749">.</span><span class="ident" id="6469750">out</span><span class="op" id="6469753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469757">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469760">}</span><br>
<span class="lineno"></span><span class="op" id="6469762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6469765">var</span>&nbsp;<span class="ident" id="6469769">ipMaskStringTests</span>&nbsp;<span class="op" id="6469787">=</span>&nbsp;<span class="op" id="6469789">[</span><span class="op" id="6469790">]</span><span class="keyword" id="6469791">struct</span>&nbsp;<span class="op" id="6469798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469801">in</span>&nbsp;&nbsp;<span class="ident" id="6469805">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6469813">out</span>&nbsp;<span class="builtintype" id="6469817">string</span><br>
<span class="lineno"></span><span class="op" id="6469824">}</span><span class="op" id="6469825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469828">{</span><span class="ident" id="6469829">IPv4Mask</span><span class="op" id="6469837">(</span><span class="num" id="6469838">255</span><span class="op" id="6469841">,</span>&nbsp;<span class="num" id="6469843">255</span><span class="op" id="6469846">,</span>&nbsp;<span class="num" id="6469848">255</span><span class="op" id="6469851">,</span>&nbsp;<span class="num" id="6469853">240</span><span class="op" id="6469856">)</span><span class="op" id="6469857">,</span>&nbsp;<span class="string" id="6469859">&#34;fffffff0&#34;</span><span class="op" id="6469869">}</span><span class="op" id="6469870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469873">{</span><span class="ident" id="6469874">IPv4Mask</span><span class="op" id="6469882">(</span><span class="num" id="6469883">255</span><span class="op" id="6469886">,</span>&nbsp;<span class="num" id="6469888">0</span><span class="op" id="6469889">,</span>&nbsp;<span class="num" id="6469891">128</span><span class="op" id="6469894">,</span>&nbsp;<span class="num" id="6469896">0</span><span class="op" id="6469897">)</span><span class="op" id="6469898">,</span>&nbsp;<span class="string" id="6469900">&#34;ff008000&#34;</span><span class="op" id="6469910">}</span><span class="op" id="6469911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469914">{</span><span class="ident" id="6469915">IPMask</span><span class="op" id="6469921">(</span><span class="ident" id="6469922">ParseIP</span><span class="op" id="6469929">(</span><span class="string" id="6469930">&#34;ffff:ff80::&#34;</span><span class="op" id="6469943">)</span><span class="op" id="6469944">)</span><span class="op" id="6469945">,</span>&nbsp;<span class="string" id="6469947">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="6469981">}</span><span class="op" id="6469982">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6469985">{</span><span class="ident" id="6469986">IPMask</span><span class="op" id="6469992">(</span><span class="ident" id="6469993">ParseIP</span><span class="op" id="6470000">(</span><span class="string" id="6470001">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="6470020">)</span><span class="op" id="6470021">)</span><span class="op" id="6470022">,</span>&nbsp;<span class="string" id="6470024">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="6470058">}</span><span class="op" id="6470059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470062">{</span><span class="builtintype" id="6470063">nil</span><span class="op" id="6470066">,</span>&nbsp;<span class="string" id="6470068">&#34;&lt;nil&gt;&#34;</span><span class="op" id="6470075">}</span><span class="op" id="6470076">,</span><br>
<span class="lineno"></span><span class="op" id="6470078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470081">func</span>&nbsp;<span class="ident" id="6470086">TestIPMaskString</span><span class="op" id="6470102">(</span><span class="ident" id="6470103">t</span>&nbsp;<span class="op" id="6470105">*</span><span class="ident" id="6470106">testing</span><span class="op" id="6470113">.</span><span class="ident" id="6470114">T</span><span class="op" id="6470115">)</span>&nbsp;<span class="op" id="6470117">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6470120">for</span>&nbsp;<span class="ident" id="6470124">_</span><span class="op" id="6470125">,</span>&nbsp;<span class="ident" id="6470127">tt</span>&nbsp;<span class="op" id="6470130">:=</span>&nbsp;<span class="keyword" id="6470133">range</span>&nbsp;<span class="ident" id="6470139">ipMaskStringTests</span>&nbsp;<span class="op" id="6470157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6470161">if</span>&nbsp;<span class="ident" id="6470164">out</span>&nbsp;<span class="op" id="6470168">:=</span>&nbsp;<span class="ident" id="6470171">tt</span><span class="op" id="6470173">.</span><span class="ident" id="6470174">in</span><span class="op" id="6470176">.</span><span class="ident" id="6470177">String</span><span class="op" id="6470183">(</span><span class="op" id="6470184">)</span><span class="op" id="6470185">;</span>&nbsp;<span class="ident" id="6470187">out</span>&nbsp;<span class="op" id="6470191">!=</span>&nbsp;<span class="ident" id="6470194">tt</span><span class="op" id="6470196">.</span><span class="ident" id="6470197">out</span>&nbsp;<span class="op" id="6470201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6470206">t</span><span class="op" id="6470207">.</span><span class="ident" id="6470208">Errorf</span><span class="op" id="6470214">(</span><span class="string" id="6470215">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6470248">,</span>&nbsp;<span class="ident" id="6470250">tt</span><span class="op" id="6470252">.</span><span class="ident" id="6470253">in</span><span class="op" id="6470255">,</span>&nbsp;<span class="ident" id="6470257">out</span><span class="op" id="6470260">,</span>&nbsp;<span class="ident" id="6470262">tt</span><span class="op" id="6470264">.</span><span class="ident" id="6470265">out</span><span class="op" id="6470268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470275">}</span><br>
<span class="lineno">150</span><span class="op" id="6470277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6470280">func</span>&nbsp;<span class="ident" id="6470285">BenchmarkIPMaskString</span><span class="op" id="6470306">(</span><span class="ident" id="6470307">b</span>&nbsp;<span class="op" id="6470309">*</span><span class="ident" id="6470310">testing</span><span class="op" id="6470317">.</span><span class="ident" id="6470318">B</span><span class="op" id="6470319">)</span>&nbsp;<span class="op" id="6470321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6470324">for</span>&nbsp;<span class="ident" id="6470328">i</span>&nbsp;<span class="op" id="6470330">:=</span>&nbsp;<span class="num" id="6470333">0</span><span class="op" id="6470334">;</span>&nbsp;<span class="ident" id="6470336">i</span>&nbsp;<span class="op" id="6470338">&lt;</span>&nbsp;<span class="ident" id="6470340">b</span><span class="op" id="6470341">.</span><span class="ident" id="6470342">N</span><span class="op" id="6470343">;</span>&nbsp;<span class="ident" id="6470345">i</span><span class="op" id="6470346">++</span>&nbsp;<span class="op" id="6470349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6470353">for</span>&nbsp;<span class="ident" id="6470357">_</span><span class="op" id="6470358">,</span>&nbsp;<span class="ident" id="6470360">tt</span>&nbsp;<span class="op" id="6470363">:=</span>&nbsp;<span class="keyword" id="6470366">range</span>&nbsp;<span class="ident" id="6470372">ipMaskStringTests</span>&nbsp;<span class="op" id="6470390">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6470395">tt</span><span class="op" id="6470397">.</span><span class="ident" id="6470398">in</span><span class="op" id="6470400">.</span><span class="ident" id="6470401">String</span><span class="op" id="6470407">(</span><span class="op" id="6470408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470415">}</span><br>
<span class="lineno"></span><span class="op" id="6470417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6470420">var</span>&nbsp;<span class="ident" id="6470424">parseCIDRTests</span>&nbsp;<span class="op" id="6470439">=</span>&nbsp;<span class="op" id="6470441">[</span><span class="op" id="6470442">]</span><span class="keyword" id="6470443">struct</span>&nbsp;<span class="op" id="6470450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6470453">in</span>&nbsp;&nbsp;<span class="builtintype" id="6470457">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6470465">ip</span>&nbsp;&nbsp;<span class="ident" id="6470469">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6470473">net</span>&nbsp;<span class="op" id="6470477">*</span><span class="ident" id="6470478">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6470485">err</span>&nbsp;<span class="builtintype" id="6470489">error</span><br>
<span class="lineno">165</span><span class="op" id="6470495">}</span><span class="op" id="6470496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470499">{</span><span class="string" id="6470500">&#34;135.104.0.0/32&#34;</span><span class="op" id="6470516">,</span>&nbsp;<span class="ident" id="6470518">IPv4</span><span class="op" id="6470522">(</span><span class="num" id="6470523">135</span><span class="op" id="6470526">,</span>&nbsp;<span class="num" id="6470528">104</span><span class="op" id="6470531">,</span>&nbsp;<span class="num" id="6470533">0</span><span class="op" id="6470534">,</span>&nbsp;<span class="num" id="6470536">0</span><span class="op" id="6470537">)</span><span class="op" id="6470538">,</span>&nbsp;<span class="op" id="6470540">&amp;</span><span class="ident" id="6470541">IPNet</span><span class="op" id="6470546">{</span><span class="ident" id="6470547">IP</span><span class="op" id="6470549">:</span>&nbsp;<span class="ident" id="6470551">IPv4</span><span class="op" id="6470555">(</span><span class="num" id="6470556">135</span><span class="op" id="6470559">,</span>&nbsp;<span class="num" id="6470561">104</span><span class="op" id="6470564">,</span>&nbsp;<span class="num" id="6470566">0</span><span class="op" id="6470567">,</span>&nbsp;<span class="num" id="6470569">0</span><span class="op" id="6470570">)</span><span class="op" id="6470571">,</span>&nbsp;<span class="ident" id="6470573">Mask</span><span class="op" id="6470577">:</span>&nbsp;<span class="ident" id="6470579">IPv4Mask</span><span class="op" id="6470587">(</span><span class="num" id="6470588">255</span><span class="op" id="6470591">,</span>&nbsp;<span class="num" id="6470593">255</span><span class="op" id="6470596">,</span>&nbsp;<span class="num" id="6470598">255</span><span class="op" id="6470601">,</span>&nbsp;<span class="num" id="6470603">255</span><span class="op" id="6470606">)</span><span class="op" id="6470607">}</span><span class="op" id="6470608">,</span>&nbsp;<span class="builtintype" id="6470610">nil</span><span class="op" id="6470613">}</span><span class="op" id="6470614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470617">{</span><span class="string" id="6470618">&#34;0.0.0.0/24&#34;</span><span class="op" id="6470630">,</span>&nbsp;<span class="ident" id="6470632">IPv4</span><span class="op" id="6470636">(</span><span class="num" id="6470637">0</span><span class="op" id="6470638">,</span>&nbsp;<span class="num" id="6470640">0</span><span class="op" id="6470641">,</span>&nbsp;<span class="num" id="6470643">0</span><span class="op" id="6470644">,</span>&nbsp;<span class="num" id="6470646">0</span><span class="op" id="6470647">)</span><span class="op" id="6470648">,</span>&nbsp;<span class="op" id="6470650">&amp;</span><span class="ident" id="6470651">IPNet</span><span class="op" id="6470656">{</span><span class="ident" id="6470657">IP</span><span class="op" id="6470659">:</span>&nbsp;<span class="ident" id="6470661">IPv4</span><span class="op" id="6470665">(</span><span class="num" id="6470666">0</span><span class="op" id="6470667">,</span>&nbsp;<span class="num" id="6470669">0</span><span class="op" id="6470670">,</span>&nbsp;<span class="num" id="6470672">0</span><span class="op" id="6470673">,</span>&nbsp;<span class="num" id="6470675">0</span><span class="op" id="6470676">)</span><span class="op" id="6470677">,</span>&nbsp;<span class="ident" id="6470679">Mask</span><span class="op" id="6470683">:</span>&nbsp;<span class="ident" id="6470685">IPv4Mask</span><span class="op" id="6470693">(</span><span class="num" id="6470694">255</span><span class="op" id="6470697">,</span>&nbsp;<span class="num" id="6470699">255</span><span class="op" id="6470702">,</span>&nbsp;<span class="num" id="6470704">255</span><span class="op" id="6470707">,</span>&nbsp;<span class="num" id="6470709">0</span><span class="op" id="6470710">)</span><span class="op" id="6470711">}</span><span class="op" id="6470712">,</span>&nbsp;<span class="builtintype" id="6470714">nil</span><span class="op" id="6470717">}</span><span class="op" id="6470718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470721">{</span><span class="string" id="6470722">&#34;135.104.0.0/24&#34;</span><span class="op" id="6470738">,</span>&nbsp;<span class="ident" id="6470740">IPv4</span><span class="op" id="6470744">(</span><span class="num" id="6470745">135</span><span class="op" id="6470748">,</span>&nbsp;<span class="num" id="6470750">104</span><span class="op" id="6470753">,</span>&nbsp;<span class="num" id="6470755">0</span><span class="op" id="6470756">,</span>&nbsp;<span class="num" id="6470758">0</span><span class="op" id="6470759">)</span><span class="op" id="6470760">,</span>&nbsp;<span class="op" id="6470762">&amp;</span><span class="ident" id="6470763">IPNet</span><span class="op" id="6470768">{</span><span class="ident" id="6470769">IP</span><span class="op" id="6470771">:</span>&nbsp;<span class="ident" id="6470773">IPv4</span><span class="op" id="6470777">(</span><span class="num" id="6470778">135</span><span class="op" id="6470781">,</span>&nbsp;<span class="num" id="6470783">104</span><span class="op" id="6470786">,</span>&nbsp;<span class="num" id="6470788">0</span><span class="op" id="6470789">,</span>&nbsp;<span class="num" id="6470791">0</span><span class="op" id="6470792">)</span><span class="op" id="6470793">,</span>&nbsp;<span class="ident" id="6470795">Mask</span><span class="op" id="6470799">:</span>&nbsp;<span class="ident" id="6470801">IPv4Mask</span><span class="op" id="6470809">(</span><span class="num" id="6470810">255</span><span class="op" id="6470813">,</span>&nbsp;<span class="num" id="6470815">255</span><span class="op" id="6470818">,</span>&nbsp;<span class="num" id="6470820">255</span><span class="op" id="6470823">,</span>&nbsp;<span class="num" id="6470825">0</span><span class="op" id="6470826">)</span><span class="op" id="6470827">}</span><span class="op" id="6470828">,</span>&nbsp;<span class="builtintype" id="6470830">nil</span><span class="op" id="6470833">}</span><span class="op" id="6470834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470837">{</span><span class="string" id="6470838">&#34;135.104.0.1/32&#34;</span><span class="op" id="6470854">,</span>&nbsp;<span class="ident" id="6470856">IPv4</span><span class="op" id="6470860">(</span><span class="num" id="6470861">135</span><span class="op" id="6470864">,</span>&nbsp;<span class="num" id="6470866">104</span><span class="op" id="6470869">,</span>&nbsp;<span class="num" id="6470871">0</span><span class="op" id="6470872">,</span>&nbsp;<span class="num" id="6470874">1</span><span class="op" id="6470875">)</span><span class="op" id="6470876">,</span>&nbsp;<span class="op" id="6470878">&amp;</span><span class="ident" id="6470879">IPNet</span><span class="op" id="6470884">{</span><span class="ident" id="6470885">IP</span><span class="op" id="6470887">:</span>&nbsp;<span class="ident" id="6470889">IPv4</span><span class="op" id="6470893">(</span><span class="num" id="6470894">135</span><span class="op" id="6470897">,</span>&nbsp;<span class="num" id="6470899">104</span><span class="op" id="6470902">,</span>&nbsp;<span class="num" id="6470904">0</span><span class="op" id="6470905">,</span>&nbsp;<span class="num" id="6470907">1</span><span class="op" id="6470908">)</span><span class="op" id="6470909">,</span>&nbsp;<span class="ident" id="6470911">Mask</span><span class="op" id="6470915">:</span>&nbsp;<span class="ident" id="6470917">IPv4Mask</span><span class="op" id="6470925">(</span><span class="num" id="6470926">255</span><span class="op" id="6470929">,</span>&nbsp;<span class="num" id="6470931">255</span><span class="op" id="6470934">,</span>&nbsp;<span class="num" id="6470936">255</span><span class="op" id="6470939">,</span>&nbsp;<span class="num" id="6470941">255</span><span class="op" id="6470944">)</span><span class="op" id="6470945">}</span><span class="op" id="6470946">,</span>&nbsp;<span class="builtintype" id="6470948">nil</span><span class="op" id="6470951">}</span><span class="op" id="6470952">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470955">{</span><span class="string" id="6470956">&#34;135.104.0.1/24&#34;</span><span class="op" id="6470972">,</span>&nbsp;<span class="ident" id="6470974">IPv4</span><span class="op" id="6470978">(</span><span class="num" id="6470979">135</span><span class="op" id="6470982">,</span>&nbsp;<span class="num" id="6470984">104</span><span class="op" id="6470987">,</span>&nbsp;<span class="num" id="6470989">0</span><span class="op" id="6470990">,</span>&nbsp;<span class="num" id="6470992">1</span><span class="op" id="6470993">)</span><span class="op" id="6470994">,</span>&nbsp;<span class="op" id="6470996">&amp;</span><span class="ident" id="6470997">IPNet</span><span class="op" id="6471002">{</span><span class="ident" id="6471003">IP</span><span class="op" id="6471005">:</span>&nbsp;<span class="ident" id="6471007">IPv4</span><span class="op" id="6471011">(</span><span class="num" id="6471012">135</span><span class="op" id="6471015">,</span>&nbsp;<span class="num" id="6471017">104</span><span class="op" id="6471020">,</span>&nbsp;<span class="num" id="6471022">0</span><span class="op" id="6471023">,</span>&nbsp;<span class="num" id="6471025">0</span><span class="op" id="6471026">)</span><span class="op" id="6471027">,</span>&nbsp;<span class="ident" id="6471029">Mask</span><span class="op" id="6471033">:</span>&nbsp;<span class="ident" id="6471035">IPv4Mask</span><span class="op" id="6471043">(</span><span class="num" id="6471044">255</span><span class="op" id="6471047">,</span>&nbsp;<span class="num" id="6471049">255</span><span class="op" id="6471052">,</span>&nbsp;<span class="num" id="6471054">255</span><span class="op" id="6471057">,</span>&nbsp;<span class="num" id="6471059">0</span><span class="op" id="6471060">)</span><span class="op" id="6471061">}</span><span class="op" id="6471062">,</span>&nbsp;<span class="builtintype" id="6471064">nil</span><span class="op" id="6471067">}</span><span class="op" id="6471068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6471071">{</span><span class="string" id="6471072">&#34;::1/128&#34;</span><span class="op" id="6471081">,</span>&nbsp;<span class="ident" id="6471083">ParseIP</span><span class="op" id="6471090">(</span><span class="string" id="6471091">&#34;::1&#34;</span><span class="op" id="6471096">)</span><span class="op" id="6471097">,</span>&nbsp;<span class="op" id="6471099">&amp;</span><span class="ident" id="6471100">IPNet</span><span class="op" id="6471105">{</span><span class="ident" id="6471106">IP</span><span class="op" id="6471108">:</span>&nbsp;<span class="ident" id="6471110">ParseIP</span><span class="op" id="6471117">(</span><span class="string" id="6471118">&#34;::1&#34;</span><span class="op" id="6471123">)</span><span class="op" id="6471124">,</span>&nbsp;<span class="ident" id="6471126">Mask</span><span class="op" id="6471130">:</span>&nbsp;<span class="ident" id="6471132">IPMask</span><span class="op" id="6471138">(</span><span class="ident" id="6471139">ParseIP</span><span class="op" id="6471146">(</span><span class="string" id="6471147">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="6471188">)</span><span class="op" id="6471189">)</span><span class="op" id="6471190">}</span><span class="op" id="6471191">,</span>&nbsp;<span class="builtintype" id="6471193">nil</span><span class="op" id="6471196">}</span><span class="op" id="6471197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6471200">{</span><span class="string" id="6471201">&#34;abcd:2345::/127&#34;</span><span class="op" id="6471218">,</span>&nbsp;<span class="ident" id="6471220">ParseIP</span><span class="op" id="6471227">(</span><span class="string" id="6471228">&#34;abcd:2345::&#34;</span><span class="op" id="6471241">)</span><span class="op" id="6471242">,</span>&nbsp;<span class="op" id="6471244">&amp;</span><span class="ident" id="6471245">IPNet</span><span class="op" id="6471250">{</span><span class="ident" id="6471251">IP</span><span class="op" id="6471253">:</span>&nbsp;<span class="ident" id="6471255">ParseIP</span><span class="op" id="6471262">(</span><span class="string" id="6471263">&#34;abcd:2345::&#34;</span><span class="op" id="6471276">)</span><span class="op" id="6471277">,</span>&nbsp;<span class="ident" id="6471279">Mask</span><span class="op" id="6471283">:</span>&nbsp;<span class="ident" id="6471285">IPMask</span><span class="op" id="6471291">(</span><span class="ident" id="6471292">ParseIP</span><span class="op" id="6471299">(</span><span class="string" id="6471300">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="6471341">)</span><span class="op" id="6471342">)</span><span class="op" id="6471343">}</span><span class="op" id="6471344">,</span>&nbsp;<span class="builtintype" id="6471346">nil</span><span class="op" id="6471349">}</span><span class="op" id="6471350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6471353">{</span><span class="string" id="6471354">&#34;abcd:2345::/65&#34;</span><span class="op" id="6471370">,</span>&nbsp;<span class="ident" id="6471372">ParseIP</span><span class="op" id="6471379">(</span><span class="string" id="6471380">&#34;abcd:2345::&#34;</span><span class="op" id="6471393">)</span><span class="op" id="6471394">,</span>&nbsp;<span class="op" id="6471396">&amp;</span><span class="ident" id="6471397">IPNet</span><span class="op" id="6471402">{</span><span class="ident" id="6471403">IP</span><span class="op" id="6471405">:</span>&nbsp;<span class="ident" id="6471407">ParseIP</span><span class="op" id="6471414">(</span><span class="string" id="6471415">&#34;abcd:2345::&#34;</span><span class="op" id="6471428">)</span><span class="op" id="6471429">,</span>&nbsp;<span class="ident" id="6471431">Mask</span><span class="op" id="6471435">:</span>&nbsp;<span class="ident" id="6471437">IPMask</span><span class="op" id="6471443">(</span><span class="ident" id="6471444">ParseIP</span><span class="op" id="6471451">(</span><span class="string" id="6471452">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="6471480">)</span><span class="op" id="6471481">)</span><span class="op" id="6471482">}</span><span class="op" id="6471483">,</span>&nbsp;<span class="builtintype" id="6471485">nil</span><span class="op" id="6471488">}</span><span class="op" id="6471489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6471492">{</span><span class="string" id="6471493">&#34;abcd:2345::/64&#34;</span><span class="op" id="6471509">,</span>&nbsp;<span class="ident" id="6471511">ParseIP</span><span class="op" id="6471518">(</span><span class="string" id="6471519">&#34;abcd:2345::&#34;</span><span class="op" id="6471532">)</span><span class="op" id="6471533">,</span>&nbsp;<span class="op" id="6471535">&amp;</span><span class="ident" id="6471536">IPNet</span><span class="op" id="6471541">{</span><span class="ident" id="6471542">IP</span><span class="op" id="6471544">:</span>&nbsp;<span class="ident" id="6471546">ParseIP</span><span class="op" id="6471553">(</span><span class="string" id="6471554">&#34;abcd:2345::&#34;</span><span class="op" id="6471567">)</span><span class="op" id="6471568">,</span>&nbsp;<span class="ident" id="6471570">Mask</span><span class="op" id="6471574">:</span>&nbsp;<span class="ident" id="6471576">IPMask</span><span class="op" id="6471582">(</span><span class="ident" id="6471583">ParseIP</span><span class="op" id="6471590">(</span><span class="string" id="6471591">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="6471614">)</span><span class="op" id="6471615">)</span><span class="op" id="6471616">}</span><span class="op" id="6471617">,</span>&nbsp;<span class="builtintype" id="6471619">nil</span><span class="op" id="6471622">}</span><span class="op" id="6471623">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6471626">{</span><span class="string" id="6471627">&#34;abcd:2345::/63&#34;</span><span class="op" id="6471643">,</span>&nbsp;<span class="ident" id="6471645">ParseIP</span><span class="op" id="6471652">(</span><span class="string" id="6471653">&#34;abcd:2345::&#34;</span><span class="op" id="6471666">)</span><span class="op" id="6471667">,</span>&nbsp;<span class="op" id="6471669">&amp;</span><span class="ident" id="6471670">IPNet</span><span class="op" id="6471675">{</span><span class="ident" id="6471676">IP</span><span class="op" id="6471678">:</span>&nbsp;<span class="ident" id="6471680">ParseIP</span><span class="op" id="6471687">(</span><span class="string" id="6471688">&#34;abcd:2345::&#34;</span><span class="op" id="6471701">)</span><span class="op" id="6471702">,</span>&nbsp;<span class="ident" id="6471704">Mask</span><span class="op" id="6471708">:</span>&nbsp;<span class="ident" id="6471710">IPMask</span><span class="op" id="6471716">(</span><span class="ident" id="6471717">ParseIP</span><span class="op" id="6471724">(</span><span class="string" id="6471725">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="6471748">)</span><span class="op" id="6471749">)</span><span class="op" id="6471750">}</span><span class="op" id="6471751">,</span>&nbsp;<span class="builtintype" id="6471753">nil</span><span class="op" id="6471756">}</span><span class="op" id="6471757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6471760">{</span><span class="string" id="6471761">&#34;abcd:2345::/33&#34;</span><span class="op" id="6471777">,</span>&nbsp;<span class="ident" id="6471779">ParseIP</span><span class="op" id="6471786">(</span><span class="string" id="6471787">&#34;abcd:2345::&#34;</span><span class="op" id="6471800">)</span><span class="op" id="6471801">,</span>&nbsp;<span class="op" id="6471803">&amp;</span><span class="ident" id="6471804">IPNet</span><span class="op" id="6471809">{</span><span class="ident" id="6471810">IP</span><span class="op" id="6471812">:</span>&nbsp;<span class="ident" id="6471814">ParseIP</span><span class="op" id="6471821">(</span><span class="string" id="6471822">&#34;abcd:2345::&#34;</span><span class="op" id="6471835">)</span><span class="op" id="6471836">,</span>&nbsp;<span class="ident" id="6471838">Mask</span><span class="op" id="6471842">:</span>&nbsp;<span class="ident" id="6471844">IPMask</span><span class="op" id="6471850">(</span><span class="ident" id="6471851">ParseIP</span><span class="op" id="6471858">(</span><span class="string" id="6471859">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="6471877">)</span><span class="op" id="6471878">)</span><span class="op" id="6471879">}</span><span class="op" id="6471880">,</span>&nbsp;<span class="builtintype" id="6471882">nil</span><span class="op" id="6471885">}</span><span class="op" id="6471886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6471889">{</span><span class="string" id="6471890">&#34;abcd:2345::/32&#34;</span><span class="op" id="6471906">,</span>&nbsp;<span class="ident" id="6471908">ParseIP</span><span class="op" id="6471915">(</span><span class="string" id="6471916">&#34;abcd:2345::&#34;</span><span class="op" id="6471929">)</span><span class="op" id="6471930">,</span>&nbsp;<span class="op" id="6471932">&amp;</span><span class="ident" id="6471933">IPNet</span><span class="op" id="6471938">{</span><span class="ident" id="6471939">IP</span><span class="op" id="6471941">:</span>&nbsp;<span class="ident" id="6471943">ParseIP</span><span class="op" id="6471950">(</span><span class="string" id="6471951">&#34;abcd:2345::&#34;</span><span class="op" id="6471964">)</span><span class="op" id="6471965">,</span>&nbsp;<span class="ident" id="6471967">Mask</span><span class="op" id="6471971">:</span>&nbsp;<span class="ident" id="6471973">IPMask</span><span class="op" id="6471979">(</span><span class="ident" id="6471980">ParseIP</span><span class="op" id="6471987">(</span><span class="string" id="6471988">&#34;ffff:ffff::&#34;</span><span class="op" id="6472001">)</span><span class="op" id="6472002">)</span><span class="op" id="6472003">}</span><span class="op" id="6472004">,</span>&nbsp;<span class="builtintype" id="6472006">nil</span><span class="op" id="6472009">}</span><span class="op" id="6472010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472013">{</span><span class="string" id="6472014">&#34;abcd:2344::/31&#34;</span><span class="op" id="6472030">,</span>&nbsp;<span class="ident" id="6472032">ParseIP</span><span class="op" id="6472039">(</span><span class="string" id="6472040">&#34;abcd:2344::&#34;</span><span class="op" id="6472053">)</span><span class="op" id="6472054">,</span>&nbsp;<span class="op" id="6472056">&amp;</span><span class="ident" id="6472057">IPNet</span><span class="op" id="6472062">{</span><span class="ident" id="6472063">IP</span><span class="op" id="6472065">:</span>&nbsp;<span class="ident" id="6472067">ParseIP</span><span class="op" id="6472074">(</span><span class="string" id="6472075">&#34;abcd:2344::&#34;</span><span class="op" id="6472088">)</span><span class="op" id="6472089">,</span>&nbsp;<span class="ident" id="6472091">Mask</span><span class="op" id="6472095">:</span>&nbsp;<span class="ident" id="6472097">IPMask</span><span class="op" id="6472103">(</span><span class="ident" id="6472104">ParseIP</span><span class="op" id="6472111">(</span><span class="string" id="6472112">&#34;ffff:fffe::&#34;</span><span class="op" id="6472125">)</span><span class="op" id="6472126">)</span><span class="op" id="6472127">}</span><span class="op" id="6472128">,</span>&nbsp;<span class="builtintype" id="6472130">nil</span><span class="op" id="6472133">}</span><span class="op" id="6472134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472137">{</span><span class="string" id="6472138">&#34;abcd:2300::/24&#34;</span><span class="op" id="6472154">,</span>&nbsp;<span class="ident" id="6472156">ParseIP</span><span class="op" id="6472163">(</span><span class="string" id="6472164">&#34;abcd:2300::&#34;</span><span class="op" id="6472177">)</span><span class="op" id="6472178">,</span>&nbsp;<span class="op" id="6472180">&amp;</span><span class="ident" id="6472181">IPNet</span><span class="op" id="6472186">{</span><span class="ident" id="6472187">IP</span><span class="op" id="6472189">:</span>&nbsp;<span class="ident" id="6472191">ParseIP</span><span class="op" id="6472198">(</span><span class="string" id="6472199">&#34;abcd:2300::&#34;</span><span class="op" id="6472212">)</span><span class="op" id="6472213">,</span>&nbsp;<span class="ident" id="6472215">Mask</span><span class="op" id="6472219">:</span>&nbsp;<span class="ident" id="6472221">IPMask</span><span class="op" id="6472227">(</span><span class="ident" id="6472228">ParseIP</span><span class="op" id="6472235">(</span><span class="string" id="6472236">&#34;ffff:ff00::&#34;</span><span class="op" id="6472249">)</span><span class="op" id="6472250">)</span><span class="op" id="6472251">}</span><span class="op" id="6472252">,</span>&nbsp;<span class="builtintype" id="6472254">nil</span><span class="op" id="6472257">}</span><span class="op" id="6472258">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472261">{</span><span class="string" id="6472262">&#34;abcd:2345::/24&#34;</span><span class="op" id="6472278">,</span>&nbsp;<span class="ident" id="6472280">ParseIP</span><span class="op" id="6472287">(</span><span class="string" id="6472288">&#34;abcd:2345::&#34;</span><span class="op" id="6472301">)</span><span class="op" id="6472302">,</span>&nbsp;<span class="op" id="6472304">&amp;</span><span class="ident" id="6472305">IPNet</span><span class="op" id="6472310">{</span><span class="ident" id="6472311">IP</span><span class="op" id="6472313">:</span>&nbsp;<span class="ident" id="6472315">ParseIP</span><span class="op" id="6472322">(</span><span class="string" id="6472323">&#34;abcd:2300::&#34;</span><span class="op" id="6472336">)</span><span class="op" id="6472337">,</span>&nbsp;<span class="ident" id="6472339">Mask</span><span class="op" id="6472343">:</span>&nbsp;<span class="ident" id="6472345">IPMask</span><span class="op" id="6472351">(</span><span class="ident" id="6472352">ParseIP</span><span class="op" id="6472359">(</span><span class="string" id="6472360">&#34;ffff:ff00::&#34;</span><span class="op" id="6472373">)</span><span class="op" id="6472374">)</span><span class="op" id="6472375">}</span><span class="op" id="6472376">,</span>&nbsp;<span class="builtintype" id="6472378">nil</span><span class="op" id="6472381">}</span><span class="op" id="6472382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472385">{</span><span class="string" id="6472386">&#34;2001:DB8::/48&#34;</span><span class="op" id="6472401">,</span>&nbsp;<span class="ident" id="6472403">ParseIP</span><span class="op" id="6472410">(</span><span class="string" id="6472411">&#34;2001:DB8::&#34;</span><span class="op" id="6472423">)</span><span class="op" id="6472424">,</span>&nbsp;<span class="op" id="6472426">&amp;</span><span class="ident" id="6472427">IPNet</span><span class="op" id="6472432">{</span><span class="ident" id="6472433">IP</span><span class="op" id="6472435">:</span>&nbsp;<span class="ident" id="6472437">ParseIP</span><span class="op" id="6472444">(</span><span class="string" id="6472445">&#34;2001:DB8::&#34;</span><span class="op" id="6472457">)</span><span class="op" id="6472458">,</span>&nbsp;<span class="ident" id="6472460">Mask</span><span class="op" id="6472464">:</span>&nbsp;<span class="ident" id="6472466">IPMask</span><span class="op" id="6472472">(</span><span class="ident" id="6472473">ParseIP</span><span class="op" id="6472480">(</span><span class="string" id="6472481">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6472499">)</span><span class="op" id="6472500">)</span><span class="op" id="6472501">}</span><span class="op" id="6472502">,</span>&nbsp;<span class="builtintype" id="6472504">nil</span><span class="op" id="6472507">}</span><span class="op" id="6472508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472511">{</span><span class="string" id="6472512">&#34;2001:DB8::1/48&#34;</span><span class="op" id="6472528">,</span>&nbsp;<span class="ident" id="6472530">ParseIP</span><span class="op" id="6472537">(</span><span class="string" id="6472538">&#34;2001:DB8::1&#34;</span><span class="op" id="6472551">)</span><span class="op" id="6472552">,</span>&nbsp;<span class="op" id="6472554">&amp;</span><span class="ident" id="6472555">IPNet</span><span class="op" id="6472560">{</span><span class="ident" id="6472561">IP</span><span class="op" id="6472563">:</span>&nbsp;<span class="ident" id="6472565">ParseIP</span><span class="op" id="6472572">(</span><span class="string" id="6472573">&#34;2001:DB8::&#34;</span><span class="op" id="6472585">)</span><span class="op" id="6472586">,</span>&nbsp;<span class="ident" id="6472588">Mask</span><span class="op" id="6472592">:</span>&nbsp;<span class="ident" id="6472594">IPMask</span><span class="op" id="6472600">(</span><span class="ident" id="6472601">ParseIP</span><span class="op" id="6472608">(</span><span class="string" id="6472609">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6472627">)</span><span class="op" id="6472628">)</span><span class="op" id="6472629">}</span><span class="op" id="6472630">,</span>&nbsp;<span class="builtintype" id="6472632">nil</span><span class="op" id="6472635">}</span><span class="op" id="6472636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472639">{</span><span class="string" id="6472640">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6472667">,</span>&nbsp;<span class="builtintype" id="6472669">nil</span><span class="op" id="6472672">,</span>&nbsp;<span class="builtintype" id="6472674">nil</span><span class="op" id="6472677">,</span>&nbsp;<span class="op" id="6472679">&amp;</span><span class="ident" id="6472680">ParseError</span><span class="op" id="6472690">{</span><span class="string" id="6472691">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6472705">,</span>&nbsp;<span class="string" id="6472707">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6472734">}</span><span class="op" id="6472735">}</span><span class="op" id="6472736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472739">{</span><span class="string" id="6472740">&#34;192.168.1.1/35&#34;</span><span class="op" id="6472756">,</span>&nbsp;<span class="builtintype" id="6472758">nil</span><span class="op" id="6472761">,</span>&nbsp;<span class="builtintype" id="6472763">nil</span><span class="op" id="6472766">,</span>&nbsp;<span class="op" id="6472768">&amp;</span><span class="ident" id="6472769">ParseError</span><span class="op" id="6472779">{</span><span class="string" id="6472780">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6472794">,</span>&nbsp;<span class="string" id="6472796">&#34;192.168.1.1/35&#34;</span><span class="op" id="6472812">}</span><span class="op" id="6472813">}</span><span class="op" id="6472814">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472817">{</span><span class="string" id="6472818">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6472834">,</span>&nbsp;<span class="builtintype" id="6472836">nil</span><span class="op" id="6472839">,</span>&nbsp;<span class="builtintype" id="6472841">nil</span><span class="op" id="6472844">,</span>&nbsp;<span class="op" id="6472846">&amp;</span><span class="ident" id="6472847">ParseError</span><span class="op" id="6472857">{</span><span class="string" id="6472858">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6472872">,</span>&nbsp;<span class="string" id="6472874">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6472890">}</span><span class="op" id="6472891">}</span><span class="op" id="6472892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6472895">{</span><span class="string" id="6472896">&#34;&#34;</span><span class="op" id="6472898">,</span>&nbsp;<span class="builtintype" id="6472900">nil</span><span class="op" id="6472903">,</span>&nbsp;<span class="builtintype" id="6472905">nil</span><span class="op" id="6472908">,</span>&nbsp;<span class="op" id="6472910">&amp;</span><span class="ident" id="6472911">ParseError</span><span class="op" id="6472921">{</span><span class="string" id="6472922">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6472936">,</span>&nbsp;<span class="string" id="6472938">&#34;&#34;</span><span class="op" id="6472940">}</span><span class="op" id="6472941">}</span><span class="op" id="6472942">,</span><br>
<span class="lineno"></span><span class="op" id="6472944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6472947">func</span>&nbsp;<span class="ident" id="6472952">TestParseCIDR</span><span class="op" id="6472965">(</span><span class="ident" id="6472966">t</span>&nbsp;<span class="op" id="6472968">*</span><span class="ident" id="6472969">testing</span><span class="op" id="6472976">.</span><span class="ident" id="6472977">T</span><span class="op" id="6472978">)</span>&nbsp;<span class="op" id="6472980">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6472983">for</span>&nbsp;<span class="ident" id="6472987">_</span><span class="op" id="6472988">,</span>&nbsp;<span class="ident" id="6472990">tt</span>&nbsp;<span class="op" id="6472993">:=</span>&nbsp;<span class="keyword" id="6472996">range</span>&nbsp;<span class="ident" id="6473002">parseCIDRTests</span>&nbsp;<span class="op" id="6473017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6473021">ip</span><span class="op" id="6473023">,</span>&nbsp;<span class="ident" id="6473025">net</span><span class="op" id="6473028">,</span>&nbsp;<span class="ident" id="6473030">err</span>&nbsp;<span class="op" id="6473034">:=</span>&nbsp;<span class="ident" id="6473037">ParseCIDR</span><span class="op" id="6473046">(</span><span class="ident" id="6473047">tt</span><span class="op" id="6473049">.</span><span class="ident" id="6473050">in</span><span class="op" id="6473052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6473056">if</span>&nbsp;<span class="op" id="6473059">!</span><span class="ident" id="6473060">reflect</span><span class="op" id="6473067">.</span><span class="ident" id="6473068">DeepEqual</span><span class="op" id="6473077">(</span><span class="ident" id="6473078">err</span><span class="op" id="6473081">,</span>&nbsp;<span class="ident" id="6473083">tt</span><span class="op" id="6473085">.</span><span class="ident" id="6473086">err</span><span class="op" id="6473089">)</span>&nbsp;<span class="op" id="6473091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6473096">t</span><span class="op" id="6473097">.</span><span class="ident" id="6473098">Errorf</span><span class="op" id="6473104">(</span><span class="string" id="6473105">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6473142">,</span>&nbsp;<span class="ident" id="6473144">tt</span><span class="op" id="6473146">.</span><span class="ident" id="6473147">in</span><span class="op" id="6473149">,</span>&nbsp;<span class="ident" id="6473151">ip</span><span class="op" id="6473153">,</span>&nbsp;<span class="ident" id="6473155">net</span><span class="op" id="6473158">,</span>&nbsp;<span class="ident" id="6473160">tt</span><span class="op" id="6473162">.</span><span class="ident" id="6473163">ip</span><span class="op" id="6473165">,</span>&nbsp;<span class="ident" id="6473167">tt</span><span class="op" id="6473169">.</span><span class="ident" id="6473170">net</span><span class="op" id="6473173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473177">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6473181">if</span>&nbsp;<span class="ident" id="6473184">err</span>&nbsp;<span class="op" id="6473188">==</span>&nbsp;<span class="builtintype" id="6473191">nil</span>&nbsp;<span class="op" id="6473195">&amp;&amp;</span>&nbsp;<span class="op" id="6473198">(</span><span class="op" id="6473199">!</span><span class="ident" id="6473200">tt</span><span class="op" id="6473202">.</span><span class="ident" id="6473203">ip</span><span class="op" id="6473205">.</span><span class="ident" id="6473206">Equal</span><span class="op" id="6473211">(</span><span class="ident" id="6473212">ip</span><span class="op" id="6473214">)</span>&nbsp;<span class="op" id="6473216">||</span>&nbsp;<span class="op" id="6473219">!</span><span class="ident" id="6473220">tt</span><span class="op" id="6473222">.</span><span class="ident" id="6473223">net</span><span class="op" id="6473226">.</span><span class="ident" id="6473227">IP</span><span class="op" id="6473229">.</span><span class="ident" id="6473230">Equal</span><span class="op" id="6473235">(</span><span class="ident" id="6473236">net</span><span class="op" id="6473239">.</span><span class="ident" id="6473240">IP</span><span class="op" id="6473242">)</span>&nbsp;<span class="op" id="6473244">||</span>&nbsp;<span class="op" id="6473247">!</span><span class="ident" id="6473248">reflect</span><span class="op" id="6473255">.</span><span class="ident" id="6473256">DeepEqual</span><span class="op" id="6473265">(</span><span class="ident" id="6473266">net</span><span class="op" id="6473269">.</span><span class="ident" id="6473270">Mask</span><span class="op" id="6473274">,</span>&nbsp;<span class="ident" id="6473276">tt</span><span class="op" id="6473278">.</span><span class="ident" id="6473279">net</span><span class="op" id="6473282">.</span><span class="ident" id="6473283">Mask</span><span class="op" id="6473287">)</span><span class="op" id="6473288">)</span>&nbsp;<span class="op" id="6473290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6473295">t</span><span class="op" id="6473296">.</span><span class="ident" id="6473297">Errorf</span><span class="op" id="6473303">(</span><span class="string" id="6473304">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="6473353">,</span>&nbsp;<span class="ident" id="6473355">tt</span><span class="op" id="6473357">.</span><span class="ident" id="6473358">in</span><span class="op" id="6473360">,</span>&nbsp;<span class="ident" id="6473362">ip</span><span class="op" id="6473364">,</span>&nbsp;<span class="ident" id="6473366">net</span><span class="op" id="6473369">.</span><span class="ident" id="6473370">IP</span><span class="op" id="6473372">,</span>&nbsp;<span class="ident" id="6473374">net</span><span class="op" id="6473377">.</span><span class="ident" id="6473378">Mask</span><span class="op" id="6473382">,</span>&nbsp;<span class="ident" id="6473384">tt</span><span class="op" id="6473386">.</span><span class="ident" id="6473387">ip</span><span class="op" id="6473389">,</span>&nbsp;<span class="ident" id="6473391">tt</span><span class="op" id="6473393">.</span><span class="ident" id="6473394">net</span><span class="op" id="6473397">.</span><span class="ident" id="6473398">IP</span><span class="op" id="6473400">,</span>&nbsp;<span class="ident" id="6473402">tt</span><span class="op" id="6473404">.</span><span class="ident" id="6473405">net</span><span class="op" id="6473408">.</span><span class="ident" id="6473409">Mask</span><span class="op" id="6473413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473420">}</span><br>
<span class="lineno"></span><span class="op" id="6473422">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6473425">var</span>&nbsp;<span class="ident" id="6473429">ipNetContainsTests</span>&nbsp;<span class="op" id="6473448">=</span>&nbsp;<span class="op" id="6473450">[</span><span class="op" id="6473451">]</span><span class="keyword" id="6473452">struct</span>&nbsp;<span class="op" id="6473459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6473462">ip</span>&nbsp;&nbsp;<span class="ident" id="6473466">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6473470">net</span>&nbsp;<span class="op" id="6473474">*</span><span class="ident" id="6473475">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6473482">ok</span>&nbsp;&nbsp;<span class="builtintype" id="6473486">bool</span><br>
<span class="lineno">205</span><span class="op" id="6473491">}</span><span class="op" id="6473492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473495">{</span><span class="ident" id="6473496">IPv4</span><span class="op" id="6473500">(</span><span class="num" id="6473501">172</span><span class="op" id="6473504">,</span>&nbsp;<span class="num" id="6473506">16</span><span class="op" id="6473508">,</span>&nbsp;<span class="num" id="6473510">1</span><span class="op" id="6473511">,</span>&nbsp;<span class="num" id="6473513">1</span><span class="op" id="6473514">)</span><span class="op" id="6473515">,</span>&nbsp;<span class="op" id="6473517">&amp;</span><span class="ident" id="6473518">IPNet</span><span class="op" id="6473523">{</span><span class="ident" id="6473524">IP</span><span class="op" id="6473526">:</span>&nbsp;<span class="ident" id="6473528">IPv4</span><span class="op" id="6473532">(</span><span class="num" id="6473533">172</span><span class="op" id="6473536">,</span>&nbsp;<span class="num" id="6473538">16</span><span class="op" id="6473540">,</span>&nbsp;<span class="num" id="6473542">0</span><span class="op" id="6473543">,</span>&nbsp;<span class="num" id="6473545">0</span><span class="op" id="6473546">)</span><span class="op" id="6473547">,</span>&nbsp;<span class="ident" id="6473549">Mask</span><span class="op" id="6473553">:</span>&nbsp;<span class="ident" id="6473555">CIDRMask</span><span class="op" id="6473563">(</span><span class="num" id="6473564">12</span><span class="op" id="6473566">,</span>&nbsp;<span class="num" id="6473568">32</span><span class="op" id="6473570">)</span><span class="op" id="6473571">}</span><span class="op" id="6473572">,</span>&nbsp;<span class="builtintype" id="6473574">true</span><span class="op" id="6473578">}</span><span class="op" id="6473579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473582">{</span><span class="ident" id="6473583">IPv4</span><span class="op" id="6473587">(</span><span class="num" id="6473588">172</span><span class="op" id="6473591">,</span>&nbsp;<span class="num" id="6473593">24</span><span class="op" id="6473595">,</span>&nbsp;<span class="num" id="6473597">0</span><span class="op" id="6473598">,</span>&nbsp;<span class="num" id="6473600">1</span><span class="op" id="6473601">)</span><span class="op" id="6473602">,</span>&nbsp;<span class="op" id="6473604">&amp;</span><span class="ident" id="6473605">IPNet</span><span class="op" id="6473610">{</span><span class="ident" id="6473611">IP</span><span class="op" id="6473613">:</span>&nbsp;<span class="ident" id="6473615">IPv4</span><span class="op" id="6473619">(</span><span class="num" id="6473620">172</span><span class="op" id="6473623">,</span>&nbsp;<span class="num" id="6473625">16</span><span class="op" id="6473627">,</span>&nbsp;<span class="num" id="6473629">0</span><span class="op" id="6473630">,</span>&nbsp;<span class="num" id="6473632">0</span><span class="op" id="6473633">)</span><span class="op" id="6473634">,</span>&nbsp;<span class="ident" id="6473636">Mask</span><span class="op" id="6473640">:</span>&nbsp;<span class="ident" id="6473642">CIDRMask</span><span class="op" id="6473650">(</span><span class="num" id="6473651">13</span><span class="op" id="6473653">,</span>&nbsp;<span class="num" id="6473655">32</span><span class="op" id="6473657">)</span><span class="op" id="6473658">}</span><span class="op" id="6473659">,</span>&nbsp;<span class="builtintype" id="6473661">false</span><span class="op" id="6473666">}</span><span class="op" id="6473667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473670">{</span><span class="ident" id="6473671">IPv4</span><span class="op" id="6473675">(</span><span class="num" id="6473676">192</span><span class="op" id="6473679">,</span>&nbsp;<span class="num" id="6473681">168</span><span class="op" id="6473684">,</span>&nbsp;<span class="num" id="6473686">0</span><span class="op" id="6473687">,</span>&nbsp;<span class="num" id="6473689">3</span><span class="op" id="6473690">)</span><span class="op" id="6473691">,</span>&nbsp;<span class="op" id="6473693">&amp;</span><span class="ident" id="6473694">IPNet</span><span class="op" id="6473699">{</span><span class="ident" id="6473700">IP</span><span class="op" id="6473702">:</span>&nbsp;<span class="ident" id="6473704">IPv4</span><span class="op" id="6473708">(</span><span class="num" id="6473709">192</span><span class="op" id="6473712">,</span>&nbsp;<span class="num" id="6473714">168</span><span class="op" id="6473717">,</span>&nbsp;<span class="num" id="6473719">0</span><span class="op" id="6473720">,</span>&nbsp;<span class="num" id="6473722">0</span><span class="op" id="6473723">)</span><span class="op" id="6473724">,</span>&nbsp;<span class="ident" id="6473726">Mask</span><span class="op" id="6473730">:</span>&nbsp;<span class="ident" id="6473732">IPv4Mask</span><span class="op" id="6473740">(</span><span class="num" id="6473741">0</span><span class="op" id="6473742">,</span>&nbsp;<span class="num" id="6473744">0</span><span class="op" id="6473745">,</span>&nbsp;<span class="num" id="6473747">255</span><span class="op" id="6473750">,</span>&nbsp;<span class="num" id="6473752">252</span><span class="op" id="6473755">)</span><span class="op" id="6473756">}</span><span class="op" id="6473757">,</span>&nbsp;<span class="builtintype" id="6473759">true</span><span class="op" id="6473763">}</span><span class="op" id="6473764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473767">{</span><span class="ident" id="6473768">IPv4</span><span class="op" id="6473772">(</span><span class="num" id="6473773">192</span><span class="op" id="6473776">,</span>&nbsp;<span class="num" id="6473778">168</span><span class="op" id="6473781">,</span>&nbsp;<span class="num" id="6473783">0</span><span class="op" id="6473784">,</span>&nbsp;<span class="num" id="6473786">4</span><span class="op" id="6473787">)</span><span class="op" id="6473788">,</span>&nbsp;<span class="op" id="6473790">&amp;</span><span class="ident" id="6473791">IPNet</span><span class="op" id="6473796">{</span><span class="ident" id="6473797">IP</span><span class="op" id="6473799">:</span>&nbsp;<span class="ident" id="6473801">IPv4</span><span class="op" id="6473805">(</span><span class="num" id="6473806">192</span><span class="op" id="6473809">,</span>&nbsp;<span class="num" id="6473811">168</span><span class="op" id="6473814">,</span>&nbsp;<span class="num" id="6473816">0</span><span class="op" id="6473817">,</span>&nbsp;<span class="num" id="6473819">0</span><span class="op" id="6473820">)</span><span class="op" id="6473821">,</span>&nbsp;<span class="ident" id="6473823">Mask</span><span class="op" id="6473827">:</span>&nbsp;<span class="ident" id="6473829">IPv4Mask</span><span class="op" id="6473837">(</span><span class="num" id="6473838">0</span><span class="op" id="6473839">,</span>&nbsp;<span class="num" id="6473841">255</span><span class="op" id="6473844">,</span>&nbsp;<span class="num" id="6473846">0</span><span class="op" id="6473847">,</span>&nbsp;<span class="num" id="6473849">252</span><span class="op" id="6473852">)</span><span class="op" id="6473853">}</span><span class="op" id="6473854">,</span>&nbsp;<span class="builtintype" id="6473856">false</span><span class="op" id="6473861">}</span><span class="op" id="6473862">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473865">{</span><span class="ident" id="6473866">ParseIP</span><span class="op" id="6473873">(</span><span class="string" id="6473874">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6473891">)</span><span class="op" id="6473892">,</span>&nbsp;<span class="op" id="6473894">&amp;</span><span class="ident" id="6473895">IPNet</span><span class="op" id="6473900">{</span><span class="ident" id="6473901">IP</span><span class="op" id="6473903">:</span>&nbsp;<span class="ident" id="6473905">ParseIP</span><span class="op" id="6473912">(</span><span class="string" id="6473913">&#34;2001:db8:1::&#34;</span><span class="op" id="6473927">)</span><span class="op" id="6473928">,</span>&nbsp;<span class="ident" id="6473930">Mask</span><span class="op" id="6473934">:</span>&nbsp;<span class="ident" id="6473936">CIDRMask</span><span class="op" id="6473944">(</span><span class="num" id="6473945">47</span><span class="op" id="6473947">,</span>&nbsp;<span class="num" id="6473949">128</span><span class="op" id="6473952">)</span><span class="op" id="6473953">}</span><span class="op" id="6473954">,</span>&nbsp;<span class="builtintype" id="6473956">true</span><span class="op" id="6473960">}</span><span class="op" id="6473961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6473964">{</span><span class="ident" id="6473965">ParseIP</span><span class="op" id="6473972">(</span><span class="string" id="6473973">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6473990">)</span><span class="op" id="6473991">,</span>&nbsp;<span class="op" id="6473993">&amp;</span><span class="ident" id="6473994">IPNet</span><span class="op" id="6473999">{</span><span class="ident" id="6474000">IP</span><span class="op" id="6474002">:</span>&nbsp;<span class="ident" id="6474004">ParseIP</span><span class="op" id="6474011">(</span><span class="string" id="6474012">&#34;2001:db8:2::&#34;</span><span class="op" id="6474026">)</span><span class="op" id="6474027">,</span>&nbsp;<span class="ident" id="6474029">Mask</span><span class="op" id="6474033">:</span>&nbsp;<span class="ident" id="6474035">CIDRMask</span><span class="op" id="6474043">(</span><span class="num" id="6474044">47</span><span class="op" id="6474046">,</span>&nbsp;<span class="num" id="6474048">128</span><span class="op" id="6474051">)</span><span class="op" id="6474052">}</span><span class="op" id="6474053">,</span>&nbsp;<span class="builtintype" id="6474055">false</span><span class="op" id="6474060">}</span><span class="op" id="6474061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474064">{</span><span class="ident" id="6474065">ParseIP</span><span class="op" id="6474072">(</span><span class="string" id="6474073">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6474090">)</span><span class="op" id="6474091">,</span>&nbsp;<span class="op" id="6474093">&amp;</span><span class="ident" id="6474094">IPNet</span><span class="op" id="6474099">{</span><span class="ident" id="6474100">IP</span><span class="op" id="6474102">:</span>&nbsp;<span class="ident" id="6474104">ParseIP</span><span class="op" id="6474111">(</span><span class="string" id="6474112">&#34;2001:db8:1::&#34;</span><span class="op" id="6474126">)</span><span class="op" id="6474127">,</span>&nbsp;<span class="ident" id="6474129">Mask</span><span class="op" id="6474133">:</span>&nbsp;<span class="ident" id="6474135">IPMask</span><span class="op" id="6474141">(</span><span class="ident" id="6474142">ParseIP</span><span class="op" id="6474149">(</span><span class="string" id="6474150">&#34;ffff:0:ffff::&#34;</span><span class="op" id="6474165">)</span><span class="op" id="6474166">)</span><span class="op" id="6474167">}</span><span class="op" id="6474168">,</span>&nbsp;<span class="builtintype" id="6474170">true</span><span class="op" id="6474174">}</span><span class="op" id="6474175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474178">{</span><span class="ident" id="6474179">ParseIP</span><span class="op" id="6474186">(</span><span class="string" id="6474187">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6474204">)</span><span class="op" id="6474205">,</span>&nbsp;<span class="op" id="6474207">&amp;</span><span class="ident" id="6474208">IPNet</span><span class="op" id="6474213">{</span><span class="ident" id="6474214">IP</span><span class="op" id="6474216">:</span>&nbsp;<span class="ident" id="6474218">ParseIP</span><span class="op" id="6474225">(</span><span class="string" id="6474226">&#34;2001:db8:1::&#34;</span><span class="op" id="6474240">)</span><span class="op" id="6474241">,</span>&nbsp;<span class="ident" id="6474243">Mask</span><span class="op" id="6474247">:</span>&nbsp;<span class="ident" id="6474249">IPMask</span><span class="op" id="6474255">(</span><span class="ident" id="6474256">ParseIP</span><span class="op" id="6474263">(</span><span class="string" id="6474264">&#34;0:0:0:ffff::&#34;</span><span class="op" id="6474278">)</span><span class="op" id="6474279">)</span><span class="op" id="6474280">}</span><span class="op" id="6474281">,</span>&nbsp;<span class="builtintype" id="6474283">false</span><span class="op" id="6474288">}</span><span class="op" id="6474289">,</span><br>
<span class="lineno"></span><span class="op" id="6474291">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="6474294">func</span>&nbsp;<span class="ident" id="6474299">TestIPNetContains</span><span class="op" id="6474316">(</span><span class="ident" id="6474317">t</span>&nbsp;<span class="op" id="6474319">*</span><span class="ident" id="6474320">testing</span><span class="op" id="6474327">.</span><span class="ident" id="6474328">T</span><span class="op" id="6474329">)</span>&nbsp;<span class="op" id="6474331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6474334">for</span>&nbsp;<span class="ident" id="6474338">_</span><span class="op" id="6474339">,</span>&nbsp;<span class="ident" id="6474341">tt</span>&nbsp;<span class="op" id="6474344">:=</span>&nbsp;<span class="keyword" id="6474347">range</span>&nbsp;<span class="ident" id="6474353">ipNetContainsTests</span>&nbsp;<span class="op" id="6474372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6474376">if</span>&nbsp;<span class="ident" id="6474379">ok</span>&nbsp;<span class="op" id="6474382">:=</span>&nbsp;<span class="ident" id="6474385">tt</span><span class="op" id="6474387">.</span><span class="ident" id="6474388">net</span><span class="op" id="6474391">.</span><span class="ident" id="6474392">Contains</span><span class="op" id="6474400">(</span><span class="ident" id="6474401">tt</span><span class="op" id="6474403">.</span><span class="ident" id="6474404">ip</span><span class="op" id="6474406">)</span><span class="op" id="6474407">;</span>&nbsp;<span class="ident" id="6474409">ok</span>&nbsp;<span class="op" id="6474412">!=</span>&nbsp;<span class="ident" id="6474415">tt</span><span class="op" id="6474417">.</span><span class="ident" id="6474418">ok</span>&nbsp;<span class="op" id="6474421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6474426">t</span><span class="op" id="6474427">.</span><span class="ident" id="6474428">Errorf</span><span class="op" id="6474434">(</span><span class="string" id="6474435">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6474473">,</span>&nbsp;<span class="ident" id="6474475">tt</span><span class="op" id="6474477">.</span><span class="ident" id="6474478">net</span><span class="op" id="6474481">,</span>&nbsp;<span class="ident" id="6474483">tt</span><span class="op" id="6474485">.</span><span class="ident" id="6474486">ip</span><span class="op" id="6474488">,</span>&nbsp;<span class="ident" id="6474490">ok</span><span class="op" id="6474492">,</span>&nbsp;<span class="ident" id="6474494">tt</span><span class="op" id="6474496">.</span><span class="ident" id="6474497">ok</span><span class="op" id="6474499">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474506">}</span><br>
<span class="lineno"></span><span class="op" id="6474508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6474511">var</span>&nbsp;<span class="ident" id="6474515">ipNetStringTests</span>&nbsp;<span class="op" id="6474532">=</span>&nbsp;<span class="op" id="6474534">[</span><span class="op" id="6474535">]</span><span class="keyword" id="6474536">struct</span>&nbsp;<span class="op" id="6474543">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6474546">in</span>&nbsp;&nbsp;<span class="op" id="6474550">*</span><span class="ident" id="6474551">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6474558">out</span>&nbsp;<span class="builtintype" id="6474562">string</span><br>
<span class="lineno"></span><span class="op" id="6474569">}</span><span class="op" id="6474570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474573">{</span><span class="op" id="6474574">&amp;</span><span class="ident" id="6474575">IPNet</span><span class="op" id="6474580">{</span><span class="ident" id="6474581">IP</span><span class="op" id="6474583">:</span>&nbsp;<span class="ident" id="6474585">IPv4</span><span class="op" id="6474589">(</span><span class="num" id="6474590">192</span><span class="op" id="6474593">,</span>&nbsp;<span class="num" id="6474595">168</span><span class="op" id="6474598">,</span>&nbsp;<span class="num" id="6474600">1</span><span class="op" id="6474601">,</span>&nbsp;<span class="num" id="6474603">0</span><span class="op" id="6474604">)</span><span class="op" id="6474605">,</span>&nbsp;<span class="ident" id="6474607">Mask</span><span class="op" id="6474611">:</span>&nbsp;<span class="ident" id="6474613">CIDRMask</span><span class="op" id="6474621">(</span><span class="num" id="6474622">26</span><span class="op" id="6474624">,</span>&nbsp;<span class="num" id="6474626">32</span><span class="op" id="6474628">)</span><span class="op" id="6474629">}</span><span class="op" id="6474630">,</span>&nbsp;<span class="string" id="6474632">&#34;192.168.1.0/26&#34;</span><span class="op" id="6474648">}</span><span class="op" id="6474649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474652">{</span><span class="op" id="6474653">&amp;</span><span class="ident" id="6474654">IPNet</span><span class="op" id="6474659">{</span><span class="ident" id="6474660">IP</span><span class="op" id="6474662">:</span>&nbsp;<span class="ident" id="6474664">IPv4</span><span class="op" id="6474668">(</span><span class="num" id="6474669">192</span><span class="op" id="6474672">,</span>&nbsp;<span class="num" id="6474674">168</span><span class="op" id="6474677">,</span>&nbsp;<span class="num" id="6474679">1</span><span class="op" id="6474680">,</span>&nbsp;<span class="num" id="6474682">0</span><span class="op" id="6474683">)</span><span class="op" id="6474684">,</span>&nbsp;<span class="ident" id="6474686">Mask</span><span class="op" id="6474690">:</span>&nbsp;<span class="ident" id="6474692">IPv4Mask</span><span class="op" id="6474700">(</span><span class="num" id="6474701">255</span><span class="op" id="6474704">,</span>&nbsp;<span class="num" id="6474706">0</span><span class="op" id="6474707">,</span>&nbsp;<span class="num" id="6474709">255</span><span class="op" id="6474712">,</span>&nbsp;<span class="num" id="6474714">0</span><span class="op" id="6474715">)</span><span class="op" id="6474716">}</span><span class="op" id="6474717">,</span>&nbsp;<span class="string" id="6474719">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="6474741">}</span><span class="op" id="6474742">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474745">{</span><span class="op" id="6474746">&amp;</span><span class="ident" id="6474747">IPNet</span><span class="op" id="6474752">{</span><span class="ident" id="6474753">IP</span><span class="op" id="6474755">:</span>&nbsp;<span class="ident" id="6474757">ParseIP</span><span class="op" id="6474764">(</span><span class="string" id="6474765">&#34;2001:db8::&#34;</span><span class="op" id="6474777">)</span><span class="op" id="6474778">,</span>&nbsp;<span class="ident" id="6474780">Mask</span><span class="op" id="6474784">:</span>&nbsp;<span class="ident" id="6474786">CIDRMask</span><span class="op" id="6474794">(</span><span class="num" id="6474795">55</span><span class="op" id="6474797">,</span>&nbsp;<span class="num" id="6474799">128</span><span class="op" id="6474802">)</span><span class="op" id="6474803">}</span><span class="op" id="6474804">,</span>&nbsp;<span class="string" id="6474806">&#34;2001:db8::/55&#34;</span><span class="op" id="6474821">}</span><span class="op" id="6474822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6474825">{</span><span class="op" id="6474826">&amp;</span><span class="ident" id="6474827">IPNet</span><span class="op" id="6474832">{</span><span class="ident" id="6474833">IP</span><span class="op" id="6474835">:</span>&nbsp;<span class="ident" id="6474837">ParseIP</span><span class="op" id="6474844">(</span><span class="string" id="6474845">&#34;2001:db8::&#34;</span><span class="op" id="6474857">)</span><span class="op" id="6474858">,</span>&nbsp;<span class="ident" id="6474860">Mask</span><span class="op" id="6474864">:</span>&nbsp;<span class="ident" id="6474866">IPMask</span><span class="op" id="6474872">(</span><span class="ident" id="6474873">ParseIP</span><span class="op" id="6474880">(</span><span class="string" id="6474881">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="6474901">)</span><span class="op" id="6474902">)</span><span class="op" id="6474903">}</span><span class="op" id="6474904">,</span>&nbsp;<span class="string" id="6474906">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="6474951">}</span><span class="op" id="6474952">,</span><br>
<span class="lineno"></span><span class="op" id="6474954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6474957">func</span>&nbsp;<span class="ident" id="6474962">TestIPNetString</span><span class="op" id="6474977">(</span><span class="ident" id="6474978">t</span>&nbsp;<span class="op" id="6474980">*</span><span class="ident" id="6474981">testing</span><span class="op" id="6474988">.</span><span class="ident" id="6474989">T</span><span class="op" id="6474990">)</span>&nbsp;<span class="op" id="6474992">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6474995">for</span>&nbsp;<span class="ident" id="6474999">_</span><span class="op" id="6475000">,</span>&nbsp;<span class="ident" id="6475002">tt</span>&nbsp;<span class="op" id="6475005">:=</span>&nbsp;<span class="keyword" id="6475008">range</span>&nbsp;<span class="ident" id="6475014">ipNetStringTests</span>&nbsp;<span class="op" id="6475031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6475035">if</span>&nbsp;<span class="ident" id="6475038">out</span>&nbsp;<span class="op" id="6475042">:=</span>&nbsp;<span class="ident" id="6475045">tt</span><span class="op" id="6475047">.</span><span class="ident" id="6475048">in</span><span class="op" id="6475050">.</span><span class="ident" id="6475051">String</span><span class="op" id="6475057">(</span><span class="op" id="6475058">)</span><span class="op" id="6475059">;</span>&nbsp;<span class="ident" id="6475061">out</span>&nbsp;<span class="op" id="6475065">!=</span>&nbsp;<span class="ident" id="6475068">tt</span><span class="op" id="6475070">.</span><span class="ident" id="6475071">out</span>&nbsp;<span class="op" id="6475075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6475080">t</span><span class="op" id="6475081">.</span><span class="ident" id="6475082">Errorf</span><span class="op" id="6475088">(</span><span class="string" id="6475089">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6475121">,</span>&nbsp;<span class="ident" id="6475123">tt</span><span class="op" id="6475125">.</span><span class="ident" id="6475126">in</span><span class="op" id="6475128">,</span>&nbsp;<span class="ident" id="6475130">out</span><span class="op" id="6475133">,</span>&nbsp;<span class="ident" id="6475135">tt</span><span class="op" id="6475137">.</span><span class="ident" id="6475138">out</span><span class="op" id="6475141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475148">}</span><br>
<span class="lineno">240</span><span class="op" id="6475150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6475153">var</span>&nbsp;<span class="ident" id="6475157">cidrMaskTests</span>&nbsp;<span class="op" id="6475171">=</span>&nbsp;<span class="op" id="6475173">[</span><span class="op" id="6475174">]</span><span class="keyword" id="6475175">struct</span>&nbsp;<span class="op" id="6475182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6475185">ones</span>&nbsp;<span class="builtintype" id="6475190">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6475195">bits</span>&nbsp;<span class="builtintype" id="6475200">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6475205">out</span>&nbsp;&nbsp;<span class="ident" id="6475210">IPMask</span><br>
<span class="lineno"></span><span class="op" id="6475217">}</span><span class="op" id="6475218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475221">{</span><span class="num" id="6475222">0</span><span class="op" id="6475223">,</span>&nbsp;<span class="num" id="6475225">32</span><span class="op" id="6475227">,</span>&nbsp;<span class="ident" id="6475229">IPv4Mask</span><span class="op" id="6475237">(</span><span class="num" id="6475238">0</span><span class="op" id="6475239">,</span>&nbsp;<span class="num" id="6475241">0</span><span class="op" id="6475242">,</span>&nbsp;<span class="num" id="6475244">0</span><span class="op" id="6475245">,</span>&nbsp;<span class="num" id="6475247">0</span><span class="op" id="6475248">)</span><span class="op" id="6475249">}</span><span class="op" id="6475250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475253">{</span><span class="num" id="6475254">12</span><span class="op" id="6475256">,</span>&nbsp;<span class="num" id="6475258">32</span><span class="op" id="6475260">,</span>&nbsp;<span class="ident" id="6475262">IPv4Mask</span><span class="op" id="6475270">(</span><span class="num" id="6475271">255</span><span class="op" id="6475274">,</span>&nbsp;<span class="num" id="6475276">240</span><span class="op" id="6475279">,</span>&nbsp;<span class="num" id="6475281">0</span><span class="op" id="6475282">,</span>&nbsp;<span class="num" id="6475284">0</span><span class="op" id="6475285">)</span><span class="op" id="6475286">}</span><span class="op" id="6475287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475290">{</span><span class="num" id="6475291">24</span><span class="op" id="6475293">,</span>&nbsp;<span class="num" id="6475295">32</span><span class="op" id="6475297">,</span>&nbsp;<span class="ident" id="6475299">IPv4Mask</span><span class="op" id="6475307">(</span><span class="num" id="6475308">255</span><span class="op" id="6475311">,</span>&nbsp;<span class="num" id="6475313">255</span><span class="op" id="6475316">,</span>&nbsp;<span class="num" id="6475318">255</span><span class="op" id="6475321">,</span>&nbsp;<span class="num" id="6475323">0</span><span class="op" id="6475324">)</span><span class="op" id="6475325">}</span><span class="op" id="6475326">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475329">{</span><span class="num" id="6475330">32</span><span class="op" id="6475332">,</span>&nbsp;<span class="num" id="6475334">32</span><span class="op" id="6475336">,</span>&nbsp;<span class="ident" id="6475338">IPv4Mask</span><span class="op" id="6475346">(</span><span class="num" id="6475347">255</span><span class="op" id="6475350">,</span>&nbsp;<span class="num" id="6475352">255</span><span class="op" id="6475355">,</span>&nbsp;<span class="num" id="6475357">255</span><span class="op" id="6475360">,</span>&nbsp;<span class="num" id="6475362">255</span><span class="op" id="6475365">)</span><span class="op" id="6475366">}</span><span class="op" id="6475367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475370">{</span><span class="num" id="6475371">0</span><span class="op" id="6475372">,</span>&nbsp;<span class="num" id="6475374">128</span><span class="op" id="6475377">,</span>&nbsp;<span class="ident" id="6475379">IPMask</span><span class="op" id="6475385">{</span><span class="num" id="6475386">0</span><span class="op" id="6475387">,</span>&nbsp;<span class="num" id="6475389">0</span><span class="op" id="6475390">,</span>&nbsp;<span class="num" id="6475392">0</span><span class="op" id="6475393">,</span>&nbsp;<span class="num" id="6475395">0</span><span class="op" id="6475396">,</span>&nbsp;<span class="num" id="6475398">0</span><span class="op" id="6475399">,</span>&nbsp;<span class="num" id="6475401">0</span><span class="op" id="6475402">,</span>&nbsp;<span class="num" id="6475404">0</span><span class="op" id="6475405">,</span>&nbsp;<span class="num" id="6475407">0</span><span class="op" id="6475408">,</span>&nbsp;<span class="num" id="6475410">0</span><span class="op" id="6475411">,</span>&nbsp;<span class="num" id="6475413">0</span><span class="op" id="6475414">,</span>&nbsp;<span class="num" id="6475416">0</span><span class="op" id="6475417">,</span>&nbsp;<span class="num" id="6475419">0</span><span class="op" id="6475420">,</span>&nbsp;<span class="num" id="6475422">0</span><span class="op" id="6475423">,</span>&nbsp;<span class="num" id="6475425">0</span><span class="op" id="6475426">,</span>&nbsp;<span class="num" id="6475428">0</span><span class="op" id="6475429">,</span>&nbsp;<span class="num" id="6475431">0</span><span class="op" id="6475432">}</span><span class="op" id="6475433">}</span><span class="op" id="6475434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475437">{</span><span class="num" id="6475438">4</span><span class="op" id="6475439">,</span>&nbsp;<span class="num" id="6475441">128</span><span class="op" id="6475444">,</span>&nbsp;<span class="ident" id="6475446">IPMask</span><span class="op" id="6475452">{</span><span class="num" id="6475453">0xf0</span><span class="op" id="6475457">,</span>&nbsp;<span class="num" id="6475459">0</span><span class="op" id="6475460">,</span>&nbsp;<span class="num" id="6475462">0</span><span class="op" id="6475463">,</span>&nbsp;<span class="num" id="6475465">0</span><span class="op" id="6475466">,</span>&nbsp;<span class="num" id="6475468">0</span><span class="op" id="6475469">,</span>&nbsp;<span class="num" id="6475471">0</span><span class="op" id="6475472">,</span>&nbsp;<span class="num" id="6475474">0</span><span class="op" id="6475475">,</span>&nbsp;<span class="num" id="6475477">0</span><span class="op" id="6475478">,</span>&nbsp;<span class="num" id="6475480">0</span><span class="op" id="6475481">,</span>&nbsp;<span class="num" id="6475483">0</span><span class="op" id="6475484">,</span>&nbsp;<span class="num" id="6475486">0</span><span class="op" id="6475487">,</span>&nbsp;<span class="num" id="6475489">0</span><span class="op" id="6475490">,</span>&nbsp;<span class="num" id="6475492">0</span><span class="op" id="6475493">,</span>&nbsp;<span class="num" id="6475495">0</span><span class="op" id="6475496">,</span>&nbsp;<span class="num" id="6475498">0</span><span class="op" id="6475499">,</span>&nbsp;<span class="num" id="6475501">0</span><span class="op" id="6475502">}</span><span class="op" id="6475503">}</span><span class="op" id="6475504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475507">{</span><span class="num" id="6475508">48</span><span class="op" id="6475510">,</span>&nbsp;<span class="num" id="6475512">128</span><span class="op" id="6475515">,</span>&nbsp;<span class="ident" id="6475517">IPMask</span><span class="op" id="6475523">{</span><span class="num" id="6475524">0xff</span><span class="op" id="6475528">,</span>&nbsp;<span class="num" id="6475530">0xff</span><span class="op" id="6475534">,</span>&nbsp;<span class="num" id="6475536">0xff</span><span class="op" id="6475540">,</span>&nbsp;<span class="num" id="6475542">0xff</span><span class="op" id="6475546">,</span>&nbsp;<span class="num" id="6475548">0xff</span><span class="op" id="6475552">,</span>&nbsp;<span class="num" id="6475554">0xff</span><span class="op" id="6475558">,</span>&nbsp;<span class="num" id="6475560">0</span><span class="op" id="6475561">,</span>&nbsp;<span class="num" id="6475563">0</span><span class="op" id="6475564">,</span>&nbsp;<span class="num" id="6475566">0</span><span class="op" id="6475567">,</span>&nbsp;<span class="num" id="6475569">0</span><span class="op" id="6475570">,</span>&nbsp;<span class="num" id="6475572">0</span><span class="op" id="6475573">,</span>&nbsp;<span class="num" id="6475575">0</span><span class="op" id="6475576">,</span>&nbsp;<span class="num" id="6475578">0</span><span class="op" id="6475579">,</span>&nbsp;<span class="num" id="6475581">0</span><span class="op" id="6475582">,</span>&nbsp;<span class="num" id="6475584">0</span><span class="op" id="6475585">,</span>&nbsp;<span class="num" id="6475587">0</span><span class="op" id="6475588">}</span><span class="op" id="6475589">}</span><span class="op" id="6475590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475593">{</span><span class="num" id="6475594">128</span><span class="op" id="6475597">,</span>&nbsp;<span class="num" id="6475599">128</span><span class="op" id="6475602">,</span>&nbsp;<span class="ident" id="6475604">IPMask</span><span class="op" id="6475610">{</span><span class="num" id="6475611">0xff</span><span class="op" id="6475615">,</span>&nbsp;<span class="num" id="6475617">0xff</span><span class="op" id="6475621">,</span>&nbsp;<span class="num" id="6475623">0xff</span><span class="op" id="6475627">,</span>&nbsp;<span class="num" id="6475629">0xff</span><span class="op" id="6475633">,</span>&nbsp;<span class="num" id="6475635">0xff</span><span class="op" id="6475639">,</span>&nbsp;<span class="num" id="6475641">0xff</span><span class="op" id="6475645">,</span>&nbsp;<span class="num" id="6475647">0xff</span><span class="op" id="6475651">,</span>&nbsp;<span class="num" id="6475653">0xff</span><span class="op" id="6475657">,</span>&nbsp;<span class="num" id="6475659">0xff</span><span class="op" id="6475663">,</span>&nbsp;<span class="num" id="6475665">0xff</span><span class="op" id="6475669">,</span>&nbsp;<span class="num" id="6475671">0xff</span><span class="op" id="6475675">,</span>&nbsp;<span class="num" id="6475677">0xff</span><span class="op" id="6475681">,</span>&nbsp;<span class="num" id="6475683">0xff</span><span class="op" id="6475687">,</span>&nbsp;<span class="num" id="6475689">0xff</span><span class="op" id="6475693">,</span>&nbsp;<span class="num" id="6475695">0xff</span><span class="op" id="6475699">,</span>&nbsp;<span class="num" id="6475701">0xff</span><span class="op" id="6475705">}</span><span class="op" id="6475706">}</span><span class="op" id="6475707">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475710">{</span><span class="num" id="6475711">33</span><span class="op" id="6475713">,</span>&nbsp;<span class="num" id="6475715">32</span><span class="op" id="6475717">,</span>&nbsp;<span class="builtintype" id="6475719">nil</span><span class="op" id="6475722">}</span><span class="op" id="6475723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475726">{</span><span class="num" id="6475727">32</span><span class="op" id="6475729">,</span>&nbsp;<span class="num" id="6475731">33</span><span class="op" id="6475733">,</span>&nbsp;<span class="builtintype" id="6475735">nil</span><span class="op" id="6475738">}</span><span class="op" id="6475739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475742">{</span><span class="op" id="6475743">-</span><span class="num" id="6475744">1</span><span class="op" id="6475745">,</span>&nbsp;<span class="num" id="6475747">128</span><span class="op" id="6475750">,</span>&nbsp;<span class="builtintype" id="6475752">nil</span><span class="op" id="6475755">}</span><span class="op" id="6475756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6475759">{</span><span class="num" id="6475760">128</span><span class="op" id="6475763">,</span>&nbsp;<span class="op" id="6475765">-</span><span class="num" id="6475766">1</span><span class="op" id="6475767">,</span>&nbsp;<span class="builtintype" id="6475769">nil</span><span class="op" id="6475772">}</span><span class="op" id="6475773">,</span><br>
<span class="lineno"></span><span class="op" id="6475775">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="6475778">func</span>&nbsp;<span class="ident" id="6475783">TestCIDRMask</span><span class="op" id="6475795">(</span><span class="ident" id="6475796">t</span>&nbsp;<span class="op" id="6475798">*</span><span class="ident" id="6475799">testing</span><span class="op" id="6475806">.</span><span class="ident" id="6475807">T</span><span class="op" id="6475808">)</span>&nbsp;<span class="op" id="6475810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6475813">for</span>&nbsp;<span class="ident" id="6475817">_</span><span class="op" id="6475818">,</span>&nbsp;<span class="ident" id="6475820">tt</span>&nbsp;<span class="op" id="6475823">:=</span>&nbsp;<span class="keyword" id="6475826">range</span>&nbsp;<span class="ident" id="6475832">cidrMaskTests</span>&nbsp;<span class="op" id="6475846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6475850">if</span>&nbsp;<span class="ident" id="6475853">out</span>&nbsp;<span class="op" id="6475857">:=</span>&nbsp;<span class="ident" id="6475860">CIDRMask</span><span class="op" id="6475868">(</span><span class="ident" id="6475869">tt</span><span class="op" id="6475871">.</span><span class="ident" id="6475872">ones</span><span class="op" id="6475876">,</span>&nbsp;<span class="ident" id="6475878">tt</span><span class="op" id="6475880">.</span><span class="ident" id="6475881">bits</span><span class="op" id="6475885">)</span><span class="op" id="6475886">;</span>&nbsp;<span class="op" id="6475888">!</span><span class="ident" id="6475889">reflect</span><span class="op" id="6475896">.</span><span class="ident" id="6475897">DeepEqual</span><span class="op" id="6475906">(</span><span class="ident" id="6475907">out</span><span class="op" id="6475910">,</span>&nbsp;<span class="ident" id="6475912">tt</span><span class="op" id="6475914">.</span><span class="ident" id="6475915">out</span><span class="op" id="6475918">)</span>&nbsp;<span class="op" id="6475920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6475925">t</span><span class="op" id="6475926">.</span><span class="ident" id="6475927">Errorf</span><span class="op" id="6475933">(</span><span class="string" id="6475934">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6475966">,</span>&nbsp;<span class="ident" id="6475968">tt</span><span class="op" id="6475970">.</span><span class="ident" id="6475971">ones</span><span class="op" id="6475975">,</span>&nbsp;<span class="ident" id="6475977">tt</span><span class="op" id="6475979">.</span><span class="ident" id="6475980">bits</span><span class="op" id="6475984">,</span>&nbsp;<span class="ident" id="6475986">out</span><span class="op" id="6475989">,</span>&nbsp;<span class="ident" id="6475991">tt</span><span class="op" id="6475993">.</span><span class="ident" id="6475994">out</span><span class="op" id="6475997">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476004">}</span><br>
<span class="lineno"></span><span class="op" id="6476006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6476009">var</span>&nbsp;<span class="op" id="6476013">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476016">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476031">=</span>&nbsp;<span class="ident" id="6476033">IP</span><span class="op" id="6476035">{</span><span class="num" id="6476036">192</span><span class="op" id="6476039">,</span>&nbsp;<span class="num" id="6476041">168</span><span class="op" id="6476044">,</span>&nbsp;<span class="num" id="6476046">0</span><span class="op" id="6476047">,</span>&nbsp;<span class="num" id="6476049">1</span><span class="op" id="6476050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476053">v4mappedv6addr</span>&nbsp;<span class="op" id="6476068">=</span>&nbsp;<span class="ident" id="6476070">IP</span><span class="op" id="6476072">{</span><span class="num" id="6476073">0</span><span class="op" id="6476074">,</span>&nbsp;<span class="num" id="6476076">0</span><span class="op" id="6476077">,</span>&nbsp;<span class="num" id="6476079">0</span><span class="op" id="6476080">,</span>&nbsp;<span class="num" id="6476082">0</span><span class="op" id="6476083">,</span>&nbsp;<span class="num" id="6476085">0</span><span class="op" id="6476086">,</span>&nbsp;<span class="num" id="6476088">0</span><span class="op" id="6476089">,</span>&nbsp;<span class="num" id="6476091">0</span><span class="op" id="6476092">,</span>&nbsp;<span class="num" id="6476094">0</span><span class="op" id="6476095">,</span>&nbsp;<span class="num" id="6476097">0</span><span class="op" id="6476098">,</span>&nbsp;<span class="num" id="6476100">0</span><span class="op" id="6476101">,</span>&nbsp;<span class="num" id="6476103">0xff</span><span class="op" id="6476107">,</span>&nbsp;<span class="num" id="6476109">0xff</span><span class="op" id="6476113">,</span>&nbsp;<span class="num" id="6476115">192</span><span class="op" id="6476118">,</span>&nbsp;<span class="num" id="6476120">168</span><span class="op" id="6476123">,</span>&nbsp;<span class="num" id="6476125">0</span><span class="op" id="6476126">,</span>&nbsp;<span class="num" id="6476128">1</span><span class="op" id="6476129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476132">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476147">=</span>&nbsp;<span class="ident" id="6476149">IP</span><span class="op" id="6476151">{</span><span class="num" id="6476152">0x20</span><span class="op" id="6476156">,</span>&nbsp;<span class="num" id="6476158">0x1</span><span class="op" id="6476161">,</span>&nbsp;<span class="num" id="6476163">0xd</span><span class="op" id="6476166">,</span>&nbsp;<span class="num" id="6476168">0xb8</span><span class="op" id="6476172">,</span>&nbsp;<span class="num" id="6476174">0</span><span class="op" id="6476175">,</span>&nbsp;<span class="num" id="6476177">0</span><span class="op" id="6476178">,</span>&nbsp;<span class="num" id="6476180">0</span><span class="op" id="6476181">,</span>&nbsp;<span class="num" id="6476183">0</span><span class="op" id="6476184">,</span>&nbsp;<span class="num" id="6476186">0</span><span class="op" id="6476187">,</span>&nbsp;<span class="num" id="6476189">0</span><span class="op" id="6476190">,</span>&nbsp;<span class="num" id="6476192">0x1</span><span class="op" id="6476195">,</span>&nbsp;<span class="num" id="6476197">0x23</span><span class="op" id="6476201">,</span>&nbsp;<span class="num" id="6476203">0</span><span class="op" id="6476204">,</span>&nbsp;<span class="num" id="6476206">0x12</span><span class="op" id="6476210">,</span>&nbsp;<span class="num" id="6476212">0</span><span class="op" id="6476213">,</span>&nbsp;<span class="num" id="6476215">0x1</span><span class="op" id="6476218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476221">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476236">=</span>&nbsp;<span class="ident" id="6476238">IPMask</span><span class="op" id="6476244">{</span><span class="num" id="6476245">255</span><span class="op" id="6476248">,</span>&nbsp;<span class="num" id="6476250">255</span><span class="op" id="6476253">,</span>&nbsp;<span class="num" id="6476255">255</span><span class="op" id="6476258">,</span>&nbsp;<span class="num" id="6476260">0</span><span class="op" id="6476261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476264">v4mappedv6mask</span>&nbsp;<span class="op" id="6476279">=</span>&nbsp;<span class="ident" id="6476281">IPMask</span><span class="op" id="6476287">{</span><span class="num" id="6476288">0xff</span><span class="op" id="6476292">,</span>&nbsp;<span class="num" id="6476294">0xff</span><span class="op" id="6476298">,</span>&nbsp;<span class="num" id="6476300">0xff</span><span class="op" id="6476304">,</span>&nbsp;<span class="num" id="6476306">0xff</span><span class="op" id="6476310">,</span>&nbsp;<span class="num" id="6476312">0xff</span><span class="op" id="6476316">,</span>&nbsp;<span class="num" id="6476318">0xff</span><span class="op" id="6476322">,</span>&nbsp;<span class="num" id="6476324">0xff</span><span class="op" id="6476328">,</span>&nbsp;<span class="num" id="6476330">0xff</span><span class="op" id="6476334">,</span>&nbsp;<span class="num" id="6476336">0xff</span><span class="op" id="6476340">,</span>&nbsp;<span class="num" id="6476342">0xff</span><span class="op" id="6476346">,</span>&nbsp;<span class="num" id="6476348">0xff</span><span class="op" id="6476352">,</span>&nbsp;<span class="num" id="6476354">0xff</span><span class="op" id="6476358">,</span>&nbsp;<span class="num" id="6476360">255</span><span class="op" id="6476363">,</span>&nbsp;<span class="num" id="6476365">255</span><span class="op" id="6476368">,</span>&nbsp;<span class="num" id="6476370">255</span><span class="op" id="6476373">,</span>&nbsp;<span class="num" id="6476375">0</span><span class="op" id="6476376">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476379">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476394">=</span>&nbsp;<span class="ident" id="6476396">IPMask</span><span class="op" id="6476402">{</span><span class="num" id="6476403">0xff</span><span class="op" id="6476407">,</span>&nbsp;<span class="num" id="6476409">0xff</span><span class="op" id="6476413">,</span>&nbsp;<span class="num" id="6476415">0xff</span><span class="op" id="6476419">,</span>&nbsp;<span class="num" id="6476421">0xff</span><span class="op" id="6476425">,</span>&nbsp;<span class="num" id="6476427">0xff</span><span class="op" id="6476431">,</span>&nbsp;<span class="num" id="6476433">0xff</span><span class="op" id="6476437">,</span>&nbsp;<span class="num" id="6476439">0xff</span><span class="op" id="6476443">,</span>&nbsp;<span class="num" id="6476445">0xff</span><span class="op" id="6476449">,</span>&nbsp;<span class="num" id="6476451">0</span><span class="op" id="6476452">,</span>&nbsp;<span class="num" id="6476454">0</span><span class="op" id="6476455">,</span>&nbsp;<span class="num" id="6476457">0</span><span class="op" id="6476458">,</span>&nbsp;<span class="num" id="6476460">0</span><span class="op" id="6476461">,</span>&nbsp;<span class="num" id="6476463">0</span><span class="op" id="6476464">,</span>&nbsp;<span class="num" id="6476466">0</span><span class="op" id="6476467">,</span>&nbsp;<span class="num" id="6476469">0</span><span class="op" id="6476470">,</span>&nbsp;<span class="num" id="6476472">0</span><span class="op" id="6476473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476476">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476491">=</span>&nbsp;<span class="ident" id="6476493">IP</span><span class="op" id="6476495">{</span><span class="num" id="6476496">192</span><span class="op" id="6476499">,</span>&nbsp;<span class="num" id="6476501">168</span><span class="op" id="6476504">,</span>&nbsp;<span class="num" id="6476506">0</span><span class="op" id="6476507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476510">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476525">=</span>&nbsp;<span class="ident" id="6476527">IPMask</span><span class="op" id="6476533">{</span><span class="num" id="6476534">255</span><span class="op" id="6476537">,</span>&nbsp;<span class="num" id="6476539">255</span><span class="op" id="6476542">,</span>&nbsp;<span class="num" id="6476544">0</span><span class="op" id="6476545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476548">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476563">=</span>&nbsp;<span class="ident" id="6476565">IPMask</span><span class="op" id="6476571">{</span><span class="num" id="6476572">0</span><span class="op" id="6476573">,</span>&nbsp;<span class="num" id="6476575">0</span><span class="op" id="6476576">,</span>&nbsp;<span class="num" id="6476578">0</span><span class="op" id="6476579">,</span>&nbsp;<span class="num" id="6476581">0</span><span class="op" id="6476582">}</span><br>
<span class="lineno"></span><span class="op" id="6476584">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6476587">var</span>&nbsp;<span class="ident" id="6476591">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6476617">=</span>&nbsp;<span class="op" id="6476619">[</span><span class="op" id="6476620">]</span><span class="keyword" id="6476621">struct</span>&nbsp;<span class="op" id="6476628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476631">in</span>&nbsp;&nbsp;<span class="ident" id="6476635">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6476642">out</span>&nbsp;<span class="ident" id="6476646">IPNet</span><br>
<span class="lineno"></span><span class="op" id="6476652">}</span><span class="op" id="6476653">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476656">{</span><span class="ident" id="6476657">IPNet</span><span class="op" id="6476662">{</span><span class="ident" id="6476663">IP</span><span class="op" id="6476665">:</span>&nbsp;<span class="ident" id="6476667">v4addr</span><span class="op" id="6476673">,</span>&nbsp;<span class="ident" id="6476675">Mask</span><span class="op" id="6476679">:</span>&nbsp;<span class="ident" id="6476681">v4mask</span><span class="op" id="6476687">}</span><span class="op" id="6476688">,</span>&nbsp;<span class="ident" id="6476690">IPNet</span><span class="op" id="6476695">{</span><span class="ident" id="6476696">IP</span><span class="op" id="6476698">:</span>&nbsp;<span class="ident" id="6476700">v4addr</span><span class="op" id="6476706">,</span>&nbsp;<span class="ident" id="6476708">Mask</span><span class="op" id="6476712">:</span>&nbsp;<span class="ident" id="6476714">v4mask</span><span class="op" id="6476720">}</span><span class="op" id="6476721">}</span><span class="op" id="6476722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476725">{</span><span class="ident" id="6476726">IPNet</span><span class="op" id="6476731">{</span><span class="ident" id="6476732">IP</span><span class="op" id="6476734">:</span>&nbsp;<span class="ident" id="6476736">v4addr</span><span class="op" id="6476742">,</span>&nbsp;<span class="ident" id="6476744">Mask</span><span class="op" id="6476748">:</span>&nbsp;<span class="ident" id="6476750">v4mappedv6mask</span><span class="op" id="6476764">}</span><span class="op" id="6476765">,</span>&nbsp;<span class="ident" id="6476767">IPNet</span><span class="op" id="6476772">{</span><span class="ident" id="6476773">IP</span><span class="op" id="6476775">:</span>&nbsp;<span class="ident" id="6476777">v4addr</span><span class="op" id="6476783">,</span>&nbsp;<span class="ident" id="6476785">Mask</span><span class="op" id="6476789">:</span>&nbsp;<span class="ident" id="6476791">v4mask</span><span class="op" id="6476797">}</span><span class="op" id="6476798">}</span><span class="op" id="6476799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476802">{</span><span class="ident" id="6476803">IPNet</span><span class="op" id="6476808">{</span><span class="ident" id="6476809">IP</span><span class="op" id="6476811">:</span>&nbsp;<span class="ident" id="6476813">v4mappedv6addr</span><span class="op" id="6476827">,</span>&nbsp;<span class="ident" id="6476829">Mask</span><span class="op" id="6476833">:</span>&nbsp;<span class="ident" id="6476835">v4mappedv6mask</span><span class="op" id="6476849">}</span><span class="op" id="6476850">,</span>&nbsp;<span class="ident" id="6476852">IPNet</span><span class="op" id="6476857">{</span><span class="ident" id="6476858">IP</span><span class="op" id="6476860">:</span>&nbsp;<span class="ident" id="6476862">v4addr</span><span class="op" id="6476868">,</span>&nbsp;<span class="ident" id="6476870">Mask</span><span class="op" id="6476874">:</span>&nbsp;<span class="ident" id="6476876">v4mask</span><span class="op" id="6476882">}</span><span class="op" id="6476883">}</span><span class="op" id="6476884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476887">{</span><span class="ident" id="6476888">IPNet</span><span class="op" id="6476893">{</span><span class="ident" id="6476894">IP</span><span class="op" id="6476896">:</span>&nbsp;<span class="ident" id="6476898">v4mappedv6addr</span><span class="op" id="6476912">,</span>&nbsp;<span class="ident" id="6476914">Mask</span><span class="op" id="6476918">:</span>&nbsp;<span class="ident" id="6476920">v6mask</span><span class="op" id="6476926">}</span><span class="op" id="6476927">,</span>&nbsp;<span class="ident" id="6476929">IPNet</span><span class="op" id="6476934">{</span><span class="ident" id="6476935">IP</span><span class="op" id="6476937">:</span>&nbsp;<span class="ident" id="6476939">v4addr</span><span class="op" id="6476945">,</span>&nbsp;<span class="ident" id="6476947">Mask</span><span class="op" id="6476951">:</span>&nbsp;<span class="ident" id="6476953">v4maskzero</span><span class="op" id="6476963">}</span><span class="op" id="6476964">}</span><span class="op" id="6476965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6476968">{</span><span class="ident" id="6476969">IPNet</span><span class="op" id="6476974">{</span><span class="ident" id="6476975">IP</span><span class="op" id="6476977">:</span>&nbsp;<span class="ident" id="6476979">v4addr</span><span class="op" id="6476985">,</span>&nbsp;<span class="ident" id="6476987">Mask</span><span class="op" id="6476991">:</span>&nbsp;<span class="ident" id="6476993">v6mask</span><span class="op" id="6476999">}</span><span class="op" id="6477000">,</span>&nbsp;<span class="ident" id="6477002">IPNet</span><span class="op" id="6477007">{</span><span class="ident" id="6477008">IP</span><span class="op" id="6477010">:</span>&nbsp;<span class="ident" id="6477012">v4addr</span><span class="op" id="6477018">,</span>&nbsp;<span class="ident" id="6477020">Mask</span><span class="op" id="6477024">:</span>&nbsp;<span class="ident" id="6477026">v4maskzero</span><span class="op" id="6477036">}</span><span class="op" id="6477037">}</span><span class="op" id="6477038">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477041">{</span><span class="ident" id="6477042">IPNet</span><span class="op" id="6477047">{</span><span class="ident" id="6477048">IP</span><span class="op" id="6477050">:</span>&nbsp;<span class="ident" id="6477052">v6addr</span><span class="op" id="6477058">,</span>&nbsp;<span class="ident" id="6477060">Mask</span><span class="op" id="6477064">:</span>&nbsp;<span class="ident" id="6477066">v6mask</span><span class="op" id="6477072">}</span><span class="op" id="6477073">,</span>&nbsp;<span class="ident" id="6477075">IPNet</span><span class="op" id="6477080">{</span><span class="ident" id="6477081">IP</span><span class="op" id="6477083">:</span>&nbsp;<span class="ident" id="6477085">v6addr</span><span class="op" id="6477091">,</span>&nbsp;<span class="ident" id="6477093">Mask</span><span class="op" id="6477097">:</span>&nbsp;<span class="ident" id="6477099">v6mask</span><span class="op" id="6477105">}</span><span class="op" id="6477106">}</span><span class="op" id="6477107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477110">{</span><span class="ident" id="6477111">IPNet</span><span class="op" id="6477116">{</span><span class="ident" id="6477117">IP</span><span class="op" id="6477119">:</span>&nbsp;<span class="ident" id="6477121">v6addr</span><span class="op" id="6477127">,</span>&nbsp;<span class="ident" id="6477129">Mask</span><span class="op" id="6477133">:</span>&nbsp;<span class="ident" id="6477135">v4mappedv6mask</span><span class="op" id="6477149">}</span><span class="op" id="6477150">,</span>&nbsp;<span class="ident" id="6477152">IPNet</span><span class="op" id="6477157">{</span><span class="ident" id="6477158">IP</span><span class="op" id="6477160">:</span>&nbsp;<span class="ident" id="6477162">v6addr</span><span class="op" id="6477168">,</span>&nbsp;<span class="ident" id="6477170">Mask</span><span class="op" id="6477174">:</span>&nbsp;<span class="ident" id="6477176">v4mappedv6mask</span><span class="op" id="6477190">}</span><span class="op" id="6477191">}</span><span class="op" id="6477192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477195">{</span><span class="ident" id="6477196">in</span><span class="op" id="6477198">:</span>&nbsp;<span class="ident" id="6477200">IPNet</span><span class="op" id="6477205">{</span><span class="ident" id="6477206">IP</span><span class="op" id="6477208">:</span>&nbsp;<span class="ident" id="6477210">v6addr</span><span class="op" id="6477216">,</span>&nbsp;<span class="ident" id="6477218">Mask</span><span class="op" id="6477222">:</span>&nbsp;<span class="ident" id="6477224">v4mask</span><span class="op" id="6477230">}</span><span class="op" id="6477231">}</span><span class="op" id="6477232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477235">{</span><span class="ident" id="6477236">in</span><span class="op" id="6477238">:</span>&nbsp;<span class="ident" id="6477240">IPNet</span><span class="op" id="6477245">{</span><span class="ident" id="6477246">IP</span><span class="op" id="6477248">:</span>&nbsp;<span class="ident" id="6477250">v4addr</span><span class="op" id="6477256">,</span>&nbsp;<span class="ident" id="6477258">Mask</span><span class="op" id="6477262">:</span>&nbsp;<span class="ident" id="6477264">badmask</span><span class="op" id="6477271">}</span><span class="op" id="6477272">}</span><span class="op" id="6477273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477276">{</span><span class="ident" id="6477277">in</span><span class="op" id="6477279">:</span>&nbsp;<span class="ident" id="6477281">IPNet</span><span class="op" id="6477286">{</span><span class="ident" id="6477287">IP</span><span class="op" id="6477289">:</span>&nbsp;<span class="ident" id="6477291">v4mappedv6addr</span><span class="op" id="6477305">,</span>&nbsp;<span class="ident" id="6477307">Mask</span><span class="op" id="6477311">:</span>&nbsp;<span class="ident" id="6477313">badmask</span><span class="op" id="6477320">}</span><span class="op" id="6477321">}</span><span class="op" id="6477322">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477325">{</span><span class="ident" id="6477326">in</span><span class="op" id="6477328">:</span>&nbsp;<span class="ident" id="6477330">IPNet</span><span class="op" id="6477335">{</span><span class="ident" id="6477336">IP</span><span class="op" id="6477338">:</span>&nbsp;<span class="ident" id="6477340">v6addr</span><span class="op" id="6477346">,</span>&nbsp;<span class="ident" id="6477348">Mask</span><span class="op" id="6477352">:</span>&nbsp;<span class="ident" id="6477354">badmask</span><span class="op" id="6477361">}</span><span class="op" id="6477362">}</span><span class="op" id="6477363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477366">{</span><span class="ident" id="6477367">in</span><span class="op" id="6477369">:</span>&nbsp;<span class="ident" id="6477371">IPNet</span><span class="op" id="6477376">{</span><span class="ident" id="6477377">IP</span><span class="op" id="6477379">:</span>&nbsp;<span class="ident" id="6477381">badaddr</span><span class="op" id="6477388">,</span>&nbsp;<span class="ident" id="6477390">Mask</span><span class="op" id="6477394">:</span>&nbsp;<span class="ident" id="6477396">v4mask</span><span class="op" id="6477402">}</span><span class="op" id="6477403">}</span><span class="op" id="6477404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477407">{</span><span class="ident" id="6477408">in</span><span class="op" id="6477410">:</span>&nbsp;<span class="ident" id="6477412">IPNet</span><span class="op" id="6477417">{</span><span class="ident" id="6477418">IP</span><span class="op" id="6477420">:</span>&nbsp;<span class="ident" id="6477422">badaddr</span><span class="op" id="6477429">,</span>&nbsp;<span class="ident" id="6477431">Mask</span><span class="op" id="6477435">:</span>&nbsp;<span class="ident" id="6477437">v4mappedv6mask</span><span class="op" id="6477451">}</span><span class="op" id="6477452">}</span><span class="op" id="6477453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477456">{</span><span class="ident" id="6477457">in</span><span class="op" id="6477459">:</span>&nbsp;<span class="ident" id="6477461">IPNet</span><span class="op" id="6477466">{</span><span class="ident" id="6477467">IP</span><span class="op" id="6477469">:</span>&nbsp;<span class="ident" id="6477471">badaddr</span><span class="op" id="6477478">,</span>&nbsp;<span class="ident" id="6477480">Mask</span><span class="op" id="6477484">:</span>&nbsp;<span class="ident" id="6477486">v6mask</span><span class="op" id="6477492">}</span><span class="op" id="6477493">}</span><span class="op" id="6477494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477497">{</span><span class="ident" id="6477498">in</span><span class="op" id="6477500">:</span>&nbsp;<span class="ident" id="6477502">IPNet</span><span class="op" id="6477507">{</span><span class="ident" id="6477508">IP</span><span class="op" id="6477510">:</span>&nbsp;<span class="ident" id="6477512">badaddr</span><span class="op" id="6477519">,</span>&nbsp;<span class="ident" id="6477521">Mask</span><span class="op" id="6477525">:</span>&nbsp;<span class="ident" id="6477527">badmask</span><span class="op" id="6477534">}</span><span class="op" id="6477535">}</span><span class="op" id="6477536">,</span><br>
<span class="lineno">300</span><span class="op" id="6477538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6477541">func</span>&nbsp;<span class="ident" id="6477546">TestNetworkNumberAndMask</span><span class="op" id="6477570">(</span><span class="ident" id="6477571">t</span>&nbsp;<span class="op" id="6477573">*</span><span class="ident" id="6477574">testing</span><span class="op" id="6477581">.</span><span class="ident" id="6477582">T</span><span class="op" id="6477583">)</span>&nbsp;<span class="op" id="6477585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6477588">for</span>&nbsp;<span class="ident" id="6477592">_</span><span class="op" id="6477593">,</span>&nbsp;<span class="ident" id="6477595">tt</span>&nbsp;<span class="op" id="6477598">:=</span>&nbsp;<span class="keyword" id="6477601">range</span>&nbsp;<span class="ident" id="6477607">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6477633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6477637">ip</span><span class="op" id="6477639">,</span>&nbsp;<span class="ident" id="6477641">m</span>&nbsp;<span class="op" id="6477643">:=</span>&nbsp;<span class="ident" id="6477646">networkNumberAndMask</span><span class="op" id="6477666">(</span><span class="op" id="6477667">&amp;</span><span class="ident" id="6477668">tt</span><span class="op" id="6477670">.</span><span class="ident" id="6477671">in</span><span class="op" id="6477673">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6477677">out</span>&nbsp;<span class="op" id="6477681">:=</span>&nbsp;<span class="op" id="6477684">&amp;</span><span class="ident" id="6477685">IPNet</span><span class="op" id="6477690">{</span><span class="ident" id="6477691">IP</span><span class="op" id="6477693">:</span>&nbsp;<span class="ident" id="6477695">ip</span><span class="op" id="6477697">,</span>&nbsp;<span class="ident" id="6477699">Mask</span><span class="op" id="6477703">:</span>&nbsp;<span class="ident" id="6477705">m</span><span class="op" id="6477706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6477710">if</span>&nbsp;<span class="op" id="6477713">!</span><span class="ident" id="6477714">reflect</span><span class="op" id="6477721">.</span><span class="ident" id="6477722">DeepEqual</span><span class="op" id="6477731">(</span><span class="op" id="6477732">&amp;</span><span class="ident" id="6477733">tt</span><span class="op" id="6477735">.</span><span class="ident" id="6477736">out</span><span class="op" id="6477739">,</span>&nbsp;<span class="ident" id="6477741">out</span><span class="op" id="6477744">)</span>&nbsp;<span class="op" id="6477746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6477751">t</span><span class="op" id="6477752">.</span><span class="ident" id="6477753">Errorf</span><span class="op" id="6477759">(</span><span class="string" id="6477760">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6477800">,</span>&nbsp;<span class="ident" id="6477802">tt</span><span class="op" id="6477804">.</span><span class="ident" id="6477805">in</span><span class="op" id="6477807">,</span>&nbsp;<span class="ident" id="6477809">out</span><span class="op" id="6477812">,</span>&nbsp;<span class="op" id="6477814">&amp;</span><span class="ident" id="6477815">tt</span><span class="op" id="6477817">.</span><span class="ident" id="6477818">out</span><span class="op" id="6477821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477828">}</span><br>
<span class="lineno">310</span><span class="op" id="6477830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6477833">var</span>&nbsp;<span class="ident" id="6477837">splitJoinTests</span>&nbsp;<span class="op" id="6477852">=</span>&nbsp;<span class="op" id="6477854">[</span><span class="op" id="6477855">]</span><span class="keyword" id="6477856">struct</span>&nbsp;<span class="op" id="6477863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6477866">host</span>&nbsp;<span class="builtintype" id="6477871">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6477879">port</span>&nbsp;<span class="builtintype" id="6477884">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6477892">join</span>&nbsp;<span class="builtintype" id="6477897">string</span><br>
<span class="lineno"></span><span class="op" id="6477904">}</span><span class="op" id="6477905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477908">{</span><span class="string" id="6477909">&#34;www.google.com&#34;</span><span class="op" id="6477925">,</span>&nbsp;<span class="string" id="6477927">&#34;80&#34;</span><span class="op" id="6477931">,</span>&nbsp;<span class="string" id="6477933">&#34;www.google.com:80&#34;</span><span class="op" id="6477952">}</span><span class="op" id="6477953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477956">{</span><span class="string" id="6477957">&#34;127.0.0.1&#34;</span><span class="op" id="6477968">,</span>&nbsp;<span class="string" id="6477970">&#34;1234&#34;</span><span class="op" id="6477976">,</span>&nbsp;<span class="string" id="6477978">&#34;127.0.0.1:1234&#34;</span><span class="op" id="6477994">}</span><span class="op" id="6477995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6477998">{</span><span class="string" id="6477999">&#34;::1&#34;</span><span class="op" id="6478004">,</span>&nbsp;<span class="string" id="6478006">&#34;80&#34;</span><span class="op" id="6478010">,</span>&nbsp;<span class="string" id="6478012">&#34;[::1]:80&#34;</span><span class="op" id="6478022">}</span><span class="op" id="6478023">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478026">{</span><span class="string" id="6478027">&#34;fe80::1%lo0&#34;</span><span class="op" id="6478040">,</span>&nbsp;<span class="string" id="6478042">&#34;80&#34;</span><span class="op" id="6478046">,</span>&nbsp;<span class="string" id="6478048">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="6478066">}</span><span class="op" id="6478067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478070">{</span><span class="string" id="6478071">&#34;localhost%lo0&#34;</span><span class="op" id="6478086">,</span>&nbsp;<span class="string" id="6478088">&#34;80&#34;</span><span class="op" id="6478092">,</span>&nbsp;<span class="string" id="6478094">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="6478114">}</span><span class="op" id="6478115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478118">{</span><span class="string" id="6478119">&#34;&#34;</span><span class="op" id="6478121">,</span>&nbsp;<span class="string" id="6478123">&#34;0&#34;</span><span class="op" id="6478126">,</span>&nbsp;<span class="string" id="6478128">&#34;:0&#34;</span><span class="op" id="6478132">}</span><span class="op" id="6478133">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478137">{</span><span class="string" id="6478138">&#34;google.com&#34;</span><span class="op" id="6478150">,</span>&nbsp;<span class="string" id="6478152">&#34;https%foo&#34;</span><span class="op" id="6478163">,</span>&nbsp;<span class="string" id="6478165">&#34;google.com:https%foo&#34;</span><span class="op" id="6478187">}</span><span class="op" id="6478188">,</span>&nbsp;<span class="comment" id="6478190">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478210">{</span><span class="string" id="6478211">&#34;127.0.0.1&#34;</span><span class="op" id="6478222">,</span>&nbsp;<span class="string" id="6478224">&#34;&#34;</span><span class="op" id="6478226">,</span>&nbsp;<span class="string" id="6478228">&#34;127.0.0.1:&#34;</span><span class="op" id="6478240">}</span><span class="op" id="6478241">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6478263">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478284">{</span><span class="string" id="6478285">&#34;www.google.com&#34;</span><span class="op" id="6478301">,</span>&nbsp;<span class="string" id="6478303">&#34;&#34;</span><span class="op" id="6478305">,</span>&nbsp;<span class="string" id="6478307">&#34;www.google.com:&#34;</span><span class="op" id="6478324">}</span><span class="op" id="6478325">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6478337">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="6478357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6478360">var</span>&nbsp;<span class="ident" id="6478364">splitFailureTests</span>&nbsp;<span class="op" id="6478382">=</span>&nbsp;<span class="op" id="6478384">[</span><span class="op" id="6478385">]</span><span class="keyword" id="6478386">struct</span>&nbsp;<span class="op" id="6478393">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6478396">hostPort</span>&nbsp;<span class="builtintype" id="6478405">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6478413">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6478422">string</span><br>
<span class="lineno"></span><span class="op" id="6478429">}</span><span class="op" id="6478430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478433">{</span><span class="string" id="6478434">&#34;www.google.com&#34;</span><span class="op" id="6478450">,</span>&nbsp;<span class="string" id="6478452">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478477">}</span><span class="op" id="6478478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478481">{</span><span class="string" id="6478482">&#34;127.0.0.1&#34;</span><span class="op" id="6478493">,</span>&nbsp;<span class="string" id="6478495">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478520">}</span><span class="op" id="6478521">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478524">{</span><span class="string" id="6478525">&#34;[::1]&#34;</span><span class="op" id="6478532">,</span>&nbsp;<span class="string" id="6478534">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478559">}</span><span class="op" id="6478560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478563">{</span><span class="string" id="6478564">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="6478579">,</span>&nbsp;<span class="string" id="6478581">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478606">}</span><span class="op" id="6478607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478610">{</span><span class="string" id="6478611">&#34;[localhost%lo0]&#34;</span><span class="op" id="6478628">,</span>&nbsp;<span class="string" id="6478630">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478655">}</span><span class="op" id="6478656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478659">{</span><span class="string" id="6478660">&#34;localhost%lo0&#34;</span><span class="op" id="6478675">,</span>&nbsp;<span class="string" id="6478677">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478702">}</span><span class="op" id="6478703">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478707">{</span><span class="string" id="6478708">&#34;::1&#34;</span><span class="op" id="6478713">,</span>&nbsp;<span class="string" id="6478715">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478743">}</span><span class="op" id="6478744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478747">{</span><span class="string" id="6478748">&#34;fe80::1%lo0&#34;</span><span class="op" id="6478761">,</span>&nbsp;<span class="string" id="6478763">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478791">}</span><span class="op" id="6478792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478795">{</span><span class="string" id="6478796">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="6478812">,</span>&nbsp;<span class="string" id="6478814">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478842">}</span><span class="op" id="6478843">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478847">{</span><span class="string" id="6478848">&#34;localhost%lo0:80&#34;</span><span class="op" id="6478866">,</span>&nbsp;<span class="string" id="6478868">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478897">}</span><span class="op" id="6478898">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6478902">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478945">{</span><span class="string" id="6478946">&#34;[foo:bar]&#34;</span><span class="op" id="6478957">,</span>&nbsp;<span class="string" id="6478959">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6478984">}</span><span class="op" id="6478985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6478988">{</span><span class="string" id="6478989">&#34;[foo:bar]baz&#34;</span><span class="op" id="6479003">,</span>&nbsp;<span class="string" id="6479005">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6479030">}</span><span class="op" id="6479031">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479034">{</span><span class="string" id="6479035">&#34;[foo]bar:baz&#34;</span><span class="op" id="6479049">,</span>&nbsp;<span class="string" id="6479051">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6479076">}</span><span class="op" id="6479077">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479081">{</span><span class="string" id="6479082">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="6479099">,</span>&nbsp;<span class="string" id="6479101">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6479129">}</span><span class="op" id="6479130">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479134">{</span><span class="string" id="6479135">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="6479151">,</span>&nbsp;<span class="string" id="6479153">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6479180">}</span><span class="op" id="6479181">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479184">{</span><span class="string" id="6479185">&#34;foo[bar]:baz&#34;</span><span class="op" id="6479199">,</span>&nbsp;<span class="string" id="6479201">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6479228">}</span><span class="op" id="6479229">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479233">{</span><span class="string" id="6479234">&#34;foo]bar:baz&#34;</span><span class="op" id="6479247">,</span>&nbsp;<span class="string" id="6479249">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6479276">}</span><span class="op" id="6479277">,</span><br>
<span class="lineno"></span><span class="op" id="6479279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6479282">func</span>&nbsp;<span class="ident" id="6479287">TestSplitHostPort</span><span class="op" id="6479304">(</span><span class="ident" id="6479305">t</span>&nbsp;<span class="op" id="6479307">*</span><span class="ident" id="6479308">testing</span><span class="op" id="6479315">.</span><span class="ident" id="6479316">T</span><span class="op" id="6479317">)</span>&nbsp;<span class="op" id="6479319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6479322">for</span>&nbsp;<span class="ident" id="6479326">_</span><span class="op" id="6479327">,</span>&nbsp;<span class="ident" id="6479329">tt</span>&nbsp;<span class="op" id="6479332">:=</span>&nbsp;<span class="keyword" id="6479335">range</span>&nbsp;<span class="ident" id="6479341">splitJoinTests</span>&nbsp;<span class="op" id="6479356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6479360">if</span>&nbsp;<span class="ident" id="6479363">host</span><span class="op" id="6479367">,</span>&nbsp;<span class="ident" id="6479369">port</span><span class="op" id="6479373">,</span>&nbsp;<span class="ident" id="6479375">err</span>&nbsp;<span class="op" id="6479379">:=</span>&nbsp;<span class="ident" id="6479382">SplitHostPort</span><span class="op" id="6479395">(</span><span class="ident" id="6479396">tt</span><span class="op" id="6479398">.</span><span class="ident" id="6479399">join</span><span class="op" id="6479403">)</span><span class="op" id="6479404">;</span>&nbsp;<span class="ident" id="6479406">host</span>&nbsp;<span class="op" id="6479411">!=</span>&nbsp;<span class="ident" id="6479414">tt</span><span class="op" id="6479416">.</span><span class="ident" id="6479417">host</span>&nbsp;<span class="op" id="6479422">||</span>&nbsp;<span class="ident" id="6479425">port</span>&nbsp;<span class="op" id="6479430">!=</span>&nbsp;<span class="ident" id="6479433">tt</span><span class="op" id="6479435">.</span><span class="ident" id="6479436">port</span>&nbsp;<span class="op" id="6479441">||</span>&nbsp;<span class="ident" id="6479444">err</span>&nbsp;<span class="op" id="6479448">!=</span>&nbsp;<span class="builtintype" id="6479451">nil</span>&nbsp;<span class="op" id="6479455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6479460">t</span><span class="op" id="6479461">.</span><span class="ident" id="6479462">Errorf</span><span class="op" id="6479468">(</span><span class="string" id="6479469">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6479519">,</span>&nbsp;<span class="ident" id="6479521">tt</span><span class="op" id="6479523">.</span><span class="ident" id="6479524">join</span><span class="op" id="6479528">,</span>&nbsp;<span class="ident" id="6479530">host</span><span class="op" id="6479534">,</span>&nbsp;<span class="ident" id="6479536">port</span><span class="op" id="6479540">,</span>&nbsp;<span class="ident" id="6479542">err</span><span class="op" id="6479545">,</span>&nbsp;<span class="ident" id="6479547">tt</span><span class="op" id="6479549">.</span><span class="ident" id="6479550">host</span><span class="op" id="6479554">,</span>&nbsp;<span class="ident" id="6479556">tt</span><span class="op" id="6479558">.</span><span class="ident" id="6479559">port</span><span class="op" id="6479563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479567">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6479573">for</span>&nbsp;<span class="ident" id="6479577">_</span><span class="op" id="6479578">,</span>&nbsp;<span class="ident" id="6479580">tt</span>&nbsp;<span class="op" id="6479583">:=</span>&nbsp;<span class="keyword" id="6479586">range</span>&nbsp;<span class="ident" id="6479592">splitFailureTests</span>&nbsp;<span class="op" id="6479610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6479614">if</span>&nbsp;<span class="ident" id="6479617">_</span><span class="op" id="6479618">,</span>&nbsp;<span class="ident" id="6479620">_</span><span class="op" id="6479621">,</span>&nbsp;<span class="ident" id="6479623">err</span>&nbsp;<span class="op" id="6479627">:=</span>&nbsp;<span class="ident" id="6479630">SplitHostPort</span><span class="op" id="6479643">(</span><span class="ident" id="6479644">tt</span><span class="op" id="6479646">.</span><span class="ident" id="6479647">hostPort</span><span class="op" id="6479655">)</span><span class="op" id="6479656">;</span>&nbsp;<span class="ident" id="6479658">err</span>&nbsp;<span class="op" id="6479662">==</span>&nbsp;<span class="builtintype" id="6479665">nil</span>&nbsp;<span class="op" id="6479669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6479674">t</span><span class="op" id="6479675">.</span><span class="ident" id="6479676">Errorf</span><span class="op" id="6479682">(</span><span class="string" id="6479683">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="6479721">,</span>&nbsp;<span class="ident" id="6479723">tt</span><span class="op" id="6479725">.</span><span class="ident" id="6479726">hostPort</span><span class="op" id="6479734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479738">}</span>&nbsp;<span class="keyword" id="6479740">else</span>&nbsp;<span class="op" id="6479745">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6479750">e</span>&nbsp;<span class="op" id="6479752">:=</span>&nbsp;<span class="ident" id="6479755">err</span><span class="op" id="6479758">.</span><span class="op" id="6479759">(</span><span class="op" id="6479760">*</span><span class="ident" id="6479761">AddrError</span><span class="op" id="6479770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6479775">if</span>&nbsp;<span class="ident" id="6479778">e</span><span class="op" id="6479779">.</span><span class="ident" id="6479780">Err</span>&nbsp;<span class="op" id="6479784">!=</span>&nbsp;<span class="ident" id="6479787">tt</span><span class="op" id="6479789">.</span><span class="ident" id="6479790">err</span>&nbsp;<span class="op" id="6479794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6479800">t</span><span class="op" id="6479801">.</span><span class="ident" id="6479802">Errorf</span><span class="op" id="6479808">(</span><span class="string" id="6479809">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6479848">,</span>&nbsp;<span class="ident" id="6479850">tt</span><span class="op" id="6479852">.</span><span class="ident" id="6479853">hostPort</span><span class="op" id="6479861">,</span>&nbsp;<span class="ident" id="6479863">e</span><span class="op" id="6479864">.</span><span class="ident" id="6479865">Err</span><span class="op" id="6479868">,</span>&nbsp;<span class="ident" id="6479870">tt</span><span class="op" id="6479872">.</span><span class="ident" id="6479873">err</span><span class="op" id="6479876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479885">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6479888">}</span><br>
<span class="lineno"></span><span class="op" id="6479890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6479893">func</span>&nbsp;<span class="ident" id="6479898">TestJoinHostPort</span><span class="op" id="6479914">(</span><span class="ident" id="6479915">t</span>&nbsp;<span class="op" id="6479917">*</span><span class="ident" id="6479918">testing</span><span class="op" id="6479925">.</span><span class="ident" id="6479926">T</span><span class="op" id="6479927">)</span>&nbsp;<span class="op" id="6479929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6479932">for</span>&nbsp;<span class="ident" id="6479936">_</span><span class="op" id="6479937">,</span>&nbsp;<span class="ident" id="6479939">tt</span>&nbsp;<span class="op" id="6479942">:=</span>&nbsp;<span class="keyword" id="6479945">range</span>&nbsp;<span class="ident" id="6479951">splitJoinTests</span>&nbsp;<span class="op" id="6479966">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6479970">if</span>&nbsp;<span class="ident" id="6479973">join</span>&nbsp;<span class="op" id="6479978">:=</span>&nbsp;<span class="ident" id="6479981">JoinHostPort</span><span class="op" id="6479993">(</span><span class="ident" id="6479994">tt</span><span class="op" id="6479996">.</span><span class="ident" id="6479997">host</span><span class="op" id="6480001">,</span>&nbsp;<span class="ident" id="6480003">tt</span><span class="op" id="6480005">.</span><span class="ident" id="6480006">port</span><span class="op" id="6480010">)</span><span class="op" id="6480011">;</span>&nbsp;<span class="ident" id="6480013">join</span>&nbsp;<span class="op" id="6480018">!=</span>&nbsp;<span class="ident" id="6480021">tt</span><span class="op" id="6480023">.</span><span class="ident" id="6480024">join</span>&nbsp;<span class="op" id="6480029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6480034">t</span><span class="op" id="6480035">.</span><span class="ident" id="6480036">Errorf</span><span class="op" id="6480042">(</span><span class="string" id="6480043">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6480079">,</span>&nbsp;<span class="ident" id="6480081">tt</span><span class="op" id="6480083">.</span><span class="ident" id="6480084">host</span><span class="op" id="6480088">,</span>&nbsp;<span class="ident" id="6480090">tt</span><span class="op" id="6480092">.</span><span class="ident" id="6480093">port</span><span class="op" id="6480097">,</span>&nbsp;<span class="ident" id="6480099">join</span><span class="op" id="6480103">,</span>&nbsp;<span class="ident" id="6480105">tt</span><span class="op" id="6480107">.</span><span class="ident" id="6480108">join</span><span class="op" id="6480112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480119">}</span><br>
<span class="lineno"></span><span class="op" id="6480121">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6480124">var</span>&nbsp;<span class="ident" id="6480128">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6480146">=</span>&nbsp;<span class="op" id="6480148">[</span><span class="op" id="6480149">]</span><span class="keyword" id="6480150">struct</span>&nbsp;<span class="op" id="6480157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6480160">in</span>&nbsp;&nbsp;<span class="ident" id="6480164">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6480168">af4</span>&nbsp;<span class="builtintype" id="6480172">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6480178">af6</span>&nbsp;<span class="builtintype" id="6480182">bool</span><br>
<span class="lineno">390</span><span class="op" id="6480187">}</span><span class="op" id="6480188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480191">{</span><span class="ident" id="6480192">IPv4bcast</span><span class="op" id="6480201">,</span>&nbsp;<span class="builtintype" id="6480203">true</span><span class="op" id="6480207">,</span>&nbsp;<span class="builtintype" id="6480209">false</span><span class="op" id="6480214">}</span><span class="op" id="6480215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480218">{</span><span class="ident" id="6480219">IPv4allsys</span><span class="op" id="6480229">,</span>&nbsp;<span class="builtintype" id="6480231">true</span><span class="op" id="6480235">,</span>&nbsp;<span class="builtintype" id="6480237">false</span><span class="op" id="6480242">}</span><span class="op" id="6480243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480246">{</span><span class="ident" id="6480247">IPv4allrouter</span><span class="op" id="6480260">,</span>&nbsp;<span class="builtintype" id="6480262">true</span><span class="op" id="6480266">,</span>&nbsp;<span class="builtintype" id="6480268">false</span><span class="op" id="6480273">}</span><span class="op" id="6480274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480277">{</span><span class="ident" id="6480278">IPv4zero</span><span class="op" id="6480286">,</span>&nbsp;<span class="builtintype" id="6480288">true</span><span class="op" id="6480292">,</span>&nbsp;<span class="builtintype" id="6480294">false</span><span class="op" id="6480299">}</span><span class="op" id="6480300">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480303">{</span><span class="ident" id="6480304">IPv4</span><span class="op" id="6480308">(</span><span class="num" id="6480309">224</span><span class="op" id="6480312">,</span>&nbsp;<span class="num" id="6480314">0</span><span class="op" id="6480315">,</span>&nbsp;<span class="num" id="6480317">0</span><span class="op" id="6480318">,</span>&nbsp;<span class="num" id="6480320">1</span><span class="op" id="6480321">)</span><span class="op" id="6480322">,</span>&nbsp;<span class="builtintype" id="6480324">true</span><span class="op" id="6480328">,</span>&nbsp;<span class="builtintype" id="6480330">false</span><span class="op" id="6480335">}</span><span class="op" id="6480336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480339">{</span><span class="ident" id="6480340">IPv4</span><span class="op" id="6480344">(</span><span class="num" id="6480345">127</span><span class="op" id="6480348">,</span>&nbsp;<span class="num" id="6480350">0</span><span class="op" id="6480351">,</span>&nbsp;<span class="num" id="6480353">0</span><span class="op" id="6480354">,</span>&nbsp;<span class="num" id="6480356">1</span><span class="op" id="6480357">)</span><span class="op" id="6480358">,</span>&nbsp;<span class="builtintype" id="6480360">true</span><span class="op" id="6480364">,</span>&nbsp;<span class="builtintype" id="6480366">false</span><span class="op" id="6480371">}</span><span class="op" id="6480372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480375">{</span><span class="ident" id="6480376">IPv4</span><span class="op" id="6480380">(</span><span class="num" id="6480381">240</span><span class="op" id="6480384">,</span>&nbsp;<span class="num" id="6480386">0</span><span class="op" id="6480387">,</span>&nbsp;<span class="num" id="6480389">0</span><span class="op" id="6480390">,</span>&nbsp;<span class="num" id="6480392">1</span><span class="op" id="6480393">)</span><span class="op" id="6480394">,</span>&nbsp;<span class="builtintype" id="6480396">true</span><span class="op" id="6480400">,</span>&nbsp;<span class="builtintype" id="6480402">false</span><span class="op" id="6480407">}</span><span class="op" id="6480408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480411">{</span><span class="ident" id="6480412">IPv6unspecified</span><span class="op" id="6480427">,</span>&nbsp;<span class="builtintype" id="6480429">false</span><span class="op" id="6480434">,</span>&nbsp;<span class="builtintype" id="6480436">true</span><span class="op" id="6480440">}</span><span class="op" id="6480441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480444">{</span><span class="ident" id="6480445">IPv6loopback</span><span class="op" id="6480457">,</span>&nbsp;<span class="builtintype" id="6480459">false</span><span class="op" id="6480464">,</span>&nbsp;<span class="builtintype" id="6480466">true</span><span class="op" id="6480470">}</span><span class="op" id="6480471">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480474">{</span><span class="ident" id="6480475">IPv6interfacelocalallnodes</span><span class="op" id="6480501">,</span>&nbsp;<span class="builtintype" id="6480503">false</span><span class="op" id="6480508">,</span>&nbsp;<span class="builtintype" id="6480510">true</span><span class="op" id="6480514">}</span><span class="op" id="6480515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480518">{</span><span class="ident" id="6480519">IPv6linklocalallnodes</span><span class="op" id="6480540">,</span>&nbsp;<span class="builtintype" id="6480542">false</span><span class="op" id="6480547">,</span>&nbsp;<span class="builtintype" id="6480549">true</span><span class="op" id="6480553">}</span><span class="op" id="6480554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480557">{</span><span class="ident" id="6480558">IPv6linklocalallrouters</span><span class="op" id="6480581">,</span>&nbsp;<span class="builtintype" id="6480583">false</span><span class="op" id="6480588">,</span>&nbsp;<span class="builtintype" id="6480590">true</span><span class="op" id="6480594">}</span><span class="op" id="6480595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480598">{</span><span class="ident" id="6480599">ParseIP</span><span class="op" id="6480606">(</span><span class="string" id="6480607">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="6480622">)</span><span class="op" id="6480623">,</span>&nbsp;<span class="builtintype" id="6480625">false</span><span class="op" id="6480630">,</span>&nbsp;<span class="builtintype" id="6480632">true</span><span class="op" id="6480636">}</span><span class="op" id="6480637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480640">{</span><span class="ident" id="6480641">ParseIP</span><span class="op" id="6480648">(</span><span class="string" id="6480649">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="6480664">)</span><span class="op" id="6480665">,</span>&nbsp;<span class="builtintype" id="6480667">false</span><span class="op" id="6480672">,</span>&nbsp;<span class="builtintype" id="6480674">true</span><span class="op" id="6480678">}</span><span class="op" id="6480679">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480682">{</span><span class="ident" id="6480683">ParseIP</span><span class="op" id="6480690">(</span><span class="string" id="6480691">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6480711">)</span><span class="op" id="6480712">,</span>&nbsp;<span class="builtintype" id="6480714">false</span><span class="op" id="6480719">,</span>&nbsp;<span class="builtintype" id="6480721">true</span><span class="op" id="6480725">}</span><span class="op" id="6480726">,</span><br>
<span class="lineno"></span><span class="op" id="6480728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6480731">func</span>&nbsp;<span class="ident" id="6480736">TestIPAddrFamily</span><span class="op" id="6480752">(</span><span class="ident" id="6480753">t</span>&nbsp;<span class="op" id="6480755">*</span><span class="ident" id="6480756">testing</span><span class="op" id="6480763">.</span><span class="ident" id="6480764">T</span><span class="op" id="6480765">)</span>&nbsp;<span class="op" id="6480767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6480770">for</span>&nbsp;<span class="ident" id="6480774">_</span><span class="op" id="6480775">,</span>&nbsp;<span class="ident" id="6480777">tt</span>&nbsp;<span class="op" id="6480780">:=</span>&nbsp;<span class="keyword" id="6480783">range</span>&nbsp;<span class="ident" id="6480789">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6480807">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6480811">if</span>&nbsp;<span class="ident" id="6480814">af</span>&nbsp;<span class="op" id="6480817">:=</span>&nbsp;<span class="ident" id="6480820">tt</span><span class="op" id="6480822">.</span><span class="ident" id="6480823">in</span><span class="op" id="6480825">.</span><span class="ident" id="6480826">To4</span><span class="op" id="6480829">(</span><span class="op" id="6480830">)</span>&nbsp;<span class="op" id="6480832">!=</span>&nbsp;<span class="builtintype" id="6480835">nil</span><span class="op" id="6480838">;</span>&nbsp;<span class="ident" id="6480840">af</span>&nbsp;<span class="op" id="6480843">!=</span>&nbsp;<span class="ident" id="6480846">tt</span><span class="op" id="6480848">.</span><span class="ident" id="6480849">af4</span>&nbsp;<span class="op" id="6480853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6480858">t</span><span class="op" id="6480859">.</span><span class="ident" id="6480860">Errorf</span><span class="op" id="6480866">(</span><span class="string" id="6480867">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6480919">,</span>&nbsp;<span class="ident" id="6480921">tt</span><span class="op" id="6480923">.</span><span class="ident" id="6480924">in</span><span class="op" id="6480926">,</span>&nbsp;<span class="ident" id="6480928">af</span><span class="op" id="6480930">,</span>&nbsp;<span class="ident" id="6480932">tt</span><span class="op" id="6480934">.</span><span class="ident" id="6480935">af4</span><span class="op" id="6480938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6480942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6480946">if</span>&nbsp;<span class="ident" id="6480949">af</span>&nbsp;<span class="op" id="6480952">:=</span>&nbsp;<span class="builtinfunc" id="6480955">len</span><span class="op" id="6480958">(</span><span class="ident" id="6480959">tt</span><span class="op" id="6480961">.</span><span class="ident" id="6480962">in</span><span class="op" id="6480964">)</span>&nbsp;<span class="op" id="6480966">==</span>&nbsp;<span class="ident" id="6480969">IPv6len</span>&nbsp;<span class="op" id="6480977">&amp;&amp;</span>&nbsp;<span class="ident" id="6480980">tt</span><span class="op" id="6480982">.</span><span class="ident" id="6480983">in</span><span class="op" id="6480985">.</span><span class="ident" id="6480986">To4</span><span class="op" id="6480989">(</span><span class="op" id="6480990">)</span>&nbsp;<span class="op" id="6480992">==</span>&nbsp;<span class="builtintype" id="6480995">nil</span><span class="op" id="6480998">;</span>&nbsp;<span class="ident" id="6481000">af</span>&nbsp;<span class="op" id="6481003">!=</span>&nbsp;<span class="ident" id="6481006">tt</span><span class="op" id="6481008">.</span><span class="ident" id="6481009">af6</span>&nbsp;<span class="op" id="6481013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6481018">t</span><span class="op" id="6481019">.</span><span class="ident" id="6481020">Errorf</span><span class="op" id="6481026">(</span><span class="string" id="6481027">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6481079">,</span>&nbsp;<span class="ident" id="6481081">tt</span><span class="op" id="6481083">.</span><span class="ident" id="6481084">in</span><span class="op" id="6481086">,</span>&nbsp;<span class="ident" id="6481088">af</span><span class="op" id="6481090">,</span>&nbsp;<span class="ident" id="6481092">tt</span><span class="op" id="6481094">.</span><span class="ident" id="6481095">af6</span><span class="op" id="6481098">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481105">}</span><br>
<span class="lineno"></span><span class="op" id="6481107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6481110">var</span>&nbsp;<span class="ident" id="6481114">ipAddrScopeTests</span>&nbsp;<span class="op" id="6481131">=</span>&nbsp;<span class="op" id="6481133">[</span><span class="op" id="6481134">]</span><span class="keyword" id="6481135">struct</span>&nbsp;<span class="op" id="6481142">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6481145">scope</span>&nbsp;<span class="keyword" id="6481151">func</span><span class="op" id="6481155">(</span><span class="ident" id="6481156">IP</span><span class="op" id="6481158">)</span>&nbsp;<span class="builtintype" id="6481160">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6481166">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6481172">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6481176">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6481182">bool</span><br>
<span class="lineno"></span><span class="op" id="6481187">}</span><span class="op" id="6481188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481191">{</span><span class="ident" id="6481192">IP</span><span class="op" id="6481194">.</span><span class="ident" id="6481195">IsUnspecified</span><span class="op" id="6481208">,</span>&nbsp;<span class="ident" id="6481210">IPv4zero</span><span class="op" id="6481218">,</span>&nbsp;<span class="builtintype" id="6481220">true</span><span class="op" id="6481224">}</span><span class="op" id="6481225">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481228">{</span><span class="ident" id="6481229">IP</span><span class="op" id="6481231">.</span><span class="ident" id="6481232">IsUnspecified</span><span class="op" id="6481245">,</span>&nbsp;<span class="ident" id="6481247">IPv4</span><span class="op" id="6481251">(</span><span class="num" id="6481252">127</span><span class="op" id="6481255">,</span>&nbsp;<span class="num" id="6481257">0</span><span class="op" id="6481258">,</span>&nbsp;<span class="num" id="6481260">0</span><span class="op" id="6481261">,</span>&nbsp;<span class="num" id="6481263">1</span><span class="op" id="6481264">)</span><span class="op" id="6481265">,</span>&nbsp;<span class="builtintype" id="6481267">false</span><span class="op" id="6481272">}</span><span class="op" id="6481273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481276">{</span><span class="ident" id="6481277">IP</span><span class="op" id="6481279">.</span><span class="ident" id="6481280">IsUnspecified</span><span class="op" id="6481293">,</span>&nbsp;<span class="ident" id="6481295">IPv6unspecified</span><span class="op" id="6481310">,</span>&nbsp;<span class="builtintype" id="6481312">true</span><span class="op" id="6481316">}</span><span class="op" id="6481317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481320">{</span><span class="ident" id="6481321">IP</span><span class="op" id="6481323">.</span><span class="ident" id="6481324">IsUnspecified</span><span class="op" id="6481337">,</span>&nbsp;<span class="ident" id="6481339">IPv6interfacelocalallnodes</span><span class="op" id="6481365">,</span>&nbsp;<span class="builtintype" id="6481367">false</span><span class="op" id="6481372">}</span><span class="op" id="6481373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481376">{</span><span class="ident" id="6481377">IP</span><span class="op" id="6481379">.</span><span class="ident" id="6481380">IsLoopback</span><span class="op" id="6481390">,</span>&nbsp;<span class="ident" id="6481392">IPv4</span><span class="op" id="6481396">(</span><span class="num" id="6481397">127</span><span class="op" id="6481400">,</span>&nbsp;<span class="num" id="6481402">0</span><span class="op" id="6481403">,</span>&nbsp;<span class="num" id="6481405">0</span><span class="op" id="6481406">,</span>&nbsp;<span class="num" id="6481408">1</span><span class="op" id="6481409">)</span><span class="op" id="6481410">,</span>&nbsp;<span class="builtintype" id="6481412">true</span><span class="op" id="6481416">}</span><span class="op" id="6481417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481420">{</span><span class="ident" id="6481421">IP</span><span class="op" id="6481423">.</span><span class="ident" id="6481424">IsLoopback</span><span class="op" id="6481434">,</span>&nbsp;<span class="ident" id="6481436">IPv4</span><span class="op" id="6481440">(</span><span class="num" id="6481441">127</span><span class="op" id="6481444">,</span>&nbsp;<span class="num" id="6481446">255</span><span class="op" id="6481449">,</span>&nbsp;<span class="num" id="6481451">255</span><span class="op" id="6481454">,</span>&nbsp;<span class="num" id="6481456">254</span><span class="op" id="6481459">)</span><span class="op" id="6481460">,</span>&nbsp;<span class="builtintype" id="6481462">true</span><span class="op" id="6481466">}</span><span class="op" id="6481467">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481470">{</span><span class="ident" id="6481471">IP</span><span class="op" id="6481473">.</span><span class="ident" id="6481474">IsLoopback</span><span class="op" id="6481484">,</span>&nbsp;<span class="ident" id="6481486">IPv4</span><span class="op" id="6481490">(</span><span class="num" id="6481491">128</span><span class="op" id="6481494">,</span>&nbsp;<span class="num" id="6481496">1</span><span class="op" id="6481497">,</span>&nbsp;<span class="num" id="6481499">2</span><span class="op" id="6481500">,</span>&nbsp;<span class="num" id="6481502">3</span><span class="op" id="6481503">)</span><span class="op" id="6481504">,</span>&nbsp;<span class="builtintype" id="6481506">false</span><span class="op" id="6481511">}</span><span class="op" id="6481512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481515">{</span><span class="ident" id="6481516">IP</span><span class="op" id="6481518">.</span><span class="ident" id="6481519">IsLoopback</span><span class="op" id="6481529">,</span>&nbsp;<span class="ident" id="6481531">IPv6loopback</span><span class="op" id="6481543">,</span>&nbsp;<span class="builtintype" id="6481545">true</span><span class="op" id="6481549">}</span><span class="op" id="6481550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481553">{</span><span class="ident" id="6481554">IP</span><span class="op" id="6481556">.</span><span class="ident" id="6481557">IsLoopback</span><span class="op" id="6481567">,</span>&nbsp;<span class="ident" id="6481569">IPv6linklocalallrouters</span><span class="op" id="6481592">,</span>&nbsp;<span class="builtintype" id="6481594">false</span><span class="op" id="6481599">}</span><span class="op" id="6481600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481603">{</span><span class="ident" id="6481604">IP</span><span class="op" id="6481606">.</span><span class="ident" id="6481607">IsMulticast</span><span class="op" id="6481618">,</span>&nbsp;<span class="ident" id="6481620">IPv4</span><span class="op" id="6481624">(</span><span class="num" id="6481625">224</span><span class="op" id="6481628">,</span>&nbsp;<span class="num" id="6481630">0</span><span class="op" id="6481631">,</span>&nbsp;<span class="num" id="6481633">0</span><span class="op" id="6481634">,</span>&nbsp;<span class="num" id="6481636">0</span><span class="op" id="6481637">)</span><span class="op" id="6481638">,</span>&nbsp;<span class="builtintype" id="6481640">true</span><span class="op" id="6481644">}</span><span class="op" id="6481645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481648">{</span><span class="ident" id="6481649">IP</span><span class="op" id="6481651">.</span><span class="ident" id="6481652">IsMulticast</span><span class="op" id="6481663">,</span>&nbsp;<span class="ident" id="6481665">IPv4</span><span class="op" id="6481669">(</span><span class="num" id="6481670">239</span><span class="op" id="6481673">,</span>&nbsp;<span class="num" id="6481675">0</span><span class="op" id="6481676">,</span>&nbsp;<span class="num" id="6481678">0</span><span class="op" id="6481679">,</span>&nbsp;<span class="num" id="6481681">0</span><span class="op" id="6481682">)</span><span class="op" id="6481683">,</span>&nbsp;<span class="builtintype" id="6481685">true</span><span class="op" id="6481689">}</span><span class="op" id="6481690">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481693">{</span><span class="ident" id="6481694">IP</span><span class="op" id="6481696">.</span><span class="ident" id="6481697">IsMulticast</span><span class="op" id="6481708">,</span>&nbsp;<span class="ident" id="6481710">IPv4</span><span class="op" id="6481714">(</span><span class="num" id="6481715">240</span><span class="op" id="6481718">,</span>&nbsp;<span class="num" id="6481720">0</span><span class="op" id="6481721">,</span>&nbsp;<span class="num" id="6481723">0</span><span class="op" id="6481724">,</span>&nbsp;<span class="num" id="6481726">0</span><span class="op" id="6481727">)</span><span class="op" id="6481728">,</span>&nbsp;<span class="builtintype" id="6481730">false</span><span class="op" id="6481735">}</span><span class="op" id="6481736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481739">{</span><span class="ident" id="6481740">IP</span><span class="op" id="6481742">.</span><span class="ident" id="6481743">IsMulticast</span><span class="op" id="6481754">,</span>&nbsp;<span class="ident" id="6481756">IPv6linklocalallnodes</span><span class="op" id="6481777">,</span>&nbsp;<span class="builtintype" id="6481779">true</span><span class="op" id="6481783">}</span><span class="op" id="6481784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481787">{</span><span class="ident" id="6481788">IP</span><span class="op" id="6481790">.</span><span class="ident" id="6481791">IsMulticast</span><span class="op" id="6481802">,</span>&nbsp;<span class="ident" id="6481804">IP</span><span class="op" id="6481806">{</span><span class="num" id="6481807">0xff</span><span class="op" id="6481811">,</span>&nbsp;<span class="num" id="6481813">0x05</span><span class="op" id="6481817">,</span>&nbsp;<span class="num" id="6481819">0</span><span class="op" id="6481820">,</span>&nbsp;<span class="num" id="6481822">0</span><span class="op" id="6481823">,</span>&nbsp;<span class="num" id="6481825">0</span><span class="op" id="6481826">,</span>&nbsp;<span class="num" id="6481828">0</span><span class="op" id="6481829">,</span>&nbsp;<span class="num" id="6481831">0</span><span class="op" id="6481832">,</span>&nbsp;<span class="num" id="6481834">0</span><span class="op" id="6481835">,</span>&nbsp;<span class="num" id="6481837">0</span><span class="op" id="6481838">,</span>&nbsp;<span class="num" id="6481840">0</span><span class="op" id="6481841">,</span>&nbsp;<span class="num" id="6481843">0</span><span class="op" id="6481844">,</span>&nbsp;<span class="num" id="6481846">0</span><span class="op" id="6481847">,</span>&nbsp;<span class="num" id="6481849">0</span><span class="op" id="6481850">,</span>&nbsp;<span class="num" id="6481852">0</span><span class="op" id="6481853">,</span>&nbsp;<span class="num" id="6481855">0</span><span class="op" id="6481856">,</span>&nbsp;<span class="num" id="6481858">0</span><span class="op" id="6481859">}</span><span class="op" id="6481860">,</span>&nbsp;<span class="builtintype" id="6481862">true</span><span class="op" id="6481866">}</span><span class="op" id="6481867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481870">{</span><span class="ident" id="6481871">IP</span><span class="op" id="6481873">.</span><span class="ident" id="6481874">IsMulticast</span><span class="op" id="6481885">,</span>&nbsp;<span class="ident" id="6481887">IP</span><span class="op" id="6481889">{</span><span class="num" id="6481890">0xfe</span><span class="op" id="6481894">,</span>&nbsp;<span class="num" id="6481896">0x80</span><span class="op" id="6481900">,</span>&nbsp;<span class="num" id="6481902">0</span><span class="op" id="6481903">,</span>&nbsp;<span class="num" id="6481905">0</span><span class="op" id="6481906">,</span>&nbsp;<span class="num" id="6481908">0</span><span class="op" id="6481909">,</span>&nbsp;<span class="num" id="6481911">0</span><span class="op" id="6481912">,</span>&nbsp;<span class="num" id="6481914">0</span><span class="op" id="6481915">,</span>&nbsp;<span class="num" id="6481917">0</span><span class="op" id="6481918">,</span>&nbsp;<span class="num" id="6481920">0</span><span class="op" id="6481921">,</span>&nbsp;<span class="num" id="6481923">0</span><span class="op" id="6481924">,</span>&nbsp;<span class="num" id="6481926">0</span><span class="op" id="6481927">,</span>&nbsp;<span class="num" id="6481929">0</span><span class="op" id="6481930">,</span>&nbsp;<span class="num" id="6481932">0</span><span class="op" id="6481933">,</span>&nbsp;<span class="num" id="6481935">0</span><span class="op" id="6481936">,</span>&nbsp;<span class="num" id="6481938">0</span><span class="op" id="6481939">,</span>&nbsp;<span class="num" id="6481941">0</span><span class="op" id="6481942">}</span><span class="op" id="6481943">,</span>&nbsp;<span class="builtintype" id="6481945">false</span><span class="op" id="6481950">}</span><span class="op" id="6481951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6481954">{</span><span class="ident" id="6481955">IP</span><span class="op" id="6481957">.</span><span class="ident" id="6481958">IsLinkLocalMulticast</span><span class="op" id="6481978">,</span>&nbsp;<span class="ident" id="6481980">IPv4</span><span class="op" id="6481984">(</span><span class="num" id="6481985">224</span><span class="op" id="6481988">,</span>&nbsp;<span class="num" id="6481990">0</span><span class="op" id="6481991">,</span>&nbsp;<span class="num" id="6481993">0</span><span class="op" id="6481994">,</span>&nbsp;<span class="num" id="6481996">0</span><span class="op" id="6481997">)</span><span class="op" id="6481998">,</span>&nbsp;<span class="builtintype" id="6482000">true</span><span class="op" id="6482004">}</span><span class="op" id="6482005">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482008">{</span><span class="ident" id="6482009">IP</span><span class="op" id="6482011">.</span><span class="ident" id="6482012">IsLinkLocalMulticast</span><span class="op" id="6482032">,</span>&nbsp;<span class="ident" id="6482034">IPv4</span><span class="op" id="6482038">(</span><span class="num" id="6482039">239</span><span class="op" id="6482042">,</span>&nbsp;<span class="num" id="6482044">0</span><span class="op" id="6482045">,</span>&nbsp;<span class="num" id="6482047">0</span><span class="op" id="6482048">,</span>&nbsp;<span class="num" id="6482050">0</span><span class="op" id="6482051">)</span><span class="op" id="6482052">,</span>&nbsp;<span class="builtintype" id="6482054">false</span><span class="op" id="6482059">}</span><span class="op" id="6482060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482063">{</span><span class="ident" id="6482064">IP</span><span class="op" id="6482066">.</span><span class="ident" id="6482067">IsLinkLocalMulticast</span><span class="op" id="6482087">,</span>&nbsp;<span class="ident" id="6482089">IPv6linklocalallrouters</span><span class="op" id="6482112">,</span>&nbsp;<span class="builtintype" id="6482114">true</span><span class="op" id="6482118">}</span><span class="op" id="6482119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482122">{</span><span class="ident" id="6482123">IP</span><span class="op" id="6482125">.</span><span class="ident" id="6482126">IsLinkLocalMulticast</span><span class="op" id="6482146">,</span>&nbsp;<span class="ident" id="6482148">IP</span><span class="op" id="6482150">{</span><span class="num" id="6482151">0xff</span><span class="op" id="6482155">,</span>&nbsp;<span class="num" id="6482157">0x05</span><span class="op" id="6482161">,</span>&nbsp;<span class="num" id="6482163">0</span><span class="op" id="6482164">,</span>&nbsp;<span class="num" id="6482166">0</span><span class="op" id="6482167">,</span>&nbsp;<span class="num" id="6482169">0</span><span class="op" id="6482170">,</span>&nbsp;<span class="num" id="6482172">0</span><span class="op" id="6482173">,</span>&nbsp;<span class="num" id="6482175">0</span><span class="op" id="6482176">,</span>&nbsp;<span class="num" id="6482178">0</span><span class="op" id="6482179">,</span>&nbsp;<span class="num" id="6482181">0</span><span class="op" id="6482182">,</span>&nbsp;<span class="num" id="6482184">0</span><span class="op" id="6482185">,</span>&nbsp;<span class="num" id="6482187">0</span><span class="op" id="6482188">,</span>&nbsp;<span class="num" id="6482190">0</span><span class="op" id="6482191">,</span>&nbsp;<span class="num" id="6482193">0</span><span class="op" id="6482194">,</span>&nbsp;<span class="num" id="6482196">0</span><span class="op" id="6482197">,</span>&nbsp;<span class="num" id="6482199">0</span><span class="op" id="6482200">,</span>&nbsp;<span class="num" id="6482202">0</span><span class="op" id="6482203">}</span><span class="op" id="6482204">,</span>&nbsp;<span class="builtintype" id="6482206">false</span><span class="op" id="6482211">}</span><span class="op" id="6482212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482215">{</span><span class="ident" id="6482216">IP</span><span class="op" id="6482218">.</span><span class="ident" id="6482219">IsLinkLocalUnicast</span><span class="op" id="6482237">,</span>&nbsp;<span class="ident" id="6482239">IPv4</span><span class="op" id="6482243">(</span><span class="num" id="6482244">169</span><span class="op" id="6482247">,</span>&nbsp;<span class="num" id="6482249">254</span><span class="op" id="6482252">,</span>&nbsp;<span class="num" id="6482254">0</span><span class="op" id="6482255">,</span>&nbsp;<span class="num" id="6482257">0</span><span class="op" id="6482258">)</span><span class="op" id="6482259">,</span>&nbsp;<span class="builtintype" id="6482261">true</span><span class="op" id="6482265">}</span><span class="op" id="6482266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482269">{</span><span class="ident" id="6482270">IP</span><span class="op" id="6482272">.</span><span class="ident" id="6482273">IsLinkLocalUnicast</span><span class="op" id="6482291">,</span>&nbsp;<span class="ident" id="6482293">IPv4</span><span class="op" id="6482297">(</span><span class="num" id="6482298">169</span><span class="op" id="6482301">,</span>&nbsp;<span class="num" id="6482303">255</span><span class="op" id="6482306">,</span>&nbsp;<span class="num" id="6482308">0</span><span class="op" id="6482309">,</span>&nbsp;<span class="num" id="6482311">0</span><span class="op" id="6482312">)</span><span class="op" id="6482313">,</span>&nbsp;<span class="builtintype" id="6482315">false</span><span class="op" id="6482320">}</span><span class="op" id="6482321">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482324">{</span><span class="ident" id="6482325">IP</span><span class="op" id="6482327">.</span><span class="ident" id="6482328">IsLinkLocalUnicast</span><span class="op" id="6482346">,</span>&nbsp;<span class="ident" id="6482348">IP</span><span class="op" id="6482350">{</span><span class="num" id="6482351">0xfe</span><span class="op" id="6482355">,</span>&nbsp;<span class="num" id="6482357">0x80</span><span class="op" id="6482361">,</span>&nbsp;<span class="num" id="6482363">0</span><span class="op" id="6482364">,</span>&nbsp;<span class="num" id="6482366">0</span><span class="op" id="6482367">,</span>&nbsp;<span class="num" id="6482369">0</span><span class="op" id="6482370">,</span>&nbsp;<span class="num" id="6482372">0</span><span class="op" id="6482373">,</span>&nbsp;<span class="num" id="6482375">0</span><span class="op" id="6482376">,</span>&nbsp;<span class="num" id="6482378">0</span><span class="op" id="6482379">,</span>&nbsp;<span class="num" id="6482381">0</span><span class="op" id="6482382">,</span>&nbsp;<span class="num" id="6482384">0</span><span class="op" id="6482385">,</span>&nbsp;<span class="num" id="6482387">0</span><span class="op" id="6482388">,</span>&nbsp;<span class="num" id="6482390">0</span><span class="op" id="6482391">,</span>&nbsp;<span class="num" id="6482393">0</span><span class="op" id="6482394">,</span>&nbsp;<span class="num" id="6482396">0</span><span class="op" id="6482397">,</span>&nbsp;<span class="num" id="6482399">0</span><span class="op" id="6482400">,</span>&nbsp;<span class="num" id="6482402">0</span><span class="op" id="6482403">}</span><span class="op" id="6482404">,</span>&nbsp;<span class="builtintype" id="6482406">true</span><span class="op" id="6482410">}</span><span class="op" id="6482411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482414">{</span><span class="ident" id="6482415">IP</span><span class="op" id="6482417">.</span><span class="ident" id="6482418">IsLinkLocalUnicast</span><span class="op" id="6482436">,</span>&nbsp;<span class="ident" id="6482438">IP</span><span class="op" id="6482440">{</span><span class="num" id="6482441">0xfe</span><span class="op" id="6482445">,</span>&nbsp;<span class="num" id="6482447">0xc0</span><span class="op" id="6482451">,</span>&nbsp;<span class="num" id="6482453">0</span><span class="op" id="6482454">,</span>&nbsp;<span class="num" id="6482456">0</span><span class="op" id="6482457">,</span>&nbsp;<span class="num" id="6482459">0</span><span class="op" id="6482460">,</span>&nbsp;<span class="num" id="6482462">0</span><span class="op" id="6482463">,</span>&nbsp;<span class="num" id="6482465">0</span><span class="op" id="6482466">,</span>&nbsp;<span class="num" id="6482468">0</span><span class="op" id="6482469">,</span>&nbsp;<span class="num" id="6482471">0</span><span class="op" id="6482472">,</span>&nbsp;<span class="num" id="6482474">0</span><span class="op" id="6482475">,</span>&nbsp;<span class="num" id="6482477">0</span><span class="op" id="6482478">,</span>&nbsp;<span class="num" id="6482480">0</span><span class="op" id="6482481">,</span>&nbsp;<span class="num" id="6482483">0</span><span class="op" id="6482484">,</span>&nbsp;<span class="num" id="6482486">0</span><span class="op" id="6482487">,</span>&nbsp;<span class="num" id="6482489">0</span><span class="op" id="6482490">,</span>&nbsp;<span class="num" id="6482492">0</span><span class="op" id="6482493">}</span><span class="op" id="6482494">,</span>&nbsp;<span class="builtintype" id="6482496">false</span><span class="op" id="6482501">}</span><span class="op" id="6482502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482505">{</span><span class="ident" id="6482506">IP</span><span class="op" id="6482508">.</span><span class="ident" id="6482509">IsGlobalUnicast</span><span class="op" id="6482524">,</span>&nbsp;<span class="ident" id="6482526">IPv4</span><span class="op" id="6482530">(</span><span class="num" id="6482531">240</span><span class="op" id="6482534">,</span>&nbsp;<span class="num" id="6482536">0</span><span class="op" id="6482537">,</span>&nbsp;<span class="num" id="6482539">0</span><span class="op" id="6482540">,</span>&nbsp;<span class="num" id="6482542">0</span><span class="op" id="6482543">)</span><span class="op" id="6482544">,</span>&nbsp;<span class="builtintype" id="6482546">true</span><span class="op" id="6482550">}</span><span class="op" id="6482551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482554">{</span><span class="ident" id="6482555">IP</span><span class="op" id="6482557">.</span><span class="ident" id="6482558">IsGlobalUnicast</span><span class="op" id="6482573">,</span>&nbsp;<span class="ident" id="6482575">IPv4</span><span class="op" id="6482579">(</span><span class="num" id="6482580">232</span><span class="op" id="6482583">,</span>&nbsp;<span class="num" id="6482585">0</span><span class="op" id="6482586">,</span>&nbsp;<span class="num" id="6482588">0</span><span class="op" id="6482589">,</span>&nbsp;<span class="num" id="6482591">0</span><span class="op" id="6482592">)</span><span class="op" id="6482593">,</span>&nbsp;<span class="builtintype" id="6482595">false</span><span class="op" id="6482600">}</span><span class="op" id="6482601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482604">{</span><span class="ident" id="6482605">IP</span><span class="op" id="6482607">.</span><span class="ident" id="6482608">IsGlobalUnicast</span><span class="op" id="6482623">,</span>&nbsp;<span class="ident" id="6482625">IPv4</span><span class="op" id="6482629">(</span><span class="num" id="6482630">169</span><span class="op" id="6482633">,</span>&nbsp;<span class="num" id="6482635">254</span><span class="op" id="6482638">,</span>&nbsp;<span class="num" id="6482640">0</span><span class="op" id="6482641">,</span>&nbsp;<span class="num" id="6482643">0</span><span class="op" id="6482644">)</span><span class="op" id="6482645">,</span>&nbsp;<span class="builtintype" id="6482647">false</span><span class="op" id="6482652">}</span><span class="op" id="6482653">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482656">{</span><span class="ident" id="6482657">IP</span><span class="op" id="6482659">.</span><span class="ident" id="6482660">IsGlobalUnicast</span><span class="op" id="6482675">,</span>&nbsp;<span class="ident" id="6482677">IP</span><span class="op" id="6482679">{</span><span class="num" id="6482680">0x20</span><span class="op" id="6482684">,</span>&nbsp;<span class="num" id="6482686">0x1</span><span class="op" id="6482689">,</span>&nbsp;<span class="num" id="6482691">0xd</span><span class="op" id="6482694">,</span>&nbsp;<span class="num" id="6482696">0xb8</span><span class="op" id="6482700">,</span>&nbsp;<span class="num" id="6482702">0</span><span class="op" id="6482703">,</span>&nbsp;<span class="num" id="6482705">0</span><span class="op" id="6482706">,</span>&nbsp;<span class="num" id="6482708">0</span><span class="op" id="6482709">,</span>&nbsp;<span class="num" id="6482711">0</span><span class="op" id="6482712">,</span>&nbsp;<span class="num" id="6482714">0</span><span class="op" id="6482715">,</span>&nbsp;<span class="num" id="6482717">0</span><span class="op" id="6482718">,</span>&nbsp;<span class="num" id="6482720">0x1</span><span class="op" id="6482723">,</span>&nbsp;<span class="num" id="6482725">0x23</span><span class="op" id="6482729">,</span>&nbsp;<span class="num" id="6482731">0</span><span class="op" id="6482732">,</span>&nbsp;<span class="num" id="6482734">0x12</span><span class="op" id="6482738">,</span>&nbsp;<span class="num" id="6482740">0</span><span class="op" id="6482741">,</span>&nbsp;<span class="num" id="6482743">0x1</span><span class="op" id="6482746">}</span><span class="op" id="6482747">,</span>&nbsp;<span class="builtintype" id="6482749">true</span><span class="op" id="6482753">}</span><span class="op" id="6482754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482757">{</span><span class="ident" id="6482758">IP</span><span class="op" id="6482760">.</span><span class="ident" id="6482761">IsGlobalUnicast</span><span class="op" id="6482776">,</span>&nbsp;<span class="ident" id="6482778">IP</span><span class="op" id="6482780">{</span><span class="num" id="6482781">0xfe</span><span class="op" id="6482785">,</span>&nbsp;<span class="num" id="6482787">0x80</span><span class="op" id="6482791">,</span>&nbsp;<span class="num" id="6482793">0</span><span class="op" id="6482794">,</span>&nbsp;<span class="num" id="6482796">0</span><span class="op" id="6482797">,</span>&nbsp;<span class="num" id="6482799">0</span><span class="op" id="6482800">,</span>&nbsp;<span class="num" id="6482802">0</span><span class="op" id="6482803">,</span>&nbsp;<span class="num" id="6482805">0</span><span class="op" id="6482806">,</span>&nbsp;<span class="num" id="6482808">0</span><span class="op" id="6482809">,</span>&nbsp;<span class="num" id="6482811">0</span><span class="op" id="6482812">,</span>&nbsp;<span class="num" id="6482814">0</span><span class="op" id="6482815">,</span>&nbsp;<span class="num" id="6482817">0</span><span class="op" id="6482818">,</span>&nbsp;<span class="num" id="6482820">0</span><span class="op" id="6482821">,</span>&nbsp;<span class="num" id="6482823">0</span><span class="op" id="6482824">,</span>&nbsp;<span class="num" id="6482826">0</span><span class="op" id="6482827">,</span>&nbsp;<span class="num" id="6482829">0</span><span class="op" id="6482830">,</span>&nbsp;<span class="num" id="6482832">0</span><span class="op" id="6482833">}</span><span class="op" id="6482834">,</span>&nbsp;<span class="builtintype" id="6482836">false</span><span class="op" id="6482841">}</span><span class="op" id="6482842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482845">{</span><span class="ident" id="6482846">IP</span><span class="op" id="6482848">.</span><span class="ident" id="6482849">IsGlobalUnicast</span><span class="op" id="6482864">,</span>&nbsp;<span class="ident" id="6482866">IP</span><span class="op" id="6482868">{</span><span class="num" id="6482869">0xff</span><span class="op" id="6482873">,</span>&nbsp;<span class="num" id="6482875">0x05</span><span class="op" id="6482879">,</span>&nbsp;<span class="num" id="6482881">0</span><span class="op" id="6482882">,</span>&nbsp;<span class="num" id="6482884">0</span><span class="op" id="6482885">,</span>&nbsp;<span class="num" id="6482887">0</span><span class="op" id="6482888">,</span>&nbsp;<span class="num" id="6482890">0</span><span class="op" id="6482891">,</span>&nbsp;<span class="num" id="6482893">0</span><span class="op" id="6482894">,</span>&nbsp;<span class="num" id="6482896">0</span><span class="op" id="6482897">,</span>&nbsp;<span class="num" id="6482899">0</span><span class="op" id="6482900">,</span>&nbsp;<span class="num" id="6482902">0</span><span class="op" id="6482903">,</span>&nbsp;<span class="num" id="6482905">0</span><span class="op" id="6482906">,</span>&nbsp;<span class="num" id="6482908">0</span><span class="op" id="6482909">,</span>&nbsp;<span class="num" id="6482911">0</span><span class="op" id="6482912">,</span>&nbsp;<span class="num" id="6482914">0</span><span class="op" id="6482915">,</span>&nbsp;<span class="num" id="6482917">0</span><span class="op" id="6482918">,</span>&nbsp;<span class="num" id="6482920">0</span><span class="op" id="6482921">}</span><span class="op" id="6482922">,</span>&nbsp;<span class="builtintype" id="6482924">false</span><span class="op" id="6482929">}</span><span class="op" id="6482930">,</span><br>
<span class="lineno"></span><span class="op" id="6482932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6482935">func</span>&nbsp;<span class="ident" id="6482940">name</span><span class="op" id="6482944">(</span><span class="ident" id="6482945">f</span>&nbsp;<span class="keyword" id="6482947">interface</span><span class="op" id="6482956">{</span><span class="op" id="6482957">}</span><span class="op" id="6482958">)</span>&nbsp;<span class="builtintype" id="6482960">string</span>&nbsp;<span class="op" id="6482967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6482970">return</span>&nbsp;<span class="ident" id="6482977">runtime</span><span class="op" id="6482984">.</span><span class="ident" id="6482985">FuncForPC</span><span class="op" id="6482994">(</span><span class="ident" id="6482995">reflect</span><span class="op" id="6483002">.</span><span class="ident" id="6483003">ValueOf</span><span class="op" id="6483010">(</span><span class="ident" id="6483011">f</span><span class="op" id="6483012">)</span><span class="op" id="6483013">.</span><span class="ident" id="6483014">Pointer</span><span class="op" id="6483021">(</span><span class="op" id="6483022">)</span><span class="op" id="6483023">)</span><span class="op" id="6483024">.</span><span class="ident" id="6483025">Name</span><span class="op" id="6483029">(</span><span class="op" id="6483030">)</span><br>
<span class="lineno"></span><span class="op" id="6483032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6483035">func</span>&nbsp;<span class="ident" id="6483040">TestIPAddrScope</span><span class="op" id="6483055">(</span><span class="ident" id="6483056">t</span>&nbsp;<span class="op" id="6483058">*</span><span class="ident" id="6483059">testing</span><span class="op" id="6483066">.</span><span class="ident" id="6483067">T</span><span class="op" id="6483068">)</span>&nbsp;<span class="op" id="6483070">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483073">for</span>&nbsp;<span class="ident" id="6483077">_</span><span class="op" id="6483078">,</span>&nbsp;<span class="ident" id="6483080">tt</span>&nbsp;<span class="op" id="6483083">:=</span>&nbsp;<span class="keyword" id="6483086">range</span>&nbsp;<span class="ident" id="6483092">ipAddrScopeTests</span>&nbsp;<span class="op" id="6483109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483113">if</span>&nbsp;<span class="ident" id="6483116">ok</span>&nbsp;<span class="op" id="6483119">:=</span>&nbsp;<span class="ident" id="6483122">tt</span><span class="op" id="6483124">.</span><span class="ident" id="6483125">scope</span><span class="op" id="6483130">(</span><span class="ident" id="6483131">tt</span><span class="op" id="6483133">.</span><span class="ident" id="6483134">in</span><span class="op" id="6483136">)</span><span class="op" id="6483137">;</span>&nbsp;<span class="ident" id="6483139">ok</span>&nbsp;<span class="op" id="6483142">!=</span>&nbsp;<span class="ident" id="6483145">tt</span><span class="op" id="6483147">.</span><span class="ident" id="6483148">ok</span>&nbsp;<span class="op" id="6483151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483156">t</span><span class="op" id="6483157">.</span><span class="ident" id="6483158">Errorf</span><span class="op" id="6483164">(</span><span class="string" id="6483165">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6483187">,</span>&nbsp;<span class="ident" id="6483189">name</span><span class="op" id="6483193">(</span><span class="ident" id="6483194">tt</span><span class="op" id="6483196">.</span><span class="ident" id="6483197">scope</span><span class="op" id="6483202">)</span><span class="op" id="6483203">,</span>&nbsp;<span class="ident" id="6483205">tt</span><span class="op" id="6483207">.</span><span class="ident" id="6483208">in</span><span class="op" id="6483210">,</span>&nbsp;<span class="ident" id="6483212">ok</span><span class="op" id="6483214">,</span>&nbsp;<span class="ident" id="6483216">tt</span><span class="op" id="6483218">.</span><span class="ident" id="6483219">ok</span><span class="op" id="6483221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483228">}</span><br>
<span class="lineno">465</span><span class="op" id="6483230">}</span>
</div>
</body>
</html>
